var LA=Object.defineProperty;var $A=(e,n,r)=>n in e?LA(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r;var Te=(e,n,r)=>($A(e,typeof n!="symbol"?n+"":n,r),r);import{d as Ef,r as x,j as t,e as FA,u as WA,i as Ke,S as uv,A as dt,B as C,L as fr,f as rr,h as en,k as Ht,D as Lt,T as j,l as wn,c as gi,s as Me,m as ot,n as BA,o as tt,I as es,p as Le,q as rl,C as VA,t as fs,U as Af,v as Rf,N as Ho,w as UA,R as Dt,x as ln,y as zA,z as sl,E as Go,F as he,G as bn,H as cd,J as zs,M as bo,K as we,O as hv,Q as HA,V as GA,W as Je,X as Gh,Y as YA,Z as fv,_ as _f,$ as mo,a0 as Gs,a1 as _a,a2 as kf,a3 as ka,a4 as cs,a5 as wc,a6 as Tt,a7 as dd,a8 as qA,a9 as KA,aa as XA,ab as F,ac as Fe,ad as Be,ae as ge,af as fe,ag as JA,ah as QA,ai as ZA,aj as eR,ak as tR,al as nR,am as rR,an as sR,ao as Yh,ap as Oa,aq as pv,ar as Sc,as as Cc,at as Pc,au as Of,av as Ic,aw as Ys,ax as jt,ay as Ts,az as oR,aA as qt,aB as tn,aC as Kt,aD as Xt,aE as ce,aF as yo,aG as nr,aH as ps,aI as Is,aJ as mv,aK as Dc,aL as xv,aM as qh,aN as aR,aO as Mf,aP as iR,aQ as Hs,aR as lR,aS as cR,aT as dR,aU as uR,aV as gv,aW as ht,aX as hR,aY as fR,aZ as Ma,a_ as Xb,a$ as pR,b0 as mR,b1 as ud,b2 as xo,b3 as bv,b4 as xR,b5 as gR,b6 as St,b7 as mt,b8 as bR,b9 as uh,ba as yR,bb as vR,bc as Tc,bd as jR,be as wR,bf as yv,bg as SR,bh as qa,bi as CR,bj as U,bk as PR,bl as IR,bm as DR,P as ne,b as TR,a as nn,bn as at,bo as Gt,bp as vo,bq as Es,br as vv,bs as ER,bt as jv,bu as Ks,bv as wv,bw as AR,bx as Sv,by as hd,bz as RR,bA as _R,bB as kR,bC as OR,bD as Jb,bE as MR,bF as NR,bG as Ec,bH as Cv,bI as Nf,bJ as Lf,bK as $f,bL as uo,bM as yt,bN as Ac,bO as Ff,bP as LR,bQ as $R,bR as FR,bS as WR,bT as BR,bU as VR,bV as UR,bW as Pv,bX as zR,bY as HR,bZ as GR}from"./vendor-mui-COQdHzF0.js";import{o as YR,s as qR,a as KR,c as XR,b as JR,r as Rc,_ as _c,C as kc,d as Wf,E as Iv,F as QR,e as Bf,g as Vf,f as ZR,v as e_,i as t_,h as n_,j as hh,k as r_,l as s_,G as o_,T as a_,m as i_,O as l_}from"./vendor-firebase-DMTI5dsU.js";import{u as Qo,L as Kn,a as Ct,O as Uf,N as Qb,b as Dv,c as ns,R as c_,d as qe,B as d_}from"./vendor-core-BK3496kz.js";import{T as u_,v as h_,G as f_,f as p_,m as m_,d as x_,s as g_,a as b_,P as y_,I as v_,F as j_,i as w_,n as S_}from"./vendor-editor-D13Gvn5f.js";import{i as C_,R as _i,L as Tv,C as Oc,X as Mc,Y as Nc,T as ki,a as Lc,b as Pa,P as P_,c as I_,d as D_,B as Ev,e as $c}from"./vendor-charts-BXZysh_y.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();var Kh={},Zb=Ef;Kh.createRoot=Zb.createRoot,Kh.hydrateRoot=Zb.hydrateRoot;const Ge={HOME:"/",APP:"/app",STUDIO:"/studio",AUTH:"/auth",ADMIN:"/admin"},Rn={ROOT:"news",SUBPATHS:{TRENDING:"trending",MY_FEED:"feed",DISCOVER:"discover"},CREATE:"create",EDIT:"edit",VIEW:":id"},vr={ROOT:"channels",CREATE:"create",EDIT:"edit",VIEW:":id"},hr={ROOT:"polls",CREATE:"create",EDIT:"edit",VIEW:":id"},co={ROOT:"account",PROFILE:"profile",PAYMENT_METHODS:"payment-methods",SUBSCRIPTIONS:"subscriptions"},jr={ROOT:"expense-orders",CREATE:"create",EDIT:"edit",VIEW:":id"},Fc={ROOT:"search"},kt={ROOT:"admin",DASHBOARD:"dashboard",USERS:"users",CHANNELS:"channels",NEWS:"news",POLLS:"polls",EXPENSE_ORDERS:"expense-orders",PAYOUTS:"payouts",TAGS:"tags",SUBSCRIPTIONS:"subscriptions",ANALYTICS:"analytics",SETTINGS:"settings"},Ia={ROOT:"subscriptions",MANAGEMENT:"management",ANALYTICS:"analytics",REVENUE:"revenue"},oc={ROOT:"users",LIST:"list",VIEW:":id",EDIT:":id/edit",ROLES:"roles"},ac={ROOT:"channels",LIST:"list",VIEW:":id",EDIT:":id/edit",ANALYTICS:"analytics"},Ye="/journalist-material-client/".replace(/\/$/,""),ye={HOME:`${Ye}${Ge.HOME}`,LOGIN:`${Ye}${Ge.AUTH}/login`,SIGNUP:`${Ye}${Ge.AUTH}/signup`,POST_SIGNUP:`${Ye}${Ge.AUTH}/welcome`,APP_ROOT:`${Ye}${Ge.APP}`,APP_NEWS:`${Ye}${Ge.APP}/${Rn.ROOT}`,APP_NEWS_TRENDING:`${Ye}${Ge.APP}/${Rn.ROOT}/trending`,APP_NEWS_MY_FEED:`${Ye}${Ge.APP}/${Rn.ROOT}/feed`,APP_NEWS_DISCOVER:`${Ye}${Ge.APP}/${Rn.ROOT}/discover`,APP_NEWS_VIEW:`${Ye}${Ge.APP}/${Rn.ROOT}/:id`,APP_CHANNELS:`${Ye}${Ge.APP}/${vr.ROOT}`,APP_CHANNEL_VIEW:`${Ye}${Ge.APP}/${vr.ROOT}/:channelId`,APP_POLL_LIST:`${Ye}${Ge.APP}/${hr.ROOT}`,APP_POLL_VIEW:`${Ye}${Ge.APP}/${hr.ROOT}/:id`,APP_EXPLORE:`${Ye}${Ge.APP}/explore`,APP_SUBSCRIPTIONS:`${Ye}${Ge.APP}/subscriptions`,APP_POLLS:`${Ye}${Ge.APP}/${hr.ROOT}`,APP_SEARCH:`${Ye}${Ge.APP}/${Fc.ROOT}`,APP_ACCOUNT:`${Ye}${Ge.APP}/${co.ROOT}`,APP_ACCOUNT_PROFILE:`${Ye}${Ge.APP}/${co.ROOT}/${co.PROFILE}`,APP_ACCOUNT_PAYMENT_METHODS:`${Ye}${Ge.APP}/${co.ROOT}/${co.PAYMENT_METHODS}`,APP_ACCOUNT_SUBSCRIPTIONS:`${Ye}${Ge.APP}/${co.ROOT}/${co.SUBSCRIPTIONS}`,APP_EXPENSE_ORDERS:`${Ye}${Ge.APP}/${jr.ROOT}`,APP_EXPENSE_ORDER_VIEW:`${Ye}${Ge.APP}/${jr.ROOT}/:id`,STUDIO_ROOT:`${Ye}${Ge.STUDIO}`,STUDIO_NEWS:`${Ye}${Ge.STUDIO}/${Rn.ROOT}`,STUDIO_NEWS_CREATE:`${Ye}${Ge.STUDIO}/${Rn.ROOT}/${Rn.CREATE}`,STUDIO_NEWS_EDIT:`${Ye}${Ge.STUDIO}/${Rn.ROOT}/${Rn.EDIT}/:id`,STUDIO_NEWS_VIEW:`${Ye}${Ge.STUDIO}/${Rn.ROOT}/:id`,STUDIO_CHANNELS:`${Ye}${Ge.STUDIO}/${vr.ROOT}`,STUDIO_CHANNEL_CREATE:`${Ye}${Ge.STUDIO}/${vr.ROOT}/${vr.CREATE}`,STUDIO_CHANNEL_EDIT:`${Ye}${Ge.STUDIO}/${vr.ROOT}/${vr.EDIT}/:channelId`,STUDIO_CHANNEL_VIEW:`${Ye}${Ge.STUDIO}/${vr.ROOT}/:channelId`,STUDIO_POLLS:`${Ye}${Ge.STUDIO}/${hr.ROOT}`,STUDIO_POLL_CREATE:`${Ye}${Ge.STUDIO}/${hr.ROOT}/${hr.CREATE}`,STUDIO_POLL_EDIT:`${Ye}${Ge.STUDIO}/${hr.ROOT}/${hr.EDIT}/:id`,STUDIO_POLL_VIEW:`${Ye}${Ge.STUDIO}/${hr.ROOT}/:id`,STUDIO_SEARCH:`${Ye}${Ge.STUDIO}/${Fc.ROOT}`,STUDIO_EXPENSE_ORDERS:`${Ye}${Ge.STUDIO}/${jr.ROOT}`,STUDIO_EXPENSE_ORDER_CREATE:`${Ye}${Ge.STUDIO}/${jr.ROOT}/${jr.CREATE}`,STUDIO_EXPENSE_ORDER_EDIT:`${Ye}${Ge.STUDIO}/${jr.ROOT}/${jr.EDIT}/:id`,STUDIO_EXPENSE_ORDER_VIEW:`${Ye}${Ge.STUDIO}/${jr.ROOT}/:id`,ADMIN_ROOT:`${Ye}${Ge.ADMIN}`,ADMIN_DASHBOARD:`${Ye}${Ge.ADMIN}/${kt.DASHBOARD}`,ADMIN_USERS:`${Ye}${Ge.ADMIN}/${kt.USERS}`,ADMIN_USER_LIST:`${Ye}${Ge.ADMIN}/${kt.USERS}/${oc.LIST}`,ADMIN_USER_VIEW:`${Ye}${Ge.ADMIN}/${kt.USERS}/${oc.VIEW}`,ADMIN_USER_EDIT:`${Ye}${Ge.ADMIN}/${kt.USERS}/${oc.EDIT}`,ADMIN_USER_ROLES:`${Ye}${Ge.ADMIN}/${kt.USERS}/${oc.ROLES}`,ADMIN_CHANNELS:`${Ye}${Ge.ADMIN}/${kt.CHANNELS}`,ADMIN_CHANNEL_LIST:`${Ye}${Ge.ADMIN}/${kt.CHANNELS}/${ac.LIST}`,ADMIN_CHANNEL_VIEW:`${Ye}${Ge.ADMIN}/${kt.CHANNELS}/${ac.VIEW}`,ADMIN_CHANNEL_EDIT:`${Ye}${Ge.ADMIN}/${kt.CHANNELS}/${ac.EDIT}`,ADMIN_CHANNEL_ANALYTICS:`${Ye}${Ge.ADMIN}/${kt.CHANNELS}/${ac.ANALYTICS}`,ADMIN_NEWS:`${Ye}${Ge.ADMIN}/${kt.NEWS}`,ADMIN_POLLS:`${Ye}${Ge.ADMIN}/${kt.POLLS}`,ADMIN_EXPENSE_ORDERS:`${Ye}${Ge.ADMIN}/${kt.EXPENSE_ORDERS}`,ADMIN_PAYOUTS:`${Ye}${Ge.ADMIN}/${kt.PAYOUTS}`,ADMIN_TAGS:`${Ye}${Ge.ADMIN}/${kt.TAGS}`,ADMIN_SUBSCRIPTIONS:`${Ye}${Ge.ADMIN}/${kt.SUBSCRIPTIONS}`,ADMIN_SUBSCRIPTION_MANAGEMENT:`${Ye}${Ge.ADMIN}/${kt.SUBSCRIPTIONS}/${Ia.MANAGEMENT}`,ADMIN_SUBSCRIPTION_ANALYTICS:`${Ye}${Ge.ADMIN}/${kt.SUBSCRIPTIONS}/${Ia.ANALYTICS}`,ADMIN_SUBSCRIPTION_REVENUE:`${Ye}${Ge.ADMIN}/${kt.SUBSCRIPTIONS}/${Ia.REVENUE}`,ADMIN_ANALYTICS:`${Ye}${Ge.ADMIN}/${kt.ANALYTICS}`,ADMIN_SETTINGS:`${Ye}${Ge.ADMIN}/${kt.SETTINGS}`};function Av(e,n){return function(){return e.apply(n,arguments)}}const{toString:T_}=Object.prototype,{getPrototypeOf:zf}=Object,fd=(e=>n=>{const r=T_.call(n);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ms=e=>(e=e.toLowerCase(),n=>fd(n)===e),pd=e=>n=>typeof n===e,{isArray:Ka}=Array,Fi=pd("undefined");function E_(e){return e!==null&&!Fi(e)&&e.constructor!==null&&!Fi(e.constructor)&&Qr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Rv=ms("ArrayBuffer");function A_(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&Rv(e.buffer),n}const R_=pd("string"),Qr=pd("function"),_v=pd("number"),md=e=>e!==null&&typeof e=="object",__=e=>e===!0||e===!1,gc=e=>{if(fd(e)!=="object")return!1;const n=zf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},k_=ms("Date"),O_=ms("File"),M_=ms("Blob"),N_=ms("FileList"),L_=e=>md(e)&&Qr(e.pipe),$_=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||Qr(e.append)&&((n=fd(e))==="formdata"||n==="object"&&Qr(e.toString)&&e.toString()==="[object FormData]"))},F_=ms("URLSearchParams"),[W_,B_,V_,U_]=["ReadableStream","Request","Response","Headers"].map(ms),z_=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ol(e,n,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,o;if(typeof e!="object"&&(e=[e]),Ka(e))for(s=0,o=e.length;s<o;s++)n.call(null,e[s],s,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let d;for(s=0;s<l;s++)d=i[s],n.call(null,e[d],d,e)}}function kv(e,n){n=n.toLowerCase();const r=Object.keys(e);let s=r.length,o;for(;s-- >0;)if(o=r[s],n===o.toLowerCase())return o;return null}const Ov=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Mv=e=>!Fi(e)&&e!==Ov;function Xh(){const{caseless:e}=Mv(this)&&this||{},n={},r=(s,o)=>{const i=e&&kv(n,o)||o;gc(n[i])&&gc(s)?n[i]=Xh(n[i],s):gc(s)?n[i]=Xh({},s):Ka(s)?n[i]=s.slice():n[i]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&ol(arguments[s],r);return n}const H_=(e,n,r,{allOwnKeys:s}={})=>(ol(n,(o,i)=>{r&&Qr(o)?e[i]=Av(o,r):e[i]=o},{allOwnKeys:s}),e),G_=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Y_=(e,n,r,s)=>{e.prototype=Object.create(n.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),r&&Object.assign(e.prototype,r)},q_=(e,n,r,s)=>{let o,i,l;const d={};if(n=n||{},e==null)return n;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)l=o[i],(!s||s(l,e,n))&&!d[l]&&(n[l]=e[l],d[l]=!0);e=r!==!1&&zf(e)}while(e&&(!r||r(e,n))&&e!==Object.prototype);return n},K_=(e,n,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=n.length;const s=e.indexOf(n,r);return s!==-1&&s===r},X_=e=>{if(!e)return null;if(Ka(e))return e;let n=e.length;if(!_v(n))return null;const r=new Array(n);for(;n-- >0;)r[n]=e[n];return r},J_=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&zf(Uint8Array)),Q_=(e,n)=>{const s=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=s.next())&&!o.done;){const i=o.value;n.call(e,i[0],i[1])}},Z_=(e,n)=>{let r;const s=[];for(;(r=e.exec(n))!==null;)s.push(r);return s},ek=ms("HTMLFormElement"),tk=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,o){return s.toUpperCase()+o}),ey=(({hasOwnProperty:e})=>(n,r)=>e.call(n,r))(Object.prototype),nk=ms("RegExp"),Nv=(e,n)=>{const r=Object.getOwnPropertyDescriptors(e),s={};ol(r,(o,i)=>{let l;(l=n(o,i,e))!==!1&&(s[i]=l||o)}),Object.defineProperties(e,s)},rk=e=>{Nv(e,(n,r)=>{if(Qr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(Qr(s)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},sk=(e,n)=>{const r={},s=o=>{o.forEach(i=>{r[i]=!0})};return Ka(e)?s(e):s(String(e).split(n)),r},ok=()=>{},ak=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n,fh="abcdefghijklmnopqrstuvwxyz",ty="0123456789",Lv={DIGIT:ty,ALPHA:fh,ALPHA_DIGIT:fh+fh.toUpperCase()+ty},ik=(e=16,n=Lv.ALPHA_DIGIT)=>{let r="";const{length:s}=n;for(;e--;)r+=n[Math.random()*s|0];return r};function lk(e){return!!(e&&Qr(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const ck=e=>{const n=new Array(10),r=(s,o)=>{if(md(s)){if(n.indexOf(s)>=0)return;if(!("toJSON"in s)){n[o]=s;const i=Ka(s)?[]:{};return ol(s,(l,d)=>{const u=r(l,o+1);!Fi(u)&&(i[d]=u)}),n[o]=void 0,i}}return s};return r(e,0)},dk=ms("AsyncFunction"),uk=e=>e&&(md(e)||Qr(e))&&Qr(e.then)&&Qr(e.catch),ve={isArray:Ka,isArrayBuffer:Rv,isBuffer:E_,isFormData:$_,isArrayBufferView:A_,isString:R_,isNumber:_v,isBoolean:__,isObject:md,isPlainObject:gc,isReadableStream:W_,isRequest:B_,isResponse:V_,isHeaders:U_,isUndefined:Fi,isDate:k_,isFile:O_,isBlob:M_,isRegExp:nk,isFunction:Qr,isStream:L_,isURLSearchParams:F_,isTypedArray:J_,isFileList:N_,forEach:ol,merge:Xh,extend:H_,trim:z_,stripBOM:G_,inherits:Y_,toFlatObject:q_,kindOf:fd,kindOfTest:ms,endsWith:K_,toArray:X_,forEachEntry:Q_,matchAll:Z_,isHTMLForm:ek,hasOwnProperty:ey,hasOwnProp:ey,reduceDescriptors:Nv,freezeMethods:rk,toObjectSet:sk,toCamelCase:tk,noop:ok,toFiniteNumber:ak,findKey:kv,global:Ov,isContextDefined:Mv,ALPHABET:Lv,generateString:ik,isSpecCompliantForm:lk,toJSONObject:ck,isAsyncFn:dk,isThenable:uk};function xt(e,n,r,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),r&&(this.config=r),s&&(this.request=s),o&&(this.response=o)}ve.inherits(xt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const $v=xt.prototype,Fv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Fv[e]={value:e}});Object.defineProperties(xt,Fv);Object.defineProperty($v,"isAxiosError",{value:!0});xt.from=(e,n,r,s,o,i)=>{const l=Object.create($v);return ve.toFlatObject(e,l,function(u){return u!==Error.prototype},d=>d!=="isAxiosError"),xt.call(l,e.message,n,r,s,o),l.cause=e,l.name=e.name,i&&Object.assign(l,i),l};const hk=null;function Jh(e){return ve.isPlainObject(e)||ve.isArray(e)}function Wv(e){return ve.endsWith(e,"[]")?e.slice(0,-2):e}function ny(e,n,r){return e?e.concat(n).map(function(o,i){return o=Wv(o),!r&&i?"["+o+"]":o}).join(r?".":""):n}function fk(e){return ve.isArray(e)&&!e.some(Jh)}const pk=ve.toFlatObject(ve,{},null,function(n){return/^is[A-Z]/.test(n)});function xd(e,n,r){if(!ve.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,r=ve.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,v){return!ve.isUndefined(v[w])});const s=r.metaTokens,o=r.visitor||p,i=r.dots,l=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(n);if(!ve.isFunction(o))throw new TypeError("visitor must be a function");function h(b){if(b===null)return"";if(ve.isDate(b))return b.toISOString();if(!u&&ve.isBlob(b))throw new xt("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(b)||ve.isTypedArray(b)?u&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function p(b,w,v){let I=b;if(b&&!v&&typeof b=="object"){if(ve.endsWith(w,"{}"))w=s?w:w.slice(0,-2),b=JSON.stringify(b);else if(ve.isArray(b)&&fk(b)||(ve.isFileList(b)||ve.endsWith(w,"[]"))&&(I=ve.toArray(b)))return w=Wv(w),I.forEach(function(T,D){!(ve.isUndefined(T)||T===null)&&n.append(l===!0?ny([w],D,i):l===null?w:w+"[]",h(T))}),!1}return Jh(b)?!0:(n.append(ny(v,w,i),h(b)),!1)}const m=[],g=Object.assign(pk,{defaultVisitor:p,convertValue:h,isVisitable:Jh});function y(b,w){if(!ve.isUndefined(b)){if(m.indexOf(b)!==-1)throw Error("Circular reference detected in "+w.join("."));m.push(b),ve.forEach(b,function(I,S){(!(ve.isUndefined(I)||I===null)&&o.call(n,I,ve.isString(S)?S.trim():S,w,g))===!0&&y(I,w?w.concat(S):[S])}),m.pop()}}if(!ve.isObject(e))throw new TypeError("data must be an object");return y(e),n}function ry(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return n[s]})}function Hf(e,n){this._pairs=[],e&&xd(e,this,n)}const Bv=Hf.prototype;Bv.append=function(n,r){this._pairs.push([n,r])};Bv.toString=function(n){const r=n?function(s){return n.call(this,s,ry)}:ry;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function mk(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Vv(e,n,r){if(!n)return e;const s=r&&r.encode||mk,o=r&&r.serialize;let i;if(o?i=o(n,r):i=ve.isURLSearchParams(n)?n.toString():new Hf(n,r).toString(s),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class sy{constructor(){this.handlers=[]}use(n,r,s){return this.handlers.push({fulfilled:n,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){ve.forEach(this.handlers,function(s){s!==null&&n(s)})}}const Uv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xk=typeof URLSearchParams<"u"?URLSearchParams:Hf,gk=typeof FormData<"u"?FormData:null,bk=typeof Blob<"u"?Blob:null,yk={isBrowser:!0,classes:{URLSearchParams:xk,FormData:gk,Blob:bk},protocols:["http","https","file","blob","url","data"]},Gf=typeof window<"u"&&typeof document<"u",vk=(e=>Gf&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),jk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wk=Gf&&window.location.href||"http://localhost",Sk=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Gf,hasStandardBrowserEnv:vk,hasStandardBrowserWebWorkerEnv:jk,origin:wk},Symbol.toStringTag,{value:"Module"})),hs={...Sk,...yk};function Ck(e,n){return xd(e,new hs.classes.URLSearchParams,Object.assign({visitor:function(r,s,o,i){return hs.isNode&&ve.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},n))}function Pk(e){return ve.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function Ik(e){const n={},r=Object.keys(e);let s;const o=r.length;let i;for(s=0;s<o;s++)i=r[s],n[i]=e[i];return n}function zv(e){function n(r,s,o,i){let l=r[i++];if(l==="__proto__")return!0;const d=Number.isFinite(+l),u=i>=r.length;return l=!l&&ve.isArray(o)?o.length:l,u?(ve.hasOwnProp(o,l)?o[l]=[o[l],s]:o[l]=s,!d):((!o[l]||!ve.isObject(o[l]))&&(o[l]=[]),n(r,s,o[l],i)&&ve.isArray(o[l])&&(o[l]=Ik(o[l])),!d)}if(ve.isFormData(e)&&ve.isFunction(e.entries)){const r={};return ve.forEachEntry(e,(s,o)=>{n(Pk(s),o,r,0)}),r}return null}function Dk(e,n,r){if(ve.isString(e))try{return(n||JSON.parse)(e),ve.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const al={transitional:Uv,adapter:["xhr","http","fetch"],transformRequest:[function(n,r){const s=r.getContentType()||"",o=s.indexOf("application/json")>-1,i=ve.isObject(n);if(i&&ve.isHTMLForm(n)&&(n=new FormData(n)),ve.isFormData(n))return o?JSON.stringify(zv(n)):n;if(ve.isArrayBuffer(n)||ve.isBuffer(n)||ve.isStream(n)||ve.isFile(n)||ve.isBlob(n)||ve.isReadableStream(n))return n;if(ve.isArrayBufferView(n))return n.buffer;if(ve.isURLSearchParams(n))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let d;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Ck(n,this.formSerializer).toString();if((d=ve.isFileList(n))||s.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return xd(d?{"files[]":n}:n,u&&new u,this.formSerializer)}}return i||o?(r.setContentType("application/json",!1),Dk(n)):n}],transformResponse:[function(n){const r=this.transitional||al.transitional,s=r&&r.forcedJSONParsing,o=this.responseType==="json";if(ve.isResponse(n)||ve.isReadableStream(n))return n;if(n&&ve.isString(n)&&(s&&!this.responseType||o)){const l=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(n)}catch(d){if(l)throw d.name==="SyntaxError"?xt.from(d,xt.ERR_BAD_RESPONSE,this,null,this.response):d}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hs.classes.FormData,Blob:hs.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ve.forEach(["delete","get","head","post","put","patch"],e=>{al.headers[e]={}});const Tk=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ek=e=>{const n={};let r,s,o;return e&&e.split(`
`).forEach(function(l){o=l.indexOf(":"),r=l.substring(0,o).trim().toLowerCase(),s=l.substring(o+1).trim(),!(!r||n[r]&&Tk[r])&&(r==="set-cookie"?n[r]?n[r].push(s):n[r]=[s]:n[r]=n[r]?n[r]+", "+s:s)}),n},oy=Symbol("internals");function bi(e){return e&&String(e).trim().toLowerCase()}function bc(e){return e===!1||e==null?e:ve.isArray(e)?e.map(bc):String(e)}function Ak(e){const n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)n[s[1]]=s[2];return n}const Rk=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ph(e,n,r,s,o){if(ve.isFunction(s))return s.call(this,n,r);if(o&&(n=r),!!ve.isString(n)){if(ve.isString(s))return n.indexOf(s)!==-1;if(ve.isRegExp(s))return s.test(n)}}function _k(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,r,s)=>r.toUpperCase()+s)}function kk(e,n){const r=ve.toCamelCase(" "+n);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(o,i,l){return this[s].call(this,n,o,i,l)},configurable:!0})})}class Cr{constructor(n){n&&this.set(n)}set(n,r,s){const o=this;function i(d,u,h){const p=bi(u);if(!p)throw new Error("header name must be a non-empty string");const m=ve.findKey(o,p);(!m||o[m]===void 0||h===!0||h===void 0&&o[m]!==!1)&&(o[m||u]=bc(d))}const l=(d,u)=>ve.forEach(d,(h,p)=>i(h,p,u));if(ve.isPlainObject(n)||n instanceof this.constructor)l(n,r);else if(ve.isString(n)&&(n=n.trim())&&!Rk(n))l(Ek(n),r);else if(ve.isHeaders(n))for(const[d,u]of n.entries())i(u,d,s);else n!=null&&i(r,n,s);return this}get(n,r){if(n=bi(n),n){const s=ve.findKey(this,n);if(s){const o=this[s];if(!r)return o;if(r===!0)return Ak(o);if(ve.isFunction(r))return r.call(this,o,s);if(ve.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,r){if(n=bi(n),n){const s=ve.findKey(this,n);return!!(s&&this[s]!==void 0&&(!r||ph(this,this[s],s,r)))}return!1}delete(n,r){const s=this;let o=!1;function i(l){if(l=bi(l),l){const d=ve.findKey(s,l);d&&(!r||ph(s,s[d],d,r))&&(delete s[d],o=!0)}}return ve.isArray(n)?n.forEach(i):i(n),o}clear(n){const r=Object.keys(this);let s=r.length,o=!1;for(;s--;){const i=r[s];(!n||ph(this,this[i],i,n,!0))&&(delete this[i],o=!0)}return o}normalize(n){const r=this,s={};return ve.forEach(this,(o,i)=>{const l=ve.findKey(s,i);if(l){r[l]=bc(o),delete r[i];return}const d=n?_k(i):String(i).trim();d!==i&&delete r[i],r[d]=bc(o),s[d]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const r=Object.create(null);return ve.forEach(this,(s,o)=>{s!=null&&s!==!1&&(r[o]=n&&ve.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,r])=>n+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...r){const s=new this(n);return r.forEach(o=>s.set(o)),s}static accessor(n){const s=(this[oy]=this[oy]={accessors:{}}).accessors,o=this.prototype;function i(l){const d=bi(l);s[d]||(kk(o,l),s[d]=!0)}return ve.isArray(n)?n.forEach(i):i(n),this}}Cr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ve.reduceDescriptors(Cr.prototype,({value:e},n)=>{let r=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(s){this[r]=s}}});ve.freezeMethods(Cr);function mh(e,n){const r=this||al,s=n||r,o=Cr.from(s.headers);let i=s.data;return ve.forEach(e,function(d){i=d.call(r,i,o.normalize(),n?n.status:void 0)}),o.normalize(),i}function Hv(e){return!!(e&&e.__CANCEL__)}function Xa(e,n,r){xt.call(this,e??"canceled",xt.ERR_CANCELED,n,r),this.name="CanceledError"}ve.inherits(Xa,xt,{__CANCEL__:!0});function Gv(e,n,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):n(new xt("Request failed with status code "+r.status,[xt.ERR_BAD_REQUEST,xt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Ok(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function Mk(e,n){e=e||10;const r=new Array(e),s=new Array(e);let o=0,i=0,l;return n=n!==void 0?n:1e3,function(u){const h=Date.now(),p=s[i];l||(l=h),r[o]=u,s[o]=h;let m=i,g=0;for(;m!==o;)g+=r[m++],m=m%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),h-l<n)return;const y=p&&h-p;return y?Math.round(g*1e3/y):void 0}}function Nk(e,n){let r=0;const s=1e3/n;let o=null;return function(){const l=this===!0,d=Date.now();if(l||d-r>s)return o&&(clearTimeout(o),o=null),r=d,e.apply(null,arguments);o||(o=setTimeout(()=>(o=null,r=Date.now(),e.apply(null,arguments)),s-(d-r)))}}const Wc=(e,n,r=3)=>{let s=0;const o=Mk(50,250);return Nk(i=>{const l=i.loaded,d=i.lengthComputable?i.total:void 0,u=l-s,h=o(u),p=l<=d;s=l;const m={loaded:l,total:d,progress:d?l/d:void 0,bytes:u,rate:h||void 0,estimated:h&&d&&p?(d-l)/h:void 0,event:i,lengthComputable:d!=null};m[n?"download":"upload"]=!0,e(m)},r)},Lk=hs.hasStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let s;function o(i){let l=i;return n&&(r.setAttribute("href",l),l=r.href),r.setAttribute("href",l),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return s=o(window.location.href),function(l){const d=ve.isString(l)?o(l):l;return d.protocol===s.protocol&&d.host===s.host}}():function(){return function(){return!0}}(),$k=hs.hasStandardBrowserEnv?{write(e,n,r,s,o,i){const l=[e+"="+encodeURIComponent(n)];ve.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),ve.isString(s)&&l.push("path="+s),ve.isString(o)&&l.push("domain="+o),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Fk(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Wk(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function Yv(e,n){return e&&!Fk(n)?Wk(e,n):n}const ay=e=>e instanceof Cr?{...e}:e;function Yo(e,n){n=n||{};const r={};function s(h,p,m){return ve.isPlainObject(h)&&ve.isPlainObject(p)?ve.merge.call({caseless:m},h,p):ve.isPlainObject(p)?ve.merge({},p):ve.isArray(p)?p.slice():p}function o(h,p,m){if(ve.isUndefined(p)){if(!ve.isUndefined(h))return s(void 0,h,m)}else return s(h,p,m)}function i(h,p){if(!ve.isUndefined(p))return s(void 0,p)}function l(h,p){if(ve.isUndefined(p)){if(!ve.isUndefined(h))return s(void 0,h)}else return s(void 0,p)}function d(h,p,m){if(m in n)return s(h,p);if(m in e)return s(void 0,h)}const u={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(h,p)=>o(ay(h),ay(p),!0)};return ve.forEach(Object.keys(Object.assign({},e,n)),function(p){const m=u[p]||o,g=m(e[p],n[p],p);ve.isUndefined(g)&&m!==d||(r[p]=g)}),r}const qv=e=>{const n=Yo({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:i,headers:l,auth:d}=n;n.headers=l=Cr.from(l),n.url=Vv(Yv(n.baseURL,n.url),e.params,e.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let u;if(ve.isFormData(r)){if(hs.hasStandardBrowserEnv||hs.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((u=l.getContentType())!==!1){const[h,...p]=u?u.split(";").map(m=>m.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...p].join("; "))}}if(hs.hasStandardBrowserEnv&&(s&&ve.isFunction(s)&&(s=s(n)),s||s!==!1&&Lk(n.url))){const h=o&&i&&$k.read(i);h&&l.set(o,h)}return n},Bk=typeof XMLHttpRequest<"u",Vk=Bk&&function(e){return new Promise(function(r,s){const o=qv(e);let i=o.data;const l=Cr.from(o.headers).normalize();let{responseType:d}=o,u;function h(){o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let p=new XMLHttpRequest;p.open(o.method.toUpperCase(),o.url,!0),p.timeout=o.timeout;function m(){if(!p)return;const y=Cr.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),w={data:!d||d==="text"||d==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:y,config:e,request:p};Gv(function(I){r(I),h()},function(I){s(I),h()},w),p=null}"onloadend"in p?p.onloadend=m:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(m)},p.onabort=function(){p&&(s(new xt("Request aborted",xt.ECONNABORTED,o,p)),p=null)},p.onerror=function(){s(new xt("Network Error",xt.ERR_NETWORK,o,p)),p=null},p.ontimeout=function(){let b=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const w=o.transitional||Uv;o.timeoutErrorMessage&&(b=o.timeoutErrorMessage),s(new xt(b,w.clarifyTimeoutError?xt.ETIMEDOUT:xt.ECONNABORTED,o,p)),p=null},i===void 0&&l.setContentType(null),"setRequestHeader"in p&&ve.forEach(l.toJSON(),function(b,w){p.setRequestHeader(w,b)}),ve.isUndefined(o.withCredentials)||(p.withCredentials=!!o.withCredentials),d&&d!=="json"&&(p.responseType=o.responseType),typeof o.onDownloadProgress=="function"&&p.addEventListener("progress",Wc(o.onDownloadProgress,!0)),typeof o.onUploadProgress=="function"&&p.upload&&p.upload.addEventListener("progress",Wc(o.onUploadProgress)),(o.cancelToken||o.signal)&&(u=y=>{p&&(s(!y||y.type?new Xa(null,e,p):y),p.abort(),p=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const g=Ok(o.url);if(g&&hs.protocols.indexOf(g)===-1){s(new xt("Unsupported protocol "+g+":",xt.ERR_BAD_REQUEST,e));return}p.send(i||null)})},Uk=(e,n)=>{let r=new AbortController,s;const o=function(u){if(!s){s=!0,l();const h=u instanceof Error?u:this.reason;r.abort(h instanceof xt?h:new Xa(h instanceof Error?h.message:h))}};let i=n&&setTimeout(()=>{o(new xt(`timeout ${n} of ms exceeded`,xt.ETIMEDOUT))},n);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u&&(u.removeEventListener?u.removeEventListener("abort",o):u.unsubscribe(o))}),e=null)};e.forEach(u=>u&&u.addEventListener&&u.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=l,[d,()=>{i&&clearTimeout(i),i=null}]},zk=function*(e,n){let r=e.byteLength;if(!n||r<n){yield e;return}let s=0,o;for(;s<r;)o=s+n,yield e.slice(s,o),s=o},Hk=async function*(e,n,r){for await(const s of e)yield*zk(ArrayBuffer.isView(s)?s:await r(String(s)),n)},iy=(e,n,r,s,o)=>{const i=Hk(e,n,o);let l=0;return new ReadableStream({type:"bytes",async pull(d){const{done:u,value:h}=await i.next();if(u){d.close(),s();return}let p=h.byteLength;r&&r(l+=p),d.enqueue(new Uint8Array(h))},cancel(d){return s(d),i.return()}},{highWaterMark:2})},ly=(e,n)=>{const r=e!=null;return s=>setTimeout(()=>n({lengthComputable:r,total:e,loaded:s}))},gd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Kv=gd&&typeof ReadableStream=="function",Qh=gd&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Gk=Kv&&(()=>{let e=!1;const n=new Request(hs.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n})(),cy=64*1024,Zh=Kv&&!!(()=>{try{return ve.isReadableStream(new Response("").body)}catch{}})(),Bc={stream:Zh&&(e=>e.body)};gd&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!Bc[n]&&(Bc[n]=ve.isFunction(e[n])?r=>r[n]():(r,s)=>{throw new xt(`Response type '${n}' is not supported`,xt.ERR_NOT_SUPPORT,s)})})})(new Response);const Yk=async e=>{if(e==null)return 0;if(ve.isBlob(e))return e.size;if(ve.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(ve.isArrayBufferView(e))return e.byteLength;if(ve.isURLSearchParams(e)&&(e=e+""),ve.isString(e))return(await Qh(e)).byteLength},qk=async(e,n)=>{const r=ve.toFiniteNumber(e.getContentLength());return r??Yk(n)},Kk=gd&&(async e=>{let{url:n,method:r,data:s,signal:o,cancelToken:i,timeout:l,onDownloadProgress:d,onUploadProgress:u,responseType:h,headers:p,withCredentials:m="same-origin",fetchOptions:g}=qv(e);h=h?(h+"").toLowerCase():"text";let[y,b]=o||i||l?Uk([o,i],l):[],w,v;const I=()=>{!w&&setTimeout(()=>{y&&y.unsubscribe()}),w=!0};let S;try{if(u&&Gk&&r!=="get"&&r!=="head"&&(S=await qk(p,s))!==0){let R=new Request(n,{method:"POST",body:s,duplex:"half"}),k;ve.isFormData(s)&&(k=R.headers.get("content-type"))&&p.setContentType(k),R.body&&(s=iy(R.body,cy,ly(S,Wc(u)),null,Qh))}ve.isString(m)||(m=m?"cors":"omit"),v=new Request(n,{...g,signal:y,method:r.toUpperCase(),headers:p.normalize().toJSON(),body:s,duplex:"half",withCredentials:m});let T=await fetch(v);const D=Zh&&(h==="stream"||h==="response");if(Zh&&(d||D)){const R={};["status","statusText","headers"].forEach(_=>{R[_]=T[_]});const k=ve.toFiniteNumber(T.headers.get("content-length"));T=new Response(iy(T.body,cy,d&&ly(k,Wc(d,!0)),D&&I,Qh),R)}h=h||"text";let A=await Bc[ve.findKey(Bc,h)||"text"](T,e);return!D&&I(),b&&b(),await new Promise((R,k)=>{Gv(R,k,{data:A,headers:Cr.from(T.headers),status:T.status,statusText:T.statusText,config:e,request:v})})}catch(T){throw I(),T&&T.name==="TypeError"&&/fetch/i.test(T.message)?Object.assign(new xt("Network Error",xt.ERR_NETWORK,e,v),{cause:T.cause||T}):xt.from(T,T&&T.code,e,v)}}),ef={http:hk,xhr:Vk,fetch:Kk};ve.forEach(ef,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const dy=e=>`- ${e}`,Xk=e=>ve.isFunction(e)||e===null||e===!1,Xv={getAdapter:e=>{e=ve.isArray(e)?e:[e];const{length:n}=e;let r,s;const o={};for(let i=0;i<n;i++){r=e[i];let l;if(s=r,!Xk(r)&&(s=ef[(l=String(r)).toLowerCase()],s===void 0))throw new xt(`Unknown adapter '${l}'`);if(s)break;o[l||"#"+i]=s}if(!s){const i=Object.entries(o).map(([d,u])=>`adapter ${d} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?i.length>1?`since :
`+i.map(dy).join(`
`):" "+dy(i[0]):"as no adapter specified";throw new xt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:ef};function xh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Xa(null,e)}function uy(e){return xh(e),e.headers=Cr.from(e.headers),e.data=mh.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Xv.getAdapter(e.adapter||al.adapter)(e).then(function(s){return xh(e),s.data=mh.call(e,e.transformResponse,s),s.headers=Cr.from(s.headers),s},function(s){return Hv(s)||(xh(e),s&&s.response&&(s.response.data=mh.call(e,e.transformResponse,s.response),s.response.headers=Cr.from(s.response.headers))),Promise.reject(s)})}const Jv="1.7.2",Yf={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{Yf[e]=function(s){return typeof s===e||"a"+(n<1?"n ":" ")+e}});const hy={};Yf.transitional=function(n,r,s){function o(i,l){return"[Axios v"+Jv+"] Transitional option '"+i+"'"+l+(s?". "+s:"")}return(i,l,d)=>{if(n===!1)throw new xt(o(l," has been removed"+(r?" in "+r:"")),xt.ERR_DEPRECATED);return r&&!hy[l]&&(hy[l]=!0,console.warn(o(l," has been deprecated since v"+r+" and will be removed in the near future"))),n?n(i,l,d):!0}};function Jk(e,n,r){if(typeof e!="object")throw new xt("options must be an object",xt.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let o=s.length;for(;o-- >0;){const i=s[o],l=n[i];if(l){const d=e[i],u=d===void 0||l(d,i,e);if(u!==!0)throw new xt("option "+i+" must be "+u,xt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new xt("Unknown option "+i,xt.ERR_BAD_OPTION)}}const tf={assertOptions:Jk,validators:Yf},ao=tf.validators;class zo{constructor(n){this.defaults=n,this.interceptors={request:new sy,response:new sy}}async request(n,r){try{return await this._request(n,r)}catch(s){if(s instanceof Error){let o;Error.captureStackTrace?Error.captureStackTrace(o={}):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(n,r){typeof n=="string"?(r=r||{},r.url=n):r=n||{},r=Yo(this.defaults,r);const{transitional:s,paramsSerializer:o,headers:i}=r;s!==void 0&&tf.assertOptions(s,{silentJSONParsing:ao.transitional(ao.boolean),forcedJSONParsing:ao.transitional(ao.boolean),clarifyTimeoutError:ao.transitional(ao.boolean)},!1),o!=null&&(ve.isFunction(o)?r.paramsSerializer={serialize:o}:tf.assertOptions(o,{encode:ao.function,serialize:ao.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=i&&ve.merge(i.common,i[r.method]);i&&ve.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),r.headers=Cr.concat(l,i);const d=[];let u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(r)===!1||(u=u&&w.synchronous,d.unshift(w.fulfilled,w.rejected))});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let p,m=0,g;if(!u){const b=[uy.bind(this),void 0];for(b.unshift.apply(b,d),b.push.apply(b,h),g=b.length,p=Promise.resolve(r);m<g;)p=p.then(b[m++],b[m++]);return p}g=d.length;let y=r;for(m=0;m<g;){const b=d[m++],w=d[m++];try{y=b(y)}catch(v){w.call(this,v);break}}try{p=uy.call(this,y)}catch(b){return Promise.reject(b)}for(m=0,g=h.length;m<g;)p=p.then(h[m++],h[m++]);return p}getUri(n){n=Yo(this.defaults,n);const r=Yv(n.baseURL,n.url);return Vv(r,n.params,n.paramsSerializer)}}ve.forEach(["delete","get","head","options"],function(n){zo.prototype[n]=function(r,s){return this.request(Yo(s||{},{method:n,url:r,data:(s||{}).data}))}});ve.forEach(["post","put","patch"],function(n){function r(s){return function(i,l,d){return this.request(Yo(d||{},{method:n,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}zo.prototype[n]=r(),zo.prototype[n+"Form"]=r(!0)});class qf{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const s=this;this.promise.then(o=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](o);s._listeners=null}),this.promise.then=o=>{let i;const l=new Promise(d=>{s.subscribe(d),i=d}).then(o);return l.cancel=function(){s.unsubscribe(i)},l},n(function(i,l,d){s.reason||(s.reason=new Xa(i,l,d),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const r=this._listeners.indexOf(n);r!==-1&&this._listeners.splice(r,1)}static source(){let n;return{token:new qf(function(o){n=o}),cancel:n}}}function Qk(e){return function(r){return e.apply(null,r)}}function Zk(e){return ve.isObject(e)&&e.isAxiosError===!0}const nf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nf).forEach(([e,n])=>{nf[n]=e});function Qv(e){const n=new zo(e),r=Av(zo.prototype.request,n);return ve.extend(r,zo.prototype,n,{allOwnKeys:!0}),ve.extend(r,n,null,{allOwnKeys:!0}),r.create=function(o){return Qv(Yo(e,o))},r}const kn=Qv(al);kn.Axios=zo;kn.CanceledError=Xa;kn.CancelToken=qf;kn.isCancel=Hv;kn.VERSION=Jv;kn.toFormData=xd;kn.AxiosError=xt;kn.Cancel=kn.CanceledError;kn.all=function(n){return Promise.all(n)};kn.spread=Qk;kn.isAxiosError=Zk;kn.mergeConfig=Yo;kn.AxiosHeaders=Cr;kn.formToJSON=e=>zv(ve.isHTMLForm(e)?new FormData(e):e);kn.getAdapter=Xv.getAdapter;kn.HttpStatusCode=nf;kn.default=kn;const eO="https://journalist-api--journalist-2bf9e.europe-west4.hosted.app/";class tO{constructor(){Te(this,"instance");Te(this,"handleAxiosError",n=>n.response?{status:n.response.status,data:n.response.data}:{status:500,data:"Network Error"});this.instance=kn.create({baseURL:eO,headers:{"Content-Type":"application/json"}}),this.instance.interceptors.request.use(n=>n,n=>Promise.reject(n)),this.instance.interceptors.response.use(n=>n,n=>Promise.reject(n))}get axiosInstance(){return this.instance}}const $e={page:1,limit:20,order:"desc"};class hn{constructor(n,r){Te(this,"axiosJ");Te(this,"apiPath");Te(this,"_list",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.get(n,{...s,params:r})).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Te(this,"_listAll",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.get(n,{...s,params:r})).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Te(this,"_listWithCursor",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.get(n,{...s,params:r})).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Te(this,"_get",async(n,r)=>{try{return(await this.axiosJ.axiosInstance.get(n,r)).data}catch(s){throw this.axiosJ.handleAxiosError(s)}});Te(this,"_post",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.post(n,r,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Te(this,"_patch",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.patch(n,r,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Te(this,"_put",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.put(n,r,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Te(this,"_remove",async(n,r)=>{try{return(await this.axiosJ.axiosInstance.delete(n,r)).data}catch(s){throw this.axiosJ.handleAxiosError(s)}});this.axiosJ=n,this.apiPath=r}}const fy="/api/admin";class nO extends hn{constructor(n){super(n,`${fy}/news`)}async getAllNews(n={},r=$e){const s={...r,...n};return this._list(`${fy}/news`,s)}}const py="/api/admin";class rO extends hn{constructor(n){super(n,`${py}/channels`)}async getAllChannels(n={},r=$e){const s={...r,...n};return this._list(`${py}/channels`,s)}}const my="/api/admin";class sO extends hn{constructor(n){super(n,`${my}/polls`)}async getAllPolls(n={},r=$e){const s={...r,...n};return this._list(`${my}/polls`,s)}}const js="/api/admin";class oO extends hn{constructor(n){super(n,`${js}/users`)}async getAllUsers(n={},r=$e){const s={...r,...n};return this._list(`${js}/users`,s)}async getUserById(n){return this._get(`${js}/users/${n}`)}async registerUser(n){return this._post(`${js}/users/register`,n)}async updateUser(n,r){await this._put(`${js}/users/${n}`,r)}async updateUserCustomClaims(n,r){await this._put(`${js}/users/${n}/custom-claims`,{customClaims:r})}async suspendUser(n,r){await this._post(`${js}/users/${n}/suspend`,r)}async unsuspendUser(n,r){await this._post(`${js}/users/${n}/unsuspend`,r)}async deleteUser(n){await this._remove(`${js}/users/${n}`)}async getUsersByRole(n,r=$e){return this._list(`${js}/users/role/${n}`,r)}}const Ws="/api/admin";class aO extends hn{constructor(n){super(n,`${Ws}/payouts`)}async getPayouts(n={},r=$e){const s={...r,...n};return this._list(`${Ws}/payouts`,s)}async getPendingPayouts(n=$e){return this._list(`${Ws}/payouts/pending`,n)}async getFailedPayouts(n=$e){return this._list(`${Ws}/payouts/failed`,n)}async getPayoutStats(n={}){return this._list(`${Ws}/payouts/stats`,n)}async getPayoutById(n){return this._get(`${Ws}/payouts/${n}`)}async processPayout(n,r={}){await this._post(`${Ws}/payouts/${n}/process`,r)}async retryPayout(n,r={}){await this._post(`${Ws}/payouts/${n}/retry`,r)}async cancelPayout(n){await this._post(`${Ws}/payouts/${n}/cancel`,{})}}const gh="/api/admin";class iO extends hn{constructor(n){super(n,`${gh}/subscriptions`)}async getSubscriptions(n={},r=$e){const s={...r,...n};return this._list(`${gh}/subscriptions`,s)}async getSubscriptionById(n){return this._get(`${gh}/subscriptions/${n}`)}}const yi="/api/admin";class lO extends hn{constructor(n){super(n,`${yi}/tags`)}async getTags(n=$e){return this._list(`${yi}/tags`,n)}async createTag(n){return this._post(`${yi}/tags`,n)}async updateTag(n,r){await this._put(`${yi}/tags/${n}`,r)}async deleteTag(n){await this._remove(`${yi}/tags/${n}`)}}const ic="/api/admin";class cO extends hn{constructor(n){super(n,`${ic}/expense-orders`)}async getAllExpenseOrders(n={},r=$e){const s={...r,...n};return this._list(`${ic}/expense-orders`,s)}async getExpenseOrder(n){return this._get(`${ic}/expense-orders/${n}`)}async updateExpenseOrder(n,r){await this._put(`${ic}/expense-orders/${n}`,r)}}class dO{constructor(n){Te(this,"news");Te(this,"channels");Te(this,"polls");Te(this,"users");Te(this,"payouts");Te(this,"subscriptions");Te(this,"tags");Te(this,"expenseOrders");this.news=new nO(n),this.channels=new rO(n),this.polls=new sO(n),this.users=new oO(n),this.payouts=new aO(n),this.subscriptions=new iO(n),this.tags=new lO(n),this.expenseOrders=new cO(n)}}const er="/api/channels",ws={TIER:"tiers",SUBSCRIPTIONS:"subscriptions"};class uO extends hn{constructor(n){super(n,er)}async getChannels(n={},r=$e){const s={...r};return n.trending&&(s.trending="true"),n.popular&&(s.popular="true"),n.subscribed&&(s.subscribed="true"),n.followed&&(s.followed="true"),n.verified&&(s.verified="true"),n.creator&&(s.creator=n.creator),n.category&&(s.category=n.category),n.tags&&n.tags.length>0&&(s.tags=n.tags.join(",")),this._list(er,s)}async getAll(n=$e){return this.getChannels({},n)}async getTrending(n=$e){return this.getChannels({trending:!0},n)}async getPopular(n=$e){return this.getChannels({popular:!0},n)}async getSubscribed(n=$e){return this.getChannels({subscribed:!0},n)}async getFollowed(n=$e){return this.getChannels({followed:!0},n)}async getVerified(n=$e){return this.getChannels({verified:!0},n)}async createChannel(n){return this._post(er,n)}async getChannel(n){return this._get(`${er}/${n}`)}async getCreatorChannels(n,r=$e){return this.getChannels({creator:n},r)}async updateChannel(n,r){await this._put(`${er}/${n}`,r)}async deleteChannel(n){return this._remove(`${er}/${n}`)}async createTier(n,r){return this._post(`${er}/${n}/${ws.TIER}`,r)}async updateTier(n,r,s){await this._put(`${er}/${n}/${ws.TIER}/${r}`,s)}async updateTiers(n,r){const s=r.map(o=>{const{currency:i,channelId:l,isDefault:d,...u}=o;return u});return this._put(`${er}/${n}/${ws.TIER}`,s)}async getTiers(n){return this._list(`${er}/${n}/${ws.TIER}`)}async getTier(n,r){return this._get(`${er}/${n}/${ws.TIER}/${r}`)}async deleteTier(n,r){return this._remove(`${er}/${n}/${ws.TIER}/${r}`)}async subscribeToChannel(n,r={}){return this._post(`${er}/${n}/${ws.SUBSCRIPTIONS}`,r)}async unsubscribeFromChannel(n){await this._remove(`${er}/${n}/${ws.SUBSCRIPTIONS}`)}async getChannelSubscribers(n,r=$e){return this._list(`${er}/${n}/${ws.SUBSCRIPTIONS}`,r)}async getSubscriptionDetails(n,r){return this._get(`${er}/${n}/${ws.SUBSCRIPTIONS}/${r}`)}}const Bs="/api/news";class hO extends hn{constructor(n){super(n,Bs)}async getNews(n={},r=$e){const s={...r};return n.feed&&(s.feed="true"),n.trending&&(s.trending="true"),n.subscribed&&(s.subscribed="true"),n.channel&&(s.channel=n.channel),n.creator&&(s.creator=n.creator),n.status&&(s.status=n.status),n.premium!==void 0&&(s.premium=n.premium.toString()),n.tags&&n.tags.length>0&&(s.tags=n.tags.join(",")),n.query&&(s.query=n.query),this._list(Bs,s)}async getAll(n=$e){return this.getNews({},n)}async getFeed(n=$e){return this.getNews({feed:!0},n)}async getTrending(n=$e){return this.getNews({trending:!0},n)}async getSubscribed(n=$e){return this.getNews({subscribed:!0},n)}async getPremium(n=$e){return this.getNews({premium:!0},n)}async getNewsByChannel(n,r=$e){return this.getNews({channel:n},r)}async getCreatorNews(n,r=$e){return this.getNews({creator:n},r)}async getNewsByTags(n,r=$e){return this.getNews({tags:n},r)}async getNewsByStatus(n,r=$e){return this.getNews({status:n},r)}async get(n){return this._get(`${Bs}/${n}`)}async getDetails(n){return this._get(`${Bs}/${n}/details`)}async createNews(n){return this._post(Bs,n)}async update(n,r){await this._put(`${Bs}/${n}`,r)}async delete(n){await this._remove(`${Bs}/${n}`)}async getNewsStats(n,r,s){return this._get(`${Bs}/${n}/stats?startDate=${r}&endDate=${s}`)}async getNewsTags(n=$e){return this._list(`${Bs}/tags`,n)}async create(n){return this.createNews(n)}}const kr="/api/polls";class fO extends hn{constructor(n){super(n,kr)}async getPolls(n={},r=$e){const s={...r};return n.trending&&(s.trending="true"),n.funded&&(s.funded="true"),n.claimed&&(s.claimed="true"),n.subscribed&&(s.subscribed="true"),n.channel&&(s.channel=n.channel),n.creator&&(s.creator=n.creator),n.status&&(s.status=n.status),n.converted!==void 0&&(s.converted=n.converted.toString()),n.tags&&n.tags.length>0&&(s.tags=n.tags.join(",")),this._list(kr,s)}async getAll(n=$e){return this.getPolls({},n)}async getTrending(n=$e){return this.getPolls({trending:!0},n)}async getFunded(n=$e){return this.getPolls({funded:!0},n)}async getClaimed(n=$e){return this.getPolls({claimed:!0},n)}async getSubscribed(n=$e){return this.getPolls({subscribed:!0},n)}async getPollsByChannel(n,r=$e){return this.getPolls({channel:n},r)}async getCreatorPolls(n,r=$e){return this.getPolls({creator:n},r)}async getPollsByTags(n,r=$e){return this.getPolls({tags:n},r)}async get(n){return this._get(`${kr}/${n}`)}async create(n){return this._post(kr,n)}async update(n,r){await this._put(`${kr}/${n}`,r)}async delete(n){return this._remove(`${kr}/${n}`)}async getResults(n){return this._get(`${kr}/${n}/votes`)}async vote(n,r){return this._post(`${kr}/${n}/votes`,r)}async getUserVote(n){return this._get(`${kr}/${n}/votes/me`)}async checkVotingEligibility(n){return this._get(`${kr}/${n}/votes/eligibility`)}async getFunding(n){return this._get(`${kr}/${n}/funding`)}async claim(n){return this._post(`${kr}/${n}/claims`,{})}async convertToNews(n,r){return this._post(`${kr}/${n}/conversions`,r)}async getVoteResults(n){return this.getResults(n)}async getMyVote(n){return this.getUserVote(n)}}const ga="/api/users";class pO extends hn{constructor(n){super(n,ga)}async getAll(n=$e){return this._list(ga,n)}async get(n){return this._get(`${ga}/${n}`)}async create(n){return this._post(ga,n)}async update(n,r){await this._put(`${ga}/${n}`,r)}async delete(n){return this._remove(`${ga}/${n}`)}}const Hn="/api/account";class mO extends hn{constructor(n){super(n,Hn)}async getProfile(){return this._get(`${Hn}/profile`)}async updateProfile(n){return this._put(`${Hn}/profile`,n)}async getPayoutMethods(){return this._list(`${Hn}/payout-methods`)}async getPayoutMethod(n){return this._get(`${Hn}/payout-methods/${n}`)}async getDefaultPayoutMethod(){return this._get(`${Hn}/payout-methods/default`)}async addPayoutMethod(n){return this._post(`${Hn}/payout-methods`,n)}async updatePayoutMethod(n,r){return this._put(`${Hn}/payout-methods/${n}`,r)}async deletePayoutMethod(n){return this._remove(`${Hn}/payout-methods/${n}`)}async setDefaultPayoutMethod(n){return this._patch(`${Hn}/payout-methods/${n}/default`,{})}async getAvailablePayoutMethods(){return this._get(`${Hn}/payout-methods/available`)}async getSubscriptions(){return this._list(`${Hn}/subscriptions`)}async subscribe(n,r){return this._post(`${Hn}/subscriptions/${n}`,r)}async cancelSubscription(n){return this._remove(`${Hn}/subscriptions/${n}`)}async getUserChannels(n=$e){return this._list(`${Hn}/channels`,n)}async exchangePayPalAuthCode(n){return this._post(`${Hn}/paypal/exchange-auth-code`,{authCode:n})}async savePayPalPayoutMethod(n){return this._post(`${Hn}/paypal/save-payout-method`,n)}}const yr="/api/expense-orders";class xO extends hn{constructor(n){super(n,yr)}async createExpenseOrder(n){return this._post(yr,n)}async updateExpenseOrder(n,r){return this._put(`${yr}/${n}`,r)}async submitExpenseOrder(n,r){return this._post(`${yr}/${n}/submit`,r||{})}async cancelExpenseOrder(n,r){return this._post(`${yr}/${n}/cancel`,{reason:r})}async getMyExpenseOrders(n=$e,r){const s={...n};return r&&(s.status=r),this._list(`${yr}/my-orders`,s)}async getAllExpenseOrders(n=$e,r){const s={...n};return(r==null?void 0:r.status)!==void 0&&(s.status=r.status),r!=null&&r.channelId&&(s.channelId=r.channelId),r!=null&&r.journalistId&&(s.journalistId=r.journalistId),this._list("/api/admin/expense-orders",s)}async approveExpenseOrder(n,r){return this._post(`${yr}/${n}/approve`,r||{})}async rejectExpenseOrder(n,r){return this._post(`${yr}/${n}/reject`,r)}async processPayment(n,r){return this._post(`${yr}/${n}/process-payment`,r||{})}async getPendingExpenseOrders(n=$e){return this._list(`${yr}/pending`,n)}async getExpenseOrderStats(n,r,s){const o={};return n&&(o.channelId=n),r&&(o.startDate=r.toISOString()),s&&(o.endDate=s.toISOString()),this._get(`${yr}/stats`,{params:o})}async getExpenseOrder(n){return this._get(`${yr}/${n}`)}async getExpenseOrdersByJournalist(n,r=$e,s){const o={...r};return s&&(o.status=s),this._list(`${yr}/journalist/${n}`,o)}async getExpenseOrdersByChannel(n,r=$e,s){const o={...r};return s&&(o.status=s),this._list(`${yr}/channel/${n}`,o)}async getExpenseTypes(){return this._get("/api/expense-types")}}const Fn="/api/subscriptions";class gO extends hn{constructor(n){super(n,Fn)}async getAllSubscriptions(n=$e,r={}){const s={...n,...r};return this._list(Fn,s)}async getSubscriptionById(n){return this._get(`${Fn}/${n}`)}async updateSubscriptionStatus(n,r,s){return this._patch(`${Fn}/${n}/status`,{status:r,reason:s})}async bulkUpdateSubscriptions(n){return this._post(`${Fn}/bulk-update`,n)}async getSubscriptionAnalytics(n={}){const r=new URLSearchParams(n).toString(),s=r?`${Fn}/analytics?${r}`:`${Fn}/analytics`;return this._get(s)}async getRevenueMetrics(n={}){const r=new URLSearchParams(n).toString(),s=r?`${Fn}/revenue?${r}`:`${Fn}/revenue`;return this._get(s)}async exportSubscriptions(n={},r="csv"){const s=new URLSearchParams({...n,format:r}).toString(),o=s?`${Fn}/export?${s}`:`${Fn}/export`;return this._get(o)}async cancelSubscription(n,r){await this.updateSubscriptionStatus(n,"canceled",r)}async activateSubscription(n,r){await this.updateSubscriptionStatus(n,"active",r)}async suspendSubscription(n,r){await this.updateSubscriptionStatus(n,"suspended",r)}async updateSubscriptionTier(n,r){return this._patch(`${Fn}/${n}/tier`,{tier_id:r})}async createDirectSubscription(n,r){return this._post(`${Fn}/channels/${n}/subscribe`,r)}async activatePayPalSubscription(n,r){return this._post(`${Fn}/channels/${n}/activate-paypal`,r)}async cancelUserSubscription(n){return this._remove(`${Fn}/${n}/cancel`)}async getMySubscriptions(n=$e,r={}){const s={...n,...r};return this._list(`${Fn}/my`,s)}async getSubscriptionStatus(n){return(await this._get(`${Fn}/${n}/status`)).status}async searchSubscriptions(n,r=$e){const s={...r,search:n};return this._list(`${Fn}/search`,s)}async getSubscriptionsByChannel(n,r=$e){return this.getAllSubscriptions(r,{channel_id:n})}async getSubscriptionsByUser(n,r=$e){return this.getAllSubscriptions(r,{user_id:n})}}const tr="/api/tags";class bO extends hn{constructor(n){super(n,tr)}async getTags(n={},r=$e){const s={...r};return n.trending&&(s.trending="true"),n.popular&&(s.popular="true"),n.category&&(s.category=n.category),n.verified&&(s.verified="true"),this._list(tr,s)}async getAll(n=$e){return this.getTags({},n)}async getTrending(n=$e){return this.getTags({trending:!0},n)}async getPopular(n=$e){return this.getTags({popular:!0},n)}async getVerified(n=$e){return this.getTags({verified:!0},n)}async getNewsTags(n=$e){return this.getTags({category:"news"},n)}async getPollTags(n=$e){return this.getTags({category:"polls"},n)}async getTagById(n){return this._get(`${tr}/${n}`)}async getTagBySlug(n){return this._get(`${tr}/slug/${n}`)}async createTag(n){return this._post(tr,n)}async updateTag(n,r){return this._put(`${tr}/${n}`,r)}async deleteTag(n){await this._remove(`${tr}/${n}`)}async getTagNews(n,r=$e){return this._get(`${tr}/${n}/news`,{params:r})}async getTagPolls(n,r=$e){return this._get(`${tr}/${n}/polls`,{params:r})}async addTagToNews(n,r){return this._post(`${tr}/${n}/news/${r}`,{})}async removeTagFromNews(n,r){return this._remove(`${tr}/${n}/news/${r}`)}async addTagToPoll(n,r){return this._post(`${tr}/${n}/polls/${r}`,{})}async removeTagFromPoll(n,r){return this._remove(`${tr}/${n}/polls/${r}`)}async moderateTag(n,r){return this._patch(`${tr}/${n}/moderate`,{statusId:r})}async approveTag(n){return this.moderateTag(n,2)}async rejectTag(n){return this.moderateTag(n,3)}async searchTags(n,r=$e){const s={...r,search:n};return this._list(tr,s)}async getTagSuggestions(n,r=10){const s={prefix:n,limit:r};return this._get(`${tr}/suggestions`,{params:s})}async get(n){return this.getTagById(n)}async create(n){return this.createTag(n)}async update(n,r){return this.updateTag(n,r)}async delete(n){return this.deleteTag(n)}}const Vs="/api/search";class yO extends hn{constructor(n){super(n,Vs)}async search(n,r={},s=$e){const o={q:n,...s};return Object.entries(r).forEach(([i,l])=>{l!=null&&l!==""&&(Array.isArray(l)?o[i]=l.join(","):l instanceof Date?o[i]=l.toISOString():o[i]=l.toString())}),this._list(Vs,o)}async searchNews(n,r=$e){return this._list(`${Vs}/news`,{q:n,...r})}async searchChannels(n,r=$e){return this._list(`${Vs}/channels`,{q:n,...r})}async searchUsers(n,r=$e){return this._list(`${Vs}/users`,{q:n,...r})}async searchPolls(n,r=$e){return this._list(`${Vs}/polls`,{q:n,...r})}async searchTags(n,r=$e){return this._list(`${Vs}/tags`,{q:n,...r})}async getSuggestions(n,r){const s={q:n};return r&&(s.type=r),this._get(`${Vs}/suggestions`,{params:s})}async getStructuredSuggestions(n,r){const s={q:n};return r&&(s.type=r),this._get(`${Vs}/suggestions/structured`,{params:s})}}const Yr="/api/funding";class vO extends hn{constructor(n){super(n,Yr)}async getFund(n,r){var s;try{return this._get(`${Yr}/${n}/${r}`)}catch(o){if(((s=o.response)==null?void 0:s.status)===404)return null;throw o}}async getFundSummary(n,r){var s;try{return this._get(`${Yr}/${n}/${r}/summary`)}catch(o){if(((s=o.response)==null?void 0:s.status)===404)return null;throw o}}async createPayPalOrder(n,r,s){return this._post(`${Yr}/${n}/${r}/create-paypal-order`,s)}async capturePayPalOrder(n,r,s){return this._post(`${Yr}/${n}/${r}/capture-paypal-order`,s)}async getContributions(n,r,s=$e){return this._list(`${Yr}/${n}/${r}/contributions`,s)}async getUserContributions(n=$e){return this._list(`${Yr}/my-contributions`,n)}async getUserContributionsForContent(n,r){return this._get(`${Yr}/${n}/${r}/my-contributions`)}async createFund(n,r,s){return this._post(`${Yr}/${n}/${r}/fund`,s)}async updateFund(n,r,s){return this._put(`${Yr}/${n}/${r}/fund`,s)}async getChannelFundingStats(n,r){return this._get(`${Yr}/channels/${n}/stats`,{params:r})}async processPayout(n,r,s){return this._post(`${Yr}/${n}/${r}/payout`,s)}}const vi="/api/payment-tokens";class jO extends hn{constructor(n){super(n,vi)}async createPayPalTokenizationOrder(){return this._post(`${vi}/paypal/orders`,{})}async capturePayPalTokenizationOrder(n){return this._post(`${vi}/paypal/orders/${n}/capture`,{})}async getPaymentTokenDetails(n){return this._get(`${vi}/paypal/tokens/${n}`)}async deletePaymentToken(n){return this._remove(`${vi}/paypal/tokens/${n}`)}}const ji="/api/iyzico-tokens";class wO extends hn{constructor(n){super(n,ji)}async initializeTokenization(n){return this._post(`${ji}/tokenization/init`,n)}async savePaymentMethod(n){return this._post(`${ji}/tokenization/save`,n)}async getStoredCards(){return this._get(`${ji}/cards`)}async deleteStoredCard(n){return this._remove(`${ji}/cards/${n}`)}}const qr="/api/payouts";class SO extends hn{constructor(n){super(n,qr)}async getPayouts(n){return this._list(qr,n||{})}async getPayoutById(n){return this._get(`${qr}/${n}`)}async getPendingPayouts(n=$e){return this._list(`${qr}/pending`,n)}async getFailedPayouts(n=$e){return this._list(`${qr}/failed`,n)}async getPayoutsReadyForRetry(){return this._get(`${qr}/ready-for-retry`)}async getPayoutsByJournalist(n,r=$e,s){const o={...r};return s&&(o.status=s),this._list(`${qr}/journalist/${n}`,o)}async getPayoutsByChannel(n,r=$e){return this._list(`${qr}/channel/${n}`,r)}async getPayoutStats(n){return this._get(`${qr}/stats`,{params:n})}async processPayout(n){return this._post(`${qr}/${n}/process`,{})}async retryPayout(n){return this._post(`${qr}/${n}/retry`,{})}async cancelPayout(n,r){return this._post(`${qr}/${n}/cancel`,r)}}const Mo="/api/notifications",xy="/api/notifications/device-tokens",CO="/api/notifications/feed";class PO extends hn{constructor(n){super(n,Mo)}async getNotifications(n={},r=$e){const s={...r};return n.typeId!==void 0&&(s.typeId=n.typeId),n.categoryId!==void 0&&(s.categoryId=n.categoryId),n.isRead!==void 0&&(s.isRead=n.isRead),await this._list(Mo,s)}async getNewNotificationsCount(){return await this._get(`${Mo}/new-count`)}async markAsChecked(){await this._post(`${Mo}/mark-checked`,{})}async markAsRead(n){await this._patch(`${Mo}/${n}/read`,null)}async markAllAsRead(){await this._patch(`${Mo}/mark-all-read`,null)}async deleteNotification(n){await this._remove(`${Mo}/${n}`)}async registerDeviceToken(n){await this._post(xy,{token:n})}async unregisterDeviceToken(n){await this._remove(`${xy}/${n}`)}async getNotificationFeed(n={}){const r={};return n.typeId!==void 0&&(r.typeId=n.typeId),n.categoryId!==void 0&&(r.categoryId=n.categoryId),n.isRead!==void 0&&(r.isRead=n.isRead),n.limit!==void 0&&(r.limit=n.limit),n.after&&(r.after=n.after),n.before&&(r.before=n.before),await this._listWithCursor(CO,r)}}class IO{constructor(n){Te(this,"user");Te(this,"poll");Te(this,"news");Te(this,"channel");Te(this,"account");Te(this,"expenseOrder");Te(this,"subscription");Te(this,"tag");Te(this,"search");Te(this,"funding");Te(this,"paymentToken");Te(this,"iyzicoToken");Te(this,"payout");Te(this,"notification");this.user=new pO(n),this.poll=new fO(n),this.news=new hO(n),this.channel=new uO(n),this.account=new mO(n),this.expenseOrder=new xO(n),this.subscription=new gO(n),this.tag=new bO(n),this.search=new yO(n),this.funding=new vO(n),this.paymentToken=new jO(n),this.iyzicoToken=new wO(n),this.payout=new SO(n),this.notification=new PO(n)}}const lc="/api/auth";class DO extends hn{constructor(n){super(n,lc)}async signIn(n){return this._post(`${lc}/sign-in`,n)}async signUp(n){return this._post(`${lc}/sign-up`,n)}async verifyToken(n){return this._post(`${lc}/verify-token`,n)}}const No="/api/studio";class TO extends hn{constructor(n){super(n,No)}async createNews(n){return this._post(`${No}/news`,n)}async createChannel(n){return this._post(`${No}/channels`,n)}async createPoll(n){return this._post(`${No}/polls`,n)}async getMyChannels(){return this._list(`${No}/me/channels`)}async getMyContent(n="all",r=$e){const s={type:n,...r};return n==="all"?this._get(`${No}/me/content`,{params:s}):this._list(`${No}/me/content`,s)}async getMyRecentNews(n=$e){return this.getMyContent("news",n)}async getMyRecentPolls(n=$e){return this.getMyContent("polls",n)}async getMyRecentChannels(n=$e){return this.getMyContent("channels",n)}async getCreatorChannels(){return this.getMyChannels()}async getCreatorContent(n="all",r=$e){return this.getMyContent(n,r)}}class EO{constructor(){Te(this,"axiosJ");Te(this,"admin");Te(this,"app");Te(this,"auth");Te(this,"studio");Te(this,"setAuthHeader",n=>(n?this.axiosJ.axiosInstance.defaults.headers.common.Authorization=`Bearer ${n}`:delete this.axiosJ.axiosInstance.defaults.headers.common.Authorization,this));Te(this,"setApis",()=>(this.admin=new dO(this.axiosJ),this.app=new IO(this.axiosJ),this.auth=new DO(this.axiosJ),this.studio=new TO(this.axiosJ),this));this.axiosJ=new tO}}const AO=50*60*1e3,RO=e=>{const[n,r]=x.useState(null),[s,o]=x.useState(!0),i=x.useRef(null),l=x.useRef(new Set);x.useEffect(()=>{const y=YR(e,b=>{r(b||null),o(!1)});return()=>y()},[e]),x.useEffect(()=>(i.current&&(clearInterval(i.current),i.current=null),n&&(n.getIdToken(!0).catch(y=>{console.error("Error refreshing token on mount:",y)}),i.current=setInterval(async()=>{try{await n.getIdToken(!0),console.log("Token refreshed automatically"),l.current.forEach(y=>{try{y()}catch(b){console.error("Error in token refresh callback:",b)}})}catch(y){console.error("Error during automatic token refresh:",y)}},AO)),()=>{i.current&&(clearInterval(i.current),i.current=null)}),[n]);const d=async(y=!1)=>{if(!n)return null;try{return await n.getIdToken(y)}catch(b){return console.error("Error getting token:",b),null}},u=async(y,b)=>{try{return await(await qR(e,y,b)).user.getIdToken()}catch(w){throw console.error("Sign in error:",w),w}},h=async y=>{try{return await(await KR(e,y)).user.getIdToken()}catch(b){throw console.error("Sign in with provider error:",b),b}},p=async(y,b)=>{try{return(await XR(e,y,b)).user}catch(w){throw console.error("Sign up error:",w),w}},m=async()=>{try{await JR(e),r(null)}catch(y){throw console.error("Sign out error:",y),y}},g=y=>(l.current.add(y),()=>{l.current.delete(y)});return{user:n,isAuthenticated:n!=null,isLoading:s,getToken:d,signIn:u,signInWithProvider:h,signUp:p,signOut:m,onTokenRefresh:g}},Zv="@firebase/installations",Kf="0.6.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=1e4,tj=`w:${Kf}`,nj="FIS_v2",_O="https://firebaseinstallations.googleapis.com/v1",kO=60*60*1e3,OO="installations",MO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},qo=new Iv(OO,MO,NO);function rj(e){return e instanceof QR&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj({projectId:e}){return`${_O}/projects/${e}/installations`}function oj(e){return{token:e.token,requestStatus:2,expiresIn:$O(e.expiresIn),creationTime:Date.now()}}async function aj(e,n){const s=(await n.json()).error;return qo.create("request-failed",{requestName:e,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function ij({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function LO(e,{refreshToken:n}){const r=ij(e);return r.append("Authorization",FO(n)),r}async function lj(e){const n=await e();return n.status>=500&&n.status<600?e():n}function $O(e){return Number(e.replace("s","000"))}function FO(e){return`${nj} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WO({appConfig:e,heartbeatServiceProvider:n},{fid:r}){const s=sj(e),o=ij(e),i=n.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&o.append("x-firebase-client",h)}const l={fid:r,authVersion:nj,appId:e.appId,sdkVersion:tj},d={method:"POST",headers:o,body:JSON.stringify(l)},u=await lj(()=>fetch(s,d));if(u.ok){const h=await u.json();return{fid:h.fid||r,registrationStatus:2,refreshToken:h.refreshToken,authToken:oj(h.authToken)}}else throw await aj("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(e){return new Promise(n=>{setTimeout(n,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=/^[cdef][\w-]{21}$/,rf="";function UO(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const r=zO(e);return VO.test(r)?r:rf}catch{return rf}}function zO(e){return BO(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=new Map;function uj(e,n){const r=bd(e);hj(r,n),HO(r,n)}function hj(e,n){const r=dj.get(e);if(r)for(const s of r)s(n)}function HO(e,n){const r=GO();r&&r.postMessage({key:e,fid:n}),YO()}let Vo=null;function GO(){return!Vo&&"BroadcastChannel"in self&&(Vo=new BroadcastChannel("[Firebase] FID Change"),Vo.onmessage=e=>{hj(e.data.key,e.data.fid)}),Vo}function YO(){dj.size===0&&Vo&&(Vo.close(),Vo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO="firebase-installations-database",KO=1,Ko="firebase-installations-store";let bh=null;function Xf(){return bh||(bh=Bf(qO,KO,{upgrade:(e,n)=>{switch(n){case 0:e.createObjectStore(Ko)}}})),bh}async function Vc(e,n){const r=bd(e),o=(await Xf()).transaction(Ko,"readwrite"),i=o.objectStore(Ko),l=await i.get(r);return await i.put(n,r),await o.done,(!l||l.fid!==n.fid)&&uj(e,n.fid),n}async function fj(e){const n=bd(e),s=(await Xf()).transaction(Ko,"readwrite");await s.objectStore(Ko).delete(n),await s.done}async function yd(e,n){const r=bd(e),o=(await Xf()).transaction(Ko,"readwrite"),i=o.objectStore(Ko),l=await i.get(r),d=n(l);return d===void 0?await i.delete(r):await i.put(d,r),await o.done,d&&(!l||l.fid!==d.fid)&&uj(e,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jf(e){let n;const r=await yd(e.appConfig,s=>{const o=XO(s),i=JO(e,o);return n=i.registrationPromise,i.installationEntry});return r.fid===rf?{installationEntry:await n}:{installationEntry:r,registrationPromise:n}}function XO(e){const n=e||{fid:UO(),registrationStatus:0};return pj(n)}function JO(e,n){if(n.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(qo.create("app-offline"));return{installationEntry:n,registrationPromise:o}}const r={fid:n.fid,registrationStatus:1,registrationTime:Date.now()},s=QO(e,r);return{installationEntry:r,registrationPromise:s}}else return n.registrationStatus===1?{installationEntry:n,registrationPromise:ZO(e)}:{installationEntry:n}}async function QO(e,n){try{const r=await WO(e,n);return Vc(e.appConfig,r)}catch(r){throw rj(r)&&r.customData.serverCode===409?await fj(e.appConfig):await Vc(e.appConfig,{fid:n.fid,registrationStatus:0}),r}}async function ZO(e){let n=await gy(e.appConfig);for(;n.registrationStatus===1;)await cj(100),n=await gy(e.appConfig);if(n.registrationStatus===0){const{installationEntry:r,registrationPromise:s}=await Jf(e);return s||r}return n}function gy(e){return yd(e,n=>{if(!n)throw qo.create("installation-not-found");return pj(n)})}function pj(e){return eM(e)?{fid:e.fid,registrationStatus:0}:e}function eM(e){return e.registrationStatus===1&&e.registrationTime+ej<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tM({appConfig:e,heartbeatServiceProvider:n},r){const s=nM(e,r),o=LO(e,r),i=n.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&o.append("x-firebase-client",h)}const l={installation:{sdkVersion:tj,appId:e.appId}},d={method:"POST",headers:o,body:JSON.stringify(l)},u=await lj(()=>fetch(s,d));if(u.ok){const h=await u.json();return oj(h)}else throw await aj("Generate Auth Token",u)}function nM(e,{fid:n}){return`${sj(e)}/${n}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qf(e,n=!1){let r;const s=await yd(e.appConfig,i=>{if(!mj(i))throw qo.create("not-registered");const l=i.authToken;if(!n&&oM(l))return i;if(l.requestStatus===1)return r=rM(e,n),i;{if(!navigator.onLine)throw qo.create("app-offline");const d=iM(i);return r=sM(e,d),d}});return r?await r:s.authToken}async function rM(e,n){let r=await by(e.appConfig);for(;r.authToken.requestStatus===1;)await cj(100),r=await by(e.appConfig);const s=r.authToken;return s.requestStatus===0?Qf(e,n):s}function by(e){return yd(e,n=>{if(!mj(n))throw qo.create("not-registered");const r=n.authToken;return lM(r)?Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}):n})}async function sM(e,n){try{const r=await tM(e,n),s=Object.assign(Object.assign({},n),{authToken:r});return await Vc(e.appConfig,s),r}catch(r){if(rj(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await fj(e.appConfig);else{const s=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}});await Vc(e.appConfig,s)}throw r}}function mj(e){return e!==void 0&&e.registrationStatus===2}function oM(e){return e.requestStatus===2&&!aM(e)}function aM(e){const n=Date.now();return n<e.creationTime||e.creationTime+e.expiresIn<n+kO}function iM(e){const n={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:n})}function lM(e){return e.requestStatus===1&&e.requestTime+ej<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(e){const n=e,{installationEntry:r,registrationPromise:s}=await Jf(n);return s?s.catch(console.error):Qf(n).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(e,n=!1){const r=e;return await uM(r),(await Qf(r,n)).token}async function uM(e){const{registrationPromise:n}=await Jf(e);n&&await n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(e){if(!e||!e.options)throw yh("App Configuration");if(!e.name)throw yh("App Name");const n=["projectId","apiKey","appId"];for(const r of n)if(!e.options[r])throw yh(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function yh(e){return qo.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj="installations",fM="installations-internal",pM=e=>{const n=e.getProvider("app").getImmediate(),r=hM(n),s=Wf(n,"heartbeat");return{app:n,appConfig:r,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},mM=e=>{const n=e.getProvider("app").getImmediate(),r=Wf(n,xj).getImmediate();return{getId:()=>cM(r),getToken:o=>dM(r,o)}};function xM(){_c(new kc(xj,pM,"PUBLIC")),_c(new kc(fM,mM,"PRIVATE"))}xM();Rc(Zv,Kf);Rc(Zv,Kf,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM="/firebase-messaging-sw.js",bM="/firebase-cloud-messaging-push-scope",gj="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",yM="https://fcmregistrations.googleapis.com/v1",bj="google.c.a.c_id",vM="google.c.a.c_l",jM="google.c.a.ts",wM="google.c.a.e";var yy;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(yy||(yy={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Wi;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Wi||(Wi={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(e){const n=new Uint8Array(e);return btoa(String.fromCharCode(...n)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function SM(e){const n="=".repeat((4-e.length%4)%4),r=(e+n).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(r),o=new Uint8Array(s.length);for(let i=0;i<s.length;++i)o[i]=s.charCodeAt(i);return o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh="fcm_token_details_db",CM=5,vy="fcm_token_object_Store";async function PM(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(vh))return null;let n=null;return(await Bf(vh,CM,{upgrade:async(s,o,i,l)=>{var d;if(o<2||!s.objectStoreNames.contains(vy))return;const u=l.objectStore(vy),h=await u.index("fcmSenderId").get(e);if(await u.clear(),!!h){if(o===2){const p=h;if(!p.auth||!p.p256dh||!p.endpoint)return;n={token:p.fcmToken,createTime:(d=p.createTime)!==null&&d!==void 0?d:Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:Us(p.vapidKey)}}}else if(o===3){const p=h;n={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Us(p.auth),p256dh:Us(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Us(p.vapidKey)}}}else if(o===4){const p=h;n={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Us(p.auth),p256dh:Us(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Us(p.vapidKey)}}}}}})).close(),await hh(vh),await hh("fcm_vapid_details_db"),await hh("undefined"),IM(n)?n:null}function IM(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:n}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof n.auth=="string"&&n.auth.length>0&&typeof n.p256dh=="string"&&n.p256dh.length>0&&typeof n.endpoint=="string"&&n.endpoint.length>0&&typeof n.swScope=="string"&&n.swScope.length>0&&typeof n.vapidKey=="string"&&n.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="firebase-messaging-database",TM=1,Bi="firebase-messaging-store";let jh=null;function yj(){return jh||(jh=Bf(DM,TM,{upgrade:(e,n)=>{switch(n){case 0:e.createObjectStore(Bi)}}})),jh}async function EM(e){const n=vj(e),s=await(await yj()).transaction(Bi).objectStore(Bi).get(n);if(s)return s;{const o=await PM(e.appConfig.senderId);if(o)return await Zf(e,o),o}}async function Zf(e,n){const r=vj(e),o=(await yj()).transaction(Bi,"readwrite");return await o.objectStore(Bi).put(n,r),await o.done,n}function vj({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},sr=new Iv("messaging","Messaging",AM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RM(e,n){const r=await tp(e),s=jj(n),o={method:"POST",headers:r,body:JSON.stringify(s)};let i;try{i=await(await fetch(ep(e.appConfig),o)).json()}catch(l){throw sr.create("token-subscribe-failed",{errorInfo:l==null?void 0:l.toString()})}if(i.error){const l=i.error.message;throw sr.create("token-subscribe-failed",{errorInfo:l})}if(!i.token)throw sr.create("token-subscribe-no-token");return i.token}async function _M(e,n){const r=await tp(e),s=jj(n.subscriptionOptions),o={method:"PATCH",headers:r,body:JSON.stringify(s)};let i;try{i=await(await fetch(`${ep(e.appConfig)}/${n.token}`,o)).json()}catch(l){throw sr.create("token-update-failed",{errorInfo:l==null?void 0:l.toString()})}if(i.error){const l=i.error.message;throw sr.create("token-update-failed",{errorInfo:l})}if(!i.token)throw sr.create("token-update-no-token");return i.token}async function kM(e,n){const s={method:"DELETE",headers:await tp(e)};try{const i=await(await fetch(`${ep(e.appConfig)}/${n}`,s)).json();if(i.error){const l=i.error.message;throw sr.create("token-unsubscribe-failed",{errorInfo:l})}}catch(o){throw sr.create("token-unsubscribe-failed",{errorInfo:o==null?void 0:o.toString()})}}function ep({projectId:e}){return`${yM}/projects/${e}/registrations`}async function tp({appConfig:e,installations:n}){const r=await n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function jj({p256dh:e,auth:n,endpoint:r,vapidKey:s}){const o={web:{endpoint:r,auth:n,p256dh:e}};return s!==gj&&(o.web.applicationPubKey=s),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=7*24*60*60*1e3;async function MM(e){const n=await LM(e.swRegistration,e.vapidKey),r={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:n.endpoint,auth:Us(n.getKey("auth")),p256dh:Us(n.getKey("p256dh"))},s=await EM(e.firebaseDependencies);if(s){if($M(s.subscriptionOptions,r))return Date.now()>=s.createTime+OM?NM(e,{token:s.token,createTime:Date.now(),subscriptionOptions:r}):s.token;try{await kM(e.firebaseDependencies,s.token)}catch(o){console.warn(o)}return jy(e.firebaseDependencies,r)}else return jy(e.firebaseDependencies,r)}async function NM(e,n){try{const r=await _M(e.firebaseDependencies,n),s=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()});return await Zf(e.firebaseDependencies,s),r}catch(r){throw r}}async function jy(e,n){const s={token:await RM(e,n),createTime:Date.now(),subscriptionOptions:n};return await Zf(e,s),s.token}async function LM(e,n){const r=await e.pushManager.getSubscription();return r||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:SM(n)})}function $M(e,n){const r=n.vapidKey===e.vapidKey,s=n.endpoint===e.endpoint,o=n.auth===e.auth,i=n.p256dh===e.p256dh;return r&&s&&o&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(e){const n={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return FM(n,e),WM(n,e),BM(n,e),n}function FM(e,n){if(!n.notification)return;e.notification={};const r=n.notification.title;r&&(e.notification.title=r);const s=n.notification.body;s&&(e.notification.body=s);const o=n.notification.image;o&&(e.notification.image=o);const i=n.notification.icon;i&&(e.notification.icon=i)}function WM(e,n){n.data&&(e.data=n.data)}function BM(e,n){var r,s,o,i,l;if(!n.fcmOptions&&!(!((r=n.notification)===null||r===void 0)&&r.click_action))return;e.fcmOptions={};const d=(o=(s=n.fcmOptions)===null||s===void 0?void 0:s.link)!==null&&o!==void 0?o:(i=n.notification)===null||i===void 0?void 0:i.click_action;d&&(e.fcmOptions.link=d);const u=(l=n.fcmOptions)===null||l===void 0?void 0:l.analytics_label;u&&(e.fcmOptions.analyticsLabel=u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(e){return typeof e=="object"&&!!e&&bj in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wj("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");wj("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function wj(e,n){const r=[];for(let s=0;s<e.length;s++)r.push(e.charAt(s)),s<n.length&&r.push(n.charAt(s));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(e){if(!e||!e.options)throw wh("App Configuration Object");if(!e.name)throw wh("App Name");const n=["projectId","apiKey","appId","messagingSenderId"],{options:r}=e;for(const s of n)if(!r[s])throw wh(s);return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function wh(e){return sr.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(n,r,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=UM(n);this.firebaseDependencies={app:n,appConfig:o,installations:r,analyticsProvider:s}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HM(e){try{e.swRegistration=await navigator.serviceWorker.register(gM,{scope:bM}),e.swRegistration.update().catch(()=>{})}catch(n){throw sr.create("failed-service-worker-registration",{browserErrorMessage:n==null?void 0:n.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GM(e,n){if(!n&&!e.swRegistration&&await HM(e),!(!n&&e.swRegistration)){if(!(n instanceof ServiceWorkerRegistration))throw sr.create("invalid-sw-registration");e.swRegistration=n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YM(e,n){n?e.vapidKey=n:e.vapidKey||(e.vapidKey=gj)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sj(e,n){if(!navigator)throw sr.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw sr.create("permission-blocked");return await YM(e,n==null?void 0:n.vapidKey),await GM(e,n==null?void 0:n.serviceWorkerRegistration),MM(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(e,n,r){const s=KM(n);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:r[bj],message_name:r[vM],message_time:r[jM],message_device_time:Math.floor(Date.now()/1e3)})}function KM(e){switch(e){case Wi.NOTIFICATION_CLICKED:return"notification_open";case Wi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XM(e,n){const r=n.data;if(!r.isFirebaseMessaging)return;e.onMessageHandler&&r.messageType===Wi.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(wy(r)):e.onMessageHandler.next(wy(r)));const s=r.data;VM(s)&&s[wM]==="1"&&await qM(e,r.messageType,s)}const Sy="@firebase/messaging",Cy="0.12.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=e=>{const n=new zM(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>XM(n,r)),n},QM=e=>{const n=e.getProvider("messaging").getImmediate();return{getToken:s=>Sj(n,s)}};function ZM(){_c(new kc("messaging",JM,"PUBLIC")),_c(new kc("messaging-internal",QM,"PRIVATE")),Rc(Sy,Cy),Rc(Sy,Cy,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(){try{await e_()}catch{return!1}return typeof window<"u"&&t_()&&n_()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(e,n){if(!navigator)throw sr.create("only-available-in-window");return e.onMessageHandler=n,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(e=ZR()){return eN().then(n=>{if(!n)throw sr.create("unsupported-browser")},n=>{throw sr.create("indexed-db-unsupported")}),Wf(Vf(e),"messaging").getImmediate()}async function rN(e,n){return e=Vf(e),Sj(e,n)}function sN(e,n){return e=Vf(e),tN(e,n)}ZM();const oN={apiKey:"AIzaSyAsiLj2G16z35SAYVVo79_EJh3qy9X8zFE",authDomain:"journalist-2bf9e.firebaseapp.com",projectId:"journalist-2bf9e",storageBucket:"journalist-2bf9e.firebasestorage.app",messagingSenderId:"1048434393409",appId:"1:1048434393409:web:aca11459895da9872ca1c0",measurementId:"G-23KLS9XB70"},Cj=r_(oN),aN=s_(Cj),Pj=new o_;new a_;new i_;new l_("apple.com");let wa=null;if(typeof window<"u"&&"serviceWorker"in navigator)try{wa=nN(Cj)}catch(e){console.error("[Firebase] FCM initialization failed:",e)}function vd(){const e=x.createContext(null);function n(){const r=x.useContext(e);if(!r)throw new Error("Context must be used within provider");return r}return[e,n]}const[iN,As]=vd(),lN=({children:e})=>{const n=RO(aN);return t.jsx(iN.Provider,{value:n,children:e})},Ij=x.createContext(null),Qe=()=>x.useContext(Ij),cN=({children:e})=>{const n=As();if(!n)throw new Error("ApiProvider must be used within AuthProvider. Please wrap ApiProvider with AuthProvider in your component tree.");const[r,s]=x.useState({api:new EO,isAuthenticated:!1,isLoading:!0}),o=x.useCallback(async(i=!1)=>{if(n.user){const l=await n.getToken(i);l&&s(d=>{const u=d.api.setAuthHeader(l).setApis();return{...d,api:u,isAuthenticated:!0,isLoading:!1}})}else s(l=>{const d=l.api.setAuthHeader(null).setApis();return{...l,api:d,isAuthenticated:!1,isLoading:!1}})},[n]);return x.useEffect(()=>{o(!1)},[n.user,n.isAuthenticated,o]),x.useEffect(()=>{console.log("Subscribing to Firebase token refresh events...");const i=n.onTokenRefresh(async()=>{try{console.log("Firebase token refreshed - updating API authorization header..."),await o(!1)}catch(l){console.error("Error updating API token after Firebase refresh:",l)}});return()=>{console.log("Unsubscribing from Firebase token refresh events..."),i()}},[n,o]),t.jsx(Ij.Provider,{value:r,children:e})},dN=" BKFcSPG4h0WTfkz1F5siTwfoHHaBsT-MjwVP1OcRvNjWGYY5ywTG0BARQpTmrprsfus4O8xHBc1Wlo8fIpC4eAQ ",uN=()=>{const[e,n]=x.useState(null),[r,s]=x.useState("default"),[o,i]=x.useState(null),{api:l}=Qe(),d=x.useCallback(async()=>{try{if(!wa){console.warn("[FCM] Messaging not supported in this browser");return}if(Notification.permission==="granted"){console.log("[FCM] Permission already granted"),s("granted"),await u();return}if(Notification.permission==="denied"){console.warn("[FCM] Permission denied by user"),s("denied"),i("Notification permission denied. Please enable it in browser settings.");return}const m=await Notification.requestPermission();s(m),m==="granted"?(console.log("[FCM] Permission granted"),await u()):(console.warn("[FCM] Permission not granted:",m),i("Notification permission not granted"))}catch(m){console.error("[FCM] Error requesting permission:",m),i("Failed to request notification permission")}},[]),u=x.useCallback(async()=>{try{if(!wa){console.warn("[FCM] Messaging not initialized");return}const m=await navigator.serviceWorker.ready,g=await rN(wa,{vapidKey:dN,serviceWorkerRegistration:m});g?(console.log("[FCM] Token obtained:",g.substring(0,20)+"..."),n(g),await h(g)):(console.warn("[FCM] No token obtained"),i("Failed to get FCM token"))}catch(m){console.error("[FCM] Error getting token:",m),i("Failed to get FCM token. Make sure VAPID key is configured.")}},[]),h=x.useCallback(async m=>{try{await l.app.notification.registerDeviceToken(m),console.log("[FCM] Token registered with backend")}catch(g){console.error("[FCM] Error registering token with backend:",g)}},[l]),p=x.useCallback(async()=>{if(e)try{await l.app.notification.unregisterDeviceToken(e),console.log("[FCM] Token unregistered from backend"),n(null)}catch(m){console.error("[FCM] Error unregistering token:",m)}},[l,e]);return x.useEffect(()=>{if(!wa)return;const m=sN(wa,g=>{var y,b,w,v;if(console.log("[FCM] Foreground message received:",g),Notification.permission==="granted"){const I=((y=g.notification)==null?void 0:y.title)||"New Notification",S={body:((b=g.notification)==null?void 0:b.body)||"",icon:((w=g.notification)==null?void 0:w.icon)||"/vite.svg",badge:"/vite.svg",data:g.data,tag:((v=g.data)==null?void 0:v.notificationId)||"default"};new Notification(I,S)}window.dispatchEvent(new CustomEvent("fcm-notification-received",{detail:g}))});return()=>{m()}},[]),x.useEffect(()=>{Notification.permission==="granted"&&!e&&u()},[]),{fcmToken:e,permission:r,error:o,requestPermission:d,unregisterToken:p}},[hN,Ja]=vd(),fN=({children:e})=>{const n=As(),{isLoading:r,isAuthenticated:s}=Qe(),{requestPermission:o}=uN(),[i,l]=x.useState({isLoading:!0,isAuthenticated:!1}),d=x.useCallback(async()=>{await n.signOut()},[n]);x.useEffect(()=>{if(!!n.isLoading||!!r){l({isLoading:!0,isAuthenticated:!1});return}const m=!!n.user&&s;l({isLoading:!1,isAuthenticated:m}),m&&o()},[n.isLoading,n.user,r,s,o]);const u={...i,actions:{signOut:d}};return t.jsx(hN.Provider,{value:u,children:e})};var np={},Sh={};const pN=FA(WA);var Py;function Xe(){return Py||(Py=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=pN}(Sh)),Sh}var mN=Ke;Object.defineProperty(np,"__esModule",{value:!0});var jd=np.default=void 0,xN=mN(Xe()),gN=t;jd=np.default=(0,xN.default)((0,gN.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");var rp={},bN=Ke;Object.defineProperty(rp,"__esModule",{value:!0});var sp=rp.default=void 0,yN=bN(Xe()),vN=t;sp=rp.default=(0,yN.default)((0,vN.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");var op={},jN=Ke;Object.defineProperty(op,"__esModule",{value:!0});var il=op.default=void 0,wN=jN(Xe()),SN=t;il=op.default=(0,wN.default)((0,SN.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp");var ap={},CN=Ke;Object.defineProperty(ap,"__esModule",{value:!0});var Dj=ap.default=void 0,PN=CN(Xe()),IN=t;Dj=ap.default=(0,PN.default)((0,IN.jsx)("path",{d:"M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m2.19 12.19L6 18l3.81-8.19L18 6z"}),"Explore");var ip={},DN=Ke;Object.defineProperty(ip,"__esModule",{value:!0});var lp=ip.default=void 0,TN=DN(Xe()),Iy=t;lp=ip.default=(0,TN.default)([(0,Iy.jsx)("circle",{cx:"6.18",cy:"17.82",r:"2.18"},"0"),(0,Iy.jsx)("path",{d:"M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56m0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9"},"1")],"RssFeed");var cp={},EN=Ke;Object.defineProperty(cp,"__esModule",{value:!0});var Na=cp.default=void 0,AN=EN(Xe()),RN=t;Na=cp.default=(0,AN.default)((0,RN.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");var dp={},_N=Ke;Object.defineProperty(dp,"__esModule",{value:!0});var wd=dp.default=void 0,kN=_N(Xe()),ON=t;wd=dp.default=(0,kN.default)((0,ON.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"}),"Poll");const Tj=x.createContext(null),MN=()=>{const e=x.useContext(Tj);if(!e)throw new Error("useNotification must be used within a NotificationProvider");return e},NN=({children:e})=>{const[n,r]=x.useState({open:!1,message:"",severity:"info",autoHideDuration:6e3}),s=x.useCallback((m,g="info",y=6e3)=>{r({open:!0,message:m,severity:g,autoHideDuration:y})},[]),o=x.useCallback(m=>{s(m,"success")},[s]),i=x.useCallback(m=>{s(m,"error")},[s]),l=x.useCallback(m=>{s(m,"warning")},[s]),d=x.useCallback(m=>{s(m,"info")},[s]),u=x.useCallback(m=>{if(m.length===0)return;const g=(w,v="")=>{const I=Object.values(w.constraints||{}),S=`${v}${w.property}: ${I.join(", ")}`;if(w.children&&w.children.length>0){const T=w.children.map(D=>g(D,"  "));return`${S}
${T.join(`
`)}`}return S},y=m.map(w=>g(w)),b=y.length===1?y[0]:`Validation errors:
${y.map(w=>` ${w}`).join(`
`)}`;s(b,"error",1e4)},[s]),h=x.useCallback(()=>{r(m=>({...m,open:!1}))},[]),p={showNotification:s,showSuccess:o,showError:i,showWarning:l,showInfo:d,showValidationErrors:u,hideNotification:h};return t.jsxs(Tj.Provider,{value:p,children:[e,t.jsx(uv,{open:n.open,autoHideDuration:n.autoHideDuration,onClose:h,anchorOrigin:{vertical:"top",horizontal:"right"},children:t.jsx(dt,{onClose:h,severity:n.severity,variant:"filled",sx:{width:"100%",whiteSpace:"pre-line"},children:n.message})})]})},LN=e=>{var n,r,s;return((n=e==null?void 0:e.response)==null?void 0:n.status)===400&&((r=e.response.data)==null?void 0:r.status)==="error"&&((s=e.response.data)==null?void 0:s.errors)},$N=e=>{var n;return((n=e==null?void 0:e.response)==null?void 0:n.status)===401},FN=e=>{var n;return(((n=e==null?void 0:e.response)==null?void 0:n.status)||0)>=500},WN=e=>!(e!=null&&e.response),st=()=>{const[e,n]=x.useState(!1),[r,s]=x.useState(null),{showSuccess:o,showError:i,showValidationErrors:l}=MN(),d=x.useCallback(async(h,p={})=>{var w,v;const{showSuccessMessage:m=!1,successMessage:g="Operation completed successfully",showErrorToast:y=!0,customErrorHandler:b}=p;try{n(!0),s(null);const I=await h();return m&&o(g),I}catch(I){if(b&&b(I))return null;const S=I;let T="An error occurred",D=y;if(LN(S)){const A=(w=S.response)==null?void 0:w.data;T=A.message||"Validation failed",s(T),D&&l&&(l(A.errors),D=!1)}else if($N(S))T="Unauthorized access. Please log in again.",s(T),D&&i(T);else if(FN(S))T="Server error. Please try again later.",s(T),D&&i(T);else if(WN(S))T="Network error. Please check your connection.",s(T),D&&i(T);else{const A=(v=S.response)==null?void 0:v.data;T=(A==null?void 0:A.message)||S.message||"An error occurred",s(T),D&&i(T)}return null}finally{n(!1)}},[o,i,l]),u=x.useCallback(()=>{s(null)},[]);return{loading:e,error:r,execute:d,clearError:u}},Dy=({isOpen:e})=>{const n=Qo(),{api:r}=Qe(),{execute:s}=st(),[o,i]=x.useState([]),l=[{path:`${ye.APP_NEWS_MY_FEED}`,icon:t.jsx(Na,{}),label:"For you"},{path:`${ye.APP_NEWS_DISCOVER}`,icon:t.jsx(Dj,{}),label:"Discover"},{path:`${ye.APP_POLLS}`,icon:t.jsx(wd,{}),label:"Polls"},{path:`${ye.APP_CHANNELS}`,icon:t.jsx(lp,{}),label:"Channels"}],d=[{path:`${ye.APP_NEWS_TRENDING}`,icon:t.jsx(il,{}),label:"Trending"}];return x.useEffect(()=>{e&&(async()=>{const h=await s(()=>r==null?void 0:r.app.channel.getChannels({},{page:1,limit:5}),{showErrorToast:!1});h&&i(h.items)})()},[e]),e?t.jsxs(C,{sx:{height:"100%",display:"flex",flexDirection:"column",overflow:"auto",p:2},children:[t.jsx(fr,{sx:{pt:0,pb:0},children:l.map(u=>t.jsxs(rr,{button:!0,component:Kn,to:u.path,selected:n.pathname===u.path,sx:{borderRadius:1,mx:1,mb:.5,py:1,"&.Mui-selected":{backgroundColor:"action.selected",fontWeight:600},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(en,{sx:{minWidth:40},children:u.icon}),t.jsx(Ht,{primary:u.label,primaryTypographyProps:{fontWeight:n.pathname===u.path?600:400,fontSize:"0.95rem"}})]},u.path))}),t.jsx(Lt,{sx:{my:1}}),t.jsx(C,{sx:{px:2,py:1},children:t.jsx(j,{variant:"caption",sx:{fontWeight:600,color:"text.secondary",textTransform:"uppercase",fontSize:"0.75rem",letterSpacing:"0.5px"},children:"Categories"})}),t.jsx(fr,{sx:{pt:0,pb:1},children:d.map(u=>t.jsxs(rr,{button:!0,component:Kn,to:u.path,sx:{borderRadius:1,mx:1,mb:.5,py:.75,"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(en,{sx:{minWidth:40},children:u.icon}),t.jsx(Ht,{primary:u.label,primaryTypographyProps:{fontSize:"0.9rem"}})]},u.path))}),t.jsx(Lt,{sx:{my:1}}),t.jsx(C,{sx:{px:2,py:1},children:t.jsx(j,{variant:"caption",sx:{fontWeight:600,color:"text.secondary",textTransform:"uppercase",fontSize:"0.75rem",letterSpacing:"0.5px"},children:"Popular"})}),t.jsx(fr,{sx:{pt:0,pb:1,flexGrow:1},children:o.map(u=>t.jsxs(rr,{button:!0,component:Kn,to:`${ye.APP_CHANNELS}/${u.id}`,sx:{borderRadius:1,mx:1,mb:.5,py:1,"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(wn,{src:u.logoUrl,sx:{width:32,height:32,mr:1.5},children:u.name.charAt(0).toUpperCase()}),t.jsx(C,{sx:{flexGrow:1,minWidth:0},children:t.jsx(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:t.jsx(j,{variant:"body2",sx:{fontWeight:500,fontSize:"0.875rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:u.name})})})]},u.id))})]}):t.jsx(C,{sx:{height:"100%",display:"flex",flexDirection:"column",py:1},children:t.jsx(fr,{sx:{flexGrow:1},children:l.map(u=>t.jsx(rr,{button:!0,component:Kn,to:u.path,selected:n.pathname===u.path,sx:{borderRadius:1,mx:.5,justifyContent:"center",minHeight:48,"&.Mui-selected":{backgroundColor:"action.selected"}},children:t.jsx(en,{sx:{minWidth:"auto"},children:u.icon})},u.path))})})};var up={},BN=Ke;Object.defineProperty(up,"__esModule",{value:!0});var Ej=up.default=void 0,VN=BN(Xe()),UN=t;Ej=up.default=(0,VN.default)((0,UN.jsx)("path",{d:"M4 18h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1m0-5h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1M3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1"}),"MenuRounded");var hp={},zN=Ke;Object.defineProperty(hp,"__esModule",{value:!0});var Sd=hp.default=void 0,HN=zN(Xe()),GN=t;Sd=hp.default=(0,HN.default)((0,GN.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle");var fp={},YN=Ke;Object.defineProperty(fp,"__esModule",{value:!0});var ll=fp.default=void 0,qN=YN(Xe()),KN=t;ll=fp.default=(0,qN.default)((0,KN.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var pp={},XN=Ke;Object.defineProperty(pp,"__esModule",{value:!0});var Aj=pp.default=void 0,JN=XN(Xe()),QN=t;Aj=pp.default=(0,JN.default)((0,QN.jsx)("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8 12.5v-9l6 4.5z"}),"VideoLibrary");var mp={},ZN=Ke;Object.defineProperty(mp,"__esModule",{value:!0});var Rj=mp.default=void 0,eL=ZN(Xe()),tL=t;Rj=mp.default=(0,eL.default)((0,tL.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout");var Uc={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Uc.exports;(function(e,n){(function(){var r,s="4.17.21",o=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",d="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",h=500,p="__lodash_placeholder__",m=1,g=2,y=4,b=1,w=2,v=1,I=2,S=4,T=8,D=16,A=32,R=64,k=128,_=256,N=512,W=30,Y="...",$=800,H=16,J=1,X=2,K=3,Z=1/0,G=9007199254740991,oe=17976931348623157e292,V=NaN,ee=4294967295,Pe=ee-1,pe=ee>>>1,Re=[["ary",k],["bind",v],["bindKey",I],["curry",T],["curryRight",D],["flip",N],["partial",A],["partialRight",R],["rearg",_]],le="[object Arguments]",re="[object Array]",je="[object AsyncFunction]",Oe="[object Boolean]",be="[object Date]",ie="[object DOMException]",ae="[object Error]",se="[object Function]",me="[object GeneratorFunction]",de="[object Map]",_e="[object Number]",Ee="[object Null]",He="[object Object]",ue="[object Promise]",Se="[object Proxy]",q="[object RegExp]",L="[object Set]",ke="[object String]",Ue="[object Symbol]",dn="[object Undefined]",Ft="[object WeakMap]",Rt="[object WeakSet]",Qt="[object ArrayBuffer]",Ln="[object DataView]",ut="[object Float32Array]",gt="[object Float64Array]",_t="[object Int8Array]",Yt="[object Int16Array]",En="[object Int32Array]",pn="[object Uint8Array]",Jn="[object Uint8ClampedArray]",yn="[object Uint16Array]",Pt="[object Uint32Array]",An=/\b__p \+= '';/g,Vn=/\b(__p \+=) '' \+/g,Pr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Po=/&(?:amp|lt|gt|quot|#39);/g,ar=/[&<>"']/g,Kd=RegExp(Po.source),Xd=RegExp(ar.source),Jd=/<%-([\s\S]+?)%>/g,Sx=/<%([\s\S]+?)%>/g,Qd=/<%=([\s\S]+?)%>/g,vn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ir=/^\w*$/,xl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zd=/[\\^$.*+?()[\]{}|]/g,pC=RegExp(Zd.source),eu=/^\s+/,mC=/\s/,xC=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,gC=/\{\n\/\* \[wrapped with (.+)\] \*/,bC=/,? & /,yC=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,vC=/[()=,{}\[\]\/\s]/,jC=/\\(\\)?/g,wC=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Cx=/\w*$/,SC=/^[-+]0x[0-9a-f]+$/i,CC=/^0b[01]+$/i,PC=/^\[object .+?Constructor\]$/,IC=/^0o[0-7]+$/i,DC=/^(?:0|[1-9]\d*)$/,TC=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,gl=/($^)/,EC=/['\n\r\u2028\u2029\\]/g,bl="\\ud800-\\udfff",AC="\\u0300-\\u036f",RC="\\ufe20-\\ufe2f",_C="\\u20d0-\\u20ff",Px=AC+RC+_C,Ix="\\u2700-\\u27bf",Dx="a-z\\xdf-\\xf6\\xf8-\\xff",kC="\\xac\\xb1\\xd7\\xf7",OC="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",MC="\\u2000-\\u206f",NC=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Tx="A-Z\\xc0-\\xd6\\xd8-\\xde",Ex="\\ufe0e\\ufe0f",Ax=kC+OC+MC+NC,tu="[']",LC="["+bl+"]",Rx="["+Ax+"]",yl="["+Px+"]",_x="\\d+",$C="["+Ix+"]",kx="["+Dx+"]",Ox="[^"+bl+Ax+_x+Ix+Dx+Tx+"]",nu="\\ud83c[\\udffb-\\udfff]",FC="(?:"+yl+"|"+nu+")",Mx="[^"+bl+"]",ru="(?:\\ud83c[\\udde6-\\uddff]){2}",su="[\\ud800-\\udbff][\\udc00-\\udfff]",ra="["+Tx+"]",Nx="\\u200d",Lx="(?:"+kx+"|"+Ox+")",WC="(?:"+ra+"|"+Ox+")",$x="(?:"+tu+"(?:d|ll|m|re|s|t|ve))?",Fx="(?:"+tu+"(?:D|LL|M|RE|S|T|VE))?",Wx=FC+"?",Bx="["+Ex+"]?",BC="(?:"+Nx+"(?:"+[Mx,ru,su].join("|")+")"+Bx+Wx+")*",VC="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",UC="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Vx=Bx+Wx+BC,zC="(?:"+[$C,ru,su].join("|")+")"+Vx,HC="(?:"+[Mx+yl+"?",yl,ru,su,LC].join("|")+")",GC=RegExp(tu,"g"),YC=RegExp(yl,"g"),ou=RegExp(nu+"(?="+nu+")|"+HC+Vx,"g"),qC=RegExp([ra+"?"+kx+"+"+$x+"(?="+[Rx,ra,"$"].join("|")+")",WC+"+"+Fx+"(?="+[Rx,ra+Lx,"$"].join("|")+")",ra+"?"+Lx+"+"+$x,ra+"+"+Fx,UC,VC,_x,zC].join("|"),"g"),KC=RegExp("["+Nx+bl+Px+Ex+"]"),XC=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,JC=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],QC=-1,sn={};sn[ut]=sn[gt]=sn[_t]=sn[Yt]=sn[En]=sn[pn]=sn[Jn]=sn[yn]=sn[Pt]=!0,sn[le]=sn[re]=sn[Qt]=sn[Oe]=sn[Ln]=sn[be]=sn[ae]=sn[se]=sn[de]=sn[_e]=sn[He]=sn[q]=sn[L]=sn[ke]=sn[Ft]=!1;var rn={};rn[le]=rn[re]=rn[Qt]=rn[Ln]=rn[Oe]=rn[be]=rn[ut]=rn[gt]=rn[_t]=rn[Yt]=rn[En]=rn[de]=rn[_e]=rn[He]=rn[q]=rn[L]=rn[ke]=rn[Ue]=rn[pn]=rn[Jn]=rn[yn]=rn[Pt]=!0,rn[ae]=rn[se]=rn[Ft]=!1;var ZC={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},e2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},t2={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},n2={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},r2=parseFloat,s2=parseInt,Ux=typeof gi=="object"&&gi&&gi.Object===Object&&gi,o2=typeof self=="object"&&self&&self.Object===Object&&self,Un=Ux||o2||Function("return this")(),au=n&&!n.nodeType&&n,Io=au&&!0&&e&&!e.nodeType&&e,zx=Io&&Io.exports===au,iu=zx&&Ux.process,Fr=function(){try{var Q=Io&&Io.require&&Io.require("util").types;return Q||iu&&iu.binding&&iu.binding("util")}catch{}}(),Hx=Fr&&Fr.isArrayBuffer,Gx=Fr&&Fr.isDate,Yx=Fr&&Fr.isMap,qx=Fr&&Fr.isRegExp,Kx=Fr&&Fr.isSet,Xx=Fr&&Fr.isTypedArray;function Dr(Q,Ce,xe){switch(xe.length){case 0:return Q.call(Ce);case 1:return Q.call(Ce,xe[0]);case 2:return Q.call(Ce,xe[0],xe[1]);case 3:return Q.call(Ce,xe[0],xe[1],xe[2])}return Q.apply(Ce,xe)}function a2(Q,Ce,xe,ze){for(var ft=-1,Mt=Q==null?0:Q.length;++ft<Mt;){var On=Q[ft];Ce(ze,On,xe(On),Q)}return ze}function Wr(Q,Ce){for(var xe=-1,ze=Q==null?0:Q.length;++xe<ze&&Ce(Q[xe],xe,Q)!==!1;);return Q}function i2(Q,Ce){for(var xe=Q==null?0:Q.length;xe--&&Ce(Q[xe],xe,Q)!==!1;);return Q}function Jx(Q,Ce){for(var xe=-1,ze=Q==null?0:Q.length;++xe<ze;)if(!Ce(Q[xe],xe,Q))return!1;return!0}function Js(Q,Ce){for(var xe=-1,ze=Q==null?0:Q.length,ft=0,Mt=[];++xe<ze;){var On=Q[xe];Ce(On,xe,Q)&&(Mt[ft++]=On)}return Mt}function vl(Q,Ce){var xe=Q==null?0:Q.length;return!!xe&&sa(Q,Ce,0)>-1}function lu(Q,Ce,xe){for(var ze=-1,ft=Q==null?0:Q.length;++ze<ft;)if(xe(Ce,Q[ze]))return!0;return!1}function un(Q,Ce){for(var xe=-1,ze=Q==null?0:Q.length,ft=Array(ze);++xe<ze;)ft[xe]=Ce(Q[xe],xe,Q);return ft}function Qs(Q,Ce){for(var xe=-1,ze=Ce.length,ft=Q.length;++xe<ze;)Q[ft+xe]=Ce[xe];return Q}function cu(Q,Ce,xe,ze){var ft=-1,Mt=Q==null?0:Q.length;for(ze&&Mt&&(xe=Q[++ft]);++ft<Mt;)xe=Ce(xe,Q[ft],ft,Q);return xe}function l2(Q,Ce,xe,ze){var ft=Q==null?0:Q.length;for(ze&&ft&&(xe=Q[--ft]);ft--;)xe=Ce(xe,Q[ft],ft,Q);return xe}function du(Q,Ce){for(var xe=-1,ze=Q==null?0:Q.length;++xe<ze;)if(Ce(Q[xe],xe,Q))return!0;return!1}var c2=uu("length");function d2(Q){return Q.split("")}function u2(Q){return Q.match(yC)||[]}function Qx(Q,Ce,xe){var ze;return xe(Q,function(ft,Mt,On){if(Ce(ft,Mt,On))return ze=Mt,!1}),ze}function jl(Q,Ce,xe,ze){for(var ft=Q.length,Mt=xe+(ze?1:-1);ze?Mt--:++Mt<ft;)if(Ce(Q[Mt],Mt,Q))return Mt;return-1}function sa(Q,Ce,xe){return Ce===Ce?S2(Q,Ce,xe):jl(Q,Zx,xe)}function h2(Q,Ce,xe,ze){for(var ft=xe-1,Mt=Q.length;++ft<Mt;)if(ze(Q[ft],Ce))return ft;return-1}function Zx(Q){return Q!==Q}function eg(Q,Ce){var xe=Q==null?0:Q.length;return xe?fu(Q,Ce)/xe:V}function uu(Q){return function(Ce){return Ce==null?r:Ce[Q]}}function hu(Q){return function(Ce){return Q==null?r:Q[Ce]}}function tg(Q,Ce,xe,ze,ft){return ft(Q,function(Mt,On,Zt){xe=ze?(ze=!1,Mt):Ce(xe,Mt,On,Zt)}),xe}function f2(Q,Ce){var xe=Q.length;for(Q.sort(Ce);xe--;)Q[xe]=Q[xe].value;return Q}function fu(Q,Ce){for(var xe,ze=-1,ft=Q.length;++ze<ft;){var Mt=Ce(Q[ze]);Mt!==r&&(xe=xe===r?Mt:xe+Mt)}return xe}function pu(Q,Ce){for(var xe=-1,ze=Array(Q);++xe<Q;)ze[xe]=Ce(xe);return ze}function p2(Q,Ce){return un(Ce,function(xe){return[xe,Q[xe]]})}function ng(Q){return Q&&Q.slice(0,ag(Q)+1).replace(eu,"")}function Tr(Q){return function(Ce){return Q(Ce)}}function mu(Q,Ce){return un(Ce,function(xe){return Q[xe]})}function ni(Q,Ce){return Q.has(Ce)}function rg(Q,Ce){for(var xe=-1,ze=Q.length;++xe<ze&&sa(Ce,Q[xe],0)>-1;);return xe}function sg(Q,Ce){for(var xe=Q.length;xe--&&sa(Ce,Q[xe],0)>-1;);return xe}function m2(Q,Ce){for(var xe=Q.length,ze=0;xe--;)Q[xe]===Ce&&++ze;return ze}var x2=hu(ZC),g2=hu(e2);function b2(Q){return"\\"+n2[Q]}function y2(Q,Ce){return Q==null?r:Q[Ce]}function oa(Q){return KC.test(Q)}function v2(Q){return XC.test(Q)}function j2(Q){for(var Ce,xe=[];!(Ce=Q.next()).done;)xe.push(Ce.value);return xe}function xu(Q){var Ce=-1,xe=Array(Q.size);return Q.forEach(function(ze,ft){xe[++Ce]=[ft,ze]}),xe}function og(Q,Ce){return function(xe){return Q(Ce(xe))}}function Zs(Q,Ce){for(var xe=-1,ze=Q.length,ft=0,Mt=[];++xe<ze;){var On=Q[xe];(On===Ce||On===p)&&(Q[xe]=p,Mt[ft++]=xe)}return Mt}function wl(Q){var Ce=-1,xe=Array(Q.size);return Q.forEach(function(ze){xe[++Ce]=ze}),xe}function w2(Q){var Ce=-1,xe=Array(Q.size);return Q.forEach(function(ze){xe[++Ce]=[ze,ze]}),xe}function S2(Q,Ce,xe){for(var ze=xe-1,ft=Q.length;++ze<ft;)if(Q[ze]===Ce)return ze;return-1}function C2(Q,Ce,xe){for(var ze=xe+1;ze--;)if(Q[ze]===Ce)return ze;return ze}function aa(Q){return oa(Q)?I2(Q):c2(Q)}function rs(Q){return oa(Q)?D2(Q):d2(Q)}function ag(Q){for(var Ce=Q.length;Ce--&&mC.test(Q.charAt(Ce)););return Ce}var P2=hu(t2);function I2(Q){for(var Ce=ou.lastIndex=0;ou.test(Q);)++Ce;return Ce}function D2(Q){return Q.match(ou)||[]}function T2(Q){return Q.match(qC)||[]}var E2=function Q(Ce){Ce=Ce==null?Un:ia.defaults(Un.Object(),Ce,ia.pick(Un,JC));var xe=Ce.Array,ze=Ce.Date,ft=Ce.Error,Mt=Ce.Function,On=Ce.Math,Zt=Ce.Object,gu=Ce.RegExp,A2=Ce.String,Br=Ce.TypeError,Sl=xe.prototype,R2=Mt.prototype,la=Zt.prototype,Cl=Ce["__core-js_shared__"],Pl=R2.toString,Ut=la.hasOwnProperty,_2=0,ig=function(){var a=/[^.]+$/.exec(Cl&&Cl.keys&&Cl.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Il=la.toString,k2=Pl.call(Zt),O2=Un._,M2=gu("^"+Pl.call(Ut).replace(Zd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dl=zx?Ce.Buffer:r,eo=Ce.Symbol,Tl=Ce.Uint8Array,lg=Dl?Dl.allocUnsafe:r,El=og(Zt.getPrototypeOf,Zt),cg=Zt.create,dg=la.propertyIsEnumerable,Al=Sl.splice,ug=eo?eo.isConcatSpreadable:r,ri=eo?eo.iterator:r,Do=eo?eo.toStringTag:r,Rl=function(){try{var a=_o(Zt,"defineProperty");return a({},"",{}),a}catch{}}(),N2=Ce.clearTimeout!==Un.clearTimeout&&Ce.clearTimeout,L2=ze&&ze.now!==Un.Date.now&&ze.now,$2=Ce.setTimeout!==Un.setTimeout&&Ce.setTimeout,_l=On.ceil,kl=On.floor,bu=Zt.getOwnPropertySymbols,F2=Dl?Dl.isBuffer:r,hg=Ce.isFinite,W2=Sl.join,B2=og(Zt.keys,Zt),Mn=On.max,Qn=On.min,V2=ze.now,U2=Ce.parseInt,fg=On.random,z2=Sl.reverse,yu=_o(Ce,"DataView"),si=_o(Ce,"Map"),vu=_o(Ce,"Promise"),ca=_o(Ce,"Set"),oi=_o(Ce,"WeakMap"),ai=_o(Zt,"create"),Ol=oi&&new oi,da={},H2=ko(yu),G2=ko(si),Y2=ko(vu),q2=ko(ca),K2=ko(oi),Ml=eo?eo.prototype:r,ii=Ml?Ml.valueOf:r,pg=Ml?Ml.toString:r;function O(a){if(jn(a)&&!pt(a)&&!(a instanceof Et)){if(a instanceof Vr)return a;if(Ut.call(a,"__wrapped__"))return mb(a)}return new Vr(a)}var ua=function(){function a(){}return function(c){if(!mn(c))return{};if(cg)return cg(c);a.prototype=c;var f=new a;return a.prototype=r,f}}();function Nl(){}function Vr(a,c){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=r}O.templateSettings={escape:Jd,evaluate:Sx,interpolate:Qd,variable:"",imports:{_:O}},O.prototype=Nl.prototype,O.prototype.constructor=O,Vr.prototype=ua(Nl.prototype),Vr.prototype.constructor=Vr;function Et(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ee,this.__views__=[]}function X2(){var a=new Et(this.__wrapped__);return a.__actions__=mr(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=mr(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=mr(this.__views__),a}function J2(){if(this.__filtered__){var a=new Et(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Q2(){var a=this.__wrapped__.value(),c=this.__dir__,f=pt(a),P=c<0,E=f?a.length:0,M=dI(0,E,this.__views__),B=M.start,z=M.end,te=z-B,Ie=P?z:B-1,De=this.__iteratees__,Ae=De.length,We=0,Ze=Qn(te,this.__takeCount__);if(!f||!P&&E==te&&Ze==te)return $g(a,this.__actions__);var lt=[];e:for(;te--&&We<Ze;){Ie+=c;for(var vt=-1,ct=a[Ie];++vt<Ae;){var It=De[vt],At=It.iteratee,Rr=It.type,cr=At(ct);if(Rr==X)ct=cr;else if(!cr){if(Rr==J)continue e;break e}}lt[We++]=ct}return lt}Et.prototype=ua(Nl.prototype),Et.prototype.constructor=Et;function To(a){var c=-1,f=a==null?0:a.length;for(this.clear();++c<f;){var P=a[c];this.set(P[0],P[1])}}function Z2(){this.__data__=ai?ai(null):{},this.size=0}function eP(a){var c=this.has(a)&&delete this.__data__[a];return this.size-=c?1:0,c}function tP(a){var c=this.__data__;if(ai){var f=c[a];return f===u?r:f}return Ut.call(c,a)?c[a]:r}function nP(a){var c=this.__data__;return ai?c[a]!==r:Ut.call(c,a)}function rP(a,c){var f=this.__data__;return this.size+=this.has(a)?0:1,f[a]=ai&&c===r?u:c,this}To.prototype.clear=Z2,To.prototype.delete=eP,To.prototype.get=tP,To.prototype.has=nP,To.prototype.set=rP;function Rs(a){var c=-1,f=a==null?0:a.length;for(this.clear();++c<f;){var P=a[c];this.set(P[0],P[1])}}function sP(){this.__data__=[],this.size=0}function oP(a){var c=this.__data__,f=Ll(c,a);if(f<0)return!1;var P=c.length-1;return f==P?c.pop():Al.call(c,f,1),--this.size,!0}function aP(a){var c=this.__data__,f=Ll(c,a);return f<0?r:c[f][1]}function iP(a){return Ll(this.__data__,a)>-1}function lP(a,c){var f=this.__data__,P=Ll(f,a);return P<0?(++this.size,f.push([a,c])):f[P][1]=c,this}Rs.prototype.clear=sP,Rs.prototype.delete=oP,Rs.prototype.get=aP,Rs.prototype.has=iP,Rs.prototype.set=lP;function _s(a){var c=-1,f=a==null?0:a.length;for(this.clear();++c<f;){var P=a[c];this.set(P[0],P[1])}}function cP(){this.size=0,this.__data__={hash:new To,map:new(si||Rs),string:new To}}function dP(a){var c=Kl(this,a).delete(a);return this.size-=c?1:0,c}function uP(a){return Kl(this,a).get(a)}function hP(a){return Kl(this,a).has(a)}function fP(a,c){var f=Kl(this,a),P=f.size;return f.set(a,c),this.size+=f.size==P?0:1,this}_s.prototype.clear=cP,_s.prototype.delete=dP,_s.prototype.get=uP,_s.prototype.has=hP,_s.prototype.set=fP;function Eo(a){var c=-1,f=a==null?0:a.length;for(this.__data__=new _s;++c<f;)this.add(a[c])}function pP(a){return this.__data__.set(a,u),this}function mP(a){return this.__data__.has(a)}Eo.prototype.add=Eo.prototype.push=pP,Eo.prototype.has=mP;function ss(a){var c=this.__data__=new Rs(a);this.size=c.size}function xP(){this.__data__=new Rs,this.size=0}function gP(a){var c=this.__data__,f=c.delete(a);return this.size=c.size,f}function bP(a){return this.__data__.get(a)}function yP(a){return this.__data__.has(a)}function vP(a,c){var f=this.__data__;if(f instanceof Rs){var P=f.__data__;if(!si||P.length<o-1)return P.push([a,c]),this.size=++f.size,this;f=this.__data__=new _s(P)}return f.set(a,c),this.size=f.size,this}ss.prototype.clear=xP,ss.prototype.delete=gP,ss.prototype.get=bP,ss.prototype.has=yP,ss.prototype.set=vP;function mg(a,c){var f=pt(a),P=!f&&Oo(a),E=!f&&!P&&oo(a),M=!f&&!P&&!E&&ma(a),B=f||P||E||M,z=B?pu(a.length,A2):[],te=z.length;for(var Ie in a)(c||Ut.call(a,Ie))&&!(B&&(Ie=="length"||E&&(Ie=="offset"||Ie=="parent")||M&&(Ie=="buffer"||Ie=="byteLength"||Ie=="byteOffset")||Ns(Ie,te)))&&z.push(Ie);return z}function xg(a){var c=a.length;return c?a[Ru(0,c-1)]:r}function jP(a,c){return Xl(mr(a),Ao(c,0,a.length))}function wP(a){return Xl(mr(a))}function ju(a,c,f){(f!==r&&!os(a[c],f)||f===r&&!(c in a))&&ks(a,c,f)}function li(a,c,f){var P=a[c];(!(Ut.call(a,c)&&os(P,f))||f===r&&!(c in a))&&ks(a,c,f)}function Ll(a,c){for(var f=a.length;f--;)if(os(a[f][0],c))return f;return-1}function SP(a,c,f,P){return to(a,function(E,M,B){c(P,E,f(E),B)}),P}function gg(a,c){return a&&ys(c,$n(c),a)}function CP(a,c){return a&&ys(c,gr(c),a)}function ks(a,c,f){c=="__proto__"&&Rl?Rl(a,c,{configurable:!0,enumerable:!0,value:f,writable:!0}):a[c]=f}function wu(a,c){for(var f=-1,P=c.length,E=xe(P),M=a==null;++f<P;)E[f]=M?r:nh(a,c[f]);return E}function Ao(a,c,f){return a===a&&(f!==r&&(a=a<=f?a:f),c!==r&&(a=a>=c?a:c)),a}function Ur(a,c,f,P,E,M){var B,z=c&m,te=c&g,Ie=c&y;if(f&&(B=E?f(a,P,E,M):f(a)),B!==r)return B;if(!mn(a))return a;var De=pt(a);if(De){if(B=hI(a),!z)return mr(a,B)}else{var Ae=Zn(a),We=Ae==se||Ae==me;if(oo(a))return Bg(a,z);if(Ae==He||Ae==le||We&&!E){if(B=te||We?{}:ab(a),!z)return te?tI(a,CP(B,a)):eI(a,gg(B,a))}else{if(!rn[Ae])return E?a:{};B=fI(a,Ae,z)}}M||(M=new ss);var Ze=M.get(a);if(Ze)return Ze;M.set(a,B),Mb(a)?a.forEach(function(ct){B.add(Ur(ct,c,f,ct,a,M))}):kb(a)&&a.forEach(function(ct,It){B.set(It,Ur(ct,c,f,It,a,M))});var lt=Ie?te?Vu:Bu:te?gr:$n,vt=De?r:lt(a);return Wr(vt||a,function(ct,It){vt&&(It=ct,ct=a[It]),li(B,It,Ur(ct,c,f,It,a,M))}),B}function PP(a){var c=$n(a);return function(f){return bg(f,a,c)}}function bg(a,c,f){var P=f.length;if(a==null)return!P;for(a=Zt(a);P--;){var E=f[P],M=c[E],B=a[E];if(B===r&&!(E in a)||!M(B))return!1}return!0}function yg(a,c,f){if(typeof a!="function")throw new Br(l);return mi(function(){a.apply(r,f)},c)}function ci(a,c,f,P){var E=-1,M=vl,B=!0,z=a.length,te=[],Ie=c.length;if(!z)return te;f&&(c=un(c,Tr(f))),P?(M=lu,B=!1):c.length>=o&&(M=ni,B=!1,c=new Eo(c));e:for(;++E<z;){var De=a[E],Ae=f==null?De:f(De);if(De=P||De!==0?De:0,B&&Ae===Ae){for(var We=Ie;We--;)if(c[We]===Ae)continue e;te.push(De)}else M(c,Ae,P)||te.push(De)}return te}var to=Gg(bs),vg=Gg(Cu,!0);function IP(a,c){var f=!0;return to(a,function(P,E,M){return f=!!c(P,E,M),f}),f}function $l(a,c,f){for(var P=-1,E=a.length;++P<E;){var M=a[P],B=c(M);if(B!=null&&(z===r?B===B&&!Ar(B):f(B,z)))var z=B,te=M}return te}function DP(a,c,f,P){var E=a.length;for(f=bt(f),f<0&&(f=-f>E?0:E+f),P=P===r||P>E?E:bt(P),P<0&&(P+=E),P=f>P?0:Lb(P);f<P;)a[f++]=c;return a}function jg(a,c){var f=[];return to(a,function(P,E,M){c(P,E,M)&&f.push(P)}),f}function zn(a,c,f,P,E){var M=-1,B=a.length;for(f||(f=mI),E||(E=[]);++M<B;){var z=a[M];c>0&&f(z)?c>1?zn(z,c-1,f,P,E):Qs(E,z):P||(E[E.length]=z)}return E}var Su=Yg(),wg=Yg(!0);function bs(a,c){return a&&Su(a,c,$n)}function Cu(a,c){return a&&wg(a,c,$n)}function Fl(a,c){return Js(c,function(f){return Ls(a[f])})}function Ro(a,c){c=ro(c,a);for(var f=0,P=c.length;a!=null&&f<P;)a=a[vs(c[f++])];return f&&f==P?a:r}function Sg(a,c,f){var P=c(a);return pt(a)?P:Qs(P,f(a))}function ir(a){return a==null?a===r?dn:Ee:Do&&Do in Zt(a)?cI(a):wI(a)}function Pu(a,c){return a>c}function TP(a,c){return a!=null&&Ut.call(a,c)}function EP(a,c){return a!=null&&c in Zt(a)}function AP(a,c,f){return a>=Qn(c,f)&&a<Mn(c,f)}function Iu(a,c,f){for(var P=f?lu:vl,E=a[0].length,M=a.length,B=M,z=xe(M),te=1/0,Ie=[];B--;){var De=a[B];B&&c&&(De=un(De,Tr(c))),te=Qn(De.length,te),z[B]=!f&&(c||E>=120&&De.length>=120)?new Eo(B&&De):r}De=a[0];var Ae=-1,We=z[0];e:for(;++Ae<E&&Ie.length<te;){var Ze=De[Ae],lt=c?c(Ze):Ze;if(Ze=f||Ze!==0?Ze:0,!(We?ni(We,lt):P(Ie,lt,f))){for(B=M;--B;){var vt=z[B];if(!(vt?ni(vt,lt):P(a[B],lt,f)))continue e}We&&We.push(lt),Ie.push(Ze)}}return Ie}function RP(a,c,f,P){return bs(a,function(E,M,B){c(P,f(E),M,B)}),P}function di(a,c,f){c=ro(c,a),a=db(a,c);var P=a==null?a:a[vs(Hr(c))];return P==null?r:Dr(P,a,f)}function Cg(a){return jn(a)&&ir(a)==le}function _P(a){return jn(a)&&ir(a)==Qt}function kP(a){return jn(a)&&ir(a)==be}function ui(a,c,f,P,E){return a===c?!0:a==null||c==null||!jn(a)&&!jn(c)?a!==a&&c!==c:OP(a,c,f,P,ui,E)}function OP(a,c,f,P,E,M){var B=pt(a),z=pt(c),te=B?re:Zn(a),Ie=z?re:Zn(c);te=te==le?He:te,Ie=Ie==le?He:Ie;var De=te==He,Ae=Ie==He,We=te==Ie;if(We&&oo(a)){if(!oo(c))return!1;B=!0,De=!1}if(We&&!De)return M||(M=new ss),B||ma(a)?rb(a,c,f,P,E,M):iI(a,c,te,f,P,E,M);if(!(f&b)){var Ze=De&&Ut.call(a,"__wrapped__"),lt=Ae&&Ut.call(c,"__wrapped__");if(Ze||lt){var vt=Ze?a.value():a,ct=lt?c.value():c;return M||(M=new ss),E(vt,ct,f,P,M)}}return We?(M||(M=new ss),lI(a,c,f,P,E,M)):!1}function MP(a){return jn(a)&&Zn(a)==de}function Du(a,c,f,P){var E=f.length,M=E,B=!P;if(a==null)return!M;for(a=Zt(a);E--;){var z=f[E];if(B&&z[2]?z[1]!==a[z[0]]:!(z[0]in a))return!1}for(;++E<M;){z=f[E];var te=z[0],Ie=a[te],De=z[1];if(B&&z[2]){if(Ie===r&&!(te in a))return!1}else{var Ae=new ss;if(P)var We=P(Ie,De,te,a,c,Ae);if(!(We===r?ui(De,Ie,b|w,P,Ae):We))return!1}}return!0}function Pg(a){if(!mn(a)||gI(a))return!1;var c=Ls(a)?M2:PC;return c.test(ko(a))}function NP(a){return jn(a)&&ir(a)==q}function LP(a){return jn(a)&&Zn(a)==L}function $P(a){return jn(a)&&nc(a.length)&&!!sn[ir(a)]}function Ig(a){return typeof a=="function"?a:a==null?br:typeof a=="object"?pt(a)?Eg(a[0],a[1]):Tg(a):qb(a)}function Tu(a){if(!pi(a))return B2(a);var c=[];for(var f in Zt(a))Ut.call(a,f)&&f!="constructor"&&c.push(f);return c}function FP(a){if(!mn(a))return jI(a);var c=pi(a),f=[];for(var P in a)P=="constructor"&&(c||!Ut.call(a,P))||f.push(P);return f}function Eu(a,c){return a<c}function Dg(a,c){var f=-1,P=xr(a)?xe(a.length):[];return to(a,function(E,M,B){P[++f]=c(E,M,B)}),P}function Tg(a){var c=zu(a);return c.length==1&&c[0][2]?lb(c[0][0],c[0][1]):function(f){return f===a||Du(f,a,c)}}function Eg(a,c){return Gu(a)&&ib(c)?lb(vs(a),c):function(f){var P=nh(f,a);return P===r&&P===c?rh(f,a):ui(c,P,b|w)}}function Wl(a,c,f,P,E){a!==c&&Su(c,function(M,B){if(E||(E=new ss),mn(M))WP(a,c,B,f,Wl,P,E);else{var z=P?P(qu(a,B),M,B+"",a,c,E):r;z===r&&(z=M),ju(a,B,z)}},gr)}function WP(a,c,f,P,E,M,B){var z=qu(a,f),te=qu(c,f),Ie=B.get(te);if(Ie){ju(a,f,Ie);return}var De=M?M(z,te,f+"",a,c,B):r,Ae=De===r;if(Ae){var We=pt(te),Ze=!We&&oo(te),lt=!We&&!Ze&&ma(te);De=te,We||Ze||lt?pt(z)?De=z:Cn(z)?De=mr(z):Ze?(Ae=!1,De=Bg(te,!0)):lt?(Ae=!1,De=Vg(te,!0)):De=[]:xi(te)||Oo(te)?(De=z,Oo(z)?De=$b(z):(!mn(z)||Ls(z))&&(De=ab(te))):Ae=!1}Ae&&(B.set(te,De),E(De,te,P,M,B),B.delete(te)),ju(a,f,De)}function Ag(a,c){var f=a.length;if(f)return c+=c<0?f:0,Ns(c,f)?a[c]:r}function Rg(a,c,f){c.length?c=un(c,function(M){return pt(M)?function(B){return Ro(B,M.length===1?M[0]:M)}:M}):c=[br];var P=-1;c=un(c,Tr(it()));var E=Dg(a,function(M,B,z){var te=un(c,function(Ie){return Ie(M)});return{criteria:te,index:++P,value:M}});return f2(E,function(M,B){return ZP(M,B,f)})}function BP(a,c){return _g(a,c,function(f,P){return rh(a,P)})}function _g(a,c,f){for(var P=-1,E=c.length,M={};++P<E;){var B=c[P],z=Ro(a,B);f(z,B)&&hi(M,ro(B,a),z)}return M}function VP(a){return function(c){return Ro(c,a)}}function Au(a,c,f,P){var E=P?h2:sa,M=-1,B=c.length,z=a;for(a===c&&(c=mr(c)),f&&(z=un(a,Tr(f)));++M<B;)for(var te=0,Ie=c[M],De=f?f(Ie):Ie;(te=E(z,De,te,P))>-1;)z!==a&&Al.call(z,te,1),Al.call(a,te,1);return a}function kg(a,c){for(var f=a?c.length:0,P=f-1;f--;){var E=c[f];if(f==P||E!==M){var M=E;Ns(E)?Al.call(a,E,1):Ou(a,E)}}return a}function Ru(a,c){return a+kl(fg()*(c-a+1))}function UP(a,c,f,P){for(var E=-1,M=Mn(_l((c-a)/(f||1)),0),B=xe(M);M--;)B[P?M:++E]=a,a+=f;return B}function _u(a,c){var f="";if(!a||c<1||c>G)return f;do c%2&&(f+=a),c=kl(c/2),c&&(a+=a);while(c);return f}function wt(a,c){return Ku(cb(a,c,br),a+"")}function zP(a){return xg(xa(a))}function HP(a,c){var f=xa(a);return Xl(f,Ao(c,0,f.length))}function hi(a,c,f,P){if(!mn(a))return a;c=ro(c,a);for(var E=-1,M=c.length,B=M-1,z=a;z!=null&&++E<M;){var te=vs(c[E]),Ie=f;if(te==="__proto__"||te==="constructor"||te==="prototype")return a;if(E!=B){var De=z[te];Ie=P?P(De,te,z):r,Ie===r&&(Ie=mn(De)?De:Ns(c[E+1])?[]:{})}li(z,te,Ie),z=z[te]}return a}var Og=Ol?function(a,c){return Ol.set(a,c),a}:br,GP=Rl?function(a,c){return Rl(a,"toString",{configurable:!0,enumerable:!1,value:oh(c),writable:!0})}:br;function YP(a){return Xl(xa(a))}function zr(a,c,f){var P=-1,E=a.length;c<0&&(c=-c>E?0:E+c),f=f>E?E:f,f<0&&(f+=E),E=c>f?0:f-c>>>0,c>>>=0;for(var M=xe(E);++P<E;)M[P]=a[P+c];return M}function qP(a,c){var f;return to(a,function(P,E,M){return f=c(P,E,M),!f}),!!f}function Bl(a,c,f){var P=0,E=a==null?P:a.length;if(typeof c=="number"&&c===c&&E<=pe){for(;P<E;){var M=P+E>>>1,B=a[M];B!==null&&!Ar(B)&&(f?B<=c:B<c)?P=M+1:E=M}return E}return ku(a,c,br,f)}function ku(a,c,f,P){var E=0,M=a==null?0:a.length;if(M===0)return 0;c=f(c);for(var B=c!==c,z=c===null,te=Ar(c),Ie=c===r;E<M;){var De=kl((E+M)/2),Ae=f(a[De]),We=Ae!==r,Ze=Ae===null,lt=Ae===Ae,vt=Ar(Ae);if(B)var ct=P||lt;else Ie?ct=lt&&(P||We):z?ct=lt&&We&&(P||!Ze):te?ct=lt&&We&&!Ze&&(P||!vt):Ze||vt?ct=!1:ct=P?Ae<=c:Ae<c;ct?E=De+1:M=De}return Qn(M,Pe)}function Mg(a,c){for(var f=-1,P=a.length,E=0,M=[];++f<P;){var B=a[f],z=c?c(B):B;if(!f||!os(z,te)){var te=z;M[E++]=B===0?0:B}}return M}function Ng(a){return typeof a=="number"?a:Ar(a)?V:+a}function Er(a){if(typeof a=="string")return a;if(pt(a))return un(a,Er)+"";if(Ar(a))return pg?pg.call(a):"";var c=a+"";return c=="0"&&1/a==-Z?"-0":c}function no(a,c,f){var P=-1,E=vl,M=a.length,B=!0,z=[],te=z;if(f)B=!1,E=lu;else if(M>=o){var Ie=c?null:oI(a);if(Ie)return wl(Ie);B=!1,E=ni,te=new Eo}else te=c?[]:z;e:for(;++P<M;){var De=a[P],Ae=c?c(De):De;if(De=f||De!==0?De:0,B&&Ae===Ae){for(var We=te.length;We--;)if(te[We]===Ae)continue e;c&&te.push(Ae),z.push(De)}else E(te,Ae,f)||(te!==z&&te.push(Ae),z.push(De))}return z}function Ou(a,c){return c=ro(c,a),a=db(a,c),a==null||delete a[vs(Hr(c))]}function Lg(a,c,f,P){return hi(a,c,f(Ro(a,c)),P)}function Vl(a,c,f,P){for(var E=a.length,M=P?E:-1;(P?M--:++M<E)&&c(a[M],M,a););return f?zr(a,P?0:M,P?M+1:E):zr(a,P?M+1:0,P?E:M)}function $g(a,c){var f=a;return f instanceof Et&&(f=f.value()),cu(c,function(P,E){return E.func.apply(E.thisArg,Qs([P],E.args))},f)}function Mu(a,c,f){var P=a.length;if(P<2)return P?no(a[0]):[];for(var E=-1,M=xe(P);++E<P;)for(var B=a[E],z=-1;++z<P;)z!=E&&(M[E]=ci(M[E]||B,a[z],c,f));return no(zn(M,1),c,f)}function Fg(a,c,f){for(var P=-1,E=a.length,M=c.length,B={};++P<E;){var z=P<M?c[P]:r;f(B,a[P],z)}return B}function Nu(a){return Cn(a)?a:[]}function Lu(a){return typeof a=="function"?a:br}function ro(a,c){return pt(a)?a:Gu(a,c)?[a]:pb(Wt(a))}var KP=wt;function so(a,c,f){var P=a.length;return f=f===r?P:f,!c&&f>=P?a:zr(a,c,f)}var Wg=N2||function(a){return Un.clearTimeout(a)};function Bg(a,c){if(c)return a.slice();var f=a.length,P=lg?lg(f):new a.constructor(f);return a.copy(P),P}function $u(a){var c=new a.constructor(a.byteLength);return new Tl(c).set(new Tl(a)),c}function XP(a,c){var f=c?$u(a.buffer):a.buffer;return new a.constructor(f,a.byteOffset,a.byteLength)}function JP(a){var c=new a.constructor(a.source,Cx.exec(a));return c.lastIndex=a.lastIndex,c}function QP(a){return ii?Zt(ii.call(a)):{}}function Vg(a,c){var f=c?$u(a.buffer):a.buffer;return new a.constructor(f,a.byteOffset,a.length)}function Ug(a,c){if(a!==c){var f=a!==r,P=a===null,E=a===a,M=Ar(a),B=c!==r,z=c===null,te=c===c,Ie=Ar(c);if(!z&&!Ie&&!M&&a>c||M&&B&&te&&!z&&!Ie||P&&B&&te||!f&&te||!E)return 1;if(!P&&!M&&!Ie&&a<c||Ie&&f&&E&&!P&&!M||z&&f&&E||!B&&E||!te)return-1}return 0}function ZP(a,c,f){for(var P=-1,E=a.criteria,M=c.criteria,B=E.length,z=f.length;++P<B;){var te=Ug(E[P],M[P]);if(te){if(P>=z)return te;var Ie=f[P];return te*(Ie=="desc"?-1:1)}}return a.index-c.index}function zg(a,c,f,P){for(var E=-1,M=a.length,B=f.length,z=-1,te=c.length,Ie=Mn(M-B,0),De=xe(te+Ie),Ae=!P;++z<te;)De[z]=c[z];for(;++E<B;)(Ae||E<M)&&(De[f[E]]=a[E]);for(;Ie--;)De[z++]=a[E++];return De}function Hg(a,c,f,P){for(var E=-1,M=a.length,B=-1,z=f.length,te=-1,Ie=c.length,De=Mn(M-z,0),Ae=xe(De+Ie),We=!P;++E<De;)Ae[E]=a[E];for(var Ze=E;++te<Ie;)Ae[Ze+te]=c[te];for(;++B<z;)(We||E<M)&&(Ae[Ze+f[B]]=a[E++]);return Ae}function mr(a,c){var f=-1,P=a.length;for(c||(c=xe(P));++f<P;)c[f]=a[f];return c}function ys(a,c,f,P){var E=!f;f||(f={});for(var M=-1,B=c.length;++M<B;){var z=c[M],te=P?P(f[z],a[z],z,f,a):r;te===r&&(te=a[z]),E?ks(f,z,te):li(f,z,te)}return f}function eI(a,c){return ys(a,Hu(a),c)}function tI(a,c){return ys(a,sb(a),c)}function Ul(a,c){return function(f,P){var E=pt(f)?a2:SP,M=c?c():{};return E(f,a,it(P,2),M)}}function ha(a){return wt(function(c,f){var P=-1,E=f.length,M=E>1?f[E-1]:r,B=E>2?f[2]:r;for(M=a.length>3&&typeof M=="function"?(E--,M):r,B&&lr(f[0],f[1],B)&&(M=E<3?r:M,E=1),c=Zt(c);++P<E;){var z=f[P];z&&a(c,z,P,M)}return c})}function Gg(a,c){return function(f,P){if(f==null)return f;if(!xr(f))return a(f,P);for(var E=f.length,M=c?E:-1,B=Zt(f);(c?M--:++M<E)&&P(B[M],M,B)!==!1;);return f}}function Yg(a){return function(c,f,P){for(var E=-1,M=Zt(c),B=P(c),z=B.length;z--;){var te=B[a?z:++E];if(f(M[te],te,M)===!1)break}return c}}function nI(a,c,f){var P=c&v,E=fi(a);function M(){var B=this&&this!==Un&&this instanceof M?E:a;return B.apply(P?f:this,arguments)}return M}function qg(a){return function(c){c=Wt(c);var f=oa(c)?rs(c):r,P=f?f[0]:c.charAt(0),E=f?so(f,1).join(""):c.slice(1);return P[a]()+E}}function fa(a){return function(c){return cu(Gb(Hb(c).replace(GC,"")),a,"")}}function fi(a){return function(){var c=arguments;switch(c.length){case 0:return new a;case 1:return new a(c[0]);case 2:return new a(c[0],c[1]);case 3:return new a(c[0],c[1],c[2]);case 4:return new a(c[0],c[1],c[2],c[3]);case 5:return new a(c[0],c[1],c[2],c[3],c[4]);case 6:return new a(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new a(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var f=ua(a.prototype),P=a.apply(f,c);return mn(P)?P:f}}function rI(a,c,f){var P=fi(a);function E(){for(var M=arguments.length,B=xe(M),z=M,te=pa(E);z--;)B[z]=arguments[z];var Ie=M<3&&B[0]!==te&&B[M-1]!==te?[]:Zs(B,te);if(M-=Ie.length,M<f)return Zg(a,c,zl,E.placeholder,r,B,Ie,r,r,f-M);var De=this&&this!==Un&&this instanceof E?P:a;return Dr(De,this,B)}return E}function Kg(a){return function(c,f,P){var E=Zt(c);if(!xr(c)){var M=it(f,3);c=$n(c),f=function(z){return M(E[z],z,E)}}var B=a(c,f,P);return B>-1?E[M?c[B]:B]:r}}function Xg(a){return Ms(function(c){var f=c.length,P=f,E=Vr.prototype.thru;for(a&&c.reverse();P--;){var M=c[P];if(typeof M!="function")throw new Br(l);if(E&&!B&&ql(M)=="wrapper")var B=new Vr([],!0)}for(P=B?P:f;++P<f;){M=c[P];var z=ql(M),te=z=="wrapper"?Uu(M):r;te&&Yu(te[0])&&te[1]==(k|T|A|_)&&!te[4].length&&te[9]==1?B=B[ql(te[0])].apply(B,te[3]):B=M.length==1&&Yu(M)?B[z]():B.thru(M)}return function(){var Ie=arguments,De=Ie[0];if(B&&Ie.length==1&&pt(De))return B.plant(De).value();for(var Ae=0,We=f?c[Ae].apply(this,Ie):De;++Ae<f;)We=c[Ae].call(this,We);return We}})}function zl(a,c,f,P,E,M,B,z,te,Ie){var De=c&k,Ae=c&v,We=c&I,Ze=c&(T|D),lt=c&N,vt=We?r:fi(a);function ct(){for(var It=arguments.length,At=xe(It),Rr=It;Rr--;)At[Rr]=arguments[Rr];if(Ze)var cr=pa(ct),_r=m2(At,cr);if(P&&(At=zg(At,P,E,Ze)),M&&(At=Hg(At,M,B,Ze)),It-=_r,Ze&&It<Ie){var Pn=Zs(At,cr);return Zg(a,c,zl,ct.placeholder,f,At,Pn,z,te,Ie-It)}var as=Ae?f:this,Fs=We?as[a]:a;return It=At.length,z?At=SI(At,z):lt&&It>1&&At.reverse(),De&&te<It&&(At.length=te),this&&this!==Un&&this instanceof ct&&(Fs=vt||fi(Fs)),Fs.apply(as,At)}return ct}function Jg(a,c){return function(f,P){return RP(f,a,c(P),{})}}function Hl(a,c){return function(f,P){var E;if(f===r&&P===r)return c;if(f!==r&&(E=f),P!==r){if(E===r)return P;typeof f=="string"||typeof P=="string"?(f=Er(f),P=Er(P)):(f=Ng(f),P=Ng(P)),E=a(f,P)}return E}}function Fu(a){return Ms(function(c){return c=un(c,Tr(it())),wt(function(f){var P=this;return a(c,function(E){return Dr(E,P,f)})})})}function Gl(a,c){c=c===r?" ":Er(c);var f=c.length;if(f<2)return f?_u(c,a):c;var P=_u(c,_l(a/aa(c)));return oa(c)?so(rs(P),0,a).join(""):P.slice(0,a)}function sI(a,c,f,P){var E=c&v,M=fi(a);function B(){for(var z=-1,te=arguments.length,Ie=-1,De=P.length,Ae=xe(De+te),We=this&&this!==Un&&this instanceof B?M:a;++Ie<De;)Ae[Ie]=P[Ie];for(;te--;)Ae[Ie++]=arguments[++z];return Dr(We,E?f:this,Ae)}return B}function Qg(a){return function(c,f,P){return P&&typeof P!="number"&&lr(c,f,P)&&(f=P=r),c=$s(c),f===r?(f=c,c=0):f=$s(f),P=P===r?c<f?1:-1:$s(P),UP(c,f,P,a)}}function Yl(a){return function(c,f){return typeof c=="string"&&typeof f=="string"||(c=Gr(c),f=Gr(f)),a(c,f)}}function Zg(a,c,f,P,E,M,B,z,te,Ie){var De=c&T,Ae=De?B:r,We=De?r:B,Ze=De?M:r,lt=De?r:M;c|=De?A:R,c&=~(De?R:A),c&S||(c&=~(v|I));var vt=[a,c,E,Ze,Ae,lt,We,z,te,Ie],ct=f.apply(r,vt);return Yu(a)&&ub(ct,vt),ct.placeholder=P,hb(ct,a,c)}function Wu(a){var c=On[a];return function(f,P){if(f=Gr(f),P=P==null?0:Qn(bt(P),292),P&&hg(f)){var E=(Wt(f)+"e").split("e"),M=c(E[0]+"e"+(+E[1]+P));return E=(Wt(M)+"e").split("e"),+(E[0]+"e"+(+E[1]-P))}return c(f)}}var oI=ca&&1/wl(new ca([,-0]))[1]==Z?function(a){return new ca(a)}:lh;function eb(a){return function(c){var f=Zn(c);return f==de?xu(c):f==L?w2(c):p2(c,a(c))}}function Os(a,c,f,P,E,M,B,z){var te=c&I;if(!te&&typeof a!="function")throw new Br(l);var Ie=P?P.length:0;if(Ie||(c&=~(A|R),P=E=r),B=B===r?B:Mn(bt(B),0),z=z===r?z:bt(z),Ie-=E?E.length:0,c&R){var De=P,Ae=E;P=E=r}var We=te?r:Uu(a),Ze=[a,c,f,P,E,De,Ae,M,B,z];if(We&&vI(Ze,We),a=Ze[0],c=Ze[1],f=Ze[2],P=Ze[3],E=Ze[4],z=Ze[9]=Ze[9]===r?te?0:a.length:Mn(Ze[9]-Ie,0),!z&&c&(T|D)&&(c&=~(T|D)),!c||c==v)var lt=nI(a,c,f);else c==T||c==D?lt=rI(a,c,z):(c==A||c==(v|A))&&!E.length?lt=sI(a,c,f,P):lt=zl.apply(r,Ze);var vt=We?Og:ub;return hb(vt(lt,Ze),a,c)}function tb(a,c,f,P){return a===r||os(a,la[f])&&!Ut.call(P,f)?c:a}function nb(a,c,f,P,E,M){return mn(a)&&mn(c)&&(M.set(c,a),Wl(a,c,r,nb,M),M.delete(c)),a}function aI(a){return xi(a)?r:a}function rb(a,c,f,P,E,M){var B=f&b,z=a.length,te=c.length;if(z!=te&&!(B&&te>z))return!1;var Ie=M.get(a),De=M.get(c);if(Ie&&De)return Ie==c&&De==a;var Ae=-1,We=!0,Ze=f&w?new Eo:r;for(M.set(a,c),M.set(c,a);++Ae<z;){var lt=a[Ae],vt=c[Ae];if(P)var ct=B?P(vt,lt,Ae,c,a,M):P(lt,vt,Ae,a,c,M);if(ct!==r){if(ct)continue;We=!1;break}if(Ze){if(!du(c,function(It,At){if(!ni(Ze,At)&&(lt===It||E(lt,It,f,P,M)))return Ze.push(At)})){We=!1;break}}else if(!(lt===vt||E(lt,vt,f,P,M))){We=!1;break}}return M.delete(a),M.delete(c),We}function iI(a,c,f,P,E,M,B){switch(f){case Ln:if(a.byteLength!=c.byteLength||a.byteOffset!=c.byteOffset)return!1;a=a.buffer,c=c.buffer;case Qt:return!(a.byteLength!=c.byteLength||!M(new Tl(a),new Tl(c)));case Oe:case be:case _e:return os(+a,+c);case ae:return a.name==c.name&&a.message==c.message;case q:case ke:return a==c+"";case de:var z=xu;case L:var te=P&b;if(z||(z=wl),a.size!=c.size&&!te)return!1;var Ie=B.get(a);if(Ie)return Ie==c;P|=w,B.set(a,c);var De=rb(z(a),z(c),P,E,M,B);return B.delete(a),De;case Ue:if(ii)return ii.call(a)==ii.call(c)}return!1}function lI(a,c,f,P,E,M){var B=f&b,z=Bu(a),te=z.length,Ie=Bu(c),De=Ie.length;if(te!=De&&!B)return!1;for(var Ae=te;Ae--;){var We=z[Ae];if(!(B?We in c:Ut.call(c,We)))return!1}var Ze=M.get(a),lt=M.get(c);if(Ze&&lt)return Ze==c&&lt==a;var vt=!0;M.set(a,c),M.set(c,a);for(var ct=B;++Ae<te;){We=z[Ae];var It=a[We],At=c[We];if(P)var Rr=B?P(At,It,We,c,a,M):P(It,At,We,a,c,M);if(!(Rr===r?It===At||E(It,At,f,P,M):Rr)){vt=!1;break}ct||(ct=We=="constructor")}if(vt&&!ct){var cr=a.constructor,_r=c.constructor;cr!=_r&&"constructor"in a&&"constructor"in c&&!(typeof cr=="function"&&cr instanceof cr&&typeof _r=="function"&&_r instanceof _r)&&(vt=!1)}return M.delete(a),M.delete(c),vt}function Ms(a){return Ku(cb(a,r,bb),a+"")}function Bu(a){return Sg(a,$n,Hu)}function Vu(a){return Sg(a,gr,sb)}var Uu=Ol?function(a){return Ol.get(a)}:lh;function ql(a){for(var c=a.name+"",f=da[c],P=Ut.call(da,c)?f.length:0;P--;){var E=f[P],M=E.func;if(M==null||M==a)return E.name}return c}function pa(a){var c=Ut.call(O,"placeholder")?O:a;return c.placeholder}function it(){var a=O.iteratee||ah;return a=a===ah?Ig:a,arguments.length?a(arguments[0],arguments[1]):a}function Kl(a,c){var f=a.__data__;return xI(c)?f[typeof c=="string"?"string":"hash"]:f.map}function zu(a){for(var c=$n(a),f=c.length;f--;){var P=c[f],E=a[P];c[f]=[P,E,ib(E)]}return c}function _o(a,c){var f=y2(a,c);return Pg(f)?f:r}function cI(a){var c=Ut.call(a,Do),f=a[Do];try{a[Do]=r;var P=!0}catch{}var E=Il.call(a);return P&&(c?a[Do]=f:delete a[Do]),E}var Hu=bu?function(a){return a==null?[]:(a=Zt(a),Js(bu(a),function(c){return dg.call(a,c)}))}:ch,sb=bu?function(a){for(var c=[];a;)Qs(c,Hu(a)),a=El(a);return c}:ch,Zn=ir;(yu&&Zn(new yu(new ArrayBuffer(1)))!=Ln||si&&Zn(new si)!=de||vu&&Zn(vu.resolve())!=ue||ca&&Zn(new ca)!=L||oi&&Zn(new oi)!=Ft)&&(Zn=function(a){var c=ir(a),f=c==He?a.constructor:r,P=f?ko(f):"";if(P)switch(P){case H2:return Ln;case G2:return de;case Y2:return ue;case q2:return L;case K2:return Ft}return c});function dI(a,c,f){for(var P=-1,E=f.length;++P<E;){var M=f[P],B=M.size;switch(M.type){case"drop":a+=B;break;case"dropRight":c-=B;break;case"take":c=Qn(c,a+B);break;case"takeRight":a=Mn(a,c-B);break}}return{start:a,end:c}}function uI(a){var c=a.match(gC);return c?c[1].split(bC):[]}function ob(a,c,f){c=ro(c,a);for(var P=-1,E=c.length,M=!1;++P<E;){var B=vs(c[P]);if(!(M=a!=null&&f(a,B)))break;a=a[B]}return M||++P!=E?M:(E=a==null?0:a.length,!!E&&nc(E)&&Ns(B,E)&&(pt(a)||Oo(a)))}function hI(a){var c=a.length,f=new a.constructor(c);return c&&typeof a[0]=="string"&&Ut.call(a,"index")&&(f.index=a.index,f.input=a.input),f}function ab(a){return typeof a.constructor=="function"&&!pi(a)?ua(El(a)):{}}function fI(a,c,f){var P=a.constructor;switch(c){case Qt:return $u(a);case Oe:case be:return new P(+a);case Ln:return XP(a,f);case ut:case gt:case _t:case Yt:case En:case pn:case Jn:case yn:case Pt:return Vg(a,f);case de:return new P;case _e:case ke:return new P(a);case q:return JP(a);case L:return new P;case Ue:return QP(a)}}function pI(a,c){var f=c.length;if(!f)return a;var P=f-1;return c[P]=(f>1?"& ":"")+c[P],c=c.join(f>2?", ":" "),a.replace(xC,`{
/* [wrapped with `+c+`] */
`)}function mI(a){return pt(a)||Oo(a)||!!(ug&&a&&a[ug])}function Ns(a,c){var f=typeof a;return c=c??G,!!c&&(f=="number"||f!="symbol"&&DC.test(a))&&a>-1&&a%1==0&&a<c}function lr(a,c,f){if(!mn(f))return!1;var P=typeof c;return(P=="number"?xr(f)&&Ns(c,f.length):P=="string"&&c in f)?os(f[c],a):!1}function Gu(a,c){if(pt(a))return!1;var f=typeof a;return f=="number"||f=="symbol"||f=="boolean"||a==null||Ar(a)?!0:Ir.test(a)||!vn.test(a)||c!=null&&a in Zt(c)}function xI(a){var c=typeof a;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?a!=="__proto__":a===null}function Yu(a){var c=ql(a),f=O[c];if(typeof f!="function"||!(c in Et.prototype))return!1;if(a===f)return!0;var P=Uu(f);return!!P&&a===P[0]}function gI(a){return!!ig&&ig in a}var bI=Cl?Ls:dh;function pi(a){var c=a&&a.constructor,f=typeof c=="function"&&c.prototype||la;return a===f}function ib(a){return a===a&&!mn(a)}function lb(a,c){return function(f){return f==null?!1:f[a]===c&&(c!==r||a in Zt(f))}}function yI(a){var c=ec(a,function(P){return f.size===h&&f.clear(),P}),f=c.cache;return c}function vI(a,c){var f=a[1],P=c[1],E=f|P,M=E<(v|I|k),B=P==k&&f==T||P==k&&f==_&&a[7].length<=c[8]||P==(k|_)&&c[7].length<=c[8]&&f==T;if(!(M||B))return a;P&v&&(a[2]=c[2],E|=f&v?0:S);var z=c[3];if(z){var te=a[3];a[3]=te?zg(te,z,c[4]):z,a[4]=te?Zs(a[3],p):c[4]}return z=c[5],z&&(te=a[5],a[5]=te?Hg(te,z,c[6]):z,a[6]=te?Zs(a[5],p):c[6]),z=c[7],z&&(a[7]=z),P&k&&(a[8]=a[8]==null?c[8]:Qn(a[8],c[8])),a[9]==null&&(a[9]=c[9]),a[0]=c[0],a[1]=E,a}function jI(a){var c=[];if(a!=null)for(var f in Zt(a))c.push(f);return c}function wI(a){return Il.call(a)}function cb(a,c,f){return c=Mn(c===r?a.length-1:c,0),function(){for(var P=arguments,E=-1,M=Mn(P.length-c,0),B=xe(M);++E<M;)B[E]=P[c+E];E=-1;for(var z=xe(c+1);++E<c;)z[E]=P[E];return z[c]=f(B),Dr(a,this,z)}}function db(a,c){return c.length<2?a:Ro(a,zr(c,0,-1))}function SI(a,c){for(var f=a.length,P=Qn(c.length,f),E=mr(a);P--;){var M=c[P];a[P]=Ns(M,f)?E[M]:r}return a}function qu(a,c){if(!(c==="constructor"&&typeof a[c]=="function")&&c!="__proto__")return a[c]}var ub=fb(Og),mi=$2||function(a,c){return Un.setTimeout(a,c)},Ku=fb(GP);function hb(a,c,f){var P=c+"";return Ku(a,pI(P,CI(uI(P),f)))}function fb(a){var c=0,f=0;return function(){var P=V2(),E=H-(P-f);if(f=P,E>0){if(++c>=$)return arguments[0]}else c=0;return a.apply(r,arguments)}}function Xl(a,c){var f=-1,P=a.length,E=P-1;for(c=c===r?P:c;++f<c;){var M=Ru(f,E),B=a[M];a[M]=a[f],a[f]=B}return a.length=c,a}var pb=yI(function(a){var c=[];return a.charCodeAt(0)===46&&c.push(""),a.replace(xl,function(f,P,E,M){c.push(E?M.replace(jC,"$1"):P||f)}),c});function vs(a){if(typeof a=="string"||Ar(a))return a;var c=a+"";return c=="0"&&1/a==-Z?"-0":c}function ko(a){if(a!=null){try{return Pl.call(a)}catch{}try{return a+""}catch{}}return""}function CI(a,c){return Wr(Re,function(f){var P="_."+f[0];c&f[1]&&!vl(a,P)&&a.push(P)}),a.sort()}function mb(a){if(a instanceof Et)return a.clone();var c=new Vr(a.__wrapped__,a.__chain__);return c.__actions__=mr(a.__actions__),c.__index__=a.__index__,c.__values__=a.__values__,c}function PI(a,c,f){(f?lr(a,c,f):c===r)?c=1:c=Mn(bt(c),0);var P=a==null?0:a.length;if(!P||c<1)return[];for(var E=0,M=0,B=xe(_l(P/c));E<P;)B[M++]=zr(a,E,E+=c);return B}function II(a){for(var c=-1,f=a==null?0:a.length,P=0,E=[];++c<f;){var M=a[c];M&&(E[P++]=M)}return E}function DI(){var a=arguments.length;if(!a)return[];for(var c=xe(a-1),f=arguments[0],P=a;P--;)c[P-1]=arguments[P];return Qs(pt(f)?mr(f):[f],zn(c,1))}var TI=wt(function(a,c){return Cn(a)?ci(a,zn(c,1,Cn,!0)):[]}),EI=wt(function(a,c){var f=Hr(c);return Cn(f)&&(f=r),Cn(a)?ci(a,zn(c,1,Cn,!0),it(f,2)):[]}),AI=wt(function(a,c){var f=Hr(c);return Cn(f)&&(f=r),Cn(a)?ci(a,zn(c,1,Cn,!0),r,f):[]});function RI(a,c,f){var P=a==null?0:a.length;return P?(c=f||c===r?1:bt(c),zr(a,c<0?0:c,P)):[]}function _I(a,c,f){var P=a==null?0:a.length;return P?(c=f||c===r?1:bt(c),c=P-c,zr(a,0,c<0?0:c)):[]}function kI(a,c){return a&&a.length?Vl(a,it(c,3),!0,!0):[]}function OI(a,c){return a&&a.length?Vl(a,it(c,3),!0):[]}function MI(a,c,f,P){var E=a==null?0:a.length;return E?(f&&typeof f!="number"&&lr(a,c,f)&&(f=0,P=E),DP(a,c,f,P)):[]}function xb(a,c,f){var P=a==null?0:a.length;if(!P)return-1;var E=f==null?0:bt(f);return E<0&&(E=Mn(P+E,0)),jl(a,it(c,3),E)}function gb(a,c,f){var P=a==null?0:a.length;if(!P)return-1;var E=P-1;return f!==r&&(E=bt(f),E=f<0?Mn(P+E,0):Qn(E,P-1)),jl(a,it(c,3),E,!0)}function bb(a){var c=a==null?0:a.length;return c?zn(a,1):[]}function NI(a){var c=a==null?0:a.length;return c?zn(a,Z):[]}function LI(a,c){var f=a==null?0:a.length;return f?(c=c===r?1:bt(c),zn(a,c)):[]}function $I(a){for(var c=-1,f=a==null?0:a.length,P={};++c<f;){var E=a[c];P[E[0]]=E[1]}return P}function yb(a){return a&&a.length?a[0]:r}function FI(a,c,f){var P=a==null?0:a.length;if(!P)return-1;var E=f==null?0:bt(f);return E<0&&(E=Mn(P+E,0)),sa(a,c,E)}function WI(a){var c=a==null?0:a.length;return c?zr(a,0,-1):[]}var BI=wt(function(a){var c=un(a,Nu);return c.length&&c[0]===a[0]?Iu(c):[]}),VI=wt(function(a){var c=Hr(a),f=un(a,Nu);return c===Hr(f)?c=r:f.pop(),f.length&&f[0]===a[0]?Iu(f,it(c,2)):[]}),UI=wt(function(a){var c=Hr(a),f=un(a,Nu);return c=typeof c=="function"?c:r,c&&f.pop(),f.length&&f[0]===a[0]?Iu(f,r,c):[]});function zI(a,c){return a==null?"":W2.call(a,c)}function Hr(a){var c=a==null?0:a.length;return c?a[c-1]:r}function HI(a,c,f){var P=a==null?0:a.length;if(!P)return-1;var E=P;return f!==r&&(E=bt(f),E=E<0?Mn(P+E,0):Qn(E,P-1)),c===c?C2(a,c,E):jl(a,Zx,E,!0)}function GI(a,c){return a&&a.length?Ag(a,bt(c)):r}var YI=wt(vb);function vb(a,c){return a&&a.length&&c&&c.length?Au(a,c):a}function qI(a,c,f){return a&&a.length&&c&&c.length?Au(a,c,it(f,2)):a}function KI(a,c,f){return a&&a.length&&c&&c.length?Au(a,c,r,f):a}var XI=Ms(function(a,c){var f=a==null?0:a.length,P=wu(a,c);return kg(a,un(c,function(E){return Ns(E,f)?+E:E}).sort(Ug)),P});function JI(a,c){var f=[];if(!(a&&a.length))return f;var P=-1,E=[],M=a.length;for(c=it(c,3);++P<M;){var B=a[P];c(B,P,a)&&(f.push(B),E.push(P))}return kg(a,E),f}function Xu(a){return a==null?a:z2.call(a)}function QI(a,c,f){var P=a==null?0:a.length;return P?(f&&typeof f!="number"&&lr(a,c,f)?(c=0,f=P):(c=c==null?0:bt(c),f=f===r?P:bt(f)),zr(a,c,f)):[]}function ZI(a,c){return Bl(a,c)}function eD(a,c,f){return ku(a,c,it(f,2))}function tD(a,c){var f=a==null?0:a.length;if(f){var P=Bl(a,c);if(P<f&&os(a[P],c))return P}return-1}function nD(a,c){return Bl(a,c,!0)}function rD(a,c,f){return ku(a,c,it(f,2),!0)}function sD(a,c){var f=a==null?0:a.length;if(f){var P=Bl(a,c,!0)-1;if(os(a[P],c))return P}return-1}function oD(a){return a&&a.length?Mg(a):[]}function aD(a,c){return a&&a.length?Mg(a,it(c,2)):[]}function iD(a){var c=a==null?0:a.length;return c?zr(a,1,c):[]}function lD(a,c,f){return a&&a.length?(c=f||c===r?1:bt(c),zr(a,0,c<0?0:c)):[]}function cD(a,c,f){var P=a==null?0:a.length;return P?(c=f||c===r?1:bt(c),c=P-c,zr(a,c<0?0:c,P)):[]}function dD(a,c){return a&&a.length?Vl(a,it(c,3),!1,!0):[]}function uD(a,c){return a&&a.length?Vl(a,it(c,3)):[]}var hD=wt(function(a){return no(zn(a,1,Cn,!0))}),fD=wt(function(a){var c=Hr(a);return Cn(c)&&(c=r),no(zn(a,1,Cn,!0),it(c,2))}),pD=wt(function(a){var c=Hr(a);return c=typeof c=="function"?c:r,no(zn(a,1,Cn,!0),r,c)});function mD(a){return a&&a.length?no(a):[]}function xD(a,c){return a&&a.length?no(a,it(c,2)):[]}function gD(a,c){return c=typeof c=="function"?c:r,a&&a.length?no(a,r,c):[]}function Ju(a){if(!(a&&a.length))return[];var c=0;return a=Js(a,function(f){if(Cn(f))return c=Mn(f.length,c),!0}),pu(c,function(f){return un(a,uu(f))})}function jb(a,c){if(!(a&&a.length))return[];var f=Ju(a);return c==null?f:un(f,function(P){return Dr(c,r,P)})}var bD=wt(function(a,c){return Cn(a)?ci(a,c):[]}),yD=wt(function(a){return Mu(Js(a,Cn))}),vD=wt(function(a){var c=Hr(a);return Cn(c)&&(c=r),Mu(Js(a,Cn),it(c,2))}),jD=wt(function(a){var c=Hr(a);return c=typeof c=="function"?c:r,Mu(Js(a,Cn),r,c)}),wD=wt(Ju);function SD(a,c){return Fg(a||[],c||[],li)}function CD(a,c){return Fg(a||[],c||[],hi)}var PD=wt(function(a){var c=a.length,f=c>1?a[c-1]:r;return f=typeof f=="function"?(a.pop(),f):r,jb(a,f)});function wb(a){var c=O(a);return c.__chain__=!0,c}function ID(a,c){return c(a),a}function Jl(a,c){return c(a)}var DD=Ms(function(a){var c=a.length,f=c?a[0]:0,P=this.__wrapped__,E=function(M){return wu(M,a)};return c>1||this.__actions__.length||!(P instanceof Et)||!Ns(f)?this.thru(E):(P=P.slice(f,+f+(c?1:0)),P.__actions__.push({func:Jl,args:[E],thisArg:r}),new Vr(P,this.__chain__).thru(function(M){return c&&!M.length&&M.push(r),M}))});function TD(){return wb(this)}function ED(){return new Vr(this.value(),this.__chain__)}function AD(){this.__values__===r&&(this.__values__=Nb(this.value()));var a=this.__index__>=this.__values__.length,c=a?r:this.__values__[this.__index__++];return{done:a,value:c}}function RD(){return this}function _D(a){for(var c,f=this;f instanceof Nl;){var P=mb(f);P.__index__=0,P.__values__=r,c?E.__wrapped__=P:c=P;var E=P;f=f.__wrapped__}return E.__wrapped__=a,c}function kD(){var a=this.__wrapped__;if(a instanceof Et){var c=a;return this.__actions__.length&&(c=new Et(this)),c=c.reverse(),c.__actions__.push({func:Jl,args:[Xu],thisArg:r}),new Vr(c,this.__chain__)}return this.thru(Xu)}function OD(){return $g(this.__wrapped__,this.__actions__)}var MD=Ul(function(a,c,f){Ut.call(a,f)?++a[f]:ks(a,f,1)});function ND(a,c,f){var P=pt(a)?Jx:IP;return f&&lr(a,c,f)&&(c=r),P(a,it(c,3))}function LD(a,c){var f=pt(a)?Js:jg;return f(a,it(c,3))}var $D=Kg(xb),FD=Kg(gb);function WD(a,c){return zn(Ql(a,c),1)}function BD(a,c){return zn(Ql(a,c),Z)}function VD(a,c,f){return f=f===r?1:bt(f),zn(Ql(a,c),f)}function Sb(a,c){var f=pt(a)?Wr:to;return f(a,it(c,3))}function Cb(a,c){var f=pt(a)?i2:vg;return f(a,it(c,3))}var UD=Ul(function(a,c,f){Ut.call(a,f)?a[f].push(c):ks(a,f,[c])});function zD(a,c,f,P){a=xr(a)?a:xa(a),f=f&&!P?bt(f):0;var E=a.length;return f<0&&(f=Mn(E+f,0)),rc(a)?f<=E&&a.indexOf(c,f)>-1:!!E&&sa(a,c,f)>-1}var HD=wt(function(a,c,f){var P=-1,E=typeof c=="function",M=xr(a)?xe(a.length):[];return to(a,function(B){M[++P]=E?Dr(c,B,f):di(B,c,f)}),M}),GD=Ul(function(a,c,f){ks(a,f,c)});function Ql(a,c){var f=pt(a)?un:Dg;return f(a,it(c,3))}function YD(a,c,f,P){return a==null?[]:(pt(c)||(c=c==null?[]:[c]),f=P?r:f,pt(f)||(f=f==null?[]:[f]),Rg(a,c,f))}var qD=Ul(function(a,c,f){a[f?0:1].push(c)},function(){return[[],[]]});function KD(a,c,f){var P=pt(a)?cu:tg,E=arguments.length<3;return P(a,it(c,4),f,E,to)}function XD(a,c,f){var P=pt(a)?l2:tg,E=arguments.length<3;return P(a,it(c,4),f,E,vg)}function JD(a,c){var f=pt(a)?Js:jg;return f(a,tc(it(c,3)))}function QD(a){var c=pt(a)?xg:zP;return c(a)}function ZD(a,c,f){(f?lr(a,c,f):c===r)?c=1:c=bt(c);var P=pt(a)?jP:HP;return P(a,c)}function eT(a){var c=pt(a)?wP:YP;return c(a)}function tT(a){if(a==null)return 0;if(xr(a))return rc(a)?aa(a):a.length;var c=Zn(a);return c==de||c==L?a.size:Tu(a).length}function nT(a,c,f){var P=pt(a)?du:qP;return f&&lr(a,c,f)&&(c=r),P(a,it(c,3))}var rT=wt(function(a,c){if(a==null)return[];var f=c.length;return f>1&&lr(a,c[0],c[1])?c=[]:f>2&&lr(c[0],c[1],c[2])&&(c=[c[0]]),Rg(a,zn(c,1),[])}),Zl=L2||function(){return Un.Date.now()};function sT(a,c){if(typeof c!="function")throw new Br(l);return a=bt(a),function(){if(--a<1)return c.apply(this,arguments)}}function Pb(a,c,f){return c=f?r:c,c=a&&c==null?a.length:c,Os(a,k,r,r,r,r,c)}function Ib(a,c){var f;if(typeof c!="function")throw new Br(l);return a=bt(a),function(){return--a>0&&(f=c.apply(this,arguments)),a<=1&&(c=r),f}}var Qu=wt(function(a,c,f){var P=v;if(f.length){var E=Zs(f,pa(Qu));P|=A}return Os(a,P,c,f,E)}),Db=wt(function(a,c,f){var P=v|I;if(f.length){var E=Zs(f,pa(Db));P|=A}return Os(c,P,a,f,E)});function Tb(a,c,f){c=f?r:c;var P=Os(a,T,r,r,r,r,r,c);return P.placeholder=Tb.placeholder,P}function Eb(a,c,f){c=f?r:c;var P=Os(a,D,r,r,r,r,r,c);return P.placeholder=Eb.placeholder,P}function Ab(a,c,f){var P,E,M,B,z,te,Ie=0,De=!1,Ae=!1,We=!0;if(typeof a!="function")throw new Br(l);c=Gr(c)||0,mn(f)&&(De=!!f.leading,Ae="maxWait"in f,M=Ae?Mn(Gr(f.maxWait)||0,c):M,We="trailing"in f?!!f.trailing:We);function Ze(Pn){var as=P,Fs=E;return P=E=r,Ie=Pn,B=a.apply(Fs,as),B}function lt(Pn){return Ie=Pn,z=mi(It,c),De?Ze(Pn):B}function vt(Pn){var as=Pn-te,Fs=Pn-Ie,Kb=c-as;return Ae?Qn(Kb,M-Fs):Kb}function ct(Pn){var as=Pn-te,Fs=Pn-Ie;return te===r||as>=c||as<0||Ae&&Fs>=M}function It(){var Pn=Zl();if(ct(Pn))return At(Pn);z=mi(It,vt(Pn))}function At(Pn){return z=r,We&&P?Ze(Pn):(P=E=r,B)}function Rr(){z!==r&&Wg(z),Ie=0,P=te=E=z=r}function cr(){return z===r?B:At(Zl())}function _r(){var Pn=Zl(),as=ct(Pn);if(P=arguments,E=this,te=Pn,as){if(z===r)return lt(te);if(Ae)return Wg(z),z=mi(It,c),Ze(te)}return z===r&&(z=mi(It,c)),B}return _r.cancel=Rr,_r.flush=cr,_r}var oT=wt(function(a,c){return yg(a,1,c)}),aT=wt(function(a,c,f){return yg(a,Gr(c)||0,f)});function iT(a){return Os(a,N)}function ec(a,c){if(typeof a!="function"||c!=null&&typeof c!="function")throw new Br(l);var f=function(){var P=arguments,E=c?c.apply(this,P):P[0],M=f.cache;if(M.has(E))return M.get(E);var B=a.apply(this,P);return f.cache=M.set(E,B)||M,B};return f.cache=new(ec.Cache||_s),f}ec.Cache=_s;function tc(a){if(typeof a!="function")throw new Br(l);return function(){var c=arguments;switch(c.length){case 0:return!a.call(this);case 1:return!a.call(this,c[0]);case 2:return!a.call(this,c[0],c[1]);case 3:return!a.call(this,c[0],c[1],c[2])}return!a.apply(this,c)}}function lT(a){return Ib(2,a)}var cT=KP(function(a,c){c=c.length==1&&pt(c[0])?un(c[0],Tr(it())):un(zn(c,1),Tr(it()));var f=c.length;return wt(function(P){for(var E=-1,M=Qn(P.length,f);++E<M;)P[E]=c[E].call(this,P[E]);return Dr(a,this,P)})}),Zu=wt(function(a,c){var f=Zs(c,pa(Zu));return Os(a,A,r,c,f)}),Rb=wt(function(a,c){var f=Zs(c,pa(Rb));return Os(a,R,r,c,f)}),dT=Ms(function(a,c){return Os(a,_,r,r,r,c)});function uT(a,c){if(typeof a!="function")throw new Br(l);return c=c===r?c:bt(c),wt(a,c)}function hT(a,c){if(typeof a!="function")throw new Br(l);return c=c==null?0:Mn(bt(c),0),wt(function(f){var P=f[c],E=so(f,0,c);return P&&Qs(E,P),Dr(a,this,E)})}function fT(a,c,f){var P=!0,E=!0;if(typeof a!="function")throw new Br(l);return mn(f)&&(P="leading"in f?!!f.leading:P,E="trailing"in f?!!f.trailing:E),Ab(a,c,{leading:P,maxWait:c,trailing:E})}function pT(a){return Pb(a,1)}function mT(a,c){return Zu(Lu(c),a)}function xT(){if(!arguments.length)return[];var a=arguments[0];return pt(a)?a:[a]}function gT(a){return Ur(a,y)}function bT(a,c){return c=typeof c=="function"?c:r,Ur(a,y,c)}function yT(a){return Ur(a,m|y)}function vT(a,c){return c=typeof c=="function"?c:r,Ur(a,m|y,c)}function jT(a,c){return c==null||bg(a,c,$n(c))}function os(a,c){return a===c||a!==a&&c!==c}var wT=Yl(Pu),ST=Yl(function(a,c){return a>=c}),Oo=Cg(function(){return arguments}())?Cg:function(a){return jn(a)&&Ut.call(a,"callee")&&!dg.call(a,"callee")},pt=xe.isArray,CT=Hx?Tr(Hx):_P;function xr(a){return a!=null&&nc(a.length)&&!Ls(a)}function Cn(a){return jn(a)&&xr(a)}function PT(a){return a===!0||a===!1||jn(a)&&ir(a)==Oe}var oo=F2||dh,IT=Gx?Tr(Gx):kP;function DT(a){return jn(a)&&a.nodeType===1&&!xi(a)}function TT(a){if(a==null)return!0;if(xr(a)&&(pt(a)||typeof a=="string"||typeof a.splice=="function"||oo(a)||ma(a)||Oo(a)))return!a.length;var c=Zn(a);if(c==de||c==L)return!a.size;if(pi(a))return!Tu(a).length;for(var f in a)if(Ut.call(a,f))return!1;return!0}function ET(a,c){return ui(a,c)}function AT(a,c,f){f=typeof f=="function"?f:r;var P=f?f(a,c):r;return P===r?ui(a,c,r,f):!!P}function eh(a){if(!jn(a))return!1;var c=ir(a);return c==ae||c==ie||typeof a.message=="string"&&typeof a.name=="string"&&!xi(a)}function RT(a){return typeof a=="number"&&hg(a)}function Ls(a){if(!mn(a))return!1;var c=ir(a);return c==se||c==me||c==je||c==Se}function _b(a){return typeof a=="number"&&a==bt(a)}function nc(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=G}function mn(a){var c=typeof a;return a!=null&&(c=="object"||c=="function")}function jn(a){return a!=null&&typeof a=="object"}var kb=Yx?Tr(Yx):MP;function _T(a,c){return a===c||Du(a,c,zu(c))}function kT(a,c,f){return f=typeof f=="function"?f:r,Du(a,c,zu(c),f)}function OT(a){return Ob(a)&&a!=+a}function MT(a){if(bI(a))throw new ft(i);return Pg(a)}function NT(a){return a===null}function LT(a){return a==null}function Ob(a){return typeof a=="number"||jn(a)&&ir(a)==_e}function xi(a){if(!jn(a)||ir(a)!=He)return!1;var c=El(a);if(c===null)return!0;var f=Ut.call(c,"constructor")&&c.constructor;return typeof f=="function"&&f instanceof f&&Pl.call(f)==k2}var th=qx?Tr(qx):NP;function $T(a){return _b(a)&&a>=-G&&a<=G}var Mb=Kx?Tr(Kx):LP;function rc(a){return typeof a=="string"||!pt(a)&&jn(a)&&ir(a)==ke}function Ar(a){return typeof a=="symbol"||jn(a)&&ir(a)==Ue}var ma=Xx?Tr(Xx):$P;function FT(a){return a===r}function WT(a){return jn(a)&&Zn(a)==Ft}function BT(a){return jn(a)&&ir(a)==Rt}var VT=Yl(Eu),UT=Yl(function(a,c){return a<=c});function Nb(a){if(!a)return[];if(xr(a))return rc(a)?rs(a):mr(a);if(ri&&a[ri])return j2(a[ri]());var c=Zn(a),f=c==de?xu:c==L?wl:xa;return f(a)}function $s(a){if(!a)return a===0?a:0;if(a=Gr(a),a===Z||a===-Z){var c=a<0?-1:1;return c*oe}return a===a?a:0}function bt(a){var c=$s(a),f=c%1;return c===c?f?c-f:c:0}function Lb(a){return a?Ao(bt(a),0,ee):0}function Gr(a){if(typeof a=="number")return a;if(Ar(a))return V;if(mn(a)){var c=typeof a.valueOf=="function"?a.valueOf():a;a=mn(c)?c+"":c}if(typeof a!="string")return a===0?a:+a;a=ng(a);var f=CC.test(a);return f||IC.test(a)?s2(a.slice(2),f?2:8):SC.test(a)?V:+a}function $b(a){return ys(a,gr(a))}function zT(a){return a?Ao(bt(a),-G,G):a===0?a:0}function Wt(a){return a==null?"":Er(a)}var HT=ha(function(a,c){if(pi(c)||xr(c)){ys(c,$n(c),a);return}for(var f in c)Ut.call(c,f)&&li(a,f,c[f])}),Fb=ha(function(a,c){ys(c,gr(c),a)}),sc=ha(function(a,c,f,P){ys(c,gr(c),a,P)}),GT=ha(function(a,c,f,P){ys(c,$n(c),a,P)}),YT=Ms(wu);function qT(a,c){var f=ua(a);return c==null?f:gg(f,c)}var KT=wt(function(a,c){a=Zt(a);var f=-1,P=c.length,E=P>2?c[2]:r;for(E&&lr(c[0],c[1],E)&&(P=1);++f<P;)for(var M=c[f],B=gr(M),z=-1,te=B.length;++z<te;){var Ie=B[z],De=a[Ie];(De===r||os(De,la[Ie])&&!Ut.call(a,Ie))&&(a[Ie]=M[Ie])}return a}),XT=wt(function(a){return a.push(r,nb),Dr(Wb,r,a)});function JT(a,c){return Qx(a,it(c,3),bs)}function QT(a,c){return Qx(a,it(c,3),Cu)}function ZT(a,c){return a==null?a:Su(a,it(c,3),gr)}function eE(a,c){return a==null?a:wg(a,it(c,3),gr)}function tE(a,c){return a&&bs(a,it(c,3))}function nE(a,c){return a&&Cu(a,it(c,3))}function rE(a){return a==null?[]:Fl(a,$n(a))}function sE(a){return a==null?[]:Fl(a,gr(a))}function nh(a,c,f){var P=a==null?r:Ro(a,c);return P===r?f:P}function oE(a,c){return a!=null&&ob(a,c,TP)}function rh(a,c){return a!=null&&ob(a,c,EP)}var aE=Jg(function(a,c,f){c!=null&&typeof c.toString!="function"&&(c=Il.call(c)),a[c]=f},oh(br)),iE=Jg(function(a,c,f){c!=null&&typeof c.toString!="function"&&(c=Il.call(c)),Ut.call(a,c)?a[c].push(f):a[c]=[f]},it),lE=wt(di);function $n(a){return xr(a)?mg(a):Tu(a)}function gr(a){return xr(a)?mg(a,!0):FP(a)}function cE(a,c){var f={};return c=it(c,3),bs(a,function(P,E,M){ks(f,c(P,E,M),P)}),f}function dE(a,c){var f={};return c=it(c,3),bs(a,function(P,E,M){ks(f,E,c(P,E,M))}),f}var uE=ha(function(a,c,f){Wl(a,c,f)}),Wb=ha(function(a,c,f,P){Wl(a,c,f,P)}),hE=Ms(function(a,c){var f={};if(a==null)return f;var P=!1;c=un(c,function(M){return M=ro(M,a),P||(P=M.length>1),M}),ys(a,Vu(a),f),P&&(f=Ur(f,m|g|y,aI));for(var E=c.length;E--;)Ou(f,c[E]);return f});function fE(a,c){return Bb(a,tc(it(c)))}var pE=Ms(function(a,c){return a==null?{}:BP(a,c)});function Bb(a,c){if(a==null)return{};var f=un(Vu(a),function(P){return[P]});return c=it(c),_g(a,f,function(P,E){return c(P,E[0])})}function mE(a,c,f){c=ro(c,a);var P=-1,E=c.length;for(E||(E=1,a=r);++P<E;){var M=a==null?r:a[vs(c[P])];M===r&&(P=E,M=f),a=Ls(M)?M.call(a):M}return a}function xE(a,c,f){return a==null?a:hi(a,c,f)}function gE(a,c,f,P){return P=typeof P=="function"?P:r,a==null?a:hi(a,c,f,P)}var Vb=eb($n),Ub=eb(gr);function bE(a,c,f){var P=pt(a),E=P||oo(a)||ma(a);if(c=it(c,4),f==null){var M=a&&a.constructor;E?f=P?new M:[]:mn(a)?f=Ls(M)?ua(El(a)):{}:f={}}return(E?Wr:bs)(a,function(B,z,te){return c(f,B,z,te)}),f}function yE(a,c){return a==null?!0:Ou(a,c)}function vE(a,c,f){return a==null?a:Lg(a,c,Lu(f))}function jE(a,c,f,P){return P=typeof P=="function"?P:r,a==null?a:Lg(a,c,Lu(f),P)}function xa(a){return a==null?[]:mu(a,$n(a))}function wE(a){return a==null?[]:mu(a,gr(a))}function SE(a,c,f){return f===r&&(f=c,c=r),f!==r&&(f=Gr(f),f=f===f?f:0),c!==r&&(c=Gr(c),c=c===c?c:0),Ao(Gr(a),c,f)}function CE(a,c,f){return c=$s(c),f===r?(f=c,c=0):f=$s(f),a=Gr(a),AP(a,c,f)}function PE(a,c,f){if(f&&typeof f!="boolean"&&lr(a,c,f)&&(c=f=r),f===r&&(typeof c=="boolean"?(f=c,c=r):typeof a=="boolean"&&(f=a,a=r)),a===r&&c===r?(a=0,c=1):(a=$s(a),c===r?(c=a,a=0):c=$s(c)),a>c){var P=a;a=c,c=P}if(f||a%1||c%1){var E=fg();return Qn(a+E*(c-a+r2("1e-"+((E+"").length-1))),c)}return Ru(a,c)}var IE=fa(function(a,c,f){return c=c.toLowerCase(),a+(f?zb(c):c)});function zb(a){return sh(Wt(a).toLowerCase())}function Hb(a){return a=Wt(a),a&&a.replace(TC,x2).replace(YC,"")}function DE(a,c,f){a=Wt(a),c=Er(c);var P=a.length;f=f===r?P:Ao(bt(f),0,P);var E=f;return f-=c.length,f>=0&&a.slice(f,E)==c}function TE(a){return a=Wt(a),a&&Xd.test(a)?a.replace(ar,g2):a}function EE(a){return a=Wt(a),a&&pC.test(a)?a.replace(Zd,"\\$&"):a}var AE=fa(function(a,c,f){return a+(f?"-":"")+c.toLowerCase()}),RE=fa(function(a,c,f){return a+(f?" ":"")+c.toLowerCase()}),_E=qg("toLowerCase");function kE(a,c,f){a=Wt(a),c=bt(c);var P=c?aa(a):0;if(!c||P>=c)return a;var E=(c-P)/2;return Gl(kl(E),f)+a+Gl(_l(E),f)}function OE(a,c,f){a=Wt(a),c=bt(c);var P=c?aa(a):0;return c&&P<c?a+Gl(c-P,f):a}function ME(a,c,f){a=Wt(a),c=bt(c);var P=c?aa(a):0;return c&&P<c?Gl(c-P,f)+a:a}function NE(a,c,f){return f||c==null?c=0:c&&(c=+c),U2(Wt(a).replace(eu,""),c||0)}function LE(a,c,f){return(f?lr(a,c,f):c===r)?c=1:c=bt(c),_u(Wt(a),c)}function $E(){var a=arguments,c=Wt(a[0]);return a.length<3?c:c.replace(a[1],a[2])}var FE=fa(function(a,c,f){return a+(f?"_":"")+c.toLowerCase()});function WE(a,c,f){return f&&typeof f!="number"&&lr(a,c,f)&&(c=f=r),f=f===r?ee:f>>>0,f?(a=Wt(a),a&&(typeof c=="string"||c!=null&&!th(c))&&(c=Er(c),!c&&oa(a))?so(rs(a),0,f):a.split(c,f)):[]}var BE=fa(function(a,c,f){return a+(f?" ":"")+sh(c)});function VE(a,c,f){return a=Wt(a),f=f==null?0:Ao(bt(f),0,a.length),c=Er(c),a.slice(f,f+c.length)==c}function UE(a,c,f){var P=O.templateSettings;f&&lr(a,c,f)&&(c=r),a=Wt(a),c=sc({},c,P,tb);var E=sc({},c.imports,P.imports,tb),M=$n(E),B=mu(E,M),z,te,Ie=0,De=c.interpolate||gl,Ae="__p += '",We=gu((c.escape||gl).source+"|"+De.source+"|"+(De===Qd?wC:gl).source+"|"+(c.evaluate||gl).source+"|$","g"),Ze="//# sourceURL="+(Ut.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++QC+"]")+`
`;a.replace(We,function(ct,It,At,Rr,cr,_r){return At||(At=Rr),Ae+=a.slice(Ie,_r).replace(EC,b2),It&&(z=!0,Ae+=`' +
__e(`+It+`) +
'`),cr&&(te=!0,Ae+=`';
`+cr+`;
__p += '`),At&&(Ae+=`' +
((__t = (`+At+`)) == null ? '' : __t) +
'`),Ie=_r+ct.length,ct}),Ae+=`';
`;var lt=Ut.call(c,"variable")&&c.variable;if(!lt)Ae=`with (obj) {
`+Ae+`
}
`;else if(vC.test(lt))throw new ft(d);Ae=(te?Ae.replace(An,""):Ae).replace(Vn,"$1").replace(Pr,"$1;"),Ae="function("+(lt||"obj")+`) {
`+(lt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(z?", __e = _.escape":"")+(te?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ae+`return __p
}`;var vt=Yb(function(){return Mt(M,Ze+"return "+Ae).apply(r,B)});if(vt.source=Ae,eh(vt))throw vt;return vt}function zE(a){return Wt(a).toLowerCase()}function HE(a){return Wt(a).toUpperCase()}function GE(a,c,f){if(a=Wt(a),a&&(f||c===r))return ng(a);if(!a||!(c=Er(c)))return a;var P=rs(a),E=rs(c),M=rg(P,E),B=sg(P,E)+1;return so(P,M,B).join("")}function YE(a,c,f){if(a=Wt(a),a&&(f||c===r))return a.slice(0,ag(a)+1);if(!a||!(c=Er(c)))return a;var P=rs(a),E=sg(P,rs(c))+1;return so(P,0,E).join("")}function qE(a,c,f){if(a=Wt(a),a&&(f||c===r))return a.replace(eu,"");if(!a||!(c=Er(c)))return a;var P=rs(a),E=rg(P,rs(c));return so(P,E).join("")}function KE(a,c){var f=W,P=Y;if(mn(c)){var E="separator"in c?c.separator:E;f="length"in c?bt(c.length):f,P="omission"in c?Er(c.omission):P}a=Wt(a);var M=a.length;if(oa(a)){var B=rs(a);M=B.length}if(f>=M)return a;var z=f-aa(P);if(z<1)return P;var te=B?so(B,0,z).join(""):a.slice(0,z);if(E===r)return te+P;if(B&&(z+=te.length-z),th(E)){if(a.slice(z).search(E)){var Ie,De=te;for(E.global||(E=gu(E.source,Wt(Cx.exec(E))+"g")),E.lastIndex=0;Ie=E.exec(De);)var Ae=Ie.index;te=te.slice(0,Ae===r?z:Ae)}}else if(a.indexOf(Er(E),z)!=z){var We=te.lastIndexOf(E);We>-1&&(te=te.slice(0,We))}return te+P}function XE(a){return a=Wt(a),a&&Kd.test(a)?a.replace(Po,P2):a}var JE=fa(function(a,c,f){return a+(f?" ":"")+c.toUpperCase()}),sh=qg("toUpperCase");function Gb(a,c,f){return a=Wt(a),c=f?r:c,c===r?v2(a)?T2(a):u2(a):a.match(c)||[]}var Yb=wt(function(a,c){try{return Dr(a,r,c)}catch(f){return eh(f)?f:new ft(f)}}),QE=Ms(function(a,c){return Wr(c,function(f){f=vs(f),ks(a,f,Qu(a[f],a))}),a});function ZE(a){var c=a==null?0:a.length,f=it();return a=c?un(a,function(P){if(typeof P[1]!="function")throw new Br(l);return[f(P[0]),P[1]]}):[],wt(function(P){for(var E=-1;++E<c;){var M=a[E];if(Dr(M[0],this,P))return Dr(M[1],this,P)}})}function eA(a){return PP(Ur(a,m))}function oh(a){return function(){return a}}function tA(a,c){return a==null||a!==a?c:a}var nA=Xg(),rA=Xg(!0);function br(a){return a}function ah(a){return Ig(typeof a=="function"?a:Ur(a,m))}function sA(a){return Tg(Ur(a,m))}function oA(a,c){return Eg(a,Ur(c,m))}var aA=wt(function(a,c){return function(f){return di(f,a,c)}}),iA=wt(function(a,c){return function(f){return di(a,f,c)}});function ih(a,c,f){var P=$n(c),E=Fl(c,P);f==null&&!(mn(c)&&(E.length||!P.length))&&(f=c,c=a,a=this,E=Fl(c,$n(c)));var M=!(mn(f)&&"chain"in f)||!!f.chain,B=Ls(a);return Wr(E,function(z){var te=c[z];a[z]=te,B&&(a.prototype[z]=function(){var Ie=this.__chain__;if(M||Ie){var De=a(this.__wrapped__),Ae=De.__actions__=mr(this.__actions__);return Ae.push({func:te,args:arguments,thisArg:a}),De.__chain__=Ie,De}return te.apply(a,Qs([this.value()],arguments))})}),a}function lA(){return Un._===this&&(Un._=O2),this}function lh(){}function cA(a){return a=bt(a),wt(function(c){return Ag(c,a)})}var dA=Fu(un),uA=Fu(Jx),hA=Fu(du);function qb(a){return Gu(a)?uu(vs(a)):VP(a)}function fA(a){return function(c){return a==null?r:Ro(a,c)}}var pA=Qg(),mA=Qg(!0);function ch(){return[]}function dh(){return!1}function xA(){return{}}function gA(){return""}function bA(){return!0}function yA(a,c){if(a=bt(a),a<1||a>G)return[];var f=ee,P=Qn(a,ee);c=it(c),a-=ee;for(var E=pu(P,c);++f<a;)c(f);return E}function vA(a){return pt(a)?un(a,vs):Ar(a)?[a]:mr(pb(Wt(a)))}function jA(a){var c=++_2;return Wt(a)+c}var wA=Hl(function(a,c){return a+c},0),SA=Wu("ceil"),CA=Hl(function(a,c){return a/c},1),PA=Wu("floor");function IA(a){return a&&a.length?$l(a,br,Pu):r}function DA(a,c){return a&&a.length?$l(a,it(c,2),Pu):r}function TA(a){return eg(a,br)}function EA(a,c){return eg(a,it(c,2))}function AA(a){return a&&a.length?$l(a,br,Eu):r}function RA(a,c){return a&&a.length?$l(a,it(c,2),Eu):r}var _A=Hl(function(a,c){return a*c},1),kA=Wu("round"),OA=Hl(function(a,c){return a-c},0);function MA(a){return a&&a.length?fu(a,br):0}function NA(a,c){return a&&a.length?fu(a,it(c,2)):0}return O.after=sT,O.ary=Pb,O.assign=HT,O.assignIn=Fb,O.assignInWith=sc,O.assignWith=GT,O.at=YT,O.before=Ib,O.bind=Qu,O.bindAll=QE,O.bindKey=Db,O.castArray=xT,O.chain=wb,O.chunk=PI,O.compact=II,O.concat=DI,O.cond=ZE,O.conforms=eA,O.constant=oh,O.countBy=MD,O.create=qT,O.curry=Tb,O.curryRight=Eb,O.debounce=Ab,O.defaults=KT,O.defaultsDeep=XT,O.defer=oT,O.delay=aT,O.difference=TI,O.differenceBy=EI,O.differenceWith=AI,O.drop=RI,O.dropRight=_I,O.dropRightWhile=kI,O.dropWhile=OI,O.fill=MI,O.filter=LD,O.flatMap=WD,O.flatMapDeep=BD,O.flatMapDepth=VD,O.flatten=bb,O.flattenDeep=NI,O.flattenDepth=LI,O.flip=iT,O.flow=nA,O.flowRight=rA,O.fromPairs=$I,O.functions=rE,O.functionsIn=sE,O.groupBy=UD,O.initial=WI,O.intersection=BI,O.intersectionBy=VI,O.intersectionWith=UI,O.invert=aE,O.invertBy=iE,O.invokeMap=HD,O.iteratee=ah,O.keyBy=GD,O.keys=$n,O.keysIn=gr,O.map=Ql,O.mapKeys=cE,O.mapValues=dE,O.matches=sA,O.matchesProperty=oA,O.memoize=ec,O.merge=uE,O.mergeWith=Wb,O.method=aA,O.methodOf=iA,O.mixin=ih,O.negate=tc,O.nthArg=cA,O.omit=hE,O.omitBy=fE,O.once=lT,O.orderBy=YD,O.over=dA,O.overArgs=cT,O.overEvery=uA,O.overSome=hA,O.partial=Zu,O.partialRight=Rb,O.partition=qD,O.pick=pE,O.pickBy=Bb,O.property=qb,O.propertyOf=fA,O.pull=YI,O.pullAll=vb,O.pullAllBy=qI,O.pullAllWith=KI,O.pullAt=XI,O.range=pA,O.rangeRight=mA,O.rearg=dT,O.reject=JD,O.remove=JI,O.rest=uT,O.reverse=Xu,O.sampleSize=ZD,O.set=xE,O.setWith=gE,O.shuffle=eT,O.slice=QI,O.sortBy=rT,O.sortedUniq=oD,O.sortedUniqBy=aD,O.split=WE,O.spread=hT,O.tail=iD,O.take=lD,O.takeRight=cD,O.takeRightWhile=dD,O.takeWhile=uD,O.tap=ID,O.throttle=fT,O.thru=Jl,O.toArray=Nb,O.toPairs=Vb,O.toPairsIn=Ub,O.toPath=vA,O.toPlainObject=$b,O.transform=bE,O.unary=pT,O.union=hD,O.unionBy=fD,O.unionWith=pD,O.uniq=mD,O.uniqBy=xD,O.uniqWith=gD,O.unset=yE,O.unzip=Ju,O.unzipWith=jb,O.update=vE,O.updateWith=jE,O.values=xa,O.valuesIn=wE,O.without=bD,O.words=Gb,O.wrap=mT,O.xor=yD,O.xorBy=vD,O.xorWith=jD,O.zip=wD,O.zipObject=SD,O.zipObjectDeep=CD,O.zipWith=PD,O.entries=Vb,O.entriesIn=Ub,O.extend=Fb,O.extendWith=sc,ih(O,O),O.add=wA,O.attempt=Yb,O.camelCase=IE,O.capitalize=zb,O.ceil=SA,O.clamp=SE,O.clone=gT,O.cloneDeep=yT,O.cloneDeepWith=vT,O.cloneWith=bT,O.conformsTo=jT,O.deburr=Hb,O.defaultTo=tA,O.divide=CA,O.endsWith=DE,O.eq=os,O.escape=TE,O.escapeRegExp=EE,O.every=ND,O.find=$D,O.findIndex=xb,O.findKey=JT,O.findLast=FD,O.findLastIndex=gb,O.findLastKey=QT,O.floor=PA,O.forEach=Sb,O.forEachRight=Cb,O.forIn=ZT,O.forInRight=eE,O.forOwn=tE,O.forOwnRight=nE,O.get=nh,O.gt=wT,O.gte=ST,O.has=oE,O.hasIn=rh,O.head=yb,O.identity=br,O.includes=zD,O.indexOf=FI,O.inRange=CE,O.invoke=lE,O.isArguments=Oo,O.isArray=pt,O.isArrayBuffer=CT,O.isArrayLike=xr,O.isArrayLikeObject=Cn,O.isBoolean=PT,O.isBuffer=oo,O.isDate=IT,O.isElement=DT,O.isEmpty=TT,O.isEqual=ET,O.isEqualWith=AT,O.isError=eh,O.isFinite=RT,O.isFunction=Ls,O.isInteger=_b,O.isLength=nc,O.isMap=kb,O.isMatch=_T,O.isMatchWith=kT,O.isNaN=OT,O.isNative=MT,O.isNil=LT,O.isNull=NT,O.isNumber=Ob,O.isObject=mn,O.isObjectLike=jn,O.isPlainObject=xi,O.isRegExp=th,O.isSafeInteger=$T,O.isSet=Mb,O.isString=rc,O.isSymbol=Ar,O.isTypedArray=ma,O.isUndefined=FT,O.isWeakMap=WT,O.isWeakSet=BT,O.join=zI,O.kebabCase=AE,O.last=Hr,O.lastIndexOf=HI,O.lowerCase=RE,O.lowerFirst=_E,O.lt=VT,O.lte=UT,O.max=IA,O.maxBy=DA,O.mean=TA,O.meanBy=EA,O.min=AA,O.minBy=RA,O.stubArray=ch,O.stubFalse=dh,O.stubObject=xA,O.stubString=gA,O.stubTrue=bA,O.multiply=_A,O.nth=GI,O.noConflict=lA,O.noop=lh,O.now=Zl,O.pad=kE,O.padEnd=OE,O.padStart=ME,O.parseInt=NE,O.random=PE,O.reduce=KD,O.reduceRight=XD,O.repeat=LE,O.replace=$E,O.result=mE,O.round=kA,O.runInContext=Q,O.sample=QD,O.size=tT,O.snakeCase=FE,O.some=nT,O.sortedIndex=ZI,O.sortedIndexBy=eD,O.sortedIndexOf=tD,O.sortedLastIndex=nD,O.sortedLastIndexBy=rD,O.sortedLastIndexOf=sD,O.startCase=BE,O.startsWith=VE,O.subtract=OA,O.sum=MA,O.sumBy=NA,O.template=UE,O.times=yA,O.toFinite=$s,O.toInteger=bt,O.toLength=Lb,O.toLower=zE,O.toNumber=Gr,O.toSafeInteger=zT,O.toString=Wt,O.toUpper=HE,O.trim=GE,O.trimEnd=YE,O.trimStart=qE,O.truncate=KE,O.unescape=XE,O.uniqueId=jA,O.upperCase=JE,O.upperFirst=sh,O.each=Sb,O.eachRight=Cb,O.first=yb,ih(O,function(){var a={};return bs(O,function(c,f){Ut.call(O.prototype,f)||(a[f]=c)}),a}(),{chain:!1}),O.VERSION=s,Wr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){O[a].placeholder=O}),Wr(["drop","take"],function(a,c){Et.prototype[a]=function(f){f=f===r?1:Mn(bt(f),0);var P=this.__filtered__&&!c?new Et(this):this.clone();return P.__filtered__?P.__takeCount__=Qn(f,P.__takeCount__):P.__views__.push({size:Qn(f,ee),type:a+(P.__dir__<0?"Right":"")}),P},Et.prototype[a+"Right"]=function(f){return this.reverse()[a](f).reverse()}}),Wr(["filter","map","takeWhile"],function(a,c){var f=c+1,P=f==J||f==K;Et.prototype[a]=function(E){var M=this.clone();return M.__iteratees__.push({iteratee:it(E,3),type:f}),M.__filtered__=M.__filtered__||P,M}}),Wr(["head","last"],function(a,c){var f="take"+(c?"Right":"");Et.prototype[a]=function(){return this[f](1).value()[0]}}),Wr(["initial","tail"],function(a,c){var f="drop"+(c?"":"Right");Et.prototype[a]=function(){return this.__filtered__?new Et(this):this[f](1)}}),Et.prototype.compact=function(){return this.filter(br)},Et.prototype.find=function(a){return this.filter(a).head()},Et.prototype.findLast=function(a){return this.reverse().find(a)},Et.prototype.invokeMap=wt(function(a,c){return typeof a=="function"?new Et(this):this.map(function(f){return di(f,a,c)})}),Et.prototype.reject=function(a){return this.filter(tc(it(a)))},Et.prototype.slice=function(a,c){a=bt(a);var f=this;return f.__filtered__&&(a>0||c<0)?new Et(f):(a<0?f=f.takeRight(-a):a&&(f=f.drop(a)),c!==r&&(c=bt(c),f=c<0?f.dropRight(-c):f.take(c-a)),f)},Et.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Et.prototype.toArray=function(){return this.take(ee)},bs(Et.prototype,function(a,c){var f=/^(?:filter|find|map|reject)|While$/.test(c),P=/^(?:head|last)$/.test(c),E=O[P?"take"+(c=="last"?"Right":""):c],M=P||/^find/.test(c);E&&(O.prototype[c]=function(){var B=this.__wrapped__,z=P?[1]:arguments,te=B instanceof Et,Ie=z[0],De=te||pt(B),Ae=function(It){var At=E.apply(O,Qs([It],z));return P&&We?At[0]:At};De&&f&&typeof Ie=="function"&&Ie.length!=1&&(te=De=!1);var We=this.__chain__,Ze=!!this.__actions__.length,lt=M&&!We,vt=te&&!Ze;if(!M&&De){B=vt?B:new Et(this);var ct=a.apply(B,z);return ct.__actions__.push({func:Jl,args:[Ae],thisArg:r}),new Vr(ct,We)}return lt&&vt?a.apply(this,z):(ct=this.thru(Ae),lt?P?ct.value()[0]:ct.value():ct)})}),Wr(["pop","push","shift","sort","splice","unshift"],function(a){var c=Sl[a],f=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",P=/^(?:pop|shift)$/.test(a);O.prototype[a]=function(){var E=arguments;if(P&&!this.__chain__){var M=this.value();return c.apply(pt(M)?M:[],E)}return this[f](function(B){return c.apply(pt(B)?B:[],E)})}}),bs(Et.prototype,function(a,c){var f=O[c];if(f){var P=f.name+"";Ut.call(da,P)||(da[P]=[]),da[P].push({name:c,func:f})}}),da[zl(r,I).name]=[{name:"wrapper",func:r}],Et.prototype.clone=X2,Et.prototype.reverse=J2,Et.prototype.value=Q2,O.prototype.at=DD,O.prototype.chain=TD,O.prototype.commit=ED,O.prototype.next=AD,O.prototype.plant=_D,O.prototype.reverse=kD,O.prototype.toJSON=O.prototype.valueOf=O.prototype.value=OD,O.prototype.first=O.prototype.head,ri&&(O.prototype[ri]=RD),O},ia=E2();Io?((Io.exports=ia)._=ia,au._=ia):Un._=ia}).call(gi)})(Uc,Uc.exports);var nL=Uc.exports;const ba={ALL:0,NEWS:1,CHANNELS:2,USERS:3,POLLS:4,TAGS:5},Ch={RELEVANCE:0,DATE:1,POPULARITY:2},_j={all:ba.ALL,news:ba.NEWS,channels:ba.CHANNELS,users:ba.USERS,polls:ba.POLLS,tags:ba.TAGS},kj={relevance:Ch.RELEVANCE,date:Ch.DATE,popularity:Ch.POPULARITY},rL=()=>{const[e,n]=x.useState(null),[r,s]=x.useState(!1),{api:o}=Qe(),{execute:i}=st(),[l,d]=x.useState(null),u=x.useCallback(async(g,y={},b=1,w=20)=>{if(!g.trim()){d("Search query cannot be empty");return}s(!0),d(null);try{const v={};Object.entries(y).forEach(([T,D])=>{if(D!=null&&D!=="")if(T==="type"&&typeof D=="string"){const A=_j[D];A!==void 0&&(v.type=A)}else if(T==="sortBy"&&typeof D=="string"){const A=kj[D];A!==void 0&&(v.sortBy=A)}else v[T]=D});const I={page:b,limit:w},S=await i(()=>o==null?void 0:o.app.search.search(g,v,I),{showSuccessMessage:!1});n(S)}catch(v){console.error("Search error:",v),d(v.message||"Search failed")}finally{s(!1)}},[i]),h=x.useCallback(async(g,y)=>{if(!g.trim()||g.length<2)return[];try{return(await i(()=>o==null?void 0:o.app.search.getSuggestions(g,y),{showSuccessMessage:!1})).suggestions||[]}catch(b){return console.error("Suggestions error:",b),[]}},[i]),p=x.useCallback(async(g,y)=>{if(!g.trim()||g.length<2)return[];if(!(o!=null&&o.app.search))return console.error("Search API not available"),[];try{const b=await i(()=>o.app.search.getStructuredSuggestions(g,y),{showSuccessMessage:!1});return(b==null?void 0:b.suggestions)||[]}catch(b){return console.error("Structured suggestions error:",b),[]}},[i,o==null?void 0:o.app.search]),m=x.useCallback(()=>{n(null),d(null)},[]);return{searchResults:e,loading:r,error:l,performSearch:u,getSuggestions:h,getStructuredSuggestions:p,clearResults:m}},sL=Me(C,{shouldForwardProp:e=>e!=="isFocused"})(({theme:e,isFocused:n})=>({position:"relative",width:n?"600px":"480px",maxWidth:n?"600px":"480px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",[e.breakpoints.down("lg")]:{width:n?"560px":"460px",maxWidth:n?"560px":"460px"},[e.breakpoints.down("md")]:{width:n?"400px":"360px",maxWidth:n?"400px":"360px"},[e.breakpoints.down("sm")]:{width:n?"320px":"280px",maxWidth:n?"320px":"280px"}})),oL=Me(ot)(({theme:e})=>({borderRadius:e.spacing(3),backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.04)",border:"none",transition:"all 0.2s ease-in-out","&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.08)"},"&:focus-within":{backgroundColor:e.palette.background.paper,boxShadow:"0 4px 20px rgba(0,0,0,0.15)",border:`1px solid ${e.palette.primary.main}`}})),aL=Me(C)(({theme:e})=>({display:"flex",alignItems:"center",padding:e.spacing(1,2),cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover}})),sf=({onSearch:e,onSuggestionSelect:n,placeholder:r="Search articles, channels, or journalists...",className:s,fullWidth:o=!1})=>{const[i,l]=x.useState(""),[d,u]=x.useState([]),[h,p]=x.useState(!1),[m,g]=x.useState(!1),[y,b]=x.useState(!1),{getStructuredSuggestions:w}=rL(),v=Ct(),I=x.useCallback(nL.debounce(async k=>{if(k.length<2){u([]);return}p(!0);try{const _=await w(k);u(_)}catch(_){console.error("Error fetching suggestions:",_),u([])}finally{p(!1)}},300),[]);x.useEffect(()=>{I(i)},[i,I]);const S=()=>{i.trim()&&(g(!1),e?e(i):v(`${ye.APP_SEARCH}?q=${encodeURIComponent(i.trim())}`))},T=k=>{if(g(!1),l(""),n){const _={id:k.id,text:k.text,type:k.type,metadata:k.metadata};n(_);return}switch(k.type){case"news":v(ye.APP_NEWS_VIEW.replace(":id",k.id));break;case"channel":v(ye.APP_CHANNEL_VIEW.replace(":channelId",k.id));break;case"poll":v(ye.APP_POLL_VIEW.replace(":id",k.id));break;case"user":v(`${ye.APP_SEARCH}?q=${encodeURIComponent(k.text)}&type=users`);break;case"tag":v(`${ye.APP_SEARCH}?q=${encodeURIComponent(k.text)}&type=tags`);break;default:v(`${ye.APP_SEARCH}?q=${encodeURIComponent(k.text)}`);break}},D=k=>{k.key==="Enter"&&S()},A=k=>{switch(k){case"news":return t.jsx(Ho,{fontSize:"small",color:"primary"});case"channel":return t.jsx(Rf,{fontSize:"small",color:"secondary"});case"user":return t.jsx(Af,{fontSize:"small",color:"action"});default:return t.jsx(fs,{fontSize:"small",color:"disabled"})}},R=(k,_)=>x.createElement(aL,{...k,key:_.id},t.jsx(C,{sx:{mr:2},children:A(_.type)}),t.jsxs(C,{sx:{flexGrow:1},children:[t.jsx(j,{variant:"body2",fontWeight:"medium",children:_.text}),_.metadata&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:[_.metadata.channelName&&`in ${_.metadata.channelName}`,_.metadata.handle&&`@${_.metadata.handle}`,_.metadata.voteCount&&`${_.metadata.voteCount} votes`,_.metadata.usageCount&&`${_.metadata.usageCount} uses`,_.metadata.publishedAt&&`${new Date(_.metadata.publishedAt).toLocaleDateString()}`]})]}),t.jsx(j,{variant:"caption",color:"text.secondary",sx:{ml:1},children:_.type}));return t.jsx(sL,{className:s,isFocused:y,sx:{width:o?"100%":void 0},children:t.jsx(oL,{elevation:0,children:t.jsx(BA,{freeSolo:!0,options:d,loading:h,inputValue:i,onInputChange:(k,_)=>{l(_),g(_.length>=2)},getOptionLabel:k=>typeof k=="string"?k:k.text,filterOptions:k=>k,isOptionEqualToValue:(k,_)=>{if(typeof k=="string"||typeof _=="string"){const N=typeof k=="string"?k:k.text,W=typeof _=="string"?_:_.text;return N===W}return k.id===_.id},renderOption:(k,_)=>R(k,_),noOptionsText:h?"Loading...":"No suggestions found",open:m,onOpen:()=>g(!0),onClose:()=>{g(!1),b(!1)},ListboxProps:{style:{maxHeight:400}},renderInput:k=>t.jsx(tt,{...k,variant:"outlined",placeholder:y?r:"Search...",onKeyPress:D,onFocus:()=>b(!0),onBlur:()=>{setTimeout(()=>{m||b(!1)},200)},size:"medium",InputProps:{...k.InputProps,startAdornment:t.jsx(es,{position:"start",children:t.jsx(Le,{onClick:S,size:"small",sx:{color:"inherit"},children:t.jsx(rl,{})})}),endAdornment:t.jsxs(t.Fragment,{children:[h&&t.jsx(j,{variant:"caption",sx:{mr:1},children:"Loading..."}),i&&t.jsx(es,{position:"end",children:t.jsx(Le,{onClick:()=>l(""),size:"small",sx:{color:"inherit"},children:t.jsx(VA,{})})})]}),sx:{"& .MuiOutlinedInput-notchedOutline":{border:"none"},"&:hover .MuiOutlinedInput-notchedOutline":{border:"none"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiInputBase-input":{padding:"12px 8px",fontSize:"1rem"},"& .MuiInputBase-input::placeholder":{color:"inherit",opacity:.7}}}}),PaperComponent:({children:k,..._})=>t.jsx(ot,{..._,sx:{mt:.5,boxShadow:3,maxHeight:400,overflow:"auto",position:"absolute",width:"100%",zIndex:1300,borderRadius:3},children:k}),onChange:(k,_)=>{_&&typeof _=="object"&&T(_)}})})})},iL="journalist-material-client",lL="1.1.0",cL="module",dL="https://cantsdmr.github.io/journalist-material-client",uL={dev:"vite","dev:staging":"vite --mode staging",build:"tsc && vite build","build:dev":"tsc && vite build --mode dev","build:staging":"tsc && vite build --mode staging","build:prod":"tsc && vite build --mode production",lint:"eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0",preview:"vite preview","preview:staging":"vite preview --mode staging",predeploy:"npm run build:staging",deploy:"gh-pages -d dist"},hL={"@editorjs/checklist":"^1.6.0","@editorjs/code":"^2.9.3","@editorjs/delimiter":"^1.4.2","@editorjs/editorjs":"^2.30.7","@editorjs/header":"^2.8.8","@editorjs/image":"^2.10.1","@editorjs/inline-code":"^1.5.1","@editorjs/link":"^2.6.2","@editorjs/list":"^2.0.2","@editorjs/marker":"^1.4.0","@editorjs/quote":"^2.7.6","@editorjs/table":"^2.4.3","@editorjs/warning":"^1.4.1","@emotion/react":"^11.11.4","@emotion/styled":"^11.11.5","@hello-pangea/dnd":"^17.0.0","@mui/icons-material":"^5.15.17","@mui/material":"^5.15.17","@mui/x-date-pickers":"^8.3.1","@paypal/react-paypal-js":"^8.9.2",axios:"^1.7.2","class-transformer":"^0.5.1","class-validator":"^0.14.2","date-fns":"^4.1.0",firebase:"^10.12.2",react:"^18.2.0","react-dom":"^18.2.0","react-infinite-scroll-component":"^6.1.0","react-router-dom":"^6.23.1",recharts:"^2.12.7"},fL={"@types/react":"^18.2.66","@types/react-dom":"^18.2.22","@typescript-eslint/eslint-plugin":"^7.2.0","@typescript-eslint/parser":"^7.2.0","@vitejs/plugin-react":"^4.2.1",eslint:"^8.57.0","eslint-plugin-react-hooks":"^4.6.0","eslint-plugin-react-refresh":"^0.4.6","gh-pages":"^6.3.0",typescript:"^5.2.2",vite:"^5.2.0"},pL={name:iL,private:!0,version:lL,type:cL,homepage:dL,scripts:uL,dependencies:hL,devDependencies:fL},mL=pL.version;var xp={},xL=Ke;Object.defineProperty(xp,"__esModule",{value:!0});var Oj=xp.default=void 0,gL=xL(Xe()),bL=t;Oj=xp.default=(0,gL.default)((0,bL.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications");function yL({fetcher:e,initialFilters:n={},pageSize:r=20,autoFetch:s=!1}){const[o,i]=x.useState({items:[],isLoading:!1,hasMore:!0,nextCursor:void 0,prevCursor:void 0,error:void 0}),[l,d]=x.useState(n),u=x.useRef(l);u.current=l;const h=x.useRef(!0),p=x.useRef(!s),m=x.useRef(o);m.current=o;const g=x.useCallback(async D=>{const A=D!==void 0?D:u.current;i(R=>({...R,isLoading:!0,error:void 0}));try{const R=await e(A,void 0,r);h.current&&i({items:R.items,isLoading:!1,hasMore:R.metadata.hasMore,nextCursor:R.metadata.nextCursor,prevCursor:R.metadata.prevCursor,error:void 0})}catch(R){h.current&&i(k=>({...k,isLoading:!1,error:R instanceof Error?R:new Error("Failed to fetch data")}))}},[e,r]),y=x.useCallback(async()=>{const D=m.current;if(!(D.isLoading||!D.hasMore||!D.nextCursor)){i(A=>({...A,isLoading:!0,error:void 0}));try{const A=await e(u.current,D.nextCursor,r);h.current&&i(R=>({items:[...R.items,...A.items],isLoading:!1,hasMore:A.metadata.hasMore,nextCursor:A.metadata.nextCursor,prevCursor:A.metadata.prevCursor,error:void 0}))}catch(A){h.current&&i(R=>({...R,isLoading:!1,error:A instanceof Error?A:new Error("Failed to load more")}))}}},[e,r]),b=x.useCallback(async()=>{await g(u.current)},[g]),w=x.useCallback(async D=>{d(D),await g(D)},[g]),v=x.useCallback(()=>{i({items:[],isLoading:!1,hasMore:!0,nextCursor:void 0,prevCursor:void 0,error:void 0})},[]),I=x.useCallback(D=>{i(A=>({...A,items:[D,...A.items]}))},[]),S=x.useCallback(D=>{i(A=>({...A,items:A.items.filter(R=>!D(R))}))},[]),T=x.useCallback((D,A)=>{i(R=>({...R,items:R.items.map(k=>D(k)?A(k):k)}))},[]);return p.current&&s&&(p.current=!1,g()),h.current=!0,{items:o.items,isLoading:o.isLoading,hasMore:o.hasMore,error:o.error,nextCursor:o.nextCursor,prevCursor:o.prevCursor,filters:l,fetchInitial:g,loadMore:y,refresh:b,updateFilters:w,reset:v,prependItem:I,removeItem:S,updateItem:T}}const[vL,gp]=vd(),Ty=20,jL=({children:e})=>{const{api:n}=Qe(),{user:r}=As(),{isAuthenticated:s}=Ja(),{execute:o}=st(),[i,l]=x.useState(0),[d,u]=x.useState(!1),h=x.useRef(r);h.current=r;const p=x.useRef(!1),m=x.useCallback(async(G,oe,V)=>{const ee={...G,limit:V||Ty,after:oe};return await n.app.notification.getNotificationFeed(ee)},[n]),{items:g,isLoading:y,hasMore:b,loadMore:w,fetchInitial:v,refresh:I,updateFilters:S,updateItem:T,removeItem:D}=yL({fetcher:m,pageSize:Ty,autoFetch:!1}),A=x.useRef(y);A.current=y;const R=x.useRef(b);R.current=b;const k=x.useCallback(async(G={})=>{h.current&&await S(G)},[S]),_=x.useCallback(async()=>{!h.current||A.current||!R.current||await w()},[w]),N=x.useCallback(async()=>{if(!h.current)return;const G=await o(()=>n.app.notification.getNewNotificationsCount(),{showErrorToast:!1});G&&l(G.count||0)},[n,o]),W=x.useCallback(async()=>{if(!h.current)return;l(0),await o(()=>n.app.notification.markAsChecked(),{showErrorToast:!1,showSuccessMessage:!1})||await N()},[n,o,N]),Y=x.useCallback(async G=>{if(!h.current)return;T(V=>V.id===G,V=>({...V,isRead:!0,readAt:new Date().toISOString()})),await o(()=>n.app.notification.markAsRead(G),{showErrorToast:!0,showSuccessMessage:!1})||T(V=>V.id===G,V=>({...V,isRead:!1,readAt:void 0}))},[n,o,T]),$=x.useCallback(async()=>{if(!h.current)return;const G=new Date().toISOString();T(()=>!0,V=>({...V,isRead:!0,readAt:G})),await o(()=>n.app.notification.markAllAsRead(),{showErrorToast:!0,showSuccessMessage:!0,successMessage:"All notifications marked as read"})||await I()},[n,o,T,I]),H=x.useCallback(async G=>{if(!h.current)return;D(V=>V.id===G),await o(()=>n.app.notification.deleteNotification(G),{showErrorToast:!0,showSuccessMessage:!1})||await I()},[n,o,D,I]),J=x.useCallback(async()=>{u(G=>{const oe=!G;return oe&&W(),oe})},[W]),X=x.useCallback(async()=>{u(!0),await W()},[W]),K=x.useCallback(()=>{u(!1)},[]);x.useEffect(()=>{const G=()=>{N(),d&&I()};return window.addEventListener("fcm-notification-received",G),()=>{window.removeEventListener("fcm-notification-received",G)}},[d,I,N]),x.useEffect(()=>{r&&s?N():(l(0),u(!1))},[r,s,N]),x.useEffect(()=>{d&&!y?p.current||(p.current=!0,v()):d||(p.current=!1)},[d,y,v]);const Z={notifications:g,newCount:i,isOpen:d,isLoading:y,hasMore:b,actions:{fetchNotifications:k,loadMore:_,markAsRead:Y,markAllAsRead:$,deleteNotification:H,refreshNewCount:N,markAsChecked:W,toggleDrawer:J,openDrawer:X,closeDrawer:K}};return t.jsx(vL.Provider,{value:Z,children:e})},wL=()=>{const{newCount:e,actions:n}=gp(),r=()=>{n.toggleDrawer()};return t.jsx(Le,{color:"inherit",onClick:r,"aria-label":"notifications",sx:{"& .MuiBadge-badge":{right:5,top:5,fontSize:"0.75rem",height:18,minWidth:18,padding:"0 4px"}},children:t.jsx(UA,{badgeContent:e,color:"error",max:99,overlap:"circular",children:t.jsx(Oj,{})})})};var bp={},SL=Ke;Object.defineProperty(bp,"__esModule",{value:!0});var Mj=bp.default=void 0,CL=SL(Xe()),PL=t;Mj=bp.default=(0,CL.default)((0,PL.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");var yp={},IL=Ke;Object.defineProperty(yp,"__esModule",{value:!0});var Nj=yp.default=void 0,DL=IL(Xe()),TL=t;Nj=yp.default=(0,DL.default)((0,TL.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2m6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5z"}),"NotificationsNone");/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var of=function(e,n){return of=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)s.hasOwnProperty(o)&&(r[o]=s[o])},of(e,n)};function EL(e,n){of(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var Oi=function(){return Oi=Object.assign||function(n){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},Oi.apply(this,arguments)};function AL(e,n,r,s){var o,i=!1,l=0;function d(){o&&clearTimeout(o)}function u(){d(),i=!0}typeof n!="boolean"&&(s=r,r=n,n=void 0);function h(){var p=this,m=Date.now()-l,g=arguments;if(i)return;function y(){l=Date.now(),r.apply(p,g)}function b(){o=void 0}s&&!o&&y(),d(),s===void 0&&m>e?y():n!==!0&&(o=setTimeout(s?b:y,s===void 0?e-m:e))}return h.cancel=u,h}var Da={Pixel:"Pixel",Percent:"Percent"},Ey={unit:Da.Percent,value:.8};function Ay(e){return typeof e=="number"?{unit:Da.Percent,value:e*100}:typeof e=="string"?e.match(/^(\d*(\.\d+)?)px$/)?{unit:Da.Pixel,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:Da.Percent,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),Ey):(console.warn("scrollThreshold should be string or number"),Ey)}var Ds=function(e){EL(n,e);function n(r){var s=e.call(this,r)||this;return s.lastScrollTop=0,s.actionTriggered=!1,s.startY=0,s.currentY=0,s.dragging=!1,s.maxPullDownDistance=0,s.getScrollableTarget=function(){return s.props.scrollableTarget instanceof HTMLElement?s.props.scrollableTarget:typeof s.props.scrollableTarget=="string"?document.getElementById(s.props.scrollableTarget):(s.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},s.onStart=function(o){s.lastScrollTop||(s.dragging=!0,o instanceof MouseEvent?s.startY=o.pageY:o instanceof TouchEvent&&(s.startY=o.touches[0].pageY),s.currentY=s.startY,s._infScroll&&(s._infScroll.style.willChange="transform",s._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},s.onMove=function(o){s.dragging&&(o instanceof MouseEvent?s.currentY=o.pageY:o instanceof TouchEvent&&(s.currentY=o.touches[0].pageY),!(s.currentY<s.startY)&&(s.currentY-s.startY>=Number(s.props.pullDownToRefreshThreshold)&&s.setState({pullToRefreshThresholdBreached:!0}),!(s.currentY-s.startY>s.maxPullDownDistance*1.5)&&s._infScroll&&(s._infScroll.style.overflow="visible",s._infScroll.style.transform="translate3d(0px, "+(s.currentY-s.startY)+"px, 0px)")))},s.onEnd=function(){s.startY=0,s.currentY=0,s.dragging=!1,s.state.pullToRefreshThresholdBreached&&(s.props.refreshFunction&&s.props.refreshFunction(),s.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){s._infScroll&&(s._infScroll.style.overflow="auto",s._infScroll.style.transform="none",s._infScroll.style.willChange="unset")})},s.onScrollListener=function(o){typeof s.props.onScroll=="function"&&setTimeout(function(){return s.props.onScroll&&s.props.onScroll(o)},0);var i=s.props.height||s._scrollableNode?o.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!s.actionTriggered){var l=s.props.inverse?s.isElementAtTop(i,s.props.scrollThreshold):s.isElementAtBottom(i,s.props.scrollThreshold);l&&s.props.hasMore&&(s.actionTriggered=!0,s.setState({showLoader:!0}),s.props.next&&s.props.next()),s.lastScrollTop=i.scrollTop}},s.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:r.dataLength},s.throttledOnScrollListener=AL(150,s.onScrollListener).bind(s),s.onStart=s.onStart.bind(s),s.onMove=s.onMove.bind(s),s.onEnd=s.onEnd.bind(s),s}return n.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},n.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},n.prototype.componentDidUpdate=function(r){this.props.dataLength!==r.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},n.getDerivedStateFromProps=function(r,s){var o=r.dataLength!==s.prevDataLength;return o?Oi(Oi({},s),{prevDataLength:r.dataLength}):null},n.prototype.isElementAtTop=function(r,s){s===void 0&&(s=.8);var o=r===document.body||r===document.documentElement?window.screen.availHeight:r.clientHeight,i=Ay(s);return i.unit===Da.Pixel?r.scrollTop<=i.value+o-r.scrollHeight+1:r.scrollTop<=i.value/100+o-r.scrollHeight+1},n.prototype.isElementAtBottom=function(r,s){s===void 0&&(s=.8);var o=r===document.body||r===document.documentElement?window.screen.availHeight:r.clientHeight,i=Ay(s);return i.unit===Da.Pixel?r.scrollTop+o>=r.scrollHeight-i.value:r.scrollTop+o>=i.value/100*r.scrollHeight},n.prototype.render=function(){var r=this,s=Oi({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),o=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),i=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return Dt.createElement("div",{style:i,className:"infinite-scroll-component__outerdiv"},Dt.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(l){return r._infScroll=l},style:s},this.props.pullDownToRefresh&&Dt.createElement("div",{style:{position:"relative"},ref:function(l){return r._pullDown=l}},Dt.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!o&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},n}(x.Component),vp={},RL=Ke;Object.defineProperty(vp,"__esModule",{value:!0});var Lj=vp.default=void 0,_L=RL(Xe()),kL=t;Lj=vp.default=(0,_L.default)((0,kL.jsx)("path",{d:"M20 8H4V6h16zm-2-6H6v2h12zm4 10v8c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2v-8c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2m-6 4-6-3.27v6.53z"}),"Subscriptions");var jp={},OL=Ke;Object.defineProperty(jp,"__esModule",{value:!0});var $j=jp.default=void 0,ML=OL(Xe()),NL=t;$j=jp.default=(0,ML.default)((0,NL.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"Payment");var wp={},LL=Ke;Object.defineProperty(wp,"__esModule",{value:!0});var Cd=wp.default=void 0,$L=LL(Xe()),FL=t;Cd=wp.default=(0,$L.default)((0,FL.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info");var Sp={},WL=Ke;Object.defineProperty(Sp,"__esModule",{value:!0});var Fj=Sp.default=void 0,BL=WL(Xe()),VL=t;Fj=Sp.default=(0,BL.default)((0,VL.jsx)("circle",{cx:"12",cy:"12",r:"8"}),"FiberManualRecord");const Wj=6048e5,UL=864e5,Bj=6e4,Vj=36e5,zL=1e3,cc=43200,Ry=1440,_y=Symbol.for("constructDateFrom");function an(e,n){return typeof e=="function"?e(n):e&&typeof e=="object"&&_y in e?e[_y](n):e instanceof Date?new e.constructor(n):new Date(n)}function nt(e,n){return an(n||e,e)}function Pd(e,n,r){const s=nt(e,r==null?void 0:r.in);return isNaN(n)?an((r==null?void 0:r.in)||e,NaN):(n&&s.setDate(s.getDate()+n),s)}function Uj(e,n,r){const s=nt(e,r==null?void 0:r.in);if(isNaN(n))return an(e,NaN);if(!n)return s;const o=s.getDate(),i=an(e,s.getTime());i.setMonth(s.getMonth()+n+1,0);const l=i.getDate();return o>=l?i:(s.setFullYear(i.getFullYear(),i.getMonth(),o),s)}function zj(e,n,r){return an(e,+nt(e)+n)}function HL(e,n,r){return zj(e,n*Vj)}let GL={};function jo(){return GL}function qs(e,n){var d,u,h,p;const r=jo(),s=(n==null?void 0:n.weekStartsOn)??((u=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,o=nt(e,n==null?void 0:n.in),i=o.getDay(),l=(i<s?7:0)+i-s;return o.setDate(o.getDate()-l),o.setHours(0,0,0,0),o}function La(e,n){return qs(e,{...n,weekStartsOn:1})}function Hj(e,n){const r=nt(e,n==null?void 0:n.in),s=r.getFullYear(),o=an(r,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const i=La(o),l=an(r,0);l.setFullYear(s,0,4),l.setHours(0,0,0,0);const d=La(l);return r.getTime()>=i.getTime()?s+1:r.getTime()>=d.getTime()?s:s-1}function $a(e){const n=nt(e),r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return r.setUTCFullYear(n.getFullYear()),+e-+r}function wo(e,...n){const r=an.bind(null,e||n.find(s=>typeof s=="object"));return n.map(r)}function Vi(e,n){const r=nt(e,n==null?void 0:n.in);return r.setHours(0,0,0,0),r}function YL(e,n,r){const[s,o]=wo(r==null?void 0:r.in,e,n),i=Vi(s),l=Vi(o),d=+i-$a(i),u=+l-$a(l);return Math.round((d-u)/UL)}function qL(e,n){const r=Hj(e,n),s=an(e,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),La(s)}function KL(e,n,r){const s=nt(e,r==null?void 0:r.in);return s.setTime(s.getTime()+n*Bj),s}function XL(e,n,r){return zj(e,n*1e3)}function JL(e,n,r){return Pd(e,n*7,r)}function QL(e,n,r){return Uj(e,n*12,r)}function yc(e,n){const r=+nt(e)-+nt(n);return r<0?-1:r>0?1:r}function ZL(e){return an(e,Date.now())}function e5(e,n,r){const[s,o]=wo(r==null?void 0:r.in,e,n);return+Vi(s)==+Vi(o)}function t5(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Gj(e){return!(!t5(e)&&typeof e!="number"||isNaN(+nt(e)))}function n5(e,n,r){const[s,o]=wo(r==null?void 0:r.in,e,n),i=s.getFullYear()-o.getFullYear(),l=s.getMonth()-o.getMonth();return i*12+l}function r5(e){return n=>{const s=(e?Math[e]:Math.trunc)(n);return s===0?0:s}}function s5(e,n){return+nt(e)-+nt(n)}function af(e,n){const r=nt(e,n==null?void 0:n.in);return r.setHours(23,59,59,999),r}function Yj(e,n){const r=nt(e,n==null?void 0:n.in),s=r.getMonth();return r.setFullYear(r.getFullYear(),s+1,0),r.setHours(23,59,59,999),r}function o5(e,n){const r=nt(e,n==null?void 0:n.in);return+af(r,n)==+Yj(r,n)}function a5(e,n,r){const[s,o,i]=wo(r==null?void 0:r.in,e,e,n),l=yc(o,i),d=Math.abs(n5(o,i));if(d<1)return 0;o.getMonth()===1&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-l*d);let u=yc(o,i)===-l;o5(s)&&d===1&&yc(s,i)===1&&(u=!1);const h=l*(d-+u);return h===0?0:h}function i5(e,n,r){const s=s5(e,n)/1e3;return r5(r==null?void 0:r.roundingMethod)(s)}function l5(e,n){const r=nt(e,n==null?void 0:n.in);return r.setDate(1),r.setHours(0,0,0,0),r}function ky(e,n){const r=nt(e,n==null?void 0:n.in),s=r.getFullYear();return r.setFullYear(s+1,0,0),r.setHours(23,59,59,999),r}function qj(e,n){const r=nt(e,n==null?void 0:n.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function c5(e,n){var d,u,h,p;const r=jo(),s=(n==null?void 0:n.weekStartsOn)??((u=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,o=nt(e,n==null?void 0:n.in),i=o.getDay(),l=(i<s?-7:0)+6-(i-s);return o.setDate(o.getDate()+l),o.setHours(23,59,59,999),o}const d5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},u5=(e,n,r)=>{let s;const o=d5[e];return typeof o=="string"?s=o:n===1?s=o.one:s=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Ph(e){return(n={})=>{const r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const h5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},f5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},p5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},m5={date:Ph({formats:h5,defaultWidth:"full"}),time:Ph({formats:f5,defaultWidth:"full"}),dateTime:Ph({formats:p5,defaultWidth:"full"})},x5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},g5=(e,n,r,s)=>x5[e];function wi(e){return(n,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let o;if(s==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,d=r!=null&&r.width?String(r.width):l;o=e.formattingValues[d]||e.formattingValues[l]}else{const l=e.defaultWidth,d=r!=null&&r.width?String(r.width):e.defaultWidth;o=e.values[d]||e.values[l]}const i=e.argumentCallback?e.argumentCallback(n):n;return o[i]}}const b5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},y5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},v5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},j5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},w5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},S5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},C5=(e,n)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},P5={ordinalNumber:C5,era:wi({values:b5,defaultWidth:"wide"}),quarter:wi({values:y5,defaultWidth:"wide",argumentCallback:e=>e-1}),month:wi({values:v5,defaultWidth:"wide"}),day:wi({values:j5,defaultWidth:"wide"}),dayPeriod:wi({values:w5,defaultWidth:"wide",formattingValues:S5,defaultFormattingWidth:"wide"})};function Si(e){return(n,r={})=>{const s=r.width,o=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=n.match(o);if(!i)return null;const l=i[0],d=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(d)?D5(d,m=>m.test(l)):I5(d,m=>m.test(l));let h;h=e.valueCallback?e.valueCallback(u):u,h=r.valueCallback?r.valueCallback(h):h;const p=n.slice(l.length);return{value:h,rest:p}}}function I5(e,n){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n(e[r]))return r}function D5(e,n){for(let r=0;r<e.length;r++)if(n(e[r]))return r}function T5(e){return(n,r={})=>{const s=n.match(e.matchPattern);if(!s)return null;const o=s[0],i=n.match(e.parsePattern);if(!i)return null;let l=e.valueCallback?e.valueCallback(i[0]):i[0];l=r.valueCallback?r.valueCallback(l):l;const d=n.slice(o.length);return{value:l,rest:d}}}const E5=/^(\d+)(th|st|nd|rd)?/i,A5=/\d+/i,R5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_5={any:[/^b/i,/^(a|c)/i]},k5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},O5={any:[/1/i,/2/i,/3/i,/4/i]},M5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},N5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},L5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},F5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},W5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},B5={ordinalNumber:T5({matchPattern:E5,parsePattern:A5,valueCallback:e=>parseInt(e,10)}),era:Si({matchPatterns:R5,defaultMatchWidth:"wide",parsePatterns:_5,defaultParseWidth:"any"}),quarter:Si({matchPatterns:k5,defaultMatchWidth:"wide",parsePatterns:O5,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Si({matchPatterns:M5,defaultMatchWidth:"wide",parsePatterns:N5,defaultParseWidth:"any"}),day:Si({matchPatterns:L5,defaultMatchWidth:"wide",parsePatterns:$5,defaultParseWidth:"any"}),dayPeriod:Si({matchPatterns:F5,defaultMatchWidth:"any",parsePatterns:W5,defaultParseWidth:"any"})},Id={code:"en-US",formatDistance:u5,formatLong:m5,formatRelative:g5,localize:P5,match:B5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function V5(e,n){const r=nt(e,n==null?void 0:n.in);return YL(r,qj(r))+1}function Kj(e,n){const r=nt(e,n==null?void 0:n.in),s=+La(r)-+qL(r);return Math.round(s/Wj)+1}function Cp(e,n){var p,m,g,y;const r=nt(e,n==null?void 0:n.in),s=r.getFullYear(),o=jo(),i=(n==null?void 0:n.firstWeekContainsDate)??((m=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??o.firstWeekContainsDate??((y=(g=o.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,l=an((n==null?void 0:n.in)||e,0);l.setFullYear(s+1,0,i),l.setHours(0,0,0,0);const d=qs(l,n),u=an((n==null?void 0:n.in)||e,0);u.setFullYear(s,0,i),u.setHours(0,0,0,0);const h=qs(u,n);return+r>=+d?s+1:+r>=+h?s:s-1}function U5(e,n){var d,u,h,p;const r=jo(),s=(n==null?void 0:n.firstWeekContainsDate)??((u=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Cp(e,n),i=an((n==null?void 0:n.in)||e,0);return i.setFullYear(o,0,s),i.setHours(0,0,0,0),qs(i,n)}function Pp(e,n){const r=nt(e,n==null?void 0:n.in),s=+qs(r,n)-+U5(r,n);return Math.round(s/Wj)+1}function zt(e,n){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(n,"0");return r+s}const io={y(e,n){const r=e.getFullYear(),s=r>0?r:1-r;return zt(n==="yy"?s%100:s,n.length)},M(e,n){const r=e.getMonth();return n==="M"?String(r+1):zt(r+1,2)},d(e,n){return zt(e.getDate(),n.length)},a(e,n){const r=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,n){return zt(e.getHours()%12||12,n.length)},H(e,n){return zt(e.getHours(),n.length)},m(e,n){return zt(e.getMinutes(),n.length)},s(e,n){return zt(e.getSeconds(),n.length)},S(e,n){const r=n.length,s=e.getMilliseconds(),o=Math.trunc(s*Math.pow(10,r-3));return zt(o,n.length)}},ya={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Oy={G:function(e,n,r){const s=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){const s=e.getFullYear(),o=s>0?s:1-s;return r.ordinalNumber(o,{unit:"year"})}return io.y(e,n)},Y:function(e,n,r,s){const o=Cp(e,s),i=o>0?o:1-o;if(n==="YY"){const l=i%100;return zt(l,2)}return n==="Yo"?r.ordinalNumber(i,{unit:"year"}):zt(i,n.length)},R:function(e,n){const r=Hj(e);return zt(r,n.length)},u:function(e,n){const r=e.getFullYear();return zt(r,n.length)},Q:function(e,n,r){const s=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return zt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){const s=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return zt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){const s=e.getMonth();switch(n){case"M":case"MM":return io.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){const s=e.getMonth();switch(n){case"L":return String(s+1);case"LL":return zt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){const o=Pp(e,s);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):zt(o,n.length)},I:function(e,n,r){const s=Kj(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):zt(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):io.d(e,n)},D:function(e,n,r){const s=V5(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):zt(s,n.length)},E:function(e,n,r){const s=e.getDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){const o=e.getDay(),i=(o-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(i);case"ee":return zt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){const o=e.getDay(),i=(o-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(i);case"cc":return zt(i,n.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){const s=e.getDay(),o=s===0?7:s;switch(n){case"i":return String(o);case"ii":return zt(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){const o=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){const s=e.getHours();let o;switch(s===12?o=ya.noon:s===0?o=ya.midnight:o=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){const s=e.getHours();let o;switch(s>=17?o=ya.evening:s>=12?o=ya.afternoon:s>=4?o=ya.morning:o=ya.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return io.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):io.H(e,n)},K:function(e,n,r){const s=e.getHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):zt(s,n.length)},k:function(e,n,r){let s=e.getHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):zt(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):io.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):io.s(e,n)},S:function(e,n){return io.S(e,n)},X:function(e,n,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return Ny(s);case"XXXX":case"XX":return Wo(s);case"XXXXX":case"XXX":default:return Wo(s,":")}},x:function(e,n,r){const s=e.getTimezoneOffset();switch(n){case"x":return Ny(s);case"xxxx":case"xx":return Wo(s);case"xxxxx":case"xxx":default:return Wo(s,":")}},O:function(e,n,r){const s=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+My(s,":");case"OOOO":default:return"GMT"+Wo(s,":")}},z:function(e,n,r){const s=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+My(s,":");case"zzzz":default:return"GMT"+Wo(s,":")}},t:function(e,n,r){const s=Math.trunc(+e/1e3);return zt(s,n.length)},T:function(e,n,r){return zt(+e,n.length)}};function My(e,n=""){const r=e>0?"-":"+",s=Math.abs(e),o=Math.trunc(s/60),i=s%60;return i===0?r+String(o):r+String(o)+n+zt(i,2)}function Ny(e,n){return e%60===0?(e>0?"-":"+")+zt(Math.abs(e)/60,2):Wo(e,n)}function Wo(e,n=""){const r=e>0?"-":"+",s=Math.abs(e),o=zt(Math.trunc(s/60),2),i=zt(s%60,2);return r+o+n+i}const Ly=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Xj=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},z5=(e,n)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],o=r[2];if(!o)return Ly(e,n);let i;switch(s){case"P":i=n.dateTime({width:"short"});break;case"PP":i=n.dateTime({width:"medium"});break;case"PPP":i=n.dateTime({width:"long"});break;case"PPPP":default:i=n.dateTime({width:"full"});break}return i.replace("{{date}}",Ly(s,n)).replace("{{time}}",Xj(o,n))},zc={p:Xj,P:z5},H5=/^D+$/,G5=/^Y+$/,Y5=["D","DD","YY","YYYY"];function Jj(e){return H5.test(e)}function Qj(e){return G5.test(e)}function lf(e,n,r){const s=q5(e,n,r);if(console.warn(s),Y5.includes(e))throw new RangeError(s)}function q5(e,n,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const K5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,X5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,J5=/^'([^]*?)'?$/,Q5=/''/g,Z5=/[a-zA-Z]/;function Ip(e,n,r){var p,m,g,y,b,w,v,I;const s=jo(),o=(r==null?void 0:r.locale)??s.locale??Id,i=(r==null?void 0:r.firstWeekContainsDate)??((m=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(g=s.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((w=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:w.weekStartsOn)??s.weekStartsOn??((I=(v=s.locale)==null?void 0:v.options)==null?void 0:I.weekStartsOn)??0,d=nt(e,r==null?void 0:r.in);if(!Gj(d))throw new RangeError("Invalid time value");let u=n.match(X5).map(S=>{const T=S[0];if(T==="p"||T==="P"){const D=zc[T];return D(S,o.formatLong)}return S}).join("").match(K5).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const T=S[0];if(T==="'")return{isToken:!1,value:e$(S)};if(Oy[T])return{isToken:!0,value:S};if(T.match(Z5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:S}});o.localize.preprocessor&&(u=o.localize.preprocessor(d,u));const h={firstWeekContainsDate:i,weekStartsOn:l,locale:o};return u.map(S=>{if(!S.isToken)return S.value;const T=S.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Qj(T)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Jj(T))&&lf(T,n,String(e));const D=Oy[T[0]];return D(d,T,o.localize,h)}).join("")}function e$(e){const n=e.match(J5);return n?n[1].replace(Q5,"'"):e}function t$(e,n,r){const s=jo(),o=(r==null?void 0:r.locale)??s.locale??Id,i=2520,l=yc(e,n);if(isNaN(l))throw new RangeError("Invalid time value");const d=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:l}),[u,h]=wo(r==null?void 0:r.in,...l>0?[n,e]:[e,n]),p=i5(h,u),m=($a(h)-$a(u))/1e3,g=Math.round((p-m)/60);let y;if(g<2)return r!=null&&r.includeSeconds?p<5?o.formatDistance("lessThanXSeconds",5,d):p<10?o.formatDistance("lessThanXSeconds",10,d):p<20?o.formatDistance("lessThanXSeconds",20,d):p<40?o.formatDistance("halfAMinute",0,d):p<60?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",1,d):g===0?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",g,d);if(g<45)return o.formatDistance("xMinutes",g,d);if(g<90)return o.formatDistance("aboutXHours",1,d);if(g<Ry){const b=Math.round(g/60);return o.formatDistance("aboutXHours",b,d)}else{if(g<i)return o.formatDistance("xDays",1,d);if(g<cc){const b=Math.round(g/Ry);return o.formatDistance("xDays",b,d)}else if(g<cc*2)return y=Math.round(g/cc),o.formatDistance("aboutXMonths",y,d)}if(y=a5(h,u),y<12){const b=Math.round(g/cc);return o.formatDistance("xMonths",b,d)}else{const b=y%12,w=Math.trunc(y/12);return b<3?o.formatDistance("aboutXYears",w,d):b<9?o.formatDistance("overXYears",w,d):o.formatDistance("almostXYears",w+1,d)}}function Mr(e,n){return t$(e,ZL(e),n)}function n$(e,n){return nt(e,n==null?void 0:n.in).getDate()}function Zj(e,n){const r=nt(e,n==null?void 0:n.in),s=r.getFullYear(),o=r.getMonth(),i=an(r,0);return i.setFullYear(s,o+1,0),i.setHours(0,0,0,0),i.getDate()}function r$(){return Object.assign({},jo())}function s$(e,n){return nt(e,n==null?void 0:n.in).getHours()}function o$(e,n){const r=nt(e,n==null?void 0:n.in).getDay();return r===0?7:r}function a$(e){return nt(e).getMilliseconds()}function i$(e,n){return nt(e,n==null?void 0:n.in).getMinutes()}function l$(e,n){return nt(e,n==null?void 0:n.in).getMonth()}function c$(e){return nt(e).getSeconds()}function d$(e,n){return nt(e,n==null?void 0:n.in).getFullYear()}function Ih(e,n){return+nt(e)>+nt(n)}function Dh(e,n){return+nt(e)<+nt(n)}function u$(e,n){return+nt(e)==+nt(n)}function h$(e,n){const r=f$(n)?new n(0):an(n,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function f$(e){var n;return typeof e=="function"&&((n=e.prototype)==null?void 0:n.constructor)===e}const p$=10;class ew{constructor(){Te(this,"subPriority",0)}validate(n,r){return!0}}class m$ extends ew{constructor(n,r,s,o,i){super(),this.value=n,this.validateValue=r,this.setValue=s,this.priority=o,i&&(this.subPriority=i)}validate(n,r){return this.validateValue(n,this.value,r)}set(n,r,s){return this.setValue(n,r,this.value,s)}}class x$ extends ew{constructor(r,s){super();Te(this,"priority",p$);Te(this,"subPriority",-1);this.context=r||(o=>an(s,o))}set(r,s){return s.timestampIsSet?r:an(r,h$(r,this.context))}}class $t{run(n,r,s,o){const i=this.parse(n,r,s,o);return i?{setter:new m$(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(n,r,s){return!0}}class g$ extends $t{constructor(){super(...arguments);Te(this,"priority",140);Te(this,"incompatibleTokens",["R","u","t","T"])}parse(r,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"});case"GGGGG":return o.era(r,{width:"narrow"});case"GGGG":default:return o.era(r,{width:"wide"})||o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"})}}set(r,s,o){return s.era=o,r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}const In={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ss={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Dn(e,n){return e&&{value:n(e.value),rest:e.rest}}function xn(e,n){const r=n.match(e);return r?{value:parseInt(r[0],10),rest:n.slice(r[0].length)}:null}function Cs(e,n){const r=n.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:n.slice(1)};const s=r[1]==="+"?1:-1,o=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,l=r[5]?parseInt(r[5],10):0;return{value:s*(o*Vj+i*Bj+l*zL),rest:n.slice(r[0].length)}}function tw(e){return xn(In.anyDigitsSigned,e)}function Sn(e,n){switch(e){case 1:return xn(In.singleDigit,n);case 2:return xn(In.twoDigits,n);case 3:return xn(In.threeDigits,n);case 4:return xn(In.fourDigits,n);default:return xn(new RegExp("^\\d{1,"+e+"}"),n)}}function Hc(e,n){switch(e){case 1:return xn(In.singleDigitSigned,n);case 2:return xn(In.twoDigitsSigned,n);case 3:return xn(In.threeDigitsSigned,n);case 4:return xn(In.fourDigitsSigned,n);default:return xn(new RegExp("^-?\\d{1,"+e+"}"),n)}}function Dp(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function nw(e,n){const r=n>0,s=r?n:1-n;let o;if(s<=50)o=e||100;else{const i=s+50,l=Math.trunc(i/100)*100,d=e>=i%100;o=e+l-(d?100:0)}return r?o:1-o}function rw(e){return e%400===0||e%4===0&&e%100!==0}class b$ extends $t{constructor(){super(...arguments);Te(this,"priority",130);Te(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,s,o){const i=l=>({year:l,isTwoDigitYear:s==="yy"});switch(s){case"y":return Dn(Sn(4,r),i);case"yo":return Dn(o.ordinalNumber(r,{unit:"year"}),i);default:return Dn(Sn(s.length,r),i)}}validate(r,s){return s.isTwoDigitYear||s.year>0}set(r,s,o){const i=r.getFullYear();if(o.isTwoDigitYear){const d=nw(o.year,i);return r.setFullYear(d,0,1),r.setHours(0,0,0,0),r}const l=!("era"in s)||s.era===1?o.year:1-o.year;return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}}class y$ extends $t{constructor(){super(...arguments);Te(this,"priority",130);Te(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,s,o){const i=l=>({year:l,isTwoDigitYear:s==="YY"});switch(s){case"Y":return Dn(Sn(4,r),i);case"Yo":return Dn(o.ordinalNumber(r,{unit:"year"}),i);default:return Dn(Sn(s.length,r),i)}}validate(r,s){return s.isTwoDigitYear||s.year>0}set(r,s,o,i){const l=Cp(r,i);if(o.isTwoDigitYear){const u=nw(o.year,l);return r.setFullYear(u,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),qs(r,i)}const d=!("era"in s)||s.era===1?o.year:1-o.year;return r.setFullYear(d,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),qs(r,i)}}class v$ extends $t{constructor(){super(...arguments);Te(this,"priority",130);Te(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,s){return Hc(s==="R"?4:s.length,r)}set(r,s,o){const i=an(r,0);return i.setFullYear(o,0,4),i.setHours(0,0,0,0),La(i)}}class j$ extends $t{constructor(){super(...arguments);Te(this,"priority",130);Te(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,s){return Hc(s==="u"?4:s.length,r)}set(r,s,o){return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class w$ extends $t{constructor(){super(...arguments);Te(this,"priority",120);Te(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,s,o){switch(s){case"Q":case"QQ":return Sn(s.length,r);case"Qo":return o.ordinalNumber(r,{unit:"quarter"});case"QQQ":return o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(r,{width:"wide",context:"formatting"})||o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=1&&s<=4}set(r,s,o){return r.setMonth((o-1)*3,1),r.setHours(0,0,0,0),r}}class S$ extends $t{constructor(){super(...arguments);Te(this,"priority",120);Te(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,s,o){switch(s){case"q":case"qq":return Sn(s.length,r);case"qo":return o.ordinalNumber(r,{unit:"quarter"});case"qqq":return o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(r,{width:"wide",context:"standalone"})||o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=1&&s<=4}set(r,s,o){return r.setMonth((o-1)*3,1),r.setHours(0,0,0,0),r}}class C$ extends $t{constructor(){super(...arguments);Te(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Te(this,"priority",110)}parse(r,s,o){const i=l=>l-1;switch(s){case"M":return Dn(xn(In.month,r),i);case"MM":return Dn(Sn(2,r),i);case"Mo":return Dn(o.ordinalNumber(r,{unit:"month"}),i);case"MMM":return o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(r,{width:"wide",context:"formatting"})||o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=11}set(r,s,o){return r.setMonth(o,1),r.setHours(0,0,0,0),r}}class P$ extends $t{constructor(){super(...arguments);Te(this,"priority",110);Te(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,s,o){const i=l=>l-1;switch(s){case"L":return Dn(xn(In.month,r),i);case"LL":return Dn(Sn(2,r),i);case"Lo":return Dn(o.ordinalNumber(r,{unit:"month"}),i);case"LLL":return o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(r,{width:"wide",context:"standalone"})||o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=0&&s<=11}set(r,s,o){return r.setMonth(o,1),r.setHours(0,0,0,0),r}}function I$(e,n,r){const s=nt(e,r==null?void 0:r.in),o=Pp(s,r)-n;return s.setDate(s.getDate()-o*7),nt(s,r==null?void 0:r.in)}class D$ extends $t{constructor(){super(...arguments);Te(this,"priority",100);Te(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,s,o){switch(s){case"w":return xn(In.week,r);case"wo":return o.ordinalNumber(r,{unit:"week"});default:return Sn(s.length,r)}}validate(r,s){return s>=1&&s<=53}set(r,s,o,i){return qs(I$(r,o,i),i)}}function T$(e,n,r){const s=nt(e,r==null?void 0:r.in),o=Kj(s,r)-n;return s.setDate(s.getDate()-o*7),s}class E$ extends $t{constructor(){super(...arguments);Te(this,"priority",100);Te(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,s,o){switch(s){case"I":return xn(In.week,r);case"Io":return o.ordinalNumber(r,{unit:"week"});default:return Sn(s.length,r)}}validate(r,s){return s>=1&&s<=53}set(r,s,o){return La(T$(r,o))}}const A$=[31,28,31,30,31,30,31,31,30,31,30,31],R$=[31,29,31,30,31,30,31,31,30,31,30,31];class _$ extends $t{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"subPriority",1);Te(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,s,o){switch(s){case"d":return xn(In.date,r);case"do":return o.ordinalNumber(r,{unit:"date"});default:return Sn(s.length,r)}}validate(r,s){const o=r.getFullYear(),i=rw(o),l=r.getMonth();return i?s>=1&&s<=R$[l]:s>=1&&s<=A$[l]}set(r,s,o){return r.setDate(o),r.setHours(0,0,0,0),r}}class k$ extends $t{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"subpriority",1);Te(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,s,o){switch(s){case"D":case"DD":return xn(In.dayOfYear,r);case"Do":return o.ordinalNumber(r,{unit:"date"});default:return Sn(s.length,r)}}validate(r,s){const o=r.getFullYear();return rw(o)?s>=1&&s<=366:s>=1&&s<=365}set(r,s,o){return r.setMonth(0,o),r.setHours(0,0,0,0),r}}function Tp(e,n,r){var m,g,y,b;const s=jo(),o=(r==null?void 0:r.weekStartsOn)??((g=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??s.weekStartsOn??((b=(y=s.locale)==null?void 0:y.options)==null?void 0:b.weekStartsOn)??0,i=nt(e,r==null?void 0:r.in),l=i.getDay(),u=(n%7+7)%7,h=7-o,p=n<0||n>6?n-(l+h)%7:(u+h)%7-(l+h)%7;return Pd(i,p,r)}class O$ extends $t{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=6}set(r,s,o,i){return r=Tp(r,o,i),r.setHours(0,0,0,0),r}}class M$ extends $t{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,s,o,i){const l=d=>{const u=Math.floor((d-1)/7)*7;return(d+i.weekStartsOn+6)%7+u};switch(s){case"e":case"ee":return Dn(Sn(s.length,r),l);case"eo":return Dn(o.ordinalNumber(r,{unit:"day"}),l);case"eee":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeeee":return o.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=6}set(r,s,o,i){return r=Tp(r,o,i),r.setHours(0,0,0,0),r}}class N$ extends $t{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,s,o,i){const l=d=>{const u=Math.floor((d-1)/7)*7;return(d+i.weekStartsOn+6)%7+u};switch(s){case"c":case"cc":return Dn(Sn(s.length,r),l);case"co":return Dn(o.ordinalNumber(r,{unit:"day"}),l);case"ccc":return o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"ccccc":return o.day(r,{width:"narrow",context:"standalone"});case"cccccc":return o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(r,{width:"wide",context:"standalone"})||o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=0&&s<=6}set(r,s,o,i){return r=Tp(r,o,i),r.setHours(0,0,0,0),r}}function L$(e,n,r){const s=nt(e,r==null?void 0:r.in),o=o$(s,r),i=n-o;return Pd(s,i,r)}class $$ extends $t{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,s,o){const i=l=>l===0?7:l;switch(s){case"i":case"ii":return Sn(s.length,r);case"io":return o.ordinalNumber(r,{unit:"day"});case"iii":return Dn(o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return Dn(o.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Dn(o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Dn(o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,s){return s>=1&&s<=7}set(r,s,o){return r=L$(r,o),r.setHours(0,0,0,0),r}}class F$ extends $t{constructor(){super(...arguments);Te(this,"priority",80);Te(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,o){return r.setHours(Dp(o),0,0,0),r}}class W$ extends $t{constructor(){super(...arguments);Te(this,"priority",80);Te(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,o){return r.setHours(Dp(o),0,0,0),r}}class B$ extends $t{constructor(){super(...arguments);Te(this,"priority",80);Te(this,"incompatibleTokens",["a","b","t","T"])}parse(r,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,o){return r.setHours(Dp(o),0,0,0),r}}class V$ extends $t{constructor(){super(...arguments);Te(this,"priority",70);Te(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,s,o){switch(s){case"h":return xn(In.hour12h,r);case"ho":return o.ordinalNumber(r,{unit:"hour"});default:return Sn(s.length,r)}}validate(r,s){return s>=1&&s<=12}set(r,s,o){const i=r.getHours()>=12;return i&&o<12?r.setHours(o+12,0,0,0):!i&&o===12?r.setHours(0,0,0,0):r.setHours(o,0,0,0),r}}class U$ extends $t{constructor(){super(...arguments);Te(this,"priority",70);Te(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,s,o){switch(s){case"H":return xn(In.hour23h,r);case"Ho":return o.ordinalNumber(r,{unit:"hour"});default:return Sn(s.length,r)}}validate(r,s){return s>=0&&s<=23}set(r,s,o){return r.setHours(o,0,0,0),r}}class z$ extends $t{constructor(){super(...arguments);Te(this,"priority",70);Te(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,s,o){switch(s){case"K":return xn(In.hour11h,r);case"Ko":return o.ordinalNumber(r,{unit:"hour"});default:return Sn(s.length,r)}}validate(r,s){return s>=0&&s<=11}set(r,s,o){return r.getHours()>=12&&o<12?r.setHours(o+12,0,0,0):r.setHours(o,0,0,0),r}}class H$ extends $t{constructor(){super(...arguments);Te(this,"priority",70);Te(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,s,o){switch(s){case"k":return xn(In.hour24h,r);case"ko":return o.ordinalNumber(r,{unit:"hour"});default:return Sn(s.length,r)}}validate(r,s){return s>=1&&s<=24}set(r,s,o){const i=o<=24?o%24:o;return r.setHours(i,0,0,0),r}}class G$ extends $t{constructor(){super(...arguments);Te(this,"priority",60);Te(this,"incompatibleTokens",["t","T"])}parse(r,s,o){switch(s){case"m":return xn(In.minute,r);case"mo":return o.ordinalNumber(r,{unit:"minute"});default:return Sn(s.length,r)}}validate(r,s){return s>=0&&s<=59}set(r,s,o){return r.setMinutes(o,0,0),r}}class Y$ extends $t{constructor(){super(...arguments);Te(this,"priority",50);Te(this,"incompatibleTokens",["t","T"])}parse(r,s,o){switch(s){case"s":return xn(In.second,r);case"so":return o.ordinalNumber(r,{unit:"second"});default:return Sn(s.length,r)}}validate(r,s){return s>=0&&s<=59}set(r,s,o){return r.setSeconds(o,0),r}}class q$ extends $t{constructor(){super(...arguments);Te(this,"priority",30);Te(this,"incompatibleTokens",["t","T"])}parse(r,s){const o=i=>Math.trunc(i*Math.pow(10,-s.length+3));return Dn(Sn(s.length,r),o)}set(r,s,o){return r.setMilliseconds(o),r}}class K$ extends $t{constructor(){super(...arguments);Te(this,"priority",10);Te(this,"incompatibleTokens",["t","T","x"])}parse(r,s){switch(s){case"X":return Cs(Ss.basicOptionalMinutes,r);case"XX":return Cs(Ss.basic,r);case"XXXX":return Cs(Ss.basicOptionalSeconds,r);case"XXXXX":return Cs(Ss.extendedOptionalSeconds,r);case"XXX":default:return Cs(Ss.extended,r)}}set(r,s,o){return s.timestampIsSet?r:an(r,r.getTime()-$a(r)-o)}}class X$ extends $t{constructor(){super(...arguments);Te(this,"priority",10);Te(this,"incompatibleTokens",["t","T","X"])}parse(r,s){switch(s){case"x":return Cs(Ss.basicOptionalMinutes,r);case"xx":return Cs(Ss.basic,r);case"xxxx":return Cs(Ss.basicOptionalSeconds,r);case"xxxxx":return Cs(Ss.extendedOptionalSeconds,r);case"xxx":default:return Cs(Ss.extended,r)}}set(r,s,o){return s.timestampIsSet?r:an(r,r.getTime()-$a(r)-o)}}class J$ extends $t{constructor(){super(...arguments);Te(this,"priority",40);Te(this,"incompatibleTokens","*")}parse(r){return tw(r)}set(r,s,o){return[an(r,o*1e3),{timestampIsSet:!0}]}}class Q$ extends $t{constructor(){super(...arguments);Te(this,"priority",20);Te(this,"incompatibleTokens","*")}parse(r){return tw(r)}set(r,s,o){return[an(r,o),{timestampIsSet:!0}]}}const Z$={G:new g$,y:new b$,Y:new y$,R:new v$,u:new j$,Q:new w$,q:new S$,M:new C$,L:new P$,w:new D$,I:new E$,d:new _$,D:new k$,E:new O$,e:new M$,c:new N$,i:new $$,a:new F$,b:new W$,B:new B$,h:new V$,H:new U$,K:new z$,k:new H$,m:new G$,s:new Y$,S:new q$,X:new K$,x:new X$,t:new J$,T:new Q$},eF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nF=/^'([^]*?)'?$/,rF=/''/g,sF=/\S/,oF=/[a-zA-Z]/;function aF(e,n,r,s){var v,I,S,T,D,A,R,k;const o=()=>an((s==null?void 0:s.in)||r,NaN),i=r$(),l=(s==null?void 0:s.locale)??i.locale??Id,d=(s==null?void 0:s.firstWeekContainsDate)??((I=(v=s==null?void 0:s.locale)==null?void 0:v.options)==null?void 0:I.firstWeekContainsDate)??i.firstWeekContainsDate??((T=(S=i.locale)==null?void 0:S.options)==null?void 0:T.firstWeekContainsDate)??1,u=(s==null?void 0:s.weekStartsOn)??((A=(D=s==null?void 0:s.locale)==null?void 0:D.options)==null?void 0:A.weekStartsOn)??i.weekStartsOn??((k=(R=i.locale)==null?void 0:R.options)==null?void 0:k.weekStartsOn)??0;if(!n)return e?o():nt(r,s==null?void 0:s.in);const h={firstWeekContainsDate:d,weekStartsOn:u,locale:l},p=[new x$(s==null?void 0:s.in,r)],m=n.match(tF).map(_=>{const N=_[0];if(N in zc){const W=zc[N];return W(_,l.formatLong)}return _}).join("").match(eF),g=[];for(let _ of m){!(s!=null&&s.useAdditionalWeekYearTokens)&&Qj(_)&&lf(_,n,e),!(s!=null&&s.useAdditionalDayOfYearTokens)&&Jj(_)&&lf(_,n,e);const N=_[0],W=Z$[N];if(W){const{incompatibleTokens:Y}=W;if(Array.isArray(Y)){const H=g.find(J=>Y.includes(J.token)||J.token===N);if(H)throw new RangeError(`The format string mustn't contain \`${H.fullToken}\` and \`${_}\` at the same time`)}else if(W.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${_}\` and any other token at the same time`);g.push({token:N,fullToken:_});const $=W.run(e,_,l.match,h);if(!$)return o();p.push($.setter),e=$.rest}else{if(N.match(oF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");if(_==="''"?_="'":N==="'"&&(_=iF(_)),e.indexOf(_)===0)e=e.slice(_.length);else return o()}}if(e.length>0&&sF.test(e))return o();const y=p.map(_=>_.priority).sort((_,N)=>N-_).filter((_,N,W)=>W.indexOf(_)===N).map(_=>p.filter(N=>N.priority===_).sort((N,W)=>W.subPriority-N.subPriority)).map(_=>_[0]);let b=nt(r,s==null?void 0:s.in);if(isNaN(+b))return o();const w={};for(const _ of y){if(!_.validate(b,h))return o();const N=_.set(b,w,h);Array.isArray(N)?(b=N[0],Object.assign(w,N[1])):b=N}return b}function iF(e){return e.match(nF)[1].replace(rF,"'")}function $y(e,n){const r=nt(e,n==null?void 0:n.in);return r.setMinutes(0,0,0),r}function lF(e,n,r){const[s,o]=wo(r==null?void 0:r.in,e,n);return+$y(s)==+$y(o)}function cF(e,n,r){const[s,o]=wo(r==null?void 0:r.in,e,n);return s.getFullYear()===o.getFullYear()&&s.getMonth()===o.getMonth()}function dF(e,n,r){const[s,o]=wo(r==null?void 0:r.in,e,n);return s.getFullYear()===o.getFullYear()}function uF(e,n,r){const s=+nt(e,r==null?void 0:r.in),[o,i]=[+nt(n.start,r==null?void 0:r.in),+nt(n.end,r==null?void 0:r.in)].sort((l,d)=>l-d);return s>=o&&s<=i}function hF(e,n,r){const s=nt(e,r==null?void 0:r.in),o=s.getFullYear(),i=s.getDate(),l=an(e,0);l.setFullYear(o,n,15),l.setHours(0,0,0,0);const d=Zj(l);return s.setMonth(n,Math.min(i,d)),s}function fF(e,n,r){const s=nt(e,r==null?void 0:r.in);return s.setDate(n),s}function pF(e,n,r){const s=nt(e,r==null?void 0:r.in);return s.setHours(n),s}function mF(e,n,r){const s=nt(e,r==null?void 0:r.in);return s.setMilliseconds(n),s}function xF(e,n,r){const s=nt(e,r==null?void 0:r.in);return s.setMinutes(n),s}function gF(e,n,r){const s=nt(e,r==null?void 0:r.in);return s.setSeconds(n),s}function bF(e,n,r){const s=nt(e,r==null?void 0:r.in);return isNaN(+s)?an(e,NaN):(s.setFullYear(n),s)}const yF=({notification:e})=>{const n=ln(),r=Ct(),{actions:s}=gp(),o=()=>{switch(e.categoryId){case 1:return t.jsx(Lj,{});case 2:return t.jsx($j,{});default:return t.jsx(Cd,{})}},i=()=>{switch(e.categoryId){case 1:return n.palette.primary.main;case 2:return n.palette.success.main;default:return n.palette.info.main}},l=async()=>{var u;e.isRead||await s.markAsRead(e.id),(u=e.data)!=null&&u.url&&(r(e.data.url),s.closeDrawer())},d=()=>{try{return Mr(new Date(e.createdAt),{addSuffix:!0})}catch{return"Recently"}};return t.jsxs(rr,{onClick:l,sx:{cursor:"pointer",bgcolor:e.isRead?"transparent":n.palette.action.hover,borderBottom:`1px solid ${n.palette.divider}`,py:2,px:2,"&:hover":{bgcolor:n.palette.action.selected},position:"relative"},children:[!e.isRead&&t.jsx(Fj,{sx:{position:"absolute",left:12,top:"50%",transform:"translateY(-50%)",fontSize:12,color:n.palette.primary.main,zIndex:1}}),t.jsx(zA,{children:t.jsx(wn,{sx:{bgcolor:i(),width:40,height:40},children:o()})}),t.jsx(Ht,{primary:t.jsx(j,{variant:"body2",sx:{fontWeight:e.isRead?400:600,color:n.palette.text.primary,mb:.5},children:e.title}),secondary:t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{color:n.palette.text.secondary,fontSize:"0.875rem",mb:.5,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:e.message}),t.jsx(j,{variant:"caption",sx:{color:n.palette.text.disabled,fontSize:"0.75rem"},children:d()})]})})]})},vF=()=>{const e=ln(),n=sl(e.breakpoints.down("sm")),{notifications:r,isOpen:s,isLoading:o,hasMore:i,actions:l}=gp(),d=n?"100%":400,u=()=>{l.closeDrawer()},h=async()=>{await l.markAllAsRead()},p=()=>t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"50vh",px:3},children:[t.jsx(Nj,{sx:{fontSize:80,color:e.palette.text.disabled,mb:2}}),t.jsx(j,{variant:"h6",sx:{color:e.palette.text.secondary,mb:1},children:"No notifications"}),t.jsx(j,{variant:"body2",sx:{color:e.palette.text.disabled,textAlign:"center"},children:"You're all caught up! Check back later for new updates."})]}),m=()=>t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:3},children:t.jsx(bn,{size:32})});return t.jsxs(Go,{anchor:"right",open:s,onClose:u,PaperProps:{sx:{width:d,bgcolor:"background.default"}},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:2,py:2,borderBottom:`1px solid ${e.palette.divider}`,position:"sticky",top:0,bgcolor:"background.default",zIndex:1},children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600},children:"Notifications"}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(he,{size:"small",onClick:h,sx:{textTransform:"none",fontSize:"0.875rem",color:e.palette.primary.main},children:"Mark all read"}),t.jsx(Le,{onClick:u,size:"small",children:t.jsx(Mj,{})})]})]}),t.jsx(C,{sx:{height:"calc(100vh - 65px)",overflow:"auto"},id:"notification-scroll-container",children:o&&r.length===0?m():r.length===0?p():t.jsx(Ds,{dataLength:r.length,next:l.loadMore,hasMore:i,loader:m(),scrollableTarget:"notification-scroll-container",endMessage:t.jsxs(C,{sx:{py:2,textAlign:"center"},children:[t.jsx(Lt,{sx:{mb:2}}),t.jsx(j,{variant:"caption",sx:{color:e.palette.text.disabled},children:"You've reached the end"})]}),children:t.jsx(fr,{sx:{py:0},children:r.map(g=>t.jsx(yF,{notification:g},g.id))})})})]})},jF=()=>{const e=sl("(max-width:600px)"),[n,r]=x.useState(!e),s=ln(),{isLoading:o,isAuthenticated:i}=Ja(),[l,d]=x.useState(!1),[u,h]=x.useState(null),p=Ct(),m=As();x.useEffect(()=>{e&&r(!1)},[e]);const g=()=>{r(!n)},y=D=>{p(`${ye.APP_SEARCH}?q=${encodeURIComponent(D)}`),d(!1)},b=()=>{d(!l)},w=D=>{h(D.currentTarget)},v=()=>{h(null)},I=()=>{v(),p(ye.APP_ACCOUNT)},S=()=>{v(),p(ye.STUDIO_ROOT)},T=async()=>{v();try{await(m==null?void 0:m.signOut()),p(ye.LOGIN)}catch(D){console.error("Logout error:",D)}};return o?null:i?t.jsxs(C,{sx:{display:"flex",minHeight:"100vh",bgcolor:"background.default",overflow:"hidden"},children:[t.jsx(cd,{position:"fixed",elevation:0,sx:{zIndex:s.zIndex.drawer+1,bgcolor:"background.default",color:"text.primary",boxShadow:"none",borderBottom:"none"},children:t.jsx(zs,{sx:{px:"8px"},children:l&&e?t.jsxs(C,{sx:{display:"flex",alignItems:"center",width:"100%",gap:1},children:[t.jsx(Le,{color:"inherit",onClick:b,sx:{flexShrink:0},children:t.jsx(sp,{})}),t.jsx(C,{sx:{flexGrow:1,mt:.5},children:t.jsx(sf,{onSearch:y,placeholder:"Search",className:"app-search-bar"})})]}):t.jsxs(t.Fragment,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",position:"absolute",left:0},children:[t.jsx(Le,{color:"inherit","aria-label":"toggle sidebar",onClick:g,sx:{minWidth:40,ml:.5,mr:1.5,"& .MuiSvgIcon-root":{fontSize:24,filter:"drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))"}},children:t.jsx(Ej,{})}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsxs(j,{variant:"h6",sx:{fontWeight:700,display:"block",letterSpacing:".1rem",fontFamily:"'Inter', -apple-system, sans-serif"},children:[t.jsxs(C,{sx:{display:{xs:"none",sm:"block"}},children:[t.jsx("span",{style:{color:"#2196F3",textTransform:"uppercase",fontWeight:800},children:"Meta"}),t.jsx("span",{style:{color:"#1976D2",fontWeight:600},children:"Journo"})]}),t.jsxs(C,{sx:{display:{xs:"block",sm:"none"}},children:[t.jsx("span",{style:{color:"#2196F3",textTransform:"uppercase",fontWeight:800},children:"M"}),t.jsx("span",{style:{color:"#1976D2",fontWeight:600},children:"Journo"})]})]}),t.jsxs(j,{variant:"caption",sx:{opacity:.7,fontWeight:500,fontSize:"0.75rem",display:{xs:"none",sm:"block"}},children:["v",mL]})]})]}),t.jsx(C,{sx:{position:"absolute",left:"50%",transform:"translateX(-50%)",display:{xs:"none",md:"flex"}},children:t.jsx(sf,{onSearch:y,placeholder:"Search articles, channels, journalists...",className:"app-search-bar"})}),t.jsx(C,{sx:{flexGrow:1}}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Le,{onClick:b,color:"inherit",sx:{display:{xs:"flex",md:"none"}},children:t.jsx(jd,{})}),t.jsx(wL,{}),t.jsx(Le,{onClick:w,color:"inherit","aria-controls":u?"profile-menu":void 0,"aria-haspopup":"true","aria-expanded":u?"true":void 0,children:t.jsx(Sd,{})})]})]})})}),t.jsx(vF,{}),t.jsxs(bo,{id:"profile-menu",anchorEl:u,open:!!u,onClose:v,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{elevation:3,sx:{mt:1.5,minWidth:200,borderRadius:2,overflow:"visible","& .MuiMenuItem-root":{py:1.5,px:2}}},children:[t.jsxs(we,{onClick:I,children:[t.jsx(en,{children:t.jsx(ll,{fontSize:"small"})}),t.jsx(Ht,{children:"Profile"})]}),t.jsxs(we,{onClick:S,children:[t.jsx(en,{children:t.jsx(Aj,{fontSize:"small"})}),t.jsx(Ht,{children:"Creator Studio"})]}),t.jsx(Lt,{}),t.jsxs(we,{onClick:T,children:[t.jsx(en,{children:t.jsx(Rj,{fontSize:"small"})}),t.jsx(Ht,{children:"Logout"})]})]}),e?t.jsxs(Go,{variant:"temporary",open:n,onClose:g,ModalProps:{keepMounted:!0},PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{width:240,border:"none"}},children:[t.jsx(zs,{}),t.jsx(C,{sx:{height:"calc(100% - 64px)",overflow:"auto"},children:t.jsx(Dy,{isOpen:!0,toggleSidebar:g})})]}):t.jsxs(Go,{variant:"permanent",PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{width:n?240:72,flexShrink:0,"& .MuiDrawer-paper":{width:n?240:72,transition:"width 0.2s",overflowX:"hidden",border:"none",borderRight:"none"}},children:[t.jsx(zs,{}),t.jsx(C,{sx:{height:"calc(100% - 64px)",overflow:"auto",overflowX:"hidden",width:"100%"},children:t.jsx(Dy,{isOpen:n,toggleSidebar:g})})]}),t.jsx(C,{component:"main",sx:{flexGrow:1,pt:8,minHeight:"100vh",display:"flex",flexDirection:"column",bgcolor:"background.default",overflow:"hidden",width:"100%"},children:t.jsx(C,{sx:{flexGrow:1,py:3,px:{xs:2,sm:3},overflowY:"auto",overflowX:"hidden",width:"100%",marginLeft:0,marginRight:"auto"},children:t.jsx(Uf,{})})})]}):t.jsx(C,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",bgcolor:"background.default"},children:t.jsx(bn,{})})};var Ep={},wF=Ke;Object.defineProperty(Ep,"__esModule",{value:!0});var Ap=Ep.default=void 0,SF=wF(Xe()),CF=t;Ap=Ep.default=(0,SF.default)((0,CF.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");var Rp={},PF=Ke;Object.defineProperty(Rp,"__esModule",{value:!0});var _p=Rp.default=void 0,IF=PF(Xe()),DF=t;_p=Rp.default=(0,IF.default)((0,DF.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6"}),"Brightness4");var kp={},TF=Ke;Object.defineProperty(kp,"__esModule",{value:!0});var Op=kp.default=void 0,EF=TF(Xe()),AF=t;Op=kp.default=(0,EF.default)((0,AF.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6m0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4"}),"Brightness7");const RF=hv({palette:{mode:"light",primary:{main:"#2196f3"},background:{default:"#ffffff",paper:"#f8f9fa"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)"}},typography:{fontFamily:"'Poppins', 'Inter', sans-serif",h6:{fontWeight:700,letterSpacing:.5}}}),_F=hv({palette:{mode:"dark",background:{default:"#121212",paper:"#1e1e1e"},text:{primary:"rgba(255, 255, 255, 0.87)",secondary:"rgba(255, 255, 255, 0.6)"}},typography:{fontFamily:"'Poppins', 'Inter', sans-serif",h6:{fontWeight:700,letterSpacing:.5}}}),sw=x.createContext({}),kF=({children:e})=>{const[n,r]=x.useState(window.matchMedia("(prefers-color-scheme: dark)").matches),s=()=>{r(!n)},o=x.useMemo(()=>n?_F:RF,[n]);return t.jsx(sw.Provider,{value:{isDarkMode:n,toggleTheme:s},children:t.jsxs(HA,{theme:o,children:[t.jsx(GA,{}),e]})})},Mp=()=>x.useContext(sw);var Np={},OF=Ke;Object.defineProperty(Np,"__esModule",{value:!0});var ow=Np.default=void 0,MF=OF(Xe()),NF=t;ow=Np.default=(0,MF.default)((0,NF.jsx)("path",{d:"m22 3-1.67 1.67L18.67 3 17 4.67 15.33 3l-1.66 1.67L12 3l-1.67 1.67L8.67 3 7 4.67 5.33 3 3.67 4.67 2 3v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2zM11 19H4v-6h7zm9 0h-7v-2h7zm0-4h-7v-2h7zm0-4H4V8h16z"}),"Newspaper");var Lp={},LF=Ke;Object.defineProperty(Lp,"__esModule",{value:!0});var $p=Lp.default=void 0,$F=LF(Xe()),Fy=t;$p=Lp.default=(0,$F.default)([(0,Fy.jsx)("path",{d:"M17 19.22H5V7h7V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-7h-2z"},"0"),(0,Fy.jsx)("path",{d:"M19 2h-2v3h-3c.01.01 0 2 0 2h3v2.99c.01.01 2 0 2 0V7h3V5h-3zM7 9h8v2H7zm0 3v2h8v-2h-3zm0 3h8v2H7z"},"1")],"PostAdd");var Fp={},FF=Ke;Object.defineProperty(Fp,"__esModule",{value:!0});var cl=Fp.default=void 0,WF=FF(Xe()),BF=t;cl=Fp.default=(0,WF.default)((0,BF.jsx)("path",{d:"M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2m0 14H3V5h18zm-5-7v2h-3v3h-2v-3H8v-2h3V7h2v3z"}),"AddToQueue");var Wp={},VF=Ke;Object.defineProperty(Wp,"__esModule",{value:!0});var Bp=Wp.default=void 0,UF=VF(Xe()),zF=t;Bp=Wp.default=(0,UF.default)((0,zF.jsx)("path",{d:"M22 5v2h-3v3h-2V7h-3V5h3V2h2v3zm-3 14H5V5h6V3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6h-2zm-4-6v4h2v-4zm-4 4h2V9h-2zm-2 0v-6H7v6z"}),"Addchart");var Vp={},HF=Ke;Object.defineProperty(Vp,"__esModule",{value:!0});var aw=Vp.default=void 0,GF=HF(Xe()),YF=t;aw=Vp.default=(0,GF.default)((0,YF.jsx)("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}),"Receipt");var Up={},qF=Ke;Object.defineProperty(Up,"__esModule",{value:!0});var Dd=Up.default=void 0,KF=qF(Xe()),XF=t;Dd=Up.default=(0,KF.default)((0,XF.jsx)("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney");const JF=({mobileOpen:e,onDrawerToggle:n})=>{const r=Qo(),s=window.innerWidth<=600,o={news:[{path:ye.STUDIO_NEWS,icon:t.jsx(ow,{}),label:"My News"},{path:ye.STUDIO_NEWS_CREATE,icon:t.jsx($p,{}),label:"Create News"}],channels:[{path:ye.STUDIO_CHANNELS,icon:t.jsx(lp,{}),label:"My Channels"},{path:ye.STUDIO_CHANNEL_CREATE,icon:t.jsx(cl,{}),label:"Create Channel"}],polls:[{path:ye.STUDIO_POLLS,icon:t.jsx(wd,{}),label:"My Polls"},{path:ye.STUDIO_POLL_CREATE,icon:t.jsx(Bp,{}),label:"Create Poll"}],payouts:[{path:ye.STUDIO_EXPENSE_ORDERS,icon:t.jsx(aw,{}),label:"My Payouts"},{path:ye.STUDIO_EXPENSE_ORDER_CREATE,icon:t.jsx(Dd,{}),label:"Request Payout"}]},i=t.jsxs(C,{children:[t.jsx(zs,{}),t.jsxs(fr,{sx:{px:2},children:[t.jsx(j,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"News Management"}),o.news.map(l=>t.jsxs(rr,{button:!0,component:Kn,to:l.path,selected:r.pathname===l.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(en,{sx:{minWidth:40,color:r.pathname===l.path?"primary.main":"inherit"},children:l.icon}),t.jsx(Ht,{primary:l.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===l.path?600:400}})]},l.path)),t.jsx(Lt,{sx:{my:2}}),t.jsx(j,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"Channel Management"}),o.channels.map(l=>t.jsxs(rr,{button:!0,component:Kn,to:l.path,selected:r.pathname===l.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(en,{sx:{minWidth:40,color:r.pathname===l.path?"primary.main":"inherit"},children:l.icon}),t.jsx(Ht,{primary:l.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===l.path?600:400}})]},l.path))]}),t.jsx(Lt,{sx:{my:2}}),t.jsxs(fr,{sx:{px:2},children:[t.jsx(j,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"Poll Management"}),o.polls.map(l=>t.jsxs(rr,{button:!0,component:Kn,to:l.path,selected:r.pathname===l.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(en,{sx:{minWidth:40,color:r.pathname===l.path?"primary.main":"inherit"},children:l.icon}),t.jsx(Ht,{primary:l.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===l.path?600:400}})]},l.path))]}),t.jsx(Lt,{sx:{my:2}}),t.jsxs(fr,{sx:{px:2},children:[t.jsx(j,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"Payout Management"}),o.payouts.map(l=>t.jsxs(rr,{button:!0,component:Kn,to:l.path,selected:r.pathname===l.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(en,{sx:{minWidth:40,color:r.pathname===l.path?"primary.main":"inherit"},children:l.icon}),t.jsx(Ht,{primary:l.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===l.path?600:400}})]},l.path))]})]});return t.jsx(t.Fragment,{children:s?t.jsx(Go,{variant:"temporary",open:e,onClose:n,ModalProps:{keepMounted:!0},PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{width:240,border:"none"}},children:i}):t.jsx(Go,{variant:"permanent",PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,transition:"width 0.2s",overflowX:"hidden",border:"none",borderRight:"none"}},children:i})})},QF=()=>{const[e,n]=x.useState(!1),[r,s]=x.useState(null),o=Ct(),i=ln(),{isDarkMode:l,toggleTheme:d}=Mp(),{isLoading:u,isAuthenticated:h}=Ja(),p=()=>{n(!e)},m=v=>{s(v.currentTarget)},g=()=>{s(null)},y=v=>{o(v),g()},b=v=>{o(`${ye.STUDIO_SEARCH}?q=${encodeURIComponent(v)}`)},w=v=>{o(`${ye.STUDIO_SEARCH}?q=${encodeURIComponent(v.text)}`)};return u||!h?null:t.jsxs(C,{sx:{display:"flex",minHeight:"100vh",bgcolor:"background.default"},children:[t.jsx(cd,{position:"fixed",elevation:0,sx:{zIndex:i.zIndex.drawer+1,bgcolor:"background.default",color:"text.primary",boxShadow:"none",borderBottom:"none"},children:t.jsxs(zs,{sx:{px:"8px"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",minWidth:200},children:[t.jsx(Le,{color:"inherit","aria-label":"toggle sidebar",onClick:p,sx:{minWidth:40,ml:.5,mr:1.5,"& .MuiSvgIcon-root":{fontSize:24,filter:"drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))"}},children:t.jsx(Ap,{})}),t.jsxs(j,{variant:"h6",sx:{fontWeight:700,display:"block",letterSpacing:".1rem",fontFamily:"'Inter', -apple-system, sans-serif"},children:[t.jsx(C,{sx:{display:{xs:"none",sm:"block"}},children:"Creator Studio"}),t.jsx(C,{sx:{display:{xs:"block",sm:"none"}},children:"Studio"})]})]}),t.jsx(C,{sx:{flexGrow:1,display:"flex",justifyContent:"center"},children:t.jsx(sf,{onSearch:b,onSuggestionSelect:w,placeholder:"Search your content and analytics...",className:"studio-search-bar"})}),t.jsx(Le,{onClick:d,color:"inherit",children:l?t.jsx(Op,{}):t.jsx(_p,{})}),t.jsx(Le,{onClick:()=>o(ye.APP_ROOT),color:"inherit",sx:{ml:2},children:t.jsx(Na,{})}),t.jsx(Le,{onClick:m,color:"inherit",sx:{ml:2},children:t.jsx(Sd,{})}),t.jsx(bo,{anchorEl:r,open:!!r,onClose:g,PaperProps:{sx:{width:220}},children:[{path:ye.APP_ROOT,icon:t.jsx(Na,{fontSize:"small"}),label:"Exit Studio"}].map(v=>t.jsxs(we,{onClick:()=>y(v.path),children:[t.jsx(en,{children:v.icon}),t.jsx(Ht,{children:v.label})]},v.path))})]})}),t.jsx(JF,{mobileOpen:e,onDrawerToggle:p}),t.jsx(C,{component:"main",sx:{flexGrow:1,pt:8,width:0,minHeight:"100vh",display:"flex",flexDirection:"column",bgcolor:"background.default"},children:t.jsx(C,{sx:{flexGrow:1,py:3,px:{xs:2,sm:3},maxWidth:1200,mx:"auto",width:"100%"},children:t.jsx(Uf,{})})})]})};var zp={},ZF=Ke;Object.defineProperty(zp,"__esModule",{value:!0});var cf=zp.default=void 0,e4=ZF(Xe()),t4=t;cf=zp.default=(0,e4.default)((0,t4.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security");const Th=280,n4=({mobileOpen:e,onDrawerToggle:n})=>{const r=Ct(),s=Qo(),o=[{text:"Dashboard",icon:t.jsx(fv,{}),path:ye.ADMIN_ROOT,exact:!0},{text:"News Management",icon:t.jsx(Ho,{}),path:ye.ADMIN_NEWS},{text:"Poll Management",icon:t.jsx(_f,{}),path:ye.ADMIN_POLLS},{text:"Channel Management",icon:t.jsx(Rf,{}),path:ye.ADMIN_CHANNELS},{text:"User Management",icon:t.jsx(mo,{}),path:ye.ADMIN_USERS},{text:"Expense Orders",icon:t.jsx(Gs,{}),path:ye.ADMIN_EXPENSE_ORDERS},{text:"Payout Management",icon:t.jsx(_a,{}),path:ye.ADMIN_PAYOUTS},{text:"Tag Management",icon:t.jsx(kf,{}),path:ye.ADMIN_TAGS},{text:"Subscriptions",icon:t.jsx(ka,{}),path:ye.ADMIN_SUBSCRIPTIONS},{text:"Analytics",icon:t.jsx(cs,{}),path:ye.ADMIN_ANALYTICS},{text:"Settings",icon:t.jsx(wc,{}),path:ye.ADMIN_SETTINGS}],i=u=>u.exact?s.pathname===u.path||s.pathname==="/admin"&&u.path===ye.ADMIN_ROOT:s.pathname.startsWith(u.path),l=u=>{r(u),e&&n()},d=t.jsxs(C,{children:[t.jsx(zs,{sx:{px:3,py:2,bgcolor:"error.main",color:"error.contrastText"},children:t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[t.jsx(j,{variant:"h6",noWrap:!0,component:"div",sx:{fontWeight:700,flexGrow:1,fontFamily:"'Inter', -apple-system, sans-serif"},children:"Admin Panel"}),t.jsx(Je,{label:"Admin",size:"small",sx:{bgcolor:"error.contrastText",color:"error.main",fontWeight:600}})]})}),t.jsx(Lt,{}),t.jsx(fr,{sx:{pt:2,px:2},children:o.map(u=>{const h=i(u);return t.jsx(rr,{disablePadding:!0,sx:{mb:.5},children:t.jsxs(Gh,{onClick:()=>l(u.path),sx:{borderRadius:2,px:2,py:1.5,minHeight:48,bgcolor:h?"error.main":"transparent",color:h?"error.contrastText":"text.primary","&:hover":{bgcolor:h?"error.dark":"action.hover"},"& .MuiListItemIcon-root":{color:h?"error.contrastText":"text.secondary",minWidth:36},transition:"all 0.2s ease-in-out"},children:[t.jsx(en,{children:u.icon}),t.jsx(Ht,{primary:u.text,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:h?600:500,fontFamily:"'Inter', -apple-system, sans-serif"}})]})},u.text)})}),t.jsx(Lt,{sx:{my:2}}),t.jsx(fr,{sx:{px:2},children:t.jsx(rr,{disablePadding:!0,children:t.jsxs(Gh,{onClick:()=>l(ye.APP_ROOT),sx:{borderRadius:2,px:2,py:1.5,minHeight:48,color:"text.secondary","&:hover":{bgcolor:"action.hover"}},children:[t.jsx(en,{sx:{color:"text.secondary",minWidth:36},children:t.jsx(YA,{})}),t.jsx(Ht,{primary:"Back to App",primaryTypographyProps:{fontSize:"0.875rem",fontWeight:500,fontFamily:"'Inter', -apple-system, sans-serif"}})]})})})]});return t.jsxs(C,{component:"nav",sx:{width:{sm:Th},flexShrink:{sm:0}},children:[t.jsx(Go,{variant:"temporary",open:e,onClose:n,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:Th,bgcolor:"background.paper",borderRight:"1px solid",borderRightColor:"divider"}},children:d}),t.jsx(Go,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:Th,bgcolor:"background.paper",borderRight:"1px solid",borderRightColor:"divider"}},open:!0,children:d})]})},r4=()=>{const[e,n]=x.useState(!1),[r,s]=x.useState(null),o=Ct(),i=ln(),{isDarkMode:l,toggleTheme:d}=Mp(),{isLoading:u,isAuthenticated:h}=Ja(),{user:p}=As(),m=()=>{n(!e)},g=w=>{s(w.currentTarget)},y=()=>{s(null)},b=w=>{o(w),y()};return u?null:p&&!h?t.jsx(C,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",bgcolor:"background.default"},children:t.jsx(bn,{})}):t.jsxs(C,{sx:{display:"flex",minHeight:"100vh",bgcolor:"background.default"},children:[t.jsx(cd,{position:"fixed",elevation:0,sx:{zIndex:i.zIndex.drawer+1,bgcolor:"background.default",color:"text.primary",boxShadow:"none",borderBottom:"1px solid",borderBottomColor:"divider"},children:t.jsxs(zs,{sx:{px:"8px"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",minWidth:200},children:[t.jsx(Le,{color:"inherit","aria-label":"toggle sidebar",onClick:m,sx:{minWidth:40,ml:.5,mr:1.5,"& .MuiSvgIcon-root":{fontSize:24,filter:"drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))"}},children:t.jsx(Ap,{})}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(cf,{sx:{color:"error.main"}}),t.jsxs(j,{variant:"h6",sx:{fontWeight:700,display:"block",letterSpacing:".1rem",fontFamily:"'Inter', -apple-system, sans-serif",color:"error.main"},children:[t.jsx(C,{sx:{display:{xs:"none",sm:"block"}},children:"Admin Panel"}),t.jsx(C,{sx:{display:{xs:"block",sm:"none"}},children:"Admin"})]})]})]}),t.jsx(C,{sx:{flexGrow:1}}),t.jsx(Le,{onClick:d,color:"inherit",children:l?t.jsx(Op,{}):t.jsx(_p,{})}),t.jsx(Le,{onClick:()=>o(ye.APP_ROOT),color:"inherit",sx:{ml:2},children:t.jsx(Na,{})}),t.jsx(Le,{onClick:g,color:"inherit",sx:{ml:2},children:t.jsx(Sd,{})}),t.jsx(bo,{anchorEl:r,open:!!r,onClose:y,PaperProps:{sx:{width:220}},children:[{path:ye.APP_ROOT,icon:t.jsx(Na,{fontSize:"small"}),label:"Exit Admin"},{path:ye.STUDIO_ROOT,icon:t.jsx(cf,{fontSize:"small"}),label:"Creator Studio"}].map(w=>t.jsxs(we,{onClick:()=>b(w.path),children:[t.jsx(en,{children:w.icon}),t.jsx(Ht,{children:w.label})]},w.path))})]})}),t.jsx(n4,{mobileOpen:e,onDrawerToggle:m}),t.jsx(C,{component:"main",sx:{flexGrow:1,pt:8,width:0,minHeight:"100vh",display:"flex",flexDirection:"column",bgcolor:"background.default"},children:t.jsx(C,{sx:{flexGrow:1,py:3,px:{xs:2,sm:3},maxWidth:1400,mx:"auto",width:"100%"},children:t.jsx(Uf,{})})})]})},[s4,xs]=vd(),o4=({children:e})=>{const{api:n}=Qe(),{user:r}=As(),{execute:s}=st(),[o,i]=x.useState(null),[l,d]=x.useState(!1),[u,h]=x.useState(!1),[p,m]=x.useState(!1),g=x.useRef(r==null?void 0:r.uid);g.current=r==null?void 0:r.uid;const y=x.useCallback(async()=>{if(!g.current)return;d(!0),m(!1);const w=await s(()=>n.app.account.getProfile(),{showErrorToast:!1});w?i(w):m(!0),d(!1),h(!0)},[n,s]);x.useEffect(()=>{r||(i(null),d(!1),h(!1),m(!1))},[r]);const b={profile:o,isLoading:l,isInitialized:u,hasServerError:p,channelRelations:{getSubscription:w=>{var v;return((v=o==null?void 0:o.subscriptions)==null?void 0:v.find(I=>I.channelId===w))??null},getSubscriptions:()=>(o==null?void 0:o.subscriptions)??[],hasSubscription:w=>{var v;return((v=o==null?void 0:o.subscriptions)==null?void 0:v.some(I=>I.channelId===w))??!1},hasChannel:()=>{var w;return((w=o==null?void 0:o.staffChannels)==null?void 0:w.length)&&o.staffChannels.length>0},getSubscriptionTier:w=>{var v,I;return((I=(v=o==null?void 0:o.subscriptions)==null?void 0:v.find(S=>S.channelId===w))==null?void 0:I.tier)??null}},actions:{refreshProfile:y}};return t.jsx(s4.Provider,{value:b,children:e})},Eh=({children:e})=>{const{isLoading:n,isAuthenticated:r,actions:s}=Ja(),{isLoading:o,isInitialized:i,hasServerError:l,actions:d}=xs();return x.useEffect(()=>{r&&!i&&!o&&!l&&d.refreshProfile()},[r,i,o,l,d]),x.useEffect(()=>{l&&r&&s.signOut()},[l,r,s]),n||o||!i?null:r?l?t.jsx(Qb,{to:ye.LOGIN}):t.jsx(t.Fragment,{children:e}):t.jsx(Qb,{to:ye.LOGIN})};var Hp={},a4=Ke;Object.defineProperty(Hp,"__esModule",{value:!0});var Gp=Hp.default=void 0;c4(x);var i4=a4(Xe()),l4=t;function iw(e){if(typeof WeakMap!="function")return null;var n=new WeakMap,r=new WeakMap;return(iw=function(s){return s?r:n})(e)}function c4(e,n){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=iw(n);if(r&&r.has(e))return r.get(e);var s={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(s,i,l):s[i]=e[i]}return s.default=e,r&&r.set(e,s),s}Gp=Hp.default=(0,i4.default)((0,l4.jsx)("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"}),"Google");const d4=Me(he)(({theme:e,bgcolor:n})=>({color:"#fff",backgroundColor:n,boxShadow:`0 2px 4px 0 ${n}80`,"&:hover":{backgroundColor:e.palette.augmentColor({color:{main:n}}).dark},"& .MuiButton-startIcon":{marginRight:e.spacing(1)}})),u4=()=>{const[e,n]=x.useState(""),[r,s]=x.useState(""),[o,i]=x.useState(""),[l,d]=x.useState(!1),u=As(),{api:h}=Qe(),p=Ct(),{execute:m}=st(),g=async b=>{b.preventDefault(),i(""),d(!0);try{const w=await(u==null?void 0:u.signIn(e,r));w&&(await m(()=>h==null?void 0:h.auth.signIn({idToken:w}),{showSuccessMessage:!0,successMessage:"Successfully logged in!"})?p(ye.APP_NEWS_TRENDING):(await(u==null?void 0:u.signOut()),i("Failed to connect to server. Please try again.")))}catch(w){const v=w instanceof Error?w.message:"Failed to login with email and password";i(v)}finally{d(!1)}},y=async b=>{i(""),d(!0);try{const w=await(u==null?void 0:u.signInWithProvider(b));w&&(await m(()=>h==null?void 0:h.auth.signIn({idToken:w}),{showSuccessMessage:!0,successMessage:"Successfully logged in!"})?p(ye.APP_NEWS_TRENDING):(await(u==null?void 0:u.signOut()),i("Failed to connect to server. Please try again.")))}catch(w){const v=w instanceof Error?w.message:"Failed to login with Google";i(v)}finally{d(!1)}};return t.jsxs(Tt,{maxWidth:"xs",sx:{mt:8},children:[t.jsx(C,{sx:{textAlign:"center",mb:4},children:t.jsx(j,{variant:"h4",gutterBottom:!0,children:"Welcome back!"})}),o&&t.jsx(dt,{severity:"error",sx:{mb:2},children:o}),t.jsxs(C,{component:"form",onSubmit:g,sx:{mb:2},children:[t.jsx(tt,{label:"Email",variant:"outlined",fullWidth:!0,margin:"normal",type:"email",autoComplete:"email",value:e,onChange:b=>n(b.target.value),disabled:l}),t.jsx(tt,{label:"Password",variant:"outlined",fullWidth:!0,type:"password",margin:"normal",autoComplete:"current-password",value:r,onChange:b=>s(b.target.value),disabled:l}),t.jsx(C,{sx:{textAlign:"right",mb:2},children:t.jsx(dd,{href:"#",variant:"caption",children:"Did you forget your password?"})}),t.jsx(he,{type:"submit",variant:"outlined",color:"secondary",fullWidth:!0,sx:{mb:2},disabled:l,children:l?"Logging in...":"Log In"})]}),t.jsx(Lt,{sx:{my:2},children:"OR"}),t.jsx(C,{sx:{textAlign:"center",mb:2},children:t.jsx(j,{variant:"body2",gutterBottom:!0,children:"You can sign in or sign up our application with following providers"})}),t.jsx(C,{sx:{display:"flex",flexDirection:"column",gap:2},children:t.jsx(d4,{variant:"contained",startIcon:t.jsx(Gp,{}),bgcolor:"#DB4437",onClick:()=>y(Pj),disabled:l,children:"Sign in with Google"})}),t.jsx(Lt,{sx:{my:3}}),t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Don't have an account?"}),t.jsxs(C,{sx:{display:"flex",justifyContent:"center",gap:2},children:[t.jsx(he,{variant:"outlined",size:"small",onClick:()=>p(`${ye.SIGNUP}?role=journalist`),disabled:l,children:"Sign up as Journalist"}),t.jsx(he,{variant:"outlined",size:"small",onClick:()=>p(`${ye.SIGNUP}?role=reader`),disabled:l,children:"Sign up as Reader"})]})]})]})},Gn={ACTIVE:1,INACTIVE:2,PENDING:3,BLOCKED:4,SUSPENDED:5,BANNED:6,DELETED:7,NOT_VERIFIED:8},on={SUPER_ADMIN:1,ADMIN:2,MODERATOR:3,REGULAR_USER:4,GUEST:5,JOURNALIST:6,EDITOR:7,EVALUATOR:8,FINANCE_MANAGER:9},h4=Me(he)(({theme:e,bgcolor:n})=>({color:"#fff",backgroundColor:n,boxShadow:`0 2px 4px 0 ${n}80`,"&:hover":{backgroundColor:e.palette.augmentColor({color:{main:n}}).dark},"& .MuiButton-startIcon":{marginRight:e.spacing(1)}})),f4=()=>{const[e]=Dv(),[n,r]=x.useState({displayName:"",email:"",password:"",confirmPassword:""}),[s,o]=x.useState({}),[i,l]=x.useState(""),[d,u]=x.useState(!1),h=As(),{api:p}=Qe(),{execute:m}=st(),g=Ct(),y=e.get("role"),b=x.useMemo(()=>y==="journalist"?on.JOURNALIST:on.REGULAR_USER,[y]),w=x.useMemo(()=>y==="journalist"?{title:"Join as a Journalist",subtitle:"Create and share your stories with the world",benefits:["Publish articles and build your readership","Monetize your content","Access analytics and insights","Connect with your audience"]}:{title:"Join as a Reader",subtitle:"Discover and support independent journalism",benefits:["Access quality journalism","Support journalists you trust","Personalized news feed","Engage with content"]},[y]),v=x.useCallback(D=>A=>{const R=A.target.value;r(k=>({...k,[D]:R})),s[D]&&o(k=>({...k,[D]:void 0})),i&&l("")},[s,i]),I=x.useCallback(()=>{const D={};return n.displayName.trim()?n.displayName.trim().length<2?D.displayName="Display name must be at least 2 characters":n.displayName.trim().length>50&&(D.displayName="Display name must be less than 50 characters"):D.displayName="Display name is required",n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(D.email="Please enter a valid email address"):D.email="Email is required",n.password?n.password.length<6&&(D.password="Password must be at least 6 characters"):D.password="Password is required",n.confirmPassword?n.password!==n.confirmPassword&&(D.confirmPassword="Passwords do not match"):D.confirmPassword="Please confirm your password",o(D),Object.keys(D).length===0},[n]),S=x.useCallback(async D=>{if(D.preventDefault(),l(""),!!I()){u(!0);try{const A=await(h==null?void 0:h.signUp(n.email,n.password));A&&(await m(()=>p==null?void 0:p.auth.signUp({externalId:A.uid,email:A.email,displayName:n.displayName.trim(),photoUrl:A.photoURL??"",roleId:b}),{showSuccessMessage:!0,successMessage:"Account created successfully!"})?g(`${ye.POST_SIGNUP}?role=${y||"reader"}`):(await(h==null?void 0:h.signOut()),l("Failed to connect to server. Please try again.")))}catch(A){const R=A instanceof Error?A.message:"Failed to sign up with email and password";l(R)}finally{u(!1)}}},[n,h,p,m,I,b,g,y]),T=x.useCallback(async D=>{l(""),u(!0);try{const A=await(h==null?void 0:h.signInWithProvider(D));if(A&&(h!=null&&h.user))if(await m(()=>p==null?void 0:p.auth.signIn({idToken:A}),{showErrorToast:!1})){g(ye.APP_NEWS_TRENDING);return}else await m(()=>p==null?void 0:p.auth.signUp({externalId:h.user.uid,email:h.user.email||"",displayName:h.user.displayName||"",photoUrl:h.user.photoURL||"",roleId:b}),{showSuccessMessage:!0,successMessage:"Account created successfully!"})?g(`${ye.POST_SIGNUP}?role=${y||"reader"}`):(await(h==null?void 0:h.signOut()),l("Failed to connect to server. Please try again."))}catch(A){const R=A instanceof Error?A.message:"Failed to login with social provider";l(R)}finally{u(!1)}},[h,p,m,b,g,y]);return t.jsxs(Tt,{maxWidth:"xs",sx:{mt:8},children:[t.jsxs(C,{sx:{textAlign:"center",mb:4},children:[t.jsx(j,{variant:"h4",gutterBottom:!0,children:w.title}),t.jsx(j,{variant:"body1",color:"text.secondary",sx:{mb:2},children:w.subtitle}),y&&t.jsx(Je,{label:y==="journalist"?"Journalist Account":"Reader Account",color:"primary",variant:"outlined",sx:{mb:2}})]}),i&&t.jsx(dt,{severity:"error",sx:{mb:2},children:i}),t.jsxs(C,{component:"form",onSubmit:S,noValidate:!0,children:[t.jsx(tt,{label:"Display Name",variant:"outlined",fullWidth:!0,margin:"normal",type:"text",autoComplete:"name",value:n.displayName,onChange:v("displayName"),error:!!s.displayName,helperText:s.displayName,disabled:d,required:!0}),t.jsx(tt,{label:"Email",variant:"outlined",fullWidth:!0,margin:"normal",type:"email",autoComplete:"email",value:n.email,onChange:v("email"),error:!!s.email,helperText:s.email,disabled:d,required:!0}),t.jsx(tt,{label:"Password",variant:"outlined",fullWidth:!0,type:"password",margin:"normal",autoComplete:"new-password",value:n.password,onChange:v("password"),error:!!s.password,helperText:s.password,disabled:d,required:!0}),t.jsx(tt,{label:"Confirm Password",variant:"outlined",fullWidth:!0,type:"password",margin:"normal",autoComplete:"new-password",value:n.confirmPassword,onChange:v("confirmPassword"),error:!!s.confirmPassword,helperText:s.confirmPassword,disabled:d,required:!0}),t.jsx(he,{type:"submit",variant:"outlined",color:"secondary",fullWidth:!0,sx:{mt:3,mb:2},disabled:d,children:d?"Creating Account...":"Sign Up"})]}),t.jsx(Lt,{sx:{my:2},children:"OR"}),t.jsx(C,{sx:{textAlign:"center",mb:2},children:t.jsx(j,{variant:"body2",color:"text.secondary",children:"You can sign up with the following providers"})}),t.jsx(C,{sx:{display:"flex",flexDirection:"column",gap:2},children:t.jsx(h4,{variant:"contained",startIcon:t.jsx(Gp,{}),bgcolor:"#DB4437",onClick:()=>T(Pj),disabled:d,children:"Sign up with Google"})})]})},p4=()=>{const[e]=Dv(),[n,r]=x.useState(0),[s,o]=x.useState(!1),[i,l]=x.useState({primaryRole:"",interests:[],experience:"",goals:[]}),d=Ct(),{api:u}=Qe(),{execute:h}=st(),p=e.get("role"),m=!!p,g=m?["Welcome","Your interests","Get started"]:["Welcome","Tell us about yourself","Your interests","Get started"];x.useEffect(()=>{p&&!i.primaryRole&&l(_=>({..._,primaryRole:p}))},[p,i.primaryRole]);const y=[{role:"journalist",title:"I want to write and publish",description:"Create articles, investigate stories, and build your readership",features:["Article editor","Story planning tools","Reader analytics","Revenue sharing"],userRole:on.JOURNALIST},{role:"editor",title:"I want to manage content",description:"Review, edit, and oversee publication workflows",features:["Editorial dashboard","Content review tools","Team management","Quality control"],userRole:on.EDITOR},{role:"reader",title:"I want to read and discover",description:"Follow journalists, discover stories, and engage with content",features:["Personalized feed","Bookmarking","Comment system","Newsletter subscriptions"],userRole:on.REGULAR_USER}],b=["Politics","Technology","Science","Sports","Business","Culture","Health","Environment","Entertainment","Education","Travel","Food"],w=(_,N)=>{l(W=>({...W,primaryRole:_})),I(N),r(1)},v=()=>{n>0&&r(n-1)},I=async _=>{o(!0),console.log("PostSignUpFlow: Updating user role to:",_),await h(()=>u==null?void 0:u.app.account.updateProfile({roleId:_}),{showSuccessMessage:!1,showErrorToast:!1}),console.log("PostSignUpFlow: User role update completed"),o(!1)},S=_=>{l(N=>({...N,interests:N.interests.includes(_)?N.interests.filter(W=>W!==_):[...N.interests,_]}))},T=async()=>{o(!0);try{localStorage.setItem("userInterests",JSON.stringify(i.interests)),d(ye.APP_NEWS_MY_FEED)}catch(_){console.error("Error saving profile:",_),d(ye.APP_NEWS_MY_FEED)}finally{o(!1)}},D=()=>{d(ye.APP_NEWS_MY_FEED)},A=()=>{if(m){const _=p==="journalist"?"Journalist":"Reader";return t.jsxs(C,{sx:{textAlign:"center",py:4},children:[t.jsxs(j,{variant:"h4",gutterBottom:!0,children:["Welcome, ",_,"! "]}),t.jsx(j,{variant:"body1",sx:{mb:4,maxWidth:600,mx:"auto"},children:p==="journalist"?"You're all set to start creating and publishing your stories. Let's personalize your experience.":"You're all set to discover and support independent journalism. Let's personalize your feed."}),t.jsxs(C,{sx:{textAlign:"center",mt:4},children:[t.jsx(he,{variant:"contained",size:"large",onClick:()=>r(1),sx:{px:4},children:"Continue"}),t.jsx(he,{variant:"text",onClick:D,sx:{display:"block",mt:2,mx:"auto",color:"text.secondary"},children:"Skip for now"})]})]})}return t.jsxs(C,{sx:{textAlign:"center",py:4},children:[t.jsx(j,{variant:"h4",gutterBottom:!0,children:"Welcome to the Journalist Platform! "}),t.jsx(j,{variant:"body1",sx:{mb:4,maxWidth:600,mx:"auto"},children:"Let's personalize your experience. What brings you here today?"}),t.jsx(j,{variant:"body2",sx:{mb:4,textAlign:"center",color:"text.secondary"},children:"Don't worry, you can always change this later in your settings."}),t.jsx(F,{container:!0,spacing:3,sx:{mt:2},children:y.map(_=>t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx(Fe,{sx:{cursor:"pointer","&:hover":{boxShadow:6},height:"100%",transition:"box-shadow 0.3s"},onClick:()=>w(_.role,_.userRole),children:t.jsxs(Be,{sx:{p:3,textAlign:"center"},children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:_.title}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:_.description}),t.jsx(C,{sx:{textAlign:"left"},children:_.features.map((N,W)=>t.jsxs(j,{variant:"caption",display:"block",sx:{mb:.5},children:[" ",N]},W))})]})})},_.role))}),t.jsx(C,{sx:{textAlign:"center",mt:4},children:t.jsx(he,{variant:"text",onClick:D,sx:{color:"text.secondary"},children:"Skip for now"})})]})},R=()=>t.jsxs(C,{sx:{py:4},children:[t.jsx(j,{variant:"h5",gutterBottom:!0,textAlign:"center",children:"What topics interest you most?"}),t.jsx(j,{variant:"body1",textAlign:"center",sx:{mb:4},children:"Select any that apply - we'll use this to personalize your experience"}),t.jsx(F,{container:!0,spacing:2,sx:{maxWidth:600,mx:"auto"},children:b.map(_=>t.jsx(F,{item:!0,xs:6,sm:4,children:t.jsx(he,{variant:i.interests.includes(_)?"contained":"outlined",fullWidth:!0,onClick:()=>S(_),sx:{py:1.5},children:_})},_))}),t.jsxs(C,{sx:{textAlign:"center",mt:4},children:[!m&&t.jsx(he,{variant:"outlined",onClick:v,sx:{mr:2},children:"Back"}),t.jsx(he,{variant:"contained",size:"large",onClick:()=>r(2),disabled:i.interests.length===0,children:"Continue"}),t.jsx(he,{variant:"text",onClick:D,sx:{display:"block",mt:2,mx:"auto",color:"text.secondary"},children:"Skip for now"})]})]}),k=()=>t.jsxs(C,{sx:{textAlign:"center",py:4},children:[t.jsx(j,{variant:"h5",gutterBottom:!0,children:"You're all set! "}),t.jsx(j,{variant:"body1",sx:{mb:4},children:"Based on your preferences, we've customized your experience. Ready to get started?"}),t.jsx(he,{variant:"contained",size:"large",onClick:T,disabled:s,sx:{px:4},children:s?"Setting up...":"Enter Platform"})]});return t.jsxs(Tt,{maxWidth:"lg",sx:{mt:4,mb:8},children:[t.jsx(qA,{activeStep:n,sx:{mb:6},children:g.map(_=>t.jsx(KA,{children:t.jsx(XA,{children:_})},_))}),m?t.jsxs(t.Fragment,{children:[n===0&&A(),n===1&&R(),n===2&&k()]}):t.jsxs(t.Fragment,{children:[n===0&&A(),n===1&&R(),n===2&&k()]})]})},m4="/journalist-material-client/assets/landing_page_compiled-BSuH_rh0.gif",x4=()=>{const e=As(),[n,r]=x.useState(!1),s=async()=>{await(e==null?void 0:e.signOut()),r(!1)};return x.useEffect(()=>{r(!!(e!=null&&e.user))},[e==null?void 0:e.user]),t.jsxs(t.Fragment,{children:[t.jsx(C,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:0,"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:1}},children:t.jsx(C,{component:"img",src:m4,alt:"Background",sx:{width:"100%",height:"100%",objectFit:"cover",position:"relative",zIndex:0}})}),t.jsx(cd,{position:"absolute",elevation:0,sx:{background:"rgba(255, 255, 255, 0.01)",zIndex:2},children:t.jsxs(zs,{sx:{justifyContent:"space-between",flexDirection:{xs:"column",sm:"row"},gap:{xs:2,sm:0},py:{xs:2,sm:1.5},px:{xs:2,sm:4}},children:[t.jsx(C,{sx:{display:"flex",alignItems:"center",gap:1.5},children:t.jsxs(C,{sx:{position:"relative","&::after":{content:'""',position:"absolute",bottom:-4,left:0,width:"100%",height:"2px",background:"linear-gradient(90deg, #2196F3 0%, transparent 100%)",borderRadius:"2px"}},children:[t.jsx("span",{style:{color:"#1565C0",textTransform:"uppercase",fontWeight:800,fontSize:"1.6rem",letterSpacing:"1px"},children:"Meta"}),t.jsx("span",{style:{color:"#0D47A1",fontWeight:600,fontSize:"1.6rem"},children:"Journo"})]})}),t.jsx(C,{sx:{display:"flex",alignItems:"center",order:{xs:3,sm:3},width:{xs:"100%",sm:"auto"},justifyContent:{xs:"center",sm:"flex-end"},gap:2},children:n?t.jsxs(t.Fragment,{children:[t.jsx(he,{color:"primary",variant:"outlined",size:"large",component:Kn,to:ye.APP_NEWS_MY_FEED,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"},px:4,py:1.2,borderRadius:"12px",borderWidth:"2px",textTransform:"none",fontWeight:600,transition:"all 0.3s ease","&:hover":{borderWidth:"2px",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(33, 150, 243, 0.2)"}},children:"My Feed"}),t.jsx(he,{color:"error",variant:"contained",size:"large",onClick:s,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"},px:4,py:1.2,borderRadius:"12px",textTransform:"none",fontWeight:600,background:"linear-gradient(135deg, #f44336 0%, #e53935 50%, #c62828 100%)",boxShadow:"0 8px 16px -4px rgba(244, 67, 54, 0.5)",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(135deg, #e53935 0%, #d32f2f 50%, #b71c1c 100%)",transform:"translateY(-2px)",boxShadow:"0 12px 20px -4px rgba(244, 67, 54, 0.6)"}},children:"Log out"})]}):t.jsxs(t.Fragment,{children:[t.jsx(he,{color:"primary",variant:"outlined",size:"large",component:Kn,to:ye.LOGIN,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"},px:4,py:1.2,borderRadius:"12px",borderWidth:"2px",textTransform:"none",fontWeight:600,transition:"all 0.3s ease","&:hover":{borderWidth:"2px",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(33, 150, 243, 0.2)"}},children:"Log in"}),t.jsx(he,{color:"primary",variant:"contained",size:"large",component:Kn,to:ye.SIGNUP,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"},px:4,py:1.2,borderRadius:"12px",textTransform:"none",fontWeight:600,background:"linear-gradient(135deg, #2196F3 0%, #1976D2 50%, #0D47A1 100%)",boxShadow:"0 8px 16px -4px rgba(33, 150, 243, 0.5)",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(135deg, #1E88E5 0%, #1565C0 50%, #0D47A1 100%)",transform:"translateY(-2px)",boxShadow:"0 12px 20px -4px rgba(33, 150, 243, 0.6)"}},children:"Get Started"})]})})]})})]})},g4=()=>{const e=Ct(),n=()=>{e(`${ye.SIGNUP}?role=journalist`)},r=()=>{e(`${ye.SIGNUP}?role=reader`)},s=()=>{e(ye.APP_NEWS_TRENDING)};return t.jsxs(C,{sx:{minHeight:"100vh",bgcolor:"background.default"},children:[t.jsx(x4,{}),t.jsx(C,{sx:{minHeight:"90vh",display:"flex",alignItems:"center",background:"transparent",position:"relative",overflow:"hidden"},children:t.jsx(Tt,{maxWidth:"lg",children:t.jsx(F,{container:!0,justifyContent:"center",children:t.jsxs(F,{item:!0,xs:12,md:8,textAlign:"center",children:[t.jsxs(j,{variant:"h1",component:"h1",sx:{fontWeight:700,color:"white",fontSize:{xs:"2.5rem",sm:"3.2rem",md:"3.8rem"},mb:4,lineHeight:1.3,textShadow:"2px 2px 4px rgba(0,0,0,0.7)"},children:["Discover Journalism You Can Trust.",t.jsx("br",{}),"Fund Stories That Deserve Attention."]}),t.jsx(j,{variant:"h5",sx:{color:"rgba(255, 255, 255, 0.95)",mb:5,lineHeight:1.7,fontSize:{xs:"1.1rem",sm:"1.25rem"},fontWeight:400,textShadow:"1px 1px 2px rgba(0,0,0,0.7)"},children:"MetaJourno connects readers directly to independent journalists  no paywalls, no content hosting, just verified trust and transparent funding."}),t.jsxs(ge,{direction:{xs:"column",sm:"row"},spacing:3,justifyContent:"center",children:[t.jsx(he,{variant:"contained",size:"large",startIcon:t.jsx(rl,{}),onClick:s,sx:{bgcolor:"white",color:"#1e3c72",px:4,py:1.5,fontSize:"1rem",fontWeight:600,borderRadius:1,textTransform:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.15)","&:hover":{bgcolor:"#f8f9fa",transform:"translateY(-1px)",boxShadow:"0 6px 20px rgba(0,0,0,0.2)"},transition:"all 0.2s ease"},children:"Browse Stories"}),t.jsx(he,{variant:"outlined",size:"large",startIcon:t.jsx(Ho,{}),onClick:n,sx:{borderColor:"rgba(255, 255, 255, 0.5)",color:"white",px:4,py:1.5,fontSize:"1rem",fontWeight:600,borderRadius:1,textTransform:"none","&:hover":{borderColor:"white",bgcolor:"rgba(255, 255, 255, 0.1)"},transition:"all 0.2s ease"},children:"Join as a Journalist"}),t.jsx(he,{variant:"contained",size:"large",startIcon:t.jsx(Ho,{}),onClick:r,sx:{bgcolor:"rgba(255, 255, 255, 0.15)",borderColor:"rgba(255, 255, 255, 0.5)",color:"white",px:4,py:1.5,fontSize:"1rem",fontWeight:600,borderRadius:1,textTransform:"none","&:hover":{bgcolor:"rgba(255, 255, 255, 0.25)",transform:"translateY(-1px)",boxShadow:"0 4px 12px rgba(255,255,255,0.2)"},transition:"all 0.2s ease"},children:"Join as a Reader"})]})]})})})})]})};var Yp={},b4=Ke;Object.defineProperty(Yp,"__esModule",{value:!0});var qp=Yp.default=void 0,y4=b4(Xe()),v4=t;qp=Yp.default=(0,y4.default)((0,v4.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");const Nn={DRAFT:1,PENDING_REVIEW:2,PUBLISHED:3,REJECTED:4,ARCHIVED:5,DELETED:6},wr={INSTAGRAM:1,TWITTER:2,YOUTUBE:3,TIKTOK:4,FACEBOOK:5,LINKEDIN:6,OTHER:7},dl={COVER:1,SUMMARY:2,AVATAR:3,TEASER:4,INTRO:5,OUTRO:6,OTHER:7},Gc={IMAGE:1,VIDEO:2,AUDIO:3,DOCUMENT:4,URL:5,ARTICLE:6,OTHER:7},Td="/journalist-material-client/assets/BG_journo-DMUT4Pey.png";var Kp={},j4=Ke;Object.defineProperty(Kp,"__esModule",{value:!0});var Xp=Kp.default=void 0,w4=j4(Xe()),S4=t;Xp=Kp.default=(0,w4.default)((0,S4.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"}),"FavoriteBorder");var Jp={},C4=Ke;Object.defineProperty(Jp,"__esModule",{value:!0});var Zo=Jp.default=void 0,P4=C4(Xe()),I4=t;Zo=Jp.default=(0,P4.default)((0,I4.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");var Qp={},D4=Ke;Object.defineProperty(Qp,"__esModule",{value:!0});var Zp=Qp.default=void 0,T4=D4(Xe()),E4=t;Zp=Qp.default=(0,T4.default)((0,E4.jsx)("path",{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48z"}),"Verified");const Wy=({news:e,mode:n="scroll"})=>{var d,u;const r=Ct(),s=ln(),o=(d=e.media)==null?void 0:d.find(h=>h.type===dl.COVER),i=h=>{h.target.closest(".action-button")||r(ye.APP_NEWS_VIEW.replace(":id",e.id))},l=h=>{h.stopPropagation(),r(ye.APP_CHANNEL_VIEW.replace(":channelId",e.channel.id))};return t.jsxs(C,{onClick:i,sx:{position:"relative",width:"100%",height:n==="grid"?"auto":"90vh",maxWidth:n==="scroll"?"480px":"100%",margin:n==="scroll"?"0 auto":0,aspectRatio:n==="grid"?"4/5":void 0,borderRadius:n==="grid"?3:4,overflow:"hidden",bgcolor:s.palette.mode==="dark"?"#000":"#111",boxShadow:"none",cursor:"pointer",transition:"opacity 0.2s ease","&:hover":{opacity:.95}},children:[t.jsxs(C,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:0},children:[(o==null?void 0:o.format)===Gc.VIDEO?t.jsx(C,{component:"video",src:o.url,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,sx:{width:"100%",height:"100%",objectFit:"cover",filter:"brightness(0.7)"}}):t.jsx(C,{component:"img",src:(o==null?void 0:o.url)||Td,alt:e.title,sx:{width:"100%",height:"100%",objectFit:"cover",filter:"brightness(0.7)"}}),t.jsx(C,{sx:{position:"absolute",top:0,left:0,right:0,height:"30%",background:"linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%)",zIndex:1}}),t.jsx(C,{sx:{position:"absolute",bottom:0,left:0,right:0,height:"70%",background:"linear-gradient(to top, rgba(0,0,0,0.95) 0%, rgba(0,0,0,0) 100%)",zIndex:1}})]}),t.jsx(C,{sx:{position:"relative",zIndex:2,height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",p:2.5},children:n==="grid"?t.jsxs(t.Fragment,{children:[t.jsx(C,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:((u=e.qualityMetrics)==null?void 0:u.overallQualityScore)&&t.jsx(Je,{icon:t.jsx(Zp,{sx:{fontSize:"0.875rem"}}),label:e.qualityMetrics.overallQualityScore.toFixed(1),size:"small",sx:{height:24,bgcolor:fe(s.palette.success.main,.9),color:"white",fontWeight:700,fontSize:"0.7rem",backdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}})}),t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{fontWeight:700,fontSize:"1.1rem",color:"white",textShadow:"0 2px 8px rgba(0,0,0,0.9)",mb:1.5,lineHeight:1.2,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.title}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:1},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(Zo,{sx:{fontSize:"1.1rem",mr:.5,color:"white",filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.5))"}}),t.jsx(j,{variant:"body2",sx:{fontWeight:700,fontSize:"0.875rem",color:"white",textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:"12K"})]}),t.jsx(Le,{className:"action-button",size:"small",onClick:h=>{h.stopPropagation()},sx:{bgcolor:fe("#fff",.2),backdropFilter:"blur(10px)",color:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.3)","&:hover":{bgcolor:fe(s.palette.error.main,.8),transform:"scale(1.1)"},transition:"all 0.2s ease"},children:t.jsx(Xp,{sx:{fontSize:"1rem"}})})]})]})]}):t.jsx(t.Fragment,{children:t.jsx(C,{sx:{display:"flex",height:"100%",position:"relative"},children:t.jsxs(C,{sx:{flex:1,display:"flex",flexDirection:"column",justifyContent:"flex-end"},children:[t.jsxs(C,{onClick:l,className:"action-button",sx:{display:"flex",alignItems:"center",mb:1.5,cursor:"pointer","&:hover":{"& .channel-avatar":{transform:"scale(1.1)"}}},children:[t.jsx(wn,{src:e.channel.logoUrl,alt:e.channel.name,className:"channel-avatar",sx:{width:40,height:40,bgcolor:s.palette.primary.main,border:"2px solid white",boxShadow:"0 2px 8px rgba(0,0,0,0.3)",transition:"transform 0.2s ease"}}),t.jsxs(C,{sx:{ml:1.5},children:[t.jsx(j,{variant:"body2",sx:{fontWeight:700,fontSize:"0.95rem",color:"white",textShadow:"0 1px 3px rgba(0,0,0,0.8)"},children:e.channel.name}),t.jsx(j,{variant:"caption",sx:{fontSize:"0.75rem",color:"rgba(255,255,255,0.9)",textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:Mr(new Date(e.publishedAt),{addSuffix:!0})})]})]}),t.jsx(j,{variant:"h6",sx:{fontWeight:800,fontSize:"1.2rem",color:"white",textShadow:"0 2px 8px rgba(0,0,0,0.9)",mb:.5,lineHeight:1.2,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.title}),t.jsx(j,{variant:"body2",sx:{fontSize:"0.875rem",color:"rgba(255,255,255,0.95)",textShadow:"0 1px 4px rgba(0,0,0,0.9)",lineHeight:1.4,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",mb:1.5},children:e.content}),e.tags&&e.tags.length>0&&t.jsx(ge,{direction:"row",spacing:.5,sx:{flexWrap:"wrap",gap:.5},children:e.tags.slice(0,3).map(h=>t.jsx(Je,{label:`#${h.title}`,size:"small",sx:{height:22,fontSize:"0.7rem",fontWeight:600,bgcolor:fe("#fff",.15),backdropFilter:"blur(10px)",color:"white",border:"1px solid",borderColor:fe("#fff",.2),textShadow:"0 1px 2px rgba(0,0,0,0.5)","&:hover":{bgcolor:fe("#fff",.25)}}},h.id))})]})})})})]})};var em={},A4=Ke;Object.defineProperty(em,"__esModule",{value:!0});var lw=em.default=void 0,R4=A4(Xe()),_4=t;lw=em.default=(0,R4.default)((0,_4.jsx)("path",{d:"M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2m0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19z"}),"Inbox");const Xs=({title:e,description:n,icon:r=t.jsx(lw,{sx:{fontSize:48}}),action:s})=>t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:4,borderRadius:2,bgcolor:o=>o.palette.mode==="dark"?fe(o.palette.common.white,.05):fe(o.palette.common.black,.02),textAlign:"center"},children:[t.jsx(C,{sx:{color:"text.secondary",mb:2},children:r}),t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:1},children:e}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:s?3:0},children:n}),s&&t.jsx(he,{variant:"contained",onClick:s.onClick,sx:{textTransform:"none",fontWeight:600},children:s.label})]});var tm={},k4=Ke;Object.defineProperty(tm,"__esModule",{value:!0});var Ed=tm.default=void 0,O4=k4(Xe()),M4=t;Ed=tm.default=(0,O4.default)((0,M4.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share");const By=({count:e=2})=>t.jsx(ge,{spacing:2,sx:{mt:2},children:[...Array(e)].map((n,r)=>t.jsxs(C,{sx:{p:2,borderRadius:2,bgcolor:s=>s.palette.mode==="dark"?fe(s.palette.common.white,.05):fe(s.palette.common.black,.03)},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(C,{sx:{width:32,height:32,borderRadius:1,bgcolor:s=>s.palette.mode==="dark"?fe(s.palette.common.white,.1):fe(s.palette.common.black,.1),mr:1}}),t.jsx(C,{sx:{height:20,width:"30%",borderRadius:.5,bgcolor:"grey.300"}})]}),t.jsx(C,{sx:{height:24,width:"60%",mb:2,borderRadius:.5,bgcolor:"grey.300"}}),t.jsx(C,{sx:{height:100,width:"100%",borderRadius:1,bgcolor:"grey.200",mb:2}}),t.jsx(C,{sx:{height:16,width:"40%",borderRadius:.5,bgcolor:"grey.200"}})]},r))}),cw=({filters:e={},emptyTitle:n="No news found",emptyDescription:r="No news articles available at the moment",itemsPerPage:s=12,mode:o="scroll"})=>{const[i,l]=x.useState([]),[d,u]=x.useState(!0),[h,p]=x.useState(1),[m,g]=x.useState(!0),{api:y}=Qe(),{execute:b}=st(),w=ln(),v=async(S=h)=>{try{u(!0);const T=await b(()=>y==null?void 0:y.app.news.getNews(e,{page:S,limit:s}),{showErrorToast:!0});T&&(l(S===1?T.items:D=>[...D,...T.items]),g(T.metadata.hasNext),p(T.metadata.currentPage))}finally{u(!1)}};x.useEffect(()=>{l([]),p(1),v(1)},[JSON.stringify(e)]);const I=()=>{!d&&m&&v(h+1)};return i.length===0&&!d?t.jsx(Xs,{title:n,description:r}):o==="grid"?t.jsx(C,{sx:{width:"100%"},children:d&&i.length===0?t.jsx(By,{}):t.jsx(Ds,{dataLength:i.length,next:I,hasMore:m,loader:t.jsx(C,{}),endMessage:t.jsx(C,{sx:{textAlign:"center",py:4,color:"text.secondary",fontSize:"0.875rem"},children:"No more news to display"}),children:t.jsx(F,{container:!0,spacing:3,children:i.map(S=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Wy,{news:S,mode:"grid"})},S.id))})})}):t.jsx(C,{sx:{width:"100%",height:"100%",display:"flex",justifyContent:"center",overflowY:"scroll",scrollSnapType:"y mandatory",scrollBehavior:"smooth","&::-webkit-scrollbar":{display:"none"},msOverflowStyle:"none",scrollbarWidth:"none",px:{xs:2,sm:0}},children:t.jsx(C,{sx:{width:"100%",maxWidth:480},children:d&&i.length===0?t.jsx(By,{}):t.jsx(Ds,{dataLength:i.length,next:I,hasMore:m,loader:t.jsx(C,{}),endMessage:t.jsx(C,{sx:{textAlign:"center",py:4,color:"text.secondary",fontSize:"0.875rem",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:"No more news to display"}),style:{overflow:"visible",paddingBottom:"64px"},children:i.map(S=>{var T;return t.jsxs(C,{sx:{position:"relative",scrollSnapAlign:"start",scrollSnapStop:"always",height:"calc(100vh - 64px)",display:"flex",alignItems:"center",justifyContent:"center"},children:[t.jsx(Wy,{news:S}),t.jsxs(C,{sx:{position:"absolute",right:{xs:8,sm:-60},bottom:"5vh",display:"flex",flexDirection:"column",alignItems:"center",gap:2.5,zIndex:10},children:[((T=S.qualityMetrics)==null?void 0:T.overallQualityScore)&&t.jsx(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:t.jsx(Je,{icon:t.jsx(Zp,{sx:{fontSize:"0.875rem"}}),label:S.qualityMetrics.overallQualityScore.toFixed(1),size:"small",sx:{height:28,bgcolor:fe(w.palette.success.main,.9),color:"white",fontWeight:700,fontSize:"0.75rem",backdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}})}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[t.jsx(Le,{className:"action-button",size:"medium",onClick:D=>{D.stopPropagation()},sx:{bgcolor:w.palette.mode==="dark"?fe("#fff",.2):fe("#000",.6),backdropFilter:"blur(10px)",color:"white",boxShadow:w.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)","&:hover":{bgcolor:fe(w.palette.error.main,.8),transform:"scale(1.1)"},transition:"all 0.2s ease",width:48,height:48},children:t.jsx(Xp,{sx:{fontSize:"1.5rem"}})}),t.jsx(j,{variant:"caption",sx:{color:"white",fontWeight:700,fontSize:"0.75rem",mt:.5,textShadow:"0 1px 2px rgba(0,0,0,0.8)"}})]}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[t.jsx(Le,{className:"action-button",size:"medium",onClick:D=>{D.stopPropagation()},sx:{bgcolor:w.palette.mode==="dark"?fe("#fff",.2):fe("#000",.6),backdropFilter:"blur(10px)",color:"white",boxShadow:w.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)","&:hover":{bgcolor:w.palette.mode==="dark"?fe("#fff",.3):fe("#000",.7),transform:"scale(1.1)"},transition:"all 0.2s ease",width:48,height:48},children:t.jsx(Ed,{sx:{fontSize:"1.5rem"}})}),t.jsx(j,{variant:"caption",sx:{color:"white",fontWeight:700,fontSize:"0.75rem",mt:.5,textShadow:"0 1px 2px rgba(0,0,0,0.8)"}})]}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[t.jsx(C,{sx:{bgcolor:w.palette.mode==="dark"?fe("#fff",.2):fe("#000",.6),backdropFilter:"blur(10px)",borderRadius:"50%",width:48,height:48,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:w.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)"},children:t.jsx(Zo,{sx:{fontSize:"1.5rem",color:"white",filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.5))"}})}),t.jsx(j,{variant:"caption",sx:{color:"white",fontWeight:700,fontSize:"0.75rem",mt:.5,textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:"12K"})]})]})]},S.id)})})})})},N4=(e={})=>{if(e.feed)return{title:"Your Feed",description:"Latest news from your personalized feed",emptyTitle:"Your feed is empty",emptyDescription:"Follow some journalists to see their latest news here"};if(e.trending)return{title:"Trending News",description:"Discover the most popular news from our community",emptyTitle:"No trending news",emptyDescription:"There are no trending news articles at the moment"};if(e.subscribed)return{title:"Subscribed Channels",description:"Latest news from your subscribed channels",emptyTitle:"No news from subscriptions",emptyDescription:"Subscribe to channels to see their latest news here"};if(e.premium)return{title:"Premium News",description:"Exclusive premium content",emptyTitle:"No premium news",emptyDescription:"No premium news articles available at the moment"};if(e.channel)return{title:"Channel News",description:"News from this channel",emptyTitle:"No news in this channel",emptyDescription:"This channel has not published any news yet"};if(e.creator)return{title:"Creator News",description:"News from this creator",emptyTitle:"No news from this creator",emptyDescription:"This creator has not published any news yet"};if(e.tags&&e.tags.length>0){const n=e.tags.length===1?"tag":"tags";return{title:`News by ${n.charAt(0).toUpperCase()+n.slice(1)}`,description:`News tagged with: ${e.tags.join(", ")}`,emptyTitle:`No news with these ${n}`,emptyDescription:`No news articles found with the selected ${n}`}}return{title:"All News",description:"Latest news from our community",emptyTitle:"No news found",emptyDescription:"No news articles available at the moment"}},df=({filters:e={},emptyTitle:n,emptyDescription:r,showSearch:s=!1,mode:o="scroll"})=>{const i=Qo(),l=Ct(),[d,u]=x.useState(""),[h,p]=x.useState("");x.useEffect(()=>{const S=new URLSearchParams(i.search).get("q");if(S){const T=decodeURIComponent(S);u(T),p(T)}},[i.search]);const m=N4(e),g=n||m.emptyTitle,y=r||m.emptyDescription,b={...e,query:d||void 0},w=I=>{I.preventDefault();const S=h.trim();u(S);const T=new URLSearchParams(i.search);S?T.set("q",encodeURIComponent(S)):T.delete("q");const D=`${i.pathname}?${T.toString()}`;l(D,{replace:!0})},v=()=>{p(""),u("");const I=new URLSearchParams(i.search);I.delete("q");const S=`${i.pathname}?${I.toString()}`;l(S,{replace:!0})};return t.jsxs(C,{sx:{width:"100%",height:"100vh",overflow:"hidden",display:"flex",flexDirection:"column",...o==="scroll"&&{position:"fixed",top:64,left:0,right:0,bottom:0,margin:0,padding:0,zIndex:1}},children:[s&&o==="grid"&&t.jsx(C,{sx:{flexShrink:0,mb:2},children:t.jsx("form",{onSubmit:w,children:t.jsx(tt,{fullWidth:!0,placeholder:"Search news by title or content...",value:h,onChange:I=>p(I.target.value),InputProps:{startAdornment:t.jsx(es,{position:"start",children:t.jsx(jd,{color:"action"})}),endAdornment:h&&t.jsx(es,{position:"end",children:t.jsx(Le,{size:"small",onClick:v,edge:"end",children:t.jsx(qp,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"background.paper"}}})})}),t.jsx(C,{sx:{flex:1,overflow:"hidden"},children:t.jsx(cw,{filters:b,emptyTitle:g,emptyDescription:y,mode:o})})]})},L4=e=>{switch(e){case wr.INSTAGRAM:return rR;case wr.TWITTER:return nR;case wr.YOUTUBE:return tR;case wr.TIKTOK:return eR;case wr.FACEBOOK:return ZA;case wr.LINKEDIN:return QA;case wr.OTHER:default:return JA}},$4=e=>{switch(e){case wr.INSTAGRAM:return"#E4405F";case wr.TWITTER:return"#1DA1F2";case wr.YOUTUBE:return"#FF0000";case wr.TIKTOK:return"#000000";case wr.FACEBOOK:return"#1877F2";case wr.LINKEDIN:return"#0A66C2";default:return"#757575"}},F4=e=>{var n;return((n=Object.entries(wr).find(([,r])=>r===e))==null?void 0:n[0])||"Other"};var nm={},W4=Ke;Object.defineProperty(nm,"__esModule",{value:!0});var dw=nm.default=void 0,B4=W4(Xe()),V4=t;dw=nm.default=(0,B4.default)((0,V4.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39"}),"Public");var rm={},U4=Ke;Object.defineProperty(rm,"__esModule",{value:!0});var uw=rm.default=void 0,z4=U4(Xe()),H4=t;uw=rm.default=(0,z4.default)((0,H4.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"Launch");const sm=({links:e})=>e.length?t.jsxs(ot,{variant:"outlined",sx:{p:2,bgcolor:"background.paper",borderRadius:2,width:"100%"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(dw,{sx:{mr:1,color:"primary.main"}}),t.jsx(j,{variant:"h6",component:"div",children:"Read More On"})]}),t.jsx(Lt,{sx:{mb:2}}),t.jsx(ge,{spacing:1.5,children:e.map(n=>t.jsx(dd,{href:n.url,target:"_blank",rel:"noopener noreferrer",underline:"none",sx:{color:"inherit",display:"block","&:hover":{"& .MuiPaper-root":{bgcolor:"action.hover",borderColor:"primary.main"},"& .launch-icon":{color:"primary.main"}}},children:t.jsxs(ot,{variant:"outlined",sx:{p:1.5,display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.2s ease-in-out"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(C,{sx:{color:$4(n.platform),display:"flex",mr:1.5},children:Dt.createElement(L4(n.platform))}),t.jsx(j,{variant:"body2",children:F4(n.platform)})]}),t.jsx(uw,{fontSize:"small",className:"launch-icon",sx:{color:"text.secondary",transition:"color 0.2s ease-in-out"}})]})},n.id))})]}):null;var om={},G4=Ke;Object.defineProperty(om,"__esModule",{value:!0});var ul=om.default=void 0,Y4=G4(Xe()),q4=t;ul=om.default=(0,Y4.default)((0,q4.jsx)("path",{d:"M18 11v2h4v-2zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61M20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4M4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34"}),"Campaign");var am={},K4=Ke;Object.defineProperty(am,"__esModule",{value:!0});var im=am.default=void 0,X4=K4(Xe()),J4=t;im=am.default=(0,X4.default)((0,J4.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");const Q4={header:{class:h_,config:{levels:[1,2,3,4],defaultLevel:2,placeholder:""}},list:{class:f_,inlineToolbar:!0,config:{placeholder:""}},checklist:{class:p_,inlineToolbar:!0,config:{placeholder:""}},quote:{class:m_,inlineToolbar:!0,config:{quotePlaceholder:"",captionPlaceholder:""}},code:x_,inlineCode:{class:g_},marker:{class:b_},image:{class:y_,config:{endpoints:{byFile:"/api/upload/image",byUrl:"/api/fetch/image"}}},linkTool:{class:v_,config:{endpoint:"/api/fetch/link"}},table:{class:j_,inlineToolbar:!0},warning:{class:w_,inlineToolbar:!0,config:{titlePlaceholder:"Title",messagePlaceholder:"Message"}},delimiter:S_},Ad=({data:e,onChange:n,readOnly:r=!1,placeholder:s="Start writing your content...",borderColor:o})=>{const i=ln(),l=x.useRef(null),d=x.useRef(`editor-${Math.random().toString(36).slice(2,7)}`);return x.useEffect(()=>((async()=>{if(l.current){try{await l.current.isReady,await l.current.destroy()}catch(p){console.error("Editor cleanup failed:",p)}l.current=null}const h=new u_({holder:d.current,tools:Q4,data:e,placeholder:s,readOnly:r,onChange:async p=>{const m=await p.saver.save();n==null||n(m)},autofocus:!1});l.current=h})().catch(console.error),()=>{l.current&&l.current.destroy&&l.current.isReady.then(()=>{var h;(h=l.current)!=null&&h.destroy&&l.current.destroy(),l.current=null}).catch(console.error)}),[]),t.jsx(C,{id:d.current,sx:{minHeight:300,border:"1px solid",borderColor:typeof o=="function"?o(i):o||i.palette.divider,borderRadius:1,p:2,"& .ce-toolbar__plus, & .ce-toolbar__settings-btn, & .cdx-button":{color:u=>u.palette.mode==="dark"?fe(u.palette.common.white,.7):fe(u.palette.common.black,.7),backgroundColor:"transparent"},"& .ce-toolbar__plus:hover, & .ce-toolbar__settings-btn:hover, & .cdx-button:hover":{backgroundColor:u=>u.palette.mode==="dark"?fe(u.palette.common.white,.1):fe(u.palette.common.black,.1)},"& ::selection":{backgroundColor:u=>u.palette.mode==="dark"?fe(u.palette.primary.main,.3):fe(u.palette.primary.main,.3),color:u=>u.palette.mode==="dark"?u.palette.common.white:u.palette.common.black},"& ::-moz-selection":{backgroundColor:u=>u.palette.mode==="dark"?fe(u.palette.primary.main,.3):fe(u.palette.primary.main,.3),color:u=>u.palette.mode==="dark"?u.palette.common.white:u.palette.common.black},"& .ce-block--selected":{backgroundColor:u=>u.palette.mode==="dark"?fe(u.palette.primary.main,.1):fe(u.palette.primary.main,.05),color:u=>u.palette.mode==="dark"?u.palette.common.white:u.palette.text.primary},"& .ce-block--selected .ce-block__content":{color:u=>u.palette.mode==="dark"?u.palette.common.white:u.palette.text.primary}}})},hw=e=>{if(e)try{return JSON.parse(e)}catch{return{blocks:[{type:"paragraph",data:{text:e}}]}}};var et=(e=>(e[e.DRAFT=1]="DRAFT",e[e.SUBMITTED=2]="SUBMITTED",e[e.UNDER_REVIEW=3]="UNDER_REVIEW",e[e.APPROVED=4]="APPROVED",e[e.REJECTED=5]="REJECTED",e[e.PAID=6]="PAID",e[e.CANCELLED=7]="CANCELLED",e))(et||{});const Mi={1:"Draft",2:"Submitted",3:"Under Review",4:"Approved",5:"Rejected",6:"Paid",7:"Cancelled"},Vy={1:"#9e9e9e",2:"#2196f3",3:"#ff9800",4:"#4caf50",5:"#f44336",6:"#8bc34a",7:"#607d8b"},va=(e,n="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:n,notation:"compact",maximumFractionDigits:2}).format(e),Z4=({newsId:e,channelId:n,newsFund:r})=>{const{api:s}=Qe(),{execute:o}=st(),[i,l]=x.useState(!0),[d,u]=x.useState(null),[h,p]=x.useState([]),[m,g]=x.useState(null),[y,b]=x.useState(null);x.useEffect(()=>{(async()=>{var D,A,R;l(!0),b(null);try{const k=await o(()=>s==null?void 0:s.app.funding.getFundSummary("news",e),{showErrorToast:!1}),_=await o(()=>s==null?void 0:s.app.expenseOrder.getExpenseOrdersByChannel(n),{showErrorToast:!1});u(k||null),p((_==null?void 0:_.items)||[]);const N={totalFunding:((D=k==null?void 0:k.fund)==null?void 0:D.current_amount)||(r==null?void 0:r.amount)||0,totalExpenses:((A=_==null?void 0:_.items)==null?void 0:A.reduce((W,Y)=>Y.status===et.PAID?W+Y.amount:W,0))||0,netAmount:0,fundingContributions:(k==null?void 0:k.total_contributors)||0,expenseCount:((R=_==null?void 0:_.items)==null?void 0:R.length)||0,payoutAmount:0};N.netAmount=N.totalFunding-N.totalExpenses,g(N)}catch(k){b("Failed to load transaction data"),console.error("Transaction data fetch error:",k)}finally{l(!1)}})()},[e,n,r,s,o]);const w=()=>{if(!m)return null;const T=m.totalFunding>0?Math.min(m.totalFunding/((r==null?void 0:r.goal_amount)||m.totalFunding)*100,100):0;return t.jsx(Fe,{elevation:2,children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(fs,{color:"success",sx:{mr:1}}),t.jsx(j,{variant:"h6",color:"success.main",children:"Funding Received"})]}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(j,{variant:"h3",color:"success.main",gutterBottom:!0,children:va(m.totalFunding)}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Total Raised"})]})}),t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(ge,{spacing:2,children:[t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsx(j,{variant:"body2",children:"Funding Progress"}),t.jsxs(j,{variant:"body2",children:[T.toFixed(1),"%"]})]}),t.jsx(Oa,{variant:"determinate",value:T,sx:{height:8,borderRadius:4},color:"success"})]}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Contributors: ",m.fundingContributions]}),(r==null?void 0:r.goal_amount)&&t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Goal: ",va(r.goal_amount)]})]})]})})]})]})})},v=()=>{if(!m)return null;const T=h.filter(A=>A.status===et.PAID),D=h.filter(A=>[et.SUBMITTED,et.UNDER_REVIEW,et.APPROVED].includes(A.status));return t.jsx(Fe,{elevation:2,children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(pv,{color:"error",sx:{mr:1}}),t.jsx(j,{variant:"h6",color:"error.main",children:"Expenses & Payouts"})]}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(j,{variant:"h3",color:"error.main",gutterBottom:!0,children:va(m.totalExpenses)}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Total Paid Out"})]})}),t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(ge,{spacing:2,children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsx(j,{variant:"body2",children:"Paid Expenses:"}),t.jsx(j,{variant:"body2",color:"success.main",children:T.length})]}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsx(j,{variant:"body2",children:"Pending Expenses:"}),t.jsx(j,{variant:"body2",color:"warning.main",children:D.length})]}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsx(j,{variant:"body2",children:"Total Expense Orders:"}),t.jsx(j,{variant:"body2",children:m.expenseCount})]})]})})]})]})})},I=()=>{if(!m)return null;const T=m.netAmount>=0;return t.jsxs(ot,{elevation:2,sx:{p:3,bgcolor:T?"success.light":"warning.light",color:T?"success.contrastText":"warning.contrastText",textAlign:"center"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:1},children:[t.jsx(Yh,{sx:{mr:1,fontSize:"2rem"}}),t.jsx(j,{variant:"h4",component:"div",children:va(Math.abs(m.netAmount))})]}),t.jsx(j,{variant:"subtitle1",children:T?"Net Surplus":"Net Deficit"}),t.jsx(j,{variant:"body2",sx:{mt:1,opacity:.8},children:T?"Available for future expenses or reinvestment":"Additional funding may be needed"})]})},S=()=>t.jsxs(C,{children:[t.jsxs(Sc,{children:[t.jsx(Cc,{expandIcon:t.jsx(Pc,{}),children:t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(Of,{sx:{mr:1}}),t.jsx(j,{variant:"subtitle1",children:"Funding Contributions"}),d&&t.jsx(Je,{label:`${d.contributions.length} contributions`,size:"small",sx:{ml:2}})]})}),t.jsx(Ic,{children:d!=null&&d.contributions.length?t.jsxs(fr,{dense:!0,children:[d.contributions.slice(0,10).map(T=>{var D;return t.jsxs(rr,{children:[t.jsx(en,{children:t.jsx(Ys,{color:"success"})}),t.jsx(Ht,{primary:`${va(T.amount)} ${T.currency}`,secondary:T.isAnonymous?"Anonymous contributor":((D=T.user)==null?void 0:D.name)||"Unknown contributor"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:new Date(T.createdAt).toLocaleDateString()})]},T.id)}),d.contributions.length>10&&t.jsx(rr,{children:t.jsx(Ht,{primary:t.jsxs(j,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:["+",d.contributions.length-10," more contributions"]})})})]}):t.jsx(dt,{severity:"info",children:"No funding contributions found for this news article."})})]}),t.jsxs(Sc,{children:[t.jsx(Cc,{expandIcon:t.jsx(Pc,{}),children:t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(_a,{sx:{mr:1}}),t.jsx(j,{variant:"subtitle1",children:"Expense Orders"}),h.length>0&&t.jsx(Je,{label:`${h.length} expenses`,size:"small",sx:{ml:2}})]})}),t.jsx(Ic,{children:h.length?t.jsx(fr,{dense:!0,children:h.map(T=>t.jsxs(rr,{children:[t.jsx(en,{children:t.jsx(Gs,{sx:{color:Vy[T.status]}})}),t.jsx(Ht,{primary:T.title,secondary:t.jsxs(C,{children:[t.jsxs(j,{variant:"caption",display:"block",children:[T.journalist.displayName,"  ",T.type.name]}),t.jsx(j,{variant:"caption",color:"text.secondary",children:new Date(T.createdAt).toLocaleDateString()})]})}),t.jsxs(C,{sx:{textAlign:"right"},children:[t.jsxs(j,{variant:"body2",fontWeight:"medium",children:[va(T.amount)," ",T.currency]}),t.jsx(Je,{label:Mi[T.status],size:"small",sx:{bgcolor:Vy[T.status],color:"white",fontSize:"0.7rem"}})]}),T.receiptUrl&&t.jsx(jt,{title:"View Receipt",children:t.jsx(Le,{size:"small",onClick:()=>window.open(T.receiptUrl,"_blank"),children:t.jsx(Ts,{fontSize:"small"})})})]},T.id))}):t.jsx(dt,{severity:"info",children:"No expense orders found for this channel."})})]})]});return i?t.jsx(Fe,{elevation:2,children:t.jsxs(Be,{sx:{textAlign:"center",py:4},children:[t.jsx(bn,{}),t.jsx(j,{variant:"body2",sx:{mt:2},children:"Loading transaction data..."})]})}):y?t.jsx(dt,{severity:"error",sx:{mb:2},children:y}):!m||m.totalFunding===0&&m.totalExpenses===0?t.jsx(dt,{severity:"info",sx:{mb:2},children:t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(sR,{sx:{mr:1}}),"No transaction data available for this news article."]})}):t.jsxs(C,{sx:{mb:4},children:[t.jsxs(j,{variant:"h5",gutterBottom:!0,sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(Yh,{sx:{mr:1}}),"Transaction Transparency"]}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,md:6,children:w()}),t.jsx(F,{item:!0,xs:12,md:6,children:v()}),t.jsx(F,{item:!0,xs:12,children:I()}),t.jsxs(F,{item:!0,xs:12,children:[t.jsx(Lt,{sx:{my:2}}),S()]})]})]})};var lm={},e3=Ke;Object.defineProperty(lm,"__esModule",{value:!0});var Ui=lm.default=void 0,t3=e3(Xe()),n3=t;Ui=lm.default=(0,t3.default)((0,n3.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock");var cm={},r3=Ke;Object.defineProperty(cm,"__esModule",{value:!0});var Rd=cm.default=void 0,s3=r3(Xe()),o3=t;Rd=cm.default=(0,s3.default)((0,o3.jsx)("path",{d:"M16 18v2H8v-2zM11 7.99V16h2V7.99h3L12 4 8 7.99z"}),"Upgrade");var dm={},a3=Ke;Object.defineProperty(dm,"__esModule",{value:!0});var Fa=dm.default=void 0,i3=a3(Xe()),l3=t;Fa=dm.default=(0,i3.default)((0,l3.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle");/*!
 * react-paypal-js v8.9.2 (2025-10-02T20:17:55.069Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sr;(function(e){e.INITIAL="initial",e.PENDING="pending",e.REJECTED="rejected",e.RESOLVED="resolved"})(Sr||(Sr={}));var ho;(function(e){e.LOADING_STATUS="setLoadingStatus",e.RESET_OPTIONS="resetOptions",e.SET_BRAINTREE_INSTANCE="braintreeInstance"})(ho||(ho={}));var Uy;(function(e){e.NUMBER="number",e.CVV="cvv",e.EXPIRATION_DATE="expirationDate",e.EXPIRATION_MONTH="expirationMonth",e.EXPIRATION_YEAR="expirationYear",e.POSTAL_CODE="postalCode"})(Uy||(Uy={}));var _n=function(){return _n=Object.assign||function(n){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},_n.apply(this,arguments)};function fw(e,n){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&n.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)n.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(r[s[o]]=e[s[o]]);return r}function zy(e,n,r){if(r||arguments.length===2)for(var s=0,o=n.length,i;s<o;s++)(i||!(s in n))&&(i||(i=Array.prototype.slice.call(n,0,s)),i[s]=n[s]);return e.concat(i||Array.prototype.slice.call(n))}var zi="data-react-paypal-script-id",Uo={DATA_CLIENT_TOKEN:"dataClientToken",DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource",DATA_USER_ID_TOKEN:"dataUserIdToken"},c3="Failed to load the PayPal JS SDK script.",pw="paypal",d3="usePayPalScriptReducer must be used within a PayPalScriptProvider";function u3(e){return e===void 0&&(e=pw),window[e]}function h3(e){for(var n="",r=0;r<e.length;r++){var s=e[r].charCodeAt(0)*r;e[r+1]&&(s+=e[r+1].charCodeAt(0)*(r-1)),n+=String.fromCharCode(97+Math.abs(s)%26)}return n}function f3(e){var n=e.reactComponentName,r=e.sdkComponentKey,s=e.sdkRequestedComponents,o=s===void 0?"":s,i=e.sdkDataNamespace,l=i===void 0?pw:i,d=r.charAt(0).toUpperCase().concat(r.substring(1)),u="Unable to render <".concat(n," /> because window.").concat(l,".").concat(d," is undefined."),h=typeof o=="string"?o:o.join(",");if(!h.includes(r)){var p=[h,r].filter(Boolean).join();u+=`
To fix the issue, add '`.concat(r,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(p,"'}}>`.")}return u}function mw(e){var n=e,r=zi;n[r];var s=fw(n,[r+""]);return"react-paypal-js-".concat(h3(JSON.stringify(s)))}function p3(e){var n=self.document.querySelector("script[".concat(zi,'="').concat(e,'"]'));n!=null&&n.parentNode&&n.parentNode.removeChild(n)}function m3(e,n){var r,s;switch(n.type){case ho.LOADING_STATUS:return typeof n.value=="object"?_n(_n({},e),{loadingStatus:n.value.state,loadingStatusErrorMessage:n.value.message}):_n(_n({},e),{loadingStatus:n.value});case ho.RESET_OPTIONS:return p3(e.options[zi]),_n(_n({},e),{loadingStatus:Sr.PENDING,options:_n(_n((r={},r[Uo.DATA_SDK_INTEGRATION_SOURCE]=Uo.DATA_LIBRARY_VALUE,r),n.value),(s={},s[zi]="".concat(mw(n.value)),s))});case ho.SET_BRAINTREE_INSTANCE:return _n(_n({},e),{braintreePayPalCheckoutInstance:n.value});default:return e}}var xw=x.createContext(null);function x3(e){if(typeof(e==null?void 0:e.dispatch)=="function"&&e.dispatch.length!==0)return e;throw new Error(d3)}function g3(){var e=x3(x.useContext(xw)),n=_n(_n({},e),{isInitial:e.loadingStatus===Sr.INITIAL,isPending:e.loadingStatus===Sr.PENDING,isResolved:e.loadingStatus===Sr.RESOLVED,isRejected:e.loadingStatus===Sr.REJECTED});return[n,e.dispatch]}x.createContext({});function b3(e){var n=x.useRef(new Proxy({},{get:function(r,s,o){return typeof r[s]=="function"?function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return r[s].apply(r,i)}:Reflect.get(r,s,o)}}));return n.current=Object.assign(n.current,e),n.current}var _d=function(e){var n,r=e.className,s=r===void 0?"":r,o=e.disabled,i=o===void 0?!1:o,l=e.children,d=e.forceReRender,u=d===void 0?[]:d,h=fw(e,["className","disabled","children","forceReRender"]),p=i?{opacity:.38}:{},m="".concat(s," ").concat(i?"paypal-buttons-disabled":"").trim(),g=x.useRef(null),y=x.useRef(null),b=b3(h),w=g3()[0],v=w.isResolved,I=w.options,S=x.useState(null),T=S[0],D=S[1],A=x.useState(!0),R=A[0],k=A[1],_=x.useState(null),N=_[1];function W(){y.current!==null&&y.current.close().catch(function(){})}return!((n=y.current)===null||n===void 0)&&n.updateProps&&y.current.updateProps({message:h.message}),x.useEffect(function(){if(v===!1)return W;var Y=u3(I.dataNamespace);if(Y===void 0||Y.Buttons===void 0)return N(function(){throw new Error(f3({reactComponentName:_d.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:I.components,sdkDataNamespace:I[Uo.DATA_NAMESPACE]}))}),W;var $=function(H,J){D(J),typeof h.onInit=="function"&&h.onInit(H,J)};try{y.current=Y.Buttons(_n(_n({},b),{onInit:$}))}catch(H){return N(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(H))})}return y.current.isEligible()===!1?(k(!1),W):(g.current&&y.current.render(g.current).catch(function(H){g.current===null||g.current.children.length===0||N(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(H))})}),W)},zy(zy([v],u,!0),[h.fundingSource],!1)),x.useEffect(function(){T!==null&&(i===!0?T.disable().catch(function(){}):T.enable().catch(function(){}))},[i,T]),Dt.createElement(Dt.Fragment,null,R?Dt.createElement("div",{ref:g,style:p,className:m}):l)};_d.displayName="PayPalButtons";function y3(e,n){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&n.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)n.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(r[s[o]]=e[s[o]]);return r}function v3(e,n){var r=document.querySelector('script[src="'.concat(e,'"]'));if(r===null)return null;var s=gw(e,n),o=r.cloneNode();if(delete o.dataset.uidAuto,Object.keys(o.dataset).length!==Object.keys(s.dataset).length)return null;var i=!0;return Object.keys(o.dataset).forEach(function(l){o.dataset[l]!==s.dataset[l]&&(i=!1)}),i?r:null}function j3(e){var n=e.url,r=e.attributes,s=e.onSuccess,o=e.onError,i=gw(n,r);i.onerror=o,i.onload=s,document.head.insertBefore(i,document.head.firstElementChild)}function w3(e){var n=e.sdkBaseUrl,r=e.environment,s=y3(e,["sdkBaseUrl","environment"]),o=n||P3(r),i=s,l=Object.keys(i).filter(function(h){return typeof i[h]<"u"&&i[h]!==null&&i[h]!==""}).reduce(function(h,p){var m=i[p].toString();return p=S3(p),p.substring(0,4)==="data"||p==="crossorigin"?h.attributes[p]=m:h.queryParams[p]=m,h},{queryParams:{},attributes:{}}),d=l.queryParams,u=l.attributes;return d["merchant-id"]&&d["merchant-id"].indexOf(",")!==-1&&(u["data-merchant-id"]=d["merchant-id"],d["merchant-id"]="*"),{url:"".concat(o,"?").concat(C3(d)),attributes:u}}function S3(e){var n=function(r,s){return(s?"-":"")+r.toLowerCase()};return e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,n)}function C3(e){var n="";return Object.keys(e).forEach(function(r){n.length!==0&&(n+="&"),n+=r+"="+e[r]}),n}function P3(e){return e==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function gw(e,n){n===void 0&&(n={});var r=document.createElement("script");return r.src=e,Object.keys(n).forEach(function(s){r.setAttribute(s,n[s]),s==="data-csp-nonce"&&r.setAttribute("nonce",n["data-csp-nonce"])}),r}function I3(e,n){if(n===void 0&&(n=Promise),bw(e,n),typeof document>"u")return n.resolve(null);var r=w3(e),s=r.url,o=r.attributes,i=o["data-namespace"]||"paypal",l=Hy(i);return o["data-js-sdk-library"]||(o["data-js-sdk-library"]="paypal-js"),v3(s,o)&&l?n.resolve(l):D3({url:s,attributes:o},n).then(function(){var d=Hy(i);if(d)return d;throw new Error("The window.".concat(i," global variable is not available."))})}function D3(e,n){n===void 0&&(n=Promise),bw(e,n);var r=e.url,s=e.attributes;if(typeof r!="string"||r.length===0)throw new Error("Invalid url.");if(typeof s<"u"&&typeof s!="object")throw new Error("Expected attributes to be an object.");return new n(function(o,i){if(typeof document>"u")return o();j3({url:r,attributes:s,onSuccess:function(){return o()},onError:function(){var l=new Error('The script "'.concat(r,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return i(l)}})})}function Hy(e){return window[e]}function bw(e,n){if(typeof e!="object"||e===null)throw new Error("Expected an options object.");var r=e.environment;if(r&&r!=="production"&&r!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof n<"u"&&typeof n!="function")throw new Error("Expected PromisePonyfill to be a function.")}var yw=function(e){var n,r=e.options,s=r===void 0?{clientId:"test"}:r,o=e.children,i=e.deferLoading,l=i===void 0?!1:i,d=x.useReducer(m3,{options:_n(_n({},s),(n={},n[Uo.DATA_JS_SDK_LIBRARY]=Uo.DATA_LIBRARY_VALUE,n[Uo.DATA_SDK_INTEGRATION_SOURCE]=Uo.DATA_LIBRARY_VALUE,n[zi]="".concat(mw(s)),n)),loadingStatus:l?Sr.INITIAL:Sr.PENDING}),u=d[0],h=d[1];return x.useEffect(function(){if(l===!1&&u.loadingStatus===Sr.INITIAL)return h({type:ho.LOADING_STATUS,value:Sr.PENDING});if(u.loadingStatus===Sr.PENDING){var p=!0;return I3(u.options).then(function(){p&&h({type:ho.LOADING_STATUS,value:Sr.RESOLVED})}).catch(function(m){console.error("".concat(c3," ").concat(m)),p&&h({type:ho.LOADING_STATUS,value:{state:Sr.REJECTED,message:String(m)}})}),function(){p=!1}}},[u.options,l,u.loadingStatus]),Dt.createElement(xw.Provider,{value:_n(_n({},u),{dispatch:h})},o)};function Gy(){}x.createContext({cardFieldsForm:null,fields:{},registerField:Gy,unregisterField:Gy});const T3=({contentType:e,contentId:n,amount:r,currency:s,comment:o,onSuccess:i,onError:l,onCancel:d,disabled:u=!1})=>{const[h,p]=Dt.useState(!0),[m,g]=Dt.useState(null),{api:y}=Qe();return t.jsx(C,{sx:{minHeight:50},children:t.jsxs(yw,{options:{clientId:"AUvVGkHGJD8OKekE_4XxFzzKL8a8yLtJ3ZG1woE3OobNy57zyofuPIiUo-zZag0O_L1KPB_u4TB0tuJp",currency:s.toUpperCase(),intent:"capture"},children:[h&&t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:2},children:t.jsx(bn,{size:24})}),t.jsx(_d,{style:{layout:"vertical",color:"gold",shape:"rect",label:"pay"},disabled:u||r<=0,onInit:()=>{p(!1)},createOrder:async()=>{var w;console.log("Creating PayPal order for funding:",{contentType:e,contentId:n,amount:r,currency:s});try{const v=await((w=y==null?void 0:y.app.funding)==null?void 0:w.createPayPalOrder(e,n,{amount:r,currency:s,comment:o}));if(!(v!=null&&v.orderId))throw new Error("Failed to create PayPal order");return g({orderId:v.orderId,contributionId:v.contributionId}),v.orderId}catch(v){throw console.error("Failed to create PayPal order:",v),l(new Error("Failed to create payment order. Please try again.")),v}},onApprove:async w=>{var v;if(console.log("PayPal order approved:",{orderID:w.orderID,contributionId:m==null?void 0:m.contributionId}),!m){l(new Error("Order data not found"));return}try{const I=await((v=y==null?void 0:y.app.funding)==null?void 0:v.capturePayPalOrder(e,n,{orderId:w.orderID,contributionId:m.contributionId}));i(I)}catch(I){console.error("Failed to capture PayPal order:",I),l(new Error("Failed to complete payment. Please contact support."))}},onCancel:()=>{console.log("PayPal payment cancelled by user"),g(null),d==null||d()},onError:w=>{console.error("PayPal payment error:",w),g(null),l(new Error(typeof w=="string"?w:"PayPal payment failed"))}})]})})},E3=({currentAmount:e,goalAmount:n,contributorCount:r,currency:s,showDetailed:o=!0})=>{const i=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:s,minimumFractionDigits:0,maximumFractionDigits:2}).format(u),l=n?Math.min(e/n*100,100):0,d=n?Math.max(n-e,0):0;return o?t.jsx(Fe,{variant:"outlined",sx:{backgroundColor:"background.paper"},children:t.jsxs(Be,{children:[t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,sm:n?4:6,children:t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(C,{sx:{display:"flex",justifyContent:"center",mb:1},children:t.jsx(Ys,{color:"primary",fontSize:"large"})}),t.jsx(j,{variant:"h4",fontWeight:"bold",color:"primary",children:i(e)}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Raised so far"})]})}),n&&t.jsx(F,{item:!0,xs:12,sm:4,children:t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(C,{sx:{display:"flex",justifyContent:"center",mb:1},children:t.jsx(oR,{color:"action",fontSize:"large"})}),t.jsx(j,{variant:"h4",fontWeight:"bold",children:i(n)}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Funding goal"})]})}),t.jsx(F,{item:!0,xs:12,sm:n?4:6,children:t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(C,{sx:{display:"flex",justifyContent:"center",mb:1},children:t.jsx(mo,{color:"action",fontSize:"large"})}),t.jsx(j,{variant:"h4",fontWeight:"bold",children:r}),t.jsx(j,{variant:"body2",color:"text.secondary",children:r===1?"Supporter":"Supporters"})]})})]}),n&&t.jsxs(C,{sx:{mt:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsxs(j,{variant:"body2",fontWeight:"medium",children:["Progress: ",l.toFixed(1),"%"]}),d>0&&t.jsxs(j,{variant:"body2",color:"text.secondary",children:[i(d)," to go"]})]}),t.jsx(Oa,{variant:"determinate",value:l,sx:{height:12,borderRadius:6,backgroundColor:"grey.200","& .MuiLinearProgress-bar":{borderRadius:6,background:l>=100?"linear-gradient(45deg, #4caf50 30%, #8bc34a 90%)":"linear-gradient(45deg, #2196f3 30%, #21cbf3 90%)"}}}),l>=100&&t.jsx(C,{sx:{mt:2,p:2,bgcolor:"success.light",borderRadius:1,textAlign:"center"},children:t.jsx(j,{variant:"body2",fontWeight:"medium",color:"success.dark",children:" Funding goal reached! Thank you to all supporters!"})})]})]})}):t.jsxs(C,{children:[n&&t.jsxs(t.Fragment,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Funded: ",i(e)]}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Goal: ",i(n)]})]}),t.jsx(Oa,{variant:"determinate",value:l,sx:{height:8,borderRadius:4,backgroundColor:"grey.200","& .MuiLinearProgress-bar":{borderRadius:4}}})]}),!n&&t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Ys,{fontSize:"small",color:"primary"}),t.jsxs(j,{variant:"body2",fontWeight:"medium",children:[i(e)," raised"]}),t.jsx(mo,{fontSize:"small",color:"action"}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:[r," supporters"]})]})]})},A3=[5,10,25,50,100],vw=({open:e,onClose:n,onSuccess:r,contentType:s,contentId:o,fundingData:i})=>{const[l,d]=x.useState("amount"),[u,h]=x.useState({amount:0,currency:i.currency,comment:""}),[p,m]=x.useState(!1),[g,y]=x.useState(null),b=()=>{d("amount"),h({amount:0,currency:i.currency,comment:""}),y(null),n()},w=N=>{h(W=>({...W,amount:N}))},v=()=>{if(l==="amount"){if(u.amount<=0){y("Please enter a valid contribution amount");return}y(null),d("payment")}},I=()=>{l==="payment"&&(d("amount"),y(null))},S=N=>{r(N),b()},T=N=>{y(N.message||"Payment failed. Please try again."),m(!1)},D=()=>{y("Payment cancelled. You can try again when ready."),m(!1)},A=()=>t.jsxs(ge,{spacing:3,children:[t.jsxs(C,{children:[t.jsxs(j,{variant:"h6",gutterBottom:!0,children:["Fund this ",s]}),t.jsx(j,{variant:"body2",color:"text.secondary",children:i.description||`Support this ${s} with your contribution`})]}),t.jsx(E3,{currentAmount:i.currentAmount,goalAmount:i.goalAmount,contributorCount:i.contributorCount,currency:i.currency}),t.jsx(Lt,{}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",gutterBottom:!0,children:"Choose contribution amount"}),t.jsx(ge,{direction:"row",spacing:1,flexWrap:"wrap",sx:{mb:2},children:A3.map(N=>t.jsx(Je,{label:`${i.currency} ${N}`,onClick:()=>w(N),color:u.amount===N?"primary":"default",variant:u.amount===N?"filled":"outlined",sx:{mb:1}},N))}),t.jsx(tt,{label:"Custom Amount",type:"number",value:u.amount||"",onChange:N=>h(W=>({...W,amount:Number(N.target.value)})),fullWidth:!0,InputProps:{startAdornment:t.jsx(es,{position:"start",children:i.currency})},inputProps:{min:1,step:.01}})]}),t.jsx(tt,{label:"Comment (Optional)",multiline:!0,rows:3,value:u.comment,onChange:N=>h(W=>({...W,comment:N.target.value})),fullWidth:!0,placeholder:"Leave a message of support..."})]}),R=()=>t.jsxs(ge,{spacing:3,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Payment Details"}),t.jsxs(C,{sx:{p:2,bgcolor:"background.paper",borderRadius:1,border:"1px solid",borderColor:"divider"},children:[t.jsxs(j,{variant:"body1",fontWeight:"medium",children:["Contribution: ",i.currency," ",u.amount]}),u.comment&&t.jsxs(j,{variant:"body2",color:"text.secondary",sx:{mt:1},children:['"',u.comment,'"']})]})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",gutterBottom:!0,children:"Complete payment with PayPal"}),t.jsx(T3,{contentType:s,contentId:o,amount:u.amount,currency:u.currency,comment:u.comment,onSuccess:S,onError:T,onCancel:D,disabled:p})]})]}),k=()=>t.jsxs(C,{sx:{textAlign:"center",py:4},children:[t.jsx(Oa,{sx:{mb:3}}),t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Processing your contribution..."}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Please wait while we process your payment"})]}),_=()=>{switch(l){case"amount":return t.jsxs(t.Fragment,{children:[t.jsx(he,{onClick:b,disabled:p,children:"Cancel"}),t.jsx(he,{onClick:v,variant:"contained",disabled:p||u.amount<=0,children:"Continue"})]});case"payment":return t.jsx(t.Fragment,{children:t.jsx(he,{onClick:I,disabled:p,children:"Back"})});case"processing":return null;default:return null}};return t.jsxs(qt,{open:e,onClose:p?void 0:b,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[t.jsxs(tn,{sx:{fontWeight:600},children:["Fund ",i.title]}),t.jsxs(Kt,{children:[g&&t.jsx(dt,{severity:"error",sx:{mb:2},children:g}),l==="amount"&&A(),l==="payment"&&R(),l==="processing"&&k()]}),_()&&t.jsx(Xt,{sx:{px:3,pb:2},children:_()})]})};var um={},R3=Ke;Object.defineProperty(um,"__esModule",{value:!0});var Wa=um.default=void 0,_3=R3(Xe()),k3=t;Wa=um.default=(0,_3.default)((0,k3.jsx)("path",{d:"M1 11h4v11H1zm15-7.75C16.65 2.49 17.66 2 18.7 2 20.55 2 22 3.45 22 5.3c0 2.27-2.91 4.9-6 7.7-3.09-2.81-6-5.44-6-7.7C10 3.45 11.45 2 13.3 2c1.04 0 2.05.49 2.7 1.25M20 17h-7l-2.09-.73.33-.94L13 16h2.82c.65 0 1.18-.53 1.18-1.18 0-.49-.31-.93-.77-1.11L8.97 11H7v9.02L14 22l8.01-3c-.01-1.1-.9-2-2.01-2"}),"VolunteerActivism");const O3=()=>t.jsx(Tt,{maxWidth:"lg",sx:{mt:4},children:t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsx(ce,{variant:"rectangular",width:"100%",height:300,sx:{borderRadius:2,mb:3}})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx(Fe,{children:t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[t.jsx(ce,{variant:"text",width:"60%",height:40}),t.jsx(ge,{direction:"row",spacing:1,children:[1,2,3].map(e=>t.jsx(ce,{variant:"circular",width:40,height:40},e))})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:300,sx:{mb:3,borderRadius:1}}),t.jsxs(ge,{spacing:2,sx:{mb:3},children:[t.jsx(ce,{variant:"text",width:"100%"}),t.jsx(ce,{variant:"text",width:"95%"}),t.jsx(ce,{variant:"text",width:"90%"}),t.jsx(ce,{variant:"text",width:"85%"}),t.jsx(ce,{variant:"text",width:"95%"})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:80,sx:{mb:3,borderRadius:1}}),t.jsx(ge,{direction:"row",spacing:1,children:[1,2,3,4].map(e=>t.jsx(ce,{variant:"rounded",width:80,height:32},e))})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsx(ce,{variant:"text",width:"50%",height:32,sx:{mb:2}}),t.jsx(ge,{spacing:2,children:[1,2,3,4,5].map(e=>t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[t.jsx(ce,{variant:"text",width:"40%"}),t.jsx(ce,{variant:"text",width:"20%"})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:8,sx:{borderRadius:1}})]},e))})]})})})]})}),M3=()=>{var A,R;const{id:e}=ns(),{api:n}=Qe(),{execute:r}=st(),[s,o]=x.useState(null),[i,l]=x.useState(!0),[d,u]=x.useState(!1),[h,p]=x.useState(!1),[m,g]=x.useState(null),[y,b]=x.useState(!1);x.useEffect(()=>{(async()=>{if(e){l(!0);const _=await r(()=>n==null?void 0:n.app.news.get(e),{showErrorToast:!0});_&&(o(_),_.accessInfo&&!_.accessInfo.canAccess&&u(!0),w(e)),l(!1)}})()},[e,r]);const w=async k=>{try{b(!0);const _=await(n==null?void 0:n.app.funding.getFund("news",k));g(_)}catch(_){console.error("Failed to load fund data:",_)}finally{b(!1)}},v=async()=>{p(!0)},I=async k=>{e&&await w(e),console.log("Contribution successful:",k)},S=()=>!s||!m?null:{id:m.id,title:s.title,currentAmount:m.currentAmount/100,goalAmount:m.goalAmount?m.goalAmount/100:void 0,currency:m.currency,contributorCount:0,description:"Support quality journalism by funding this article"};if(i)return t.jsx(O3,{});if(!s)return t.jsx(Tt,{maxWidth:"lg",sx:{mt:4},children:t.jsx(j,{variant:"h4",children:"Entry not found"})});const T=s.media.find(k=>k.type===dl.COVER),D=k=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(k);return t.jsxs(Tt,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsxs(C,{sx:{height:300,width:"100%",position:"relative",mb:3,borderRadius:2,overflow:"hidden"},children:[(T==null?void 0:T.format)===Gc.VIDEO?t.jsx(C,{component:"video",src:T.url,controls:!0,preload:"metadata",sx:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center",bgcolor:"black"}}):t.jsx(C,{component:"img",src:(T==null?void 0:T.url)||Td,alt:s.title,sx:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"}}),t.jsxs(C,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(transparent, rgba(0,0,0,0.7))",p:3,color:"white"},children:[t.jsx(j,{variant:"h4",component:"h1",gutterBottom:!0,children:s.title}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsxs(C,{component:Kn,to:ye.APP_CHANNEL_VIEW.replace(":channelId",s.channelId),sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(255, 255, 255, 0.1)",color:"white",px:2,py:1,borderRadius:2,textDecoration:"none",transition:"all 0.2s ease-in-out",border:"1px solid rgba(255, 255, 255, 0.2)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.2)",transform:"translateY(-2px)"}},children:[t.jsx(ul,{sx:{mr:1}}),t.jsx(j,{variant:"subtitle2",children:s.channel.name})]}),t.jsxs(C,{sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(0, 0, 0, 0.3)",px:2,py:1,borderRadius:2,border:"1px solid rgba(255, 255, 255, 0.1)"},children:[t.jsx(ll,{sx:{mr:1,fontSize:"0.9rem"}}),t.jsx(j,{variant:"caption",children:s.creator.displayName})]})]}),t.jsx(j,{variant:"subtitle1",children:new Date(s.publishedAt).toLocaleDateString()})]})]})]})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx(Fe,{children:t.jsx(C,{sx:{p:3},children:d?t.jsxs(ot,{elevation:3,sx:{p:4,textAlign:"center",bgcolor:k=>fe(k.palette.warning.main,.05),border:k=>`2px solid ${fe(k.palette.warning.main,.3)}`,borderRadius:3},children:[t.jsx(C,{sx:{width:80,height:80,borderRadius:"50%",bgcolor:k=>fe(k.palette.warning.main,.1),display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",mb:2},children:t.jsx(Ui,{sx:{fontSize:40,color:"warning.main"}})}),t.jsx(j,{variant:"h5",gutterBottom:!0,fontWeight:"bold",color:"warning.dark",children:"Premium Content"}),t.jsx(j,{variant:"body1",color:"text.secondary",sx:{mb:3,maxWidth:500,mx:"auto"},children:((A=s.accessInfo)==null?void 0:A.reason)||"Subscribe to unlock the full article and support quality journalism."}),((R=s.accessInfo)==null?void 0:R.requiredTierName)&&t.jsxs(dt,{severity:"info",sx:{mb:3,maxWidth:500,mx:"auto","& .MuiAlert-message":{width:"100%",textAlign:"center"}},children:["Required tier: ",t.jsx("strong",{children:s.accessInfo.requiredTierName})]}),t.jsxs(C,{sx:{mb:3,maxWidth:400,mx:"auto"},children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",sx:{mb:2},children:"Subscribe to unlock:"}),t.jsx(fr,{dense:!0,children:["Full article content","Quality metrics","Fund information","Social links","Transaction transparency"].map((k,_)=>t.jsxs(rr,{sx:{py:.5},children:[t.jsx(en,{sx:{minWidth:32},children:t.jsx(Fa,{color:"success",fontSize:"small"})}),t.jsx(Ht,{primary:k,primaryTypographyProps:{variant:"body2"}})]},_))})]}),t.jsx(he,{component:Kn,to:ye.APP_CHANNEL_VIEW.replace(":channelId",s.channelId),variant:"contained",color:"warning",size:"large",startIcon:t.jsx(Rd,{}),sx:{px:4,py:1.5,borderRadius:2,fontWeight:"bold",textTransform:"none",fontSize:"1rem"},children:"View Subscription Options"})]}):t.jsxs(t.Fragment,{children:[t.jsx(Ad,{data:hw(s.content),readOnly:!0,borderColor:k=>k.palette.mode==="dark"?fe(k.palette.common.white,.1):fe(k.palette.common.black,.1)}),t.jsx(C,{sx:{mt:2},children:s.tags.map(k=>t.jsx(Je,{label:k.title,variant:"outlined",sx:{mr:1,mb:1}},k.id))})]})})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(ge,{spacing:3,children:[!d&&s.socialLinks&&s.socialLinks.length>0&&t.jsx(sm,{links:s.socialLinks}),!d&&s.qualityMetrics&&t.jsxs(ot,{elevation:0,sx:{p:2,bgcolor:"success.light",color:"success.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[t.jsx(im,{fontSize:"large"}),t.jsxs(C,{children:[t.jsx(j,{variant:"overline",children:"Quality Score"}),t.jsxs(j,{variant:"h4",component:"div",children:[s.qualityMetrics.overallQualityScore.toFixed(1),"/10"]})]})]}),!d&&s.newsFund&&t.jsxs(ot,{elevation:0,sx:{p:2,bgcolor:"primary.light",color:"primary.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[t.jsx(Dd,{fontSize:"large"}),t.jsxs(C,{children:[t.jsx(j,{variant:"overline",children:"News Fund"}),t.jsx(j,{variant:"h4",component:"div",children:D(s.newsFund.amount)})]})]}),t.jsx(ot,{elevation:2,sx:{p:3,borderRadius:2,border:"2px solid",borderColor:"primary.main",bgcolor:k=>fe(k.palette.primary.main,.05)},children:t.jsxs(ge,{spacing:2,children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Wa,{color:"primary",fontSize:"large"}),t.jsx(j,{variant:"h6",fontWeight:"bold",color:"primary",children:"Fund this Article"})]}),m&&!y?t.jsxs(C,{children:[t.jsx(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Current Funding"}),t.jsxs(j,{variant:"h5",fontWeight:"bold",color:"primary.main",children:[m.currency," ",(m.currentAmount/100).toFixed(2)]}),m.goalAmount&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Goal: ",m.currency," ",(m.goalAmount/100).toFixed(2)]})]}):y?t.jsx(ce,{variant:"rectangular",height:60}):t.jsx(j,{variant:"body2",color:"text.secondary",children:"Be the first to fund this article"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Support quality journalism by contributing to this article"}),t.jsx(he,{variant:"contained",color:"primary",fullWidth:!0,size:"large",startIcon:t.jsx(Wa,{}),onClick:v,disabled:!s,sx:{py:1.5,fontWeight:"bold",textTransform:"none",fontSize:"1rem"},children:"Fund Now"})]})})]})})]}),!d&&t.jsx(Tt,{maxWidth:"lg",sx:{mt:4},children:t.jsx(Z4,{newsId:s.id,channelId:s.channelId,newsFund:s.newsFund})}),s&&m&&t.jsx(vw,{open:h,onClose:()=>p(!1),onSuccess:I,contentType:"news",contentId:s.id,fundingData:S()})]})};var hm={},N3=Ke;Object.defineProperty(hm,"__esModule",{value:!0});var jw=hm.default=void 0,L3=N3(Xe()),$3=t;jw=hm.default=(0,L3.default)((0,$3.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");const dc=Me(Je)(({theme:e})=>({borderRadius:e.spacing(.75),height:28,fontWeight:500,fontSize:"0.75rem",padding:"0 8px",transition:"all 0.2s ease",border:"1px solid transparent","&.selected":{backgroundColor:e.palette.mode==="dark"?e.palette.common.white:e.palette.grey[900],color:e.palette.mode==="dark"?e.palette.grey[900]:e.palette.common.white,fontWeight:600,borderColor:e.palette.mode==="dark"?e.palette.common.white:e.palette.grey[900],"&:hover":{backgroundColor:e.palette.mode==="dark"?e.palette.grey[100]:e.palette.grey[800],borderColor:e.palette.mode==="dark"?e.palette.grey[100]:e.palette.grey[800]}},"&:not(.selected)":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.06)",color:e.palette.text.primary,"&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.1)",borderColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)"}}})),Ah=Me(C)(({theme:e,horizontal:n})=>({display:"flex",flexDirection:n?"row":"column",gap:e.spacing(1),scrollBehavior:"smooth",...n&&{overflowX:"auto",overflowY:"hidden",paddingBottom:e.spacing(.5),scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},msOverflowStyle:"none"}})),Yy=Me(Le)(({theme:e})=>({backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.06)",width:32,height:32,flexShrink:0,"&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.1)"}})),Yc=({selectedTags:e=[],onTagsChange:n,contentType:r,maxTags:s=10,className:o,horizontal:i=!1})=>{const[l,d]=x.useState([]),[u,h]=x.useState(!0),[p,m]=x.useState(!1),[g,y]=x.useState(!1),b=Dt.useRef(null),{api:w}=Qe(),{execute:v}=st();x.useEffect(()=>{(async()=>{if(w!=null&&w.app.tag){h(!0);try{const[R,k,_]=await Promise.all([v(()=>w.app.tag.getTags({category:r==="channels"?void 0:r}),{showErrorToast:!1}),v(()=>w.app.tag.getTags({trending:!0,category:r==="channels"?void 0:r}),{showErrorToast:!1}),v(()=>w.app.tag.getTags({popular:!0,category:r==="channels"?void 0:r}),{showErrorToast:!1})]),N=new Map;R!=null&&R.items&&R.items.forEach(Y=>{var $;N.set(Y.id,{...Y,count:(($=Y.analytics)==null?void 0:$.usageCount)||0})}),k!=null&&k.items&&k.items.forEach(Y=>{var H;const $=N.get(Y.id);$?N.set(Y.id,{...$,trending:!0}):N.set(Y.id,{...Y,count:((H=Y.analytics)==null?void 0:H.usageCount)||0,trending:!0})}),_!=null&&_.items&&_.items.forEach(Y=>{var H;const $=N.get(Y.id);$&&!$.trending?N.set(Y.id,{...$,popular:!0}):$||N.set(Y.id,{...Y,count:((H=Y.analytics)==null?void 0:H.usageCount)||0,popular:!0})});const W=Array.from(N.values()).sort((Y,$)=>($.count||0)-(Y.count||0)).slice(0,20);d(W)}catch(R){console.error("Failed to fetch tags:",R),d([])}finally{h(!1)}}})()},[r,w,v]);const I=A=>{const R=e.includes(A);n(R?e.filter(k=>k!==A):[A])},S=()=>{if(i&&b.current){const{scrollLeft:A,scrollWidth:R,clientWidth:k}=b.current;m(A>0),y(A+k<R-1)}};x.useEffect(()=>{if(i){S();const A=b.current;if(A)return A.addEventListener("scroll",S),window.addEventListener("resize",S),()=>{A.removeEventListener("scroll",S),window.removeEventListener("resize",S)}}},[l,u,i]);const T=()=>{b.current&&b.current.scrollBy({left:-200,behavior:"smooth"})},D=()=>{b.current&&b.current.scrollBy({left:200,behavior:"smooth"})};return u?t.jsx(C,{className:o,children:t.jsx(Ah,{horizontal:i,children:[...Array(10)].map((A,R)=>t.jsx(ce,{variant:"rounded",width:i?100:"100%",height:28,sx:{borderRadius:.75,flexShrink:i?0:void 0}},R))})}):i?t.jsxs(C,{className:o,sx:{display:"flex",alignItems:"center",gap:1},children:[p&&t.jsx(Yy,{onClick:T,size:"small",children:t.jsx(sp,{fontSize:"small"})}),t.jsxs(Ah,{ref:b,horizontal:i,sx:{flex:1},children:[t.jsx(dc,{label:"All",className:e.length===0?"selected":"",onClick:()=>n([]),clickable:!0,sx:{flexShrink:0}}),l.map(A=>{const R=e.includes(A.name);return t.jsx(dc,{label:A.name,className:R?"selected":"",onClick:()=>I(A.name),clickable:!0,sx:{flexShrink:0}},A.id)})]}),g&&t.jsx(Yy,{onClick:D,size:"small",children:t.jsx(jw,{fontSize:"small"})})]}):t.jsx(C,{className:o,children:t.jsxs(Ah,{ref:b,horizontal:i,children:[t.jsx(dc,{label:"All",className:e.length===0?"selected":"",onClick:()=>n([]),clickable:!0,sx:{width:"100%",justifyContent:"flex-start"}}),l.map(A=>{const R=e.includes(A.name);return t.jsx(dc,{label:A.name,className:R?"selected":"",onClick:()=>I(A.name),clickable:!0,sx:{width:"100%",justifyContent:"flex-start"}},A.id)})]})})},F3=()=>{const e=Qo(),n=Ct(),[r,s]=x.useState([]);x.useEffect(()=>{const l=new URLSearchParams(e.search).get("tags");if(l){const d=l.split(",").map(u=>decodeURIComponent(u.trim()));s(d)}},[e.search]);const o=i=>{s(i);const l=new URLSearchParams(e.search);i.length>0?l.set("tags",i.map(u=>encodeURIComponent(u)).join(",")):l.delete("tags");const d=`${e.pathname}?${l.toString()}`;n(d,{replace:!0})};return t.jsxs(C,{sx:{width:"100%",overflow:"hidden",pb:4},children:[t.jsx(C,{sx:{mb:3},children:t.jsx(Yc,{selectedTags:r,onTagsChange:o,contentType:"news",maxTags:5,showCounts:!1,horizontal:!0})}),t.jsx(C,{children:t.jsx(cw,{filters:r.length>0?{tags:r}:{},emptyTitle:"No news found",emptyDescription:"No news articles available at the moment",mode:"grid"})})]})};var fm={},W3=Ke;Object.defineProperty(fm,"__esModule",{value:!0});var pm=fm.default=void 0,B3=W3(Xe()),V3=t;pm=fm.default=(0,B3.default)((0,V3.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People");var mm={},U3=Ke;Object.defineProperty(mm,"__esModule",{value:!0});var qc=mm.default=void 0,z3=U3(Xe()),H3=t;qc=mm.default=(0,z3.default)((0,H3.jsx)("path",{d:"M9.68 13.69 12 11.93l2.31 1.76-.88-2.85L15.75 9h-2.84L12 6.19 11.09 9H8.25l2.31 1.84zM20 10c0-4.42-3.58-8-8-8s-8 3.58-8 8c0 2.03.76 3.87 2 5.28V23l6-2 6 2v-7.72c1.24-1.41 2-3.25 2-5.28m-8-6c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6 2.69-6 6-6"}),"WorkspacePremium");const G3=({channel:e,hasSubscription:n,subscriptionTier:r,onJoin:s,onCancel:o})=>{var m,g,y,b;const i=Ct(),l=n,d=r,u=(m=e.tiers)==null?void 0:m.find(w=>w.isDefault),h=()=>{i(ye.APP_CHANNEL_VIEW.replace(":channelId",e.id))},p=w=>{w.stopPropagation(),l?o(e.id):s(e.id,u==null?void 0:u.id)};return t.jsxs(C,{onClick:h,sx:{display:"flex",alignItems:"flex-start",gap:1.5,p:1.5,borderRadius:1.5,cursor:"pointer",transition:"all 0.2s ease-in-out",height:"100%",border:"1px solid",borderColor:"transparent","&:hover":{bgcolor:w=>w.palette.mode==="dark"?fe(w.palette.common.white,.05):fe(w.palette.common.black,.03),borderColor:"divider",transform:"translateX(4px)"}},children:[t.jsx(wn,{src:e.logoUrl,sx:{width:48,height:48,borderRadius:1.5,bgcolor:"primary.main"}}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:.5},children:[t.jsx(j,{variant:"body1",sx:{fontWeight:600,color:"text.primary",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"0.9rem"},children:e.name}),l?t.jsx(Je,{label:d==null?void 0:d.name,color:"primary",onDelete:p,size:"small",sx:{height:24}}):t.jsx(Le,{size:"small",onClick:p,sx:{bgcolor:"primary.main",color:"white",width:32,height:32,"&:hover":{bgcolor:"primary.dark"}},children:t.jsx(qc,{sx:{fontSize:18}})})]}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:.5,display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",fontSize:"0.8rem"},children:e.description}),t.jsxs(ge,{direction:"row",spacing:2,sx:{color:"text.secondary",fontSize:"0.75rem"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(pm,{sx:{fontSize:14}}),(y=(g=e.stats)==null?void 0:g.activeSubscriptionCount)==null?void 0:y.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1})]}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(qc,{sx:{fontSize:14}}),((b=e.stats)==null?void 0:b.tierCount)||0," Tiers"]})]})]})]})},Y3=({count:e=2})=>t.jsx(ge,{spacing:2,sx:{mt:2},children:[...Array(e)].map((n,r)=>t.jsxs(C,{sx:{display:"flex",gap:2,p:2,borderRadius:2,bgcolor:s=>s.palette.mode==="dark"?fe(s.palette.common.white,.05):fe(s.palette.common.black,.03)},children:[t.jsx(C,{sx:{width:56,height:56,borderRadius:2,bgcolor:s=>s.palette.mode==="dark"?fe(s.palette.common.white,.1):fe(s.palette.common.black,.1)}}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsx(C,{sx:{height:24,width:"40%",mb:1,borderRadius:.5,bgcolor:"grey.300"}}),t.jsx(C,{sx:{height:16,width:"80%",mb:1,borderRadius:.5,bgcolor:"grey.200"}}),t.jsx(C,{sx:{height:16,width:"30%",borderRadius:.5,bgcolor:"grey.200"}})]})]},r))}),q3=({filters:e={},emptyTitle:n="No channels found",emptyDescription:r="No channels available at the moment",itemsPerPage:s=10,hasSubscription:o,getSubscriptionTier:i,onJoin:l,onCancel:d})=>{const[u,h]=x.useState([]),[p,m]=x.useState(!0),[g,y]=x.useState(1),[b,w]=x.useState(!0),{api:v}=Qe(),{execute:I}=st(),S=async(D=g)=>{try{m(!0);const A=await I(()=>v==null?void 0:v.app.channel.getChannels(e,{page:D,limit:s}),{showErrorToast:!0});A&&(h(D===1?A.items??[]:R=>[...R,...A.items??[]]),y(A.metadata.currentPage??1),w(A.metadata.hasNext===!0))}finally{m(!1)}};x.useEffect(()=>{h([]),y(1),S(1)},[JSON.stringify(e)]);const T=()=>{!p&&b&&S(g+1)};return u.length===0&&!p?t.jsx(Xs,{title:n,description:r}):t.jsx(C,{sx:{width:"100%"},children:p&&u.length===0?t.jsx(Y3,{}):t.jsx(Ds,{dataLength:u.length,next:T,hasMore:b,loader:t.jsx(C,{}),endMessage:t.jsx(C,{sx:{textAlign:"center",mt:4,color:"text.secondary",fontSize:"0.875rem"},children:"No more channels to display"}),children:t.jsx(F,{container:!0,spacing:3,children:u.map(D=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(G3,{channel:D,hasSubscription:(o==null?void 0:o(D.id))??!1,subscriptionTier:i==null?void 0:i(D.id),onJoin:l,onCancel:d})},D.id))})})})},K3=()=>{const e=Qo(),n=Ct(),[r,s]=x.useState([]),{actions:o,channelRelations:i}=xs(),{api:l}=Qe();x.useEffect(()=>{const m=new URLSearchParams(e.search).get("tags");if(m){const g=m.split(",").map(y=>decodeURIComponent(y.trim()));s(g)}},[e.search]);const d=async(p,m)=>{var g,y,b;if(m)try{const w=await((g=l==null?void 0:l.app.subscription)==null?void 0:g.createDirectSubscription(p,{tierId:m,paymentMethodId:"paypal_default"}));w!=null&&w.approvalUrl?window.open(w.approvalUrl,"paypal_payment","width=600,height=700,scrollbars=yes,resizable=yes")||alert("Popup blocked! Please allow popups and try again."):await o.refreshProfile()}catch(w){console.error("Subscription failed:",w);const v=((b=(y=w==null?void 0:w.response)==null?void 0:y.data)==null?void 0:b.message)||(w==null?void 0:w.message)||"";(v.includes("PAYMENT_METHOD_REQUIRED")||v.includes("PayPal payment method")||v.includes("No PayPal payment method found"))&&window.confirm("You need to add a PayPal payment method to subscribe to paid tiers. Would you like to add one now?")&&n("/app/account/payment-methods")}},u=async p=>{try{await(l==null?void 0:l.app.channel.unsubscribeFromChannel(p)),await o.refreshProfile()}catch(m){console.error("Error cancelling subscription:",m)}},h=p=>{s(p);const m=new URLSearchParams(e.search);p.length>0?m.set("tags",p.map(y=>encodeURIComponent(y)).join(",")):m.delete("tags");const g=`${e.pathname}?${m.toString()}`;n(g,{replace:!0})};return t.jsxs(C,{sx:{width:"100%",overflow:"hidden"},children:[t.jsxs(C,{sx:{mb:3},children:[t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600},children:"Discover Channels"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Find and subscribe to channels from your favorite journalists"})]}),t.jsx(C,{sx:{mb:3},children:t.jsx(Yc,{selectedTags:r,onTagsChange:h,contentType:"channels",maxTags:3,showCounts:!1,horizontal:!0})}),t.jsx(C,{children:t.jsx(q3,{filters:r.length>0?{tags:r}:{},emptyTitle:"No channels found",emptyDescription:"No channels available at the moment",hasSubscription:i.hasSubscription,getSubscriptionTier:i.getSubscriptionTier,onJoin:d,onCancel:u})})]})};var xm={},X3=Ke;Object.defineProperty(xm,"__esModule",{value:!0});var ww=xm.default=void 0,J3=X3(Xe()),Q3=t;ww=xm.default=(0,J3.default)((0,Q3.jsx)("path",{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27z"}),"Layers");var gm={},Z3=Ke;Object.defineProperty(gm,"__esModule",{value:!0});var Sw=gm.default=void 0,eW=Z3(Xe()),tW=t;Sw=gm.default=(0,eW.default)((0,tW.jsx)("path",{d:"M11 14H9c0-4.97 4.03-9 9-9v2c-3.87 0-7 3.13-7 7m7-3V9c-2.76 0-5 2.24-5 5h2c0-1.66 1.34-3 3-3M7 4c0-1.11-.89-2-2-2s-2 .89-2 2 .89 2 2 2 2-.89 2-2m4.45.5h-2C9.21 5.92 7.99 7 6.5 7h-3C2.67 7 2 7.67 2 8.5V11h6V8.74c1.86-.59 3.25-2.23 3.45-4.24M19 17c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2m1.5 1h-3c-1.49 0-2.71-1.08-2.95-2.5h-2c.2 2.01 1.59 3.65 3.45 4.24V22h6v-2.5c0-.83-.67-1.5-1.5-1.5"}),"ConnectWithoutContact");var bm={},nW=Ke;Object.defineProperty(bm,"__esModule",{value:!0});var Cw=bm.default=void 0,rW=nW(Xe()),sW=t;Cw=bm.default=(0,rW.default)((0,sW.jsx)("path",{d:"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2zm-9-2h10V8H12zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"AccountBalanceWallet");var ym={},oW=Ke;Object.defineProperty(ym,"__esModule",{value:!0});var Hi=ym.default=void 0,aW=oW(Xe()),iW=t;Hi=ym.default=(0,aW.default)((0,iW.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Article");var vm={},lW=Ke;Object.defineProperty(vm,"__esModule",{value:!0});var Pw=vm.default=void 0,cW=lW(Xe()),dW=t;Pw=vm.default=(0,cW.default)((0,dW.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email");const uW={ACTIVE:1,TRENDING:2,CLAIMED:3,CONVERTED:4,CLOSED:5,EXPIRED:6,FUNDED:7,CANCELLED:8,ARCHIVED:9},qy={COVER:1,SUMMARY:2,AVATAR:3,TEASER:4,INTRO:5,OUTRO:6,OTHER:7},uf={IMAGE:1,VIDEO:2,AUDIO:3,DOCUMENT:4,URL:5,ARTICLE:6,OTHER:7},Ky=({poll:e,onVote:n,userVote:r,showResults:s=!1,disabled:o=!1,showAsPreview:i=!1,mode:l="scroll"})=>{var v,I,S,T,D,A,R;const d=ln(),u=Ct(),[h,p]=x.useState(null),m=((v=e.stats)==null?void 0:v.totalVotes)||0,g=e.accessInfo&&!e.accessInfo.canAccess,y=e.media&&e.media.length>0?e.media[0]:null,b=k=>{o||p(k)},w=k=>{i&&!k.target.closest(".poll-option, .action-button")&&u(ye.APP_POLL_VIEW.replace(":id",String(e.id)))};return t.jsxs(C,{onClick:w,sx:{position:"relative",width:"100%",height:l==="grid"?"auto":"90vh",maxWidth:l==="scroll"?"480px":"100%",margin:l==="scroll"?"0 auto":0,aspectRatio:l==="grid"?"4/5":void 0,borderRadius:l==="grid"?3:4,overflow:"hidden",bgcolor:d.palette.mode==="dark"?"#000":"#111",boxShadow:"none",transition:"opacity 0.2s ease",cursor:i?"pointer":"default","&:hover":{opacity:i?.95:1}},children:[y&&t.jsxs(C,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:0},children:[y.format===uf.VIDEO?t.jsx(C,{component:"video",src:y.url,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,sx:{width:"100%",height:"100%",objectFit:"cover",filter:"brightness(0.7)"}}):t.jsx(C,{component:"img",src:y.url,alt:y.caption||e.title,sx:{width:"100%",height:"100%",objectFit:"cover",filter:"brightness(0.7)"}}),t.jsx(C,{sx:{position:"absolute",top:0,left:0,right:0,height:"30%",background:"linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%)",zIndex:1}}),t.jsx(C,{sx:{position:"absolute",bottom:0,left:0,right:0,height:"60%",background:"linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0) 100%)",zIndex:1}})]}),!y&&t.jsx(C,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,background:`linear-gradient(135deg, ${fe(d.palette.primary.main,.8)} 0%, ${fe(d.palette.secondary.main,.8)} 100%)`,zIndex:0}}),t.jsxs(C,{sx:{position:"relative",zIndex:2,height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",p:2.5},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(wn,{sx:{width:40,height:40,bgcolor:d.palette.primary.main,border:"2px solid white",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"},children:(S=(I=e.creator)==null?void 0:I.displayName)==null?void 0:S.charAt(0).toUpperCase()}),t.jsxs(C,{sx:{ml:1.5},children:[t.jsx(j,{variant:"body2",sx:{fontWeight:700,fontSize:"0.95rem",color:"white",textShadow:"0 1px 3px rgba(0,0,0,0.8)"},children:(T=e.creator)==null?void 0:T.displayName}),t.jsx(j,{variant:"caption",sx:{fontSize:"0.75rem",color:"rgba(255,255,255,0.9)",textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:Mr(new Date(e.createdAt),{addSuffix:!0})})]})]}),t.jsxs(ge,{direction:"row",spacing:.5,children:[((D=e.accessInfo)==null?void 0:D.requiresPremium)&&t.jsx(Je,{icon:t.jsx(Ui,{sx:{fontSize:"0.875rem"}}),label:"Premium",size:"small",sx:{height:24,bgcolor:fe(d.palette.warning.main,.9),color:"white",fontWeight:700,fontSize:"0.7rem",backdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}}),e.isTrending&&t.jsx(Je,{icon:t.jsx(il,{sx:{fontSize:"0.875rem"}}),label:"Trending",size:"small",sx:{height:24,bgcolor:fe(d.palette.error.main,.9),color:"white",fontWeight:700,fontSize:"0.7rem",backdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}})]})]}),t.jsxs(C,{children:[t.jsx(C,{sx:{mb:2},children:t.jsx(j,{variant:"h5",sx:{fontWeight:800,fontSize:"1.5rem",color:"white",textShadow:"0 2px 8px rgba(0,0,0,0.9)",lineHeight:1.2},children:e.title})}),g?t.jsxs(ot,{elevation:3,sx:{p:3,textAlign:"center",bgcolor:fe(d.palette.warning.main,.15),backdropFilter:"blur(20px)",border:`2px solid ${fe(d.palette.warning.main,.4)}`,borderRadius:3,mb:2},children:[t.jsx(C,{sx:{width:60,height:60,borderRadius:"50%",bgcolor:fe(d.palette.warning.main,.2),display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",mb:2},children:t.jsx(Ui,{sx:{fontSize:30,color:"warning.light"}})}),t.jsx(j,{variant:"h6",gutterBottom:!0,fontWeight:"bold",color:"white",sx:{textShadow:"0 2px 4px rgba(0,0,0,0.8)"},children:"Premium Poll"}),t.jsx(j,{variant:"body2",color:"rgba(255,255,255,0.9)",sx:{mb:2,textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:((A=e.accessInfo)==null?void 0:A.reason)||"Subscribe to participate in this poll and view results."}),((R=e.accessInfo)==null?void 0:R.requiredTierName)&&t.jsx(Je,{label:`Required: ${e.accessInfo.requiredTierName}`,size:"small",sx:{mb:2,bgcolor:fe(d.palette.info.main,.3),color:"white",fontWeight:600,backdropFilter:"blur(10px)",border:`1px solid ${fe(d.palette.info.light,.4)}`}}),t.jsx(he,{variant:"contained",color:"warning",size:"small",startIcon:t.jsx(Rd,{}),onClick:k=>{k.stopPropagation(),u(ye.APP_CHANNEL_VIEW.replace(":channelId",e.channelId))},sx:{px:3,py:1,borderRadius:2,fontWeight:"bold",textTransform:"none",fontSize:"0.875rem",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},children:"Subscribe Now"})]}):t.jsx(ge,{spacing:1.5,sx:{mb:2},children:e.options.map(k=>{const _=k.voteCount||0,N=m>0?_/m*100:0,W=r===k.id,Y=h===k.id;return t.jsx(C,{className:"poll-option",onClick:$=>{$.preventDefault(),$.stopPropagation(),!s&&!o&&n&&n(String(e.id),k.id)},onMouseEnter:()=>b(k.id),onMouseLeave:()=>b(null),sx:{position:"relative",cursor:s||o?"default":"pointer",transition:"all 0.2s ease",transform:Y?"scale(1.03)":"scale(1)",opacity:o?.6:1},children:t.jsxs(C,{sx:{position:"relative",display:"flex",alignItems:"center",px:2,py:1.5,borderRadius:2,backdropFilter:"blur(20px)",bgcolor:W?fe(d.palette.primary.main,.85):Y?fe("#fff",.25):fe("#fff",.15),border:"1px solid",borderColor:W?fe(d.palette.primary.light,.5):fe("#fff",.3),boxShadow:W?"0 4px 20px rgba(0,0,0,0.4)":"0 2px 10px rgba(0,0,0,0.2)",overflow:"hidden",transition:"all 0.2s ease"},children:[s&&t.jsx(C,{sx:{position:"absolute",left:0,top:0,bottom:0,width:`${N}%`,bgcolor:fe(d.palette.primary.main,.4),transition:"width 0.5s ease",zIndex:0}}),t.jsx(C,{sx:{position:"relative",zIndex:1,width:20,height:20,minWidth:20,minHeight:20,flexShrink:0,borderRadius:"50%",border:"2px solid white",mr:1.5,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:W?"white":"transparent",transition:"all 0.2s ease",boxShadow:"0 1px 3px rgba(0,0,0,0.3)"},children:W&&t.jsx(C,{sx:{width:10,height:10,borderRadius:"50%",bgcolor:d.palette.primary.main}})}),t.jsx(j,{variant:"body1",sx:{position:"relative",zIndex:1,flex:1,fontWeight:W?700:600,fontSize:"1rem",color:"white",textShadow:"0 1px 3px rgba(0,0,0,0.8)",wordBreak:"break-word"},children:k.text}),s&&t.jsxs(j,{variant:"body2",sx:{position:"relative",zIndex:1,fontWeight:700,fontSize:"0.95rem",color:"white",textShadow:"0 1px 3px rgba(0,0,0,0.8)",flexShrink:0,ml:1},children:[N.toFixed(0),"%"]}),W&&!s&&t.jsx(Fa,{sx:{position:"relative",zIndex:1,ml:1,color:"white",fontSize:"1.25rem",flexShrink:0,filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.5))"}})]})},k.id)})}),e.tags&&e.tags.length>0&&t.jsx(ge,{direction:"row",spacing:.5,sx:{mt:1.5,flexWrap:"wrap",gap:.5},children:e.tags.slice(0,3).map(k=>t.jsx(Je,{label:`#${k.name}`,size:"small",sx:{height:22,fontSize:"0.7rem",fontWeight:600,bgcolor:fe("#fff",.15),backdropFilter:"blur(10px)",color:"white",border:"1px solid",borderColor:fe("#fff",.2),textShadow:"0 1px 2px rgba(0,0,0,0.5)","&:hover":{bgcolor:fe("#fff",.25)}}},k.id))})]})]})]})};var jm={},hW=Ke;Object.defineProperty(jm,"__esModule",{value:!0});var Iw=jm.default=void 0,fW=hW(Xe()),pW=t;Iw=jm.default=(0,fW.default)((0,pW.jsx)("path",{d:"M1 21h4V9H1zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73z"}),"ThumbUp");const mW=({count:e=2})=>t.jsx(ge,{spacing:2,sx:{mt:2},children:[...Array(e)].map((n,r)=>t.jsxs(C,{sx:{p:2,borderRadius:2,bgcolor:s=>s.palette.mode==="dark"?fe(s.palette.common.white,.05):fe(s.palette.common.black,.03)},children:[t.jsx(C,{sx:{height:24,width:"40%",mb:2,borderRadius:.5,bgcolor:"grey.300"}}),t.jsx(ge,{spacing:2,children:[...Array(4)].map((s,o)=>t.jsx(C,{sx:{height:40,borderRadius:1,bgcolor:i=>i.palette.mode==="dark"?fe(i.palette.common.white,.1):fe(i.palette.common.black,.1)}},o))})]},r))}),Dw=({filters:e={},emptyTitle:n="No polls found",emptyDescription:r="No polls available at the moment",itemsPerPage:s=10,mode:o="scroll"})=>{const[i,l]=x.useState([]),[d,u]=x.useState(!0),[h,p]=x.useState(1),[m,g]=x.useState(!0),{api:y}=Qe(),{execute:b}=st(),w=ln(),v=async(S=h)=>{try{u(!0);const T=await b(()=>y==null?void 0:y.app.poll.getPolls(e,{page:S,limit:s}),{showErrorToast:!0});T&&(l(S===1?T.items:D=>[...D,...T.items]),p(T.metadata.currentPage),g(T.metadata.hasNext===!0))}finally{u(!1)}};x.useEffect(()=>{l([]),p(1),v(1)},[JSON.stringify(e)]);const I=()=>{!d&&m&&v(h+1)};return i.length===0&&!d?t.jsx(Xs,{title:n,description:r}):o==="grid"?t.jsx(C,{sx:{width:"100%"},children:t.jsx(Ds,{dataLength:i.length,next:I,hasMore:m,loader:t.jsx(C,{}),children:t.jsx(F,{container:!0,spacing:3,children:i.map(S=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Ky,{poll:S,showAsPreview:!0,mode:"grid"})},S.id))})})}):t.jsx(C,{id:"polls-scroll-container",sx:{width:"100%",height:"100%",display:"flex",justifyContent:"center",overflowY:"scroll",scrollSnapType:"y mandatory",scrollBehavior:"smooth","&::-webkit-scrollbar":{display:"none"},msOverflowStyle:"none",scrollbarWidth:"none",px:{xs:2,sm:0}},children:t.jsx(C,{sx:{width:"100%",maxWidth:480},children:d&&i.length===0?t.jsx(mW,{}):t.jsx(Ds,{dataLength:i.length,next:I,hasMore:m,loader:t.jsx(C,{}),scrollableTarget:"polls-scroll-container",endMessage:t.jsx(C,{sx:{textAlign:"center",py:4,color:"text.secondary",fontSize:"0.875rem",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:"No more polls to display"}),style:{overflow:"visible",paddingBottom:"64px"},children:i.map(S=>{var D,A,R;const T=((D=S.stats)==null?void 0:D.totalVotes)||0;return t.jsxs(C,{sx:{position:"relative",scrollSnapAlign:"start",scrollSnapStop:"always",height:"calc(100vh - 64px)",display:"flex",alignItems:"center",justifyContent:"center"},children:[t.jsx(Ky,{poll:S,showAsPreview:!0,mode:"scroll"}),t.jsxs(C,{sx:{position:"absolute",right:{xs:8,sm:-60},bottom:"5vh",display:"flex",flexDirection:"column",alignItems:"center",gap:2.5,zIndex:10},children:[S.isTrending&&t.jsx(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:t.jsx(Je,{icon:t.jsx(il,{sx:{fontSize:"0.875rem"}}),label:"Trending",size:"small",sx:{height:28,bgcolor:fe(w.palette.error.main,.9),color:"white",fontWeight:700,fontSize:"0.75rem",backdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}})}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[t.jsx(Le,{className:"action-button",size:"medium",onClick:k=>{k.stopPropagation()},sx:{bgcolor:w.palette.mode==="dark"?fe("#fff",.2):fe("#000",.6),backdropFilter:"blur(10px)",color:"white",boxShadow:w.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)","&:hover":{bgcolor:fe(w.palette.primary.main,.8),transform:"scale(1.1)"},transition:"all 0.2s ease",width:48,height:48},children:t.jsx(Iw,{sx:{fontSize:"1.5rem"}})}),t.jsx(j,{variant:"caption",sx:{color:"white",fontWeight:700,fontSize:"0.75rem",mt:.5,textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:T>999?`${(T/1e3).toFixed(1)}K`:T})]}),t.jsx(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:t.jsx(Le,{className:"action-button",size:"medium",onClick:k=>{k.stopPropagation()},sx:{bgcolor:w.palette.mode==="dark"?fe("#fff",.2):fe("#000",.6),backdropFilter:"blur(10px)",color:"white",boxShadow:w.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)","&:hover":{bgcolor:w.palette.mode==="dark"?fe("#fff",.3):fe("#000",.7),transform:"scale(1.1)"},transition:"all 0.2s ease",width:48,height:48},children:t.jsx(Ed,{sx:{fontSize:"1.5rem"}})})}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[t.jsx(C,{sx:{bgcolor:w.palette.mode==="dark"?fe("#fff",.2):fe("#000",.6),backdropFilter:"blur(10px)",borderRadius:"50%",width:48,height:48,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:w.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)"},children:t.jsx(Zo,{sx:{fontSize:"1.5rem",color:"white",filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.5))"}})}),t.jsx(j,{variant:"caption",sx:{color:"white",fontWeight:700,fontSize:"0.75rem",mt:.5,textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:((A=S.stats)==null?void 0:A.viewCount)>999?`${(S.stats.viewCount/1e3).toFixed(1)}K`:((R=S.stats)==null?void 0:R.viewCount)||0})]})]})]},S.id)})})})})},xW=({planId:e,channelId:n,tierName:r,tierId:s,onSuccess:o,onError:i,onCancel:l,disabled:d=!1})=>{const[u,h]=Dt.useState(!0),{api:p}=Qe(),m="AUvVGkHGJD8OKekE_4XxFzzKL8a8yLtJ3ZG1woE3OobNy57zyofuPIiUo-zZag0O_L1KPB_u4TB0tuJp";return e?t.jsx(C,{sx:{minHeight:50},children:t.jsxs(yw,{options:{clientId:m,vault:!0,intent:"subscription",currency:"USD"},children:[u&&t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:2},children:t.jsx(bn,{size:24})}),t.jsx(_d,{style:{layout:"vertical",color:"gold",shape:"rect",label:"subscribe"},disabled:d,onInit:()=>{h(!1)},createSubscription:(g,y)=>(console.log("Creating PayPal subscription for plan:",e),y.subscription.create({plan_id:e,custom_id:`${n}_${s}`,application_context:{shipping_preference:"NO_SHIPPING",user_action:"SUBSCRIBE_NOW"}})),onApprove:async g=>{console.log("PayPal subscription approved:",{subscriptionID:g.subscriptionID,orderID:g.orderID,tierName:r});try{await(p==null?void 0:p.app.subscription.activatePayPalSubscription(n,{tierId:s,paypalSubscriptionId:g.subscriptionID})),o(r,s)}catch(y){console.error("Failed to activate subscription:",y),i(new Error("Failed to activate subscription. Please contact support."))}},onCancel:()=>{console.log("PayPal subscription cancelled by user"),l==null||l()},onError:g=>{console.error("PayPal subscription error:",g),i(new Error(typeof g=="string"?g:"PayPal subscription failed"))}})]})}):t.jsx(dt,{severity:"warning",sx:{borderRadius:2},children:"PayPal plan not configured for this tier. Please contact the channel owner."})},gW=()=>{var le,re,je,Oe,be,ie,ae;const[e,n]=x.useState(null),[r,s]=x.useState(!0),[o,i]=x.useState(!1),[l,d]=x.useState([]),[u,h]=x.useState([]),[p,m]=x.useState(""),[g,y]=x.useState(""),[b,w]=x.useState(0),[v,I]=x.useState(!1),[S,T]=x.useState(null),{id:D}=ns(),A=Ct(),{api:R}=Qe(),{profile:k,channelRelations:{hasSubscription:_,getSubscriptionTier:N},actions:{refreshProfile:W}}=xs(),{execute:Y}=st(),$=_(D??""),H=(le=N(D??""))==null?void 0:le.id;console.log("ViewChannel Debug:",{channelId:D,isMember:$,currentTierId:H,subscriptions:k==null?void 0:k.subscriptions,profileLoaded:!!k}),x.useEffect(()=>{(async()=>{if(!D)return;const me=await Y(()=>R==null?void 0:R.app.channel.getChannel(D),{showErrorToast:!0});me&&n(me),s(!1)})()},[D,Y,R==null?void 0:R.app.channel]);const J=se=>{d(se)},X=se=>{h(se)},K=se=>{se.preventDefault(),m(g.trim())},Z=()=>{y(""),m("")},G=async se=>{var de,_e;if(!e||!se)return;const me=(de=e.tiers)==null?void 0:de.find(Ee=>Ee.id===se);if(me&&me.price===0){i(!0);try{await((_e=R==null?void 0:R.app.subscription)==null?void 0:_e.createDirectSubscription(e.id,{tierId:se}))&&await W(),i(!1)}catch(Ee){console.error("Subscription failed:",Ee),i(!1)}}},oe=se=>{se.price===0?G(se.id):(T(se),I(!0))},V=async(se,me)=>{console.log("PayPal subscription approved:",{tierName:se,tierId:me}),await W(),I(!1),T(null)},ee=se=>{console.error("PayPal subscription error:",se),alert(`Subscription failed: ${se.message}`)},Pe=()=>{console.log("PayPal subscription cancelled")},pe=async se=>{var _e,Ee,He;if(!e||!((_e=e.tiers)==null?void 0:_e.find(ue=>ue.id===se)))return;const de=(Ee=k==null?void 0:k.subscriptions)==null?void 0:Ee.find(ue=>ue.channelId===e.id);if(de)try{await((He=R==null?void 0:R.app.subscription)==null?void 0:He.cancelUserSubscription(de.id))}catch(ue){console.error("Failed to cancel existing subscription:",ue)}await G(se)},Re=async()=>{var de;if(!e)return;const se=(de=k==null?void 0:k.subscriptions)==null?void 0:de.find(_e=>_e.channelId===e.id);if(!se){console.error("No active subscription found for this channel");return}await Y(()=>R==null?void 0:R.app.subscription.cancelUserSubscription(se.id),{showSuccessMessage:!0,successMessage:"Membership cancelled successfully!"})&&(console.log("Cancellation successful, refreshing profile..."),await W())};return r?t.jsx(C,{sx:{bgcolor:"background.default",minHeight:"100vh"},children:t.jsxs(Tt,{maxWidth:"lg",children:[t.jsxs(C,{sx:{position:"relative",mb:8},children:[t.jsx(ce,{variant:"rectangular",sx:{height:{xs:150,md:200},borderRadius:3}}),t.jsx(C,{sx:{position:"absolute",bottom:-50,left:"50%",transform:"translateX(-50%)"},children:t.jsx(ce,{variant:"circular",sx:{width:{xs:100,md:128},height:{xs:100,md:128},border:"4px solid",borderColor:"background.paper"}})})]}),t.jsx(ot,{elevation:0,sx:{mb:4,p:4,borderRadius:3,border:"1px solid",borderColor:"divider"},children:t.jsxs(C,{sx:{textAlign:"center",pt:3},children:[t.jsx(ce,{variant:"text",width:"40%",sx:{mb:2,fontSize:"2.5rem"}}),t.jsxs(ge,{direction:"row",spacing:2,justifyContent:"center",sx:{mb:3},children:[t.jsx(ce,{variant:"rounded",width:150,height:32}),t.jsx(ce,{variant:"rounded",width:100,height:32})]}),t.jsx(ce,{variant:"text",width:"70%",sx:{mb:1}}),t.jsx(ce,{variant:"text",width:"60%",sx:{mb:4}}),t.jsx(ce,{variant:"rounded",width:180,height:48,sx:{borderRadius:50}})]})}),t.jsxs(C,{sx:{mb:6},children:[t.jsx(ce,{variant:"text",width:"40%",sx:{mb:4,fontSize:"2rem"}}),t.jsx(F,{container:!0,spacing:3,children:[...Array(3)].map((se,me)=>t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(Fe,{elevation:2,sx:{borderRadius:3,overflow:"hidden"},children:[t.jsx(ce,{variant:"rectangular",height:120}),t.jsxs(Be,{sx:{p:3},children:[t.jsx(ce,{variant:"text",width:"60%",sx:{mx:"auto",mb:2,fontSize:"2rem"}}),t.jsx(ce,{variant:"text",width:"80%",sx:{mb:1}}),t.jsx(ce,{variant:"text",width:"70%",sx:{mb:1}}),t.jsx(ce,{variant:"text",width:"75%",sx:{mb:3}}),t.jsx(ce,{variant:"rounded",height:48,sx:{borderRadius:50}})]})]})},me))})]})]})}):e?t.jsxs(C,{sx:{bgcolor:"background.default",minHeight:"100vh"},children:[t.jsxs(Tt,{maxWidth:"lg",children:[t.jsxs(C,{sx:{position:"relative",mb:8},children:[t.jsx(C,{sx:{height:{xs:150,md:200},backgroundImage:e!=null&&e.bannerUrl?`url(${e.bannerUrl})`:void 0,background:e!=null&&e.bannerUrl?void 0:se=>`linear-gradient(135deg, ${se.palette.primary.main} 0%, ${se.palette.primary.light} 100%)`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:3,position:"relative"}}),t.jsx(C,{sx:{position:"absolute",bottom:-50,left:"50%",transform:"translateX(-50%)"},children:t.jsx(wn,{src:e.logoUrl,sx:{width:{xs:100,md:128},height:{xs:100,md:128},border:"4px solid",borderColor:"background.paper",boxShadow:3}})})]}),t.jsx(ot,{elevation:0,sx:{mb:4,p:{xs:3,md:4},borderRadius:3,border:"1px solid",borderColor:"divider"},children:t.jsxs(C,{sx:{textAlign:"center",pt:3},children:[t.jsx(j,{variant:"h3",gutterBottom:!0,sx:{fontWeight:700,fontSize:{xs:"2rem",md:"2.5rem"},color:"text.primary",mb:1},children:e.name}),t.jsxs(ge,{direction:"row",spacing:2,justifyContent:"center",sx:{mb:3},children:[t.jsx(Je,{icon:t.jsx(pm,{}),label:`${(je=(re=e.stats)==null?void 0:re.activeSubscriptionCount)==null?void 0:je.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1})} subscribers`,sx:{fontWeight:600,bgcolor:fe("#0b6cff",.1),color:"#0b6cff","& .MuiChip-icon":{color:"#0b6cff"}}}),t.jsx(Je,{icon:t.jsx(ww,{}),label:`${((Oe=e.tiers)==null?void 0:Oe.length)||0} tiers`,sx:{fontWeight:600,bgcolor:fe("#589aff",.1),color:"#589aff","& .MuiChip-icon":{color:"#589aff"}}})]}),t.jsx(j,{variant:"body1",sx:{mb:4,maxWidth:800,color:"text.secondary",lineHeight:1.8,fontSize:"1.1rem"},children:e.description}),t.jsx(he,{variant:$?"outlined":"contained",size:"large",onClick:()=>{var se,me;return $?Re():G((me=(se=e==null?void 0:e.tiers)==null?void 0:se.find(de=>de.isDefault))==null?void 0:me.id)},disabled:o,startIcon:o&&t.jsx(bn,{size:20,color:"inherit"}),sx:{px:4,py:1.5,borderRadius:50,fontSize:"1rem",fontWeight:600,textTransform:"none",boxShadow:$?"none":"0 4px 14px 0 rgba(11, 108, 255, 0.39)","&:hover":{boxShadow:$?"none":"0 6px 20px rgba(11, 108, 255, 0.5)"}},children:o?"Processing...":$?"Cancel Membership":"Join Channel"})]})}),t.jsxs(ot,{elevation:0,sx:{mb:4,borderRadius:3,border:"1px solid",borderColor:"divider",overflow:"hidden"},children:[t.jsxs(yo,{value:b,onChange:(se,me)=>w(me),variant:"scrollable",scrollButtons:"auto",sx:{borderBottom:1,borderColor:"divider","& .MuiTab-root":{textTransform:"none",fontWeight:600,fontSize:"1rem",minHeight:64}},children:[t.jsx(nr,{icon:t.jsx(Hi,{}),iconPosition:"start",label:"News"}),t.jsx(nr,{icon:t.jsx(wd,{}),iconPosition:"start",label:"Polls"}),t.jsx(nr,{icon:t.jsx(Wa,{}),iconPosition:"start",label:"Contribute"}),t.jsx(nr,{icon:t.jsx(Sw,{}),iconPosition:"start",label:"Connect"}),t.jsx(nr,{icon:t.jsx(Cw,{}),iconPosition:"start",label:"Budget"}),t.jsx(nr,{icon:t.jsx(Cd,{}),iconPosition:"start",label:"About"})]}),t.jsxs(C,{sx:{p:4},children:[b===0&&t.jsxs(C,{children:[t.jsxs(C,{sx:{mb:3},children:[t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:1},children:"Channel News"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Latest news from this channel"}),t.jsx(Yc,{selectedTags:l,onTagsChange:J,contentType:"news",maxTags:5,showCounts:!1,horizontal:!0})]}),t.jsx(df,{filters:{channel:e==null?void 0:e.id,...l.length>0&&{tags:l}},emptyTitle:"No news published yet",emptyDescription:"This channel hasn't published any news articles yet",showSearch:!0,mode:"grid"})]}),b===1&&t.jsxs(C,{children:[t.jsxs(C,{sx:{mb:3},children:[t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:1},children:"Channel Polls"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Vote on polls from this channel"}),t.jsx(C,{sx:{mb:3},children:t.jsx("form",{onSubmit:K,children:t.jsx(tt,{fullWidth:!0,placeholder:"Search polls by question or content...",value:g,onChange:se=>y(se.target.value),InputProps:{startAdornment:t.jsx(es,{position:"start",children:t.jsx(jd,{color:"action"})}),endAdornment:g&&t.jsx(es,{position:"end",children:t.jsx(Le,{size:"small",onClick:Z,edge:"end",children:t.jsx(qp,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"background.paper"}}})})}),t.jsx(Yc,{selectedTags:u,onTagsChange:X,contentType:"polls",maxTags:5,showCounts:!1,horizontal:!0})]}),t.jsx(C,{children:t.jsx(Dw,{filters:{channel:e==null?void 0:e.id,...u.length>0&&{tags:u},...p&&{query:p}},emptyTitle:"No polls found",emptyDescription:"This channel hasn't created any polls yet",mode:"grid"})})]}),b===2&&t.jsx(C,{children:t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"Become a financial contributor"})}),b===3&&t.jsxs(C,{children:[t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"Connect with us"}),t.jsx(ge,{spacing:2,children:t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(Le,{color:"primary",size:"small",children:t.jsx(Pw,{})}),t.jsx(j,{children:"Contact via membership"})]})})]}),b===4&&t.jsxs(C,{children:[t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"Budget"}),t.jsx(j,{color:"text.secondary",children:"Financial information will be displayed here"})]}),b===5&&t.jsxs(C,{children:[t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"About"}),t.jsxs(ge,{spacing:3,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"DESCRIPTION"}),t.jsx(j,{variant:"body1",sx:{lineHeight:1.8},children:e.description})]}),t.jsx(Lt,{}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"STATISTICS"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:6,md:3,children:t.jsxs(ot,{variant:"outlined",sx:{p:2,textAlign:"center"},children:[t.jsx(j,{variant:"h4",color:"primary",sx:{fontWeight:700},children:((be=e.stats)==null?void 0:be.activeSubscriptionCount)||0}),t.jsx(j,{variant:"caption",color:"text.secondary",children:"Subscribers"})]})}),t.jsx(F,{item:!0,xs:6,md:3,children:t.jsxs(ot,{variant:"outlined",sx:{p:2,textAlign:"center"},children:[t.jsx(j,{variant:"h4",color:"primary",sx:{fontWeight:700},children:((ie=e.tiers)==null?void 0:ie.length)||0}),t.jsx(j,{variant:"caption",color:"text.secondary",children:"Tiers"})]})})]})]})]})]})]})]}),b===2&&t.jsxs(C,{sx:{mb:6},children:[t.jsx(j,{variant:"h4",gutterBottom:!0,sx:{fontSize:{xs:"1.75rem",md:"2rem"},fontWeight:700,mb:4,textAlign:"center"},children:"Membership Tiers"}),t.jsx(F,{container:!0,spacing:3,children:(ae=e.tiers)==null?void 0:ae.map(se=>t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(Fe,{elevation:H===se.id?8:2,sx:{height:"100%",display:"flex",flexDirection:"column",borderRadius:3,overflow:"hidden",transition:"all 0.3s ease",border:H===se.id?"2px solid #0b6cff":"1px solid #e0e0e0","&:hover":{transform:"translateY(-8px)",boxShadow:"0 12px 24px rgba(0,0,0,0.15)"}},children:[t.jsxs(C,{sx:{height:120,background:H===se.id?"linear-gradient(135deg, #0b6cff 0%, #589aff 100%)":"linear-gradient(135deg, #589aff 0%, #7bb0ff 100%)",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",p:3},children:[H===se.id&&t.jsx(Je,{label:"CURRENT PLAN",size:"small",sx:{position:"absolute",top:12,right:12,bgcolor:"white",color:"#0b6cff",fontWeight:700,fontSize:"0.7rem"}}),!H&&se.isDefault&&t.jsx(Je,{label:"POPULAR",size:"small",sx:{position:"absolute",top:12,right:12,bgcolor:"white",color:"#589aff",fontWeight:700,fontSize:"0.7rem"}}),t.jsx(j,{variant:"h5",sx:{color:"white",fontWeight:700,textAlign:"center"},children:se.name})]}),t.jsxs(Be,{sx:{flexGrow:1,p:3,display:"flex",flexDirection:"column"},children:[t.jsx(C,{sx:{mb:3,textAlign:"center"},children:t.jsxs(j,{variant:"h3",sx:{fontWeight:700,color:"text.primary",display:"flex",alignItems:"baseline",justifyContent:"center",gap:.5},children:[t.jsx(j,{component:"span",sx:{fontSize:"1.5rem",fontWeight:500},children:"$"}),se.price,t.jsx(j,{component:"span",sx:{fontSize:"1rem",fontWeight:400,color:"text.secondary"},children:"/month"})]})}),t.jsx(Lt,{sx:{mb:3}}),t.jsx(j,{variant:"body2",sx:{mb:3,color:"text.secondary",minHeight:60,lineHeight:1.7,flexGrow:1},children:se.description}),H===se.id?t.jsx(he,{variant:"outlined",fullWidth:!0,size:"large",disabled:!0,sx:{py:1.5,borderRadius:50,textTransform:"none",fontWeight:600,fontSize:"1rem"},children:"Current Plan"}):t.jsx(he,{variant:"contained",fullWidth:!0,size:"large",onClick:()=>$?pe(se.id):oe(se),disabled:o,sx:{py:1.5,borderRadius:50,textTransform:"none",fontWeight:600,fontSize:"1rem",boxShadow:"0 4px 12px rgba(11, 108, 255, 0.3)","&:hover":{boxShadow:"0 6px 16px rgba(11, 108, 255, 0.4)"}},startIcon:o&&t.jsx(bn,{size:20,color:"inherit"}),children:o?"Processing...":$?"Switch to This Plan":se.price===0?"Join Free":"Subscribe"})]})]})},se.id))})]})]}),t.jsxs(qt,{open:v,onClose:()=>I(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsxs(tn,{children:["Subscribe to ",S==null?void 0:S.name]}),t.jsx(Kt,{children:S&&t.jsxs(C,{children:[t.jsxs(C,{sx:{mb:3},children:[t.jsxs(j,{variant:"h5",sx:{fontWeight:600,mb:1},children:[new Intl.NumberFormat("en-US",{style:"currency",currency:S.currency.toUpperCase()}).format(S.price/100),t.jsx(j,{component:"span",variant:"body2",color:"text.secondary",children:"/month"})]}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:S.description})]}),t.jsx(Lt,{sx:{my:2}}),t.jsx(j,{variant:"subtitle2",sx:{mb:2,fontWeight:600},children:"Select Payment Method:"}),S.paymentConfigs&&S.paymentConfigs.length>0?t.jsx(C,{sx:{display:"flex",flexDirection:"column",gap:2},children:S.paymentConfigs.map(se=>{var me;return((me=se.provider)==null?void 0:me.code)==="paypal"&&se.isActive?t.jsx(C,{children:t.jsx(xW,{planId:se.providerPlanId,channelId:e.id,tierName:S.name,tierId:S.id,onSuccess:V,onError:ee,onCancel:Pe,disabled:o})},se.id):null})}):t.jsx(j,{variant:"body2",color:"error",children:"No payment methods configured for this tier. Please contact the channel owner."})]})}),t.jsx(Xt,{children:t.jsx(he,{onClick:()=>I(!1),children:"Cancel"})})]})]}):t.jsx(C,{sx:{bgcolor:"background.default",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(Tt,{maxWidth:"sm",children:t.jsxs(ot,{elevation:3,sx:{p:6,borderRadius:3,textAlign:"center"},children:[t.jsx(j,{variant:"h4",gutterBottom:!0,sx:{fontWeight:700,color:"text.primary"},children:"Channel not found"}),t.jsx(j,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"The channel you're looking for doesn't exist or has been removed."}),t.jsx(he,{variant:"contained",onClick:()=>A("/app"),sx:{borderRadius:50,px:4,py:1.5,textTransform:"none",fontWeight:600},children:"Go Home"})]})})})},bW=()=>t.jsx(C,{sx:{width:"100%",height:"100vh",overflow:"hidden",display:"flex",flexDirection:"column",position:"fixed",top:64,left:0,right:0,bottom:0,margin:0,padding:0,zIndex:1},children:t.jsx(C,{sx:{flex:1,overflow:"hidden"},children:t.jsx(Dw,{filters:{},emptyTitle:"No polls found",emptyDescription:"There are no polls available at the moment.",mode:"scroll"})})}),yW=({poll:e,onVote:n,userVote:r,showResults:s=!1,disabled:o=!1})=>{var p;const i=ln(),[l,d]=x.useState(null),u=((p=e.stats)==null?void 0:p.totalVotes)||0,h=m=>{o||d(m)};return t.jsx(C,{children:t.jsx(ge,{spacing:2,sx:{mb:2},children:e.options.map(m=>{const g=m.voteCount||0,y=u>0?g/u*100:0,b=r===m.id,w=l===m.id;return t.jsxs(C,{onClick:v=>{v.preventDefault(),v.stopPropagation(),!s&&!o&&n&&n(String(e.id),m.id)},onMouseEnter:()=>h(m.id),onMouseLeave:()=>h(null),sx:{position:"relative",cursor:s||o?"default":"pointer",transition:"all 0.2s ease",transform:w?"translateX(4px)":"none",opacity:o?.6:1},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:.5,px:2,py:1.5,border:"1px solid",borderColor:b?"primary.main":w?fe(i.palette.primary.main,.5):"divider",borderRadius:1,bgcolor:b?fe(i.palette.primary.main,.05):"transparent",transition:"all 0.2s ease","&:hover":!s&&!o&&{borderColor:"primary.main",boxShadow:`0 2px 8px ${fe(i.palette.primary.main,.15)}`}},children:[t.jsx(C,{sx:{width:24,height:24,minWidth:24,minHeight:24,flexShrink:0,borderRadius:"50%",border:"2px solid",borderColor:b?"primary.main":w?fe(i.palette.primary.main,.5):"divider",mr:2,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:b&&t.jsx(C,{sx:{width:12,height:12,borderRadius:"50%",bgcolor:"primary.main"}})}),t.jsx(j,{variant:"body1",sx:{flex:1,fontWeight:b?600:400,color:b?"primary.main":"text.primary",wordBreak:"break-word"},children:m.text}),s&&t.jsxs(C,{sx:{display:"flex",alignItems:"center",ml:2,minWidth:80,justifyContent:"flex-end",flexShrink:0},children:[t.jsxs(j,{variant:"body2",sx:{fontWeight:600,color:b?"primary.main":"text.secondary",mr:1},children:[y.toFixed(1),"%"]}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["(",g,")"]})]}),b&&!s&&t.jsx(Fa,{sx:{ml:1,color:"primary.main",fontSize:"1.2rem",flexShrink:0}})]}),s&&t.jsx(Oa,{variant:"determinate",value:y,sx:{height:8,borderRadius:4,bgcolor:fe(i.palette.primary.main,.1),"& .MuiLinearProgress-bar":{borderRadius:4,bgcolor:b?"primary.main":fe(i.palette.primary.main,.6)}}})]},m.id)})})})};var wm={},vW=Ke;Object.defineProperty(wm,"__esModule",{value:!0});var Tw=wm.default=void 0,jW=vW(Xe()),wW=t;Tw=wm.default=(0,jW.default)((0,wW.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2"}),"Bookmark");var Sm={},SW=Ke;Object.defineProperty(Sm,"__esModule",{value:!0});var Ew=Sm.default=void 0,CW=SW(Xe()),PW=t;Ew=Sm.default=(0,CW.default)((0,PW.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2m0 15-5-2.18L7 18V5h10z"}),"BookmarkBorder");var Cm={},IW=Ke;Object.defineProperty(Cm,"__esModule",{value:!0});var Aw=Cm.default=void 0,DW=IW(Xe()),TW=t;Aw=Cm.default=(0,DW.default)((0,TW.jsx)("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4zM18 14H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"}),"Comment");const EW=()=>t.jsx(Tt,{maxWidth:"lg",sx:{mt:4},children:t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx(Fe,{children:t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[t.jsx(ce,{variant:"text",width:"60%",height:40}),t.jsx(ge,{direction:"row",spacing:1,children:[1,2].map(e=>t.jsx(ce,{variant:"circular",width:40,height:40},e))})]}),t.jsxs(ge,{spacing:2,sx:{mb:3},children:[t.jsx(ce,{variant:"text",width:"100%"}),t.jsx(ce,{variant:"text",width:"95%"}),t.jsx(ce,{variant:"text",width:"90%"})]}),t.jsx(ge,{spacing:2,children:[1,2,3,4].map(e=>t.jsx(ce,{variant:"rectangular",height:60,sx:{borderRadius:1}},e))})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsx(ce,{variant:"text",width:"50%",height:32,sx:{mb:2}}),t.jsx(ge,{spacing:2,children:[1,2,3].map(e=>t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[t.jsx(ce,{variant:"text",width:"40%"}),t.jsx(ce,{variant:"text",width:"20%"})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:8,sx:{borderRadius:1}})]},e))})]})})})]})}),AW=()=>{var J,X,K;const{id:e}=ns(),{api:n}=Qe(),r=ln(),[s,o]=x.useState(null),[i,l]=x.useState(!0),[d,u]=x.useState(null),[h,p]=x.useState(!1),[m,g]=x.useState(null),[y,b]=x.useState(null),{execute:w}=st(),[v,I]=x.useState(!1),[S,T]=x.useState(null),[D,A]=x.useState(!1),R=(s==null?void 0:s.isPremium)&&(s==null?void 0:s.accessInfo)&&!s.accessInfo.canAccess,k=async Z=>{try{A(!0);const G=await(n==null?void 0:n.app.funding.getFund("poll",Z));T(G)}catch(G){console.error("Failed to load fund data:",G)}finally{A(!1)}};x.useEffect(()=>{(async()=>{if(!e)return;l(!0);const G=await w(()=>n==null?void 0:n.app.poll.get(e),{showErrorToast:!0});if(G){o(G);const oe=await w(()=>n==null?void 0:n.app.poll.getUserVote(e),{showErrorToast:!1});oe!=null&&oe.optionId&&u(oe.optionId);const V=await w(()=>n==null?void 0:n.app.poll.checkVotingEligibility(e),{showErrorToast:!1});V&&b(V),k(e)}l(!1)})()},[e,w]);const _=async(Z,G)=>{if(!(y!=null&&y.canVote)){g((y==null?void 0:y.reason)||"You cannot vote on this poll");return}if(await w(()=>n==null?void 0:n.app.poll.vote(Z,{optionId:G}),{showSuccessMessage:!0,successMessage:"Vote recorded successfully!"})){u(G);const V=await w(()=>n==null?void 0:n.app.poll.get(Z),{showErrorToast:!0});V&&o(V)}},N=()=>{navigator.share?navigator.share({title:s==null?void 0:s.title,text:s==null?void 0:s.description,url:window.location.href}).catch(console.error):navigator.clipboard.writeText(window.location.href)},W=()=>{p(!h)},Y=async()=>{I(!0)},$=async Z=>{e&&await k(e),console.log("Contribution successful:",Z)},H=()=>!s||!S?null:{id:S.id,title:s.title,currentAmount:S.currentAmount/100,goalAmount:S.goalAmount?S.goalAmount/100:void 0,currency:S.currency,contributorCount:0,description:"Support quality journalism by funding this poll"};return i?t.jsx(EW,{}):s?t.jsxs(Tt,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsx(C,{sx:{mb:3},children:t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap"},children:[t.jsxs(C,{component:Kn,to:ye.APP_CHANNEL_VIEW.replace(":channelId",s.channel.id),sx:{display:"inline-flex",alignItems:"center",bgcolor:"primary.main",color:"primary.contrastText",px:2,py:1,borderRadius:2,textDecoration:"none",transition:"all 0.2s ease-in-out","&:hover":{bgcolor:"primary.dark",transform:"translateY(-2px)"}},children:[t.jsx(ul,{sx:{mr:1}}),t.jsx(j,{variant:"subtitle2",children:s.channel.name})]}),t.jsxs(C,{sx:{display:"inline-flex",alignItems:"center",bgcolor:"background.paper",px:2,py:1,borderRadius:2,border:"1px solid",borderColor:"divider"},children:[t.jsx(ll,{sx:{mr:1,fontSize:"0.9rem"}}),t.jsx(j,{variant:"caption",children:s.creator.displayName})]})]}),t.jsxs(ge,{direction:"row",spacing:1,children:[t.jsx(Le,{onClick:N,sx:{color:"text.secondary","&:hover":{bgcolor:fe(r.palette.primary.main,.05)}},children:t.jsx(Ed,{})}),t.jsx(Le,{onClick:W,sx:{color:h?"primary.main":"text.secondary","&:hover":{bgcolor:fe(r.palette.primary.main,.05)}},children:h?t.jsx(Tw,{}):t.jsx(Ew,{})})]})]})})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsxs(Fe,{children:[s.media&&s.media.length>0&&t.jsxs(C,{sx:{position:"relative",width:"100%",paddingTop:"56.25%",overflow:"hidden",borderRadius:"4px 4px 0 0"},children:[t.jsx(C,{component:s.media[0].format===2?"video":"img",src:s.media[0].url,alt:s.media[0].caption||s.title,controls:s.media[0].format===2,autoPlay:s.media[0].format===2,loop:s.media[0].format===2,muted:s.media[0].format===2,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}}),s.media[0].caption&&t.jsx(C,{sx:{position:"absolute",bottom:0,left:0,right:0,bgcolor:fe(r.palette.common.black,.7),color:"white",p:1,backdropFilter:"blur(4px)"},children:t.jsx(j,{variant:"caption",children:s.media[0].caption})})]}),t.jsxs(Be,{children:[t.jsx(j,{variant:"h4",gutterBottom:!0,sx:{fontWeight:700,mb:3},children:s.title}),y&&!y.canVote&&t.jsx(dt,{severity:d?"info":"warning",sx:{mb:3},icon:d?t.jsx(Fa,{}):void 0,children:y.reason||(d?"You have already voted on this poll":"You are not eligible to vote on this poll")}),t.jsx(yW,{poll:s,onVote:_,userVote:d,showResults:!!d,disabled:!(y!=null&&y.canVote)})]})]})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(ge,{spacing:3,children:[s.description&&t.jsxs(ot,{sx:{p:2},children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"About this Poll"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:s.description})]}),R?t.jsxs(ot,{elevation:3,sx:{p:3,textAlign:"center",bgcolor:Z=>fe(Z.palette.warning.main,.05),border:Z=>`2px solid ${fe(Z.palette.warning.main,.3)}`,borderRadius:3},children:[t.jsx(C,{sx:{width:60,height:60,borderRadius:"50%",bgcolor:Z=>fe(Z.palette.warning.main,.1),display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",mb:2},children:t.jsx(Ui,{sx:{fontSize:30,color:"warning.main"}})}),t.jsx(j,{variant:"h6",gutterBottom:!0,fontWeight:"bold",color:"warning.dark",children:"Premium Poll Statistics"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:((J=s.accessInfo)==null?void 0:J.reason)||"Subscribe to view detailed poll statistics and results."}),((X=s.accessInfo)==null?void 0:X.requiredTierName)&&t.jsxs(dt,{severity:"info",sx:{mb:2},children:["Required tier: ",t.jsx("strong",{children:s.accessInfo.requiredTierName})]}),t.jsxs(C,{sx:{mb:2},children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Subscribe to unlock:"}),t.jsx(ge,{spacing:.5,alignItems:"flex-start",sx:{mx:"auto",display:"inline-flex"},children:["View vote counts","See poll results","Participate in voting","Access detailed statistics"].map((Z,G)=>t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Fa,{color:"success",fontSize:"small"}),t.jsx(j,{variant:"body2",children:Z})]},G))})]}),t.jsx(he,{component:Kn,to:ye.APP_CHANNEL_VIEW.replace(":channelId",s.channelId),variant:"contained",color:"warning",size:"medium",startIcon:t.jsx(Rd,{}),sx:{px:3,py:1.5,borderRadius:2,fontWeight:"bold",textTransform:"none",fontSize:"0.95rem"},children:"View Subscription Options"})]}):t.jsxs(ot,{sx:{p:2},children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Poll Statistics"}),t.jsxs(ge,{spacing:2,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Total Votes"}),t.jsx(j,{variant:"h4",children:((K=s.stats)==null?void 0:K.totalVotes)??0})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Time Remaining"}),t.jsx(j,{variant:"body1",children:s.endDate?Mr(new Date(s.endDate),{addSuffix:!0}):"No end date"})]})]})]}),t.jsx(ot,{elevation:2,sx:{p:3,borderRadius:2,border:"2px solid",borderColor:"primary.main",bgcolor:Z=>fe(Z.palette.primary.main,.05)},children:t.jsxs(ge,{spacing:2,children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Wa,{color:"primary",fontSize:"large"}),t.jsx(j,{variant:"h6",fontWeight:"bold",color:"primary",children:"Fund this Poll"})]}),S&&!D?t.jsxs(C,{children:[t.jsx(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Current Funding"}),t.jsxs(j,{variant:"h5",fontWeight:"bold",color:"primary.main",children:[S.currency," ",(S.currentAmount/100).toFixed(2)]}),S.goalAmount&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Goal: ",S.currency," ",(S.goalAmount/100).toFixed(2)]})]}):D?t.jsx(ce,{variant:"rectangular",height:60}):t.jsx(j,{variant:"body2",color:"text.secondary",children:"Be the first to fund this poll"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Support quality journalism by contributing to this poll"}),t.jsx(he,{variant:"contained",color:"primary",fullWidth:!0,size:"large",startIcon:t.jsx(Wa,{}),onClick:Y,disabled:!s,sx:{py:1.5,fontWeight:"bold",textTransform:"none",fontSize:"1rem"},children:"Fund Now"})]})}),t.jsxs(ot,{sx:{p:2},children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Comments"}),t.jsx(he,{startIcon:t.jsx(Aw,{}),variant:"outlined",fullWidth:!0,sx:{mt:1,textTransform:"none",borderRadius:2},children:"Add a Comment"})]})]})})]}),s&&S&&t.jsx(vw,{open:v,onClose:()=>I(!1),onSuccess:$,contentType:"poll",contentId:s.id,fundingData:H()}),t.jsx(uv,{open:!!m,autoHideDuration:6e3,onClose:()=>g(null),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:t.jsx(dt,{onClose:()=>g(null),severity:"error",sx:{width:"100%"},children:m})})]}):t.jsx(Tt,{maxWidth:"lg",sx:{mt:4},children:t.jsx(j,{variant:"h4",children:"Poll not found"})})},RW=()=>{const[e,n]=x.useState(null),[r,s]=x.useState(!0),[o,i]=x.useState(!1),[l,d]=x.useState(!1),[u,h]=x.useState(null),[p,m]=x.useState(null),[g,y]=x.useState({}),{api:b}=Qe(),{execute:w}=st();x.useEffect(()=>{v()},[]);const v=async()=>{s(!0),h(null);const A=await w(()=>b.app.account.getProfile(),{showErrorToast:!0});A&&(n(A),y({displayName:A.displayName,photoUrl:A.photoUrl})),s(!1)},I=()=>{d(!0),h(null),m(null)},S=()=>{d(!1),e&&y({displayName:e.displayName,photoUrl:e.photoUrl}),h(null),m(null)},T=async()=>{i(!0),h(null),m(null);const A=await w(()=>b.app.account.updateProfile(g),{showSuccessMessage:!0,successMessage:"Profile updated successfully"});A&&(n(A),d(!1)),i(!1)},D=A=>R=>{y(k=>({...k,[A]:R.target.value}))};return r?t.jsx(C,{sx:{p:3},children:t.jsxs(ge,{spacing:3,alignItems:"center",children:[t.jsx(ce,{variant:"circular",width:120,height:120}),t.jsx(ce,{variant:"text",width:"50%",height:40}),t.jsx(ce,{variant:"rectangular",width:"100%",height:56}),t.jsx(ce,{variant:"rectangular",width:"100%",height:56})]})}):e?t.jsx(C,{sx:{p:3},children:t.jsxs(ge,{spacing:3,children:[u&&t.jsx(dt,{severity:"error",children:u}),p&&t.jsx(dt,{severity:"success",children:p}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:2},children:[t.jsx(wn,{src:g.photoUrl||e.photoUrl,sx:{width:120,height:120,mb:2}}),t.jsx(j,{variant:"h6",children:e.email}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Joined ",new Date(e.createdAt||"").toLocaleDateString()]})]}),t.jsx(tt,{label:"Display Name",value:g.displayName||"",onChange:D("displayName"),disabled:!l,fullWidth:!0,variant:"outlined"}),t.jsx(tt,{label:"Photo URL",value:g.photoUrl||"",onChange:D("photoUrl"),disabled:!l,fullWidth:!0,variant:"outlined",placeholder:"https://example.com/photo.jpg"}),t.jsx(C,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:l?t.jsxs(t.Fragment,{children:[t.jsx(he,{variant:"outlined",startIcon:t.jsx(Is,{}),onClick:S,disabled:o,children:"Cancel"}),t.jsx(he,{variant:"contained",startIcon:o?t.jsx(bn,{size:20}):t.jsx(mv,{}),onClick:T,disabled:o,children:"Save Changes"})]}):t.jsx(he,{variant:"contained",startIcon:t.jsx(ps,{}),onClick:I,children:"Edit Profile"})})]})}):t.jsx(C,{sx:{p:3},children:t.jsx(dt,{severity:"error",children:"Failed to load profile"})})},Or={PAYPAL:"paypal",STRIPE:"stripe",IYZICO:"iyzico",BANK_TRANSFER:"bank_transfer",CREDIT_CARD:"credit_card",OTHER:"other"};var _W={VITE_API_URL:"https://journalist-api--journalist-2bf9e.europe-west4.hosted.app/",VITE_PAYPAL_CLIENT_ID:"AUvVGkHGJD8OKekE_4XxFzzKL8a8yLtJ3ZG1woE3OobNy57zyofuPIiUo-zZag0O_L1KPB_u4TB0tuJp",VITE_PAYPAL_MODE:"sandbox",VITE_ENV:"staging",VITE_PAYPAL_MERCHANT_ID:"4VNUQ7KFJXJG8",BASE_URL:"/journalist-material-client/",MODE:"staging",DEV:!1,PROD:!0,SSR:!1};const kW=({onSuccess:e,onError:n,disabled:r=!1})=>{const[s,o]=x.useState(!1),[i,l]=x.useState(!1),[d,u]=x.useState(null),h=x.useRef(null),{api:p}=Qe(),m="AUvVGkHGJD8OKekE_4XxFzzKL8a8yLtJ3ZG1woE3OobNy57zyofuPIiUo-zZag0O_L1KPB_u4TB0tuJp",g="4VNUQ7KFJXJG8",y=_W.VITE_PAYPAL_ENV||"sandbox";return x.useEffect(()=>{var w;if((w=window.paypal)!=null&&w.PayoutsAAC){o(!0);return}const b=document.createElement("script");return b.src="https://www.paypalobjects.com/payouts/js/payouts_aac.js",b.async=!0,b.onload=()=>{o(!0)},b.onerror=()=>{const v="Failed to load PayPal Payouts SDK";u(v),n(v)},document.head.appendChild(b),()=>{document.head.contains(b)&&document.head.removeChild(b)}},[n]),x.useEffect(()=>{var b;if(!(!s||r||!h.current||!((b=window.paypal)!=null&&b.PayoutsAAC))){h.current&&(h.current.innerHTML="");try{window.paypal.PayoutsAAC.render({env:y,clientId:{sandbox:m},merchantId:g,pageType:"login",onLogin:async w=>{if(w.err){console.error("PayPal AAC error:",w.err);const v="Failed to connect PayPal account";u(v),n(v),l(!1);return}try{l(!0),u(null);const v=w.body.code,I=await p.app.account.exchangePayPalAuthCode(v);if(!I.payerId||!I.email)throw new Error("Failed to retrieve payer information from PayPal");await p.app.account.savePayPalPayoutMethod({payerId:I.payerId,email:I.email}),e(I)}catch(v){const I=v.message||"Failed to save PayPal payout method";u(I),n(I)}finally{l(!1)}}},`#${h.current.id}`)}catch(w){console.error("Error rendering PayPal AAC:",w);const v="Failed to initialize PayPal connection";u(v),n(v)}}},[s,r,m,g,y,p,e,n]),s?t.jsxs(C,{sx:{textAlign:"center",py:3},children:[d&&t.jsx(dt,{severity:"error",sx:{mb:2},children:d}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Connect your PayPal account to receive payouts securely"}),t.jsx("div",{id:"paypal-payout-connect-container",ref:h,style:{minHeight:"50px"}}),i&&t.jsxs(C,{sx:{mt:2,display:"flex",alignItems:"center",justifyContent:"center",gap:1},children:[t.jsx(bn,{size:16}),t.jsx(j,{variant:"caption",color:"text.secondary",children:"Connecting to PayPal..."})]}),t.jsx(j,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:2},children:"Your PayPal email will be used to send you payouts"})]}):t.jsxs(C,{sx:{textAlign:"center",py:3},children:[t.jsx(bn,{size:24}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Loading PayPal..."})]})},OW=({onSuccess:e,onError:n,disabled:r=!1})=>{const[s,o]=x.useState(!1),[i,l]=x.useState(null),[d,u]=x.useState(null),[h,p]=x.useState(null),{api:m}=Qe();x.useEffect(()=>{(async()=>{try{const v=await m.app.account.getProfile();if(v!=null&&v.displayName&&(v!=null&&v.email)){const I=v.displayName.trim().split(" "),S=I[0]||"User",T=I.length>1?I.slice(1).join(" "):"Name";p({name:S,surname:T,email:v.email})}else l("Unable to retrieve user information. Please ensure your profile is complete.")}catch(v){console.error("Failed to fetch user info:",v),l("Failed to retrieve user information")}})()},[m]);const g=async()=>{try{return(await(await fetch("https://api.ipify.org?format=json")).json()).ip||"127.0.0.1"}catch{return"127.0.0.1"}},y=async()=>{if(!h){l("User information is not available");return}try{o(!0),l(null);const w=await g(),v=await m.app.iyzicoToken.initializeTokenization({name:h.name,surname:h.surname,email:h.email,ip:w});if(!v.sessionToken)throw new Error("Failed to initialize Iyzico session");if(u(v.sessionToken),v.checkoutFormContent){const I=window.open("","IyzicoCheckout","width=800,height=600");if(I){I.document.write(v.checkoutFormContent),I.document.close(),window.addEventListener("message",b,!1);const S=setInterval(()=>{I.closed&&(clearInterval(S),window.removeEventListener("message",b,!1),o(!1),l("Payment window was closed"))},1e3)}else throw new Error("Failed to open payment window. Please allow popups.")}else if(v.paymentPageUrl)window.open(v.paymentPageUrl,"IyzicoCheckout","width=800,height=600");else throw new Error("No checkout method provided by Iyzico")}catch(w){const v=w.message||"Failed to initialize Iyzico payment";l(v),n(v),o(!1)}},b=async w=>{if(w.origin===window.location.origin)if(w.data&&w.data.type==="IYZICO_CHECKOUT_SUCCESS")try{if(!d||!h)throw new Error("Session information is missing");const v=await g(),I=await m.app.iyzicoToken.savePaymentMethod({sessionToken:d,name:h.name,surname:h.surname,email:h.email,ip:v});window.removeEventListener("message",b,!1),o(!1),e(I)}catch(v){const I=v.message||"Failed to save Iyzico payment method";l(I),n(I),o(!1)}else if(w.data&&w.data.type==="IYZICO_CHECKOUT_ERROR"){window.removeEventListener("message",b,!1),o(!1);const v=w.data.message||"Payment failed";l(v),n(v)}else w.data&&w.data.type==="IYZICO_CHECKOUT_CANCEL"&&(window.removeEventListener("message",b,!1),o(!1),console.log("Iyzico payment cancelled by user"))};return h?t.jsxs(C,{sx:{textAlign:"center",py:3},children:[i&&t.jsx(dt,{severity:"error",sx:{mb:2},children:i}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Kartnz gvenli bir ekilde Iyzico ile kaydedin"}),t.jsx(he,{variant:"contained",onClick:y,disabled:r||s||!h,sx:{backgroundColor:"#1B4332",color:"white","&:hover":{backgroundColor:"#2D5A3D"},"&:disabled":{backgroundColor:"#ccc"},minHeight:"48px",minWidth:"200px",fontWeight:"bold"},children:s?"yzico ile Balanyor...":"yzico ile deme Ekle"}),s&&t.jsx(j,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:2},children:"Gvenli deme sayfasna ynlendiriliyorsunuz..."}),t.jsx(j,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:2},children:"Kart bilgileriniz Iyzico'nun gvenli sisteminde saklanr"}),t.jsx(j,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:1},children:"lem tamamlandktan sonra pop-up pencereyi kapatabilirsiniz"})]}):t.jsx(C,{sx:{textAlign:"center",py:2},children:t.jsx(j,{variant:"body2",color:"text.secondary",children:"Loading user information..."})})},MW=()=>{const e=ln(),[n,r]=x.useState([]),[s,o]=x.useState([]),[i,l]=x.useState(!0),[d,u]=x.useState(null),[h,p]=x.useState(null),[m,g]=x.useState(!1),[y,b]=x.useState(null),[w,v]=x.useState(!1),[I,S]=x.useState(!1),{api:T}=Qe(),{execute:D}=st();x.useEffect(()=>{A()},[]);const A=async()=>{l(!0),u(null);const[V,ee]=await Promise.all([D(()=>T.app.account.getPayoutMethods(),{showErrorToast:!0}),D(()=>T.app.account.getAvailablePayoutMethods(),{showErrorToast:!1})]);V&&r(V.items??[]),ee&&o(ee),l(!1)},R=async V=>{u(null),await D(()=>T.app.account.setDefaultPayoutMethod(V.id),{showSuccessMessage:!0,successMessage:"Default payout method updated"})&&await A()},k=async()=>{if(!y)return;u(null),await D(()=>T.app.account.deletePayoutMethod(y.id),{showSuccessMessage:!0,successMessage:"Payout method deleted successfully"})&&(await A(),g(!1),b(null))},_=V=>{b(V),g(!0)},N=()=>{g(!1),b(null)},W=async()=>{await A(),p("Payout method added successfully")},Y=()=>{v(!0)},$=async()=>{try{v(!1),p("Connecting PayPal account..."),await A(),p("PayPal account connected successfully!")}catch(V){console.error("Error refreshing payout methods:",V),p("PayPal account connected successfully!")}},H=V=>{u(V),v(!1)},J=()=>{S(!0)},X=async()=>{S(!1),await W(),p("Iyzico card added successfully!")},K=V=>{u(V),S(!1)},Z=V=>{switch(V){case Or.PAYPAL:return t.jsx(wn,{sx:{bgcolor:"#0070ba",width:40,height:40,fontSize:"12px",fontWeight:"bold",color:"white"},children:"PayPal"});case Or.IYZICO:return t.jsx(wn,{sx:{bgcolor:"#00a650",width:40,height:40,fontSize:"11px",fontWeight:"bold",color:"white"},children:"iyzico"});default:return t.jsx(wn,{sx:{bgcolor:e.palette.grey[400],width:40,height:40},children:t.jsx(xv,{})})}},G=V=>{var Pe,pe,Re,le,re,je;switch((Pe=V.provider)==null?void 0:Pe.code){case Or.PAYPAL:return((pe=V.payoutDetails)==null?void 0:pe.email)||V.payoutIdentifier;case Or.IYZICO:{const Oe=((Re=V.payoutDetails)==null?void 0:Re.cardAssociation)||"Card",be=((le=V.payoutDetails)==null?void 0:le.lastFourDigits)||"****";return`${Oe}  ${be}`}case Or.BANK_TRANSFER:return((re=V.payoutDetails)==null?void 0:re.iban)||((je=V.payoutDetails)==null?void 0:je.accountNumber)||V.payoutIdentifier;default:return V.payoutIdentifier||"Payout method"}},oe=V=>s.some(ee=>ee.code===V);return i?t.jsx(C,{sx:{p:3},children:t.jsx(ge,{spacing:2,children:[...Array(3)].map((V,ee)=>t.jsx(Fe,{children:t.jsx(Be,{children:t.jsxs(ge,{direction:"row",spacing:2,alignItems:"center",children:[t.jsx(ce,{variant:"circular",width:40,height:40}),t.jsxs(C,{sx:{flex:1},children:[t.jsx(ce,{variant:"text",width:"60%"}),t.jsx(ce,{variant:"text",width:"40%"})]}),t.jsx(ce,{variant:"rectangular",width:100,height:32})]})})},ee))})}):t.jsxs(C,{children:[t.jsxs(ge,{spacing:3,children:[d&&t.jsx(dt,{severity:"error",sx:{mb:2},children:d}),h&&t.jsx(dt,{severity:"success",sx:{mb:2},children:h}),t.jsxs(C,{sx:{mb:3},children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:.5},children:"Payout Methods"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Manage your payout methods for receiving earnings"})]}),t.jsxs(ge,{spacing:0,divider:t.jsx(Lt,{}),sx:{border:"1px solid",borderColor:"divider",borderRadius:2,overflow:"hidden"},children:[oe(Or.PAYPAL)&&t.jsxs(C,{sx:{p:2.5,display:"flex",alignItems:"center",gap:2.5,transition:"background-color 0.2s","&:hover":{bgcolor:e.palette.mode==="dark"?"rgba(255,255,255,0.02)":"rgba(0,0,0,0.01)"}},children:[t.jsx(C,{sx:{flexShrink:0},children:t.jsx(wn,{sx:{bgcolor:"#0070ba",width:40,height:40,fontSize:"12px",fontWeight:"bold",color:"white"},children:"PayPal"})}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[t.jsx(j,{variant:"body1",sx:{fontWeight:600},children:"PayPal"}),n.some(V=>{var ee;return((ee=V.provider)==null?void 0:ee.code)===Or.PAYPAL})&&t.jsx(Je,{label:"Connected",size:"small",color:"success",sx:{height:20,fontSize:"0.7rem",fontWeight:600}})]}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.875rem"},children:"Connect your PayPal account securely"})]}),t.jsx(C,{sx:{flexShrink:0,width:100},children:t.jsx(he,{onClick:Y,size:"small",variant:"outlined",fullWidth:!0,sx:{borderRadius:1.5,textTransform:"none",fontSize:"0.8rem",fontWeight:500},children:n.some(V=>{var ee;return((ee=V.provider)==null?void 0:ee.code)===Or.PAYPAL})?"Add Another":"Connect"})})]}),oe(Or.IYZICO)&&t.jsxs(C,{sx:{p:2.5,display:"flex",alignItems:"center",gap:2.5,transition:"background-color 0.2s","&:hover":{bgcolor:e.palette.mode==="dark"?"rgba(255,255,255,0.02)":"rgba(0,0,0,0.01)"}},children:[t.jsx(C,{sx:{flexShrink:0},children:t.jsx(wn,{sx:{bgcolor:"#00a650",width:40,height:40,fontSize:"11px",fontWeight:"bold",color:"white"},children:"iyzico"})}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[t.jsx(j,{variant:"body1",sx:{fontWeight:600},children:"Credit/Debit Card"}),n.some(V=>{var ee;return((ee=V.provider)==null?void 0:ee.code)===Or.IYZICO})&&t.jsx(Je,{label:`${n.filter(V=>{var ee;return((ee=V.provider)==null?void 0:ee.code)===Or.IYZICO}).length} Card(s)`,size:"small",color:"success",sx:{height:20,fontSize:"0.7rem",fontWeight:600}})]}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.875rem"},children:"Gvenli kart deme sistemi"})]}),t.jsx(C,{sx:{flexShrink:0,width:100},children:t.jsx(he,{onClick:J,size:"small",variant:"outlined",fullWidth:!0,sx:{borderRadius:1.5,textTransform:"none",fontSize:"0.8rem",fontWeight:500},children:"Add Card"})})]}),!oe(Or.PAYPAL)&&!oe(Or.IYZICO)&&t.jsx(C,{sx:{p:3,textAlign:"center"},children:t.jsx(j,{variant:"body2",color:"text.secondary",children:"No payout methods are currently available in your region."})})]}),n.length>0&&t.jsxs(t.Fragment,{children:[t.jsxs(C,{sx:{mt:4,mb:2},children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:.5},children:"Connected Methods"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Your active payout methods"})]}),t.jsx(ge,{spacing:0,divider:t.jsx(Lt,{}),sx:{border:"1px solid",borderColor:"divider",borderRadius:2,overflow:"hidden"},children:n.map((V,ee)=>{var Pe,pe;return t.jsxs(C,{sx:{p:2.5,display:"flex",alignItems:"center",gap:2.5,bgcolor:ee%2===0?"transparent":e.palette.mode==="dark"?"rgba(255,255,255,0.02)":"rgba(0,0,0,0.01)",transition:"background-color 0.2s","&:hover":{bgcolor:e.palette.mode==="dark"?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.03)"}},children:[t.jsx(C,{sx:{flexShrink:0},children:Z(((Pe=V.provider)==null?void 0:Pe.code)||"")}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1.5,mb:.5},children:[t.jsx(j,{variant:"body1",sx:{fontWeight:600},children:((pe=V.provider)==null?void 0:pe.name)||"Payout Method"}),V.isDefault&&t.jsx(Je,{label:"Default",size:"small",sx:{height:20,fontSize:"0.7rem",fontWeight:600,bgcolor:"primary.main",color:"primary.contrastText"}})]}),t.jsx(j,{variant:"body2",color:"text.primary",sx:{mb:.5,fontFamily:"monospace",fontSize:"0.875rem"},children:G(V)}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[t.jsx(j,{variant:"caption",color:"text.secondary",sx:{fontWeight:500},children:V.currency.toUpperCase()}),V.lastUsedAt&&t.jsxs(t.Fragment,{children:[t.jsx(C,{sx:{width:3,height:3,bgcolor:"text.secondary",borderRadius:"50%",opacity:.5}}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Last used ",new Date(V.lastUsedAt).toLocaleDateString()]})]})]})]}),t.jsxs(C,{sx:{display:"flex",gap:1,flexShrink:0},children:[!V.isDefault&&t.jsx(he,{onClick:()=>R(V),size:"small",variant:"outlined",sx:{borderRadius:1.5,textTransform:"none",fontSize:"0.75rem",fontWeight:500,px:1.5,minWidth:"auto"},children:"Set default"}),t.jsx(Le,{onClick:()=>_(V),size:"small",sx:{color:"text.secondary","&:hover":{color:"error.main",bgcolor:"error.main"}},children:t.jsx(Dc,{fontSize:"small"})})]})]},V.id)})})]})]}),t.jsxs(qt,{open:m,onClose:N,children:[t.jsx(tn,{children:"Delete Payout Method"}),t.jsx(Kt,{children:t.jsxs(j,{children:["Are you sure you want to delete this payout method?",(y==null?void 0:y.isDefault)&&t.jsx(dt,{severity:"warning",sx:{mt:2},children:"This is your default payout method. You'll need to set another payout method as default."})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:N,children:"Cancel"}),t.jsx(he,{onClick:k,color:"error",variant:"contained",children:"Delete"})]})]}),t.jsxs(qt,{open:w,onClose:()=>v(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Connect PayPal Account for Payouts"}),t.jsx(Kt,{children:t.jsx(kW,{onSuccess:$,onError:H,disabled:!1})}),t.jsx(Xt,{children:t.jsx(he,{onClick:()=>v(!1),children:"Cancel"})})]}),t.jsxs(qt,{open:I,onClose:()=>S(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Kart Ekleme"}),t.jsx(Kt,{children:t.jsx(OW,{onSuccess:X,onError:K,disabled:!1})}),t.jsx(Xt,{children:t.jsx(he,{onClick:()=>S(!1),children:"ptal"})})]})]})},gn={ACTIVE:1,CANCELLED:2,EXPIRED:3,PENDING:4,SUSPENDED:5},NW={[gn.ACTIVE]:"active",[gn.CANCELLED]:"cancelled",[gn.EXPIRED]:"expired",[gn.PENDING]:"pending",[gn.SUSPENDED]:"suspended"},Rw={active:gn.ACTIVE,cancelled:gn.CANCELLED,expired:gn.EXPIRED,pending:gn.PENDING,suspended:gn.SUSPENDED};function LW(e){if(typeof e=="number")return Object.values(gn).includes(e)?e:gn.PENDING;const n=e.toLowerCase();return Rw[n]||gn.PENDING}function _w(e){if(typeof e=="string"){const n=e.toLowerCase();return n in Rw?n:"pending"}return NW[e]||"pending"}function $W(e){return LW(e)===gn.ACTIVE}function Kc(e){const n=_w(e);switch(n){case"active":return"Active";case"cancelled":return"Cancelled";case"expired":return"Expired";case"pending":return"Pending";case"suspended":return"Suspended";default:return n.charAt(0).toUpperCase()+n.slice(1)}}function Xc(e){switch(_w(e)){case"active":return"success";case"cancelled":return"warning";case"expired":return"error";case"pending":return"info";case"suspended":return"info";default:return"default"}}function FW(e){return $W(e)}const WW=[{id:gn.ACTIVE,value:"active",label:"Active"},{id:gn.CANCELLED,value:"cancelled",label:"Cancelled"},{id:gn.EXPIRED,value:"expired",label:"Expired"},{id:gn.PENDING,value:"pending",label:"Pending"},{id:gn.SUSPENDED,value:"suspended",label:"Suspended"}],BW=()=>{const[e,n]=x.useState([]),[r,s]=x.useState(!0),[o,i]=x.useState(null),[l,d]=x.useState(null),[u,h]=x.useState(!1),[p,m]=x.useState(null),[g,y]=x.useState(!1),{api:b}=Qe(),{execute:w}=st(),v=ln(),I=async()=>{s(!0),i(null);const H=await w(()=>b.app.account.getSubscriptions(),{showErrorToast:!0});H&&n(H.items??[]),s(!1)};x.useEffect(()=>{I()},[]);const S=async()=>{if(!p)return;y(!0),i(null),await w(()=>b.app.subscription.cancelUserSubscription(p.id),{showSuccessMessage:!0,successMessage:"Subscription canceled successfully"})&&(await I(),h(!1),m(null)),y(!1)},T=H=>{m(H),h(!0)},D=()=>{h(!1),m(null)},A=H=>Xc(H),R=H=>Kc(H),k=H=>new Date(H).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),_=(H,J)=>new Intl.NumberFormat("en-US",{style:"currency",currency:J.toUpperCase()}).format(H/100),N=H=>FW(H.statusId),W=H=>{var J;return(J=H.paymentDetails)==null?void 0:J.some(X=>{var K;return((K=X.provider)==null?void 0:K.code)==="paypal"})};if(r)return t.jsx(C,{sx:{p:{xs:2,md:4}},children:t.jsxs(ge,{spacing:3,children:[t.jsxs(C,{children:[t.jsx(ce,{variant:"text",sx:{fontSize:"1.5rem",width:"200px",mb:1}}),t.jsx(ce,{variant:"text",sx:{fontSize:"0.875rem",width:"150px"}})]}),t.jsx(F,{container:!0,spacing:3,children:[...Array(3)].map((H,J)=>t.jsx(F,{item:!0,xs:12,lg:6,children:t.jsxs(Fe,{sx:{height:"100%"},children:[t.jsx(Be,{sx:{p:3},children:t.jsxs(ge,{direction:"row",spacing:3,children:[t.jsx(ce,{variant:"circular",width:64,height:64}),t.jsxs(C,{sx:{flex:1},children:[t.jsx(ce,{variant:"text",sx:{fontSize:"1.25rem",width:"70%",mb:1}}),t.jsx(ce,{variant:"text",sx:{width:"50%",mb:2}}),t.jsx(ge,{direction:"row",spacing:1,mb:2,children:t.jsx(ce,{variant:"rectangular",width:80,height:24,sx:{borderRadius:1}})}),t.jsxs(ge,{spacing:1,children:[t.jsx(ce,{variant:"text",sx:{width:"60%"}}),t.jsx(ce,{variant:"text",sx:{width:"40%"}})]})]})]})}),t.jsxs(qh,{sx:{px:3,pb:3},children:[t.jsx(ce,{variant:"rectangular",width:100,height:36,sx:{borderRadius:1}}),t.jsx(ce,{variant:"rectangular",width:120,height:36,sx:{borderRadius:1,ml:1}})]})]})},J))})]})});const Y=e.filter(H=>H.statusId===gn.ACTIVE),$=e.reduce((H,J)=>H+J.tier.price/100,0);return t.jsx(C,{sx:{p:{xs:2,md:4}},children:t.jsxs(ge,{spacing:4,children:[o&&t.jsx(dt,{severity:"error",onClose:()=>i(null),sx:{borderRadius:2},children:o}),l&&t.jsx(dt,{severity:"success",onClose:()=>d(null),sx:{borderRadius:2},children:l}),t.jsxs(C,{children:[t.jsx(j,{variant:"h4",sx:{fontWeight:600,mb:1},children:"My Subscriptions"}),t.jsx(j,{variant:"body1",color:"text.secondary",children:"Manage your channel subscriptions and contributions"})]}),e.length>0&&t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ot,{sx:{p:3,borderRadius:3,background:`linear-gradient(135deg, ${v.palette.primary.main} 0%, ${v.palette.primary.dark} 100%)`,color:"white"},children:t.jsxs(ge,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h4",sx:{fontWeight:700,mb:.5},children:Y.length}),t.jsx(j,{variant:"body2",sx:{opacity:.9},children:"Active"})]}),t.jsx(fs,{sx:{fontSize:40,opacity:.8}})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ot,{sx:{p:3,borderRadius:3,background:`linear-gradient(135deg, ${v.palette.success.main} 0%, ${v.palette.success.dark} 100%)`,color:"white"},children:t.jsxs(ge,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(C,{children:[t.jsxs(j,{variant:"h4",sx:{fontWeight:700,mb:.5},children:["$",$.toFixed(0)]}),t.jsx(j,{variant:"body2",sx:{opacity:.9},children:"Monthly Value"})]}),t.jsx(Of,{sx:{fontSize:40,opacity:.8}})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ot,{sx:{p:3,borderRadius:3,border:`1px solid ${v.palette.divider}`},children:t.jsxs(ge,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h4",sx:{fontWeight:700,mb:.5,color:"text.primary"},children:e.length}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Total"})]}),t.jsx(ka,{sx:{fontSize:40,color:"text.secondary"}})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ot,{sx:{p:3,borderRadius:3,border:`1px solid ${v.palette.divider}`},children:t.jsxs(ge,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h4",sx:{fontWeight:700,mb:.5,color:"text.primary"},children:e.filter(H=>H.autoContribute).length}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Auto-contribute"})]}),t.jsx(aR,{sx:{fontSize:40,color:"text.secondary"}})]})})})]}),e.length===0?t.jsx(ot,{sx:{textAlign:"center",py:8,px:4,borderRadius:4,background:`linear-gradient(135deg, ${fe(v.palette.primary.main,.02)} 0%, ${fe(v.palette.primary.main,.05)} 100%)`,border:`1px solid ${fe(v.palette.primary.main,.1)}`},children:t.jsxs(C,{sx:{maxWidth:400,mx:"auto"},children:[t.jsx(ka,{sx:{fontSize:80,color:"primary.main",opacity:.6,mb:3}}),t.jsx(j,{variant:"h5",sx:{fontWeight:600,mb:2},children:"No Subscriptions Yet"}),t.jsx(j,{variant:"body1",color:"text.secondary",sx:{mb:4,lineHeight:1.6},children:"Discover amazing channels and support creators by subscribing to their content. Your subscriptions will appear here."}),t.jsx(he,{variant:"contained",size:"large",href:"/app/channels",sx:{borderRadius:2,py:1.5,px:4,textTransform:"none",fontSize:"1rem",fontWeight:600},children:"Explore Channels"})]})}):t.jsx(F,{container:!0,spacing:3,children:e.map(H=>t.jsx(F,{item:!0,xs:12,lg:6,children:t.jsxs(Fe,{sx:{height:"100%",borderRadius:3,border:`1px solid ${v.palette.divider}`,transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:v.shadows[8]}},children:[t.jsx(Be,{sx:{p:3},children:t.jsxs(ge,{direction:"row",spacing:3,children:[t.jsx(wn,{sx:{width:64,height:64,border:`2px solid ${v.palette.divider}`,fontSize:"1.5rem",fontWeight:600},src:`https://via.placeholder.com/64x64?text=${H.channel.name.charAt(0)}`,children:H.channel.name.charAt(0)}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsxs(ge,{direction:"row",alignItems:"flex-start",justifyContent:"space-between",mb:1,children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:H.channel.name}),t.jsx(Le,{size:"small",sx:{ml:1},children:t.jsx(Mf,{fontSize:"small"})})]}),t.jsxs(ge,{direction:"row",alignItems:"center",spacing:2,mb:2,children:[t.jsx(j,{variant:"body2",color:"text.secondary",children:H.tier.name}),t.jsxs(j,{variant:"body2",sx:{fontWeight:600,color:"primary.main"},children:[_(H.tier.price,H.tier.currency),"/month"]})]}),t.jsxs(ge,{direction:"row",spacing:1,mb:2,flexWrap:"wrap",children:[t.jsx(Je,{label:R(H.statusId),color:A(H.statusId),size:"small",sx:{borderRadius:1}}),W(H)&&t.jsx(Je,{label:"PayPal",variant:"outlined",size:"small",sx:{borderRadius:1,borderColor:"#0070BA",color:"#0070BA",fontWeight:600}}),H.autoContribute&&t.jsx(Je,{label:"Auto-contribute",variant:"outlined",size:"small",sx:{borderRadius:1}})]}),t.jsxs(ge,{spacing:.5,children:[t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Started: ",k(H.subscribedAt)]}),H.expiresAt&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Expires: ",k(H.expiresAt)]}),H.totalContributions>0&&t.jsxs(j,{variant:"caption",color:"success.main",children:["Total contributed: ",_(H.totalContributions,H.tier.currency)]})]})]})]})}),t.jsx(Lt,{}),t.jsxs(qh,{sx:{p:3,pt:2},children:[t.jsx(he,{variant:"outlined",size:"small",href:`${ye.APP_CHANNEL_VIEW}`.replace(":id",H.channel.id),endIcon:t.jsx(iR,{}),sx:{borderRadius:1.5,textTransform:"none",fontWeight:500},children:"View Channel"}),N(H)&&t.jsx(he,{variant:"text",color:"error",size:"small",startIcon:t.jsx(Is,{}),onClick:()=>T(H),sx:{borderRadius:1.5,textTransform:"none",fontWeight:500,ml:"auto"},children:"Cancel"})]})]})},H.id))}),t.jsxs(qt,{open:u,onClose:D,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:3,p:1}},children:[t.jsx(tn,{sx:{pb:1},children:t.jsx(j,{variant:"h5",sx:{fontWeight:600},children:"Cancel Subscription"})}),t.jsx(Kt,{sx:{pb:2},children:t.jsxs(ge,{spacing:2,children:[t.jsxs(j,{variant:"body1",children:["Are you sure you want to cancel your subscription to"," ",t.jsx(j,{component:"span",sx:{fontWeight:600,color:"primary.main"},children:p==null?void 0:p.channel.name}),"?"]}),p&&W(p)&&t.jsx(ot,{sx:{p:2,borderRadius:2,bgcolor:fe(v.palette.info.main,.05),border:`1px solid ${fe(v.palette.info.main,.2)}`},children:t.jsxs(j,{variant:"body2",color:"text.secondary",sx:{mb:1},children:[t.jsx(j,{component:"span",sx:{fontWeight:600,color:"info.main"},children:"PayPal Subscription:"})," ","This will cancel your PayPal subscription automatically. Your PayPal recurring payment will be stopped."]})}),t.jsx(ot,{sx:{p:2,borderRadius:2,bgcolor:fe(v.palette.warning.main,.05),border:`1px solid ${fe(v.palette.warning.main,.2)}`},children:t.jsxs(j,{variant:"body2",color:"text.secondary",children:["You will continue to have access until your current billing period ends",(p==null?void 0:p.expiresAt)&&t.jsxs(j,{component:"span",sx:{fontWeight:500},children:[" ","on ",k(p.expiresAt)]}),"."]})})]})}),t.jsxs(Xt,{sx:{p:3,pt:1},children:[t.jsx(he,{onClick:D,disabled:g,variant:"outlined",sx:{borderRadius:2,textTransform:"none",fontWeight:500,px:3},children:"Keep Subscription"}),t.jsx(he,{onClick:S,color:"error",variant:"contained",disabled:g,sx:{borderRadius:2,textTransform:"none",fontWeight:500,px:3},children:g?"Canceling...":"Cancel Subscription"})]})]})]})})},VW=()=>{const{isDarkMode:e,toggleTheme:n}=Mp(),[r,s]=x.useState(e?"dark":"light"),o=i=>{const l=i.target.value;s(l),(l==="dark"&&!e||l==="light"&&e)&&n()};return t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:.5},children:"Appearance"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Customize how MetaJourno looks on your device"}),t.jsx(ot,{elevation:0,sx:{p:3,border:"1px solid",borderColor:"divider",borderRadius:2},children:t.jsxs(ht,{component:"fieldset",children:[t.jsx(hR,{component:"legend",sx:{fontWeight:600,mb:2},children:"Theme mode"}),t.jsxs(fR,{value:r,onChange:o,children:[t.jsx(Ma,{value:"light",control:t.jsx(Xb,{}),label:t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(pR,{fontSize:"small"}),t.jsxs(C,{children:[t.jsx(j,{variant:"body1",children:"Light"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:"Use light theme"})]})]}),sx:{mb:2,p:1.5,borderRadius:1,"&:hover":{bgcolor:"action.hover"}}}),t.jsx(Ma,{value:"dark",control:t.jsx(Xb,{}),label:t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(mR,{fontSize:"small"}),t.jsxs(C,{children:[t.jsx(j,{variant:"body1",children:"Dark"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:"Use dark theme"})]})]}),sx:{p:1.5,borderRadius:1,"&:hover":{bgcolor:"action.hover"}}})]})]})})]})},Xy=Me(Le)(({theme:e})=>({position:"absolute",top:"50%",transform:"translateY(-50%)",zIndex:1,backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.04)",width:32,height:32,"&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.08)"}})),UW=()=>{const[e,n]=x.useState("profile"),{user:r}=As(),s=x.useRef(null),[o,i]=x.useState(!1),[l,d]=x.useState(!1),u=[{id:"profile",icon:t.jsx(cR,{}),label:"Profile",divider:!1},{id:"payment",icon:t.jsx(_a,{}),label:"Payout Methods",divider:!1},{id:"subscriptions",icon:t.jsx(ka,{}),label:"Subscriptions",divider:!0},{id:"appearance",icon:t.jsx(dR,{}),label:"Appearance",divider:!1},{id:"notifications",icon:t.jsx(uR,{}),label:"Notifications",divider:!1},{id:"security",icon:t.jsx(gv,{}),label:"Password and authentication",divider:!1}],h=()=>{var b;const y=(b=s.current)==null?void 0:b.querySelector(".MuiTabs-scroller");if(y){const{scrollLeft:w,scrollWidth:v,clientWidth:I}=y;i(w>0),d(w+I<v-1)}};x.useEffect(()=>{var b;h();const y=(b=s.current)==null?void 0:b.querySelector(".MuiTabs-scroller");if(y)return y.addEventListener("scroll",h),window.addEventListener("resize",h),()=>{y.removeEventListener("scroll",h),window.removeEventListener("resize",h)}},[]);const p=()=>{var b;const y=(b=s.current)==null?void 0:b.querySelector(".MuiTabs-scroller");y&&y.scrollBy({left:-200,behavior:"smooth"})},m=()=>{var b;const y=(b=s.current)==null?void 0:b.querySelector(".MuiTabs-scroller");y&&y.scrollBy({left:200,behavior:"smooth"})},g=()=>{switch(e){case"profile":return t.jsx(RW,{});case"payment":return t.jsx(MW,{});case"subscriptions":return t.jsx(BW,{});case"appearance":return t.jsx(VW,{});case"notifications":return t.jsxs(C,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Notifications"}),t.jsx(j,{color:"text.secondary",children:"Notification settings coming soon..."})]});case"security":return t.jsxs(C,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Password and authentication"}),t.jsx(j,{color:"text.secondary",children:"Security settings coming soon..."})]});default:return null}};return t.jsxs(C,{sx:{width:"100%",overflow:"hidden"},children:[t.jsxs(C,{sx:{mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2,mb:1},children:[t.jsx(j,{variant:"h5",sx:{fontWeight:600},children:(r==null?void 0:r.displayName)||"Account"}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["(",(r==null?void 0:r.email)||"user",")"]})]}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Your personal account"})]}),t.jsxs(C,{sx:{position:"relative",mb:3},ref:s,children:[o&&t.jsx(Xy,{onClick:p,sx:{left:0},children:t.jsx(Hs,{fontSize:"small"})}),t.jsx(yo,{value:e,onChange:(y,b)=>n(b),variant:"scrollable",scrollButtons:!1,sx:{borderBottom:1,borderColor:"divider","& .MuiTabs-scroller":{"&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",msOverflowStyle:"none"},"& .MuiTabs-indicator":{height:2,borderRadius:"2px 2px 0 0"},"& .MuiTab-root":{minWidth:"auto",px:2.5,py:1.5,textTransform:"none",fontSize:"0.875rem",fontWeight:500,color:"text.secondary","&.Mui-selected":{color:"primary.main",fontWeight:600}}},children:u.map(y=>t.jsx(nr,{value:y.id,label:y.label,icon:y.icon,iconPosition:"start",sx:{minHeight:48,gap:.75}},y.id))}),l&&t.jsx(Xy,{onClick:m,sx:{right:0},children:t.jsx(lR,{fontSize:"small"})})]}),t.jsx(C,{children:g()})]})},Pm=({children:e,isHighlighted:n=!1,contentPadding:r=3,noHover:s=!1,contentSx:o,sx:i,...l})=>t.jsx(Fe,{elevation:n?2:0,sx:{height:"100%",position:"relative",borderRadius:2,border:"1px solid",borderColor:d=>n?"primary.main":d.palette.mode==="dark"?fe(d.palette.common.white,.1):fe(d.palette.common.black,.08),bgcolor:d=>n?fe(d.palette.primary.main,d.palette.mode==="dark"?.1:.05):"background.paper",transition:"all 0.2s ease-in-out",...!s&&{"&:hover":{borderColor:"primary.main",transform:"translateY(-2px)"}},...i},...l,children:t.jsx(Be,{sx:{p:r,"&:last-child":{pb:r},...o},children:e})}),Im=({status:e,...n})=>{const r=s=>{switch(s){case et.APPROVED:case et.PAID:return"success";case et.REJECTED:case et.CANCELLED:return"error";case et.SUBMITTED:case et.UNDER_REVIEW:return"info";case et.DRAFT:default:return"default"}};return t.jsx(Je,{label:Mi[e],color:r(e),size:"small",variant:"filled",sx:{borderRadius:1,fontWeight:500,fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px",...n.sx},...n})},kw={TRAVEL:1,EQUIPMENT:2,ACCOMMODATION:3,FOOD:4,COMMUNICATION:5,LABOR:6,OTHER:7},Ow={TRAVEL:"Travel",EQUIPMENT:"Equipment",ACCOMMODATION:"Accommodation",FOOD:"Food",COMMUNICATION:"Communication",LABOR:"Labor",OTHER:"Other"},zW=e=>{const n=Object.entries(kw).find(([r,s])=>s===e);return n?Ow[n[0]]:"Unknown"},Mw=()=>Object.entries(kw).map(([e,n])=>({id:n,name:Ow[e]})),Dm=({expenseOrder:e,onView:n,onEdit:r,onSubmit:s,onCancel:o,onApprove:i,onReject:l,onProcessPayment:d,showActions:u=!0,userRole:h="journalist"})=>{const[p,m]=Dt.useState(null),g=!!p,y=k=>{m(k.currentTarget)},b=()=>{m(null)},w=(k,_)=>new Intl.NumberFormat("en-US",{style:"currency",currency:_}).format(k),v=e.status===et.DRAFT,I=e.status===et.DRAFT,S=[et.DRAFT,et.SUBMITTED].includes(e.status),T=[et.SUBMITTED,et.UNDER_REVIEW].includes(e.status),D=[et.SUBMITTED,et.UNDER_REVIEW].includes(e.status),A=e.status===et.APPROVED,R=()=>{const k=[];return n&&k.push(t.jsxs(we,{onClick:()=>{n(e),b()},children:[t.jsx(Ts,{sx:{mr:1},fontSize:"small"}),"View Details"]},"view")),h==="journalist"?(v&&r&&k.push(t.jsxs(we,{onClick:()=>{r(e),b()},children:[t.jsx(ps,{sx:{mr:1},fontSize:"small"}),"Edit"]},"edit")),I&&s&&k.push(t.jsxs(we,{onClick:()=>{s(e),b()},children:[t.jsx(ud,{sx:{mr:1},fontSize:"small"}),"Submit for Approval"]},"submit")),S&&o&&k.push(t.jsxs(we,{onClick:()=>{o(e),b()},sx:{color:"error.main"},children:[t.jsx(Dc,{sx:{mr:1},fontSize:"small"}),"Cancel"]},"cancel"))):(h==="admin"||h==="finance-manager")&&(T&&i&&k.push(t.jsx(we,{onClick:()=>{i(e),b()},sx:{color:"success.main"},children:"Approve"},"approve")),D&&l&&k.push(t.jsx(we,{onClick:()=>{l(e),b()},sx:{color:"error.main"},children:"Reject"},"reject")),A&&d&&k.push(t.jsx(we,{onClick:()=>{d(e),b()},sx:{color:"primary.main"},children:"Process Payment"},"process-payment"))),k};return t.jsxs(Pm,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[t.jsxs(C,{sx:{flex:1},children:[t.jsx(j,{variant:"h6",component:"h3",sx:{mb:1,fontWeight:600},children:e.title}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:1},children:e.description}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:[e.channel.name,"  ",zW(e.type.id)]})]}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Im,{status:e.status}),u&&t.jsx(Le,{size:"small",onClick:y,children:t.jsx(Mf,{})})]})]}),t.jsx(Lt,{sx:{my:2}}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h5",component:"span",sx:{fontWeight:700,color:"primary.main"},children:w(e.amount,e.currency)}),e.receiptUrl&&t.jsx(jt,{title:"Receipt attached",children:t.jsx(Gs,{sx:{ml:1,color:"success.main"},fontSize:"small"})})]}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Mr(new Date(e.createdAt),{addSuffix:!0})})]}),e.notes&&t.jsx(C,{sx:{mt:2},children:t.jsxs(j,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:['"',e.notes,'"']})}),e.rejectionReason&&t.jsx(C,{sx:{mt:2,p:2,bgcolor:"error.lighter",borderRadius:1},children:t.jsxs(j,{variant:"body2",color:"error.main",sx:{fontWeight:500},children:["Rejection Reason: ",e.rejectionReason]})}),t.jsx(bo,{anchorEl:p,open:g,onClose:b,PaperProps:{sx:{minWidth:180}},children:R()})]})};function HW(e){const{children:n,value:r,index:s,...o}=e;return t.jsx("div",{role:"tabpanel",hidden:r!==s,id:`expense-order-tabpanel-${s}`,"aria-labelledby":`expense-order-tab-${s}`,...o,children:r===s&&t.jsx(C,{sx:{py:3},children:n})})}const GW=()=>{const e=Ct(),{api:n}=Qe(),[r,s]=x.useState(0),[o,i]=x.useState([]),[l,d]=x.useState(!0),{execute:u}=st(),h=[{label:"All",status:void 0},{label:"Draft",status:et.DRAFT},{label:"Submitted",status:et.SUBMITTED},{label:"Approved",status:et.APPROVED},{label:"Paid",status:et.PAID},{label:"Rejected",status:et.REJECTED}],p=async I=>{d(!0);const S=await u(()=>n.app.expenseOrder.getMyExpenseOrders({page:1,limit:50},I),{showErrorToast:!0});S&&i(S.items),d(!1)};x.useEffect(()=>{p(h[r].status)},[r,u]);const m=(I,S)=>{s(S)},g=I=>{e(ye.APP_EXPENSE_ORDER_VIEW.replace(":id",I.id))},y=I=>{e(ye.STUDIO_EXPENSE_ORDER_EDIT.replace(":id",I.id))},b=async I=>{await u(()=>n.app.expenseOrder.submitExpenseOrder(I.id),{showSuccessMessage:!0,successMessage:"Expense order submitted successfully!"})&&p(h[r].status)},w=async I=>{await u(()=>n.app.expenseOrder.cancelExpenseOrder(I.id),{showSuccessMessage:!0,successMessage:"Expense order cancelled successfully!"})&&p(h[r].status)},v=()=>{e(ye.STUDIO_EXPENSE_ORDER_CREATE)};return t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[t.jsx(j,{variant:"h4",component:"h1",sx:{fontWeight:600},children:"My Expense Orders"}),t.jsx(he,{variant:"contained",startIcon:t.jsx(xo,{}),onClick:v,children:"Create New"})]}),t.jsx(C,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:t.jsx(yo,{value:r,onChange:m,"aria-label":"expense order status tabs",children:h.map((I,S)=>t.jsx(nr,{label:I.label},S))})}),h.map((I,S)=>t.jsx(HW,{value:r,index:S,children:l?t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(bn,{})}):o.length===0?t.jsxs(C,{sx:{textAlign:"center",py:8},children:[t.jsx(j,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"No expense orders found"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:I.status?`No ${I.label.toLowerCase()} expense orders`:"You haven't created any expense orders yet"}),t.jsx(he,{variant:"contained",startIcon:t.jsx(xo,{}),onClick:v,children:"Create Your First Expense Order"})]}):t.jsx(F,{container:!0,spacing:3,children:o.map(T=>t.jsx(F,{item:!0,xs:12,md:6,lg:4,children:t.jsx(Dm,{expenseOrder:T,onView:g,onEdit:y,onSubmit:b,onCancel:w,userRole:"journalist"})},T.id))})},S))]})},YW=()=>{const e=Ct(),{id:n}=ns(),{api:r}=Qe(),[s,o]=x.useState(null),[i,l]=x.useState(!0),[d,u]=x.useState(!1),[h,p]=x.useState(null),{execute:m}=st(),g=async()=>{if(!n)return;l(!0),p(null);const A=await m(()=>r.app.expenseOrder.getExpenseOrder(n),{showErrorToast:!0});A&&o(A),l(!1)};x.useEffect(()=>{g()},[n]);const y=(A,R)=>new Intl.NumberFormat("en-US",{style:"currency",currency:R}).format(A),b=()=>{e(ye.APP_EXPENSE_ORDERS)},w=()=>{s&&e(ye.STUDIO_EXPENSE_ORDER_EDIT.replace(":id",s.id))},v=async()=>{if(!s)return;u(!0),await m(()=>r.app.expenseOrder.submitExpenseOrder(s.id),{showSuccessMessage:!0,successMessage:"Expense order submitted successfully!"})&&await g(),u(!1)},I=async()=>{if(!s)return;u(!0),await m(()=>r.app.expenseOrder.cancelExpenseOrder(s.id),{showSuccessMessage:!0,successMessage:"Expense order cancelled successfully!"})&&await g(),u(!1)};if(i)return t.jsx(C,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:t.jsx(bn,{})});if(h||!s)return t.jsxs(C,{sx:{p:3},children:[t.jsx(dt,{severity:"error",children:h||"Expense order not found"}),t.jsx(he,{startIcon:t.jsx(Hs,{}),onClick:b,sx:{mt:2},children:"Back to Expense Orders"})]});const S=s.status===et.DRAFT,T=s.status===et.DRAFT,D=[et.DRAFT,et.SUBMITTED].includes(s.status);return t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(he,{startIcon:t.jsx(Hs,{}),onClick:b,sx:{mr:2},children:"Back"}),t.jsx(j,{variant:"h4",component:"h1",sx:{fontWeight:600,flex:1},children:"Expense Order Details"}),t.jsx(Im,{status:s.status})]}),h&&t.jsx(dt,{severity:"error",sx:{mb:3},children:h}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsxs(F,{item:!0,xs:12,md:8,children:[t.jsxs(ot,{sx:{p:3,mb:3},children:[t.jsx(j,{variant:"h5",sx:{mb:2,fontWeight:600},children:s.title}),t.jsx(j,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:s.description}),t.jsx(Lt,{sx:{my:3}}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Channel"}),t.jsx(j,{variant:"body1",sx:{fontWeight:500},children:s.channel.name})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Expense Type"}),t.jsx(j,{variant:"body1",sx:{fontWeight:500},children:s.type.name})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Amount"}),t.jsx(j,{variant:"h6",sx:{fontWeight:700,color:"primary.main"},children:y(s.amount,s.currency)})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(j,{variant:"body1",children:Ip(new Date(s.createdAt),"PPP")})]})]}),s.receiptUrl&&t.jsxs(t.Fragment,{children:[t.jsx(Lt,{sx:{my:3}}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Receipt"}),t.jsxs(dd,{href:s.receiptUrl,target:"_blank",rel:"noopener noreferrer",sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Gs,{fontSize:"small"}),"View Receipt"]})]})]}),s.notes&&t.jsxs(t.Fragment,{children:[t.jsx(Lt,{sx:{my:3}}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Notes"}),t.jsx(j,{variant:"body1",sx:{fontStyle:"italic"},children:s.notes})]})]})]}),t.jsxs(ot,{sx:{p:3},children:[t.jsx(j,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Actions"}),t.jsxs(C,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[S&&t.jsx(he,{variant:"outlined",startIcon:t.jsx(ps,{}),onClick:w,disabled:d,children:"Edit"}),T&&t.jsx(he,{variant:"contained",startIcon:t.jsx(ud,{}),onClick:v,disabled:d,children:"Submit for Approval"}),D&&t.jsx(he,{variant:"outlined",color:"error",startIcon:t.jsx(Is,{}),onClick:I,disabled:d,children:"Cancel"})]})]})]}),t.jsxs(F,{item:!0,xs:12,md:4,children:[t.jsxs(ot,{sx:{p:3,mb:3},children:[t.jsx(j,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Timeline"}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",gap:2},children:[t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:"Created"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Mr(new Date(s.createdAt),{addSuffix:!0})})]}),s.submittedAt&&t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:"Submitted"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Mr(new Date(s.submittedAt),{addSuffix:!0})})]}),s.approvedAt&&t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:s.status===et.APPROVED?"Approved":"Reviewed"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Mr(new Date(s.approvedAt),{addSuffix:!0})}),s.approver&&t.jsxs(j,{variant:"caption",display:"block",color:"text.secondary",children:["by ",s.approver.displayName]})]}),s.paidAt&&t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:"Paid"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Mr(new Date(s.paidAt),{addSuffix:!0})}),s.paymentReference&&t.jsxs(j,{variant:"caption",display:"block",color:"text.secondary",children:["Ref: ",s.paymentReference]})]})]})]}),s.rejectionReason&&t.jsxs(ot,{sx:{p:3,bgcolor:"error.lighter"},children:[t.jsx(j,{variant:"h6",sx:{mb:1,fontWeight:600,color:"error.main"},children:"Rejection Reason"}),t.jsx(j,{variant:"body2",color:"error.main",children:s.rejectionReason})]})]})]})]})},qW=Me(Fe)(({theme:e})=>({marginBottom:e.spacing(2),cursor:"pointer",transition:"all 0.2s ease","&:hover":{boxShadow:e.shadows[4],transform:"translateY(-1px)"}})),Jy=Me(Je)(({theme:e})=>({margin:e.spacing(.5),fontSize:"0.75rem"})),Qy=()=>{var Z;const e=Qo(),n=Ct(),[r,s]=x.useState(1),[o,i]=x.useState(""),[l,d]=x.useState(!0),[u,h]=x.useState([]),[p,m]=x.useState(null),[g,y]=x.useState(!1),[b,w]=x.useState(null),[v,I]=x.useState({type:"all",sortBy:"relevance"}),[S,T]=x.useState(null),{api:D}=Qe(),{execute:A}=st(),R=20;x.useEffect(()=>{const G=new URLSearchParams(e.search),oe=G.get("q"),V=G.get("type");if(oe){i(oe);const ee={...v};V&&V!=="all"&&(ee.type=V,I(ee)),N(oe,ee)}},[e.search]),x.useEffect(()=>{o&&(s(1),_(1))},[v]);const k=()=>{_(r+1)},_=async(G=r)=>{if(o){y(!0),w(null);try{const oe={};Object.entries(v).forEach(([ee,Pe])=>{if(Pe!=null&&Pe!=="")if(ee==="type"&&typeof Pe=="string"){const pe=_j[Pe];pe!==void 0&&(oe.type=pe)}else if(ee==="sortBy"&&typeof Pe=="string"){const pe=kj[Pe];pe!==void 0&&(oe.sortBy=pe)}else oe[ee]=Pe});const V=await A(()=>D==null?void 0:D.app.search.search(o,oe,{page:G,limit:R}),{showErrorToast:!0});V&&(h(G===1?V.items??[]:ee=>[...ee,...V.items??[]]),s(V.metadata.currentPage??1),d(V.metadata.hasNext===!0),m(V))}catch(oe){console.error("Search error:",oe),w(oe.message||"Search failed")}finally{y(!1)}}},N=async(G,oe)=>{I(oe||v),i(G),s(1),h([]),d(!0),setTimeout(()=>{_(1)},0)},W=G=>{const oe={...v,...G};T(null),o&&N(o,oe)},Y=(G,oe)=>{const V=encodeURIComponent(G);switch(oe){case"news":n(`${ye.APP_NEWS}?tags=${V}`);break;case"channel":n(`${ye.APP_CHANNELS}?tags=${V}`);break;case"poll":n(`${ye.APP_POLLS}?tags=${V}`);break;default:n(`${ye.APP_NEWS}?tags=${V}`);break}},$=G=>{var Pe,pe;const oe=()=>{switch(G.type){case"news":return t.jsx(Ho,{color:"primary"});case"channel":return t.jsx(Rf,{color:"secondary"});case"user":return t.jsx(Af,{color:"action"});case"poll":return t.jsx(_f,{color:"info"});case"tag":return t.jsx(kf,{color:"success"});default:return t.jsx(Ho,{color:"primary"})}},V=()=>{switch(G.type){case"news":return"primary";case"channel":return"secondary";case"user":return"default";case"poll":return"info";case"tag":return"success";default:return"default"}},ee=()=>{switch(G.type){case"news":n(ye.APP_NEWS_VIEW.replace(":id",G.id));break;case"channel":n(ye.APP_CHANNEL_VIEW.replace(":channelId",G.id));break;case"poll":n(ye.APP_POLL_VIEW.replace(":id",G.id));break;case"tag":n(`${ye.APP_SEARCH}?q=${encodeURIComponent(G.title)}`);break}};return t.jsx(qW,{onClick:ee,children:t.jsx(Be,{children:t.jsxs(C,{sx:{display:"flex",alignItems:"flex-start",gap:2},children:[t.jsx(C,{sx:{mt:.5},children:oe()}),t.jsxs(C,{sx:{flexGrow:1},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[t.jsx(j,{variant:"h6",component:"h3",sx:{fontWeight:600},children:G.title}),t.jsx(Je,{label:G.type,size:"small",color:V(),variant:"outlined"})]}),G.description&&t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:1,lineHeight:1.6},children:G.description}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap",mb:1},children:[G.channel&&t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(wn,{sx:{width:20,height:20},children:(pe=(Pe=G==null?void 0:G.channel)==null?void 0:Pe.name)==null?void 0:pe.charAt(0)}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["in ",t.jsx("strong",{children:G.channel.name})," (@",G.channel.handle,")"]})]}),G.handle&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["@",G.handle]}),G.publishedAt&&t.jsx(j,{variant:"caption",color:"text.secondary",children:new Date(G.publishedAt).toLocaleDateString()}),G.startDate&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Start: ",new Date(G.startDate).toLocaleDateString()]}),G.endDate&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["End: ",new Date(G.endDate).toLocaleDateString()]}),G.voteCount!==void 0&&t.jsx(Jy,{label:`${G.voteCount} votes`,size:"small",variant:"outlined",color:"info"}),G.usageCount!==void 0&&t.jsx(Jy,{label:`${G.usageCount} uses`,size:"small",variant:"outlined",color:"success"})]}),G.tags&&G.tags.length>0&&t.jsx(C,{sx:{display:"flex",gap:.5,flexWrap:"wrap",mb:1},children:G.tags.slice(0,5).map((Re,le)=>t.jsx(Je,{label:Re,size:"small",variant:"outlined",onClick:re=>{re.stopPropagation(),Y(Re,G.type)},sx:{fontSize:"0.7rem",cursor:"pointer","&:hover":{backgroundColor:"primary.main",color:"primary.contrastText"}}},le))}),t.jsxs(C,{sx:{display:"flex",justifyContent:"flex-end",gap:1,pt:1},children:[t.jsx(jt,{title:"Bookmark",children:t.jsx(Le,{size:"small",children:t.jsx(yR,{fontSize:"small"})})}),t.jsx(jt,{title:"Share",children:t.jsx(Le,{size:"small",children:t.jsx(vR,{fontSize:"small"})})})]})]})]})})},G.id)},H=()=>t.jsx(t.Fragment,{children:Array.from({length:5}).map((G,oe)=>t.jsxs(ot,{sx:{p:2,mb:2},children:[t.jsx(ce,{variant:"text",width:"60%",height:32}),t.jsx(ce,{variant:"text",width:"100%",height:20,sx:{mt:1}}),t.jsx(ce,{variant:"text",width:"80%",height:20}),t.jsxs(C,{sx:{display:"flex",gap:1,mt:1},children:[t.jsx(ce,{variant:"rounded",width:60,height:24}),t.jsx(ce,{variant:"rounded",width:80,height:24})]})]},oe))}),J=!!S,X=G=>{T(G.currentTarget)},K=()=>{T(null)};return t.jsxs(Tt,{maxWidth:"lg",sx:{py:3},children:[(u.length>0||g)&&o&&t.jsxs(C,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h5",sx:{mb:1},children:"Search Results"}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Found ",(((Z=p==null?void 0:p.metadata)==null?void 0:Z.total)||0).toLocaleString(),' results for "',o,'"']}),(v.type!=="all"||v.sortBy!=="relevance")&&t.jsxs(ge,{direction:"row",spacing:1,sx:{mt:2},children:[t.jsx(j,{variant:"caption",color:"text.secondary",children:"Active filters:"}),v.type!=="all"&&t.jsx(Je,{label:`Type: ${v.type}`,size:"small",onDelete:()=>W({type:"all"})}),v.sortBy!=="relevance"&&t.jsx(Je,{label:`Sort: ${v.sortBy}`,size:"small",onDelete:()=>W({sortBy:"relevance"})})]})]}),t.jsx(he,{variant:"outlined",startIcon:t.jsx(bv,{}),onClick:X,sx:{minWidth:120},children:"Filters"})]}),t.jsx(xR,{open:J,anchorEl:S,onClose:K,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:t.jsxs(ot,{sx:{p:3,minWidth:280},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[t.jsx(j,{variant:"h6",children:"Filters"}),t.jsx(Le,{size:"small",onClick:K,children:t.jsx(gR,{fontSize:"small"})})]}),t.jsxs(ht,{fullWidth:!0,sx:{mb:2},children:[t.jsx(St,{children:"Content Type"}),t.jsxs(mt,{value:v.type||"all",label:"Content Type",onChange:G=>W({type:G.target.value}),children:[t.jsx(we,{value:"all",children:"All Content"}),t.jsx(we,{value:"news",children:"Articles"}),t.jsx(we,{value:"channels",children:"Channels"}),t.jsx(we,{value:"users",children:"Journalists"}),t.jsx(we,{value:"polls",children:"Polls"}),t.jsx(we,{value:"tags",children:"Tags"})]})]}),t.jsxs(ht,{fullWidth:!0,sx:{mb:2},children:[t.jsx(St,{children:"Sort By"}),t.jsxs(mt,{value:v.sortBy||"relevance",label:"Sort By",onChange:G=>W({sortBy:G.target.value}),children:[t.jsx(we,{value:"relevance",children:"Relevance"}),t.jsx(we,{value:"date",children:"Date"}),t.jsx(we,{value:"popularity",children:"Popularity"})]})]}),t.jsx(j,{variant:"subtitle2",sx:{mb:1},children:"Time Period"}),t.jsxs(bR,{value:v.dateFrom?"custom":"all",exclusive:!0,onChange:(G,oe)=>{if(oe==="all")W({dateFrom:void 0,dateTo:void 0});else if(oe){const V=new Date,Pe={day:1,week:7,month:30,year:365}[oe]||0,pe=new Date(V.getTime()-Pe*24*60*60*1e3);W({dateFrom:pe,dateTo:V})}},size:"small",sx:{mb:2,width:"100%"},children:[t.jsx(uh,{value:"all",sx:{flex:1},children:"All"}),t.jsx(uh,{value:"week",sx:{flex:1},children:"Week"}),t.jsx(uh,{value:"month",sx:{flex:1},children:"Month"})]})]})}),b&&t.jsx(dt,{severity:"error",sx:{mb:3},children:b}),g&&u.length===0&&H(),u.length===0&&!g&&o?t.jsxs(ot,{sx:{p:4,textAlign:"center"},children:[t.jsx(j,{variant:"h6",color:"text.secondary",children:"No results found"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Try adjusting your search terms or filters"})]}):u.length>0?t.jsx(Ds,{dataLength:u.length,next:k,hasMore:l,loader:t.jsx(C,{sx:{mt:2},children:H()}),endMessage:t.jsx(C,{sx:{textAlign:"center",mt:4,color:"text.secondary",fontSize:"0.875rem"},children:"No more results to display"}),children:u.map($)}):null,!g&&!p&&!b&&t.jsxs(ot,{sx:{p:6,textAlign:"center"},children:[t.jsx(j,{variant:"h5",color:"text.secondary",sx:{mb:2},children:"Start your search"}),t.jsx(j,{variant:"body1",color:"text.secondary",children:"Search for articles, channels, journalists, polls, or tags to get started"})]})]})};var Tm={},KW=Ke;Object.defineProperty(Tm,"__esModule",{value:!0});var Nw=Tm.default=void 0,XW=KW(Xe()),JW=t;Nw=Tm.default=(0,XW.default)((0,JW.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload");const hf=({label:e,value:n,onChange:r})=>{const s=async o=>{var i;(i=o.target.files)==null||i[0]};return t.jsx(C,{sx:{width:"100%",height:200,border:"2px dashed",borderColor:"divider",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden"},children:n?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:n,alt:"Cover",style:{width:"100%",height:"100%",objectFit:"cover"}}),t.jsx(he,{onClick:()=>r(null),sx:{position:"absolute",bottom:8,right:8},children:"Remove"})]}):t.jsxs(he,{component:"label",startIcon:t.jsx(Nw,{}),children:[e??"Upload Image",t.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:s})]})})};var Em={},QW=Ke;Object.defineProperty(Em,"__esModule",{value:!0});var Lw=Em.default=void 0,ZW=QW(Xe()),eB=t;Lw=Em.default=(0,ZW.default)((0,eB.jsx)("path",{d:"M14 2H6.01c-1.1 0-2 .89-2 2L4 20c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8zm-1 7V3.5L18.5 9zm1 5 2-1.06v4.12L14 16v1c0 .55-.45 1-1 1H9c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h4c.55 0 1 .45 1 1z"}),"VideoFile");var Am={},tB=Ke;Object.defineProperty(Am,"__esModule",{value:!0});var ea=Am.default=void 0,nB=tB(Xe()),rB=t;ea=Am.default=(0,nB.default)((0,rB.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");const sB=({label:e,value:n,onChange:r})=>{const s=async i=>{var d;const l=(d=i.target.files)==null?void 0:d[0];if(l){if(l.size>52428800){alert("Video file size must be less than 50MB");return}const u=URL.createObjectURL(l);r(u)}},o=()=>{n&&URL.revokeObjectURL(n),r(null)};return t.jsx(C,{sx:{width:"100%",height:250,border:"2px dashed",borderColor:"divider",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",bgcolor:"background.paper"},children:n?t.jsxs(t.Fragment,{children:[t.jsx("video",{src:n,controls:!0,style:{width:"100%",height:"100%",objectFit:"cover"},preload:"metadata"}),t.jsx(he,{onClick:o,startIcon:t.jsx(ea,{}),color:"error",variant:"contained",size:"small",sx:{position:"absolute",bottom:8,right:8,opacity:.9},children:"Remove"})]}):t.jsxs(C,{sx:{textAlign:"center",p:3},children:[t.jsxs(he,{component:"label",startIcon:t.jsx(Lw,{}),variant:"outlined",size:"large",sx:{mb:2},children:[e??"Upload Video",t.jsx("input",{type:"file",hidden:!0,accept:"video/*",onChange:s})]}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Upload short videos (max 50MB)"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:"Supported formats: MP4, WebM, MOV"})]})})},$w=({value:e,onChange:n,mediaTypeId:r,title:s="Media",description:o="Upload an image or video",useNewsFormats:i=!0})=>{const[l,d]=x.useState(0),u=i?Gc.IMAGE:uf.IMAGE,h=i?Gc.VIDEO:uf.VIDEO,p=y=>{n(y?{id:"0",url:y,type:r,format:u}:null)},m=y=>{n(y?{id:"0",url:y,type:r,format:h}:null)},g=(y,b)=>{d(b),e&&n(null)};return t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:s}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:o}),t.jsx(C,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:t.jsxs(yo,{value:l,onChange:g,children:[t.jsx(nr,{label:"Image"}),t.jsx(nr,{label:"Video"})]})}),l===0&&t.jsx(hf,{label:"Upload Image",value:(e==null?void 0:e.format)===u?e.url:null,onChange:p}),l===1&&t.jsx(sB,{label:"Upload Video",value:(e==null?void 0:e.format)===h?e.url:null,onChange:m})]})},Fw=({initialData:e,onSubmit:n,submitButtonText:r,isEdit:s})=>{var D;const{profile:o,channelRelations:{hasChannel:i}}=xs(),l=Ct();x.useEffect(()=>{o&&(!o.staffChannels||o.staffChannels.length)},[o]);const[d,u]=x.useState(()=>({title:(e==null?void 0:e.title)||"",channelId:(e==null?void 0:e.channelId)||"",status:(e==null?void 0:e.status)||Nn.PUBLISHED,requiredTierId:(e==null?void 0:e.requiredTierId)||null,isPremium:(e==null?void 0:e.isPremium)||!1,content:(e==null?void 0:e.content)||""})),[h,p]=x.useState(!1),[m,g]=x.useState(((D=e==null?void 0:e.media)==null?void 0:D[0])||null),[y,b]=x.useState((e==null?void 0:e.socialLinks)||[]),[w,v]=x.useState(null),I=[],S=async A=>{A.preventDefault(),p(!0),v(null);try{const R={...d,media:m?[m]:[],socialLinks:y};await n(R)}catch(R){console.error("Failed to submit news:",R),v("Failed to submit news")}finally{p(!1)}},T=x.useCallback(A=>{u(R=>({...R,content:JSON.stringify(A)}))},[]);return i()?t.jsx("form",{onSubmit:S,children:t.jsxs(ge,{spacing:4,children:[w&&t.jsx(dt,{severity:"error",sx:{width:"100%"},children:w}),o&&!i()&&t.jsx(dt,{severity:"warning",action:t.jsx(he,{color:"inherit",size:"small",onClick:()=>l(ye.STUDIO_CHANNEL_CREATE),children:"Create Channel"}),children:"You need to create a channel before you can create news articles"}),i()?t.jsxs(t.Fragment,{children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{mb:3},children:"Media"}),t.jsx(ge,{spacing:4,children:t.jsx(C,{children:t.jsx($w,{title:"Cover Media",description:"Upload an image or short video that will be displayed at the top of your news article and in previews.",value:m?{id:m.id||"0",url:m.url,type:m.type,format:m.format}:null,onChange:A=>g(A?{id:A.id,url:A.url,type:A.type,format:A.format,newsId:""}:null),mediaTypeId:dl.COVER})})})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{mb:3},children:"Basic Info"}),t.jsxs(ge,{spacing:4,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Title"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Create a clear and engaging title for your news article. This will be the first thing readers see."}),t.jsx(tt,{value:d.title,onChange:A=>u(R=>({...R,title:A.target.value})),required:!0,fullWidth:!0,placeholder:"Enter news title"})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Channel"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Select the channel where this news will be published. Choose the most relevant channel for your content."}),t.jsx(ht,{fullWidth:!0,disabled:s,children:t.jsx(mt,{value:d.channelId,onChange:A=>u(R=>({...R,channelId:A.target.value})),required:!0,children:o==null?void 0:o.staffChannels.map(A=>t.jsx(we,{value:A.channelId,children:A.channel.name},A.id))})})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Content"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Write your news article using the editor below. You can add text, images, and other media elements."}),t.jsx(Ad,{data:d.content?JSON.parse(d.content):void 0,onChange:T,placeholder:"Start writing your news content...",borderColor:A=>A.palette.mode==="dark"?fe(A.palette.common.white,.23):fe(A.palette.common.black,.23)})]})]})]}),t.jsx(C,{children:t.jsx(sm,{links:y,onChange:b})}),t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{mb:3},children:"Publishing Options"}),t.jsxs(ge,{spacing:4,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Premium Content"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Mark this content as premium to restrict access to specific subscribers."}),t.jsx(Ma,{control:t.jsx(Tc,{checked:d.isPremium,onChange:A=>u(R=>({...R,isPremium:A.target.checked}))}),label:"Premium Content"})]}),d.isPremium&&t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Required Subscription Tier"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Select which subscription tier is required to access this content. Higher tiers will automatically have access to content from lower tiers."}),t.jsx(ht,{fullWidth:!0,children:t.jsx(mt,{value:d.requiredTierId||"",onChange:A=>u(R=>({...R,requiredTierId:A.target.value})),required:d.isPremium,children:I.map(A=>t.jsxs(we,{value:A.id,children:[A.name," - ",A.description]},A.id))})})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Status"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Set the visibility status of your news article."}),t.jsx(ht,{fullWidth:!0,children:t.jsxs(mt,{value:d.status,onChange:A=>{const R=Number(A.target.value);u(k=>({...k,status:R}))},children:[t.jsx(we,{value:Nn.DRAFT,children:"Draft - Save for later"}),t.jsx(we,{value:Nn.PUBLISHED,children:"Published - Visible to readers"}),t.jsx(we,{value:Nn.PENDING_REVIEW,children:"Pending Review - Submit for approval"}),t.jsx(we,{value:Nn.ARCHIVED,children:"Archived - No longer visible"})]})})]})]})]}),t.jsx(he,{type:"submit",variant:"contained",disabled:h||!i(),sx:{py:1.5,textTransform:"none",fontWeight:600},children:h?"Submitting...":r})]}):null]})}):t.jsx(C,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",p:3},children:t.jsx(Xs,{title:"Channel Required",description:"You need to create a channel before you can start publishing news articles.",icon:t.jsx(cl,{sx:{fontSize:48}}),action:{label:"Create Channel",onClick:()=>l(ye.STUDIO_CHANNEL_CREATE)}})})},oB=()=>{const{api:e}=Qe(),n=Ct(),{execute:r}=st(),s=async o=>{const i=await r(()=>e==null?void 0:e.app.news.createNews(o),{showSuccessMessage:!0,successMessage:"News article created successfully!"});i&&n(ye.APP_NEWS_VIEW.replace(":id",i.id))};return t.jsxs(C,{sx:{p:3,maxWidth:800},children:[t.jsx(j,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Create News"}),t.jsx(Fw,{onSubmit:s,submitButtonText:"Create News",isCreate:!0})]})},aB=()=>{const{id:e}=ns(),n=Ct(),{api:r}=Qe(),[s,o]=x.useState(null),{execute:i}=st(),{execute:l}=st();x.useEffect(()=>{(async()=>{if(!e)return;const h=await i(()=>r==null?void 0:r.app.news.get(e),{showErrorToast:!0});h&&o(h)})()},[e,r==null?void 0:r.app.news,i]);const d=async u=>{e&&(await l(()=>r==null?void 0:r.app.news.update(e,u),{showSuccessMessage:!0,successMessage:"News article updated successfully!"}),n(`/news/${e}`))};return s?t.jsxs(Tt,{sx:{maxWidth:800,mx:"auto",p:3},children:[t.jsx(j,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Update News"}),t.jsx(Fw,{initialData:s,onSubmit:d,submitButtonText:"Update News",isEdit:!0})]}):null},iB=()=>t.jsx(Tt,{maxWidth:"lg",sx:{mt:4},children:t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsx(ce,{variant:"rectangular",width:"100%",height:300,sx:{borderRadius:2,mb:3}})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx(Fe,{children:t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[t.jsx(ce,{variant:"text",width:"60%",height:40}),t.jsx(ge,{direction:"row",spacing:1,children:[1,2,3].map(e=>t.jsx(ce,{variant:"circular",width:40,height:40},e))})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:300,sx:{mb:3,borderRadius:1}}),t.jsxs(ge,{spacing:2,sx:{mb:3},children:[t.jsx(ce,{variant:"text",width:"100%"}),t.jsx(ce,{variant:"text",width:"95%"}),t.jsx(ce,{variant:"text",width:"90%"}),t.jsx(ce,{variant:"text",width:"85%"}),t.jsx(ce,{variant:"text",width:"95%"})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:80,sx:{mb:3,borderRadius:1}}),t.jsx(ge,{direction:"row",spacing:1,children:[1,2,3,4].map(e=>t.jsx(ce,{variant:"rounded",width:80,height:32},e))})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsx(ce,{variant:"text",width:"50%",height:32,sx:{mb:2}}),t.jsx(ge,{spacing:2,children:[1,2,3,4,5].map(e=>t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[t.jsx(ce,{variant:"text",width:"40%"}),t.jsx(ce,{variant:"text",width:"20%"})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:8,sx:{borderRadius:1}})]},e))})]})})})]})}),lB=()=>{const{id:e}=ns(),{api:n}=Qe(),{execute:r}=st(),[s,o]=x.useState(null),[i,l]=x.useState(!0);if(x.useEffect(()=>{(async()=>{if(e){l(!0);const p=await r(()=>n==null?void 0:n.app.news.get(e),{showErrorToast:!0});p&&o(p),l(!1)}})()},[e,r]),i)return t.jsx(iB,{});if(!s)return t.jsx(Tt,{maxWidth:"lg",sx:{mt:4},children:t.jsx(j,{variant:"h4",children:"Entry not found"})});const d=s.media.find(h=>h.type===dl.COVER),u=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(h);return t.jsx(Tt,{maxWidth:"lg",sx:{mt:4},children:t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsxs(C,{sx:{height:300,width:"100%",position:"relative",mb:3,borderRadius:2,overflow:"hidden"},children:[t.jsx(C,{component:"img",src:(d==null?void 0:d.url)||Td,alt:s.title,sx:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"}}),t.jsxs(C,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(transparent, rgba(0,0,0,0.7))",p:3,color:"white"},children:[t.jsx(j,{variant:"h4",component:"h1",gutterBottom:!0,children:s.title}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsxs(C,{component:Kn,to:ye.APP_CHANNEL_VIEW.replace(":channelId",s.channel.id),sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(255, 255, 255, 0.1)",color:"white",px:2,py:1,borderRadius:2,textDecoration:"none",transition:"all 0.2s ease-in-out",border:"1px solid rgba(255, 255, 255, 0.2)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.2)",transform:"translateY(-2px)"}},children:[t.jsx(ul,{sx:{mr:1}}),t.jsx(j,{variant:"subtitle2",children:s.channel.name})]}),t.jsxs(C,{sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(0, 0, 0, 0.3)",px:2,py:1,borderRadius:2,border:"1px solid rgba(255, 255, 255, 0.1)"},children:[t.jsx(ll,{sx:{mr:1,fontSize:"0.9rem"}}),t.jsx(j,{variant:"caption",children:s.creator.displayName})]})]}),t.jsx(j,{variant:"subtitle1",children:new Date(s.publishedAt).toLocaleDateString()})]})]})]})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx(Fe,{children:t.jsxs(C,{sx:{p:3},children:[t.jsx(Ad,{data:hw(s.content),readOnly:!0,borderColor:h=>h.palette.mode==="dark"?fe(h.palette.common.white,.1):fe(h.palette.common.black,.1)}),t.jsx(C,{sx:{mt:2},children:s.tags.map(h=>t.jsx(Je,{label:h.title,variant:"outlined",sx:{mr:1,mb:1}},h.id))})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(ge,{spacing:3,children:[t.jsx(sm,{links:s.socialLinks}),s.qualityMetrics&&t.jsxs(ot,{elevation:0,sx:{p:2,bgcolor:"success.light",color:"success.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[t.jsx(im,{fontSize:"large"}),t.jsxs(C,{children:[t.jsx(j,{variant:"overline",children:"Quality Score"}),t.jsxs(j,{variant:"h4",component:"div",children:[s.qualityMetrics.overallQualityScore.toFixed(1),"/10"]})]})]}),s.newsFund&&t.jsxs(ot,{elevation:0,sx:{p:2,bgcolor:"primary.light",color:"primary.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[t.jsx(Dd,{fontSize:"large"}),t.jsxs(C,{children:[t.jsx(j,{variant:"overline",children:"News Fund"}),t.jsx(j,{variant:"h4",component:"div",children:u(s.newsFund.amount)})]})]})]})})]})})};var Rm={},cB=Ke;Object.defineProperty(Rm,"__esModule",{value:!0});var kd=Rm.default=void 0,dB=cB(Xe()),uB=t;kd=Rm.default=(0,dB.default)((0,uB.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert");var _m={},hB=Ke;Object.defineProperty(_m,"__esModule",{value:!0});var hl=_m.default=void 0,fB=hB(Xe()),pB=t;hl=_m.default=(0,fB.default)((0,pB.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");const km=({open:e,onClose:n,onConfirm:r,title:s,content:o,confirmText:i="Confirm",cancelText:l="Cancel",confirmColor:d="primary"})=>t.jsxs(qt,{open:e,onClose:n,PaperProps:{sx:{width:"100%",maxWidth:400,borderRadius:2}},children:[t.jsx(tn,{sx:{pb:1,fontWeight:600},children:s}),t.jsx(Kt,{children:t.jsx(jR,{sx:{color:"text.secondary",fontSize:"0.875rem"},children:o})}),t.jsxs(Xt,{sx:{px:3,pb:2},children:[t.jsx(he,{onClick:n,variant:"outlined",color:"inherit",sx:{textTransform:"none",fontWeight:600,minWidth:100},children:l}),t.jsx(he,{onClick:r,variant:"contained",color:d,autoFocus:!0,sx:{textTransform:"none",fontWeight:600,minWidth:100},children:i})]})]}),mB=({news:e,onRefresh:n})=>{var T,D,A;const[r,s]=x.useState(null),[o,i]=x.useState(!1),l=Ct(),{api:d}=Qe(),{execute:u}=st(),h=ln(),p=R=>{R.stopPropagation(),s(R.currentTarget)},m=()=>{s(null)},g=()=>{l(ye.APP_NEWS_VIEW.replace(":id",e.id)),m()},y=()=>{l(ye.STUDIO_NEWS_EDIT.replace(":id",e.id)),m()},b=()=>{i(!0),m()},w=async()=>{await u(()=>d==null?void 0:d.app.news.delete(e.id),{showSuccessMessage:!0,successMessage:"News article deleted successfully"})&&n(),i(!1)},v=(T=e.media)==null?void 0:T.find(R=>R.type===dl.COVER),S=(()=>{const R=new Date;return new Date(e.publishedAt)>R?{label:"Scheduled",color:"warning"}:{label:"Published",color:"success"}})();return t.jsxs(Fe,{onClick:()=>l(ye.STUDIO_NEWS_VIEW.replace(":id",e.id)),sx:{height:"100%",display:"flex",flexDirection:"column",position:"relative",cursor:"pointer",bgcolor:R=>fe(R.palette.mode==="dark"?R.palette.common.white:R.palette.common.black,R.palette.mode==="dark"?.05:.03),transition:h.transitions.create(["background-color","box-shadow","transform"]),"&:hover":{bgcolor:R=>fe(R.palette.mode==="dark"?R.palette.common.white:R.palette.common.black,R.palette.mode==="dark"?.08:.05),transform:"translateY(-2px)",boxShadow:R=>`0 4px 12px ${fe(R.palette.primary.main,.1)}`}},children:[t.jsx(C,{sx:{height:{xs:120,sm:140},backgroundImage:`url(${(v==null?void 0:v.url)||Td})`,backgroundSize:"cover",backgroundPosition:"center",borderTopLeftRadius:1,borderTopRightRadius:1,position:"relative","&::after":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:R=>`linear-gradient(180deg, 
              ${fe(R.palette.background.default,0)} 0%, 
              ${fe(R.palette.background.default,.8)} 100%)`}},children:t.jsx(Le,{onClick:p,sx:{position:"absolute",top:8,right:8,zIndex:1,color:"text.primary",bgcolor:R=>fe(R.palette.background.paper,.8),backdropFilter:"blur(4px)","&:hover":{bgcolor:R=>fe(R.palette.background.paper,.95)}},children:t.jsx(kd,{fontSize:"small"})})}),t.jsx(Be,{sx:{flexGrow:1,p:{xs:2,sm:2.5}},children:t.jsxs(ge,{spacing:{xs:1.5,sm:2},children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:.5,fontSize:{xs:"1rem",sm:"1.125rem"},display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",lineHeight:1.3},children:e.title}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:1},children:[t.jsx(ul,{sx:{fontSize:"0.875rem",mr:.5,color:"text.secondary"}}),t.jsx(j,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem"},children:e.channel.name})]}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",fontSize:{xs:"0.875rem",sm:"0.875rem"},lineHeight:1.4},children:((D=e.content)==null?void 0:D.substring(0,100))+"..."})]}),t.jsxs(ge,{direction:"row",spacing:1,flexWrap:"wrap",sx:{gap:1},children:[t.jsx(Je,{size:"small",label:S.label,color:S.color,sx:{height:24,fontSize:"0.75rem","& .MuiChip-label":{px:1}}}),t.jsx(Je,{size:"small",label:new Date(e.publishedAt).toLocaleDateString(),sx:{height:24,fontSize:"0.75rem",bgcolor:R=>fe(R.palette.text.secondary,.1),color:"text.secondary","& .MuiChip-label":{px:1}}}),((A=e==null?void 0:e.tags)==null?void 0:A.length)>0&&t.jsx(Je,{size:"small",label:`${e.tags.length} tags`,sx:{height:24,fontSize:"0.75rem",bgcolor:R=>fe(R.palette.secondary.main,R.palette.mode==="dark"?.15:.08),color:"secondary.main","& .MuiChip-label":{px:1}}})]})]})}),t.jsxs(bo,{anchorEl:r,open:!!r,onClose:m,onClick:R=>R.stopPropagation(),PaperProps:{sx:{width:200,mt:1}},children:[t.jsxs(we,{onClick:g,children:[t.jsx(en,{children:t.jsx(Zo,{fontSize:"small"})}),t.jsx(Ht,{primary:"View Article"})]}),t.jsxs(we,{onClick:y,children:[t.jsx(en,{children:t.jsx(hl,{fontSize:"small"})}),t.jsx(Ht,{primary:"Edit Article"})]}),t.jsxs(we,{onClick:b,sx:{color:"error.main"},children:[t.jsx(en,{sx:{color:"inherit"},children:t.jsx(ea,{fontSize:"small"})}),t.jsx(Ht,{primary:"Delete Article"})]})]}),t.jsx(km,{open:o,title:"Delete News Article",content:"Are you sure you want to delete this news article? This action cannot be undone.",onConfirm:w,onClose:()=>i(!1),confirmText:"Delete",confirmColor:"error"})]})},xB=()=>{const[e,n]=x.useState([]),[r,s]=x.useState(1),[o,i]=x.useState(!0),[l,d]=x.useState(!0),{api:u}=Qe(),{profile:h}=xs(),p=Ct(),{execute:m}=st(),g=ln(),y=()=>{b(r+1)},b=async(v=r)=>{if(!h)return;const I=await m(()=>u==null?void 0:u.app.news.getCreatorNews(h.id,{page:v,limit:12}),{showErrorToast:!0});I&&(n(S=>v===1?(I==null?void 0:I.items)??[]:[...S,...(I==null?void 0:I.items)??[]]),s((I==null?void 0:I.metadata.currentPage)??1),i((I==null?void 0:I.metadata.hasNext)===!0)),d(!1)};x.useEffect(()=>{h&&b(1)},[h]);const w=()=>t.jsxs(C,{sx:{p:2,borderRadius:1,bgcolor:v=>fe(v.palette.mode==="dark"?v.palette.common.white:v.palette.common.black,v.palette.mode==="dark"?.05:.03),height:{xs:280,sm:320},transition:g.transitions.create(["background-color","height"])},children:[t.jsx(ce,{variant:"rectangular",sx:{borderRadius:1,height:{xs:120,sm:140},mb:2}}),t.jsxs(C,{sx:{p:1},children:[t.jsx(ce,{width:"90%",height:24,sx:{mb:1}}),t.jsx(ce,{width:"60%",height:16,sx:{mb:1}}),t.jsx(ce,{width:"95%",height:20,sx:{mb:1}}),t.jsx(ce,{width:"80%",height:20,sx:{mb:2}}),t.jsxs(C,{sx:{display:"flex",gap:1},children:[t.jsx(ce,{width:"25%",height:24}),t.jsx(ce,{width:"30%",height:24}),t.jsx(ce,{width:"20%",height:24})]})]})]});return t.jsxs(C,{sx:{px:{xs:2,sm:3,md:4},py:{xs:2,sm:3},maxWidth:"lg",mx:"auto",width:"100%"},children:[t.jsx(C,{sx:{mb:{xs:2,sm:3}},children:t.jsx(j,{variant:"h5",sx:{fontWeight:600,fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:l?t.jsx(ce,{width:150}):"My News"})}),l?t.jsx(F,{container:!0,spacing:2,children:[1,2,3,4].map(v=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(w,{})},v))}):e.length===0?t.jsx(Xs,{title:"No News Yet",description:"Start creating your first news article to share with your subscribers.",icon:t.jsx($p,{sx:{fontSize:{xs:40,sm:48}}}),action:{label:"Create News",onClick:()=>p(ye.STUDIO_NEWS_CREATE)}}):t.jsx(Ds,{dataLength:e.length,next:y,hasMore:o,loader:t.jsx(F,{container:!0,spacing:2,sx:{mt:.5},children:[1,2,3].map(v=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(w,{})},v))}),children:t.jsx(F,{container:!0,spacing:2,children:e.map(v=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(mB,{news:v,onRefresh:()=>b(1)})},v.id))})})]})},gB=({channel:e,onRefresh:n})=>{var y;const r=Ct(),{api:s}=Qe(),{execute:o}=st(),[i,l]=x.useState(null),[d,u]=x.useState(!1),h=ln(),p=b=>{b.stopPropagation(),l(b.currentTarget)},m=()=>{l(null)},g=async()=>{await o(()=>s==null?void 0:s.app.channel.deleteChannel(e.id),{showSuccessMessage:!0,successMessage:"Channel deleted successfully"})&&n(),u(!1)};return t.jsxs(t.Fragment,{children:[t.jsxs(Fe,{onClick:()=>r(ye.STUDIO_CHANNEL_EDIT.replace(":channelId",e.id)),sx:{height:"100%",display:"flex",flexDirection:"column",position:"relative",cursor:"pointer",transition:h.transitions.create(["box-shadow","transform"],{duration:h.transitions.duration.shorter}),"&:hover":{transform:"translateY(-2px)",boxShadow:b=>`0 4px 12px ${fe(b.palette.primary.main,.1)}`}},children:[t.jsx(C,{sx:{height:{xs:100,sm:120},backgroundImage:`url(${(e==null?void 0:e.bannerUrl)||"https://via.placeholder.com/600x400"})`,backgroundSize:"cover",backgroundPosition:"center",borderTopLeftRadius:1,borderTopRightRadius:1,position:"relative","&::after":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:b=>`linear-gradient(180deg, 
                ${fe(b.palette.background.default,0)} 0%, 
                ${fe(b.palette.background.default,.8)} 100%)`}},children:t.jsx(Le,{onClick:p,sx:{position:"absolute",top:8,right:8,zIndex:1,color:"text.primary",bgcolor:b=>fe(b.palette.background.paper,.8),backdropFilter:"blur(4px)","&:hover":{bgcolor:b=>fe(b.palette.background.paper,.95)}},children:t.jsx(kd,{fontSize:"small"})})}),t.jsx(Be,{sx:{flexGrow:1,p:{xs:2,sm:2.5}},children:t.jsxs(ge,{spacing:{xs:1.5,sm:2},children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:.5,fontSize:{xs:"1rem",sm:"1.125rem"}},children:e.name}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",fontSize:{xs:"0.875rem",sm:"0.875rem"},lineHeight:1.5},children:e.description})]}),t.jsxs(ge,{direction:"row",spacing:1,flexWrap:"wrap",sx:{gap:1},children:[t.jsx(Je,{size:"small",label:`${(y=e==null?void 0:e.stats)==null?void 0:y.activeSubscriptionCount} subscribers`,sx:{height:24,fontSize:"0.75rem",bgcolor:b=>fe(b.palette.primary.main,b.palette.mode==="dark"?.15:.08),color:"primary.main","& .MuiChip-label":{px:1}}}),t.jsx(Je,{size:"small",label:"10 news",sx:{height:24,fontSize:"0.75rem",bgcolor:b=>fe(b.palette.secondary.main,b.palette.mode==="dark"?.15:.08),color:"secondary.main","& .MuiChip-label":{px:1}}})]})]})})]}),t.jsxs(bo,{anchorEl:i,open:!!i,onClose:m,onClick:b=>b.stopPropagation(),PaperProps:{sx:{width:200,mt:1}},children:[t.jsxs(we,{onClick:()=>{r(ye.STUDIO_CHANNEL_EDIT.replace(":channelId",e.id)),m()},children:[t.jsx(en,{children:t.jsx(hl,{fontSize:"small"})}),t.jsx(Ht,{primary:"Edit Channel"})]}),t.jsxs(we,{onClick:()=>{r(ye.APP_CHANNEL_VIEW.replace(":channelId",e.id)),m()},children:[t.jsx(en,{children:t.jsx(Zo,{fontSize:"small"})}),t.jsx(Ht,{primary:"View Public Page"})]}),t.jsxs(we,{onClick:()=>{u(!0),m()},sx:{color:"error.main"},children:[t.jsx(en,{sx:{color:"inherit"},children:t.jsx(ea,{fontSize:"small"})}),t.jsx(Ht,{primary:"Delete Channel"})]})]}),t.jsx(km,{open:d,onClose:()=>u(!1),onConfirm:g,title:"Delete Channel",content:"Are you sure you want to delete this channel? This action cannot be undone.",confirmText:"Delete",confirmColor:"error"})]})},bB=()=>{const[e,n]=x.useState([]),[r,s]=x.useState(1),[o,i]=x.useState(!0),[l,d]=x.useState(!0),{api:u}=Qe(),h=Ct(),p=ln(),{execute:m}=st(),g=()=>{y(r+1)},y=async(w=r)=>{const v=await m(()=>u==null?void 0:u.studio.getMyChannels(),{showErrorToast:!0});v&&(n(I=>w===1?(v==null?void 0:v.items)??[]:[...I,...(v==null?void 0:v.items)??[]]),s((v==null?void 0:v.metadata.currentPage)??1),i((v==null?void 0:v.metadata.hasNext)===!0)),d(!1)};x.useEffect(()=>{y(1)},[]);const b=()=>t.jsxs(C,{sx:{p:2,borderRadius:1,bgcolor:w=>fe(w.palette.mode==="dark"?w.palette.common.white:w.palette.common.black,w.palette.mode==="dark"?.05:.03),height:{xs:180,sm:200},transition:p.transitions.create(["background-color","height"])},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[t.jsx(ce,{variant:"circular",width:32,height:32,sx:{mr:1.5}}),t.jsxs(C,{sx:{width:"100%"},children:[t.jsx(ce,{width:"60%",height:20}),t.jsx(ce,{width:"40%",height:16})]})]}),t.jsx(ce,{variant:"rectangular",sx:{borderRadius:1,height:{xs:70,sm:80}}}),t.jsx(C,{sx:{mt:1.5},children:t.jsx(ce,{width:"30%",height:20})})]});return t.jsxs(C,{sx:{px:{xs:2,sm:3,md:4},py:{xs:2,sm:3},maxWidth:"lg",mx:"auto",width:"100%"},children:[t.jsx(C,{sx:{mb:{xs:2,sm:3}},children:t.jsx(j,{variant:"h5",sx:{fontWeight:600,fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:l?t.jsx(ce,{width:150}):"My Channels"})}),l?t.jsx(F,{container:!0,spacing:2,children:[1,2].map(w=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(b,{})},w))}):e.length===0?t.jsx(Xs,{title:"No Channels Yet",description:"Create your first channel to start publishing news and connecting with subscribers.",icon:t.jsx(cl,{sx:{fontSize:{xs:40,sm:48}}}),action:{label:"Create Channel",onClick:()=>h(ye.STUDIO_CHANNEL_CREATE)}}):t.jsx(Ds,{dataLength:e.length,next:g,hasMore:o,loader:t.jsx(F,{container:!0,spacing:2,sx:{mt:.5},children:[1,2].map(w=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(b,{})},w))}),children:t.jsx(F,{container:!0,spacing:2,children:e.map(w=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(gB,{channel:w,onRefresh:()=>y(1)})},w.id))})})]})},uc={ACTIVE:1,INACTIVE:2,PRIVATE:3,SUSPENDED:4,DELETED:5},Yn={USD:{code:"USD",decimals:2,symbol:"$",name:"US Dollar"},EUR:{code:"EUR",decimals:2,symbol:"",name:"Euro"},GBP:{code:"GBP",decimals:2,symbol:"",name:"British Pound"},JPY:{code:"JPY",decimals:0,symbol:"",name:"Japanese Yen"},CAD:{code:"CAD",decimals:2,symbol:"C$",name:"Canadian Dollar"},AUD:{code:"AUD",decimals:2,symbol:"A$",name:"Australian Dollar"},CHF:{code:"CHF",decimals:2,symbol:"CHF",name:"Swiss Franc"},CNY:{code:"CNY",decimals:2,symbol:"",name:"Chinese Yuan"},INR:{code:"INR",decimals:2,symbol:"",name:"Indian Rupee"},BRL:{code:"BRL",decimals:2,symbol:"R$",name:"Brazilian Real"},KRW:{code:"KRW",decimals:0,symbol:"",name:"South Korean Won"},SEK:{code:"SEK",decimals:2,symbol:"kr",name:"Swedish Krona"},NOK:{code:"NOK",decimals:2,symbol:"kr",name:"Norwegian Krone"},DKK:{code:"DKK",decimals:2,symbol:"kr",name:"Danish Krone"},PLN:{code:"PLN",decimals:2,symbol:"z",name:"Polish Zoty"},TRY:{code:"TRY",decimals:2,symbol:"",name:"Turkish Lira"},RUB:{code:"RUB",decimals:2,symbol:"",name:"Russian Ruble"},MXN:{code:"MXN",decimals:2,symbol:"$",name:"Mexican Peso"},SGD:{code:"SGD",decimals:2,symbol:"S$",name:"Singapore Dollar"},HKD:{code:"HKD",decimals:2,symbol:"HK$",name:"Hong Kong Dollar"},NZD:{code:"NZD",decimals:2,symbol:"NZ$",name:"New Zealand Dollar"},ZAR:{code:"ZAR",decimals:2,symbol:"R",name:"South African Rand"},AED:{code:"AED",decimals:2,symbol:".",name:"UAE Dirham"},SAR:{code:"SAR",decimals:2,symbol:".",name:"Saudi Riyal"},ILS:{code:"ILS",decimals:2,symbol:"",name:"Israeli Shekel"},THB:{code:"THB",decimals:2,symbol:"",name:"Thai Baht"},MYR:{code:"MYR",decimals:2,symbol:"RM",name:"Malaysian Ringgit"},IDR:{code:"IDR",decimals:2,symbol:"Rp",name:"Indonesian Rupiah"},PHP:{code:"PHP",decimals:2,symbol:"",name:"Philippine Peso"},VND:{code:"VND",decimals:0,symbol:"",name:"Vietnamese Dong"},EGP:{code:"EGP",decimals:2,symbol:"E",name:"Egyptian Pound"},NGN:{code:"NGN",decimals:2,symbol:"",name:"Nigerian Naira"},KES:{code:"KES",decimals:2,symbol:"KSh",name:"Kenyan Shilling"},GHS:{code:"GHS",decimals:2,symbol:"",name:"Ghanaian Cedi"},MAD:{code:"MAD",decimals:2,symbol:"..",name:"Moroccan Dirham"},TND:{code:"TND",decimals:3,symbol:".",name:"Tunisian Dinar"},JOD:{code:"JOD",decimals:3,symbol:".",name:"Jordanian Dinar"},KWD:{code:"KWD",decimals:3,symbol:".",name:"Kuwaiti Dinar"},BHD:{code:"BHD",decimals:3,symbol:".",name:"Bahraini Dinar"},OMR:{code:"OMR",decimals:3,symbol:"..",name:"Omani Rial"},QAR:{code:"QAR",decimals:2,symbol:".",name:"Qatari Riyal"},LBP:{code:"LBP",decimals:2,symbol:".",name:"Lebanese Pound"},IRR:{code:"IRR",decimals:2,symbol:"",name:"Iranian Rial"},PKR:{code:"PKR",decimals:2,symbol:"",name:"Pakistani Rupee"},BDT:{code:"BDT",decimals:2,symbol:"",name:"Bangladeshi Taka"},LKR:{code:"LKR",decimals:2,symbol:"",name:"Sri Lankan Rupee"},NPR:{code:"NPR",decimals:2,symbol:"",name:"Nepalese Rupee"},AFN:{code:"AFN",decimals:2,symbol:"",name:"Afghan Afghani"},UZS:{code:"UZS",decimals:2,symbol:"",name:"Uzbekistani Som"},KZT:{code:"KZT",decimals:2,symbol:"",name:"Kazakhstani Tenge"},GEL:{code:"GEL",decimals:2,symbol:"",name:"Georgian Lari"},AMD:{code:"AMD",decimals:2,symbol:"",name:"Armenian Dram"},AZN:{code:"AZN",decimals:2,symbol:"",name:"Azerbaijani Manat"},BGN:{code:"BGN",decimals:2,symbol:"",name:"Bulgarian Lev"},HRK:{code:"HRK",decimals:2,symbol:"kn",name:"Croatian Kuna"},CZK:{code:"CZK",decimals:2,symbol:"K",name:"Czech Koruna"},HUF:{code:"HUF",decimals:2,symbol:"Ft",name:"Hungarian Forint"},RON:{code:"RON",decimals:2,symbol:"lei",name:"Romanian Leu"},RSD:{code:"RSD",decimals:2,symbol:".",name:"Serbian Dinar"},UAH:{code:"UAH",decimals:2,symbol:"",name:"Ukrainian Hryvnia"},BYN:{code:"BYN",decimals:2,symbol:"Br",name:"Belarusian Ruble"},MDL:{code:"MDL",decimals:2,symbol:"lei",name:"Moldovan Leu"},ALL:{code:"ALL",decimals:2,symbol:"L",name:"Albanian Lek"},MKD:{code:"MKD",decimals:2,symbol:"",name:"Macedonian Denar"},BAM:{code:"BAM",decimals:2,symbol:"KM",name:"Bosnia-Herzegovina Convertible Mark"},ISK:{code:"ISK",decimals:0,symbol:"kr",name:"Icelandic Krna"},CLP:{code:"CLP",decimals:0,symbol:"$",name:"Chilean Peso"},COP:{code:"COP",decimals:2,symbol:"$",name:"Colombian Peso"},PEN:{code:"PEN",decimals:2,symbol:"S/",name:"Peruvian Sol"},UYU:{code:"UYU",decimals:2,symbol:"$U",name:"Uruguayan Peso"},ARS:{code:"ARS",decimals:2,symbol:"$",name:"Argentine Peso"},BOB:{code:"BOB",decimals:2,symbol:"Bs",name:"Bolivian Boliviano"},PYG:{code:"PYG",decimals:0,symbol:"",name:"Paraguayan Guaran"},VES:{code:"VES",decimals:2,symbol:"Bs.S",name:"Venezuelan Bolvar Soberano"},GYD:{code:"GYD",decimals:2,symbol:"$",name:"Guyanese Dollar"},SRD:{code:"SRD",decimals:2,symbol:"$",name:"Surinamese Dollar"},TTD:{code:"TTD",decimals:2,symbol:"TT$",name:"Trinidad and Tobago Dollar"},JMD:{code:"JMD",decimals:2,symbol:"J$",name:"Jamaican Dollar"},BBD:{code:"BBD",decimals:2,symbol:"$",name:"Barbadian Dollar"},BSD:{code:"BSD",decimals:2,symbol:"$",name:"Bahamian Dollar"},BZD:{code:"BZD",decimals:2,symbol:"BZ$",name:"Belize Dollar"},GTQ:{code:"GTQ",decimals:2,symbol:"Q",name:"Guatemalan Quetzal"},HNL:{code:"HNL",decimals:2,symbol:"L",name:"Honduran Lempira"},NIO:{code:"NIO",decimals:2,symbol:"C$",name:"Nicaraguan Crdoba"},CRC:{code:"CRC",decimals:2,symbol:"",name:"Costa Rican Coln"},PAB:{code:"PAB",decimals:2,symbol:"B/.",name:"Panamanian Balboa"},DOP:{code:"DOP",decimals:2,symbol:"RD$",name:"Dominican Peso"},HTG:{code:"HTG",decimals:2,symbol:"G",name:"Haitian Gourde"},CUP:{code:"CUP",decimals:2,symbol:"",name:"Cuban Peso"},XCD:{code:"XCD",decimals:2,symbol:"$",name:"East Caribbean Dollar"},AWG:{code:"AWG",decimals:2,symbol:"",name:"Aruban Florin"},ANG:{code:"ANG",decimals:2,symbol:"",name:"Netherlands Antillean Guilder"},SVC:{code:"SVC",decimals:2,symbol:"$",name:"Salvadoran Coln"},FJD:{code:"FJD",decimals:2,symbol:"$",name:"Fijian Dollar"},PGK:{code:"PGK",decimals:2,symbol:"K",name:"Papua New Guinean Kina"},SBD:{code:"SBD",decimals:2,symbol:"$",name:"Solomon Islands Dollar"},VUV:{code:"VUV",decimals:0,symbol:"Vt",name:"Vanuatu Vatu"},WST:{code:"WST",decimals:2,symbol:"T",name:"Samoan Tl"},TOP:{code:"TOP",decimals:2,symbol:"T$",name:"Tongan Paanga"},XPF:{code:"XPF",decimals:0,symbol:"",name:"CFP Franc"},XOF:{code:"XOF",decimals:0,symbol:"CFA",name:"West African CFA Franc"},XAF:{code:"XAF",decimals:0,symbol:"FCFA",name:"Central African CFA Franc"},KMF:{code:"KMF",decimals:0,symbol:"CF",name:"Comorian Franc"},DJF:{code:"DJF",decimals:0,symbol:"Fdj",name:"Djiboutian Franc"},ETB:{code:"ETB",decimals:2,symbol:"Br",name:"Ethiopian Birr"},ERN:{code:"ERN",decimals:2,symbol:"Nfk",name:"Eritrean Nakfa"},SOS:{code:"SOS",decimals:2,symbol:"S",name:"Somali Shilling"},UGX:{code:"UGX",decimals:0,symbol:"USh",name:"Ugandan Shilling"},TZS:{code:"TZS",decimals:2,symbol:"TSh",name:"Tanzanian Shilling"},RWF:{code:"RWF",decimals:0,symbol:"R",name:"Rwandan Franc"},BIF:{code:"BIF",decimals:0,symbol:"FBu",name:"Burundian Franc"},MWK:{code:"MWK",decimals:2,symbol:"MK",name:"Malawian Kwacha"},ZMW:{code:"ZMW",decimals:2,symbol:"ZK",name:"Zambian Kwacha"},BWP:{code:"BWP",decimals:2,symbol:"P",name:"Botswanan Pula"},NAD:{code:"NAD",decimals:2,symbol:"$",name:"Namibian Dollar"},SZL:{code:"SZL",decimals:2,symbol:"E",name:"Swazi Lilangeni"},LSL:{code:"LSL",decimals:2,symbol:"M",name:"Lesotho Loti"},MZN:{code:"MZN",decimals:2,symbol:"MT",name:"Mozambican Metical"},MGA:{code:"MGA",decimals:2,symbol:"Ar",name:"Malagasy Ariary"},MUR:{code:"MUR",decimals:2,symbol:"",name:"Mauritian Rupee"},SCR:{code:"SCR",decimals:2,symbol:"",name:"Seychellois Rupee"},CVE:{code:"CVE",decimals:2,symbol:"$",name:"Cape Verdean Escudo"},GMD:{code:"GMD",decimals:2,symbol:"D",name:"Gambian Dalasi"},GNF:{code:"GNF",decimals:0,symbol:"FG",name:"Guinean Franc"},LRD:{code:"LRD",decimals:2,symbol:"$",name:"Liberian Dollar"},SLL:{code:"SLL",decimals:2,symbol:"Le",name:"Sierra Leonean Leone"},STN:{code:"STN",decimals:2,symbol:"Db",name:"So Tom and Prncipe Dobra"},AOA:{code:"AOA",decimals:2,symbol:"Kz",name:"Angolan Kwanza"},CDF:{code:"CDF",decimals:2,symbol:"FC",name:"Congolese Franc"},XDR:{code:"XDR",decimals:5,symbol:"SDR",name:"Special Drawing Rights"}};function yB(){return Object.values(Yn)}const vB=[Yn.USD,Yn.EUR,Yn.GBP,Yn.JPY,Yn.CAD,Yn.AUD,Yn.CHF,Yn.CNY],Zy=[...vB,Yn.INR,Yn.BRL,Yn.KRW,Yn.MXN,Yn.SGD,Yn.HKD,Yn.NZD,Yn.ZAR],Ww=({initialData:e,onSubmit:n,submitButtonText:r})=>{const[s,o]=x.useState(!1),[i,l]=x.useState(()=>({name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",handle:(e==null?void 0:e.handle)||"",status:(e==null?void 0:e.status)||uc.ACTIVE,logoUrl:(e==null?void 0:e.logoUrl)||"",bannerUrl:(e==null?void 0:e.bannerUrl)||"",tags:(e==null?void 0:e.tags)||[],defaultCurrency:(e==null?void 0:e.defaultCurrency)||"USD"})),[d,u]=x.useState((e==null?void 0:e.logoUrl)||void 0),[h,p]=x.useState((e==null?void 0:e.bannerUrl)||void 0),m=async g=>{g.preventDefault(),o(!0);try{await n({...i,logoUrl:d||"",bannerUrl:h||"",tags:[],defaultCurrency:i.defaultCurrency})}catch(y){console.error("Failed to submit channel:",y)}finally{o(!1)}};return t.jsx("form",{onSubmit:m,children:t.jsxs(ge,{spacing:4,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{mb:3},children:"Branding"}),t.jsxs(ge,{spacing:4,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Channel Logo"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"This image will appear next to your channel's content. Use a square image for best results."}),t.jsx(hf,{label:"Upload Channel Logo",value:d,onChange:u})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Channel Banner"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"This image appears at the top of your channel page. Recommended size: 2048 x 1152 pixels."}),t.jsx(hf,{label:"Upload Channel Banner",value:h,onChange:p})]})]})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{mb:3},children:"Basic Info"}),t.jsxs(ge,{spacing:4,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Channel Name"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Choose a name that represents your channel. You can change this later."}),t.jsx(tt,{value:i.name,onChange:g=>l(y=>({...y,name:g.target.value})),required:!0,fullWidth:!0,placeholder:"Enter channel name"})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Channel Handle"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"This is the unique identifier for your channel. It will be used in the URL of your channel page."}),t.jsx(tt,{value:i.handle,onChange:g=>l(y=>({...y,handle:g.target.value})),required:!0,fullWidth:!0,placeholder:"Enter channel handle"})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Description"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Tell viewers about your channel. This appears in search results and your channel page."}),t.jsx(tt,{value:i.description,onChange:g=>l(y=>({...y,description:g.target.value})),multiline:!0,rows:4,fullWidth:!0,placeholder:"Tell your story..."})]})]})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{mb:3},children:"Channel Settings"}),t.jsxs(ge,{spacing:4,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Default Currency"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Choose your channel's currency. All tiers, subscriptions, and transactions will use this currency. This cannot be changed later."}),t.jsx(ht,{fullWidth:!0,children:t.jsxs(mt,{value:i.defaultCurrency,onChange:g=>{l(y=>({...y,defaultCurrency:g.target.value}))},disabled:!!e,children:[Zy.map(g=>t.jsxs(we,{value:g.code,children:[g.symbol," ",g.code," - ",g.name]},g.code)),t.jsx(we,{disabled:!0,children:""}),yB().filter(g=>!Zy.find(y=>y.code===g.code)).map(g=>t.jsxs(we,{value:g.code,children:[g.symbol," ",g.code," - ",g.name]},g.code))]})})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Channel Visibility"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Control who can see and access your channel's content."}),t.jsx(ht,{fullWidth:!0,children:t.jsxs(mt,{value:i.status,onChange:g=>{const y=Number(g.target.value);l(b=>({...b,status:y}))},children:[t.jsx(we,{value:uc.ACTIVE,children:"Public - Channel is visible to everyone"}),t.jsx(we,{value:uc.PRIVATE,children:"Private - Only invited members can access"}),t.jsx(we,{value:uc.INACTIVE,children:"Hidden - Channel is temporarily hidden from public view"})]})})]})]})]}),t.jsx(he,{type:"submit",variant:"contained",disabled:s,sx:{py:1.5,textTransform:"none",fontWeight:600},children:s?"Submitting...":r})]})})},jB=()=>{const{api:e}=Qe(),n=Ct(),{execute:r}=st(),{actions:{refreshProfile:s}}=xs(),o=async i=>{if(!i)return;await r(()=>e==null?void 0:e.studio.createChannel(i),{showSuccessMessage:!0,successMessage:"Channel created successfully!"})&&(await s(),n(`${ye.STUDIO_CHANNELS}`))};return t.jsxs(Tt,{sx:{maxWidth:800,mx:"auto",p:3},children:[t.jsx(j,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Create Channel"}),t.jsx(Ww,{onSubmit:o,submitButtonText:"Create Channel"})]})},wB=()=>t.jsxs(Tt,{maxWidth:"md",sx:{mt:4,textAlign:"center"},children:[t.jsx(j,{variant:"h3",gutterBottom:!0,children:"404 - Page Not Found"}),t.jsx(j,{variant:"h6",gutterBottom:!0,children:"The page you are looking for does not exist."}),t.jsx(C,{sx:{mt:4},children:t.jsx(he,{variant:"contained",color:"primary",component:Kn,to:"/",children:"Go to Home"})})]}),Bw=({expenseOrder:e,channels:n,expenseTypes:r,onSave:s,onSubmit:o,loading:i=!1,isEdit:l=!1})=>{const[d,u]=x.useState({channelId:(e==null?void 0:e.channel.id)||"",typeId:(e==null?void 0:e.type.id)||0,title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",amount:(e==null?void 0:e.amount)||0,currency:(e==null?void 0:e.currency)||"USD",receiptUrl:(e==null?void 0:e.receiptUrl)||"",notes:(e==null?void 0:e.notes)||""}),[h,p]=x.useState({}),[m,g]=x.useState(!1),y=()=>{const S={};return d.channelId||(S.channelId="Channel is required"),d.typeId||(S.typeId="Expense type is required"),d.title.trim()||(S.title="Title is required"),d.description.trim()||(S.description="Description is required"),d.amount<=0&&(S.amount="Amount must be greater than 0"),d.currency.trim()||(S.currency="Currency is required"),p(S),Object.keys(S).length===0},b=(S,T)=>{u(D=>({...D,[S]:T})),h[S]&&p(D=>({...D,[S]:""}))},w=async()=>{if(y())try{if(l){const S={title:d.title,description:d.description,amount:d.amount,currency:d.currency,typeId:Number(d.typeId),receiptUrl:d.receiptUrl,notes:d.notes};await s(S)}else{const S={channelId:d.channelId,typeId:Number(d.typeId),title:d.title,description:d.description,amount:d.amount,currency:d.currency,receiptUrl:d.receiptUrl,notes:d.notes};await s(S)}}catch(S){console.error("Error saving expense order:",S)}},v=async()=>{if(!(!e||!o)){g(!0);try{await o(e)}catch(S){console.error("Error submitting expense order:",S)}finally{g(!1)}}},I=l&&(e==null?void 0:e.status)===et.DRAFT&&o;return t.jsxs(Pm,{children:[t.jsx(j,{variant:"h6",sx:{mb:3,fontWeight:600},children:l?"Edit Expense Order":"Create New Expense Order"}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(ht,{fullWidth:!0,error:!!h.channelId,children:[t.jsx(St,{children:"Channel"}),t.jsx(mt,{value:d.channelId,label:"Channel",onChange:S=>b("channelId",S.target.value),disabled:l,children:n.map(S=>t.jsx(we,{value:S.id,children:S.name},S.id))}),h.channelId&&t.jsx(j,{variant:"caption",color:"error",sx:{mt:.5},children:h.channelId})]})}),t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(ht,{fullWidth:!0,error:!!h.typeId,children:[t.jsx(St,{children:"Expense Type"}),t.jsx(mt,{value:d.typeId,label:"Expense Type",onChange:S=>b("typeId",S.target.value),children:r.map(S=>t.jsx(we,{value:S.id,children:S.name},S.id))}),h.typeId&&t.jsx(j,{variant:"caption",color:"error",sx:{mt:.5},children:h.typeId})]})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(tt,{fullWidth:!0,label:"Title",value:d.title,onChange:S=>b("title",S.target.value),error:!!h.title,helperText:h.title,placeholder:"Enter expense title"})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(tt,{fullWidth:!0,multiline:!0,rows:3,label:"Description",value:d.description,onChange:S=>b("description",S.target.value),error:!!h.description,helperText:h.description,placeholder:"Describe the expense in detail"})}),t.jsx(F,{item:!0,xs:12,md:6,children:t.jsx(tt,{fullWidth:!0,type:"number",label:"Amount",value:d.amount,onChange:S=>b("amount",parseFloat(S.target.value)||0),error:!!h.amount,helperText:h.amount,InputProps:{startAdornment:t.jsx(es,{position:"start",children:"$"})}})}),t.jsx(F,{item:!0,xs:12,md:6,children:t.jsx(tt,{fullWidth:!0,label:"Currency",value:d.currency,onChange:S=>b("currency",S.target.value.toUpperCase()),error:!!h.currency,helperText:h.currency,placeholder:"USD",inputProps:{maxLength:3}})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(tt,{fullWidth:!0,label:"Receipt URL",value:d.receiptUrl,onChange:S=>b("receiptUrl",S.target.value),placeholder:"https://example.com/receipt.pdf",InputProps:{startAdornment:t.jsx(es,{position:"start",children:t.jsx(wR,{})})}})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(tt,{fullWidth:!0,multiline:!0,rows:2,label:"Notes (Optional)",value:d.notes,onChange:S=>b("notes",S.target.value),placeholder:"Additional notes or comments"})}),t.jsx(F,{item:!0,xs:12,children:t.jsxs(C,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[t.jsx(he,{variant:"outlined",startIcon:i?t.jsx(bn,{size:16}):t.jsx(mv,{}),onClick:w,disabled:i||m,children:"Save as Draft"}),I&&t.jsx(he,{variant:"contained",startIcon:m?t.jsx(bn,{size:16}):t.jsx(ud,{}),onClick:v,disabled:i||m,children:"Submit for Approval"})]})})]})]})},SB=({onCreateNew:e,onEdit:n,onView:r,userRole:s="journalist",channelId:o,showCreateButton:i=!0})=>{const{api:l}=Qe(),[d,u]=x.useState([]),[h,p]=x.useState(!0),[m,g]=x.useState(null),[y,b]=x.useState(""),[w,v]=x.useState(1),[I,S]=x.useState(1),[T,D]=x.useState(!1),A=async(J=1)=>{var X,K;try{p(J===1),g(null);let Z;const G={page:J,limit:10};s==="journalist"?Z=await l.app.expenseOrder.getMyExpenseOrders(G,y||void 0):o?Z=await l.app.expenseOrder.getExpenseOrdersByChannel(o,G,y||void 0):Z=await l.app.expenseOrder.getPendingExpenseOrders(G),u(Z.data),S(Math.ceil(Z.total/Z.limit)),v(J)}catch(Z){g(((K=(X=Z.response)==null?void 0:X.data)==null?void 0:K.message)||"Failed to load expense orders"),console.error("Error loading expense orders:",Z)}finally{p(!1),D(!1)}};x.useEffect(()=>{A(1)},[y,s,o]);const R=async()=>{D(!0),await A(w)},k=(J,X)=>{A(X)},_=async J=>{var X,K;try{await l.app.expenseOrder.submitExpenseOrder(J.id),await A(w)}catch(Z){console.error("Error submitting expense order:",Z),g(((K=(X=Z.response)==null?void 0:X.data)==null?void 0:K.message)||"Failed to submit expense order")}},N=async J=>{var X,K;try{await l.app.expenseOrder.cancelExpenseOrder(J.id,"Cancelled by user"),await A(w)}catch(Z){console.error("Error cancelling expense order:",Z),g(((K=(X=Z.response)==null?void 0:X.data)==null?void 0:K.message)||"Failed to cancel expense order")}},W=async J=>{var X,K;try{await l.app.expenseOrder.approveExpenseOrder(J.id),await A(w)}catch(Z){console.error("Error approving expense order:",Z),g(((K=(X=Z.response)==null?void 0:X.data)==null?void 0:K.message)||"Failed to approve expense order")}},Y=async J=>{var X,K;try{const Z=prompt("Please provide a reason for rejection:");Z&&(await l.app.expenseOrder.rejectExpenseOrder(J.id,{rejectionReason:Z}),await A(w))}catch(Z){console.error("Error rejecting expense order:",Z),g(((K=(X=Z.response)==null?void 0:X.data)==null?void 0:K.message)||"Failed to reject expense order")}},$=async J=>{var X,K;try{await l.app.expenseOrder.processPayment(J.id),await A(w)}catch(Z){console.error("Error processing payment:",Z),g(((K=(X=Z.response)==null?void 0:X.data)==null?void 0:K.message)||"Failed to process payment")}},H=()=>{switch(s){case"journalist":return"My Expense Orders";case"admin":case"finance-manager":return o?"Channel Expense Orders":"All Expense Orders";default:return"Expense Orders"}};return t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[t.jsx(j,{variant:"h5",sx:{fontWeight:600},children:H()}),t.jsxs(C,{sx:{display:"flex",gap:2,alignItems:"center"},children:[t.jsxs(ht,{size:"small",sx:{minWidth:150},children:[t.jsx(St,{children:"Status Filter"}),t.jsxs(mt,{value:y,label:"Status Filter",onChange:J=>b(J.target.value),children:[t.jsx(we,{value:"",children:"All Statuses"}),t.jsx(we,{value:et.DRAFT,children:"Draft"}),t.jsx(we,{value:et.SUBMITTED,children:"Submitted"}),t.jsx(we,{value:et.UNDER_REVIEW,children:"Under Review"}),t.jsx(we,{value:et.APPROVED,children:"Approved"}),t.jsx(we,{value:et.REJECTED,children:"Rejected"}),t.jsx(we,{value:et.PAID,children:"Paid"}),t.jsx(we,{value:et.CANCELLED,children:"Cancelled"})]})]}),t.jsx(he,{variant:"outlined",startIcon:T?t.jsx(bn,{size:16}):t.jsx(yv,{}),onClick:R,disabled:T,size:"small",children:"Refresh"}),i&&s==="journalist"&&e&&t.jsx(he,{variant:"contained",startIcon:t.jsx(xo,{}),onClick:e,children:"Create Expense Order"})]})]}),m&&t.jsx(dt,{severity:"error",sx:{mb:3},onClose:()=>g(null),children:m}),h?t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(bn,{})}):d.length===0?t.jsxs(C,{sx:{textAlign:"center",py:6},children:[t.jsx(j,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"No expense orders found"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:s==="journalist"?"You haven't created any expense orders yet.":"No expense orders match your current filter."}),i&&s==="journalist"&&e&&t.jsx(he,{variant:"contained",startIcon:t.jsx(xo,{}),onClick:e,children:"Create Your First Expense Order"})]}):t.jsxs(t.Fragment,{children:[t.jsx(F,{container:!0,spacing:3,children:d.map(J=>t.jsx(F,{item:!0,xs:12,md:6,lg:4,children:t.jsx(Dm,{expenseOrder:J,onView:r,onEdit:n,onSubmit:_,onCancel:N,onApprove:W,onReject:Y,onProcessPayment:$,userRole:s})},J.id))}),I>1&&t.jsx(C,{sx:{display:"flex",justifyContent:"center",mt:4},children:t.jsx(SR,{count:I,page:w,onChange:k,color:"primary",size:"large"})})]})]})},CB=({channelId:e,onCreateExpenseOrder:n,onViewExpenseOrder:r,userRole:s="journalist"})=>{const{api:o}=Qe(),i=ln(),[l,d]=x.useState(null),[u,h]=x.useState(null),[p,m]=x.useState(!0),[g,y]=x.useState(null);x.useEffect(()=>{b()},[e]);const b=async()=>{var S,T;try{m(!0),y(null);const D=await o.app.expenseOrder.getExpenseOrderStats(e);if(d(D),e){const A=await o.app.channel.getChannel(e);h(A)}}catch(D){y(((T=(S=D.response)==null?void 0:S.data)==null?void 0:T.message)||"Failed to load dashboard data"),console.error("Error loading dashboard data:",D)}finally{m(!1)}},w=(S,T="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:T}).format(S),v=S=>{switch(S){case"paid":return i.palette.success.main;case"approved":return i.palette.info.main;case"submitted":case"underReview":return i.palette.warning.main;case"rejected":case"cancelled":return i.palette.error.main;case"draft":default:return i.palette.grey[500]}},I=({title:S,value:T,icon:D,color:A,subtitle:R})=>t.jsx(Fe,{sx:{height:"100%",border:`1px solid ${fe(A,.2)}`,"&:hover":{boxShadow:i.shadows[4],transform:"translateY(-2px)",transition:"all 0.2s ease-in-out"}},children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(C,{sx:{p:1,borderRadius:2,bgcolor:fe(A,.1),color:A,mr:2},children:D}),t.jsx(j,{variant:"h6",sx:{fontWeight:600,color:"text.primary"},children:S})]}),t.jsx(j,{variant:"h4",sx:{fontWeight:700,color:A,mb:1},children:T}),R&&t.jsx(j,{variant:"body2",color:"text.secondary",children:R})]})});return p?t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:8},children:t.jsx(bn,{size:40})}):g?t.jsx(dt,{severity:"error",sx:{mb:3},children:g}):t.jsxs(C,{children:[t.jsxs(C,{sx:{mb:4},children:[t.jsx(j,{variant:"h4",sx:{fontWeight:700,mb:1},children:u?`${u.name} Payouts`:"Payout Dashboard"}),t.jsx(j,{variant:"body1",color:"text.secondary",children:s==="journalist"?"Manage your expense orders and track payments":"Overview of expense orders and payout statistics"})]}),l&&t.jsxs(t.Fragment,{children:[t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(I,{title:"Total Orders",value:l.total,icon:t.jsx(Gs,{}),color:i.palette.primary.main,subtitle:"All time"})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(I,{title:"Total Amount",value:w(l.totalAmount),icon:t.jsx(Ys,{}),color:i.palette.secondary.main,subtitle:"Requested"})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(I,{title:"Paid Amount",value:w(l.totalPaidAmount),icon:t.jsx(qa,{}),color:i.palette.success.main,subtitle:"Completed payments"})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(I,{title:"Pending",value:l.submitted+l.underReview+l.approved,icon:t.jsx(CR,{}),color:i.palette.warning.main,subtitle:"Awaiting action"})})]}),t.jsx(Fe,{sx:{mb:4},children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:3},children:"Status Breakdown"}),t.jsx(F,{container:!0,spacing:2,children:[{label:"Draft",value:l.draft,status:"draft"},{label:"Submitted",value:l.submitted,status:"submitted"},{label:"Under Review",value:l.underReview,status:"underReview"},{label:"Approved",value:l.approved,status:"approved"},{label:"Paid",value:l.paid,status:"paid"},{label:"Rejected",value:l.rejected,status:"rejected"},{label:"Cancelled",value:l.cancelled,status:"cancelled"}].map(S=>t.jsx(F,{item:!0,xs:6,sm:4,md:3,lg:2,children:t.jsxs(C,{sx:{textAlign:"center",p:2},children:[t.jsx(j,{variant:"h5",sx:{fontWeight:700,color:v(S.status),mb:1},children:S.value}),t.jsx(Je,{label:S.label,size:"small",sx:{bgcolor:fe(v(S.status),.1),color:v(S.status),fontWeight:500}})]})},S.status))})]})})]}),t.jsx(Fe,{children:t.jsx(Be,{children:t.jsx(SB,{userRole:s,channelId:e,onCreateNew:n,onView:r?S=>r(S.id):void 0,showCreateButton:s==="journalist"})})}),s==="journalist"&&t.jsx(C,{sx:{mt:4,display:"flex",justifyContent:"center"},children:t.jsx(he,{variant:"contained",size:"large",startIcon:t.jsx(Gs,{}),onClick:n,sx:{px:4,py:1.5},children:"Create New Expense Order"})})]})},PB=()=>{var y,b,w,v,I;const[e,n]=x.useState(null),[r,s]=x.useState(!0),[o,i]=x.useState(0),{channelId:l}=ns(),{api:d}=Qe(),u=Ct(),h=async()=>{try{if(l){const S=await(d==null?void 0:d.app.channel.getChannel(l));S&&n(S)}}catch(S){console.error("Failed to fetch channel:",S)}finally{s(!1)}};x.useEffect(()=>{h()},[]);const p=()=>{u("/studio/payouts")},m=S=>{u(`/studio/payouts/orders/${S}`)},g=(S,T)=>{i(T)};return r?t.jsxs(Tt,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs(C,{sx:{textAlign:"center",mb:4},children:[t.jsx(ce,{variant:"circular",width:100,height:100,sx:{mx:"auto",mb:2}}),t.jsx(ce,{variant:"text",width:"60%",sx:{mx:"auto",mb:1}}),t.jsx(ce,{variant:"text",width:"40%",sx:{mx:"auto",mb:2}})]}),t.jsx(F,{container:!0,spacing:3,children:[...Array(3)].map((S,T)=>t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsx(ce,{variant:"text",width:"80%"}),t.jsx(ce,{variant:"text",width:"60%"}),t.jsx(ce,{variant:"rectangular",height:100,sx:{my:2}})]})})},T))})]}):e?t.jsxs(Tt,{maxWidth:"lg",sx:{mt:4},children:[t.jsx(C,{sx:{position:"relative",mb:4,"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:200,backgroundImage:e!=null&&e.bannerUrl?`url(${e.bannerUrl})`:void 0,background:e!=null&&e.bannerUrl?void 0:S=>`linear-gradient(135deg, ${S.palette.primary.main} 0%, ${S.palette.primary.light} 100%)`,backgroundSize:"cover",backgroundPosition:"center",filter:"brightness(0.9)"}},children:t.jsxs(C,{sx:{position:"relative",pt:15,pb:4,textAlign:"center"},children:[t.jsx(wn,{src:e.logoUrl,sx:{width:100,height:100,mx:"auto",mb:2,border:"3px solid white",boxShadow:2}}),t.jsx(j,{variant:"h4",gutterBottom:!0,children:e.name}),t.jsxs(j,{variant:"subtitle1",color:"text.secondary",gutterBottom:!0,children:[((b=(y=e.stats)==null?void 0:y.activeSubscriptionCount)==null?void 0:b.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1}))||0," followers  ",((v=(w=e.stats)==null?void 0:w.paidSubscriptionCount)==null?void 0:v.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1}))||0," subscribers"]}),t.jsx(j,{variant:"body1",sx:{mb:3},children:e.description}),t.jsx(Lt,{sx:{mb:4}})]})}),t.jsx(C,{sx:{mb:3},children:t.jsxs(yo,{value:o,onChange:g,"aria-label":"channel tabs",sx:{borderBottom:1,borderColor:"divider"},children:[t.jsx(nr,{label:"Subscription Tiers",id:"channel-tab-0","aria-controls":"channel-tabpanel-0"}),t.jsx(nr,{label:"Payouts",icon:t.jsx(Ys,{}),iconPosition:"start",id:"channel-tab-1","aria-controls":"channel-tabpanel-1"})]})}),t.jsx("div",{role:"tabpanel",hidden:o!==0,id:"channel-tabpanel-0","aria-labelledby":"channel-tab-0",children:o===0&&t.jsxs(C,{children:[t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Subscription Tiers"}),t.jsx(F,{container:!0,spacing:3,children:(I=e.tiers)==null?void 0:I.map(S=>t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(Pm,{children:[t.jsxs(C,{sx:{mb:3},children:[t.jsx(j,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,fontSize:"1rem"},children:S.name}),t.jsxs(j,{variant:"h4",sx:{fontWeight:700,fontSize:"2rem",display:"flex",alignItems:"baseline",gap:.5},children:[S.price!==void 0&&S.currency?new Intl.NumberFormat("en-US",{style:"currency",currency:S.currency.toUpperCase()}).format(S.price/100):`$${S.price||0}`,t.jsx(j,{component:"span",sx:{fontSize:"0.875rem",fontWeight:400,color:"text.secondary"},children:"/month"})]})]}),t.jsx(j,{variant:"body2",sx:{mb:3,color:"text.secondary",minHeight:60},children:S.description})]})},S.id))})]})}),t.jsx("div",{role:"tabpanel",hidden:o!==1,id:"channel-tabpanel-1","aria-labelledby":"channel-tab-1",children:o===1&&t.jsx(C,{children:t.jsx(CB,{channelId:l,onCreateExpenseOrder:p,onViewExpenseOrder:m,userRole:"journalist"})})})]}):t.jsx(Tt,{maxWidth:"lg",sx:{mt:4},children:t.jsx(j,{variant:"h5",align:"center",children:"Channel not found"})})},IB=()=>t.jsx(C,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(bn,{})}),Vw=({channel:e,onUpdate:n})=>{const r=async s=>{!s||!("name"in s)||await n(s)};return t.jsx(C,{sx:{maxWidth:800},children:t.jsx(Ww,{initialData:e,onSubmit:r,submitButtonText:"Save"})})};var Om={},DB=Ke;Object.defineProperty(Om,"__esModule",{value:!0});var Uw=Om.default=void 0,TB=DB(Xe()),EB=t;Uw=Om.default=(0,TB.default)((0,EB.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"DragIndicator");var Mm={},AB=Ke;Object.defineProperty(Mm,"__esModule",{value:!0});var Nm=Mm.default=void 0,RB=AB(Xe()),_B=t;Nm=Mm.default=(0,RB.default)((0,_B.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");function ur(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var kB=typeof Symbol=="function"&&Symbol.observable||"@@observable",e0=kB,Rh=()=>Math.random().toString(36).substring(7).split("").join("."),OB={INIT:`@@redux/INIT${Rh()}`,REPLACE:`@@redux/REPLACE${Rh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Rh()}`},t0=OB;function MB(e){if(typeof e!="object"||e===null)return!1;let n=e;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n||Object.getPrototypeOf(e)===null}function zw(e,n,r){if(typeof e!="function")throw new Error(ur(2));if(typeof n=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ur(0));if(typeof n=="function"&&typeof r>"u"&&(r=n,n=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ur(1));return r(zw)(e,n)}let s=e,o=n,i=new Map,l=i,d=0,u=!1;function h(){l===i&&(l=new Map,i.forEach((v,I)=>{l.set(I,v)}))}function p(){if(u)throw new Error(ur(3));return o}function m(v){if(typeof v!="function")throw new Error(ur(4));if(u)throw new Error(ur(5));let I=!0;h();const S=d++;return l.set(S,v),function(){if(I){if(u)throw new Error(ur(6));I=!1,h(),l.delete(S),i=null}}}function g(v){if(!MB(v))throw new Error(ur(7));if(typeof v.type>"u")throw new Error(ur(8));if(typeof v.type!="string")throw new Error(ur(17));if(u)throw new Error(ur(9));try{u=!0,o=s(o,v)}finally{u=!1}return(i=l).forEach(S=>{S()}),v}function y(v){if(typeof v!="function")throw new Error(ur(10));s=v,g({type:t0.REPLACE})}function b(){const v=m;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(ur(11));function S(){const D=I;D.next&&D.next(p())}return S(),{unsubscribe:v(S)}},[e0](){return this}}}return g({type:t0.INIT}),{dispatch:g,subscribe:m,getState:p,replaceReducer:y,[e0]:b}}function n0(e,n){return function(...r){return n(e.apply(this,r))}}function r0(e,n){if(typeof e=="function")return n0(e,n);if(typeof e!="object"||e===null)throw new Error(ur(16));const r={};for(const s in e){const o=e[s];typeof o=="function"&&(r[s]=n0(o,n))}return r}function Hw(...e){return e.length===0?n=>n:e.length===1?e[0]:e.reduce((n,r)=>(...s)=>n(r(...s)))}function NB(...e){return n=>(r,s)=>{const o=n(r,s);let i=()=>{throw new Error(ur(15))};const l={getState:o.getState,dispatch:(u,...h)=>i(u,...h)},d=e.map(u=>u(l));return i=Hw(...d)(o.dispatch),{...o,dispatch:i}}}var LB={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fl=x;function $B(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var FB=typeof Object.is=="function"?Object.is:$B,WB=fl.useSyncExternalStore,BB=fl.useRef,VB=fl.useEffect,UB=fl.useMemo,zB=fl.useDebugValue;LB.useSyncExternalStoreWithSelector=function(e,n,r,s,o){var i=BB(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=UB(function(){function u(y){if(!h){if(h=!0,p=y,y=s(y),o!==void 0&&l.hasValue){var b=l.value;if(o(b,y))return m=b}return m=y}if(b=m,FB(p,y))return b;var w=s(y);return o!==void 0&&o(b,w)?(p=y,b):(p=y,m=w)}var h=!1,p,m,g=r===void 0?null:r;return[function(){return u(n())},g===null?void 0:function(){return u(g())}]},[n,r,s,o]);var d=WB(e,i[0],i[1]);return VB(function(){l.hasValue=!0,l.value=d},[d]),zB(d),d};var HB=x.version.startsWith("19"),GB=Symbol.for(HB?"react.transitional.element":"react.element"),YB=Symbol.for("react.portal"),qB=Symbol.for("react.fragment"),KB=Symbol.for("react.strict_mode"),XB=Symbol.for("react.profiler"),JB=Symbol.for("react.consumer"),QB=Symbol.for("react.context"),Gw=Symbol.for("react.forward_ref"),ZB=Symbol.for("react.suspense"),e6=Symbol.for("react.suspense_list"),Lm=Symbol.for("react.memo"),t6=Symbol.for("react.lazy"),n6=Gw,r6=Lm;function s6(e){if(typeof e=="object"&&e!==null){const{$$typeof:n}=e;switch(n){case GB:switch(e=e.type,e){case qB:case XB:case KB:case ZB:case e6:return e;default:switch(e=e&&e.$$typeof,e){case QB:case Gw:case t6:case Lm:return e;case JB:return e;default:return n}}case YB:return n}}}function o6(e){return s6(e)===Lm}function a6(e,n,r,s,{areStatesEqual:o,areOwnPropsEqual:i,areStatePropsEqual:l}){let d=!1,u,h,p,m,g;function y(S,T){return u=S,h=T,p=e(u,h),m=n(s,h),g=r(p,m,h),d=!0,g}function b(){return p=e(u,h),n.dependsOnOwnProps&&(m=n(s,h)),g=r(p,m,h),g}function w(){return e.dependsOnOwnProps&&(p=e(u,h)),n.dependsOnOwnProps&&(m=n(s,h)),g=r(p,m,h),g}function v(){const S=e(u,h),T=!l(S,p);return p=S,T&&(g=r(p,m,h)),g}function I(S,T){const D=!i(T,h),A=!o(S,u,T,h);return u=S,h=T,D&&A?b():D?w():A?v():g}return function(T,D){return d?I(T,D):y(T,D)}}function i6(e,{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:s,...o}){const i=n(e,o),l=r(e,o),d=s(e,o);return a6(i,l,d,e,o)}function l6(e,n){const r={};for(const s in e){const o=e[s];typeof o=="function"&&(r[s]=(...i)=>n(o(...i)))}return r}function ff(e){return function(r){const s=e(r);function o(){return s}return o.dependsOnOwnProps=!1,o}}function s0(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function Yw(e,n){return function(s,{displayName:o}){const i=function(d,u){return i.dependsOnOwnProps?i.mapToProps(d,u):i.mapToProps(d,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(d,u){i.mapToProps=e,i.dependsOnOwnProps=s0(e);let h=i(d,u);return typeof h=="function"&&(i.mapToProps=h,i.dependsOnOwnProps=s0(h),h=i(d,u)),h},i}}function $m(e,n){return(r,s)=>{throw new Error(`Invalid value of type ${typeof e} for ${n} argument when connecting component ${s.wrappedComponentName}.`)}}function c6(e){return e&&typeof e=="object"?ff(n=>l6(e,n)):e?typeof e=="function"?Yw(e):$m(e,"mapDispatchToProps"):ff(n=>({dispatch:n}))}function d6(e){return e?typeof e=="function"?Yw(e):$m(e,"mapStateToProps"):ff(()=>({}))}function u6(e,n,r){return{...r,...e,...n}}function h6(e){return function(r,{displayName:s,areMergedPropsEqual:o}){let i=!1,l;return function(u,h,p){const m=e(u,h,p);return i?o(m,l)||(l=m):(i=!0,l=m),l}}}function f6(e){return e?typeof e=="function"?h6(e):$m(e,"mergeProps"):()=>u6}function p6(e){e()}function m6(){let e=null,n=null;return{clear(){e=null,n=null},notify(){p6(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let s=e;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0;const o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!s||e===null||(s=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var o0={notify(){},get:()=>[]};function qw(e,n){let r,s=o0,o=0,i=!1;function l(w){p();const v=s.subscribe(w);let I=!1;return()=>{I||(I=!0,v(),m())}}function d(){s.notify()}function u(){b.onStateChange&&b.onStateChange()}function h(){return i}function p(){o++,r||(r=n?n.addNestedSub(u):e.subscribe(u),s=m6())}function m(){o--,r&&o===0&&(r(),r=void 0,s.clear(),s=o0)}function g(){i||(i=!0,p())}function y(){i&&(i=!1,m())}const b={addNestedSub:l,notifyNestedSubs:d,handleChangeWrapper:u,isSubscribed:h,trySubscribe:g,tryUnsubscribe:y,getListeners:()=>s};return b}var x6=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",g6=x6(),b6=()=>typeof navigator<"u"&&navigator.product==="ReactNative",y6=b6(),v6=()=>g6||y6?x.useLayoutEffect:x.useEffect,Jc=v6();function a0(e,n){return e===n?e!==0||n!==0||1/e===1/n:e!==e&&n!==n}function _h(e,n){if(a0(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;const r=Object.keys(e),s=Object.keys(n);if(r.length!==s.length)return!1;for(let o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(n,r[o])||!a0(e[r[o]],n[r[o]]))return!1;return!0}var j6={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},w6={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},S6={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Kw={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},C6={[n6]:S6,[r6]:Kw};function i0(e){return o6(e)?Kw:C6[e.$$typeof]||j6}var P6=Object.defineProperty,I6=Object.getOwnPropertyNames,l0=Object.getOwnPropertySymbols,D6=Object.getOwnPropertyDescriptor,T6=Object.getPrototypeOf,c0=Object.prototype;function pf(e,n){if(typeof n!="string"){if(c0){const i=T6(n);i&&i!==c0&&pf(e,i)}let r=I6(n);l0&&(r=r.concat(l0(n)));const s=i0(e),o=i0(n);for(let i=0;i<r.length;++i){const l=r[i];if(!w6[l]&&!(o&&o[l])&&!(s&&s[l])){const d=D6(n,l);try{P6(e,l,d)}catch{}}}}return e}var kh=Symbol.for("react-redux-context"),Oh=typeof globalThis<"u"?globalThis:{};function E6(){if(!x.createContext)return{};const e=Oh[kh]??(Oh[kh]=new Map);let n=e.get(x.createContext);return n||(n=x.createContext(null),e.set(x.createContext,n)),n}var Xw=E6(),A6=[null,null];function R6(e,n,r){Jc(()=>e(...n),r)}function _6(e,n,r,s,o,i){e.current=s,r.current=!1,o.current&&(o.current=null,i())}function k6(e,n,r,s,o,i,l,d,u,h,p){if(!e)return()=>{};let m=!1,g=null;const y=()=>{if(m||!d.current)return;const w=n.getState();let v,I;try{v=s(w,o.current)}catch(S){I=S,g=S}I||(g=null),v===i.current?l.current||h():(i.current=v,u.current=v,l.current=!0,p())};return r.onStateChange=y,r.trySubscribe(),y(),()=>{if(m=!0,r.tryUnsubscribe(),r.onStateChange=null,g)throw g}}function O6(e,n){return e===n}function M6(e,n,r,{pure:s,areStatesEqual:o=O6,areOwnPropsEqual:i=_h,areStatePropsEqual:l=_h,areMergedPropsEqual:d=_h,forwardRef:u=!1,context:h=Xw}={}){const p=h,m=d6(e),g=c6(n),y=f6(r),b=!!e;return v=>{const I=v.displayName||v.name||"Component",S=`Connect(${I})`,T={shouldHandleStateChanges:b,displayName:S,wrappedComponentName:I,WrappedComponent:v,initMapStateToProps:m,initMapDispatchToProps:g,initMergeProps:y,areStatesEqual:o,areStatePropsEqual:l,areOwnPropsEqual:i,areMergedPropsEqual:d};function D(k){const[_,N,W]=x.useMemo(()=>{const{reactReduxForwardedRef:se,...me}=k;return[k.context,se,me]},[k]),Y=x.useMemo(()=>{let se=p;return _!=null&&_.Consumer,se},[_,p]),$=x.useContext(Y),H=!!k.store&&!!k.store.getState&&!!k.store.dispatch,J=!!$&&!!$.store,X=H?k.store:$.store,K=J?$.getServerState:X.getState,Z=x.useMemo(()=>i6(X.dispatch,T),[X]),[G,oe]=x.useMemo(()=>{if(!b)return A6;const se=qw(X,H?void 0:$.subscription),me=se.notifyNestedSubs.bind(se);return[se,me]},[X,H,$]),V=x.useMemo(()=>H?$:{...$,subscription:G},[H,$,G]),ee=x.useRef(void 0),Pe=x.useRef(W),pe=x.useRef(void 0),Re=x.useRef(!1),le=x.useRef(!1),re=x.useRef(void 0);Jc(()=>(le.current=!0,()=>{le.current=!1}),[]);const je=x.useMemo(()=>()=>pe.current&&W===Pe.current?pe.current:Z(X.getState(),W),[X,W]),Oe=x.useMemo(()=>me=>G?k6(b,X,G,Z,Pe,ee,Re,le,pe,oe,me):()=>{},[G]);R6(_6,[Pe,ee,Re,W,pe,oe]);let be;try{be=x.useSyncExternalStore(Oe,je,K?()=>Z(K(),W):je)}catch(se){throw re.current&&(se.message+=`
The error may be correlated with this previous error:
${re.current.stack}

`),se}Jc(()=>{re.current=void 0,pe.current=void 0,ee.current=be});const ie=x.useMemo(()=>x.createElement(v,{...be,ref:N}),[N,v,be]);return x.useMemo(()=>b?x.createElement(Y.Provider,{value:V},ie):ie,[Y,ie,V])}const R=x.memo(D);if(R.WrappedComponent=v,R.displayName=D.displayName=S,u){const _=x.forwardRef(function(W,Y){return x.createElement(R,{...W,reactReduxForwardedRef:Y})});return _.displayName=S,_.WrappedComponent=v,pf(_,v)}return pf(R,v)}}var Jw=M6;function N6(e){const{children:n,context:r,serverState:s,store:o}=e,i=x.useMemo(()=>{const u=qw(o);return{store:o,subscription:u,getServerState:s?()=>s:void 0}},[o,s]),l=x.useMemo(()=>o.getState(),[o]);Jc(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==o.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,l]);const d=r||Xw;return x.createElement(d.Provider,{value:i},n)}var L6=N6;function $6(e,n){if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}function Qw(e,n){var r=x.useState(function(){return{inputs:n,result:e()}})[0],s=x.useRef(!0),o=x.useRef(r),i=s.current||!!(n&&o.current.inputs&&$6(n,o.current.inputs)),l=i?o.current:{inputs:n,result:e()};return x.useEffect(function(){s.current=!1,o.current=l},[l]),l.result}function F6(e,n){return Qw(function(){return e},n)}var Ot=Qw,rt=F6,us=function(n){var r=n.top,s=n.right,o=n.bottom,i=n.left,l=s-i,d=o-r,u={top:r,right:s,bottom:o,left:i,width:l,height:d,x:i,y:r,center:{x:(s+i)/2,y:(o+r)/2}};return u},Fm=function(n,r){return{top:n.top-r.top,left:n.left-r.left,bottom:n.bottom+r.bottom,right:n.right+r.right}},d0=function(n,r){return{top:n.top+r.top,left:n.left+r.left,bottom:n.bottom-r.bottom,right:n.right-r.right}},W6=function(n,r){return{top:n.top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x}},Mh={top:0,right:0,bottom:0,left:0},Wm=function(n){var r=n.borderBox,s=n.margin,o=s===void 0?Mh:s,i=n.border,l=i===void 0?Mh:i,d=n.padding,u=d===void 0?Mh:d,h=us(Fm(r,o)),p=us(d0(r,l)),m=us(d0(p,u));return{marginBox:h,borderBox:us(r),paddingBox:p,contentBox:m,margin:o,border:l,padding:u}},Kr=function(n){var r=n.slice(0,-2),s=n.slice(-2);if(s!=="px")return 0;var o=Number(r);return isNaN(o)&&C_(),o},B6=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Qc=function(n,r){var s=n.borderBox,o=n.border,i=n.margin,l=n.padding,d=W6(s,r);return Wm({borderBox:d,border:o,margin:i,padding:l})},Zc=function(n,r){return r===void 0&&(r=B6()),Qc(n,r)},Zw=function(n,r){var s={top:Kr(r.marginTop),right:Kr(r.marginRight),bottom:Kr(r.marginBottom),left:Kr(r.marginLeft)},o={top:Kr(r.paddingTop),right:Kr(r.paddingRight),bottom:Kr(r.paddingBottom),left:Kr(r.paddingLeft)},i={top:Kr(r.borderTopWidth),right:Kr(r.borderRightWidth),bottom:Kr(r.borderBottomWidth),left:Kr(r.borderLeftWidth)};return Wm({borderBox:n,margin:s,padding:o,border:i})},eS=function(n){var r=n.getBoundingClientRect(),s=window.getComputedStyle(n);return Zw(r,s)},u0=Number.isNaN||function(n){return typeof n=="number"&&n!==n};function V6(e,n){return!!(e===n||u0(e)&&u0(n))}function U6(e,n){if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(!V6(e[r],n[r]))return!1;return!0}function Wn(e,n){n===void 0&&(n=U6);var r=null;function s(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(r&&r.lastThis===this&&n(o,r.lastArgs))return r.lastResult;var l=e.apply(this,o);return r={lastResult:l,lastArgs:o,lastThis:this},l}return s.clear=function(){r=null},s}var Gi=function(n){var r=[],s=null,o=function(){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];r=d,!s&&(s=requestAnimationFrame(function(){s=null,n.apply(void 0,r)}))};return o.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},o};function tS(e,n){}tS.bind(null,"warn");tS.bind(null,"error");function fo(){}function z6(e,n){return{...e,...n}}function Jr(e,n,r){const s=n.map(o=>{const i=z6(r,o.options);return e.addEventListener(o.eventName,o.fn,i),function(){e.removeEventListener(o.eventName,o.fn,i)}});return function(){s.forEach(i=>{i()})}}const H6="Invariant failed";class ed extends Error{}ed.prototype.toString=function(){return this.message};function Ne(e,n){throw new ed(H6)}class G6 extends Dt.Component{constructor(...n){super(...n),this.callbacks=null,this.unbind=fo,this.onWindowError=r=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),r.error instanceof ed&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=Jr(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(n){if(n instanceof ed){this.setState({});return}throw n}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Y6=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,td=e=>e+1,q6=e=>`
  You have lifted an item in position ${td(e.source.index)}
`,nS=(e,n)=>{const r=e.droppableId===n.droppableId,s=td(e.index),o=td(n.index);return r?`
      You have moved the item from position ${s}
      to position ${o}
    `:`
    You have moved the item from position ${s}
    in list ${e.droppableId}
    to list ${n.droppableId}
    in position ${o}
  `},rS=(e,n,r)=>n.droppableId===r.droppableId?`
      The item ${e}
      has been combined with ${r.draggableId}`:`
      The item ${e}
      in list ${n.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,K6=e=>{const n=e.destination;if(n)return nS(e.source,n);const r=e.combine;return r?rS(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},h0=e=>`
  The item has returned to its starting position
  of ${td(e.index)}
`,X6=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${h0(e.source)}
    `;const n=e.destination,r=e.combine;return n?`
      You have dropped the item.
      ${nS(e.source,n)}
    `:r?`
      You have dropped the item.
      ${rS(e.draggableId,e.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${h0(e.source)}
  `},vc={dragHandleUsageInstructions:Y6,onDragStart:q6,onDragUpdate:K6,onDragEnd:X6},Bn={x:0,y:0},Xn=(e,n)=>({x:e.x+n.x,y:e.y+n.y}),Nr=(e,n)=>({x:e.x-n.x,y:e.y-n.y}),po=(e,n)=>e.x===n.x&&e.y===n.y,Qa=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Xo=(e,n,r=0)=>e==="x"?{x:n,y:r}:{x:r,y:n},Yi=(e,n)=>Math.sqrt((n.x-e.x)**2+(n.y-e.y)**2),f0=(e,n)=>Math.min(...n.map(r=>Yi(e,r))),sS=e=>n=>({x:e(n.x),y:e(n.y)});var J6=(e,n)=>{const r=us({top:Math.max(n.top,e.top),right:Math.min(n.right,e.right),bottom:Math.min(n.bottom,e.bottom),left:Math.max(n.left,e.left)});return r.width<=0||r.height<=0?null:r};const pl=(e,n)=>({top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}),p0=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],Q6={top:0,right:0,bottom:0,left:0},Z6=(e,n)=>n?pl(e,n.scroll.diff.displacement):e,eV=(e,n,r)=>r&&r.increasedBy?{...e,[n.end]:e[n.end]+r.increasedBy[n.line]}:e,tV=(e,n)=>n&&n.shouldClipSubject?J6(n.pageMarginBox,e):us(e);var Ba=({page:e,withPlaceholder:n,axis:r,frame:s})=>{const o=Z6(e.marginBox,s),i=eV(o,r,n),l=tV(i,s);return{page:e,withPlaceholder:n,active:l}},Bm=(e,n)=>{e.frame||Ne();const r=e.frame,s=Nr(n,r.scroll.initial),o=Qa(s),i={...r,scroll:{initial:r.scroll.initial,current:n,diff:{value:s,displacement:o},max:r.scroll.max}},l=Ba({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return{...e,frame:i,subject:l}};const oS=Wn(e=>e.reduce((n,r)=>(n[r.descriptor.id]=r,n),{})),aS=Wn(e=>e.reduce((n,r)=>(n[r.descriptor.id]=r,n),{})),Od=Wn(e=>Object.values(e)),nV=Wn(e=>Object.values(e));var Za=Wn((e,n)=>nV(n).filter(s=>e===s.descriptor.droppableId).sort((s,o)=>s.descriptor.index-o.descriptor.index));function Vm(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Md(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Nd=Wn((e,n)=>n.filter(r=>r.descriptor.id!==e.descriptor.id)),rV=({isMovingForward:e,draggable:n,destination:r,insideDestination:s,previousImpact:o})=>{if(!r.isCombineEnabled||!Vm(o))return null;function l(y){const b={type:"COMBINE",combine:{draggableId:y,droppableId:r.descriptor.id}};return{...o,at:b}}const d=o.displaced.all,u=d.length?d[0]:null;if(e)return u?l(u):null;const h=Nd(n,s);if(!u){if(!h.length)return null;const y=h[h.length-1];return l(y.descriptor.id)}const p=h.findIndex(y=>y.descriptor.id===u);p===-1&&Ne();const m=p-1;if(m<0)return null;const g=h[m];return l(g.descriptor.id)},ei=(e,n)=>e.descriptor.droppableId===n.descriptor.id;const iS={point:Bn,value:0},qi={invisible:{},visible:{},all:[]},sV={displaced:qi,displacedBy:iS,at:null};var Zr=(e,n)=>r=>e<=r&&r<=n,lS=e=>{const n=Zr(e.top,e.bottom),r=Zr(e.left,e.right);return s=>{if(n(s.top)&&n(s.bottom)&&r(s.left)&&r(s.right))return!0;const i=n(s.top)||n(s.bottom),l=r(s.left)||r(s.right);if(i&&l)return!0;const u=s.top<e.top&&s.bottom>e.bottom,h=s.left<e.left&&s.right>e.right;return u&&h?!0:u&&l||h&&i}},oV=e=>{const n=Zr(e.top,e.bottom),r=Zr(e.left,e.right);return s=>n(s.top)&&n(s.bottom)&&r(s.left)&&r(s.right)};const Um={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},cS={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var aV=e=>n=>{const r=Zr(n.top,n.bottom),s=Zr(n.left,n.right);return o=>e===Um?r(o.top)&&r(o.bottom):s(o.left)&&s(o.right)};const iV=(e,n)=>{const r=n.frame?n.frame.scroll.diff.displacement:Bn;return pl(e,r)},lV=(e,n,r)=>n.subject.active?r(n.subject.active)(e):!1,cV=(e,n,r)=>r(n)(e),zm=({target:e,destination:n,viewport:r,withDroppableDisplacement:s,isVisibleThroughFrameFn:o})=>{const i=s?iV(e,n):e;return lV(i,n,o)&&cV(i,r,o)},dV=e=>zm({...e,isVisibleThroughFrameFn:lS}),dS=e=>zm({...e,isVisibleThroughFrameFn:oV}),uV=e=>zm({...e,isVisibleThroughFrameFn:aV(e.destination.axis)}),hV=(e,n,r)=>{if(typeof r=="boolean")return r;if(!n)return!0;const{invisible:s,visible:o}=n;if(s[e])return!1;const i=o[e];return i?i.shouldAnimate:!0};function fV(e,n){const r=e.page.marginBox,s={top:n.point.y,right:0,bottom:0,left:n.point.x};return us(Fm(r,s))}function Ki({afterDragging:e,destination:n,displacedBy:r,viewport:s,forceShouldAnimate:o,last:i}){return e.reduce(function(d,u){const h=fV(u,r),p=u.descriptor.id;if(d.all.push(p),!dV({target:h,destination:n,viewport:s,withDroppableDisplacement:!0}))return d.invisible[u.descriptor.id]=!0,d;const g=hV(p,i,o),y={draggableId:p,shouldAnimate:g};return d.visible[p]=y,d},{all:[],visible:{},invisible:{}})}function pV(e,n){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return n.inHomeList?r:r+1}function m0({insideDestination:e,inHomeList:n,displacedBy:r,destination:s}){const o=pV(e,{inHomeList:n});return{displaced:qi,displacedBy:r,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:o}}}}function nd({draggable:e,insideDestination:n,destination:r,viewport:s,displacedBy:o,last:i,index:l,forceShouldAnimate:d}){const u=ei(e,r);if(l==null)return m0({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});const h=n.find(b=>b.descriptor.index===l);if(!h)return m0({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});const p=Nd(e,n),m=n.indexOf(h),g=p.slice(m);return{displaced:Ki({afterDragging:g,destination:r,displacedBy:o,last:i,viewport:s.frame,forceShouldAnimate:d}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:l}}}}function go(e,n){return!!n.effected[e]}var mV=({isMovingForward:e,destination:n,draggables:r,combine:s,afterCritical:o})=>{if(!n.isCombineEnabled)return null;const i=s.draggableId,d=r[i].descriptor.index;return go(i,o)?e?d:d-1:e?d+1:d},xV=({isMovingForward:e,isInHomeList:n,insideDestination:r,location:s})=>{if(!r.length)return null;const o=s.index,i=e?o+1:o-1,l=r[0].descriptor.index,d=r[r.length-1].descriptor.index,u=n?d:d+1;return i<l||i>u?null:i},gV=({isMovingForward:e,isInHomeList:n,draggable:r,draggables:s,destination:o,insideDestination:i,previousImpact:l,viewport:d,afterCritical:u})=>{const h=l.at;if(h||Ne(),h.type==="REORDER"){const m=xV({isMovingForward:e,isInHomeList:n,location:h.destination,insideDestination:i});return m==null?null:nd({draggable:r,insideDestination:i,destination:o,viewport:d,last:l.displaced,displacedBy:l.displacedBy,index:m})}const p=mV({isMovingForward:e,destination:o,displaced:l.displaced,draggables:s,combine:h.combine,afterCritical:u});return p==null?null:nd({draggable:r,insideDestination:i,destination:o,viewport:d,last:l.displaced,displacedBy:l.displacedBy,index:p})},bV=({displaced:e,afterCritical:n,combineWith:r,displacedBy:s})=>{const o=!!(e.visible[r]||e.invisible[r]);return go(r,n)?o?Bn:Qa(s.point):o?s.point:Bn},yV=({afterCritical:e,impact:n,draggables:r})=>{const s=Md(n);s||Ne();const o=s.draggableId,i=r[o].page.borderBox.center,l=bV({displaced:n.displaced,afterCritical:e,combineWith:o,displacedBy:n.displacedBy});return Xn(i,l)};const uS=(e,n)=>n.margin[e.start]+n.borderBox[e.size]/2,vV=(e,n)=>n.margin[e.end]+n.borderBox[e.size]/2,Hm=(e,n,r)=>n[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,x0=({axis:e,moveRelativeTo:n,isMoving:r})=>Xo(e.line,n.marginBox[e.end]+uS(e,r),Hm(e,n.marginBox,r)),g0=({axis:e,moveRelativeTo:n,isMoving:r})=>Xo(e.line,n.marginBox[e.start]-vV(e,r),Hm(e,n.marginBox,r)),jV=({axis:e,moveInto:n,isMoving:r})=>Xo(e.line,n.contentBox[e.start]+uS(e,r),Hm(e,n.contentBox,r));var wV=({impact:e,draggable:n,draggables:r,droppable:s,afterCritical:o})=>{const i=Za(s.descriptor.id,r),l=n.page,d=s.axis;if(!i.length)return jV({axis:d,moveInto:s.page,isMoving:l});const{displaced:u,displacedBy:h}=e,p=u.all[0];if(p){const g=r[p];if(go(p,o))return g0({axis:d,moveRelativeTo:g.page,isMoving:l});const y=Qc(g.page,h.point);return g0({axis:d,moveRelativeTo:y,isMoving:l})}const m=i[i.length-1];if(m.descriptor.id===n.descriptor.id)return l.borderBox.center;if(go(m.descriptor.id,o)){const g=Qc(m.page,Qa(o.displacedBy.point));return x0({axis:d,moveRelativeTo:g,isMoving:l})}return x0({axis:d,moveRelativeTo:m.page,isMoving:l})},mf=(e,n)=>{const r=e.frame;return r?Xn(n,r.scroll.diff.displacement):n};const SV=({impact:e,draggable:n,droppable:r,draggables:s,afterCritical:o})=>{const i=n.page.borderBox.center,l=e.at;return!r||!l?i:l.type==="REORDER"?wV({impact:e,draggable:n,draggables:s,droppable:r,afterCritical:o}):yV({impact:e,draggables:s,afterCritical:o})};var Ld=e=>{const n=SV(e),r=e.droppable;return r?mf(r,n):n},hS=(e,n)=>{const r=Nr(n,e.scroll.initial),s=Qa(r);return{frame:us({top:n.y,bottom:n.y+e.frame.height,left:n.x,right:n.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:n,diff:{value:r,displacement:s}}}};function b0(e,n){return e.map(r=>n[r])}function CV(e,n){for(let r=0;r<n.length;r++){const s=n[r].visible[e];if(s)return s}return null}var PV=({impact:e,viewport:n,destination:r,draggables:s,maxScrollChange:o})=>{const i=hS(n,Xn(n.scroll.current,o)),l=r.frame?Bm(r,Xn(r.frame.scroll.current,o)):r,d=e.displaced,u=Ki({afterDragging:b0(d.all,s),destination:r,displacedBy:e.displacedBy,viewport:i.frame,last:d,forceShouldAnimate:!1}),h=Ki({afterDragging:b0(d.all,s),destination:l,displacedBy:e.displacedBy,viewport:n.frame,last:d,forceShouldAnimate:!1}),p={},m={},g=[d,u,h];return d.all.forEach(b=>{const w=CV(b,g);if(w){m[b]=w;return}p[b]=!0}),{...e,displaced:{all:d.all,invisible:p,visible:m}}},IV=(e,n)=>Xn(e.scroll.diff.displacement,n),Gm=({pageBorderBoxCenter:e,draggable:n,viewport:r})=>{const s=IV(r,e),o=Nr(s,n.page.borderBox.center);return Xn(n.client.borderBox.center,o)},fS=({draggable:e,destination:n,newPageBorderBoxCenter:r,viewport:s,withDroppableDisplacement:o,onlyOnMainAxis:i=!1})=>{const l=Nr(r,e.page.borderBox.center),u={target:pl(e.page.borderBox,l),destination:n,withDroppableDisplacement:o,viewport:s};return i?uV(u):dS(u)},DV=({isMovingForward:e,draggable:n,destination:r,draggables:s,previousImpact:o,viewport:i,previousPageBorderBoxCenter:l,previousClientSelection:d,afterCritical:u})=>{if(!r.isEnabled)return null;const h=Za(r.descriptor.id,s),p=ei(n,r),m=rV({isMovingForward:e,draggable:n,destination:r,insideDestination:h,previousImpact:o})||gV({isMovingForward:e,isInHomeList:p,draggable:n,draggables:s,destination:r,insideDestination:h,previousImpact:o,viewport:i,afterCritical:u});if(!m)return null;const g=Ld({impact:m,draggable:n,droppable:r,draggables:s,afterCritical:u});if(fS({draggable:n,destination:r,newPageBorderBoxCenter:g,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Gm({pageBorderBoxCenter:g,draggable:n,viewport:i}),impact:m,scrollJumpRequest:null};const b=Nr(g,l),w=PV({impact:m,viewport:i,destination:r,draggables:s,maxScrollChange:b});return{clientSelection:d,impact:w,scrollJumpRequest:b}};const dr=e=>{const n=e.subject.active;return n||Ne(),n};var TV=({isMovingForward:e,pageBorderBoxCenter:n,source:r,droppables:s,viewport:o})=>{const i=r.subject.active;if(!i)return null;const l=r.axis,d=Zr(i[l.start],i[l.end]),u=Od(s).filter(p=>p!==r).filter(p=>p.isEnabled).filter(p=>!!p.subject.active).filter(p=>lS(o.frame)(dr(p))).filter(p=>{const m=dr(p);return e?i[l.crossAxisEnd]<m[l.crossAxisEnd]:m[l.crossAxisStart]<i[l.crossAxisStart]}).filter(p=>{const m=dr(p),g=Zr(m[l.start],m[l.end]);return d(m[l.start])||d(m[l.end])||g(i[l.start])||g(i[l.end])}).sort((p,m)=>{const g=dr(p)[l.crossAxisStart],y=dr(m)[l.crossAxisStart];return e?g-y:y-g}).filter((p,m,g)=>dr(p)[l.crossAxisStart]===dr(g[0])[l.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const h=u.filter(p=>Zr(dr(p)[l.start],dr(p)[l.end])(n[l.line]));return h.length===1?h[0]:h.length>1?h.sort((p,m)=>dr(p)[l.start]-dr(m)[l.start])[0]:u.sort((p,m)=>{const g=f0(n,p0(dr(p))),y=f0(n,p0(dr(m)));return g!==y?g-y:dr(p)[l.start]-dr(m)[l.start]})[0]};const y0=(e,n)=>{const r=e.page.borderBox.center;return go(e.descriptor.id,n)?Nr(r,n.displacedBy.point):r},EV=(e,n)=>{const r=e.page.borderBox;return go(e.descriptor.id,n)?pl(r,Qa(n.displacedBy.point)):r};var AV=({pageBorderBoxCenter:e,viewport:n,destination:r,insideDestination:s,afterCritical:o})=>s.filter(l=>dS({target:EV(l,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})).sort((l,d)=>{const u=Yi(e,mf(r,y0(l,o))),h=Yi(e,mf(r,y0(d,o)));return u<h?-1:h<u?1:l.descriptor.index-d.descriptor.index})[0]||null,ml=Wn(function(n,r){const s=r[n.line];return{value:s,point:Xo(n.line,s)}});const RV=(e,n,r)=>{const s=e.axis;if(e.descriptor.mode==="virtual")return Xo(s.line,n[s.line]);const o=e.subject.page.contentBox[s.size],u=Za(e.descriptor.id,r).reduce((h,p)=>h+p.client.marginBox[s.size],0)+n[s.line]-o;return u<=0?null:Xo(s.line,u)},pS=(e,n)=>({...e,scroll:{...e.scroll,max:n}}),mS=(e,n,r)=>{const s=e.frame;ei(n,e)&&Ne(),e.subject.withPlaceholder&&Ne();const o=ml(e.axis,n.displaceBy).point,i=RV(e,o,r),l={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!s){const p=Ba({page:e.subject.page,withPlaceholder:l,axis:e.axis,frame:e.frame});return{...e,subject:p}}const d=i?Xn(s.scroll.max,i):s.scroll.max,u=pS(s,d),h=Ba({page:e.subject.page,withPlaceholder:l,axis:e.axis,frame:u});return{...e,subject:h,frame:u}},_V=e=>{const n=e.subject.withPlaceholder;n||Ne();const r=e.frame;if(!r){const l=Ba({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:l}}const s=n.oldFrameMaxScroll;s||Ne();const o=pS(r,s),i=Ba({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return{...e,subject:i,frame:o}};var kV=({previousPageBorderBoxCenter:e,moveRelativeTo:n,insideDestination:r,draggable:s,draggables:o,destination:i,viewport:l,afterCritical:d})=>{if(!n){if(r.length)return null;const m={displaced:qi,displacedBy:iS,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},g=Ld({impact:m,draggable:s,droppable:i,draggables:o,afterCritical:d}),y=ei(s,i)?i:mS(i,s,o);return fS({draggable:s,destination:y,newPageBorderBoxCenter:g,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?m:null}const u=e[i.axis.line]<=n.page.borderBox.center[i.axis.line],h=(()=>{const m=n.descriptor.index;return n.descriptor.id===s.descriptor.id||u?m:m+1})(),p=ml(i.axis,s.displaceBy);return nd({draggable:s,insideDestination:r,destination:i,viewport:l,displacedBy:p,last:qi,index:h})},OV=({isMovingForward:e,previousPageBorderBoxCenter:n,draggable:r,isOver:s,draggables:o,droppables:i,viewport:l,afterCritical:d})=>{const u=TV({isMovingForward:e,pageBorderBoxCenter:n,source:s,droppables:i,viewport:l});if(!u)return null;const h=Za(u.descriptor.id,o),p=AV({pageBorderBoxCenter:n,viewport:l,destination:u,insideDestination:h,afterCritical:d}),m=kV({previousPageBorderBoxCenter:n,destination:u,draggable:r,draggables:o,moveRelativeTo:p,insideDestination:h,viewport:l,afterCritical:d});if(!m)return null;const g=Ld({impact:m,draggable:r,droppable:u,draggables:o,afterCritical:d});return{clientSelection:Gm({pageBorderBoxCenter:g,draggable:r,viewport:l}),impact:m,scrollJumpRequest:null}},Lr=e=>{const n=e.at;return n?n.type==="REORDER"?n.destination.droppableId:n.combine.droppableId:null};const MV=(e,n)=>{const r=Lr(e);return r?n[r]:null};var NV=({state:e,type:n})=>{const r=MV(e.impact,e.dimensions.droppables),s=!!r,o=e.dimensions.droppables[e.critical.droppable.id],i=r||o,l=i.axis.direction,d=l==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||l==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(d&&!s)return null;const u=n==="MOVE_DOWN"||n==="MOVE_RIGHT",h=e.dimensions.draggables[e.critical.draggable.id],p=e.current.page.borderBoxCenter,{draggables:m,droppables:g}=e.dimensions;return d?DV({isMovingForward:u,previousPageBorderBoxCenter:p,draggable:h,destination:i,draggables:m,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):OV({isMovingForward:u,previousPageBorderBoxCenter:p,draggable:h,isOver:i,draggables:m,droppables:g,viewport:e.viewport,afterCritical:e.afterCritical})};function Bo(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function xS(e){const n=Zr(e.top,e.bottom),r=Zr(e.left,e.right);return function(o){return n(o.y)&&r(o.x)}}function LV(e,n){return e.left<n.right&&e.right>n.left&&e.top<n.bottom&&e.bottom>n.top}function $V({pageBorderBox:e,draggable:n,candidates:r}){const s=n.page.borderBox.center,o=r.map(i=>{const l=i.axis,d=Xo(i.axis.line,e.center[l.line],i.page.borderBox.center[l.crossAxisLine]);return{id:i.descriptor.id,distance:Yi(s,d)}}).sort((i,l)=>l.distance-i.distance);return o[0]?o[0].id:null}function FV({pageBorderBox:e,draggable:n,droppables:r}){const s=Od(r).filter(o=>{if(!o.isEnabled)return!1;const i=o.subject.active;if(!i||!LV(e,i))return!1;if(xS(i)(e.center))return!0;const l=o.axis,d=i.center[l.crossAxisLine],u=e[l.crossAxisStart],h=e[l.crossAxisEnd],p=Zr(i[l.crossAxisStart],i[l.crossAxisEnd]),m=p(u),g=p(h);return!m&&!g?!0:m?u<d:h>d});return s.length?s.length===1?s[0].descriptor.id:$V({pageBorderBox:e,draggable:n,candidates:s}):null}const gS=(e,n)=>us(pl(e,n));var WV=(e,n)=>{const r=e.frame;return r?gS(n,r.scroll.diff.value):n};function bS({displaced:e,id:n}){return!!(e.visible[n]||e.invisible[n])}function BV({draggable:e,closest:n,inHomeList:r}){return n?r&&n.descriptor.index>e.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var VV=({pageBorderBoxWithDroppableScroll:e,draggable:n,destination:r,insideDestination:s,last:o,viewport:i,afterCritical:l})=>{const d=r.axis,u=ml(r.axis,n.displaceBy),h=u.value,p=e[d.start],m=e[d.end],y=Nd(n,s).find(w=>{const v=w.descriptor.id,I=w.page.borderBox.center[d.line],S=go(v,l),T=bS({displaced:o,id:v});return S?T?m<=I:p<I-h:T?m<=I+h:p<I})||null,b=BV({draggable:n,closest:y,inHomeList:ei(n,r)});return nd({draggable:n,insideDestination:s,destination:r,viewport:i,last:o,displacedBy:u,index:b})};const UV=4;var zV=({draggable:e,pageBorderBoxWithDroppableScroll:n,previousImpact:r,destination:s,insideDestination:o,afterCritical:i})=>{if(!s.isCombineEnabled)return null;const l=s.axis,d=ml(s.axis,e.displaceBy),u=d.value,h=n[l.start],p=n[l.end],g=Nd(e,o).find(b=>{const w=b.descriptor.id,v=b.page.borderBox,S=v[l.size]/UV,T=go(w,i),D=bS({displaced:r.displaced,id:w});return T?D?p>v[l.start]+S&&p<v[l.end]-S:h>v[l.start]-u+S&&h<v[l.end]-u-S:D?p>v[l.start]+u+S&&p<v[l.end]+u-S:h>v[l.start]+S&&h<v[l.end]-S});return g?{displacedBy:d,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:g.descriptor.id,droppableId:s.descriptor.id}}}:null},yS=({pageOffset:e,draggable:n,draggables:r,droppables:s,previousImpact:o,viewport:i,afterCritical:l})=>{const d=gS(n.page.borderBox,e),u=FV({pageBorderBox:d,draggable:n,droppables:s});if(!u)return sV;const h=s[u],p=Za(h.descriptor.id,r),m=WV(h,d);return zV({pageBorderBoxWithDroppableScroll:m,draggable:n,previousImpact:o,destination:h,insideDestination:p,afterCritical:l})||VV({pageBorderBoxWithDroppableScroll:m,draggable:n,destination:h,insideDestination:p,last:o.displaced,viewport:i,afterCritical:l})},Ym=(e,n)=>({...e,[n.descriptor.id]:n});const HV=({previousImpact:e,impact:n,droppables:r})=>{const s=Lr(e),o=Lr(n);if(!s||s===o)return r;const i=r[s];if(!i.subject.withPlaceholder)return r;const l=_V(i);return Ym(r,l)};var GV=({draggable:e,draggables:n,droppables:r,previousImpact:s,impact:o})=>{const i=HV({previousImpact:s,impact:o,droppables:r}),l=Lr(o);if(!l)return i;const d=r[l];if(ei(e,d)||d.subject.withPlaceholder)return i;const u=mS(d,e,n);return Ym(i,u)},Ni=({state:e,clientSelection:n,dimensions:r,viewport:s,impact:o,scrollJumpRequest:i})=>{const l=s||e.viewport,d=r||e.dimensions,u=n||e.current.client.selection,h=Nr(u,e.initial.client.selection),p={offset:h,selection:u,borderBoxCenter:Xn(e.initial.client.borderBoxCenter,h)},m={selection:Xn(p.selection,l.scroll.current),borderBoxCenter:Xn(p.borderBoxCenter,l.scroll.current),offset:Xn(p.offset,l.scroll.diff.value)},g={client:p,page:m};if(e.phase==="COLLECTING")return{...e,dimensions:d,viewport:l,current:g};const y=d.draggables[e.critical.draggable.id],b=o||yS({pageOffset:m.offset,draggable:y,draggables:d.draggables,droppables:d.droppables,previousImpact:e.impact,viewport:l,afterCritical:e.afterCritical}),w=GV({draggable:y,impact:b,previousImpact:e.impact,draggables:d.draggables,droppables:d.droppables});return{...e,current:g,dimensions:{draggables:d.draggables,droppables:w},impact:b,viewport:l,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}};function YV(e,n){return e.map(r=>n[r])}var vS=({impact:e,viewport:n,draggables:r,destination:s,forceShouldAnimate:o})=>{const i=e.displaced,l=YV(i.all,r),d=Ki({afterDragging:l,destination:s,displacedBy:e.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:i});return{...e,displaced:d}},jS=({impact:e,draggable:n,droppable:r,draggables:s,viewport:o,afterCritical:i})=>{const l=Ld({impact:e,draggable:n,draggables:s,droppable:r,afterCritical:i});return Gm({pageBorderBoxCenter:l,draggable:n,viewport:o})},wS=({state:e,dimensions:n,viewport:r})=>{e.movementMode!=="SNAP"&&Ne();const s=e.impact,o=r||e.viewport,i=n||e.dimensions,{draggables:l,droppables:d}=i,u=l[e.critical.draggable.id],h=Lr(s);h||Ne();const p=d[h],m=vS({impact:s,viewport:o,destination:p,draggables:l}),g=jS({impact:m,draggable:u,droppable:p,draggables:l,viewport:o,afterCritical:e.afterCritical});return Ni({impact:m,clientSelection:g,state:e,dimensions:i,viewport:o})},qV=e=>({index:e.index,droppableId:e.droppableId}),SS=({draggable:e,home:n,draggables:r,viewport:s})=>{const o=ml(n.axis,e.displaceBy),i=Za(n.descriptor.id,r),l=i.indexOf(e);l===-1&&Ne();const d=i.slice(l+1),u=d.reduce((g,y)=>(g[y.descriptor.id]=!0,g),{}),h={inVirtualList:n.descriptor.mode==="virtual",displacedBy:o,effected:u};return{impact:{displaced:Ki({afterDragging:d,destination:n,displacedBy:o,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:qV(e.descriptor)}},afterCritical:h}},KV=(e,n)=>({draggables:e.draggables,droppables:Ym(e.droppables,n)}),XV=({draggable:e,offset:n,initialWindowScroll:r})=>{const s=Qc(e.client,n),o=Zc(s,r);return{...e,placeholder:{...e.placeholder,client:s},client:s,page:o}},JV=e=>{const n=e.frame;return n||Ne(),n},QV=({additions:e,updatedDroppables:n,viewport:r})=>{const s=r.scroll.diff.value;return e.map(o=>{const i=o.descriptor.droppableId,l=n[i],u=JV(l).scroll.diff.value,h=Xn(s,u);return XV({draggable:o,offset:h,initialWindowScroll:r.scroll.initial})})},ZV=({state:e,published:n})=>{const r=n.modified.map(I=>{const S=e.dimensions.droppables[I.droppableId];return Bm(S,I.scroll)}),s={...e.dimensions.droppables,...oS(r)},o=aS(QV({additions:n.additions,updatedDroppables:s,viewport:e.viewport})),i={...e.dimensions.draggables,...o};n.removals.forEach(I=>{delete i[I]});const l={droppables:s,draggables:i},d=Lr(e.impact),u=d?l.droppables[d]:null,h=l.draggables[e.critical.draggable.id],p=l.droppables[e.critical.droppable.id],{impact:m,afterCritical:g}=SS({draggable:h,home:p,draggables:i,viewport:e.viewport}),y=u&&u.isCombineEnabled?e.impact:m,b=yS({pageOffset:e.current.page.offset,draggable:l.draggables[e.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:y,viewport:e.viewport,afterCritical:g}),w={...e,phase:"DRAGGING",impact:b,onLiftImpact:m,dimensions:l,afterCritical:g,forceShouldAnimate:!1};return e.phase==="COLLECTING"?w:{...w,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const xf=e=>e.movementMode==="SNAP",Nh=(e,n,r)=>{const s=KV(e.dimensions,n);return!xf(e)||r?Ni({state:e,dimensions:s}):wS({state:e,dimensions:s})};function Lh(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const v0={phase:"IDLE",completed:null,shouldFlush:!1};var eU=(e=v0,n)=>{if(n.type==="FLUSH")return{...v0,shouldFlush:!0};if(n.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Ne();const{critical:r,clientSelection:s,viewport:o,dimensions:i,movementMode:l}=n.payload,d=i.draggables[r.draggable.id],u=i.droppables[r.droppable.id],h={selection:s,borderBoxCenter:d.client.borderBox.center,offset:Bn},p={client:h,page:{selection:Xn(h.selection,o.scroll.initial),borderBoxCenter:Xn(h.selection,o.scroll.initial),offset:Xn(h.selection,o.scroll.diff.value)}},m=Od(i.droppables).every(w=>!w.isFixedOnPage),{impact:g,afterCritical:y}=SS({draggable:d,home:u,draggables:i.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:l,dimensions:i,initial:p,current:p,isWindowScrollAllowed:m,impact:g,afterCritical:y,onLiftImpact:g,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if(n.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Ne(),{...e,phase:"COLLECTING"});if(n.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Ne(),ZV({state:e,published:n.payload});if(n.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Bo(e)||Ne();const{client:r}=n.payload;return po(r,e.current.client.selection)?e:Ni({state:e,clientSelection:r,impact:xf(e)?e.impact:null})}if(n.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Lh(e);Bo(e)||Ne();const{id:r,newScroll:s}=n.payload,o=e.dimensions.droppables[r];if(!o)return e;const i=Bm(o,s);return Nh(e,i,!1)}if(n.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Bo(e)||Ne();const{id:r,isEnabled:s}=n.payload,o=e.dimensions.droppables[r];o||Ne(),o.isEnabled===s&&Ne();const i={...o,isEnabled:s};return Nh(e,i,!0)}if(n.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Bo(e)||Ne();const{id:r,isCombineEnabled:s}=n.payload,o=e.dimensions.droppables[r];o||Ne(),o.isCombineEnabled===s&&Ne();const i={...o,isCombineEnabled:s};return Nh(e,i,!0)}if(n.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Bo(e)||Ne(),e.isWindowScrollAllowed||Ne();const r=n.payload.newScroll;if(po(e.viewport.scroll.current,r))return Lh(e);const s=hS(e.viewport,r);return xf(e)?wS({state:e,viewport:s}):Ni({state:e,viewport:s})}if(n.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Bo(e))return e;const r=n.payload.maxScroll;if(po(r,e.viewport.scroll.max))return e;const s={...e.viewport,scroll:{...e.viewport.scroll,max:r}};return{...e,viewport:s}}if(n.type==="MOVE_UP"||n.type==="MOVE_DOWN"||n.type==="MOVE_LEFT"||n.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Ne();const r=NV({state:e,type:n.type});return r?Ni({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if(n.type==="DROP_PENDING"){const r=n.payload.reason;return e.phase!=="COLLECTING"&&Ne(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(n.type==="DROP_ANIMATE"){const{completed:r,dropDuration:s,newHomeClientOffset:o}=n.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Ne(),{phase:"DROP_ANIMATING",completed:r,dropDuration:s,newHomeClientOffset:o,dimensions:e.dimensions}}if(n.type==="DROP_COMPLETE"){const{completed:r}=n.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return e};function Bt(e,n){return e instanceof Object&&"type"in e&&e.type===n}const tU=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),nU=e=>({type:"LIFT",payload:e}),rU=e=>({type:"INITIAL_PUBLISH",payload:e}),sU=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),oU=()=>({type:"COLLECTION_STARTING",payload:null}),aU=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),iU=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),lU=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),CS=e=>({type:"MOVE",payload:e}),cU=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),dU=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),uU=()=>({type:"MOVE_UP",payload:null}),hU=()=>({type:"MOVE_DOWN",payload:null}),fU=()=>({type:"MOVE_RIGHT",payload:null}),pU=()=>({type:"MOVE_LEFT",payload:null}),qm=()=>({type:"FLUSH",payload:null}),mU=e=>({type:"DROP_ANIMATE",payload:e}),Km=e=>({type:"DROP_COMPLETE",payload:e}),PS=e=>({type:"DROP",payload:e}),xU=e=>({type:"DROP_PENDING",payload:e}),IS=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var gU=e=>({getState:n,dispatch:r})=>s=>o=>{if(!Bt(o,"LIFT")){s(o);return}const{id:i,clientSelection:l,movementMode:d}=o.payload,u=n();u.phase==="DROP_ANIMATING"&&r(Km({completed:u.completed})),n().phase!=="IDLE"&&Ne(),r(qm()),r(tU({draggableId:i,movementMode:d}));const p={draggableId:i,scrollOptions:{shouldPublishImmediately:d==="SNAP"}},{critical:m,dimensions:g,viewport:y}=e.startPublishing(p);r(rU({critical:m,dimensions:g,clientSelection:l,movementMode:d,viewport:y}))},bU=e=>()=>n=>r=>{Bt(r,"INITIAL_PUBLISH")&&e.dragging(),Bt(r,"DROP_ANIMATE")&&e.dropping(r.payload.completed.result.reason),(Bt(r,"FLUSH")||Bt(r,"DROP_COMPLETE"))&&e.resting(),n(r)};const Xm={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Xi={opacity:{drop:0,combining:.7},scale:{drop:.75}},DS={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Lo=`${DS.outOfTheWay}s ${Xm.outOfTheWay}`,Li={fluid:`opacity ${Lo}`,snap:`transform ${Lo}, opacity ${Lo}`,drop:e=>{const n=`${e}s ${Xm.drop}`;return`transform ${n}, opacity ${n}`},outOfTheWay:`transform ${Lo}`,placeholder:`height ${Lo}, width ${Lo}, margin ${Lo}`},j0=e=>po(e,Bn)?void 0:`translate(${e.x}px, ${e.y}px)`,gf={moveTo:j0,drop:(e,n)=>{const r=j0(e);if(r)return n?`${r} scale(${Xi.scale.drop})`:r}},{minDropTime:bf,maxDropTime:TS}=DS,yU=TS-bf,w0=1500,vU=.6;var jU=({current:e,destination:n,reason:r})=>{const s=Yi(e,n);if(s<=0)return bf;if(s>=w0)return TS;const o=s/w0,i=bf+yU*o,l=r==="CANCEL"?i*vU:i;return Number(l.toFixed(2))},wU=({impact:e,draggable:n,dimensions:r,viewport:s,afterCritical:o})=>{const{draggables:i,droppables:l}=r,d=Lr(e),u=d?l[d]:null,h=l[n.descriptor.droppableId],p=jS({impact:e,draggable:n,draggables:i,afterCritical:o,droppable:u||h,viewport:s});return Nr(p,n.client.borderBox.center)},SU=({draggables:e,reason:n,lastImpact:r,home:s,viewport:o,onLiftImpact:i})=>!r.at||n!=="DROP"?{impact:vS({draggables:e,impact:i,destination:s,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:qi},didDropInsideDroppable:!0};const CU=({getState:e,dispatch:n})=>r=>s=>{if(!Bt(s,"DROP")){r(s);return}const o=e(),i=s.payload.reason;if(o.phase==="COLLECTING"){n(xU({reason:i}));return}if(o.phase==="IDLE")return;o.phase==="DROP_PENDING"&&o.isWaiting&&Ne(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||Ne();const d=o.critical,u=o.dimensions,h=u.draggables[o.critical.draggable.id],{impact:p,didDropInsideDroppable:m}=SU({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),g=m?Vm(p):null,y=m?Md(p):null,b={index:d.draggable.index,droppableId:d.droppable.id},w={draggableId:h.descriptor.id,type:h.descriptor.type,source:b,reason:i,mode:o.movementMode,destination:g,combine:y},v=wU({impact:p,draggable:h,dimensions:u,viewport:o.viewport,afterCritical:o.afterCritical}),I={critical:o.critical,afterCritical:o.afterCritical,result:w,impact:p};if(!(!po(o.current.client.offset,v)||!!w.combine)){n(Km({completed:I}));return}const T=jU({current:o.current.client.offset,destination:v,reason:i});n(mU({newHomeClientOffset:v,dropDuration:T,completed:I}))};var ES=()=>({x:window.pageXOffset,y:window.pageYOffset});function PU(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:n=>{n.target!==window&&n.target!==window.document||e()}}}function IU({onWindowScroll:e}){function n(){e(ES())}const r=Gi(n),s=PU(r);let o=fo;function i(){return o!==fo}function l(){i()&&Ne(),o=Jr(window,[s])}function d(){i()||Ne(),r.cancel(),o(),o=fo}return{start:l,stop:d,isActive:i}}const DU=e=>Bt(e,"DROP_COMPLETE")||Bt(e,"DROP_ANIMATE")||Bt(e,"FLUSH"),TU=e=>{const n=IU({onWindowScroll:r=>{e.dispatch(cU({newScroll:r}))}});return r=>s=>{!n.isActive()&&Bt(s,"INITIAL_PUBLISH")&&n.start(),n.isActive()&&DU(s)&&n.stop(),r(s)}};var EU=e=>{let n=!1,r=!1;const s=setTimeout(()=>{r=!0}),o=i=>{n||r||(n=!0,e(i),clearTimeout(s))};return o.wasCalled=()=>n,o},AU=()=>{const e=[],n=o=>{const i=e.findIndex(d=>d.timerId===o);i===-1&&Ne();const[l]=e.splice(i,1);l.callback()};return{add:o=>{const i=setTimeout(()=>n(i)),l={timerId:i,callback:o};e.push(l)},flush:()=>{if(!e.length)return;const o=[...e];e.length=0,o.forEach(i=>{clearTimeout(i.timerId),i.callback()})}}};const RU=(e,n)=>e==null&&n==null?!0:e==null||n==null?!1:e.droppableId===n.droppableId&&e.index===n.index,_U=(e,n)=>e==null&&n==null?!0:e==null||n==null?!1:e.draggableId===n.draggableId&&e.droppableId===n.droppableId,kU=(e,n)=>{if(e===n)return!0;const r=e.draggable.id===n.draggable.id&&e.draggable.droppableId===n.draggable.droppableId&&e.draggable.type===n.draggable.type&&e.draggable.index===n.draggable.index,s=e.droppable.id===n.droppable.id&&e.droppable.type===n.droppable.type;return r&&s},Ci=(e,n)=>{n()},hc=(e,n)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:n});function $h(e,n,r,s){if(!e){r(s(n));return}const o=EU(r);e(n,{announce:o}),o.wasCalled()||r(s(n))}var OU=(e,n)=>{const r=AU();let s=null;const o=(m,g)=>{s&&Ne(),Ci("onBeforeCapture",()=>{const y=e().onBeforeCapture;y&&y({draggableId:m,mode:g})})},i=(m,g)=>{s&&Ne(),Ci("onBeforeDragStart",()=>{const y=e().onBeforeDragStart;y&&y(hc(m,g))})},l=(m,g)=>{s&&Ne();const y=hc(m,g);s={mode:g,lastCritical:m,lastLocation:y.source,lastCombine:null},r.add(()=>{Ci("onDragStart",()=>$h(e().onDragStart,y,n,vc.onDragStart))})},d=(m,g)=>{const y=Vm(g),b=Md(g);s||Ne();const w=!kU(m,s.lastCritical);w&&(s.lastCritical=m);const v=!RU(s.lastLocation,y);v&&(s.lastLocation=y);const I=!_U(s.lastCombine,b);if(I&&(s.lastCombine=b),!w&&!v&&!I)return;const S={...hc(m,s.mode),combine:b,destination:y};r.add(()=>{Ci("onDragUpdate",()=>$h(e().onDragUpdate,S,n,vc.onDragUpdate))})},u=()=>{s||Ne(),r.flush()},h=m=>{s||Ne(),s=null,Ci("onDragEnd",()=>$h(e().onDragEnd,m,n,vc.onDragEnd))};return{beforeCapture:o,beforeStart:i,start:l,update:d,flush:u,drop:h,abort:()=>{if(!s)return;const m={...hc(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};h(m)}}},MU=(e,n)=>{const r=OU(e,n);return s=>o=>i=>{if(Bt(i,"BEFORE_INITIAL_CAPTURE")){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(Bt(i,"INITIAL_PUBLISH")){const d=i.payload.critical;r.beforeStart(d,i.payload.movementMode),o(i),r.start(d,i.payload.movementMode);return}if(Bt(i,"DROP_COMPLETE")){const d=i.payload.completed.result;r.flush(),o(i),r.drop(d);return}if(o(i),Bt(i,"FLUSH")){r.abort();return}const l=s.getState();l.phase==="DRAGGING"&&r.update(l.critical,l.impact)}};const NU=e=>n=>r=>{if(!Bt(r,"DROP_ANIMATION_FINISHED")){n(r);return}const s=e.getState();s.phase!=="DROP_ANIMATING"&&Ne(),e.dispatch(Km({completed:s.completed}))},LU=e=>{let n=null,r=null;function s(){r&&(cancelAnimationFrame(r),r=null),n&&(n(),n=null)}return o=>i=>{if((Bt(i,"FLUSH")||Bt(i,"DROP_COMPLETE")||Bt(i,"DROP_ANIMATION_FINISHED"))&&s(),o(i),!Bt(i,"DROP_ANIMATE"))return;const l={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(IS())}};r=requestAnimationFrame(()=>{r=null,n=Jr(window,[l])})}};var $U=e=>()=>n=>r=>{(Bt(r,"DROP_COMPLETE")||Bt(r,"FLUSH")||Bt(r,"DROP_ANIMATE"))&&e.stopPublishing(),n(r)},FU=e=>{let n=!1;return()=>r=>s=>{if(Bt(s,"INITIAL_PUBLISH")){n=!0,e.tryRecordFocus(s.payload.critical.draggable.id),r(s),e.tryRestoreFocusRecorded();return}if(r(s),!!n){if(Bt(s,"FLUSH")){n=!1,e.tryRestoreFocusRecorded();return}if(Bt(s,"DROP_COMPLETE")){n=!1;const o=s.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const WU=e=>Bt(e,"DROP_COMPLETE")||Bt(e,"DROP_ANIMATE")||Bt(e,"FLUSH");var BU=e=>n=>r=>s=>{if(WU(s)){e.stop(),r(s);return}if(Bt(s,"INITIAL_PUBLISH")){r(s);const o=n.getState();o.phase!=="DRAGGING"&&Ne(),e.start(o);return}r(s),e.scroll(n.getState())};const VU=e=>n=>r=>{if(n(r),!Bt(r,"PUBLISH_WHILE_DRAGGING"))return;const s=e.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||e.dispatch(PS({reason:s.reason})))},UU=Hw;var zU=({dimensionMarshal:e,focusMarshal:n,styleMarshal:r,getResponders:s,announce:o,autoScroller:i})=>zw(eU,UU(NB(bU(r),$U(e),gU(e),CU,NU,LU,VU,BU(i),TU,FU(n),MU(s,o))));const Fh=()=>({additions:{},removals:{},modified:{}});function HU({registry:e,callbacks:n}){let r=Fh(),s=null;const o=()=>{s||(n.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:u,removals:h,modified:p}=r,m=Object.keys(u).map(b=>e.draggable.getById(b).getDimension(Bn)).sort((b,w)=>b.descriptor.index-w.descriptor.index),g=Object.keys(p).map(b=>{const v=e.droppable.getById(b).callbacks.getScrollWhileDragging();return{droppableId:b,scroll:v}}),y={additions:m,removals:Object.keys(h),modified:g};r=Fh(),n.publish(y)}))};return{add:u=>{const h=u.descriptor.id;r.additions[h]=u,r.modified[u.descriptor.droppableId]=!0,r.removals[h]&&delete r.removals[h],o()},remove:u=>{const h=u.descriptor;r.removals[h.id]=!0,r.modified[h.droppableId]=!0,r.additions[h.id]&&delete r.additions[h.id],o()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,r=Fh())}}}var AS=({scrollHeight:e,scrollWidth:n,height:r,width:s})=>{const o=Nr({x:n,y:e},{x:s,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},RS=()=>{const e=document.documentElement;return e||Ne(),e},_S=()=>{const e=RS();return AS({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},GU=()=>{const e=ES(),n=_S(),r=e.y,s=e.x,o=RS(),i=o.clientWidth,l=o.clientHeight,d=s+i,u=r+l;return{frame:us({top:r,left:s,right:d,bottom:u}),scroll:{initial:e,current:e,max:n,diff:{value:Bn,displacement:Bn}}}},YU=({critical:e,scrollOptions:n,registry:r})=>{const s=GU(),o=s.scroll.current,i=e.droppable,l=r.droppable.getAllByType(i.type).map(p=>p.callbacks.getDimensionAndWatchScroll(o,n)),d=r.draggable.getAllByType(e.draggable.type).map(p=>p.getDimension(o));return{dimensions:{draggables:aS(d),droppables:oS(l)},critical:e,viewport:s}};function S0(e,n,r){return!(r.descriptor.id===n.id||r.descriptor.type!==n.type||e.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var qU=(e,n)=>{let r=null;const s=HU({callbacks:{publish:n.publishWhileDragging,collectionStarting:n.collectionStarting},registry:e}),o=(g,y)=>{e.droppable.exists(g)||Ne(),r&&n.updateDroppableIsEnabled({id:g,isEnabled:y})},i=(g,y)=>{r&&(e.droppable.exists(g)||Ne(),n.updateDroppableIsCombineEnabled({id:g,isCombineEnabled:y}))},l=(g,y)=>{r&&(e.droppable.exists(g)||Ne(),n.updateDroppableScroll({id:g,newScroll:y}))},d=(g,y)=>{r&&e.droppable.getById(g).callbacks.scroll(y)},u=()=>{if(!r)return;s.stop();const g=r.critical.droppable;e.droppable.getAllByType(g.type).forEach(y=>y.callbacks.dragStopped()),r.unsubscribe(),r=null},h=g=>{r||Ne();const y=r.critical.draggable;g.type==="ADDITION"&&S0(e,y,g.value)&&s.add(g.value),g.type==="REMOVAL"&&S0(e,y,g.value)&&s.remove(g.value)};return{updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:i,scrollDroppable:d,updateDroppableScroll:l,startPublishing:g=>{r&&Ne();const y=e.draggable.getById(g.draggableId),b=e.droppable.getById(y.descriptor.droppableId),w={draggable:y.descriptor,droppable:b.descriptor},v=e.subscribe(h);return r={critical:w,unsubscribe:v},YU({critical:w,registry:e,scrollOptions:g.scrollOptions})},stopPublishing:u}},kS=(e,n)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===n?!1:e.completed.result.reason==="DROP",KU=e=>{window.scrollBy(e.x,e.y)};const XU=Wn(e=>Od(e).filter(n=>!(!n.isEnabled||!n.frame))),JU=(e,n)=>XU(n).find(s=>(s.frame||Ne(),xS(s.frame.pageMarginBox)(e)))||null;var QU=({center:e,destination:n,droppables:r})=>{if(n){const o=r[n];return o.frame?o:null}return JU(e,r)};const Ji={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var ZU=(e,n,r=()=>Ji)=>{const s=r(),o=e[n.size]*s.startFromPercentage,i=e[n.size]*s.maxScrollAtPercentage;return{startScrollingFrom:o,maxScrollValueAt:i}},OS=({startOfRange:e,endOfRange:n,current:r})=>{const s=n-e;return s===0?0:(r-e)/s},Jm=1,ez=(e,n,r=()=>Ji)=>{const s=r();if(e>n.startScrollingFrom)return 0;if(e<=n.maxScrollValueAt)return s.maxPixelScroll;if(e===n.startScrollingFrom)return Jm;const i=1-OS({startOfRange:n.maxScrollValueAt,endOfRange:n.startScrollingFrom,current:e}),l=s.maxPixelScroll*s.ease(i);return Math.ceil(l)},tz=(e,n,r)=>{const s=r(),o=s.durationDampening.accelerateAt,i=s.durationDampening.stopDampeningAt,l=n,d=i,h=Date.now()-l;if(h>=i)return e;if(h<o)return Jm;const p=OS({startOfRange:o,endOfRange:d,current:h}),m=e*s.ease(p);return Math.ceil(m)},C0=({distanceToEdge:e,thresholds:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const i=ez(e,n,o);return i===0?0:s?Math.max(tz(i,r,o),Jm):i},P0=({container:e,distanceToEdges:n,dragStartTime:r,axis:s,shouldUseTimeDampening:o,getAutoScrollerOptions:i})=>{const l=ZU(e,s,i);return n[s.end]<n[s.start]?C0({distanceToEdge:n[s.end],thresholds:l,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i}):-1*C0({distanceToEdge:n[s.start],thresholds:l,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i})},nz=({container:e,subject:n,proposedScroll:r})=>{const s=n.height>e.height,o=n.width>e.width;return!o&&!s?r:o&&s?null:{x:o?0:r.x,y:s?0:r.y}};const rz=sS(e=>e===0?0:e);var MS=({dragStartTime:e,container:n,subject:r,center:s,shouldUseTimeDampening:o,getAutoScrollerOptions:i})=>{const l={top:s.y-n.top,right:n.right-s.x,bottom:n.bottom-s.y,left:s.x-n.left},d=P0({container:n,distanceToEdges:l,dragStartTime:e,axis:Um,shouldUseTimeDampening:o,getAutoScrollerOptions:i}),u=P0({container:n,distanceToEdges:l,dragStartTime:e,axis:cS,shouldUseTimeDampening:o,getAutoScrollerOptions:i}),h=rz({x:u,y:d});if(po(h,Bn))return null;const p=nz({container:n,subject:r,proposedScroll:h});return p?po(p,Bn)?null:p:null};const sz=sS(e=>e===0?0:e>0?1:-1),Qm=(()=>{const e=(n,r)=>n<0?n:n>r?n-r:0;return({current:n,max:r,change:s})=>{const o=Xn(n,s),i={x:e(o.x,r.x),y:e(o.y,r.y)};return po(i,Bn)?null:i}})(),NS=({max:e,current:n,change:r})=>{const s={x:Math.max(n.x,e.x),y:Math.max(n.y,e.y)},o=sz(r),i=Qm({max:s,current:n,change:o});return!i||o.x!==0&&i.x===0||o.y!==0&&i.y===0},Zm=(e,n)=>NS({current:e.scroll.current,max:e.scroll.max,change:n}),oz=(e,n)=>{if(!Zm(e,n))return null;const r=e.scroll.max,s=e.scroll.current;return Qm({current:s,max:r,change:n})},ex=(e,n)=>{const r=e.frame;return r?NS({current:r.scroll.current,max:r.scroll.max,change:n}):!1},az=(e,n)=>{const r=e.frame;return!r||!ex(e,n)?null:Qm({current:r.scroll.current,max:r.scroll.max,change:n})};var iz=({viewport:e,subject:n,center:r,dragStartTime:s,shouldUseTimeDampening:o,getAutoScrollerOptions:i})=>{const l=MS({dragStartTime:s,container:e.frame,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i});return l&&Zm(e,l)?l:null},lz=({droppable:e,subject:n,center:r,dragStartTime:s,shouldUseTimeDampening:o,getAutoScrollerOptions:i})=>{const l=e.frame;if(!l)return null;const d=MS({dragStartTime:s,container:l.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i});return d&&ex(e,d)?d:null},I0=({state:e,dragStartTime:n,shouldUseTimeDampening:r,scrollWindow:s,scrollDroppable:o,getAutoScrollerOptions:i})=>{const l=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const m=e.viewport,g=iz({dragStartTime:n,viewport:m,subject:u,center:l,shouldUseTimeDampening:r,getAutoScrollerOptions:i});if(g){s(g);return}}const h=QU({center:l,destination:Lr(e.impact),droppables:e.dimensions.droppables});if(!h)return;const p=lz({dragStartTime:n,droppable:h,subject:u,center:l,shouldUseTimeDampening:r,getAutoScrollerOptions:i});p&&o(h.descriptor.id,p)},cz=({scrollWindow:e,scrollDroppable:n,getAutoScrollerOptions:r=()=>Ji})=>{const s=Gi(e),o=Gi(n);let i=null;const l=h=>{i||Ne();const{shouldUseTimeDampening:p,dragStartTime:m}=i;I0({state:h,scrollWindow:s,scrollDroppable:o,dragStartTime:m,shouldUseTimeDampening:p,getAutoScrollerOptions:r})};return{start:h=>{i&&Ne();const p=Date.now();let m=!1;const g=()=>{m=!0};I0({state:h,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:g,scrollDroppable:g,getAutoScrollerOptions:r}),i={dragStartTime:p,shouldUseTimeDampening:m},m&&l(h)},stop:()=>{i&&(s.cancel(),o.cancel(),i=null)},scroll:l}},dz=({move:e,scrollDroppable:n,scrollWindow:r})=>{const s=(d,u)=>{const h=Xn(d.current.client.selection,u);e({client:h})},o=(d,u)=>{if(!ex(d,u))return u;const h=az(d,u);if(!h)return n(d.descriptor.id,u),null;const p=Nr(u,h);return n(d.descriptor.id,p),Nr(u,p)},i=(d,u,h)=>{if(!d||!Zm(u,h))return h;const p=oz(u,h);if(!p)return r(h),null;const m=Nr(h,p);return r(m),Nr(h,m)};return d=>{const u=d.scrollJumpRequest;if(!u)return;const h=Lr(d.impact);h||Ne();const p=o(d.dimensions.droppables[h],u);if(!p)return;const m=d.viewport,g=i(d.isWindowScrollAllowed,m,p);g&&s(d,g)}},uz=({scrollDroppable:e,scrollWindow:n,move:r,getAutoScrollerOptions:s})=>{const o=cz({scrollWindow:n,scrollDroppable:e,getAutoScrollerOptions:s}),i=dz({move:r,scrollWindow:n,scrollDroppable:e});return{scroll:u=>{if(!(s().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){o.scroll(u);return}u.scrollJumpRequest&&i(u)}},start:o.start,stop:o.stop}};const Va="data-rfd",Ua=(()=>{const e=`${Va}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),yf=(()=>{const e=`${Va}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),hz=(()=>{const e=`${Va}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),D0={contextId:`${Va}-scroll-container-context-id`},fz=e=>n=>`[${n}="${e}"]`,Pi=(e,n)=>e.map(r=>{const s=r.styles[n];return s?`${r.selector} { ${s} }`:""}).join(" "),pz="pointer-events: none;";var mz=e=>{const n=fz(e),r=(()=>{const d=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:n(Ua.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:d,dragging:pz,dropAnimating:d}}})(),s=(()=>{const d=`
      transition: ${Li.outOfTheWay};
    `;return{selector:n(yf.contextId),styles:{dragging:d,dropAnimating:d,userCancel:d}}})(),o={selector:n(hz.contextId),styles:{always:"overflow-anchor: none;"}},l=[s,r,o,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Pi(l,"always"),resting:Pi(l,"resting"),dragging:Pi(l,"dragging"),dropAnimating:Pi(l,"dropAnimating"),userCancel:Pi(l,"userCancel")}};const $r=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?x.useLayoutEffect:x.useEffect,Wh=()=>{const e=document.querySelector("head");return e||Ne(),e},T0=e=>{const n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.type="text/css",n};function xz(e,n){const r=Ot(()=>mz(e),[e]),s=x.useRef(null),o=x.useRef(null),i=rt(Wn(m=>{const g=o.current;g||Ne(),g.textContent=m}),[]),l=rt(m=>{const g=s.current;g||Ne(),g.textContent=m},[]);$r(()=>{!s.current&&!o.current||Ne();const m=T0(n),g=T0(n);return s.current=m,o.current=g,m.setAttribute(`${Va}-always`,e),g.setAttribute(`${Va}-dynamic`,e),Wh().appendChild(m),Wh().appendChild(g),l(r.always),i(r.resting),()=>{const y=b=>{const w=b.current;w||Ne(),Wh().removeChild(w),b.current=null};y(s),y(o)}},[n,l,i,r.always,r.resting,e]);const d=rt(()=>i(r.dragging),[i,r.dragging]),u=rt(m=>{if(m==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),h=rt(()=>{o.current&&i(r.resting)},[i,r.resting]);return Ot(()=>({dragging:d,dropping:u,resting:h}),[d,u,h])}function LS(e,n){return Array.from(e.querySelectorAll(n))}var $S=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function $d(e){return e instanceof $S(e).HTMLElement}function gz(e,n){const r=`[${Ua.contextId}="${e}"]`,s=LS(document,r);if(!s.length)return null;const o=s.find(i=>i.getAttribute(Ua.draggableId)===n);return!o||!$d(o)?null:o}function bz(e){const n=x.useRef({}),r=x.useRef(null),s=x.useRef(null),o=x.useRef(!1),i=rt(function(g,y){const b={id:g,focus:y};return n.current[g]=b,function(){const v=n.current;v[g]!==b&&delete v[g]}},[]),l=rt(function(g){const y=gz(e,g);y&&y!==document.activeElement&&y.focus()},[e]),d=rt(function(g,y){r.current===g&&(r.current=y)},[]),u=rt(function(){s.current||o.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const g=r.current;g&&l(g)}))},[l]),h=rt(function(g){r.current=null;const y=document.activeElement;y&&y.getAttribute(Ua.draggableId)===g&&(r.current=g)},[]);return $r(()=>(o.current=!0,function(){o.current=!1;const g=s.current;g&&cancelAnimationFrame(g)}),[]),Ot(()=>({register:i,tryRecordFocus:h,tryRestoreFocusRecorded:u,tryShiftRecord:d}),[i,h,u,d])}function yz(){const e={draggables:{},droppables:{}},n=[];function r(m){return n.push(m),function(){const y=n.indexOf(m);y!==-1&&n.splice(y,1)}}function s(m){n.length&&n.forEach(g=>g(m))}function o(m){return e.draggables[m]||null}function i(m){const g=o(m);return g||Ne(),g}const l={register:m=>{e.draggables[m.descriptor.id]=m,s({type:"ADDITION",value:m})},update:(m,g)=>{const y=e.draggables[g.descriptor.id];y&&y.uniqueId===m.uniqueId&&(delete e.draggables[g.descriptor.id],e.draggables[m.descriptor.id]=m)},unregister:m=>{const g=m.descriptor.id,y=o(g);y&&m.uniqueId===y.uniqueId&&(delete e.draggables[g],e.droppables[m.descriptor.droppableId]&&s({type:"REMOVAL",value:m}))},getById:i,findById:o,exists:m=>!!o(m),getAllByType:m=>Object.values(e.draggables).filter(g=>g.descriptor.type===m)};function d(m){return e.droppables[m]||null}function u(m){const g=d(m);return g||Ne(),g}const h={register:m=>{e.droppables[m.descriptor.id]=m},unregister:m=>{const g=d(m.descriptor.id);g&&m.uniqueId===g.uniqueId&&delete e.droppables[m.descriptor.id]},getById:u,findById:d,exists:m=>!!d(m),getAllByType:m=>Object.values(e.droppables).filter(g=>g.descriptor.type===m)};function p(){e.draggables={},e.droppables={},n.length=0}return{draggable:l,droppable:h,subscribe:r,clean:p}}function vz(){const e=Ot(yz,[]);return x.useEffect(()=>function(){e.clean()},[e]),e}var tx=Dt.createContext(null),rd=()=>{const e=document.body;return e||Ne(),e};const jz={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},wz=e=>`rfd-announcement-${e}`;function Sz(e){const n=Ot(()=>wz(e),[e]),r=x.useRef(null);return x.useEffect(function(){const i=document.createElement("div");return r.current=i,i.id=n,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),U(i.style,jz),rd().appendChild(i),function(){setTimeout(function(){const u=rd();u.contains(i)&&u.removeChild(i),i===r.current&&(r.current=null)})}},[n]),rt(o=>{const i=r.current;if(i){i.textContent=o;return}},[])}const Cz={separator:"::"};function nx(e,n=Cz){const r=Dt.useId();return Ot(()=>`${e}${n.separator}${r}`,[n.separator,e,r])}function Pz({contextId:e,uniqueId:n}){return`rfd-hidden-text-${e}-${n}`}function Iz({contextId:e,text:n}){const r=nx("hidden-text",{separator:"-"}),s=Ot(()=>Pz({contextId:e,uniqueId:r}),[r,e]);return x.useEffect(function(){const i=document.createElement("div");return i.id=s,i.textContent=n,i.style.display="none",rd().appendChild(i),function(){const d=rd();d.contains(i)&&d.removeChild(i)}},[s,n]),s}var Fd=Dt.createContext(null);function FS(e){const n=x.useRef(e);return x.useEffect(()=>{n.current=e}),n}function Dz(){let e=null;function n(){return!!e}function r(l){return l===e}function s(l){e&&Ne();const d={abandon:l};return e=d,d}function o(){e||Ne(),e=null}function i(){e&&(e.abandon(),o())}return{isClaimed:n,isActive:r,claim:s,release:o,tryAbandon:i}}function Qi(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const Tz=9,Ez=13,rx=27,WS=32,Az=33,Rz=34,_z=35,kz=36,Oz=37,Mz=38,Nz=39,Lz=40,$z={[Ez]:!0,[Tz]:!0};var BS=e=>{$z[e.keyCode]&&e.preventDefault()};const Wd=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(s=>`on${s}`in document)||e})(),VS=0,E0=5;function Fz(e,n){return Math.abs(n.x-e.x)>=E0||Math.abs(n.y-e.y)>=E0}const A0={type:"IDLE"};function Wz({cancel:e,completed:n,getPhase:r,setPhase:s}){return[{eventName:"mousemove",fn:o=>{const{button:i,clientX:l,clientY:d}=o;if(i!==VS)return;const u={x:l,y:d},h=r();if(h.type==="DRAGGING"){o.preventDefault(),h.actions.move(u);return}h.type!=="PENDING"&&Ne();const p=h.point;if(!Fz(p,u))return;o.preventDefault();const m=h.actions.fluidLift(u);s({type:"DRAGGING",actions:m})}},{eventName:"mouseup",fn:o=>{const i=r();if(i.type!=="DRAGGING"){e();return}o.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:o=>{r().type==="DRAGGING"&&o.preventDefault(),e()}},{eventName:"keydown",fn:o=>{if(r().type==="PENDING"){e();return}if(o.keyCode===rx){o.preventDefault(),e();return}BS(o)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:o=>{const i=r();if(i.type==="IDLE"&&Ne(),i.actions.shouldRespectForcePress()){e();return}o.preventDefault()}},{eventName:Wd,fn:e}]}function Bz(e){const n=x.useRef(A0),r=x.useRef(fo),s=Ot(()=>({eventName:"mousedown",fn:function(m){if(m.defaultPrevented||m.button!==VS||m.ctrlKey||m.metaKey||m.shiftKey||m.altKey)return;const g=e.findClosestDraggableId(m);if(!g)return;const y=e.tryGetLock(g,l,{sourceEvent:m});if(!y)return;m.preventDefault();const b={x:m.clientX,y:m.clientY};r.current(),h(y,b)}}),[e]),o=Ot(()=>({eventName:"webkitmouseforcewillbegin",fn:p=>{if(p.defaultPrevented)return;const m=e.findClosestDraggableId(p);if(!m)return;const g=e.findOptionsForDraggable(m);g&&(g.shouldRespectForcePress||e.canGetLock(m)&&p.preventDefault())}}),[e]),i=rt(function(){const m={passive:!1,capture:!0};r.current=Jr(window,[o,s],m)},[o,s]),l=rt(()=>{n.current.type!=="IDLE"&&(n.current=A0,r.current(),i())},[i]),d=rt(()=>{const p=n.current;l(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[l]),u=rt(function(){const m={capture:!0,passive:!1},g=Wz({cancel:d,completed:l,getPhase:()=>n.current,setPhase:y=>{n.current=y}});r.current=Jr(window,g,m)},[d,l]),h=rt(function(m,g){n.current.type!=="IDLE"&&Ne(),n.current={type:"PENDING",point:g,actions:m},u()},[u]);$r(function(){return i(),function(){r.current()}},[i])}function Vz(){}const Uz={[Rz]:!0,[Az]:!0,[kz]:!0,[_z]:!0};function zz(e,n){function r(){n(),e.cancel()}function s(){n(),e.drop()}return[{eventName:"keydown",fn:o=>{if(o.keyCode===rx){o.preventDefault(),r();return}if(o.keyCode===WS){o.preventDefault(),s();return}if(o.keyCode===Lz){o.preventDefault(),e.moveDown();return}if(o.keyCode===Mz){o.preventDefault(),e.moveUp();return}if(o.keyCode===Nz){o.preventDefault(),e.moveRight();return}if(o.keyCode===Oz){o.preventDefault(),e.moveLeft();return}if(Uz[o.keyCode]){o.preventDefault();return}BS(o)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Wd,fn:r}]}function Hz(e){const n=x.useRef(Vz),r=Ot(()=>({eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==WS)return;const l=e.findClosestDraggableId(i);if(!l)return;const d=e.tryGetLock(l,p,{sourceEvent:i});if(!d)return;i.preventDefault();let u=!0;const h=d.snapLift();n.current();function p(){u||Ne(),u=!1,n.current(),s()}n.current=Jr(window,zz(h,p),{capture:!0,passive:!1})}}),[e]),s=rt(function(){const i={passive:!1,capture:!0};n.current=Jr(window,[r],i)},[r]);$r(function(){return s(),function(){n.current()}},[s])}const Bh={type:"IDLE"},Gz=120,Yz=.15;function qz({cancel:e,getPhase:n}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.keyCode===rx&&r.preventDefault(),e()}},{eventName:Wd,fn:e}]}function Kz({cancel:e,completed:n,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const o=r();if(o.type!=="DRAGGING"){e();return}o.hasMoved=!0;const{clientX:i,clientY:l}=s.touches[0],d={x:i,y:l};s.preventDefault(),o.actions.move(d)}},{eventName:"touchend",fn:s=>{const o=r();if(o.type!=="DRAGGING"){e();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:s=>{if(r().type!=="DRAGGING"){e();return}s.preventDefault(),e()}},{eventName:"touchforcechange",fn:s=>{const o=r();o.type==="IDLE"&&Ne();const i=s.touches[0];if(!i||!(i.force>=Yz))return;const d=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){d&&e();return}if(d){if(o.hasMoved){s.preventDefault();return}e();return}s.preventDefault()}},{eventName:Wd,fn:e}]}function Xz(e){const n=x.useRef(Bh),r=x.useRef(fo),s=rt(function(){return n.current},[]),o=rt(function(y){n.current=y},[]),i=Ot(()=>({eventName:"touchstart",fn:function(y){if(y.defaultPrevented)return;const b=e.findClosestDraggableId(y);if(!b)return;const w=e.tryGetLock(b,d,{sourceEvent:y});if(!w)return;const v=y.touches[0],{clientX:I,clientY:S}=v,T={x:I,y:S};r.current(),m(w,T)}}),[e]),l=rt(function(){const y={capture:!0,passive:!1};r.current=Jr(window,[i],y)},[i]),d=rt(()=>{const g=n.current;g.type!=="IDLE"&&(g.type==="PENDING"&&clearTimeout(g.longPressTimerId),o(Bh),r.current(),l())},[l,o]),u=rt(()=>{const g=n.current;d(),g.type==="DRAGGING"&&g.actions.cancel({shouldBlockNextClick:!0}),g.type==="PENDING"&&g.actions.abort()},[d]),h=rt(function(){const y={capture:!0,passive:!1},b={cancel:u,completed:d,getPhase:s},w=Jr(window,Kz(b),y),v=Jr(window,qz(b),y);r.current=function(){w(),v()}},[u,s,d]),p=rt(function(){const y=s();y.type!=="PENDING"&&Ne();const b=y.actions.fluidLift(y.point);o({type:"DRAGGING",actions:b,hasMoved:!1})},[s,o]),m=rt(function(y,b){s().type!=="IDLE"&&Ne();const w=setTimeout(p,Gz);o({type:"PENDING",point:b,actions:y,longPressTimerId:w}),h()},[h,s,o,p]);$r(function(){return l(),function(){r.current();const b=s();b.type==="PENDING"&&(clearTimeout(b.longPressTimerId),o(Bh))}},[s,l,o]),$r(function(){return Jr(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const Jz=["input","button","textarea","select","option","optgroup","video","audio"];function US(e,n){if(n==null)return!1;if(Jz.includes(n.tagName.toLowerCase()))return!0;const s=n.getAttribute("contenteditable");return s==="true"||s===""?!0:n===e?!1:US(e,n.parentElement)}function Qz(e,n){const r=n.target;return $d(r)?US(e,r):!1}var Zz=e=>us(e.getBoundingClientRect()).center;function eH(e){return e instanceof $S(e).Element}const tH=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||e})();function zS(e,n){return e==null?null:e[tH](n)?e:zS(e.parentElement,n)}function nH(e,n){return e.closest?e.closest(n):zS(e,n)}function rH(e){return`[${Ua.contextId}="${e}"]`}function sH(e,n){const r=n.target;if(!eH(r))return null;const s=rH(e),o=nH(r,s);return!o||!$d(o)?null:o}function oH(e,n){const r=sH(e,n);return r?r.getAttribute(Ua.draggableId):null}function aH(e,n){const r=`[${yf.contextId}="${e}"]`,o=LS(document,r).find(i=>i.getAttribute(yf.id)===n);return!o||!$d(o)?null:o}function iH(e){e.preventDefault()}function fc({expected:e,phase:n,isLockActive:r,shouldWarn:s}){return!(!r()||e!==n)}function HS({lockAPI:e,store:n,registry:r,draggableId:s}){if(e.isClaimed())return!1;const o=r.draggable.findById(s);return!(!o||!o.options.isEnabled||!kS(n.getState(),s))}function lH({lockAPI:e,contextId:n,store:r,registry:s,draggableId:o,forceSensorStop:i,sourceEvent:l}){if(!HS({lockAPI:e,store:r,registry:s,draggableId:o}))return null;const u=s.draggable.getById(o),h=aH(n,u.descriptor.id);if(!h||l&&!u.options.canDragInteractiveElements&&Qz(h,l))return null;const p=e.claim(i||fo);let m="PRE_DRAG";function g(){return u.options.shouldRespectForcePress}function y(){return e.isActive(p)}function b(A,R){fc({expected:A,phase:m,isLockActive:y,shouldWarn:!0})&&r.dispatch(R())}const w=b.bind(null,"DRAGGING");function v(A){function R(){e.release(),m="COMPLETED"}m!=="PRE_DRAG"&&(R(),Ne()),r.dispatch(nU(A.liftActionArgs)),m="DRAGGING";function k(_,N={shouldBlockNextClick:!1}){if(A.cleanup(),N.shouldBlockNextClick){const W=Jr(window,[{eventName:"click",fn:iH,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(W)}R(),r.dispatch(PS({reason:_}))}return{isActive:()=>fc({expected:"DRAGGING",phase:m,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:g,drop:_=>k("DROP",_),cancel:_=>k("CANCEL",_),...A.actions}}function I(A){const R=Gi(_=>{w(()=>CS({client:_}))});return{...v({liftActionArgs:{id:o,clientSelection:A,movementMode:"FLUID"},cleanup:()=>R.cancel(),actions:{move:R}}),move:R}}function S(){const A={moveUp:()=>w(uU),moveRight:()=>w(fU),moveDown:()=>w(hU),moveLeft:()=>w(pU)};return v({liftActionArgs:{id:o,clientSelection:Zz(h),movementMode:"SNAP"},cleanup:fo,actions:A})}function T(){fc({expected:"PRE_DRAG",phase:m,isLockActive:y,shouldWarn:!0})&&e.release()}return{isActive:()=>fc({expected:"PRE_DRAG",phase:m,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:g,fluidLift:I,snapLift:S,abort:T}}const cH=[Bz,Hz,Xz];function dH({contextId:e,store:n,registry:r,customSensors:s,enableDefaultSensors:o}){const i=[...o?cH:[],...s||[]],l=x.useState(()=>Dz())[0],d=rt(function(v,I){Qi(v)&&!Qi(I)&&l.tryAbandon()},[l]);$r(function(){let v=n.getState();return n.subscribe(()=>{const S=n.getState();d(v,S),v=S})},[l,n,d]),$r(()=>l.tryAbandon,[l.tryAbandon]);const u=rt(w=>HS({lockAPI:l,registry:r,store:n,draggableId:w}),[l,r,n]),h=rt((w,v,I)=>lH({lockAPI:l,registry:r,contextId:e,store:n,draggableId:w,forceSensorStop:v||null,sourceEvent:I&&I.sourceEvent?I.sourceEvent:null}),[e,l,r,n]),p=rt(w=>oH(e,w),[e]),m=rt(w=>{const v=r.draggable.findById(w);return v?v.options:null},[r.draggable]),g=rt(function(){l.isClaimed()&&(l.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(qm()))},[l,n]),y=rt(()=>l.isClaimed(),[l]),b=Ot(()=>({canGetLock:u,tryGetLock:h,findClosestDraggableId:p,findOptionsForDraggable:m,tryReleaseLock:g,isLockClaimed:y}),[u,h,p,m,g,y]);for(let w=0;w<i.length;w++)i[w](b)}const uH=e=>({onBeforeCapture:n=>{const r=()=>{e.onBeforeCapture&&e.onBeforeCapture(n)};Ef.flushSync(r)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),hH=e=>({...Ji,...e.autoScrollerOptions,durationDampening:{...Ji.durationDampening,...e.autoScrollerOptions}});function Ii(e){return e.current||Ne(),e.current}function fH(e){const{contextId:n,setCallbacks:r,sensors:s,nonce:o,dragHandleUsageInstructions:i}=e,l=x.useRef(null),d=FS(e),u=rt(()=>uH(d.current),[d]),h=rt(()=>hH(d.current),[d]),p=Sz(n),m=Iz({contextId:n,text:i}),g=xz(n,o),y=rt(W=>{Ii(l).dispatch(W)},[]),b=Ot(()=>r0({publishWhileDragging:sU,updateDroppableScroll:aU,updateDroppableIsEnabled:iU,updateDroppableIsCombineEnabled:lU,collectionStarting:oU},y),[y]),w=vz(),v=Ot(()=>qU(w,b),[w,b]),I=Ot(()=>uz({scrollWindow:KU,scrollDroppable:v.scrollDroppable,getAutoScrollerOptions:h,...r0({move:CS},y)}),[v.scrollDroppable,y,h]),S=bz(n),T=Ot(()=>zU({announce:p,autoScroller:I,dimensionMarshal:v,focusMarshal:S,getResponders:u,styleMarshal:g}),[p,I,v,S,u,g]);l.current=T;const D=rt(()=>{const W=Ii(l);W.getState().phase!=="IDLE"&&W.dispatch(qm())},[]),A=rt(()=>{const W=Ii(l).getState();return W.phase==="DROP_ANIMATING"?!0:W.phase==="IDLE"?!1:W.isDragging},[]),R=Ot(()=>({isDragging:A,tryAbort:D}),[A,D]);r(R);const k=rt(W=>kS(Ii(l).getState(),W),[]),_=rt(()=>Bo(Ii(l).getState()),[]),N=Ot(()=>({marshal:v,focus:S,contextId:n,canLift:k,isMovementAllowed:_,dragHandleUsageInstructionsId:m,registry:w}),[n,v,m,S,k,_,w]);return dH({contextId:n,store:T,registry:w,customSensors:s||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),x.useEffect(()=>D,[D]),Dt.createElement(Fd.Provider,{value:N},Dt.createElement(L6,{context:tx,store:T},e.children))}function pH(){return Dt.useId()}function mH(e){const n=pH(),r=e.dragHandleUsageInstructions||vc.dragHandleUsageInstructions;return Dt.createElement(G6,null,s=>Dt.createElement(fH,{nonce:e.nonce,contextId:n,setCallbacks:s,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const R0={dragging:5e3,dropAnimating:4500},xH=(e,n)=>n?Li.drop(n.duration):e?Li.snap:Li.fluid,gH=(e,n)=>{if(e)return n?Xi.opacity.drop:Xi.opacity.combining},bH=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function yH(e){const r=e.dimension.client,{offset:s,combineWith:o,dropping:i}=e,l=!!o,d=bH(e),u=!!i,h=u?gf.drop(s,l):gf.moveTo(s);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:xH(d,i),transform:h,opacity:gH(l,u),zIndex:u?R0.dropAnimating:R0.dragging,pointerEvents:"none"}}function vH(e){return{transform:gf.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function jH(e){return e.type==="DRAGGING"?yH(e):vH(e)}function wH(e,n,r=Bn){const s=window.getComputedStyle(n),o=n.getBoundingClientRect(),i=Zw(o,s),l=Zc(i,r),d={client:i,tagName:n.tagName.toLowerCase(),display:s.display},u={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:e,placeholder:d,displaceBy:u,client:i,page:l}}function SH(e){const n=nx("draggable"),{descriptor:r,registry:s,getDraggableRef:o,canDragInteractiveElements:i,shouldRespectForcePress:l,isEnabled:d}=e,u=Ot(()=>({canDragInteractiveElements:i,shouldRespectForcePress:l,isEnabled:d}),[i,d,l]),h=rt(y=>{const b=o();return b||Ne(),wH(r,b,y)},[r,o]),p=Ot(()=>({uniqueId:n,descriptor:r,options:u,getDimension:h}),[r,h,u,n]),m=x.useRef(p),g=x.useRef(!0);$r(()=>(s.draggable.register(m.current),()=>s.draggable.unregister(m.current)),[s.draggable]),$r(()=>{if(g.current){g.current=!1;return}const y=m.current;m.current=p,s.draggable.update(p,y)},[p,s.draggable])}var sx=Dt.createContext(null);function sd(e){const n=x.useContext(e);return n||Ne(),n}function CH(e){e.preventDefault()}const PH=e=>{const n=x.useRef(null),r=rt((R=null)=>{n.current=R},[]),s=rt(()=>n.current,[]),{contextId:o,dragHandleUsageInstructionsId:i,registry:l}=sd(Fd),{type:d,droppableId:u}=sd(sx),h=Ot(()=>({id:e.draggableId,index:e.index,type:d,droppableId:u}),[e.draggableId,e.index,d,u]),{children:p,draggableId:m,isEnabled:g,shouldRespectForcePress:y,canDragInteractiveElements:b,isClone:w,mapped:v,dropAnimationFinished:I}=e;if(!w){const R=Ot(()=>({descriptor:h,registry:l,getDraggableRef:s,canDragInteractiveElements:b,shouldRespectForcePress:y,isEnabled:g}),[h,l,s,b,y,g]);SH(R)}const S=Ot(()=>g?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":m,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:CH}:null,[o,i,m,g]),T=rt(R=>{v.type==="DRAGGING"&&v.dropping&&R.propertyName==="transform"&&Ef.flushSync(I)},[I,v]),D=Ot(()=>{const R=jH(v),k=v.type==="DRAGGING"&&v.dropping?T:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":m,style:R,onTransitionEnd:k},dragHandleProps:S}},[o,S,m,v,T,r]),A=Ot(()=>({draggableId:h.id,type:h.type,source:{index:h.index,droppableId:h.droppableId}}),[h.droppableId,h.id,h.index,h.type]);return Dt.createElement(Dt.Fragment,null,p(D,v.snapshot,A))};var GS=(e,n)=>e===n,YS=e=>{const{combine:n,destination:r}=e;return r?r.droppableId:n?n.droppableId:null};const IH=e=>e.combine?e.combine.draggableId:null,DH=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function TH(){const e=Wn((o,i)=>({x:o,y:i})),n=Wn((o,i,l=null,d=null,u=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!u,dropAnimation:u,mode:o,draggingOver:l,combineWith:d,combineTargetFor:null})),r=Wn((o,i,l,d,u=null,h=null,p=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:h,mode:i,offset:o,dimension:l,forceShouldAnimate:p,snapshot:n(i,d,u,h,null)}}));return(o,i)=>{if(Qi(o)){if(o.critical.draggable.id!==i.draggableId)return null;const l=o.current.client.offset,d=o.dimensions.draggables[i.draggableId],u=Lr(o.impact),h=DH(o.impact),p=o.forceShouldAnimate;return r(e(l.x,l.y),o.movementMode,d,i.isClone,u,h,p)}if(o.phase==="DROP_ANIMATING"){const l=o.completed;if(l.result.draggableId!==i.draggableId)return null;const d=i.isClone,u=o.dimensions.draggables[i.draggableId],h=l.result,p=h.mode,m=YS(h),g=IH(h),b={duration:o.dropDuration,curve:Xm.drop,moveTo:o.newHomeClientOffset,opacity:g?Xi.opacity.drop:null,scale:g?Xi.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:u,dropping:b,draggingOver:m,combineWith:g,mode:p,forceShouldAnimate:null,snapshot:n(p,d,m,g,b)}}}return null}}function qS(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const EH={mapped:{type:"SECONDARY",offset:Bn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:qS(null)}};function AH(){const e=Wn((l,d)=>({x:l,y:d})),n=Wn(qS),r=Wn((l,d=null,u)=>({mapped:{type:"SECONDARY",offset:l,combineTargetFor:d,shouldAnimateDisplacement:u,snapshot:n(d)}})),s=l=>l?r(Bn,l,!0):null,o=(l,d,u,h)=>{const p=u.displaced.visible[l],m=!!(h.inVirtualList&&h.effected[l]),g=Md(u),y=g&&g.draggableId===l?d:null;if(!p){if(!m)return s(y);if(u.displaced.invisible[l])return null;const v=Qa(h.displacedBy.point),I=e(v.x,v.y);return r(I,y,!0)}if(m)return s(y);const b=u.displacedBy.point,w=e(b.x,b.y);return r(w,y,p.shouldAnimate)};return(l,d)=>{if(Qi(l))return l.critical.draggable.id===d.draggableId?null:o(d.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){const u=l.completed;return u.result.draggableId===d.draggableId?null:o(d.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const RH=()=>{const e=TH(),n=AH();return(s,o)=>e(s,o)||n(s,o)||EH},_H={dropAnimationFinished:IS},kH=Jw(RH,_H,null,{context:tx,areStatePropsEqual:GS})(PH);function KS(e){return sd(sx).isUsingCloneFor===e.draggableId&&!e.isClone?null:Dt.createElement(kH,e)}function OH(e){const n=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,s=!!e.shouldRespectForcePress;return Dt.createElement(KS,U({},e,{isClone:!1,isEnabled:n,canDragInteractiveElements:r,shouldRespectForcePress:s}))}const XS=e=>n=>e===n,MH=XS("scroll"),NH=XS("auto"),_0=(e,n)=>n(e.overflowX)||n(e.overflowY),LH=e=>{const n=window.getComputedStyle(e),r={overflowX:n.overflowX,overflowY:n.overflowY};return _0(r,MH)||_0(r,NH)},$H=()=>!1,JS=e=>e==null?null:e===document.body?$H()?e:null:e===document.documentElement?null:LH(e)?e:JS(e.parentElement);var vf=e=>({x:e.scrollLeft,y:e.scrollTop});const QS=e=>e?window.getComputedStyle(e).position==="fixed"?!0:QS(e.parentElement):!1;var FH=e=>{const n=JS(e),r=QS(e);return{closestScrollable:n,isFixedOnPage:r}},WH=({descriptor:e,isEnabled:n,isCombineEnabled:r,isFixedOnPage:s,direction:o,client:i,page:l,closest:d})=>{const u=(()=>{if(!d)return null;const{scrollSize:g,client:y}=d,b=AS({scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth,height:y.paddingBox.height,width:y.paddingBox.width});return{pageMarginBox:d.page.marginBox,frameClient:y,scrollSize:g,shouldClipSubject:d.shouldClipSubject,scroll:{initial:d.scroll,current:d.scroll,max:b,diff:{value:Bn,displacement:Bn}}}})(),h=o==="vertical"?Um:cS,p=Ba({page:l,withPlaceholder:null,axis:h,frame:u});return{descriptor:e,isCombineEnabled:r,isFixedOnPage:s,axis:h,isEnabled:n,client:i,page:l,frame:u,subject:p}};const BH=(e,n)=>{const r=eS(e);if(!n||e!==n)return r;const s=r.paddingBox.top-n.scrollTop,o=r.paddingBox.left-n.scrollLeft,i=s+n.scrollHeight,l=o+n.scrollWidth,u=Fm({top:s,right:l,bottom:i,left:o},r.border);return Wm({borderBox:u,margin:r.margin,border:r.border,padding:r.padding})};var VH=({ref:e,descriptor:n,env:r,windowScroll:s,direction:o,isDropDisabled:i,isCombineEnabled:l,shouldClipSubject:d})=>{const u=r.closestScrollable,h=BH(e,u),p=Zc(h,s),m=(()=>{if(!u)return null;const y=eS(u),b={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:y,page:Zc(y,s),scroll:vf(u),scrollSize:b,shouldClipSubject:d}})();return WH({descriptor:n,isEnabled:!i,isCombineEnabled:l,isFixedOnPage:r.isFixedOnPage,direction:o,client:h,page:p,closest:m})};const UH={passive:!1},zH={passive:!0};var k0=e=>e.shouldPublishImmediately?UH:zH;const pc=e=>e&&e.env.closestScrollable||null;function HH(e){const n=x.useRef(null),r=sd(Fd),s=nx("droppable"),{registry:o,marshal:i}=r,l=FS(e),d=Ot(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=x.useRef(d),h=Ot(()=>Wn((D,A)=>{n.current||Ne();const R={x:D,y:A};i.updateDroppableScroll(d.id,R)}),[d.id,i]),p=rt(()=>{const D=n.current;return!D||!D.env.closestScrollable?Bn:vf(D.env.closestScrollable)},[]),m=rt(()=>{const D=p();h(D.x,D.y)},[p,h]),g=Ot(()=>Gi(m),[m]),y=rt(()=>{const D=n.current,A=pc(D);if(D&&A||Ne(),D.scrollOptions.shouldPublishImmediately){m();return}g()},[g,m]),b=rt((D,A)=>{n.current&&Ne();const R=l.current,k=R.getDroppableRef();k||Ne();const _=FH(k),N={ref:k,descriptor:d,env:_,scrollOptions:A};n.current=N;const W=VH({ref:k,descriptor:d,env:_,windowScroll:D,direction:R.direction,isDropDisabled:R.isDropDisabled,isCombineEnabled:R.isCombineEnabled,shouldClipSubject:!R.ignoreContainerClipping}),Y=_.closestScrollable;return Y&&(Y.setAttribute(D0.contextId,r.contextId),Y.addEventListener("scroll",y,k0(N.scrollOptions))),W},[r.contextId,d,y,l]),w=rt(()=>{const D=n.current,A=pc(D);return D&&A||Ne(),vf(A)},[]),v=rt(()=>{const D=n.current;D||Ne();const A=pc(D);n.current=null,A&&(g.cancel(),A.removeAttribute(D0.contextId),A.removeEventListener("scroll",y,k0(D.scrollOptions)))},[y,g]),I=rt(D=>{const A=n.current;A||Ne();const R=pc(A);R||Ne(),R.scrollTop+=D.y,R.scrollLeft+=D.x},[]),S=Ot(()=>({getDimensionAndWatchScroll:b,getScrollWhileDragging:w,dragStopped:v,scroll:I}),[v,b,w,I]),T=Ot(()=>({uniqueId:s,descriptor:d,callbacks:S}),[S,d,s]);$r(()=>(u.current=T.descriptor,o.droppable.register(T),()=>{n.current&&v(),o.droppable.unregister(T)}),[S,d,v,T,i,o.droppable]),$r(()=>{n.current&&i.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),$r(()=>{n.current&&i.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function Vh(){}const O0={width:0,height:0,margin:Q6},GH=({isAnimatingOpenOnMount:e,placeholder:n,animate:r})=>e||r==="close"?O0:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin},YH=({isAnimatingOpenOnMount:e,placeholder:n,animate:r})=>{const s=GH({isAnimatingOpenOnMount:e,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?Li.placeholder:null}},qH=e=>{const n=x.useRef(null),r=rt(()=>{n.current&&(clearTimeout(n.current),n.current=null)},[]),{animate:s,onTransitionEnd:o,onClose:i,contextId:l}=e,[d,u]=x.useState(e.animate==="open");x.useEffect(()=>d?s!=="open"?(r(),u(!1),Vh):n.current?Vh:(n.current=setTimeout(()=>{n.current=null,u(!1)}),r):Vh,[s,d,r]);const h=rt(m=>{m.propertyName==="height"&&(o(),s==="close"&&i())},[s,i,o]),p=YH({isAnimatingOpenOnMount:d,animate:e.animate,placeholder:e.placeholder});return Dt.createElement(e.placeholder.tagName,{style:p,"data-rfd-placeholder-context-id":l,onTransitionEnd:h,ref:e.innerRef})};var KH=Dt.memo(qH);class XH extends Dt.PureComponent{constructor(...n){super(...n),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(n,r){return n.shouldAnimate?n.on?{isVisible:!0,data:n.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!n.on,data:n.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const n={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(n)}}const JH=e=>{const n=x.useContext(Fd);n||Ne();const{contextId:r,isMovementAllowed:s}=n,o=x.useRef(null),i=x.useRef(null),{children:l,droppableId:d,type:u,mode:h,direction:p,ignoreContainerClipping:m,isDropDisabled:g,isCombineEnabled:y,snapshot:b,useClone:w,updateViewportMaxScroll:v,getContainerForClone:I}=e,S=rt(()=>o.current,[]),T=rt((Y=null)=>{o.current=Y},[]);rt(()=>i.current,[]);const D=rt((Y=null)=>{i.current=Y},[]),A=rt(()=>{s()&&v({maxScroll:_S()})},[s,v]);HH({droppableId:d,type:u,mode:h,direction:p,isDropDisabled:g,isCombineEnabled:y,ignoreContainerClipping:m,getDroppableRef:S});const R=Ot(()=>Dt.createElement(XH,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:Y,data:$,animate:H})=>Dt.createElement(KH,{placeholder:$,onClose:Y,innerRef:D,animate:H,contextId:r,onTransitionEnd:A})),[r,A,e.placeholder,e.shouldAnimatePlaceholder,D]),k=Ot(()=>({innerRef:T,placeholder:R,droppableProps:{"data-rfd-droppable-id":d,"data-rfd-droppable-context-id":r}}),[r,d,R,T]),_=w?w.dragging.draggableId:null,N=Ot(()=>({droppableId:d,type:u,isUsingCloneFor:_}),[d,_,u]);function W(){if(!w)return null;const{dragging:Y,render:$}=w,H=Dt.createElement(KS,{draggableId:Y.draggableId,index:Y.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(J,X)=>$(J,X,Y));return PR.createPortal(H,I())}return Dt.createElement(sx.Provider,{value:N},l(k,b),W())};function QH(){return document.body||Ne(),document.body}const M0={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:QH},ZS=e=>{let n={...e},r;for(r in M0)e[r]===void 0&&(n={...n,[r]:M0[r]});return n},Uh=(e,n)=>e===n.droppable.type,N0=(e,n)=>n.draggables[e.draggable.id],ZH=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n={...e,shouldAnimatePlaceholder:!1},r=Wn(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),s=Wn((i,l,d,u,h,p)=>{const m=h.descriptor.id;if(h.descriptor.droppableId===i){const b=p?{render:p,dragging:r(h.descriptor)}:null,w={isDraggingOver:d,draggingOverWith:d?m:null,draggingFromThisWith:m,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!1,snapshot:w,useClone:b}}if(!l)return n;if(!u)return e;const y={isDraggingOver:d,draggingOverWith:m,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}});return(i,l)=>{const d=ZS(l),u=d.droppableId,h=d.type,p=!d.isDropDisabled,m=d.renderClone;if(Qi(i)){const g=i.critical;if(!Uh(h,g))return n;const y=N0(g,i.dimensions),b=Lr(i.impact)===u;return s(u,p,b,b,y,m)}if(i.phase==="DROP_ANIMATING"){const g=i.completed;if(!Uh(h,g.critical))return n;const y=N0(g.critical,i.dimensions);return s(u,p,YS(g.result)===u,Lr(g.impact)===u,y,m)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const g=i.completed;if(!Uh(h,g.critical))return n;const y=Lr(g.impact)===u,b=!!(g.impact.at&&g.impact.at.type==="COMBINE"),w=g.critical.droppable.id===u;return y?b?e:n:w?e:n}return n}},e8={updateViewportMaxScroll:dU},t8=Jw(ZH,e8,(e,n,r)=>({...ZS(r),...e,...n}),{context:tx,areStatePropsEqual:GS})(JH);var n8=t8;const r8=({tiers:e,isLoading:n=!1,onEdit:r,onDelete:s,onReorder:o,onCreateTier:i})=>{const[l,d]=x.useState(e);x.useEffect(()=>{d([...e].sort((h,p)=>h.order-p.order))},[e]);const u=async h=>{if(!h.destination)return;const p=h.source.index,m=h.destination.index;if(p===m)return;const g=[...l].sort((w,v)=>w.order-v.order),[y]=g.splice(p,1);g.splice(m,0,y);const b=g.map((w,v)=>({...w,order:v+1}));d(b),o(b)};return n?t.jsx(ge,{spacing:3,sx:{maxWidth:900},children:[1,2,3].map(h=>t.jsx(ot,{sx:{p:3},children:t.jsxs(ge,{spacing:2,children:[t.jsx(ce,{variant:"circular",width:32,height:32}),t.jsx(ce,{variant:"text",width:"60%",height:28}),t.jsx(ce,{variant:"text",width:"40%",height:40}),t.jsx(ce,{variant:"text",width:"80%",height:20}),t.jsxs(ge,{direction:"row",justifyContent:"flex-end",spacing:1,children:[t.jsx(ce,{variant:"circular",width:32,height:32}),t.jsx(ce,{variant:"circular",width:32,height:32})]})]})},h))}):e.length===0?t.jsx(Xs,{title:"Set Up Channel Subscriptions",description:"Create subscription tiers to offer exclusive perks and content to your subscribers",action:{label:"Create Your First Tier",onClick:i},icon:t.jsx(qc,{sx:{fontSize:48}})}):t.jsxs(ge,{spacing:4,children:[t.jsxs(ge,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsx(j,{variant:"h5",sx:{fontWeight:600},children:"Subscription Tiers"}),t.jsx(he,{variant:"contained",startIcon:t.jsx(Nm,{}),onClick:i,sx:{px:3,borderRadius:2,textTransform:"none"},children:"Create Tier"})]}),t.jsx(ot,{sx:{p:2,bgcolor:"primary.50",borderRadius:2,border:"1px solid",borderColor:"primary.100"},children:t.jsxs(ge,{direction:"row",spacing:2,alignItems:"center",children:[t.jsx(Cd,{color:"primary"}),t.jsx(j,{variant:"body2",color:"primary.700",children:"Drag to reorder tiers. Members will see tiers in this order on your channel page."})]})}),t.jsx(mH,{onDragEnd:u,children:t.jsx(n8,{droppableId:"tiers",children:h=>t.jsxs(ge,{spacing:3,...h.droppableProps,ref:h.innerRef,sx:{maxWidth:800,width:"100%"},children:[l.map((p,m)=>t.jsx(OH,{draggableId:p.id,index:m,children:(g,y)=>t.jsx(C,{ref:g.innerRef,...g.draggableProps,children:t.jsx(C,{sx:{position:"relative"},children:t.jsxs(ot,{elevation:y.isDragging?8:2,sx:{p:3,transition:"all 0.2s ease",transform:y.isDragging?"scale(1.02)":"scale(1)",bgcolor:"background.paper",borderRadius:2,"&:hover":{boxShadow:4,"& .drag-handle":{opacity:1}}},children:[t.jsx(Je,{label:p.order,color:"primary",size:"small",sx:{position:"absolute",top:-12,left:16,height:32,width:32,borderRadius:"50%",boxShadow:2,zIndex:1,"& .MuiChip-label":{px:0,fontSize:"1rem",fontWeight:"bold"}}}),t.jsx(C,{...g.dragHandleProps,className:"drag-handle",sx:{position:"absolute",top:0,left:0,right:0,height:"100%",display:"flex",alignItems:"center",justifyContent:"center",opacity:0,transition:"opacity 0.2s ease","&:hover":{cursor:"move","& .drag-icon":{transform:"scale(1.1)"}}},children:t.jsx(C,{className:"drag-icon",sx:{width:40,height:40,borderRadius:"50%",bgcolor:"action.hover",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s ease"},children:t.jsx(Uw,{color:"action"})})}),t.jsxs(C,{sx:{flex:1},children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:p.name}),t.jsxs(j,{variant:"h4",gutterBottom:!0,children:["$",p.price,t.jsx(j,{component:"span",variant:"body2",sx:{ml:1},children:"/month"})]}),t.jsx(j,{variant:"body2",sx:{mb:2},children:p.description})]}),t.jsxs(ge,{direction:"row",spacing:1,justifyContent:"flex-end",children:[t.jsx(Le,{onClick:()=>r(p.id),size:"small",children:t.jsx(hl,{})}),t.jsx(Le,{onClick:()=>s(p.id),size:"small",children:t.jsx(ea,{})})]})]})})})},p.id)),h.placeholder]})})})]})},s8=({open:e,onClose:n,onSubmit:r,initialData:s,tierCount:o,isEdit:i=!1})=>{const[l,d]=x.useState({name:"",description:"",price:0,benefits:[],order:i?s.order:o+1}),[u,h]=x.useState({}),[p,m]=x.useState(!1);x.useEffect(()=>{s&&d({name:s.name,description:s.description,price:s.price,benefits:s.benefits,order:i?s.order:o+1})},[s]),x.useEffect(()=>{d(w=>({...w,order:o+1}))},[o]);const g=()=>{const w={};return l.name||(w.name="Name is required"),l.description||(w.description="Description is required"),l.price<0&&(w.price="Price must be positive"),l.benefits||(w.benefits="Benefits are required"),h(w),Object.keys(w).length===0},y=w=>v=>{const I=w==="price"?Number(v.target.value):v.target.value;d(S=>({...S,[w]:I})),u[w]&&h(S=>({...S,[w]:void 0}))},b=async w=>{if(w.preventDefault(),!!g())try{m(!0),await r(l),n()}catch(v){console.error("Failed to submit tier:",v)}finally{m(!1)}};return t.jsxs(qt,{open:e,onClose:n,maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:i?"Edit Tier":"Create New Tier"}),t.jsxs("form",{onSubmit:b,children:[t.jsx(Kt,{children:t.jsxs(ge,{spacing:3,children:[t.jsx(tt,{label:"Tier Name",value:l.name,onChange:y("name"),error:!!u.name,helperText:u.name,fullWidth:!0}),t.jsx(tt,{label:"Description",value:l.description,onChange:y("description"),multiline:!0,rows:3,error:!!u.description,helperText:u.description,fullWidth:!0}),t.jsx(tt,{type:"number",label:"Monthly Price",value:l.price,onChange:y("price"),InputProps:{startAdornment:t.jsx(es,{position:"start",children:"$"})},error:!!u.price,helperText:u.price,fullWidth:!0}),t.jsx(tt,{label:"Benefits",value:l.benefits,onChange:y("benefits"),multiline:!0,rows:4,placeholder:"Enter benefits, one per line",error:!!u.benefits,helperText:u.benefits,fullWidth:!0})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:n,children:"Cancel"}),t.jsx(he,{type:"submit",variant:"contained",disabled:p,children:i?"Save Changes":"Create Tier"})]})]})]})},ox=x.memo(({channelId:e})=>{const{api:n}=Qe(),{execute:r}=st(),{execute:s}=st(),{execute:o}=st(),{execute:i}=st(),{execute:l}=st(),[d,u]=x.useState([]),[h,p]=x.useState(!0),[m,g]=x.useState(!1),[y,b]=x.useState(null),[w,v]=x.useState(!1),I=x.useCallback(async()=>{if(!e)return;p(!0);const _=await r(()=>n==null?void 0:n.app.channel.getTiers(e),{showErrorToast:!0});_&&u(_.items||[]),p(!1)},[e,r,n]);x.useEffect(()=>{I()},[I]);const S=_=>{const N=d.find(W=>W.id===_);N&&(b(N),g(!0))},T=()=>{g(!1),b(null)},D=async _=>{await s(()=>n==null?void 0:n.app.channel.createTier(e,_),{showSuccessMessage:!0,successMessage:"Tier created successfully"})&&(await I(),T())},A=async(_,N)=>{await o(()=>n==null?void 0:n.app.channel.updateTier(e,_,N),{showSuccessMessage:!0,successMessage:"Tier updated successfully"}),await I(),T()},R=async _=>{await l(()=>n==null?void 0:n.app.channel.deleteTier(e,_),{showSuccessMessage:!0,successMessage:"Tier deleted successfully"}),await I()},k=async _=>{try{v(!0),await i(()=>n==null?void 0:n.app.channel.updateTiers(e,_),{showSuccessMessage:!0,successMessage:"Tiers reordered successfully"}),u(_)}catch{}finally{v(!1)}};return t.jsxs(C,{sx:{p:3},children:[t.jsx(r8,{tiers:d,isLoading:h,onEdit:S,onDelete:R,onReorder:k,onCreateTier:()=>g(!0)}),t.jsx(s8,{open:m,onClose:T,onSubmit:y?_=>A(y.id,_):D,initialData:y,tierCount:d.length,isEdit:!!y}),t.jsx(IR,{sx:{color:"#fff",zIndex:_=>_.zIndex.drawer+1,backdropFilter:"blur(3px)"},open:w,children:t.jsx(bn,{color:"inherit"})})]})},(e,n)=>e.channelId===n.channelId);ox.displayName="TiersTab";const o8=({tabs:e,activeTab:n,onTabChange:r,isOpen:s,onClose:o,onOpen:i})=>t.jsx(DR,{anchor:"bottom",open:s,onClose:o,onOpen:i,disableSwipeToOpen:!1,PaperProps:{sx:{borderTopLeftRadius:16,borderTopRightRadius:16,maxHeight:"80vh"}},children:t.jsx(fr,{sx:{pt:1,pb:2},children:e.map(l=>t.jsx(Gh,{selected:n===l.id,onClick:()=>{r(l.id),o()},sx:{mx:1,borderRadius:1,mb:.5,"&.Mui-selected":{bgcolor:d=>fe(d.palette.primary.main,.1)}},children:t.jsx(Ht,{primary:l.label})},l.id))})}),a8=({tabs:e,activeTab:n,onTabChange:r})=>t.jsx(C,{sx:{borderBottom:1,borderColor:"divider"},children:t.jsx(yo,{value:n,onChange:(s,o)=>r(o),sx:{px:{md:3,lg:4}},children:e.map(s=>t.jsx(nr,{label:s.label,value:s.id,sx:{textTransform:"none",fontWeight:500,fontSize:"0.9375rem"}},s.id))})}),L0=[{id:"basic",label:"Basic Info",component:Vw},{id:"tiers",label:"Channel Tiers",component:ox}],i8=()=>{const{id:e}=ns(),n=ln(),r=sl(n.breakpoints.down("md")),{api:s}=Qe(),[o,i]=x.useState("basic"),[l,d]=x.useState(!1),[u,h]=x.useState(null),[p,m]=x.useState(!0),{execute:g}=st(),{execute:y}=st(),b=x.useCallback(async()=>{if(!e)return;m(!0);const S=await g(()=>s==null?void 0:s.app.channel.getChannel(e),{showErrorToast:!0});S&&h(S),m(!1)},[e,g,s]);x.useEffect(()=>{b()},[b]);const w=async S=>{e&&(await y(()=>s==null?void 0:s.app.channel.updateChannel(e,S),{showSuccessMessage:!0,successMessage:"Channel updated successfully"}),await b())},v=S=>{i(S)};if(!e||p||!u)return null;const I=()=>{switch(o){case"basic":return t.jsx(Vw,{channel:u,onUpdate:w});case"tiers":return t.jsx(ox,{channelId:u.id});default:return null}};return t.jsx(C,{sx:{minHeight:"100%",bgcolor:"background.default"},children:r?t.jsxs(t.Fragment,{children:[t.jsx(C,{sx:{px:2,py:1.5},children:t.jsx(j,{variant:"h6",sx:{fontWeight:600},children:"Edit Channel"})}),I(),t.jsx(o8,{tabs:L0,activeTab:o,onTabChange:v,isOpen:l,onClose:()=>d(!1),onOpen:()=>d(!0)})]}):t.jsxs(t.Fragment,{children:[t.jsx(a8,{tabs:L0,activeTab:o,onTabChange:v}),t.jsx(C,{sx:{p:{md:3,lg:4}},children:I()})]})})},e1=({open:e,poll:n,onClose:r,onConvert:s,loading:o=!1})=>{var y,b;const{profile:i}=xs(),[l,d]=x.useState({title:"",channelId:"",status:Nn.PUBLISHED,isPremium:!1,requiredTierId:null,content:""}),[u,h]=x.useState(null),p=async()=>{if(!l.title.trim()){h("Title is required");return}if(!l.channelId){h("Channel is required");return}if(!l.content.trim()){h("Content is required");return}try{h(null),await s(l),m()}catch(w){h(w.message||"Failed to convert poll to news")}},m=()=>{d({title:"",channelId:"",status:Nn.PUBLISHED,isPremium:!1,requiredTierId:null,content:""}),h(null),r()},g=w=>{d(v=>({...v,content:JSON.stringify(w)}))};return Dt.useEffect(()=>{e&&n&&d(w=>{var v;return{...w,title:`News Article: ${n.title}`,channelId:((v=n.channel)==null?void 0:v.id)||"",content:n.description||""}})},[e,n]),n?t.jsxs(qt,{open:e,onClose:m,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{minHeight:"70vh"}},children:[t.jsxs(tn,{children:[t.jsx(j,{variant:"h6",children:"Convert Poll to News Article"}),t.jsxs(j,{variant:"body2",color:"text.secondary",sx:{mt:1},children:['Convert "',n.title,'" into a news article with poll results included']})]}),t.jsx(Kt,{children:t.jsxs(ge,{spacing:3,sx:{mt:1},children:[u&&t.jsx(dt,{severity:"error",onClose:()=>h(null),children:u}),t.jsxs(C,{sx:{p:2,borderRadius:2,bgcolor:w=>fe(w.palette.primary.main,.05),border:w=>`1px solid ${fe(w.palette.primary.main,.2)}`},children:[t.jsx(j,{variant:"subtitle2",gutterBottom:!0,children:"Poll Results (will be included in the article)"}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Total Votes: ",n.voteCount||0,"  Status: ",(y=n.stats)!=null&&y.hasEnded?"Ended":"Active"]})]}),t.jsx(tt,{label:"Article Title",fullWidth:!0,required:!0,value:l.title,onChange:w=>d(v=>({...v,title:w.target.value})),helperText:"Create an engaging title for your news article"}),t.jsxs(ht,{fullWidth:!0,required:!0,children:[t.jsx(St,{children:"Channel"}),t.jsx(mt,{value:l.channelId,label:"Channel",onChange:w=>d(v=>({...v,channelId:w.target.value})),children:(b=i==null?void 0:i.staffChannels)==null?void 0:b.map(w=>t.jsx(we,{value:w.channelId,children:w.channel.name},w.id))})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Article Content"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Write your news article. Poll results will be automatically appended."}),t.jsx(Ad,{data:l.content?JSON.parse(l.content):void 0,onChange:g,placeholder:"Write your news article content here...",borderColor:w=>w.palette.mode==="dark"?fe(w.palette.common.white,.23):fe(w.palette.common.black,.23)})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:2},children:"Publishing Options"}),t.jsxs(ge,{spacing:2,children:[t.jsx(Ma,{control:t.jsx(Tc,{checked:l.isPremium,onChange:w=>d(v=>({...v,isPremium:w.target.checked}))}),label:"Premium Content"}),t.jsxs(ht,{fullWidth:!0,children:[t.jsx(St,{children:"Status"}),t.jsxs(mt,{value:l.status,label:"Status",onChange:w=>d(v=>({...v,status:Number(w.target.value)})),children:[t.jsx(we,{value:Nn.DRAFT,children:"Draft"}),t.jsx(we,{value:Nn.PUBLISHED,children:"Published"}),t.jsx(we,{value:Nn.PENDING_REVIEW,children:"Pending Review"})]})]})]})]})]})}),t.jsxs(Xt,{sx:{p:3},children:[t.jsx(he,{onClick:m,disabled:o,children:"Cancel"}),t.jsx(he,{onClick:p,variant:"contained",disabled:o,children:o?"Converting...":"Convert to News"})]})]}):null},l8=({poll:e,onRefresh:n})=>{var k;const[r,s]=x.useState(null),[o,i]=x.useState(!1),[l,d]=x.useState(!1),u=Ct(),{api:h}=Qe(),{execute:p}=st(),m=ln(),g=_=>{s(_.currentTarget)},y=()=>{s(null)},b=()=>{u(`${ye.STUDIO_POLL_VIEW.replace(":id",e.id)}`),y()},w=()=>{u(`${ye.STUDIO_POLL_EDIT.replace(":id",e.id)}`),y()},v=()=>{i(!0),y()},I=()=>{d(!0),y()},S=async()=>{await p(()=>h==null?void 0:h.app.poll.delete(e.id),{showSuccessMessage:!0,successMessage:"Poll deleted successfully"})&&n(),i(!1)},T=async _=>{await p(()=>h==null?void 0:h.app.poll.convertToNews(e.id,_),{showSuccessMessage:!0,successMessage:"Poll converted to news successfully!"})&&n()},A=(()=>{const _=new Date,N=new Date(e.startDate),W=new Date(e.endDate);return _<N?{label:"Scheduled",color:"warning"}:_>W?{label:"Ended",color:"error"}:{label:"Active",color:"success"}})(),R=!e.isConverted&&!((k=e.stats)!=null&&k.hasEnded);return t.jsxs(Fe,{sx:{height:"100%",bgcolor:_=>fe(_.palette.mode==="dark"?_.palette.common.white:_.palette.common.black,_.palette.mode==="dark"?.05:.03),transition:m.transitions.create(["background-color","box-shadow"]),"&:hover":{bgcolor:_=>fe(_.palette.mode==="dark"?_.palette.common.white:_.palette.common.black,_.palette.mode==="dark"?.08:.05),boxShadow:1}},children:[t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[t.jsx(j,{variant:"h6",sx:{fontSize:"1rem",fontWeight:600,color:"text.primary"},children:e.title}),t.jsx(Le,{size:"small",onClick:g,sx:{ml:1},children:t.jsx(kd,{})})]}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:e.description}),t.jsxs(ge,{direction:"row",spacing:1,alignItems:"center",children:[t.jsx(Je,{label:A.label,size:"small",color:A.color}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:[e.totalVotes??0," votes"]})]})]}),t.jsxs(bo,{anchorEl:r,open:!!r,onClose:y,PaperProps:{sx:{width:200}},children:[t.jsxs(we,{onClick:b,children:[t.jsx(en,{children:t.jsx(Zo,{fontSize:"small"})}),t.jsx(Ht,{children:"View Poll"})]}),t.jsxs(we,{onClick:w,children:[t.jsx(en,{children:t.jsx(hl,{fontSize:"small"})}),t.jsx(Ht,{children:"Edit Poll"})]}),R&&t.jsxs(we,{onClick:I,children:[t.jsx(en,{children:t.jsx(Hi,{fontSize:"small"})}),t.jsx(Ht,{children:"Convert to News"})]}),t.jsxs(we,{onClick:v,children:[t.jsx(en,{children:t.jsx(ea,{fontSize:"small"})}),t.jsx(Ht,{children:"Delete Poll"})]})]}),t.jsx(km,{open:o,title:"Delete Poll",content:"Are you sure you want to delete this poll? This action cannot be undone.",onConfirm:S,onClose:()=>i(!1)}),t.jsx(e1,{open:l,poll:e,onClose:()=>d(!1),onConvert:T})]})},c8=()=>{const[e,n]=x.useState([]),[r,s]=x.useState(1),[o,i]=x.useState(!0),[l,d]=x.useState(!0),{api:u}=Qe(),{profile:h}=xs(),p=Ct(),m=ln(),{execute:g}=st(),y=()=>{b(r+1)},b=async(v=r)=>{if(!(h!=null&&h.id))return;const I=await g(()=>u==null?void 0:u.studio.getMyContent("polls"),{showErrorToast:!0});I&&(n(S=>v===1?(I==null?void 0:I.items)??[]:[...S,...(I==null?void 0:I.items)??[]]),s((I==null?void 0:I.metadata.currentPage)??1),i((I==null?void 0:I.metadata.hasNext)===!0)),d(!1)};x.useEffect(()=>{b(1)},[]);const w=()=>t.jsxs(C,{sx:{p:2,borderRadius:1,bgcolor:v=>fe(v.palette.mode==="dark"?v.palette.common.white:v.palette.common.black,v.palette.mode==="dark"?.05:.03),height:{xs:180,sm:200},transition:m.transitions.create(["background-color","height"])},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[t.jsx(ce,{variant:"circular",width:32,height:32,sx:{mr:1.5}}),t.jsxs(C,{sx:{width:"100%"},children:[t.jsx(ce,{width:"60%",height:20}),t.jsx(ce,{width:"40%",height:16})]})]}),t.jsx(ce,{variant:"rectangular",sx:{borderRadius:1,height:{xs:70,sm:80}}}),t.jsx(C,{sx:{mt:1.5},children:t.jsx(ce,{width:"30%",height:20})})]});return t.jsxs(C,{sx:{px:{xs:2,sm:3,md:4},py:{xs:2,sm:3},maxWidth:"lg",mx:"auto",width:"100%"},children:[t.jsx(C,{sx:{mb:{xs:2,sm:3}},children:t.jsx(j,{variant:"h5",sx:{fontWeight:600,fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:l?t.jsx(ce,{width:150}):"My Polls"})}),l?t.jsx(F,{container:!0,spacing:2,children:[1,2].map(v=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(w,{})},v))}):e.length===0?t.jsx(Xs,{title:"No Polls Yet",description:"Create your first poll to start gathering opinions from your audience.",icon:t.jsx(Bp,{sx:{fontSize:{xs:40,sm:48}}}),action:{label:"Create Poll",onClick:()=>p(ye.STUDIO_POLL_CREATE)}}):t.jsx(Ds,{dataLength:e.length,next:y,hasMore:o,loader:t.jsx(F,{container:!0,spacing:2,sx:{mt:.5},children:[1,2].map(v=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(w,{})},v))}),children:t.jsx(F,{container:!0,spacing:2,children:e.map(v=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(l8,{poll:v,onRefresh:()=>b(1)})},v.id))})})]})};function d8(e,...n){const r=new URL(`https://mui.com/production-error/?code=${e}`);return n.forEach(s=>r.searchParams.append("args[]",s)),`Minified MUI error #${e}; visit ${r} for the full message.`}const t1=ne.oneOfType([ne.func,ne.object]);function u8(e){if(typeof e!="string")throw new Error(d8(7));return e.charAt(0).toUpperCase()+e.slice(1)}function zh(e){return e&&e.ownerDocument||document}const ts=typeof window<"u"?x.useLayoutEffect:x.useEffect;let $0=0;function h8(e){const[n,r]=x.useState(e),s=e||n;return x.useEffect(()=>{n==null&&($0+=1,r(`mui-${$0}`))},[n]),s}const f8={...TR},F0=f8.useId;function Bd(e){if(F0!==void 0){const n=F0();return e??n}return h8(e)}function za(e){const{controlled:n,default:r,name:s,state:o="value"}=e,{current:i}=x.useRef(n!==void 0),[l,d]=x.useState(r),u=i?n:l,h=x.useCallback(p=>{i||d(p)},[]);return[u,h]}function Ve(e){const n=x.useRef(e);return ts(()=>{n.current=e}),x.useRef((...r)=>(0,n.current)(...r)).current}function or(...e){const n=x.useRef(void 0),r=x.useCallback(s=>{const o=e.map(i=>{if(i==null)return null;if(typeof i=="function"){const l=i,d=l(s);return typeof d=="function"?d:()=>{l(null)}}return i.current=s,()=>{i.current=null}});return()=>{o.forEach(i=>i==null?void 0:i())}},e);return x.useMemo(()=>e.every(s=>s==null)?null:s=>{n.current&&(n.current(),n.current=void 0),s!=null&&(n.current=r(s))},e)}const W0={};function p8(e,n){const r=x.useRef(W0);return r.current===W0&&(r.current=e(n)),r}const m8=[];function x8(e){x.useEffect(e,m8)}class ax{constructor(){Te(this,"currentId",null);Te(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Te(this,"disposeEffect",()=>this.clear)}static create(){return new ax}start(n,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},n)}}function Ta(){const e=p8(ax.create).current;return x8(e.disposeEffect),e}const g8={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Jt(e,n,r=void 0){const s={};for(const o in e){const i=e[o];let l="",d=!0;for(let u=0;u<i.length;u+=1){const h=i[u];h&&(l+=(d===!0?"":" ")+n(h),d=!1,r&&r[h]&&(l+=" "+r[h]))}s[o]=l}return s}const B0=e=>e,b8=()=>{let e=B0;return{configure(n){e=n},generate(n){return e(n)},reset(){e=B0}}},y8=b8(),v8={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function cn(e,n,r="Mui"){const s=v8[n];return s?`${r}-${s}`:`${y8.generate(e)}-${n}`}function fn(e,n,r="Mui"){const s={};return n.forEach(o=>{s[o]=cn(e,o,r)}),s}function j8(e){return typeof e=="string"}function w8(e,n,r){return e===void 0||j8(e)?n:{...n,ownerState:{...n.ownerState,...r}}}function S8(e,n=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(s=>s.match(/^on[A-Z]/)&&typeof e[s]=="function"&&!n.includes(s)).forEach(s=>{r[s]=e[s]}),r}function V0(e){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{n[r]=e[r]}),n}function C8(e){const{getSlotProps:n,additionalProps:r,externalSlotProps:s,externalForwardedProps:o,className:i}=e;if(!n){const y=nn(r==null?void 0:r.className,i,o==null?void 0:o.className,s==null?void 0:s.className),b={...r==null?void 0:r.style,...o==null?void 0:o.style,...s==null?void 0:s.style},w={...r,...o,...s};return y.length>0&&(w.className=y),Object.keys(b).length>0&&(w.style=b),{props:w,internalRef:void 0}}const l=S8({...o,...s}),d=V0(s),u=V0(o),h=n(l),p=nn(h==null?void 0:h.className,r==null?void 0:r.className,i,o==null?void 0:o.className,s==null?void 0:s.className),m={...h==null?void 0:h.style,...r==null?void 0:r.style,...o==null?void 0:o.style,...s==null?void 0:s.style},g={...h,...r,...u,...d};return p.length>0&&(g.className=p),Object.keys(m).length>0&&(g.style=m),{props:g,internalRef:h.ref}}function Zi(e,n,r){return typeof e=="function"?e(n,r):e}function Nt(e){var m;const{elementType:n,externalSlotProps:r,ownerState:s,skipResolvingSlotProps:o=!1,...i}=e,l=o?{}:Zi(r,s),{props:d,internalRef:u}=C8({...i,externalSlotProps:l}),h=or(u,l==null?void 0:l.ref,(m=e.additionalProps)==null?void 0:m.ref);return w8(n,{...d,ref:h},s)}const P8=["localeText"],jf=x.createContext(null),n1=function(n){const{localeText:r}=n,s=at(n,P8),{utils:o,localeText:i}=x.useContext(jf)??{utils:void 0,localeText:void 0},l=Gt({props:s,name:"MuiLocalizationProvider"}),{children:d,dateAdapter:u,dateFormats:h,dateLibInstance:p,adapterLocale:m,localeText:g}=l,y=x.useMemo(()=>U({},g,i,r),[g,i,r]),b=x.useMemo(()=>{if(!u)return o||null;const I=new u({locale:m,formats:h,instance:p});if(!I.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/quickstart/#installation"].join(`
`));return I},[u,m,h,p,o]),w=x.useMemo(()=>b?{minDate:b.date("1900-01-01T00:00:00.000"),maxDate:b.date("2099-12-31T00:00:00.000")}:null,[b]),v=x.useMemo(()=>({utils:b,defaultDates:w,localeText:y}),[w,b,y]);return t.jsx(jf.Provider,{value:v,children:d})},I8=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:U({},e)}}}}),r1={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",nextStepButtonLabel:"Next",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",timeRangePickerToolbarTitle:"Select time range",clockLabelText:(e,n)=>`Select ${e}. ${n?`Selected time is ${n}`:"No time selected"}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:e=>e?`Choose date, selected date is ${e}`:"Choose date",openTimePickerDialogue:e=>e?`Choose time, selected time is ${e}`:"Choose time",openRangePickerDialogue:e=>e?`Choose range, selected range is ${e}`:"Choose range",fieldClearLabel:"Clear",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},D8=r1;I8(r1);const ta=()=>{const e=x.useContext(jf);if(e===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const n=x.useMemo(()=>U({},D8,e.localeText),[e.localeText]);return x.useMemo(()=>U({},e,{localeText:n}),[e,n])},Vt=()=>ta().utils,s1=()=>ta().defaultDates,ti=e=>{const n=Vt(),r=x.useRef(void 0);return r.current===void 0&&(r.current=n.date(void 0,e)),r.current},gs=()=>ta().localeText,T8=vo(t.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),E8=vo(t.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),A8=vo(t.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),R8=vo(t.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");vo(t.jsxs(x.Fragment,{children:[t.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),t.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");const _8=vo(t.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange"),k8=vo(t.jsxs(x.Fragment,{children:[t.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),t.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time"),O8=vo(t.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function M8(e){return cn("MuiPickersArrowSwitcher",e)}fn("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const o1=x.createContext(()=>!0);function N8(){return x.useContext(o1)}const a1=x.createContext(null);function i1(){return x.useContext(a1)}const ix=x.createContext(null),So=()=>{const e=x.useContext(ix);if(e==null)throw new Error("MUI X: The `usePickerContext` hook can only be called inside the context of a Picker component");return e},l1=x.createContext(null),c1=x.createContext({ownerState:{isPickerDisabled:!1,isPickerReadOnly:!1,isPickerValueEmpty:!1,isPickerOpen:!1,pickerVariant:"desktop",pickerOrientation:"portrait"},rootRefObject:{current:null},labelId:void 0,dismissViews:()=>{},hasUIView:!0,getCurrentViewMode:()=>"UI",triggerElement:null,viewContainerRole:null,defaultActionBarActions:[],onPopperExited:void 0});function d1(e){const{contextValue:n,actionsContextValue:r,privateContextValue:s,fieldPrivateContextValue:o,isValidContextValue:i,localeText:l,children:d}=e;return t.jsx(ix.Provider,{value:n,children:t.jsx(l1.Provider,{value:r,children:t.jsx(c1.Provider,{value:s,children:t.jsx(a1.Provider,{value:o,children:t.jsx(o1.Provider,{value:i,children:t.jsx(n1,{localeText:l,children:d})})})})})})}const Tn=()=>x.useContext(c1),L8=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId","classes"],$8=["ownerState"],F8=["ownerState"],W8=Me("div",{name:"MuiPickersArrowSwitcher",slot:"Root"})({display:"flex"}),B8=Me("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer"})(({theme:e})=>({width:e.spacing(3)})),U0=Me(Le,{name:"MuiPickersArrowSwitcher",slot:"Button"})({variants:[{props:{isButtonHidden:!0},style:{visibility:"hidden"}}]}),V8=e=>Jt({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},M8,e),U8=x.forwardRef(function(n,r){const s=Es(),o=Gt({props:n,name:"MuiPickersArrowSwitcher"}),{children:i,className:l,slots:d,slotProps:u,isNextDisabled:h,isNextHidden:p,onGoToNext:m,nextLabel:g,isPreviousDisabled:y,isPreviousHidden:b,onGoToPrevious:w,previousLabel:v,labelId:I,classes:S}=o,T=at(o,L8),{ownerState:D}=Tn(),A=V8(S),R={isDisabled:h,isHidden:p,goTo:m,label:g},k={isDisabled:y,isHidden:b,goTo:w,label:v},_=(d==null?void 0:d.previousIconButton)??U0,N=Nt({elementType:_,externalSlotProps:u==null?void 0:u.previousIconButton,additionalProps:{size:"medium",title:k.label,"aria-label":k.label,disabled:k.isDisabled,edge:"end",onClick:k.goTo},ownerState:U({},D,{isButtonHidden:k.isHidden??!1}),className:nn(A.button,A.previousIconButton)}),W=(d==null?void 0:d.nextIconButton)??U0,Y=Nt({elementType:W,externalSlotProps:u==null?void 0:u.nextIconButton,additionalProps:{size:"medium",title:R.label,"aria-label":R.label,disabled:R.isDisabled,edge:"start",onClick:R.goTo},ownerState:U({},D,{isButtonHidden:R.isHidden??!1}),className:nn(A.button,A.nextIconButton)}),$=(d==null?void 0:d.leftArrowIcon)??E8,H=Nt({elementType:$,externalSlotProps:u==null?void 0:u.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:D,className:A.leftArrowIcon}),J=at(H,$8),X=(d==null?void 0:d.rightArrowIcon)??A8,K=Nt({elementType:X,externalSlotProps:u==null?void 0:u.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:D,className:A.rightArrowIcon}),Z=at(K,F8);return t.jsxs(W8,U({ref:r,className:nn(A.root,l),ownerState:D},T,{children:[t.jsx(_,U({},N,{children:s?t.jsx(X,U({},Z)):t.jsx($,U({},J))})),i?t.jsx(j,{variant:"subtitle1",component:"span",id:I,children:i}):t.jsx(B8,{className:A.spacer,ownerState:D}),t.jsx(W,U({},Y,{children:s?t.jsx($,U({},J)):t.jsx(X,U({},Z))}))]}))}),Ps=(e,n)=>e.length!==n.length?!1:n.every(r=>e.includes(r)),z8=({openTo:e,defaultOpenTo:n,views:r,defaultViews:s})=>{const o=r??s;let i;if(e!=null)i=e;else if(o.includes(n))i=n;else if(o.length>0)i=o[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:o,openTo:i}},u1=["hours","minutes","seconds"],H8=["hours","minutes","seconds","meridiem"],el=e=>u1.includes(e),Sa=e=>H8.includes(e),G8=(e,n)=>e?n.getHours(e)>=12?"pm":"am":null,wf=(e,n,r)=>r&&(e>=12?"pm":"am")!==n?n==="am"?e-12:e+12:e,Y8=(e,n,r,s)=>{const o=wf(s.getHours(e),n,r);return s.setHours(e,o)},z0=(e,n)=>n.getHours(e)*3600+n.getMinutes(e)*60+n.getSeconds(e),Vd=(e,n)=>(r,s)=>e?n.isAfter(r,s):z0(r,n)>z0(s,n),H0=(e,{format:n,views:r,ampm:s})=>{if(n!=null)return n;const o=e.formats;return Ps(r,["hours"])?s?`${o.hours12h} ${o.meridiem}`:o.hours24h:Ps(r,["minutes"])?o.minutes:Ps(r,["seconds"])?o.seconds:Ps(r,["minutes","seconds"])?`${o.minutes}:${o.seconds}`:Ps(r,["hours","minutes","seconds"])?s?`${o.hours12h}:${o.minutes}:${o.seconds} ${o.meridiem}`:`${o.hours24h}:${o.minutes}:${o.seconds}`:s?`${o.hours12h}:${o.minutes} ${o.meridiem}`:`${o.hours24h}:${o.minutes}`},h1={hasNextStep:!1,hasSeveralSteps:!1,goToNextStep:()=>{},areViewsInSameStep:()=>!0};function q8(e){const{steps:n,isViewMatchingStep:r,onStepChange:s}=e;return o=>{if(n==null)return h1;const i=n.findIndex(d=>r(o.view,d)),l=i===-1||i===n.length-1?null:n[i+1];return{hasNextStep:l!=null,hasSeveralSteps:n.length>1,goToNextStep:()=>{l!=null&&s(U({},o,{step:l}))},areViewsInSameStep:(d,u)=>{const h=n.find(m=>r(d,m)),p=n.find(m=>r(u,m));return h===p}}}}function Ud({onChange:e,onViewChange:n,openTo:r,view:s,views:o,autoFocus:i,focusedView:l,onFocusedViewChange:d,getStepNavigation:u}){const h=x.useRef(r),p=x.useRef(o),m=x.useRef(o.includes(r)?r:o[0]),[g,y]=za({name:"useViews",state:"view",controlled:s,default:m.current}),b=x.useRef(i?g:null),[w,v]=za({name:"useViews",state:"focusedView",controlled:l,default:b.current}),I=u?u({setView:y,view:g,defaultView:m.current,views:o}):h1;x.useEffect(()=>{(h.current&&h.current!==r||p.current&&p.current.some(N=>!o.includes(N)))&&(y(o.includes(r)?r:o[0]),p.current=o,h.current=r)},[r,y,g,o]);const S=o.indexOf(g),T=o[S-1]??null,D=o[S+1]??null,A=Ve((N,W)=>{v(W?N:Y=>N===Y?null:Y),d==null||d(N,W)}),R=Ve(N=>{A(N,!0),N!==g&&(y(N),n&&n(N))}),k=Ve(()=>{D&&R(D)}),_=Ve((N,W,Y)=>{const $=W==="finish",H=Y?o.indexOf(Y)<o.length-1:!!D;e(N,$&&H?"partial":W,Y);let X=null;if(Y!=null&&Y!==g?X=Y:$&&(X=g),X==null)return;const K=o[o.indexOf(X)+1];K==null||!I.areViewsInSameStep(X,K)||R(K)});return U({},I,{view:g,setView:R,focusedView:w,setFocusedView:A,nextView:D,previousView:T,defaultView:o.includes(r)?r:o[0],goToNextView:k,setValueAndGoToNextView:_})}function K8(e,{disableFuture:n,maxDate:r,timezone:s}){const o=Vt();return x.useMemo(()=>{const i=o.date(void 0,s),l=o.startOfMonth(n&&o.isBefore(i,r)?i:r);return!o.isAfter(l,e)},[n,r,e,o,s])}function X8(e,{disablePast:n,minDate:r,timezone:s}){const o=Vt();return x.useMemo(()=>{const i=o.date(void 0,s),l=o.startOfMonth(n&&o.isAfter(i,r)?i:r);return!o.isBefore(l,e)},[n,r,e,o,s])}function f1(e,n,r,s){const o=Vt(),i=x.useMemo(()=>o.isValid(e)?e:null,[o,e]),l=G8(i,o),d=x.useCallback(u=>{const h=i==null?null:Y8(i,u,!!n,o);r(h,s??"partial")},[n,i,r,s,o]);return{meridiemMode:l,handleMeridiemChange:d}}const tl=36,zd=2,Ha=320,J8=280,Ga=336,p1=232,Ri=48,lx=Me("div")({overflow:"hidden",width:Ha,maxHeight:Ga,display:"flex",flexDirection:"column",margin:"0 auto"}),od=(e,n,r)=>{let s=n;return s=e.setHours(s,e.getHours(r)),s=e.setMinutes(s,e.getMinutes(r)),s=e.setSeconds(s,e.getSeconds(r)),s=e.setMilliseconds(s,e.getMilliseconds(r)),s},nl=({date:e,disableFuture:n,disablePast:r,maxDate:s,minDate:o,isDateDisabled:i,utils:l,timezone:d})=>{const u=od(l,l.date(void 0,d),e);r&&l.isBefore(o,u)&&(o=u),n&&l.isAfter(s,u)&&(s=u);let h=e,p=e;for(l.isBefore(e,o)&&(h=o,p=null),l.isAfter(e,s)&&(p&&(p=s),h=null);h||p;){if(h&&l.isAfter(h,s)&&(h=null),p&&l.isBefore(p,o)&&(p=null),h){if(!i(h))return h;h=l.addDays(h,1)}if(p){if(!i(p))return p;p=l.addDays(p,-1)}}return null},Q8=(e,n)=>e.isValid(n)?n:null,ad=(e,n,r)=>n==null||!e.isValid(n)?r:n,Z8=(e,n,r)=>!e.isValid(n)&&n!=null&&!e.isValid(r)&&r!=null?!0:e.isEqual(n,r),cx=(e,n)=>{const s=[e.startOfYear(n)];for(;s.length<12;){const o=s[s.length-1];s.push(e.addMonths(o,1))}return s},dx=(e,n,r)=>r==="date"?e.startOfDay(e.date(void 0,n)):e.date(void 0,n),$i=(e,n)=>{const r=e.setHours(e.date(),n==="am"?2:14);return e.format(r,"meridiem")},m1=["year","month","day"],Ya=e=>m1.includes(e),G0=(e,{format:n,views:r},s)=>{if(n!=null)return n;const o=e.formats;return Ps(r,["year"])?o.year:Ps(r,["month"])?o.month:Ps(r,["day"])?o.dayOfMonth:Ps(r,["month","year"])?`${o.month} ${o.year}`:Ps(r,["day","month"])?`${o.month} ${o.dayOfMonth}`:o.keyboardDate},e9=(e,n)=>{const r=e.startOfWeek(n);return[0,1,2,3,4,5,6].map(s=>e.addDays(r,s))},na=({name:e,timezone:n,value:r,defaultValue:s,referenceDate:o,onChange:i,valueManager:l})=>{const d=Vt(),[u,h]=za({name:e,state:"value",controlled:r,default:s??l.emptyValue}),p=x.useMemo(()=>l.getTimezone(d,u),[d,l,u]),m=Ve(w=>p==null?w:l.setTimezone(d,p,w)),g=x.useMemo(()=>n||p||(o?d.getTimezone(o):"default"),[n,p,o,d]),y=x.useMemo(()=>l.setTimezone(d,g,u),[l,d,g,u]),b=Ve((w,...v)=>{const I=m(w);h(I),i==null||i(I,...v)});return{value:y,handleValueChange:b,timezone:g}},ds={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},t9=e=>Math.max(...e.map(n=>ds[n.type]??1)),Di=(e,n,r)=>{if(n===ds.year)return e.startOfYear(r);if(n===ds.month)return e.startOfMonth(r);if(n===ds.day)return e.startOfDay(r);let s=r;return n<ds.minutes&&(s=e.setMinutes(s,0)),n<ds.seconds&&(s=e.setSeconds(s,0)),n<ds.milliseconds&&(s=e.setMilliseconds(s,0)),s},n9=({props:e,utils:n,granularity:r,timezone:s,getTodayDate:o})=>{let i=o?o():Di(n,r,dx(n,s));e.minDate!=null&&n.isAfterDay(e.minDate,i)&&(i=Di(n,r,e.minDate)),e.maxDate!=null&&n.isBeforeDay(e.maxDate,i)&&(i=Di(n,r,e.maxDate));const l=Vd(e.disableIgnoringDatePartForTimeValidation??!1,n);return e.minTime!=null&&l(e.minTime,i)&&(i=Di(n,r,e.disableIgnoringDatePartForTimeValidation?e.minTime:od(n,i,e.minTime))),e.maxTime!=null&&l(i,e.maxTime)&&(i=Di(n,r,e.disableIgnoringDatePartForTimeValidation?e.maxTime:od(n,i,e.maxTime))),i},x1=(e,n)=>{const r=e.formatTokenMap[n];if(r==null)throw new Error([`MUI X: The token "${n}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof r=="string"?{type:r,contentType:r==="meridiem"?"letter":"digit",maxLength:void 0}:{type:r.sectionType,contentType:r.contentType,maxLength:r.maxLength}},Hd=(e,n)=>{const r=[],s=e.date(void 0,"default"),o=e.startOfWeek(s),i=e.endOfWeek(s);let l=o;for(;e.isBefore(l,i);)r.push(l),l=e.addDays(l,1);return r.map(d=>e.formatByString(d,n))},g1=(e,n,r,s)=>{switch(r){case"month":return cx(e,e.date(void 0,n)).map(o=>e.formatByString(o,s));case"weekDay":return Hd(e,s);case"meridiem":{const o=e.date(void 0,n);return[e.startOfDay(o),e.endOfDay(o)].map(i=>e.formatByString(i,s))}default:return[]}},Y0="s",r9=["0","1","2","3","4","5","6","7","8","9"],s9=e=>{const n=e.date(void 0);return e.formatByString(e.setSeconds(n,0),Y0)==="0"?r9:Array.from({length:10}).map((s,o)=>e.formatByString(e.setSeconds(n,o),Y0))},Jo=(e,n)=>{if(n[0]==="0")return e;const r=[];let s="";for(let o=0;o<e.length;o+=1){s+=e[o];const i=n.indexOf(s);i>-1&&(r.push(i.toString()),s="")}return r.join("")},ux=(e,n)=>n[0]==="0"?e:e.split("").map(r=>n[Number(r)]).join(""),q0=(e,n)=>{const r=Jo(e,n);return r!==" "&&!Number.isNaN(Number(r))},hx=(e,n)=>Number(e).toString().padStart(n,"0"),b1=(e,n,r,s,o)=>{if(o.type==="day"&&o.contentType==="digit-with-letter"){const l=e.setDate(r.longestMonth,n);return e.formatByString(l,o.format)}let i=n.toString();return o.hasLeadingZerosInInput&&(i=hx(i,o.maxLength)),ux(i,s)},fx=(e,n,r)=>{let s=e.value||e.placeholder;const o=n==="non-input"?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;return n==="non-input"&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(s=Number(Jo(s,r)).toString()),["input-rtl","input-ltr"].includes(n)&&e.contentType==="digit"&&!o&&s.length===1&&(s=`${s}`),n==="input-rtl"&&(s=`${s}`),s},K0=(e,n,r,s)=>e.formatByString(e.parse(n,r),s),o9=(e,n)=>e.formatByString(e.date(void 0,"system"),n).length===4,y1=(e,n,r,s)=>{if(n!=="digit")return!1;const o=e.date(void 0,"default");switch(r){case"year":return e.lib==="dayjs"&&s==="YY"?!0:e.formatByString(e.setYear(o,1),s).startsWith("0");case"month":return e.formatByString(e.startOfYear(o),s).length>1;case"day":return e.formatByString(e.startOfMonth(o),s).length>1;case"weekDay":return e.formatByString(e.startOfWeek(o),s).length>1;case"hours":return e.formatByString(e.setHours(o,1),s).length>1;case"minutes":return e.formatByString(e.setMinutes(o,1),s).length>1;case"seconds":return e.formatByString(e.setSeconds(o,1),s).length>1;default:throw new Error("Invalid section type")}},a9=(e,n,r)=>{const s=n.some(u=>u.type==="day"),o=[],i=[];for(let u=0;u<n.length;u+=1){const h=n[u];s&&h.type==="weekDay"||(o.push(h.format),i.push(fx(h,"non-input",r)))}const l=o.join(" "),d=i.join(" ");return e.parse(d,l)},i9=e=>e.map(n=>`${n.startSeparator}${n.value||n.placeholder}${n.endSeparator}`).join(""),l9=(e,n,r)=>{const o=e.map(i=>{const l=fx(i,r?"input-rtl":"input-ltr",n);return`${i.startSeparator}${l}${i.endSeparator}`}).join("");return r?`${o}`:o},c9=(e,n,r)=>{const s=e.date(void 0,r),o=e.endOfYear(s),i=e.endOfDay(s),{maxDaysInMonth:l,longestMonth:d}=cx(e,s).reduce((u,h)=>{const p=e.getDaysInMonth(h);return p>u.maxDaysInMonth?{maxDaysInMonth:p,longestMonth:h}:u},{maxDaysInMonth:0,longestMonth:null});return{year:({format:u})=>({minimum:0,maximum:o9(e,u)?9999:99}),month:()=>({minimum:1,maximum:e.getMonth(o)+1}),day:({currentDate:u})=>({minimum:1,maximum:e.isValid(u)?e.getDaysInMonth(u):l,longestMonth:d}),weekDay:({format:u,contentType:h})=>{if(h==="digit"){const p=Hd(e,u).map(Number);return{minimum:Math.min(...p),maximum:Math.max(...p)}}return{minimum:1,maximum:7}},hours:({format:u})=>{const h=e.getHours(i);return Jo(e.formatByString(e.endOfDay(s),u),n)!==h.toString()?{minimum:1,maximum:Number(Jo(e.formatByString(e.startOfDay(s),u),n))}:{minimum:0,maximum:h}},minutes:()=>({minimum:0,maximum:e.getMinutes(i)}),seconds:()=>({minimum:0,maximum:e.getSeconds(i)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},d9=(e,n,r,s)=>{switch(n.type){case"year":return e.setYear(s,e.getYear(r));case"month":return e.setMonth(s,e.getMonth(r));case"weekDay":{let o=e.formatByString(r,n.format);n.hasLeadingZerosInInput&&(o=hx(o,n.maxLength));const i=Hd(e,n.format),l=i.indexOf(o),u=i.indexOf(n.value)-l;return e.addDays(r,u)}case"day":return e.setDate(s,e.getDate(r));case"meridiem":{const o=e.getHours(r)<12,i=e.getHours(s);return o&&i>=12?e.addHours(s,-12):!o&&i<12?e.addHours(s,12):s}case"hours":return e.setHours(s,e.getHours(r));case"minutes":return e.setMinutes(s,e.getMinutes(r));case"seconds":return e.setSeconds(s,e.getSeconds(r));default:return s}},X0={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},J0=(e,n,r,s,o)=>[...r].sort((i,l)=>X0[i.type]-X0[l.type]).reduce((i,l)=>!o||l.modified?d9(e,l,n,i):i,s),u9=()=>navigator.userAgent.toLowerCase().includes("android"),h9=(e,n)=>{const r={};if(!n)return e.forEach((u,h)=>{const p=h===0?null:h-1,m=h===e.length-1?null:h+1;r[h]={leftIndex:p,rightIndex:m}}),{neighbors:r,startIndex:0,endIndex:e.length-1};const s={},o={};let i=0,l=0,d=e.length-1;for(;d>=0;){l=e.findIndex((u,h)=>{var p;return h>=i&&((p=u.endSeparator)==null?void 0:p.includes(" "))&&u.endSeparator!==" / "}),l===-1&&(l=e.length-1);for(let u=l;u>=i;u-=1)o[u]=d,s[d]=u,d-=1;i=l+1}return e.forEach((u,h)=>{const p=o[h],m=p===0?null:s[p-1],g=p===e.length-1?null:s[p+1];r[h]={leftIndex:m,rightIndex:g}}),{neighbors:r,startIndex:s[0],endIndex:s[e.length-1]}},Sf=(e,n)=>{if(e==null)return null;if(e==="all")return"all";if(typeof e=="string"){const r=n.findIndex(s=>s.type===e);return r===-1?null:r}return e},f9=["value","referenceDate"],pr={emptyValue:null,getTodayValue:dx,getInitialReferenceValue:e=>{let{value:n,referenceDate:r}=e,s=at(e,f9);return s.utils.isValid(n)?n:r??n9(s)},cleanValue:Q8,areValuesEqual:Z8,isSameError:(e,n)=>e===n,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,n)=>e.isValid(n)?e.getTimezone(n):null,setTimezone:(e,n,r)=>r==null?null:e.setTimezone(r,n)},p9={updateReferenceValue:(e,n,r)=>e.isValid(n)?n:r,getSectionsFromValue:(e,n)=>n(e),getV7HiddenInputValueFromSections:i9,getV6InputValueFromSections:l9,parseValueStr:(e,n,r)=>r(e.trim(),n),getDateFromSection:e=>e,getDateSectionsFromValue:e=>e,updateDateInValue:(e,n,r)=>r,clearDateSections:e=>e.map(n=>U({},n,{value:""}))},v1=({value:e,referenceDate:n,utils:r,props:s,timezone:o})=>{const i=x.useMemo(()=>pr.getInitialReferenceValue({value:e,utils:r,props:s,referenceDate:n,granularity:ds.day,timezone:o,getTodayDate:()=>dx(r,o,"date")}),[]);return e??i};function m9(e){return cn("MuiDigitalClock",e)}const Cf=fn("MuiDigitalClock",["root","list","item"]);function x9(e,n){return Array.isArray(n)?n.every(r=>e.indexOf(r)!==-1):e.indexOf(n)!==-1}const g9=e=>{setTimeout(e,0)},qn=(e=document)=>{const n=e.activeElement;return n?n.shadowRoot?qn(n.shadowRoot):n:null},id=e=>Array.from(e.children).indexOf(qn(document)),b9="@media (pointer: fine)";function y9(...e){return e.reduce((n,r)=>(Array.isArray(r)?n.push(...r):r!=null&&n.push(r),n),[])}const v9=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","views","skipDisabled","timezone"],j9=e=>Jt({root:["root"],list:["list"],item:["item"]},m9,e),w9=Me(lx,{name:"MuiDigitalClock",slot:"Root"})({overflowY:"auto",width:"100%",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:p1,variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),S9=Me(vv,{name:"MuiDigitalClock",slot:"List"})({padding:0}),C9=Me(we,{name:"MuiDigitalClock",slot:"Item",shouldForwardProp:e=>e!=="itemValue"&&e!=="formattedValue"})(({theme:e})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:fe(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:fe(e.palette.primary.main,e.palette.action.focusOpacity)}})),P9=x.forwardRef(function(n,r){const s=Vt(),o=x.useRef(null),i=or(r,o),l=x.useRef(null),d=Gt({props:n,name:"MuiDigitalClock"}),{ampm:u=s.is12HourCycleInCurrentLocale(),timeStep:h=30,autoFocus:p,slots:m,slotProps:g,value:y,defaultValue:b,referenceDate:w,disableIgnoringDatePartForTimeValidation:v=!1,maxTime:I,minTime:S,disableFuture:T,disablePast:D,minutesStep:A=1,shouldDisableTime:R,onChange:k,view:_,openTo:N,onViewChange:W,focusedView:Y,onFocusedViewChange:$,className:H,classes:J,disabled:X,readOnly:K,views:Z=["hours"],skipDisabled:G=!1,timezone:oe}=d,V=at(d,v9),{value:ee,handleValueChange:Pe,timezone:pe}=na({name:"DigitalClock",timezone:oe,value:y,defaultValue:b,referenceDate:w,onChange:k,valueManager:pr}),Re=gs(),le=ti(pe),{ownerState:re}=Tn(),je=U({},re,{hasDigitalClockAlreadyBeenRendered:!!o.current}),Oe=j9(J),be=(m==null?void 0:m.digitalClockItem)??C9,ie=Nt({elementType:be,externalSlotProps:g==null?void 0:g.digitalClockItem,ownerState:je,className:Oe.item}),ae=v1({value:ee,referenceDate:w,utils:s,props:d,timezone:pe}),se=Ve(Se=>Pe(Se,"finish","hours")),{setValueAndGoToNextView:me}=Ud({view:_,views:Z,openTo:N,onViewChange:W,onChange:se,focusedView:Y,onFocusedViewChange:$}),de=Ve(Se=>{me(Se,"finish")});ts(()=>{if(o.current===null)return;const Se=o.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!Se)return;const q=Se.offsetTop;(p||Y)&&Se.focus(),o.current.scrollTop=q-4});const _e=x.useCallback(Se=>{const q=Vd(v,s),L=()=>!(S&&q(S,Se)||I&&q(Se,I)||T&&q(Se,le)||D&&q(le,Se)),ke=()=>s.getMinutes(Se)%A!==0?!1:R?!R(Se,"hours"):!0;return!L()||!ke()},[v,s,S,I,T,le,D,A,R]),Ee=x.useMemo(()=>{const Se=[];let L=s.startOfDay(ae);for(;s.isSameDay(ae,L);)Se.push(L),L=s.addMinutes(L,h);return Se},[ae,h,s]),He=Ee.findIndex(Se=>s.isEqual(Se,ae)),ue=Se=>{switch(Se.key){case"PageUp":{const q=id(l.current)-5,L=l.current.children,ke=Math.max(0,q),Ue=L[ke];Ue&&Ue.focus(),Se.preventDefault();break}case"PageDown":{const q=id(l.current)+5,L=l.current.children,ke=Math.min(L.length-1,q),Ue=L[ke];Ue&&Ue.focus(),Se.preventDefault();break}}};return t.jsx(w9,U({ref:i,className:nn(Oe.root,H),ownerState:je},V,{children:t.jsx(S9,{ref:l,role:"listbox","aria-label":Re.timePickerToolbarTitle,className:Oe.list,onKeyDown:ue,children:Ee.map((Se,q)=>{const L=_e(Se);if(G&&L)return null;const ke=s.isEqual(Se,ee),Ue=s.format(Se,u?"fullTime12h":"fullTime24h"),Ft=He===q||He===-1&&q===0?0:-1;return t.jsx(be,U({onClick:()=>!K&&de(Se),selected:ke,disabled:X||L,disableRipple:K,role:"option","aria-disabled":K,"aria-selected":ke,tabIndex:Ft,itemValue:Se,formattedValue:Ue},ie,{children:Ue}),`${Se.valueOf()}-${Ue}`)})})}))});function I9(e){return cn("MuiMultiSectionDigitalClock",e)}const Pf=fn("MuiMultiSectionDigitalClock",["root"]);function D9(e){return cn("MuiMultiSectionDigitalClockSection",e)}const If=fn("MuiMultiSectionDigitalClockSection",["root","item"]),T9=["autoFocus","onChange","className","classes","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],E9=e=>Jt({root:["root"],item:["item"]},D9,e),A9=Me(vv,{name:"MuiMultiSectionDigitalClockSection",slot:"Root"})(({theme:e})=>({maxHeight:p1,width:56,padding:0,overflow:"hidden",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(e.vars||e).palette.divider}`},"&::after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"},variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),R9=Me(we,{name:"MuiMultiSectionDigitalClockSection",slot:"Item"})(({theme:e})=>({padding:8,margin:"2px 4px",width:Ri,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:fe(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:fe(e.palette.primary.main,e.palette.action.focusOpacity)}})),_9=x.forwardRef(function(n,r){const s=x.useRef(null),o=or(r,s),i=x.useRef(null),l=Gt({props:n,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:d,onChange:u,className:h,classes:p,disabled:m,readOnly:g,items:y,active:b,slots:w,slotProps:v,skipDisabled:I}=l,S=at(l,T9),{ownerState:T}=Tn(),D=U({},T,{hasDigitalClockAlreadyBeenRendered:!!s.current}),A=E9(p),R=(w==null?void 0:w.digitalClockSectionItem)??R9;ts(()=>{if(s.current===null)return;const N=s.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(b&&d&&N&&N.focus(),!N||i.current===N)return;i.current=N;const W=N.offsetTop;s.current.scrollTop=W-4});const k=y.findIndex(N=>N.isFocused(N.value)),_=N=>{switch(N.key){case"PageUp":{const W=id(s.current)-5,Y=s.current.children,$=Math.max(0,W),H=Y[$];H&&H.focus(),N.preventDefault();break}case"PageDown":{const W=id(s.current)+5,Y=s.current.children,$=Math.min(Y.length-1,W),H=Y[$];H&&H.focus(),N.preventDefault();break}}};return t.jsx(A9,U({ref:o,className:nn(A.root,h),ownerState:D,autoFocusItem:d&&b,role:"listbox",onKeyDown:_},S,{children:y.map((N,W)=>{var X;const Y=(X=N.isDisabled)==null?void 0:X.call(N,N.value),$=m||Y;if(I&&$)return null;const H=N.isSelected(N.value),J=k===W||k===-1&&W===0?0:-1;return t.jsx(R,U({onClick:()=>!g&&u(N.value),selected:H,disabled:$,disableRipple:g,role:"option","aria-disabled":g||$||void 0,"aria-label":N.ariaLabel,"aria-selected":H,tabIndex:J,className:A.item},v==null?void 0:v.digitalClockSectionItem,{children:N.label}),N.label)})}))}),k9=({now:e,value:n,utils:r,ampm:s,isDisabled:o,resolveAriaLabel:i,timeStep:l,valueOrReferenceDate:d})=>{const u=n?r.getHours(n):null,h=[],p=(y,b)=>{const w=b??u;return w===null?!1:s?y===12?w===12||w===0:w===y||w-12===y:w===y},m=y=>p(y,r.getHours(d)),g=s?11:23;for(let y=0;y<=g;y+=l){let b=r.format(r.setHours(e,y),s?"hours12h":"hours24h");const w=i(parseInt(b,10).toString());b=r.formatNumber(b),h.push({value:y,label:b,isSelected:p,isDisabled:o,isFocused:m,ariaLabel:w})}return h},Q0=({value:e,utils:n,isDisabled:r,timeStep:s,resolveLabel:o,resolveAriaLabel:i,hasValue:l=!0})=>{const d=h=>e===null?!1:l&&e===h,u=h=>e===h;return[...Array.from({length:Math.ceil(60/s)},(h,p)=>{const m=s*p;return{value:m,label:n.formatNumber(o(m)),isDisabled:r,isSelected:d,isFocused:u,ariaLabel:i(m.toString())}})]},O9=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","skipDisabled","timezone"],M9=e=>Jt({root:["root"]},I9,e),N9=Me(lx,{name:"MuiMultiSectionDigitalClock",slot:"Root"})(({theme:e})=>({flexDirection:"row",width:"100%",borderBottom:`1px solid ${(e.vars||e).palette.divider}`})),L9=x.forwardRef(function(n,r){const s=Vt(),o=Es(),i=Gt({props:n,name:"MuiMultiSectionDigitalClock"}),{ampm:l=s.is12HourCycleInCurrentLocale(),timeSteps:d,autoFocus:u,slots:h,slotProps:p,value:m,defaultValue:g,referenceDate:y,disableIgnoringDatePartForTimeValidation:b=!1,maxTime:w,minTime:v,disableFuture:I,disablePast:S,minutesStep:T=1,shouldDisableTime:D,onChange:A,view:R,views:k=["hours","minutes"],openTo:_,onViewChange:N,focusedView:W,onFocusedViewChange:Y,className:$,classes:H,disabled:J,readOnly:X,skipDisabled:K=!1,timezone:Z}=i,G=at(i,O9),{value:oe,handleValueChange:V,timezone:ee}=na({name:"MultiSectionDigitalClock",timezone:Z,value:m,defaultValue:g,referenceDate:y,onChange:A,valueManager:pr}),Pe=gs(),pe=ti(ee),Re=x.useMemo(()=>U({hours:1,minutes:5,seconds:5},d),[d]),le=v1({value:oe,referenceDate:y,utils:s,props:i,timezone:ee}),re=Ve((q,L,ke)=>V(q,L,ke)),je=x.useMemo(()=>!l||!k.includes("hours")||k.includes("meridiem")?k:[...k,"meridiem"],[l,k]),{view:Oe,setValueAndGoToNextView:be,focusedView:ie}=Ud({view:R,views:je,openTo:_,onViewChange:N,onChange:re,focusedView:W,onFocusedViewChange:Y}),ae=Ve(q=>{be(q,"finish","meridiem")}),{meridiemMode:se,handleMeridiemChange:me}=f1(le,l,ae,"finish"),de=x.useCallback((q,L)=>{const ke=Vd(b,s),Ue=L==="hours"||L==="minutes"&&je.includes("seconds"),dn=({start:Rt,end:Qt})=>!(v&&ke(v,Qt)||w&&ke(Rt,w)||I&&ke(Rt,pe)||S&&ke(pe,Ue?Qt:Rt)),Ft=(Rt,Qt=1)=>{if(Rt%Qt!==0)return!1;if(D)switch(L){case"hours":return!D(s.setHours(le,Rt),"hours");case"minutes":return!D(s.setMinutes(le,Rt),"minutes");case"seconds":return!D(s.setSeconds(le,Rt),"seconds");default:return!1}return!0};switch(L){case"hours":{const Rt=wf(q,se,l),Qt=s.setHours(le,Rt);if(s.getHours(Qt)!==Rt)return!0;const Ln=s.setSeconds(s.setMinutes(Qt,0),0),ut=s.setSeconds(s.setMinutes(Qt,59),59);return!dn({start:Ln,end:ut})||!Ft(Rt)}case"minutes":{const Rt=s.setMinutes(le,q),Qt=s.setSeconds(Rt,0),Ln=s.setSeconds(Rt,59);return!dn({start:Qt,end:Ln})||!Ft(q,T)}case"seconds":{const Rt=s.setSeconds(le,q);return!dn({start:Rt,end:Rt})||!Ft(q)}default:throw new Error("not supported")}},[l,le,b,w,se,v,T,D,s,I,S,pe,je]),_e=x.useCallback(q=>{switch(q){case"hours":return{onChange:L=>{const ke=wf(L,se,l);be(s.setHours(le,ke),"finish","hours")},items:k9({now:pe,value:oe,ampm:l,utils:s,isDisabled:L=>de(L,"hours"),timeStep:Re.hours,resolveAriaLabel:Pe.hoursClockNumberText,valueOrReferenceDate:le})};case"minutes":return{onChange:L=>{be(s.setMinutes(le,L),"finish","minutes")},items:Q0({value:s.getMinutes(le),utils:s,isDisabled:L=>de(L,"minutes"),resolveLabel:L=>s.format(s.setMinutes(pe,L),"minutes"),timeStep:Re.minutes,hasValue:!!oe,resolveAriaLabel:Pe.minutesClockNumberText})};case"seconds":return{onChange:L=>{be(s.setSeconds(le,L),"finish","seconds")},items:Q0({value:s.getSeconds(le),utils:s,isDisabled:L=>de(L,"seconds"),resolveLabel:L=>s.format(s.setSeconds(pe,L),"seconds"),timeStep:Re.seconds,hasValue:!!oe,resolveAriaLabel:Pe.secondsClockNumberText})};case"meridiem":{const L=$i(s,"am"),ke=$i(s,"pm");return{onChange:me,items:[{value:"am",label:L,isSelected:()=>!!oe&&se==="am",isFocused:()=>!!le&&se==="am",ariaLabel:L},{value:"pm",label:ke,isSelected:()=>!!oe&&se==="pm",isFocused:()=>!!le&&se==="pm",ariaLabel:ke}]}}default:throw new Error(`Unknown view: ${q} found.`)}},[pe,oe,l,s,Re.hours,Re.minutes,Re.seconds,Pe.hoursClockNumberText,Pe.minutesClockNumberText,Pe.secondsClockNumberText,se,be,le,de,me]),Ee=x.useMemo(()=>{if(!o)return je;const q=je.filter(L=>L!=="meridiem");return q.reverse(),je.includes("meridiem")&&q.push("meridiem"),q},[o,je]),He=x.useMemo(()=>je.reduce((q,L)=>U({},q,{[L]:_e(L)}),{}),[je,_e]),{ownerState:ue}=Tn(),Se=M9(H);return t.jsx(N9,U({ref:r,className:nn(Se.root,$),ownerState:ue,role:"group"},G,{children:Ee.map(q=>t.jsx(_9,{items:He[q].items,onChange:He[q].onChange,active:Oe===q,autoFocus:u||ie===q,disabled:J,readOnly:X,slots:h,slotProps:p,skipDisabled:K,"aria-label":Pe.selectViewText(q)},q))}))});function $9(e){return cn("MuiPickersDay",e)}const $o=fn("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]);function j1(e){const{disabled:n,selected:r,today:s,outsideCurrentMonth:o,day:i,disableMargin:l,disableHighlightToday:d,showDaysOutsideCurrentMonth:u}=e,h=Vt(),{ownerState:p}=Tn();return x.useMemo(()=>U({},p,{day:i,isDaySelected:r??!1,isDayDisabled:n??!1,isDayCurrent:s??!1,isDayOutsideMonth:o??!1,isDayStartOfWeek:h.isSameDay(i,h.startOfWeek(i)),isDayEndOfWeek:h.isSameDay(i,h.endOfWeek(i)),disableMargin:l??!1,disableHighlightToday:d??!1,showDaysOutsideCurrentMonth:u??!1}),[h,p,i,r,n,s,o,l,d,u])}const F9=["autoFocus","className","classes","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","children","isFirstVisibleCell","isLastVisibleCell","day","selected","disabled","today","outsideCurrentMonth","disableMargin","disableHighlightToday","showDaysOutsideCurrentMonth"],W9=(e,n)=>{const{isDaySelected:r,isDayDisabled:s,isDayCurrent:o,isDayOutsideMonth:i,disableMargin:l,disableHighlightToday:d,showDaysOutsideCurrentMonth:u}=n,h=i&&!u;return Jt({root:["root",r&&!h&&"selected",s&&"disabled",!l&&"dayWithMargin",!d&&o&&"today",i&&u&&"dayOutsideMonth",h&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},$9,e)},w1=({theme:e})=>U({},e.typography.caption,{width:tl,height:tl,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:fe(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:fe(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${$o.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${$o.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${$o.disabled}:not(.${$o.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${$o.disabled}&.${$o.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${zd}px`}},{props:{isDayOutsideMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(e.vars||e).palette.text.secondary}},{props:{disableHighlightToday:!1,isDayCurrent:!0},style:{[`&:not(.${$o.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}}]}),S1=(e,n)=>{const{ownerState:r}=e;return[n.root,!r.disableMargin&&n.dayWithMargin,!r.disableHighlightToday&&r.isDayCurrent&&n.today,!r.isDayOutsideMonth&&r.showDaysOutsideCurrentMonth&&n.dayOutsideMonth,r.isDayOutsideMonth&&!r.showDaysOutsideCurrentMonth&&n.hiddenDaySpacingFiller]},B9=Me(ER,{name:"MuiPickersDay",slot:"Root",overridesResolver:S1})(w1),V9=Me("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:S1})(({theme:e})=>U({},w1({theme:e}),{opacity:0,pointerEvents:"none"})),Ti=()=>{},U9=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersDay"}),{autoFocus:o=!1,className:i,classes:l,isAnimating:d,onClick:u,onDaySelect:h,onFocus:p=Ti,onBlur:m=Ti,onKeyDown:g=Ti,onMouseDown:y=Ti,onMouseEnter:b=Ti,children:w,day:v,selected:I,disabled:S,today:T,outsideCurrentMonth:D,disableMargin:A,disableHighlightToday:R,showDaysOutsideCurrentMonth:k}=s,_=at(s,F9),N=j1({day:v,selected:I,disabled:S,today:T,outsideCurrentMonth:D,disableMargin:A,disableHighlightToday:R,showDaysOutsideCurrentMonth:k}),W=W9(l,N),Y=Vt(),$=x.useRef(null),H=or($,r);ts(()=>{o&&!S&&!d&&!D&&$.current.focus()},[o,S,d,D]);const J=K=>{y(K),D&&K.preventDefault()},X=K=>{S||h(v),D&&K.currentTarget.focus(),u&&u(K)};return D&&!k?t.jsx(V9,{className:nn(W.root,W.hiddenDaySpacingFiller,i),ownerState:N,role:_.role}):t.jsx(B9,U({className:nn(W.root,i),ref:H,centerRipple:!0,disabled:S,tabIndex:I?0:-1,onKeyDown:K=>g(K,v),onFocus:K=>p(K,v),onBlur:K=>m(K,v),onMouseEnter:K=>b(K,v),onClick:X,onMouseDown:J},_,{ownerState:N,children:w||Y.format(v,"dayOfMonth")}))}),z9=x.memo(U9),Df=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],Tf=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],C1=["minDateTime","maxDateTime"],H9=[...Df,...Tf,...C1],P1=e=>H9.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{}),G9=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","unstableStartFieldRef","unstableEndFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator","autoFocus","focused"],I1=(e,n)=>x.useMemo(()=>{const r=U({},e),s={},o=i=>{r.hasOwnProperty(i)&&(s[i]=r[i],delete r[i])};return G9.forEach(o),n==="date"?Df.forEach(o):n==="time"?Tf.forEach(o):n==="date-time"&&(Df.forEach(o),Tf.forEach(o),C1.forEach(o)),{forwardedProps:r,internalProps:s}},[e,n]),Y9=({utils:e,format:n})=>{let r=10,s=n,o=e.expandFormat(n);for(;o!==s;)if(s=o,o=e.expandFormat(s),r-=1,r<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the component.");return o},q9=({utils:e,expandedFormat:n})=>{const r=[],{start:s,end:o}=e.escapedCharacters,i=new RegExp(`(\\${s}[^\\${o}]*\\${o})+`,"g");let l=null;for(;l=i.exec(n);)r.push({start:l.index,end:i.lastIndex-1});return r},K9=(e,n,r,s)=>{switch(r.type){case"year":return n.fieldYearPlaceholder({digitAmount:e.formatByString(e.date(void 0,"default"),s).length,format:s});case"month":return n.fieldMonthPlaceholder({contentType:r.contentType,format:s});case"day":return n.fieldDayPlaceholder({format:s});case"weekDay":return n.fieldWeekDayPlaceholder({contentType:r.contentType,format:s});case"hours":return n.fieldHoursPlaceholder({format:s});case"minutes":return n.fieldMinutesPlaceholder({format:s});case"seconds":return n.fieldSecondsPlaceholder({format:s});case"meridiem":return n.fieldMeridiemPlaceholder({format:s});default:return s}},X9=({utils:e,date:n,shouldRespectLeadingZeros:r,localeText:s,localizedDigits:o,now:i,token:l,startSeparator:d})=>{if(l==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const u=x1(e,l),h=y1(e,u.contentType,u.type,l),p=r?h:u.contentType==="digit",m=e.isValid(n);let g=m?e.formatByString(n,l):"",y=null;if(p)if(h)y=g===""?e.formatByString(i,l).length:g.length;else{if(u.maxLength==null)throw new Error(`MUI X: The token ${l} should have a 'maxLength' property on it's adapter`);y=u.maxLength,m&&(g=ux(hx(Jo(g,o),y),o))}return U({},u,{format:l,maxLength:y,value:g,placeholder:K9(e,s,u,l),hasLeadingZerosInFormat:h,hasLeadingZerosInInput:p,startSeparator:d,endSeparator:"",modified:!1})},J9=e=>{var y;const{utils:n,expandedFormat:r,escapedParts:s}=e,o=n.date(void 0),i=[];let l="";const d=Object.keys(n.formatTokenMap).sort((b,w)=>w.length-b.length),u=/^([a-zA-Z]+)/,h=new RegExp(`^(${d.join("|")})*$`),p=new RegExp(`^(${d.join("|")})`),m=b=>s.find(w=>w.start<=b&&w.end>=b);let g=0;for(;g<r.length;){const b=m(g),w=b!=null,v=(y=u.exec(r.slice(g)))==null?void 0:y[1];if(!w&&v!=null&&h.test(v)){let I=v;for(;I.length>0;){const S=p.exec(I)[1];I=I.slice(S.length),i.push(X9(U({},e,{now:o,token:S,startSeparator:l}))),l=""}g+=v.length}else{const I=r[g];w&&(b==null?void 0:b.start)===g||(b==null?void 0:b.end)===g||(i.length===0?l+=I:(i[i.length-1].endSeparator+=I,i[i.length-1].isEndFormatSeparator=!0)),g+=1}}return i.length===0&&l.length>0&&i.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:l,endSeparator:"",modified:!1}),i},Q9=({isRtl:e,formatDensity:n,sections:r})=>r.map(s=>{const o=i=>{let l=i;return e&&l!==null&&l.includes(" ")&&(l=`${l}`),n==="spacious"&&["/",".","-"].includes(l)&&(l=` ${l} `),l};return s.startSeparator=o(s.startSeparator),s.endSeparator=o(s.endSeparator),s}),Z0=e=>{let n=Y9(e);e.isRtl&&e.enableAccessibleFieldDOMStructure&&(n=n.split(" ").reverse().join(" "));const r=q9(U({},e,{expandedFormat:n})),s=J9(U({},e,{expandedFormat:n,escapedParts:r}));return Q9(U({},e,{sections:s}))},px=()=>x.useContext(ix),Z9=()=>{const e=x.useContext(l1);if(e==null)throw new Error(["MUI X: The `usePickerActionsContext` can only be called in fields that are used as a slot of a Picker component"].join(`
`));return e},ja=e=>e.saveQuery!=null,D1=({stateResponse:{localizedDigits:e,sectionsValueBoundaries:n,state:r,timezone:s,setCharacterQuery:o,setTempAndroidValueStr:i,updateSectionValue:l}})=>{const d=Vt(),u=({keyPressed:m,sectionIndex:g},y,b)=>{const w=m.toLowerCase(),v=r.sections[g];if(r.characterQuery!=null&&(!b||b(r.characterQuery.value))&&r.characterQuery.sectionIndex===g){const S=`${r.characterQuery.value}${w}`,T=y(S,v);if(!ja(T))return o({sectionIndex:g,value:S,sectionType:v.type}),T}const I=y(w,v);return ja(I)&&!I.saveQuery?(o(null),null):(o({sectionIndex:g,value:w,sectionType:v.type}),ja(I)?null:I)},h=m=>{const g=(w,v,I)=>{const S=v.filter(T=>T.toLowerCase().startsWith(I));return S.length===0?{saveQuery:!1}:{sectionValue:S[0],shouldGoToNextSection:S.length===1}},y=(w,v,I,S)=>{const T=D=>g1(d,s,v.type,D);if(v.contentType==="letter")return g(v.format,T(v.format),w);if(I&&S!=null&&x1(d,I).contentType==="letter"){const D=T(I),A=g(I,D,w);return ja(A)?{saveQuery:!1}:U({},A,{sectionValue:S(A.sectionValue,D)})}return{saveQuery:!1}};return u(m,(w,v)=>{switch(v.type){case"month":{const I=S=>K0(d,S,d.formats.month,v.format);return y(w,v,d.formats.month,I)}case"weekDay":{const I=(S,T)=>T.indexOf(S).toString();return y(w,v,d.formats.weekday,I)}case"meridiem":return y(w,v);default:return{saveQuery:!1}}})},p=m=>{const g=(b,w)=>{const v=Jo(b,e),I=Number(v),S=n[w.type]({currentDate:null,format:w.format,contentType:w.contentType});if(I>S.maximum)return{saveQuery:!1};if(I<S.minimum)return{saveQuery:!0};const T=I*10>S.maximum||v.length===S.maximum.toString().length;return{sectionValue:b1(d,I,S,e,w),shouldGoToNextSection:T}};return u(m,(b,w)=>{if(w.contentType==="digit"||w.contentType==="digit-with-letter")return g(b,w);if(w.type==="month"){const v=y1(d,"digit","month","MM"),I=g(b,{type:w.type,format:"MM",hasLeadingZerosInFormat:v,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(ja(I))return I;const S=K0(d,I.sectionValue,"MM",w.format);return U({},I,{sectionValue:S})}if(w.type==="weekDay"){const v=g(b,w);if(ja(v))return v;const I=Hd(d,w.format)[Number(v.sectionValue)-1];return U({},v,{sectionValue:I})}return{saveQuery:!1}},b=>q0(b,e))};return Ve(m=>{const g=r.sections[m.sectionIndex],b=q0(m.keyPressed,e)?p(U({},m,{keyPressed:ux(m.keyPressed,e)})):h(m);if(b==null){i(null);return}l({section:g,newSectionValue:b.sectionValue,shouldGoToNextSection:b.shouldGoToNextSection})})},mx=({props:e,value:n,timezone:r,adapter:s})=>{if(n===null)return null;const{shouldDisableDate:o,shouldDisableMonth:i,shouldDisableYear:l,disablePast:d,disableFuture:u,minDate:h,maxDate:p}=e,m=s.utils.date(void 0,r);switch(!0){case!s.utils.isValid(n):return"invalidDate";case!!(o&&o(n)):return"shouldDisableDate";case!!(i&&i(n)):return"shouldDisableMonth";case!!(l&&l(n)):return"shouldDisableYear";case!!(u&&s.utils.isAfterDay(n,m)):return"disableFuture";case!!(d&&s.utils.isBeforeDay(n,m)):return"disablePast";case!!(h&&s.utils.isBeforeDay(n,h)):return"minDate";case!!(p&&s.utils.isAfterDay(n,p)):return"maxDate";default:return null}};mx.valueManager=pr;const T1=({adapter:e,value:n,timezone:r,props:s})=>{if(n===null)return null;const{minTime:o,maxTime:i,minutesStep:l,shouldDisableTime:d,disableIgnoringDatePartForTimeValidation:u=!1,disablePast:h,disableFuture:p}=s,m=e.utils.date(void 0,r),g=Vd(u,e.utils);switch(!0){case!e.utils.isValid(n):return"invalidDate";case!!(o&&g(o,n)):return"minTime";case!!(i&&g(n,i)):return"maxTime";case!!(p&&e.utils.isAfter(n,m)):return"disableFuture";case!!(h&&e.utils.isBefore(n,m)):return"disablePast";case!!(d&&d(n,"hours")):return"shouldDisableTime-hours";case!!(d&&d(n,"minutes")):return"shouldDisableTime-minutes";case!!(d&&d(n,"seconds")):return"shouldDisableTime-seconds";case!!(l&&e.utils.getMinutes(n)%l!==0):return"minutesStep";default:return null}};T1.valueManager=pr;const Gd=({adapter:e,value:n,timezone:r,props:s})=>{const o=mx({adapter:e,value:n,timezone:r,props:s});return o!==null?o:T1({adapter:e,value:n,timezone:r,props:s})};Gd.valueManager=pr;function E1(e){const{props:n,validator:r,value:s,timezone:o,onError:i}=e,l=ta(),d=x.useRef(r.valueManager.defaultErrorState),u=r({adapter:l,value:s,timezone:o,props:n}),h=r.valueManager.hasError(u);x.useEffect(()=>{i&&!r.valueManager.isSameError(u,d.current)&&i(u,s),d.current=u},[r,i,u,s]);const p=Ve(m=>r({adapter:l,value:m,timezone:o,props:n}));return{validationError:u,hasValidationError:h,getValidationErrorForNewValue:p}}const e7=5e3,A1=e=>{var He;const n=Vt(),r=gs(),s=ta(),o=Es(),{manager:{validator:i,valueType:l,internal_valueManager:d,internal_fieldValueManager:u},internalPropsWithDefaults:h,internalPropsWithDefaults:{value:p,defaultValue:m,referenceDate:g,onChange:y,format:b,formatDensity:w="dense",selectedSections:v,onSelectedSectionsChange:I,shouldRespectLeadingZeros:S=!1,timezone:T,enableAccessibleFieldDOMStructure:D=!0},forwardedProps:{error:A}}=e,{value:R,handleValueChange:k,timezone:_}=na({name:"a field component",timezone:T,value:p,defaultValue:m,referenceDate:g,onChange:y,valueManager:d}),N=x.useRef(R);x.useEffect(()=>{N.current=R},[R]);const{hasValidationError:W}=E1({props:h,validator:i,timezone:_,value:R,onError:h.onError}),Y=x.useMemo(()=>A!==void 0?A:W,[W,A]),$=x.useMemo(()=>s9(n),[n]),H=x.useMemo(()=>c9(n,$,_),[n,$,_]),J=x.useCallback(ue=>u.getSectionsFromValue(ue,Se=>Z0({utils:n,localeText:r,localizedDigits:$,format:b,date:Se,formatDensity:w,shouldRespectLeadingZeros:S,enableAccessibleFieldDOMStructure:D,isRtl:o})),[u,b,r,$,o,S,n,w,D]),[X,K]=x.useState(()=>{const ue=J(R),Se={sections:ue,lastExternalValue:R,lastSectionsDependencies:{format:b,isRtl:o,locale:n.locale},tempValueStrAndroid:null,characterQuery:null},q=t9(ue),L=d.getInitialReferenceValue({referenceDate:g,value:R,utils:n,props:h,granularity:q,timezone:_});return U({},Se,{referenceValue:L})}),[Z,G]=za({controlled:v,default:null,name:"useField",state:"selectedSections"}),oe=ue=>{G(ue),I==null||I(ue)},V=x.useMemo(()=>Sf(Z,X.sections),[Z,X.sections]),ee=V==="all"?0:V,Pe=x.useMemo(()=>h9(X.sections,o&&!D),[X.sections,o,D]),pe=x.useMemo(()=>X.sections.every(ue=>ue.value===""),[X.sections]),Re=ue=>{const Se={validationError:i({adapter:s,value:ue,timezone:_,props:h})};k(ue,Se)},le=(ue,Se)=>{const q=[...X.sections];return q[ue]=U({},q[ue],{value:Se,modified:!0}),q},re=x.useRef(null),je=Ta(),Oe=ue=>{ee!=null&&(re.current={sectionIndex:ee,value:ue},je.start(0,()=>{re.current=null}))},be=()=>{d.areValuesEqual(n,R,d.emptyValue)?K(ue=>U({},ue,{sections:ue.sections.map(Se=>U({},Se,{value:""})),tempValueStrAndroid:null,characterQuery:null})):(K(ue=>U({},ue,{characterQuery:null})),Re(d.emptyValue))},ie=()=>{if(ee==null)return;const ue=X.sections[ee];ue.value!==""&&(Oe(""),u.getDateFromSection(R,ue)===null?K(Se=>U({},Se,{sections:le(ee,""),tempValueStrAndroid:null,characterQuery:null})):(K(Se=>U({},Se,{characterQuery:null})),Re(u.updateDateInValue(R,ue,null))))},ae=ue=>{const Se=(L,ke)=>{const Ue=n.parse(L,b);if(!n.isValid(Ue))return null;const dn=Z0({utils:n,localeText:r,localizedDigits:$,format:b,date:Ue,formatDensity:w,shouldRespectLeadingZeros:S,enableAccessibleFieldDOMStructure:D,isRtl:o});return J0(n,Ue,dn,ke,!1)},q=u.parseValueStr(ue,X.referenceValue,Se);Re(q)},se=Ta(),me=({section:ue,newSectionValue:Se,shouldGoToNextSection:q})=>{je.clear(),se.clear();const L=u.getDateFromSection(R,ue);q&&ee<X.sections.length-1&&oe(ee+1);const ke=le(ee,Se),Ue=u.getDateSectionsFromValue(ke,ue),dn=a9(n,Ue,$);if(n.isValid(dn)){const Ft=J0(n,dn,Ue,u.getDateFromSection(X.referenceValue,ue),!0);return L==null&&se.start(0,()=>{N.current===R&&K(Rt=>U({},Rt,{sections:u.clearDateSections(X.sections,ue),tempValueStrAndroid:null}))}),Re(u.updateDateInValue(R,ue,Ft))}return Ue.every(Ft=>Ft.value!=="")?(Oe(Se),Re(u.updateDateInValue(R,ue,dn))):L!=null?(Oe(Se),Re(u.updateDateInValue(R,ue,null))):K(Ft=>U({},Ft,{sections:ke,tempValueStrAndroid:null}))},de=ue=>K(Se=>U({},Se,{tempValueStrAndroid:ue})),_e=Ve(ue=>{K(Se=>U({},Se,{characterQuery:ue}))});if(R!==X.lastExternalValue){let ue;re.current!=null&&!n.isValid(u.getDateFromSection(R,X.sections[re.current.sectionIndex]))?ue=le(re.current.sectionIndex,re.current.value):ue=J(R),K(Se=>U({},Se,{lastExternalValue:R,sections:ue,sectionsDependencies:{format:b,isRtl:o,locale:n.locale},referenceValue:u.updateReferenceValue(n,R,Se.referenceValue),tempValueStrAndroid:null}))}if(o!==X.lastSectionsDependencies.isRtl||b!==X.lastSectionsDependencies.format||n.locale!==X.lastSectionsDependencies.locale){const ue=J(R);K(Se=>U({},Se,{lastSectionsDependencies:{format:b,isRtl:o,locale:n.locale},sections:ue,tempValueStrAndroid:null,characterQuery:null}))}X.characterQuery!=null&&!Y&&ee==null&&_e(null),X.characterQuery!=null&&((He=X.sections[X.characterQuery.sectionIndex])==null?void 0:He.type)!==X.characterQuery.sectionType&&_e(null),x.useEffect(()=>{re.current!=null&&(re.current=null)});const Ee=Ta();return x.useEffect(()=>(X.characterQuery!=null&&Ee.start(e7,()=>_e(null)),()=>{}),[X.characterQuery,_e,Ee]),x.useEffect(()=>{X.tempValueStrAndroid!=null&&ee!=null&&ie()},[X.sections]),{activeSectionIndex:ee,areAllSectionsEmpty:pe,error:Y,localizedDigits:$,parsedSelectedSections:V,sectionOrder:Pe,sectionsValueBoundaries:H,state:X,timezone:_,value:R,clearValue:be,clearActiveSection:ie,setCharacterQuery:_e,setSelectedSections:oe,setTempAndroidValueStr:de,updateSectionValue:me,updateValueFromValueStr:ae,getSectionsFromValue:J}};function R1(e){const{manager:{internal_useApplyDefaultValuesToFieldInternalProps:n},internalProps:r,skipContextFieldRefAssignment:s}=e,o=px(),i=i1(),l=or(r.unstableFieldRef,s?null:i==null?void 0:i.fieldRef),d=o==null?void 0:o.setValue,u=x.useCallback((p,m)=>d==null?void 0:d(p,{validationError:m.validationError,shouldClose:!1}),[d]),h=x.useMemo(()=>i!=null&&o!=null?U({value:o.value,onChange:u,timezone:o.timezone,disabled:o.disabled,readOnly:o.readOnly,autoFocus:o.autoFocus&&!o.open,focused:o.open?!0:void 0,format:o.fieldFormat,formatDensity:i.formatDensity,enableAccessibleFieldDOMStructure:i.enableAccessibleFieldDOMStructure,selectedSections:i.selectedSections,onSelectedSectionsChange:i.onSelectedSectionsChange,unstableFieldRef:l},r):r,[o,i,r,u,l]);return n(h)}function xx(e){const{focused:n,domGetters:r,stateResponse:{parsedSelectedSections:s,state:o}}=e;if(!r.isReady())return;const i=document.getSelection();if(!i)return;if(s==null){i.rangeCount>0&&r.getRoot().contains(i.getRangeAt(0).startContainer)&&i.removeAllRanges(),n&&r.getRoot().blur();return}if(!r.getRoot().contains(qn(document)))return;const l=new window.Range;let d;s==="all"?d=r.getRoot():o.sections[s].type==="empty"?d=r.getSectionContainer(s):d=r.getSectionContent(s),l.selectNodeContents(d),d.focus(),i.removeAllRanges(),i.addRange(l)}function _1(e){const n=Vt(),{manager:{internal_fieldValueManager:r},internalPropsWithDefaults:{minutesStep:s,disabled:o,readOnly:i},stateResponse:{state:l,value:d,activeSectionIndex:u,parsedSelectedSections:h,sectionsValueBoundaries:p,localizedDigits:m,timezone:g,sectionOrder:y,clearValue:b,clearActiveSection:w,setSelectedSections:v,updateSectionValue:I}}=e;return Ve(S=>{if(!o)switch(!0){case((S.ctrlKey||S.metaKey)&&String.fromCharCode(S.keyCode)==="A"&&!S.shiftKey&&!S.altKey):{S.preventDefault(),v("all");break}case S.key==="ArrowRight":{if(S.preventDefault(),h==null)v(y.startIndex);else if(h==="all")v(y.endIndex);else{const T=y.neighbors[h].rightIndex;T!==null&&v(T)}break}case S.key==="ArrowLeft":{if(S.preventDefault(),h==null)v(y.endIndex);else if(h==="all")v(y.startIndex);else{const T=y.neighbors[h].leftIndex;T!==null&&v(T)}break}case S.key==="Delete":{if(S.preventDefault(),i)break;h==null||h==="all"?b():w();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(S.key):{if(S.preventDefault(),i||u==null)break;h==="all"&&v(u);const T=l.sections[u],D=n7(n,g,T,S.key,p,m,r.getDateFromSection(d,T),{minutesStep:s});I({section:T,newSectionValue:D,shouldGoToNextSection:!1});break}}})}function t7(e){switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}}function n7(e,n,r,s,o,i,l,d){const u=t7(s),h=s==="Home",p=s==="End",m=r.value===""||h||p,g=()=>{const b=o[r.type]({currentDate:l,format:r.format,contentType:r.contentType}),w=S=>b1(e,S,b,i,r),v=r.type==="minutes"&&(d!=null&&d.minutesStep)?d.minutesStep:1;let I;if(m){if(r.type==="year"&&!p&&!h)return e.formatByString(e.date(void 0,n),r.format);u>0||h?I=b.minimum:I=b.maximum}else I=parseInt(Jo(r.value,i),10)+u*v;return I%v!==0&&((u<0||h)&&(I+=v-(v+I)%v),(u>0||p)&&(I-=I%v)),I>b.maximum?w(b.minimum+(I-b.maximum-1)%(b.maximum-b.minimum+1)):I<b.minimum?w(b.maximum-(b.minimum-I-1)%(b.maximum-b.minimum+1)):w(I)},y=()=>{const b=g1(e,n,r.type,r.format);if(b.length===0)return r.value;if(m)return u>0||h?b[0]:b[b.length-1];const I=((b.indexOf(r.value)+u)%b.length+b.length)%b.length;return b[I]};return r.contentType==="digit"||r.contentType==="digit-with-letter"?g():y()}function r7(e){const{manager:n,focused:r,setFocused:s,domGetters:o,stateResponse:i,applyCharacterEditing:l,internalPropsWithDefaults:d,stateResponse:{parsedSelectedSections:u,sectionOrder:h,state:p,clearValue:m,setCharacterQuery:g,setSelectedSections:y,updateValueFromValueStr:b},internalPropsWithDefaults:{disabled:w=!1,readOnly:v=!1}}=e,I=_1({manager:n,internalPropsWithDefaults:d,stateResponse:i}),S=Ta(),T=Ve(_=>{w||!o.isReady()||(s(!0),u==="all"?S.start(0,()=>{const N=document.getSelection().getRangeAt(0).startOffset;if(N===0){y(h.startIndex);return}let W=0,Y=0;for(;Y<N&&W<p.sections.length;){const $=p.sections[W];W+=1,Y+=`${$.startSeparator}${$.value||$.placeholder}${$.endSeparator}`.length}y(W-1)}):r?o.getRoot().contains(_.target)||y(h.startIndex):(s(!0),y(h.startIndex)))}),D=Ve(_=>{if(!o.isReady()||u!=="all")return;const W=_.target.textContent??"";o.getRoot().innerHTML=p.sections.map(Y=>`${Y.startSeparator}${Y.value||Y.placeholder}${Y.endSeparator}`).join(""),xx({focused:r,domGetters:o,stateResponse:i}),W.length===0||W.charCodeAt(0)===10?(m(),y("all")):W.length>1?b(W):(u==="all"&&y(0),l({keyPressed:W,sectionIndex:0}))}),A=Ve(_=>{if(v||u!=="all"){_.preventDefault();return}const N=_.clipboardData.getData("text");_.preventDefault(),g(null),b(N)}),R=Ve(()=>{if(r||w||!o.isReady())return;const _=qn(document);s(!0),o.getSectionIndexFromDOMElement(_)!=null||y(h.startIndex)}),k=Ve(()=>{setTimeout(()=>{if(!o.isReady())return;const _=qn(document);!o.getRoot().contains(_)&&(s(!1),y(null))})});return{onKeyDown:I,onBlur:k,onFocus:R,onClick:T,onPaste:A,onInput:D,contentEditable:u==="all",tabIndex:u===0?-1:0}}function s7(e){const{manager:{internal_fieldValueManager:n},stateResponse:{areAllSectionsEmpty:r,state:s,updateValueFromValueStr:o}}=e,i=Ve(d=>{o(d.target.value)});return{value:x.useMemo(()=>r?"":n.getV7HiddenInputValueFromSections(s.sections),[r,s.sections,n]),onChange:i}}function o7(e){const{stateResponse:{setSelectedSections:n},internalPropsWithDefaults:{disabled:r=!1}}=e,s=Ve(o=>i=>{r||i.isDefaultPrevented()||n(o)});return x.useCallback(o=>({"data-sectionindex":o,onClick:s(o)}),[s])}function a7(e){const n=Vt(),r=gs(),s=Bd(),{focused:o,domGetters:i,stateResponse:l,applyCharacterEditing:d,manager:{internal_fieldValueManager:u},stateResponse:{parsedSelectedSections:h,sectionsValueBoundaries:p,state:m,value:g,clearActiveSection:y,setCharacterQuery:b,setSelectedSections:w,updateSectionValue:v,updateValueFromValueStr:I},internalPropsWithDefaults:{disabled:S=!1,readOnly:T=!1}}=e,D=h==="all",A=!D&&!S&&!T,R=Ve($=>{if(!i.isReady())return;const H=m.sections[$];i.getSectionContent($).innerHTML=H.value||H.placeholder,xx({focused:o,domGetters:i,stateResponse:l})}),k=Ve($=>{if(!i.isReady())return;const H=$.target,J=H.textContent??"",X=i.getSectionIndexFromDOMElement(H),K=m.sections[X];if(T){R(X);return}if(J.length===0){if(K.value===""){R(X);return}const Z=$.nativeEvent.inputType;if(Z==="insertParagraph"||Z==="insertLineBreak"){R(X);return}R(X),y();return}d({keyPressed:J,sectionIndex:X}),R(X)}),_=Ve($=>{$.preventDefault()}),N=Ve($=>{if($.preventDefault(),T||S||typeof h!="number")return;const H=m.sections[h],J=$.clipboardData.getData("text"),X=/^[a-zA-Z]+$/.test(J),K=/^[0-9]+$/.test(J),Z=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(J);H.contentType==="letter"&&X||H.contentType==="digit"&&K||H.contentType==="digit-with-letter"&&Z?(b(null),v({section:H,newSectionValue:J,shouldGoToNextSection:!0})):!X&&!K&&(b(null),I(J))}),W=Ve($=>{$.preventDefault(),$.dataTransfer.dropEffect="none"}),Y=Ve($=>()=>{S||w($)});return x.useCallback(($,H)=>{const J=p[$.type]({currentDate:u.getDateFromSection(g,$),contentType:$.contentType,format:$.format});return{onInput:k,onPaste:N,onMouseUp:_,onDragOver:W,onFocus:Y(H),"aria-labelledby":`${s}-${$.type}`,"aria-readonly":T,"aria-valuenow":l7($,n),"aria-valuemin":J.minimum,"aria-valuemax":J.maximum,"aria-valuetext":$.value?i7($,n):r.empty,"aria-label":r[$.type],"aria-disabled":S,tabIndex:D||H>0?-1:0,contentEditable:!D&&!S&&!T,role:"spinbutton",id:`${s}-${$.type}`,"data-range-position":$.dateName||void 0,spellCheck:A?!1:void 0,autoCapitalize:A?"off":void 0,autoCorrect:A?"off":void 0,children:$.value||$.placeholder,inputMode:$.contentType==="letter"?"text":"numeric"}},[p,s,D,S,T,A,r,n,k,N,_,W,Y,u,g])}function i7(e,n){if(e.value)switch(e.type){case"month":{if(e.contentType==="digit")return n.format(n.setMonth(n.date(),Number(e.value)-1),"month");const r=n.parse(e.value,e.format);return r?n.format(r,"month"):void 0}case"day":return e.contentType==="digit"?n.format(n.setDate(n.startOfYear(n.date()),Number(e.value)),"dayOfMonthFull"):e.value;case"weekDay":return;default:return}}function l7(e,n){if(e.value)switch(e.type){case"weekDay":return e.contentType==="letter"?void 0:Number(e.value);case"meridiem":{const r=n.parse(`01:00 ${e.value}`,`${n.formats.hours12h}:${n.formats.minutes} ${e.format}`);return r?n.getHours(r)>=12?1:0:void 0}case"day":return e.contentType==="digit-with-letter"?parseInt(e.value,10):Number(e.value);case"month":{if(e.contentType==="digit")return Number(e.value);const r=n.parse(e.value,e.format);return r?n.getMonth(r)+1:void 0}default:return e.contentType!=="letter"?Number(e.value):void 0}}const c7=e=>{const{props:n,manager:r,skipContextFieldRefAssignment:s,manager:{valueType:o,internal_useOpenPickerButtonAriaLabel:i}}=e,{internalProps:l,forwardedProps:d}=I1(n,o),u=R1({manager:r,internalProps:l,skipContextFieldRefAssignment:s}),{sectionListRef:h,onBlur:p,onClick:m,onFocus:g,onInput:y,onPaste:b,onKeyDown:w,onClear:v,clearable:I}=d,{disabled:S=!1,readOnly:T=!1,autoFocus:D=!1,focused:A,unstableFieldRef:R}=u,k=x.useRef(null),_=or(h,k),N=x.useMemo(()=>({isReady:()=>k.current!=null,getRoot:()=>k.current.getRoot(),getSectionContainer:Ee=>k.current.getSectionContainer(Ee),getSectionContent:Ee=>k.current.getSectionContent(Ee),getSectionIndexFromDOMElement:Ee=>k.current.getSectionIndexFromDOMElement(Ee)}),[k]),W=A1({manager:r,internalPropsWithDefaults:u,forwardedProps:d}),{areAllSectionsEmpty:Y,error:$,parsedSelectedSections:H,sectionOrder:J,state:X,value:K,clearValue:Z,setSelectedSections:G}=W,oe=D1({stateResponse:W}),V=i(K),[ee,Pe]=x.useState(!1);function pe(Ee=0){if(S||!k.current||ev(k)!=null)return;const He=Sf(Ee,X.sections);Pe(!0),k.current.getSectionContent(He).focus()}const Re=r7({manager:r,internalPropsWithDefaults:u,stateResponse:W,applyCharacterEditing:oe,focused:ee,setFocused:Pe,domGetters:N}),le=s7({manager:r,stateResponse:W}),re=o7({stateResponse:W,internalPropsWithDefaults:u}),je=a7({manager:r,stateResponse:W,applyCharacterEditing:oe,internalPropsWithDefaults:u,domGetters:N,focused:ee}),Oe=Ve(Ee=>{w==null||w(Ee),Re.onKeyDown(Ee)}),be=Ve(Ee=>{p==null||p(Ee),Re.onBlur(Ee)}),ie=Ve(Ee=>{g==null||g(Ee),Re.onFocus(Ee)}),ae=Ve(Ee=>{Ee.isDefaultPrevented()||(m==null||m(Ee),Re.onClick(Ee))}),se=Ve(Ee=>{b==null||b(Ee),Re.onPaste(Ee)}),me=Ve(Ee=>{y==null||y(Ee),Re.onInput(Ee)}),de=Ve((Ee,...He)=>{Ee.preventDefault(),v==null||v(Ee,...He),Z(),tv(k)?G(J.startIndex):pe(0)}),_e=x.useMemo(()=>X.sections.map((Ee,He)=>{const ue=je(Ee,He);return{container:re(He),content:je(Ee,He),before:{children:Ee.startSeparator},after:{children:Ee.endSeparator,"data-range-position":Ee.isEndFormatSeparator?ue["data-range-position"]:void 0}}}),[X.sections,re,je]);return x.useEffect(()=>{if(k.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please add the `enableAccessibleFieldDOMStructure={false}` prop to your Picker or Field component:","","<DatePicker enableAccessibleFieldDOMStructure={false} slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));D&&!S&&k.current&&k.current.getSectionContent(J.startIndex).focus()},[]),ts(()=>{if(!(!ee||!k.current)){if(H==="all")k.current.getRoot().focus();else if(typeof H=="number"){const Ee=k.current.getSectionContent(H);Ee&&Ee.focus()}}},[H,ee]),ts(()=>{xx({focused:ee,domGetters:N,stateResponse:W})}),x.useImperativeHandle(R,()=>({getSections:()=>X.sections,getActiveSectionIndex:()=>ev(k),setSelectedSections:Ee=>{if(S||!k.current)return;const He=Sf(Ee,X.sections);Pe((He==="all"?0:He)!==null),G(Ee)},focusField:pe,isFieldFocused:()=>tv(k)})),U({},d,Re,{onBlur:be,onClick:ae,onFocus:ie,onInput:me,onPaste:se,onKeyDown:Oe,onClear:de},le,{error:$,clearable:!!(I&&!Y&&!T&&!S),focused:A??ee,sectionListRef:_,enableAccessibleFieldDOMStructure:!0,elements:_e,areAllSectionsEmpty:Y,disabled:S,readOnly:T,autoFocus:D,openPickerAriaLabel:V})};function ev(e){const n=qn(document);return!n||!e.current||!e.current.getRoot().contains(n)?null:e.current.getSectionIndexFromDOMElement(n)}function tv(e){const n=qn(document);return!!e.current&&e.current.getRoot().contains(n)}const Ca=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),d7=(e,n,r)=>{let s=0,o=r?1:0;const i=[];for(let l=0;l<e.length;l+=1){const d=e[l],u=fx(d,r?"input-rtl":"input-ltr",n),h=`${d.startSeparator}${u}${d.endSeparator}`,p=Ca(h).length,m=h.length,g=Ca(u),y=o+(g===""?0:u.indexOf(g[0]))+d.startSeparator.length,b=y+g.length;i.push(U({},d,{start:s,end:s+p,startInInput:y,endInInput:b})),s+=p,o+=m}return i},u7=e=>{const n=Es(),r=Ta(),s=Ta(),{props:o,manager:i,skipContextFieldRefAssignment:l,manager:{valueType:d,internal_valueManager:u,internal_fieldValueManager:h,internal_useOpenPickerButtonAriaLabel:p}}=e,{internalProps:m,forwardedProps:g}=I1(o,d),y=R1({manager:i,internalProps:m,skipContextFieldRefAssignment:l}),{onFocus:b,onClick:w,onPaste:v,onBlur:I,onKeyDown:S,onClear:T,clearable:D,inputRef:A,placeholder:R}=g,{readOnly:k=!1,disabled:_=!1,autoFocus:N=!1,focused:W,unstableFieldRef:Y}=y,$=x.useRef(null),H=or(A,$),J=A1({manager:i,internalPropsWithDefaults:y,forwardedProps:g}),{activeSectionIndex:X,areAllSectionsEmpty:K,error:Z,localizedDigits:G,parsedSelectedSections:oe,sectionOrder:V,state:ee,value:Pe,clearValue:pe,clearActiveSection:Re,setCharacterQuery:le,setSelectedSections:re,setTempAndroidValueStr:je,updateSectionValue:Oe,updateValueFromValueStr:be,getSectionsFromValue:ie}=J,ae=D1({stateResponse:J}),se=p(Pe),me=x.useMemo(()=>d7(ee.sections,G,n),[ee.sections,G,n]);function de(){const ut=$.current.selectionStart??0;let gt;ut<=me[0].startInInput||ut>=me[me.length-1].endInInput?gt=1:gt=me.findIndex(Yt=>Yt.startInInput-Yt.startSeparator.length>ut);const _t=gt===-1?me.length-1:gt-1;re(_t)}function _e(ut=0){var gt;qn(document)!==$.current&&((gt=$.current)==null||gt.focus(),re(ut))}const Ee=Ve(ut=>{b==null||b(ut);const gt=$.current;r.start(0,()=>{!gt||gt!==$.current||X==null&&(gt.value.length&&Number(gt.selectionEnd)-Number(gt.selectionStart)===gt.value.length?re("all"):de())})}),He=Ve((ut,...gt)=>{ut.isDefaultPrevented()||(w==null||w(ut,...gt),de())}),ue=Ve(ut=>{if(v==null||v(ut),ut.preventDefault(),k||_)return;const gt=ut.clipboardData.getData("text");if(typeof oe=="number"){const _t=ee.sections[oe],Yt=/^[a-zA-Z]+$/.test(gt),En=/^[0-9]+$/.test(gt),pn=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(gt);if(_t.contentType==="letter"&&Yt||_t.contentType==="digit"&&En||_t.contentType==="digit-with-letter"&&pn){le(null),Oe({section:_t,newSectionValue:gt,shouldGoToNextSection:!0});return}if(Yt||En)return}le(null),be(gt)}),Se=Ve(ut=>{I==null||I(ut),re(null)}),q=Ve(ut=>{if(k)return;const gt=ut.target.value;if(gt===""){pe();return}const _t=ut.nativeEvent.data,Yt=_t&&_t.length>1,En=Yt?_t:gt,pn=Ca(En);if(oe==="all"&&re(X),X==null||Yt){be(Yt?_t:pn);return}let Jn;if(oe==="all"&&pn.length===1)Jn=pn;else{const yn=Ca(h.getV6InputValueFromSections(me,G,n));let Pt=-1,An=-1;for(let ar=0;ar<yn.length;ar+=1)Pt===-1&&yn[ar]!==pn[ar]&&(Pt=ar),An===-1&&yn[yn.length-ar-1]!==pn[pn.length-ar-1]&&(An=ar);const Vn=me[X];if(Pt<Vn.start||yn.length-An-1>Vn.end)return;const Po=pn.length-yn.length+Vn.end-Ca(Vn.endSeparator||"").length;Jn=pn.slice(Vn.start+Ca(Vn.startSeparator||"").length,Po)}if(Jn.length===0){u9()&&je(En),Re();return}ae({keyPressed:Jn,sectionIndex:X})}),L=Ve((ut,...gt)=>{ut.preventDefault(),T==null||T(ut,...gt),pe(),nv($)?re(V.startIndex):_e(0)}),ke=_1({manager:i,internalPropsWithDefaults:y,stateResponse:J}),Ue=Ve(ut=>{S==null||S(ut),ke(ut)}),dn=x.useMemo(()=>R!==void 0?R:h.getV6InputValueFromSections(ie(u.emptyValue),G,n),[R,h,ie,u.emptyValue,G,n]),Ft=x.useMemo(()=>ee.tempValueStrAndroid??h.getV6InputValueFromSections(ee.sections,G,n),[ee.sections,h,ee.tempValueStrAndroid,G,n]);x.useEffect(()=>{$.current&&$.current===qn(document)&&re("all")},[]),ts(()=>{function ut(){if(!$.current)return;if(oe==null){$.current.scrollLeft&&($.current.scrollLeft=0);return}if($.current!==qn(document))return;const gt=$.current.scrollTop;if(oe==="all")$.current.select();else{const _t=me[oe],Yt=_t.type==="empty"?_t.startInInput-_t.startSeparator.length:_t.startInInput,En=_t.type==="empty"?_t.endInInput+_t.endSeparator.length:_t.endInInput;(Yt!==$.current.selectionStart||En!==$.current.selectionEnd)&&$.current===qn(document)&&$.current.setSelectionRange(Yt,En),s.start(0,()=>{$.current&&$.current===qn(document)&&$.current.selectionStart===$.current.selectionEnd&&($.current.selectionStart!==Yt||$.current.selectionEnd!==En)&&ut()})}$.current.scrollTop=gt}ut()});const Rt=x.useMemo(()=>X==null||ee.sections[X].contentType==="letter"?"text":"numeric",[X,ee.sections]),Ln=!($.current&&$.current===qn(document))&&K;return x.useImperativeHandle(Y,()=>({getSections:()=>ee.sections,getActiveSectionIndex:()=>{const ut=$.current.selectionStart??0,gt=$.current.selectionEnd??0;if(ut===0&&gt===0)return null;const _t=ut<=me[0].startInInput?1:me.findIndex(Yt=>Yt.startInInput-Yt.startSeparator.length>ut);return _t===-1?me.length-1:_t-1},setSelectedSections:ut=>re(ut),focusField:_e,isFieldFocused:()=>nv($)})),U({},g,{error:Z,clearable:!!(D&&!K&&!k&&!_),onBlur:Se,onClick:He,onFocus:Ee,onPaste:ue,onKeyDown:Ue,onClear:L,inputRef:H,enableAccessibleFieldDOMStructure:!1,placeholder:dn,inputMode:Rt,autoComplete:"off",value:Ln?"":Ft,onChange:q,focused:W,disabled:_,readOnly:k,autoFocus:N,openPickerAriaLabel:se})};function nv(e){return e.current===qn(document)}const h7=e=>{const n=i1();return(e.props.enableAccessibleFieldDOMStructure??(n==null?void 0:n.enableAccessibleFieldDOMStructure)??!0?c7:u7)(e)};function gx(e){const n=Vt(),r=s1();return x.useMemo(()=>({disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,minDate:ad(n,e.minDate,r.minDate),maxDate:ad(n,e.maxDate,r.maxDate)}),[e.minDate,e.maxDate,e.disableFuture,e.disablePast,n,r])}function f7(e={}){const{enableAccessibleFieldDOMStructure:n=!0}=e;return x.useMemo(()=>({valueType:"date-time",validator:Gd,internal_valueManager:pr,internal_fieldValueManager:p9,internal_enableAccessibleFieldDOMStructure:n,internal_useApplyDefaultValuesToFieldInternalProps:m7,internal_useOpenPickerButtonAriaLabel:p7}),[n])}function p7(e){const n=Vt(),r=gs();return x.useMemo(()=>{const s=n.isValid(e)?n.format(e,"fullDate"):null;return r.openDatePickerDialogue(s)},[e,r,n])}function m7(e){const n=Vt(),r=k1(e),s=x.useMemo(()=>e.ampm??n.is12HourCycleInCurrentLocale(),[e.ampm,n]);return x.useMemo(()=>U({},e,r,{format:e.format??(s?n.formats.keyboardDateTime12h:n.formats.keyboardDateTime24h)}),[e,r,s,n])}function k1(e){const n=Vt(),r=s1();return x.useMemo(()=>({disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,disableIgnoringDatePartForTimeValidation:!!e.minDateTime||!!e.maxDateTime||!!e.disableFuture||!!e.disablePast,minDate:ad(n,e.minDateTime??e.minDate,r.minDate),maxDate:ad(n,e.maxDateTime??e.maxDate,r.maxDate),minTime:e.minDateTime??e.minTime,maxTime:e.maxDateTime??e.maxTime}),[e.minDateTime,e.maxDateTime,e.minTime,e.maxTime,e.minDate,e.maxDate,e.disableFuture,e.disablePast,n,r])}function bx(e){const{ownerState:n}=Tn(),r=Es();return x.useMemo(()=>U({},n,{isFieldDisabled:e.disabled??!1,isFieldReadOnly:e.readOnly??!1,isFieldRequired:e.required??!1,fieldDirection:r?"rtl":"ltr"}),[n,e.disabled,e.readOnly,e.required,r])}function x7(e){return cn("MuiPickersTextField",e)}fn("MuiPickersTextField",["root","focused","disabled","error","required"]);function g7(e){return cn("MuiPickersInputBase",e)}const Ea=fn("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input","activeBar"]);function b7(e){return cn("MuiPickersSectionList",e)}const Ei=fn("MuiPickersSectionList",["root","section","sectionContent"]),y7=["slots","slotProps","elements","sectionListRef","classes"],O1=Me("div",{name:"MuiPickersSectionList",slot:"Root"})({direction:"ltr /*! @noflip */",outline:"none"}),M1=Me("span",{name:"MuiPickersSectionList",slot:"Section"})({}),N1=Me("span",{name:"MuiPickersSectionList",slot:"SectionSeparator"})({whiteSpace:"pre"}),L1=Me("span",{name:"MuiPickersSectionList",slot:"SectionContent"})({outline:"none"}),v7=e=>Jt({root:["root"],section:["section"],sectionContent:["sectionContent"]},b7,e);function j7(e){const{slots:n,slotProps:r,element:s,classes:o}=e,{ownerState:i}=Tn(),l=(n==null?void 0:n.section)??M1,d=Nt({elementType:l,externalSlotProps:r==null?void 0:r.section,externalForwardedProps:s.container,className:o.section,ownerState:i}),u=(n==null?void 0:n.sectionContent)??L1,h=Nt({elementType:u,externalSlotProps:r==null?void 0:r.sectionContent,externalForwardedProps:s.content,additionalProps:{suppressContentEditableWarning:!0},className:o.sectionContent,ownerState:i}),p=(n==null?void 0:n.sectionSeparator)??N1,m=Nt({elementType:p,externalSlotProps:r==null?void 0:r.sectionSeparator,externalForwardedProps:s.before,ownerState:U({},i,{separatorPosition:"before"})}),g=Nt({elementType:p,externalSlotProps:r==null?void 0:r.sectionSeparator,externalForwardedProps:s.after,ownerState:U({},i,{separatorPosition:"after"})});return t.jsxs(l,U({},d,{children:[t.jsx(p,U({},m)),t.jsx(u,U({},h)),t.jsx(p,U({},g))]}))}const w7=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersSectionList"}),{slots:o,slotProps:i,elements:l,sectionListRef:d,classes:u}=s,h=at(s,y7),p=v7(u),{ownerState:m}=Tn(),g=x.useRef(null),y=or(r,g),b=I=>{if(!g.current)throw new Error(`MUI X: Cannot call sectionListRef.${I} before the mount of the component.`);return g.current};x.useImperativeHandle(d,()=>({getRoot(){return b("getRoot")},getSectionContainer(I){return b("getSectionContainer").querySelector(`.${Ei.section}[data-sectionindex="${I}"]`)},getSectionContent(I){return b("getSectionContent").querySelector(`.${Ei.section}[data-sectionindex="${I}"] .${Ei.sectionContent}`)},getSectionIndexFromDOMElement(I){const S=b("getSectionIndexFromDOMElement");if(I==null||!S.contains(I))return null;let T=null;return I.classList.contains(Ei.section)?T=I:I.classList.contains(Ei.sectionContent)&&(T=I.parentElement),T==null?null:Number(T.dataset.sectionindex)}}));const w=(o==null?void 0:o.root)??O1,v=Nt({elementType:w,externalSlotProps:i==null?void 0:i.root,externalForwardedProps:h,additionalProps:{ref:y,suppressContentEditableWarning:!0},className:p.root,ownerState:m});return t.jsx(w,U({},v,{children:v.contentEditable?l.map(({content:I,before:S,after:T})=>`${S.children}${I.children}${T.children}`).join(""):t.jsx(x.Fragment,{children:l.map((I,S)=>t.jsx(j7,{slots:o,slotProps:i,element:I,classes:p},S))})}))}),$1=x.createContext(null),Yd=()=>{const e=x.useContext($1);if(e==null)throw new Error(["MUI X: The `usePickerTextFieldOwnerState` can only be called in components that are used inside a PickerTextField component"].join(`
`));return e},S7=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef","onFocus","onBlur","classes","ownerState"],C7=e=>Math.round(e*1e5)/1e5,qd=Me("div",{name:"MuiPickersInputBase",slot:"Root"})(({theme:e})=>U({},e.typography.body1,{color:(e.vars||e).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${C7(.15/16)}em`,variants:[{props:{isInputInFullWidth:!0},style:{width:"100%"}}]})),yx=Me(O1,{name:"MuiPickersInputBase",slot:"SectionsContainer"})(({theme:e})=>({padding:"4px 0 5px",fontFamily:e.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{fieldDirection:"rtl"},style:{textAlign:"right /*! @noflip */"}},{props:{inputSize:"small"},style:{paddingTop:1}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0},style:{color:"currentColor",opacity:0}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!1},style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}}]})),P7=Me(M1,{name:"MuiPickersInputBase",slot:"Section"})(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"inline-block",whiteSpace:"nowrap"})),I7=Me(L1,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(e,n)=>n.content})(({theme:e})=>({fontFamily:e.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),D7=Me(N1,{name:"MuiPickersInputBase",slot:"Separator"})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),T7=Me("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(e,n)=>n.hiddenInput})(U({},g8)),E7=Me("div",{name:"MuiPickersInputBase",slot:"ActiveBar"})(({theme:e,ownerState:n})=>({display:"none",position:"absolute",height:2,bottom:2,borderTopLeftRadius:2,borderTopRightRadius:2,transition:e.transitions.create(["width","left"],{duration:e.transitions.duration.shortest}),backgroundColor:(e.vars||e).palette.primary.main,'[data-active-range-position="start"] &, [data-active-range-position="end"] &':{display:"block"},'[data-active-range-position="start"] &':{left:n.sectionOffsets[0]},'[data-active-range-position="end"] &':{left:n.sectionOffsets[1]}})),A7=(e,n)=>{const{isFieldFocused:r,isFieldDisabled:s,isFieldReadOnly:o,hasFieldError:i,inputSize:l,isInputInFullWidth:d,inputColor:u,hasStartAdornment:h,hasEndAdornment:p}=n,m={root:["root",r&&!s&&"focused",s&&"disabled",o&&"readOnly",i&&"error",d&&"fullWidth",`color${u8(u)}`,l==="small"&&"inputSizeSmall",h&&"adornedStart",p&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"],activeBar:["activeBar"]};return Jt(m,g7,e)};function rv(e,n,r,s){var o;if(e.content.id){const i=(o=n.current)==null?void 0:o.querySelectorAll(`[data-sectionindex="${r}"] [data-range-position="${s}"]`);if(i)return Array.from(i).reduce((l,d)=>l+d.offsetWidth,0)}return 0}function R7(e,n){var o,i,l,d,u;let r=0;if(((o=n.current)==null?void 0:o.getAttribute("data-active-range-position"))==="end")for(let h=e.length-1;h>=e.length/2;h-=1)r+=rv(e[h],n,h,"end");else for(let h=0;h<e.length/2;h+=1)r+=rv(e[h],n,h,"start");return{activeBarWidth:r,sectionOffsets:[((l=(i=n.current)==null?void 0:i.querySelector('[data-sectionindex="0"]'))==null?void 0:l.offsetLeft)||0,((u=(d=n.current)==null?void 0:d.querySelector(`[data-sectionindex="${e.length/2}"]`))==null?void 0:u.offsetLeft)||0]}}const vx=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersInputBase"}),{elements:o,areAllSectionsEmpty:i,value:l,onChange:d,id:u,endAdornment:h,startAdornment:p,renderSuffix:m,slots:g,slotProps:y,contentEditable:b,tabIndex:w,onInput:v,onPaste:I,onKeyDown:S,name:T,readOnly:D,inputProps:A,inputRef:R,sectionListRef:k,onFocus:_,onBlur:N,classes:W,ownerState:Y}=s,$=at(s,S7),H=Yd(),J=x.useRef(null),X=x.useRef(null),K=x.useRef([]),Z=or(r,J),G=or(A==null?void 0:A.ref,R),oe=jv();if(!oe)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const V=Y??H,ee=ie=>{var ae;(ae=oe.onFocus)==null||ae.call(oe,ie),_==null||_(ie)},Pe=ie=>{ee(ie)},pe=ie=>{var ae,se;if(S==null||S(ie),ie.key==="Enter"&&!ie.defaultMuiPrevented){if((ae=J.current)!=null&&ae.dataset.multiInput)return;const me=(se=J.current)==null?void 0:se.closest("form"),de=me==null?void 0:me.querySelector('[type="submit"]');if(!me||!de)return;ie.preventDefault(),me.requestSubmit(de)}},Re=ie=>{var ae;(ae=oe.onBlur)==null||ae.call(oe,ie),N==null||N(ie)};x.useEffect(()=>{oe&&oe.setAdornedStart(!!p)},[oe,p]),x.useEffect(()=>{oe&&(i?oe.onEmpty():oe.onFilled())},[oe,i]);const le=A7(W,V),re=(g==null?void 0:g.root)||qd,je=Nt({elementType:re,externalSlotProps:y==null?void 0:y.root,externalForwardedProps:$,additionalProps:{"aria-invalid":oe.error,ref:Z},className:le.root,ownerState:V}),Oe=(g==null?void 0:g.input)||yx,be=o.some(ie=>ie.content["data-range-position"]!==void 0);return x.useEffect(()=>{if(!be||!V.isPickerOpen)return;const{activeBarWidth:ie,sectionOffsets:ae}=R7(o,J);K.current=[ae[0],ae[1]],X.current&&(X.current.style.width=`${ie}px`)},[o,be,V.isPickerOpen]),t.jsxs(re,U({},je,{children:[p,t.jsx(w7,{sectionListRef:k,elements:o,contentEditable:b,tabIndex:w,className:le.sectionsContainer,onFocus:ee,onBlur:Re,onInput:v,onPaste:I,onKeyDown:pe,slots:{root:Oe,section:P7,sectionContent:I7,sectionSeparator:D7},slotProps:{root:U({},y==null?void 0:y.input,{ownerState:V}),sectionContent:{className:Ea.sectionContent},sectionSeparator:({separatorPosition:ie})=>({className:ie==="before"?Ea.sectionBefore:Ea.sectionAfter})}}),h,m?m(U({},oe)):null,t.jsx(T7,U({name:T,className:le.input,value:l,onChange:d,id:u,"aria-hidden":"true",tabIndex:-1,readOnly:D,required:oe.required,disabled:oe.disabled,onFocus:Pe},A,{ref:G})),be&&t.jsx(E7,{className:le.activeBar,ref:X,ownerState:{sectionOffsets:K.current}})]}))});function _7(e){return cn("MuiPickersOutlinedInput",e)}const is=U({},Ea,fn("MuiPickersOutlinedInput",["root","notchedOutline","input"])),k7=["children","className","label","notched","shrink"],O7=Me("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline"})(({theme:e})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}}),sv=Me("span")(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit"})),M7=Me("legend",{shouldForwardProp:e=>Ks(e)&&e!=="notched"})(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{inputHasLabel:!1},style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:{inputHasLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{inputHasLabel:!0,notched:!0},style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]}));function N7(e){const{className:n,label:r,notched:s}=e,o=at(e,k7),i=Yd();return t.jsx(O7,U({"aria-hidden":!0,className:n},o,{ownerState:i,children:t.jsx(M7,{ownerState:i,notched:s,children:r?t.jsx(sv,{children:r}):t.jsx(sv,{className:"notranslate",children:""})})}))}const L7=["label","autoFocus","ownerState","classes","notched"],$7=Me(qd,{name:"MuiPickersOutlinedInput",slot:"Root"})(({theme:e})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${is.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${is.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${is.focused} .${is.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${is.disabled}`]:{[`& .${is.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled},"*":{color:(e.vars||e).palette.action.disabled}},[`&.${is.error} .${is.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},variants:Object.keys((e.vars??e).palette).filter(r=>{var s;return((s=(e.vars??e).palette[r])==null?void 0:s.main)??!1}).map(r=>({props:{inputColor:r},style:{[`&.${is.focused}:not(.${is.error}) .${is.notchedOutline}`]:{borderColor:(e.vars||e).palette[r].main}}}))}}),F7=Me(yx,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer"})({padding:"16.5px 0",variants:[{props:{inputSize:"small"},style:{padding:"8.5px 0"}}]}),W7=e=>{const r=Jt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},_7,e);return U({},e,r)},F1=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersOutlinedInput"}),{label:o,classes:i,notched:l}=s,d=at(s,L7),u=jv(),h=W7(i);return t.jsx(vx,U({slots:{root:$7,input:F7},renderSuffix:p=>t.jsx(N7,{shrink:!!(l||p.adornedStart||p.focused||p.filled),notched:!!(l||p.adornedStart||p.focused||p.filled),className:h.notchedOutline,label:o!=null&&o!==""&&(u!=null&&u.required)?t.jsxs(x.Fragment,{children:[o,"","*"]}):o})},d,{label:o,classes:h,ref:r}))});F1.muiName="Input";function B7(e){return cn("MuiPickersFilledInput",e)}const Fo=U({},Ea,fn("MuiPickersFilledInput",["root","underline","input"])),V7=["label","autoFocus","disableUnderline","hiddenLabel","classes"],U7=Me(qd,{name:"MuiPickersFilledInput",slot:"Root",shouldForwardProp:e=>wv(e)&&e!=="disableUnderline"})(({theme:e})=>{const n=e.palette.mode==="light",r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s}},[`&.${Fo.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s},[`&.${Fo.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:i},variants:[...Object.keys((e.vars??e).palette).filter(l=>(e.vars??e).palette[l].main).map(l=>{var d;return{props:{inputColor:l,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(d=(e.vars||e).palette[l])==null?void 0:d.main}`}}}}),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Fo.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Fo.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Fo.disabled}, .${Fo.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Fo.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:{hasStartAdornment:!0},style:{paddingLeft:12}},{props:{hasEndAdornment:!0},style:{paddingRight:12}}]}}),z7=Me(yx,{name:"MuiPickersFilledInput",slot:"sectionsContainer",shouldForwardProp:e=>wv(e)&&e!=="hiddenLabel"})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{inputSize:"small"},style:{paddingTop:21,paddingBottom:4}},{props:{hasStartAdornment:!0},style:{paddingLeft:0}},{props:{hasEndAdornment:!0},style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,inputSize:"small"},style:{paddingTop:8,paddingBottom:9}}]}),H7=(e,n)=>{const{inputHasUnderline:r}=n,o=Jt({root:["root",r&&"underline"],input:["input"]},B7,e);return U({},e,o)},W1=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersFilledInput"}),{label:o,disableUnderline:i=!1,hiddenLabel:l=!1,classes:d}=s,u=at(s,V7),h=Yd(),p=U({},h,{inputHasUnderline:!i}),m=H7(d,p);return t.jsx(vx,U({slots:{root:U7,input:z7},slotProps:{root:{disableUnderline:i},input:{hiddenLabel:l}}},u,{label:o,classes:m,ref:r,ownerState:p}))});W1.muiName="Input";function G7(e){return cn("MuiPickersFilledInput",e)}const Ai=U({},Ea,fn("MuiPickersInput",["root","underline","input"])),Y7=["label","autoFocus","disableUnderline","ownerState","classes"],q7=Me(qd,{name:"MuiPickersInput",slot:"Root",shouldForwardProp:e=>Ks(e)&&e!=="disableUnderline"})(({theme:e})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((e.vars??e).palette).filter(s=>(e.vars??e).palette[s].main).map(s=>({props:{inputColor:s},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[s].main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ai.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ai.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ai.disabled}, .${Ai.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Ai.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),K7=(e,n)=>{const{inputHasUnderline:r}=n,o=Jt({root:["root",!r&&"underline"],input:["input"]},G7,e);return U({},e,o)},B1=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersInput"}),{label:o,disableUnderline:i=!1,classes:l}=s,d=at(s,Y7),u=Yd(),h=U({},u,{inputHasUnderline:!i}),p=K7(l,h);return t.jsx(vx,U({slots:{root:q7},slotProps:{root:{disableUnderline:i}}},d,{label:o,classes:p,ref:r}))});B1.muiName="Input";const X7=["onFocus","onBlur","className","classes","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps","data-active-range-position"],J7={standard:B1,filled:W1,outlined:F1},Q7=Me(ht,{name:"MuiPickersTextField",slot:"Root"})({}),Z7=(e,n)=>{const{isFieldFocused:r,isFieldDisabled:s,isFieldRequired:o}=n;return Jt({root:["root",r&&!s&&"focused",s&&"disabled",o&&"required"]},x7,e)},V1=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersTextField"}),{onFocus:o,onBlur:i,className:l,classes:d,color:u="primary",disabled:h=!1,error:p=!1,variant:m="outlined",required:g=!1,InputProps:y,inputProps:b,inputRef:w,sectionListRef:v,elements:I,areAllSectionsEmpty:S,onClick:T,onKeyDown:D,onKeyUp:A,onPaste:R,onInput:k,endAdornment:_,startAdornment:N,tabIndex:W,contentEditable:Y,focused:$,value:H,onChange:J,fullWidth:X,id:K,name:Z,helperText:G,FormHelperTextProps:oe,label:V,InputLabelProps:ee,"data-active-range-position":Pe}=s,pe=at(s,X7),Re=x.useRef(null),le=or(r,Re),re=Bd(K),je=G&&re?`${re}-helper-text`:void 0,Oe=V&&re?`${re}-label`:void 0,be=bx({disabled:s.disabled,required:s.required,readOnly:y==null?void 0:y.readOnly}),ie=x.useMemo(()=>U({},be,{isFieldValueEmpty:S,isFieldFocused:$??!1,hasFieldError:p??!1,inputSize:s.size??"medium",inputColor:u??"primary",isInputInFullWidth:X??!1,hasStartAdornment:!!(N??(y==null?void 0:y.startAdornment)),hasEndAdornment:!!(_??(y==null?void 0:y.endAdornment)),inputHasLabel:!!V}),[be,S,$,p,s.size,u,X,N,_,y==null?void 0:y.startAdornment,y==null?void 0:y.endAdornment,V]),ae=Z7(d,ie),se=J7[m],me={};return m==="outlined"&&(ee&&typeof ee.shrink<"u"&&(me.notched=ee.shrink),me.label=V),t.jsx($1.Provider,{value:ie,children:t.jsxs(Q7,U({className:nn(ae.root,l),ref:le,focused:$,disabled:h,variant:m,error:p,color:u,fullWidth:X,required:g,ownerState:ie},pe,{children:[V!=null&&V!==""&&t.jsx(St,U({htmlFor:re,id:Oe},ee,{children:V})),t.jsx(se,U({elements:I,areAllSectionsEmpty:S,onClick:T,onKeyDown:D,onKeyUp:A,onInput:k,onPaste:R,onFocus:o,onBlur:i,endAdornment:_,startAdornment:N,tabIndex:W,contentEditable:Y,value:H,onChange:J,id:re,fullWidth:X,inputProps:b,inputRef:w,sectionListRef:v,label:V,name:Z,role:"group","aria-labelledby":Oe,"aria-describedby":je,"aria-live":je?"polite":void 0,"data-active-range-position":Pe},me,y)),G&&t.jsx(AR,U({id:je},oe,{children:G}))]}))})}),eG=["enableAccessibleFieldDOMStructure"],tG=["InputProps","readOnly","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],nG=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],rG=["ownerState"],sG=["ownerState"],oG=["ownerState"],aG=["ownerState"],iG=["InputProps","inputProps"],lG=e=>{let{enableAccessibleFieldDOMStructure:n}=e,r=at(e,eG);if(n){const{InputProps:v,readOnly:I,onClear:S,clearable:T,clearButtonPosition:D,openPickerButtonPosition:A,openPickerAriaLabel:R}=r,k=at(r,tG);return{clearable:T,onClear:S,clearButtonPosition:D,openPickerButtonPosition:A,openPickerAriaLabel:R,textFieldProps:U({},k,{InputProps:U({},v??{},{readOnly:I})})}}const{onPaste:s,onKeyDown:o,inputMode:i,readOnly:l,InputProps:d,inputProps:u,inputRef:h,onClear:p,clearable:m,clearButtonPosition:g,openPickerButtonPosition:y,openPickerAriaLabel:b}=r,w=at(r,nG);return{clearable:m,onClear:p,clearButtonPosition:g,openPickerButtonPosition:y,openPickerAriaLabel:b,textFieldProps:U({},w,{InputProps:U({},d??{},{readOnly:l}),inputProps:U({},u??{},{inputMode:i,onPaste:s,onKeyDown:o,ref:h})})}},jx=x.createContext({slots:{},slotProps:{},inputRef:void 0});function cG(e){var oe,V;const{slots:n,slotProps:r,fieldResponse:s,defaultOpenPickerIcon:o}=e,i=gs(),l=px(),d=x.useContext(jx),{textFieldProps:u,onClear:h,clearable:p,openPickerAriaLabel:m,clearButtonPosition:g="end",openPickerButtonPosition:y="end"}=lG(s),b=bx(u),w=Ve(ee=>{ee.preventDefault(),l==null||l.setOpen(Pe=>!Pe)}),v=l?l.triggerStatus:"hidden",I=p?g:null,S=v!=="hidden"?y:null,T=(n==null?void 0:n.textField)??d.slots.textField??(s.enableAccessibleFieldDOMStructure===!1?tt:V1),D=(n==null?void 0:n.inputAdornment)??d.slots.inputAdornment??es,A=Nt({elementType:D,externalSlotProps:jc(d.slotProps.inputAdornment,r==null?void 0:r.inputAdornment),additionalProps:{position:"start"},ownerState:U({},b,{position:"start"})}),R=at(A,rG),k=Nt({elementType:D,externalSlotProps:r==null?void 0:r.inputAdornment,additionalProps:{position:"end"},ownerState:U({},b,{position:"end"})}),_=at(k,sG),N=d.slots.openPickerButton??Le,W=Nt({elementType:N,externalSlotProps:d.slotProps.openPickerButton,additionalProps:{disabled:v==="disabled",onClick:w,"aria-label":m,edge:u.variant!=="standard"?S:!1},ownerState:b}),Y=at(W,oG),$=d.slots.openPickerIcon??o,H=Nt({elementType:$,externalSlotProps:d.slotProps.openPickerIcon,ownerState:b}),J=(n==null?void 0:n.clearButton)??d.slots.clearButton??Le,X=Nt({elementType:J,externalSlotProps:jc(d.slotProps.clearButton,r==null?void 0:r.clearButton),className:"clearButton",additionalProps:{title:i.fieldClearLabel,tabIndex:-1,onClick:h,disabled:s.disabled||s.readOnly,edge:u.variant!=="standard"&&I!==S?I:!1},ownerState:b}),K=at(X,aG),Z=(n==null?void 0:n.clearIcon)??d.slots.clearIcon??O8,G=Nt({elementType:Z,externalSlotProps:jc(d.slotProps.clearIcon,r==null?void 0:r.clearIcon),additionalProps:{fontSize:"small"},ownerState:b});return u.ref=or(u.ref,l==null?void 0:l.rootRef),u.InputProps||(u.InputProps={}),l&&(u.InputProps.ref=l.triggerRef),!((oe=u.InputProps)!=null&&oe.startAdornment)&&(I==="start"||S==="start")&&(u.InputProps.startAdornment=t.jsxs(D,U({},R,{children:[S==="start"&&t.jsx(N,U({},Y,{children:t.jsx($,U({},H))})),I==="start"&&t.jsx(J,U({},K,{children:t.jsx(Z,U({},G))}))]}))),!((V=u.InputProps)!=null&&V.endAdornment)&&(I==="end"||S==="end")&&(u.InputProps.endAdornment=t.jsxs(D,U({},_,{children:[I==="end"&&t.jsx(J,U({},K,{children:t.jsx(Z,U({},G))})),S==="end"&&t.jsx(N,U({},Y,{children:t.jsx($,U({},H))}))]}))),I!=null&&(u.sx=[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(u.sx)?u.sx:[u.sx]]),t.jsx(T,U({},u))}function jc(e,n){return e?n?r=>U({},Zi(n,r),Zi(e,r)):e:n}function dG(e){const{ref:n,externalForwardedProps:r,slotProps:s}=e,o=x.useContext(jx),i=px(),l=bx(r),{InputProps:d,inputProps:u}=r,h=at(r,iG),p=Nt({elementType:V1,externalSlotProps:jc(o.slotProps.textField,s==null?void 0:s.textField),externalForwardedProps:h,additionalProps:{ref:n,sx:i==null?void 0:i.rootSx,label:i==null?void 0:i.label,name:i==null?void 0:i.name,className:i==null?void 0:i.rootClassName,inputRef:o.inputRef},ownerState:l});return p.inputProps=U({},u,p.inputProps),p.InputProps=U({},d,p.InputProps),p}function U1(e){const{slots:n={},slotProps:r={},inputRef:s,children:o}=e,i=x.useMemo(()=>({inputRef:s,slots:{openPickerButton:n.openPickerButton,openPickerIcon:n.openPickerIcon,textField:n.textField,inputAdornment:n.inputAdornment,clearIcon:n.clearIcon,clearButton:n.clearButton},slotProps:{openPickerButton:r.openPickerButton,openPickerIcon:r.openPickerIcon,textField:r.textField,inputAdornment:r.inputAdornment,clearIcon:r.clearIcon,clearButton:r.clearButton}}),[s,n.openPickerButton,n.openPickerIcon,n.textField,n.inputAdornment,n.clearIcon,n.clearButton,r.openPickerButton,r.openPickerIcon,r.textField,r.inputAdornment,r.clearIcon,r.clearButton]);return t.jsx(jx.Provider,{value:i,children:o})}const uG=e=>{const n=f7(e);return h7({manager:n,props:e})},hG=["slots","slotProps"],z1=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiDateTimeField"}),{slots:o,slotProps:i}=s,l=at(s,hG),d=dG({slotProps:i,ref:r,externalForwardedProps:l}),u=uG(d);return t.jsx(cG,{slots:o,slotProps:i,fieldResponse:u,defaultOpenPickerIcon:R8})}),H1=({shouldDisableDate:e,shouldDisableMonth:n,shouldDisableYear:r,minDate:s,maxDate:o,disableFuture:i,disablePast:l,timezone:d})=>{const u=ta();return x.useCallback(h=>mx({adapter:u,value:h,timezone:d,props:{shouldDisableDate:e,shouldDisableMonth:n,shouldDisableYear:r,minDate:s,maxDate:o,disableFuture:i,disablePast:l}})!==null,[u,e,n,r,s,o,i,l,d])},fG=(e,n)=>(r,s)=>{switch(s.type){case"setVisibleDate":return U({},r,{slideDirection:s.direction,currentMonth:s.month,isMonthSwitchingAnimating:!n.isSameMonth(s.month,r.currentMonth)&&!e&&!s.skipAnimation,focusedDay:s.focusedDay});case"changeMonthTimezone":{const o=s.newTimezone;if(n.getTimezone(r.currentMonth)===o)return r;let i=n.setTimezone(r.currentMonth,o);return n.getMonth(i)!==n.getMonth(r.currentMonth)&&(i=n.setMonth(i,n.getMonth(r.currentMonth))),U({},r,{currentMonth:i})}case"finishMonthSwitchingAnimation":return U({},r,{isMonthSwitchingAnimating:!1});default:throw new Error("missing support")}},pG=e=>{const{value:n,referenceDate:r,disableFuture:s,disablePast:o,maxDate:i,minDate:l,onMonthChange:d,onYearChange:u,reduceAnimations:h,shouldDisableDate:p,timezone:m,getCurrentMonthFromVisibleDate:g}=e,y=Vt(),b=x.useRef(fG(!!h,y)).current,w=x.useMemo(()=>pr.getInitialReferenceValue({value:n,utils:y,timezone:m,props:e,referenceDate:r,granularity:ds.day}),[r,m]),[v,I]=x.useReducer(b,{isMonthSwitchingAnimating:!1,focusedDay:w,currentMonth:y.startOfMonth(w),slideDirection:"left"}),S=H1({shouldDisableDate:p,minDate:l,maxDate:i,disableFuture:s,disablePast:o,timezone:m});x.useEffect(()=>{I({type:"changeMonthTimezone",newTimezone:y.getTimezone(w)})},[w,y]);const T=Ve(({target:A,reason:R})=>{if(R==="cell-interaction"&&v.focusedDay!=null&&y.isSameDay(A,v.focusedDay))return;const k=R==="cell-interaction";let _,N;if(R==="cell-interaction")_=g(A,v.currentMonth),N=A;else if(_=y.isSameMonth(A,v.currentMonth)?v.currentMonth:y.startOfMonth(A),N=A,S(N)){const $=y.startOfMonth(A),H=y.endOfMonth(A);N=nl({utils:y,date:N,minDate:y.isBefore(l,$)?$:l,maxDate:y.isAfter(i,H)?H:i,disablePast:o,disableFuture:s,isDateDisabled:S,timezone:m})}const W=!y.isSameMonth(v.currentMonth,_),Y=!y.isSameYear(v.currentMonth,_);W&&(d==null||d(_)),Y&&(u==null||u(y.startOfYear(_))),I({type:"setVisibleDate",month:_,direction:y.isAfterDay(_,v.currentMonth)?"left":"right",focusedDay:v.focusedDay!=null&&N!=null&&y.isSameDay(N,v.focusedDay)?v.focusedDay:N,skipAnimation:k})}),D=x.useCallback(()=>{I({type:"finishMonthSwitchingAnimation"})},[]);return{referenceDate:w,calendarState:v,setVisibleDate:T,isDateDisabled:S,onMonthSwitchingAnimationEnd:D}},mG=e=>cn("MuiPickersFadeTransitionGroup",e);fn("MuiPickersFadeTransitionGroup",["root"]);const xG=["children"],gG=e=>Jt({root:["root"]},mG,e),bG=Me(Sv,{name:"MuiPickersFadeTransitionGroup",slot:"Root"})({display:"block",position:"relative"});function G1(e){const n=Gt({props:e,name:"MuiPickersFadeTransitionGroup"}),{className:r,reduceAnimations:s,transKey:o,classes:i}=n,{children:l}=n,d=at(n,xG),u=gG(i),h=ln();return s?l:t.jsx(bG,{className:nn(u.root,r),ownerState:d,children:t.jsx(hd,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:h.transitions.duration.enteringScreen,enter:h.transitions.duration.enteringScreen,exit:0},children:l},o)})}const yG=e=>cn("MuiPickersSlideTransition",e),Xr=fn("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),vG=["children","className","reduceAnimations","slideDirection","transKey","classes"],jG=(e,n)=>{const{slideDirection:r}=n,s={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${r}`],exitActive:[`slideExitActiveLeft-${r}`]};return Jt(s,yG,e)},wG=Me(Sv,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,n)=>[n.root,{[`.${Xr["slideEnter-left"]}`]:n["slideEnter-left"]},{[`.${Xr["slideEnter-right"]}`]:n["slideEnter-right"]},{[`.${Xr.slideEnterActive}`]:n.slideEnterActive},{[`.${Xr.slideExit}`]:n.slideExit},{[`.${Xr["slideExitActiveLeft-left"]}`]:n["slideExitActiveLeft-left"]},{[`.${Xr["slideExitActiveLeft-right"]}`]:n["slideExitActiveLeft-right"]}]})(({theme:e})=>{const n=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Xr["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Xr["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Xr.slideEnterActive}`]:{transform:"translate(0%)",transition:n},[`& .${Xr.slideExit}`]:{transform:"translate(0%)"},[`& .${Xr["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:n,zIndex:0},[`& .${Xr["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:n,zIndex:0}}});function SG(e){const n=Gt({props:e,name:"MuiPickersSlideTransition"}),{children:r,className:s,reduceAnimations:o,slideDirection:i,transKey:l,classes:d}=n,u=at(n,vG),{ownerState:h}=Tn(),p=U({},h,{slideDirection:i}),m=jG(d,p),g=ln();if(o)return t.jsx("div",{className:nn(m.root,s),children:r});const y={exit:m.exit,enterActive:m.enterActive,enter:m.enter,exitActive:m.exitActive};return t.jsx(wG,{className:nn(m.root,s),childFactory:b=>x.cloneElement(b,{classNames:y}),role:"presentation",ownerState:p,children:t.jsx(RR,U({mountOnEnter:!0,unmountOnExit:!0,timeout:g.transitions.duration.complex,classNames:y},u,{children:r}),l)})}const CG=e=>cn("MuiDayCalendar",e);fn("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const PG=["parentProps","day","focusedDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],IG=["ownerState"],DG=e=>Jt({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},CG,e),Y1=(tl+zd*2)*6,TG=Me("div",{name:"MuiDayCalendar",slot:"Root"})({}),EG=Me("div",{name:"MuiDayCalendar",slot:"Header"})({display:"flex",justifyContent:"center",alignItems:"center"}),AG=Me(j,{name:"MuiDayCalendar",slot:"WeekDayLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),RG=Me(j,{name:"MuiDayCalendar",slot:"WeekNumberLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.disabled})),_G=Me(j,{name:"MuiDayCalendar",slot:"WeekNumber"})(({theme:e})=>U({},e.typography.caption,{width:tl,height:tl,padding:0,margin:`0 ${zd}px`,color:(e.vars||e).palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),kG=Me("div",{name:"MuiDayCalendar",slot:"LoadingContainer"})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:Y1}),OG=Me(SG,{name:"MuiDayCalendar",slot:"SlideTransition"})({minHeight:Y1}),MG=Me("div",{name:"MuiDayCalendar",slot:"MonthContainer"})({overflow:"hidden"}),NG=Me("div",{name:"MuiDayCalendar",slot:"WeekContainer"})({margin:`${zd}px 0`,display:"flex",justifyContent:"center"});function LG(e){let{parentProps:n,day:r,focusedDay:s,selectedDays:o,isDateDisabled:i,currentMonthNumber:l,isViewFocused:d}=e,u=at(e,PG);const{disabled:h,disableHighlightToday:p,isMonthSwitchingAnimating:m,showDaysOutsideCurrentMonth:g,slots:y,slotProps:b,timezone:w}=n,v=Vt(),I=ti(w),S=s!=null&&v.isSameDay(r,s),T=d&&S,D=o.some(J=>v.isSameDay(J,r)),A=v.isSameDay(r,I),R=x.useMemo(()=>h||i(r),[h,i,r]),k=x.useMemo(()=>v.getMonth(r)!==l,[v,r,l]),_=j1({day:r,selected:D,disabled:R,today:A,outsideCurrentMonth:k,disableMargin:void 0,disableHighlightToday:p,showDaysOutsideCurrentMonth:g}),N=(y==null?void 0:y.day)??z9,W=Nt({elementType:N,externalSlotProps:b==null?void 0:b.day,additionalProps:U({disableHighlightToday:p,showDaysOutsideCurrentMonth:g,role:"gridcell",isAnimating:m,"data-timestamp":v.toJsDate(r).valueOf()},u),ownerState:U({},_,{day:r,isDayDisabled:R,isDaySelected:D})}),Y=at(W,IG),$=x.useMemo(()=>{const J=v.startOfMonth(v.setMonth(r,l));return g?v.isSameDay(r,v.startOfWeek(J)):v.isSameDay(r,J)},[l,r,g,v]),H=x.useMemo(()=>{const J=v.endOfMonth(v.setMonth(r,l));return g?v.isSameDay(r,v.endOfWeek(J)):v.isSameDay(r,J)},[l,r,g,v]);return t.jsx(N,U({},Y,{day:r,disabled:R,autoFocus:!k&&T,today:A,outsideCurrentMonth:k,isFirstVisibleCell:$,isLastVisibleCell:H,selected:D,tabIndex:S?0:-1,"aria-selected":D,"aria-current":A?"date":void 0}))}function $G(e){const n=Gt({props:e,name:"MuiDayCalendar"}),r=Vt(),{onFocusedDayChange:s,className:o,classes:i,currentMonth:l,selectedDays:d,focusedDay:u,loading:h,onSelectedDaysChange:p,onMonthSwitchingAnimationEnd:m,readOnly:g,reduceAnimations:y,renderLoading:b=()=>t.jsx("span",{children:"..."}),slideDirection:w,TransitionProps:v,disablePast:I,disableFuture:S,minDate:T,maxDate:D,shouldDisableDate:A,shouldDisableMonth:R,shouldDisableYear:k,dayOfWeekFormatter:_=ae=>r.format(ae,"weekdayShort").charAt(0).toUpperCase(),hasFocus:N,onFocusedViewChange:W,gridLabelId:Y,displayWeekNumber:$,fixedWeekNumber:H,timezone:J}=n,X=ti(J),K=DG(i),Z=Es(),G=H1({shouldDisableDate:A,shouldDisableMonth:R,shouldDisableYear:k,minDate:T,maxDate:D,disablePast:I,disableFuture:S,timezone:J}),oe=gs(),V=Ve(ae=>{g||p(ae)}),ee=ae=>{G(ae)||(s(ae),W==null||W(!0))},Pe=Ve((ae,se)=>{switch(ae.key){case"ArrowUp":ee(r.addDays(se,-7)),ae.preventDefault();break;case"ArrowDown":ee(r.addDays(se,7)),ae.preventDefault();break;case"ArrowLeft":{const me=r.addDays(se,Z?1:-1),de=r.addMonths(se,Z?1:-1),_e=nl({utils:r,date:me,minDate:Z?me:r.startOfMonth(de),maxDate:Z?r.endOfMonth(de):me,isDateDisabled:G,timezone:J});ee(_e||me),ae.preventDefault();break}case"ArrowRight":{const me=r.addDays(se,Z?-1:1),de=r.addMonths(se,Z?-1:1),_e=nl({utils:r,date:me,minDate:Z?r.startOfMonth(de):me,maxDate:Z?me:r.endOfMonth(de),isDateDisabled:G,timezone:J});ee(_e||me),ae.preventDefault();break}case"Home":ee(r.startOfWeek(se)),ae.preventDefault();break;case"End":ee(r.endOfWeek(se)),ae.preventDefault();break;case"PageUp":ee(r.addMonths(se,1)),ae.preventDefault();break;case"PageDown":ee(r.addMonths(se,-1)),ae.preventDefault();break}}),pe=Ve((ae,se)=>ee(se)),Re=Ve((ae,se)=>{u!=null&&r.isSameDay(u,se)&&(W==null||W(!1))}),le=r.getMonth(l),re=r.getYear(l),je=x.useMemo(()=>d.filter(ae=>!!ae).map(ae=>r.startOfDay(ae)),[r,d]),Oe=`${re}-${le}`,be=x.useMemo(()=>x.createRef(),[Oe]),ie=x.useMemo(()=>{const ae=r.getWeekArray(l);let se=r.addMonths(l,1);for(;H&&ae.length<H;){const me=r.getWeekArray(se),de=r.isSameDay(ae[ae.length-1][0],me[0][0]);me.slice(de?1:0).forEach(_e=>{ae.length<H&&ae.push(_e)}),se=r.addMonths(se,1)}return ae},[l,H,r]);return t.jsxs(TG,{role:"grid","aria-labelledby":Y,className:K.root,children:[t.jsxs(EG,{role:"row",className:K.header,children:[$&&t.jsx(RG,{variant:"caption",role:"columnheader","aria-label":oe.calendarWeekNumberHeaderLabel,className:K.weekNumberLabel,children:oe.calendarWeekNumberHeaderText}),e9(r,X).map((ae,se)=>t.jsx(AG,{variant:"caption",role:"columnheader","aria-label":r.format(ae,"weekday"),className:K.weekDayLabel,children:_(ae)},se.toString()))]}),h?t.jsx(kG,{className:K.loadingContainer,children:b()}):t.jsx(OG,U({transKey:Oe,onExited:m,reduceAnimations:y,slideDirection:w,className:nn(o,K.slideTransition)},v,{nodeRef:be,children:t.jsx(MG,{ref:be,role:"rowgroup",className:K.monthContainer,children:ie.map((ae,se)=>t.jsxs(NG,{role:"row",className:K.weekContainer,"aria-rowindex":se+1,children:[$&&t.jsx(_G,{className:K.weekNumber,role:"rowheader","aria-label":oe.calendarWeekNumberAriaLabelText(r.getWeekNumber(ae[0])),children:oe.calendarWeekNumberText(r.getWeekNumber(ae[0]))}),ae.map((me,de)=>t.jsx(LG,{parentProps:n,day:me,selectedDays:je,isViewFocused:N,focusedDay:u,onKeyDown:Pe,onFocus:pe,onBlur:Re,onDaySelect:V,isDateDisabled:G,currentMonthNumber:le,"aria-colindex":de+1},me.toString()))]},`week-${ae[0]}`))})}))]})}function q1(e){return cn("MuiMonthCalendar",e)}const mc=fn("MuiMonthCalendar",["root","button","disabled","selected"]),FG=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],WG=(e,n)=>{const r={button:["button",n.isMonthDisabled&&"disabled",n.isMonthSelected&&"selected"]};return Jt(r,q1,e)},BG=Me("button",{name:"MuiMonthCalendar",slot:"Button",overridesResolver:(e,n)=>[n.button,{[`&.${mc.disabled}`]:n.disabled},{[`&.${mc.selected}`]:n.selected}]})(({theme:e})=>U({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:fe(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:fe(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${mc.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${mc.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),VG=x.memo(function(n){const{autoFocus:r,classes:s,disabled:o,selected:i,value:l,onClick:d,onKeyDown:u,onFocus:h,onBlur:p,slots:m,slotProps:g}=n,y=at(n,FG),b=x.useRef(null),{ownerState:w}=Tn(),v=U({},w,{isMonthDisabled:o,isMonthSelected:i}),I=WG(s,v);ts(()=>{var D;r&&((D=b.current)==null||D.focus())},[r]);const S=(m==null?void 0:m.monthButton)??BG,T=Nt({elementType:S,externalSlotProps:g==null?void 0:g.monthButton,externalForwardedProps:y,additionalProps:{disabled:o,ref:b,type:"button",role:"radio","aria-checked":i,onClick:D=>d(D,l),onKeyDown:D=>u(D,l),onFocus:D=>h(D,l),onBlur:D=>p(D,l)},ownerState:v,className:I.button});return t.jsx(S,U({},T))}),UG=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],zG=e=>Jt({root:["root"]},q1,e);function HG(e,n){const r=Gt({props:e,name:n}),s=gx(r);return U({},r,s,{monthsPerRow:r.monthsPerRow??3})}const GG=Me("div",{name:"MuiMonthCalendar",slot:"Root",shouldForwardProp:e=>Ks(e)&&e!=="monthsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:16,padding:"8px 0",width:Ha,boxSizing:"border-box",variants:[{props:{monthsPerRow:3},style:{columnGap:24}},{props:{monthsPerRow:4},style:{columnGap:0}}]}),YG=x.forwardRef(function(n,r){const s=HG(n,"MuiMonthCalendar"),{autoFocus:o,className:i,classes:l,value:d,defaultValue:u,referenceDate:h,disabled:p,disableFuture:m,disablePast:g,maxDate:y,minDate:b,onChange:w,shouldDisableMonth:v,readOnly:I,onMonthFocus:S,hasFocus:T,onFocusedViewChange:D,monthsPerRow:A,timezone:R,gridLabelId:k,slots:_,slotProps:N}=s,W=at(s,UG),{value:Y,handleValueChange:$,timezone:H}=na({name:"MonthCalendar",timezone:R,value:d,defaultValue:u,referenceDate:h,onChange:w,valueManager:pr}),J=ti(H),X=Es(),K=Vt(),{ownerState:Z}=Tn(),G=x.useMemo(()=>pr.getInitialReferenceValue({value:Y,utils:K,props:s,timezone:H,referenceDate:h,granularity:ds.month}),[]),oe=zG(l),V=x.useMemo(()=>K.getMonth(J),[K,J]),ee=x.useMemo(()=>Y!=null?K.getMonth(Y):null,[Y,K]),[Pe,pe]=x.useState(()=>ee||K.getMonth(G)),[Re,le]=za({name:"MonthCalendar",state:"hasFocus",controlled:T,default:o??!1}),re=Ve(me=>{le(me),D&&D(me)}),je=x.useCallback(me=>{const de=K.startOfMonth(g&&K.isAfter(J,b)?J:b),_e=K.startOfMonth(m&&K.isBefore(J,y)?J:y),Ee=K.startOfMonth(me);return K.isBefore(Ee,de)||K.isAfter(Ee,_e)?!0:v?v(Ee):!1},[m,g,y,b,J,v,K]),Oe=Ve((me,de)=>{if(I)return;const _e=K.setMonth(Y??G,de);$(_e)}),be=Ve(me=>{je(K.setMonth(Y??G,me))||(pe(me),re(!0),S&&S(me))});x.useEffect(()=>{pe(me=>ee!==null&&me!==ee?ee:me)},[ee]);const ie=Ve((me,de)=>{switch(me.key){case"ArrowUp":be((12+de-3)%12),me.preventDefault();break;case"ArrowDown":be((12+de+3)%12),me.preventDefault();break;case"ArrowLeft":be((12+de+(X?1:-1))%12),me.preventDefault();break;case"ArrowRight":be((12+de+(X?-1:1))%12),me.preventDefault();break}}),ae=Ve((me,de)=>{be(de)}),se=Ve((me,de)=>{Pe===de&&re(!1)});return t.jsx(GG,U({ref:r,className:nn(oe.root,i),ownerState:Z,role:"radiogroup","aria-labelledby":k,monthsPerRow:A},W,{children:cx(K,Y??G).map(me=>{const de=K.getMonth(me),_e=K.format(me,"monthShort"),Ee=K.format(me,"month"),He=de===ee,ue=p||je(me);return t.jsx(VG,{selected:He,value:de,onClick:Oe,onKeyDown:ie,autoFocus:Re&&de===Pe,disabled:ue,tabIndex:de===Pe&&!ue?0:-1,onFocus:ae,onBlur:se,"aria-current":V===de?"date":void 0,"aria-label":Ee,slots:_,slotProps:N,classes:l,children:_e},_e)})}))});function K1(e){return cn("MuiYearCalendar",e)}const xc=fn("MuiYearCalendar",["root","button","disabled","selected"]),qG=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],KG=(e,n)=>{const r={button:["button",n.isYearDisabled&&"disabled",n.isYearSelected&&"selected"]};return Jt(r,K1,e)},XG=Me("button",{name:"MuiYearCalendar",slot:"Button",overridesResolver:(e,n)=>[n.button,{[`&.${xc.disabled}`]:n.disabled},{[`&.${xc.selected}`]:n.selected}]})(({theme:e})=>U({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:fe(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:fe(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${xc.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${xc.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),JG=x.memo(function(n){const{autoFocus:r,classes:s,disabled:o,selected:i,value:l,onClick:d,onKeyDown:u,onFocus:h,onBlur:p,slots:m,slotProps:g}=n,y=at(n,qG),b=x.useRef(null),{ownerState:w}=Tn(),v=U({},w,{isYearDisabled:o,isYearSelected:i}),I=KG(s,v);ts(()=>{var D;r&&((D=b.current)==null||D.focus())},[r]);const S=(m==null?void 0:m.yearButton)??XG,T=Nt({elementType:S,externalSlotProps:g==null?void 0:g.yearButton,externalForwardedProps:y,additionalProps:{disabled:o,ref:b,type:"button",role:"radio","aria-checked":i,onClick:D=>d(D,l),onKeyDown:D=>u(D,l),onFocus:D=>h(D,l),onBlur:D=>p(D,l)},ownerState:v,className:I.button});return t.jsx(S,U({},T))}),QG=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"],ZG=e=>Jt({root:["root"]},K1,e);function eY(e,n){const r=Gt({props:e,name:n}),s=gx(r);return U({},r,s,{yearsPerRow:r.yearsPerRow??3,yearsOrder:r.yearsOrder??"asc"})}const tY=Me("div",{name:"MuiYearCalendar",slot:"Root",shouldForwardProp:e=>Ks(e)&&e!=="yearsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:12,padding:"6px 0",overflowY:"auto",height:"100%",width:Ha,maxHeight:J8,boxSizing:"border-box",position:"relative",variants:[{props:{yearsPerRow:3},style:{columnGap:24}},{props:{yearsPerRow:4},style:{columnGap:0,padding:"0 2px"}}]}),nY=Me("div",{name:"MuiYearCalendar",slot:"ButtonFiller"})({height:36,width:72}),rY=x.forwardRef(function(n,r){const s=eY(n,"MuiYearCalendar"),{autoFocus:o,className:i,classes:l,value:d,defaultValue:u,referenceDate:h,disabled:p,disableFuture:m,disablePast:g,maxDate:y,minDate:b,onChange:w,readOnly:v,shouldDisableYear:I,onYearFocus:S,hasFocus:T,onFocusedViewChange:D,yearsOrder:A,yearsPerRow:R,timezone:k,gridLabelId:_,slots:N,slotProps:W}=s,Y=at(s,QG),{value:$,handleValueChange:H,timezone:J}=na({name:"YearCalendar",timezone:k,value:d,defaultValue:u,referenceDate:h,onChange:w,valueManager:pr}),X=ti(J),K=Es(),Z=Vt(),{ownerState:G}=Tn(),oe=x.useMemo(()=>pr.getInitialReferenceValue({value:$,utils:Z,props:s,timezone:J,referenceDate:h,granularity:ds.year}),[]),V=ZG(l),ee=x.useMemo(()=>Z.getYear(X),[Z,X]),Pe=x.useMemo(()=>$!=null?Z.getYear($):null,[$,Z]),[pe,Re]=x.useState(()=>Pe||Z.getYear(oe)),[le,re]=za({name:"YearCalendar",state:"hasFocus",controlled:T,default:o??!1}),je=Ve(q=>{re(q),D&&D(q)}),Oe=x.useCallback(q=>{if(g&&Z.isBeforeYear(q,X)||m&&Z.isAfterYear(q,X)||b&&Z.isBeforeYear(q,b)||y&&Z.isAfterYear(q,y))return!0;if(!I)return!1;const L=Z.startOfYear(q);return I(L)},[m,g,y,b,X,I,Z]),be=Ve((q,L)=>{if(v)return;const ke=Z.setYear($??oe,L);H(ke)}),ie=Ve(q=>{Oe(Z.setYear($??oe,q))||(Re(q),je(!0),S==null||S(q))});x.useEffect(()=>{Re(q=>Pe!==null&&q!==Pe?Pe:q)},[Pe]);const ae=A!=="desc"?R*1:R*-1,se=K&&A==="asc"||!K&&A==="desc"?-1:1,me=Ve((q,L)=>{switch(q.key){case"ArrowUp":ie(L-ae),q.preventDefault();break;case"ArrowDown":ie(L+ae),q.preventDefault();break;case"ArrowLeft":ie(L-se),q.preventDefault();break;case"ArrowRight":ie(L+se),q.preventDefault();break}}),de=Ve((q,L)=>{ie(L)}),_e=Ve((q,L)=>{pe===L&&je(!1)}),Ee=x.useRef(null),He=or(r,Ee);x.useEffect(()=>{if(o||Ee.current===null)return;const q=Ee.current.querySelector('[tabindex="0"]');if(!q)return;const L=q.offsetHeight,ke=q.offsetTop,Ue=Ee.current.clientHeight,dn=Ee.current.scrollTop,Ft=ke+L;L>Ue||ke<dn||(Ee.current.scrollTop=Ft-Ue/2-L/2)},[o]);const ue=Z.getYearRange([b,y]);A==="desc"&&ue.reverse();let Se=R-ue.length%R;return Se===R&&(Se=0),t.jsxs(tY,U({ref:He,className:nn(V.root,i),ownerState:G,role:"radiogroup","aria-labelledby":_,yearsPerRow:R},Y,{children:[ue.map(q=>{const L=Z.getYear(q),ke=L===Pe,Ue=p||Oe(q);return t.jsx(JG,{selected:ke,value:L,onClick:be,onKeyDown:me,autoFocus:le&&L===pe,disabled:Ue,tabIndex:L===pe&&!Ue?0:-1,onFocus:de,onBlur:_e,"aria-current":ee===L?"date":void 0,slots:N,slotProps:W,classes:l,children:Z.format(q,"year")},Z.format(q,"year"))}),Array.from({length:Se},(q,L)=>t.jsx(nY,{},L))]}))}),sY=e=>cn("MuiPickersCalendarHeader",e),oY=fn("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),aY=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","classes","timezone","format"],iY=["ownerState"],lY=e=>Jt({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},sY,e),cY=Me("div",{name:"MuiPickersCalendarHeader",slot:"Root"})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),dY=Me("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer"})(({theme:e})=>U({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),uY=Me("div",{name:"MuiPickersCalendarHeader",slot:"Label"})({marginRight:6}),hY=Me(Le,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton"})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${oY.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),fY=Me(T8,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon"})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),pY=x.forwardRef(function(n,r){const s=gs(),o=Vt(),i=Gt({props:n,name:"MuiPickersCalendarHeader"}),{slots:l,slotProps:d,currentMonth:u,disabled:h,disableFuture:p,disablePast:m,maxDate:g,minDate:y,onMonthChange:b,onViewChange:w,view:v,reduceAnimations:I,views:S,labelId:T,className:D,classes:A,timezone:R,format:k=`${o.formats.month} ${o.formats.year}`}=i,_=at(i,aY),{ownerState:N}=Tn(),W=lY(A),Y=(l==null?void 0:l.switchViewButton)??hY,$=Nt({elementType:Y,externalSlotProps:d==null?void 0:d.switchViewButton,additionalProps:{size:"small","aria-label":s.calendarViewSwitchingButtonAriaLabel(v)},ownerState:N,className:W.switchViewButton}),H=(l==null?void 0:l.switchViewIcon)??fY,J=Nt({elementType:H,externalSlotProps:d==null?void 0:d.switchViewIcon,ownerState:N,className:W.switchViewIcon}),X=at(J,iY),K=()=>b(o.addMonths(u,1)),Z=()=>b(o.addMonths(u,-1)),G=K8(u,{disableFuture:p,maxDate:g,timezone:R}),oe=X8(u,{disablePast:m,minDate:y,timezone:R}),V=()=>{if(!(S.length===1||!w||h))if(S.length===2)w(S.find(Pe=>Pe!==v)||S[0]);else{const Pe=S.indexOf(v)!==0?0:1;w(S[Pe])}};if(S.length===1&&S[0]==="year")return null;const ee=o.formatByString(u,k);return t.jsxs(cY,U({},_,{ownerState:N,className:nn(W.root,D),ref:r,children:[t.jsxs(dY,{role:"presentation",onClick:V,ownerState:N,"aria-live":"polite",className:W.labelContainer,children:[t.jsx(G1,{reduceAnimations:I,transKey:ee,children:t.jsx(uY,{id:T,ownerState:N,className:W.label,children:ee})}),S.length>1&&!h&&t.jsx(Y,U({},$,{children:t.jsx(H,U({},X))}))]}),t.jsx(hd,{in:v==="day",appear:!I,enter:!I,children:t.jsx(U8,{slots:l,slotProps:d,onGoToPrevious:Z,isPreviousDisabled:oe,previousLabel:s.previousMonth,onGoToNext:K,isNextDisabled:G,nextLabel:s.nextMonth})})]}))}),mY="@media (prefers-reduced-motion: reduce)",Aa=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),ov=Aa&&Aa[1]?parseInt(Aa[1],10):null,av=Aa&&Aa[2]?parseInt(Aa[2],10):null,xY=ov&&ov<10||av&&av<13||!1;function X1(e){const n=sl(mY,{defaultMatches:!1});return e??(n||xY)}const gY=e=>cn("MuiDateCalendar",e);fn("MuiDateCalendar",["root","viewTransitionContainer"]);const bY=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","classes","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"],yY=e=>Jt({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},gY,e);function vY(e,n){const r=Gt({props:e,name:n}),s=X1(r.reduceAnimations),o=gx(r);return U({},r,o,{loading:r.loading??!1,openTo:r.openTo??"day",views:r.views??["year","day"],reduceAnimations:s,renderLoading:r.renderLoading??(()=>t.jsx("span",{children:"..."}))})}const jY=Me(lx,{name:"MuiDateCalendar",slot:"Root"})({display:"flex",flexDirection:"column",height:Ga}),wY=Me(G1,{name:"MuiDateCalendar",slot:"ViewTransitionContainer"})({}),SY=x.forwardRef(function(n,r){const s=Vt(),{ownerState:o}=Tn(),i=Bd(),l=vY(n,"MuiDateCalendar"),{autoFocus:d,onViewChange:u,value:h,defaultValue:p,referenceDate:m,disableFuture:g,disablePast:y,onChange:b,onMonthChange:w,reduceAnimations:v,shouldDisableDate:I,shouldDisableMonth:S,shouldDisableYear:T,view:D,views:A,openTo:R,className:k,classes:_,disabled:N,readOnly:W,minDate:Y,maxDate:$,disableHighlightToday:H,focusedView:J,onFocusedViewChange:X,showDaysOutsideCurrentMonth:K,fixedWeekNumber:Z,dayOfWeekFormatter:G,slots:oe,slotProps:V,loading:ee,renderLoading:Pe,displayWeekNumber:pe,yearsOrder:Re,yearsPerRow:le,monthsPerRow:re,timezone:je}=l,Oe=at(l,bY),{value:be,handleValueChange:ie,timezone:ae}=na({name:"DateCalendar",timezone:je,value:h,defaultValue:p,referenceDate:m,onChange:b,valueManager:pr}),{view:se,setView:me,focusedView:de,setFocusedView:_e,goToNextView:Ee,setValueAndGoToNextView:He}=Ud({view:D,views:A,openTo:R,onChange:ie,onViewChange:u,autoFocus:d,focusedView:J,onFocusedViewChange:X}),{referenceDate:ue,calendarState:Se,setVisibleDate:q,isDateDisabled:L,onMonthSwitchingAnimationEnd:ke}=pG({value:be,referenceDate:m,reduceAnimations:v,onMonthChange:w,minDate:Y,maxDate:$,shouldDisableDate:I,disablePast:y,disableFuture:g,timezone:ae,getCurrentMonthFromVisibleDate:(Pt,An)=>s.isSameMonth(Pt,An)?An:s.startOfMonth(Pt)}),Ue=N&&be||Y,dn=N&&be||$,Ft=`${i}-grid-label`,Rt=de!==null,Qt=(oe==null?void 0:oe.calendarHeader)??pY,Ln=Nt({elementType:Qt,externalSlotProps:V==null?void 0:V.calendarHeader,additionalProps:{views:A,view:se,currentMonth:Se.currentMonth,onViewChange:me,onMonthChange:Pt=>q({target:Pt,reason:"header-navigation"}),minDate:Ue,maxDate:dn,disabled:N,disablePast:y,disableFuture:g,reduceAnimations:v,timezone:ae,labelId:Ft},ownerState:o}),ut=Ve(Pt=>{const An=s.startOfMonth(Pt),Vn=s.endOfMonth(Pt),Pr=L(Pt)?nl({utils:s,date:Pt,minDate:s.isBefore(Y,An)?An:Y,maxDate:s.isAfter($,Vn)?Vn:$,disablePast:y,disableFuture:g,isDateDisabled:L,timezone:ae}):Pt;Pr?(He(Pr,"finish"),q({target:Pr,reason:"cell-interaction"})):(Ee(),q({target:An,reason:"cell-interaction"}))}),gt=Ve(Pt=>{const An=s.startOfYear(Pt),Vn=s.endOfYear(Pt),Pr=L(Pt)?nl({utils:s,date:Pt,minDate:s.isBefore(Y,An)?An:Y,maxDate:s.isAfter($,Vn)?Vn:$,disablePast:y,disableFuture:g,isDateDisabled:L,timezone:ae}):Pt;Pr?(He(Pr,"finish"),q({target:Pr,reason:"cell-interaction"})):(Ee(),q({target:An,reason:"cell-interaction"}))}),_t=Ve(Pt=>ie(Pt&&od(s,Pt,be??ue),"finish",se));x.useEffect(()=>{s.isValid(be)&&q({target:be,reason:"controlled-value-change"})},[be]);const Yt=yY(_),En={disablePast:y,disableFuture:g,maxDate:$,minDate:Y},pn={disableHighlightToday:H,readOnly:W,disabled:N,timezone:ae,gridLabelId:Ft,slots:oe,slotProps:V},Jn=x.useRef(se);x.useEffect(()=>{Jn.current!==se&&(de===Jn.current&&_e(se,!0),Jn.current=se)},[de,_e,se]);const yn=x.useMemo(()=>[be],[be]);return t.jsxs(jY,U({ref:r,className:nn(Yt.root,k),ownerState:o},Oe,{children:[t.jsx(Qt,U({},Ln,{slots:oe,slotProps:V})),t.jsx(wY,{reduceAnimations:v,className:Yt.viewTransitionContainer,transKey:se,ownerState:o,children:t.jsxs("div",{children:[se==="year"&&t.jsx(rY,U({},En,pn,{value:be,onChange:gt,shouldDisableYear:T,hasFocus:Rt,onFocusedViewChange:Pt=>_e("year",Pt),yearsOrder:Re,yearsPerRow:le,referenceDate:ue})),se==="month"&&t.jsx(YG,U({},En,pn,{hasFocus:Rt,className:k,value:be,onChange:ut,shouldDisableMonth:S,onFocusedViewChange:Pt=>_e("month",Pt),monthsPerRow:re,referenceDate:ue})),se==="day"&&t.jsx($G,U({},Se,En,pn,{onMonthSwitchingAnimationEnd:ke,hasFocus:Rt,onFocusedDayChange:Pt=>q({target:Pt,reason:"cell-interaction"}),reduceAnimations:v,selectedDays:yn,onSelectedDaysChange:_t,shouldDisableDate:I,shouldDisableMonth:S,shouldDisableYear:T,onFocusedViewChange:Pt=>_e("day",Pt),showDaysOutsideCurrentMonth:K,fixedWeekNumber:Z,dayOfWeekFormatter:G,displayWeekNumber:pe,loading:ee,renderLoading:Pe}))]})})]}))});function J1(e){return cn("MuiPickersToolbar",e)}const CY=fn("MuiPickersToolbar",["root","title","content"]);function Q1(){const{ownerState:e}=Tn(),n=Es();return x.useMemo(()=>U({},e,{toolbarDirection:n?"rtl":"ltr"}),[e,n])}const PY=["children","className","classes","toolbarTitle","hidden","titleId","classes","landscapeDirection"],IY=e=>Jt({root:["root"],title:["title"],content:["content"]},J1,e),DY=Me("div",{name:"MuiPickersToolbar",slot:"Root"})(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:e.spacing(2,3),variants:[{props:{pickerOrientation:"landscape"},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),TY=Me("div",{name:"MuiPickersToolbar",slot:"Content",shouldForwardProp:e=>Ks(e)&&e!=="landscapeDirection"})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{pickerOrientation:"landscape"},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{pickerOrientation:"landscape",landscapeDirection:"row"},style:{flexDirection:"row"}}]}),EY=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersToolbar"}),{children:o,className:i,classes:l,toolbarTitle:d,hidden:u,titleId:h,landscapeDirection:p}=s,m=at(s,PY),g=Q1(),y=IY(l);return u?null:t.jsxs(DY,U({ref:r,className:nn(y.root,i),ownerState:g},m,{children:[t.jsx(j,{color:"text.secondary",variant:"overline",id:h,className:y.title,children:d}),t.jsx(TY,{className:y.content,ownerState:g,landscapeDirection:p,children:o})]}))});function AY(e){return cn("MuiPickerPopper",e)}fn("MuiPickerPopper",["root","paper"]);const RY=["PaperComponent","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],_Y=e=>Jt({root:["root"],paper:["paper"]},AY,e),kY=Me(_R,{name:"MuiPickerPopper",slot:"Root"})(({theme:e})=>({zIndex:e.zIndex.modal})),OY=Me(ot,{name:"MuiPickerPopper",slot:"Paper"})({outline:0,transformOrigin:"top center",variants:[{props:({popperPlacement:e})=>["top","top-start","top-end"].includes(e),style:{transformOrigin:"bottom center"}}]});function MY(e,n){return n.documentElement.clientWidth<e.clientX||n.documentElement.clientHeight<e.clientY}function NY(e,n){const r=x.useRef(!1),s=x.useRef(!1),o=x.useRef(null),i=x.useRef(!1);x.useEffect(()=>{if(!e)return;function u(){i.current=!0}return document.addEventListener("mousedown",u,!0),document.addEventListener("touchstart",u,!0),()=>{document.removeEventListener("mousedown",u,!0),document.removeEventListener("touchstart",u,!0),i.current=!1}},[e]);const l=Ve(u=>{if(!i.current)return;const h=s.current;s.current=!1;const p=zh(o.current);if(!o.current||"clientX"in u&&MY(u,p))return;if(r.current){r.current=!1;return}let m;u.composedPath?m=u.composedPath().indexOf(o.current)>-1:m=!p.documentElement.contains(u.target)||o.current.contains(u.target),!m&&!h&&n(u)}),d=()=>{s.current=!0};return x.useEffect(()=>{if(e){const u=zh(o.current),h=()=>{r.current=!0};return u.addEventListener("touchstart",l),u.addEventListener("touchmove",h),()=>{u.removeEventListener("touchstart",l),u.removeEventListener("touchmove",h)}}},[e,l]),x.useEffect(()=>{if(e){const u=zh(o.current);return u.addEventListener("click",l),()=>{u.removeEventListener("click",l),s.current=!1}}},[e,l]),[o,d,d]}const LY=x.forwardRef((e,n)=>{const{PaperComponent:r,ownerState:s,children:o,paperSlotProps:i,paperClasses:l,onPaperClick:d,onPaperTouchStart:u}=e,h=at(e,RY),p=Nt({elementType:r,externalSlotProps:i,additionalProps:{tabIndex:-1,elevation:8,ref:n},className:l,ownerState:s});return t.jsx(r,U({},h,p,{onClick:m=>{var g;d(m),(g=p.onClick)==null||g.call(p,m)},onTouchStart:m=>{var g;u(m),(g=p.onTouchStart)==null||g.call(p,m)},ownerState:s,children:o}))});function $Y(e){const n=Gt({props:e,name:"MuiPickerPopper"}),{children:r,placement:s="bottom-start",slots:o,slotProps:i,classes:l}=n,{open:d,popupRef:u,reduceAnimations:h}=So(),{dismissViews:p,getCurrentViewMode:m,onPopperExited:g,triggerElement:y,viewContainerRole:b}=Tn();x.useEffect(()=>{function Z(G){d&&G.key==="Escape"&&p()}return document.addEventListener("keydown",Z),()=>{document.removeEventListener("keydown",Z)}},[p,d]);const w=x.useRef(null);x.useEffect(()=>{b==="tooltip"||m()==="field"||(d?w.current=qn(document):w.current&&w.current instanceof HTMLElement&&setTimeout(()=>{w.current instanceof HTMLElement&&w.current.focus()}))},[d,b,m]);const v=_Y(l),{ownerState:I,rootRefObject:S}=Tn(),T=U({},I,{popperPlacement:s}),D=Ve(()=>{b==="tooltip"?g9(()=>{var Z,G;(Z=S.current)!=null&&Z.contains(qn(document))||(G=u.current)!=null&&G.contains(qn(document))||p()}):p()}),[A,R,k]=NY(d,D),_=x.useRef(null),N=or(_,u),W=or(N,A),Y=Z=>{Z.key==="Escape"&&(Z.stopPropagation(),p())},$=(o==null?void 0:o.desktopTransition)??h?hd:kR,H=(o==null?void 0:o.desktopTrapFocus)??OR,J=(o==null?void 0:o.desktopPaper)??OY,X=(o==null?void 0:o.popper)??kY,K=Nt({elementType:X,externalSlotProps:i==null?void 0:i.popper,additionalProps:{transition:!0,role:b??void 0,open:d,placement:s,anchorEl:y,onKeyDown:Y},className:v.root,ownerState:T});return t.jsx(X,U({},K,{children:({TransitionProps:Z})=>t.jsx(H,U({open:d,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:b==="tooltip",isEnabled:()=>!0},i==null?void 0:i.desktopTrapFocus,{children:t.jsx($,U({},Z,i==null?void 0:i.desktopTransition,{onExited:G=>{var oe,V,ee;g==null||g(),(V=(oe=i==null?void 0:i.desktopTransition)==null?void 0:oe.onExited)==null||V.call(oe,G),(ee=Z==null?void 0:Z.onExited)==null||ee.call(Z)},children:t.jsx(LY,{PaperComponent:J,ownerState:T,ref:W,onPaperClick:R,onPaperTouchStart:k,paperClasses:v.paper,paperSlotProps:i==null?void 0:i.desktopPaper,children:r})}))}))}))}function iv(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}function FY(e,n){const[r,s]=x.useState(iv);return ts(()=>{const o=()=>{s(iv())};return window.addEventListener("orientationchange",o),()=>{window.removeEventListener("orientationchange",o)}},[]),x9(e,["hours","minutes","seconds"])?"portrait":n??r}function WY(e){const{props:n,valueManager:r,validator:s}=e,{value:o,defaultValue:i,onChange:l,referenceDate:d,timezone:u,onAccept:h,closeOnSelect:p,open:m,onOpen:g,onClose:y}=n,{current:b}=x.useRef(i),{current:w}=x.useRef(o!==void 0),{current:v}=x.useRef(m!==void 0),I=Vt(),{timezone:S,value:T,handleValueChange:D}=na({name:"a picker component",timezone:u,value:o,defaultValue:b,referenceDate:d,onChange:l,valueManager:r}),[A,R]=x.useState(()=>({open:!1,lastExternalValue:T,clockShallowValue:void 0,lastCommittedValue:T,hasBeenModifiedSinceMount:!1})),{getValidationErrorForNewValue:k}=E1({props:n,validator:s,timezone:S,value:T,onError:n.onError}),_=Ve($=>{const H=typeof $=="function"?$(A.open):$;v||R(J=>U({},J,{open:H})),H&&g&&g(),H||y==null||y()}),N=Ve(($,H)=>{const{changeImportance:J="accept",skipPublicationIfPristine:X=!1,validationError:K,shortcut:Z,shouldClose:G=J==="accept"}=H??{};let oe,V;!X&&!w&&!A.hasBeenModifiedSinceMount?(oe=!0,V=J==="accept"):(oe=!r.areValuesEqual(I,$,T),V=J==="accept"&&!r.areValuesEqual(I,$,A.lastCommittedValue)),R(pe=>U({},pe,{clockShallowValue:oe?void 0:pe.clockShallowValue,lastCommittedValue:V?T:pe.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let ee=null;const Pe=()=>(ee||(ee={validationError:K??k($)},Z&&(ee.shortcut=Z)),ee);oe&&D($,Pe()),V&&h&&h($,Pe()),G&&_(!1)});T!==A.lastExternalValue&&R($=>U({},$,{lastExternalValue:T,clockShallowValue:void 0,hasBeenModifiedSinceMount:!0}));const W=Ve(($,H="partial")=>{if(H==="shallow"){R(J=>U({},J,{clockShallowValue:$,hasBeenModifiedSinceMount:!0}));return}N($,{changeImportance:H==="finish"&&p?"accept":"set"})});x.useEffect(()=>{if(v){if(m===void 0)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");R($=>U({},$,{open:m}))}},[v,m]);const Y=x.useMemo(()=>r.cleanValue(I,A.clockShallowValue===void 0?T:A.clockShallowValue),[I,r,A.clockShallowValue,T]);return{timezone:S,state:A,setValue:N,setValueFromView:W,setOpen:_,value:T,viewValue:Y}}const BY=["className","sx"],Z1=({ref:e,props:n,valueManager:r,valueType:s,variant:o,validator:i,onPopperExited:l,autoFocusView:d,rendererInterceptor:u,localeText:h,viewContainerRole:p,getStepNavigation:m})=>{const{views:g,view:y,openTo:b,onViewChange:w,viewRenderers:v,reduceAnimations:I,orientation:S,disableOpenPicker:T,closeOnSelect:D,disabled:A,readOnly:R,formatDensity:k,enableAccessibleFieldDOMStructure:_,selectedSections:N,onSelectedSectionsChange:W,format:Y,label:$,autoFocus:H,name:J}=n,{className:X,sx:K}=n,Z=at(n,BY),G=Bd(),oe=Vt(),V=ta(),ee=X1(I),Pe=FY(g,S),{current:pe}=x.useRef(b??null),[Re,le]=x.useState(null),re=x.useRef(null),je=x.useRef(null),Oe=x.useRef(null),be=or(e,Oe),{timezone:ie,state:ae,setOpen:se,setValue:me,setValueFromView:de,value:_e,viewValue:Ee}=WY({props:n,valueManager:r,validator:i}),{view:He,setView:ue,defaultView:Se,focusedView:q,setFocusedView:L,setValueAndGoToNextView:ke,goToNextStep:Ue,hasNextStep:dn,hasSeveralSteps:Ft}=Ud({view:y,views:g,openTo:b,onChange:de,onViewChange:w,autoFocus:d,getStepNavigation:m}),Rt=Ve(()=>me(r.emptyValue)),Qt=Ve(()=>me(r.getTodayValue(oe,ie,s))),Ln=Ve(()=>me(_e)),ut=Ve(()=>me(ae.lastCommittedValue,{skipPublicationIfPristine:!0})),gt=Ve(()=>{me(_e,{skipPublicationIfPristine:!0})}),{hasUIView:_t,viewModeLookup:Yt,timeViewsCount:En}=x.useMemo(()=>g.reduce((vn,Ir)=>{const xl=v[Ir]==null?"field":"UI";return vn.viewModeLookup[Ir]=xl,xl==="UI"&&(vn.hasUIView=!0,el(Ir)&&(vn.timeViewsCount+=1)),vn},{hasUIView:!1,viewModeLookup:{},timeViewsCount:0}),[v,g]),pn=Yt[He],Jn=Ve(()=>pn),[yn,Pt]=x.useState(pn==="UI"?He:null);yn!==He&&Yt[He]==="UI"&&Pt(He),ts(()=>{pn==="field"&&ae.open&&(se(!1),setTimeout(()=>{var vn,Ir;(vn=je==null?void 0:je.current)==null||vn.setSelectedSections(He),(Ir=je==null?void 0:je.current)==null||Ir.focusField(He)}))},[He]),ts(()=>{if(!ae.open)return;let vn=He;pn==="field"&&yn!=null&&(vn=yn),vn!==Se&&Yt[vn]==="UI"&&Yt[Se]==="UI"&&(vn=Se),vn!==He&&ue(vn),L(vn,!0)},[ae.open]);const An=x.useMemo(()=>({isPickerValueEmpty:r.areValuesEqual(oe,_e,r.emptyValue),isPickerOpen:ae.open,isPickerDisabled:n.disabled??!1,isPickerReadOnly:n.readOnly??!1,pickerOrientation:Pe,pickerVariant:o}),[oe,r,_e,ae.open,Pe,o,n.disabled,n.readOnly]),Vn=x.useMemo(()=>T||!_t?"hidden":A||R?"disabled":"enabled",[T,_t,A,R]),Pr=Ve(Ue),Po=x.useMemo(()=>D&&!Ft?[]:["cancel","nextOrAccept"],[D,Ft]),ar=x.useMemo(()=>({setValue:me,setOpen:se,clearValue:Rt,setValueToToday:Qt,acceptValueChanges:Ln,cancelValueChanges:ut,setView:ue,goToNextStep:Pr}),[me,se,Rt,Qt,Ln,ut,ue,Pr]),Kd=x.useMemo(()=>U({},ar,{value:_e,timezone:ie,open:ae.open,views:g,view:yn,initialView:pe,disabled:A??!1,readOnly:R??!1,autoFocus:H??!1,variant:o,orientation:Pe,popupRef:re,reduceAnimations:ee,triggerRef:le,triggerStatus:Vn,hasNextStep:dn,fieldFormat:Y??"",name:J,label:$,rootSx:K,rootRef:be,rootClassName:X}),[ar,_e,be,o,Pe,ee,A,R,Y,X,J,$,K,Vn,dn,ie,ae.open,yn,g,pe,H]),Xd=x.useMemo(()=>({dismissViews:gt,ownerState:An,hasUIView:_t,getCurrentViewMode:Jn,rootRefObject:Oe,labelId:G,triggerElement:Re,viewContainerRole:p,defaultActionBarActions:Po,onPopperExited:l}),[gt,An,_t,Jn,G,Re,p,Po,l]),Jd=x.useMemo(()=>({formatDensity:k,enableAccessibleFieldDOMStructure:_,selectedSections:N,onSelectedSectionsChange:W,fieldRef:je}),[k,_,N,W,je]);return{providerProps:{localeText:h,contextValue:Kd,privateContextValue:Xd,actionsContextValue:ar,fieldPrivateContextValue:Jd,isValidContextValue:vn=>{const Ir=i({adapter:V,value:vn,timezone:ie,props:n});return!r.hasError(Ir)}},renderCurrentView:()=>{if(yn==null)return null;const vn=v[yn];if(vn==null)return null;const Ir=U({},Z,{views:g,timezone:ie,value:Ee,onChange:ke,view:yn,onViewChange:ue,showViewSwitcher:En>1,timeViewsCount:En},p==="tooltip"?{focusedView:null,onFocusedViewChange:()=>{}}:{focusedView:q,onFocusedViewChange:L});return u?t.jsx(u,{viewRenderers:v,popperView:yn,rendererProps:Ir}):vn(Ir)},ownerState:An}};function eC(e){return cn("MuiPickersLayout",e)}const ls=fn("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),VY=["actions"],UY=Me(Xt,{name:"MuiPickersLayout",slot:"ActionBar"})({});function zY(e){const{actions:n}=e,r=at(e,VY),s=gs(),{clearValue:o,setValueToToday:i,acceptValueChanges:l,cancelValueChanges:d,goToNextStep:u,hasNextStep:h}=So();if(n==null||n.length===0)return null;const p=n==null?void 0:n.map(m=>{switch(m){case"clear":return t.jsx(he,{onClick:o,children:s.clearButtonLabel},m);case"cancel":return t.jsx(he,{onClick:d,children:s.cancelButtonLabel},m);case"accept":return t.jsx(he,{onClick:l,children:s.okButtonLabel},m);case"today":return t.jsx(he,{onClick:i,children:s.todayButtonLabel},m);case"next":return t.jsx(he,{onClick:u,children:s.nextStepButtonLabel},m);case"nextOrAccept":return h?t.jsx(he,{onClick:u,children:s.nextStepButtonLabel},m):t.jsx(he,{onClick:l,children:s.okButtonLabel},m);default:return null}});return t.jsx(UY,U({},r,{children:p}))}const HY=x.memo(zY),GY=["items","changeImportance"],YY=["getValue"],qY=Me(fr,{name:"MuiPickersLayout",slot:"Shortcuts"})({});function KY(e){const{items:n,changeImportance:r="accept"}=e,s=at(e,GY),{setValue:o}=Z9(),i=N8();if(n==null||n.length===0)return null;const l=n.map(d=>{let{getValue:u}=d,h=at(d,YY);const p=u({isValid:i});return U({},h,{label:h.label,onClick:()=>{o(p,{changeImportance:r,shortcut:h})},disabled:!i(p)})});return t.jsx(qY,U({dense:!0,sx:[{maxHeight:Ga,maxWidth:200,overflow:"auto"},...Array.isArray(s.sx)?s.sx:[s.sx]]},s,{children:l.map(d=>t.jsx(rr,{children:t.jsx(Je,U({},d))},d.id??d.label))}))}const XY=["ownerState"];function JY(e){return e.view!==null}const QY=(e,n)=>{const{pickerOrientation:r}=n;return Jt({root:["root",r==="landscape"&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},eC,e)},tC=e=>{const{ownerState:n,defaultActionBarActions:r}=Tn(),{view:s}=So(),o=Es(),{children:i,slots:l,slotProps:d,classes:u}=e,h=x.useMemo(()=>U({},n,{layoutDirection:o?"rtl":"ltr"}),[n,o]),p=QY(u,h),m=(l==null?void 0:l.actionBar)??HY,g=Nt({elementType:m,externalSlotProps:d==null?void 0:d.actionBar,additionalProps:{actions:r},className:p.actionBar,ownerState:h}),y=at(g,XY),b=t.jsx(m,U({},y)),w=l==null?void 0:l.toolbar,v=Nt({elementType:w,externalSlotProps:d==null?void 0:d.toolbar,className:p.toolbar,ownerState:h}),I=JY(v)&&w?t.jsx(w,U({},v)):null,S=i,T=l==null?void 0:l.tabs,D=s&&T?t.jsx(T,U({className:p.tabs},d==null?void 0:d.tabs)):null,A=(l==null?void 0:l.shortcuts)??KY,R=Nt({elementType:A,externalSlotProps:d==null?void 0:d.shortcuts,className:p.shortcuts,ownerState:h}),k=s&&A?t.jsx(A,U({},R)):null;return{toolbar:I,content:S,tabs:D,actionBar:b,shortcuts:k,ownerState:h}},ZY=(e,n)=>{const{pickerOrientation:r}=n;return Jt({root:["root",r==="landscape"&&"landscape"],contentWrapper:["contentWrapper"]},eC,e)},nC=Me("div",{name:"MuiPickersLayout",slot:"Root"})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${ls.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{pickerOrientation:"landscape"},style:{[`& .${ls.toolbar}`]:{gridColumn:1,gridRow:"2 / 3"},[`.${ls.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{pickerOrientation:"landscape",layoutDirection:"rtl"},style:{[`& .${ls.toolbar}`]:{gridColumn:3}}},{props:{pickerOrientation:"portrait"},style:{[`& .${ls.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${ls.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{pickerOrientation:"portrait",layoutDirection:"rtl"},style:{[`& .${ls.shortcuts}`]:{gridColumn:3}}}]}),rC=Me("div",{name:"MuiPickersLayout",slot:"ContentWrapper"})({gridColumn:"2 / 4",gridRow:2,display:"flex",flexDirection:"column"}),sC=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersLayout"}),{toolbar:o,content:i,tabs:l,actionBar:d,shortcuts:u,ownerState:h}=tC(s),{orientation:p,variant:m}=So(),{sx:g,className:y,classes:b}=s,w=ZY(b,h);return t.jsxs(nC,{ref:r,sx:g,className:nn(w.root,y),ownerState:h,children:[p==="landscape"?u:o,p==="landscape"?o:u,t.jsx(rC,{className:w.contentWrapper,ownerState:h,children:m==="desktop"?t.jsxs(x.Fragment,{children:[i,l]}):t.jsxs(x.Fragment,{children:[l,i]})}),d]})});function oC(e){const{steps:n}=e;return q8({steps:n,isViewMatchingStep:(r,s)=>s.views==null||s.views.includes(r),onStepChange:({step:r,defaultView:s,setView:o,view:i,views:l})=>{const d=r.views==null?s:r.views.find(u=>l.includes(u));d!==i&&o(d)}})}const eq=["props","steps"],tq=["ownerState"],nq=e=>{var R;let{props:n,steps:r}=e,s=at(e,eq);const{slots:o,slotProps:i,label:l,inputRef:d,localeText:u}=n,h=oC({steps:r}),{providerProps:p,renderCurrentView:m,ownerState:g}=Z1(U({},s,{props:n,localeText:u,autoFocusView:!0,viewContainerRole:"dialog",variant:"desktop",getStepNavigation:h})),y=p.privateContextValue.labelId,b=((R=i==null?void 0:i.toolbar)==null?void 0:R.hidden)??!1,w=o.field,v=Nt({elementType:w,externalSlotProps:i==null?void 0:i.field,additionalProps:U({},b&&{id:y}),ownerState:g}),I=at(v,tq),S=o.layout??sC;let T=y;b&&(l?T=`${y}-label`:T=void 0);const D=U({},i,{toolbar:U({},i==null?void 0:i.toolbar,{titleId:y}),popper:U({"aria-labelledby":T},i==null?void 0:i.popper)});return{renderPicker:()=>t.jsx(d1,U({},p,{children:t.jsxs(U1,{slots:o,slotProps:D,inputRef:d,children:[t.jsx(w,U({},I)),t.jsx($Y,{slots:o,slotProps:D,children:t.jsx(S,U({},D==null?void 0:D.layout,{slots:o,slotProps:D,children:m()}))})]})}))}},Ra=({view:e,onViewChange:n,views:r,focusedView:s,onFocusedViewChange:o,value:i,defaultValue:l,referenceDate:d,onChange:u,className:h,classes:p,disableFuture:m,disablePast:g,minDate:y,maxDate:b,shouldDisableDate:w,shouldDisableMonth:v,shouldDisableYear:I,reduceAnimations:S,onMonthChange:T,monthsPerRow:D,onYearChange:A,yearsOrder:R,yearsPerRow:k,slots:_,slotProps:N,loading:W,renderLoading:Y,disableHighlightToday:$,readOnly:H,disabled:J,showDaysOutsideCurrentMonth:X,dayOfWeekFormatter:K,sx:Z,autoFocus:G,fixedWeekNumber:oe,displayWeekNumber:V,timezone:ee})=>t.jsx(SY,{view:e,onViewChange:n,views:r.filter(Ya),focusedView:s&&Ya(s)?s:null,onFocusedViewChange:o,value:i,defaultValue:l,referenceDate:d,onChange:u,className:h,classes:p,disableFuture:m,disablePast:g,minDate:y,maxDate:b,shouldDisableDate:w,shouldDisableMonth:v,shouldDisableYear:I,reduceAnimations:S,onMonthChange:T,monthsPerRow:D,onYearChange:A,yearsOrder:R,yearsPerRow:k,slots:_,slotProps:N,loading:W,renderLoading:Y,disableHighlightToday:$,readOnly:H,disabled:J,showDaysOutsideCurrentMonth:X,dayOfWeekFormatter:K,sx:Z,autoFocus:G,fixedWeekNumber:oe,displayWeekNumber:V,timezone:ee}),rq=Me(qt)({[`& .${Jb.container}`]:{outline:0},[`& .${Jb.paper}`]:{outline:0,minWidth:Ha}}),sq=Me(Kt)({"&:first-of-type":{padding:0}});function oq(e){const{children:n,slots:r,slotProps:s}=e,{open:o}=So(),{dismissViews:i,onPopperExited:l}=Tn(),d=(r==null?void 0:r.dialog)??rq,u=(r==null?void 0:r.mobileTransition)??hd;return t.jsx(d,U({open:o,onClose:()=>{i(),l==null||l()}},s==null?void 0:s.dialog,{TransitionComponent:u,TransitionProps:s==null?void 0:s.mobileTransition,PaperComponent:r==null?void 0:r.mobilePaper,PaperProps:s==null?void 0:s.mobilePaper,children:t.jsx(sq,{children:n})}))}const aq=["props","steps"],iq=["ownerState"],lq=e=>{var R;let{props:n,steps:r}=e,s=at(e,aq);const{slots:o,slotProps:i,label:l,inputRef:d,localeText:u}=n,h=oC({steps:r}),{providerProps:p,renderCurrentView:m,ownerState:g}=Z1(U({},s,{props:n,localeText:u,autoFocusView:!0,viewContainerRole:"dialog",variant:"mobile",getStepNavigation:h})),y=p.privateContextValue.labelId,b=((R=i==null?void 0:i.toolbar)==null?void 0:R.hidden)??!1,w=o.field,v=Nt({elementType:w,externalSlotProps:i==null?void 0:i.field,additionalProps:U({},b&&{id:y}),ownerState:g}),I=at(v,iq),S=o.layout??sC;let T=y;b&&(l?T=`${y}-label`:T=void 0);const D=U({},i,{toolbar:U({},i==null?void 0:i.toolbar,{titleId:y}),mobilePaper:U({"aria-labelledby":T},i==null?void 0:i.mobilePaper)});return{renderPicker:()=>t.jsx(d1,U({},p,{children:t.jsxs(U1,{slots:o,slotProps:D,inputRef:d,children:[t.jsx(w,U({},I)),t.jsx(oq,{slots:o,slotProps:D,children:t.jsx(S,U({},D==null?void 0:D.layout,{slots:o,slotProps:D,children:m()}))})]})}))}};function cq(e){return cn("MuiPickersToolbarText",e)}const dq=fn("MuiPickersToolbarText",["root"]),uq=["className","classes","selected","value"],hq=e=>Jt({root:["root"]},cq,e),fq=Me(j,{name:"MuiPickersToolbarText",slot:"Root"})(({theme:e})=>({transition:e.transitions.create("color"),color:(e.vars||e).palette.text.secondary,"&[data-selected]":{color:(e.vars||e).palette.text.primary}})),aC=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersToolbarText"}),{className:o,classes:i,selected:l,value:d}=s,u=at(s,uq),h=hq(i);return t.jsx(fq,U({ref:r,className:nn(h.root,o),component:"span",ownerState:s},l&&{"data-selected":!0},u,{children:d}))}),pq=["align","className","classes","selected","typographyClassName","value","variant","width"],mq=e=>Jt({root:["root"]},J1,e),xq=Me(he,{name:"MuiPickersToolbarButton",slot:"Root"})({padding:0,minWidth:16,textTransform:"none"}),lo=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersToolbarButton"}),{align:o,className:i,classes:l,selected:d,typographyClassName:u,value:h,variant:p,width:m}=s,g=at(s,pq),y=mq(l);return t.jsx(xq,U({variant:"text",ref:r,className:nn(y.root,i),ownerState:s},m?{sx:{width:m}}:{},g,{children:t.jsx(aC,{align:o,className:u,variant:p,value:h,selected:d})}))}),iC=({view:e,onViewChange:n,focusedView:r,onFocusedViewChange:s,views:o,value:i,defaultValue:l,referenceDate:d,onChange:u,className:h,classes:p,disableFuture:m,disablePast:g,minTime:y,maxTime:b,shouldDisableTime:w,minutesStep:v,ampm:I,slots:S,slotProps:T,readOnly:D,disabled:A,sx:R,autoFocus:k,disableIgnoringDatePartForTimeValidation:_,timeSteps:N,skipDisabled:W,timezone:Y})=>t.jsx(P9,{view:e,onViewChange:n,focusedView:r&&el(r)?r:null,onFocusedViewChange:s,views:o.filter(el),value:i,defaultValue:l,referenceDate:d,onChange:u,className:h,classes:p,disableFuture:m,disablePast:g,minTime:y,maxTime:b,shouldDisableTime:w,minutesStep:v,ampm:I,slots:S,slotProps:T,readOnly:D,disabled:A,sx:R,autoFocus:k,disableIgnoringDatePartForTimeValidation:_,timeStep:N==null?void 0:N.minutes,skipDisabled:W,timezone:Y}),ld=({view:e,onViewChange:n,focusedView:r,onFocusedViewChange:s,views:o,value:i,defaultValue:l,referenceDate:d,onChange:u,className:h,classes:p,disableFuture:m,disablePast:g,minTime:y,maxTime:b,shouldDisableTime:w,minutesStep:v,ampm:I,slots:S,slotProps:T,readOnly:D,disabled:A,sx:R,autoFocus:k,disableIgnoringDatePartForTimeValidation:_,timeSteps:N,skipDisabled:W,timezone:Y})=>t.jsx(L9,{view:e,onViewChange:n,focusedView:r&&Sa(r)?r:null,onFocusedViewChange:s,views:o.filter(el),value:i,defaultValue:l,referenceDate:d,onChange:u,className:h,classes:p,disableFuture:m,disablePast:g,minTime:y,maxTime:b,shouldDisableTime:w,minutesStep:v,ampm:I,slots:S,slotProps:T,readOnly:D,disabled:A,sx:R,autoFocus:k,disableIgnoringDatePartForTimeValidation:_,timeSteps:N,skipDisabled:W,timezone:Y}),gq=["views","format"],lC=(e,n,r)=>{let{views:s,format:o}=n,i=at(n,gq);if(o)return o;const l=[],d=[];if(s.forEach(p=>{el(p)?d.push(p):Ya(p)&&l.push(p)}),d.length===0)return G0(e,U({views:l},i));if(l.length===0)return H0(e,U({views:d},i));const u=H0(e,U({views:d},i));return`${G0(e,U({views:l},i))} ${u}`},bq=(e,n,r)=>r?n.filter(s=>!Sa(s)||s==="hours"):e?[...n,"meridiem"]:n,yq=(e,n)=>24*60/((e.hours??1)*(e.minutes??5))<=n;function vq({thresholdToRenderTimeInASingleColumn:e,ampm:n,timeSteps:r,views:s}){const o=e??24,i=U({hours:1,minutes:5,seconds:5},r),l=yq(i,o);return{thresholdToRenderTimeInASingleColumn:o,timeSteps:i,shouldRenderTimeInASingleColumn:l,views:bq(n,s,l)}}function jq(e){return cn("MuiDateTimePickerTabs",e)}fn("MuiDateTimePickerTabs",["root"]);const wq=e=>Ya(e)?"date":"time",Sq=e=>e==="date"?"day":"hours",Cq=e=>Jt({root:["root"]},jq,e),Pq=Me(yo,{name:"MuiDateTimePickerTabs",slot:"Root"})(({theme:e})=>({boxShadow:`0 -1px 0 0 inset ${(e.vars||e).palette.divider}`,"&:last-child":{boxShadow:`0 1px 0 0 inset ${(e.vars||e).palette.divider}`,[`& .${MR.indicator}`]:{bottom:"auto",top:0}}})),Iq=function(n){const r=Gt({props:n,name:"MuiDateTimePickerTabs"}),{dateIcon:s=t.jsx(_8,{}),timeIcon:o=t.jsx(k8,{}),hidden:i=typeof window>"u"||window.innerHeight<667,className:l,classes:d,sx:u}=r,h=gs(),{ownerState:p}=Tn(),{view:m,setView:g}=So(),y=Cq(d),b=(w,v)=>{g(Sq(v))};return i?null:t.jsxs(Pq,{ownerState:p,variant:"fullWidth",value:wq(m),onChange:b,className:nn(l,y.root),sx:u,children:[t.jsx(nr,{value:"date","aria-label":h.dateTableLabel,icon:t.jsx(x.Fragment,{children:s})}),t.jsx(nr,{value:"time","aria-label":h.timeTableLabel,icon:t.jsx(x.Fragment,{children:o})})]})};function Dq(e){return cn("MuiDateTimePickerToolbar",e)}const Hh=fn("MuiDateTimePickerToolbar",["root","dateContainer","timeContainer","timeDigitsContainer","separator","timeLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),Tq=["ampm","ampmInClock","toolbarFormat","toolbarPlaceholder","toolbarTitle","className","classes"],Eq=(e,n)=>{const{pickerOrientation:r,toolbarDirection:s}=n;return Jt({root:["root"],dateContainer:["dateContainer"],timeContainer:["timeContainer",s==="rtl"&&"timeLabelReverse"],timeDigitsContainer:["timeDigitsContainer",s==="rtl"&&"timeLabelReverse"],separator:["separator"],ampmSelection:["ampmSelection",r==="landscape"&&"ampmLandscape"],ampmLabel:["ampmLabel"]},Dq,e)},Aq=Me(EY,{name:"MuiDateTimePickerToolbar",slot:"Root",shouldForwardProp:e=>Ks(e)&&e!=="toolbarVariant"})(({theme:e})=>({paddingLeft:16,paddingRight:16,justifyContent:"space-around",position:"relative",variants:[{props:{toolbarVariant:"desktop"},style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,[`& .${CY.content} .${dq.root}[data-selected]`]:{color:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightBold}}},{props:{toolbarVariant:"desktop",pickerOrientation:"landscape"},style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:{toolbarVariant:"desktop",pickerOrientation:"portrait"},style:{paddingLeft:24,paddingRight:0}}]})),Rq=Me("div",{name:"MuiDateTimePickerToolbar",slot:"DateContainer"})({display:"flex",flexDirection:"column",alignItems:"flex-start"}),_q=Me("div",{name:"MuiDateTimePickerToolbar",slot:"TimeContainer",shouldForwardProp:e=>Ks(e)&&e!=="toolbarVariant"})({display:"flex",flexDirection:"row",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop",pickerOrientation:"portrait"},style:{gap:9,marginRight:4,alignSelf:"flex-end"}},{props:({pickerOrientation:e,toolbarVariant:n})=>e==="landscape"&&n!=="desktop",style:{flexDirection:"column"}},{props:({pickerOrientation:e,toolbarVariant:n,toolbarDirection:r})=>e==="landscape"&&n!=="desktop"&&r==="rtl",style:{flexDirection:"column-reverse"}}]}),kq=Me("div",{name:"MuiDateTimePickerToolbar",slot:"TimeDigitsContainer",shouldForwardProp:e=>Ks(e)&&e!=="toolbarVariant"})({display:"flex",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop"},style:{gap:1.5}}]}),lv=Me(aC,{name:"MuiDateTimePickerToolbar",slot:"Separator",shouldForwardProp:e=>Ks(e)&&e!=="toolbarVariant"})({margin:"0 4px 0 2px",cursor:"default",variants:[{props:{toolbarVariant:"desktop"},style:{margin:0}}]}),Oq=Me("div",{name:"MuiDateTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(e,n)=>[{[`.${Hh.ampmLabel}`]:n.ampmLabel},{[`&.${Hh.ampmLandscape}`]:n.ampmLandscape},n.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${Hh.ampmLabel}`]:{fontSize:17},variants:[{props:{pickerOrientation:"landscape"},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",width:"100%"}}]}),Mq=x.createContext(null);function Nq(e){const n=Gt({props:e,name:"MuiDateTimePickerToolbar"}),{ampm:r,ampmInClock:s,toolbarFormat:o,toolbarPlaceholder:i="",toolbarTitle:l,className:d,classes:u}=n,h=at(n,Tq),{value:p,setValue:m,disabled:g,readOnly:y,variant:b,orientation:w,view:v,setView:I,views:S}=So(),T=gs(),D=Q1(),A=Eq(u,D),R=Vt(),k=x.useContext(Mq),_=k?k.value:p,N=k?k.setValue:m,W=k?k.view:v,Y=k?k.setView:I,{meridiemMode:$,handleMeridiemChange:H}=f1(_,r,V=>N(V,{changeImportance:"set"})),J=k!=null&&k.forceDesktopVariant?"desktop":b,X=J==="desktop",K=!!(r&&!s),Z=l??T.dateTimePickerToolbarTitle,G=x.useMemo(()=>R.isValid(_)?o?R.formatByString(_,o):R.format(_,"shortDate"):i,[_,o,i,R]),oe=(V,ee)=>R.isValid(_)?R.format(_,V):ee;return t.jsxs(Aq,U({className:nn(A.root,d),toolbarTitle:Z,toolbarVariant:J},h,{ownerState:D,children:[t.jsxs(Rq,{className:A.dateContainer,ownerState:D,children:[S.includes("year")&&t.jsx(lo,{tabIndex:-1,variant:"subtitle1",onClick:()=>Y("year"),selected:W==="year",value:oe("year","")}),S.includes("day")&&t.jsx(lo,{tabIndex:-1,variant:X?"h5":"h4",onClick:()=>Y("day"),selected:W==="day",value:G})]}),t.jsxs(_q,{className:A.timeContainer,ownerState:D,toolbarVariant:J,children:[t.jsxs(kq,{className:A.timeDigitsContainer,ownerState:D,toolbarVariant:J,children:[S.includes("hours")&&t.jsxs(x.Fragment,{children:[t.jsx(lo,{variant:X?"h5":"h3",width:X&&w==="portrait"?Ri:void 0,onClick:()=>Y("hours"),selected:W==="hours",value:oe(r?"hours12h":"hours24h","--")}),t.jsx(lv,{variant:X?"h5":"h3",value:":",className:A.separator,ownerState:D,toolbarVariant:J}),t.jsx(lo,{variant:X?"h5":"h3",width:X&&w==="portrait"?Ri:void 0,onClick:()=>Y("minutes"),selected:W==="minutes"||!S.includes("minutes")&&W==="hours",value:oe("minutes","--"),disabled:!S.includes("minutes")})]}),S.includes("seconds")&&t.jsxs(x.Fragment,{children:[t.jsx(lv,{variant:X?"h5":"h3",value:":",className:A.separator,ownerState:D,toolbarVariant:J}),t.jsx(lo,{variant:X?"h5":"h3",width:X&&w==="portrait"?Ri:void 0,onClick:()=>Y("seconds"),selected:W==="seconds",value:oe("seconds","--")})]})]}),K&&!X&&t.jsxs(Oq,{className:A.ampmSelection,ownerState:D,children:[t.jsx(lo,{variant:"subtitle2",selected:$==="am",typographyClassName:A.ampmLabel,value:$i(R,"am"),onClick:y?void 0:()=>H("am"),disabled:g}),t.jsx(lo,{variant:"subtitle2",selected:$==="pm",typographyClassName:A.ampmLabel,value:$i(R,"pm"),onClick:y?void 0:()=>H("pm"),disabled:g})]}),r&&X&&t.jsx(lo,{variant:"h5",onClick:()=>Y("meridiem"),selected:W==="meridiem",value:_&&$?$i(R,$):"--",width:Ri})]})]}))}function cC(e,n){var y;const r=Vt(),s=Gt({props:e,name:n}),o=k1(s),i=s.ampm??r.is12HourCycleInCurrentLocale(),l=x.useMemo(()=>{var b;return((b=s.localeText)==null?void 0:b.toolbarTitle)==null?s.localeText:U({},s.localeText,{dateTimePickerToolbarTitle:s.localeText.toolbarTitle})},[s.localeText]),{openTo:d,views:u}=z8({views:s.views,openTo:s.openTo,defaultViews:["year","day","hours","minutes"],defaultOpenTo:"day"}),{shouldRenderTimeInASingleColumn:h,thresholdToRenderTimeInASingleColumn:p,views:m,timeSteps:g}=vq({thresholdToRenderTimeInASingleColumn:s.thresholdToRenderTimeInASingleColumn,ampm:i,timeSteps:s.timeSteps,views:u});return U({},s,o,{timeSteps:g,openTo:d,shouldRenderTimeInASingleColumn:h,thresholdToRenderTimeInASingleColumn:p,views:m,ampm:i,localeText:l,orientation:s.orientation??"portrait",slots:U({toolbar:Nq,tabs:Iq},s.slots),slotProps:U({},s.slotProps,{toolbar:U({ampm:i},(y=s.slotProps)==null?void 0:y.toolbar)})})}const Lq=x.forwardRef(function(n,r){var b;const{toolbar:s,tabs:o,content:i,actionBar:l,shortcuts:d,ownerState:u}=tC(n),{orientation:h}=So(),{sx:p,className:m,classes:g}=n,y=l&&(((b=l.props.actions)==null?void 0:b.length)??0)>0;return t.jsxs(nC,{ref:r,className:nn(ls.root,g==null?void 0:g.root,m),sx:[{[`& .${ls.tabs}`]:{gridRow:4,gridColumn:"1 / 4"},[`& .${ls.actionBar}`]:{gridRow:5}},...Array.isArray(p)?p:[p]],ownerState:u,children:[h==="landscape"?d:s,h==="landscape"?s:d,t.jsxs(rC,{className:nn(ls.contentWrapper,g==null?void 0:g.contentWrapper),ownerState:u,sx:{display:"grid"},children:[i,o,y&&t.jsx(Lt,{sx:{gridRow:3,gridColumn:"1 / 4"}})]}),l]})}),$q=["openTo","focusedView","timeViewsCount"],Fq=function(n){var y,b;const{viewRenderers:r,popperView:s,rendererProps:o}=n,{openTo:i,focusedView:l,timeViewsCount:d}=o,u=at(o,$q),h=U({},u,{autoFocus:!1,focusedView:null,sx:[{[`&.${Pf.root}`]:{borderBottom:0},[`&.${Pf.root}, .${If.root}, &.${Cf.root}`]:{maxHeight:Ga}}]}),p=Sa(s),m=p?"day":s,g=p?s:"hours";return t.jsxs(x.Fragment,{children:[(y=r[m])==null?void 0:y.call(r,U({},o,{view:p?"day":s,focusedView:l&&Ya(l)?l:null,views:o.views.filter(Ya),sx:[{gridColumn:1},...h.sx]})),d>0&&t.jsxs(x.Fragment,{children:[t.jsx(Lt,{orientation:"vertical",sx:{gridColumn:2}}),(b=r[g])==null?void 0:b.call(r,U({},h,{view:p?s:"hours",focusedView:l&&Sa(l)?l:null,openTo:Sa(i)?i:"hours",views:o.views.filter(Sa),sx:[{gridColumn:3},...h.sx]}))]})]})},dC=x.forwardRef(function(n,r){var g,y,b;const s=Vt(),o=cC(n,"MuiDesktopDateTimePicker"),i=o.shouldRenderTimeInASingleColumn?iC:ld,l=U({day:Ra,month:Ra,year:Ra,hours:i,minutes:i,seconds:i,meridiem:i},o.viewRenderers),d=o.ampmInClock??!0,h=((g=l.hours)==null?void 0:g.name)===ld.name?o.views:o.views.filter(w=>w!=="meridiem"),p=U({},o,{viewRenderers:l,format:lC(s,o),views:h,yearsPerRow:o.yearsPerRow??4,ampmInClock:d,slots:U({field:z1,layout:Lq},o.slots),slotProps:U({},o.slotProps,{field:w=>{var v;return U({},Zi((v=o.slotProps)==null?void 0:v.field,w),P1(o))},toolbar:U({hidden:!0,ampmInClock:d},(y=o.slotProps)==null?void 0:y.toolbar),tabs:U({hidden:!0},(b=o.slotProps)==null?void 0:b.tabs)})}),{renderPicker:m}=nq({ref:r,props:p,valueManager:pr,valueType:"date-time",validator:Gd,rendererInterceptor:Fq,steps:null});return m()});dC.propTypes={ampm:ne.bool,ampmInClock:ne.bool,autoFocus:ne.bool,className:ne.string,closeOnSelect:ne.bool,dayOfWeekFormatter:ne.func,defaultValue:ne.object,disabled:ne.bool,disableFuture:ne.bool,disableHighlightToday:ne.bool,disableIgnoringDatePartForTimeValidation:ne.bool,disableOpenPicker:ne.bool,disablePast:ne.bool,displayWeekNumber:ne.bool,enableAccessibleFieldDOMStructure:ne.any,fixedWeekNumber:ne.number,format:ne.string,formatDensity:ne.oneOf(["dense","spacious"]),inputRef:t1,label:ne.node,loading:ne.bool,localeText:ne.object,maxDate:ne.object,maxDateTime:ne.object,maxTime:ne.object,minDate:ne.object,minDateTime:ne.object,minTime:ne.object,minutesStep:ne.number,monthsPerRow:ne.oneOf([3,4]),name:ne.string,onAccept:ne.func,onChange:ne.func,onClose:ne.func,onError:ne.func,onMonthChange:ne.func,onOpen:ne.func,onSelectedSectionsChange:ne.func,onViewChange:ne.func,onYearChange:ne.func,open:ne.bool,openTo:ne.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),orientation:ne.oneOf(["landscape","portrait"]),readOnly:ne.bool,reduceAnimations:ne.bool,referenceDate:ne.object,renderLoading:ne.func,selectedSections:ne.oneOfType([ne.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),ne.number]),shouldDisableDate:ne.func,shouldDisableMonth:ne.func,shouldDisableTime:ne.func,shouldDisableYear:ne.func,showDaysOutsideCurrentMonth:ne.bool,skipDisabled:ne.bool,slotProps:ne.object,slots:ne.object,sx:ne.oneOfType([ne.arrayOf(ne.oneOfType([ne.func,ne.object,ne.bool])),ne.func,ne.object]),thresholdToRenderTimeInASingleColumn:ne.number,timeSteps:ne.shape({hours:ne.number,minutes:ne.number,seconds:ne.number}),timezone:ne.string,value:ne.object,view:ne.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),viewRenderers:ne.shape({day:ne.func,hours:ne.func,meridiem:ne.func,minutes:ne.func,month:ne.func,seconds:ne.func,year:ne.func}),views:ne.arrayOf(ne.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:ne.oneOf(["asc","desc"]),yearsPerRow:ne.oneOf([3,4])};const Wq=[{views:m1},{views:u1}],uC=x.forwardRef(function(n,r){var g,y,b,w,v,I;const s=Vt(),o=cC(n,"MuiMobileDateTimePicker"),i=o.shouldRenderTimeInASingleColumn?iC:ld,l=U({day:Ra,month:Ra,year:Ra,hours:i,minutes:i,seconds:i,meridiem:i},o.viewRenderers),d=o.ampmInClock??!1,h=((g=l.hours)==null?void 0:g.name)===ld.name?o.views:o.views.filter(S=>S!=="meridiem"),p=U({},o,{viewRenderers:l,format:lC(s,o),views:h,ampmInClock:d,slots:U({field:z1},o.slots),slotProps:U({},o.slotProps,{field:S=>{var T;return U({},Zi((T=o.slotProps)==null?void 0:T.field,S),P1(o))},toolbar:U({hidden:!1,ampmInClock:d},(y=o.slotProps)==null?void 0:y.toolbar),tabs:U({hidden:!1},(b=o.slotProps)==null?void 0:b.tabs),layout:U({},(w=o.slotProps)==null?void 0:w.layout,{sx:y9([{[`& .${Pf.root}`]:{width:Ha},[`& .${If.root}`]:{flex:1,maxHeight:Ga-1,[`.${If.item}`]:{width:"auto"}},[`& .${Cf.root}`]:{width:Ha,maxHeight:Ga,flex:1,[`.${Cf.item}`]:{justifyContent:"center"}}}],(I=(v=o.slotProps)==null?void 0:v.layout)==null?void 0:I.sx)})})}),{renderPicker:m}=lq({ref:r,props:p,valueManager:pr,valueType:"date-time",validator:Gd,steps:Wq});return m()});uC.propTypes={ampm:ne.bool,ampmInClock:ne.bool,autoFocus:ne.bool,className:ne.string,closeOnSelect:ne.bool,dayOfWeekFormatter:ne.func,defaultValue:ne.object,disabled:ne.bool,disableFuture:ne.bool,disableHighlightToday:ne.bool,disableIgnoringDatePartForTimeValidation:ne.bool,disableOpenPicker:ne.bool,disablePast:ne.bool,displayWeekNumber:ne.bool,enableAccessibleFieldDOMStructure:ne.any,fixedWeekNumber:ne.number,format:ne.string,formatDensity:ne.oneOf(["dense","spacious"]),inputRef:t1,label:ne.node,loading:ne.bool,localeText:ne.object,maxDate:ne.object,maxDateTime:ne.object,maxTime:ne.object,minDate:ne.object,minDateTime:ne.object,minTime:ne.object,minutesStep:ne.number,monthsPerRow:ne.oneOf([3,4]),name:ne.string,onAccept:ne.func,onChange:ne.func,onClose:ne.func,onError:ne.func,onMonthChange:ne.func,onOpen:ne.func,onSelectedSectionsChange:ne.func,onViewChange:ne.func,onYearChange:ne.func,open:ne.bool,openTo:ne.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),orientation:ne.oneOf(["landscape","portrait"]),readOnly:ne.bool,reduceAnimations:ne.bool,referenceDate:ne.object,renderLoading:ne.func,selectedSections:ne.oneOfType([ne.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),ne.number]),shouldDisableDate:ne.func,shouldDisableMonth:ne.func,shouldDisableTime:ne.func,shouldDisableYear:ne.func,showDaysOutsideCurrentMonth:ne.bool,skipDisabled:ne.bool,slotProps:ne.object,slots:ne.object,sx:ne.oneOfType([ne.arrayOf(ne.oneOfType([ne.func,ne.object,ne.bool])),ne.func,ne.object]),thresholdToRenderTimeInASingleColumn:ne.number,timeSteps:ne.shape({hours:ne.number,minutes:ne.number,seconds:ne.number}),timezone:ne.string,value:ne.object,view:ne.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),viewRenderers:ne.shape({day:ne.func,hours:ne.func,meridiem:ne.func,minutes:ne.func,month:ne.func,seconds:ne.func,year:ne.func}),views:ne.arrayOf(ne.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:ne.oneOf(["asc","desc"]),yearsPerRow:ne.oneOf([3,4])};const Bq=["desktopModeMediaQuery"],cv=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiDateTimePicker"}),{desktopModeMediaQuery:o=b9}=s,i=at(s,Bq);return sl(o,{defaultMatches:!0})?t.jsx(dC,U({ref:r},i)):t.jsx(uC,U({ref:r},i))}),hC=({initialData:e,onSubmit:n,submitButtonText:r="Submit",isEdit:s})=>{var v,I;const{profile:o,channelRelations:{hasChannel:i}}=xs(),l=Ct(),[d,u]=x.useState({title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",startDate:(e==null?void 0:e.startDate)||new Date,endDate:(e==null?void 0:e.endDate)||new Date,channelId:(e==null?void 0:e.channelId)||"",options:(e==null?void 0:e.options)||[{text:""},{text:""}],media:(e==null?void 0:e.media)||[]}),[h,p]=x.useState(((v=e==null?void 0:e.media)==null?void 0:v.find(S=>S.type===qy.COVER))||null);x.useEffect(()=>{o&&(!o.staffChannels||o.staffChannels.length)},[o]);const m=(S,T)=>{u(D=>({...D,[S]:T}))},g=(S,T)=>{const D=[...d.options];D[S]={text:T},m("options",D)},y=()=>{m("options",[...d.options,{text:""}])},b=S=>{if(d.options.length<=2)return;const T=d.options.filter((D,A)=>A!==S);m("options",T)},w=S=>{S.preventDefault();const T={...d,media:h?[h]:[]};n(T)};return i()?t.jsx(C,{component:"form",onSubmit:w,children:t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,children:t.jsxs(ht,{fullWidth:!0,disabled:s,children:[t.jsx(St,{id:"channel-select-label",children:"Channel"}),t.jsx(mt,{labelId:"channel-select-label",value:d.channelId,label:"Channel",onChange:S=>m("channelId",S.target.value),required:!0,children:(I=o==null?void 0:o.staffChannels)==null?void 0:I.map(S=>t.jsx(we,{value:S.channelId,children:S.channel.name},S.id))})]})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(tt,{fullWidth:!0,label:"Poll Title",value:d.title,onChange:S=>m("title",S.target.value),required:!0})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(tt,{fullWidth:!0,label:"Description",value:d.description,onChange:S=>m("description",S.target.value),multiline:!0,rows:4})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(cv,{label:"Start Date",value:d.startDate,onChange:S=>m("startDate",S),sx:{width:"100%"}})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(cv,{label:"End Date",value:d.endDate,onChange:S=>m("endDate",S),sx:{width:"100%"}})}),t.jsx(F,{item:!0,xs:12,children:t.jsxs(ot,{sx:{p:3,mb:2},children:[t.jsx(j,{variant:"h6",sx:{mb:3},children:"Media"}),t.jsx(ge,{spacing:4,children:t.jsx(C,{children:t.jsx($w,{title:"Cover Media",description:"Upload an image or short video that will be displayed with your poll and in previews.",value:h?{id:h.id||"0",url:h.url,type:h.type,format:h.format}:null,onChange:S=>p(S?{id:S.id,url:S.url,type:S.type,format:S.format,pollId:""}:null),mediaTypeId:qy.COVER,useNewsFormats:!1})})})]})}),t.jsx(F,{item:!0,xs:12,children:t.jsxs(ot,{sx:{p:2,mb:2},children:[t.jsx(j,{variant:"h6",sx:{mb:2},children:"Poll Options"}),d.options.map((S,T)=>t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(tt,{fullWidth:!0,label:`Option ${T+1}`,value:S.text,onChange:D=>g(T,D.target.value),required:!0,sx:{mr:1}}),t.jsx(Le,{onClick:()=>b(T),disabled:d.options.length<=2,children:t.jsx(ea,{})})]},T)),t.jsx(he,{startIcon:t.jsx(Nm,{}),onClick:y,variant:"outlined",size:"small",children:"Add Option"})]})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(he,{type:"submit",variant:"contained",size:"large",fullWidth:!0,children:r})})]})}):t.jsx(C,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",p:3},children:t.jsx(Xs,{title:"Channel Required",description:"You need to create a channel before you can start creating polls.",icon:t.jsx(cl,{sx:{fontSize:48}}),action:{label:"Create Channel",onClick:()=>l(ye.STUDIO_CHANNEL_CREATE)}})})},Vq=()=>{const{api:e}=Qe(),n=Ct(),{execute:r}=st(),s=async o=>{if(!o)return;await r(()=>e==null?void 0:e.studio.createPoll(o),{showSuccessMessage:!0,successMessage:"Poll created successfully!"})&&n(`${ye.STUDIO_POLLS}`)};return t.jsxs(Tt,{sx:{maxWidth:800,mx:"auto",p:3},children:[t.jsx(j,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Create Poll"}),t.jsx(hC,{onSubmit:s,submitButtonText:"Create Poll"})]})},Uq=()=>{const{id:e}=ns(),n=Ct(),{api:r}=Qe(),[s,o]=x.useState(null),{execute:i}=st(),{execute:l}=st();x.useEffect(()=>{(async()=>{if(!e)return;const h=await i(()=>r==null?void 0:r.app.poll.get(e),{showErrorToast:!0});h&&o(h)})()},[e,r==null?void 0:r.app.poll,i]);const d=async u=>{e&&(await l(()=>r==null?void 0:r.app.poll.update(e,u),{showSuccessMessage:!0,successMessage:"Poll updated successfully!"}),n(ye.STUDIO_POLL_VIEW.replace(":id",e)))};return s?t.jsxs(Tt,{sx:{maxWidth:800,mx:"auto",p:3},children:[t.jsx(j,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Edit Poll"}),t.jsx(hC,{initialData:{title:s.title,description:s.description,startDate:s.startDate,endDate:s.endDate,channelId:s.channel.id,options:s.options.map(u=>({text:u.text,id:u.id}))},onSubmit:d,submitButtonText:"Update Poll"})]}):null},zq=({poll:e})=>{const n=ln(),r=e.statistics.totalVotes;return t.jsx(C,{children:e.options.map(s=>{const o=r>0?s.votes/r*100:0;return t.jsxs(C,{sx:{mb:2},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[t.jsx(j,{variant:"body1",children:s.text}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:[s.votes," votes (",o.toFixed(1),"%)"]})]}),t.jsx(Oa,{variant:"determinate",value:o,sx:{height:8,borderRadius:1,bgcolor:fe(n.palette.primary.main,.1),"& .MuiLinearProgress-bar":{borderRadius:1,bgcolor:n.palette.primary.main}}})]},s.id)})})};var wx={},Hq=Ke;Object.defineProperty(wx,"__esModule",{value:!0});var fC=wx.default=void 0,Gq=Hq(Xe()),Yq=t;fC=wx.default=(0,Gq.default)((0,Yq.jsx)("path",{d:"M18 13h-.68l-2 2h1.91L19 17H5l1.78-2h2.05l-2-2H6l-3 3v4c0 1.1.89 2 1.99 2H19c1.1 0 2-.89 2-2v-4zm-1-5.05-4.95 4.95-3.54-3.54 4.95-4.95zm-4.24-5.66L6.39 8.66c-.39.39-.39 1.02 0 1.41l4.95 4.95c.39.39 1.02.39 1.41 0l6.36-6.36c.39-.39.39-1.02 0-1.41L14.16 2.3c-.38-.4-1.01-.4-1.4-.01"}),"HowToVote");const qq=()=>t.jsx(Tt,{maxWidth:"lg",sx:{mt:4},children:t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsxs(C,{sx:{mb:3},children:[t.jsx(ce,{variant:"text",width:"60%",height:40}),t.jsx(ce,{variant:"text",width:"40%",height:24})]})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsx(ce,{variant:"text",width:"50%",height:32,sx:{mb:2}}),t.jsx(ge,{spacing:2,children:[1,2,3,4].map(e=>t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsx(ce,{variant:"text",width:"60%"}),t.jsx(ce,{variant:"text",width:"20%"})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:20,sx:{borderRadius:1}})]},e))})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx(ge,{spacing:3,children:[1,2].map(e=>t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsx(ce,{variant:"text",width:"50%",height:24}),t.jsx(ce,{variant:"text",width:"70%",height:40})]})},e))})})]})}),Kq=()=>{var y;const{id:e}=ns(),{api:n}=Qe(),{execute:r}=st(),[s,o]=x.useState(null),[i,l]=x.useState(!0),[d,u]=x.useState(!1);x.useEffect(()=>{(async()=>{if(e){l(!0);const w=await r(()=>n==null?void 0:n.app.poll.get(e),{showErrorToast:!0});w&&o(w),l(!1)}})()},[e,r]);const h=async b=>{if(!e)return;if(await r(()=>n==null?void 0:n.app.poll.convertToNews(e,b),{showSuccessMessage:!0,successMessage:"Poll converted to news successfully!"})){const v=await r(()=>n==null?void 0:n.app.poll.get(e),{showErrorToast:!0});v&&o(v)}};if(i)return t.jsx(qq,{});if(!s)return t.jsx(Tt,{maxWidth:"lg",sx:{mt:4},children:t.jsx(j,{variant:"h4",children:"Poll not found"})});const p=new Date>=new Date(s.startDate)&&new Date<=new Date(s.endDate),m=new Date>=new Date(s.startDate),g=!s.isConverted&&!((y=s.stats)!=null&&y.hasEnded);return t.jsxs(Tt,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs(F,{container:!0,spacing:4,children:[t.jsxs(F,{item:!0,xs:12,children:[t.jsxs(C,{sx:{mb:3},children:[t.jsx(j,{variant:"h4",gutterBottom:!0,children:s.title}),t.jsx(j,{variant:"body1",color:"text.secondary",children:s.description})]}),t.jsxs(C,{sx:{display:"flex",gap:1,mb:3,alignItems:"center",justifyContent:"space-between"},children:[t.jsxs(C,{sx:{display:"flex",gap:1},children:[t.jsx(Je,{label:p?"Active":m?"Ended":"Scheduled",color:p?"success":m?"error":"warning"}),s.isTrending&&t.jsx(Je,{icon:t.jsx(il,{}),label:"Trending",color:"primary"}),s.isConverted&&t.jsx(Je,{icon:t.jsx(Hi,{}),label:"Converted to News",color:"info"})]}),g&&t.jsx(he,{variant:"contained",startIcon:t.jsx(Hi,{}),onClick:()=>u(!0),size:"small",children:"Convert to News"})]})]}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Poll Results"}),t.jsx(zq,{poll:s})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(ge,{spacing:3,children:[t.jsx(ot,{elevation:0,sx:{p:2,bgcolor:"primary.light",color:"primary.contrastText",borderRadius:2},children:t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(fC,{fontSize:"large"}),t.jsxs(C,{children:[t.jsx(j,{variant:"overline",children:"Total Votes"}),t.jsx(j,{variant:"h4",children:s.statistics.totalVotes})]})]})}),t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Time Frame"}),t.jsxs(ge,{spacing:2,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"caption",color:"text.secondary",children:"Start Date"}),t.jsx(j,{children:new Date(s.startDate).toLocaleString()})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"caption",color:"text.secondary",children:"End Date"}),t.jsx(j,{children:new Date(s.endDate).toLocaleString()})]})]})]})})]})})]}),t.jsx(e1,{open:d,poll:s,onClose:()=>u(!1),onConvert:h})]})};function Xq(e){const{children:n,value:r,index:s,...o}=e;return t.jsx("div",{role:"tabpanel",hidden:r!==s,id:`expense-order-tabpanel-${s}`,"aria-labelledby":`expense-order-tab-${s}`,...o,children:r===s&&t.jsx(C,{sx:{py:3},children:n})})}const Jq=()=>{const e=Ct(),{api:n}=Qe(),[r,s]=x.useState(0),[o,i]=x.useState([]),[l,d]=x.useState(!0),{execute:u}=st(),h=[{label:"All",status:void 0},{label:"Draft",status:et.DRAFT},{label:"Submitted",status:et.SUBMITTED},{label:"Approved",status:et.APPROVED},{label:"Paid",status:et.PAID},{label:"Rejected",status:et.REJECTED}],p=async I=>{d(!0);const S=await u(()=>n.app.expenseOrder.getMyExpenseOrders({page:1,limit:50},I),{showErrorToast:!0});S&&i(S.items),d(!1)};x.useEffect(()=>{p(h[r].status)},[r,u]);const m=(I,S)=>{s(S)},g=I=>{e(ye.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",I.id))},y=I=>{e(ye.STUDIO_EXPENSE_ORDER_EDIT.replace(":id",I.id))},b=async I=>{await u(()=>n.app.expenseOrder.submitExpenseOrder(I.id),{showSuccessMessage:!0,successMessage:"Expense order submitted successfully!"})&&p(h[r].status)},w=async I=>{await u(()=>n.app.expenseOrder.cancelExpenseOrder(I.id),{showSuccessMessage:!0,successMessage:"Expense order cancelled successfully!"})&&p(h[r].status)},v=()=>{e(ye.STUDIO_EXPENSE_ORDER_CREATE)};return t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[t.jsx(j,{variant:"h4",component:"h1",sx:{fontWeight:600},children:"Expense Orders"}),t.jsx(he,{variant:"contained",startIcon:t.jsx(xo,{}),onClick:v,children:"Create New"})]}),t.jsx(C,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:t.jsx(yo,{value:r,onChange:m,"aria-label":"expense order status tabs",children:h.map((I,S)=>t.jsx(nr,{label:I.label},S))})}),h.map((I,S)=>t.jsx(Xq,{value:r,index:S,children:l?t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(bn,{})}):o.length===0?t.jsxs(C,{sx:{textAlign:"center",py:8},children:[t.jsx(j,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"No expense orders found"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:I.status?`No ${I.label.toLowerCase()} expense orders`:"You haven't created any expense orders yet"}),t.jsx(he,{variant:"contained",startIcon:t.jsx(xo,{}),onClick:v,children:"Create Your First Expense Order"})]}):t.jsx(F,{container:!0,spacing:3,children:o.map(T=>t.jsx(F,{item:!0,xs:12,md:6,lg:4,children:t.jsx(Dm,{expenseOrder:T,onView:g,onEdit:y,onSubmit:b,onCancel:w,userRole:"journalist"})},T.id))})},S))]})},Qq=()=>{var h;const e=Ct(),{api:n}=Qe(),{profile:r}=xs(),{execute:s,loading:o}=st(),i=((h=r==null?void 0:r.staffChannels)==null?void 0:h.map(p=>p.channel))||[],l=Mw(),d=async p=>{const m=await s(()=>n.app.expenseOrder.createExpenseOrder(p),{showSuccessMessage:!0,successMessage:"Expense order created successfully!"});m&&e(ye.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",m.id))},u=()=>{e(ye.STUDIO_EXPENSE_ORDERS)};return t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(he,{startIcon:t.jsx(Hs,{}),onClick:u,sx:{mr:2},children:"Back"}),t.jsx(j,{variant:"h4",component:"h1",sx:{fontWeight:600},children:"Create Expense Order"})]}),i.length===0&&!o?t.jsxs(C,{sx:{textAlign:"center",py:8,bgcolor:"background.paper",borderRadius:1},children:[t.jsx(j,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"No Channels Available"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"You need to be a member of at least one channel to create expense orders."})]}):t.jsx(Bw,{channels:i,expenseTypes:l,onSave:d,loading:o,isEdit:!1})]})},Zq=()=>{var w;const e=Ct(),{id:n}=ns(),{api:r}=Qe(),{profile:s}=xs(),[o,i]=x.useState(null),[l,d]=x.useState(!0),{execute:u,loading:h}=st(),p=((w=s==null?void 0:s.staffChannels)==null?void 0:w.map(v=>v.channel))||[],m=Mw();x.useEffect(()=>{(async()=>{if(n)try{d(!0);const I=await u(()=>r.app.expenseOrder.getExpenseOrder(n),{showErrorToast:!0});I&&i(I)}finally{d(!1)}})()},[n,u]);const g=async v=>{if(!n)return;const I=await u(()=>r.app.expenseOrder.updateExpenseOrder(n,v),{showSuccessMessage:!0,successMessage:"Expense order updated successfully!"});I&&(i(I),e(ye.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",I.id)))},y=async v=>{await u(()=>r.app.expenseOrder.submitExpenseOrder(v.id),{showSuccessMessage:!0,successMessage:"Expense order submitted successfully!"})&&e(ye.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",v.id))},b=()=>{e(o?ye.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",o.id):ye.STUDIO_EXPENSE_ORDERS)};return l?t.jsx(C,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:t.jsx(bn,{})}):o?o.status!==et.DRAFT?t.jsx(C,{sx:{p:3},children:t.jsxs(C,{sx:{textAlign:"center",py:8,bgcolor:"background.paper",borderRadius:1},children:[t.jsx(j,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"Cannot Edit Expense Order"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"This expense order cannot be edited because it has already been submitted."}),t.jsx(he,{startIcon:t.jsx(Hs,{}),onClick:b,children:"Back to Expense Order"})]})}):t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(he,{startIcon:t.jsx(Hs,{}),onClick:b,sx:{mr:2},children:"Back"}),t.jsx(j,{variant:"h4",component:"h1",sx:{fontWeight:600},children:"Edit Expense Order"})]}),t.jsx(Bw,{expenseOrder:o,channels:p,expenseTypes:m,onSave:g,onSubmit:y,loading:h,isEdit:!0})]}):t.jsx(C,{sx:{p:3},children:t.jsxs(C,{sx:{textAlign:"center",py:8,bgcolor:"background.paper",borderRadius:1},children:[t.jsx(j,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"Expense Order Not Found"}),t.jsx(he,{startIcon:t.jsx(Hs,{}),onClick:b,children:"Back"})]})})},eK=()=>{const e=Ct(),{id:n}=ns(),{api:r}=Qe(),[s,o]=x.useState(null),[i,l]=x.useState(!0),[d,u]=x.useState(!1),[h,p]=x.useState(null),[m,g]=x.useState(!1),[y,b]=x.useState(""),w=async()=>{if(n)try{l(!0),p(null);const _=await r.app.expenseOrder.getExpenseOrder(n);o(_)}catch(_){p(_.message||"Failed to fetch expense order")}finally{l(!1)}};x.useEffect(()=>{w()},[n]);const v=(_,N)=>new Intl.NumberFormat("en-US",{style:"currency",currency:N}).format(_),I=()=>{e(ye.STUDIO_EXPENSE_ORDERS)},S=()=>{s&&e(ye.STUDIO_EXPENSE_ORDER_EDIT.replace(":id",s.id))},T=async()=>{if(s){u(!0);try{await r.app.expenseOrder.submitExpenseOrder(s.id),await w()}catch(_){p(_.message||"Failed to submit expense order")}finally{u(!1)}}},D=async()=>{if(s){u(!0);try{await r.app.expenseOrder.cancelExpenseOrder(s.id,y),await w(),g(!1),b("")}catch(_){p(_.message||"Failed to cancel expense order")}finally{u(!1)}}};if(i)return t.jsx(C,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:t.jsx(bn,{})});if(h||!s)return t.jsxs(C,{sx:{p:3},children:[t.jsx(dt,{severity:"error",children:h||"Expense order not found"}),t.jsx(he,{startIcon:t.jsx(Hs,{}),onClick:I,sx:{mt:2},children:"Back to Expense Orders"})]});const A=s.status===et.DRAFT,R=s.status===et.DRAFT,k=[et.DRAFT,et.SUBMITTED].includes(s.status);return t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(he,{startIcon:t.jsx(Hs,{}),onClick:I,sx:{mr:2},children:"Back"}),t.jsx(j,{variant:"h4",component:"h1",sx:{fontWeight:600,flex:1},children:"Expense Order Details"}),t.jsx(Im,{status:s.status})]}),h&&t.jsx(dt,{severity:"error",sx:{mb:3},children:h}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsxs(F,{item:!0,xs:12,md:8,children:[t.jsxs(ot,{sx:{p:3,mb:3},children:[t.jsx(j,{variant:"h5",sx:{mb:2,fontWeight:600},children:s.title}),t.jsx(j,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:s.description}),t.jsx(Lt,{sx:{my:3}}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Channel"}),t.jsx(j,{variant:"body1",sx:{fontWeight:500},children:s.channel.name})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Expense Type"}),t.jsx(j,{variant:"body1",sx:{fontWeight:500},children:s.type.name})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Amount"}),t.jsx(j,{variant:"h6",sx:{fontWeight:700,color:"primary.main"},children:v(s.amount,s.currency)})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(j,{variant:"body1",children:Ip(new Date(s.createdAt),"PPP")})]})]}),s.receiptUrl&&t.jsxs(t.Fragment,{children:[t.jsx(Lt,{sx:{my:3}}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Receipt"}),t.jsxs(dd,{href:s.receiptUrl,target:"_blank",rel:"noopener noreferrer",sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Gs,{fontSize:"small"}),"View Receipt"]})]})]}),s.notes&&t.jsxs(t.Fragment,{children:[t.jsx(Lt,{sx:{my:3}}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Notes"}),t.jsx(j,{variant:"body1",sx:{fontStyle:"italic"},children:s.notes})]})]})]}),t.jsxs(ot,{sx:{p:3},children:[t.jsx(j,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Actions"}),t.jsxs(C,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[A&&t.jsx(he,{variant:"outlined",startIcon:t.jsx(ps,{}),onClick:S,disabled:d,children:"Edit"}),R&&t.jsx(he,{variant:"contained",startIcon:t.jsx(ud,{}),onClick:T,disabled:d,children:"Submit for Approval"}),k&&t.jsx(he,{variant:"outlined",color:"error",startIcon:t.jsx(Is,{}),onClick:()=>g(!0),disabled:d,children:"Cancel"})]})]})]}),t.jsxs(F,{item:!0,xs:12,md:4,children:[t.jsxs(ot,{sx:{p:3,mb:3},children:[t.jsx(j,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Timeline"}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",gap:2},children:[t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:"Created"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Mr(new Date(s.createdAt),{addSuffix:!0})})]}),s.submittedAt&&t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:"Submitted"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Mr(new Date(s.submittedAt),{addSuffix:!0})})]}),s.approvedAt&&t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:s.status===et.APPROVED?"Approved":"Reviewed"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Mr(new Date(s.approvedAt),{addSuffix:!0})}),s.approver&&t.jsxs(j,{variant:"caption",display:"block",color:"text.secondary",children:["by ",s.approver.displayName]})]}),s.paidAt&&t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:"Paid"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Mr(new Date(s.paidAt),{addSuffix:!0})}),s.paymentReference&&t.jsxs(j,{variant:"caption",display:"block",color:"text.secondary",children:["Ref: ",s.paymentReference]})]})]})]}),s.rejectionReason&&t.jsxs(ot,{sx:{p:3,bgcolor:"error.lighter"},children:[t.jsx(j,{variant:"h6",sx:{mb:1,fontWeight:600,color:"error.main"},children:"Rejection Reason"}),t.jsx(j,{variant:"body2",color:"error.main",children:s.rejectionReason})]})]})]}),t.jsxs(qt,{open:m,onClose:()=>g(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Cancel Expense Order"}),t.jsxs(Kt,{children:[t.jsx(j,{variant:"body2",sx:{mb:2},children:"Are you sure you want to cancel this expense order? This action cannot be undone."}),t.jsx(tt,{fullWidth:!0,multiline:!0,rows:3,label:"Reason for cancellation (optional)",value:y,onChange:_=>b(_.target.value),placeholder:"Provide a reason for cancelling this expense order..."})]}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>g(!1),children:"Keep Order"}),t.jsx(he,{onClick:D,color:"error",variant:"contained",disabled:d,children:"Cancel Order"})]})]})]})},dv=()=>{const[e,n]=x.useState(null),[r,s]=x.useState(!0),[o,i]=x.useState(null),l=Ct(),{api:d}=Qe(),{execute:u}=st();x.useEffect(()=>{h()},[]);const h=async()=>{var b,w;s(!0),i(null);const[g,y]=await Promise.all([u(()=>d.app.subscription.getSubscriptionAnalytics({period:"30d"}),{showErrorToast:!0}),u(()=>d.app.subscription.getRevenueMetrics({period:"30d"}),{showErrorToast:!0})]);if(g&&y){let v=0;if((w=(b=y.metrics)==null?void 0:b[0])!=null&&w.channels){const S=y.metrics[0].channels;for(const T in S){const D=S[T];v+=D.revenue||0}}const I={totalUsers:12543,totalChannels:1247,totalSubscriptions:g.total_subscriptions,monthlyRevenue:v,activeSubscriptions:g.active_subscriptions,newUsersThisMonth:342};n(I)}s(!1)},p=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(g/100),m=[{title:"News Management",description:"Manage news articles and moderate content",icon:t.jsx(cs,{sx:{fontSize:40}}),path:ye.ADMIN_NEWS,color:"#1976d2"},{title:"Poll Management",description:"Oversee polls and voting analytics",icon:t.jsx(cs,{sx:{fontSize:40}}),path:ye.ADMIN_POLLS,color:"#7b1fa2"},{title:"User Management",description:"Manage users, roles, and permissions",icon:t.jsx(mo,{sx:{fontSize:40}}),path:ye.ADMIN_USERS,color:"#388e3c"},{title:"Channel Management",description:"Oversee channels and content moderation",icon:t.jsx(Ec,{sx:{fontSize:40}}),path:ye.ADMIN_CHANNELS,color:"#f57c00"},{title:"Expense Orders",description:"Review and approve expense claims",icon:t.jsx(cs,{sx:{fontSize:40}}),path:ye.ADMIN_EXPENSE_ORDERS,color:"#d32f2f"},{title:"Payout Management",description:"Process payouts and financial transactions",icon:t.jsx(cs,{sx:{fontSize:40}}),path:ye.ADMIN_PAYOUTS,color:"#2e7d32"},{title:"Tag Management",description:"Moderate tags and manage taxonomy",icon:t.jsx(cs,{sx:{fontSize:40}}),path:ye.ADMIN_TAGS,color:"#795548"},{title:"Subscription Management",description:"Monitor subscriptions and billing",icon:t.jsx(ka,{sx:{fontSize:40}}),path:ye.ADMIN_SUBSCRIPTIONS,color:"#ff5722"},{title:"Analytics",description:"Platform analytics and insights",icon:t.jsx(cs,{sx:{fontSize:40}}),path:ye.ADMIN_ANALYTICS,color:"#9c27b0"},{title:"Settings",description:"Platform configuration and settings",icon:t.jsx(wc,{sx:{fontSize:40}}),path:ye.ADMIN_SETTINGS,color:"#5d4037"}];return t.jsxs(Tt,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(fv,{sx:{fontSize:32,mr:2}}),t.jsx(j,{variant:"h4",component:"h1",children:"Admin Dashboard"})]}),o&&t.jsx(dt,{severity:"error",sx:{mb:3},children:o}),t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(NR,{sx:{fontSize:24,mr:1,color:"#1976d2"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Total Users"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(ce,{width:80}):e==null?void 0:e.totalUsers.toLocaleString()}),t.jsx(j,{variant:"body2",color:"textSecondary",children:r?t.jsx(ce,{width:120}):`+${e==null?void 0:e.newUsersThisMonth} this month`})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Ec,{sx:{fontSize:24,mr:1,color:"#388e3c"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Total Channels"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(ce,{width:80}):e==null?void 0:e.totalChannels.toLocaleString()})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(ka,{sx:{fontSize:24,mr:1,color:"#f57c00"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Active Subscriptions"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(ce,{width:80}):e==null?void 0:e.activeSubscriptions.toLocaleString()}),t.jsx(j,{variant:"body2",color:"textSecondary",children:r?t.jsx(ce,{width:120}):`${e==null?void 0:e.totalSubscriptions} total`})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Ys,{sx:{fontSize:24,mr:1,color:"#7b1fa2"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Monthly Revenue"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(ce,{width:100}):p((e==null?void 0:e.monthlyRevenue)||0)})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(fs,{sx:{fontSize:24,mr:1,color:"#d32f2f"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Growth Rate"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(ce,{width:60}):"+12.5%"}),t.jsx(j,{variant:"body2",color:"textSecondary",children:"vs last month"})]})})})]}),t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{mb:3},children:"Administration"}),t.jsx(F,{container:!0,spacing:3,children:m.map(g=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsxs(Fe,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[t.jsxs(Be,{sx:{flexGrow:1},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(C,{sx:{color:g.color,mr:2},children:g.icon}),t.jsx(j,{variant:"h6",component:"h2",children:g.title})]}),t.jsx(j,{variant:"body2",color:"textSecondary",children:g.description})]}),t.jsx(qh,{children:t.jsx(he,{size:"small",variant:"contained",onClick:()=>l(g.path),sx:{backgroundColor:g.color},children:"Manage"})})]})},g.title))})]})},tK=()=>t.jsxs(Tt,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(mo,{sx:{fontSize:32,mr:2}}),t.jsx(j,{variant:"h4",component:"h1",children:"User Management"})]}),t.jsx(Fe,{children:t.jsxs(Be,{sx:{textAlign:"center",py:8},children:[t.jsx(mo,{sx:{fontSize:64,color:"text.secondary",mb:2}}),t.jsx(j,{variant:"h6",gutterBottom:!0,children:"User Management Coming Soon"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"This section will include user management, roles, permissions, and user analytics."})]})})]}),nK=()=>t.jsxs(Tt,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(Ec,{sx:{fontSize:32,mr:2}}),t.jsx(j,{variant:"h4",component:"h1",children:"Channel Management"})]}),t.jsx(Fe,{children:t.jsxs(Be,{sx:{textAlign:"center",py:8},children:[t.jsx(Ec,{sx:{fontSize:64,color:"text.secondary",mb:2}}),t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Channel Management Coming Soon"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"This section will include channel moderation, content management, and channel analytics."})]})})]}),rK=()=>{const[e,n]=x.useState([]),[r,s]=x.useState(null),[o,i]=x.useState(!0),[l,d]=x.useState(!1),[u,h]=x.useState(null),[p,m]=x.useState(null),[g,y]=x.useState(""),[b,w]=x.useState({}),[v]=x.useState($e),[I,S]=x.useState([]),[T,D]=x.useState(!1),[A,R]=x.useState("cancel"),[k,_]=x.useState(""),{api:N}=Qe(),{execute:W}=st();x.useEffect(()=>{Y(),$()},[b,v]);const Y=async()=>{i(!0),h(null);const V=await W(()=>N.app.subscription.getAllSubscriptions(v,b),{showErrorToast:!0});V&&n(V.items||[]),i(!1)},$=async()=>{d(!0);const V=await W(()=>N.app.subscription.getSubscriptionAnalytics({period:"30d"}),{showErrorToast:!1});V&&s(V),d(!1)},H=()=>{g.trim()?w({...b}):Y()},J=(V,ee)=>{w({...b,[V]:ee||void 0})},X=async()=>{if(I.length===0)return;i(!0);const V={action:A,subscription_ids:I,reason:k||void 0},ee=await W(()=>N.app.subscription.bulkUpdateSubscriptions(V),{showSuccessMessage:!0,successMessage:"Successfully updated subscriptions"});ee&&(ee.failed>0&&h(`Failed to update ${ee.failed} subscriptions`),D(!1),S([]),_(""),await Y()),i(!1)},K=async()=>{const V=await W(()=>N.app.subscription.exportSubscriptions(b,"csv"),{showErrorToast:!0});if(V){const ee=window.URL.createObjectURL(V),Pe=document.createElement("a");Pe.href=ee,Pe.download=`subscriptions-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(Pe),Pe.click(),window.URL.revokeObjectURL(ee),document.body.removeChild(Pe)}},Z=V=>Xc(V),G=V=>new Date(V).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),oe=(V,ee)=>new Intl.NumberFormat("en-US",{style:"currency",currency:ee.toUpperCase()}).format(V/100);return t.jsxs(Tt,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsx(j,{variant:"h4",gutterBottom:!0,children:"Subscription Management"}),r&&t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Total Subscriptions"}),t.jsx(j,{variant:"h4",children:l?t.jsx(ce,{width:60}):r.total_subscriptions.toLocaleString()})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Active Subscriptions"}),t.jsx(j,{variant:"h4",children:l?t.jsx(ce,{width:60}):r.active_subscriptions.toLocaleString()})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"New This Month"}),t.jsx(j,{variant:"h4",children:l?t.jsx(ce,{width:60}):r.new_subscriptions.toLocaleString()})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Churn Rate"}),t.jsx(j,{variant:"h4",children:l?t.jsx(ce,{width:60}):`${(r.churn_rate*100).toFixed(1)}%`})]})})})]}),t.jsx(Fe,{sx:{mb:3},children:t.jsx(Be,{children:t.jsxs(ge,{direction:"row",spacing:2,alignItems:"center",flexWrap:"wrap",children:[t.jsx(tt,{placeholder:"Search subscriptions...",value:g,onChange:V=>y(V.target.value),onKeyPress:V=>V.key==="Enter"&&H(),InputProps:{startAdornment:t.jsx(rl,{sx:{mr:1,color:"text.secondary"}})},sx:{minWidth:250}}),t.jsxs(ht,{sx:{minWidth:120},children:[t.jsx(St,{children:"Status"}),t.jsxs(mt,{value:b.status||"",onChange:V=>J("status",V.target.value),label:"Status",children:[t.jsx(we,{value:"",children:"All"}),t.jsx(we,{value:"active",children:"Active"}),t.jsx(we,{value:"canceled",children:"Canceled"}),t.jsx(we,{value:"expired",children:"Expired"}),t.jsx(we,{value:"suspended",children:"Suspended"})]})]}),t.jsx(he,{variant:"outlined",startIcon:t.jsx(bv,{}),onClick:()=>w({}),children:"Clear Filters"}),t.jsx(he,{variant:"outlined",startIcon:t.jsx(Cv,{}),onClick:K,children:"Export"}),I.length>0&&t.jsxs(he,{variant:"contained",startIcon:t.jsx(ps,{}),onClick:()=>D(!0),children:["Bulk Actions (",I.length,")"]})]})})}),u&&t.jsx(dt,{severity:"error",sx:{mb:2},onClose:()=>h(null),children:u}),p&&t.jsx(dt,{severity:"success",sx:{mb:2},onClose:()=>m(null),children:p}),t.jsx(Fe,{children:t.jsx(Nf,{component:ot,children:t.jsxs(Lf,{children:[t.jsx($f,{children:t.jsxs(uo,{children:[t.jsx(yt,{padding:"checkbox",children:t.jsx(Ac,{indeterminate:I.length>0&&I.length<e.length,checked:e.length>0&&I.length===e.length,onChange:V=>{V.target.checked?S(e.map(ee=>ee.id)):S([])}})}),t.jsx(yt,{children:"User"}),t.jsx(yt,{children:"Channel"}),t.jsx(yt,{children:"Tier"}),t.jsx(yt,{children:"Status"}),t.jsx(yt,{children:"Started"}),t.jsx(yt,{children:"Expires"}),t.jsx(yt,{children:"Actions"})]})}),t.jsx(Ff,{children:o?[...Array(5)].map((V,ee)=>t.jsxs(uo,{children:[t.jsx(yt,{children:t.jsx(ce,{})}),t.jsx(yt,{children:t.jsx(ce,{})}),t.jsx(yt,{children:t.jsx(ce,{})}),t.jsx(yt,{children:t.jsx(ce,{})}),t.jsx(yt,{children:t.jsx(ce,{})}),t.jsx(yt,{children:t.jsx(ce,{})}),t.jsx(yt,{children:t.jsx(ce,{})}),t.jsx(yt,{children:t.jsx(ce,{})})]},ee)):e.map(V=>t.jsxs(uo,{children:[t.jsx(yt,{padding:"checkbox",children:t.jsx(Ac,{checked:I.includes(V.id),onChange:ee=>{ee.target.checked?S([...I,V.id]):S(I.filter(Pe=>Pe!==V.id))}})}),t.jsx(yt,{children:t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",children:V.user.displayName}),t.jsx(j,{variant:"caption",color:"text.secondary",children:V.user.email})]})}),t.jsx(yt,{children:t.jsx(j,{variant:"body2",children:V.channel.name})}),t.jsx(yt,{children:t.jsxs(C,{children:[t.jsx(j,{variant:"body2",children:V.tier.name}),t.jsx(j,{variant:"caption",color:"text.secondary",children:oe(V.tier.price,V.tier.currency)})]})}),t.jsx(yt,{children:t.jsx(Je,{label:Kc(V.statusId),color:Z(V.statusId),size:"small"})}),t.jsx(yt,{children:t.jsx(j,{variant:"body2",children:G(V.subscribedAt)})}),t.jsx(yt,{children:t.jsx(j,{variant:"body2",children:V.expiresAt?G(V.expiresAt):"Never"})}),t.jsx(yt,{children:t.jsx(he,{size:"small",onClick:()=>{console.log("View subscription:",V.id)},children:"View"})})]},V.id))})]})})}),t.jsxs(qt,{open:T,onClose:()=>D(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Bulk Action"}),t.jsxs(Kt,{children:[t.jsxs(j,{gutterBottom:!0,children:["You are about to perform a bulk action on ",I.length," subscription(s)."]}),t.jsxs(ht,{fullWidth:!0,sx:{mb:2},children:[t.jsx(St,{children:"Action"}),t.jsxs(mt,{value:A,onChange:V=>R(V.target.value),label:"Action",children:[t.jsx(we,{value:"cancel",children:"Cancel Subscriptions"}),t.jsx(we,{value:"activate",children:"Activate Subscriptions"}),t.jsx(we,{value:"suspend",children:"Suspend Subscriptions"})]})]}),t.jsx(tt,{fullWidth:!0,label:"Reason (optional)",value:k,onChange:V=>_(V.target.value),multiline:!0,rows:3})]}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>D(!1),children:"Cancel"}),t.jsx(he,{onClick:X,variant:"contained",color:"primary",children:"Confirm"})]})]})]})},sK=()=>{const[e,n]=x.useState(null),[r,s]=x.useState(!0),[o,i]=x.useState(null),[l,d]=x.useState("30d"),{api:u}=Qe(),{execute:h}=st();x.useEffect(()=>{p()},[l]);const p=async()=>{s(!0),i(null);const v=await h(()=>u.app.subscription.getSubscriptionAnalytics({period:l}),{showErrorToast:!0});v&&n(v),s(!1)},m=v=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(v/100),g=v=>`${(v*100).toFixed(1)}%`,y=[{month:"Jan",new:120,canceled:45,active:1200},{month:"Feb",new:150,canceled:38,active:1312},{month:"Mar",new:180,canceled:52,active:1440},{month:"Apr",new:200,canceled:48,active:1592},{month:"May",new:165,canceled:55,active:1702},{month:"Jun",new:190,canceled:42,active:1850}],b=[{name:"Basic",value:35,revenue:15e3},{name:"Premium",value:45,revenue:35e3},{name:"Pro",value:20,revenue:25e3}],w=["#0088FE","#00C49F","#FFBB28","#FF8042"];return t.jsxs(Tt,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(cs,{sx:{fontSize:32,mr:2}}),t.jsx(j,{variant:"h4",component:"h1",children:"Subscription Analytics"})]}),t.jsxs(ht,{sx:{minWidth:120},children:[t.jsx(St,{children:"Period"}),t.jsxs(mt,{value:l,onChange:v=>d(v.target.value),label:"Period",children:[t.jsx(we,{value:"7d",children:"Last 7 days"}),t.jsx(we,{value:"30d",children:"Last 30 days"}),t.jsx(we,{value:"90d",children:"Last 90 days"}),t.jsx(we,{value:"1y",children:"Last year"})]})]})]}),o&&t.jsx(dt,{severity:"error",sx:{mb:3},children:o}),t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(mo,{sx:{fontSize:24,mr:1,color:"#1976d2"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Total Subscriptions"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(ce,{width:80}):e==null?void 0:e.total_subscriptions.toLocaleString()}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",mt:1},children:[t.jsx(fs,{sx:{fontSize:16,color:"success.main",mr:.5}}),t.jsx(j,{variant:"body2",color:"success.main",children:"+12.5% vs last period"})]})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(fs,{sx:{fontSize:24,mr:1,color:"#388e3c"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"New Subscriptions"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(ce,{width:80}):e==null?void 0:e.new_subscriptions.toLocaleString()}),t.jsx(j,{variant:"body2",color:"textSecondary",children:"This period"})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Is,{sx:{fontSize:24,mr:1,color:"#f57c00"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Churn Rate"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(ce,{width:60}):g((e==null?void 0:e.churn_rate)||0)}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",mt:1},children:[t.jsx(pv,{sx:{fontSize:16,color:"success.main",mr:.5}}),t.jsx(j,{variant:"body2",color:"success.main",children:"-2.1% vs last period"})]})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Ys,{sx:{fontSize:24,mr:1,color:"#7b1fa2"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Total Revenue"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(ce,{width:100}):m(Object.values((e==null?void 0:e.revenue_by_currency)||{}).reduce((v,I)=>v+I,0))}),t.jsx(j,{variant:"body2",color:"textSecondary",children:"This period"})]})})})]}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,lg:8,children:t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Subscription Trends"}),t.jsx(C,{sx:{width:"100%",height:400},children:t.jsx(_i,{children:t.jsxs(Tv,{data:y,children:[t.jsx(Oc,{strokeDasharray:"3 3"}),t.jsx(Mc,{dataKey:"month"}),t.jsx(Nc,{}),t.jsx(ki,{}),t.jsx(Lc,{}),t.jsx(Pa,{type:"monotone",dataKey:"new",stroke:"#8884d8",strokeWidth:2,name:"New Subscriptions"}),t.jsx(Pa,{type:"monotone",dataKey:"canceled",stroke:"#82ca9d",strokeWidth:2,name:"Canceled"}),t.jsx(Pa,{type:"monotone",dataKey:"active",stroke:"#ffc658",strokeWidth:2,name:"Active Total"})]})})})]})})}),t.jsx(F,{item:!0,xs:12,lg:4,children:t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Revenue by Tier"}),t.jsx(C,{sx:{width:"100%",height:400},children:t.jsx(_i,{children:t.jsxs(P_,{children:[t.jsx(I_,{data:b,cx:"50%",cy:"50%",labelLine:!1,label:({name:v,percent:I})=>`${v} ${(I*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:b.map((v,I)=>t.jsx(D_,{fill:w[I%w.length]},`cell-${I}`))}),t.jsx(ki,{formatter:(v,I)=>{var S;return[m(((S=b.find(T=>T.name===I))==null?void 0:S.revenue)||0),"Revenue"]}})]})})})]})})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Monthly Revenue Breakdown"}),t.jsx(C,{sx:{width:"100%",height:400},children:t.jsx(_i,{children:t.jsxs(Ev,{data:y,children:[t.jsx(Oc,{strokeDasharray:"3 3"}),t.jsx(Mc,{dataKey:"month"}),t.jsx(Nc,{}),t.jsx(ki,{formatter:v=>[m(Number(v)*100),"Revenue"]}),t.jsx(Lc,{}),t.jsx($c,{dataKey:"new",fill:"#8884d8",name:"New Subscriptions Revenue"}),t.jsx($c,{dataKey:"active",fill:"#82ca9d",name:"Recurring Revenue"})]})})})]})})})]})]})},oK=()=>{const[e,n]=x.useState(!0),[r,s]=x.useState(null),[o,i]=x.useState("30d");x.useEffect(()=>{l()},[o]);const l=async()=>{try{n(!0),s(null),await new Promise(m=>setTimeout(m,1e3))}catch(m){s(m.message||"Failed to load revenue data")}finally{n(!1)}},d=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(m),u={totalRevenue:125e3,monthlyRecurring:98e3,oneTimePayments:27e3,averageRevenuePerUser:45.5,growthRate:12.5},h=[{month:"Jan",revenue:85e3,subscriptions:78e3,oneTime:7e3},{month:"Feb",revenue:92e3,subscriptions:84e3,oneTime:8e3},{month:"Mar",revenue:98e3,subscriptions:89e3,oneTime:9e3},{month:"Apr",revenue:105e3,subscriptions:95e3,oneTime:1e4},{month:"May",revenue:115e3,subscriptions:102e3,oneTime:13e3},{month:"Jun",revenue:125e3,subscriptions:112e3,oneTime:13e3}],p=[{name:"Tech News Daily",revenue:15e3,subscribers:1200},{name:"Global Politics",revenue:12500,subscribers:980},{name:"Science Weekly",revenue:11e3,subscribers:850},{name:"Business Insider",revenue:9500,subscribers:720},{name:"Sports Central",revenue:8200,subscribers:650}];return t.jsxs(Tt,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(Ys,{sx:{fontSize:32,mr:2}}),t.jsx(j,{variant:"h4",component:"h1",children:"Revenue Tracking"})]}),t.jsxs(ht,{sx:{minWidth:120},children:[t.jsx(St,{children:"Period"}),t.jsxs(mt,{value:o,onChange:m=>i(m.target.value),label:"Period",children:[t.jsx(we,{value:"7d",children:"Last 7 days"}),t.jsx(we,{value:"30d",children:"Last 30 days"}),t.jsx(we,{value:"90d",children:"Last 90 days"}),t.jsx(we,{value:"1y",children:"Last year"})]})]})]}),r&&t.jsx(dt,{severity:"error",sx:{mb:3},children:r}),t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Ys,{sx:{fontSize:24,mr:1,color:"#1976d2"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Total Revenue"})]}),t.jsx(j,{variant:"h4",children:e?t.jsx(ce,{width:100}):d(u.totalRevenue)}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",mt:1},children:[t.jsx(fs,{sx:{fontSize:16,color:"success.main",mr:.5}}),t.jsxs(j,{variant:"body2",color:"success.main",children:["+",u.growthRate,"% vs last period"]})]})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Yh,{sx:{fontSize:24,mr:1,color:"#388e3c"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Monthly Recurring"})]}),t.jsx(j,{variant:"h4",children:e?t.jsx(ce,{width:100}):d(u.monthlyRecurring)}),t.jsxs(j,{variant:"body2",color:"textSecondary",children:[(u.monthlyRecurring/u.totalRevenue*100).toFixed(1),"% of total"]})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(xv,{sx:{fontSize:24,mr:1,color:"#f57c00"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"One-time Payments"})]}),t.jsx(j,{variant:"h4",children:e?t.jsx(ce,{width:100}):d(u.oneTimePayments)}),t.jsxs(j,{variant:"body2",color:"textSecondary",children:[(u.oneTimePayments/u.totalRevenue*100).toFixed(1),"% of total"]})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(fs,{sx:{fontSize:24,mr:1,color:"#7b1fa2"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"ARPU"})]}),t.jsx(j,{variant:"h4",children:e?t.jsx(ce,{width:80}):d(u.averageRevenuePerUser)}),t.jsx(j,{variant:"body2",color:"textSecondary",children:"Average Revenue Per User"})]})})})]}),t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,lg:8,children:t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Monthly Revenue Trend"}),t.jsx(C,{sx:{width:"100%",height:400},children:t.jsx(_i,{children:t.jsxs(Tv,{data:h,children:[t.jsx(Oc,{strokeDasharray:"3 3"}),t.jsx(Mc,{dataKey:"month"}),t.jsx(Nc,{tickFormatter:m=>`$${(m/1e3).toFixed(0)}k`}),t.jsx(ki,{formatter:m=>[d(Number(m)),""]}),t.jsx(Lc,{}),t.jsx(Pa,{type:"monotone",dataKey:"revenue",stroke:"#1976d2",strokeWidth:3,name:"Total Revenue"}),t.jsx(Pa,{type:"monotone",dataKey:"subscriptions",stroke:"#388e3c",strokeWidth:2,name:"Subscription Revenue"}),t.jsx(Pa,{type:"monotone",dataKey:"oneTime",stroke:"#f57c00",strokeWidth:2,name:"One-time Payments"})]})})})]})})}),t.jsx(F,{item:!0,xs:12,lg:4,children:t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Revenue Breakdown"}),t.jsx(C,{sx:{width:"100%",height:400},children:t.jsx(_i,{children:t.jsxs(Ev,{data:h.slice(-3),children:[t.jsx(Oc,{strokeDasharray:"3 3"}),t.jsx(Mc,{dataKey:"month"}),t.jsx(Nc,{tickFormatter:m=>`$${(m/1e3).toFixed(0)}k`}),t.jsx(ki,{formatter:m=>[d(Number(m)),""]}),t.jsx(Lc,{}),t.jsx($c,{dataKey:"subscriptions",fill:"#388e3c",name:"Subscriptions"}),t.jsx($c,{dataKey:"oneTime",fill:"#f57c00",name:"One-time"})]})})})]})})})]}),t.jsx(Fe,{children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Top Channels by Revenue"}),t.jsx(Nf,{component:ot,variant:"outlined",children:t.jsxs(Lf,{children:[t.jsx($f,{children:t.jsxs(uo,{children:[t.jsx(yt,{children:"Channel Name"}),t.jsx(yt,{align:"right",children:"Revenue"}),t.jsx(yt,{align:"right",children:"Subscribers"}),t.jsx(yt,{align:"right",children:"ARPU"})]})}),t.jsx(Ff,{children:p.map((m,g)=>t.jsxs(uo,{children:[t.jsx(yt,{component:"th",scope:"row",children:t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(C,{sx:{width:24,height:24,borderRadius:"50%",backgroundColor:g===0?"#ffd700":g===1?"#c0c0c0":g===2?"#cd7f32":"#e0e0e0",display:"flex",alignItems:"center",justifyContent:"center",mr:2,fontSize:"12px",fontWeight:"bold"},children:g+1}),m.name]})}),t.jsx(yt,{align:"right",children:d(m.revenue)}),t.jsx(yt,{align:"right",children:m.subscribers.toLocaleString()}),t.jsx(yt,{align:"right",children:d(m.revenue/m.subscribers)})]},m.name))})]})})]})})]})},aK=()=>t.jsxs(Tt,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(cs,{sx:{fontSize:32,mr:2}}),t.jsx(j,{variant:"h4",component:"h1",children:"Platform Analytics"})]}),t.jsx(Fe,{children:t.jsxs(Be,{sx:{textAlign:"center",py:8},children:[t.jsx(cs,{sx:{fontSize:64,color:"text.secondary",mb:2}}),t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Platform Analytics Coming Soon"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"This section will include comprehensive platform analytics, user behavior, and performance metrics."})]})})]}),iK=()=>t.jsxs(Tt,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(wc,{sx:{fontSize:32,mr:2}}),t.jsx(j,{variant:"h4",component:"h1",children:"Admin Settings"})]}),t.jsx(Fe,{children:t.jsxs(Be,{sx:{textAlign:"center",py:8},children:[t.jsx(wc,{sx:{fontSize:64,color:"text.secondary",mb:2}}),t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Admin Settings Coming Soon"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"This section will include platform configuration, system settings, and administrative preferences."})]})})]}),Co=({title:e,columns:n,rows:r,totalCount:s,loading:o=!1,error:i=null,selected:l,onSelectionChange:d,onEdit:u,onDelete:h,onAdd:p,onRefresh:m,onSearch:g,onSort:y,onPageChange:b,onRowsPerPageChange:w,page:v=0,rowsPerPage:I=25,searchQuery:S="",sortColumn:T="",sortDirection:D="asc",actions:A,filters:R,rowActions:k})=>{const[_,N]=x.useState(S),[W,Y]=x.useState(!1),[$,H]=x.useState(null),[J,X]=x.useState(null),K=le=>{if(le.target.checked){const re=r.map(je=>je.id);d(re)}else d([])},Z=(le,re)=>{const je=l.indexOf(re);let Oe=[];je===-1?Oe=Oe.concat(l,re):je===0?Oe=Oe.concat(l.slice(1)):je===l.length-1?Oe=Oe.concat(l.slice(0,-1)):je>0&&(Oe=Oe.concat(l.slice(0,je),l.slice(je+1))),d(Oe)},G=le=>{le.key==="Enter"&&g&&g(_)},oe=le=>{N(le.target.value),le.target.value===""&&g&&g("")},V=le=>{if(!y)return;y(le,T===le&&D==="asc"?"desc":"asc")},ee=(le,re)=>{H(le.currentTarget),X(re)},Pe=()=>{H(null),X(null)},pe=()=>{const le=l.length>0?r.filter(re=>l.includes(re.id)):J?[J]:[];le.length>0&&h&&(h(le),Y(!1),Pe(),d([]))},Re=le=>l.indexOf(le)!==-1;return t.jsxs(C,{children:[t.jsxs(ot,{sx:{width:"100%",mb:2},children:[t.jsxs(zs,{sx:{pl:{sm:2},pr:{xs:1,sm:1},...l.length>0&&{bgcolor:"primary.main",color:"primary.contrastText"}},children:[l.length>0?t.jsxs(j,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[l.length," selected"]}):t.jsx(j,{sx:{flex:"1 1 100%"},variant:"h6",id:"tableTitle",component:"div",children:e}),l.length>0?t.jsx(ge,{direction:"row",spacing:1,children:h&&t.jsx(jt,{title:"Delete",children:t.jsx(Le,{color:"inherit",onClick:()=>Y(!0),children:t.jsx(Dc,{})})})}):t.jsxs(ge,{direction:"row",spacing:1,alignItems:"center",children:[g&&t.jsx(tt,{size:"small",placeholder:`Search ${e.toLowerCase()}...`,value:_,onChange:oe,onKeyPress:G,InputProps:{startAdornment:t.jsx(es,{position:"start",children:t.jsx(rl,{})})},sx:{minWidth:250}}),R,m&&t.jsx(jt,{title:"Refresh",children:t.jsx(Le,{onClick:m,children:t.jsx(yv,{})})}),p&&t.jsx(he,{variant:"contained",startIcon:t.jsx(xo,{}),onClick:p,sx:{whiteSpace:"nowrap"},children:"Add New"}),A]})]}),i&&t.jsx(dt,{severity:"error",sx:{m:2},children:i}),t.jsx(Nf,{children:t.jsxs(Lf,{stickyHeader:!0,"aria-labelledby":"tableTitle",children:[t.jsx($f,{children:t.jsxs(uo,{children:[t.jsx(yt,{padding:"checkbox",children:t.jsx(Ac,{color:"primary",indeterminate:l.length>0&&l.length<r.length,checked:r.length>0&&l.length===r.length,onChange:K,inputProps:{"aria-label":"select all items"}})}),n.map(le=>t.jsx(yt,{align:le.align,style:{minWidth:le.minWidth},sortDirection:T===le.id?D:!1,children:le.sortable&&y?t.jsx(LR,{active:T===le.id,direction:T===le.id?D:"asc",onClick:()=>V(le.id),children:le.label}):le.label},le.id)),t.jsx(yt,{align:"right",children:"Actions"})]})}),t.jsx(Ff,{children:o?Array.from(new Array(I)).map((le,re)=>t.jsxs(uo,{children:[t.jsx(yt,{padding:"checkbox",children:t.jsx(ce,{variant:"rectangular",width:24,height:24})}),n.map(je=>t.jsx(yt,{children:t.jsx(ce,{variant:"text"})},je.id)),t.jsx(yt,{children:t.jsx(ce,{variant:"rectangular",width:40,height:24})})]},re)):r.map(le=>{const re=Re(le.id);return t.jsxs(uo,{hover:!0,onClick:je=>Z(je,le.id),role:"checkbox","aria-checked":re,tabIndex:-1,selected:re,sx:{cursor:"pointer"},children:[t.jsx(yt,{padding:"checkbox",children:t.jsx(Ac,{color:"primary",checked:re,inputProps:{"aria-labelledby":`enhanced-table-checkbox-${le.id}`}})}),n.map(je=>{const Oe=le[je.id];return t.jsx(yt,{align:je.align,children:je.format?je.format(Oe,le):Oe},je.id)}),t.jsx(yt,{align:"right",children:t.jsx(ge,{direction:"row",spacing:1,justifyContent:"flex-end",children:k?k(le):t.jsxs(t.Fragment,{children:[u&&t.jsx(jt,{title:"Edit",children:t.jsx(Le,{size:"small",onClick:je=>{je.stopPropagation(),u(le)},children:t.jsx(ps,{fontSize:"small"})})}),t.jsx(Le,{size:"small",onClick:je=>{je.stopPropagation(),ee(je,le)},children:t.jsx(Mf,{fontSize:"small"})})]})})})]},le.id)})})]})}),t.jsx($R,{rowsPerPageOptions:[10,25,50,100],component:"div",count:s,rowsPerPage:I,page:v,onPageChange:(le,re)=>b==null?void 0:b(re),onRowsPerPageChange:le=>w==null?void 0:w(parseInt(le.target.value,10))})]}),t.jsxs(bo,{anchorEl:$,open:!!$,onClose:Pe,children:[u&&J&&t.jsxs(we,{onClick:()=>{u(J),Pe()},children:[t.jsx(ps,{sx:{mr:1},fontSize:"small"}),"Edit"]}),h&&t.jsxs(we,{onClick:()=>Y(!0),children:[t.jsx(Dc,{sx:{mr:1},fontSize:"small"}),"Delete"]})]}),t.jsxs(qt,{open:W,onClose:()=>Y(!1),children:[t.jsx(tn,{children:"Confirm Delete"}),t.jsx(Kt,{children:t.jsxs(j,{children:["Are you sure you want to delete ",l.length>0?`${l.length} items`:"this item","? This action cannot be undone."]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>Y(!1),children:"Cancel"}),t.jsx(he,{onClick:pe,color:"error",variant:"contained",children:"Delete"})]})]})]})},lK=()=>{var Pe;const{api:e}=Qe(),{execute:n}=st(),[r,s]=x.useState([]),[o,i]=x.useState(0),[l,d]=x.useState(!1),[u,h]=x.useState(null),[p,m]=x.useState([]),[g,y]=x.useState(!1),[b,w]=x.useState(null),[v,I]=x.useState(0),[S,T]=x.useState(25),[D,A]=x.useState(""),[R,k]=x.useState(""),[_,N]=x.useState("createdAt"),[W,Y]=x.useState("desc"),$=async()=>{var pe;d(!0),h(null);try{const Re={page:v+1,limit:S,search:D||void 0,status:R||void 0,sort:_,order:W},le=await n(()=>e.admin.news.getAllNews(Re),{showErrorToast:!1});le&&(s(le.items||[]),i(((pe=le.metadata)==null?void 0:pe.total)||0))}catch{h("Failed to fetch news")}finally{d(!1)}};x.useEffect(()=>{$()},[v,S,D,R,_,W]);const H=pe=>{w(pe),y(!0)},J=async pe=>{const Re=pe.map(le=>le.id);try{await Promise.all(Re.map(le=>n(()=>e.app.news.delete(le)))),m([]),$()}catch{h("Failed to delete news items")}},X=async(pe,Re)=>{try{await n(()=>e.app.news.update(pe.id,{status:Re.toString()})),$()}catch{h("Failed to update news status")}},K=async pe=>{var Re;if(b)try{const le={title:pe.title,content:pe.content,status:(Re=pe.status)==null?void 0:Re.toString()};await n(()=>e.app.news.update(b.id,le)),y(!1),w(null),$()}catch{h("Failed to update news")}},Z=pe=>{switch(pe){case Nn.PUBLISHED:return"success";case Nn.DRAFT:return"default";case Nn.PENDING_REVIEW:return"warning";case Nn.REJECTED:return"error";case Nn.ARCHIVED:return"secondary";default:return"default"}},G=[{id:"title",label:"Title",minWidth:200,sortable:!0,format:(pe,Re)=>t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:pe}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["ID: ",Re.id]})]})},{id:"channel",label:"Channel",minWidth:150,format:(pe,Re)=>{var le,re,je,Oe;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(wn,{src:(le=Re.channel)==null?void 0:le.photoUrl,sx:{width:24,height:24},children:(je=(re=Re.channel)==null?void 0:re.name)==null?void 0:je[0]}),t.jsx(j,{variant:"body2",noWrap:!0,children:((Oe=Re.channel)==null?void 0:Oe.name)||"Unknown"})]})}},{id:"status",label:"Status",minWidth:120,sortable:!0,format:pe=>t.jsx(Je,{label:pe,color:Z(pe),size:"small"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:pe=>t.jsx(j,{variant:"body2",children:new Date(pe).toLocaleDateString()})},{id:"updatedAt",label:"Updated",minWidth:120,sortable:!0,format:pe=>t.jsx(j,{variant:"body2",children:new Date(pe).toLocaleDateString()})},{id:"views",label:"Views",minWidth:80,align:"right",sortable:!0,format:pe=>t.jsx(j,{variant:"body2",children:(pe==null?void 0:pe.toLocaleString())||"0"})}],oe=Object.entries(Nn).map(([pe,Re])=>({value:Re,label:pe.replace(/_/g," ").toLowerCase().replace(/\b\w/g,le=>le.toUpperCase())})),V=t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Status"}),t.jsxs(mt,{value:R,label:"Status",onChange:pe=>k(pe.target.value),children:[t.jsx(we,{value:"",children:"All Status"}),oe.map(pe=>t.jsx(we,{value:pe.value,children:pe.label},pe.value))]})]}),ee=pe=>t.jsxs(ge,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View",children:t.jsx(Le,{size:"small",onClick:Re=>{Re.stopPropagation(),window.open(ye.APP_NEWS_VIEW.replace(":id",pe.id),"_blank")},children:t.jsx(Ts,{fontSize:"small"})})}),t.jsx(jt,{title:"Edit",children:t.jsx(Le,{size:"small",onClick:Re=>{Re.stopPropagation(),H(pe)},children:t.jsx(ps,{fontSize:"small"})})}),pe.status===Nn.PUBLISHED?t.jsx(jt,{title:"Unpublish",children:t.jsx(Le,{size:"small",onClick:Re=>{Re.stopPropagation(),X(pe,Nn.DRAFT)},children:t.jsx(FR,{fontSize:"small"})})}):t.jsx(jt,{title:"Publish",children:t.jsx(Le,{size:"small",onClick:Re=>{Re.stopPropagation(),X(pe,Nn.PUBLISHED)},children:t.jsx(WR,{fontSize:"small"})})})]});return t.jsxs(C,{children:[t.jsx(Co,{title:"News Management",columns:G,rows:r,totalCount:o,loading:l,error:u,selected:p,onSelectionChange:m,onEdit:H,onDelete:J,onRefresh:$,onSearch:A,onSort:(pe,Re)=>{N(pe),Y(Re)},onPageChange:I,onRowsPerPageChange:T,page:v,rowsPerPage:S,searchQuery:D,sortColumn:_,sortDirection:W,filters:V,rowActions:ee}),t.jsxs(qt,{open:g,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"Edit News"}),t.jsx(Kt,{children:b&&t.jsxs(ge,{spacing:3,sx:{pt:1},children:[t.jsx(tt,{label:"Title",fullWidth:!0,defaultValue:b.title,onChange:pe=>w({...b,title:pe.target.value})}),t.jsx(tt,{label:"Content",fullWidth:!0,multiline:!0,rows:3,defaultValue:b.content,onChange:pe=>w({...b,content:pe.target.value})}),t.jsxs(ht,{fullWidth:!0,children:[t.jsx(St,{children:"Status"}),t.jsx(mt,{value:b.status,label:"Status",onChange:pe=>w({...b,status:parseInt(pe.target.value.toString())}),children:oe.map(pe=>t.jsx(we,{value:pe.value,children:pe.label},pe.value))})]}),t.jsxs(C,{children:[t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["News ID: ",b.id]}),t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Created: ",new Date(b.createdAt).toLocaleString()]}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Channel: ",(Pe=b.channel)==null?void 0:Pe.name]})]})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(he,{onClick:()=>K(b),variant:"contained",children:"Save Changes"})]})]})]})},cK=()=>{var le,re,je,Oe;const{api:e}=Qe(),{execute:n}=st(),[r,s]=x.useState([]),[o,i]=x.useState(0),[l,d]=x.useState(!1),[u,h]=x.useState(null),[p,m]=x.useState([]),[g,y]=x.useState(!1),[b,w]=x.useState(null),[v,I]=x.useState(0),[S,T]=x.useState(25),[D,A]=x.useState(""),[R,k]=x.useState(""),[_,N]=x.useState(""),[W,Y]=x.useState(""),[$,H]=x.useState("createdAt"),[J,X]=x.useState("desc"),K=x.useCallback(async()=>{var be;d(!0),h(null);try{const ie={};D&&(ie.search=D),R&&(ie.status=R),_==="true"&&(ie.trending=!0),W==="true"&&(ie.funded=!0),ie.sort=$,ie.order=J;const ae=await n(()=>e.admin.polls.getAllPolls(ie,{page:v+1,limit:S}),{showErrorToast:!1});ae&&(s(ae.items||[]),i(((be=ae.metadata)==null?void 0:be.total)||0))}catch{h("Failed to fetch polls")}finally{d(!1)}},[v,S,D,R,_,W,$,J,e.admin.polls,n]);x.useEffect(()=>{K()},[K]);const Z=be=>{w(be),y(!0)},G=async be=>{const ie=be.map(ae=>ae.id);try{await Promise.all(ie.map(ae=>n(()=>e.app.poll.delete(ae)))),m([]),K()}catch{h("Failed to delete polls")}},oe=async()=>{if(b)try{const be={title:b.title,description:b.description,endDate:b.endDate};await n(()=>e.app.poll.update(b.id,be)),y(!1),w(null),K()}catch{h("Failed to update poll")}},V=async be=>{try{await n(()=>e.app.poll.convertToNews(be.id,{title:be.title,summary:be.description})),K()}catch{h("Failed to convert poll to news")}},ee=[{id:"title",label:"Title",minWidth:200,sortable:!0,format:(be,ie)=>t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:be}),t.jsxs(ge,{direction:"row",spacing:1,alignItems:"center",sx:{mt:.5},children:[t.jsxs(j,{variant:"caption",color:"text.secondary",children:["ID: ",ie.id]}),ie.isTrending&&t.jsx(Je,{label:"Trending",color:"warning",size:"small",icon:t.jsx(fs,{}),sx:{height:16,"& .MuiChip-label":{fontSize:"0.6rem",px:.5}}})]})]})},{id:"channel",label:"Channel",minWidth:150,format:(be,ie)=>{var ae,se,me,de;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(wn,{src:(ae=ie.channel)==null?void 0:ae.photoUrl,sx:{width:24,height:24},children:(me=(se=ie.channel)==null?void 0:se.name)==null?void 0:me[0]}),t.jsx(j,{variant:"body2",noWrap:!0,children:((de=ie.channel)==null?void 0:de.name)||"Unknown"})]})}},{id:"creator",label:"Creator",minWidth:120,format:(be,ie)=>{var ae;return t.jsx(j,{variant:"body2",noWrap:!0,children:((ae=ie.creator)==null?void 0:ae.displayName)||"Unknown"})}},{id:"voteCount",label:"Votes",minWidth:80,align:"right",sortable:!0,format:be=>t.jsx(j,{variant:"body2",children:(be==null?void 0:be.toLocaleString())||"0"})},{id:"stats",label:"Stats",minWidth:120,format:(be,ie)=>{var ae,se,me,de;return t.jsxs(ge,{spacing:.5,children:[t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Views: ",((se=(ae=ie.stats)==null?void 0:ae.viewCount)==null?void 0:se.toLocaleString())||"0"]}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Funds: $",((de=(me=ie.stats)==null?void 0:me.totalFunds)==null?void 0:de.toLocaleString())||"0"]})]})}},{id:"endDate",label:"End Date",minWidth:120,sortable:!0,format:be=>t.jsx(j,{variant:"body2",children:be?new Date(be).toLocaleDateString():"No end date"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:be=>t.jsx(j,{variant:"body2",children:new Date(be).toLocaleDateString()})}],Pe=Object.entries(uW).map(([be,ie])=>({value:ie,label:be.replace(/_/g," ").toLowerCase().replace(/\b\w/g,ae=>ae.toUpperCase())})),pe=t.jsxs(ge,{direction:"row",spacing:1,children:[t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Status"}),t.jsxs(mt,{value:R,label:"Status",onChange:be=>k(be.target.value),children:[t.jsx(we,{value:"",children:"All Status"}),Pe.map(be=>t.jsx(we,{value:be.value,children:be.label},be.value))]})]}),t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Trending"}),t.jsxs(mt,{value:_,label:"Trending",onChange:be=>N(be.target.value),children:[t.jsx(we,{value:"",children:"All"}),t.jsx(we,{value:"true",children:"Trending Only"}),t.jsx(we,{value:"false",children:"Non-Trending"})]})]}),t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Funded"}),t.jsxs(mt,{value:W,label:"Funded",onChange:be=>Y(be.target.value),children:[t.jsx(we,{value:"",children:"All"}),t.jsx(we,{value:"true",children:"Funded Only"}),t.jsx(we,{value:"false",children:"Not Funded"})]})]})]}),Re=be=>t.jsxs(ge,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View",children:t.jsx(Le,{size:"small",onClick:ie=>{ie.stopPropagation(),window.open(ye.APP_POLL_VIEW.replace(":id",be.id),"_blank")},children:t.jsx(Ts,{fontSize:"small"})})}),t.jsx(jt,{title:"Edit",children:t.jsx(Le,{size:"small",onClick:ie=>{ie.stopPropagation(),Z(be)},children:t.jsx(ps,{fontSize:"small"})})}),t.jsx(jt,{title:"Convert to News",children:t.jsx(Le,{size:"small",onClick:ie=>{ie.stopPropagation(),V(be)},children:t.jsx(BR,{fontSize:"small"})})})]});return t.jsxs(C,{children:[t.jsx(Co,{title:"Poll Management",columns:ee,rows:r,totalCount:o,loading:l,error:u,selected:p,onSelectionChange:m,onEdit:Z,onDelete:G,onRefresh:K,onSearch:A,onSort:(be,ie)=>{H(be),X(ie)},onPageChange:I,onRowsPerPageChange:T,page:v,rowsPerPage:S,searchQuery:D,sortColumn:$,sortDirection:J,filters:pe,rowActions:Re}),t.jsxs(qt,{open:g,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"Edit Poll"}),t.jsx(Kt,{children:b&&t.jsxs(ge,{spacing:3,sx:{pt:1},children:[t.jsx(tt,{label:"Title",fullWidth:!0,defaultValue:b.title,onChange:be=>w({...b,title:be.target.value})}),t.jsx(tt,{label:"Description",fullWidth:!0,multiline:!0,rows:3,defaultValue:b.description,onChange:be=>w({...b,description:be.target.value})}),t.jsx(tt,{label:"End Date",type:"datetime-local",fullWidth:!0,defaultValue:b.endDate?new Date(b.endDate).toISOString().slice(0,16):"",onChange:be=>w({...b,endDate:be.target.value}),InputLabelProps:{shrink:!0}}),t.jsxs(Sc,{children:[t.jsx(Cc,{expandIcon:t.jsx(Pc,{}),children:t.jsxs(j,{variant:"subtitle2",children:["Poll Options (",((le=b.options)==null?void 0:le.length)||0,")"]})}),t.jsx(Ic,{children:t.jsx(ge,{spacing:2,children:(re=b.options)==null?void 0:re.map((be,ie)=>t.jsxs(C,{sx:{p:2,border:1,borderColor:"divider",borderRadius:1},children:[t.jsxs(j,{variant:"body2",fontWeight:"medium",children:["Option ",ie+1,": ",be.text]}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Votes: ",be.voteCount]})]},be.id))})})]}),t.jsxs(C,{children:[t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Poll ID: ",b.id]}),t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Created: ",new Date(b.createdAt).toLocaleString()]}),t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Channel: ",(je=b.channel)==null?void 0:je.name]}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Creator: ",(Oe=b.creator)==null?void 0:Oe.displayName]})]})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(he,{onClick:()=>oe(),variant:"contained",children:"Save Changes"})]})]})]})},dK=()=>{const{api:e}=Qe(),{execute:n}=st(),[r,s]=x.useState([]),[o,i]=x.useState(0),[l,d]=x.useState(!1),[u,h]=x.useState(null),[p,m]=x.useState([]),[g,y]=x.useState(!1),[b,w]=x.useState(null),[v,I]=x.useState(0),[S,T]=x.useState(25),[D,A]=x.useState(""),[R,k]=x.useState(""),[_,N]=x.useState(""),[W,Y]=x.useState(""),[$,H]=x.useState("created_at"),[J,X]=x.useState("desc"),K=async()=>{var re;d(!0),h(null);try{const je={};D&&(je.search=D),R&&(je.status=R),_==="true"&&(je.trending=!0),W==="true"&&(je.verified=!0);const Oe=await n(()=>e.admin.channels.getAllChannels(je,{page:v+1,limit:S}),{showErrorToast:!1});Oe&&(s(Oe.items||[]),i(((re=Oe.metadata)==null?void 0:re.total)||0))}catch{h("Failed to fetch channels")}finally{d(!1)}};x.useEffect(()=>{K()},[v,S,D,R,_,W,$,J]);const Z=re=>{w(re),y(!0)},G=async re=>{const je=re.map(Oe=>Oe.id);try{await Promise.all(je.map(Oe=>n(()=>e.app.channel.deleteChannel(Oe)))),m([]),K()}catch{h("Failed to delete channels")}},oe=async re=>{if(b)try{await n(()=>e.app.channel.updateChannel(b.id,re)),y(!1),w(null),K()}catch{h("Failed to update channel")}},V=re=>{switch(re){case 1:return"success";case 2:return"warning";case 3:return"error";case 4:return"default";default:return"default"}},ee=re=>{switch(re){case 1:return"Active";case 2:return"Pending";case 3:return"Suspended";case 4:return"Inactive";default:return"Unknown"}},Pe=[{id:"name",label:"Channel",minWidth:200,sortable:!0,format:(re,je)=>t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(wn,{src:je.logoUrl,sx:{width:40,height:40},children:re==null?void 0:re[0]}),t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:re}),t.jsxs(j,{variant:"caption",color:"text.secondary",noWrap:!0,children:["@",je.handle,"  ID: ",je.id]})]})]})},{id:"description",label:"Description",minWidth:200,format:re=>t.jsx(j,{variant:"body2",noWrap:!0,sx:{maxWidth:200},children:re||"No description"})},{id:"status",label:"Status",minWidth:100,sortable:!0,format:re=>t.jsx(Je,{label:ee(re),color:V(re),size:"small"})},{id:"stats",label:"Stats",minWidth:150,format:(re,je)=>{var Oe,be,ie,ae,se,me;return t.jsxs(ge,{spacing:.5,children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(mo,{sx:{fontSize:14},color:"action"}),t.jsxs(j,{variant:"caption",children:[((be=(Oe=je.stats)==null?void 0:Oe.activeSubscriptionCount)==null?void 0:be.toLocaleString())||"0"," subscribers"]})]}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(Ho,{sx:{fontSize:14},color:"action"}),t.jsxs(j,{variant:"caption",children:[((ae=(ie=je.stats)==null?void 0:ie.newsCount)==null?void 0:ae.toLocaleString())||"0"," news"]})]}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(_f,{sx:{fontSize:14},color:"action"}),t.jsxs(j,{variant:"caption",children:[((me=(se=je.stats)==null?void 0:se.pollCount)==null?void 0:me.toLocaleString())||"0"," polls"]})]})]})}},{id:"tiers",label:"Tiers",minWidth:80,align:"center",format:(re,je)=>{var Oe,be;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5,justifyContent:"center"},children:[t.jsx(Of,{sx:{fontSize:14},color:"action"}),t.jsx(j,{variant:"body2",children:((Oe=je.stats)==null?void 0:Oe.tierCount)||((be=je.tiers)==null?void 0:be.length)||"0"})]})}},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:re=>t.jsx(j,{variant:"body2",children:new Date(re).toLocaleDateString()})},{id:"updatedAt",label:"Updated",minWidth:120,sortable:!0,format:re=>t.jsx(j,{variant:"body2",children:new Date(re).toLocaleDateString()})}],pe=[{value:1,label:"Active"},{value:2,label:"Pending"},{value:3,label:"Suspended"},{value:4,label:"Inactive"}],Re=t.jsxs(ge,{direction:"row",spacing:1,children:[t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Status"}),t.jsxs(mt,{value:R,label:"Status",onChange:re=>k(re.target.value),children:[t.jsx(we,{value:"",children:"All Status"}),pe.map(re=>t.jsx(we,{value:re.value,children:re.label},re.value))]})]}),t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Trending"}),t.jsxs(mt,{value:_,label:"Trending",onChange:re=>N(re.target.value),children:[t.jsx(we,{value:"",children:"All"}),t.jsx(we,{value:"true",children:"Trending Only"}),t.jsx(we,{value:"false",children:"Non-Trending"})]})]}),t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Verified"}),t.jsxs(mt,{value:W,label:"Verified",onChange:re=>Y(re.target.value),children:[t.jsx(we,{value:"",children:"All"}),t.jsx(we,{value:"true",children:"Verified Only"}),t.jsx(we,{value:"false",children:"Not Verified"})]})]})]}),le=re=>t.jsxs(ge,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View",children:t.jsx(Le,{size:"small",onClick:je=>{je.stopPropagation(),window.open(ye.APP_CHANNEL_VIEW.replace(":channelId",re.id),"_blank")},children:t.jsx(Ts,{fontSize:"small"})})}),t.jsx(jt,{title:"Edit",children:t.jsx(Le,{size:"small",onClick:je=>{je.stopPropagation(),Z(re)},children:t.jsx(ps,{fontSize:"small"})})})]});return t.jsxs(C,{children:[t.jsx(Co,{title:"Channel Management",columns:Pe,rows:r,totalCount:o,loading:l,error:u,selected:p,onSelectionChange:m,onEdit:Z,onDelete:G,onRefresh:K,onSearch:A,onSort:(re,je)=>{H(re),X(je)},onPageChange:I,onRowsPerPageChange:T,page:v,rowsPerPage:S,searchQuery:D,sortColumn:$,sortDirection:J,filters:Re,rowActions:le}),t.jsxs(qt,{open:g,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"Edit Channel"}),t.jsx(Kt,{children:b&&t.jsxs(ge,{spacing:3,sx:{pt:1},children:[t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(tt,{label:"Channel Name",fullWidth:!0,defaultValue:b.name,onChange:re=>w({...b,name:re.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(tt,{label:"Handle",fullWidth:!0,defaultValue:b.handle,onChange:re=>w({...b,handle:re.target.value}),InputProps:{startAdornment:"@"}})})]}),t.jsx(tt,{label:"Description",fullWidth:!0,multiline:!0,rows:3,defaultValue:b.description,onChange:re=>w({...b,description:re.target.value})}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(tt,{label:"Logo URL",fullWidth:!0,defaultValue:b.logoUrl,onChange:re=>w({...b,logoUrl:re.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(tt,{label:"Banner URL",fullWidth:!0,defaultValue:b.bannerUrl,onChange:re=>w({...b,bannerUrl:re.target.value})})})]}),t.jsxs(ht,{fullWidth:!0,children:[t.jsx(St,{children:"Status"}),t.jsx(mt,{value:b.status,label:"Status",onChange:re=>w({...b,status:re.target.value}),children:pe.map(re=>t.jsx(we,{value:re.value,children:re.label},re.value))})]}),b.tiers&&b.tiers.length>0&&t.jsxs(Sc,{children:[t.jsx(Cc,{expandIcon:t.jsx(Pc,{}),children:t.jsxs(j,{variant:"subtitle2",children:["Subscription Tiers (",b.tiers.length,")"]})}),t.jsx(Ic,{children:t.jsx(ge,{spacing:2,children:b.tiers.map(re=>t.jsx(C,{sx:{p:2,border:1,borderColor:"divider",borderRadius:1},children:t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"body2",fontWeight:"medium",children:re.name}),t.jsx(j,{variant:"caption",color:"text.secondary",children:re.description})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsxs(j,{variant:"body2",children:["Price: ",re.currency," ",re.price]}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Order: ",re.order," ",re.isDefault&&"(Default)"]})]})]})},re.id))})})]}),t.jsxs(C,{children:[t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Channel ID: ",b.id]}),t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Creator ID: ",b.creatorId]}),t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Created: ",new Date(b.createdAt).toLocaleString()]}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Updated: ",new Date(b.updatedAt).toLocaleString()]})]})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(he,{onClick:()=>oe(b),variant:"contained",children:"Save Changes"})]})]})]})},uK=()=>{var ae,se,me;const{api:e}=Qe(),{execute:n}=st(),[r,s]=x.useState([]),[o,i]=x.useState(0),[l,d]=x.useState(!1),[u,h]=x.useState(null),[p,m]=x.useState([]),[g,y]=x.useState(!1),[b,w]=x.useState(null),[v,I]=x.useState(!1),[S,T]=x.useState(null),[D,A]=x.useState(""),[R,k]=x.useState(""),[_,N]=x.useState(0),[W,Y]=x.useState(25),[$,H]=x.useState(""),[J,X]=x.useState(""),[K]=x.useState(""),[Z,G]=x.useState("created_at"),[oe,V]=x.useState("desc"),ee=async()=>{var de;d(!0),h(null);try{const _e={};J&&(_e.status=parseInt(J)),K&&(_e.channelId=K);const Ee=await n(()=>e.app.expenseOrder.getAllExpenseOrders({page:_+1,limit:W},_e),{showErrorToast:!1});Ee&&(s(Ee.items||[]),i(((de=Ee.metadata)==null?void 0:de.total)||0))}catch{h("Failed to fetch expense orders")}finally{d(!1)}};x.useEffect(()=>{ee()},[_,W,$,J,K,Z,oe]);const Pe=de=>{w(de),y(!0)},pe=(de,_e)=>{w(de),T(_e),I(!0),A(""),k("")},Re=async()=>{if(!(!b||!S))try{let de;switch(S){case"approve":de=await n(()=>e.app.expenseOrder.approveExpenseOrder(b.id,{notes:D}),{showSuccessMessage:!0,successMessage:"Expense order approved successfully!"});break;case"reject":de=await n(()=>e.app.expenseOrder.rejectExpenseOrder(b.id,{rejectionReason:D,notes:D}),{showSuccessMessage:!0,successMessage:"Expense order rejected successfully!"});break;case"payment":de=await n(()=>e.app.expenseOrder.processPayment(b.id,{paymentReference:R}),{showSuccessMessage:!0,successMessage:"Payment processed successfully!"});break}de&&(I(!1),w(null),T(null),ee())}catch(de){console.error(`Failed to ${S} expense order:`,de)}},le=de=>{switch(de){case et.DRAFT:return"default";case et.SUBMITTED:return"info";case et.UNDER_REVIEW:return"warning";case et.APPROVED:return"success";case et.REJECTED:return"error";case et.PAID:return"success";case et.CANCELLED:return"secondary";default:return"default"}},re=(de,_e)=>new Intl.NumberFormat("en-US",{style:"currency",currency:_e||"USD"}).format(de),je=[{id:"title",label:"Expense",minWidth:200,sortable:!0,format:(de,_e)=>{var Ee;return t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:de}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:[(Ee=_e.type)==null?void 0:Ee.name,"  ID: ",_e.id]})]})}},{id:"journalist",label:"Journalist",minWidth:150,format:(de,_e)=>{var Ee,He,ue;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(wn,{sx:{width:24,height:24},children:((He=(Ee=_e.journalist)==null?void 0:Ee.displayName)==null?void 0:He[0])||"U"}),t.jsx(j,{variant:"body2",noWrap:!0,children:((ue=_e.journalist)==null?void 0:ue.displayName)||"Unknown User"})]})}},{id:"channel",label:"Channel",minWidth:120,format:(de,_e)=>{var Ee;return t.jsx(j,{variant:"body2",noWrap:!0,children:((Ee=_e.channel)==null?void 0:Ee.name)||"Unknown"})}},{id:"amount",label:"Amount",minWidth:100,align:"right",sortable:!0,format:(de,_e)=>t.jsx(j,{variant:"body2",fontWeight:"medium",children:re(de,_e.currency)})},{id:"status",label:"Status",minWidth:120,sortable:!0,format:de=>t.jsx(Je,{label:Mi[de],color:le(de),size:"small"})},{id:"submitted_at",label:"Submitted",minWidth:120,sortable:!0,format:de=>t.jsx(j,{variant:"body2",children:de?new Date(de).toLocaleDateString():"-"})},{id:"paid_at",label:"Paid",minWidth:120,sortable:!0,format:de=>t.jsx(j,{variant:"body2",children:de?new Date(de).toLocaleDateString():"-"})},{id:"created_at",label:"Created",minWidth:120,sortable:!0,format:de=>t.jsx(j,{variant:"body2",children:new Date(de).toLocaleDateString()})}],Oe=Object.entries(Mi).map(([de,_e])=>({value:de,label:_e})),be=t.jsx(ge,{direction:"row",spacing:1,children:t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Status"}),t.jsxs(mt,{value:J,label:"Status",onChange:de=>X(de.target.value),children:[t.jsx(we,{value:"",children:"All Status"}),Oe.map(de=>t.jsx(we,{value:de.value,children:de.label},de.value))]})]})}),ie=de=>t.jsxs(ge,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View",children:t.jsx(Le,{size:"small",onClick:_e=>{_e.stopPropagation(),Pe(de)},children:t.jsx(Ts,{fontSize:"small"})})}),de.receiptUrl&&t.jsx(jt,{title:"View Receipt",children:t.jsx(Le,{size:"small",onClick:_e=>{_e.stopPropagation(),window.open(de.receiptUrl,"_blank")},children:t.jsx(Gs,{fontSize:"small"})})}),de.status===et.UNDER_REVIEW&&t.jsxs(t.Fragment,{children:[t.jsx(jt,{title:"Approve",children:t.jsx(Le,{size:"small",onClick:_e=>{_e.stopPropagation(),pe(de,"approve")},children:t.jsx(qa,{fontSize:"small",color:"success"})})}),t.jsx(jt,{title:"Reject",children:t.jsx(Le,{size:"small",onClick:_e=>{_e.stopPropagation(),pe(de,"reject")},children:t.jsx(Is,{fontSize:"small",color:"error"})})})]}),de.status===et.APPROVED&&t.jsx(jt,{title:"Process Payment",children:t.jsx(Le,{size:"small",onClick:_e=>{_e.stopPropagation(),pe(de,"payment")},children:t.jsx(_a,{fontSize:"small",color:"primary"})})})]});return t.jsxs(C,{children:[t.jsx(Co,{title:"Expense Order Management",columns:je,rows:r,totalCount:o,loading:l,error:u,selected:p,onSelectionChange:m,onEdit:Pe,onRefresh:ee,onSearch:H,onSort:(de,_e)=>{G(de),V(_e)},onPageChange:N,onRowsPerPageChange:Y,page:_,rowsPerPage:W,searchQuery:$,sortColumn:Z,sortDirection:oe,filters:be,rowActions:ie}),t.jsxs(qt,{open:g,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"View Expense Order"}),t.jsx(Kt,{children:b&&t.jsxs(ge,{spacing:3,sx:{pt:1},children:[t.jsx(Fe,{variant:"outlined",children:t.jsx(Be,{children:t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Title"}),t.jsx(j,{variant:"body2",children:b.title})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Amount"}),t.jsx(j,{variant:"body2",fontWeight:"medium",children:re(b.amount,b.currency)})]}),t.jsxs(F,{item:!0,xs:12,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Description"}),t.jsx(j,{variant:"body2",children:b.description})]})]})})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"subtitle2",gutterBottom:!0,children:"Details"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"caption",color:"text.secondary",children:"Journalist"}),t.jsx(j,{variant:"body2",children:((ae=b.journalist)==null?void 0:ae.displayName)||"Unknown User"})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"caption",color:"text.secondary",children:"Channel"}),t.jsx(j,{variant:"body2",children:(se=b.channel)==null?void 0:se.name})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"caption",color:"text.secondary",children:"Type"}),t.jsx(j,{variant:"body2",children:(me=b.type)==null?void 0:me.name})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"caption",color:"text.secondary",children:"Status"}),t.jsx(Je,{label:Mi[b.status],color:le(b.status),size:"small"})]})]})]})}),b.notes&&t.jsx(dt,{severity:"info",children:t.jsx(j,{variant:"body2",children:b.notes})}),b.rejectionReason&&t.jsx(dt,{severity:"error",children:t.jsx(j,{variant:"body2",children:b.rejectionReason})}),b.paymentReference&&t.jsx(dt,{severity:"success",children:t.jsxs(j,{variant:"body2",children:["Payment Reference: ",b.paymentReference]})})]})}),t.jsx(Xt,{children:t.jsx(he,{onClick:()=>y(!1),children:"Close"})})]}),t.jsxs(qt,{open:v,onClose:()=>I(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsxs(tn,{children:[S==="approve"&&"Approve Expense Order",S==="reject"&&"Reject Expense Order",S==="payment"&&"Process Payment"]}),t.jsx(Kt,{children:t.jsxs(ge,{spacing:2,sx:{pt:1},children:[S==="payment"&&t.jsx(tt,{label:"Payment Reference",fullWidth:!0,value:R,onChange:de=>k(de.target.value),placeholder:"Enter payment reference or transaction ID"}),t.jsx(tt,{label:S==="reject"?"Rejection Reason":"Notes",fullWidth:!0,multiline:!0,rows:3,value:D,onChange:de=>A(de.target.value),placeholder:S==="reject"?"Explain why this expense order is being rejected...":"Add any additional notes...",required:S==="reject"})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>I(!1),children:"Cancel"}),t.jsxs(he,{onClick:Re,variant:"contained",color:S==="approve"?"success":S==="reject"?"error":"primary",disabled:S==="reject"&&!D.trim(),children:[S==="approve"&&"Approve",S==="reject"&&"Reject",S==="payment"&&"Process Payment"]})]})]})]})},hK=()=>{var se,me,de,_e,Ee,He;const[e,n]=x.useState([]),[r,s]=x.useState(0),[o,i]=x.useState(!1),[l,d]=x.useState(null),[u,h]=x.useState([]),[p,m]=x.useState(!1),[g,y]=x.useState(!1),[b,w]=x.useState(!1),[v,I]=x.useState(null),[S,T]=x.useState(""),[D,A]=x.useState(0),[R,k]=x.useState(25),[_,N]=x.useState(""),[W,Y]=x.useState(""),[$,H]=x.useState("createdAt"),[J,X]=x.useState("desc"),{api:K}=Qe(),{execute:Z}=st(),G=x.useCallback(async()=>{if(K!=null&&K.app.payout){i(!0),d(null);try{const ue={limit:R,offset:D*R};W&&(ue.status=W);const Se=await Z(()=>K.app.payout.getPayouts(ue));Se&&(n(Se.items||[]),s(Se.total||0))}catch(ue){console.error("Failed to fetch payouts:",ue),d("Failed to fetch payouts"),n([]),s(0)}finally{i(!1)}}},[K,Z,D,R,W]);x.useEffect(()=>{G()},[G]);const oe=ue=>{I(ue),m(!0)},V=ue=>{I(ue),y(!0)},ee=async()=>{if(!(!v||!(K!=null&&K.app.payout)))try{await Z(()=>K.app.payout.processPayout(v.id)),y(!1),I(null),G()}catch{d("Failed to process payout")}},Pe=async ue=>{if(K!=null&&K.app.payout)try{await Z(()=>K.app.payout.retryPayout(ue.id)),G()}catch{d("Failed to retry payout")}},pe=ue=>{I(ue),T(""),w(!0)},Re=async()=>{if(!(!v||!(K!=null&&K.app.payout)))try{await Z(()=>K.app.payout.cancelPayout(v.id,{reason:S})),w(!1),I(null),T(""),G()}catch{d("Failed to cancel payout")}},le=ue=>{switch(ue){case"pending":return"warning";case"processing":return"info";case"completed":return"success";case"failed":return"error";case"cancelled":return"default";default:return"default"}},re=(ue,Se)=>new Intl.NumberFormat("en-US",{style:"currency",currency:Se||"USD"}).format(ue/100),je=ue=>ue?`${ue.firstName} ${ue.lastName}`:"Unknown",Oe=[{id:"expenseOrder",label:"Expense Order",minWidth:200,sortable:!0,format:(ue,Se)=>{var q,L,ke;return t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:((q=Se.expenseOrder)==null?void 0:q.title)||"N/A"}),t.jsxs(ge,{direction:"row",spacing:1,alignItems:"center",children:[t.jsx(Je,{label:((ke=(L=Se.expenseOrder)==null?void 0:L.type)==null?void 0:ke.name)||"Unknown",size:"small",variant:"outlined",sx:{height:16,"& .MuiChip-label":{fontSize:"0.6rem",px:.5}}}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["#",Se.id.slice(0,8)]})]})]})}},{id:"channel",label:"Channel",minWidth:120,format:(ue,Se)=>{var q;return t.jsx(j,{variant:"body2",noWrap:!0,children:((q=Se.channel)==null?void 0:q.name)||"N/A"})}},{id:"journalist",label:"Journalist",minWidth:140,format:(ue,Se)=>{var q,L;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(wn,{sx:{width:24,height:24},children:((L=(q=Se.journalist)==null?void 0:q.firstName)==null?void 0:L[0])||"U"}),t.jsx(j,{variant:"body2",noWrap:!0,children:je(Se.journalist)})]})}},{id:"grossAmount",label:"Gross",minWidth:90,align:"right",sortable:!0,format:(ue,Se)=>t.jsx(j,{variant:"body2",children:re(Se.grossAmount,Se.currency)})},{id:"platformFeeAmount",label:"Fee",minWidth:80,align:"right",format:(ue,Se)=>t.jsxs(j,{variant:"body2",color:"text.secondary",children:["-",re(Se.platformFeeAmount,Se.currency)]})},{id:"netAmount",label:"Net Payout",minWidth:100,align:"right",sortable:!0,format:(ue,Se)=>t.jsx(j,{variant:"body2",fontWeight:"medium",color:"primary",children:re(Se.netAmount,Se.currency)})},{id:"status",label:"Status",minWidth:120,sortable:!0,format:(ue,Se)=>t.jsxs(ge,{spacing:.5,children:[t.jsx(Je,{label:ue,color:le(ue),size:"small",sx:{textTransform:"capitalize"}}),Se.errorMessage&&t.jsx(jt,{title:Se.errorMessage,children:t.jsx(VR,{color:"error",sx:{fontSize:16}})}),Se.retryCount>0&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Retry ",Se.retryCount,"/",Se.maxRetries]})]})},{id:"paymentReference",label:"Payment Ref",minWidth:120,format:ue=>t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.75rem"},children:ue?ue.slice(0,12)+"...":"-"})},{id:"createdAt",label:"Created",minWidth:110,sortable:!0,format:ue=>t.jsx(j,{variant:"body2",children:new Date(ue).toLocaleDateString()})}],be=[{value:"pending",label:"Pending"},{value:"processing",label:"Processing"},{value:"completed",label:"Completed"},{value:"failed",label:"Failed"},{value:"cancelled",label:"Cancelled"}],ie=t.jsx(ge,{direction:"row",spacing:1,children:t.jsxs(ht,{size:"small",sx:{minWidth:140},children:[t.jsx(St,{children:"Status"}),t.jsxs(mt,{value:W,label:"Status",onChange:ue=>Y(ue.target.value),children:[t.jsx(we,{value:"",children:"All Status"}),be.map(ue=>t.jsx(we,{value:ue.value,children:ue.label},ue.value))]})]})}),ae=ue=>t.jsxs(ge,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View Details",children:t.jsx(Le,{size:"small",onClick:Se=>{Se.stopPropagation(),oe(ue)},children:t.jsx(Ts,{fontSize:"small"})})}),ue.status==="pending"&&t.jsx(jt,{title:"Process Payout",children:t.jsx(Le,{size:"small",onClick:Se=>{Se.stopPropagation(),V(ue)},children:t.jsx(_a,{fontSize:"small",color:"primary"})})}),ue.status==="failed"&&ue.retryCount<ue.maxRetries&&t.jsx(jt,{title:"Retry Payout",children:t.jsx(Le,{size:"small",onClick:Se=>{Se.stopPropagation(),Pe(ue)},children:t.jsx(UR,{fontSize:"small",color:"warning"})})}),(ue.status==="pending"||ue.status==="failed")&&t.jsx(jt,{title:"Cancel Payout",children:t.jsx(Le,{size:"small",onClick:Se=>{Se.stopPropagation(),pe(ue)},children:t.jsx(Is,{fontSize:"small",color:"error"})})}),ue.paymentReference&&t.jsx(jt,{title:"View Payment Details",children:t.jsx(Le,{size:"small",onClick:Se=>{Se.stopPropagation()},children:t.jsx(Gs,{fontSize:"small"})})})]});return t.jsxs(C,{children:[t.jsx(Co,{title:"Payout Management",columns:Oe,rows:e,totalCount:r,loading:o,error:l,selected:u,onSelectionChange:h,onRefresh:G,onSearch:N,onSort:(ue,Se)=>{H(ue),X(Se)},onPageChange:A,onRowsPerPageChange:k,page:D,rowsPerPage:R,searchQuery:_,sortColumn:$,sortDirection:J,filters:ie,rowActions:ae}),t.jsxs(qt,{open:p,onClose:()=>m(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"Payout Details"}),t.jsx(Kt,{children:v&&t.jsxs(ge,{spacing:3,sx:{pt:1},children:[t.jsx(Fe,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Expense Order Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Title"}),t.jsx(j,{variant:"body2",children:((se=v.expenseOrder)==null?void 0:se.title)||"N/A"})]}),t.jsxs(F,{item:!0,xs:12,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Description"}),t.jsx(j,{variant:"body2",children:((me=v.expenseOrder)==null?void 0:me.description)||"N/A"})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Type"}),t.jsx(Je,{label:((_e=(de=v.expenseOrder)==null?void 0:de.type)==null?void 0:_e.name)||"Unknown",size:"small"})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Expense Order ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.85rem"},children:v.expenseOrderId})]})]})]})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Payout Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Journalist"}),t.jsx(j,{variant:"body2",children:je(v.journalist)}),t.jsx(j,{variant:"caption",color:"text.secondary",children:(Ee=v.journalist)==null?void 0:Ee.email})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Channel"}),t.jsx(j,{variant:"body2",children:((He=v.channel)==null?void 0:He.name)||"N/A"})]}),t.jsxs(F,{item:!0,xs:12,sm:4,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Gross Amount"}),t.jsx(j,{variant:"body2",children:re(v.grossAmount,v.currency)})]}),t.jsxs(F,{item:!0,xs:12,sm:4,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Platform Fee"}),t.jsxs(j,{variant:"body2",color:"error",children:["-",re(v.platformFeeAmount,v.currency)]})]}),t.jsxs(F,{item:!0,xs:12,sm:4,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Net Payout"}),t.jsx(j,{variant:"body2",fontWeight:"medium",color:"primary",children:re(v.netAmount,v.currency)})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Status"}),t.jsx(Je,{label:v.status,color:le(v.status),size:"small",sx:{textTransform:"capitalize"}})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Payment Reference"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.85rem"},children:v.paymentReference||"Not processed"})]})]})]})}),v.status==="failed"&&t.jsx(Fe,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Retry Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Retry Count"}),t.jsxs(j,{variant:"body2",children:[v.retryCount," / ",v.maxRetries]})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Next Retry"}),t.jsx(j,{variant:"body2",children:v.nextRetryAt?new Date(v.nextRetryAt).toLocaleString():"No retry scheduled"})]}),v.errorCategory&&t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Error Category"}),t.jsx(Je,{label:v.errorCategory,size:"small",color:"error"})]})]})]})}),v.errorMessage&&t.jsx(dt,{severity:"error",children:t.jsx(j,{variant:"body2",children:v.errorMessage})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Timeline"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(j,{variant:"body2",children:new Date(v.createdAt).toLocaleString()})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Processed"}),t.jsx(j,{variant:"body2",children:v.processedAt?new Date(v.processedAt).toLocaleString():"Not processed"})]}),v.processedBy&&t.jsxs(F,{item:!0,xs:12,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Processed By"}),t.jsx(j,{variant:"body2",children:v.processedBy})]})]})]})})]})}),t.jsx(Xt,{children:t.jsx(he,{onClick:()=>m(!1),children:"Close"})})]}),t.jsxs(qt,{open:g,onClose:()=>y(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Process Payout"}),t.jsx(Kt,{children:t.jsxs(ge,{spacing:2,sx:{pt:1},children:[v&&t.jsxs(dt,{severity:"warning",icon:t.jsx(_a,{}),children:[t.jsxs(j,{variant:"body2",children:["You are about to process a payout of"," ",t.jsx("strong",{children:re(v.netAmount,v.currency)})," ","to ",t.jsx("strong",{children:je(v.journalist)}),"."]}),t.jsxs(j,{variant:"body2",sx:{mt:1},children:["Platform fee: ",re(v.platformFeeAmount,v.currency)]})]}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"This action will initiate the payment process. The funds will be transferred to the journalist's payment method on file."})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(he,{onClick:ee,variant:"contained",color:"primary",startIcon:t.jsx(qa,{}),children:"Confirm & Process"})]})]}),t.jsxs(qt,{open:b,onClose:()=>w(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Cancel Payout"}),t.jsx(Kt,{children:t.jsxs(ge,{spacing:2,sx:{pt:1},children:[v&&t.jsx(dt,{severity:"error",children:t.jsxs(j,{variant:"body2",children:["You are about to cancel the payout for ",t.jsx("strong",{children:je(v.journalist)}),"."]})}),t.jsx(tt,{label:"Cancellation Reason",fullWidth:!0,multiline:!0,rows:3,value:S,onChange:ue=>T(ue.target.value),placeholder:"Provide a reason for cancelling this payout..."})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>w(!1),children:"Close"}),t.jsx(he,{onClick:Re,variant:"contained",color:"error",startIcon:t.jsx(Is,{}),children:"Cancel Payout"})]})]})]})},fK=()=>{const{api:e}=Qe(),{execute:n}=st(),[r,s]=x.useState([]),[o,i]=x.useState(0),[l,d]=x.useState(!1),[u,h]=x.useState(null),[p,m]=x.useState([]),[g,y]=x.useState(!1),[b,w]=x.useState(!1),[v,I]=x.useState(null),[S,T]=x.useState(null),[D,A]=x.useState(""),[R,k]=x.useState(0),[_,N]=x.useState(25),[W,Y]=x.useState(""),[$,H]=x.useState(""),[J]=x.useState(""),[X,K]=x.useState("created_at"),[Z,G]=x.useState("desc"),oe=x.useCallback(async()=>{var ie;d(!0),h(null);try{const ae={};W&&(ae.search=W),$&&(ae.status=$),J&&(ae.channel_id=J);const se=await n(()=>e.app.subscription.getAllSubscriptions({page:R+1,limit:_},ae),{showErrorToast:!1});se&&(s(se.items||[]),i(((ie=se.metadata)==null?void 0:ie.total)||0))}catch{h("Failed to fetch subscriptions")}finally{d(!1)}},[R,_,W,$,J,e.app.subscription,n]);x.useEffect(()=>{oe()},[oe]);const V=ie=>{I(ie),y(!0)},ee=(ie,ae)=>{I(ie),T(ae),w(!0),A("")},Pe=async()=>{if(!(!v||!S))try{const ie=S==="activate"?"active":S==="suspend"?"suspended":"canceled";await n(()=>e.app.subscription.updateSubscriptionStatus(v.id,ie,D)),w(!1),I(null),T(null),A(""),oe()}catch{h(`Failed to ${S} subscription`)}},pe=async()=>{try{const ie=$==="cancelled"?"canceled":$,ae=await n(()=>e.app.subscription.exportSubscriptions({status:ie,channel_id:J},"csv"));if(ae){const se=window.URL.createObjectURL(ae),me=document.createElement("a");me.href=se,me.download=`subscriptions-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(me),me.click(),window.URL.revokeObjectURL(se),document.body.removeChild(me)}}catch{h("Failed to export subscriptions")}},Re=(ie,ae)=>new Intl.NumberFormat("en-US",{style:"currency",currency:ae||"USD"}).format(ie),le=ie=>new Date(ie).toLocaleDateString(),re=[{id:"user",label:"User",minWidth:180,format:(ie,ae)=>{var se,me;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(wn,{sx:{width:32,height:32},children:((se=ae.user.displayName)==null?void 0:se[0])||((me=ae.user.email)==null?void 0:me[0])}),t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:ae.user.displayName}),t.jsx(j,{variant:"caption",color:"text.secondary",noWrap:!0,children:ae.user.email})]})]})}},{id:"channel",label:"Channel",minWidth:120,format:(ie,ae)=>t.jsx(j,{variant:"body2",noWrap:!0,children:ae.channel.name})},{id:"tier",label:"Tier",minWidth:150,format:(ie,ae)=>t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:ae.tier.name}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Re(ae.tier.price,ae.tier.currency)})]})},{id:"statusId",label:"Status",minWidth:100,sortable:!0,format:ie=>t.jsx(Je,{label:Kc(ie),color:Xc(ie),size:"small",sx:{textTransform:"capitalize"}})},{id:"subscribedAt",label:"Subscribed",minWidth:120,sortable:!0,format:ie=>t.jsx(j,{variant:"body2",children:le(ie)})},{id:"expiresAt",label:"Expires",minWidth:120,sortable:!0,format:ie=>t.jsx(j,{variant:"body2",children:ie?le(ie):"Never"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:ie=>t.jsx(j,{variant:"body2",children:le(ie)})}],je=WW,Oe=t.jsx(ge,{direction:"row",spacing:1,children:t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Status"}),t.jsxs(mt,{value:$,label:"Status",onChange:ie=>H(ie.target.value),children:[t.jsx(we,{value:"",children:"All Status"}),je.map(ie=>t.jsx(we,{value:ie.value,children:ie.label},ie.value))]})]})}),be=ie=>t.jsxs(ge,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View Details",children:t.jsx(Le,{size:"small",onClick:ae=>{ae.stopPropagation(),V(ie)},children:t.jsx(Ts,{fontSize:"small"})})}),ie.statusId===gn.SUSPENDED&&t.jsx(jt,{title:"Activate",children:t.jsx(Le,{size:"small",onClick:ae=>{ae.stopPropagation(),ee(ie,"activate")},children:t.jsx(qa,{fontSize:"small",color:"success"})})}),ie.statusId===gn.ACTIVE&&t.jsx(jt,{title:"Suspend",children:t.jsx(Le,{size:"small",onClick:ae=>{ae.stopPropagation(),ee(ie,"suspend")},children:t.jsx(Pv,{fontSize:"small",color:"warning"})})}),ie.statusId!==gn.CANCELLED&&t.jsx(jt,{title:"Cancel",children:t.jsx(Le,{size:"small",onClick:ae=>{ae.stopPropagation(),ee(ie,"cancel")},children:t.jsx(Is,{fontSize:"small",color:"error"})})})]});return t.jsxs(C,{children:[t.jsx(Co,{title:"Subscription Management",columns:re,rows:r,totalCount:o,loading:l,error:u,selected:p,onSelectionChange:m,onRefresh:oe,onSearch:Y,onSort:(ie,ae)=>{K(ie),G(ae)},onPageChange:k,onRowsPerPageChange:N,page:R,rowsPerPage:_,searchQuery:W,sortColumn:X,sortDirection:Z,filters:Oe,rowActions:be,actions:t.jsxs(ge,{direction:"row",spacing:1,children:[t.jsx(he,{variant:"outlined",startIcon:t.jsx(fs,{}),onClick:()=>{},children:"Analytics"}),t.jsx(he,{variant:"outlined",startIcon:t.jsx(Cv,{}),onClick:pe,children:"Export"})]})}),t.jsxs(qt,{open:g,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"Subscription Details"}),t.jsx(Kt,{children:v&&t.jsxs(ge,{spacing:3,sx:{pt:1},children:[t.jsx(Fe,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"User Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Name"}),t.jsx(j,{variant:"body2",children:v.user.displayName})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Email"}),t.jsx(j,{variant:"body2",children:v.user.email})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"User ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace"},children:v.user.id})]})]})]})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Subscription Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Channel"}),t.jsx(j,{variant:"body2",children:v.channel.name})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Tier"}),t.jsx(j,{variant:"body2",children:v.tier.name})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Price"}),t.jsx(j,{variant:"body2",fontWeight:"medium",children:Re(v.tier.price,v.tier.currency)})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Status"}),t.jsx(Je,{label:Kc(v.statusId),color:Xc(v.statusId),size:"small",sx:{textTransform:"capitalize"}})]})]})]})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Timeline"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Subscribed"}),t.jsx(j,{variant:"body2",children:le(v.subscribedAt)})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Expires"}),t.jsx(j,{variant:"body2",children:v.expiresAt?le(v.expiresAt):"Never"})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(j,{variant:"body2",children:le(v.createdAt)})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Updated"}),t.jsx(j,{variant:"body2",children:le(v.updatedAt)})]})]})]})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"System Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Subscription ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace"},children:v.id})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Channel ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace"},children:v.channel.id})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Tier ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace"},children:v.tier.id})]})]})]})})]})}),t.jsx(Xt,{children:t.jsx(he,{onClick:()=>y(!1),children:"Close"})})]}),t.jsxs(qt,{open:b,onClose:()=>w(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsxs(tn,{children:[S==="activate"&&"Activate Subscription",S==="suspend"&&"Suspend Subscription",S==="cancel"&&"Cancel Subscription"]}),t.jsx(Kt,{children:t.jsxs(ge,{spacing:2,sx:{pt:1},children:[v&&t.jsxs(dt,{severity:S==="activate"?"info":"warning",children:[S==="activate"&&`Activating subscription for ${v.user.displayName}`,S==="suspend"&&`Suspending subscription for ${v.user.displayName}`,S==="cancel"&&`Canceling subscription for ${v.user.displayName}`]}),t.jsx(tt,{label:"Reason",fullWidth:!0,multiline:!0,rows:3,value:D,onChange:ie=>A(ie.target.value),placeholder:`Explain why this subscription is being ${S}d...`,required:S!=="activate"})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>w(!1),children:"Cancel"}),t.jsxs(he,{onClick:Pe,variant:"contained",color:S==="activate"?"success":S==="suspend"?"warning":"error",disabled:(S==="suspend"||S==="cancel")&&!D.trim(),children:[S==="activate"&&"Activate",S==="suspend"&&"Suspend",S==="cancel"&&"Cancel"]})]})]})]})},pK=()=>{const{api:e}=Qe(),{execute:n}=st(),[r,s]=x.useState([]),[o,i]=x.useState(0),[l,d]=x.useState(!1),[u,h]=x.useState(null),[p,m]=x.useState([]),[g,y]=x.useState(!1),[b,w]=x.useState(!1),[v,I]=x.useState(!1),[S,T]=x.useState(null),[D,A]=x.useState({email:"",externalId:"",displayName:"",photoUrl:"",roleId:on.REGULAR_USER,statusId:Gn.ACTIVE}),[R,k]=x.useState({system_role:on.REGULAR_USER,system_status:Gn.ACTIVE}),[_,N]=x.useState(0),[W,Y]=x.useState(25),[$,H]=x.useState(""),[J,X]=x.useState(""),[K,Z]=x.useState(""),[G,oe]=x.useState("created_at"),[V,ee]=x.useState("desc"),Pe=async()=>{var L;d(!0),h(null);try{const ke={page:_+1,limit:W,sort:G,order:V,search:$||void 0,status:J||void 0,role:K||void 0},Ue=await n(()=>e.admin.users.getAllUsers(ke),{showErrorToast:!1});Ue&&(s(Ue.items||[]),i(((L=Ue.metadata)==null?void 0:L.total)||0))}catch{h("Failed to fetch users")}finally{d(!1)}};x.useEffect(()=>{Pe()},[_,W,$,J,K,G,V]);const pe=L=>{T(L),y(!0)},Re=async L=>{const ke=L.map(Ue=>Ue.id);try{await Promise.all(ke.map(Ue=>n(()=>e.admin.users.deleteUser(Ue)))),m([]),Pe()}catch{h("Failed to delete users")}},le=async L=>{if(S)try{await n(()=>e.admin.users.updateUser(S.id,L),{showSuccessMessage:!0,successMessage:"User updated successfully"}),y(!1),T(null),Pe()}catch{h("Failed to update user")}},re=async()=>{try{await n(()=>e.admin.users.registerUser(D),{showSuccessMessage:!0,successMessage:"User registered successfully"}),w(!1),A({email:"",externalId:"",displayName:"",photoUrl:"",roleId:on.REGULAR_USER,statusId:Gn.ACTIVE}),Pe()}catch{h("Failed to register user")}},je=async(L,ke)=>{try{await n(()=>e.admin.users.suspendUser(L,{reason:ke}),{showSuccessMessage:!0,successMessage:"User suspended successfully"}),Pe()}catch{h("Failed to suspend user")}},Oe=async(L,ke)=>{try{await n(()=>e.admin.users.unsuspendUser(L,{reason:ke}),{showSuccessMessage:!0,successMessage:"User unsuspended successfully"}),Pe()}catch{h("Failed to unsuspend user")}},be=async()=>{if(S)try{await n(()=>e.admin.users.updateUserCustomClaims(S.id,R),{showSuccessMessage:!0,successMessage:"Custom claims updated successfully"}),I(!1),Pe()}catch{h("Failed to update custom claims")}},ie=L=>{T(L),k({system_role:L.roleId??on.REGULAR_USER,system_status:L.statusId??Gn.ACTIVE}),I(!0)},ae=L=>{switch(L){case on.SUPER_ADMIN:return"error";case on.ADMIN:return"error";case on.MODERATOR:return"warning";case on.JOURNALIST:return"primary";case on.EDITOR:return"info";case on.EVALUATOR:return"secondary";case on.FINANCE_MANAGER:return"success";case on.REGULAR_USER:return"default";case on.GUEST:return"default";default:return"default"}},se=L=>{const ke=Object.entries(on).find(([,Ue])=>Ue===L);return ke?ke[0].replace(/_/g," ").toLowerCase().replace(/\b\w/g,Ue=>Ue.toUpperCase()):"Unknown"},me=L=>{switch(L){case Gn.ACTIVE:return"success";case Gn.INACTIVE:return"default";case Gn.PENDING:return"warning";case Gn.BLOCKED:return"error";case Gn.SUSPENDED:return"warning";case Gn.BANNED:return"error";case Gn.DELETED:return"secondary";case Gn.NOT_VERIFIED:return"info";default:return"default"}},de=L=>{const ke=Object.entries(Gn).find(([,Ue])=>Ue===L);return ke?ke[0].replace(/_/g," ").toLowerCase().replace(/\b\w/g,Ue=>Ue.toUpperCase()):"Unknown"},_e=[{id:"displayName",label:"User",minWidth:200,sortable:!0,format:(L,ke)=>{var Ue;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(wn,{src:ke.photoUrl,sx:{width:40,height:40},children:(L==null?void 0:L[0])||((Ue=ke.email)==null?void 0:Ue[0])}),t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:L}),t.jsx(j,{variant:"caption",color:"text.secondary",noWrap:!0,children:ke.email})]})]})}},{id:"roleId",label:"Role",minWidth:120,sortable:!0,format:L=>t.jsx(Je,{label:se(L),color:ae(L),size:"small",icon:L===on.SUPER_ADMIN||L===on.ADMIN?t.jsx(zR,{fontSize:"small"}):L===on.JOURNALIST||L===on.EDITOR?t.jsx(gv,{fontSize:"small"}):t.jsx(Af,{fontSize:"small"})})},{id:"statusId",label:"Status",minWidth:120,sortable:!0,format:L=>t.jsx(Je,{label:de(L),color:me(L),size:"small"})},{id:"lastLogin",label:"Last Login",minWidth:120,sortable:!0,format:L=>t.jsx(j,{variant:"body2",children:L?new Date(L).toLocaleDateString():"Never"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:L=>t.jsx(j,{variant:"body2",children:new Date(L).toLocaleDateString()})},{id:"updatedAt",label:"Updated",minWidth:120,sortable:!0,format:L=>t.jsx(j,{variant:"body2",children:new Date(L).toLocaleDateString()})}],Ee=Object.entries(Gn).map(([L,ke])=>({value:ke,label:L.replace(/_/g," ").toLowerCase().replace(/\b\w/g,Ue=>Ue.toUpperCase())})),He=Object.entries(on).map(([L,ke])=>({value:ke,label:L.replace(/_/g," ").toLowerCase().replace(/\b\w/g,Ue=>Ue.toUpperCase())})),ue=t.jsxs(ge,{direction:"row",spacing:1,children:[t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Status"}),t.jsxs(mt,{value:J,label:"Status",onChange:L=>X(L.target.value),children:[t.jsx(we,{value:"",children:"All Status"}),Ee.map(L=>t.jsx(we,{value:L.value,children:L.label},L.value))]})]}),t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Role"}),t.jsxs(mt,{value:K,label:"Role",onChange:L=>Z(L.target.value),children:[t.jsx(we,{value:"",children:"All Roles"}),He.map(L=>t.jsx(we,{value:L.value,children:L.label},L.value))]})]})]}),Se=L=>t.jsxs(ge,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View/Edit",children:t.jsx(Le,{size:"small",onClick:ke=>{ke.stopPropagation(),pe(L)},children:t.jsx(Ts,{fontSize:"small"})})}),t.jsx(jt,{title:"Update Custom Claims",children:t.jsx(Le,{size:"small",onClick:ke=>{ke.stopPropagation(),ie(L)},children:t.jsx(HR,{fontSize:"small",color:"info"})})}),L.statusId!==Gn.SUSPENDED&&L.statusId!==Gn.BANNED&&t.jsx(jt,{title:"Suspend User",children:t.jsx(Le,{size:"small",onClick:ke=>{ke.stopPropagation(),je(L.id)},children:t.jsx(Pv,{fontSize:"small",color:"warning"})})}),L.statusId===Gn.SUSPENDED&&t.jsx(jt,{title:"Unsuspend User",children:t.jsx(Le,{size:"small",onClick:ke=>{ke.stopPropagation(),Oe(L.id)},children:t.jsx(qa,{fontSize:"small",color:"success"})})})]}),q=t.jsx(he,{variant:"contained",startIcon:t.jsx(xo,{}),onClick:()=>w(!0),children:"Register User"});return t.jsxs(C,{children:[t.jsx(Co,{title:"User Management",columns:_e,rows:r,totalCount:o,loading:l,error:u,selected:p,onSelectionChange:m,onEdit:pe,onDelete:Re,onRefresh:Pe,onSearch:H,onSort:(L,ke)=>{oe(L),ee(ke)},onPageChange:N,onRowsPerPageChange:Y,page:_,rowsPerPage:W,searchQuery:$,sortColumn:G,sortDirection:V,filters:ue,rowActions:Se,actions:q}),t.jsxs(qt,{open:g,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"Edit User"}),t.jsx(Kt,{children:S&&t.jsxs(ge,{spacing:3,sx:{pt:1},children:[t.jsx(Fe,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"User Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(tt,{label:"Display Name",fullWidth:!0,value:S.displayName||"",onChange:L=>T({...S,displayName:L.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(tt,{label:"Email",fullWidth:!0,value:S.email||"",onChange:L=>T({...S,email:L.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(tt,{label:"Photo URL",fullWidth:!0,value:S.photoUrl||"",onChange:L=>T({...S,photoUrl:L.target.value})})})]})]})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Role & Status"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsxs(ht,{fullWidth:!0,children:[t.jsx(St,{children:"Role"}),t.jsx(mt,{value:S.roleId,label:"Role",onChange:L=>T({...S,roleId:L.target.value}),children:He.map(L=>t.jsx(we,{value:L.value,children:L.label},L.value))})]})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsxs(ht,{fullWidth:!0,children:[t.jsx(St,{children:"Status"}),t.jsx(mt,{value:S.statusId,label:"Status",onChange:L=>T({...S,statusId:L.target.value}),children:Ee.map(L=>t.jsx(we,{value:L.value,children:L.label},L.value))})]})})]})]})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"System Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"User ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace"},children:S.id})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"External ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace"},children:S.externalId})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(j,{variant:"body2",children:new Date(S.createdAt).toLocaleString()})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Last Login"}),t.jsx(j,{variant:"body2",children:S.lastLogin?new Date(S.lastLogin).toLocaleString():"Never"})]})]})]})}),S.channelSubscriptions&&S.channelSubscriptions.length>0&&t.jsx(Fe,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsxs(j,{variant:"h6",gutterBottom:!0,children:["Channel Subscriptions (",S.channelSubscriptions.length,")"]}),t.jsxs(ge,{spacing:1,children:[S.channelSubscriptions.slice(0,5).map((L,ke)=>{var Ue;return t.jsxs(C,{sx:{p:1,border:1,borderColor:"divider",borderRadius:1},children:[t.jsx(j,{variant:"body2",fontWeight:"medium",children:((Ue=L.channel)==null?void 0:Ue.name)||"Unknown Channel"}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Status: ",L.status,"  Started: ",new Date(L.subscribedAt).toLocaleDateString()]})]},ke)}),S.channelSubscriptions.length>5&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["And ",S.channelSubscriptions.length-5," more..."]})]})]})})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(he,{onClick:()=>le(S),variant:"contained",children:"Save Changes"})]})]}),t.jsxs(qt,{open:b,onClose:()=>w(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Register New User"}),t.jsx(Kt,{children:t.jsxs(ge,{spacing:2,sx:{pt:1},children:[t.jsx(tt,{label:"Email",type:"email",fullWidth:!0,required:!0,value:D.email,onChange:L=>A({...D,email:L.target.value})}),t.jsx(tt,{label:"External ID (Firebase UID)",fullWidth:!0,required:!0,value:D.externalId,onChange:L=>A({...D,externalId:L.target.value}),helperText:"The Firebase authentication UID for this user"}),t.jsx(tt,{label:"Display Name",fullWidth:!0,required:!0,value:D.displayName,onChange:L=>A({...D,displayName:L.target.value})}),t.jsx(tt,{label:"Photo URL",fullWidth:!0,value:D.photoUrl,onChange:L=>A({...D,photoUrl:L.target.value})}),t.jsxs(ht,{fullWidth:!0,children:[t.jsx(St,{children:"Role"}),t.jsx(mt,{value:D.roleId,label:"Role",onChange:L=>A({...D,roleId:L.target.value}),children:He.map(L=>t.jsx(we,{value:L.value,children:L.label},L.value))})]}),t.jsxs(ht,{fullWidth:!0,children:[t.jsx(St,{children:"Status"}),t.jsx(mt,{value:D.statusId,label:"Status",onChange:L=>A({...D,statusId:L.target.value}),children:Ee.map(L=>t.jsx(we,{value:L.value,children:L.label},L.value))})]})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>w(!1),children:"Cancel"}),t.jsx(he,{onClick:re,variant:"contained",disabled:!D.email||!D.externalId||!D.displayName,children:"Register User"})]})]}),t.jsxs(qt,{open:v,onClose:()=>I(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Update Firebase Custom Claims"}),t.jsx(Kt,{children:S&&t.jsxs(ge,{spacing:2,sx:{pt:1},children:[t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Update Firebase custom claims for: ",t.jsx("strong",{children:S.displayName})," (",S.email,")"]}),t.jsxs(ht,{fullWidth:!0,children:[t.jsx(St,{children:"System Role"}),t.jsx(mt,{value:R.system_role,label:"System Role",onChange:L=>k({...R,system_role:L.target.value}),children:He.map(L=>t.jsx(we,{value:L.value,children:L.label},L.value))})]}),t.jsxs(ht,{fullWidth:!0,children:[t.jsx(St,{children:"System Status"}),t.jsx(mt,{value:R.system_status,label:"System Status",onChange:L=>k({...R,system_status:L.target.value}),children:Ee.map(L=>t.jsx(we,{value:L.value,children:L.label},L.value))})]}),t.jsx(j,{variant:"caption",color:"warning.main",children:"Warning: This will update the user's Firebase authentication custom claims. The user may need to re-authenticate for changes to take effect."})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>I(!1),children:"Cancel"}),t.jsx(he,{onClick:be,variant:"contained",color:"warning",children:"Update Claims"})]})]})]})},mK=()=>{var He,ue,Se;const{api:e}=Qe(),{execute:n}=st(),[r,s]=x.useState([]),[o,i]=x.useState(0),[l,d]=x.useState(!1),[u,h]=x.useState(null),[p,m]=x.useState([]),[g,y]=x.useState(!1),[b,w]=x.useState(null),[v,I]=x.useState(!1),[S,T]=x.useState(null),[D,A]=x.useState(0),[R,k]=x.useState(25),[_,N]=x.useState(""),[W,Y]=x.useState(""),[$,H]=x.useState(""),[J,X]=x.useState(""),[K,Z]=x.useState(""),[G,oe]=x.useState("created_at"),[V,ee]=x.useState("desc"),Pe=async()=>{var q;d(!0),h(null);try{const L={};_&&(L.search=_),W&&(L.status=W),$&&(L.type=$),J==="true"&&(L.verified=!0),K==="true"&&(L.trending=!0);const ke=await n(()=>e.app.tag.getTags(L,{page:D+1,limit:R}),{showErrorToast:!1});ke&&(s(ke.items||[]),i(((q=ke.metadata)==null?void 0:q.total)||0))}catch{h("Failed to fetch tags")}finally{d(!1)}};x.useEffect(()=>{Pe()},[D,R,_,W,$,J,K,G,V]);const pe=q=>{w(q),y(!0)},Re=async q=>{const L=q.map(ke=>ke.id);try{await Promise.all(L.map(ke=>n(()=>e.app.tag.deleteTag(ke)))),m([]),Pe()}catch{h("Failed to delete tags")}},le=(q,L)=>{w(q),T(L),I(!0)},re=async()=>{if(!(!b||!S))try{S==="approve"?await n(()=>e.app.tag.approveTag(b.id)):await n(()=>e.app.tag.rejectTag(b.id)),I(!1),w(null),T(null),Pe()}catch{h(`Failed to ${S} tag`)}},je=async q=>{if(b)try{await n(()=>e.app.tag.updateTag(b.id,q)),y(!1),w(null),Pe()}catch{h("Failed to update tag")}},Oe=q=>{switch(q){case 1:return"warning";case 2:return"success";case 3:return"error";case 4:return"default";default:return"default"}},be=q=>{switch(q){case 1:return"Pending";case 2:return"Approved";case 3:return"Rejected";case 4:return"Inactive";default:return"Unknown"}},ie=q=>{switch(q){case 1:return"primary";case 2:return"secondary";case 3:return"info";case 4:return"success";default:return"default"}},ae=q=>{switch(q){case 1:return"News";case 2:return"Poll";case 3:return"Channel";case 4:return"General";default:return"Unknown"}},se=[{id:"name",label:"Tag",minWidth:180,sortable:!0,format:(q,L)=>t.jsxs(C,{children:[t.jsxs(ge,{direction:"row",alignItems:"center",spacing:1,children:[t.jsx(kf,{fontSize:"small",color:"action"}),t.jsx(j,{variant:"body2",fontWeight:"medium",children:q}),L.isVerified&&t.jsx(GR,{fontSize:"small",color:"primary"}),L.isTrending&&t.jsx(fs,{fontSize:"small",color:"warning"})]}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["@",L.slug,"  ID: ",L.id]})]})},{id:"typeId",label:"Type",minWidth:100,sortable:!0,format:q=>t.jsx(Je,{label:ae(q),color:ie(q),size:"small"})},{id:"statusId",label:"Status",minWidth:100,sortable:!0,format:q=>t.jsx(Je,{label:be(q),color:Oe(q),size:"small"})},{id:"analytics",label:"Analytics",minWidth:150,format:(q,L)=>{var ke,Ue,dn,Ft,Rt,Qt;return t.jsxs(ge,{spacing:.5,children:[t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Views: ",((Ue=(ke=L.analytics)==null?void 0:ke.viewCount)==null?void 0:Ue.toLocaleString())||"0"]}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Usage: ",((Ft=(dn=L.analytics)==null?void 0:dn.usageCount)==null?void 0:Ft.toLocaleString())||"0"]}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Searches: ",((Qt=(Rt=L.analytics)==null?void 0:Rt.searchCount)==null?void 0:Qt.toLocaleString())||"0"]})]})}},{id:"createdBy",label:"Created By",minWidth:120,format:q=>t.jsx(j,{variant:"body2",children:q||"System"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:q=>t.jsx(j,{variant:"body2",children:new Date(q).toLocaleDateString()})},{id:"approvedAt",label:"Approved",minWidth:120,sortable:!0,format:q=>t.jsx(j,{variant:"body2",children:q?new Date(q).toLocaleDateString():"-"})}],me=[{value:1,label:"Pending"},{value:2,label:"Approved"},{value:3,label:"Rejected"},{value:4,label:"Inactive"}],de=[{value:1,label:"News"},{value:2,label:"Poll"},{value:3,label:"Channel"},{value:4,label:"General"}],_e=t.jsxs(ge,{direction:"row",spacing:1,children:[t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Status"}),t.jsxs(mt,{value:W,label:"Status",onChange:q=>Y(q.target.value),children:[t.jsx(we,{value:"",children:"All Status"}),me.map(q=>t.jsx(we,{value:q.value,children:q.label},q.value))]})]}),t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Type"}),t.jsxs(mt,{value:$,label:"Type",onChange:q=>H(q.target.value),children:[t.jsx(we,{value:"",children:"All Types"}),de.map(q=>t.jsx(we,{value:q.value,children:q.label},q.value))]})]}),t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Verified"}),t.jsxs(mt,{value:J,label:"Verified",onChange:q=>X(q.target.value),children:[t.jsx(we,{value:"",children:"All"}),t.jsx(we,{value:"true",children:"Verified Only"}),t.jsx(we,{value:"false",children:"Not Verified"})]})]}),t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Trending"}),t.jsxs(mt,{value:K,label:"Trending",onChange:q=>Z(q.target.value),children:[t.jsx(we,{value:"",children:"All"}),t.jsx(we,{value:"true",children:"Trending Only"}),t.jsx(we,{value:"false",children:"Not Trending"})]})]})]}),Ee=q=>t.jsxs(ge,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View Details",children:t.jsx(Le,{size:"small",onClick:L=>{L.stopPropagation(),pe(q)},children:t.jsx(Ts,{fontSize:"small"})})}),t.jsx(jt,{title:"Edit",children:t.jsx(Le,{size:"small",onClick:L=>{L.stopPropagation(),pe(q)},children:t.jsx(ps,{fontSize:"small"})})}),q.statusId===1&&t.jsxs(t.Fragment,{children:[t.jsx(jt,{title:"Approve",children:t.jsx(Le,{size:"small",onClick:L=>{L.stopPropagation(),le(q,"approve")},children:t.jsx(qa,{fontSize:"small",color:"success"})})}),t.jsx(jt,{title:"Reject",children:t.jsx(Le,{size:"small",onClick:L=>{L.stopPropagation(),le(q,"reject")},children:t.jsx(Is,{fontSize:"small",color:"error"})})})]}),t.jsx(jt,{title:"View Analytics",children:t.jsx(Le,{size:"small",onClick:L=>{L.stopPropagation()},children:t.jsx(cs,{fontSize:"small",color:"info"})})})]});return t.jsxs(C,{children:[t.jsx(Co,{title:"Tag Management",columns:se,rows:r,totalCount:o,loading:l,error:u,selected:p,onSelectionChange:m,onEdit:pe,onDelete:Re,onRefresh:Pe,onSearch:N,onSort:(q,L)=>{oe(q),ee(L)},onPageChange:A,onRowsPerPageChange:k,page:D,rowsPerPage:R,searchQuery:_,sortColumn:G,sortDirection:V,filters:_e,rowActions:Ee,actions:t.jsx(he,{variant:"outlined",startIcon:t.jsx(rl,{}),onClick:()=>{},children:"Suggestions"})}),t.jsxs(qt,{open:g,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"Edit Tag"}),t.jsx(Kt,{children:b&&t.jsxs(ge,{spacing:3,sx:{pt:1},children:[t.jsx(Fe,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Tag Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(tt,{label:"Tag Name",fullWidth:!0,defaultValue:b.name,onChange:q=>w({...b,name:q.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(tt,{label:"Slug",fullWidth:!0,defaultValue:b.slug,onChange:q=>w({...b,slug:q.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsxs(ht,{fullWidth:!0,children:[t.jsx(St,{children:"Type"}),t.jsx(mt,{value:b.typeId,label:"Type",onChange:q=>w({...b,typeId:q.target.value}),children:de.map(q=>t.jsx(we,{value:q.value,children:q.label},q.value))})]})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsxs(ht,{fullWidth:!0,children:[t.jsx(St,{children:"Status"}),t.jsx(mt,{value:b.statusId,label:"Status",onChange:q=>w({...b,statusId:q.target.value}),children:me.map(q=>t.jsx(we,{value:q.value,children:q.label},q.value))})]})})]})]})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Tag Properties"}),t.jsxs(ge,{spacing:2,children:[t.jsx(Ma,{control:t.jsx(Tc,{checked:b.isVerified,onChange:q=>w({...b,isVerified:q.target.checked})}),label:"Verified Tag"}),t.jsx(Ma,{control:t.jsx(Tc,{checked:b.isTrending,onChange:q=>w({...b,isTrending:q.target.checked})}),label:"Trending Tag"})]})]})}),b.analytics&&t.jsx(Fe,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Analytics"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:4,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"View Count"}),t.jsx(j,{variant:"h6",children:((He=b.analytics.viewCount)==null?void 0:He.toLocaleString())||"0"})]}),t.jsxs(F,{item:!0,xs:12,sm:4,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Usage Count"}),t.jsx(j,{variant:"h6",children:((ue=b.analytics.usageCount)==null?void 0:ue.toLocaleString())||"0"})]}),t.jsxs(F,{item:!0,xs:12,sm:4,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Search Count"}),t.jsx(j,{variant:"h6",children:((Se=b.analytics.searchCount)==null?void 0:Se.toLocaleString())||"0"})]})]}),b.analytics.lastTrendingAt&&t.jsxs(dt,{severity:"info",sx:{mt:2},children:["Last trending: ",new Date(b.analytics.lastTrendingAt).toLocaleString()]})]})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"System Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Tag ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace"},children:b.id})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Created By"}),t.jsx(j,{variant:"body2",children:b.createdBy||"System"})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(j,{variant:"body2",children:new Date(b.createdAt).toLocaleString()})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Approved"}),t.jsx(j,{variant:"body2",children:b.approvedAt?`${new Date(b.approvedAt).toLocaleString()} by ${b.approvedBy||"System"}`:"Not approved"})]})]})]})})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(he,{onClick:()=>je(b),variant:"contained",children:"Save Changes"})]})]}),t.jsxs(qt,{open:v,onClose:()=>I(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsxs(tn,{children:[S==="approve"&&"Approve Tag",S==="reject"&&"Reject Tag"]}),t.jsx(Kt,{children:t.jsxs(ge,{spacing:2,sx:{pt:1},children:[b&&t.jsxs(dt,{severity:S==="approve"?"success":"warning",children:[S==="approve"&&`Approving tag "${b.name}"`,S==="reject"&&`Rejecting tag "${b.name}"`]}),t.jsx(j,{variant:"body2",color:"text.secondary",children:S==="approve"?"This tag will be made available for use across the platform.":"This tag will be rejected and won't be available for use."})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>I(!1),children:"Cancel"}),t.jsxs(he,{onClick:re,variant:"contained",color:S==="approve"?"success":"error",children:[S==="approve"&&"Approve",S==="reject"&&"Reject"]})]})]})]})},xK=()=>{const{isLoading:e}=Ja();return e?t.jsx(IB,{}):t.jsxs(c_,{children:[t.jsx(qe,{path:ye.HOME,element:t.jsx(g4,{})}),t.jsx(qe,{path:ye.LOGIN,element:t.jsx(u4,{})}),t.jsx(qe,{path:ye.SIGNUP,element:t.jsx(f4,{})}),t.jsx(qe,{path:ye.POST_SIGNUP,element:t.jsx(p4,{})}),t.jsxs(qe,{path:`${ye.APP_ROOT}/*`,element:t.jsx(Eh,{children:t.jsx(jF,{})}),children:[t.jsxs(qe,{path:`${Rn.ROOT}/*`,children:[t.jsx(qe,{path:Rn.SUBPATHS.TRENDING,element:t.jsx(df,{filters:{trending:!0}},"trending")}),t.jsx(qe,{path:Rn.SUBPATHS.MY_FEED,element:t.jsx(df,{filters:{feed:!0}},"feed")}),t.jsx(qe,{path:Rn.SUBPATHS.DISCOVER,element:t.jsx(F3,{})}),t.jsx(qe,{path:`${Rn.VIEW}`,element:t.jsx(M3,{})})]}),t.jsxs(qe,{path:`${vr.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(K3,{})}),t.jsx(qe,{path:`${vr.VIEW}`,element:t.jsx(gW,{})})]}),t.jsxs(qe,{path:`${hr.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(bW,{})}),t.jsx(qe,{path:`${hr.VIEW}`,element:t.jsx(AW,{})})]}),t.jsx(qe,{path:`${co.ROOT}/*`,children:t.jsx(qe,{index:!0,element:t.jsx(UW,{})})}),t.jsxs(qe,{path:`${jr.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(GW,{})}),t.jsx(qe,{path:`${jr.VIEW}`,element:t.jsx(YW,{})})]}),t.jsx(qe,{path:Fc.ROOT,element:t.jsx(Qy,{})})]}),t.jsxs(qe,{path:`${ye.STUDIO_ROOT}/*`,element:t.jsx(Eh,{children:t.jsx(QF,{})}),children:[t.jsxs(qe,{path:`${Rn.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(xB,{})}),t.jsx(qe,{path:`${Rn.CREATE}`,element:t.jsx(oB,{})}),t.jsx(qe,{path:`${Rn.EDIT}/:id`,element:t.jsx(aB,{})}),t.jsx(qe,{path:`${Rn.VIEW}`,element:t.jsx(lB,{})})]}),t.jsxs(qe,{path:`${vr.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(bB,{})}),t.jsx(qe,{path:`${vr.CREATE}`,element:t.jsx(jB,{})}),t.jsx(qe,{path:`${vr.VIEW}`,element:t.jsx(PB,{})}),t.jsx(qe,{path:`${vr.EDIT}/:id`,element:t.jsx(i8,{})})]}),t.jsxs(qe,{path:`${hr.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(c8,{})}),t.jsx(qe,{path:`${hr.CREATE}`,element:t.jsx(Vq,{})}),t.jsx(qe,{path:`${hr.EDIT}/:id`,element:t.jsx(Uq,{})}),t.jsx(qe,{path:`${hr.VIEW}`,element:t.jsx(Kq,{})})]}),t.jsxs(qe,{path:`${jr.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(Jq,{})}),t.jsx(qe,{path:`${jr.CREATE}`,element:t.jsx(Qq,{})}),t.jsx(qe,{path:`${jr.EDIT}/:id`,element:t.jsx(Zq,{})}),t.jsx(qe,{path:`${jr.VIEW}`,element:t.jsx(eK,{})})]}),t.jsx(qe,{path:Fc.ROOT,element:t.jsx(Qy,{})})]}),t.jsxs(qe,{path:`${ye.ADMIN_ROOT}/*`,element:t.jsx(Eh,{children:t.jsx(r4,{})}),children:[t.jsx(qe,{index:!0,element:t.jsx(dv,{})}),t.jsx(qe,{path:kt.DASHBOARD,element:t.jsx(dv,{})}),t.jsx(qe,{path:kt.NEWS,element:t.jsx(lK,{})}),t.jsx(qe,{path:kt.POLLS,element:t.jsx(cK,{})}),t.jsx(qe,{path:kt.CHANNELS,element:t.jsx(dK,{})}),t.jsx(qe,{path:kt.EXPENSE_ORDERS,element:t.jsx(uK,{})}),t.jsx(qe,{path:kt.PAYOUTS,element:t.jsx(hK,{})}),t.jsx(qe,{path:kt.TAGS,element:t.jsx(mK,{})}),t.jsx(qe,{path:kt.USERS,element:t.jsx(pK,{})}),t.jsxs(qe,{path:`${kt.SUBSCRIPTIONS}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(fK,{})}),t.jsx(qe,{path:Ia.MANAGEMENT,element:t.jsx(rK,{})}),t.jsx(qe,{path:Ia.ANALYTICS,element:t.jsx(sK,{})}),t.jsx(qe,{path:Ia.REVENUE,element:t.jsx(oK,{})})]}),t.jsx(qe,{path:kt.ANALYTICS,element:t.jsx(aK,{})}),t.jsx(qe,{path:kt.SETTINGS,element:t.jsx(iK,{})}),t.jsx(qe,{path:"users",element:t.jsx(tK,{})}),t.jsx(qe,{path:"channels",element:t.jsx(nK,{})})]}),t.jsx(qe,{path:"*",element:t.jsx(wB,{})})]})},gK={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},bK={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",dayOfMonthFull:"do",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class yK{constructor(n){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib=void 0,this.locale=void 0,this.formats=void 0,this.formatTokenMap=gK,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=l=>typeof l>"u"?new Date:l===null?null:new Date(l),this.getInvalidDate=()=>new Date("Invalid Date"),this.getTimezone=()=>"default",this.setTimezone=l=>l,this.toJsDate=l=>l,this.getCurrentLocaleCode=()=>this.locale.code,this.is12HourCycleInCurrentLocale=()=>/a/.test(this.locale.formatLong.time({width:"short"})),this.expandFormat=l=>{const d=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return l.match(d).map(u=>{const h=u[0];if(h==="p"||h==="P"){const p=this.longFormatters[h];return p(u,this.locale.formatLong)}return u}).join("")},this.formatNumber=l=>l,this.getDayOfWeek=l=>l.getDay()+1;const{locale:r,formats:s,longFormatters:o,lib:i}=n;this.locale=r,this.formats=U({},bK,s),this.longFormatters=o,this.lib=i||"date-fns"}}class vK extends yK{constructor({locale:n,formats:r}={}){super({locale:n??Id,formats:r,longFormatters:zc}),this.parse=(s,o)=>s===""?null:aF(s,o,new Date,{locale:this.locale}),this.isValid=s=>s==null?!1:Gj(s),this.format=(s,o)=>this.formatByString(s,this.formats[o]),this.formatByString=(s,o)=>Ip(s,o,{locale:this.locale}),this.isEqual=(s,o)=>s===null&&o===null?!0:s===null||o===null?!1:u$(s,o),this.isSameYear=(s,o)=>dF(s,o),this.isSameMonth=(s,o)=>cF(s,o),this.isSameDay=(s,o)=>e5(s,o),this.isSameHour=(s,o)=>lF(s,o),this.isAfter=(s,o)=>Ih(s,o),this.isAfterYear=(s,o)=>Ih(s,ky(o)),this.isAfterDay=(s,o)=>Ih(s,af(o)),this.isBefore=(s,o)=>Dh(s,o),this.isBeforeYear=(s,o)=>Dh(s,this.startOfYear(o)),this.isBeforeDay=(s,o)=>Dh(s,this.startOfDay(o)),this.isWithinRange=(s,[o,i])=>uF(s,{start:o,end:i}),this.startOfYear=s=>qj(s),this.startOfMonth=s=>l5(s),this.startOfWeek=s=>qs(s,{locale:this.locale}),this.startOfDay=s=>Vi(s),this.endOfYear=s=>ky(s),this.endOfMonth=s=>Yj(s),this.endOfWeek=s=>c5(s,{locale:this.locale}),this.endOfDay=s=>af(s),this.addYears=(s,o)=>QL(s,o),this.addMonths=(s,o)=>Uj(s,o),this.addWeeks=(s,o)=>JL(s,o),this.addDays=(s,o)=>Pd(s,o),this.addHours=(s,o)=>HL(s,o),this.addMinutes=(s,o)=>KL(s,o),this.addSeconds=(s,o)=>XL(s,o),this.getYear=s=>d$(s),this.getMonth=s=>l$(s),this.getDate=s=>n$(s),this.getHours=s=>s$(s),this.getMinutes=s=>i$(s),this.getSeconds=s=>c$(s),this.getMilliseconds=s=>a$(s),this.setYear=(s,o)=>bF(s,o),this.setMonth=(s,o)=>hF(s,o),this.setDate=(s,o)=>fF(s,o),this.setHours=(s,o)=>pF(s,o),this.setMinutes=(s,o)=>xF(s,o),this.setSeconds=(s,o)=>gF(s,o),this.setMilliseconds=(s,o)=>mF(s,o),this.getDaysInMonth=s=>Zj(s),this.getWeekArray=s=>{const o=this.startOfWeek(this.startOfMonth(s)),i=this.endOfWeek(this.endOfMonth(s));let l=0,d=o;const u=[];for(;this.isBefore(d,i);){const h=Math.floor(l/7);u[h]=u[h]||[],u[h].push(d),d=this.addDays(d,1),l+=1}return u},this.getWeekNumber=s=>Pp(s,{locale:this.locale}),this.getYearRange=([s,o])=>{const i=this.startOfYear(s),l=this.endOfYear(o),d=[];let u=i;for(;this.isBefore(u,l);)d.push(u),u=this.addYears(u,1);return d}}}document.title="Meta Journo v1.1.0";Kh.createRoot(document.getElementById("root")).render(t.jsx(Dt.StrictMode,{children:t.jsx(d_,{children:t.jsx(NN,{children:t.jsx(lN,{children:t.jsx(cN,{children:t.jsx(o4,{children:t.jsx(kF,{children:t.jsx(fN,{children:t.jsx(jL,{children:t.jsx(n1,{dateAdapter:vK,children:t.jsx(xK,{})})})})})})})})})})}));
