var GA=Object.defineProperty;var YA=(e,n,r)=>n in e?GA(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r;var Te=(e,n,r)=>(YA(e,typeof n!="symbol"?n+"":n,r),r);import{d as Mf,r as x,j as t,e as qA,u as KA,i as Xe,S as yv,A as dt,B as C,L as fr,f as rr,h as qt,k as Wt,D as Mt,T as j,l as Sn,c as vi,s as Me,m as ot,n as XA,o as nt,I as es,p as Ne,q as al,C as JA,t as ps,U as Nf,v as Lf,N as Yo,w as QA,R as Tt,x as cn,y as ZA,z as il,E as qo,F as ue,G as sn,H as pd,J as qs,M as wo,K as we,O as vv,Q as eR,V as tR,W as Qe,X as Qh,Y as nR,Z as jv,_ as $f,$ as bo,a0 as Ks,a1 as Ma,a2 as Ff,a3 as Na,a4 as ds,a5 as Ic,a6 as It,a7 as md,a8 as rR,a9 as sR,aa as oR,ab as F,ac as Fe,ad as We,ae as me,af as de,ag as aR,ah as iR,ai as lR,aj as cR,ak as dR,al as uR,am as hR,an as fR,ao as Zh,ap as La,aq as wv,ar as Dc,as as Tc,at as Ec,au as Bf,av as Ac,aw as Xs,ax as jt,ay as ks,az as pR,aA as Kt,aB as tn,aC as Xt,aD as Jt,aE as le,aF as _s,aG as On,aH as ms,aI as Rs,aJ as Wf,aK as Rc,aL as Sv,aM as ef,aN as mR,aO as Uf,aP as xR,aQ as As,aR as Cv,aS as gR,aT as ht,aU as bR,aV as yR,aW as yo,aX as oy,aY as vR,aZ as jR,a_ as Pv,a$ as $a,b0 as wR,b1 as xd,b2 as vo,b3 as Iv,b4 as SR,b5 as CR,b6 as St,b7 as mt,b8 as PR,b9 as gh,ba as IR,bb as DR,bc as TR,bd as ER,be as Dv,bf as AR,bg as Ja,bh as RR,bi as V,bj as kR,bk as _R,bl as OR,P as ne,b as MR,a as nn,bm as at,bn as Gt,bo as So,bp as Os,bq as Tv,br as NR,bs as Ev,bt as Qs,bu as Av,bv as LR,bw as Rv,bx as gd,by as $R,bz as FR,bA as BR,bB as WR,bC as ay,bD as UR,bE as VR,bF as kc,bG as kv,bH as Vf,bI as zf,bJ as Hf,bK as po,bL as yt,bM as _c,bN as Gf,bO as zR,bP as HR,bQ as GR,bR as YR,bS as qR,bT as KR,bU as XR,bV as _v,bW as JR,bX as QR,bY as ZR,bZ as ek}from"./vendor-mui-D4ATHO1M.js";import{o as tk,s as nk,a as rk,c as sk,b as ok,r as Oc,_ as Mc,C as Nc,d as Yf,E as Ov,F as ak,e as qf,g as Kf,f as ik,v as lk,i as ck,h as dk,j as bh,k as uk,l as hk,G as fk,T as pk,m as mk,O as xk}from"./vendor-firebase-DMTI5dsU.js";import{u as ea,L as Xn,a as Ct,O as Xf,N as iy,b as Mv,c as ns,R as gk,d as qe,B as bk}from"./vendor-core-CW8ljA0_.js";import{T as yk,v as vk,G as jk,f as wk,m as Sk,d as Ck,s as Pk,a as Ik,P as Dk,I as Tk,F as Ek,i as Ak,n as Rk}from"./vendor-editor-D13Gvn5f.js";import{i as kk,R as Mi,L as Nv,C as Lc,X as $c,Y as Fc,T as Ni,a as Bc,b as Ta,P as _k,c as Ok,d as Mk,B as Lv,e as Wc}from"./vendor-charts-D8eb3OYz.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();var tf={},ly=Mf;tf.createRoot=ly.createRoot,tf.hydrateRoot=ly.hydrateRoot;const He={HOME:"/",APP:"/app",STUDIO:"/studio",AUTH:"/auth",ADMIN:"/admin"},kn={ROOT:"news",SUBPATHS:{TRENDING:"trending",MY_FEED:"feed",DISCOVER:"discover"},CREATE:"create",EDIT:"edit",VIEW:":id"},vr={ROOT:"channels",CREATE:"create",EDIT:"edit",VIEW:":id"},hr={ROOT:"polls",CREATE:"create",EDIT:"edit",VIEW:":id"},ls={ROOT:"account",PROFILE:"profile",PAYMENT_METHODS:"payment-methods",SUBSCRIPTIONS:"subscriptions",SETTINGS:"settings"},jr={ROOT:"expense-orders",CREATE:"create",EDIT:"edit",VIEW:":id"},Uc={ROOT:"search"},$v={ROOT:"bookmarks"},_t={ROOT:"admin",DASHBOARD:"dashboard",USERS:"users",CHANNELS:"channels",NEWS:"news",POLLS:"polls",EXPENSE_ORDERS:"expense-orders",PAYOUTS:"payouts",TAGS:"tags",SUBSCRIPTIONS:"subscriptions",ANALYTICS:"analytics",SETTINGS:"settings"},Ea={ROOT:"subscriptions",MANAGEMENT:"management",ANALYTICS:"analytics",REVENUE:"revenue"},lc={ROOT:"users",LIST:"list",VIEW:":id",EDIT:":id/edit",ROLES:"roles"},cc={ROOT:"channels",LIST:"list",VIEW:":id",EDIT:":id/edit",ANALYTICS:"analytics"},Ge="/journalist-material-client/".replace(/\/$/,""),be={HOME:`${Ge}${He.HOME}`,LOGIN:`${Ge}${He.AUTH}/login`,SIGNUP:`${Ge}${He.AUTH}/signup`,POST_SIGNUP:`${Ge}${He.AUTH}/welcome`,APP_ROOT:`${Ge}${He.APP}`,APP_NEWS:`${Ge}${He.APP}/${kn.ROOT}`,APP_NEWS_TRENDING:`${Ge}${He.APP}/${kn.ROOT}/trending`,APP_NEWS_MY_FEED:`${Ge}${He.APP}/${kn.ROOT}/feed`,APP_NEWS_DISCOVER:`${Ge}${He.APP}/${kn.ROOT}/discover`,APP_NEWS_VIEW:`${Ge}${He.APP}/${kn.ROOT}/:id`,APP_CHANNELS:`${Ge}${He.APP}/${vr.ROOT}`,APP_CHANNEL_VIEW:`${Ge}${He.APP}/${vr.ROOT}/:channelId`,APP_POLL_LIST:`${Ge}${He.APP}/${hr.ROOT}`,APP_POLL_VIEW:`${Ge}${He.APP}/${hr.ROOT}/:id`,APP_EXPLORE:`${Ge}${He.APP}/explore`,APP_SUBSCRIPTIONS:`${Ge}${He.APP}/subscriptions`,APP_POLLS:`${Ge}${He.APP}/${hr.ROOT}`,APP_SEARCH:`${Ge}${He.APP}/${Uc.ROOT}`,APP_BOOKMARKS:`${Ge}${He.APP}/${$v.ROOT}`,APP_ACCOUNT:`${Ge}${He.APP}/${ls.ROOT}`,APP_ACCOUNT_PROFILE:`${Ge}${He.APP}/${ls.ROOT}/${ls.PROFILE}`,APP_ACCOUNT_PAYMENT_METHODS:`${Ge}${He.APP}/${ls.ROOT}/${ls.PAYMENT_METHODS}`,APP_ACCOUNT_SUBSCRIPTIONS:`${Ge}${He.APP}/${ls.ROOT}/${ls.SUBSCRIPTIONS}`,APP_ACCOUNT_SETTINGS:`${Ge}${He.APP}/${ls.ROOT}/${ls.SETTINGS}`,APP_EXPENSE_ORDERS:`${Ge}${He.APP}/${jr.ROOT}`,APP_EXPENSE_ORDER_VIEW:`${Ge}${He.APP}/${jr.ROOT}/:id`,STUDIO_ROOT:`${Ge}${He.STUDIO}`,STUDIO_NEWS:`${Ge}${He.STUDIO}/${kn.ROOT}`,STUDIO_NEWS_CREATE:`${Ge}${He.STUDIO}/${kn.ROOT}/${kn.CREATE}`,STUDIO_NEWS_EDIT:`${Ge}${He.STUDIO}/${kn.ROOT}/${kn.EDIT}/:id`,STUDIO_NEWS_VIEW:`${Ge}${He.STUDIO}/${kn.ROOT}/:id`,STUDIO_CHANNELS:`${Ge}${He.STUDIO}/${vr.ROOT}`,STUDIO_CHANNEL_CREATE:`${Ge}${He.STUDIO}/${vr.ROOT}/${vr.CREATE}`,STUDIO_CHANNEL_EDIT:`${Ge}${He.STUDIO}/${vr.ROOT}/${vr.EDIT}/:channelId`,STUDIO_CHANNEL_VIEW:`${Ge}${He.STUDIO}/${vr.ROOT}/:channelId`,STUDIO_POLLS:`${Ge}${He.STUDIO}/${hr.ROOT}`,STUDIO_POLL_CREATE:`${Ge}${He.STUDIO}/${hr.ROOT}/${hr.CREATE}`,STUDIO_POLL_EDIT:`${Ge}${He.STUDIO}/${hr.ROOT}/${hr.EDIT}/:id`,STUDIO_POLL_VIEW:`${Ge}${He.STUDIO}/${hr.ROOT}/:id`,STUDIO_SEARCH:`${Ge}${He.STUDIO}/${Uc.ROOT}`,STUDIO_EXPENSE_ORDERS:`${Ge}${He.STUDIO}/${jr.ROOT}`,STUDIO_EXPENSE_ORDER_CREATE:`${Ge}${He.STUDIO}/${jr.ROOT}/${jr.CREATE}`,STUDIO_EXPENSE_ORDER_EDIT:`${Ge}${He.STUDIO}/${jr.ROOT}/${jr.EDIT}/:id`,STUDIO_EXPENSE_ORDER_VIEW:`${Ge}${He.STUDIO}/${jr.ROOT}/:id`,ADMIN_ROOT:`${Ge}${He.ADMIN}`,ADMIN_DASHBOARD:`${Ge}${He.ADMIN}/${_t.DASHBOARD}`,ADMIN_USERS:`${Ge}${He.ADMIN}/${_t.USERS}`,ADMIN_USER_LIST:`${Ge}${He.ADMIN}/${_t.USERS}/${lc.LIST}`,ADMIN_USER_VIEW:`${Ge}${He.ADMIN}/${_t.USERS}/${lc.VIEW}`,ADMIN_USER_EDIT:`${Ge}${He.ADMIN}/${_t.USERS}/${lc.EDIT}`,ADMIN_USER_ROLES:`${Ge}${He.ADMIN}/${_t.USERS}/${lc.ROLES}`,ADMIN_CHANNELS:`${Ge}${He.ADMIN}/${_t.CHANNELS}`,ADMIN_CHANNEL_LIST:`${Ge}${He.ADMIN}/${_t.CHANNELS}/${cc.LIST}`,ADMIN_CHANNEL_VIEW:`${Ge}${He.ADMIN}/${_t.CHANNELS}/${cc.VIEW}`,ADMIN_CHANNEL_EDIT:`${Ge}${He.ADMIN}/${_t.CHANNELS}/${cc.EDIT}`,ADMIN_CHANNEL_ANALYTICS:`${Ge}${He.ADMIN}/${_t.CHANNELS}/${cc.ANALYTICS}`,ADMIN_NEWS:`${Ge}${He.ADMIN}/${_t.NEWS}`,ADMIN_POLLS:`${Ge}${He.ADMIN}/${_t.POLLS}`,ADMIN_EXPENSE_ORDERS:`${Ge}${He.ADMIN}/${_t.EXPENSE_ORDERS}`,ADMIN_PAYOUTS:`${Ge}${He.ADMIN}/${_t.PAYOUTS}`,ADMIN_TAGS:`${Ge}${He.ADMIN}/${_t.TAGS}`,ADMIN_SUBSCRIPTIONS:`${Ge}${He.ADMIN}/${_t.SUBSCRIPTIONS}`,ADMIN_SUBSCRIPTION_MANAGEMENT:`${Ge}${He.ADMIN}/${_t.SUBSCRIPTIONS}/${Ea.MANAGEMENT}`,ADMIN_SUBSCRIPTION_ANALYTICS:`${Ge}${He.ADMIN}/${_t.SUBSCRIPTIONS}/${Ea.ANALYTICS}`,ADMIN_SUBSCRIPTION_REVENUE:`${Ge}${He.ADMIN}/${_t.SUBSCRIPTIONS}/${Ea.REVENUE}`,ADMIN_ANALYTICS:`${Ge}${He.ADMIN}/${_t.ANALYTICS}`,ADMIN_SETTINGS:`${Ge}${He.ADMIN}/${_t.SETTINGS}`};function Fv(e,n){return function(){return e.apply(n,arguments)}}const{toString:Nk}=Object.prototype,{getPrototypeOf:Jf}=Object,bd=(e=>n=>{const r=Nk.call(n);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),gs=e=>(e=e.toLowerCase(),n=>bd(n)===e),yd=e=>n=>typeof n===e,{isArray:Qa}=Array,Ui=yd("undefined");function Lk(e){return e!==null&&!Ui(e)&&e.constructor!==null&&!Ui(e.constructor)&&Qr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Bv=gs("ArrayBuffer");function $k(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&Bv(e.buffer),n}const Fk=yd("string"),Qr=yd("function"),Wv=yd("number"),vd=e=>e!==null&&typeof e=="object",Bk=e=>e===!0||e===!1,vc=e=>{if(bd(e)!=="object")return!1;const n=Jf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Wk=gs("Date"),Uk=gs("File"),Vk=gs("Blob"),zk=gs("FileList"),Hk=e=>vd(e)&&Qr(e.pipe),Gk=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||Qr(e.append)&&((n=bd(e))==="formdata"||n==="object"&&Qr(e.toString)&&e.toString()==="[object FormData]"))},Yk=gs("URLSearchParams"),[qk,Kk,Xk,Jk]=["ReadableStream","Request","Response","Headers"].map(gs),Qk=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ll(e,n,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,o;if(typeof e!="object"&&(e=[e]),Qa(e))for(s=0,o=e.length;s<o;s++)n.call(null,e[s],s,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let d;for(s=0;s<l;s++)d=i[s],n.call(null,e[d],d,e)}}function Uv(e,n){n=n.toLowerCase();const r=Object.keys(e);let s=r.length,o;for(;s-- >0;)if(o=r[s],n===o.toLowerCase())return o;return null}const Vv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,zv=e=>!Ui(e)&&e!==Vv;function nf(){const{caseless:e}=zv(this)&&this||{},n={},r=(s,o)=>{const i=e&&Uv(n,o)||o;vc(n[i])&&vc(s)?n[i]=nf(n[i],s):vc(s)?n[i]=nf({},s):Qa(s)?n[i]=s.slice():n[i]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&ll(arguments[s],r);return n}const Zk=(e,n,r,{allOwnKeys:s}={})=>(ll(n,(o,i)=>{r&&Qr(o)?e[i]=Fv(o,r):e[i]=o},{allOwnKeys:s}),e),e_=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),t_=(e,n,r,s)=>{e.prototype=Object.create(n.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),r&&Object.assign(e.prototype,r)},n_=(e,n,r,s)=>{let o,i,l;const d={};if(n=n||{},e==null)return n;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)l=o[i],(!s||s(l,e,n))&&!d[l]&&(n[l]=e[l],d[l]=!0);e=r!==!1&&Jf(e)}while(e&&(!r||r(e,n))&&e!==Object.prototype);return n},r_=(e,n,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=n.length;const s=e.indexOf(n,r);return s!==-1&&s===r},s_=e=>{if(!e)return null;if(Qa(e))return e;let n=e.length;if(!Wv(n))return null;const r=new Array(n);for(;n-- >0;)r[n]=e[n];return r},o_=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&Jf(Uint8Array)),a_=(e,n)=>{const s=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=s.next())&&!o.done;){const i=o.value;n.call(e,i[0],i[1])}},i_=(e,n)=>{let r;const s=[];for(;(r=e.exec(n))!==null;)s.push(r);return s},l_=gs("HTMLFormElement"),c_=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,o){return s.toUpperCase()+o}),cy=(({hasOwnProperty:e})=>(n,r)=>e.call(n,r))(Object.prototype),d_=gs("RegExp"),Hv=(e,n)=>{const r=Object.getOwnPropertyDescriptors(e),s={};ll(r,(o,i)=>{let l;(l=n(o,i,e))!==!1&&(s[i]=l||o)}),Object.defineProperties(e,s)},u_=e=>{Hv(e,(n,r)=>{if(Qr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(Qr(s)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},h_=(e,n)=>{const r={},s=o=>{o.forEach(i=>{r[i]=!0})};return Qa(e)?s(e):s(String(e).split(n)),r},f_=()=>{},p_=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n,yh="abcdefghijklmnopqrstuvwxyz",dy="0123456789",Gv={DIGIT:dy,ALPHA:yh,ALPHA_DIGIT:yh+yh.toUpperCase()+dy},m_=(e=16,n=Gv.ALPHA_DIGIT)=>{let r="";const{length:s}=n;for(;e--;)r+=n[Math.random()*s|0];return r};function x_(e){return!!(e&&Qr(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const g_=e=>{const n=new Array(10),r=(s,o)=>{if(vd(s)){if(n.indexOf(s)>=0)return;if(!("toJSON"in s)){n[o]=s;const i=Qa(s)?[]:{};return ll(s,(l,d)=>{const u=r(l,o+1);!Ui(u)&&(i[d]=u)}),n[o]=void 0,i}}return s};return r(e,0)},b_=gs("AsyncFunction"),y_=e=>e&&(vd(e)||Qr(e))&&Qr(e.then)&&Qr(e.catch),ve={isArray:Qa,isArrayBuffer:Bv,isBuffer:Lk,isFormData:Gk,isArrayBufferView:$k,isString:Fk,isNumber:Wv,isBoolean:Bk,isObject:vd,isPlainObject:vc,isReadableStream:qk,isRequest:Kk,isResponse:Xk,isHeaders:Jk,isUndefined:Ui,isDate:Wk,isFile:Uk,isBlob:Vk,isRegExp:d_,isFunction:Qr,isStream:Hk,isURLSearchParams:Yk,isTypedArray:o_,isFileList:zk,forEach:ll,merge:nf,extend:Zk,trim:Qk,stripBOM:e_,inherits:t_,toFlatObject:n_,kindOf:bd,kindOfTest:gs,endsWith:r_,toArray:s_,forEachEntry:a_,matchAll:i_,isHTMLForm:l_,hasOwnProperty:cy,hasOwnProp:cy,reduceDescriptors:Hv,freezeMethods:u_,toObjectSet:h_,toCamelCase:c_,noop:f_,toFiniteNumber:p_,findKey:Uv,global:Vv,isContextDefined:zv,ALPHABET:Gv,generateString:m_,isSpecCompliantForm:x_,toJSONObject:g_,isAsyncFn:b_,isThenable:y_};function xt(e,n,r,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),r&&(this.config=r),s&&(this.request=s),o&&(this.response=o)}ve.inherits(xt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Yv=xt.prototype,qv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{qv[e]={value:e}});Object.defineProperties(xt,qv);Object.defineProperty(Yv,"isAxiosError",{value:!0});xt.from=(e,n,r,s,o,i)=>{const l=Object.create(Yv);return ve.toFlatObject(e,l,function(u){return u!==Error.prototype},d=>d!=="isAxiosError"),xt.call(l,e.message,n,r,s,o),l.cause=e,l.name=e.name,i&&Object.assign(l,i),l};const v_=null;function rf(e){return ve.isPlainObject(e)||ve.isArray(e)}function Kv(e){return ve.endsWith(e,"[]")?e.slice(0,-2):e}function uy(e,n,r){return e?e.concat(n).map(function(o,i){return o=Kv(o),!r&&i?"["+o+"]":o}).join(r?".":""):n}function j_(e){return ve.isArray(e)&&!e.some(rf)}const w_=ve.toFlatObject(ve,{},null,function(n){return/^is[A-Z]/.test(n)});function jd(e,n,r){if(!ve.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,r=ve.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,v){return!ve.isUndefined(v[w])});const s=r.metaTokens,o=r.visitor||f,i=r.dots,l=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(n);if(!ve.isFunction(o))throw new TypeError("visitor must be a function");function h(b){if(b===null)return"";if(ve.isDate(b))return b.toISOString();if(!u&&ve.isBlob(b))throw new xt("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(b)||ve.isTypedArray(b)?u&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function f(b,w,v){let I=b;if(b&&!v&&typeof b=="object"){if(ve.endsWith(w,"{}"))w=s?w:w.slice(0,-2),b=JSON.stringify(b);else if(ve.isArray(b)&&j_(b)||(ve.isFileList(b)||ve.endsWith(w,"[]"))&&(I=ve.toArray(b)))return w=Kv(w),I.forEach(function(D,T){!(ve.isUndefined(D)||D===null)&&n.append(l===!0?uy([w],T,i):l===null?w:w+"[]",h(D))}),!1}return rf(b)?!0:(n.append(uy(v,w,i),h(b)),!1)}const m=[],g=Object.assign(w_,{defaultVisitor:f,convertValue:h,isVisitable:rf});function y(b,w){if(!ve.isUndefined(b)){if(m.indexOf(b)!==-1)throw Error("Circular reference detected in "+w.join("."));m.push(b),ve.forEach(b,function(I,S){(!(ve.isUndefined(I)||I===null)&&o.call(n,I,ve.isString(S)?S.trim():S,w,g))===!0&&y(I,w?w.concat(S):[S])}),m.pop()}}if(!ve.isObject(e))throw new TypeError("data must be an object");return y(e),n}function hy(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return n[s]})}function Qf(e,n){this._pairs=[],e&&jd(e,this,n)}const Xv=Qf.prototype;Xv.append=function(n,r){this._pairs.push([n,r])};Xv.toString=function(n){const r=n?function(s){return n.call(this,s,hy)}:hy;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function S_(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Jv(e,n,r){if(!n)return e;const s=r&&r.encode||S_,o=r&&r.serialize;let i;if(o?i=o(n,r):i=ve.isURLSearchParams(n)?n.toString():new Qf(n,r).toString(s),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class fy{constructor(){this.handlers=[]}use(n,r,s){return this.handlers.push({fulfilled:n,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){ve.forEach(this.handlers,function(s){s!==null&&n(s)})}}const Qv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},C_=typeof URLSearchParams<"u"?URLSearchParams:Qf,P_=typeof FormData<"u"?FormData:null,I_=typeof Blob<"u"?Blob:null,D_={isBrowser:!0,classes:{URLSearchParams:C_,FormData:P_,Blob:I_},protocols:["http","https","file","blob","url","data"]},Zf=typeof window<"u"&&typeof document<"u",T_=(e=>Zf&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),E_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",A_=Zf&&window.location.href||"http://localhost",R_=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zf,hasStandardBrowserEnv:T_,hasStandardBrowserWebWorkerEnv:E_,origin:A_},Symbol.toStringTag,{value:"Module"})),fs={...R_,...D_};function k_(e,n){return jd(e,new fs.classes.URLSearchParams,Object.assign({visitor:function(r,s,o,i){return fs.isNode&&ve.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},n))}function __(e){return ve.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function O_(e){const n={},r=Object.keys(e);let s;const o=r.length;let i;for(s=0;s<o;s++)i=r[s],n[i]=e[i];return n}function Zv(e){function n(r,s,o,i){let l=r[i++];if(l==="__proto__")return!0;const d=Number.isFinite(+l),u=i>=r.length;return l=!l&&ve.isArray(o)?o.length:l,u?(ve.hasOwnProp(o,l)?o[l]=[o[l],s]:o[l]=s,!d):((!o[l]||!ve.isObject(o[l]))&&(o[l]=[]),n(r,s,o[l],i)&&ve.isArray(o[l])&&(o[l]=O_(o[l])),!d)}if(ve.isFormData(e)&&ve.isFunction(e.entries)){const r={};return ve.forEachEntry(e,(s,o)=>{n(__(s),o,r,0)}),r}return null}function M_(e,n,r){if(ve.isString(e))try{return(n||JSON.parse)(e),ve.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const cl={transitional:Qv,adapter:["xhr","http","fetch"],transformRequest:[function(n,r){const s=r.getContentType()||"",o=s.indexOf("application/json")>-1,i=ve.isObject(n);if(i&&ve.isHTMLForm(n)&&(n=new FormData(n)),ve.isFormData(n))return o?JSON.stringify(Zv(n)):n;if(ve.isArrayBuffer(n)||ve.isBuffer(n)||ve.isStream(n)||ve.isFile(n)||ve.isBlob(n)||ve.isReadableStream(n))return n;if(ve.isArrayBufferView(n))return n.buffer;if(ve.isURLSearchParams(n))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let d;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return k_(n,this.formSerializer).toString();if((d=ve.isFileList(n))||s.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return jd(d?{"files[]":n}:n,u&&new u,this.formSerializer)}}return i||o?(r.setContentType("application/json",!1),M_(n)):n}],transformResponse:[function(n){const r=this.transitional||cl.transitional,s=r&&r.forcedJSONParsing,o=this.responseType==="json";if(ve.isResponse(n)||ve.isReadableStream(n))return n;if(n&&ve.isString(n)&&(s&&!this.responseType||o)){const l=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(n)}catch(d){if(l)throw d.name==="SyntaxError"?xt.from(d,xt.ERR_BAD_RESPONSE,this,null,this.response):d}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fs.classes.FormData,Blob:fs.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ve.forEach(["delete","get","head","post","put","patch"],e=>{cl.headers[e]={}});const N_=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),L_=e=>{const n={};let r,s,o;return e&&e.split(`
`).forEach(function(l){o=l.indexOf(":"),r=l.substring(0,o).trim().toLowerCase(),s=l.substring(o+1).trim(),!(!r||n[r]&&N_[r])&&(r==="set-cookie"?n[r]?n[r].push(s):n[r]=[s]:n[r]=n[r]?n[r]+", "+s:s)}),n},py=Symbol("internals");function ji(e){return e&&String(e).trim().toLowerCase()}function jc(e){return e===!1||e==null?e:ve.isArray(e)?e.map(jc):String(e)}function $_(e){const n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)n[s[1]]=s[2];return n}const F_=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function vh(e,n,r,s,o){if(ve.isFunction(s))return s.call(this,n,r);if(o&&(n=r),!!ve.isString(n)){if(ve.isString(s))return n.indexOf(s)!==-1;if(ve.isRegExp(s))return s.test(n)}}function B_(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,r,s)=>r.toUpperCase()+s)}function W_(e,n){const r=ve.toCamelCase(" "+n);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(o,i,l){return this[s].call(this,n,o,i,l)},configurable:!0})})}class Cr{constructor(n){n&&this.set(n)}set(n,r,s){const o=this;function i(d,u,h){const f=ji(u);if(!f)throw new Error("header name must be a non-empty string");const m=ve.findKey(o,f);(!m||o[m]===void 0||h===!0||h===void 0&&o[m]!==!1)&&(o[m||u]=jc(d))}const l=(d,u)=>ve.forEach(d,(h,f)=>i(h,f,u));if(ve.isPlainObject(n)||n instanceof this.constructor)l(n,r);else if(ve.isString(n)&&(n=n.trim())&&!F_(n))l(L_(n),r);else if(ve.isHeaders(n))for(const[d,u]of n.entries())i(u,d,s);else n!=null&&i(r,n,s);return this}get(n,r){if(n=ji(n),n){const s=ve.findKey(this,n);if(s){const o=this[s];if(!r)return o;if(r===!0)return $_(o);if(ve.isFunction(r))return r.call(this,o,s);if(ve.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,r){if(n=ji(n),n){const s=ve.findKey(this,n);return!!(s&&this[s]!==void 0&&(!r||vh(this,this[s],s,r)))}return!1}delete(n,r){const s=this;let o=!1;function i(l){if(l=ji(l),l){const d=ve.findKey(s,l);d&&(!r||vh(s,s[d],d,r))&&(delete s[d],o=!0)}}return ve.isArray(n)?n.forEach(i):i(n),o}clear(n){const r=Object.keys(this);let s=r.length,o=!1;for(;s--;){const i=r[s];(!n||vh(this,this[i],i,n,!0))&&(delete this[i],o=!0)}return o}normalize(n){const r=this,s={};return ve.forEach(this,(o,i)=>{const l=ve.findKey(s,i);if(l){r[l]=jc(o),delete r[i];return}const d=n?B_(i):String(i).trim();d!==i&&delete r[i],r[d]=jc(o),s[d]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const r=Object.create(null);return ve.forEach(this,(s,o)=>{s!=null&&s!==!1&&(r[o]=n&&ve.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,r])=>n+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...r){const s=new this(n);return r.forEach(o=>s.set(o)),s}static accessor(n){const s=(this[py]=this[py]={accessors:{}}).accessors,o=this.prototype;function i(l){const d=ji(l);s[d]||(W_(o,l),s[d]=!0)}return ve.isArray(n)?n.forEach(i):i(n),this}}Cr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ve.reduceDescriptors(Cr.prototype,({value:e},n)=>{let r=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(s){this[r]=s}}});ve.freezeMethods(Cr);function jh(e,n){const r=this||cl,s=n||r,o=Cr.from(s.headers);let i=s.data;return ve.forEach(e,function(d){i=d.call(r,i,o.normalize(),n?n.status:void 0)}),o.normalize(),i}function ej(e){return!!(e&&e.__CANCEL__)}function Za(e,n,r){xt.call(this,e??"canceled",xt.ERR_CANCELED,n,r),this.name="CanceledError"}ve.inherits(Za,xt,{__CANCEL__:!0});function tj(e,n,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):n(new xt("Request failed with status code "+r.status,[xt.ERR_BAD_REQUEST,xt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function U_(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function V_(e,n){e=e||10;const r=new Array(e),s=new Array(e);let o=0,i=0,l;return n=n!==void 0?n:1e3,function(u){const h=Date.now(),f=s[i];l||(l=h),r[o]=u,s[o]=h;let m=i,g=0;for(;m!==o;)g+=r[m++],m=m%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),h-l<n)return;const y=f&&h-f;return y?Math.round(g*1e3/y):void 0}}function z_(e,n){let r=0;const s=1e3/n;let o=null;return function(){const l=this===!0,d=Date.now();if(l||d-r>s)return o&&(clearTimeout(o),o=null),r=d,e.apply(null,arguments);o||(o=setTimeout(()=>(o=null,r=Date.now(),e.apply(null,arguments)),s-(d-r)))}}const Vc=(e,n,r=3)=>{let s=0;const o=V_(50,250);return z_(i=>{const l=i.loaded,d=i.lengthComputable?i.total:void 0,u=l-s,h=o(u),f=l<=d;s=l;const m={loaded:l,total:d,progress:d?l/d:void 0,bytes:u,rate:h||void 0,estimated:h&&d&&f?(d-l)/h:void 0,event:i,lengthComputable:d!=null};m[n?"download":"upload"]=!0,e(m)},r)},H_=fs.hasStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let s;function o(i){let l=i;return n&&(r.setAttribute("href",l),l=r.href),r.setAttribute("href",l),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return s=o(window.location.href),function(l){const d=ve.isString(l)?o(l):l;return d.protocol===s.protocol&&d.host===s.host}}():function(){return function(){return!0}}(),G_=fs.hasStandardBrowserEnv?{write(e,n,r,s,o,i){const l=[e+"="+encodeURIComponent(n)];ve.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),ve.isString(s)&&l.push("path="+s),ve.isString(o)&&l.push("domain="+o),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Y_(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function q_(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function nj(e,n){return e&&!Y_(n)?q_(e,n):n}const my=e=>e instanceof Cr?{...e}:e;function Ko(e,n){n=n||{};const r={};function s(h,f,m){return ve.isPlainObject(h)&&ve.isPlainObject(f)?ve.merge.call({caseless:m},h,f):ve.isPlainObject(f)?ve.merge({},f):ve.isArray(f)?f.slice():f}function o(h,f,m){if(ve.isUndefined(f)){if(!ve.isUndefined(h))return s(void 0,h,m)}else return s(h,f,m)}function i(h,f){if(!ve.isUndefined(f))return s(void 0,f)}function l(h,f){if(ve.isUndefined(f)){if(!ve.isUndefined(h))return s(void 0,h)}else return s(void 0,f)}function d(h,f,m){if(m in n)return s(h,f);if(m in e)return s(void 0,h)}const u={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(h,f)=>o(my(h),my(f),!0)};return ve.forEach(Object.keys(Object.assign({},e,n)),function(f){const m=u[f]||o,g=m(e[f],n[f],f);ve.isUndefined(g)&&m!==d||(r[f]=g)}),r}const rj=e=>{const n=Ko({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:i,headers:l,auth:d}=n;n.headers=l=Cr.from(l),n.url=Jv(nj(n.baseURL,n.url),e.params,e.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let u;if(ve.isFormData(r)){if(fs.hasStandardBrowserEnv||fs.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((u=l.getContentType())!==!1){const[h,...f]=u?u.split(";").map(m=>m.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...f].join("; "))}}if(fs.hasStandardBrowserEnv&&(s&&ve.isFunction(s)&&(s=s(n)),s||s!==!1&&H_(n.url))){const h=o&&i&&G_.read(i);h&&l.set(o,h)}return n},K_=typeof XMLHttpRequest<"u",X_=K_&&function(e){return new Promise(function(r,s){const o=rj(e);let i=o.data;const l=Cr.from(o.headers).normalize();let{responseType:d}=o,u;function h(){o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let f=new XMLHttpRequest;f.open(o.method.toUpperCase(),o.url,!0),f.timeout=o.timeout;function m(){if(!f)return;const y=Cr.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),w={data:!d||d==="text"||d==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:y,config:e,request:f};tj(function(I){r(I),h()},function(I){s(I),h()},w),f=null}"onloadend"in f?f.onloadend=m:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(m)},f.onabort=function(){f&&(s(new xt("Request aborted",xt.ECONNABORTED,o,f)),f=null)},f.onerror=function(){s(new xt("Network Error",xt.ERR_NETWORK,o,f)),f=null},f.ontimeout=function(){let b=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const w=o.transitional||Qv;o.timeoutErrorMessage&&(b=o.timeoutErrorMessage),s(new xt(b,w.clarifyTimeoutError?xt.ETIMEDOUT:xt.ECONNABORTED,o,f)),f=null},i===void 0&&l.setContentType(null),"setRequestHeader"in f&&ve.forEach(l.toJSON(),function(b,w){f.setRequestHeader(w,b)}),ve.isUndefined(o.withCredentials)||(f.withCredentials=!!o.withCredentials),d&&d!=="json"&&(f.responseType=o.responseType),typeof o.onDownloadProgress=="function"&&f.addEventListener("progress",Vc(o.onDownloadProgress,!0)),typeof o.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",Vc(o.onUploadProgress)),(o.cancelToken||o.signal)&&(u=y=>{f&&(s(!y||y.type?new Za(null,e,f):y),f.abort(),f=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const g=U_(o.url);if(g&&fs.protocols.indexOf(g)===-1){s(new xt("Unsupported protocol "+g+":",xt.ERR_BAD_REQUEST,e));return}f.send(i||null)})},J_=(e,n)=>{let r=new AbortController,s;const o=function(u){if(!s){s=!0,l();const h=u instanceof Error?u:this.reason;r.abort(h instanceof xt?h:new Za(h instanceof Error?h.message:h))}};let i=n&&setTimeout(()=>{o(new xt(`timeout ${n} of ms exceeded`,xt.ETIMEDOUT))},n);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u&&(u.removeEventListener?u.removeEventListener("abort",o):u.unsubscribe(o))}),e=null)};e.forEach(u=>u&&u.addEventListener&&u.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=l,[d,()=>{i&&clearTimeout(i),i=null}]},Q_=function*(e,n){let r=e.byteLength;if(!n||r<n){yield e;return}let s=0,o;for(;s<r;)o=s+n,yield e.slice(s,o),s=o},Z_=async function*(e,n,r){for await(const s of e)yield*Q_(ArrayBuffer.isView(s)?s:await r(String(s)),n)},xy=(e,n,r,s,o)=>{const i=Z_(e,n,o);let l=0;return new ReadableStream({type:"bytes",async pull(d){const{done:u,value:h}=await i.next();if(u){d.close(),s();return}let f=h.byteLength;r&&r(l+=f),d.enqueue(new Uint8Array(h))},cancel(d){return s(d),i.return()}},{highWaterMark:2})},gy=(e,n)=>{const r=e!=null;return s=>setTimeout(()=>n({lengthComputable:r,total:e,loaded:s}))},wd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",sj=wd&&typeof ReadableStream=="function",sf=wd&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),eO=sj&&(()=>{let e=!1;const n=new Request(fs.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n})(),by=64*1024,of=sj&&!!(()=>{try{return ve.isReadableStream(new Response("").body)}catch{}})(),zc={stream:of&&(e=>e.body)};wd&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!zc[n]&&(zc[n]=ve.isFunction(e[n])?r=>r[n]():(r,s)=>{throw new xt(`Response type '${n}' is not supported`,xt.ERR_NOT_SUPPORT,s)})})})(new Response);const tO=async e=>{if(e==null)return 0;if(ve.isBlob(e))return e.size;if(ve.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(ve.isArrayBufferView(e))return e.byteLength;if(ve.isURLSearchParams(e)&&(e=e+""),ve.isString(e))return(await sf(e)).byteLength},nO=async(e,n)=>{const r=ve.toFiniteNumber(e.getContentLength());return r??tO(n)},rO=wd&&(async e=>{let{url:n,method:r,data:s,signal:o,cancelToken:i,timeout:l,onDownloadProgress:d,onUploadProgress:u,responseType:h,headers:f,withCredentials:m="same-origin",fetchOptions:g}=rj(e);h=h?(h+"").toLowerCase():"text";let[y,b]=o||i||l?J_([o,i],l):[],w,v;const I=()=>{!w&&setTimeout(()=>{y&&y.unsubscribe()}),w=!0};let S;try{if(u&&eO&&r!=="get"&&r!=="head"&&(S=await nO(f,s))!==0){let R=new Request(n,{method:"POST",body:s,duplex:"half"}),O;ve.isFormData(s)&&(O=R.headers.get("content-type"))&&f.setContentType(O),R.body&&(s=xy(R.body,by,gy(S,Vc(u)),null,sf))}ve.isString(m)||(m=m?"cors":"omit"),v=new Request(n,{...g,signal:y,method:r.toUpperCase(),headers:f.normalize().toJSON(),body:s,duplex:"half",withCredentials:m});let D=await fetch(v);const T=of&&(h==="stream"||h==="response");if(of&&(d||T)){const R={};["status","statusText","headers"].forEach(k=>{R[k]=D[k]});const O=ve.toFiniteNumber(D.headers.get("content-length"));D=new Response(xy(D.body,by,d&&gy(O,Vc(d,!0)),T&&I,sf),R)}h=h||"text";let E=await zc[ve.findKey(zc,h)||"text"](D,e);return!T&&I(),b&&b(),await new Promise((R,O)=>{tj(R,O,{data:E,headers:Cr.from(D.headers),status:D.status,statusText:D.statusText,config:e,request:v})})}catch(D){throw I(),D&&D.name==="TypeError"&&/fetch/i.test(D.message)?Object.assign(new xt("Network Error",xt.ERR_NETWORK,e,v),{cause:D.cause||D}):xt.from(D,D&&D.code,e,v)}}),af={http:v_,xhr:X_,fetch:rO};ve.forEach(af,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const yy=e=>`- ${e}`,sO=e=>ve.isFunction(e)||e===null||e===!1,oj={getAdapter:e=>{e=ve.isArray(e)?e:[e];const{length:n}=e;let r,s;const o={};for(let i=0;i<n;i++){r=e[i];let l;if(s=r,!sO(r)&&(s=af[(l=String(r)).toLowerCase()],s===void 0))throw new xt(`Unknown adapter '${l}'`);if(s)break;o[l||"#"+i]=s}if(!s){const i=Object.entries(o).map(([d,u])=>`adapter ${d} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?i.length>1?`since :
`+i.map(yy).join(`
`):" "+yy(i[0]):"as no adapter specified";throw new xt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:af};function wh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Za(null,e)}function vy(e){return wh(e),e.headers=Cr.from(e.headers),e.data=jh.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),oj.getAdapter(e.adapter||cl.adapter)(e).then(function(s){return wh(e),s.data=jh.call(e,e.transformResponse,s),s.headers=Cr.from(s.headers),s},function(s){return ej(s)||(wh(e),s&&s.response&&(s.response.data=jh.call(e,e.transformResponse,s.response),s.response.headers=Cr.from(s.response.headers))),Promise.reject(s)})}const aj="1.7.2",ep={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{ep[e]=function(s){return typeof s===e||"a"+(n<1?"n ":" ")+e}});const jy={};ep.transitional=function(n,r,s){function o(i,l){return"[Axios v"+aj+"] Transitional option '"+i+"'"+l+(s?". "+s:"")}return(i,l,d)=>{if(n===!1)throw new xt(o(l," has been removed"+(r?" in "+r:"")),xt.ERR_DEPRECATED);return r&&!jy[l]&&(jy[l]=!0,console.warn(o(l," has been deprecated since v"+r+" and will be removed in the near future"))),n?n(i,l,d):!0}};function oO(e,n,r){if(typeof e!="object")throw new xt("options must be an object",xt.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let o=s.length;for(;o-- >0;){const i=s[o],l=n[i];if(l){const d=e[i],u=d===void 0||l(d,i,e);if(u!==!0)throw new xt("option "+i+" must be "+u,xt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new xt("Unknown option "+i,xt.ERR_BAD_OPTION)}}const lf={assertOptions:oO,validators:ep},co=lf.validators;class Go{constructor(n){this.defaults=n,this.interceptors={request:new fy,response:new fy}}async request(n,r){try{return await this._request(n,r)}catch(s){if(s instanceof Error){let o;Error.captureStackTrace?Error.captureStackTrace(o={}):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(n,r){typeof n=="string"?(r=r||{},r.url=n):r=n||{},r=Ko(this.defaults,r);const{transitional:s,paramsSerializer:o,headers:i}=r;s!==void 0&&lf.assertOptions(s,{silentJSONParsing:co.transitional(co.boolean),forcedJSONParsing:co.transitional(co.boolean),clarifyTimeoutError:co.transitional(co.boolean)},!1),o!=null&&(ve.isFunction(o)?r.paramsSerializer={serialize:o}:lf.assertOptions(o,{encode:co.function,serialize:co.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=i&&ve.merge(i.common,i[r.method]);i&&ve.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),r.headers=Cr.concat(l,i);const d=[];let u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(r)===!1||(u=u&&w.synchronous,d.unshift(w.fulfilled,w.rejected))});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let f,m=0,g;if(!u){const b=[vy.bind(this),void 0];for(b.unshift.apply(b,d),b.push.apply(b,h),g=b.length,f=Promise.resolve(r);m<g;)f=f.then(b[m++],b[m++]);return f}g=d.length;let y=r;for(m=0;m<g;){const b=d[m++],w=d[m++];try{y=b(y)}catch(v){w.call(this,v);break}}try{f=vy.call(this,y)}catch(b){return Promise.reject(b)}for(m=0,g=h.length;m<g;)f=f.then(h[m++],h[m++]);return f}getUri(n){n=Ko(this.defaults,n);const r=nj(n.baseURL,n.url);return Jv(r,n.params,n.paramsSerializer)}}ve.forEach(["delete","get","head","options"],function(n){Go.prototype[n]=function(r,s){return this.request(Ko(s||{},{method:n,url:r,data:(s||{}).data}))}});ve.forEach(["post","put","patch"],function(n){function r(s){return function(i,l,d){return this.request(Ko(d||{},{method:n,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Go.prototype[n]=r(),Go.prototype[n+"Form"]=r(!0)});class tp{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const s=this;this.promise.then(o=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](o);s._listeners=null}),this.promise.then=o=>{let i;const l=new Promise(d=>{s.subscribe(d),i=d}).then(o);return l.cancel=function(){s.unsubscribe(i)},l},n(function(i,l,d){s.reason||(s.reason=new Za(i,l,d),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const r=this._listeners.indexOf(n);r!==-1&&this._listeners.splice(r,1)}static source(){let n;return{token:new tp(function(o){n=o}),cancel:n}}}function aO(e){return function(r){return e.apply(null,r)}}function iO(e){return ve.isObject(e)&&e.isAxiosError===!0}const cf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(cf).forEach(([e,n])=>{cf[n]=e});function ij(e){const n=new Go(e),r=Fv(Go.prototype.request,n);return ve.extend(r,Go.prototype,n,{allOwnKeys:!0}),ve.extend(r,n,null,{allOwnKeys:!0}),r.create=function(o){return ij(Ko(e,o))},r}const Mn=ij(cl);Mn.Axios=Go;Mn.CanceledError=Za;Mn.CancelToken=tp;Mn.isCancel=ej;Mn.VERSION=aj;Mn.toFormData=jd;Mn.AxiosError=xt;Mn.Cancel=Mn.CanceledError;Mn.all=function(n){return Promise.all(n)};Mn.spread=aO;Mn.isAxiosError=iO;Mn.mergeConfig=Ko;Mn.AxiosHeaders=Cr;Mn.formToJSON=e=>Zv(ve.isHTMLForm(e)?new FormData(e):e);Mn.getAdapter=oj.getAdapter;Mn.HttpStatusCode=cf;Mn.default=Mn;const lO="https://journalist-api--journalist-2bf9e.europe-west4.hosted.app/";class cO{constructor(){Te(this,"instance");Te(this,"handleAxiosError",n=>n.response?{status:n.response.status,data:n.response.data}:{status:500,data:"Network Error"});this.instance=Mn.create({baseURL:lO,headers:{"Content-Type":"application/json"}}),this.instance.interceptors.request.use(n=>n,n=>Promise.reject(n)),this.instance.interceptors.response.use(n=>n,n=>Promise.reject(n))}get axiosInstance(){return this.instance}}const $e={page:1,limit:20,order:"desc"};class dn{constructor(n,r){Te(this,"axiosJ");Te(this,"apiPath");Te(this,"_list",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.get(n,{...s,params:r})).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Te(this,"_listAll",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.get(n,{...s,params:r})).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Te(this,"_listWithCursor",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.get(n,{...s,params:r})).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Te(this,"_get",async(n,r)=>{try{return(await this.axiosJ.axiosInstance.get(n,r)).data}catch(s){throw this.axiosJ.handleAxiosError(s)}});Te(this,"_post",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.post(n,r,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Te(this,"_patch",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.patch(n,r,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Te(this,"_put",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.put(n,r,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Te(this,"_remove",async(n,r)=>{try{return(await this.axiosJ.axiosInstance.delete(n,r)).data}catch(s){throw this.axiosJ.handleAxiosError(s)}});this.axiosJ=n,this.apiPath=r}}const wy="/api/admin";class dO extends dn{constructor(n){super(n,`${wy}/news`)}async getAllNews(n={},r=$e){const s={...r,...n};return this._list(`${wy}/news`,s)}}const Sy="/api/admin";class uO extends dn{constructor(n){super(n,`${Sy}/channels`)}async getAllChannels(n={},r=$e){const s={...r,...n};return this._list(`${Sy}/channels`,s)}}const Cy="/api/admin";class hO extends dn{constructor(n){super(n,`${Cy}/polls`)}async getAllPolls(n={},r=$e){const s={...r,...n};return this._list(`${Cy}/polls`,s)}}const Cs="/api/admin";class fO extends dn{constructor(n){super(n,`${Cs}/users`)}async getAllUsers(n={},r=$e){const s={...r,...n};return this._list(`${Cs}/users`,s)}async getUserById(n){return this._get(`${Cs}/users/${n}`)}async registerUser(n){return this._post(`${Cs}/users/register`,n)}async updateUser(n,r){await this._put(`${Cs}/users/${n}`,r)}async updateUserCustomClaims(n,r){await this._put(`${Cs}/users/${n}/custom-claims`,{customClaims:r})}async suspendUser(n,r){await this._post(`${Cs}/users/${n}/suspend`,r)}async unsuspendUser(n,r){await this._post(`${Cs}/users/${n}/unsuspend`,r)}async deleteUser(n){await this._remove(`${Cs}/users/${n}`)}async getUsersByRole(n,r=$e){return this._list(`${Cs}/users/role/${n}`,r)}}const zs="/api/admin";class pO extends dn{constructor(n){super(n,`${zs}/payouts`)}async getPayouts(n={},r=$e){const s={...r,...n};return this._list(`${zs}/payouts`,s)}async getPendingPayouts(n=$e){return this._list(`${zs}/payouts/pending`,n)}async getFailedPayouts(n=$e){return this._list(`${zs}/payouts/failed`,n)}async getPayoutStats(n={}){return this._list(`${zs}/payouts/stats`,n)}async getPayoutById(n){return this._get(`${zs}/payouts/${n}`)}async processPayout(n,r={}){await this._post(`${zs}/payouts/${n}/process`,r)}async retryPayout(n,r={}){await this._post(`${zs}/payouts/${n}/retry`,r)}async cancelPayout(n){await this._post(`${zs}/payouts/${n}/cancel`,{})}}const Sh="/api/admin";class mO extends dn{constructor(n){super(n,`${Sh}/subscriptions`)}async getSubscriptions(n={},r=$e){const s={...r,...n};return this._list(`${Sh}/subscriptions`,s)}async getSubscriptionById(n){return this._get(`${Sh}/subscriptions/${n}`)}}const wi="/api/admin";class xO extends dn{constructor(n){super(n,`${wi}/tags`)}async getTags(n=$e){return this._list(`${wi}/tags`,n)}async createTag(n){return this._post(`${wi}/tags`,n)}async updateTag(n,r){await this._put(`${wi}/tags/${n}`,r)}async deleteTag(n){await this._remove(`${wi}/tags/${n}`)}}const dc="/api/admin";class gO extends dn{constructor(n){super(n,`${dc}/expense-orders`)}async getAllExpenseOrders(n={},r=$e){const s={...r,...n};return this._list(`${dc}/expense-orders`,s)}async getExpenseOrder(n){return this._get(`${dc}/expense-orders/${n}`)}async updateExpenseOrder(n,r){await this._put(`${dc}/expense-orders/${n}`,r)}}class bO{constructor(n){Te(this,"news");Te(this,"channels");Te(this,"polls");Te(this,"users");Te(this,"payouts");Te(this,"subscriptions");Te(this,"tags");Te(this,"expenseOrders");this.news=new dO(n),this.channels=new uO(n),this.polls=new hO(n),this.users=new fO(n),this.payouts=new pO(n),this.subscriptions=new mO(n),this.tags=new xO(n),this.expenseOrders=new gO(n)}}const tr="/api/channels",Ps={TIER:"tiers",SUBSCRIPTIONS:"subscriptions"};class yO extends dn{constructor(n){super(n,tr)}async getChannels(n={},r=$e){const s={...r};return n.trending&&(s.trending="true"),n.popular&&(s.popular="true"),n.subscribed&&(s.subscribed="true"),n.followed&&(s.followed="true"),n.verified&&(s.verified="true"),n.creator&&(s.creator=n.creator),n.category&&(s.category=n.category),n.tags&&n.tags.length>0&&(s.tags=n.tags.join(",")),this._list(tr,s)}async getAll(n=$e){return this.getChannels({},n)}async getTrending(n=$e){return this.getChannels({trending:!0},n)}async getPopular(n=$e){return this.getChannels({popular:!0},n)}async getSubscribed(n=$e){return this.getChannels({subscribed:!0},n)}async getFollowed(n=$e){return this.getChannels({followed:!0},n)}async getVerified(n=$e){return this.getChannels({verified:!0},n)}async createChannel(n){return this._post(tr,n)}async getChannel(n){return this._get(`${tr}/${n}`)}async getCreatorChannels(n,r=$e){return this.getChannels({creator:n},r)}async updateChannel(n,r){await this._put(`${tr}/${n}`,r)}async deleteChannel(n){return this._remove(`${tr}/${n}`)}async createTier(n,r){return this._post(`${tr}/${n}/${Ps.TIER}`,r)}async updateTier(n,r,s){await this._put(`${tr}/${n}/${Ps.TIER}/${r}`,s)}async updateTiers(n,r){const s=r.map(o=>{const{currency:i,channelId:l,isDefault:d,...u}=o;return u});return this._put(`${tr}/${n}/${Ps.TIER}`,s)}async getTiers(n){return this._list(`${tr}/${n}/${Ps.TIER}`)}async getTier(n,r){return this._get(`${tr}/${n}/${Ps.TIER}/${r}`)}async deleteTier(n,r){return this._remove(`${tr}/${n}/${Ps.TIER}/${r}`)}async subscribeToChannel(n,r={}){return this._post(`${tr}/${n}/${Ps.SUBSCRIPTIONS}`,r)}async unsubscribeFromChannel(n){await this._remove(`${tr}/${n}/${Ps.SUBSCRIPTIONS}`)}async getChannelSubscribers(n,r=$e){return this._list(`${tr}/${n}/${Ps.SUBSCRIPTIONS}`,r)}async getSubscriptionDetails(n,r){return this._get(`${tr}/${n}/${Ps.SUBSCRIPTIONS}/${r}`)}}const Hs="/api/news";class vO extends dn{constructor(n){super(n,Hs)}async getNews(n={},r=$e){const s={...r};return n.feed&&(s.feed="true"),n.trending&&(s.trending="true"),n.subscribed&&(s.subscribed="true"),n.channel&&(s.channel=n.channel),n.creator&&(s.creator=n.creator),n.status&&(s.status=n.status),n.premium!==void 0&&(s.premium=n.premium.toString()),n.tags&&n.tags.length>0&&(s.tags=n.tags.join(",")),n.query&&(s.query=n.query),this._list(Hs,s)}async getAll(n=$e){return this.getNews({},n)}async getFeed(n=$e){return this.getNews({feed:!0},n)}async getTrending(n=$e){return this.getNews({trending:!0},n)}async getSubscribed(n=$e){return this.getNews({subscribed:!0},n)}async getPremium(n=$e){return this.getNews({premium:!0},n)}async getNewsByChannel(n,r=$e){return this.getNews({channel:n},r)}async getCreatorNews(n,r=$e){return this.getNews({creator:n},r)}async getNewsByTags(n,r=$e){return this.getNews({tags:n},r)}async getNewsByStatus(n,r=$e){return this.getNews({status:n},r)}async get(n){return this._get(`${Hs}/${n}`)}async getDetails(n){return this._get(`${Hs}/${n}/details`)}async createNews(n){return this._post(Hs,n)}async update(n,r){await this._put(`${Hs}/${n}`,r)}async delete(n){await this._remove(`${Hs}/${n}`)}async getNewsStats(n,r,s){return this._get(`${Hs}/${n}/stats?startDate=${r}&endDate=${s}`)}async getNewsTags(n=$e){return this._list(`${Hs}/tags`,n)}async create(n){return this.createNews(n)}}const _r="/api/polls";class jO extends dn{constructor(n){super(n,_r)}async getPolls(n={},r=$e){const s={...r};return n.trending&&(s.trending="true"),n.funded&&(s.funded="true"),n.claimed&&(s.claimed="true"),n.subscribed&&(s.subscribed="true"),n.channel&&(s.channel=n.channel),n.creator&&(s.creator=n.creator),n.status&&(s.status=n.status),n.converted!==void 0&&(s.converted=n.converted.toString()),n.tags&&n.tags.length>0&&(s.tags=n.tags.join(",")),this._list(_r,s)}async getAll(n=$e){return this.getPolls({},n)}async getTrending(n=$e){return this.getPolls({trending:!0},n)}async getFunded(n=$e){return this.getPolls({funded:!0},n)}async getClaimed(n=$e){return this.getPolls({claimed:!0},n)}async getSubscribed(n=$e){return this.getPolls({subscribed:!0},n)}async getPollsByChannel(n,r=$e){return this.getPolls({channel:n},r)}async getCreatorPolls(n,r=$e){return this.getPolls({creator:n},r)}async getPollsByTags(n,r=$e){return this.getPolls({tags:n},r)}async get(n){return this._get(`${_r}/${n}`)}async create(n){return this._post(_r,n)}async update(n,r){await this._put(`${_r}/${n}`,r)}async delete(n){return this._remove(`${_r}/${n}`)}async getResults(n){return this._get(`${_r}/${n}/votes`)}async vote(n,r){return this._post(`${_r}/${n}/votes`,r)}async getUserVote(n){return this._get(`${_r}/${n}/votes/me`)}async checkVotingEligibility(n){return this._get(`${_r}/${n}/votes/eligibility`)}async getFunding(n){return this._get(`${_r}/${n}/funding`)}async claim(n){return this._post(`${_r}/${n}/claims`,{})}async convertToNews(n,r){return this._post(`${_r}/${n}/conversions`,r)}async getVoteResults(n){return this.getResults(n)}async getMyVote(n){return this.getUserVote(n)}}const Is="/api/bookmarks";class wO extends dn{constructor(n){super(n,Is)}async bookmarkNews(n){return this._post(`${Is}/news/${n}`,{})}async unbookmarkNews(n){return this._remove(`${Is}/news/${n}`)}async checkNewsBookmarkStatus(n){return this._get(`${Is}/news/${n}/status`)}async getBookmarkedNews(n={}){return this._listWithCursor(`${Is}/news`,n)}async bookmarkPoll(n){return this._post(`${Is}/polls/${n}`,{})}async unbookmarkPoll(n){return this._remove(`${Is}/polls/${n}`)}async checkPollBookmarkStatus(n){return this._get(`${Is}/polls/${n}/status`)}async getBookmarkedPolls(n={}){return this._listWithCursor(`${Is}/polls`,n)}async getBookmarks(n=0,r={}){const s={...r};return n!==0&&(s.type=n),this._listWithCursor(Is,s)}}const va="/api/users";class SO extends dn{constructor(n){super(n,va)}async getAll(n=$e){return this._list(va,n)}async get(n){return this._get(`${va}/${n}`)}async create(n){return this._post(va,n)}async update(n,r){await this._put(`${va}/${n}`,r)}async delete(n){return this._remove(`${va}/${n}`)}}const gn="/api/account";class CO extends dn{constructor(n){super(n,gn)}async getProfile(){return this._get(`${gn}/profile`)}async updateProfile(n){return this._put(`${gn}/profile`,n)}async getPayoutMethods(){return this._list(`${gn}/payout-methods`)}async getPayoutMethod(n){return this._get(`${gn}/payout-methods/${n}`)}async getDefaultPayoutMethod(){return this._get(`${gn}/payout-methods/default`)}async addPayoutMethod(n){return this._post(`${gn}/payout-methods`,n)}async updatePayoutMethod(n,r){return this._put(`${gn}/payout-methods/${n}`,r)}async deletePayoutMethod(n){return this._remove(`${gn}/payout-methods/${n}`)}async setDefaultPayoutMethod(n){return this._patch(`${gn}/payout-methods/${n}/default`,{})}async getAvailablePayoutMethods(){return this._get(`${gn}/payout-methods/available`)}async getSubscriptions(){return this._list(`${gn}/subscriptions`)}async subscribe(n,r){return this._post(`${gn}/subscriptions/${n}`,r)}async cancelSubscription(n){return this._remove(`${gn}/subscriptions/${n}`)}async getUserChannels(n=$e){return this._list(`${gn}/channels`,n)}async exchangePayPalAuthCode(n){return this._post(`${gn}/paypal/exchange-auth-code`,{authCode:n})}async savePayPalPayoutMethod(n){return this._post(`${gn}/paypal/save-payout-method`,n)}async getNotificationPreferences(){return this._get(`${gn}/notification-preferences`)}async getNotificationPreference(n){return this._get(`${gn}/notification-preferences/${n}`)}async updateNotificationPreference(n,r){return this._patch(`${gn}/notification-preferences/${n}`,r)}async bulkUpdateNotificationPreferences(n){return this._patch(`${gn}/notification-preferences/bulk`,{preferences:n})}async getUserPreference(){return this._get(`${gn}/preference`)}async updateUserPreference(n){return this._patch(`${gn}/preference`,n)}}const yr="/api/expense-orders";class PO extends dn{constructor(n){super(n,yr)}async createExpenseOrder(n){return this._post(yr,n)}async updateExpenseOrder(n,r){return this._put(`${yr}/${n}`,r)}async submitExpenseOrder(n,r){return this._post(`${yr}/${n}/submit`,r||{})}async cancelExpenseOrder(n,r){return this._post(`${yr}/${n}/cancel`,{reason:r})}async getMyExpenseOrders(n=$e,r){const s={...n};return r&&(s.status=r),this._list(`${yr}/my-orders`,s)}async getAllExpenseOrders(n=$e,r){const s={...n};return(r==null?void 0:r.status)!==void 0&&(s.status=r.status),r!=null&&r.channelId&&(s.channelId=r.channelId),r!=null&&r.journalistId&&(s.journalistId=r.journalistId),this._list("/api/admin/expense-orders",s)}async approveExpenseOrder(n,r){return this._post(`${yr}/${n}/approve`,r||{})}async rejectExpenseOrder(n,r){return this._post(`${yr}/${n}/reject`,r)}async processPayment(n,r){return this._post(`${yr}/${n}/process-payment`,r||{})}async getPendingExpenseOrders(n=$e){return this._list(`${yr}/pending`,n)}async getExpenseOrderStats(n,r,s){const o={};return n&&(o.channelId=n),r&&(o.startDate=r.toISOString()),s&&(o.endDate=s.toISOString()),this._get(`${yr}/stats`,{params:o})}async getExpenseOrder(n){return this._get(`${yr}/${n}`)}async getExpenseOrdersByJournalist(n,r=$e,s){const o={...r};return s&&(o.status=s),this._list(`${yr}/journalist/${n}`,o)}async getExpenseOrdersByChannel(n,r=$e,s){const o={...r};return s&&(o.status=s),this._list(`${yr}/channel/${n}`,o)}async getExpenseTypes(){return this._get("/api/expense-types")}}const Wn="/api/subscriptions";class IO extends dn{constructor(n){super(n,Wn)}async getAllSubscriptions(n=$e,r={}){const s={...n,...r};return this._list(Wn,s)}async getSubscriptionById(n){return this._get(`${Wn}/${n}`)}async updateSubscriptionStatus(n,r,s){return this._patch(`${Wn}/${n}/status`,{status:r,reason:s})}async bulkUpdateSubscriptions(n){return this._post(`${Wn}/bulk-update`,n)}async getSubscriptionAnalytics(n={}){const r=new URLSearchParams(n).toString(),s=r?`${Wn}/analytics?${r}`:`${Wn}/analytics`;return this._get(s)}async getRevenueMetrics(n={}){const r=new URLSearchParams(n).toString(),s=r?`${Wn}/revenue?${r}`:`${Wn}/revenue`;return this._get(s)}async exportSubscriptions(n={},r="csv"){const s=new URLSearchParams({...n,format:r}).toString(),o=s?`${Wn}/export?${s}`:`${Wn}/export`;return this._get(o)}async cancelSubscription(n,r){await this.updateSubscriptionStatus(n,"canceled",r)}async activateSubscription(n,r){await this.updateSubscriptionStatus(n,"active",r)}async suspendSubscription(n,r){await this.updateSubscriptionStatus(n,"suspended",r)}async updateSubscriptionTier(n,r){return this._patch(`${Wn}/${n}/tier`,{tier_id:r})}async createDirectSubscription(n,r){return this._post(`${Wn}/channels/${n}/subscribe`,r)}async activatePayPalSubscription(n,r){return this._post(`${Wn}/channels/${n}/activate-paypal`,r)}async cancelUserSubscription(n){return this._remove(`${Wn}/${n}/cancel`)}async getMySubscriptions(n=$e,r={}){const s={...n,...r};return this._list(`${Wn}/my`,s)}async getSubscriptionStatus(n){return(await this._get(`${Wn}/${n}/status`)).status}async searchSubscriptions(n,r=$e){const s={...r,search:n};return this._list(`${Wn}/search`,s)}async getSubscriptionsByChannel(n,r=$e){return this.getAllSubscriptions(r,{channel_id:n})}async getSubscriptionsByUser(n,r=$e){return this.getAllSubscriptions(r,{user_id:n})}}const nr="/api/tags";class DO extends dn{constructor(n){super(n,nr)}async getTags(n={},r=$e){const s={...r};return n.trending&&(s.trending="true"),n.popular&&(s.popular="true"),n.category&&(s.category=n.category),n.verified&&(s.verified="true"),this._list(nr,s)}async getAll(n=$e){return this.getTags({},n)}async getTrending(n=$e){return this.getTags({trending:!0},n)}async getPopular(n=$e){return this.getTags({popular:!0},n)}async getVerified(n=$e){return this.getTags({verified:!0},n)}async getNewsTags(n=$e){return this.getTags({category:"news"},n)}async getPollTags(n=$e){return this.getTags({category:"polls"},n)}async getTagById(n){return this._get(`${nr}/${n}`)}async getTagBySlug(n){return this._get(`${nr}/slug/${n}`)}async createTag(n){return this._post(nr,n)}async updateTag(n,r){return this._put(`${nr}/${n}`,r)}async deleteTag(n){await this._remove(`${nr}/${n}`)}async getTagNews(n,r=$e){return this._get(`${nr}/${n}/news`,{params:r})}async getTagPolls(n,r=$e){return this._get(`${nr}/${n}/polls`,{params:r})}async addTagToNews(n,r){return this._post(`${nr}/${n}/news/${r}`,{})}async removeTagFromNews(n,r){return this._remove(`${nr}/${n}/news/${r}`)}async addTagToPoll(n,r){return this._post(`${nr}/${n}/polls/${r}`,{})}async removeTagFromPoll(n,r){return this._remove(`${nr}/${n}/polls/${r}`)}async moderateTag(n,r){return this._patch(`${nr}/${n}/moderate`,{statusId:r})}async approveTag(n){return this.moderateTag(n,2)}async rejectTag(n){return this.moderateTag(n,3)}async searchTags(n,r=$e){const s={...r,search:n};return this._list(nr,s)}async getTagSuggestions(n,r=10){const s={prefix:n,limit:r};return this._get(`${nr}/suggestions`,{params:s})}async get(n){return this.getTagById(n)}async create(n){return this.createTag(n)}async update(n,r){return this.updateTag(n,r)}async delete(n){return this.deleteTag(n)}}const Gs="/api/search";class TO extends dn{constructor(n){super(n,Gs)}async search(n,r={},s=$e){const o={q:n,...s};return Object.entries(r).forEach(([i,l])=>{l!=null&&l!==""&&(Array.isArray(l)?o[i]=l.join(","):l instanceof Date?o[i]=l.toISOString():o[i]=l.toString())}),this._list(Gs,o)}async searchNews(n,r=$e){return this._list(`${Gs}/news`,{q:n,...r})}async searchChannels(n,r=$e){return this._list(`${Gs}/channels`,{q:n,...r})}async searchUsers(n,r=$e){return this._list(`${Gs}/users`,{q:n,...r})}async searchPolls(n,r=$e){return this._list(`${Gs}/polls`,{q:n,...r})}async searchTags(n,r=$e){return this._list(`${Gs}/tags`,{q:n,...r})}async getSuggestions(n,r){const s={q:n};return r&&(s.type=r),this._get(`${Gs}/suggestions`,{params:s})}async getStructuredSuggestions(n,r){const s={q:n};return r&&(s.type=r),this._get(`${Gs}/suggestions/structured`,{params:s})}}const Yr="/api/funding";class EO extends dn{constructor(n){super(n,Yr)}async getFund(n,r){var s;try{return this._get(`${Yr}/${n}/${r}`)}catch(o){if(((s=o.response)==null?void 0:s.status)===404)return null;throw o}}async getFundSummary(n,r){var s;try{return this._get(`${Yr}/${n}/${r}/summary`)}catch(o){if(((s=o.response)==null?void 0:s.status)===404)return null;throw o}}async createPayPalOrder(n,r,s){return this._post(`${Yr}/${n}/${r}/create-paypal-order`,s)}async capturePayPalOrder(n,r,s){return this._post(`${Yr}/${n}/${r}/capture-paypal-order`,s)}async getContributions(n,r,s=$e){return this._list(`${Yr}/${n}/${r}/contributions`,s)}async getUserContributions(n=$e){return this._list(`${Yr}/my-contributions`,n)}async getUserContributionsForContent(n,r){return this._get(`${Yr}/${n}/${r}/my-contributions`)}async createFund(n,r,s){return this._post(`${Yr}/${n}/${r}/fund`,s)}async updateFund(n,r,s){return this._put(`${Yr}/${n}/${r}/fund`,s)}async getChannelFundingStats(n,r){return this._get(`${Yr}/channels/${n}/stats`,{params:r})}async processPayout(n,r,s){return this._post(`${Yr}/${n}/${r}/payout`,s)}}const Si="/api/payment-tokens";class AO extends dn{constructor(n){super(n,Si)}async createPayPalTokenizationOrder(){return this._post(`${Si}/paypal/orders`,{})}async capturePayPalTokenizationOrder(n){return this._post(`${Si}/paypal/orders/${n}/capture`,{})}async getPaymentTokenDetails(n){return this._get(`${Si}/paypal/tokens/${n}`)}async deletePaymentToken(n){return this._remove(`${Si}/paypal/tokens/${n}`)}}const Ci="/api/iyzico-tokens";class RO extends dn{constructor(n){super(n,Ci)}async initializeTokenization(n){return this._post(`${Ci}/tokenization/init`,n)}async savePaymentMethod(n){return this._post(`${Ci}/tokenization/save`,n)}async getStoredCards(){return this._get(`${Ci}/cards`)}async deleteStoredCard(n){return this._remove(`${Ci}/cards/${n}`)}}const qr="/api/payouts";class kO extends dn{constructor(n){super(n,qr)}async getPayouts(n){return this._list(qr,n||{})}async getPayoutById(n){return this._get(`${qr}/${n}`)}async getPendingPayouts(n=$e){return this._list(`${qr}/pending`,n)}async getFailedPayouts(n=$e){return this._list(`${qr}/failed`,n)}async getPayoutsReadyForRetry(){return this._get(`${qr}/ready-for-retry`)}async getPayoutsByJournalist(n,r=$e,s){const o={...r};return s&&(o.status=s),this._list(`${qr}/journalist/${n}`,o)}async getPayoutsByChannel(n,r=$e){return this._list(`${qr}/channel/${n}`,r)}async getPayoutStats(n){return this._get(`${qr}/stats`,{params:n})}async processPayout(n){return this._post(`${qr}/${n}/process`,{})}async retryPayout(n){return this._post(`${qr}/${n}/retry`,{})}async cancelPayout(n,r){return this._post(`${qr}/${n}/cancel`,r)}}const uo="/api/notifications",Py="/api/notifications/device-tokens",_O="/api/notifications/feed";class OO extends dn{constructor(n){super(n,uo)}async getNotifications(n={},r=$e){const s={...r};return n.typeId!==void 0&&(s.typeId=n.typeId),n.categoryId!==void 0&&(s.categoryId=n.categoryId),n.isRead!==void 0&&(s.isRead=n.isRead),await this._list(uo,s)}async getNewNotificationsCount(){return await this._get(`${uo}/new-count`)}async markAsChecked(){await this._post(`${uo}/mark-checked`,{})}async markAsRead(n){await this._patch(`${uo}/${n}/read`,null)}async markAllAsRead(){await this._patch(`${uo}/mark-all-read`,null)}async deleteNotification(n){await this._remove(`${uo}/${n}`)}async registerDeviceToken(n){await this._post(Py,{token:n})}async unregisterDeviceToken(n){await this._remove(`${Py}/${n}`)}async getNotificationFeed(n={}){const r={};return n.typeId!==void 0&&(r.typeId=n.typeId),n.categoryId!==void 0&&(r.categoryId=n.categoryId),n.isRead!==void 0&&(r.isRead=n.isRead),n.limit!==void 0&&(r.limit=n.limit),n.after&&(r.after=n.after),n.before&&(r.before=n.before),await this._listWithCursor(_O,r)}async getNotificationTypeMetadata(){return(await this._get(`${uo}/types`)).notificationTypes}}class MO{constructor(n){Te(this,"user");Te(this,"poll");Te(this,"news");Te(this,"bookmark");Te(this,"channel");Te(this,"account");Te(this,"expenseOrder");Te(this,"subscription");Te(this,"tag");Te(this,"search");Te(this,"funding");Te(this,"paymentToken");Te(this,"iyzicoToken");Te(this,"payout");Te(this,"notification");this.user=new SO(n),this.poll=new jO(n),this.news=new vO(n),this.bookmark=new wO(n),this.channel=new yO(n),this.account=new CO(n),this.expenseOrder=new PO(n),this.subscription=new IO(n),this.tag=new DO(n),this.search=new TO(n),this.funding=new EO(n),this.paymentToken=new AO(n),this.iyzicoToken=new RO(n),this.payout=new kO(n),this.notification=new OO(n)}}const uc="/api/auth";class NO extends dn{constructor(n){super(n,uc)}async signIn(n){return this._post(`${uc}/sign-in`,n)}async signUp(n){return this._post(`${uc}/sign-up`,n)}async verifyToken(n){return this._post(`${uc}/verify-token`,n)}}const $o="/api/studio";class LO extends dn{constructor(n){super(n,$o)}async createNews(n){return this._post(`${$o}/news`,n)}async createChannel(n){return this._post(`${$o}/channels`,n)}async createPoll(n){return this._post(`${$o}/polls`,n)}async getMyChannels(){return this._list(`${$o}/me/channels`)}async getMyContent(n="all",r=$e){const s={type:n,...r};return n==="all"?this._get(`${$o}/me/content`,{params:s}):this._list(`${$o}/me/content`,s)}async getMyRecentNews(n=$e){return this.getMyContent("news",n)}async getMyRecentPolls(n=$e){return this.getMyContent("polls",n)}async getMyRecentChannels(n=$e){return this.getMyContent("channels",n)}async getCreatorChannels(){return this.getMyChannels()}async getCreatorContent(n="all",r=$e){return this.getMyContent(n,r)}}class $O{constructor(){Te(this,"axiosJ");Te(this,"admin");Te(this,"app");Te(this,"auth");Te(this,"studio");Te(this,"setAuthHeader",n=>(n?this.axiosJ.axiosInstance.defaults.headers.common.Authorization=`Bearer ${n}`:delete this.axiosJ.axiosInstance.defaults.headers.common.Authorization,this));Te(this,"setApis",()=>(this.admin=new bO(this.axiosJ),this.app=new MO(this.axiosJ),this.auth=new NO(this.axiosJ),this.studio=new LO(this.axiosJ),this));this.axiosJ=new cO}}const FO=50*60*1e3,BO=e=>{const[n,r]=x.useState(null),[s,o]=x.useState(!0),i=x.useRef(null),l=x.useRef(new Set);x.useEffect(()=>{const y=tk(e,b=>{r(b||null),o(!1)});return()=>y()},[e]),x.useEffect(()=>(i.current&&(clearInterval(i.current),i.current=null),n&&(i.current=setInterval(async()=>{try{l.current.forEach(y=>{try{y(),console.log("Token refresh callback called automatically")}catch(b){console.error("Error in token refresh callback:",b)}})}catch(y){console.error("Error during automatic token refresh:",y)}},FO)),()=>{i.current&&(clearInterval(i.current),i.current=null)}),[n]);const d=async(y=!1)=>{if(!n)return null;try{return await n.getIdToken(y)}catch(b){return console.error("Error getting token:",b),null}},u=async(y,b)=>{try{return await(await nk(e,y,b)).user.getIdToken()}catch(w){throw console.error("Sign in error:",w),w}},h=async y=>{try{return await(await rk(e,y)).user.getIdToken()}catch(b){throw console.error("Sign in with provider error:",b),b}},f=async(y,b)=>{try{return(await sk(e,y,b)).user}catch(w){throw console.error("Sign up error:",w),w}},m=async()=>{try{await ok(e),r(null)}catch(y){throw console.error("Sign out error:",y),y}},g=y=>(l.current.add(y),()=>{l.current.delete(y)});return{user:n,isAuthenticated:n!=null,isLoading:s,getToken:d,signIn:u,signInWithProvider:h,signUp:f,signOut:m,onTokenRefresh:g}},lj="@firebase/installations",np="0.6.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=1e4,dj=`w:${np}`,uj="FIS_v2",WO="https://firebaseinstallations.googleapis.com/v1",UO=60*60*1e3,VO="installations",zO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Xo=new Ov(VO,zO,HO);function hj(e){return e instanceof ak&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj({projectId:e}){return`${WO}/projects/${e}/installations`}function pj(e){return{token:e.token,requestStatus:2,expiresIn:YO(e.expiresIn),creationTime:Date.now()}}async function mj(e,n){const s=(await n.json()).error;return Xo.create("request-failed",{requestName:e,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function xj({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function GO(e,{refreshToken:n}){const r=xj(e);return r.append("Authorization",qO(n)),r}async function gj(e){const n=await e();return n.status>=500&&n.status<600?e():n}function YO(e){return Number(e.replace("s","000"))}function qO(e){return`${uj} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO({appConfig:e,heartbeatServiceProvider:n},{fid:r}){const s=fj(e),o=xj(e),i=n.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&o.append("x-firebase-client",h)}const l={fid:r,authVersion:uj,appId:e.appId,sdkVersion:dj},d={method:"POST",headers:o,body:JSON.stringify(l)},u=await gj(()=>fetch(s,d));if(u.ok){const h=await u.json();return{fid:h.fid||r,registrationStatus:2,refreshToken:h.refreshToken,authToken:pj(h.authToken)}}else throw await mj("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(e){return new Promise(n=>{setTimeout(n,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=/^[cdef][\w-]{21}$/,df="";function QO(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const r=ZO(e);return JO.test(r)?r:df}catch{return df}}function ZO(e){return XO(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj=new Map;function vj(e,n){const r=Sd(e);jj(r,n),eM(r,n)}function jj(e,n){const r=yj.get(e);if(r)for(const s of r)s(n)}function eM(e,n){const r=tM();r&&r.postMessage({key:e,fid:n}),nM()}let zo=null;function tM(){return!zo&&"BroadcastChannel"in self&&(zo=new BroadcastChannel("[Firebase] FID Change"),zo.onmessage=e=>{jj(e.data.key,e.data.fid)}),zo}function nM(){yj.size===0&&zo&&(zo.close(),zo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM="firebase-installations-database",sM=1,Jo="firebase-installations-store";let Ch=null;function rp(){return Ch||(Ch=qf(rM,sM,{upgrade:(e,n)=>{switch(n){case 0:e.createObjectStore(Jo)}}})),Ch}async function Hc(e,n){const r=Sd(e),o=(await rp()).transaction(Jo,"readwrite"),i=o.objectStore(Jo),l=await i.get(r);return await i.put(n,r),await o.done,(!l||l.fid!==n.fid)&&vj(e,n.fid),n}async function wj(e){const n=Sd(e),s=(await rp()).transaction(Jo,"readwrite");await s.objectStore(Jo).delete(n),await s.done}async function Cd(e,n){const r=Sd(e),o=(await rp()).transaction(Jo,"readwrite"),i=o.objectStore(Jo),l=await i.get(r),d=n(l);return d===void 0?await i.delete(r):await i.put(d,r),await o.done,d&&(!l||l.fid!==d.fid)&&vj(e,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sp(e){let n;const r=await Cd(e.appConfig,s=>{const o=oM(s),i=aM(e,o);return n=i.registrationPromise,i.installationEntry});return r.fid===df?{installationEntry:await n}:{installationEntry:r,registrationPromise:n}}function oM(e){const n=e||{fid:QO(),registrationStatus:0};return Sj(n)}function aM(e,n){if(n.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Xo.create("app-offline"));return{installationEntry:n,registrationPromise:o}}const r={fid:n.fid,registrationStatus:1,registrationTime:Date.now()},s=iM(e,r);return{installationEntry:r,registrationPromise:s}}else return n.registrationStatus===1?{installationEntry:n,registrationPromise:lM(e)}:{installationEntry:n}}async function iM(e,n){try{const r=await KO(e,n);return Hc(e.appConfig,r)}catch(r){throw hj(r)&&r.customData.serverCode===409?await wj(e.appConfig):await Hc(e.appConfig,{fid:n.fid,registrationStatus:0}),r}}async function lM(e){let n=await Iy(e.appConfig);for(;n.registrationStatus===1;)await bj(100),n=await Iy(e.appConfig);if(n.registrationStatus===0){const{installationEntry:r,registrationPromise:s}=await sp(e);return s||r}return n}function Iy(e){return Cd(e,n=>{if(!n)throw Xo.create("installation-not-found");return Sj(n)})}function Sj(e){return cM(e)?{fid:e.fid,registrationStatus:0}:e}function cM(e){return e.registrationStatus===1&&e.registrationTime+cj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM({appConfig:e,heartbeatServiceProvider:n},r){const s=uM(e,r),o=GO(e,r),i=n.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&o.append("x-firebase-client",h)}const l={installation:{sdkVersion:dj,appId:e.appId}},d={method:"POST",headers:o,body:JSON.stringify(l)},u=await gj(()=>fetch(s,d));if(u.ok){const h=await u.json();return pj(h)}else throw await mj("Generate Auth Token",u)}function uM(e,{fid:n}){return`${fj(e)}/${n}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function op(e,n=!1){let r;const s=await Cd(e.appConfig,i=>{if(!Cj(i))throw Xo.create("not-registered");const l=i.authToken;if(!n&&pM(l))return i;if(l.requestStatus===1)return r=hM(e,n),i;{if(!navigator.onLine)throw Xo.create("app-offline");const d=xM(i);return r=fM(e,d),d}});return r?await r:s.authToken}async function hM(e,n){let r=await Dy(e.appConfig);for(;r.authToken.requestStatus===1;)await bj(100),r=await Dy(e.appConfig);const s=r.authToken;return s.requestStatus===0?op(e,n):s}function Dy(e){return Cd(e,n=>{if(!Cj(n))throw Xo.create("not-registered");const r=n.authToken;return gM(r)?Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}):n})}async function fM(e,n){try{const r=await dM(e,n),s=Object.assign(Object.assign({},n),{authToken:r});return await Hc(e.appConfig,s),r}catch(r){if(hj(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await wj(e.appConfig);else{const s=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}});await Hc(e.appConfig,s)}throw r}}function Cj(e){return e!==void 0&&e.registrationStatus===2}function pM(e){return e.requestStatus===2&&!mM(e)}function mM(e){const n=Date.now();return n<e.creationTime||e.creationTime+e.expiresIn<n+UO}function xM(e){const n={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:n})}function gM(e){return e.requestStatus===1&&e.requestTime+cj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(e){const n=e,{installationEntry:r,registrationPromise:s}=await sp(n);return s?s.catch(console.error):op(n).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yM(e,n=!1){const r=e;return await vM(r),(await op(r,n)).token}async function vM(e){const{registrationPromise:n}=await sp(e);n&&await n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(e){if(!e||!e.options)throw Ph("App Configuration");if(!e.name)throw Ph("App Name");const n=["projectId","apiKey","appId"];for(const r of n)if(!e.options[r])throw Ph(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Ph(e){return Xo.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj="installations",wM="installations-internal",SM=e=>{const n=e.getProvider("app").getImmediate(),r=jM(n),s=Yf(n,"heartbeat");return{app:n,appConfig:r,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},CM=e=>{const n=e.getProvider("app").getImmediate(),r=Yf(n,Pj).getImmediate();return{getId:()=>bM(r),getToken:o=>yM(r,o)}};function PM(){Mc(new Nc(Pj,SM,"PUBLIC")),Mc(new Nc(wM,CM,"PRIVATE"))}PM();Oc(lj,np);Oc(lj,np,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="/firebase-messaging-sw.js",DM="/firebase-cloud-messaging-push-scope",Ij="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",TM="https://fcmregistrations.googleapis.com/v1",Dj="google.c.a.c_id",EM="google.c.a.c_l",AM="google.c.a.ts",RM="google.c.a.e";var Ty;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Ty||(Ty={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Vi;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Vi||(Vi={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(e){const n=new Uint8Array(e);return btoa(String.fromCharCode(...n)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function kM(e){const n="=".repeat((4-e.length%4)%4),r=(e+n).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(r),o=new Uint8Array(s.length);for(let i=0;i<s.length;++i)o[i]=s.charCodeAt(i);return o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="fcm_token_details_db",_M=5,Ey="fcm_token_object_Store";async function OM(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(Ih))return null;let n=null;return(await qf(Ih,_M,{upgrade:async(s,o,i,l)=>{var d;if(o<2||!s.objectStoreNames.contains(Ey))return;const u=l.objectStore(Ey),h=await u.index("fcmSenderId").get(e);if(await u.clear(),!!h){if(o===2){const f=h;if(!f.auth||!f.p256dh||!f.endpoint)return;n={token:f.fcmToken,createTime:(d=f.createTime)!==null&&d!==void 0?d:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:Ys(f.vapidKey)}}}else if(o===3){const f=h;n={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Ys(f.auth),p256dh:Ys(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Ys(f.vapidKey)}}}else if(o===4){const f=h;n={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Ys(f.auth),p256dh:Ys(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Ys(f.vapidKey)}}}}}})).close(),await bh(Ih),await bh("fcm_vapid_details_db"),await bh("undefined"),MM(n)?n:null}function MM(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:n}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof n.auth=="string"&&n.auth.length>0&&typeof n.p256dh=="string"&&n.p256dh.length>0&&typeof n.endpoint=="string"&&n.endpoint.length>0&&typeof n.swScope=="string"&&n.swScope.length>0&&typeof n.vapidKey=="string"&&n.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="firebase-messaging-database",LM=1,zi="firebase-messaging-store";let Dh=null;function Tj(){return Dh||(Dh=qf(NM,LM,{upgrade:(e,n)=>{switch(n){case 0:e.createObjectStore(zi)}}})),Dh}async function $M(e){const n=Ej(e),s=await(await Tj()).transaction(zi).objectStore(zi).get(n);if(s)return s;{const o=await OM(e.appConfig.senderId);if(o)return await ap(e,o),o}}async function ap(e,n){const r=Ej(e),o=(await Tj()).transaction(zi,"readwrite");return await o.objectStore(zi).put(n,r),await o.done,n}function Ej({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},sr=new Ov("messaging","Messaging",FM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BM(e,n){const r=await lp(e),s=Aj(n),o={method:"POST",headers:r,body:JSON.stringify(s)};let i;try{i=await(await fetch(ip(e.appConfig),o)).json()}catch(l){throw sr.create("token-subscribe-failed",{errorInfo:l==null?void 0:l.toString()})}if(i.error){const l=i.error.message;throw sr.create("token-subscribe-failed",{errorInfo:l})}if(!i.token)throw sr.create("token-subscribe-no-token");return i.token}async function WM(e,n){const r=await lp(e),s=Aj(n.subscriptionOptions),o={method:"PATCH",headers:r,body:JSON.stringify(s)};let i;try{i=await(await fetch(`${ip(e.appConfig)}/${n.token}`,o)).json()}catch(l){throw sr.create("token-update-failed",{errorInfo:l==null?void 0:l.toString()})}if(i.error){const l=i.error.message;throw sr.create("token-update-failed",{errorInfo:l})}if(!i.token)throw sr.create("token-update-no-token");return i.token}async function UM(e,n){const s={method:"DELETE",headers:await lp(e)};try{const i=await(await fetch(`${ip(e.appConfig)}/${n}`,s)).json();if(i.error){const l=i.error.message;throw sr.create("token-unsubscribe-failed",{errorInfo:l})}}catch(o){throw sr.create("token-unsubscribe-failed",{errorInfo:o==null?void 0:o.toString()})}}function ip({projectId:e}){return`${TM}/projects/${e}/registrations`}async function lp({appConfig:e,installations:n}){const r=await n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function Aj({p256dh:e,auth:n,endpoint:r,vapidKey:s}){const o={web:{endpoint:r,auth:n,p256dh:e}};return s!==Ij&&(o.web.applicationPubKey=s),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=7*24*60*60*1e3;async function zM(e){const n=await GM(e.swRegistration,e.vapidKey),r={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:n.endpoint,auth:Ys(n.getKey("auth")),p256dh:Ys(n.getKey("p256dh"))},s=await $M(e.firebaseDependencies);if(s){if(YM(s.subscriptionOptions,r))return Date.now()>=s.createTime+VM?HM(e,{token:s.token,createTime:Date.now(),subscriptionOptions:r}):s.token;try{await UM(e.firebaseDependencies,s.token)}catch(o){console.warn(o)}return Ay(e.firebaseDependencies,r)}else return Ay(e.firebaseDependencies,r)}async function HM(e,n){try{const r=await WM(e.firebaseDependencies,n),s=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()});return await ap(e.firebaseDependencies,s),r}catch(r){throw r}}async function Ay(e,n){const s={token:await BM(e,n),createTime:Date.now(),subscriptionOptions:n};return await ap(e,s),s.token}async function GM(e,n){const r=await e.pushManager.getSubscription();return r||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:kM(n)})}function YM(e,n){const r=n.vapidKey===e.vapidKey,s=n.endpoint===e.endpoint,o=n.auth===e.auth,i=n.p256dh===e.p256dh;return r&&s&&o&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(e){const n={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return qM(n,e),KM(n,e),XM(n,e),n}function qM(e,n){if(!n.notification)return;e.notification={};const r=n.notification.title;r&&(e.notification.title=r);const s=n.notification.body;s&&(e.notification.body=s);const o=n.notification.image;o&&(e.notification.image=o);const i=n.notification.icon;i&&(e.notification.icon=i)}function KM(e,n){n.data&&(e.data=n.data)}function XM(e,n){var r,s,o,i,l;if(!n.fcmOptions&&!(!((r=n.notification)===null||r===void 0)&&r.click_action))return;e.fcmOptions={};const d=(o=(s=n.fcmOptions)===null||s===void 0?void 0:s.link)!==null&&o!==void 0?o:(i=n.notification)===null||i===void 0?void 0:i.click_action;d&&(e.fcmOptions.link=d);const u=(l=n.fcmOptions)===null||l===void 0?void 0:l.analytics_label;u&&(e.fcmOptions.analyticsLabel=u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(e){return typeof e=="object"&&!!e&&Dj in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rj("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");Rj("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function Rj(e,n){const r=[];for(let s=0;s<e.length;s++)r.push(e.charAt(s)),s<n.length&&r.push(n.charAt(s));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(e){if(!e||!e.options)throw Th("App Configuration Object");if(!e.name)throw Th("App Name");const n=["projectId","apiKey","appId","messagingSenderId"],{options:r}=e;for(const s of n)if(!r[s])throw Th(s);return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function Th(e){return sr.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(n,r,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=QM(n);this.firebaseDependencies={app:n,appConfig:o,installations:r,analyticsProvider:s}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(e){try{e.swRegistration=await navigator.serviceWorker.register(IM,{scope:DM}),e.swRegistration.update().catch(()=>{})}catch(n){throw sr.create("failed-service-worker-registration",{browserErrorMessage:n==null?void 0:n.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(e,n){if(!n&&!e.swRegistration&&await eN(e),!(!n&&e.swRegistration)){if(!(n instanceof ServiceWorkerRegistration))throw sr.create("invalid-sw-registration");e.swRegistration=n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(e,n){n?e.vapidKey=n:e.vapidKey||(e.vapidKey=Ij)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kj(e,n){if(!navigator)throw sr.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw sr.create("permission-blocked");return await nN(e,n==null?void 0:n.vapidKey),await tN(e,n==null?void 0:n.serviceWorkerRegistration),zM(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(e,n,r){const s=sN(n);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:r[Dj],message_name:r[EM],message_time:r[AM],message_device_time:Math.floor(Date.now()/1e3)})}function sN(e){switch(e){case Vi.NOTIFICATION_CLICKED:return"notification_open";case Vi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(e,n){const r=n.data;if(!r.isFirebaseMessaging)return;e.onMessageHandler&&r.messageType===Vi.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(Ry(r)):e.onMessageHandler.next(Ry(r)));const s=r.data;JM(s)&&s[RM]==="1"&&await rN(e,r.messageType,s)}const ky="@firebase/messaging",_y="0.12.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=e=>{const n=new ZM(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>oN(n,r)),n},iN=e=>{const n=e.getProvider("messaging").getImmediate();return{getToken:s=>kj(n,s)}};function lN(){Mc(new Nc("messaging",aN,"PUBLIC")),Mc(new Nc("messaging-internal",iN,"PRIVATE")),Oc(ky,_y),Oc(ky,_y,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(){try{await lk()}catch{return!1}return typeof window<"u"&&ck()&&dk()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(e,n){if(!navigator)throw sr.create("only-available-in-window");return e.onMessageHandler=n,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(e=ik()){return cN().then(n=>{if(!n)throw sr.create("unsupported-browser")},n=>{throw sr.create("indexed-db-unsupported")}),Yf(Kf(e),"messaging").getImmediate()}async function hN(e,n){return e=Kf(e),kj(e,n)}function fN(e,n){return e=Kf(e),dN(e,n)}lN();const pN={apiKey:"AIzaSyAsiLj2G16z35SAYVVo79_EJh3qy9X8zFE",authDomain:"journalist-2bf9e.firebaseapp.com",projectId:"journalist-2bf9e",storageBucket:"journalist-2bf9e.firebasestorage.app",messagingSenderId:"1048434393409",appId:"1:1048434393409:web:aca11459895da9872ca1c0",measurementId:"G-23KLS9XB70"},_j=uk(pN),mN=hk(_j),Oj=new fk;new pk;new mk;new xk("apple.com");let Pa=null;if(typeof window<"u"&&"serviceWorker"in navigator)try{Pa=uN(_j)}catch(e){console.error("[Firebase] FCM initialization failed:",e)}function Pd(){const e=x.createContext(null);function n(){const r=x.useContext(e);if(!r)throw new Error("Context must be used within provider");return r}return[e,n]}const[xN,bs]=Pd(),gN=({children:e})=>{const n=BO(mN);return t.jsx(xN.Provider,{value:n,children:e})},Mj=x.createContext(null),Ke=()=>x.useContext(Mj),bN=({children:e})=>{const n=bs();if(!n)throw new Error("ApiProvider must be used within AuthProvider. Please wrap ApiProvider with AuthProvider in your component tree.");const[r,s]=x.useState({api:new $O,isAuthenticated:!1,isLoading:!0}),o=x.useCallback(async(i=!1)=>{if(n.user){const l=await n.getToken(i);l&&s(d=>{const u=d.api.setAuthHeader(l).setApis();return{...d,api:u,isAuthenticated:!0,isLoading:!1}})}else s(l=>{const d=l.api.setAuthHeader(null).setApis();return{...l,api:d,isAuthenticated:!1,isLoading:!1}})},[n]);return x.useEffect(()=>{o(!1)},[n.user,n.isAuthenticated,o]),x.useEffect(()=>{console.log("Subscribing to Firebase token refresh events...");const i=n.onTokenRefresh(async()=>{try{console.log("Firebase token refreshed - updating API authorization header..."),await o(!1)}catch(l){console.error("Error updating API token after Firebase refresh:",l)}});return()=>{console.log("Unsubscribing from Firebase token refresh events..."),i()}},[n,o]),t.jsx(Mj.Provider,{value:r,children:e})},yN=" BKFcSPG4h0WTfkz1F5siTwfoHHaBsT-MjwVP1OcRvNjWGYY5ywTG0BARQpTmrprsfus4O8xHBc1Wlo8fIpC4eAQ ",vN=()=>{const[e,n]=x.useState(null),[r,s]=x.useState("default"),[o,i]=x.useState(null),{api:l}=Ke(),d=x.useCallback(async()=>{try{if(!Pa){console.warn("[FCM] Messaging not supported in this browser");return}if(Notification.permission==="granted"){console.log("[FCM] Permission already granted"),s("granted"),await u();return}if(Notification.permission==="denied"){console.warn("[FCM] Permission denied by user"),s("denied"),i("Notification permission denied. Please enable it in browser settings.");return}const m=await Notification.requestPermission();s(m),m==="granted"?(console.log("[FCM] Permission granted"),await u()):(console.warn("[FCM] Permission not granted:",m),i("Notification permission not granted"))}catch(m){console.error("[FCM] Error requesting permission:",m),i("Failed to request notification permission")}},[]),u=x.useCallback(async()=>{try{if(!Pa){console.warn("[FCM] Messaging not initialized");return}const m=await navigator.serviceWorker.ready,g=await hN(Pa,{vapidKey:yN,serviceWorkerRegistration:m});g?(console.log("[FCM] Token obtained:",g.substring(0,20)+"..."),n(g),await h(g)):(console.warn("[FCM] No token obtained"),i("Failed to get FCM token"))}catch(m){console.error("[FCM] Error getting token:",m),i("Failed to get FCM token. Make sure VAPID key is configured.")}},[]),h=x.useCallback(async m=>{try{await l.app.notification.registerDeviceToken(m),console.log("[FCM] Token registered with backend")}catch(g){console.error("[FCM] Error registering token with backend:",g)}},[l]),f=x.useCallback(async()=>{if(e)try{await l.app.notification.unregisterDeviceToken(e),console.log("[FCM] Token unregistered from backend"),n(null)}catch(m){console.error("[FCM] Error unregistering token:",m)}},[l,e]);return x.useEffect(()=>{if(!Pa)return;const m=fN(Pa,g=>{var y,b,w,v;if(console.log("[FCM] Foreground message received:",g),Notification.permission==="granted"){const I=((y=g.notification)==null?void 0:y.title)||"New Notification",S={body:((b=g.notification)==null?void 0:b.body)||"",icon:((w=g.notification)==null?void 0:w.icon)||"/vite.svg",badge:"/vite.svg",data:g.data,tag:((v=g.data)==null?void 0:v.notificationId)||"default"};new Notification(I,S)}window.dispatchEvent(new CustomEvent("fcm-notification-received",{detail:g}))});return()=>{m()}},[]),x.useEffect(()=>{Notification.permission==="granted"&&!e&&u()},[]),{fcmToken:e,permission:r,error:o,requestPermission:d,unregisterToken:f}},[jN,ta]=Pd(),wN=({children:e})=>{const n=bs(),{isLoading:r,isAuthenticated:s}=Ke(),{requestPermission:o}=vN(),[i,l]=x.useState({isLoading:!0,isAuthenticated:!1}),d=x.useCallback(async()=>{await n.signOut()},[n]);x.useEffect(()=>{if(!!n.isLoading||!!r){l({isLoading:!0,isAuthenticated:!1});return}const m=!!n.user&&s;l({isLoading:!1,isAuthenticated:m}),m&&o()},[n.isLoading,n.user,r,s,o]);const u={...i,actions:{signOut:d}};return t.jsx(jN.Provider,{value:u,children:e})};var cp={},Eh={};const SN=qA(KA);var Oy;function Je(){return Oy||(Oy=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=SN}(Eh)),Eh}var CN=Xe;Object.defineProperty(cp,"__esModule",{value:!0});var Id=cp.default=void 0,PN=CN(Je()),IN=t;Id=cp.default=(0,PN.default)((0,IN.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");var dp={},DN=Xe;Object.defineProperty(dp,"__esModule",{value:!0});var up=dp.default=void 0,TN=DN(Je()),EN=t;up=dp.default=(0,TN.default)((0,EN.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");var hp={},AN=Xe;Object.defineProperty(hp,"__esModule",{value:!0});var dl=hp.default=void 0,RN=AN(Je()),kN=t;dl=hp.default=(0,RN.default)((0,kN.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp");var fp={},_N=Xe;Object.defineProperty(fp,"__esModule",{value:!0});var Nj=fp.default=void 0,ON=_N(Je()),MN=t;Nj=fp.default=(0,ON.default)((0,MN.jsx)("path",{d:"M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m2.19 12.19L6 18l3.81-8.19L18 6z"}),"Explore");var pp={},NN=Xe;Object.defineProperty(pp,"__esModule",{value:!0});var mp=pp.default=void 0,LN=NN(Je()),My=t;mp=pp.default=(0,LN.default)([(0,My.jsx)("circle",{cx:"6.18",cy:"17.82",r:"2.18"},"0"),(0,My.jsx)("path",{d:"M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56m0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9"},"1")],"RssFeed");var xp={},$N=Xe;Object.defineProperty(xp,"__esModule",{value:!0});var Fa=xp.default=void 0,FN=$N(Je()),BN=t;Fa=xp.default=(0,FN.default)((0,BN.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");var gp={},WN=Xe;Object.defineProperty(gp,"__esModule",{value:!0});var Dd=gp.default=void 0,UN=WN(Je()),VN=t;Dd=gp.default=(0,UN.default)((0,VN.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"}),"Poll");var bp={},zN=Xe;Object.defineProperty(bp,"__esModule",{value:!0});var ei=bp.default=void 0,HN=zN(Je()),GN=t;ei=bp.default=(0,HN.default)((0,GN.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2"}),"Bookmark");const Lj=x.createContext(null),yp=()=>{const e=x.useContext(Lj);if(!e)throw new Error("useNotification must be used within a NotificationProvider");return e},YN=({children:e})=>{const[n,r]=x.useState({open:!1,message:"",severity:"info",autoHideDuration:6e3}),s=x.useCallback((m,g="info",y=6e3)=>{r({open:!0,message:m,severity:g,autoHideDuration:y})},[]),o=x.useCallback(m=>{s(m,"success")},[s]),i=x.useCallback(m=>{s(m,"error")},[s]),l=x.useCallback(m=>{s(m,"warning")},[s]),d=x.useCallback(m=>{s(m,"info")},[s]),u=x.useCallback(m=>{if(m.length===0)return;const g=(w,v="")=>{const I=Object.values(w.constraints||{}),S=`${v}${w.property}: ${I.join(", ")}`;if(w.children&&w.children.length>0){const D=w.children.map(T=>g(T,"  "));return`${S}
${D.join(`
`)}`}return S},y=m.map(w=>g(w)),b=y.length===1?y[0]:`Validation errors:
${y.map(w=>` ${w}`).join(`
`)}`;s(b,"error",1e4)},[s]),h=x.useCallback(()=>{r(m=>({...m,open:!1}))},[]),f={showNotification:s,showSuccess:o,showError:i,showWarning:l,showInfo:d,showValidationErrors:u,hideNotification:h};return t.jsxs(Lj.Provider,{value:f,children:[e,t.jsx(yv,{open:n.open,autoHideDuration:n.autoHideDuration,onClose:h,anchorOrigin:{vertical:"top",horizontal:"right"},children:t.jsx(dt,{onClose:h,severity:n.severity,variant:"filled",sx:{width:"100%",whiteSpace:"pre-line"},children:n.message})})]})},qN=e=>{var n,r,s;return((n=e==null?void 0:e.response)==null?void 0:n.status)===400&&((r=e.response.data)==null?void 0:r.status)==="error"&&((s=e.response.data)==null?void 0:s.errors)},KN=e=>{var n;return((n=e==null?void 0:e.response)==null?void 0:n.status)===401},XN=e=>{var n;return(((n=e==null?void 0:e.response)==null?void 0:n.status)||0)>=500},JN=e=>!(e!=null&&e.response),tt=()=>{const[e,n]=x.useState(!1),[r,s]=x.useState(null),{showSuccess:o,showError:i,showValidationErrors:l}=yp(),d=x.useCallback(async(h,f={})=>{var w,v;const{showSuccessMessage:m=!1,successMessage:g="Operation completed successfully",showErrorToast:y=!0,customErrorHandler:b}=f;try{n(!0),s(null);const I=await h();return m&&o(g),I}catch(I){if(b&&b(I))return null;const S=I;let D="An error occurred",T=y;if(qN(S)){const E=(w=S.response)==null?void 0:w.data;D=E.message||"Validation failed",s(D),T&&l&&(l(E.errors),T=!1)}else if(KN(S))D="Unauthorized access. Please log in again.",s(D),T&&i(D);else if(XN(S))D="Server error. Please try again later.",s(D),T&&i(D);else if(JN(S))D="Network error. Please check your connection.",s(D),T&&i(D);else{const E=(v=S.response)==null?void 0:v.data;D=(E==null?void 0:E.message)||S.message||"An error occurred",s(D),T&&i(D)}return null}finally{n(!1)}},[o,i,l]),u=x.useCallback(()=>{s(null)},[]);return{loading:e,error:r,execute:d,clearError:u}},Ny=({isOpen:e})=>{const n=ea(),{api:r}=Ke(),{execute:s}=tt(),[o,i]=x.useState([]),l=[{path:`${be.APP_NEWS_MY_FEED}`,icon:t.jsx(Fa,{}),label:"For you"},{path:`${be.APP_NEWS_DISCOVER}`,icon:t.jsx(Nj,{}),label:"Discover"},{path:`${be.APP_POLLS}`,icon:t.jsx(Dd,{}),label:"Polls"},{path:`${be.APP_CHANNELS}`,icon:t.jsx(mp,{}),label:"Channels"},{path:`${be.APP_BOOKMARKS}`,icon:t.jsx(ei,{}),label:"Bookmarks"}],d=[{path:`${be.APP_NEWS_TRENDING}`,icon:t.jsx(dl,{}),label:"Trending"}];return x.useEffect(()=>{e&&(async()=>{const h=await s(()=>r==null?void 0:r.app.channel.getChannels({},{page:1,limit:5}),{showErrorToast:!1});h&&i(h.items)})()},[e]),e?t.jsxs(C,{sx:{height:"100%",display:"flex",flexDirection:"column",overflow:"auto",p:2},children:[t.jsx(fr,{sx:{pt:0,pb:0},children:l.map(u=>t.jsxs(rr,{button:!0,component:Xn,to:u.path,selected:n.pathname===u.path,sx:{borderRadius:1,mx:1,mb:.5,py:1,"&.Mui-selected":{backgroundColor:"action.selected",fontWeight:600},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(qt,{sx:{minWidth:40},children:u.icon}),t.jsx(Wt,{primary:u.label,primaryTypographyProps:{fontWeight:n.pathname===u.path?600:400,fontSize:"0.95rem"}})]},u.path))}),t.jsx(Mt,{sx:{my:1}}),t.jsx(C,{sx:{px:2,py:1},children:t.jsx(j,{variant:"caption",sx:{fontWeight:600,color:"text.secondary",textTransform:"uppercase",fontSize:"0.75rem",letterSpacing:"0.5px"},children:"Categories"})}),t.jsx(fr,{sx:{pt:0,pb:1},children:d.map(u=>t.jsxs(rr,{button:!0,component:Xn,to:u.path,sx:{borderRadius:1,mx:1,mb:.5,py:.75,"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(qt,{sx:{minWidth:40},children:u.icon}),t.jsx(Wt,{primary:u.label,primaryTypographyProps:{fontSize:"0.9rem"}})]},u.path))}),t.jsx(Mt,{sx:{my:1}}),t.jsx(C,{sx:{px:2,py:1},children:t.jsx(j,{variant:"caption",sx:{fontWeight:600,color:"text.secondary",textTransform:"uppercase",fontSize:"0.75rem",letterSpacing:"0.5px"},children:"Popular"})}),t.jsx(fr,{sx:{pt:0,pb:1,flexGrow:1},children:o.map(u=>t.jsxs(rr,{button:!0,component:Xn,to:`${be.APP_CHANNELS}/${u.id}`,sx:{borderRadius:1,mx:1,mb:.5,py:1,"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(Sn,{src:u.logoUrl,sx:{width:32,height:32,mr:1.5},children:u.name.charAt(0).toUpperCase()}),t.jsx(C,{sx:{flexGrow:1,minWidth:0},children:t.jsx(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:t.jsx(j,{variant:"body2",sx:{fontWeight:500,fontSize:"0.875rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:u.name})})})]},u.id))})]}):t.jsx(C,{sx:{height:"100%",display:"flex",flexDirection:"column",py:1},children:t.jsx(fr,{sx:{flexGrow:1},children:l.map(u=>t.jsx(rr,{button:!0,component:Xn,to:u.path,selected:n.pathname===u.path,sx:{borderRadius:1,mx:.5,justifyContent:"center",minHeight:48,"&.Mui-selected":{backgroundColor:"action.selected"}},children:t.jsx(qt,{sx:{minWidth:"auto"},children:u.icon})},u.path))})})};var vp={},QN=Xe;Object.defineProperty(vp,"__esModule",{value:!0});var $j=vp.default=void 0,ZN=QN(Je()),eL=t;$j=vp.default=(0,ZN.default)((0,eL.jsx)("path",{d:"M4 18h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1m0-5h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1M3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1"}),"MenuRounded");var jp={},tL=Xe;Object.defineProperty(jp,"__esModule",{value:!0});var Td=jp.default=void 0,nL=tL(Je()),rL=t;Td=jp.default=(0,nL.default)((0,rL.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle");var wp={},sL=Xe;Object.defineProperty(wp,"__esModule",{value:!0});var ul=wp.default=void 0,oL=sL(Je()),aL=t;ul=wp.default=(0,oL.default)((0,aL.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var Sp={},iL=Xe;Object.defineProperty(Sp,"__esModule",{value:!0});var Fj=Sp.default=void 0,lL=iL(Je()),cL=t;Fj=Sp.default=(0,lL.default)((0,cL.jsx)("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8 12.5v-9l6 4.5z"}),"VideoLibrary");var Cp={},dL=Xe;Object.defineProperty(Cp,"__esModule",{value:!0});var Bj=Cp.default=void 0,uL=dL(Je()),hL=t;Bj=Cp.default=(0,uL.default)((0,hL.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings");var Pp={},fL=Xe;Object.defineProperty(Pp,"__esModule",{value:!0});var Wj=Pp.default=void 0,pL=fL(Je()),mL=t;Wj=Pp.default=(0,pL.default)((0,mL.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout");var Gc={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Gc.exports;(function(e,n){(function(){var r,s="4.17.21",o=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",d="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",h=500,f="__lodash_placeholder__",m=1,g=2,y=4,b=1,w=2,v=1,I=2,S=4,D=8,T=16,E=32,R=64,O=128,k=256,N=512,B=30,K="...",$=800,Y=16,J=1,G=2,q=3,Q=1/0,z=9007199254740991,oe=17976931348623157e292,U=NaN,ee=4294967295,Pe=ee-1,pe=ee>>>1,Re=[["ary",O],["bind",v],["bindKey",I],["curry",D],["curryRight",T],["flip",N],["partial",E],["partialRight",R],["rearg",k]],ce="[object Arguments]",re="[object Array]",je="[object AsyncFunction]",Oe="[object Boolean]",ye="[object Date]",ie="[object DOMException]",ae="[object Error]",se="[object Function]",xe="[object GeneratorFunction]",he="[object Map]",ke="[object Number]",Ee="[object Null]",Ye="[object Object]",fe="[object Promise]",Se="[object Proxy]",X="[object RegExp]",L="[object Set]",_e="[object String]",Ve="[object Symbol]",hn="[object Undefined]",Ft="[object WeakMap]",Rt="[object WeakSet]",Zt="[object ArrayBuffer]",Fn="[object DataView]",ut="[object Float32Array]",gt="[object Float64Array]",kt="[object Int8Array]",Yt="[object Int16Array]",An="[object Int32Array]",mn="[object Uint8Array]",Qn="[object Uint8ClampedArray]",vn="[object Uint16Array]",Pt="[object Uint32Array]",Rn=/\b__p \+= '';/g,zn=/\b(__p \+=) '' \+/g,Pr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,To=/&(?:amp|lt|gt|quot|#39);/g,ar=/[&<>"']/g,tu=RegExp(To.source),nu=RegExp(ar.source),ru=/<%-([\s\S]+?)%>/g,kx=/<%([\s\S]+?)%>/g,su=/<%=([\s\S]+?)%>/g,jn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ir=/^\w*$/,yl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ou=/[\\^$.*+?()[\]{}|]/g,SC=RegExp(ou.source),au=/^\s+/,CC=/\s/,PC=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,IC=/\{\n\/\* \[wrapped with (.+)\] \*/,DC=/,? & /,TC=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,EC=/[()=,{}\[\]\/\s]/,AC=/\\(\\)?/g,RC=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_x=/\w*$/,kC=/^[-+]0x[0-9a-f]+$/i,_C=/^0b[01]+$/i,OC=/^\[object .+?Constructor\]$/,MC=/^0o[0-7]+$/i,NC=/^(?:0|[1-9]\d*)$/,LC=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vl=/($^)/,$C=/['\n\r\u2028\u2029\\]/g,jl="\\ud800-\\udfff",FC="\\u0300-\\u036f",BC="\\ufe20-\\ufe2f",WC="\\u20d0-\\u20ff",Ox=FC+BC+WC,Mx="\\u2700-\\u27bf",Nx="a-z\\xdf-\\xf6\\xf8-\\xff",UC="\\xac\\xb1\\xd7\\xf7",VC="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",zC="\\u2000-\\u206f",HC=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Lx="A-Z\\xc0-\\xd6\\xd8-\\xde",$x="\\ufe0e\\ufe0f",Fx=UC+VC+zC+HC,iu="[']",GC="["+jl+"]",Bx="["+Fx+"]",wl="["+Ox+"]",Wx="\\d+",YC="["+Mx+"]",Ux="["+Nx+"]",Vx="[^"+jl+Fx+Wx+Mx+Nx+Lx+"]",lu="\\ud83c[\\udffb-\\udfff]",qC="(?:"+wl+"|"+lu+")",zx="[^"+jl+"]",cu="(?:\\ud83c[\\udde6-\\uddff]){2}",du="[\\ud800-\\udbff][\\udc00-\\udfff]",aa="["+Lx+"]",Hx="\\u200d",Gx="(?:"+Ux+"|"+Vx+")",KC="(?:"+aa+"|"+Vx+")",Yx="(?:"+iu+"(?:d|ll|m|re|s|t|ve))?",qx="(?:"+iu+"(?:D|LL|M|RE|S|T|VE))?",Kx=qC+"?",Xx="["+$x+"]?",XC="(?:"+Hx+"(?:"+[zx,cu,du].join("|")+")"+Xx+Kx+")*",JC="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",QC="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Jx=Xx+Kx+XC,ZC="(?:"+[YC,cu,du].join("|")+")"+Jx,e2="(?:"+[zx+wl+"?",wl,cu,du,GC].join("|")+")",t2=RegExp(iu,"g"),n2=RegExp(wl,"g"),uu=RegExp(lu+"(?="+lu+")|"+e2+Jx,"g"),r2=RegExp([aa+"?"+Ux+"+"+Yx+"(?="+[Bx,aa,"$"].join("|")+")",KC+"+"+qx+"(?="+[Bx,aa+Gx,"$"].join("|")+")",aa+"?"+Gx+"+"+Yx,aa+"+"+qx,QC,JC,Wx,ZC].join("|"),"g"),s2=RegExp("["+Hx+jl+Ox+$x+"]"),o2=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,a2=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],i2=-1,on={};on[ut]=on[gt]=on[kt]=on[Yt]=on[An]=on[mn]=on[Qn]=on[vn]=on[Pt]=!0,on[ce]=on[re]=on[Zt]=on[Oe]=on[Fn]=on[ye]=on[ae]=on[se]=on[he]=on[ke]=on[Ye]=on[X]=on[L]=on[_e]=on[Ft]=!1;var rn={};rn[ce]=rn[re]=rn[Zt]=rn[Fn]=rn[Oe]=rn[ye]=rn[ut]=rn[gt]=rn[kt]=rn[Yt]=rn[An]=rn[he]=rn[ke]=rn[Ye]=rn[X]=rn[L]=rn[_e]=rn[Ve]=rn[mn]=rn[Qn]=rn[vn]=rn[Pt]=!0,rn[ae]=rn[se]=rn[Ft]=!1;var l2={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},c2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},d2={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},u2={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},h2=parseFloat,f2=parseInt,Qx=typeof vi=="object"&&vi&&vi.Object===Object&&vi,p2=typeof self=="object"&&self&&self.Object===Object&&self,Hn=Qx||p2||Function("return this")(),hu=n&&!n.nodeType&&n,Eo=hu&&!0&&e&&!e.nodeType&&e,Zx=Eo&&Eo.exports===hu,fu=Zx&&Qx.process,Fr=function(){try{var Z=Eo&&Eo.require&&Eo.require("util").types;return Z||fu&&fu.binding&&fu.binding("util")}catch{}}(),eg=Fr&&Fr.isArrayBuffer,tg=Fr&&Fr.isDate,ng=Fr&&Fr.isMap,rg=Fr&&Fr.isRegExp,sg=Fr&&Fr.isSet,og=Fr&&Fr.isTypedArray;function Dr(Z,Ce,ge){switch(ge.length){case 0:return Z.call(Ce);case 1:return Z.call(Ce,ge[0]);case 2:return Z.call(Ce,ge[0],ge[1]);case 3:return Z.call(Ce,ge[0],ge[1],ge[2])}return Z.apply(Ce,ge)}function m2(Z,Ce,ge,ze){for(var ft=-1,Nt=Z==null?0:Z.length;++ft<Nt;){var Nn=Z[ft];Ce(ze,Nn,ge(Nn),Z)}return ze}function Br(Z,Ce){for(var ge=-1,ze=Z==null?0:Z.length;++ge<ze&&Ce(Z[ge],ge,Z)!==!1;);return Z}function x2(Z,Ce){for(var ge=Z==null?0:Z.length;ge--&&Ce(Z[ge],ge,Z)!==!1;);return Z}function ag(Z,Ce){for(var ge=-1,ze=Z==null?0:Z.length;++ge<ze;)if(!Ce(Z[ge],ge,Z))return!1;return!0}function eo(Z,Ce){for(var ge=-1,ze=Z==null?0:Z.length,ft=0,Nt=[];++ge<ze;){var Nn=Z[ge];Ce(Nn,ge,Z)&&(Nt[ft++]=Nn)}return Nt}function Sl(Z,Ce){var ge=Z==null?0:Z.length;return!!ge&&ia(Z,Ce,0)>-1}function pu(Z,Ce,ge){for(var ze=-1,ft=Z==null?0:Z.length;++ze<ft;)if(ge(Ce,Z[ze]))return!0;return!1}function fn(Z,Ce){for(var ge=-1,ze=Z==null?0:Z.length,ft=Array(ze);++ge<ze;)ft[ge]=Ce(Z[ge],ge,Z);return ft}function to(Z,Ce){for(var ge=-1,ze=Ce.length,ft=Z.length;++ge<ze;)Z[ft+ge]=Ce[ge];return Z}function mu(Z,Ce,ge,ze){var ft=-1,Nt=Z==null?0:Z.length;for(ze&&Nt&&(ge=Z[++ft]);++ft<Nt;)ge=Ce(ge,Z[ft],ft,Z);return ge}function g2(Z,Ce,ge,ze){var ft=Z==null?0:Z.length;for(ze&&ft&&(ge=Z[--ft]);ft--;)ge=Ce(ge,Z[ft],ft,Z);return ge}function xu(Z,Ce){for(var ge=-1,ze=Z==null?0:Z.length;++ge<ze;)if(Ce(Z[ge],ge,Z))return!0;return!1}var b2=gu("length");function y2(Z){return Z.split("")}function v2(Z){return Z.match(TC)||[]}function ig(Z,Ce,ge){var ze;return ge(Z,function(ft,Nt,Nn){if(Ce(ft,Nt,Nn))return ze=Nt,!1}),ze}function Cl(Z,Ce,ge,ze){for(var ft=Z.length,Nt=ge+(ze?1:-1);ze?Nt--:++Nt<ft;)if(Ce(Z[Nt],Nt,Z))return Nt;return-1}function ia(Z,Ce,ge){return Ce===Ce?k2(Z,Ce,ge):Cl(Z,lg,ge)}function j2(Z,Ce,ge,ze){for(var ft=ge-1,Nt=Z.length;++ft<Nt;)if(ze(Z[ft],Ce))return ft;return-1}function lg(Z){return Z!==Z}function cg(Z,Ce){var ge=Z==null?0:Z.length;return ge?yu(Z,Ce)/ge:U}function gu(Z){return function(Ce){return Ce==null?r:Ce[Z]}}function bu(Z){return function(Ce){return Z==null?r:Z[Ce]}}function dg(Z,Ce,ge,ze,ft){return ft(Z,function(Nt,Nn,en){ge=ze?(ze=!1,Nt):Ce(ge,Nt,Nn,en)}),ge}function w2(Z,Ce){var ge=Z.length;for(Z.sort(Ce);ge--;)Z[ge]=Z[ge].value;return Z}function yu(Z,Ce){for(var ge,ze=-1,ft=Z.length;++ze<ft;){var Nt=Ce(Z[ze]);Nt!==r&&(ge=ge===r?Nt:ge+Nt)}return ge}function vu(Z,Ce){for(var ge=-1,ze=Array(Z);++ge<Z;)ze[ge]=Ce(ge);return ze}function S2(Z,Ce){return fn(Ce,function(ge){return[ge,Z[ge]]})}function ug(Z){return Z&&Z.slice(0,mg(Z)+1).replace(au,"")}function Tr(Z){return function(Ce){return Z(Ce)}}function ju(Z,Ce){return fn(Ce,function(ge){return Z[ge]})}function oi(Z,Ce){return Z.has(Ce)}function hg(Z,Ce){for(var ge=-1,ze=Z.length;++ge<ze&&ia(Ce,Z[ge],0)>-1;);return ge}function fg(Z,Ce){for(var ge=Z.length;ge--&&ia(Ce,Z[ge],0)>-1;);return ge}function C2(Z,Ce){for(var ge=Z.length,ze=0;ge--;)Z[ge]===Ce&&++ze;return ze}var P2=bu(l2),I2=bu(c2);function D2(Z){return"\\"+u2[Z]}function T2(Z,Ce){return Z==null?r:Z[Ce]}function la(Z){return s2.test(Z)}function E2(Z){return o2.test(Z)}function A2(Z){for(var Ce,ge=[];!(Ce=Z.next()).done;)ge.push(Ce.value);return ge}function wu(Z){var Ce=-1,ge=Array(Z.size);return Z.forEach(function(ze,ft){ge[++Ce]=[ft,ze]}),ge}function pg(Z,Ce){return function(ge){return Z(Ce(ge))}}function no(Z,Ce){for(var ge=-1,ze=Z.length,ft=0,Nt=[];++ge<ze;){var Nn=Z[ge];(Nn===Ce||Nn===f)&&(Z[ge]=f,Nt[ft++]=ge)}return Nt}function Pl(Z){var Ce=-1,ge=Array(Z.size);return Z.forEach(function(ze){ge[++Ce]=ze}),ge}function R2(Z){var Ce=-1,ge=Array(Z.size);return Z.forEach(function(ze){ge[++Ce]=[ze,ze]}),ge}function k2(Z,Ce,ge){for(var ze=ge-1,ft=Z.length;++ze<ft;)if(Z[ze]===Ce)return ze;return-1}function _2(Z,Ce,ge){for(var ze=ge+1;ze--;)if(Z[ze]===Ce)return ze;return ze}function ca(Z){return la(Z)?M2(Z):b2(Z)}function rs(Z){return la(Z)?N2(Z):y2(Z)}function mg(Z){for(var Ce=Z.length;Ce--&&CC.test(Z.charAt(Ce)););return Ce}var O2=bu(d2);function M2(Z){for(var Ce=uu.lastIndex=0;uu.test(Z);)++Ce;return Ce}function N2(Z){return Z.match(uu)||[]}function L2(Z){return Z.match(r2)||[]}var $2=function Z(Ce){Ce=Ce==null?Hn:da.defaults(Hn.Object(),Ce,da.pick(Hn,a2));var ge=Ce.Array,ze=Ce.Date,ft=Ce.Error,Nt=Ce.Function,Nn=Ce.Math,en=Ce.Object,Su=Ce.RegExp,F2=Ce.String,Wr=Ce.TypeError,Il=ge.prototype,B2=Nt.prototype,ua=en.prototype,Dl=Ce["__core-js_shared__"],Tl=B2.toString,zt=ua.hasOwnProperty,W2=0,xg=function(){var a=/[^.]+$/.exec(Dl&&Dl.keys&&Dl.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),El=ua.toString,U2=Tl.call(en),V2=Hn._,z2=Su("^"+Tl.call(zt).replace(ou,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Al=Zx?Ce.Buffer:r,ro=Ce.Symbol,Rl=Ce.Uint8Array,gg=Al?Al.allocUnsafe:r,kl=pg(en.getPrototypeOf,en),bg=en.create,yg=ua.propertyIsEnumerable,_l=Il.splice,vg=ro?ro.isConcatSpreadable:r,ai=ro?ro.iterator:r,Ao=ro?ro.toStringTag:r,Ol=function(){try{var a=Mo(en,"defineProperty");return a({},"",{}),a}catch{}}(),H2=Ce.clearTimeout!==Hn.clearTimeout&&Ce.clearTimeout,G2=ze&&ze.now!==Hn.Date.now&&ze.now,Y2=Ce.setTimeout!==Hn.setTimeout&&Ce.setTimeout,Ml=Nn.ceil,Nl=Nn.floor,Cu=en.getOwnPropertySymbols,q2=Al?Al.isBuffer:r,jg=Ce.isFinite,K2=Il.join,X2=pg(en.keys,en),Ln=Nn.max,Zn=Nn.min,J2=ze.now,Q2=Ce.parseInt,wg=Nn.random,Z2=Il.reverse,Pu=Mo(Ce,"DataView"),ii=Mo(Ce,"Map"),Iu=Mo(Ce,"Promise"),ha=Mo(Ce,"Set"),li=Mo(Ce,"WeakMap"),ci=Mo(en,"create"),Ll=li&&new li,fa={},eP=No(Pu),tP=No(ii),nP=No(Iu),rP=No(ha),sP=No(li),$l=ro?ro.prototype:r,di=$l?$l.valueOf:r,Sg=$l?$l.toString:r;function _(a){if(wn(a)&&!pt(a)&&!(a instanceof Et)){if(a instanceof Ur)return a;if(zt.call(a,"__wrapped__"))return Cb(a)}return new Ur(a)}var pa=function(){function a(){}return function(c){if(!xn(c))return{};if(bg)return bg(c);a.prototype=c;var p=new a;return a.prototype=r,p}}();function Fl(){}function Ur(a,c){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=r}_.templateSettings={escape:ru,evaluate:kx,interpolate:su,variable:"",imports:{_}},_.prototype=Fl.prototype,_.prototype.constructor=_,Ur.prototype=pa(Fl.prototype),Ur.prototype.constructor=Ur;function Et(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ee,this.__views__=[]}function oP(){var a=new Et(this.__wrapped__);return a.__actions__=mr(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=mr(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=mr(this.__views__),a}function aP(){if(this.__filtered__){var a=new Et(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function iP(){var a=this.__wrapped__.value(),c=this.__dir__,p=pt(a),P=c<0,A=p?a.length:0,M=yI(0,A,this.__views__),W=M.start,H=M.end,te=H-W,Ie=P?H:W-1,De=this.__iteratees__,Ae=De.length,Be=0,Ze=Zn(te,this.__takeCount__);if(!p||!P&&A==te&&Ze==te)return Yg(a,this.__actions__);var lt=[];e:for(;te--&&Be<Ze;){Ie+=c;for(var vt=-1,ct=a[Ie];++vt<Ae;){var Dt=De[vt],At=Dt.iteratee,Rr=Dt.type,cr=At(ct);if(Rr==G)ct=cr;else if(!cr){if(Rr==J)continue e;break e}}lt[Be++]=ct}return lt}Et.prototype=pa(Fl.prototype),Et.prototype.constructor=Et;function Ro(a){var c=-1,p=a==null?0:a.length;for(this.clear();++c<p;){var P=a[c];this.set(P[0],P[1])}}function lP(){this.__data__=ci?ci(null):{},this.size=0}function cP(a){var c=this.has(a)&&delete this.__data__[a];return this.size-=c?1:0,c}function dP(a){var c=this.__data__;if(ci){var p=c[a];return p===u?r:p}return zt.call(c,a)?c[a]:r}function uP(a){var c=this.__data__;return ci?c[a]!==r:zt.call(c,a)}function hP(a,c){var p=this.__data__;return this.size+=this.has(a)?0:1,p[a]=ci&&c===r?u:c,this}Ro.prototype.clear=lP,Ro.prototype.delete=cP,Ro.prototype.get=dP,Ro.prototype.has=uP,Ro.prototype.set=hP;function Ms(a){var c=-1,p=a==null?0:a.length;for(this.clear();++c<p;){var P=a[c];this.set(P[0],P[1])}}function fP(){this.__data__=[],this.size=0}function pP(a){var c=this.__data__,p=Bl(c,a);if(p<0)return!1;var P=c.length-1;return p==P?c.pop():_l.call(c,p,1),--this.size,!0}function mP(a){var c=this.__data__,p=Bl(c,a);return p<0?r:c[p][1]}function xP(a){return Bl(this.__data__,a)>-1}function gP(a,c){var p=this.__data__,P=Bl(p,a);return P<0?(++this.size,p.push([a,c])):p[P][1]=c,this}Ms.prototype.clear=fP,Ms.prototype.delete=pP,Ms.prototype.get=mP,Ms.prototype.has=xP,Ms.prototype.set=gP;function Ns(a){var c=-1,p=a==null?0:a.length;for(this.clear();++c<p;){var P=a[c];this.set(P[0],P[1])}}function bP(){this.size=0,this.__data__={hash:new Ro,map:new(ii||Ms),string:new Ro}}function yP(a){var c=Ql(this,a).delete(a);return this.size-=c?1:0,c}function vP(a){return Ql(this,a).get(a)}function jP(a){return Ql(this,a).has(a)}function wP(a,c){var p=Ql(this,a),P=p.size;return p.set(a,c),this.size+=p.size==P?0:1,this}Ns.prototype.clear=bP,Ns.prototype.delete=yP,Ns.prototype.get=vP,Ns.prototype.has=jP,Ns.prototype.set=wP;function ko(a){var c=-1,p=a==null?0:a.length;for(this.__data__=new Ns;++c<p;)this.add(a[c])}function SP(a){return this.__data__.set(a,u),this}function CP(a){return this.__data__.has(a)}ko.prototype.add=ko.prototype.push=SP,ko.prototype.has=CP;function ss(a){var c=this.__data__=new Ms(a);this.size=c.size}function PP(){this.__data__=new Ms,this.size=0}function IP(a){var c=this.__data__,p=c.delete(a);return this.size=c.size,p}function DP(a){return this.__data__.get(a)}function TP(a){return this.__data__.has(a)}function EP(a,c){var p=this.__data__;if(p instanceof Ms){var P=p.__data__;if(!ii||P.length<o-1)return P.push([a,c]),this.size=++p.size,this;p=this.__data__=new Ns(P)}return p.set(a,c),this.size=p.size,this}ss.prototype.clear=PP,ss.prototype.delete=IP,ss.prototype.get=DP,ss.prototype.has=TP,ss.prototype.set=EP;function Cg(a,c){var p=pt(a),P=!p&&Lo(a),A=!p&&!P&&lo(a),M=!p&&!P&&!A&&ba(a),W=p||P||A||M,H=W?vu(a.length,F2):[],te=H.length;for(var Ie in a)(c||zt.call(a,Ie))&&!(W&&(Ie=="length"||A&&(Ie=="offset"||Ie=="parent")||M&&(Ie=="buffer"||Ie=="byteLength"||Ie=="byteOffset")||Bs(Ie,te)))&&H.push(Ie);return H}function Pg(a){var c=a.length;return c?a[Lu(0,c-1)]:r}function AP(a,c){return Zl(mr(a),_o(c,0,a.length))}function RP(a){return Zl(mr(a))}function Du(a,c,p){(p!==r&&!os(a[c],p)||p===r&&!(c in a))&&Ls(a,c,p)}function ui(a,c,p){var P=a[c];(!(zt.call(a,c)&&os(P,p))||p===r&&!(c in a))&&Ls(a,c,p)}function Bl(a,c){for(var p=a.length;p--;)if(os(a[p][0],c))return p;return-1}function kP(a,c,p,P){return so(a,function(A,M,W){c(P,A,p(A),W)}),P}function Ig(a,c){return a&&ws(c,Bn(c),a)}function _P(a,c){return a&&ws(c,gr(c),a)}function Ls(a,c,p){c=="__proto__"&&Ol?Ol(a,c,{configurable:!0,enumerable:!0,value:p,writable:!0}):a[c]=p}function Tu(a,c){for(var p=-1,P=c.length,A=ge(P),M=a==null;++p<P;)A[p]=M?r:lh(a,c[p]);return A}function _o(a,c,p){return a===a&&(p!==r&&(a=a<=p?a:p),c!==r&&(a=a>=c?a:c)),a}function Vr(a,c,p,P,A,M){var W,H=c&m,te=c&g,Ie=c&y;if(p&&(W=A?p(a,P,A,M):p(a)),W!==r)return W;if(!xn(a))return a;var De=pt(a);if(De){if(W=jI(a),!H)return mr(a,W)}else{var Ae=er(a),Be=Ae==se||Ae==xe;if(lo(a))return Xg(a,H);if(Ae==Ye||Ae==ce||Be&&!A){if(W=te||Be?{}:mb(a),!H)return te?dI(a,_P(W,a)):cI(a,Ig(W,a))}else{if(!rn[Ae])return A?a:{};W=wI(a,Ae,H)}}M||(M=new ss);var Ze=M.get(a);if(Ze)return Ze;M.set(a,W),zb(a)?a.forEach(function(ct){W.add(Vr(ct,c,p,ct,a,M))}):Ub(a)&&a.forEach(function(ct,Dt){W.set(Dt,Vr(ct,c,p,Dt,a,M))});var lt=Ie?te?qu:Yu:te?gr:Bn,vt=De?r:lt(a);return Br(vt||a,function(ct,Dt){vt&&(Dt=ct,ct=a[Dt]),ui(W,Dt,Vr(ct,c,p,Dt,a,M))}),W}function OP(a){var c=Bn(a);return function(p){return Dg(p,a,c)}}function Dg(a,c,p){var P=p.length;if(a==null)return!P;for(a=en(a);P--;){var A=p[P],M=c[A],W=a[A];if(W===r&&!(A in a)||!M(W))return!1}return!0}function Tg(a,c,p){if(typeof a!="function")throw new Wr(l);return bi(function(){a.apply(r,p)},c)}function hi(a,c,p,P){var A=-1,M=Sl,W=!0,H=a.length,te=[],Ie=c.length;if(!H)return te;p&&(c=fn(c,Tr(p))),P?(M=pu,W=!1):c.length>=o&&(M=oi,W=!1,c=new ko(c));e:for(;++A<H;){var De=a[A],Ae=p==null?De:p(De);if(De=P||De!==0?De:0,W&&Ae===Ae){for(var Be=Ie;Be--;)if(c[Be]===Ae)continue e;te.push(De)}else M(c,Ae,P)||te.push(De)}return te}var so=tb(js),Eg=tb(Au,!0);function MP(a,c){var p=!0;return so(a,function(P,A,M){return p=!!c(P,A,M),p}),p}function Wl(a,c,p){for(var P=-1,A=a.length;++P<A;){var M=a[P],W=c(M);if(W!=null&&(H===r?W===W&&!Ar(W):p(W,H)))var H=W,te=M}return te}function NP(a,c,p,P){var A=a.length;for(p=bt(p),p<0&&(p=-p>A?0:A+p),P=P===r||P>A?A:bt(P),P<0&&(P+=A),P=p>P?0:Gb(P);p<P;)a[p++]=c;return a}function Ag(a,c){var p=[];return so(a,function(P,A,M){c(P,A,M)&&p.push(P)}),p}function Gn(a,c,p,P,A){var M=-1,W=a.length;for(p||(p=CI),A||(A=[]);++M<W;){var H=a[M];c>0&&p(H)?c>1?Gn(H,c-1,p,P,A):to(A,H):P||(A[A.length]=H)}return A}var Eu=nb(),Rg=nb(!0);function js(a,c){return a&&Eu(a,c,Bn)}function Au(a,c){return a&&Rg(a,c,Bn)}function Ul(a,c){return eo(c,function(p){return Ws(a[p])})}function Oo(a,c){c=ao(c,a);for(var p=0,P=c.length;a!=null&&p<P;)a=a[Ss(c[p++])];return p&&p==P?a:r}function kg(a,c,p){var P=c(a);return pt(a)?P:to(P,p(a))}function ir(a){return a==null?a===r?hn:Ee:Ao&&Ao in en(a)?bI(a):RI(a)}function Ru(a,c){return a>c}function LP(a,c){return a!=null&&zt.call(a,c)}function $P(a,c){return a!=null&&c in en(a)}function FP(a,c,p){return a>=Zn(c,p)&&a<Ln(c,p)}function ku(a,c,p){for(var P=p?pu:Sl,A=a[0].length,M=a.length,W=M,H=ge(M),te=1/0,Ie=[];W--;){var De=a[W];W&&c&&(De=fn(De,Tr(c))),te=Zn(De.length,te),H[W]=!p&&(c||A>=120&&De.length>=120)?new ko(W&&De):r}De=a[0];var Ae=-1,Be=H[0];e:for(;++Ae<A&&Ie.length<te;){var Ze=De[Ae],lt=c?c(Ze):Ze;if(Ze=p||Ze!==0?Ze:0,!(Be?oi(Be,lt):P(Ie,lt,p))){for(W=M;--W;){var vt=H[W];if(!(vt?oi(vt,lt):P(a[W],lt,p)))continue e}Be&&Be.push(lt),Ie.push(Ze)}}return Ie}function BP(a,c,p,P){return js(a,function(A,M,W){c(P,p(A),M,W)}),P}function fi(a,c,p){c=ao(c,a),a=yb(a,c);var P=a==null?a:a[Ss(Hr(c))];return P==null?r:Dr(P,a,p)}function _g(a){return wn(a)&&ir(a)==ce}function WP(a){return wn(a)&&ir(a)==Zt}function UP(a){return wn(a)&&ir(a)==ye}function pi(a,c,p,P,A){return a===c?!0:a==null||c==null||!wn(a)&&!wn(c)?a!==a&&c!==c:VP(a,c,p,P,pi,A)}function VP(a,c,p,P,A,M){var W=pt(a),H=pt(c),te=W?re:er(a),Ie=H?re:er(c);te=te==ce?Ye:te,Ie=Ie==ce?Ye:Ie;var De=te==Ye,Ae=Ie==Ye,Be=te==Ie;if(Be&&lo(a)){if(!lo(c))return!1;W=!0,De=!1}if(Be&&!De)return M||(M=new ss),W||ba(a)?hb(a,c,p,P,A,M):xI(a,c,te,p,P,A,M);if(!(p&b)){var Ze=De&&zt.call(a,"__wrapped__"),lt=Ae&&zt.call(c,"__wrapped__");if(Ze||lt){var vt=Ze?a.value():a,ct=lt?c.value():c;return M||(M=new ss),A(vt,ct,p,P,M)}}return Be?(M||(M=new ss),gI(a,c,p,P,A,M)):!1}function zP(a){return wn(a)&&er(a)==he}function _u(a,c,p,P){var A=p.length,M=A,W=!P;if(a==null)return!M;for(a=en(a);A--;){var H=p[A];if(W&&H[2]?H[1]!==a[H[0]]:!(H[0]in a))return!1}for(;++A<M;){H=p[A];var te=H[0],Ie=a[te],De=H[1];if(W&&H[2]){if(Ie===r&&!(te in a))return!1}else{var Ae=new ss;if(P)var Be=P(Ie,De,te,a,c,Ae);if(!(Be===r?pi(De,Ie,b|w,P,Ae):Be))return!1}}return!0}function Og(a){if(!xn(a)||II(a))return!1;var c=Ws(a)?z2:OC;return c.test(No(a))}function HP(a){return wn(a)&&ir(a)==X}function GP(a){return wn(a)&&er(a)==L}function YP(a){return wn(a)&&oc(a.length)&&!!on[ir(a)]}function Mg(a){return typeof a=="function"?a:a==null?br:typeof a=="object"?pt(a)?$g(a[0],a[1]):Lg(a):ry(a)}function Ou(a){if(!gi(a))return X2(a);var c=[];for(var p in en(a))zt.call(a,p)&&p!="constructor"&&c.push(p);return c}function qP(a){if(!xn(a))return AI(a);var c=gi(a),p=[];for(var P in a)P=="constructor"&&(c||!zt.call(a,P))||p.push(P);return p}function Mu(a,c){return a<c}function Ng(a,c){var p=-1,P=xr(a)?ge(a.length):[];return so(a,function(A,M,W){P[++p]=c(A,M,W)}),P}function Lg(a){var c=Xu(a);return c.length==1&&c[0][2]?gb(c[0][0],c[0][1]):function(p){return p===a||_u(p,a,c)}}function $g(a,c){return Qu(a)&&xb(c)?gb(Ss(a),c):function(p){var P=lh(p,a);return P===r&&P===c?ch(p,a):pi(c,P,b|w)}}function Vl(a,c,p,P,A){a!==c&&Eu(c,function(M,W){if(A||(A=new ss),xn(M))KP(a,c,W,p,Vl,P,A);else{var H=P?P(eh(a,W),M,W+"",a,c,A):r;H===r&&(H=M),Du(a,W,H)}},gr)}function KP(a,c,p,P,A,M,W){var H=eh(a,p),te=eh(c,p),Ie=W.get(te);if(Ie){Du(a,p,Ie);return}var De=M?M(H,te,p+"",a,c,W):r,Ae=De===r;if(Ae){var Be=pt(te),Ze=!Be&&lo(te),lt=!Be&&!Ze&&ba(te);De=te,Be||Ze||lt?pt(H)?De=H:Pn(H)?De=mr(H):Ze?(Ae=!1,De=Xg(te,!0)):lt?(Ae=!1,De=Jg(te,!0)):De=[]:yi(te)||Lo(te)?(De=H,Lo(H)?De=Yb(H):(!xn(H)||Ws(H))&&(De=mb(te))):Ae=!1}Ae&&(W.set(te,De),A(De,te,P,M,W),W.delete(te)),Du(a,p,De)}function Fg(a,c){var p=a.length;if(p)return c+=c<0?p:0,Bs(c,p)?a[c]:r}function Bg(a,c,p){c.length?c=fn(c,function(M){return pt(M)?function(W){return Oo(W,M.length===1?M[0]:M)}:M}):c=[br];var P=-1;c=fn(c,Tr(it()));var A=Ng(a,function(M,W,H){var te=fn(c,function(Ie){return Ie(M)});return{criteria:te,index:++P,value:M}});return w2(A,function(M,W){return lI(M,W,p)})}function XP(a,c){return Wg(a,c,function(p,P){return ch(a,P)})}function Wg(a,c,p){for(var P=-1,A=c.length,M={};++P<A;){var W=c[P],H=Oo(a,W);p(H,W)&&mi(M,ao(W,a),H)}return M}function JP(a){return function(c){return Oo(c,a)}}function Nu(a,c,p,P){var A=P?j2:ia,M=-1,W=c.length,H=a;for(a===c&&(c=mr(c)),p&&(H=fn(a,Tr(p)));++M<W;)for(var te=0,Ie=c[M],De=p?p(Ie):Ie;(te=A(H,De,te,P))>-1;)H!==a&&_l.call(H,te,1),_l.call(a,te,1);return a}function Ug(a,c){for(var p=a?c.length:0,P=p-1;p--;){var A=c[p];if(p==P||A!==M){var M=A;Bs(A)?_l.call(a,A,1):Bu(a,A)}}return a}function Lu(a,c){return a+Nl(wg()*(c-a+1))}function QP(a,c,p,P){for(var A=-1,M=Ln(Ml((c-a)/(p||1)),0),W=ge(M);M--;)W[P?M:++A]=a,a+=p;return W}function $u(a,c){var p="";if(!a||c<1||c>z)return p;do c%2&&(p+=a),c=Nl(c/2),c&&(a+=a);while(c);return p}function wt(a,c){return th(bb(a,c,br),a+"")}function ZP(a){return Pg(ya(a))}function eI(a,c){var p=ya(a);return Zl(p,_o(c,0,p.length))}function mi(a,c,p,P){if(!xn(a))return a;c=ao(c,a);for(var A=-1,M=c.length,W=M-1,H=a;H!=null&&++A<M;){var te=Ss(c[A]),Ie=p;if(te==="__proto__"||te==="constructor"||te==="prototype")return a;if(A!=W){var De=H[te];Ie=P?P(De,te,H):r,Ie===r&&(Ie=xn(De)?De:Bs(c[A+1])?[]:{})}ui(H,te,Ie),H=H[te]}return a}var Vg=Ll?function(a,c){return Ll.set(a,c),a}:br,tI=Ol?function(a,c){return Ol(a,"toString",{configurable:!0,enumerable:!1,value:uh(c),writable:!0})}:br;function nI(a){return Zl(ya(a))}function zr(a,c,p){var P=-1,A=a.length;c<0&&(c=-c>A?0:A+c),p=p>A?A:p,p<0&&(p+=A),A=c>p?0:p-c>>>0,c>>>=0;for(var M=ge(A);++P<A;)M[P]=a[P+c];return M}function rI(a,c){var p;return so(a,function(P,A,M){return p=c(P,A,M),!p}),!!p}function zl(a,c,p){var P=0,A=a==null?P:a.length;if(typeof c=="number"&&c===c&&A<=pe){for(;P<A;){var M=P+A>>>1,W=a[M];W!==null&&!Ar(W)&&(p?W<=c:W<c)?P=M+1:A=M}return A}return Fu(a,c,br,p)}function Fu(a,c,p,P){var A=0,M=a==null?0:a.length;if(M===0)return 0;c=p(c);for(var W=c!==c,H=c===null,te=Ar(c),Ie=c===r;A<M;){var De=Nl((A+M)/2),Ae=p(a[De]),Be=Ae!==r,Ze=Ae===null,lt=Ae===Ae,vt=Ar(Ae);if(W)var ct=P||lt;else Ie?ct=lt&&(P||Be):H?ct=lt&&Be&&(P||!Ze):te?ct=lt&&Be&&!Ze&&(P||!vt):Ze||vt?ct=!1:ct=P?Ae<=c:Ae<c;ct?A=De+1:M=De}return Zn(M,Pe)}function zg(a,c){for(var p=-1,P=a.length,A=0,M=[];++p<P;){var W=a[p],H=c?c(W):W;if(!p||!os(H,te)){var te=H;M[A++]=W===0?0:W}}return M}function Hg(a){return typeof a=="number"?a:Ar(a)?U:+a}function Er(a){if(typeof a=="string")return a;if(pt(a))return fn(a,Er)+"";if(Ar(a))return Sg?Sg.call(a):"";var c=a+"";return c=="0"&&1/a==-Q?"-0":c}function oo(a,c,p){var P=-1,A=Sl,M=a.length,W=!0,H=[],te=H;if(p)W=!1,A=pu;else if(M>=o){var Ie=c?null:pI(a);if(Ie)return Pl(Ie);W=!1,A=oi,te=new ko}else te=c?[]:H;e:for(;++P<M;){var De=a[P],Ae=c?c(De):De;if(De=p||De!==0?De:0,W&&Ae===Ae){for(var Be=te.length;Be--;)if(te[Be]===Ae)continue e;c&&te.push(Ae),H.push(De)}else A(te,Ae,p)||(te!==H&&te.push(Ae),H.push(De))}return H}function Bu(a,c){return c=ao(c,a),a=yb(a,c),a==null||delete a[Ss(Hr(c))]}function Gg(a,c,p,P){return mi(a,c,p(Oo(a,c)),P)}function Hl(a,c,p,P){for(var A=a.length,M=P?A:-1;(P?M--:++M<A)&&c(a[M],M,a););return p?zr(a,P?0:M,P?M+1:A):zr(a,P?M+1:0,P?A:M)}function Yg(a,c){var p=a;return p instanceof Et&&(p=p.value()),mu(c,function(P,A){return A.func.apply(A.thisArg,to([P],A.args))},p)}function Wu(a,c,p){var P=a.length;if(P<2)return P?oo(a[0]):[];for(var A=-1,M=ge(P);++A<P;)for(var W=a[A],H=-1;++H<P;)H!=A&&(M[A]=hi(M[A]||W,a[H],c,p));return oo(Gn(M,1),c,p)}function qg(a,c,p){for(var P=-1,A=a.length,M=c.length,W={};++P<A;){var H=P<M?c[P]:r;p(W,a[P],H)}return W}function Uu(a){return Pn(a)?a:[]}function Vu(a){return typeof a=="function"?a:br}function ao(a,c){return pt(a)?a:Qu(a,c)?[a]:Sb(Bt(a))}var sI=wt;function io(a,c,p){var P=a.length;return p=p===r?P:p,!c&&p>=P?a:zr(a,c,p)}var Kg=H2||function(a){return Hn.clearTimeout(a)};function Xg(a,c){if(c)return a.slice();var p=a.length,P=gg?gg(p):new a.constructor(p);return a.copy(P),P}function zu(a){var c=new a.constructor(a.byteLength);return new Rl(c).set(new Rl(a)),c}function oI(a,c){var p=c?zu(a.buffer):a.buffer;return new a.constructor(p,a.byteOffset,a.byteLength)}function aI(a){var c=new a.constructor(a.source,_x.exec(a));return c.lastIndex=a.lastIndex,c}function iI(a){return di?en(di.call(a)):{}}function Jg(a,c){var p=c?zu(a.buffer):a.buffer;return new a.constructor(p,a.byteOffset,a.length)}function Qg(a,c){if(a!==c){var p=a!==r,P=a===null,A=a===a,M=Ar(a),W=c!==r,H=c===null,te=c===c,Ie=Ar(c);if(!H&&!Ie&&!M&&a>c||M&&W&&te&&!H&&!Ie||P&&W&&te||!p&&te||!A)return 1;if(!P&&!M&&!Ie&&a<c||Ie&&p&&A&&!P&&!M||H&&p&&A||!W&&A||!te)return-1}return 0}function lI(a,c,p){for(var P=-1,A=a.criteria,M=c.criteria,W=A.length,H=p.length;++P<W;){var te=Qg(A[P],M[P]);if(te){if(P>=H)return te;var Ie=p[P];return te*(Ie=="desc"?-1:1)}}return a.index-c.index}function Zg(a,c,p,P){for(var A=-1,M=a.length,W=p.length,H=-1,te=c.length,Ie=Ln(M-W,0),De=ge(te+Ie),Ae=!P;++H<te;)De[H]=c[H];for(;++A<W;)(Ae||A<M)&&(De[p[A]]=a[A]);for(;Ie--;)De[H++]=a[A++];return De}function eb(a,c,p,P){for(var A=-1,M=a.length,W=-1,H=p.length,te=-1,Ie=c.length,De=Ln(M-H,0),Ae=ge(De+Ie),Be=!P;++A<De;)Ae[A]=a[A];for(var Ze=A;++te<Ie;)Ae[Ze+te]=c[te];for(;++W<H;)(Be||A<M)&&(Ae[Ze+p[W]]=a[A++]);return Ae}function mr(a,c){var p=-1,P=a.length;for(c||(c=ge(P));++p<P;)c[p]=a[p];return c}function ws(a,c,p,P){var A=!p;p||(p={});for(var M=-1,W=c.length;++M<W;){var H=c[M],te=P?P(p[H],a[H],H,p,a):r;te===r&&(te=a[H]),A?Ls(p,H,te):ui(p,H,te)}return p}function cI(a,c){return ws(a,Ju(a),c)}function dI(a,c){return ws(a,fb(a),c)}function Gl(a,c){return function(p,P){var A=pt(p)?m2:kP,M=c?c():{};return A(p,a,it(P,2),M)}}function ma(a){return wt(function(c,p){var P=-1,A=p.length,M=A>1?p[A-1]:r,W=A>2?p[2]:r;for(M=a.length>3&&typeof M=="function"?(A--,M):r,W&&lr(p[0],p[1],W)&&(M=A<3?r:M,A=1),c=en(c);++P<A;){var H=p[P];H&&a(c,H,P,M)}return c})}function tb(a,c){return function(p,P){if(p==null)return p;if(!xr(p))return a(p,P);for(var A=p.length,M=c?A:-1,W=en(p);(c?M--:++M<A)&&P(W[M],M,W)!==!1;);return p}}function nb(a){return function(c,p,P){for(var A=-1,M=en(c),W=P(c),H=W.length;H--;){var te=W[a?H:++A];if(p(M[te],te,M)===!1)break}return c}}function uI(a,c,p){var P=c&v,A=xi(a);function M(){var W=this&&this!==Hn&&this instanceof M?A:a;return W.apply(P?p:this,arguments)}return M}function rb(a){return function(c){c=Bt(c);var p=la(c)?rs(c):r,P=p?p[0]:c.charAt(0),A=p?io(p,1).join(""):c.slice(1);return P[a]()+A}}function xa(a){return function(c){return mu(ty(ey(c).replace(t2,"")),a,"")}}function xi(a){return function(){var c=arguments;switch(c.length){case 0:return new a;case 1:return new a(c[0]);case 2:return new a(c[0],c[1]);case 3:return new a(c[0],c[1],c[2]);case 4:return new a(c[0],c[1],c[2],c[3]);case 5:return new a(c[0],c[1],c[2],c[3],c[4]);case 6:return new a(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new a(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var p=pa(a.prototype),P=a.apply(p,c);return xn(P)?P:p}}function hI(a,c,p){var P=xi(a);function A(){for(var M=arguments.length,W=ge(M),H=M,te=ga(A);H--;)W[H]=arguments[H];var Ie=M<3&&W[0]!==te&&W[M-1]!==te?[]:no(W,te);if(M-=Ie.length,M<p)return lb(a,c,Yl,A.placeholder,r,W,Ie,r,r,p-M);var De=this&&this!==Hn&&this instanceof A?P:a;return Dr(De,this,W)}return A}function sb(a){return function(c,p,P){var A=en(c);if(!xr(c)){var M=it(p,3);c=Bn(c),p=function(H){return M(A[H],H,A)}}var W=a(c,p,P);return W>-1?A[M?c[W]:W]:r}}function ob(a){return Fs(function(c){var p=c.length,P=p,A=Ur.prototype.thru;for(a&&c.reverse();P--;){var M=c[P];if(typeof M!="function")throw new Wr(l);if(A&&!W&&Jl(M)=="wrapper")var W=new Ur([],!0)}for(P=W?P:p;++P<p;){M=c[P];var H=Jl(M),te=H=="wrapper"?Ku(M):r;te&&Zu(te[0])&&te[1]==(O|D|E|k)&&!te[4].length&&te[9]==1?W=W[Jl(te[0])].apply(W,te[3]):W=M.length==1&&Zu(M)?W[H]():W.thru(M)}return function(){var Ie=arguments,De=Ie[0];if(W&&Ie.length==1&&pt(De))return W.plant(De).value();for(var Ae=0,Be=p?c[Ae].apply(this,Ie):De;++Ae<p;)Be=c[Ae].call(this,Be);return Be}})}function Yl(a,c,p,P,A,M,W,H,te,Ie){var De=c&O,Ae=c&v,Be=c&I,Ze=c&(D|T),lt=c&N,vt=Be?r:xi(a);function ct(){for(var Dt=arguments.length,At=ge(Dt),Rr=Dt;Rr--;)At[Rr]=arguments[Rr];if(Ze)var cr=ga(ct),kr=C2(At,cr);if(P&&(At=Zg(At,P,A,Ze)),M&&(At=eb(At,M,W,Ze)),Dt-=kr,Ze&&Dt<Ie){var In=no(At,cr);return lb(a,c,Yl,ct.placeholder,p,At,In,H,te,Ie-Dt)}var as=Ae?p:this,Vs=Be?as[a]:a;return Dt=At.length,H?At=kI(At,H):lt&&Dt>1&&At.reverse(),De&&te<Dt&&(At.length=te),this&&this!==Hn&&this instanceof ct&&(Vs=vt||xi(Vs)),Vs.apply(as,At)}return ct}function ab(a,c){return function(p,P){return BP(p,a,c(P),{})}}function ql(a,c){return function(p,P){var A;if(p===r&&P===r)return c;if(p!==r&&(A=p),P!==r){if(A===r)return P;typeof p=="string"||typeof P=="string"?(p=Er(p),P=Er(P)):(p=Hg(p),P=Hg(P)),A=a(p,P)}return A}}function Hu(a){return Fs(function(c){return c=fn(c,Tr(it())),wt(function(p){var P=this;return a(c,function(A){return Dr(A,P,p)})})})}function Kl(a,c){c=c===r?" ":Er(c);var p=c.length;if(p<2)return p?$u(c,a):c;var P=$u(c,Ml(a/ca(c)));return la(c)?io(rs(P),0,a).join(""):P.slice(0,a)}function fI(a,c,p,P){var A=c&v,M=xi(a);function W(){for(var H=-1,te=arguments.length,Ie=-1,De=P.length,Ae=ge(De+te),Be=this&&this!==Hn&&this instanceof W?M:a;++Ie<De;)Ae[Ie]=P[Ie];for(;te--;)Ae[Ie++]=arguments[++H];return Dr(Be,A?p:this,Ae)}return W}function ib(a){return function(c,p,P){return P&&typeof P!="number"&&lr(c,p,P)&&(p=P=r),c=Us(c),p===r?(p=c,c=0):p=Us(p),P=P===r?c<p?1:-1:Us(P),QP(c,p,P,a)}}function Xl(a){return function(c,p){return typeof c=="string"&&typeof p=="string"||(c=Gr(c),p=Gr(p)),a(c,p)}}function lb(a,c,p,P,A,M,W,H,te,Ie){var De=c&D,Ae=De?W:r,Be=De?r:W,Ze=De?M:r,lt=De?r:M;c|=De?E:R,c&=~(De?R:E),c&S||(c&=~(v|I));var vt=[a,c,A,Ze,Ae,lt,Be,H,te,Ie],ct=p.apply(r,vt);return Zu(a)&&vb(ct,vt),ct.placeholder=P,jb(ct,a,c)}function Gu(a){var c=Nn[a];return function(p,P){if(p=Gr(p),P=P==null?0:Zn(bt(P),292),P&&jg(p)){var A=(Bt(p)+"e").split("e"),M=c(A[0]+"e"+(+A[1]+P));return A=(Bt(M)+"e").split("e"),+(A[0]+"e"+(+A[1]-P))}return c(p)}}var pI=ha&&1/Pl(new ha([,-0]))[1]==Q?function(a){return new ha(a)}:ph;function cb(a){return function(c){var p=er(c);return p==he?wu(c):p==L?R2(c):S2(c,a(c))}}function $s(a,c,p,P,A,M,W,H){var te=c&I;if(!te&&typeof a!="function")throw new Wr(l);var Ie=P?P.length:0;if(Ie||(c&=~(E|R),P=A=r),W=W===r?W:Ln(bt(W),0),H=H===r?H:bt(H),Ie-=A?A.length:0,c&R){var De=P,Ae=A;P=A=r}var Be=te?r:Ku(a),Ze=[a,c,p,P,A,De,Ae,M,W,H];if(Be&&EI(Ze,Be),a=Ze[0],c=Ze[1],p=Ze[2],P=Ze[3],A=Ze[4],H=Ze[9]=Ze[9]===r?te?0:a.length:Ln(Ze[9]-Ie,0),!H&&c&(D|T)&&(c&=~(D|T)),!c||c==v)var lt=uI(a,c,p);else c==D||c==T?lt=hI(a,c,H):(c==E||c==(v|E))&&!A.length?lt=fI(a,c,p,P):lt=Yl.apply(r,Ze);var vt=Be?Vg:vb;return jb(vt(lt,Ze),a,c)}function db(a,c,p,P){return a===r||os(a,ua[p])&&!zt.call(P,p)?c:a}function ub(a,c,p,P,A,M){return xn(a)&&xn(c)&&(M.set(c,a),Vl(a,c,r,ub,M),M.delete(c)),a}function mI(a){return yi(a)?r:a}function hb(a,c,p,P,A,M){var W=p&b,H=a.length,te=c.length;if(H!=te&&!(W&&te>H))return!1;var Ie=M.get(a),De=M.get(c);if(Ie&&De)return Ie==c&&De==a;var Ae=-1,Be=!0,Ze=p&w?new ko:r;for(M.set(a,c),M.set(c,a);++Ae<H;){var lt=a[Ae],vt=c[Ae];if(P)var ct=W?P(vt,lt,Ae,c,a,M):P(lt,vt,Ae,a,c,M);if(ct!==r){if(ct)continue;Be=!1;break}if(Ze){if(!xu(c,function(Dt,At){if(!oi(Ze,At)&&(lt===Dt||A(lt,Dt,p,P,M)))return Ze.push(At)})){Be=!1;break}}else if(!(lt===vt||A(lt,vt,p,P,M))){Be=!1;break}}return M.delete(a),M.delete(c),Be}function xI(a,c,p,P,A,M,W){switch(p){case Fn:if(a.byteLength!=c.byteLength||a.byteOffset!=c.byteOffset)return!1;a=a.buffer,c=c.buffer;case Zt:return!(a.byteLength!=c.byteLength||!M(new Rl(a),new Rl(c)));case Oe:case ye:case ke:return os(+a,+c);case ae:return a.name==c.name&&a.message==c.message;case X:case _e:return a==c+"";case he:var H=wu;case L:var te=P&b;if(H||(H=Pl),a.size!=c.size&&!te)return!1;var Ie=W.get(a);if(Ie)return Ie==c;P|=w,W.set(a,c);var De=hb(H(a),H(c),P,A,M,W);return W.delete(a),De;case Ve:if(di)return di.call(a)==di.call(c)}return!1}function gI(a,c,p,P,A,M){var W=p&b,H=Yu(a),te=H.length,Ie=Yu(c),De=Ie.length;if(te!=De&&!W)return!1;for(var Ae=te;Ae--;){var Be=H[Ae];if(!(W?Be in c:zt.call(c,Be)))return!1}var Ze=M.get(a),lt=M.get(c);if(Ze&&lt)return Ze==c&&lt==a;var vt=!0;M.set(a,c),M.set(c,a);for(var ct=W;++Ae<te;){Be=H[Ae];var Dt=a[Be],At=c[Be];if(P)var Rr=W?P(At,Dt,Be,c,a,M):P(Dt,At,Be,a,c,M);if(!(Rr===r?Dt===At||A(Dt,At,p,P,M):Rr)){vt=!1;break}ct||(ct=Be=="constructor")}if(vt&&!ct){var cr=a.constructor,kr=c.constructor;cr!=kr&&"constructor"in a&&"constructor"in c&&!(typeof cr=="function"&&cr instanceof cr&&typeof kr=="function"&&kr instanceof kr)&&(vt=!1)}return M.delete(a),M.delete(c),vt}function Fs(a){return th(bb(a,r,Db),a+"")}function Yu(a){return kg(a,Bn,Ju)}function qu(a){return kg(a,gr,fb)}var Ku=Ll?function(a){return Ll.get(a)}:ph;function Jl(a){for(var c=a.name+"",p=fa[c],P=zt.call(fa,c)?p.length:0;P--;){var A=p[P],M=A.func;if(M==null||M==a)return A.name}return c}function ga(a){var c=zt.call(_,"placeholder")?_:a;return c.placeholder}function it(){var a=_.iteratee||hh;return a=a===hh?Mg:a,arguments.length?a(arguments[0],arguments[1]):a}function Ql(a,c){var p=a.__data__;return PI(c)?p[typeof c=="string"?"string":"hash"]:p.map}function Xu(a){for(var c=Bn(a),p=c.length;p--;){var P=c[p],A=a[P];c[p]=[P,A,xb(A)]}return c}function Mo(a,c){var p=T2(a,c);return Og(p)?p:r}function bI(a){var c=zt.call(a,Ao),p=a[Ao];try{a[Ao]=r;var P=!0}catch{}var A=El.call(a);return P&&(c?a[Ao]=p:delete a[Ao]),A}var Ju=Cu?function(a){return a==null?[]:(a=en(a),eo(Cu(a),function(c){return yg.call(a,c)}))}:mh,fb=Cu?function(a){for(var c=[];a;)to(c,Ju(a)),a=kl(a);return c}:mh,er=ir;(Pu&&er(new Pu(new ArrayBuffer(1)))!=Fn||ii&&er(new ii)!=he||Iu&&er(Iu.resolve())!=fe||ha&&er(new ha)!=L||li&&er(new li)!=Ft)&&(er=function(a){var c=ir(a),p=c==Ye?a.constructor:r,P=p?No(p):"";if(P)switch(P){case eP:return Fn;case tP:return he;case nP:return fe;case rP:return L;case sP:return Ft}return c});function yI(a,c,p){for(var P=-1,A=p.length;++P<A;){var M=p[P],W=M.size;switch(M.type){case"drop":a+=W;break;case"dropRight":c-=W;break;case"take":c=Zn(c,a+W);break;case"takeRight":a=Ln(a,c-W);break}}return{start:a,end:c}}function vI(a){var c=a.match(IC);return c?c[1].split(DC):[]}function pb(a,c,p){c=ao(c,a);for(var P=-1,A=c.length,M=!1;++P<A;){var W=Ss(c[P]);if(!(M=a!=null&&p(a,W)))break;a=a[W]}return M||++P!=A?M:(A=a==null?0:a.length,!!A&&oc(A)&&Bs(W,A)&&(pt(a)||Lo(a)))}function jI(a){var c=a.length,p=new a.constructor(c);return c&&typeof a[0]=="string"&&zt.call(a,"index")&&(p.index=a.index,p.input=a.input),p}function mb(a){return typeof a.constructor=="function"&&!gi(a)?pa(kl(a)):{}}function wI(a,c,p){var P=a.constructor;switch(c){case Zt:return zu(a);case Oe:case ye:return new P(+a);case Fn:return oI(a,p);case ut:case gt:case kt:case Yt:case An:case mn:case Qn:case vn:case Pt:return Jg(a,p);case he:return new P;case ke:case _e:return new P(a);case X:return aI(a);case L:return new P;case Ve:return iI(a)}}function SI(a,c){var p=c.length;if(!p)return a;var P=p-1;return c[P]=(p>1?"& ":"")+c[P],c=c.join(p>2?", ":" "),a.replace(PC,`{
/* [wrapped with `+c+`] */
`)}function CI(a){return pt(a)||Lo(a)||!!(vg&&a&&a[vg])}function Bs(a,c){var p=typeof a;return c=c??z,!!c&&(p=="number"||p!="symbol"&&NC.test(a))&&a>-1&&a%1==0&&a<c}function lr(a,c,p){if(!xn(p))return!1;var P=typeof c;return(P=="number"?xr(p)&&Bs(c,p.length):P=="string"&&c in p)?os(p[c],a):!1}function Qu(a,c){if(pt(a))return!1;var p=typeof a;return p=="number"||p=="symbol"||p=="boolean"||a==null||Ar(a)?!0:Ir.test(a)||!jn.test(a)||c!=null&&a in en(c)}function PI(a){var c=typeof a;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?a!=="__proto__":a===null}function Zu(a){var c=Jl(a),p=_[c];if(typeof p!="function"||!(c in Et.prototype))return!1;if(a===p)return!0;var P=Ku(p);return!!P&&a===P[0]}function II(a){return!!xg&&xg in a}var DI=Dl?Ws:xh;function gi(a){var c=a&&a.constructor,p=typeof c=="function"&&c.prototype||ua;return a===p}function xb(a){return a===a&&!xn(a)}function gb(a,c){return function(p){return p==null?!1:p[a]===c&&(c!==r||a in en(p))}}function TI(a){var c=rc(a,function(P){return p.size===h&&p.clear(),P}),p=c.cache;return c}function EI(a,c){var p=a[1],P=c[1],A=p|P,M=A<(v|I|O),W=P==O&&p==D||P==O&&p==k&&a[7].length<=c[8]||P==(O|k)&&c[7].length<=c[8]&&p==D;if(!(M||W))return a;P&v&&(a[2]=c[2],A|=p&v?0:S);var H=c[3];if(H){var te=a[3];a[3]=te?Zg(te,H,c[4]):H,a[4]=te?no(a[3],f):c[4]}return H=c[5],H&&(te=a[5],a[5]=te?eb(te,H,c[6]):H,a[6]=te?no(a[5],f):c[6]),H=c[7],H&&(a[7]=H),P&O&&(a[8]=a[8]==null?c[8]:Zn(a[8],c[8])),a[9]==null&&(a[9]=c[9]),a[0]=c[0],a[1]=A,a}function AI(a){var c=[];if(a!=null)for(var p in en(a))c.push(p);return c}function RI(a){return El.call(a)}function bb(a,c,p){return c=Ln(c===r?a.length-1:c,0),function(){for(var P=arguments,A=-1,M=Ln(P.length-c,0),W=ge(M);++A<M;)W[A]=P[c+A];A=-1;for(var H=ge(c+1);++A<c;)H[A]=P[A];return H[c]=p(W),Dr(a,this,H)}}function yb(a,c){return c.length<2?a:Oo(a,zr(c,0,-1))}function kI(a,c){for(var p=a.length,P=Zn(c.length,p),A=mr(a);P--;){var M=c[P];a[P]=Bs(M,p)?A[M]:r}return a}function eh(a,c){if(!(c==="constructor"&&typeof a[c]=="function")&&c!="__proto__")return a[c]}var vb=wb(Vg),bi=Y2||function(a,c){return Hn.setTimeout(a,c)},th=wb(tI);function jb(a,c,p){var P=c+"";return th(a,SI(P,_I(vI(P),p)))}function wb(a){var c=0,p=0;return function(){var P=J2(),A=Y-(P-p);if(p=P,A>0){if(++c>=$)return arguments[0]}else c=0;return a.apply(r,arguments)}}function Zl(a,c){var p=-1,P=a.length,A=P-1;for(c=c===r?P:c;++p<c;){var M=Lu(p,A),W=a[M];a[M]=a[p],a[p]=W}return a.length=c,a}var Sb=TI(function(a){var c=[];return a.charCodeAt(0)===46&&c.push(""),a.replace(yl,function(p,P,A,M){c.push(A?M.replace(AC,"$1"):P||p)}),c});function Ss(a){if(typeof a=="string"||Ar(a))return a;var c=a+"";return c=="0"&&1/a==-Q?"-0":c}function No(a){if(a!=null){try{return Tl.call(a)}catch{}try{return a+""}catch{}}return""}function _I(a,c){return Br(Re,function(p){var P="_."+p[0];c&p[1]&&!Sl(a,P)&&a.push(P)}),a.sort()}function Cb(a){if(a instanceof Et)return a.clone();var c=new Ur(a.__wrapped__,a.__chain__);return c.__actions__=mr(a.__actions__),c.__index__=a.__index__,c.__values__=a.__values__,c}function OI(a,c,p){(p?lr(a,c,p):c===r)?c=1:c=Ln(bt(c),0);var P=a==null?0:a.length;if(!P||c<1)return[];for(var A=0,M=0,W=ge(Ml(P/c));A<P;)W[M++]=zr(a,A,A+=c);return W}function MI(a){for(var c=-1,p=a==null?0:a.length,P=0,A=[];++c<p;){var M=a[c];M&&(A[P++]=M)}return A}function NI(){var a=arguments.length;if(!a)return[];for(var c=ge(a-1),p=arguments[0],P=a;P--;)c[P-1]=arguments[P];return to(pt(p)?mr(p):[p],Gn(c,1))}var LI=wt(function(a,c){return Pn(a)?hi(a,Gn(c,1,Pn,!0)):[]}),$I=wt(function(a,c){var p=Hr(c);return Pn(p)&&(p=r),Pn(a)?hi(a,Gn(c,1,Pn,!0),it(p,2)):[]}),FI=wt(function(a,c){var p=Hr(c);return Pn(p)&&(p=r),Pn(a)?hi(a,Gn(c,1,Pn,!0),r,p):[]});function BI(a,c,p){var P=a==null?0:a.length;return P?(c=p||c===r?1:bt(c),zr(a,c<0?0:c,P)):[]}function WI(a,c,p){var P=a==null?0:a.length;return P?(c=p||c===r?1:bt(c),c=P-c,zr(a,0,c<0?0:c)):[]}function UI(a,c){return a&&a.length?Hl(a,it(c,3),!0,!0):[]}function VI(a,c){return a&&a.length?Hl(a,it(c,3),!0):[]}function zI(a,c,p,P){var A=a==null?0:a.length;return A?(p&&typeof p!="number"&&lr(a,c,p)&&(p=0,P=A),NP(a,c,p,P)):[]}function Pb(a,c,p){var P=a==null?0:a.length;if(!P)return-1;var A=p==null?0:bt(p);return A<0&&(A=Ln(P+A,0)),Cl(a,it(c,3),A)}function Ib(a,c,p){var P=a==null?0:a.length;if(!P)return-1;var A=P-1;return p!==r&&(A=bt(p),A=p<0?Ln(P+A,0):Zn(A,P-1)),Cl(a,it(c,3),A,!0)}function Db(a){var c=a==null?0:a.length;return c?Gn(a,1):[]}function HI(a){var c=a==null?0:a.length;return c?Gn(a,Q):[]}function GI(a,c){var p=a==null?0:a.length;return p?(c=c===r?1:bt(c),Gn(a,c)):[]}function YI(a){for(var c=-1,p=a==null?0:a.length,P={};++c<p;){var A=a[c];P[A[0]]=A[1]}return P}function Tb(a){return a&&a.length?a[0]:r}function qI(a,c,p){var P=a==null?0:a.length;if(!P)return-1;var A=p==null?0:bt(p);return A<0&&(A=Ln(P+A,0)),ia(a,c,A)}function KI(a){var c=a==null?0:a.length;return c?zr(a,0,-1):[]}var XI=wt(function(a){var c=fn(a,Uu);return c.length&&c[0]===a[0]?ku(c):[]}),JI=wt(function(a){var c=Hr(a),p=fn(a,Uu);return c===Hr(p)?c=r:p.pop(),p.length&&p[0]===a[0]?ku(p,it(c,2)):[]}),QI=wt(function(a){var c=Hr(a),p=fn(a,Uu);return c=typeof c=="function"?c:r,c&&p.pop(),p.length&&p[0]===a[0]?ku(p,r,c):[]});function ZI(a,c){return a==null?"":K2.call(a,c)}function Hr(a){var c=a==null?0:a.length;return c?a[c-1]:r}function eD(a,c,p){var P=a==null?0:a.length;if(!P)return-1;var A=P;return p!==r&&(A=bt(p),A=A<0?Ln(P+A,0):Zn(A,P-1)),c===c?_2(a,c,A):Cl(a,lg,A,!0)}function tD(a,c){return a&&a.length?Fg(a,bt(c)):r}var nD=wt(Eb);function Eb(a,c){return a&&a.length&&c&&c.length?Nu(a,c):a}function rD(a,c,p){return a&&a.length&&c&&c.length?Nu(a,c,it(p,2)):a}function sD(a,c,p){return a&&a.length&&c&&c.length?Nu(a,c,r,p):a}var oD=Fs(function(a,c){var p=a==null?0:a.length,P=Tu(a,c);return Ug(a,fn(c,function(A){return Bs(A,p)?+A:A}).sort(Qg)),P});function aD(a,c){var p=[];if(!(a&&a.length))return p;var P=-1,A=[],M=a.length;for(c=it(c,3);++P<M;){var W=a[P];c(W,P,a)&&(p.push(W),A.push(P))}return Ug(a,A),p}function nh(a){return a==null?a:Z2.call(a)}function iD(a,c,p){var P=a==null?0:a.length;return P?(p&&typeof p!="number"&&lr(a,c,p)?(c=0,p=P):(c=c==null?0:bt(c),p=p===r?P:bt(p)),zr(a,c,p)):[]}function lD(a,c){return zl(a,c)}function cD(a,c,p){return Fu(a,c,it(p,2))}function dD(a,c){var p=a==null?0:a.length;if(p){var P=zl(a,c);if(P<p&&os(a[P],c))return P}return-1}function uD(a,c){return zl(a,c,!0)}function hD(a,c,p){return Fu(a,c,it(p,2),!0)}function fD(a,c){var p=a==null?0:a.length;if(p){var P=zl(a,c,!0)-1;if(os(a[P],c))return P}return-1}function pD(a){return a&&a.length?zg(a):[]}function mD(a,c){return a&&a.length?zg(a,it(c,2)):[]}function xD(a){var c=a==null?0:a.length;return c?zr(a,1,c):[]}function gD(a,c,p){return a&&a.length?(c=p||c===r?1:bt(c),zr(a,0,c<0?0:c)):[]}function bD(a,c,p){var P=a==null?0:a.length;return P?(c=p||c===r?1:bt(c),c=P-c,zr(a,c<0?0:c,P)):[]}function yD(a,c){return a&&a.length?Hl(a,it(c,3),!1,!0):[]}function vD(a,c){return a&&a.length?Hl(a,it(c,3)):[]}var jD=wt(function(a){return oo(Gn(a,1,Pn,!0))}),wD=wt(function(a){var c=Hr(a);return Pn(c)&&(c=r),oo(Gn(a,1,Pn,!0),it(c,2))}),SD=wt(function(a){var c=Hr(a);return c=typeof c=="function"?c:r,oo(Gn(a,1,Pn,!0),r,c)});function CD(a){return a&&a.length?oo(a):[]}function PD(a,c){return a&&a.length?oo(a,it(c,2)):[]}function ID(a,c){return c=typeof c=="function"?c:r,a&&a.length?oo(a,r,c):[]}function rh(a){if(!(a&&a.length))return[];var c=0;return a=eo(a,function(p){if(Pn(p))return c=Ln(p.length,c),!0}),vu(c,function(p){return fn(a,gu(p))})}function Ab(a,c){if(!(a&&a.length))return[];var p=rh(a);return c==null?p:fn(p,function(P){return Dr(c,r,P)})}var DD=wt(function(a,c){return Pn(a)?hi(a,c):[]}),TD=wt(function(a){return Wu(eo(a,Pn))}),ED=wt(function(a){var c=Hr(a);return Pn(c)&&(c=r),Wu(eo(a,Pn),it(c,2))}),AD=wt(function(a){var c=Hr(a);return c=typeof c=="function"?c:r,Wu(eo(a,Pn),r,c)}),RD=wt(rh);function kD(a,c){return qg(a||[],c||[],ui)}function _D(a,c){return qg(a||[],c||[],mi)}var OD=wt(function(a){var c=a.length,p=c>1?a[c-1]:r;return p=typeof p=="function"?(a.pop(),p):r,Ab(a,p)});function Rb(a){var c=_(a);return c.__chain__=!0,c}function MD(a,c){return c(a),a}function ec(a,c){return c(a)}var ND=Fs(function(a){var c=a.length,p=c?a[0]:0,P=this.__wrapped__,A=function(M){return Tu(M,a)};return c>1||this.__actions__.length||!(P instanceof Et)||!Bs(p)?this.thru(A):(P=P.slice(p,+p+(c?1:0)),P.__actions__.push({func:ec,args:[A],thisArg:r}),new Ur(P,this.__chain__).thru(function(M){return c&&!M.length&&M.push(r),M}))});function LD(){return Rb(this)}function $D(){return new Ur(this.value(),this.__chain__)}function FD(){this.__values__===r&&(this.__values__=Hb(this.value()));var a=this.__index__>=this.__values__.length,c=a?r:this.__values__[this.__index__++];return{done:a,value:c}}function BD(){return this}function WD(a){for(var c,p=this;p instanceof Fl;){var P=Cb(p);P.__index__=0,P.__values__=r,c?A.__wrapped__=P:c=P;var A=P;p=p.__wrapped__}return A.__wrapped__=a,c}function UD(){var a=this.__wrapped__;if(a instanceof Et){var c=a;return this.__actions__.length&&(c=new Et(this)),c=c.reverse(),c.__actions__.push({func:ec,args:[nh],thisArg:r}),new Ur(c,this.__chain__)}return this.thru(nh)}function VD(){return Yg(this.__wrapped__,this.__actions__)}var zD=Gl(function(a,c,p){zt.call(a,p)?++a[p]:Ls(a,p,1)});function HD(a,c,p){var P=pt(a)?ag:MP;return p&&lr(a,c,p)&&(c=r),P(a,it(c,3))}function GD(a,c){var p=pt(a)?eo:Ag;return p(a,it(c,3))}var YD=sb(Pb),qD=sb(Ib);function KD(a,c){return Gn(tc(a,c),1)}function XD(a,c){return Gn(tc(a,c),Q)}function JD(a,c,p){return p=p===r?1:bt(p),Gn(tc(a,c),p)}function kb(a,c){var p=pt(a)?Br:so;return p(a,it(c,3))}function _b(a,c){var p=pt(a)?x2:Eg;return p(a,it(c,3))}var QD=Gl(function(a,c,p){zt.call(a,p)?a[p].push(c):Ls(a,p,[c])});function ZD(a,c,p,P){a=xr(a)?a:ya(a),p=p&&!P?bt(p):0;var A=a.length;return p<0&&(p=Ln(A+p,0)),ac(a)?p<=A&&a.indexOf(c,p)>-1:!!A&&ia(a,c,p)>-1}var eT=wt(function(a,c,p){var P=-1,A=typeof c=="function",M=xr(a)?ge(a.length):[];return so(a,function(W){M[++P]=A?Dr(c,W,p):fi(W,c,p)}),M}),tT=Gl(function(a,c,p){Ls(a,p,c)});function tc(a,c){var p=pt(a)?fn:Ng;return p(a,it(c,3))}function nT(a,c,p,P){return a==null?[]:(pt(c)||(c=c==null?[]:[c]),p=P?r:p,pt(p)||(p=p==null?[]:[p]),Bg(a,c,p))}var rT=Gl(function(a,c,p){a[p?0:1].push(c)},function(){return[[],[]]});function sT(a,c,p){var P=pt(a)?mu:dg,A=arguments.length<3;return P(a,it(c,4),p,A,so)}function oT(a,c,p){var P=pt(a)?g2:dg,A=arguments.length<3;return P(a,it(c,4),p,A,Eg)}function aT(a,c){var p=pt(a)?eo:Ag;return p(a,sc(it(c,3)))}function iT(a){var c=pt(a)?Pg:ZP;return c(a)}function lT(a,c,p){(p?lr(a,c,p):c===r)?c=1:c=bt(c);var P=pt(a)?AP:eI;return P(a,c)}function cT(a){var c=pt(a)?RP:nI;return c(a)}function dT(a){if(a==null)return 0;if(xr(a))return ac(a)?ca(a):a.length;var c=er(a);return c==he||c==L?a.size:Ou(a).length}function uT(a,c,p){var P=pt(a)?xu:rI;return p&&lr(a,c,p)&&(c=r),P(a,it(c,3))}var hT=wt(function(a,c){if(a==null)return[];var p=c.length;return p>1&&lr(a,c[0],c[1])?c=[]:p>2&&lr(c[0],c[1],c[2])&&(c=[c[0]]),Bg(a,Gn(c,1),[])}),nc=G2||function(){return Hn.Date.now()};function fT(a,c){if(typeof c!="function")throw new Wr(l);return a=bt(a),function(){if(--a<1)return c.apply(this,arguments)}}function Ob(a,c,p){return c=p?r:c,c=a&&c==null?a.length:c,$s(a,O,r,r,r,r,c)}function Mb(a,c){var p;if(typeof c!="function")throw new Wr(l);return a=bt(a),function(){return--a>0&&(p=c.apply(this,arguments)),a<=1&&(c=r),p}}var sh=wt(function(a,c,p){var P=v;if(p.length){var A=no(p,ga(sh));P|=E}return $s(a,P,c,p,A)}),Nb=wt(function(a,c,p){var P=v|I;if(p.length){var A=no(p,ga(Nb));P|=E}return $s(c,P,a,p,A)});function Lb(a,c,p){c=p?r:c;var P=$s(a,D,r,r,r,r,r,c);return P.placeholder=Lb.placeholder,P}function $b(a,c,p){c=p?r:c;var P=$s(a,T,r,r,r,r,r,c);return P.placeholder=$b.placeholder,P}function Fb(a,c,p){var P,A,M,W,H,te,Ie=0,De=!1,Ae=!1,Be=!0;if(typeof a!="function")throw new Wr(l);c=Gr(c)||0,xn(p)&&(De=!!p.leading,Ae="maxWait"in p,M=Ae?Ln(Gr(p.maxWait)||0,c):M,Be="trailing"in p?!!p.trailing:Be);function Ze(In){var as=P,Vs=A;return P=A=r,Ie=In,W=a.apply(Vs,as),W}function lt(In){return Ie=In,H=bi(Dt,c),De?Ze(In):W}function vt(In){var as=In-te,Vs=In-Ie,sy=c-as;return Ae?Zn(sy,M-Vs):sy}function ct(In){var as=In-te,Vs=In-Ie;return te===r||as>=c||as<0||Ae&&Vs>=M}function Dt(){var In=nc();if(ct(In))return At(In);H=bi(Dt,vt(In))}function At(In){return H=r,Be&&P?Ze(In):(P=A=r,W)}function Rr(){H!==r&&Kg(H),Ie=0,P=te=A=H=r}function cr(){return H===r?W:At(nc())}function kr(){var In=nc(),as=ct(In);if(P=arguments,A=this,te=In,as){if(H===r)return lt(te);if(Ae)return Kg(H),H=bi(Dt,c),Ze(te)}return H===r&&(H=bi(Dt,c)),W}return kr.cancel=Rr,kr.flush=cr,kr}var pT=wt(function(a,c){return Tg(a,1,c)}),mT=wt(function(a,c,p){return Tg(a,Gr(c)||0,p)});function xT(a){return $s(a,N)}function rc(a,c){if(typeof a!="function"||c!=null&&typeof c!="function")throw new Wr(l);var p=function(){var P=arguments,A=c?c.apply(this,P):P[0],M=p.cache;if(M.has(A))return M.get(A);var W=a.apply(this,P);return p.cache=M.set(A,W)||M,W};return p.cache=new(rc.Cache||Ns),p}rc.Cache=Ns;function sc(a){if(typeof a!="function")throw new Wr(l);return function(){var c=arguments;switch(c.length){case 0:return!a.call(this);case 1:return!a.call(this,c[0]);case 2:return!a.call(this,c[0],c[1]);case 3:return!a.call(this,c[0],c[1],c[2])}return!a.apply(this,c)}}function gT(a){return Mb(2,a)}var bT=sI(function(a,c){c=c.length==1&&pt(c[0])?fn(c[0],Tr(it())):fn(Gn(c,1),Tr(it()));var p=c.length;return wt(function(P){for(var A=-1,M=Zn(P.length,p);++A<M;)P[A]=c[A].call(this,P[A]);return Dr(a,this,P)})}),oh=wt(function(a,c){var p=no(c,ga(oh));return $s(a,E,r,c,p)}),Bb=wt(function(a,c){var p=no(c,ga(Bb));return $s(a,R,r,c,p)}),yT=Fs(function(a,c){return $s(a,k,r,r,r,c)});function vT(a,c){if(typeof a!="function")throw new Wr(l);return c=c===r?c:bt(c),wt(a,c)}function jT(a,c){if(typeof a!="function")throw new Wr(l);return c=c==null?0:Ln(bt(c),0),wt(function(p){var P=p[c],A=io(p,0,c);return P&&to(A,P),Dr(a,this,A)})}function wT(a,c,p){var P=!0,A=!0;if(typeof a!="function")throw new Wr(l);return xn(p)&&(P="leading"in p?!!p.leading:P,A="trailing"in p?!!p.trailing:A),Fb(a,c,{leading:P,maxWait:c,trailing:A})}function ST(a){return Ob(a,1)}function CT(a,c){return oh(Vu(c),a)}function PT(){if(!arguments.length)return[];var a=arguments[0];return pt(a)?a:[a]}function IT(a){return Vr(a,y)}function DT(a,c){return c=typeof c=="function"?c:r,Vr(a,y,c)}function TT(a){return Vr(a,m|y)}function ET(a,c){return c=typeof c=="function"?c:r,Vr(a,m|y,c)}function AT(a,c){return c==null||Dg(a,c,Bn(c))}function os(a,c){return a===c||a!==a&&c!==c}var RT=Xl(Ru),kT=Xl(function(a,c){return a>=c}),Lo=_g(function(){return arguments}())?_g:function(a){return wn(a)&&zt.call(a,"callee")&&!yg.call(a,"callee")},pt=ge.isArray,_T=eg?Tr(eg):WP;function xr(a){return a!=null&&oc(a.length)&&!Ws(a)}function Pn(a){return wn(a)&&xr(a)}function OT(a){return a===!0||a===!1||wn(a)&&ir(a)==Oe}var lo=q2||xh,MT=tg?Tr(tg):UP;function NT(a){return wn(a)&&a.nodeType===1&&!yi(a)}function LT(a){if(a==null)return!0;if(xr(a)&&(pt(a)||typeof a=="string"||typeof a.splice=="function"||lo(a)||ba(a)||Lo(a)))return!a.length;var c=er(a);if(c==he||c==L)return!a.size;if(gi(a))return!Ou(a).length;for(var p in a)if(zt.call(a,p))return!1;return!0}function $T(a,c){return pi(a,c)}function FT(a,c,p){p=typeof p=="function"?p:r;var P=p?p(a,c):r;return P===r?pi(a,c,r,p):!!P}function ah(a){if(!wn(a))return!1;var c=ir(a);return c==ae||c==ie||typeof a.message=="string"&&typeof a.name=="string"&&!yi(a)}function BT(a){return typeof a=="number"&&jg(a)}function Ws(a){if(!xn(a))return!1;var c=ir(a);return c==se||c==xe||c==je||c==Se}function Wb(a){return typeof a=="number"&&a==bt(a)}function oc(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=z}function xn(a){var c=typeof a;return a!=null&&(c=="object"||c=="function")}function wn(a){return a!=null&&typeof a=="object"}var Ub=ng?Tr(ng):zP;function WT(a,c){return a===c||_u(a,c,Xu(c))}function UT(a,c,p){return p=typeof p=="function"?p:r,_u(a,c,Xu(c),p)}function VT(a){return Vb(a)&&a!=+a}function zT(a){if(DI(a))throw new ft(i);return Og(a)}function HT(a){return a===null}function GT(a){return a==null}function Vb(a){return typeof a=="number"||wn(a)&&ir(a)==ke}function yi(a){if(!wn(a)||ir(a)!=Ye)return!1;var c=kl(a);if(c===null)return!0;var p=zt.call(c,"constructor")&&c.constructor;return typeof p=="function"&&p instanceof p&&Tl.call(p)==U2}var ih=rg?Tr(rg):HP;function YT(a){return Wb(a)&&a>=-z&&a<=z}var zb=sg?Tr(sg):GP;function ac(a){return typeof a=="string"||!pt(a)&&wn(a)&&ir(a)==_e}function Ar(a){return typeof a=="symbol"||wn(a)&&ir(a)==Ve}var ba=og?Tr(og):YP;function qT(a){return a===r}function KT(a){return wn(a)&&er(a)==Ft}function XT(a){return wn(a)&&ir(a)==Rt}var JT=Xl(Mu),QT=Xl(function(a,c){return a<=c});function Hb(a){if(!a)return[];if(xr(a))return ac(a)?rs(a):mr(a);if(ai&&a[ai])return A2(a[ai]());var c=er(a),p=c==he?wu:c==L?Pl:ya;return p(a)}function Us(a){if(!a)return a===0?a:0;if(a=Gr(a),a===Q||a===-Q){var c=a<0?-1:1;return c*oe}return a===a?a:0}function bt(a){var c=Us(a),p=c%1;return c===c?p?c-p:c:0}function Gb(a){return a?_o(bt(a),0,ee):0}function Gr(a){if(typeof a=="number")return a;if(Ar(a))return U;if(xn(a)){var c=typeof a.valueOf=="function"?a.valueOf():a;a=xn(c)?c+"":c}if(typeof a!="string")return a===0?a:+a;a=ug(a);var p=_C.test(a);return p||MC.test(a)?f2(a.slice(2),p?2:8):kC.test(a)?U:+a}function Yb(a){return ws(a,gr(a))}function ZT(a){return a?_o(bt(a),-z,z):a===0?a:0}function Bt(a){return a==null?"":Er(a)}var eE=ma(function(a,c){if(gi(c)||xr(c)){ws(c,Bn(c),a);return}for(var p in c)zt.call(c,p)&&ui(a,p,c[p])}),qb=ma(function(a,c){ws(c,gr(c),a)}),ic=ma(function(a,c,p,P){ws(c,gr(c),a,P)}),tE=ma(function(a,c,p,P){ws(c,Bn(c),a,P)}),nE=Fs(Tu);function rE(a,c){var p=pa(a);return c==null?p:Ig(p,c)}var sE=wt(function(a,c){a=en(a);var p=-1,P=c.length,A=P>2?c[2]:r;for(A&&lr(c[0],c[1],A)&&(P=1);++p<P;)for(var M=c[p],W=gr(M),H=-1,te=W.length;++H<te;){var Ie=W[H],De=a[Ie];(De===r||os(De,ua[Ie])&&!zt.call(a,Ie))&&(a[Ie]=M[Ie])}return a}),oE=wt(function(a){return a.push(r,ub),Dr(Kb,r,a)});function aE(a,c){return ig(a,it(c,3),js)}function iE(a,c){return ig(a,it(c,3),Au)}function lE(a,c){return a==null?a:Eu(a,it(c,3),gr)}function cE(a,c){return a==null?a:Rg(a,it(c,3),gr)}function dE(a,c){return a&&js(a,it(c,3))}function uE(a,c){return a&&Au(a,it(c,3))}function hE(a){return a==null?[]:Ul(a,Bn(a))}function fE(a){return a==null?[]:Ul(a,gr(a))}function lh(a,c,p){var P=a==null?r:Oo(a,c);return P===r?p:P}function pE(a,c){return a!=null&&pb(a,c,LP)}function ch(a,c){return a!=null&&pb(a,c,$P)}var mE=ab(function(a,c,p){c!=null&&typeof c.toString!="function"&&(c=El.call(c)),a[c]=p},uh(br)),xE=ab(function(a,c,p){c!=null&&typeof c.toString!="function"&&(c=El.call(c)),zt.call(a,c)?a[c].push(p):a[c]=[p]},it),gE=wt(fi);function Bn(a){return xr(a)?Cg(a):Ou(a)}function gr(a){return xr(a)?Cg(a,!0):qP(a)}function bE(a,c){var p={};return c=it(c,3),js(a,function(P,A,M){Ls(p,c(P,A,M),P)}),p}function yE(a,c){var p={};return c=it(c,3),js(a,function(P,A,M){Ls(p,A,c(P,A,M))}),p}var vE=ma(function(a,c,p){Vl(a,c,p)}),Kb=ma(function(a,c,p,P){Vl(a,c,p,P)}),jE=Fs(function(a,c){var p={};if(a==null)return p;var P=!1;c=fn(c,function(M){return M=ao(M,a),P||(P=M.length>1),M}),ws(a,qu(a),p),P&&(p=Vr(p,m|g|y,mI));for(var A=c.length;A--;)Bu(p,c[A]);return p});function wE(a,c){return Xb(a,sc(it(c)))}var SE=Fs(function(a,c){return a==null?{}:XP(a,c)});function Xb(a,c){if(a==null)return{};var p=fn(qu(a),function(P){return[P]});return c=it(c),Wg(a,p,function(P,A){return c(P,A[0])})}function CE(a,c,p){c=ao(c,a);var P=-1,A=c.length;for(A||(A=1,a=r);++P<A;){var M=a==null?r:a[Ss(c[P])];M===r&&(P=A,M=p),a=Ws(M)?M.call(a):M}return a}function PE(a,c,p){return a==null?a:mi(a,c,p)}function IE(a,c,p,P){return P=typeof P=="function"?P:r,a==null?a:mi(a,c,p,P)}var Jb=cb(Bn),Qb=cb(gr);function DE(a,c,p){var P=pt(a),A=P||lo(a)||ba(a);if(c=it(c,4),p==null){var M=a&&a.constructor;A?p=P?new M:[]:xn(a)?p=Ws(M)?pa(kl(a)):{}:p={}}return(A?Br:js)(a,function(W,H,te){return c(p,W,H,te)}),p}function TE(a,c){return a==null?!0:Bu(a,c)}function EE(a,c,p){return a==null?a:Gg(a,c,Vu(p))}function AE(a,c,p,P){return P=typeof P=="function"?P:r,a==null?a:Gg(a,c,Vu(p),P)}function ya(a){return a==null?[]:ju(a,Bn(a))}function RE(a){return a==null?[]:ju(a,gr(a))}function kE(a,c,p){return p===r&&(p=c,c=r),p!==r&&(p=Gr(p),p=p===p?p:0),c!==r&&(c=Gr(c),c=c===c?c:0),_o(Gr(a),c,p)}function _E(a,c,p){return c=Us(c),p===r?(p=c,c=0):p=Us(p),a=Gr(a),FP(a,c,p)}function OE(a,c,p){if(p&&typeof p!="boolean"&&lr(a,c,p)&&(c=p=r),p===r&&(typeof c=="boolean"?(p=c,c=r):typeof a=="boolean"&&(p=a,a=r)),a===r&&c===r?(a=0,c=1):(a=Us(a),c===r?(c=a,a=0):c=Us(c)),a>c){var P=a;a=c,c=P}if(p||a%1||c%1){var A=wg();return Zn(a+A*(c-a+h2("1e-"+((A+"").length-1))),c)}return Lu(a,c)}var ME=xa(function(a,c,p){return c=c.toLowerCase(),a+(p?Zb(c):c)});function Zb(a){return dh(Bt(a).toLowerCase())}function ey(a){return a=Bt(a),a&&a.replace(LC,P2).replace(n2,"")}function NE(a,c,p){a=Bt(a),c=Er(c);var P=a.length;p=p===r?P:_o(bt(p),0,P);var A=p;return p-=c.length,p>=0&&a.slice(p,A)==c}function LE(a){return a=Bt(a),a&&nu.test(a)?a.replace(ar,I2):a}function $E(a){return a=Bt(a),a&&SC.test(a)?a.replace(ou,"\\$&"):a}var FE=xa(function(a,c,p){return a+(p?"-":"")+c.toLowerCase()}),BE=xa(function(a,c,p){return a+(p?" ":"")+c.toLowerCase()}),WE=rb("toLowerCase");function UE(a,c,p){a=Bt(a),c=bt(c);var P=c?ca(a):0;if(!c||P>=c)return a;var A=(c-P)/2;return Kl(Nl(A),p)+a+Kl(Ml(A),p)}function VE(a,c,p){a=Bt(a),c=bt(c);var P=c?ca(a):0;return c&&P<c?a+Kl(c-P,p):a}function zE(a,c,p){a=Bt(a),c=bt(c);var P=c?ca(a):0;return c&&P<c?Kl(c-P,p)+a:a}function HE(a,c,p){return p||c==null?c=0:c&&(c=+c),Q2(Bt(a).replace(au,""),c||0)}function GE(a,c,p){return(p?lr(a,c,p):c===r)?c=1:c=bt(c),$u(Bt(a),c)}function YE(){var a=arguments,c=Bt(a[0]);return a.length<3?c:c.replace(a[1],a[2])}var qE=xa(function(a,c,p){return a+(p?"_":"")+c.toLowerCase()});function KE(a,c,p){return p&&typeof p!="number"&&lr(a,c,p)&&(c=p=r),p=p===r?ee:p>>>0,p?(a=Bt(a),a&&(typeof c=="string"||c!=null&&!ih(c))&&(c=Er(c),!c&&la(a))?io(rs(a),0,p):a.split(c,p)):[]}var XE=xa(function(a,c,p){return a+(p?" ":"")+dh(c)});function JE(a,c,p){return a=Bt(a),p=p==null?0:_o(bt(p),0,a.length),c=Er(c),a.slice(p,p+c.length)==c}function QE(a,c,p){var P=_.templateSettings;p&&lr(a,c,p)&&(c=r),a=Bt(a),c=ic({},c,P,db);var A=ic({},c.imports,P.imports,db),M=Bn(A),W=ju(A,M),H,te,Ie=0,De=c.interpolate||vl,Ae="__p += '",Be=Su((c.escape||vl).source+"|"+De.source+"|"+(De===su?RC:vl).source+"|"+(c.evaluate||vl).source+"|$","g"),Ze="//# sourceURL="+(zt.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++i2+"]")+`
`;a.replace(Be,function(ct,Dt,At,Rr,cr,kr){return At||(At=Rr),Ae+=a.slice(Ie,kr).replace($C,D2),Dt&&(H=!0,Ae+=`' +
__e(`+Dt+`) +
'`),cr&&(te=!0,Ae+=`';
`+cr+`;
__p += '`),At&&(Ae+=`' +
((__t = (`+At+`)) == null ? '' : __t) +
'`),Ie=kr+ct.length,ct}),Ae+=`';
`;var lt=zt.call(c,"variable")&&c.variable;if(!lt)Ae=`with (obj) {
`+Ae+`
}
`;else if(EC.test(lt))throw new ft(d);Ae=(te?Ae.replace(Rn,""):Ae).replace(zn,"$1").replace(Pr,"$1;"),Ae="function("+(lt||"obj")+`) {
`+(lt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(H?", __e = _.escape":"")+(te?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ae+`return __p
}`;var vt=ny(function(){return Nt(M,Ze+"return "+Ae).apply(r,W)});if(vt.source=Ae,ah(vt))throw vt;return vt}function ZE(a){return Bt(a).toLowerCase()}function eA(a){return Bt(a).toUpperCase()}function tA(a,c,p){if(a=Bt(a),a&&(p||c===r))return ug(a);if(!a||!(c=Er(c)))return a;var P=rs(a),A=rs(c),M=hg(P,A),W=fg(P,A)+1;return io(P,M,W).join("")}function nA(a,c,p){if(a=Bt(a),a&&(p||c===r))return a.slice(0,mg(a)+1);if(!a||!(c=Er(c)))return a;var P=rs(a),A=fg(P,rs(c))+1;return io(P,0,A).join("")}function rA(a,c,p){if(a=Bt(a),a&&(p||c===r))return a.replace(au,"");if(!a||!(c=Er(c)))return a;var P=rs(a),A=hg(P,rs(c));return io(P,A).join("")}function sA(a,c){var p=B,P=K;if(xn(c)){var A="separator"in c?c.separator:A;p="length"in c?bt(c.length):p,P="omission"in c?Er(c.omission):P}a=Bt(a);var M=a.length;if(la(a)){var W=rs(a);M=W.length}if(p>=M)return a;var H=p-ca(P);if(H<1)return P;var te=W?io(W,0,H).join(""):a.slice(0,H);if(A===r)return te+P;if(W&&(H+=te.length-H),ih(A)){if(a.slice(H).search(A)){var Ie,De=te;for(A.global||(A=Su(A.source,Bt(_x.exec(A))+"g")),A.lastIndex=0;Ie=A.exec(De);)var Ae=Ie.index;te=te.slice(0,Ae===r?H:Ae)}}else if(a.indexOf(Er(A),H)!=H){var Be=te.lastIndexOf(A);Be>-1&&(te=te.slice(0,Be))}return te+P}function oA(a){return a=Bt(a),a&&tu.test(a)?a.replace(To,O2):a}var aA=xa(function(a,c,p){return a+(p?" ":"")+c.toUpperCase()}),dh=rb("toUpperCase");function ty(a,c,p){return a=Bt(a),c=p?r:c,c===r?E2(a)?L2(a):v2(a):a.match(c)||[]}var ny=wt(function(a,c){try{return Dr(a,r,c)}catch(p){return ah(p)?p:new ft(p)}}),iA=Fs(function(a,c){return Br(c,function(p){p=Ss(p),Ls(a,p,sh(a[p],a))}),a});function lA(a){var c=a==null?0:a.length,p=it();return a=c?fn(a,function(P){if(typeof P[1]!="function")throw new Wr(l);return[p(P[0]),P[1]]}):[],wt(function(P){for(var A=-1;++A<c;){var M=a[A];if(Dr(M[0],this,P))return Dr(M[1],this,P)}})}function cA(a){return OP(Vr(a,m))}function uh(a){return function(){return a}}function dA(a,c){return a==null||a!==a?c:a}var uA=ob(),hA=ob(!0);function br(a){return a}function hh(a){return Mg(typeof a=="function"?a:Vr(a,m))}function fA(a){return Lg(Vr(a,m))}function pA(a,c){return $g(a,Vr(c,m))}var mA=wt(function(a,c){return function(p){return fi(p,a,c)}}),xA=wt(function(a,c){return function(p){return fi(a,p,c)}});function fh(a,c,p){var P=Bn(c),A=Ul(c,P);p==null&&!(xn(c)&&(A.length||!P.length))&&(p=c,c=a,a=this,A=Ul(c,Bn(c)));var M=!(xn(p)&&"chain"in p)||!!p.chain,W=Ws(a);return Br(A,function(H){var te=c[H];a[H]=te,W&&(a.prototype[H]=function(){var Ie=this.__chain__;if(M||Ie){var De=a(this.__wrapped__),Ae=De.__actions__=mr(this.__actions__);return Ae.push({func:te,args:arguments,thisArg:a}),De.__chain__=Ie,De}return te.apply(a,to([this.value()],arguments))})}),a}function gA(){return Hn._===this&&(Hn._=V2),this}function ph(){}function bA(a){return a=bt(a),wt(function(c){return Fg(c,a)})}var yA=Hu(fn),vA=Hu(ag),jA=Hu(xu);function ry(a){return Qu(a)?gu(Ss(a)):JP(a)}function wA(a){return function(c){return a==null?r:Oo(a,c)}}var SA=ib(),CA=ib(!0);function mh(){return[]}function xh(){return!1}function PA(){return{}}function IA(){return""}function DA(){return!0}function TA(a,c){if(a=bt(a),a<1||a>z)return[];var p=ee,P=Zn(a,ee);c=it(c),a-=ee;for(var A=vu(P,c);++p<a;)c(p);return A}function EA(a){return pt(a)?fn(a,Ss):Ar(a)?[a]:mr(Sb(Bt(a)))}function AA(a){var c=++W2;return Bt(a)+c}var RA=ql(function(a,c){return a+c},0),kA=Gu("ceil"),_A=ql(function(a,c){return a/c},1),OA=Gu("floor");function MA(a){return a&&a.length?Wl(a,br,Ru):r}function NA(a,c){return a&&a.length?Wl(a,it(c,2),Ru):r}function LA(a){return cg(a,br)}function $A(a,c){return cg(a,it(c,2))}function FA(a){return a&&a.length?Wl(a,br,Mu):r}function BA(a,c){return a&&a.length?Wl(a,it(c,2),Mu):r}var WA=ql(function(a,c){return a*c},1),UA=Gu("round"),VA=ql(function(a,c){return a-c},0);function zA(a){return a&&a.length?yu(a,br):0}function HA(a,c){return a&&a.length?yu(a,it(c,2)):0}return _.after=fT,_.ary=Ob,_.assign=eE,_.assignIn=qb,_.assignInWith=ic,_.assignWith=tE,_.at=nE,_.before=Mb,_.bind=sh,_.bindAll=iA,_.bindKey=Nb,_.castArray=PT,_.chain=Rb,_.chunk=OI,_.compact=MI,_.concat=NI,_.cond=lA,_.conforms=cA,_.constant=uh,_.countBy=zD,_.create=rE,_.curry=Lb,_.curryRight=$b,_.debounce=Fb,_.defaults=sE,_.defaultsDeep=oE,_.defer=pT,_.delay=mT,_.difference=LI,_.differenceBy=$I,_.differenceWith=FI,_.drop=BI,_.dropRight=WI,_.dropRightWhile=UI,_.dropWhile=VI,_.fill=zI,_.filter=GD,_.flatMap=KD,_.flatMapDeep=XD,_.flatMapDepth=JD,_.flatten=Db,_.flattenDeep=HI,_.flattenDepth=GI,_.flip=xT,_.flow=uA,_.flowRight=hA,_.fromPairs=YI,_.functions=hE,_.functionsIn=fE,_.groupBy=QD,_.initial=KI,_.intersection=XI,_.intersectionBy=JI,_.intersectionWith=QI,_.invert=mE,_.invertBy=xE,_.invokeMap=eT,_.iteratee=hh,_.keyBy=tT,_.keys=Bn,_.keysIn=gr,_.map=tc,_.mapKeys=bE,_.mapValues=yE,_.matches=fA,_.matchesProperty=pA,_.memoize=rc,_.merge=vE,_.mergeWith=Kb,_.method=mA,_.methodOf=xA,_.mixin=fh,_.negate=sc,_.nthArg=bA,_.omit=jE,_.omitBy=wE,_.once=gT,_.orderBy=nT,_.over=yA,_.overArgs=bT,_.overEvery=vA,_.overSome=jA,_.partial=oh,_.partialRight=Bb,_.partition=rT,_.pick=SE,_.pickBy=Xb,_.property=ry,_.propertyOf=wA,_.pull=nD,_.pullAll=Eb,_.pullAllBy=rD,_.pullAllWith=sD,_.pullAt=oD,_.range=SA,_.rangeRight=CA,_.rearg=yT,_.reject=aT,_.remove=aD,_.rest=vT,_.reverse=nh,_.sampleSize=lT,_.set=PE,_.setWith=IE,_.shuffle=cT,_.slice=iD,_.sortBy=hT,_.sortedUniq=pD,_.sortedUniqBy=mD,_.split=KE,_.spread=jT,_.tail=xD,_.take=gD,_.takeRight=bD,_.takeRightWhile=yD,_.takeWhile=vD,_.tap=MD,_.throttle=wT,_.thru=ec,_.toArray=Hb,_.toPairs=Jb,_.toPairsIn=Qb,_.toPath=EA,_.toPlainObject=Yb,_.transform=DE,_.unary=ST,_.union=jD,_.unionBy=wD,_.unionWith=SD,_.uniq=CD,_.uniqBy=PD,_.uniqWith=ID,_.unset=TE,_.unzip=rh,_.unzipWith=Ab,_.update=EE,_.updateWith=AE,_.values=ya,_.valuesIn=RE,_.without=DD,_.words=ty,_.wrap=CT,_.xor=TD,_.xorBy=ED,_.xorWith=AD,_.zip=RD,_.zipObject=kD,_.zipObjectDeep=_D,_.zipWith=OD,_.entries=Jb,_.entriesIn=Qb,_.extend=qb,_.extendWith=ic,fh(_,_),_.add=RA,_.attempt=ny,_.camelCase=ME,_.capitalize=Zb,_.ceil=kA,_.clamp=kE,_.clone=IT,_.cloneDeep=TT,_.cloneDeepWith=ET,_.cloneWith=DT,_.conformsTo=AT,_.deburr=ey,_.defaultTo=dA,_.divide=_A,_.endsWith=NE,_.eq=os,_.escape=LE,_.escapeRegExp=$E,_.every=HD,_.find=YD,_.findIndex=Pb,_.findKey=aE,_.findLast=qD,_.findLastIndex=Ib,_.findLastKey=iE,_.floor=OA,_.forEach=kb,_.forEachRight=_b,_.forIn=lE,_.forInRight=cE,_.forOwn=dE,_.forOwnRight=uE,_.get=lh,_.gt=RT,_.gte=kT,_.has=pE,_.hasIn=ch,_.head=Tb,_.identity=br,_.includes=ZD,_.indexOf=qI,_.inRange=_E,_.invoke=gE,_.isArguments=Lo,_.isArray=pt,_.isArrayBuffer=_T,_.isArrayLike=xr,_.isArrayLikeObject=Pn,_.isBoolean=OT,_.isBuffer=lo,_.isDate=MT,_.isElement=NT,_.isEmpty=LT,_.isEqual=$T,_.isEqualWith=FT,_.isError=ah,_.isFinite=BT,_.isFunction=Ws,_.isInteger=Wb,_.isLength=oc,_.isMap=Ub,_.isMatch=WT,_.isMatchWith=UT,_.isNaN=VT,_.isNative=zT,_.isNil=GT,_.isNull=HT,_.isNumber=Vb,_.isObject=xn,_.isObjectLike=wn,_.isPlainObject=yi,_.isRegExp=ih,_.isSafeInteger=YT,_.isSet=zb,_.isString=ac,_.isSymbol=Ar,_.isTypedArray=ba,_.isUndefined=qT,_.isWeakMap=KT,_.isWeakSet=XT,_.join=ZI,_.kebabCase=FE,_.last=Hr,_.lastIndexOf=eD,_.lowerCase=BE,_.lowerFirst=WE,_.lt=JT,_.lte=QT,_.max=MA,_.maxBy=NA,_.mean=LA,_.meanBy=$A,_.min=FA,_.minBy=BA,_.stubArray=mh,_.stubFalse=xh,_.stubObject=PA,_.stubString=IA,_.stubTrue=DA,_.multiply=WA,_.nth=tD,_.noConflict=gA,_.noop=ph,_.now=nc,_.pad=UE,_.padEnd=VE,_.padStart=zE,_.parseInt=HE,_.random=OE,_.reduce=sT,_.reduceRight=oT,_.repeat=GE,_.replace=YE,_.result=CE,_.round=UA,_.runInContext=Z,_.sample=iT,_.size=dT,_.snakeCase=qE,_.some=uT,_.sortedIndex=lD,_.sortedIndexBy=cD,_.sortedIndexOf=dD,_.sortedLastIndex=uD,_.sortedLastIndexBy=hD,_.sortedLastIndexOf=fD,_.startCase=XE,_.startsWith=JE,_.subtract=VA,_.sum=zA,_.sumBy=HA,_.template=QE,_.times=TA,_.toFinite=Us,_.toInteger=bt,_.toLength=Gb,_.toLower=ZE,_.toNumber=Gr,_.toSafeInteger=ZT,_.toString=Bt,_.toUpper=eA,_.trim=tA,_.trimEnd=nA,_.trimStart=rA,_.truncate=sA,_.unescape=oA,_.uniqueId=AA,_.upperCase=aA,_.upperFirst=dh,_.each=kb,_.eachRight=_b,_.first=Tb,fh(_,function(){var a={};return js(_,function(c,p){zt.call(_.prototype,p)||(a[p]=c)}),a}(),{chain:!1}),_.VERSION=s,Br(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){_[a].placeholder=_}),Br(["drop","take"],function(a,c){Et.prototype[a]=function(p){p=p===r?1:Ln(bt(p),0);var P=this.__filtered__&&!c?new Et(this):this.clone();return P.__filtered__?P.__takeCount__=Zn(p,P.__takeCount__):P.__views__.push({size:Zn(p,ee),type:a+(P.__dir__<0?"Right":"")}),P},Et.prototype[a+"Right"]=function(p){return this.reverse()[a](p).reverse()}}),Br(["filter","map","takeWhile"],function(a,c){var p=c+1,P=p==J||p==q;Et.prototype[a]=function(A){var M=this.clone();return M.__iteratees__.push({iteratee:it(A,3),type:p}),M.__filtered__=M.__filtered__||P,M}}),Br(["head","last"],function(a,c){var p="take"+(c?"Right":"");Et.prototype[a]=function(){return this[p](1).value()[0]}}),Br(["initial","tail"],function(a,c){var p="drop"+(c?"":"Right");Et.prototype[a]=function(){return this.__filtered__?new Et(this):this[p](1)}}),Et.prototype.compact=function(){return this.filter(br)},Et.prototype.find=function(a){return this.filter(a).head()},Et.prototype.findLast=function(a){return this.reverse().find(a)},Et.prototype.invokeMap=wt(function(a,c){return typeof a=="function"?new Et(this):this.map(function(p){return fi(p,a,c)})}),Et.prototype.reject=function(a){return this.filter(sc(it(a)))},Et.prototype.slice=function(a,c){a=bt(a);var p=this;return p.__filtered__&&(a>0||c<0)?new Et(p):(a<0?p=p.takeRight(-a):a&&(p=p.drop(a)),c!==r&&(c=bt(c),p=c<0?p.dropRight(-c):p.take(c-a)),p)},Et.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Et.prototype.toArray=function(){return this.take(ee)},js(Et.prototype,function(a,c){var p=/^(?:filter|find|map|reject)|While$/.test(c),P=/^(?:head|last)$/.test(c),A=_[P?"take"+(c=="last"?"Right":""):c],M=P||/^find/.test(c);A&&(_.prototype[c]=function(){var W=this.__wrapped__,H=P?[1]:arguments,te=W instanceof Et,Ie=H[0],De=te||pt(W),Ae=function(Dt){var At=A.apply(_,to([Dt],H));return P&&Be?At[0]:At};De&&p&&typeof Ie=="function"&&Ie.length!=1&&(te=De=!1);var Be=this.__chain__,Ze=!!this.__actions__.length,lt=M&&!Be,vt=te&&!Ze;if(!M&&De){W=vt?W:new Et(this);var ct=a.apply(W,H);return ct.__actions__.push({func:ec,args:[Ae],thisArg:r}),new Ur(ct,Be)}return lt&&vt?a.apply(this,H):(ct=this.thru(Ae),lt?P?ct.value()[0]:ct.value():ct)})}),Br(["pop","push","shift","sort","splice","unshift"],function(a){var c=Il[a],p=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",P=/^(?:pop|shift)$/.test(a);_.prototype[a]=function(){var A=arguments;if(P&&!this.__chain__){var M=this.value();return c.apply(pt(M)?M:[],A)}return this[p](function(W){return c.apply(pt(W)?W:[],A)})}}),js(Et.prototype,function(a,c){var p=_[c];if(p){var P=p.name+"";zt.call(fa,P)||(fa[P]=[]),fa[P].push({name:c,func:p})}}),fa[Yl(r,I).name]=[{name:"wrapper",func:r}],Et.prototype.clone=oP,Et.prototype.reverse=aP,Et.prototype.value=iP,_.prototype.at=ND,_.prototype.chain=LD,_.prototype.commit=$D,_.prototype.next=FD,_.prototype.plant=WD,_.prototype.reverse=UD,_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=VD,_.prototype.first=_.prototype.head,ai&&(_.prototype[ai]=BD),_},da=$2();Eo?((Eo.exports=da)._=da,hu._=da):Hn._=da}).call(vi)})(Gc,Gc.exports);var xL=Gc.exports;const ja={ALL:0,NEWS:1,CHANNELS:2,USERS:3,POLLS:4,TAGS:5},Ah={RELEVANCE:0,DATE:1,POPULARITY:2},Uj={all:ja.ALL,news:ja.NEWS,channels:ja.CHANNELS,users:ja.USERS,polls:ja.POLLS,tags:ja.TAGS},Vj={relevance:Ah.RELEVANCE,date:Ah.DATE,popularity:Ah.POPULARITY},gL=()=>{const[e,n]=x.useState(null),[r,s]=x.useState(!1),{api:o}=Ke(),{execute:i}=tt(),[l,d]=x.useState(null),u=x.useCallback(async(g,y={},b=1,w=20)=>{if(!g.trim()){d("Search query cannot be empty");return}s(!0),d(null);try{const v={};Object.entries(y).forEach(([D,T])=>{if(T!=null&&T!=="")if(D==="type"&&typeof T=="string"){const E=Uj[T];E!==void 0&&(v.type=E)}else if(D==="sortBy"&&typeof T=="string"){const E=Vj[T];E!==void 0&&(v.sortBy=E)}else v[D]=T});const I={page:b,limit:w},S=await i(()=>o==null?void 0:o.app.search.search(g,v,I),{showSuccessMessage:!1});n(S)}catch(v){console.error("Search error:",v),d(v.message||"Search failed")}finally{s(!1)}},[i]),h=x.useCallback(async(g,y)=>{if(!g.trim()||g.length<2)return[];try{return(await i(()=>o==null?void 0:o.app.search.getSuggestions(g,y),{showSuccessMessage:!1})).suggestions||[]}catch(b){return console.error("Suggestions error:",b),[]}},[i]),f=x.useCallback(async(g,y)=>{if(!g.trim()||g.length<2)return[];if(!(o!=null&&o.app.search))return console.error("Search API not available"),[];try{const b=await i(()=>o.app.search.getStructuredSuggestions(g,y),{showSuccessMessage:!1});return(b==null?void 0:b.suggestions)||[]}catch(b){return console.error("Structured suggestions error:",b),[]}},[i,o==null?void 0:o.app.search]),m=x.useCallback(()=>{n(null),d(null)},[]);return{searchResults:e,loading:r,error:l,performSearch:u,getSuggestions:h,getStructuredSuggestions:f,clearResults:m}},bL=Me(C,{shouldForwardProp:e=>e!=="isFocused"})(({theme:e,isFocused:n})=>({position:"relative",width:n?"600px":"480px",maxWidth:n?"600px":"480px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",[e.breakpoints.down("lg")]:{width:n?"560px":"460px",maxWidth:n?"560px":"460px"},[e.breakpoints.down("md")]:{width:n?"400px":"360px",maxWidth:n?"400px":"360px"},[e.breakpoints.down("sm")]:{width:n?"320px":"280px",maxWidth:n?"320px":"280px"}})),yL=Me(ot)(({theme:e})=>({borderRadius:e.spacing(3),backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.04)",border:"none",transition:"all 0.2s ease-in-out","&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.08)"},"&:focus-within":{backgroundColor:e.palette.background.paper,boxShadow:"0 4px 20px rgba(0,0,0,0.15)",border:`1px solid ${e.palette.primary.main}`}})),vL=Me(C)(({theme:e})=>({display:"flex",alignItems:"center",padding:e.spacing(1,2),cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover}})),uf=({onSearch:e,onSuggestionSelect:n,placeholder:r="Search articles, channels, or journalists...",className:s,fullWidth:o=!1})=>{const[i,l]=x.useState(""),[d,u]=x.useState([]),[h,f]=x.useState(!1),[m,g]=x.useState(!1),[y,b]=x.useState(!1),{getStructuredSuggestions:w}=gL(),v=Ct(),I=x.useCallback(xL.debounce(async O=>{if(O.length<2){u([]);return}f(!0);try{const k=await w(O);u(k)}catch(k){console.error("Error fetching suggestions:",k),u([])}finally{f(!1)}},300),[]);x.useEffect(()=>{I(i)},[i,I]);const S=()=>{i.trim()&&(g(!1),e?e(i):v(`${be.APP_SEARCH}?q=${encodeURIComponent(i.trim())}`))},D=O=>{if(g(!1),l(""),n){const k={id:O.id,text:O.text,type:O.type,metadata:O.metadata};n(k);return}switch(O.type){case"news":v(be.APP_NEWS_VIEW.replace(":id",O.id));break;case"channel":v(be.APP_CHANNEL_VIEW.replace(":channelId",O.id));break;case"poll":v(be.APP_POLL_VIEW.replace(":id",O.id));break;case"user":v(`${be.APP_SEARCH}?q=${encodeURIComponent(O.text)}&type=users`);break;case"tag":v(`${be.APP_SEARCH}?q=${encodeURIComponent(O.text)}&type=tags`);break;default:v(`${be.APP_SEARCH}?q=${encodeURIComponent(O.text)}`);break}},T=O=>{O.key==="Enter"&&S()},E=O=>{switch(O){case"news":return t.jsx(Yo,{fontSize:"small",color:"primary"});case"channel":return t.jsx(Lf,{fontSize:"small",color:"secondary"});case"user":return t.jsx(Nf,{fontSize:"small",color:"action"});default:return t.jsx(ps,{fontSize:"small",color:"disabled"})}},R=(O,k)=>x.createElement(vL,{...O,key:k.id},t.jsx(C,{sx:{mr:2},children:E(k.type)}),t.jsxs(C,{sx:{flexGrow:1},children:[t.jsx(j,{variant:"body2",fontWeight:"medium",children:k.text}),k.metadata&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:[k.metadata.channelName&&`in ${k.metadata.channelName}`,k.metadata.handle&&`@${k.metadata.handle}`,k.metadata.voteCount&&`${k.metadata.voteCount} votes`,k.metadata.usageCount&&`${k.metadata.usageCount} uses`,k.metadata.publishedAt&&`${new Date(k.metadata.publishedAt).toLocaleDateString()}`]})]}),t.jsx(j,{variant:"caption",color:"text.secondary",sx:{ml:1},children:k.type}));return t.jsx(bL,{className:s,isFocused:y,sx:{width:o?"100%":void 0},children:t.jsx(yL,{elevation:0,children:t.jsx(XA,{freeSolo:!0,options:d,loading:h,inputValue:i,onInputChange:(O,k)=>{l(k),g(k.length>=2)},getOptionLabel:O=>typeof O=="string"?O:O.text,filterOptions:O=>O,isOptionEqualToValue:(O,k)=>{if(typeof O=="string"||typeof k=="string"){const N=typeof O=="string"?O:O.text,B=typeof k=="string"?k:k.text;return N===B}return O.id===k.id},renderOption:(O,k)=>R(O,k),noOptionsText:h?"Loading...":"No suggestions found",open:m,onOpen:()=>g(!0),onClose:()=>{g(!1),b(!1)},ListboxProps:{style:{maxHeight:400}},renderInput:O=>t.jsx(nt,{...O,variant:"outlined",placeholder:y?r:"Search...",onKeyPress:T,onFocus:()=>b(!0),onBlur:()=>{setTimeout(()=>{m||b(!1)},200)},size:"medium",InputProps:{...O.InputProps,startAdornment:t.jsx(es,{position:"start",children:t.jsx(Ne,{onClick:S,size:"small",sx:{color:"inherit"},children:t.jsx(al,{})})}),endAdornment:t.jsxs(t.Fragment,{children:[h&&t.jsx(j,{variant:"caption",sx:{mr:1},children:"Loading..."}),i&&t.jsx(es,{position:"end",children:t.jsx(Ne,{onClick:()=>l(""),size:"small",sx:{color:"inherit"},children:t.jsx(JA,{})})})]}),sx:{"& .MuiOutlinedInput-notchedOutline":{border:"none"},"&:hover .MuiOutlinedInput-notchedOutline":{border:"none"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiInputBase-input":{padding:"12px 8px",fontSize:"1rem"},"& .MuiInputBase-input::placeholder":{color:"inherit",opacity:.7}}}}),PaperComponent:({children:O,...k})=>t.jsx(ot,{...k,sx:{mt:.5,boxShadow:3,maxHeight:400,overflow:"auto",position:"absolute",width:"100%",zIndex:1300,borderRadius:3},children:O}),onChange:(O,k)=>{k&&typeof k=="object"&&D(k)}})})})},jL="journalist-material-client",wL="1.1.0",SL="module",CL="https://cantsdmr.github.io/journalist-material-client",PL={dev:"vite","dev:staging":"vite --mode staging",build:"tsc && vite build","build:dev":"tsc && vite build --mode dev","build:staging":"tsc && vite build --mode staging","build:prod":"tsc && vite build --mode production",lint:"eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0",preview:"vite preview","preview:staging":"vite preview --mode staging",predeploy:"npm run build:staging",deploy:"gh-pages -d dist"},IL={"@editorjs/checklist":"^1.6.0","@editorjs/code":"^2.9.3","@editorjs/delimiter":"^1.4.2","@editorjs/editorjs":"^2.30.7","@editorjs/header":"^2.8.8","@editorjs/image":"^2.10.1","@editorjs/inline-code":"^1.5.1","@editorjs/link":"^2.6.2","@editorjs/list":"^2.0.2","@editorjs/marker":"^1.4.0","@editorjs/quote":"^2.7.6","@editorjs/table":"^2.4.3","@editorjs/warning":"^1.4.1","@emotion/react":"^11.11.4","@emotion/styled":"^11.11.5","@hello-pangea/dnd":"^17.0.0","@mui/icons-material":"^5.15.17","@mui/material":"^5.15.17","@mui/x-date-pickers":"^8.3.1","@paypal/react-paypal-js":"^8.9.2",axios:"^1.7.2","class-transformer":"^0.5.1","class-validator":"^0.14.2","date-fns":"^4.1.0",firebase:"^10.12.2",react:"^18.2.0","react-dom":"^18.2.0","react-infinite-scroll-component":"^6.1.0","react-router-dom":"^6.23.1",recharts:"^2.12.7"},DL={"@types/react":"^18.2.66","@types/react-dom":"^18.2.22","@typescript-eslint/eslint-plugin":"^7.2.0","@typescript-eslint/parser":"^7.2.0","@vitejs/plugin-react":"^4.2.1",eslint:"^8.57.0","eslint-plugin-react-hooks":"^4.6.0","eslint-plugin-react-refresh":"^0.4.6","gh-pages":"^6.3.0",typescript:"^5.2.2",vite:"^5.2.0"},TL={name:jL,private:!0,version:wL,type:SL,homepage:CL,scripts:PL,dependencies:IL,devDependencies:DL},EL=TL.version;var Ip={},AL=Xe;Object.defineProperty(Ip,"__esModule",{value:!0});var zj=Ip.default=void 0,RL=AL(Je()),kL=t;zj=Ip.default=(0,RL.default)((0,kL.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications");function wc({fetcher:e,initialFilters:n={},pageSize:r=20,autoFetch:s=!1}){const[o,i]=x.useState({items:[],isLoading:!1,hasMore:!0,nextCursor:void 0,prevCursor:void 0,error:void 0}),[l,d]=x.useState(n),u=x.useRef(l);u.current=l;const h=x.useRef(!0),f=x.useRef(!s),m=x.useRef(o);m.current=o;const g=x.useCallback(async T=>{const E=T!==void 0?T:u.current;i(R=>({...R,isLoading:!0,error:void 0}));try{const R=await e(E,void 0,r);h.current&&i({items:R.items,isLoading:!1,hasMore:R.metadata.hasMore,nextCursor:R.metadata.nextCursor,prevCursor:R.metadata.prevCursor,error:void 0})}catch(R){h.current&&i(O=>({...O,isLoading:!1,error:R instanceof Error?R:new Error("Failed to fetch data")}))}},[e,r]),y=x.useCallback(async()=>{const T=m.current;if(!(T.isLoading||!T.hasMore||!T.nextCursor)){i(E=>({...E,isLoading:!0,error:void 0}));try{const E=await e(u.current,T.nextCursor,r);h.current&&i(R=>({items:[...R.items,...E.items],isLoading:!1,hasMore:E.metadata.hasMore,nextCursor:E.metadata.nextCursor,prevCursor:E.metadata.prevCursor,error:void 0}))}catch(E){h.current&&i(R=>({...R,isLoading:!1,error:E instanceof Error?E:new Error("Failed to load more")}))}}},[e,r]),b=x.useCallback(async()=>{await g(u.current)},[g]),w=x.useCallback(async T=>{d(T),await g(T)},[g]),v=x.useCallback(()=>{i({items:[],isLoading:!1,hasMore:!0,nextCursor:void 0,prevCursor:void 0,error:void 0})},[]),I=x.useCallback(T=>{i(E=>({...E,items:[T,...E.items]}))},[]),S=x.useCallback(T=>{i(E=>({...E,items:E.items.filter(R=>!T(R))}))},[]),D=x.useCallback((T,E)=>{i(R=>({...R,items:R.items.map(O=>T(O)?E(O):O)}))},[]);return f.current&&s&&(f.current=!1,g()),h.current=!0,{items:o.items,isLoading:o.isLoading,hasMore:o.hasMore,error:o.error,nextCursor:o.nextCursor,prevCursor:o.prevCursor,filters:l,fetchInitial:g,loadMore:y,refresh:b,updateFilters:w,reset:v,prependItem:I,removeItem:S,updateItem:D}}const[_L,Dp]=Pd(),Ly=20,OL=({children:e})=>{const{api:n}=Ke(),{user:r}=bs(),{isAuthenticated:s}=ta(),{execute:o}=tt(),[i,l]=x.useState(0),[d,u]=x.useState(!1),h=x.useRef(r);h.current=r;const f=x.useRef(!1),m=x.useCallback(async(z,oe,U)=>{const ee={...z,limit:U||Ly,after:oe};return await n.app.notification.getNotificationFeed(ee)},[n]),{items:g,isLoading:y,hasMore:b,loadMore:w,fetchInitial:v,refresh:I,updateFilters:S,updateItem:D,removeItem:T}=wc({fetcher:m,pageSize:Ly,autoFetch:!1}),E=x.useRef(y);E.current=y;const R=x.useRef(b);R.current=b;const O=x.useCallback(async(z={})=>{h.current&&await S(z)},[S]),k=x.useCallback(async()=>{!h.current||E.current||!R.current||await w()},[w]),N=x.useCallback(async()=>{if(!h.current)return;const z=await o(()=>n.app.notification.getNewNotificationsCount(),{showErrorToast:!1});z&&l(z.count||0)},[n,o]),B=x.useCallback(async()=>{if(!h.current)return;l(0),await o(()=>n.app.notification.markAsChecked(),{showErrorToast:!1,showSuccessMessage:!1})||await N()},[n,o,N]),K=x.useCallback(async z=>{if(!h.current)return;D(U=>U.id===z,U=>({...U,isRead:!0,readAt:new Date().toISOString()})),await o(()=>n.app.notification.markAsRead(z),{showErrorToast:!0,showSuccessMessage:!1})||D(U=>U.id===z,U=>({...U,isRead:!1,readAt:void 0}))},[n,o,D]),$=x.useCallback(async()=>{if(!h.current)return;const z=new Date().toISOString();D(()=>!0,U=>({...U,isRead:!0,readAt:z})),await o(()=>n.app.notification.markAllAsRead(),{showErrorToast:!0,showSuccessMessage:!0,successMessage:"All notifications marked as read"})||await I()},[n,o,D,I]),Y=x.useCallback(async z=>{if(!h.current)return;T(U=>U.id===z),await o(()=>n.app.notification.deleteNotification(z),{showErrorToast:!0,showSuccessMessage:!1})||await I()},[n,o,T,I]),J=x.useCallback(async()=>{u(z=>{const oe=!z;return oe&&B(),oe})},[B]),G=x.useCallback(async()=>{u(!0),await B()},[B]),q=x.useCallback(()=>{u(!1)},[]);x.useEffect(()=>{const z=()=>{N(),d&&I()};return window.addEventListener("fcm-notification-received",z),()=>{window.removeEventListener("fcm-notification-received",z)}},[d,I,N]),x.useEffect(()=>{r&&s?N():(l(0),u(!1))},[r,s,N]),x.useEffect(()=>{d&&!y?f.current||(f.current=!0,v()):d||(f.current=!1)},[d,y,v]);const Q={notifications:g,newCount:i,isOpen:d,isLoading:y,hasMore:b,actions:{fetchNotifications:O,loadMore:k,markAsRead:K,markAllAsRead:$,deleteNotification:Y,refreshNewCount:N,markAsChecked:B,toggleDrawer:J,openDrawer:G,closeDrawer:q}};return t.jsx(_L.Provider,{value:Q,children:e})},ML=()=>{const{newCount:e,actions:n}=Dp(),r=()=>{n.toggleDrawer()};return t.jsx(Ne,{color:"inherit",onClick:r,"aria-label":"notifications",sx:{"& .MuiBadge-badge":{right:5,top:5,fontSize:"0.75rem",height:18,minWidth:18,padding:"0 4px"}},children:t.jsx(QA,{badgeContent:e,color:"error",max:99,overlap:"circular",children:t.jsx(zj,{})})})};var Tp={},NL=Xe;Object.defineProperty(Tp,"__esModule",{value:!0});var Hj=Tp.default=void 0,LL=NL(Je()),$L=t;Hj=Tp.default=(0,LL.default)((0,$L.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");var Ep={},FL=Xe;Object.defineProperty(Ep,"__esModule",{value:!0});var Gj=Ep.default=void 0,BL=FL(Je()),WL=t;Gj=Ep.default=(0,BL.default)((0,WL.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2m6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5z"}),"NotificationsNone");/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var hf=function(e,n){return hf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)s.hasOwnProperty(o)&&(r[o]=s[o])},hf(e,n)};function UL(e,n){hf(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var Li=function(){return Li=Object.assign||function(n){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},Li.apply(this,arguments)};function VL(e,n,r,s){var o,i=!1,l=0;function d(){o&&clearTimeout(o)}function u(){d(),i=!0}typeof n!="boolean"&&(s=r,r=n,n=void 0);function h(){var f=this,m=Date.now()-l,g=arguments;if(i)return;function y(){l=Date.now(),r.apply(f,g)}function b(){o=void 0}s&&!o&&y(),d(),s===void 0&&m>e?y():n!==!0&&(o=setTimeout(s?b:y,s===void 0?e-m:e))}return h.cancel=u,h}var Aa={Pixel:"Pixel",Percent:"Percent"},$y={unit:Aa.Percent,value:.8};function Fy(e){return typeof e=="number"?{unit:Aa.Percent,value:e*100}:typeof e=="string"?e.match(/^(\d*(\.\d+)?)px$/)?{unit:Aa.Pixel,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:Aa.Percent,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),$y):(console.warn("scrollThreshold should be string or number"),$y)}var xs=function(e){UL(n,e);function n(r){var s=e.call(this,r)||this;return s.lastScrollTop=0,s.actionTriggered=!1,s.startY=0,s.currentY=0,s.dragging=!1,s.maxPullDownDistance=0,s.getScrollableTarget=function(){return s.props.scrollableTarget instanceof HTMLElement?s.props.scrollableTarget:typeof s.props.scrollableTarget=="string"?document.getElementById(s.props.scrollableTarget):(s.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},s.onStart=function(o){s.lastScrollTop||(s.dragging=!0,o instanceof MouseEvent?s.startY=o.pageY:o instanceof TouchEvent&&(s.startY=o.touches[0].pageY),s.currentY=s.startY,s._infScroll&&(s._infScroll.style.willChange="transform",s._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},s.onMove=function(o){s.dragging&&(o instanceof MouseEvent?s.currentY=o.pageY:o instanceof TouchEvent&&(s.currentY=o.touches[0].pageY),!(s.currentY<s.startY)&&(s.currentY-s.startY>=Number(s.props.pullDownToRefreshThreshold)&&s.setState({pullToRefreshThresholdBreached:!0}),!(s.currentY-s.startY>s.maxPullDownDistance*1.5)&&s._infScroll&&(s._infScroll.style.overflow="visible",s._infScroll.style.transform="translate3d(0px, "+(s.currentY-s.startY)+"px, 0px)")))},s.onEnd=function(){s.startY=0,s.currentY=0,s.dragging=!1,s.state.pullToRefreshThresholdBreached&&(s.props.refreshFunction&&s.props.refreshFunction(),s.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){s._infScroll&&(s._infScroll.style.overflow="auto",s._infScroll.style.transform="none",s._infScroll.style.willChange="unset")})},s.onScrollListener=function(o){typeof s.props.onScroll=="function"&&setTimeout(function(){return s.props.onScroll&&s.props.onScroll(o)},0);var i=s.props.height||s._scrollableNode?o.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!s.actionTriggered){var l=s.props.inverse?s.isElementAtTop(i,s.props.scrollThreshold):s.isElementAtBottom(i,s.props.scrollThreshold);l&&s.props.hasMore&&(s.actionTriggered=!0,s.setState({showLoader:!0}),s.props.next&&s.props.next()),s.lastScrollTop=i.scrollTop}},s.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:r.dataLength},s.throttledOnScrollListener=VL(150,s.onScrollListener).bind(s),s.onStart=s.onStart.bind(s),s.onMove=s.onMove.bind(s),s.onEnd=s.onEnd.bind(s),s}return n.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},n.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},n.prototype.componentDidUpdate=function(r){this.props.dataLength!==r.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},n.getDerivedStateFromProps=function(r,s){var o=r.dataLength!==s.prevDataLength;return o?Li(Li({},s),{prevDataLength:r.dataLength}):null},n.prototype.isElementAtTop=function(r,s){s===void 0&&(s=.8);var o=r===document.body||r===document.documentElement?window.screen.availHeight:r.clientHeight,i=Fy(s);return i.unit===Aa.Pixel?r.scrollTop<=i.value+o-r.scrollHeight+1:r.scrollTop<=i.value/100+o-r.scrollHeight+1},n.prototype.isElementAtBottom=function(r,s){s===void 0&&(s=.8);var o=r===document.body||r===document.documentElement?window.screen.availHeight:r.clientHeight,i=Fy(s);return i.unit===Aa.Pixel?r.scrollTop+o>=r.scrollHeight-i.value:r.scrollTop+o>=i.value/100*r.scrollHeight},n.prototype.render=function(){var r=this,s=Li({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),o=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),i=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return Tt.createElement("div",{style:i,className:"infinite-scroll-component__outerdiv"},Tt.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(l){return r._infScroll=l},style:s},this.props.pullDownToRefresh&&Tt.createElement("div",{style:{position:"relative"},ref:function(l){return r._pullDown=l}},Tt.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!o&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},n}(x.Component),Ap={},zL=Xe;Object.defineProperty(Ap,"__esModule",{value:!0});var Yj=Ap.default=void 0,HL=zL(Je()),GL=t;Yj=Ap.default=(0,HL.default)((0,GL.jsx)("path",{d:"M20 8H4V6h16zm-2-6H6v2h12zm4 10v8c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2v-8c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2m-6 4-6-3.27v6.53z"}),"Subscriptions");var Rp={},YL=Xe;Object.defineProperty(Rp,"__esModule",{value:!0});var qj=Rp.default=void 0,qL=YL(Je()),KL=t;qj=Rp.default=(0,qL.default)((0,KL.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"Payment");var kp={},XL=Xe;Object.defineProperty(kp,"__esModule",{value:!0});var Ed=kp.default=void 0,JL=XL(Je()),QL=t;Ed=kp.default=(0,JL.default)((0,QL.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info");var _p={},ZL=Xe;Object.defineProperty(_p,"__esModule",{value:!0});var Kj=_p.default=void 0,e5=ZL(Je()),t5=t;Kj=_p.default=(0,e5.default)((0,t5.jsx)("circle",{cx:"12",cy:"12",r:"8"}),"FiberManualRecord");const Xj=6048e5,n5=864e5,Jj=6e4,Qj=36e5,r5=1e3,hc=43200,By=1440,Wy=Symbol.for("constructDateFrom");function ln(e,n){return typeof e=="function"?e(n):e&&typeof e=="object"&&Wy in e?e[Wy](n):e instanceof Date?new e.constructor(n):new Date(n)}function rt(e,n){return ln(n||e,e)}function Ad(e,n,r){const s=rt(e,r==null?void 0:r.in);return isNaN(n)?ln((r==null?void 0:r.in)||e,NaN):(n&&s.setDate(s.getDate()+n),s)}function Zj(e,n,r){const s=rt(e,r==null?void 0:r.in);if(isNaN(n))return ln(e,NaN);if(!n)return s;const o=s.getDate(),i=ln(e,s.getTime());i.setMonth(s.getMonth()+n+1,0);const l=i.getDate();return o>=l?i:(s.setFullYear(i.getFullYear(),i.getMonth(),o),s)}function ew(e,n,r){return ln(e,+rt(e)+n)}function s5(e,n,r){return ew(e,n*Qj)}let o5={};function Co(){return o5}function Js(e,n){var d,u,h,f;const r=Co(),s=(n==null?void 0:n.weekStartsOn)??((u=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??0,o=rt(e,n==null?void 0:n.in),i=o.getDay(),l=(i<s?7:0)+i-s;return o.setDate(o.getDate()-l),o.setHours(0,0,0,0),o}function Ba(e,n){return Js(e,{...n,weekStartsOn:1})}function tw(e,n){const r=rt(e,n==null?void 0:n.in),s=r.getFullYear(),o=ln(r,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const i=Ba(o),l=ln(r,0);l.setFullYear(s,0,4),l.setHours(0,0,0,0);const d=Ba(l);return r.getTime()>=i.getTime()?s+1:r.getTime()>=d.getTime()?s:s-1}function Wa(e){const n=rt(e),r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return r.setUTCFullYear(n.getFullYear()),+e-+r}function Po(e,...n){const r=ln.bind(null,e||n.find(s=>typeof s=="object"));return n.map(r)}function Hi(e,n){const r=rt(e,n==null?void 0:n.in);return r.setHours(0,0,0,0),r}function a5(e,n,r){const[s,o]=Po(r==null?void 0:r.in,e,n),i=Hi(s),l=Hi(o),d=+i-Wa(i),u=+l-Wa(l);return Math.round((d-u)/n5)}function i5(e,n){const r=tw(e,n),s=ln(e,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),Ba(s)}function l5(e,n,r){const s=rt(e,r==null?void 0:r.in);return s.setTime(s.getTime()+n*Jj),s}function c5(e,n,r){return ew(e,n*1e3)}function d5(e,n,r){return Ad(e,n*7,r)}function u5(e,n,r){return Zj(e,n*12,r)}function Sc(e,n){const r=+rt(e)-+rt(n);return r<0?-1:r>0?1:r}function h5(e){return ln(e,Date.now())}function f5(e,n,r){const[s,o]=Po(r==null?void 0:r.in,e,n);return+Hi(s)==+Hi(o)}function p5(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function nw(e){return!(!p5(e)&&typeof e!="number"||isNaN(+rt(e)))}function m5(e,n,r){const[s,o]=Po(r==null?void 0:r.in,e,n),i=s.getFullYear()-o.getFullYear(),l=s.getMonth()-o.getMonth();return i*12+l}function x5(e){return n=>{const s=(e?Math[e]:Math.trunc)(n);return s===0?0:s}}function g5(e,n){return+rt(e)-+rt(n)}function ff(e,n){const r=rt(e,n==null?void 0:n.in);return r.setHours(23,59,59,999),r}function rw(e,n){const r=rt(e,n==null?void 0:n.in),s=r.getMonth();return r.setFullYear(r.getFullYear(),s+1,0),r.setHours(23,59,59,999),r}function b5(e,n){const r=rt(e,n==null?void 0:n.in);return+ff(r,n)==+rw(r,n)}function y5(e,n,r){const[s,o,i]=Po(r==null?void 0:r.in,e,e,n),l=Sc(o,i),d=Math.abs(m5(o,i));if(d<1)return 0;o.getMonth()===1&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-l*d);let u=Sc(o,i)===-l;b5(s)&&d===1&&Sc(s,i)===1&&(u=!1);const h=l*(d-+u);return h===0?0:h}function v5(e,n,r){const s=g5(e,n)/1e3;return x5(r==null?void 0:r.roundingMethod)(s)}function j5(e,n){const r=rt(e,n==null?void 0:n.in);return r.setDate(1),r.setHours(0,0,0,0),r}function Uy(e,n){const r=rt(e,n==null?void 0:n.in),s=r.getFullYear();return r.setFullYear(s+1,0,0),r.setHours(23,59,59,999),r}function sw(e,n){const r=rt(e,n==null?void 0:n.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function w5(e,n){var d,u,h,f;const r=Co(),s=(n==null?void 0:n.weekStartsOn)??((u=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??0,o=rt(e,n==null?void 0:n.in),i=o.getDay(),l=(i<s?-7:0)+6-(i-s);return o.setDate(o.getDate()+l),o.setHours(23,59,59,999),o}const S5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},C5=(e,n,r)=>{let s;const o=S5[e];return typeof o=="string"?s=o:n===1?s=o.one:s=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Rh(e){return(n={})=>{const r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const P5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},I5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},D5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},T5={date:Rh({formats:P5,defaultWidth:"full"}),time:Rh({formats:I5,defaultWidth:"full"}),dateTime:Rh({formats:D5,defaultWidth:"full"})},E5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},A5=(e,n,r,s)=>E5[e];function Pi(e){return(n,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let o;if(s==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,d=r!=null&&r.width?String(r.width):l;o=e.formattingValues[d]||e.formattingValues[l]}else{const l=e.defaultWidth,d=r!=null&&r.width?String(r.width):e.defaultWidth;o=e.values[d]||e.values[l]}const i=e.argumentCallback?e.argumentCallback(n):n;return o[i]}}const R5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},k5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},O5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},M5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},N5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},L5=(e,n)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},$5={ordinalNumber:L5,era:Pi({values:R5,defaultWidth:"wide"}),quarter:Pi({values:k5,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Pi({values:_5,defaultWidth:"wide"}),day:Pi({values:O5,defaultWidth:"wide"}),dayPeriod:Pi({values:M5,defaultWidth:"wide",formattingValues:N5,defaultFormattingWidth:"wide"})};function Ii(e){return(n,r={})=>{const s=r.width,o=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=n.match(o);if(!i)return null;const l=i[0],d=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(d)?B5(d,m=>m.test(l)):F5(d,m=>m.test(l));let h;h=e.valueCallback?e.valueCallback(u):u,h=r.valueCallback?r.valueCallback(h):h;const f=n.slice(l.length);return{value:h,rest:f}}}function F5(e,n){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n(e[r]))return r}function B5(e,n){for(let r=0;r<e.length;r++)if(n(e[r]))return r}function W5(e){return(n,r={})=>{const s=n.match(e.matchPattern);if(!s)return null;const o=s[0],i=n.match(e.parsePattern);if(!i)return null;let l=e.valueCallback?e.valueCallback(i[0]):i[0];l=r.valueCallback?r.valueCallback(l):l;const d=n.slice(o.length);return{value:l,rest:d}}}const U5=/^(\d+)(th|st|nd|rd)?/i,V5=/\d+/i,z5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},H5={any:[/^b/i,/^(a|c)/i]},G5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Y5={any:[/1/i,/2/i,/3/i,/4/i]},q5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},K5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},X5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},J5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Q5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Z5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},e$={ordinalNumber:W5({matchPattern:U5,parsePattern:V5,valueCallback:e=>parseInt(e,10)}),era:Ii({matchPatterns:z5,defaultMatchWidth:"wide",parsePatterns:H5,defaultParseWidth:"any"}),quarter:Ii({matchPatterns:G5,defaultMatchWidth:"wide",parsePatterns:Y5,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ii({matchPatterns:q5,defaultMatchWidth:"wide",parsePatterns:K5,defaultParseWidth:"any"}),day:Ii({matchPatterns:X5,defaultMatchWidth:"wide",parsePatterns:J5,defaultParseWidth:"any"}),dayPeriod:Ii({matchPatterns:Q5,defaultMatchWidth:"any",parsePatterns:Z5,defaultParseWidth:"any"})},Rd={code:"en-US",formatDistance:C5,formatLong:T5,formatRelative:A5,localize:$5,match:e$,options:{weekStartsOn:0,firstWeekContainsDate:1}};function t$(e,n){const r=rt(e,n==null?void 0:n.in);return a5(r,sw(r))+1}function ow(e,n){const r=rt(e,n==null?void 0:n.in),s=+Ba(r)-+i5(r);return Math.round(s/Xj)+1}function Op(e,n){var f,m,g,y;const r=rt(e,n==null?void 0:n.in),s=r.getFullYear(),o=Co(),i=(n==null?void 0:n.firstWeekContainsDate)??((m=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??o.firstWeekContainsDate??((y=(g=o.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,l=ln((n==null?void 0:n.in)||e,0);l.setFullYear(s+1,0,i),l.setHours(0,0,0,0);const d=Js(l,n),u=ln((n==null?void 0:n.in)||e,0);u.setFullYear(s,0,i),u.setHours(0,0,0,0);const h=Js(u,n);return+r>=+d?s+1:+r>=+h?s:s-1}function n$(e,n){var d,u,h,f;const r=Co(),s=(n==null?void 0:n.firstWeekContainsDate)??((u=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=Op(e,n),i=ln((n==null?void 0:n.in)||e,0);return i.setFullYear(o,0,s),i.setHours(0,0,0,0),Js(i,n)}function Mp(e,n){const r=rt(e,n==null?void 0:n.in),s=+Js(r,n)-+n$(r,n);return Math.round(s/Xj)+1}function Ht(e,n){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(n,"0");return r+s}const ho={y(e,n){const r=e.getFullYear(),s=r>0?r:1-r;return Ht(n==="yy"?s%100:s,n.length)},M(e,n){const r=e.getMonth();return n==="M"?String(r+1):Ht(r+1,2)},d(e,n){return Ht(e.getDate(),n.length)},a(e,n){const r=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,n){return Ht(e.getHours()%12||12,n.length)},H(e,n){return Ht(e.getHours(),n.length)},m(e,n){return Ht(e.getMinutes(),n.length)},s(e,n){return Ht(e.getSeconds(),n.length)},S(e,n){const r=n.length,s=e.getMilliseconds(),o=Math.trunc(s*Math.pow(10,r-3));return Ht(o,n.length)}},wa={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vy={G:function(e,n,r){const s=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){const s=e.getFullYear(),o=s>0?s:1-s;return r.ordinalNumber(o,{unit:"year"})}return ho.y(e,n)},Y:function(e,n,r,s){const o=Op(e,s),i=o>0?o:1-o;if(n==="YY"){const l=i%100;return Ht(l,2)}return n==="Yo"?r.ordinalNumber(i,{unit:"year"}):Ht(i,n.length)},R:function(e,n){const r=tw(e);return Ht(r,n.length)},u:function(e,n){const r=e.getFullYear();return Ht(r,n.length)},Q:function(e,n,r){const s=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return Ht(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){const s=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return Ht(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){const s=e.getMonth();switch(n){case"M":case"MM":return ho.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){const s=e.getMonth();switch(n){case"L":return String(s+1);case"LL":return Ht(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){const o=Mp(e,s);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):Ht(o,n.length)},I:function(e,n,r){const s=ow(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):Ht(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ho.d(e,n)},D:function(e,n,r){const s=t$(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Ht(s,n.length)},E:function(e,n,r){const s=e.getDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){const o=e.getDay(),i=(o-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(i);case"ee":return Ht(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){const o=e.getDay(),i=(o-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(i);case"cc":return Ht(i,n.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){const s=e.getDay(),o=s===0?7:s;switch(n){case"i":return String(o);case"ii":return Ht(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){const o=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){const s=e.getHours();let o;switch(s===12?o=wa.noon:s===0?o=wa.midnight:o=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){const s=e.getHours();let o;switch(s>=17?o=wa.evening:s>=12?o=wa.afternoon:s>=4?o=wa.morning:o=wa.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return ho.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ho.H(e,n)},K:function(e,n,r){const s=e.getHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Ht(s,n.length)},k:function(e,n,r){let s=e.getHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):Ht(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ho.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ho.s(e,n)},S:function(e,n){return ho.S(e,n)},X:function(e,n,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return Hy(s);case"XXXX":case"XX":return Uo(s);case"XXXXX":case"XXX":default:return Uo(s,":")}},x:function(e,n,r){const s=e.getTimezoneOffset();switch(n){case"x":return Hy(s);case"xxxx":case"xx":return Uo(s);case"xxxxx":case"xxx":default:return Uo(s,":")}},O:function(e,n,r){const s=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+zy(s,":");case"OOOO":default:return"GMT"+Uo(s,":")}},z:function(e,n,r){const s=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+zy(s,":");case"zzzz":default:return"GMT"+Uo(s,":")}},t:function(e,n,r){const s=Math.trunc(+e/1e3);return Ht(s,n.length)},T:function(e,n,r){return Ht(+e,n.length)}};function zy(e,n=""){const r=e>0?"-":"+",s=Math.abs(e),o=Math.trunc(s/60),i=s%60;return i===0?r+String(o):r+String(o)+n+Ht(i,2)}function Hy(e,n){return e%60===0?(e>0?"-":"+")+Ht(Math.abs(e)/60,2):Uo(e,n)}function Uo(e,n=""){const r=e>0?"-":"+",s=Math.abs(e),o=Ht(Math.trunc(s/60),2),i=Ht(s%60,2);return r+o+n+i}const Gy=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},aw=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},r$=(e,n)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],o=r[2];if(!o)return Gy(e,n);let i;switch(s){case"P":i=n.dateTime({width:"short"});break;case"PP":i=n.dateTime({width:"medium"});break;case"PPP":i=n.dateTime({width:"long"});break;case"PPPP":default:i=n.dateTime({width:"full"});break}return i.replace("{{date}}",Gy(s,n)).replace("{{time}}",aw(o,n))},Yc={p:aw,P:r$},s$=/^D+$/,o$=/^Y+$/,a$=["D","DD","YY","YYYY"];function iw(e){return s$.test(e)}function lw(e){return o$.test(e)}function pf(e,n,r){const s=i$(e,n,r);if(console.warn(s),a$.includes(e))throw new RangeError(s)}function i$(e,n,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const l$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,c$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,d$=/^'([^]*?)'?$/,u$=/''/g,h$=/[a-zA-Z]/;function Np(e,n,r){var f,m,g,y,b,w,v,I;const s=Co(),o=(r==null?void 0:r.locale)??s.locale??Rd,i=(r==null?void 0:r.firstWeekContainsDate)??((m=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(g=s.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((w=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:w.weekStartsOn)??s.weekStartsOn??((I=(v=s.locale)==null?void 0:v.options)==null?void 0:I.weekStartsOn)??0,d=rt(e,r==null?void 0:r.in);if(!nw(d))throw new RangeError("Invalid time value");let u=n.match(c$).map(S=>{const D=S[0];if(D==="p"||D==="P"){const T=Yc[D];return T(S,o.formatLong)}return S}).join("").match(l$).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const D=S[0];if(D==="'")return{isToken:!1,value:f$(S)};if(Vy[D])return{isToken:!0,value:S};if(D.match(h$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");return{isToken:!1,value:S}});o.localize.preprocessor&&(u=o.localize.preprocessor(d,u));const h={firstWeekContainsDate:i,weekStartsOn:l,locale:o};return u.map(S=>{if(!S.isToken)return S.value;const D=S.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&lw(D)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&iw(D))&&pf(D,n,String(e));const T=Vy[D[0]];return T(d,D,o.localize,h)}).join("")}function f$(e){const n=e.match(d$);return n?n[1].replace(u$,"'"):e}function p$(e,n,r){const s=Co(),o=(r==null?void 0:r.locale)??s.locale??Rd,i=2520,l=Sc(e,n);if(isNaN(l))throw new RangeError("Invalid time value");const d=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:l}),[u,h]=Po(r==null?void 0:r.in,...l>0?[n,e]:[e,n]),f=v5(h,u),m=(Wa(h)-Wa(u))/1e3,g=Math.round((f-m)/60);let y;if(g<2)return r!=null&&r.includeSeconds?f<5?o.formatDistance("lessThanXSeconds",5,d):f<10?o.formatDistance("lessThanXSeconds",10,d):f<20?o.formatDistance("lessThanXSeconds",20,d):f<40?o.formatDistance("halfAMinute",0,d):f<60?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",1,d):g===0?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",g,d);if(g<45)return o.formatDistance("xMinutes",g,d);if(g<90)return o.formatDistance("aboutXHours",1,d);if(g<By){const b=Math.round(g/60);return o.formatDistance("aboutXHours",b,d)}else{if(g<i)return o.formatDistance("xDays",1,d);if(g<hc){const b=Math.round(g/By);return o.formatDistance("xDays",b,d)}else if(g<hc*2)return y=Math.round(g/hc),o.formatDistance("aboutXMonths",y,d)}if(y=y5(h,u),y<12){const b=Math.round(g/hc);return o.formatDistance("xMonths",b,d)}else{const b=y%12,w=Math.trunc(y/12);return b<3?o.formatDistance("aboutXYears",w,d):b<9?o.formatDistance("overXYears",w,d):o.formatDistance("almostXYears",w+1,d)}}function Mr(e,n){return p$(e,h5(e),n)}function m$(e,n){return rt(e,n==null?void 0:n.in).getDate()}function cw(e,n){const r=rt(e,n==null?void 0:n.in),s=r.getFullYear(),o=r.getMonth(),i=ln(r,0);return i.setFullYear(s,o+1,0),i.setHours(0,0,0,0),i.getDate()}function x$(){return Object.assign({},Co())}function g$(e,n){return rt(e,n==null?void 0:n.in).getHours()}function b$(e,n){const r=rt(e,n==null?void 0:n.in).getDay();return r===0?7:r}function y$(e){return rt(e).getMilliseconds()}function v$(e,n){return rt(e,n==null?void 0:n.in).getMinutes()}function j$(e,n){return rt(e,n==null?void 0:n.in).getMonth()}function w$(e){return rt(e).getSeconds()}function S$(e,n){return rt(e,n==null?void 0:n.in).getFullYear()}function kh(e,n){return+rt(e)>+rt(n)}function _h(e,n){return+rt(e)<+rt(n)}function C$(e,n){return+rt(e)==+rt(n)}function P$(e,n){const r=I$(n)?new n(0):ln(n,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function I$(e){var n;return typeof e=="function"&&((n=e.prototype)==null?void 0:n.constructor)===e}const D$=10;class dw{constructor(){Te(this,"subPriority",0)}validate(n,r){return!0}}class T$ extends dw{constructor(n,r,s,o,i){super(),this.value=n,this.validateValue=r,this.setValue=s,this.priority=o,i&&(this.subPriority=i)}validate(n,r){return this.validateValue(n,this.value,r)}set(n,r,s){return this.setValue(n,r,this.value,s)}}class E$ extends dw{constructor(r,s){super();Te(this,"priority",D$);Te(this,"subPriority",-1);this.context=r||(o=>ln(s,o))}set(r,s){return s.timestampIsSet?r:ln(r,P$(r,this.context))}}class $t{run(n,r,s,o){const i=this.parse(n,r,s,o);return i?{setter:new T$(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(n,r,s){return!0}}class A$ extends $t{constructor(){super(...arguments);Te(this,"priority",140);Te(this,"incompatibleTokens",["R","u","t","T"])}parse(r,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"});case"GGGGG":return o.era(r,{width:"narrow"});case"GGGG":default:return o.era(r,{width:"wide"})||o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"})}}set(r,s,o){return s.era=o,r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}const Dn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ds={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Tn(e,n){return e&&{value:n(e.value),rest:e.rest}}function bn(e,n){const r=n.match(e);return r?{value:parseInt(r[0],10),rest:n.slice(r[0].length)}:null}function Ts(e,n){const r=n.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:n.slice(1)};const s=r[1]==="+"?1:-1,o=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,l=r[5]?parseInt(r[5],10):0;return{value:s*(o*Qj+i*Jj+l*r5),rest:n.slice(r[0].length)}}function uw(e){return bn(Dn.anyDigitsSigned,e)}function Cn(e,n){switch(e){case 1:return bn(Dn.singleDigit,n);case 2:return bn(Dn.twoDigits,n);case 3:return bn(Dn.threeDigits,n);case 4:return bn(Dn.fourDigits,n);default:return bn(new RegExp("^\\d{1,"+e+"}"),n)}}function qc(e,n){switch(e){case 1:return bn(Dn.singleDigitSigned,n);case 2:return bn(Dn.twoDigitsSigned,n);case 3:return bn(Dn.threeDigitsSigned,n);case 4:return bn(Dn.fourDigitsSigned,n);default:return bn(new RegExp("^-?\\d{1,"+e+"}"),n)}}function Lp(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function hw(e,n){const r=n>0,s=r?n:1-n;let o;if(s<=50)o=e||100;else{const i=s+50,l=Math.trunc(i/100)*100,d=e>=i%100;o=e+l-(d?100:0)}return r?o:1-o}function fw(e){return e%400===0||e%4===0&&e%100!==0}class R$ extends $t{constructor(){super(...arguments);Te(this,"priority",130);Te(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,s,o){const i=l=>({year:l,isTwoDigitYear:s==="yy"});switch(s){case"y":return Tn(Cn(4,r),i);case"yo":return Tn(o.ordinalNumber(r,{unit:"year"}),i);default:return Tn(Cn(s.length,r),i)}}validate(r,s){return s.isTwoDigitYear||s.year>0}set(r,s,o){const i=r.getFullYear();if(o.isTwoDigitYear){const d=hw(o.year,i);return r.setFullYear(d,0,1),r.setHours(0,0,0,0),r}const l=!("era"in s)||s.era===1?o.year:1-o.year;return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}}class k$ extends $t{constructor(){super(...arguments);Te(this,"priority",130);Te(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,s,o){const i=l=>({year:l,isTwoDigitYear:s==="YY"});switch(s){case"Y":return Tn(Cn(4,r),i);case"Yo":return Tn(o.ordinalNumber(r,{unit:"year"}),i);default:return Tn(Cn(s.length,r),i)}}validate(r,s){return s.isTwoDigitYear||s.year>0}set(r,s,o,i){const l=Op(r,i);if(o.isTwoDigitYear){const u=hw(o.year,l);return r.setFullYear(u,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Js(r,i)}const d=!("era"in s)||s.era===1?o.year:1-o.year;return r.setFullYear(d,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Js(r,i)}}class _$ extends $t{constructor(){super(...arguments);Te(this,"priority",130);Te(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,s){return qc(s==="R"?4:s.length,r)}set(r,s,o){const i=ln(r,0);return i.setFullYear(o,0,4),i.setHours(0,0,0,0),Ba(i)}}class O$ extends $t{constructor(){super(...arguments);Te(this,"priority",130);Te(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,s){return qc(s==="u"?4:s.length,r)}set(r,s,o){return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class M$ extends $t{constructor(){super(...arguments);Te(this,"priority",120);Te(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,s,o){switch(s){case"Q":case"QQ":return Cn(s.length,r);case"Qo":return o.ordinalNumber(r,{unit:"quarter"});case"QQQ":return o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(r,{width:"wide",context:"formatting"})||o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=1&&s<=4}set(r,s,o){return r.setMonth((o-1)*3,1),r.setHours(0,0,0,0),r}}class N$ extends $t{constructor(){super(...arguments);Te(this,"priority",120);Te(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,s,o){switch(s){case"q":case"qq":return Cn(s.length,r);case"qo":return o.ordinalNumber(r,{unit:"quarter"});case"qqq":return o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(r,{width:"wide",context:"standalone"})||o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=1&&s<=4}set(r,s,o){return r.setMonth((o-1)*3,1),r.setHours(0,0,0,0),r}}class L$ extends $t{constructor(){super(...arguments);Te(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Te(this,"priority",110)}parse(r,s,o){const i=l=>l-1;switch(s){case"M":return Tn(bn(Dn.month,r),i);case"MM":return Tn(Cn(2,r),i);case"Mo":return Tn(o.ordinalNumber(r,{unit:"month"}),i);case"MMM":return o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(r,{width:"wide",context:"formatting"})||o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=11}set(r,s,o){return r.setMonth(o,1),r.setHours(0,0,0,0),r}}class $$ extends $t{constructor(){super(...arguments);Te(this,"priority",110);Te(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,s,o){const i=l=>l-1;switch(s){case"L":return Tn(bn(Dn.month,r),i);case"LL":return Tn(Cn(2,r),i);case"Lo":return Tn(o.ordinalNumber(r,{unit:"month"}),i);case"LLL":return o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(r,{width:"wide",context:"standalone"})||o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=0&&s<=11}set(r,s,o){return r.setMonth(o,1),r.setHours(0,0,0,0),r}}function F$(e,n,r){const s=rt(e,r==null?void 0:r.in),o=Mp(s,r)-n;return s.setDate(s.getDate()-o*7),rt(s,r==null?void 0:r.in)}class B$ extends $t{constructor(){super(...arguments);Te(this,"priority",100);Te(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,s,o){switch(s){case"w":return bn(Dn.week,r);case"wo":return o.ordinalNumber(r,{unit:"week"});default:return Cn(s.length,r)}}validate(r,s){return s>=1&&s<=53}set(r,s,o,i){return Js(F$(r,o,i),i)}}function W$(e,n,r){const s=rt(e,r==null?void 0:r.in),o=ow(s,r)-n;return s.setDate(s.getDate()-o*7),s}class U$ extends $t{constructor(){super(...arguments);Te(this,"priority",100);Te(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,s,o){switch(s){case"I":return bn(Dn.week,r);case"Io":return o.ordinalNumber(r,{unit:"week"});default:return Cn(s.length,r)}}validate(r,s){return s>=1&&s<=53}set(r,s,o){return Ba(W$(r,o))}}const V$=[31,28,31,30,31,30,31,31,30,31,30,31],z$=[31,29,31,30,31,30,31,31,30,31,30,31];class H$ extends $t{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"subPriority",1);Te(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,s,o){switch(s){case"d":return bn(Dn.date,r);case"do":return o.ordinalNumber(r,{unit:"date"});default:return Cn(s.length,r)}}validate(r,s){const o=r.getFullYear(),i=fw(o),l=r.getMonth();return i?s>=1&&s<=z$[l]:s>=1&&s<=V$[l]}set(r,s,o){return r.setDate(o),r.setHours(0,0,0,0),r}}class G$ extends $t{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"subpriority",1);Te(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,s,o){switch(s){case"D":case"DD":return bn(Dn.dayOfYear,r);case"Do":return o.ordinalNumber(r,{unit:"date"});default:return Cn(s.length,r)}}validate(r,s){const o=r.getFullYear();return fw(o)?s>=1&&s<=366:s>=1&&s<=365}set(r,s,o){return r.setMonth(0,o),r.setHours(0,0,0,0),r}}function $p(e,n,r){var m,g,y,b;const s=Co(),o=(r==null?void 0:r.weekStartsOn)??((g=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??s.weekStartsOn??((b=(y=s.locale)==null?void 0:y.options)==null?void 0:b.weekStartsOn)??0,i=rt(e,r==null?void 0:r.in),l=i.getDay(),u=(n%7+7)%7,h=7-o,f=n<0||n>6?n-(l+h)%7:(u+h)%7-(l+h)%7;return Ad(i,f,r)}class Y$ extends $t{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=6}set(r,s,o,i){return r=$p(r,o,i),r.setHours(0,0,0,0),r}}class q$ extends $t{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,s,o,i){const l=d=>{const u=Math.floor((d-1)/7)*7;return(d+i.weekStartsOn+6)%7+u};switch(s){case"e":case"ee":return Tn(Cn(s.length,r),l);case"eo":return Tn(o.ordinalNumber(r,{unit:"day"}),l);case"eee":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeeee":return o.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=6}set(r,s,o,i){return r=$p(r,o,i),r.setHours(0,0,0,0),r}}class K$ extends $t{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,s,o,i){const l=d=>{const u=Math.floor((d-1)/7)*7;return(d+i.weekStartsOn+6)%7+u};switch(s){case"c":case"cc":return Tn(Cn(s.length,r),l);case"co":return Tn(o.ordinalNumber(r,{unit:"day"}),l);case"ccc":return o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"ccccc":return o.day(r,{width:"narrow",context:"standalone"});case"cccccc":return o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(r,{width:"wide",context:"standalone"})||o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=0&&s<=6}set(r,s,o,i){return r=$p(r,o,i),r.setHours(0,0,0,0),r}}function X$(e,n,r){const s=rt(e,r==null?void 0:r.in),o=b$(s,r),i=n-o;return Ad(s,i,r)}class J$ extends $t{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,s,o){const i=l=>l===0?7:l;switch(s){case"i":case"ii":return Cn(s.length,r);case"io":return o.ordinalNumber(r,{unit:"day"});case"iii":return Tn(o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return Tn(o.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Tn(o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Tn(o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,s){return s>=1&&s<=7}set(r,s,o){return r=X$(r,o),r.setHours(0,0,0,0),r}}class Q$ extends $t{constructor(){super(...arguments);Te(this,"priority",80);Te(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,o){return r.setHours(Lp(o),0,0,0),r}}class Z$ extends $t{constructor(){super(...arguments);Te(this,"priority",80);Te(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,o){return r.setHours(Lp(o),0,0,0),r}}class eF extends $t{constructor(){super(...arguments);Te(this,"priority",80);Te(this,"incompatibleTokens",["a","b","t","T"])}parse(r,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,o){return r.setHours(Lp(o),0,0,0),r}}class tF extends $t{constructor(){super(...arguments);Te(this,"priority",70);Te(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,s,o){switch(s){case"h":return bn(Dn.hour12h,r);case"ho":return o.ordinalNumber(r,{unit:"hour"});default:return Cn(s.length,r)}}validate(r,s){return s>=1&&s<=12}set(r,s,o){const i=r.getHours()>=12;return i&&o<12?r.setHours(o+12,0,0,0):!i&&o===12?r.setHours(0,0,0,0):r.setHours(o,0,0,0),r}}class nF extends $t{constructor(){super(...arguments);Te(this,"priority",70);Te(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,s,o){switch(s){case"H":return bn(Dn.hour23h,r);case"Ho":return o.ordinalNumber(r,{unit:"hour"});default:return Cn(s.length,r)}}validate(r,s){return s>=0&&s<=23}set(r,s,o){return r.setHours(o,0,0,0),r}}class rF extends $t{constructor(){super(...arguments);Te(this,"priority",70);Te(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,s,o){switch(s){case"K":return bn(Dn.hour11h,r);case"Ko":return o.ordinalNumber(r,{unit:"hour"});default:return Cn(s.length,r)}}validate(r,s){return s>=0&&s<=11}set(r,s,o){return r.getHours()>=12&&o<12?r.setHours(o+12,0,0,0):r.setHours(o,0,0,0),r}}class sF extends $t{constructor(){super(...arguments);Te(this,"priority",70);Te(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,s,o){switch(s){case"k":return bn(Dn.hour24h,r);case"ko":return o.ordinalNumber(r,{unit:"hour"});default:return Cn(s.length,r)}}validate(r,s){return s>=1&&s<=24}set(r,s,o){const i=o<=24?o%24:o;return r.setHours(i,0,0,0),r}}class oF extends $t{constructor(){super(...arguments);Te(this,"priority",60);Te(this,"incompatibleTokens",["t","T"])}parse(r,s,o){switch(s){case"m":return bn(Dn.minute,r);case"mo":return o.ordinalNumber(r,{unit:"minute"});default:return Cn(s.length,r)}}validate(r,s){return s>=0&&s<=59}set(r,s,o){return r.setMinutes(o,0,0),r}}class aF extends $t{constructor(){super(...arguments);Te(this,"priority",50);Te(this,"incompatibleTokens",["t","T"])}parse(r,s,o){switch(s){case"s":return bn(Dn.second,r);case"so":return o.ordinalNumber(r,{unit:"second"});default:return Cn(s.length,r)}}validate(r,s){return s>=0&&s<=59}set(r,s,o){return r.setSeconds(o,0),r}}class iF extends $t{constructor(){super(...arguments);Te(this,"priority",30);Te(this,"incompatibleTokens",["t","T"])}parse(r,s){const o=i=>Math.trunc(i*Math.pow(10,-s.length+3));return Tn(Cn(s.length,r),o)}set(r,s,o){return r.setMilliseconds(o),r}}class lF extends $t{constructor(){super(...arguments);Te(this,"priority",10);Te(this,"incompatibleTokens",["t","T","x"])}parse(r,s){switch(s){case"X":return Ts(Ds.basicOptionalMinutes,r);case"XX":return Ts(Ds.basic,r);case"XXXX":return Ts(Ds.basicOptionalSeconds,r);case"XXXXX":return Ts(Ds.extendedOptionalSeconds,r);case"XXX":default:return Ts(Ds.extended,r)}}set(r,s,o){return s.timestampIsSet?r:ln(r,r.getTime()-Wa(r)-o)}}class cF extends $t{constructor(){super(...arguments);Te(this,"priority",10);Te(this,"incompatibleTokens",["t","T","X"])}parse(r,s){switch(s){case"x":return Ts(Ds.basicOptionalMinutes,r);case"xx":return Ts(Ds.basic,r);case"xxxx":return Ts(Ds.basicOptionalSeconds,r);case"xxxxx":return Ts(Ds.extendedOptionalSeconds,r);case"xxx":default:return Ts(Ds.extended,r)}}set(r,s,o){return s.timestampIsSet?r:ln(r,r.getTime()-Wa(r)-o)}}class dF extends $t{constructor(){super(...arguments);Te(this,"priority",40);Te(this,"incompatibleTokens","*")}parse(r){return uw(r)}set(r,s,o){return[ln(r,o*1e3),{timestampIsSet:!0}]}}class uF extends $t{constructor(){super(...arguments);Te(this,"priority",20);Te(this,"incompatibleTokens","*")}parse(r){return uw(r)}set(r,s,o){return[ln(r,o),{timestampIsSet:!0}]}}const hF={G:new A$,y:new R$,Y:new k$,R:new _$,u:new O$,Q:new M$,q:new N$,M:new L$,L:new $$,w:new B$,I:new U$,d:new H$,D:new G$,E:new Y$,e:new q$,c:new K$,i:new J$,a:new Q$,b:new Z$,B:new eF,h:new tF,H:new nF,K:new rF,k:new sF,m:new oF,s:new aF,S:new iF,X:new lF,x:new cF,t:new dF,T:new uF},fF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mF=/^'([^]*?)'?$/,xF=/''/g,gF=/\S/,bF=/[a-zA-Z]/;function yF(e,n,r,s){var v,I,S,D,T,E,R,O;const o=()=>ln((s==null?void 0:s.in)||r,NaN),i=x$(),l=(s==null?void 0:s.locale)??i.locale??Rd,d=(s==null?void 0:s.firstWeekContainsDate)??((I=(v=s==null?void 0:s.locale)==null?void 0:v.options)==null?void 0:I.firstWeekContainsDate)??i.firstWeekContainsDate??((D=(S=i.locale)==null?void 0:S.options)==null?void 0:D.firstWeekContainsDate)??1,u=(s==null?void 0:s.weekStartsOn)??((E=(T=s==null?void 0:s.locale)==null?void 0:T.options)==null?void 0:E.weekStartsOn)??i.weekStartsOn??((O=(R=i.locale)==null?void 0:R.options)==null?void 0:O.weekStartsOn)??0;if(!n)return e?o():rt(r,s==null?void 0:s.in);const h={firstWeekContainsDate:d,weekStartsOn:u,locale:l},f=[new E$(s==null?void 0:s.in,r)],m=n.match(pF).map(k=>{const N=k[0];if(N in Yc){const B=Yc[N];return B(k,l.formatLong)}return k}).join("").match(fF),g=[];for(let k of m){!(s!=null&&s.useAdditionalWeekYearTokens)&&lw(k)&&pf(k,n,e),!(s!=null&&s.useAdditionalDayOfYearTokens)&&iw(k)&&pf(k,n,e);const N=k[0],B=hF[N];if(B){const{incompatibleTokens:K}=B;if(Array.isArray(K)){const Y=g.find(J=>K.includes(J.token)||J.token===N);if(Y)throw new RangeError(`The format string mustn't contain \`${Y.fullToken}\` and \`${k}\` at the same time`)}else if(B.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${k}\` and any other token at the same time`);g.push({token:N,fullToken:k});const $=B.run(e,k,l.match,h);if(!$)return o();f.push($.setter),e=$.rest}else{if(N.match(bF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");if(k==="''"?k="'":N==="'"&&(k=vF(k)),e.indexOf(k)===0)e=e.slice(k.length);else return o()}}if(e.length>0&&gF.test(e))return o();const y=f.map(k=>k.priority).sort((k,N)=>N-k).filter((k,N,B)=>B.indexOf(k)===N).map(k=>f.filter(N=>N.priority===k).sort((N,B)=>B.subPriority-N.subPriority)).map(k=>k[0]);let b=rt(r,s==null?void 0:s.in);if(isNaN(+b))return o();const w={};for(const k of y){if(!k.validate(b,h))return o();const N=k.set(b,w,h);Array.isArray(N)?(b=N[0],Object.assign(w,N[1])):b=N}return b}function vF(e){return e.match(mF)[1].replace(xF,"'")}function Yy(e,n){const r=rt(e,n==null?void 0:n.in);return r.setMinutes(0,0,0),r}function jF(e,n,r){const[s,o]=Po(r==null?void 0:r.in,e,n);return+Yy(s)==+Yy(o)}function wF(e,n,r){const[s,o]=Po(r==null?void 0:r.in,e,n);return s.getFullYear()===o.getFullYear()&&s.getMonth()===o.getMonth()}function SF(e,n,r){const[s,o]=Po(r==null?void 0:r.in,e,n);return s.getFullYear()===o.getFullYear()}function CF(e,n,r){const s=+rt(e,r==null?void 0:r.in),[o,i]=[+rt(n.start,r==null?void 0:r.in),+rt(n.end,r==null?void 0:r.in)].sort((l,d)=>l-d);return s>=o&&s<=i}function PF(e,n,r){const s=rt(e,r==null?void 0:r.in),o=s.getFullYear(),i=s.getDate(),l=ln(e,0);l.setFullYear(o,n,15),l.setHours(0,0,0,0);const d=cw(l);return s.setMonth(n,Math.min(i,d)),s}function IF(e,n,r){const s=rt(e,r==null?void 0:r.in);return s.setDate(n),s}function DF(e,n,r){const s=rt(e,r==null?void 0:r.in);return s.setHours(n),s}function TF(e,n,r){const s=rt(e,r==null?void 0:r.in);return s.setMilliseconds(n),s}function EF(e,n,r){const s=rt(e,r==null?void 0:r.in);return s.setMinutes(n),s}function AF(e,n,r){const s=rt(e,r==null?void 0:r.in);return s.setSeconds(n),s}function RF(e,n,r){const s=rt(e,r==null?void 0:r.in);return isNaN(+s)?ln(e,NaN):(s.setFullYear(n),s)}const kF=({notification:e})=>{const n=cn(),r=Ct(),{actions:s}=Dp(),o=()=>{switch(e.categoryId){case 1:return t.jsx(Yj,{});case 2:return t.jsx(qj,{});default:return t.jsx(Ed,{})}},i=()=>{switch(e.categoryId){case 1:return n.palette.primary.main;case 2:return n.palette.success.main;default:return n.palette.info.main}},l=async()=>{var u;e.isRead||await s.markAsRead(e.id),(u=e.data)!=null&&u.url&&(r(e.data.url),s.closeDrawer())},d=()=>{try{return Mr(new Date(e.createdAt),{addSuffix:!0})}catch{return"Recently"}};return t.jsxs(rr,{onClick:l,sx:{cursor:"pointer",bgcolor:e.isRead?"transparent":n.palette.action.hover,borderBottom:`1px solid ${n.palette.divider}`,py:2,px:2,"&:hover":{bgcolor:n.palette.action.selected},position:"relative"},children:[!e.isRead&&t.jsx(Kj,{sx:{position:"absolute",left:12,top:"50%",transform:"translateY(-50%)",fontSize:12,color:n.palette.primary.main,zIndex:1}}),t.jsx(ZA,{children:t.jsx(Sn,{sx:{bgcolor:i(),width:40,height:40},children:o()})}),t.jsx(Wt,{primary:t.jsx(j,{variant:"body2",sx:{fontWeight:e.isRead?400:600,color:n.palette.text.primary,mb:.5},children:e.title}),secondary:t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{color:n.palette.text.secondary,fontSize:"0.875rem",mb:.5,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:e.message}),t.jsx(j,{variant:"caption",sx:{color:n.palette.text.disabled,fontSize:"0.75rem"},children:d()})]})})]})},_F=()=>{const e=cn(),n=il(e.breakpoints.down("sm")),{notifications:r,isOpen:s,isLoading:o,hasMore:i,actions:l}=Dp(),d=n?"100%":400,u=()=>{l.closeDrawer()},h=async()=>{await l.markAllAsRead()},f=()=>t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"50vh",px:3},children:[t.jsx(Gj,{sx:{fontSize:80,color:e.palette.text.disabled,mb:2}}),t.jsx(j,{variant:"h6",sx:{color:e.palette.text.secondary,mb:1},children:"No notifications"}),t.jsx(j,{variant:"body2",sx:{color:e.palette.text.disabled,textAlign:"center"},children:"You're all caught up! Check back later for new updates."})]}),m=()=>t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:3},children:t.jsx(sn,{size:32})});return t.jsxs(qo,{anchor:"right",open:s,onClose:u,PaperProps:{sx:{width:d,bgcolor:"background.default"}},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:2,py:2,borderBottom:`1px solid ${e.palette.divider}`,position:"sticky",top:0,bgcolor:"background.default",zIndex:1},children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600},children:"Notifications"}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(ue,{size:"small",onClick:h,sx:{textTransform:"none",fontSize:"0.875rem",color:e.palette.primary.main},children:"Mark all read"}),t.jsx(Ne,{onClick:u,size:"small",children:t.jsx(Hj,{})})]})]}),t.jsx(C,{sx:{height:"calc(100vh - 65px)",overflow:"auto"},id:"notification-scroll-container",children:o&&r.length===0?m():r.length===0?f():t.jsx(xs,{dataLength:r.length,next:l.loadMore,hasMore:i,loader:m(),scrollableTarget:"notification-scroll-container",endMessage:t.jsxs(C,{sx:{py:2,textAlign:"center"},children:[t.jsx(Mt,{sx:{mb:2}}),t.jsx(j,{variant:"caption",sx:{color:e.palette.text.disabled},children:"You've reached the end"})]}),children:t.jsx(fr,{sx:{py:0},children:r.map(g=>t.jsx(kF,{notification:g},g.id))})})})]})},OF=()=>{const e=il("(max-width:600px)"),[n,r]=x.useState(!e),s=cn(),{isLoading:o,isAuthenticated:i}=ta(),[l,d]=x.useState(!1),[u,h]=x.useState(null),f=Ct(),m=bs();x.useEffect(()=>{e&&r(!1)},[e]);const g=()=>{r(!n)},y=E=>{f(`${be.APP_SEARCH}?q=${encodeURIComponent(E)}`),d(!1)},b=()=>{d(!l)},w=E=>{h(E.currentTarget)},v=()=>{h(null)},I=()=>{v(),f(be.APP_ACCOUNT)},S=()=>{v(),f(be.APP_ACCOUNT_SETTINGS)},D=()=>{v(),f(be.STUDIO_ROOT)},T=async()=>{v();try{await(m==null?void 0:m.signOut()),f(be.LOGIN)}catch(E){console.error("Logout error:",E)}};return o?null:i?t.jsxs(C,{sx:{display:"flex",minHeight:"100vh",bgcolor:"background.default",overflow:"hidden"},children:[t.jsx(pd,{position:"fixed",elevation:0,sx:{zIndex:s.zIndex.drawer+1,bgcolor:"background.default",color:"text.primary",boxShadow:"none",borderBottom:"none"},children:t.jsx(qs,{sx:{px:"8px"},children:l&&e?t.jsxs(C,{sx:{display:"flex",alignItems:"center",width:"100%",gap:1},children:[t.jsx(Ne,{color:"inherit",onClick:b,sx:{flexShrink:0},children:t.jsx(up,{})}),t.jsx(C,{sx:{flexGrow:1,mt:.5},children:t.jsx(uf,{onSearch:y,placeholder:"Search",className:"app-search-bar"})})]}):t.jsxs(t.Fragment,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",position:"absolute",left:0},children:[t.jsx(Ne,{color:"inherit","aria-label":"toggle sidebar",onClick:g,sx:{minWidth:40,ml:.5,mr:1.5,"& .MuiSvgIcon-root":{fontSize:24,filter:"drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))"}},children:t.jsx($j,{})}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsxs(j,{variant:"h6",sx:{fontWeight:700,display:"block",letterSpacing:".1rem",fontFamily:"'Inter', -apple-system, sans-serif"},children:[t.jsxs(C,{sx:{display:{xs:"none",sm:"block"}},children:[t.jsx("span",{style:{color:"#2196F3",textTransform:"uppercase",fontWeight:800},children:"Meta"}),t.jsx("span",{style:{color:"#1976D2",fontWeight:600},children:"Journo"})]}),t.jsxs(C,{sx:{display:{xs:"block",sm:"none"}},children:[t.jsx("span",{style:{color:"#2196F3",textTransform:"uppercase",fontWeight:800},children:"M"}),t.jsx("span",{style:{color:"#1976D2",fontWeight:600},children:"Journo"})]})]}),t.jsxs(j,{variant:"caption",sx:{opacity:.7,fontWeight:500,fontSize:"0.75rem",display:{xs:"none",sm:"block"}},children:["v",EL]})]})]}),t.jsx(C,{sx:{position:"absolute",left:"50%",transform:"translateX(-50%)",display:{xs:"none",md:"flex"}},children:t.jsx(uf,{onSearch:y,placeholder:"Search articles, channels, journalists...",className:"app-search-bar"})}),t.jsx(C,{sx:{flexGrow:1}}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Ne,{onClick:b,color:"inherit",sx:{display:{xs:"flex",md:"none"}},children:t.jsx(Id,{})}),t.jsx(ML,{}),t.jsx(Ne,{onClick:w,color:"inherit","aria-controls":u?"profile-menu":void 0,"aria-haspopup":"true","aria-expanded":u?"true":void 0,children:t.jsx(Td,{})})]})]})})}),t.jsx(_F,{}),t.jsxs(wo,{id:"profile-menu",anchorEl:u,open:!!u,onClose:v,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{elevation:3,sx:{mt:1.5,minWidth:200,borderRadius:2,overflow:"visible","& .MuiMenuItem-root":{py:1.5,px:2}}},children:[t.jsxs(we,{onClick:I,children:[t.jsx(qt,{children:t.jsx(ul,{fontSize:"small"})}),t.jsx(Wt,{children:"Account"})]}),t.jsxs(we,{onClick:S,children:[t.jsx(qt,{children:t.jsx(Bj,{fontSize:"small"})}),t.jsx(Wt,{children:"Settings"})]}),t.jsxs(we,{onClick:D,children:[t.jsx(qt,{children:t.jsx(Fj,{fontSize:"small"})}),t.jsx(Wt,{children:"Creator Studio"})]}),t.jsx(Mt,{}),t.jsxs(we,{onClick:T,children:[t.jsx(qt,{children:t.jsx(Wj,{fontSize:"small"})}),t.jsx(Wt,{children:"Logout"})]})]}),e?t.jsxs(qo,{variant:"temporary",open:n,onClose:g,ModalProps:{keepMounted:!0},PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{width:240,border:"none"}},children:[t.jsx(qs,{}),t.jsx(C,{sx:{height:"calc(100% - 64px)",overflow:"auto"},children:t.jsx(Ny,{isOpen:!0,toggleSidebar:g})})]}):t.jsxs(qo,{variant:"permanent",PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{width:n?240:72,flexShrink:0,"& .MuiDrawer-paper":{width:n?240:72,transition:"width 0.2s",overflowX:"hidden",border:"none",borderRight:"none"}},children:[t.jsx(qs,{}),t.jsx(C,{sx:{height:"calc(100% - 64px)",overflow:"auto",overflowX:"hidden",width:"100%"},children:t.jsx(Ny,{isOpen:n,toggleSidebar:g})})]}),t.jsx(C,{component:"main",sx:{flexGrow:1,pt:8,minHeight:"100vh",display:"flex",flexDirection:"column",bgcolor:"background.default",overflow:"hidden",width:"100%"},children:t.jsx(C,{sx:{flexGrow:1,py:3,px:{xs:2,sm:3},overflowY:"auto",overflowX:"hidden",width:"100%",marginLeft:0,marginRight:"auto"},children:t.jsx(Xf,{})})})]}):t.jsx(C,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",bgcolor:"background.default"},children:t.jsx(sn,{})})};var Fp={},MF=Xe;Object.defineProperty(Fp,"__esModule",{value:!0});var Bp=Fp.default=void 0,NF=MF(Je()),LF=t;Bp=Fp.default=(0,NF.default)((0,LF.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");var Wp={},$F=Xe;Object.defineProperty(Wp,"__esModule",{value:!0});var Up=Wp.default=void 0,FF=$F(Je()),BF=t;Up=Wp.default=(0,FF.default)((0,BF.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6"}),"Brightness4");var Vp={},WF=Xe;Object.defineProperty(Vp,"__esModule",{value:!0});var zp=Vp.default=void 0,UF=WF(Je()),VF=t;zp=Vp.default=(0,UF.default)((0,VF.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6m0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4"}),"Brightness7");const zF=vv({palette:{mode:"light",primary:{main:"#2196f3"},background:{default:"#ffffff",paper:"#f8f9fa"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)"}},typography:{fontFamily:"'Poppins', 'Inter', sans-serif",h6:{fontWeight:700,letterSpacing:.5}}}),HF=vv({palette:{mode:"dark",background:{default:"#121212",paper:"#1e1e1e"},text:{primary:"rgba(255, 255, 255, 0.87)",secondary:"rgba(255, 255, 255, 0.6)"}},typography:{fontFamily:"'Poppins', 'Inter', sans-serif",h6:{fontWeight:700,letterSpacing:.5}}}),pw=x.createContext(null),GF=({children:e})=>{const[n,r]=x.useState(null),[s,o]=x.useState(!0),[i,l]=x.useState(null),{api:d}=Ke(),{isAuthenticated:u}=ta(),{user:h}=bs(),f=x.useCallback(async()=>{if(!(!h||!u))try{o(!0),l(null);const y=await d.app.account.getUserPreference();r(y)}catch(y){console.error("Error fetching user preferences:",y),l(y.message||"Failed to load preferences"),r({id:null,userId:h.uid,themeInfo:{mode:"light"},createdAt:null,updatedAt:null})}finally{o(!1)}},[h,u,d]);x.useEffect(()=>{f()},[f]);const m=x.useCallback(async y=>{if(!h)throw new Error("User not authenticated");try{l(null);const b=await d.app.account.updateUserPreference(y);r(b)}catch(b){throw console.error("Error updating user preference:",b),l(b.message||"Failed to update preference"),b}},[h,d]),g=x.useCallback(async()=>{await f()},[f]);return t.jsx(pw.Provider,{value:{preference:n,loading:s,error:i,updatePreference:m,refreshPreferences:g},children:e})},YF=()=>{const e=x.useContext(pw);if(!e)throw new Error("useUserPreferences must be used within UserPreferencesProvider");return e},mw=x.createContext({}),qF=({children:e})=>{var u;const{preference:n,loading:r,updatePreference:s}=YF(),[o,i]=x.useState(()=>{var h;return(h=n==null?void 0:n.themeInfo)!=null&&h.mode?n.themeInfo.mode==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});x.useEffect(()=>{var h;!r&&((h=n==null?void 0:n.themeInfo)!=null&&h.mode)&&i(n.themeInfo.mode==="dark")},[(u=n==null?void 0:n.themeInfo)==null?void 0:u.mode,r]);const l=async()=>{const h=!o;i(h);try{await s({themeInfo:{mode:h?"dark":"light"}})}catch(f){console.error("Failed to save theme preference:",f)}},d=x.useMemo(()=>o?HF:zF,[o]);return t.jsx(mw.Provider,{value:{isDarkMode:o,toggleTheme:l},children:t.jsxs(eR,{theme:d,children:[t.jsx(tR,{}),e]})})},Hp=()=>x.useContext(mw);var Gp={},KF=Xe;Object.defineProperty(Gp,"__esModule",{value:!0});var xw=Gp.default=void 0,XF=KF(Je()),JF=t;xw=Gp.default=(0,XF.default)((0,JF.jsx)("path",{d:"m22 3-1.67 1.67L18.67 3 17 4.67 15.33 3l-1.66 1.67L12 3l-1.67 1.67L8.67 3 7 4.67 5.33 3 3.67 4.67 2 3v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2zM11 19H4v-6h7zm9 0h-7v-2h7zm0-4h-7v-2h7zm0-4H4V8h16z"}),"Newspaper");var Yp={},QF=Xe;Object.defineProperty(Yp,"__esModule",{value:!0});var qp=Yp.default=void 0,ZF=QF(Je()),qy=t;qp=Yp.default=(0,ZF.default)([(0,qy.jsx)("path",{d:"M17 19.22H5V7h7V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-7h-2z"},"0"),(0,qy.jsx)("path",{d:"M19 2h-2v3h-3c.01.01 0 2 0 2h3v2.99c.01.01 2 0 2 0V7h3V5h-3zM7 9h8v2H7zm0 3v2h8v-2h-3zm0 3h8v2H7z"},"1")],"PostAdd");var Kp={},e4=Xe;Object.defineProperty(Kp,"__esModule",{value:!0});var hl=Kp.default=void 0,t4=e4(Je()),n4=t;hl=Kp.default=(0,t4.default)((0,n4.jsx)("path",{d:"M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2m0 14H3V5h18zm-5-7v2h-3v3h-2v-3H8v-2h3V7h2v3z"}),"AddToQueue");var Xp={},r4=Xe;Object.defineProperty(Xp,"__esModule",{value:!0});var Jp=Xp.default=void 0,s4=r4(Je()),o4=t;Jp=Xp.default=(0,s4.default)((0,o4.jsx)("path",{d:"M22 5v2h-3v3h-2V7h-3V5h3V2h2v3zm-3 14H5V5h6V3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6h-2zm-4-6v4h2v-4zm-4 4h2V9h-2zm-2 0v-6H7v6z"}),"Addchart");var Qp={},a4=Xe;Object.defineProperty(Qp,"__esModule",{value:!0});var gw=Qp.default=void 0,i4=a4(Je()),l4=t;gw=Qp.default=(0,i4.default)((0,l4.jsx)("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}),"Receipt");var Zp={},c4=Xe;Object.defineProperty(Zp,"__esModule",{value:!0});var kd=Zp.default=void 0,d4=c4(Je()),u4=t;kd=Zp.default=(0,d4.default)((0,u4.jsx)("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney");const h4=({mobileOpen:e,onDrawerToggle:n})=>{const r=ea(),s=window.innerWidth<=600,o={news:[{path:be.STUDIO_NEWS,icon:t.jsx(xw,{}),label:"My News"},{path:be.STUDIO_NEWS_CREATE,icon:t.jsx(qp,{}),label:"Create News"}],channels:[{path:be.STUDIO_CHANNELS,icon:t.jsx(mp,{}),label:"My Channels"},{path:be.STUDIO_CHANNEL_CREATE,icon:t.jsx(hl,{}),label:"Create Channel"}],polls:[{path:be.STUDIO_POLLS,icon:t.jsx(Dd,{}),label:"My Polls"},{path:be.STUDIO_POLL_CREATE,icon:t.jsx(Jp,{}),label:"Create Poll"}],payouts:[{path:be.STUDIO_EXPENSE_ORDERS,icon:t.jsx(gw,{}),label:"My Payouts"},{path:be.STUDIO_EXPENSE_ORDER_CREATE,icon:t.jsx(kd,{}),label:"Request Payout"}]},i=t.jsxs(C,{children:[t.jsx(qs,{}),t.jsxs(fr,{sx:{px:2},children:[t.jsx(j,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"News Management"}),o.news.map(l=>t.jsxs(rr,{button:!0,component:Xn,to:l.path,selected:r.pathname===l.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(qt,{sx:{minWidth:40,color:r.pathname===l.path?"primary.main":"inherit"},children:l.icon}),t.jsx(Wt,{primary:l.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===l.path?600:400}})]},l.path)),t.jsx(Mt,{sx:{my:2}}),t.jsx(j,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"Channel Management"}),o.channels.map(l=>t.jsxs(rr,{button:!0,component:Xn,to:l.path,selected:r.pathname===l.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(qt,{sx:{minWidth:40,color:r.pathname===l.path?"primary.main":"inherit"},children:l.icon}),t.jsx(Wt,{primary:l.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===l.path?600:400}})]},l.path))]}),t.jsx(Mt,{sx:{my:2}}),t.jsxs(fr,{sx:{px:2},children:[t.jsx(j,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"Poll Management"}),o.polls.map(l=>t.jsxs(rr,{button:!0,component:Xn,to:l.path,selected:r.pathname===l.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(qt,{sx:{minWidth:40,color:r.pathname===l.path?"primary.main":"inherit"},children:l.icon}),t.jsx(Wt,{primary:l.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===l.path?600:400}})]},l.path))]}),t.jsx(Mt,{sx:{my:2}}),t.jsxs(fr,{sx:{px:2},children:[t.jsx(j,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"Payout Management"}),o.payouts.map(l=>t.jsxs(rr,{button:!0,component:Xn,to:l.path,selected:r.pathname===l.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(qt,{sx:{minWidth:40,color:r.pathname===l.path?"primary.main":"inherit"},children:l.icon}),t.jsx(Wt,{primary:l.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===l.path?600:400}})]},l.path))]})]});return t.jsx(t.Fragment,{children:s?t.jsx(qo,{variant:"temporary",open:e,onClose:n,ModalProps:{keepMounted:!0},PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{width:240,border:"none"}},children:i}):t.jsx(qo,{variant:"permanent",PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,transition:"width 0.2s",overflowX:"hidden",border:"none",borderRight:"none"}},children:i})})},f4=()=>{const[e,n]=x.useState(!1),[r,s]=x.useState(null),o=Ct(),i=cn(),{isDarkMode:l,toggleTheme:d}=Hp(),{isLoading:u,isAuthenticated:h}=ta(),f=()=>{n(!e)},m=v=>{s(v.currentTarget)},g=()=>{s(null)},y=v=>{o(v),g()},b=v=>{o(`${be.STUDIO_SEARCH}?q=${encodeURIComponent(v)}`)},w=v=>{o(`${be.STUDIO_SEARCH}?q=${encodeURIComponent(v.text)}`)};return u||!h?null:t.jsxs(C,{sx:{display:"flex",minHeight:"100vh",bgcolor:"background.default"},children:[t.jsx(pd,{position:"fixed",elevation:0,sx:{zIndex:i.zIndex.drawer+1,bgcolor:"background.default",color:"text.primary",boxShadow:"none",borderBottom:"none"},children:t.jsxs(qs,{sx:{px:"8px"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",minWidth:200},children:[t.jsx(Ne,{color:"inherit","aria-label":"toggle sidebar",onClick:f,sx:{minWidth:40,ml:.5,mr:1.5,"& .MuiSvgIcon-root":{fontSize:24,filter:"drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))"}},children:t.jsx(Bp,{})}),t.jsxs(j,{variant:"h6",sx:{fontWeight:700,display:"block",letterSpacing:".1rem",fontFamily:"'Inter', -apple-system, sans-serif"},children:[t.jsx(C,{sx:{display:{xs:"none",sm:"block"}},children:"Creator Studio"}),t.jsx(C,{sx:{display:{xs:"block",sm:"none"}},children:"Studio"})]})]}),t.jsx(C,{sx:{flexGrow:1,display:"flex",justifyContent:"center"},children:t.jsx(uf,{onSearch:b,onSuggestionSelect:w,placeholder:"Search your content and analytics...",className:"studio-search-bar"})}),t.jsx(Ne,{onClick:d,color:"inherit",children:l?t.jsx(zp,{}):t.jsx(Up,{})}),t.jsx(Ne,{onClick:()=>o(be.APP_ROOT),color:"inherit",sx:{ml:2},children:t.jsx(Fa,{})}),t.jsx(Ne,{onClick:m,color:"inherit",sx:{ml:2},children:t.jsx(Td,{})}),t.jsx(wo,{anchorEl:r,open:!!r,onClose:g,PaperProps:{sx:{width:220}},children:[{path:be.APP_ROOT,icon:t.jsx(Fa,{fontSize:"small"}),label:"Exit Studio"}].map(v=>t.jsxs(we,{onClick:()=>y(v.path),children:[t.jsx(qt,{children:v.icon}),t.jsx(Wt,{children:v.label})]},v.path))})]})}),t.jsx(h4,{mobileOpen:e,onDrawerToggle:f}),t.jsx(C,{component:"main",sx:{flexGrow:1,pt:8,width:0,minHeight:"100vh",display:"flex",flexDirection:"column",bgcolor:"background.default"},children:t.jsx(C,{sx:{flexGrow:1,py:3,px:{xs:2,sm:3},maxWidth:1200,mx:"auto",width:"100%"},children:t.jsx(Xf,{})})})]})};var em={},p4=Xe;Object.defineProperty(em,"__esModule",{value:!0});var mf=em.default=void 0,m4=p4(Je()),x4=t;mf=em.default=(0,m4.default)((0,x4.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security");const Oh=280,g4=({mobileOpen:e,onDrawerToggle:n})=>{const r=Ct(),s=ea(),o=[{text:"Dashboard",icon:t.jsx(jv,{}),path:be.ADMIN_ROOT,exact:!0},{text:"News Management",icon:t.jsx(Yo,{}),path:be.ADMIN_NEWS},{text:"Poll Management",icon:t.jsx($f,{}),path:be.ADMIN_POLLS},{text:"Channel Management",icon:t.jsx(Lf,{}),path:be.ADMIN_CHANNELS},{text:"User Management",icon:t.jsx(bo,{}),path:be.ADMIN_USERS},{text:"Expense Orders",icon:t.jsx(Ks,{}),path:be.ADMIN_EXPENSE_ORDERS},{text:"Payout Management",icon:t.jsx(Ma,{}),path:be.ADMIN_PAYOUTS},{text:"Tag Management",icon:t.jsx(Ff,{}),path:be.ADMIN_TAGS},{text:"Subscriptions",icon:t.jsx(Na,{}),path:be.ADMIN_SUBSCRIPTIONS},{text:"Analytics",icon:t.jsx(ds,{}),path:be.ADMIN_ANALYTICS},{text:"Settings",icon:t.jsx(Ic,{}),path:be.ADMIN_SETTINGS}],i=u=>u.exact?s.pathname===u.path||s.pathname==="/admin"&&u.path===be.ADMIN_ROOT:s.pathname.startsWith(u.path),l=u=>{r(u),e&&n()},d=t.jsxs(C,{children:[t.jsx(qs,{sx:{px:3,py:2,bgcolor:"error.main",color:"error.contrastText"},children:t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[t.jsx(j,{variant:"h6",noWrap:!0,component:"div",sx:{fontWeight:700,flexGrow:1,fontFamily:"'Inter', -apple-system, sans-serif"},children:"Admin Panel"}),t.jsx(Qe,{label:"Admin",size:"small",sx:{bgcolor:"error.contrastText",color:"error.main",fontWeight:600}})]})}),t.jsx(Mt,{}),t.jsx(fr,{sx:{pt:2,px:2},children:o.map(u=>{const h=i(u);return t.jsx(rr,{disablePadding:!0,sx:{mb:.5},children:t.jsxs(Qh,{onClick:()=>l(u.path),sx:{borderRadius:2,px:2,py:1.5,minHeight:48,bgcolor:h?"error.main":"transparent",color:h?"error.contrastText":"text.primary","&:hover":{bgcolor:h?"error.dark":"action.hover"},"& .MuiListItemIcon-root":{color:h?"error.contrastText":"text.secondary",minWidth:36},transition:"all 0.2s ease-in-out"},children:[t.jsx(qt,{children:u.icon}),t.jsx(Wt,{primary:u.text,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:h?600:500,fontFamily:"'Inter', -apple-system, sans-serif"}})]})},u.text)})}),t.jsx(Mt,{sx:{my:2}}),t.jsx(fr,{sx:{px:2},children:t.jsx(rr,{disablePadding:!0,children:t.jsxs(Qh,{onClick:()=>l(be.APP_ROOT),sx:{borderRadius:2,px:2,py:1.5,minHeight:48,color:"text.secondary","&:hover":{bgcolor:"action.hover"}},children:[t.jsx(qt,{sx:{color:"text.secondary",minWidth:36},children:t.jsx(nR,{})}),t.jsx(Wt,{primary:"Back to App",primaryTypographyProps:{fontSize:"0.875rem",fontWeight:500,fontFamily:"'Inter', -apple-system, sans-serif"}})]})})})]});return t.jsxs(C,{component:"nav",sx:{width:{sm:Oh},flexShrink:{sm:0}},children:[t.jsx(qo,{variant:"temporary",open:e,onClose:n,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:Oh,bgcolor:"background.paper",borderRight:"1px solid",borderRightColor:"divider"}},children:d}),t.jsx(qo,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:Oh,bgcolor:"background.paper",borderRight:"1px solid",borderRightColor:"divider"}},open:!0,children:d})]})},b4=()=>{const[e,n]=x.useState(!1),[r,s]=x.useState(null),o=Ct(),i=cn(),{isDarkMode:l,toggleTheme:d}=Hp(),{isLoading:u,isAuthenticated:h}=ta(),{user:f}=bs(),m=()=>{n(!e)},g=w=>{s(w.currentTarget)},y=()=>{s(null)},b=w=>{o(w),y()};return u?null:f&&!h?t.jsx(C,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",bgcolor:"background.default"},children:t.jsx(sn,{})}):t.jsxs(C,{sx:{display:"flex",minHeight:"100vh",bgcolor:"background.default"},children:[t.jsx(pd,{position:"fixed",elevation:0,sx:{zIndex:i.zIndex.drawer+1,bgcolor:"background.default",color:"text.primary",boxShadow:"none",borderBottom:"1px solid",borderBottomColor:"divider"},children:t.jsxs(qs,{sx:{px:"8px"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",minWidth:200},children:[t.jsx(Ne,{color:"inherit","aria-label":"toggle sidebar",onClick:m,sx:{minWidth:40,ml:.5,mr:1.5,"& .MuiSvgIcon-root":{fontSize:24,filter:"drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))"}},children:t.jsx(Bp,{})}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(mf,{sx:{color:"error.main"}}),t.jsxs(j,{variant:"h6",sx:{fontWeight:700,display:"block",letterSpacing:".1rem",fontFamily:"'Inter', -apple-system, sans-serif",color:"error.main"},children:[t.jsx(C,{sx:{display:{xs:"none",sm:"block"}},children:"Admin Panel"}),t.jsx(C,{sx:{display:{xs:"block",sm:"none"}},children:"Admin"})]})]})]}),t.jsx(C,{sx:{flexGrow:1}}),t.jsx(Ne,{onClick:d,color:"inherit",children:l?t.jsx(zp,{}):t.jsx(Up,{})}),t.jsx(Ne,{onClick:()=>o(be.APP_ROOT),color:"inherit",sx:{ml:2},children:t.jsx(Fa,{})}),t.jsx(Ne,{onClick:g,color:"inherit",sx:{ml:2},children:t.jsx(Td,{})}),t.jsx(wo,{anchorEl:r,open:!!r,onClose:y,PaperProps:{sx:{width:220}},children:[{path:be.APP_ROOT,icon:t.jsx(Fa,{fontSize:"small"}),label:"Exit Admin"},{path:be.STUDIO_ROOT,icon:t.jsx(mf,{fontSize:"small"}),label:"Creator Studio"}].map(w=>t.jsxs(we,{onClick:()=>b(w.path),children:[t.jsx(qt,{children:w.icon}),t.jsx(Wt,{children:w.label})]},w.path))})]})}),t.jsx(g4,{mobileOpen:e,onDrawerToggle:m}),t.jsx(C,{component:"main",sx:{flexGrow:1,pt:8,width:0,minHeight:"100vh",display:"flex",flexDirection:"column",bgcolor:"background.default"},children:t.jsx(C,{sx:{flexGrow:1,py:3,px:{xs:2,sm:3},maxWidth:1400,mx:"auto",width:"100%"},children:t.jsx(Xf,{})})})]})},[y4,ys]=Pd(),v4=({children:e})=>{const{api:n}=Ke(),{user:r}=bs(),{execute:s}=tt(),[o,i]=x.useState(null),[l,d]=x.useState(!1),[u,h]=x.useState(!1),[f,m]=x.useState(!1),g=x.useRef(r==null?void 0:r.uid);g.current=r==null?void 0:r.uid;const y=x.useCallback(async()=>{if(!g.current)return;d(!0),m(!1);const w=await s(()=>n.app.account.getProfile(),{showErrorToast:!1});w?i(w):m(!0),d(!1),h(!0)},[n,s]);x.useEffect(()=>{r||(i(null),d(!1),h(!1),m(!1))},[r]);const b={profile:o,isLoading:l,isInitialized:u,hasServerError:f,channelRelations:{getSubscription:w=>{var v;return((v=o==null?void 0:o.subscriptions)==null?void 0:v.find(I=>I.channelId===w))??null},getSubscriptions:()=>(o==null?void 0:o.subscriptions)??[],hasSubscription:w=>{var v;return((v=o==null?void 0:o.subscriptions)==null?void 0:v.some(I=>I.channelId===w))??!1},hasChannel:()=>{var w;return((w=o==null?void 0:o.staffChannels)==null?void 0:w.length)&&o.staffChannels.length>0},getSubscriptionTier:w=>{var v,I;return((I=(v=o==null?void 0:o.subscriptions)==null?void 0:v.find(S=>S.channelId===w))==null?void 0:I.tier)??null}},actions:{refreshProfile:y}};return t.jsx(y4.Provider,{value:b,children:e})},Mh=({children:e})=>{const{isLoading:n,isAuthenticated:r,actions:s}=ta(),{isLoading:o,isInitialized:i,hasServerError:l,actions:d}=ys();return x.useEffect(()=>{r&&!i&&!o&&!l&&d.refreshProfile()},[r,i,o,l,d]),x.useEffect(()=>{l&&r&&s.signOut()},[l,r,s]),n||o||!i?null:r?l?t.jsx(iy,{to:be.LOGIN}):t.jsx(t.Fragment,{children:e}):t.jsx(iy,{to:be.LOGIN})};var tm={},j4=Xe;Object.defineProperty(tm,"__esModule",{value:!0});var nm=tm.default=void 0;C4(x);var w4=j4(Je()),S4=t;function bw(e){if(typeof WeakMap!="function")return null;var n=new WeakMap,r=new WeakMap;return(bw=function(s){return s?r:n})(e)}function C4(e,n){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=bw(n);if(r&&r.has(e))return r.get(e);var s={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(s,i,l):s[i]=e[i]}return s.default=e,r&&r.set(e,s),s}nm=tm.default=(0,w4.default)((0,S4.jsx)("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"}),"Google");const P4=Me(ue)(({theme:e,bgcolor:n})=>({color:"#fff",backgroundColor:n,boxShadow:`0 2px 4px 0 ${n}80`,"&:hover":{backgroundColor:e.palette.augmentColor({color:{main:n}}).dark},"& .MuiButton-startIcon":{marginRight:e.spacing(1)}})),I4=()=>{const[e,n]=x.useState(""),[r,s]=x.useState(""),[o,i]=x.useState(""),[l,d]=x.useState(!1),u=bs(),{api:h}=Ke(),f=Ct(),{execute:m}=tt(),g=async b=>{b.preventDefault(),i(""),d(!0);try{const w=await(u==null?void 0:u.signIn(e,r));w&&(await m(()=>h==null?void 0:h.auth.signIn({idToken:w}),{showSuccessMessage:!0,successMessage:"Successfully logged in!"})?f(be.APP_NEWS_TRENDING):(await(u==null?void 0:u.signOut()),i("Failed to connect to server. Please try again.")))}catch(w){const v=w instanceof Error?w.message:"Failed to login with email and password";i(v)}finally{d(!1)}},y=async b=>{i(""),d(!0);try{const w=await(u==null?void 0:u.signInWithProvider(b));w&&(await m(()=>h==null?void 0:h.auth.signIn({idToken:w}),{showSuccessMessage:!0,successMessage:"Successfully logged in!"})?f(be.APP_NEWS_TRENDING):(await(u==null?void 0:u.signOut()),i("Failed to connect to server. Please try again.")))}catch(w){const v=w instanceof Error?w.message:"Failed to login with Google";i(v)}finally{d(!1)}};return t.jsxs(It,{maxWidth:"xs",sx:{mt:8},children:[t.jsx(C,{sx:{textAlign:"center",mb:4},children:t.jsx(j,{variant:"h4",gutterBottom:!0,children:"Welcome back!"})}),o&&t.jsx(dt,{severity:"error",sx:{mb:2},children:o}),t.jsxs(C,{component:"form",onSubmit:g,sx:{mb:2},children:[t.jsx(nt,{label:"Email",variant:"outlined",fullWidth:!0,margin:"normal",type:"email",autoComplete:"email",value:e,onChange:b=>n(b.target.value),disabled:l}),t.jsx(nt,{label:"Password",variant:"outlined",fullWidth:!0,type:"password",margin:"normal",autoComplete:"current-password",value:r,onChange:b=>s(b.target.value),disabled:l}),t.jsx(C,{sx:{textAlign:"right",mb:2},children:t.jsx(md,{href:"#",variant:"caption",children:"Did you forget your password?"})}),t.jsx(ue,{type:"submit",variant:"outlined",color:"secondary",fullWidth:!0,sx:{mb:2},disabled:l,children:l?"Logging in...":"Log In"})]}),t.jsx(Mt,{sx:{my:2},children:"OR"}),t.jsx(C,{sx:{textAlign:"center",mb:2},children:t.jsx(j,{variant:"body2",gutterBottom:!0,children:"You can sign in or sign up our application with following providers"})}),t.jsx(C,{sx:{display:"flex",flexDirection:"column",gap:2},children:t.jsx(P4,{variant:"contained",startIcon:t.jsx(nm,{}),bgcolor:"#DB4437",onClick:()=>y(Oj),disabled:l,children:"Sign in with Google"})}),t.jsx(Mt,{sx:{my:3}}),t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Don't have an account?"}),t.jsxs(C,{sx:{display:"flex",justifyContent:"center",gap:2},children:[t.jsx(ue,{variant:"outlined",size:"small",onClick:()=>f(`${be.SIGNUP}?role=journalist`),disabled:l,children:"Sign up as Journalist"}),t.jsx(ue,{variant:"outlined",size:"small",onClick:()=>f(`${be.SIGNUP}?role=reader`),disabled:l,children:"Sign up as Reader"})]})]})]})},Yn={ACTIVE:1,INACTIVE:2,PENDING:3,BLOCKED:4,SUSPENDED:5,BANNED:6,DELETED:7,NOT_VERIFIED:8},an={SUPER_ADMIN:1,ADMIN:2,MODERATOR:3,REGULAR_USER:4,GUEST:5,JOURNALIST:6,EDITOR:7,EVALUATOR:8,FINANCE_MANAGER:9},D4=Me(ue)(({theme:e,bgcolor:n})=>({color:"#fff",backgroundColor:n,boxShadow:`0 2px 4px 0 ${n}80`,"&:hover":{backgroundColor:e.palette.augmentColor({color:{main:n}}).dark},"& .MuiButton-startIcon":{marginRight:e.spacing(1)}})),T4=()=>{const[e]=Mv(),[n,r]=x.useState({displayName:"",email:"",password:"",confirmPassword:""}),[s,o]=x.useState({}),[i,l]=x.useState(""),[d,u]=x.useState(!1),h=bs(),{api:f}=Ke(),{execute:m}=tt(),g=Ct(),y=e.get("role"),b=x.useMemo(()=>y==="journalist"?an.JOURNALIST:an.REGULAR_USER,[y]),w=x.useMemo(()=>y==="journalist"?{title:"Join as a Journalist",subtitle:"Create and share your stories with the world",benefits:["Publish articles and build your readership","Monetize your content","Access analytics and insights","Connect with your audience"]}:{title:"Join as a Reader",subtitle:"Discover and support independent journalism",benefits:["Access quality journalism","Support journalists you trust","Personalized news feed","Engage with content"]},[y]),v=x.useCallback(T=>E=>{const R=E.target.value;r(O=>({...O,[T]:R})),s[T]&&o(O=>({...O,[T]:void 0})),i&&l("")},[s,i]),I=x.useCallback(()=>{const T={};return n.displayName.trim()?n.displayName.trim().length<2?T.displayName="Display name must be at least 2 characters":n.displayName.trim().length>50&&(T.displayName="Display name must be less than 50 characters"):T.displayName="Display name is required",n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(T.email="Please enter a valid email address"):T.email="Email is required",n.password?n.password.length<6&&(T.password="Password must be at least 6 characters"):T.password="Password is required",n.confirmPassword?n.password!==n.confirmPassword&&(T.confirmPassword="Passwords do not match"):T.confirmPassword="Please confirm your password",o(T),Object.keys(T).length===0},[n]),S=x.useCallback(async T=>{if(T.preventDefault(),l(""),!!I()){u(!0);try{const E=await(h==null?void 0:h.signUp(n.email,n.password));E&&(await m(()=>f==null?void 0:f.auth.signUp({externalId:E.uid,email:E.email,displayName:n.displayName.trim(),photoUrl:E.photoURL??"",roleId:b}),{showSuccessMessage:!0,successMessage:"Account created successfully!"})?g(`${be.POST_SIGNUP}?role=${y||"reader"}`):(await(h==null?void 0:h.signOut()),l("Failed to connect to server. Please try again.")))}catch(E){const R=E instanceof Error?E.message:"Failed to sign up with email and password";l(R)}finally{u(!1)}}},[n,h,f,m,I,b,g,y]),D=x.useCallback(async T=>{l(""),u(!0);try{const E=await(h==null?void 0:h.signInWithProvider(T));if(E&&(h!=null&&h.user))if(await m(()=>f==null?void 0:f.auth.signIn({idToken:E}),{showErrorToast:!1})){g(be.APP_NEWS_TRENDING);return}else await m(()=>f==null?void 0:f.auth.signUp({externalId:h.user.uid,email:h.user.email||"",displayName:h.user.displayName||"",photoUrl:h.user.photoURL||"",roleId:b}),{showSuccessMessage:!0,successMessage:"Account created successfully!"})?g(`${be.POST_SIGNUP}?role=${y||"reader"}`):(await(h==null?void 0:h.signOut()),l("Failed to connect to server. Please try again."))}catch(E){const R=E instanceof Error?E.message:"Failed to login with social provider";l(R)}finally{u(!1)}},[h,f,m,b,g,y]);return t.jsxs(It,{maxWidth:"xs",sx:{mt:8},children:[t.jsxs(C,{sx:{textAlign:"center",mb:4},children:[t.jsx(j,{variant:"h4",gutterBottom:!0,children:w.title}),t.jsx(j,{variant:"body1",color:"text.secondary",sx:{mb:2},children:w.subtitle}),y&&t.jsx(Qe,{label:y==="journalist"?"Journalist Account":"Reader Account",color:"primary",variant:"outlined",sx:{mb:2}})]}),i&&t.jsx(dt,{severity:"error",sx:{mb:2},children:i}),t.jsxs(C,{component:"form",onSubmit:S,noValidate:!0,children:[t.jsx(nt,{label:"Display Name",variant:"outlined",fullWidth:!0,margin:"normal",type:"text",autoComplete:"name",value:n.displayName,onChange:v("displayName"),error:!!s.displayName,helperText:s.displayName,disabled:d,required:!0}),t.jsx(nt,{label:"Email",variant:"outlined",fullWidth:!0,margin:"normal",type:"email",autoComplete:"email",value:n.email,onChange:v("email"),error:!!s.email,helperText:s.email,disabled:d,required:!0}),t.jsx(nt,{label:"Password",variant:"outlined",fullWidth:!0,type:"password",margin:"normal",autoComplete:"new-password",value:n.password,onChange:v("password"),error:!!s.password,helperText:s.password,disabled:d,required:!0}),t.jsx(nt,{label:"Confirm Password",variant:"outlined",fullWidth:!0,type:"password",margin:"normal",autoComplete:"new-password",value:n.confirmPassword,onChange:v("confirmPassword"),error:!!s.confirmPassword,helperText:s.confirmPassword,disabled:d,required:!0}),t.jsx(ue,{type:"submit",variant:"outlined",color:"secondary",fullWidth:!0,sx:{mt:3,mb:2},disabled:d,children:d?"Creating Account...":"Sign Up"})]}),t.jsx(Mt,{sx:{my:2},children:"OR"}),t.jsx(C,{sx:{textAlign:"center",mb:2},children:t.jsx(j,{variant:"body2",color:"text.secondary",children:"You can sign up with the following providers"})}),t.jsx(C,{sx:{display:"flex",flexDirection:"column",gap:2},children:t.jsx(D4,{variant:"contained",startIcon:t.jsx(nm,{}),bgcolor:"#DB4437",onClick:()=>D(Oj),disabled:d,children:"Sign up with Google"})})]})},E4=()=>{const[e]=Mv(),[n,r]=x.useState(0),[s,o]=x.useState(!1),[i,l]=x.useState({primaryRole:"",interests:[],experience:"",goals:[]}),d=Ct(),{api:u}=Ke(),{execute:h}=tt(),f=e.get("role"),m=!!f,g=m?["Welcome","Your interests","Get started"]:["Welcome","Tell us about yourself","Your interests","Get started"];x.useEffect(()=>{f&&!i.primaryRole&&l(k=>({...k,primaryRole:f}))},[f,i.primaryRole]);const y=[{role:"journalist",title:"I want to write and publish",description:"Create articles, investigate stories, and build your readership",features:["Article editor","Story planning tools","Reader analytics","Revenue sharing"],userRole:an.JOURNALIST},{role:"editor",title:"I want to manage content",description:"Review, edit, and oversee publication workflows",features:["Editorial dashboard","Content review tools","Team management","Quality control"],userRole:an.EDITOR},{role:"reader",title:"I want to read and discover",description:"Follow journalists, discover stories, and engage with content",features:["Personalized feed","Bookmarking","Comment system","Newsletter subscriptions"],userRole:an.REGULAR_USER}],b=["Politics","Technology","Science","Sports","Business","Culture","Health","Environment","Entertainment","Education","Travel","Food"],w=(k,N)=>{l(B=>({...B,primaryRole:k})),I(N),r(1)},v=()=>{n>0&&r(n-1)},I=async k=>{o(!0),console.log("PostSignUpFlow: Updating user role to:",k),await h(()=>u==null?void 0:u.app.account.updateProfile({roleId:k}),{showSuccessMessage:!1,showErrorToast:!1}),console.log("PostSignUpFlow: User role update completed"),o(!1)},S=k=>{l(N=>({...N,interests:N.interests.includes(k)?N.interests.filter(B=>B!==k):[...N.interests,k]}))},D=async()=>{o(!0);try{localStorage.setItem("userInterests",JSON.stringify(i.interests)),d(be.APP_NEWS_MY_FEED)}catch(k){console.error("Error saving profile:",k),d(be.APP_NEWS_MY_FEED)}finally{o(!1)}},T=()=>{d(be.APP_NEWS_MY_FEED)},E=()=>{if(m){const k=f==="journalist"?"Journalist":"Reader";return t.jsxs(C,{sx:{textAlign:"center",py:4},children:[t.jsxs(j,{variant:"h4",gutterBottom:!0,children:["Welcome, ",k,"! "]}),t.jsx(j,{variant:"body1",sx:{mb:4,maxWidth:600,mx:"auto"},children:f==="journalist"?"You're all set to start creating and publishing your stories. Let's personalize your experience.":"You're all set to discover and support independent journalism. Let's personalize your feed."}),t.jsxs(C,{sx:{textAlign:"center",mt:4},children:[t.jsx(ue,{variant:"contained",size:"large",onClick:()=>r(1),sx:{px:4},children:"Continue"}),t.jsx(ue,{variant:"text",onClick:T,sx:{display:"block",mt:2,mx:"auto",color:"text.secondary"},children:"Skip for now"})]})]})}return t.jsxs(C,{sx:{textAlign:"center",py:4},children:[t.jsx(j,{variant:"h4",gutterBottom:!0,children:"Welcome to the Journalist Platform! "}),t.jsx(j,{variant:"body1",sx:{mb:4,maxWidth:600,mx:"auto"},children:"Let's personalize your experience. What brings you here today?"}),t.jsx(j,{variant:"body2",sx:{mb:4,textAlign:"center",color:"text.secondary"},children:"Don't worry, you can always change this later in your settings."}),t.jsx(F,{container:!0,spacing:3,sx:{mt:2},children:y.map(k=>t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx(Fe,{sx:{cursor:"pointer","&:hover":{boxShadow:6},height:"100%",transition:"box-shadow 0.3s"},onClick:()=>w(k.role,k.userRole),children:t.jsxs(We,{sx:{p:3,textAlign:"center"},children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:k.title}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:k.description}),t.jsx(C,{sx:{textAlign:"left"},children:k.features.map((N,B)=>t.jsxs(j,{variant:"caption",display:"block",sx:{mb:.5},children:[" ",N]},B))})]})})},k.role))}),t.jsx(C,{sx:{textAlign:"center",mt:4},children:t.jsx(ue,{variant:"text",onClick:T,sx:{color:"text.secondary"},children:"Skip for now"})})]})},R=()=>t.jsxs(C,{sx:{py:4},children:[t.jsx(j,{variant:"h5",gutterBottom:!0,textAlign:"center",children:"What topics interest you most?"}),t.jsx(j,{variant:"body1",textAlign:"center",sx:{mb:4},children:"Select any that apply - we'll use this to personalize your experience"}),t.jsx(F,{container:!0,spacing:2,sx:{maxWidth:600,mx:"auto"},children:b.map(k=>t.jsx(F,{item:!0,xs:6,sm:4,children:t.jsx(ue,{variant:i.interests.includes(k)?"contained":"outlined",fullWidth:!0,onClick:()=>S(k),sx:{py:1.5},children:k})},k))}),t.jsxs(C,{sx:{textAlign:"center",mt:4},children:[!m&&t.jsx(ue,{variant:"outlined",onClick:v,sx:{mr:2},children:"Back"}),t.jsx(ue,{variant:"contained",size:"large",onClick:()=>r(2),disabled:i.interests.length===0,children:"Continue"}),t.jsx(ue,{variant:"text",onClick:T,sx:{display:"block",mt:2,mx:"auto",color:"text.secondary"},children:"Skip for now"})]})]}),O=()=>t.jsxs(C,{sx:{textAlign:"center",py:4},children:[t.jsx(j,{variant:"h5",gutterBottom:!0,children:"You're all set! "}),t.jsx(j,{variant:"body1",sx:{mb:4},children:"Based on your preferences, we've customized your experience. Ready to get started?"}),t.jsx(ue,{variant:"contained",size:"large",onClick:D,disabled:s,sx:{px:4},children:s?"Setting up...":"Enter Platform"})]});return t.jsxs(It,{maxWidth:"lg",sx:{mt:4,mb:8},children:[t.jsx(rR,{activeStep:n,sx:{mb:6},children:g.map(k=>t.jsx(sR,{children:t.jsx(oR,{children:k})},k))}),m?t.jsxs(t.Fragment,{children:[n===0&&E(),n===1&&R(),n===2&&O()]}):t.jsxs(t.Fragment,{children:[n===0&&E(),n===1&&R(),n===2&&O()]})]})},A4="/journalist-material-client/assets/landing_page_compiled-BSuH_rh0.gif",R4=()=>{const e=bs(),[n,r]=x.useState(!1),s=async()=>{await(e==null?void 0:e.signOut()),r(!1)};return x.useEffect(()=>{r(!!(e!=null&&e.user))},[e==null?void 0:e.user]),t.jsxs(t.Fragment,{children:[t.jsx(C,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:0,"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:1}},children:t.jsx(C,{component:"img",src:A4,alt:"Background",sx:{width:"100%",height:"100%",objectFit:"cover",position:"relative",zIndex:0}})}),t.jsx(pd,{position:"absolute",elevation:0,sx:{background:"rgba(255, 255, 255, 0.01)",zIndex:2},children:t.jsxs(qs,{sx:{justifyContent:"space-between",flexDirection:{xs:"column",sm:"row"},gap:{xs:2,sm:0},py:{xs:2,sm:1.5},px:{xs:2,sm:4}},children:[t.jsx(C,{sx:{display:"flex",alignItems:"center",gap:1.5},children:t.jsxs(C,{sx:{position:"relative","&::after":{content:'""',position:"absolute",bottom:-4,left:0,width:"100%",height:"2px",background:"linear-gradient(90deg, #2196F3 0%, transparent 100%)",borderRadius:"2px"}},children:[t.jsx("span",{style:{color:"#1565C0",textTransform:"uppercase",fontWeight:800,fontSize:"1.6rem",letterSpacing:"1px"},children:"Meta"}),t.jsx("span",{style:{color:"#0D47A1",fontWeight:600,fontSize:"1.6rem"},children:"Journo"})]})}),t.jsx(C,{sx:{display:"flex",alignItems:"center",order:{xs:3,sm:3},width:{xs:"100%",sm:"auto"},justifyContent:{xs:"center",sm:"flex-end"},gap:2},children:n?t.jsxs(t.Fragment,{children:[t.jsx(ue,{color:"primary",variant:"outlined",size:"large",component:Xn,to:be.APP_NEWS_MY_FEED,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"},px:4,py:1.2,borderRadius:"12px",borderWidth:"2px",textTransform:"none",fontWeight:600,transition:"all 0.3s ease","&:hover":{borderWidth:"2px",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(33, 150, 243, 0.2)"}},children:"My Feed"}),t.jsx(ue,{color:"error",variant:"contained",size:"large",onClick:s,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"},px:4,py:1.2,borderRadius:"12px",textTransform:"none",fontWeight:600,background:"linear-gradient(135deg, #f44336 0%, #e53935 50%, #c62828 100%)",boxShadow:"0 8px 16px -4px rgba(244, 67, 54, 0.5)",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(135deg, #e53935 0%, #d32f2f 50%, #b71c1c 100%)",transform:"translateY(-2px)",boxShadow:"0 12px 20px -4px rgba(244, 67, 54, 0.6)"}},children:"Log out"})]}):t.jsxs(t.Fragment,{children:[t.jsx(ue,{color:"primary",variant:"outlined",size:"large",component:Xn,to:be.LOGIN,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"},px:4,py:1.2,borderRadius:"12px",borderWidth:"2px",textTransform:"none",fontWeight:600,transition:"all 0.3s ease","&:hover":{borderWidth:"2px",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(33, 150, 243, 0.2)"}},children:"Log in"}),t.jsx(ue,{color:"primary",variant:"contained",size:"large",component:Xn,to:be.SIGNUP,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"},px:4,py:1.2,borderRadius:"12px",textTransform:"none",fontWeight:600,background:"linear-gradient(135deg, #2196F3 0%, #1976D2 50%, #0D47A1 100%)",boxShadow:"0 8px 16px -4px rgba(33, 150, 243, 0.5)",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(135deg, #1E88E5 0%, #1565C0 50%, #0D47A1 100%)",transform:"translateY(-2px)",boxShadow:"0 12px 20px -4px rgba(33, 150, 243, 0.6)"}},children:"Get Started"})]})})]})})]})},k4=()=>{const e=Ct(),n=()=>{e(`${be.SIGNUP}?role=journalist`)},r=()=>{e(`${be.SIGNUP}?role=reader`)},s=()=>{e(be.APP_NEWS_TRENDING)};return t.jsxs(C,{sx:{minHeight:"100vh",bgcolor:"background.default"},children:[t.jsx(R4,{}),t.jsx(C,{sx:{minHeight:"90vh",display:"flex",alignItems:"center",background:"transparent",position:"relative",overflow:"hidden"},children:t.jsx(It,{maxWidth:"lg",children:t.jsx(F,{container:!0,justifyContent:"center",children:t.jsxs(F,{item:!0,xs:12,md:8,textAlign:"center",children:[t.jsxs(j,{variant:"h1",component:"h1",sx:{fontWeight:700,color:"white",fontSize:{xs:"2.5rem",sm:"3.2rem",md:"3.8rem"},mb:4,lineHeight:1.3,textShadow:"2px 2px 4px rgba(0,0,0,0.7)"},children:["Discover Journalism You Can Trust.",t.jsx("br",{}),"Fund Stories That Deserve Attention."]}),t.jsx(j,{variant:"h5",sx:{color:"rgba(255, 255, 255, 0.95)",mb:5,lineHeight:1.7,fontSize:{xs:"1.1rem",sm:"1.25rem"},fontWeight:400,textShadow:"1px 1px 2px rgba(0,0,0,0.7)"},children:"MetaJourno connects readers directly to independent journalists  no paywalls, no content hosting, just verified trust and transparent funding."}),t.jsxs(me,{direction:{xs:"column",sm:"row"},spacing:3,justifyContent:"center",children:[t.jsx(ue,{variant:"contained",size:"large",startIcon:t.jsx(al,{}),onClick:s,sx:{bgcolor:"white",color:"#1e3c72",px:4,py:1.5,fontSize:"1rem",fontWeight:600,borderRadius:1,textTransform:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.15)","&:hover":{bgcolor:"#f8f9fa",transform:"translateY(-1px)",boxShadow:"0 6px 20px rgba(0,0,0,0.2)"},transition:"all 0.2s ease"},children:"Browse Stories"}),t.jsx(ue,{variant:"outlined",size:"large",startIcon:t.jsx(Yo,{}),onClick:n,sx:{borderColor:"rgba(255, 255, 255, 0.5)",color:"white",px:4,py:1.5,fontSize:"1rem",fontWeight:600,borderRadius:1,textTransform:"none","&:hover":{borderColor:"white",bgcolor:"rgba(255, 255, 255, 0.1)"},transition:"all 0.2s ease"},children:"Join as a Journalist"}),t.jsx(ue,{variant:"contained",size:"large",startIcon:t.jsx(Yo,{}),onClick:r,sx:{bgcolor:"rgba(255, 255, 255, 0.15)",borderColor:"rgba(255, 255, 255, 0.5)",color:"white",px:4,py:1.5,fontSize:"1rem",fontWeight:600,borderRadius:1,textTransform:"none","&:hover":{bgcolor:"rgba(255, 255, 255, 0.25)",transform:"translateY(-1px)",boxShadow:"0 4px 12px rgba(255,255,255,0.2)"},transition:"all 0.2s ease"},children:"Join as a Reader"})]})]})})})})]})};var rm={},_4=Xe;Object.defineProperty(rm,"__esModule",{value:!0});var sm=rm.default=void 0,O4=_4(Je()),M4=t;sm=rm.default=(0,O4.default)((0,M4.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");const $n={DRAFT:1,PENDING_REVIEW:2,PUBLISHED:3,REJECTED:4,ARCHIVED:5,DELETED:6},wr={INSTAGRAM:1,TWITTER:2,YOUTUBE:3,TIKTOK:4,FACEBOOK:5,LINKEDIN:6,OTHER:7},fl={COVER:1,SUMMARY:2,AVATAR:3,TEASER:4,INTRO:5,OUTRO:6,OTHER:7},Kc={IMAGE:1,VIDEO:2,AUDIO:3,DOCUMENT:4,URL:5,ARTICLE:6,OTHER:7},_d="/journalist-material-client/assets/BG_journo-DMUT4Pey.png";var om={},N4=Xe;Object.defineProperty(om,"__esModule",{value:!0});var am=om.default=void 0,L4=N4(Je()),$4=t;am=om.default=(0,L4.default)((0,$4.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"}),"FavoriteBorder");var im={},F4=Xe;Object.defineProperty(im,"__esModule",{value:!0});var na=im.default=void 0,B4=F4(Je()),W4=t;na=im.default=(0,B4.default)((0,W4.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");var lm={},U4=Xe;Object.defineProperty(lm,"__esModule",{value:!0});var cm=lm.default=void 0,V4=U4(Je()),z4=t;cm=lm.default=(0,V4.default)((0,z4.jsx)("path",{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48z"}),"Verified");var dm={},H4=Xe;Object.defineProperty(dm,"__esModule",{value:!0});var Od=dm.default=void 0,G4=H4(Je()),Y4=t;Od=dm.default=(0,G4.default)((0,Y4.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2m0 15-5-2.18L7 18V5h10z"}),"BookmarkBorder");const Xc=({news:e,mode:n="scroll"})=>{var w,v;const r=Ct(),s=cn(),{api:o}=Ke(),{showNotification:i}=yp(),{execute:l}=tt(),d=(w=e.media)==null?void 0:w.find(I=>I.type===fl.COVER),[u,h]=x.useState(e.isBookmarked||!1),[f,m]=x.useState(!1);x.useEffect(()=>{h(e.isBookmarked||!1)},[e.isBookmarked]);const g=I=>{I.target.closest(".action-button")||r(be.APP_NEWS_VIEW.replace(":id",e.id))},y=I=>{I.stopPropagation(),r(be.APP_CHANNEL_VIEW.replace(":channelId",e.channel.id))},b=async I=>{if(I.stopPropagation(),f)return;const S=u;h(!u),m(!0);try{S?(await l(()=>o.app.bookmark.unbookmarkNews(String(e.id)),{showErrorToast:!0}),i("Bookmark removed","success")):(await l(()=>o.app.bookmark.bookmarkNews(String(e.id)),{showErrorToast:!0}),i("News bookmarked","success"))}catch{h(S),i("Failed to update bookmark","error")}finally{m(!1)}};return t.jsxs(C,{onClick:g,sx:{position:"relative",width:"100%",height:n==="grid"?"auto":"90vh",maxWidth:n==="scroll"?"480px":"100%",margin:n==="scroll"?"0 auto":0,aspectRatio:n==="grid"?"4/5":void 0,borderRadius:n==="grid"?3:4,overflow:"hidden",bgcolor:s.palette.mode==="dark"?"#000":"#111",boxShadow:"none",cursor:"pointer",transition:"opacity 0.2s ease","&:hover":{opacity:.95}},children:[t.jsxs(C,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:0},children:[(d==null?void 0:d.format)===Kc.VIDEO?t.jsx(C,{component:"video",src:d.url,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,sx:{width:"100%",height:"100%",objectFit:"cover",filter:"brightness(0.7)"}}):t.jsx(C,{component:"img",src:(d==null?void 0:d.url)||_d,alt:e.title,sx:{width:"100%",height:"100%",objectFit:"cover",filter:"brightness(0.7)"}}),t.jsx(C,{sx:{position:"absolute",top:0,left:0,right:0,height:"30%",background:"linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%)",zIndex:1}}),t.jsx(C,{sx:{position:"absolute",bottom:0,left:0,right:0,height:"70%",background:"linear-gradient(to top, rgba(0,0,0,0.95) 0%, rgba(0,0,0,0) 100%)",zIndex:1}})]}),t.jsx(C,{sx:{position:"relative",zIndex:2,height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",p:2.5},children:n==="grid"?t.jsxs(t.Fragment,{children:[t.jsx(C,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:((v=e.qualityMetrics)==null?void 0:v.overallQualityScore)&&t.jsx(Qe,{icon:t.jsx(cm,{sx:{fontSize:"0.875rem"}}),label:e.qualityMetrics.overallQualityScore.toFixed(1),size:"small",sx:{height:24,bgcolor:de(s.palette.success.main,.9),color:"white",fontWeight:700,fontSize:"0.7rem",backdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}})}),t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{fontWeight:700,fontSize:"1.1rem",color:"white",textShadow:"0 2px 8px rgba(0,0,0,0.9)",mb:1.5,lineHeight:1.2,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.title}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:1},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(na,{sx:{fontSize:"1.1rem",mr:.5,color:"white",filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.5))"}}),t.jsx(j,{variant:"body2",sx:{fontWeight:700,fontSize:"0.875rem",color:"white",textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:"12K"})]}),t.jsxs(C,{sx:{display:"flex",gap:1},children:[t.jsx(Ne,{className:"action-button",size:"small",onClick:b,disabled:f,sx:{bgcolor:de("#fff",.2),backdropFilter:"blur(10px)",color:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.3)","&:hover":{bgcolor:de(s.palette.primary.main,.8),transform:"scale(1.1)"},transition:"all 0.2s ease"},children:f?t.jsx(sn,{size:16,sx:{color:"white"}}):u?t.jsx(ei,{sx:{fontSize:"1rem",color:s.palette.primary.light}}):t.jsx(Od,{sx:{fontSize:"1rem"}})}),t.jsx(Ne,{className:"action-button",size:"small",onClick:I=>{I.stopPropagation()},sx:{bgcolor:de("#fff",.2),backdropFilter:"blur(10px)",color:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.3)","&:hover":{bgcolor:de(s.palette.error.main,.8),transform:"scale(1.1)"},transition:"all 0.2s ease"},children:t.jsx(am,{sx:{fontSize:"1rem"}})})]})]})]})]}):t.jsx(t.Fragment,{children:t.jsx(C,{sx:{display:"flex",height:"100%",position:"relative"},children:t.jsxs(C,{sx:{flex:1,display:"flex",flexDirection:"column",justifyContent:"flex-end"},children:[t.jsxs(C,{onClick:y,className:"action-button",sx:{display:"flex",alignItems:"center",mb:1.5,cursor:"pointer","&:hover":{"& .channel-avatar":{transform:"scale(1.1)"}}},children:[t.jsx(Sn,{src:e.channel.logoUrl,alt:e.channel.name,className:"channel-avatar",sx:{width:40,height:40,bgcolor:s.palette.primary.main,border:"2px solid white",boxShadow:"0 2px 8px rgba(0,0,0,0.3)",transition:"transform 0.2s ease"}}),t.jsxs(C,{sx:{ml:1.5},children:[t.jsx(j,{variant:"body2",sx:{fontWeight:700,fontSize:"0.95rem",color:"white",textShadow:"0 1px 3px rgba(0,0,0,0.8)"},children:e.channel.name}),t.jsx(j,{variant:"caption",sx:{fontSize:"0.75rem",color:"rgba(255,255,255,0.9)",textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:Mr(new Date(e.publishedAt),{addSuffix:!0})})]})]}),t.jsx(j,{variant:"h6",sx:{fontWeight:800,fontSize:"1.2rem",color:"white",textShadow:"0 2px 8px rgba(0,0,0,0.9)",mb:.5,lineHeight:1.2,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.title}),t.jsx(j,{variant:"body2",sx:{fontSize:"0.875rem",color:"rgba(255,255,255,0.95)",textShadow:"0 1px 4px rgba(0,0,0,0.9)",lineHeight:1.4,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",mb:1.5},children:e.content}),e.tags&&e.tags.length>0&&t.jsx(me,{direction:"row",spacing:.5,sx:{flexWrap:"wrap",gap:.5},children:e.tags.slice(0,3).map(I=>t.jsx(Qe,{label:`#${I.title}`,size:"small",sx:{height:22,fontSize:"0.7rem",fontWeight:600,bgcolor:de("#fff",.15),backdropFilter:"blur(10px)",color:"white",border:"1px solid",borderColor:de("#fff",.2),textShadow:"0 1px 2px rgba(0,0,0,0.5)","&:hover":{bgcolor:de("#fff",.25)}}},I.id))})]})})})})]})};var um={},q4=Xe;Object.defineProperty(um,"__esModule",{value:!0});var yw=um.default=void 0,K4=q4(Je()),X4=t;yw=um.default=(0,K4.default)((0,X4.jsx)("path",{d:"M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2m0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19z"}),"Inbox");const Zs=({title:e,description:n,icon:r=t.jsx(yw,{sx:{fontSize:48}}),action:s})=>t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:4,borderRadius:2,bgcolor:o=>o.palette.mode==="dark"?de(o.palette.common.white,.05):de(o.palette.common.black,.02),textAlign:"center"},children:[t.jsx(C,{sx:{color:"text.secondary",mb:2},children:r}),t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:1},children:e}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:s?3:0},children:n}),s&&t.jsx(ue,{variant:"contained",onClick:s.onClick,sx:{textTransform:"none",fontWeight:600},children:s.label})]});var hm={},J4=Xe;Object.defineProperty(hm,"__esModule",{value:!0});var Md=hm.default=void 0,Q4=J4(Je()),Z4=t;Md=hm.default=(0,Q4.default)((0,Z4.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share");const Ky=({count:e=2})=>t.jsx(me,{spacing:2,sx:{mt:2},children:[...Array(e)].map((n,r)=>t.jsxs(C,{sx:{p:2,borderRadius:2,bgcolor:s=>s.palette.mode==="dark"?de(s.palette.common.white,.05):de(s.palette.common.black,.03)},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(C,{sx:{width:32,height:32,borderRadius:1,bgcolor:s=>s.palette.mode==="dark"?de(s.palette.common.white,.1):de(s.palette.common.black,.1),mr:1}}),t.jsx(C,{sx:{height:20,width:"30%",borderRadius:.5,bgcolor:"grey.300"}})]}),t.jsx(C,{sx:{height:24,width:"60%",mb:2,borderRadius:.5,bgcolor:"grey.300"}}),t.jsx(C,{sx:{height:100,width:"100%",borderRadius:1,bgcolor:"grey.200",mb:2}}),t.jsx(C,{sx:{height:16,width:"40%",borderRadius:.5,bgcolor:"grey.200"}})]},r))}),vw=({filters:e={},emptyTitle:n="No news found",emptyDescription:r="No news articles available at the moment",itemsPerPage:s=12,mode:o="scroll"})=>{const[i,l]=x.useState([]),[d,u]=x.useState(!0),[h,f]=x.useState(1),[m,g]=x.useState(!0),{api:y}=Ke(),{execute:b}=tt(),w=cn(),v=async(S=h)=>{try{u(!0);const D=await b(()=>y==null?void 0:y.app.news.getNews(e,{page:S,limit:s}),{showErrorToast:!0});D&&(l(S===1?D.items:T=>[...T,...D.items]),g(D.metadata.hasNext),f(D.metadata.currentPage))}finally{u(!1)}};x.useEffect(()=>{l([]),f(1),v(1)},[JSON.stringify(e)]);const I=()=>{!d&&m&&v(h+1)};return i.length===0&&!d?t.jsx(Zs,{title:n,description:r}):o==="grid"?t.jsx(C,{sx:{width:"100%"},children:d&&i.length===0?t.jsx(Ky,{}):t.jsx(xs,{dataLength:i.length,next:I,hasMore:m,loader:t.jsx(C,{}),endMessage:t.jsx(C,{sx:{textAlign:"center",py:4,color:"text.secondary",fontSize:"0.875rem"},children:"No more news to display"}),children:t.jsx(F,{container:!0,spacing:3,children:i.map(S=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Xc,{news:S,mode:"grid"})},S.id))})})}):t.jsx(C,{sx:{width:"100%",height:"100%",display:"flex",justifyContent:"center",overflowY:"scroll",scrollSnapType:"y mandatory",scrollBehavior:"smooth","&::-webkit-scrollbar":{display:"none"},msOverflowStyle:"none",scrollbarWidth:"none",px:{xs:2,sm:0}},children:t.jsx(C,{sx:{width:"100%",maxWidth:480},children:d&&i.length===0?t.jsx(Ky,{}):t.jsx(xs,{dataLength:i.length,next:I,hasMore:m,loader:t.jsx(C,{}),endMessage:t.jsx(C,{sx:{textAlign:"center",py:4,color:"text.secondary",fontSize:"0.875rem",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:"No more news to display"}),style:{overflow:"visible",paddingBottom:"64px"},children:i.map(S=>{var D;return t.jsxs(C,{sx:{position:"relative",scrollSnapAlign:"start",scrollSnapStop:"always",height:"calc(100vh - 64px)",display:"flex",alignItems:"center",justifyContent:"center"},children:[t.jsx(Xc,{news:S}),t.jsxs(C,{sx:{position:"absolute",right:{xs:8,sm:-60},bottom:"5vh",display:"flex",flexDirection:"column",alignItems:"center",gap:2.5,zIndex:10},children:[((D=S.qualityMetrics)==null?void 0:D.overallQualityScore)&&t.jsx(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:t.jsx(Qe,{icon:t.jsx(cm,{sx:{fontSize:"0.875rem"}}),label:S.qualityMetrics.overallQualityScore.toFixed(1),size:"small",sx:{height:28,bgcolor:de(w.palette.success.main,.9),color:"white",fontWeight:700,fontSize:"0.75rem",backdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}})}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[t.jsx(Ne,{className:"action-button",size:"medium",onClick:T=>{T.stopPropagation()},sx:{bgcolor:w.palette.mode==="dark"?de("#fff",.2):de("#000",.6),backdropFilter:"blur(10px)",color:"white",boxShadow:w.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)","&:hover":{bgcolor:de(w.palette.error.main,.8),transform:"scale(1.1)"},transition:"all 0.2s ease",width:48,height:48},children:t.jsx(am,{sx:{fontSize:"1.5rem"}})}),t.jsx(j,{variant:"caption",sx:{color:"white",fontWeight:700,fontSize:"0.75rem",mt:.5,textShadow:"0 1px 2px rgba(0,0,0,0.8)"}})]}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[t.jsx(Ne,{className:"action-button",size:"medium",onClick:T=>{T.stopPropagation()},sx:{bgcolor:w.palette.mode==="dark"?de("#fff",.2):de("#000",.6),backdropFilter:"blur(10px)",color:"white",boxShadow:w.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)","&:hover":{bgcolor:w.palette.mode==="dark"?de("#fff",.3):de("#000",.7),transform:"scale(1.1)"},transition:"all 0.2s ease",width:48,height:48},children:t.jsx(Md,{sx:{fontSize:"1.5rem"}})}),t.jsx(j,{variant:"caption",sx:{color:"white",fontWeight:700,fontSize:"0.75rem",mt:.5,textShadow:"0 1px 2px rgba(0,0,0,0.8)"}})]}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[t.jsx(C,{sx:{bgcolor:w.palette.mode==="dark"?de("#fff",.2):de("#000",.6),backdropFilter:"blur(10px)",borderRadius:"50%",width:48,height:48,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:w.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)"},children:t.jsx(na,{sx:{fontSize:"1.5rem",color:"white",filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.5))"}})}),t.jsx(j,{variant:"caption",sx:{color:"white",fontWeight:700,fontSize:"0.75rem",mt:.5,textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:"12K"})]})]})]},S.id)})})})})},e3=(e={})=>{if(e.feed)return{title:"Your Feed",description:"Latest news from your personalized feed",emptyTitle:"Your feed is empty",emptyDescription:"Follow some journalists to see their latest news here"};if(e.trending)return{title:"Trending News",description:"Discover the most popular news from our community",emptyTitle:"No trending news",emptyDescription:"There are no trending news articles at the moment"};if(e.subscribed)return{title:"Subscribed Channels",description:"Latest news from your subscribed channels",emptyTitle:"No news from subscriptions",emptyDescription:"Subscribe to channels to see their latest news here"};if(e.premium)return{title:"Premium News",description:"Exclusive premium content",emptyTitle:"No premium news",emptyDescription:"No premium news articles available at the moment"};if(e.channel)return{title:"Channel News",description:"News from this channel",emptyTitle:"No news in this channel",emptyDescription:"This channel has not published any news yet"};if(e.creator)return{title:"Creator News",description:"News from this creator",emptyTitle:"No news from this creator",emptyDescription:"This creator has not published any news yet"};if(e.tags&&e.tags.length>0){const n=e.tags.length===1?"tag":"tags";return{title:`News by ${n.charAt(0).toUpperCase()+n.slice(1)}`,description:`News tagged with: ${e.tags.join(", ")}`,emptyTitle:`No news with these ${n}`,emptyDescription:`No news articles found with the selected ${n}`}}return{title:"All News",description:"Latest news from our community",emptyTitle:"No news found",emptyDescription:"No news articles available at the moment"}},xf=({filters:e={},emptyTitle:n,emptyDescription:r,showSearch:s=!1,mode:o="scroll"})=>{const i=ea(),l=Ct(),[d,u]=x.useState(""),[h,f]=x.useState("");x.useEffect(()=>{const S=new URLSearchParams(i.search).get("q");if(S){const D=decodeURIComponent(S);u(D),f(D)}},[i.search]);const m=e3(e),g=n||m.emptyTitle,y=r||m.emptyDescription,b={...e,query:d||void 0},w=I=>{I.preventDefault();const S=h.trim();u(S);const D=new URLSearchParams(i.search);S?D.set("q",encodeURIComponent(S)):D.delete("q");const T=`${i.pathname}?${D.toString()}`;l(T,{replace:!0})},v=()=>{f(""),u("");const I=new URLSearchParams(i.search);I.delete("q");const S=`${i.pathname}?${I.toString()}`;l(S,{replace:!0})};return t.jsxs(C,{sx:{width:"100%",height:"100vh",overflow:"hidden",display:"flex",flexDirection:"column",...o==="scroll"&&{position:"fixed",top:64,left:0,right:0,bottom:0,margin:0,padding:0,zIndex:1}},children:[s&&o==="grid"&&t.jsx(C,{sx:{flexShrink:0,mb:2},children:t.jsx("form",{onSubmit:w,children:t.jsx(nt,{fullWidth:!0,placeholder:"Search news by title or content...",value:h,onChange:I=>f(I.target.value),InputProps:{startAdornment:t.jsx(es,{position:"start",children:t.jsx(Id,{color:"action"})}),endAdornment:h&&t.jsx(es,{position:"end",children:t.jsx(Ne,{size:"small",onClick:v,edge:"end",children:t.jsx(sm,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"background.paper"}}})})}),t.jsx(C,{sx:{flex:1,overflow:"hidden"},children:t.jsx(vw,{filters:b,emptyTitle:g,emptyDescription:y,mode:o})})]})},t3=e=>{switch(e){case wr.INSTAGRAM:return hR;case wr.TWITTER:return uR;case wr.YOUTUBE:return dR;case wr.TIKTOK:return cR;case wr.FACEBOOK:return lR;case wr.LINKEDIN:return iR;case wr.OTHER:default:return aR}},n3=e=>{switch(e){case wr.INSTAGRAM:return"#E4405F";case wr.TWITTER:return"#1DA1F2";case wr.YOUTUBE:return"#FF0000";case wr.TIKTOK:return"#000000";case wr.FACEBOOK:return"#1877F2";case wr.LINKEDIN:return"#0A66C2";default:return"#757575"}},r3=e=>{var n;return((n=Object.entries(wr).find(([,r])=>r===e))==null?void 0:n[0])||"Other"};var fm={},s3=Xe;Object.defineProperty(fm,"__esModule",{value:!0});var jw=fm.default=void 0,o3=s3(Je()),a3=t;jw=fm.default=(0,o3.default)((0,a3.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39"}),"Public");var pm={},i3=Xe;Object.defineProperty(pm,"__esModule",{value:!0});var ww=pm.default=void 0,l3=i3(Je()),c3=t;ww=pm.default=(0,l3.default)((0,c3.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"Launch");const mm=({links:e})=>e.length?t.jsxs(ot,{variant:"outlined",sx:{p:2,bgcolor:"background.paper",borderRadius:2,width:"100%"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(jw,{sx:{mr:1,color:"primary.main"}}),t.jsx(j,{variant:"h6",component:"div",children:"Read More On"})]}),t.jsx(Mt,{sx:{mb:2}}),t.jsx(me,{spacing:1.5,children:e.map(n=>t.jsx(md,{href:n.url,target:"_blank",rel:"noopener noreferrer",underline:"none",sx:{color:"inherit",display:"block","&:hover":{"& .MuiPaper-root":{bgcolor:"action.hover",borderColor:"primary.main"},"& .launch-icon":{color:"primary.main"}}},children:t.jsxs(ot,{variant:"outlined",sx:{p:1.5,display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.2s ease-in-out"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(C,{sx:{color:n3(n.platform),display:"flex",mr:1.5},children:Tt.createElement(t3(n.platform))}),t.jsx(j,{variant:"body2",children:r3(n.platform)})]}),t.jsx(ww,{fontSize:"small",className:"launch-icon",sx:{color:"text.secondary",transition:"color 0.2s ease-in-out"}})]})},n.id))})]}):null;var xm={},d3=Xe;Object.defineProperty(xm,"__esModule",{value:!0});var pl=xm.default=void 0,u3=d3(Je()),h3=t;pl=xm.default=(0,u3.default)((0,h3.jsx)("path",{d:"M18 11v2h4v-2zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61M20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4M4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34"}),"Campaign");var gm={},f3=Xe;Object.defineProperty(gm,"__esModule",{value:!0});var bm=gm.default=void 0,p3=f3(Je()),m3=t;bm=gm.default=(0,p3.default)((0,m3.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");const x3={header:{class:vk,config:{levels:[1,2,3,4],defaultLevel:2,placeholder:""}},list:{class:jk,inlineToolbar:!0,config:{placeholder:""}},checklist:{class:wk,inlineToolbar:!0,config:{placeholder:""}},quote:{class:Sk,inlineToolbar:!0,config:{quotePlaceholder:"",captionPlaceholder:""}},code:Ck,inlineCode:{class:Pk},marker:{class:Ik},image:{class:Dk,config:{endpoints:{byFile:"/api/upload/image",byUrl:"/api/fetch/image"}}},linkTool:{class:Tk,config:{endpoint:"/api/fetch/link"}},table:{class:Ek,inlineToolbar:!0},warning:{class:Ak,inlineToolbar:!0,config:{titlePlaceholder:"Title",messagePlaceholder:"Message"}},delimiter:Rk},Nd=({data:e,onChange:n,readOnly:r=!1,placeholder:s="Start writing your content...",borderColor:o})=>{const i=cn(),l=x.useRef(null),d=x.useRef(`editor-${Math.random().toString(36).slice(2,7)}`);return x.useEffect(()=>((async()=>{if(l.current){try{await l.current.isReady,await l.current.destroy()}catch(f){console.error("Editor cleanup failed:",f)}l.current=null}const h=new yk({holder:d.current,tools:x3,data:e,placeholder:s,readOnly:r,onChange:async f=>{const m=await f.saver.save();n==null||n(m)},autofocus:!1});l.current=h})().catch(console.error),()=>{l.current&&l.current.destroy&&l.current.isReady.then(()=>{var h;(h=l.current)!=null&&h.destroy&&l.current.destroy(),l.current=null}).catch(console.error)}),[]),t.jsx(C,{id:d.current,sx:{minHeight:300,border:"1px solid",borderColor:typeof o=="function"?o(i):o||i.palette.divider,borderRadius:1,p:2,"& .ce-toolbar__plus, & .ce-toolbar__settings-btn, & .cdx-button":{color:u=>u.palette.mode==="dark"?de(u.palette.common.white,.7):de(u.palette.common.black,.7),backgroundColor:"transparent"},"& .ce-toolbar__plus:hover, & .ce-toolbar__settings-btn:hover, & .cdx-button:hover":{backgroundColor:u=>u.palette.mode==="dark"?de(u.palette.common.white,.1):de(u.palette.common.black,.1)},"& ::selection":{backgroundColor:u=>u.palette.mode==="dark"?de(u.palette.primary.main,.3):de(u.palette.primary.main,.3),color:u=>u.palette.mode==="dark"?u.palette.common.white:u.palette.common.black},"& ::-moz-selection":{backgroundColor:u=>u.palette.mode==="dark"?de(u.palette.primary.main,.3):de(u.palette.primary.main,.3),color:u=>u.palette.mode==="dark"?u.palette.common.white:u.palette.common.black},"& .ce-block--selected":{backgroundColor:u=>u.palette.mode==="dark"?de(u.palette.primary.main,.1):de(u.palette.primary.main,.05),color:u=>u.palette.mode==="dark"?u.palette.common.white:u.palette.text.primary},"& .ce-block--selected .ce-block__content":{color:u=>u.palette.mode==="dark"?u.palette.common.white:u.palette.text.primary}}})},Sw=e=>{if(e)try{return JSON.parse(e)}catch{return{blocks:[{type:"paragraph",data:{text:e}}]}}};var et=(e=>(e[e.DRAFT=1]="DRAFT",e[e.SUBMITTED=2]="SUBMITTED",e[e.UNDER_REVIEW=3]="UNDER_REVIEW",e[e.APPROVED=4]="APPROVED",e[e.REJECTED=5]="REJECTED",e[e.PAID=6]="PAID",e[e.CANCELLED=7]="CANCELLED",e))(et||{});const $i={1:"Draft",2:"Submitted",3:"Under Review",4:"Approved",5:"Rejected",6:"Paid",7:"Cancelled"},Xy={1:"#9e9e9e",2:"#2196f3",3:"#ff9800",4:"#4caf50",5:"#f44336",6:"#8bc34a",7:"#607d8b"},Sa=(e,n="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:n,notation:"compact",maximumFractionDigits:2}).format(e),g3=({newsId:e,channelId:n,newsFund:r})=>{const{api:s}=Ke(),{execute:o}=tt(),[i,l]=x.useState(!0),[d,u]=x.useState(null),[h,f]=x.useState([]),[m,g]=x.useState(null),[y,b]=x.useState(null);x.useEffect(()=>{(async()=>{var T,E,R;l(!0),b(null);try{const O=await o(()=>s==null?void 0:s.app.funding.getFundSummary("news",e),{showErrorToast:!1}),k=await o(()=>s==null?void 0:s.app.expenseOrder.getExpenseOrdersByChannel(n),{showErrorToast:!1});u(O||null),f((k==null?void 0:k.items)||[]);const N={totalFunding:((T=O==null?void 0:O.fund)==null?void 0:T.current_amount)||(r==null?void 0:r.amount)||0,totalExpenses:((E=k==null?void 0:k.items)==null?void 0:E.reduce((B,K)=>K.status===et.PAID?B+K.amount:B,0))||0,netAmount:0,fundingContributions:(O==null?void 0:O.total_contributors)||0,expenseCount:((R=k==null?void 0:k.items)==null?void 0:R.length)||0,payoutAmount:0};N.netAmount=N.totalFunding-N.totalExpenses,g(N)}catch(O){b("Failed to load transaction data"),console.error("Transaction data fetch error:",O)}finally{l(!1)}})()},[e,n,r,s,o]);const w=()=>{if(!m)return null;const D=m.totalFunding>0?Math.min(m.totalFunding/((r==null?void 0:r.goal_amount)||m.totalFunding)*100,100):0;return t.jsx(Fe,{elevation:2,children:t.jsxs(We,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(ps,{color:"success",sx:{mr:1}}),t.jsx(j,{variant:"h6",color:"success.main",children:"Funding Received"})]}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(j,{variant:"h3",color:"success.main",gutterBottom:!0,children:Sa(m.totalFunding)}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Total Raised"})]})}),t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(me,{spacing:2,children:[t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsx(j,{variant:"body2",children:"Funding Progress"}),t.jsxs(j,{variant:"body2",children:[D.toFixed(1),"%"]})]}),t.jsx(La,{variant:"determinate",value:D,sx:{height:8,borderRadius:4},color:"success"})]}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Contributors: ",m.fundingContributions]}),(r==null?void 0:r.goal_amount)&&t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Goal: ",Sa(r.goal_amount)]})]})]})})]})]})})},v=()=>{if(!m)return null;const D=h.filter(E=>E.status===et.PAID),T=h.filter(E=>[et.SUBMITTED,et.UNDER_REVIEW,et.APPROVED].includes(E.status));return t.jsx(Fe,{elevation:2,children:t.jsxs(We,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(wv,{color:"error",sx:{mr:1}}),t.jsx(j,{variant:"h6",color:"error.main",children:"Expenses & Payouts"})]}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(j,{variant:"h3",color:"error.main",gutterBottom:!0,children:Sa(m.totalExpenses)}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Total Paid Out"})]})}),t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(me,{spacing:2,children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsx(j,{variant:"body2",children:"Paid Expenses:"}),t.jsx(j,{variant:"body2",color:"success.main",children:D.length})]}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsx(j,{variant:"body2",children:"Pending Expenses:"}),t.jsx(j,{variant:"body2",color:"warning.main",children:T.length})]}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsx(j,{variant:"body2",children:"Total Expense Orders:"}),t.jsx(j,{variant:"body2",children:m.expenseCount})]})]})})]})]})})},I=()=>{if(!m)return null;const D=m.netAmount>=0;return t.jsxs(ot,{elevation:2,sx:{p:3,bgcolor:D?"success.light":"warning.light",color:D?"success.contrastText":"warning.contrastText",textAlign:"center"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:1},children:[t.jsx(Zh,{sx:{mr:1,fontSize:"2rem"}}),t.jsx(j,{variant:"h4",component:"div",children:Sa(Math.abs(m.netAmount))})]}),t.jsx(j,{variant:"subtitle1",children:D?"Net Surplus":"Net Deficit"}),t.jsx(j,{variant:"body2",sx:{mt:1,opacity:.8},children:D?"Available for future expenses or reinvestment":"Additional funding may be needed"})]})},S=()=>t.jsxs(C,{children:[t.jsxs(Dc,{children:[t.jsx(Tc,{expandIcon:t.jsx(Ec,{}),children:t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(Bf,{sx:{mr:1}}),t.jsx(j,{variant:"subtitle1",children:"Funding Contributions"}),d&&t.jsx(Qe,{label:`${d.contributions.length} contributions`,size:"small",sx:{ml:2}})]})}),t.jsx(Ac,{children:d!=null&&d.contributions.length?t.jsxs(fr,{dense:!0,children:[d.contributions.slice(0,10).map(D=>{var T;return t.jsxs(rr,{children:[t.jsx(qt,{children:t.jsx(Xs,{color:"success"})}),t.jsx(Wt,{primary:`${Sa(D.amount)} ${D.currency}`,secondary:D.isAnonymous?"Anonymous contributor":((T=D.user)==null?void 0:T.name)||"Unknown contributor"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:new Date(D.createdAt).toLocaleDateString()})]},D.id)}),d.contributions.length>10&&t.jsx(rr,{children:t.jsx(Wt,{primary:t.jsxs(j,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:["+",d.contributions.length-10," more contributions"]})})})]}):t.jsx(dt,{severity:"info",children:"No funding contributions found for this news article."})})]}),t.jsxs(Dc,{children:[t.jsx(Tc,{expandIcon:t.jsx(Ec,{}),children:t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(Ma,{sx:{mr:1}}),t.jsx(j,{variant:"subtitle1",children:"Expense Orders"}),h.length>0&&t.jsx(Qe,{label:`${h.length} expenses`,size:"small",sx:{ml:2}})]})}),t.jsx(Ac,{children:h.length?t.jsx(fr,{dense:!0,children:h.map(D=>t.jsxs(rr,{children:[t.jsx(qt,{children:t.jsx(Ks,{sx:{color:Xy[D.status]}})}),t.jsx(Wt,{primary:D.title,secondary:t.jsxs(C,{children:[t.jsxs(j,{variant:"caption",display:"block",children:[D.journalist.displayName,"  ",D.type.name]}),t.jsx(j,{variant:"caption",color:"text.secondary",children:new Date(D.createdAt).toLocaleDateString()})]})}),t.jsxs(C,{sx:{textAlign:"right"},children:[t.jsxs(j,{variant:"body2",fontWeight:"medium",children:[Sa(D.amount)," ",D.currency]}),t.jsx(Qe,{label:$i[D.status],size:"small",sx:{bgcolor:Xy[D.status],color:"white",fontSize:"0.7rem"}})]}),D.receiptUrl&&t.jsx(jt,{title:"View Receipt",children:t.jsx(Ne,{size:"small",onClick:()=>window.open(D.receiptUrl,"_blank"),children:t.jsx(ks,{fontSize:"small"})})})]},D.id))}):t.jsx(dt,{severity:"info",children:"No expense orders found for this channel."})})]})]});return i?t.jsx(Fe,{elevation:2,children:t.jsxs(We,{sx:{textAlign:"center",py:4},children:[t.jsx(sn,{}),t.jsx(j,{variant:"body2",sx:{mt:2},children:"Loading transaction data..."})]})}):y?t.jsx(dt,{severity:"error",sx:{mb:2},children:y}):!m||m.totalFunding===0&&m.totalExpenses===0?t.jsx(dt,{severity:"info",sx:{mb:2},children:t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(fR,{sx:{mr:1}}),"No transaction data available for this news article."]})}):t.jsxs(C,{sx:{mb:4},children:[t.jsxs(j,{variant:"h5",gutterBottom:!0,sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(Zh,{sx:{mr:1}}),"Transaction Transparency"]}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,md:6,children:w()}),t.jsx(F,{item:!0,xs:12,md:6,children:v()}),t.jsx(F,{item:!0,xs:12,children:I()}),t.jsxs(F,{item:!0,xs:12,children:[t.jsx(Mt,{sx:{my:2}}),S()]})]})]})};var ym={},b3=Xe;Object.defineProperty(ym,"__esModule",{value:!0});var Gi=ym.default=void 0,y3=b3(Je()),v3=t;Gi=ym.default=(0,y3.default)((0,v3.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock");var vm={},j3=Xe;Object.defineProperty(vm,"__esModule",{value:!0});var Ld=vm.default=void 0,w3=j3(Je()),S3=t;Ld=vm.default=(0,w3.default)((0,S3.jsx)("path",{d:"M16 18v2H8v-2zM11 7.99V16h2V7.99h3L12 4 8 7.99z"}),"Upgrade");var jm={},C3=Xe;Object.defineProperty(jm,"__esModule",{value:!0});var Ua=jm.default=void 0,P3=C3(Je()),I3=t;Ua=jm.default=(0,P3.default)((0,I3.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle");/*!
 * react-paypal-js v8.9.2 (2025-10-02T20:17:55.069Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sr;(function(e){e.INITIAL="initial",e.PENDING="pending",e.REJECTED="rejected",e.RESOLVED="resolved"})(Sr||(Sr={}));var mo;(function(e){e.LOADING_STATUS="setLoadingStatus",e.RESET_OPTIONS="resetOptions",e.SET_BRAINTREE_INSTANCE="braintreeInstance"})(mo||(mo={}));var Jy;(function(e){e.NUMBER="number",e.CVV="cvv",e.EXPIRATION_DATE="expirationDate",e.EXPIRATION_MONTH="expirationMonth",e.EXPIRATION_YEAR="expirationYear",e.POSTAL_CODE="postalCode"})(Jy||(Jy={}));var _n=function(){return _n=Object.assign||function(n){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},_n.apply(this,arguments)};function Cw(e,n){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&n.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)n.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(r[s[o]]=e[s[o]]);return r}function Qy(e,n,r){if(r||arguments.length===2)for(var s=0,o=n.length,i;s<o;s++)(i||!(s in n))&&(i||(i=Array.prototype.slice.call(n,0,s)),i[s]=n[s]);return e.concat(i||Array.prototype.slice.call(n))}var Yi="data-react-paypal-script-id",Ho={DATA_CLIENT_TOKEN:"dataClientToken",DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource",DATA_USER_ID_TOKEN:"dataUserIdToken"},D3="Failed to load the PayPal JS SDK script.",Pw="paypal",T3="usePayPalScriptReducer must be used within a PayPalScriptProvider";function E3(e){return e===void 0&&(e=Pw),window[e]}function A3(e){for(var n="",r=0;r<e.length;r++){var s=e[r].charCodeAt(0)*r;e[r+1]&&(s+=e[r+1].charCodeAt(0)*(r-1)),n+=String.fromCharCode(97+Math.abs(s)%26)}return n}function R3(e){var n=e.reactComponentName,r=e.sdkComponentKey,s=e.sdkRequestedComponents,o=s===void 0?"":s,i=e.sdkDataNamespace,l=i===void 0?Pw:i,d=r.charAt(0).toUpperCase().concat(r.substring(1)),u="Unable to render <".concat(n," /> because window.").concat(l,".").concat(d," is undefined."),h=typeof o=="string"?o:o.join(",");if(!h.includes(r)){var f=[h,r].filter(Boolean).join();u+=`
To fix the issue, add '`.concat(r,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(f,"'}}>`.")}return u}function Iw(e){var n=e,r=Yi;n[r];var s=Cw(n,[r+""]);return"react-paypal-js-".concat(A3(JSON.stringify(s)))}function k3(e){var n=self.document.querySelector("script[".concat(Yi,'="').concat(e,'"]'));n!=null&&n.parentNode&&n.parentNode.removeChild(n)}function _3(e,n){var r,s;switch(n.type){case mo.LOADING_STATUS:return typeof n.value=="object"?_n(_n({},e),{loadingStatus:n.value.state,loadingStatusErrorMessage:n.value.message}):_n(_n({},e),{loadingStatus:n.value});case mo.RESET_OPTIONS:return k3(e.options[Yi]),_n(_n({},e),{loadingStatus:Sr.PENDING,options:_n(_n((r={},r[Ho.DATA_SDK_INTEGRATION_SOURCE]=Ho.DATA_LIBRARY_VALUE,r),n.value),(s={},s[Yi]="".concat(Iw(n.value)),s))});case mo.SET_BRAINTREE_INSTANCE:return _n(_n({},e),{braintreePayPalCheckoutInstance:n.value});default:return e}}var Dw=x.createContext(null);function O3(e){if(typeof(e==null?void 0:e.dispatch)=="function"&&e.dispatch.length!==0)return e;throw new Error(T3)}function M3(){var e=O3(x.useContext(Dw)),n=_n(_n({},e),{isInitial:e.loadingStatus===Sr.INITIAL,isPending:e.loadingStatus===Sr.PENDING,isResolved:e.loadingStatus===Sr.RESOLVED,isRejected:e.loadingStatus===Sr.REJECTED});return[n,e.dispatch]}x.createContext({});function N3(e){var n=x.useRef(new Proxy({},{get:function(r,s,o){return typeof r[s]=="function"?function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return r[s].apply(r,i)}:Reflect.get(r,s,o)}}));return n.current=Object.assign(n.current,e),n.current}var $d=function(e){var n,r=e.className,s=r===void 0?"":r,o=e.disabled,i=o===void 0?!1:o,l=e.children,d=e.forceReRender,u=d===void 0?[]:d,h=Cw(e,["className","disabled","children","forceReRender"]),f=i?{opacity:.38}:{},m="".concat(s," ").concat(i?"paypal-buttons-disabled":"").trim(),g=x.useRef(null),y=x.useRef(null),b=N3(h),w=M3()[0],v=w.isResolved,I=w.options,S=x.useState(null),D=S[0],T=S[1],E=x.useState(!0),R=E[0],O=E[1],k=x.useState(null),N=k[1];function B(){y.current!==null&&y.current.close().catch(function(){})}return!((n=y.current)===null||n===void 0)&&n.updateProps&&y.current.updateProps({message:h.message}),x.useEffect(function(){if(v===!1)return B;var K=E3(I.dataNamespace);if(K===void 0||K.Buttons===void 0)return N(function(){throw new Error(R3({reactComponentName:$d.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:I.components,sdkDataNamespace:I[Ho.DATA_NAMESPACE]}))}),B;var $=function(Y,J){T(J),typeof h.onInit=="function"&&h.onInit(Y,J)};try{y.current=K.Buttons(_n(_n({},b),{onInit:$}))}catch(Y){return N(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(Y))})}return y.current.isEligible()===!1?(O(!1),B):(g.current&&y.current.render(g.current).catch(function(Y){g.current===null||g.current.children.length===0||N(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(Y))})}),B)},Qy(Qy([v],u,!0),[h.fundingSource],!1)),x.useEffect(function(){D!==null&&(i===!0?D.disable().catch(function(){}):D.enable().catch(function(){}))},[i,D]),Tt.createElement(Tt.Fragment,null,R?Tt.createElement("div",{ref:g,style:f,className:m}):l)};$d.displayName="PayPalButtons";function L3(e,n){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&n.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)n.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(r[s[o]]=e[s[o]]);return r}function $3(e,n){var r=document.querySelector('script[src="'.concat(e,'"]'));if(r===null)return null;var s=Tw(e,n),o=r.cloneNode();if(delete o.dataset.uidAuto,Object.keys(o.dataset).length!==Object.keys(s.dataset).length)return null;var i=!0;return Object.keys(o.dataset).forEach(function(l){o.dataset[l]!==s.dataset[l]&&(i=!1)}),i?r:null}function F3(e){var n=e.url,r=e.attributes,s=e.onSuccess,o=e.onError,i=Tw(n,r);i.onerror=o,i.onload=s,document.head.insertBefore(i,document.head.firstElementChild)}function B3(e){var n=e.sdkBaseUrl,r=e.environment,s=L3(e,["sdkBaseUrl","environment"]),o=n||V3(r),i=s,l=Object.keys(i).filter(function(h){return typeof i[h]<"u"&&i[h]!==null&&i[h]!==""}).reduce(function(h,f){var m=i[f].toString();return f=W3(f),f.substring(0,4)==="data"||f==="crossorigin"?h.attributes[f]=m:h.queryParams[f]=m,h},{queryParams:{},attributes:{}}),d=l.queryParams,u=l.attributes;return d["merchant-id"]&&d["merchant-id"].indexOf(",")!==-1&&(u["data-merchant-id"]=d["merchant-id"],d["merchant-id"]="*"),{url:"".concat(o,"?").concat(U3(d)),attributes:u}}function W3(e){var n=function(r,s){return(s?"-":"")+r.toLowerCase()};return e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,n)}function U3(e){var n="";return Object.keys(e).forEach(function(r){n.length!==0&&(n+="&"),n+=r+"="+e[r]}),n}function V3(e){return e==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function Tw(e,n){n===void 0&&(n={});var r=document.createElement("script");return r.src=e,Object.keys(n).forEach(function(s){r.setAttribute(s,n[s]),s==="data-csp-nonce"&&r.setAttribute("nonce",n["data-csp-nonce"])}),r}function z3(e,n){if(n===void 0&&(n=Promise),Ew(e,n),typeof document>"u")return n.resolve(null);var r=B3(e),s=r.url,o=r.attributes,i=o["data-namespace"]||"paypal",l=Zy(i);return o["data-js-sdk-library"]||(o["data-js-sdk-library"]="paypal-js"),$3(s,o)&&l?n.resolve(l):H3({url:s,attributes:o},n).then(function(){var d=Zy(i);if(d)return d;throw new Error("The window.".concat(i," global variable is not available."))})}function H3(e,n){n===void 0&&(n=Promise),Ew(e,n);var r=e.url,s=e.attributes;if(typeof r!="string"||r.length===0)throw new Error("Invalid url.");if(typeof s<"u"&&typeof s!="object")throw new Error("Expected attributes to be an object.");return new n(function(o,i){if(typeof document>"u")return o();F3({url:r,attributes:s,onSuccess:function(){return o()},onError:function(){var l=new Error('The script "'.concat(r,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return i(l)}})})}function Zy(e){return window[e]}function Ew(e,n){if(typeof e!="object"||e===null)throw new Error("Expected an options object.");var r=e.environment;if(r&&r!=="production"&&r!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof n<"u"&&typeof n!="function")throw new Error("Expected PromisePonyfill to be a function.")}var Aw=function(e){var n,r=e.options,s=r===void 0?{clientId:"test"}:r,o=e.children,i=e.deferLoading,l=i===void 0?!1:i,d=x.useReducer(_3,{options:_n(_n({},s),(n={},n[Ho.DATA_JS_SDK_LIBRARY]=Ho.DATA_LIBRARY_VALUE,n[Ho.DATA_SDK_INTEGRATION_SOURCE]=Ho.DATA_LIBRARY_VALUE,n[Yi]="".concat(Iw(s)),n)),loadingStatus:l?Sr.INITIAL:Sr.PENDING}),u=d[0],h=d[1];return x.useEffect(function(){if(l===!1&&u.loadingStatus===Sr.INITIAL)return h({type:mo.LOADING_STATUS,value:Sr.PENDING});if(u.loadingStatus===Sr.PENDING){var f=!0;return z3(u.options).then(function(){f&&h({type:mo.LOADING_STATUS,value:Sr.RESOLVED})}).catch(function(m){console.error("".concat(D3," ").concat(m)),f&&h({type:mo.LOADING_STATUS,value:{state:Sr.REJECTED,message:String(m)}})}),function(){f=!1}}},[u.options,l,u.loadingStatus]),Tt.createElement(Dw.Provider,{value:_n(_n({},u),{dispatch:h})},o)};function e0(){}x.createContext({cardFieldsForm:null,fields:{},registerField:e0,unregisterField:e0});const G3=({contentType:e,contentId:n,amount:r,currency:s,comment:o,onSuccess:i,onError:l,onCancel:d,disabled:u=!1})=>{const[h,f]=Tt.useState(!0),[m,g]=Tt.useState(null),{api:y}=Ke();return t.jsx(C,{sx:{minHeight:50},children:t.jsxs(Aw,{options:{clientId:"AUvVGkHGJD8OKekE_4XxFzzKL8a8yLtJ3ZG1woE3OobNy57zyofuPIiUo-zZag0O_L1KPB_u4TB0tuJp",currency:s.toUpperCase(),intent:"capture"},children:[h&&t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:2},children:t.jsx(sn,{size:24})}),t.jsx($d,{style:{layout:"vertical",color:"gold",shape:"rect",label:"pay"},disabled:u||r<=0,onInit:()=>{f(!1)},createOrder:async()=>{var w;console.log("Creating PayPal order for funding:",{contentType:e,contentId:n,amount:r,currency:s});try{const v=await((w=y==null?void 0:y.app.funding)==null?void 0:w.createPayPalOrder(e,n,{amount:r,currency:s,comment:o}));if(!(v!=null&&v.orderId))throw new Error("Failed to create PayPal order");return g({orderId:v.orderId,contributionId:v.contributionId}),v.orderId}catch(v){throw console.error("Failed to create PayPal order:",v),l(new Error("Failed to create payment order. Please try again.")),v}},onApprove:async w=>{var v;if(console.log("PayPal order approved:",{orderID:w.orderID,contributionId:m==null?void 0:m.contributionId}),!m){l(new Error("Order data not found"));return}try{const I=await((v=y==null?void 0:y.app.funding)==null?void 0:v.capturePayPalOrder(e,n,{orderId:w.orderID,contributionId:m.contributionId}));i(I)}catch(I){console.error("Failed to capture PayPal order:",I),l(new Error("Failed to complete payment. Please contact support."))}},onCancel:()=>{console.log("PayPal payment cancelled by user"),g(null),d==null||d()},onError:w=>{console.error("PayPal payment error:",w),g(null),l(new Error(typeof w=="string"?w:"PayPal payment failed"))}})]})})},Y3=({currentAmount:e,goalAmount:n,contributorCount:r,currency:s,showDetailed:o=!0})=>{const i=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:s,minimumFractionDigits:0,maximumFractionDigits:2}).format(u),l=n?Math.min(e/n*100,100):0,d=n?Math.max(n-e,0):0;return o?t.jsx(Fe,{variant:"outlined",sx:{backgroundColor:"background.paper"},children:t.jsxs(We,{children:[t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,sm:n?4:6,children:t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(C,{sx:{display:"flex",justifyContent:"center",mb:1},children:t.jsx(Xs,{color:"primary",fontSize:"large"})}),t.jsx(j,{variant:"h4",fontWeight:"bold",color:"primary",children:i(e)}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Raised so far"})]})}),n&&t.jsx(F,{item:!0,xs:12,sm:4,children:t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(C,{sx:{display:"flex",justifyContent:"center",mb:1},children:t.jsx(pR,{color:"action",fontSize:"large"})}),t.jsx(j,{variant:"h4",fontWeight:"bold",children:i(n)}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Funding goal"})]})}),t.jsx(F,{item:!0,xs:12,sm:n?4:6,children:t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(C,{sx:{display:"flex",justifyContent:"center",mb:1},children:t.jsx(bo,{color:"action",fontSize:"large"})}),t.jsx(j,{variant:"h4",fontWeight:"bold",children:r}),t.jsx(j,{variant:"body2",color:"text.secondary",children:r===1?"Supporter":"Supporters"})]})})]}),n&&t.jsxs(C,{sx:{mt:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsxs(j,{variant:"body2",fontWeight:"medium",children:["Progress: ",l.toFixed(1),"%"]}),d>0&&t.jsxs(j,{variant:"body2",color:"text.secondary",children:[i(d)," to go"]})]}),t.jsx(La,{variant:"determinate",value:l,sx:{height:12,borderRadius:6,backgroundColor:"grey.200","& .MuiLinearProgress-bar":{borderRadius:6,background:l>=100?"linear-gradient(45deg, #4caf50 30%, #8bc34a 90%)":"linear-gradient(45deg, #2196f3 30%, #21cbf3 90%)"}}}),l>=100&&t.jsx(C,{sx:{mt:2,p:2,bgcolor:"success.light",borderRadius:1,textAlign:"center"},children:t.jsx(j,{variant:"body2",fontWeight:"medium",color:"success.dark",children:" Funding goal reached! Thank you to all supporters!"})})]})]})}):t.jsxs(C,{children:[n&&t.jsxs(t.Fragment,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Funded: ",i(e)]}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Goal: ",i(n)]})]}),t.jsx(La,{variant:"determinate",value:l,sx:{height:8,borderRadius:4,backgroundColor:"grey.200","& .MuiLinearProgress-bar":{borderRadius:4}}})]}),!n&&t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Xs,{fontSize:"small",color:"primary"}),t.jsxs(j,{variant:"body2",fontWeight:"medium",children:[i(e)," raised"]}),t.jsx(bo,{fontSize:"small",color:"action"}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:[r," supporters"]})]})]})},q3=[5,10,25,50,100],Rw=({open:e,onClose:n,onSuccess:r,contentType:s,contentId:o,fundingData:i})=>{const[l,d]=x.useState("amount"),[u,h]=x.useState({amount:0,currency:i.currency,comment:""}),[f,m]=x.useState(!1),[g,y]=x.useState(null),b=()=>{d("amount"),h({amount:0,currency:i.currency,comment:""}),y(null),n()},w=N=>{h(B=>({...B,amount:N}))},v=()=>{if(l==="amount"){if(u.amount<=0){y("Please enter a valid contribution amount");return}y(null),d("payment")}},I=()=>{l==="payment"&&(d("amount"),y(null))},S=N=>{r(N),b()},D=N=>{y(N.message||"Payment failed. Please try again."),m(!1)},T=()=>{y("Payment cancelled. You can try again when ready."),m(!1)},E=()=>t.jsxs(me,{spacing:3,children:[t.jsxs(C,{children:[t.jsxs(j,{variant:"h6",gutterBottom:!0,children:["Fund this ",s]}),t.jsx(j,{variant:"body2",color:"text.secondary",children:i.description||`Support this ${s} with your contribution`})]}),t.jsx(Y3,{currentAmount:i.currentAmount,goalAmount:i.goalAmount,contributorCount:i.contributorCount,currency:i.currency}),t.jsx(Mt,{}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",gutterBottom:!0,children:"Choose contribution amount"}),t.jsx(me,{direction:"row",spacing:1,flexWrap:"wrap",sx:{mb:2},children:q3.map(N=>t.jsx(Qe,{label:`${i.currency} ${N}`,onClick:()=>w(N),color:u.amount===N?"primary":"default",variant:u.amount===N?"filled":"outlined",sx:{mb:1}},N))}),t.jsx(nt,{label:"Custom Amount",type:"number",value:u.amount||"",onChange:N=>h(B=>({...B,amount:Number(N.target.value)})),fullWidth:!0,InputProps:{startAdornment:t.jsx(es,{position:"start",children:i.currency})},inputProps:{min:1,step:.01}})]}),t.jsx(nt,{label:"Comment (Optional)",multiline:!0,rows:3,value:u.comment,onChange:N=>h(B=>({...B,comment:N.target.value})),fullWidth:!0,placeholder:"Leave a message of support..."})]}),R=()=>t.jsxs(me,{spacing:3,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Payment Details"}),t.jsxs(C,{sx:{p:2,bgcolor:"background.paper",borderRadius:1,border:"1px solid",borderColor:"divider"},children:[t.jsxs(j,{variant:"body1",fontWeight:"medium",children:["Contribution: ",i.currency," ",u.amount]}),u.comment&&t.jsxs(j,{variant:"body2",color:"text.secondary",sx:{mt:1},children:['"',u.comment,'"']})]})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",gutterBottom:!0,children:"Complete payment with PayPal"}),t.jsx(G3,{contentType:s,contentId:o,amount:u.amount,currency:u.currency,comment:u.comment,onSuccess:S,onError:D,onCancel:T,disabled:f})]})]}),O=()=>t.jsxs(C,{sx:{textAlign:"center",py:4},children:[t.jsx(La,{sx:{mb:3}}),t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Processing your contribution..."}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Please wait while we process your payment"})]}),k=()=>{switch(l){case"amount":return t.jsxs(t.Fragment,{children:[t.jsx(ue,{onClick:b,disabled:f,children:"Cancel"}),t.jsx(ue,{onClick:v,variant:"contained",disabled:f||u.amount<=0,children:"Continue"})]});case"payment":return t.jsx(t.Fragment,{children:t.jsx(ue,{onClick:I,disabled:f,children:"Back"})});case"processing":return null;default:return null}};return t.jsxs(Kt,{open:e,onClose:f?void 0:b,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[t.jsxs(tn,{sx:{fontWeight:600},children:["Fund ",i.title]}),t.jsxs(Xt,{children:[g&&t.jsx(dt,{severity:"error",sx:{mb:2},children:g}),l==="amount"&&E(),l==="payment"&&R(),l==="processing"&&O()]}),k()&&t.jsx(Jt,{sx:{px:3,pb:2},children:k()})]})};var wm={},K3=Xe;Object.defineProperty(wm,"__esModule",{value:!0});var Va=wm.default=void 0,X3=K3(Je()),J3=t;Va=wm.default=(0,X3.default)((0,J3.jsx)("path",{d:"M1 11h4v11H1zm15-7.75C16.65 2.49 17.66 2 18.7 2 20.55 2 22 3.45 22 5.3c0 2.27-2.91 4.9-6 7.7-3.09-2.81-6-5.44-6-7.7C10 3.45 11.45 2 13.3 2c1.04 0 2.05.49 2.7 1.25M20 17h-7l-2.09-.73.33-.94L13 16h2.82c.65 0 1.18-.53 1.18-1.18 0-.49-.31-.93-.77-1.11L8.97 11H7v9.02L14 22l8.01-3c-.01-1.1-.9-2-2.01-2"}),"VolunteerActivism");const Q3=()=>t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsx(le,{variant:"rectangular",width:"100%",height:300,sx:{borderRadius:2,mb:3}})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx(Fe,{children:t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[t.jsx(le,{variant:"text",width:"60%",height:40}),t.jsx(me,{direction:"row",spacing:1,children:[1,2,3].map(e=>t.jsx(le,{variant:"circular",width:40,height:40},e))})]}),t.jsx(le,{variant:"rectangular",width:"100%",height:300,sx:{mb:3,borderRadius:1}}),t.jsxs(me,{spacing:2,sx:{mb:3},children:[t.jsx(le,{variant:"text",width:"100%"}),t.jsx(le,{variant:"text",width:"95%"}),t.jsx(le,{variant:"text",width:"90%"}),t.jsx(le,{variant:"text",width:"85%"}),t.jsx(le,{variant:"text",width:"95%"})]}),t.jsx(le,{variant:"rectangular",width:"100%",height:80,sx:{mb:3,borderRadius:1}}),t.jsx(me,{direction:"row",spacing:1,children:[1,2,3,4].map(e=>t.jsx(le,{variant:"rounded",width:80,height:32},e))})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsx(le,{variant:"text",width:"50%",height:32,sx:{mb:2}}),t.jsx(me,{spacing:2,children:[1,2,3,4,5].map(e=>t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[t.jsx(le,{variant:"text",width:"40%"}),t.jsx(le,{variant:"text",width:"20%"})]}),t.jsx(le,{variant:"rectangular",width:"100%",height:8,sx:{borderRadius:1}})]},e))})]})})})]})}),Z3=()=>{var E,R;const{id:e}=ns(),{api:n}=Ke(),{execute:r}=tt(),[s,o]=x.useState(null),[i,l]=x.useState(!0),[d,u]=x.useState(!1),[h,f]=x.useState(!1),[m,g]=x.useState(null),[y,b]=x.useState(!1);x.useEffect(()=>{(async()=>{if(e){l(!0);const k=await r(()=>n==null?void 0:n.app.news.get(e),{showErrorToast:!0});k&&(o(k),k.accessInfo&&!k.accessInfo.canAccess&&u(!0),w(e)),l(!1)}})()},[e,r]);const w=async O=>{try{b(!0);const k=await(n==null?void 0:n.app.funding.getFund("news",O));g(k)}catch(k){console.error("Failed to load fund data:",k)}finally{b(!1)}},v=async()=>{f(!0)},I=async O=>{e&&await w(e),console.log("Contribution successful:",O)},S=()=>!s||!m?null:{id:m.id,title:s.title,currentAmount:m.currentAmount/100,goalAmount:m.goalAmount?m.goalAmount/100:void 0,currency:m.currency,contributorCount:0,description:"Support quality journalism by funding this article"};if(i)return t.jsx(Q3,{});if(!s)return t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsx(j,{variant:"h4",children:"Entry not found"})});const D=s.media.find(O=>O.type===fl.COVER),T=O=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(O);return t.jsxs(It,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsxs(C,{sx:{height:300,width:"100%",position:"relative",mb:3,borderRadius:2,overflow:"hidden"},children:[(D==null?void 0:D.format)===Kc.VIDEO?t.jsx(C,{component:"video",src:D.url,controls:!0,preload:"metadata",sx:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center",bgcolor:"black"}}):t.jsx(C,{component:"img",src:(D==null?void 0:D.url)||_d,alt:s.title,sx:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"}}),t.jsxs(C,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(transparent, rgba(0,0,0,0.7))",p:3,color:"white"},children:[t.jsx(j,{variant:"h4",component:"h1",gutterBottom:!0,children:s.title}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsxs(C,{component:Xn,to:be.APP_CHANNEL_VIEW.replace(":channelId",s.channelId),sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(255, 255, 255, 0.1)",color:"white",px:2,py:1,borderRadius:2,textDecoration:"none",transition:"all 0.2s ease-in-out",border:"1px solid rgba(255, 255, 255, 0.2)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.2)",transform:"translateY(-2px)"}},children:[t.jsx(pl,{sx:{mr:1}}),t.jsx(j,{variant:"subtitle2",children:s.channel.name})]}),t.jsxs(C,{sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(0, 0, 0, 0.3)",px:2,py:1,borderRadius:2,border:"1px solid rgba(255, 255, 255, 0.1)"},children:[t.jsx(ul,{sx:{mr:1,fontSize:"0.9rem"}}),t.jsx(j,{variant:"caption",children:s.creator.displayName})]})]}),t.jsx(j,{variant:"subtitle1",children:new Date(s.publishedAt).toLocaleDateString()})]})]})]})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx(Fe,{children:t.jsx(C,{sx:{p:3},children:d?t.jsxs(ot,{elevation:3,sx:{p:4,textAlign:"center",bgcolor:O=>de(O.palette.warning.main,.05),border:O=>`2px solid ${de(O.palette.warning.main,.3)}`,borderRadius:3},children:[t.jsx(C,{sx:{width:80,height:80,borderRadius:"50%",bgcolor:O=>de(O.palette.warning.main,.1),display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",mb:2},children:t.jsx(Gi,{sx:{fontSize:40,color:"warning.main"}})}),t.jsx(j,{variant:"h5",gutterBottom:!0,fontWeight:"bold",color:"warning.dark",children:"Premium Content"}),t.jsx(j,{variant:"body1",color:"text.secondary",sx:{mb:3,maxWidth:500,mx:"auto"},children:((E=s.accessInfo)==null?void 0:E.reason)||"Subscribe to unlock the full article and support quality journalism."}),((R=s.accessInfo)==null?void 0:R.requiredTierName)&&t.jsxs(dt,{severity:"info",sx:{mb:3,maxWidth:500,mx:"auto","& .MuiAlert-message":{width:"100%",textAlign:"center"}},children:["Required tier: ",t.jsx("strong",{children:s.accessInfo.requiredTierName})]}),t.jsxs(C,{sx:{mb:3,maxWidth:400,mx:"auto"},children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",sx:{mb:2},children:"Subscribe to unlock:"}),t.jsx(fr,{dense:!0,children:["Full article content","Quality metrics","Fund information","Social links","Transaction transparency"].map((O,k)=>t.jsxs(rr,{sx:{py:.5},children:[t.jsx(qt,{sx:{minWidth:32},children:t.jsx(Ua,{color:"success",fontSize:"small"})}),t.jsx(Wt,{primary:O,primaryTypographyProps:{variant:"body2"}})]},k))})]}),t.jsx(ue,{component:Xn,to:be.APP_CHANNEL_VIEW.replace(":channelId",s.channelId),variant:"contained",color:"warning",size:"large",startIcon:t.jsx(Ld,{}),sx:{px:4,py:1.5,borderRadius:2,fontWeight:"bold",textTransform:"none",fontSize:"1rem"},children:"View Subscription Options"})]}):t.jsxs(t.Fragment,{children:[t.jsx(Nd,{data:Sw(s.content),readOnly:!0,borderColor:O=>O.palette.mode==="dark"?de(O.palette.common.white,.1):de(O.palette.common.black,.1)}),t.jsx(C,{sx:{mt:2},children:s.tags.map(O=>t.jsx(Qe,{label:O.title,variant:"outlined",sx:{mr:1,mb:1}},O.id))})]})})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(me,{spacing:3,children:[!d&&s.socialLinks&&s.socialLinks.length>0&&t.jsx(mm,{links:s.socialLinks}),!d&&s.qualityMetrics&&t.jsxs(ot,{elevation:0,sx:{p:2,bgcolor:"success.light",color:"success.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[t.jsx(bm,{fontSize:"large"}),t.jsxs(C,{children:[t.jsx(j,{variant:"overline",children:"Quality Score"}),t.jsxs(j,{variant:"h4",component:"div",children:[s.qualityMetrics.overallQualityScore.toFixed(1),"/10"]})]})]}),!d&&s.newsFund&&t.jsxs(ot,{elevation:0,sx:{p:2,bgcolor:"primary.light",color:"primary.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[t.jsx(kd,{fontSize:"large"}),t.jsxs(C,{children:[t.jsx(j,{variant:"overline",children:"News Fund"}),t.jsx(j,{variant:"h4",component:"div",children:T(s.newsFund.amount)})]})]}),t.jsx(ot,{elevation:2,sx:{p:3,borderRadius:2,border:"2px solid",borderColor:"primary.main",bgcolor:O=>de(O.palette.primary.main,.05)},children:t.jsxs(me,{spacing:2,children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Va,{color:"primary",fontSize:"large"}),t.jsx(j,{variant:"h6",fontWeight:"bold",color:"primary",children:"Fund this Article"})]}),m&&!y?t.jsxs(C,{children:[t.jsx(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Current Funding"}),t.jsxs(j,{variant:"h5",fontWeight:"bold",color:"primary.main",children:[m.currency," ",(m.currentAmount/100).toFixed(2)]}),m.goalAmount&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Goal: ",m.currency," ",(m.goalAmount/100).toFixed(2)]})]}):y?t.jsx(le,{variant:"rectangular",height:60}):t.jsx(j,{variant:"body2",color:"text.secondary",children:"Be the first to fund this article"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Support quality journalism by contributing to this article"}),t.jsx(ue,{variant:"contained",color:"primary",fullWidth:!0,size:"large",startIcon:t.jsx(Va,{}),onClick:v,disabled:!s,sx:{py:1.5,fontWeight:"bold",textTransform:"none",fontSize:"1rem"},children:"Fund Now"})]})})]})})]}),!d&&t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsx(g3,{newsId:s.id,channelId:s.channelId,newsFund:s.newsFund})}),s&&m&&t.jsx(Rw,{open:h,onClose:()=>f(!1),onSuccess:I,contentType:"news",contentId:s.id,fundingData:S()})]})};var Sm={},eB=Xe;Object.defineProperty(Sm,"__esModule",{value:!0});var kw=Sm.default=void 0,tB=eB(Je()),nB=t;kw=Sm.default=(0,tB.default)((0,nB.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");const fc=Me(Qe)(({theme:e})=>({borderRadius:e.spacing(.75),height:28,fontWeight:500,fontSize:"0.75rem",padding:"0 8px",transition:"all 0.2s ease",border:"1px solid transparent","&.selected":{backgroundColor:e.palette.mode==="dark"?e.palette.common.white:e.palette.grey[900],color:e.palette.mode==="dark"?e.palette.grey[900]:e.palette.common.white,fontWeight:600,borderColor:e.palette.mode==="dark"?e.palette.common.white:e.palette.grey[900],"&:hover":{backgroundColor:e.palette.mode==="dark"?e.palette.grey[100]:e.palette.grey[800],borderColor:e.palette.mode==="dark"?e.palette.grey[100]:e.palette.grey[800]}},"&:not(.selected)":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.06)",color:e.palette.text.primary,"&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.1)",borderColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)"}}})),Nh=Me(C)(({theme:e,horizontal:n})=>({display:"flex",flexDirection:n?"row":"column",gap:e.spacing(1),scrollBehavior:"smooth",...n&&{overflowX:"auto",overflowY:"hidden",paddingBottom:e.spacing(.5),scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},msOverflowStyle:"none"}})),t0=Me(Ne)(({theme:e})=>({backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.06)",width:32,height:32,flexShrink:0,"&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.1)"}})),Jc=({selectedTags:e=[],onTagsChange:n,contentType:r,maxTags:s=10,className:o,horizontal:i=!1})=>{const[l,d]=x.useState([]),[u,h]=x.useState(!0),[f,m]=x.useState(!1),[g,y]=x.useState(!1),b=Tt.useRef(null),{api:w}=Ke(),{execute:v}=tt();x.useEffect(()=>{(async()=>{if(w!=null&&w.app.tag){h(!0);try{const[R,O,k]=await Promise.all([v(()=>w.app.tag.getTags({category:r==="channels"?void 0:r}),{showErrorToast:!1}),v(()=>w.app.tag.getTags({trending:!0,category:r==="channels"?void 0:r}),{showErrorToast:!1}),v(()=>w.app.tag.getTags({popular:!0,category:r==="channels"?void 0:r}),{showErrorToast:!1})]),N=new Map;R!=null&&R.items&&R.items.forEach(K=>{var $;N.set(K.id,{...K,count:(($=K.analytics)==null?void 0:$.usageCount)||0})}),O!=null&&O.items&&O.items.forEach(K=>{var Y;const $=N.get(K.id);$?N.set(K.id,{...$,trending:!0}):N.set(K.id,{...K,count:((Y=K.analytics)==null?void 0:Y.usageCount)||0,trending:!0})}),k!=null&&k.items&&k.items.forEach(K=>{var Y;const $=N.get(K.id);$&&!$.trending?N.set(K.id,{...$,popular:!0}):$||N.set(K.id,{...K,count:((Y=K.analytics)==null?void 0:Y.usageCount)||0,popular:!0})});const B=Array.from(N.values()).sort((K,$)=>($.count||0)-(K.count||0)).slice(0,20);d(B)}catch(R){console.error("Failed to fetch tags:",R),d([])}finally{h(!1)}}})()},[r,w,v]);const I=E=>{const R=e.includes(E);n(R?e.filter(O=>O!==E):[E])},S=()=>{if(i&&b.current){const{scrollLeft:E,scrollWidth:R,clientWidth:O}=b.current;m(E>0),y(E+O<R-1)}};x.useEffect(()=>{if(i){S();const E=b.current;if(E)return E.addEventListener("scroll",S),window.addEventListener("resize",S),()=>{E.removeEventListener("scroll",S),window.removeEventListener("resize",S)}}},[l,u,i]);const D=()=>{b.current&&b.current.scrollBy({left:-200,behavior:"smooth"})},T=()=>{b.current&&b.current.scrollBy({left:200,behavior:"smooth"})};return u?t.jsx(C,{className:o,children:t.jsx(Nh,{horizontal:i,children:[...Array(10)].map((E,R)=>t.jsx(le,{variant:"rounded",width:i?100:"100%",height:28,sx:{borderRadius:.75,flexShrink:i?0:void 0}},R))})}):i?t.jsxs(C,{className:o,sx:{display:"flex",alignItems:"center",gap:1},children:[f&&t.jsx(t0,{onClick:D,size:"small",children:t.jsx(up,{fontSize:"small"})}),t.jsxs(Nh,{ref:b,horizontal:i,sx:{flex:1},children:[t.jsx(fc,{label:"All",className:e.length===0?"selected":"",onClick:()=>n([]),clickable:!0,sx:{flexShrink:0}}),l.map(E=>{const R=e.includes(E.name);return t.jsx(fc,{label:E.name,className:R?"selected":"",onClick:()=>I(E.name),clickable:!0,sx:{flexShrink:0}},E.id)})]}),g&&t.jsx(t0,{onClick:T,size:"small",children:t.jsx(kw,{fontSize:"small"})})]}):t.jsx(C,{className:o,children:t.jsxs(Nh,{ref:b,horizontal:i,children:[t.jsx(fc,{label:"All",className:e.length===0?"selected":"",onClick:()=>n([]),clickable:!0,sx:{width:"100%",justifyContent:"flex-start"}}),l.map(E=>{const R=e.includes(E.name);return t.jsx(fc,{label:E.name,className:R?"selected":"",onClick:()=>I(E.name),clickable:!0,sx:{width:"100%",justifyContent:"flex-start"}},E.id)})]})})},rB=()=>{const e=ea(),n=Ct(),[r,s]=x.useState([]);x.useEffect(()=>{const l=new URLSearchParams(e.search).get("tags");if(l){const d=l.split(",").map(u=>decodeURIComponent(u.trim()));s(d)}},[e.search]);const o=i=>{s(i);const l=new URLSearchParams(e.search);i.length>0?l.set("tags",i.map(u=>encodeURIComponent(u)).join(",")):l.delete("tags");const d=`${e.pathname}?${l.toString()}`;n(d,{replace:!0})};return t.jsxs(C,{sx:{width:"100%",overflow:"hidden",pb:4},children:[t.jsx(C,{sx:{mb:3},children:t.jsx(Jc,{selectedTags:r,onTagsChange:o,contentType:"news",maxTags:5,showCounts:!1,horizontal:!0})}),t.jsx(C,{children:t.jsx(vw,{filters:r.length>0?{tags:r}:{},emptyTitle:"No news found",emptyDescription:"No news articles available at the moment",mode:"grid"})})]})};var Cm={},sB=Xe;Object.defineProperty(Cm,"__esModule",{value:!0});var Pm=Cm.default=void 0,oB=sB(Je()),aB=t;Pm=Cm.default=(0,oB.default)((0,aB.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People");var Im={},iB=Xe;Object.defineProperty(Im,"__esModule",{value:!0});var Qc=Im.default=void 0,lB=iB(Je()),cB=t;Qc=Im.default=(0,lB.default)((0,cB.jsx)("path",{d:"M9.68 13.69 12 11.93l2.31 1.76-.88-2.85L15.75 9h-2.84L12 6.19 11.09 9H8.25l2.31 1.84zM20 10c0-4.42-3.58-8-8-8s-8 3.58-8 8c0 2.03.76 3.87 2 5.28V23l6-2 6 2v-7.72c1.24-1.41 2-3.25 2-5.28m-8-6c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6 2.69-6 6-6"}),"WorkspacePremium");const dB=({channel:e,hasSubscription:n,subscriptionTier:r,onJoin:s,onCancel:o})=>{var m,g,y,b;const i=Ct(),l=n,d=r,u=(m=e.tiers)==null?void 0:m.find(w=>w.isDefault),h=()=>{i(be.APP_CHANNEL_VIEW.replace(":channelId",e.id))},f=w=>{w.stopPropagation(),l?o(e.id):s(e.id,u==null?void 0:u.id)};return t.jsxs(C,{onClick:h,sx:{display:"flex",alignItems:"flex-start",gap:1.5,p:1.5,borderRadius:1.5,cursor:"pointer",transition:"all 0.2s ease-in-out",height:"100%",border:"1px solid",borderColor:"transparent","&:hover":{bgcolor:w=>w.palette.mode==="dark"?de(w.palette.common.white,.05):de(w.palette.common.black,.03),borderColor:"divider",transform:"translateX(4px)"}},children:[t.jsx(Sn,{src:e.logoUrl,sx:{width:48,height:48,borderRadius:1.5,bgcolor:"primary.main"}}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:.5},children:[t.jsx(j,{variant:"body1",sx:{fontWeight:600,color:"text.primary",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"0.9rem"},children:e.name}),l?t.jsx(Qe,{label:d==null?void 0:d.name,color:"primary",onDelete:f,size:"small",sx:{height:24}}):t.jsx(Ne,{size:"small",onClick:f,sx:{bgcolor:"primary.main",color:"white",width:32,height:32,"&:hover":{bgcolor:"primary.dark"}},children:t.jsx(Qc,{sx:{fontSize:18}})})]}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:.5,display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",fontSize:"0.8rem"},children:e.description}),t.jsxs(me,{direction:"row",spacing:2,sx:{color:"text.secondary",fontSize:"0.75rem"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(Pm,{sx:{fontSize:14}}),(y=(g=e.stats)==null?void 0:g.activeSubscriptionCount)==null?void 0:y.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1})]}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(Qc,{sx:{fontSize:14}}),((b=e.stats)==null?void 0:b.tierCount)||0," Tiers"]})]})]})]})},uB=({count:e=2})=>t.jsx(me,{spacing:2,sx:{mt:2},children:[...Array(e)].map((n,r)=>t.jsxs(C,{sx:{display:"flex",gap:2,p:2,borderRadius:2,bgcolor:s=>s.palette.mode==="dark"?de(s.palette.common.white,.05):de(s.palette.common.black,.03)},children:[t.jsx(C,{sx:{width:56,height:56,borderRadius:2,bgcolor:s=>s.palette.mode==="dark"?de(s.palette.common.white,.1):de(s.palette.common.black,.1)}}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsx(C,{sx:{height:24,width:"40%",mb:1,borderRadius:.5,bgcolor:"grey.300"}}),t.jsx(C,{sx:{height:16,width:"80%",mb:1,borderRadius:.5,bgcolor:"grey.200"}}),t.jsx(C,{sx:{height:16,width:"30%",borderRadius:.5,bgcolor:"grey.200"}})]})]},r))}),hB=({filters:e={},emptyTitle:n="No channels found",emptyDescription:r="No channels available at the moment",itemsPerPage:s=10,hasSubscription:o,getSubscriptionTier:i,onJoin:l,onCancel:d})=>{const[u,h]=x.useState([]),[f,m]=x.useState(!0),[g,y]=x.useState(1),[b,w]=x.useState(!0),{api:v}=Ke(),{execute:I}=tt(),S=async(T=g)=>{try{m(!0);const E=await I(()=>v==null?void 0:v.app.channel.getChannels(e,{page:T,limit:s}),{showErrorToast:!0});E&&(h(T===1?E.items??[]:R=>[...R,...E.items??[]]),y(E.metadata.currentPage??1),w(E.metadata.hasNext===!0))}finally{m(!1)}};x.useEffect(()=>{h([]),y(1),S(1)},[JSON.stringify(e)]);const D=()=>{!f&&b&&S(g+1)};return u.length===0&&!f?t.jsx(Zs,{title:n,description:r}):t.jsx(C,{sx:{width:"100%"},children:f&&u.length===0?t.jsx(uB,{}):t.jsx(xs,{dataLength:u.length,next:D,hasMore:b,loader:t.jsx(C,{}),endMessage:t.jsx(C,{sx:{textAlign:"center",mt:4,color:"text.secondary",fontSize:"0.875rem"},children:"No more channels to display"}),children:t.jsx(F,{container:!0,spacing:3,children:u.map(T=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(dB,{channel:T,hasSubscription:(o==null?void 0:o(T.id))??!1,subscriptionTier:i==null?void 0:i(T.id),onJoin:l,onCancel:d})},T.id))})})})},fB=()=>{const e=ea(),n=Ct(),[r,s]=x.useState([]),{actions:o,channelRelations:i}=ys(),{api:l}=Ke();x.useEffect(()=>{const m=new URLSearchParams(e.search).get("tags");if(m){const g=m.split(",").map(y=>decodeURIComponent(y.trim()));s(g)}},[e.search]);const d=async(f,m)=>{var g,y,b;if(m)try{const w=await((g=l==null?void 0:l.app.subscription)==null?void 0:g.createDirectSubscription(f,{tierId:m,paymentMethodId:"paypal_default"}));w!=null&&w.approvalUrl?window.open(w.approvalUrl,"paypal_payment","width=600,height=700,scrollbars=yes,resizable=yes")||alert("Popup blocked! Please allow popups and try again."):await o.refreshProfile()}catch(w){console.error("Subscription failed:",w);const v=((b=(y=w==null?void 0:w.response)==null?void 0:y.data)==null?void 0:b.message)||(w==null?void 0:w.message)||"";(v.includes("PAYMENT_METHOD_REQUIRED")||v.includes("PayPal payment method")||v.includes("No PayPal payment method found"))&&window.confirm("You need to add a PayPal payment method to subscribe to paid tiers. Would you like to add one now?")&&n("/app/account/payment-methods")}},u=async f=>{try{await(l==null?void 0:l.app.channel.unsubscribeFromChannel(f)),await o.refreshProfile()}catch(m){console.error("Error cancelling subscription:",m)}},h=f=>{s(f);const m=new URLSearchParams(e.search);f.length>0?m.set("tags",f.map(y=>encodeURIComponent(y)).join(",")):m.delete("tags");const g=`${e.pathname}?${m.toString()}`;n(g,{replace:!0})};return t.jsxs(C,{sx:{width:"100%",overflow:"hidden"},children:[t.jsxs(C,{sx:{mb:3},children:[t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600},children:"Discover Channels"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Find and subscribe to channels from your favorite journalists"})]}),t.jsx(C,{sx:{mb:3},children:t.jsx(Jc,{selectedTags:r,onTagsChange:h,contentType:"channels",maxTags:3,showCounts:!1,horizontal:!0})}),t.jsx(C,{children:t.jsx(hB,{filters:r.length>0?{tags:r}:{},emptyTitle:"No channels found",emptyDescription:"No channels available at the moment",hasSubscription:i.hasSubscription,getSubscriptionTier:i.getSubscriptionTier,onJoin:d,onCancel:u})})]})};var Dm={},pB=Xe;Object.defineProperty(Dm,"__esModule",{value:!0});var _w=Dm.default=void 0,mB=pB(Je()),xB=t;_w=Dm.default=(0,mB.default)((0,xB.jsx)("path",{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27z"}),"Layers");var Tm={},gB=Xe;Object.defineProperty(Tm,"__esModule",{value:!0});var Ow=Tm.default=void 0,bB=gB(Je()),yB=t;Ow=Tm.default=(0,bB.default)((0,yB.jsx)("path",{d:"M11 14H9c0-4.97 4.03-9 9-9v2c-3.87 0-7 3.13-7 7m7-3V9c-2.76 0-5 2.24-5 5h2c0-1.66 1.34-3 3-3M7 4c0-1.11-.89-2-2-2s-2 .89-2 2 .89 2 2 2 2-.89 2-2m4.45.5h-2C9.21 5.92 7.99 7 6.5 7h-3C2.67 7 2 7.67 2 8.5V11h6V8.74c1.86-.59 3.25-2.23 3.45-4.24M19 17c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2m1.5 1h-3c-1.49 0-2.71-1.08-2.95-2.5h-2c.2 2.01 1.59 3.65 3.45 4.24V22h6v-2.5c0-.83-.67-1.5-1.5-1.5"}),"ConnectWithoutContact");var Em={},vB=Xe;Object.defineProperty(Em,"__esModule",{value:!0});var Mw=Em.default=void 0,jB=vB(Je()),wB=t;Mw=Em.default=(0,jB.default)((0,wB.jsx)("path",{d:"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2zm-9-2h10V8H12zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"AccountBalanceWallet");var Am={},SB=Xe;Object.defineProperty(Am,"__esModule",{value:!0});var qi=Am.default=void 0,CB=SB(Je()),PB=t;qi=Am.default=(0,CB.default)((0,PB.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Article");var Rm={},IB=Xe;Object.defineProperty(Rm,"__esModule",{value:!0});var Nw=Rm.default=void 0,DB=IB(Je()),TB=t;Nw=Rm.default=(0,DB.default)((0,TB.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email");const EB={ACTIVE:1,TRENDING:2,CLAIMED:3,CONVERTED:4,CLOSED:5,EXPIRED:6,FUNDED:7,CANCELLED:8,ARCHIVED:9},n0={COVER:1,SUMMARY:2,AVATAR:3,TEASER:4,INTRO:5,OUTRO:6,OTHER:7},gf={IMAGE:1,VIDEO:2,AUDIO:3,DOCUMENT:4,URL:5,ARTICLE:6,OTHER:7},Zc=({poll:e,onVote:n,userVote:r,showResults:s=!1,disabled:o=!1,showAsPreview:i=!1,mode:l="scroll"})=>{var k,N,B,K,$,Y,J;const d=cn(),u=Ct(),{api:h}=Ke(),{showNotification:f}=yp(),{execute:m}=tt(),[g,y]=x.useState(null),[b,w]=x.useState(e.isBookmarked||!1),[v,I]=x.useState(!1),S=((k=e.stats)==null?void 0:k.totalVotes)||0;x.useEffect(()=>{w(e.isBookmarked||!1)},[e.isBookmarked]);const D=async G=>{if(G.stopPropagation(),v)return;const q=b;w(!b),I(!0);try{q?(await m(()=>h.app.bookmark.unbookmarkPoll(String(e.id)),{showErrorToast:!0}),f("Bookmark removed","success")):(await m(()=>h.app.bookmark.bookmarkPoll(String(e.id)),{showErrorToast:!0}),f("Poll bookmarked","success"))}catch{w(q),f("Failed to update bookmark","error")}finally{I(!1)}},T=e.accessInfo&&!e.accessInfo.canAccess,E=e.media&&e.media.length>0?e.media[0]:null,R=G=>{o||y(G)},O=G=>{i&&!G.target.closest(".poll-option, .action-button")&&u(be.APP_POLL_VIEW.replace(":id",String(e.id)))};return t.jsxs(C,{onClick:O,sx:{position:"relative",width:"100%",height:l==="grid"?"auto":"90vh",maxWidth:l==="scroll"?"480px":"100%",margin:l==="scroll"?"0 auto":0,aspectRatio:l==="grid"?"4/5":void 0,borderRadius:l==="grid"?3:4,overflow:"hidden",bgcolor:d.palette.mode==="dark"?"#000":"#111",boxShadow:"none",transition:"opacity 0.2s ease",cursor:i?"pointer":"default","&:hover":{opacity:i?.95:1}},children:[E&&t.jsxs(C,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:0},children:[E.format===gf.VIDEO?t.jsx(C,{component:"video",src:E.url,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,sx:{width:"100%",height:"100%",objectFit:"cover",filter:"brightness(0.7)"}}):t.jsx(C,{component:"img",src:E.url,alt:E.caption||e.title,sx:{width:"100%",height:"100%",objectFit:"cover",filter:"brightness(0.7)"}}),t.jsx(C,{sx:{position:"absolute",top:0,left:0,right:0,height:"30%",background:"linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%)",zIndex:1}}),t.jsx(C,{sx:{position:"absolute",bottom:0,left:0,right:0,height:"60%",background:"linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0) 100%)",zIndex:1}})]}),!E&&t.jsx(C,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,background:`linear-gradient(135deg, ${de(d.palette.primary.main,.8)} 0%, ${de(d.palette.secondary.main,.8)} 100%)`,zIndex:0}}),t.jsxs(C,{sx:{position:"relative",zIndex:2,height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",p:2.5},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Sn,{sx:{width:40,height:40,bgcolor:d.palette.primary.main,border:"2px solid white",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"},children:(B=(N=e.creator)==null?void 0:N.displayName)==null?void 0:B.charAt(0).toUpperCase()}),t.jsxs(C,{sx:{ml:.5},children:[t.jsx(j,{variant:"body2",sx:{fontWeight:700,fontSize:"0.95rem",color:"white",textShadow:"0 1px 3px rgba(0,0,0,0.8)"},children:(K=e.creator)==null?void 0:K.displayName}),t.jsx(j,{variant:"caption",sx:{fontSize:"0.75rem",color:"rgba(255,255,255,0.9)",textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:Mr(new Date(e.createdAt),{addSuffix:!0})})]}),t.jsx(me,{direction:"row",spacing:.5,alignItems:"center",sx:{ml:1},children:t.jsx(Ne,{className:"action-button",size:"small",onClick:D,disabled:v,sx:{bgcolor:de("#fff",.2),backdropFilter:"blur(10px)",color:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.3)",width:32,height:32,"&:hover":{bgcolor:de(d.palette.primary.main,.8),transform:"scale(1.1)"},"&:disabled":{bgcolor:de("#fff",.1)},transition:"all 0.2s ease"},children:v?t.jsx(sn,{size:16,sx:{color:"white"}}):b?t.jsx(ei,{sx:{fontSize:"1rem",color:d.palette.primary.light}}):t.jsx(Od,{sx:{fontSize:"1rem"}})})})]}),t.jsxs(me,{direction:"row",spacing:.5,alignItems:"center",children:[(($=e.accessInfo)==null?void 0:$.requiresPremium)&&t.jsx(Qe,{icon:t.jsx(Gi,{sx:{fontSize:"0.875rem"}}),label:"Premium",size:"small",sx:{height:24,bgcolor:de(d.palette.warning.main,.9),color:"white",fontWeight:700,fontSize:"0.7rem",backdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}}),e.isTrending&&t.jsx(Qe,{icon:t.jsx(dl,{sx:{fontSize:"0.875rem"}}),label:"Trending",size:"small",sx:{height:24,bgcolor:de(d.palette.error.main,.9),color:"white",fontWeight:700,fontSize:"0.7rem",backdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}})]})]}),t.jsxs(C,{children:[t.jsx(C,{sx:{mb:2},children:t.jsx(j,{variant:"h5",sx:{fontWeight:800,fontSize:"1.5rem",color:"white",textShadow:"0 2px 8px rgba(0,0,0,0.9)",lineHeight:1.2},children:e.title})}),T?t.jsxs(ot,{elevation:3,sx:{p:3,textAlign:"center",bgcolor:de(d.palette.warning.main,.15),backdropFilter:"blur(20px)",border:`2px solid ${de(d.palette.warning.main,.4)}`,borderRadius:3,mb:2},children:[t.jsx(C,{sx:{width:60,height:60,borderRadius:"50%",bgcolor:de(d.palette.warning.main,.2),display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",mb:2},children:t.jsx(Gi,{sx:{fontSize:30,color:"warning.light"}})}),t.jsx(j,{variant:"h6",gutterBottom:!0,fontWeight:"bold",color:"white",sx:{textShadow:"0 2px 4px rgba(0,0,0,0.8)"},children:"Premium Poll"}),t.jsx(j,{variant:"body2",color:"rgba(255,255,255,0.9)",sx:{mb:2,textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:((Y=e.accessInfo)==null?void 0:Y.reason)||"Subscribe to participate in this poll and view results."}),((J=e.accessInfo)==null?void 0:J.requiredTierName)&&t.jsx(Qe,{label:`Required: ${e.accessInfo.requiredTierName}`,size:"small",sx:{mb:2,bgcolor:de(d.palette.info.main,.3),color:"white",fontWeight:600,backdropFilter:"blur(10px)",border:`1px solid ${de(d.palette.info.light,.4)}`}}),t.jsx(ue,{variant:"contained",color:"warning",size:"small",startIcon:t.jsx(Ld,{}),onClick:G=>{G.stopPropagation(),u(be.APP_CHANNEL_VIEW.replace(":channelId",e.channelId))},sx:{px:3,py:1,borderRadius:2,fontWeight:"bold",textTransform:"none",fontSize:"0.875rem",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},children:"Subscribe Now"})]}):t.jsx(me,{spacing:1.5,sx:{mb:2},children:e.options.map(G=>{const q=G.voteCount||0,Q=S>0?q/S*100:0,z=r===G.id,oe=g===G.id;return t.jsx(C,{className:"poll-option",onClick:U=>{U.preventDefault(),U.stopPropagation(),!s&&!o&&n&&n(String(e.id),G.id)},onMouseEnter:()=>R(G.id),onMouseLeave:()=>R(null),sx:{position:"relative",cursor:s||o?"default":"pointer",transition:"all 0.2s ease",transform:oe?"scale(1.03)":"scale(1)",opacity:o?.6:1},children:t.jsxs(C,{sx:{position:"relative",display:"flex",alignItems:"center",px:2,py:1.5,borderRadius:2,backdropFilter:"blur(20px)",bgcolor:z?de(d.palette.primary.main,.85):oe?de("#fff",.25):de("#fff",.15),border:"1px solid",borderColor:z?de(d.palette.primary.light,.5):de("#fff",.3),boxShadow:z?"0 4px 20px rgba(0,0,0,0.4)":"0 2px 10px rgba(0,0,0,0.2)",overflow:"hidden",transition:"all 0.2s ease"},children:[s&&t.jsx(C,{sx:{position:"absolute",left:0,top:0,bottom:0,width:`${Q}%`,bgcolor:de(d.palette.primary.main,.4),transition:"width 0.5s ease",zIndex:0}}),t.jsx(C,{sx:{position:"relative",zIndex:1,width:20,height:20,minWidth:20,minHeight:20,flexShrink:0,borderRadius:"50%",border:"2px solid white",mr:1.5,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:z?"white":"transparent",transition:"all 0.2s ease",boxShadow:"0 1px 3px rgba(0,0,0,0.3)"},children:z&&t.jsx(C,{sx:{width:10,height:10,borderRadius:"50%",bgcolor:d.palette.primary.main}})}),t.jsx(j,{variant:"body1",sx:{position:"relative",zIndex:1,flex:1,fontWeight:z?700:600,fontSize:"1rem",color:"white",textShadow:"0 1px 3px rgba(0,0,0,0.8)",wordBreak:"break-word"},children:G.text}),s&&t.jsxs(j,{variant:"body2",sx:{position:"relative",zIndex:1,fontWeight:700,fontSize:"0.95rem",color:"white",textShadow:"0 1px 3px rgba(0,0,0,0.8)",flexShrink:0,ml:1},children:[Q.toFixed(0),"%"]}),z&&!s&&t.jsx(Ua,{sx:{position:"relative",zIndex:1,ml:1,color:"white",fontSize:"1.25rem",flexShrink:0,filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.5))"}})]})},G.id)})}),e.tags&&e.tags.length>0&&t.jsx(me,{direction:"row",spacing:.5,sx:{mt:1.5,flexWrap:"wrap",gap:.5},children:e.tags.slice(0,3).map(G=>t.jsx(Qe,{label:`#${G.name}`,size:"small",sx:{height:22,fontSize:"0.7rem",fontWeight:600,bgcolor:de("#fff",.15),backdropFilter:"blur(10px)",color:"white",border:"1px solid",borderColor:de("#fff",.2),textShadow:"0 1px 2px rgba(0,0,0,0.5)","&:hover":{bgcolor:de("#fff",.25)}}},G.id))})]})]})]})};var km={},AB=Xe;Object.defineProperty(km,"__esModule",{value:!0});var Lw=km.default=void 0,RB=AB(Je()),kB=t;Lw=km.default=(0,RB.default)((0,kB.jsx)("path",{d:"M1 21h4V9H1zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73z"}),"ThumbUp");const _B=({count:e=2})=>t.jsx(me,{spacing:2,sx:{mt:2},children:[...Array(e)].map((n,r)=>t.jsxs(C,{sx:{p:2,borderRadius:2,bgcolor:s=>s.palette.mode==="dark"?de(s.palette.common.white,.05):de(s.palette.common.black,.03)},children:[t.jsx(C,{sx:{height:24,width:"40%",mb:2,borderRadius:.5,bgcolor:"grey.300"}}),t.jsx(me,{spacing:2,children:[...Array(4)].map((s,o)=>t.jsx(C,{sx:{height:40,borderRadius:1,bgcolor:i=>i.palette.mode==="dark"?de(i.palette.common.white,.1):de(i.palette.common.black,.1)}},o))})]},r))}),$w=({filters:e={},emptyTitle:n="No polls found",emptyDescription:r="No polls available at the moment",itemsPerPage:s=10,mode:o="scroll"})=>{const[i,l]=x.useState([]),[d,u]=x.useState(!0),[h,f]=x.useState(1),[m,g]=x.useState(!0),{api:y}=Ke(),{execute:b}=tt(),w=cn(),v=async(S=h)=>{try{u(!0);const D=await b(()=>y==null?void 0:y.app.poll.getPolls(e,{page:S,limit:s}),{showErrorToast:!0});D&&(l(S===1?D.items:T=>[...T,...D.items]),f(D.metadata.currentPage),g(D.metadata.hasNext===!0))}finally{u(!1)}};x.useEffect(()=>{l([]),f(1),v(1)},[JSON.stringify(e)]);const I=()=>{!d&&m&&v(h+1)};return i.length===0&&!d?t.jsx(Zs,{title:n,description:r}):o==="grid"?t.jsx(C,{sx:{width:"100%"},children:t.jsx(xs,{dataLength:i.length,next:I,hasMore:m,loader:t.jsx(C,{}),children:t.jsx(F,{container:!0,spacing:3,children:i.map(S=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Zc,{poll:S,showAsPreview:!0,mode:"grid"})},S.id))})})}):t.jsx(C,{id:"polls-scroll-container",sx:{width:"100%",height:"100%",display:"flex",justifyContent:"center",overflowY:"scroll",scrollSnapType:"y mandatory",scrollBehavior:"smooth","&::-webkit-scrollbar":{display:"none"},msOverflowStyle:"none",scrollbarWidth:"none",px:{xs:2,sm:0}},children:t.jsx(C,{sx:{width:"100%",maxWidth:480},children:d&&i.length===0?t.jsx(_B,{}):t.jsx(xs,{dataLength:i.length,next:I,hasMore:m,loader:t.jsx(C,{}),scrollableTarget:"polls-scroll-container",endMessage:t.jsx(C,{sx:{textAlign:"center",py:4,color:"text.secondary",fontSize:"0.875rem",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:"No more polls to display"}),style:{overflow:"visible",paddingBottom:"64px"},children:i.map(S=>{var T,E,R;const D=((T=S.stats)==null?void 0:T.totalVotes)||0;return t.jsxs(C,{sx:{position:"relative",scrollSnapAlign:"start",scrollSnapStop:"always",height:"calc(100vh - 64px)",display:"flex",alignItems:"center",justifyContent:"center"},children:[t.jsx(Zc,{poll:S,showAsPreview:!0,mode:"scroll"}),t.jsxs(C,{sx:{position:"absolute",right:{xs:8,sm:-60},bottom:"5vh",display:"flex",flexDirection:"column",alignItems:"center",gap:2.5,zIndex:10},children:[S.isTrending&&t.jsx(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:t.jsx(Qe,{icon:t.jsx(dl,{sx:{fontSize:"0.875rem"}}),label:"Trending",size:"small",sx:{height:28,bgcolor:de(w.palette.error.main,.9),color:"white",fontWeight:700,fontSize:"0.75rem",backdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}})}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[t.jsx(Ne,{className:"action-button",size:"medium",onClick:O=>{O.stopPropagation()},sx:{bgcolor:w.palette.mode==="dark"?de("#fff",.2):de("#000",.6),backdropFilter:"blur(10px)",color:"white",boxShadow:w.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)","&:hover":{bgcolor:de(w.palette.primary.main,.8),transform:"scale(1.1)"},transition:"all 0.2s ease",width:48,height:48},children:t.jsx(Lw,{sx:{fontSize:"1.5rem"}})}),t.jsx(j,{variant:"caption",sx:{color:"white",fontWeight:700,fontSize:"0.75rem",mt:.5,textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:D>999?`${(D/1e3).toFixed(1)}K`:D})]}),t.jsx(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:t.jsx(Ne,{className:"action-button",size:"medium",onClick:O=>{O.stopPropagation()},sx:{bgcolor:w.palette.mode==="dark"?de("#fff",.2):de("#000",.6),backdropFilter:"blur(10px)",color:"white",boxShadow:w.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)","&:hover":{bgcolor:w.palette.mode==="dark"?de("#fff",.3):de("#000",.7),transform:"scale(1.1)"},transition:"all 0.2s ease",width:48,height:48},children:t.jsx(Md,{sx:{fontSize:"1.5rem"}})})}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[t.jsx(C,{sx:{bgcolor:w.palette.mode==="dark"?de("#fff",.2):de("#000",.6),backdropFilter:"blur(10px)",borderRadius:"50%",width:48,height:48,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:w.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)"},children:t.jsx(na,{sx:{fontSize:"1.5rem",color:"white",filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.5))"}})}),t.jsx(j,{variant:"caption",sx:{color:"white",fontWeight:700,fontSize:"0.75rem",mt:.5,textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:((E=S.stats)==null?void 0:E.viewCount)>999?`${(S.stats.viewCount/1e3).toFixed(1)}K`:((R=S.stats)==null?void 0:R.viewCount)||0})]})]})]},S.id)})})})})},OB=({planId:e,channelId:n,tierName:r,tierId:s,onSuccess:o,onError:i,onCancel:l,disabled:d=!1})=>{const[u,h]=Tt.useState(!0),{api:f}=Ke(),m="AUvVGkHGJD8OKekE_4XxFzzKL8a8yLtJ3ZG1woE3OobNy57zyofuPIiUo-zZag0O_L1KPB_u4TB0tuJp";return e?t.jsx(C,{sx:{minHeight:50},children:t.jsxs(Aw,{options:{clientId:m,vault:!0,intent:"subscription",currency:"USD"},children:[u&&t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:2},children:t.jsx(sn,{size:24})}),t.jsx($d,{style:{layout:"vertical",color:"gold",shape:"rect",label:"subscribe"},disabled:d,onInit:()=>{h(!1)},createSubscription:(g,y)=>(console.log("Creating PayPal subscription for plan:",e),y.subscription.create({plan_id:e,custom_id:`${n}_${s}`,application_context:{shipping_preference:"NO_SHIPPING",user_action:"SUBSCRIBE_NOW"}})),onApprove:async g=>{console.log("PayPal subscription approved:",{subscriptionID:g.subscriptionID,orderID:g.orderID,tierName:r});try{await(f==null?void 0:f.app.subscription.activatePayPalSubscription(n,{tierId:s,paypalSubscriptionId:g.subscriptionID})),o(r,s)}catch(y){console.error("Failed to activate subscription:",y),i(new Error("Failed to activate subscription. Please contact support."))}},onCancel:()=>{console.log("PayPal subscription cancelled by user"),l==null||l()},onError:g=>{console.error("PayPal subscription error:",g),i(new Error(typeof g=="string"?g:"PayPal subscription failed"))}})]})}):t.jsx(dt,{severity:"warning",sx:{borderRadius:2},children:"PayPal plan not configured for this tier. Please contact the channel owner."})},MB=()=>{var ce,re,je,Oe,ye,ie,ae;const[e,n]=x.useState(null),[r,s]=x.useState(!0),[o,i]=x.useState(!1),[l,d]=x.useState([]),[u,h]=x.useState([]),[f,m]=x.useState(""),[g,y]=x.useState(""),[b,w]=x.useState(0),[v,I]=x.useState(!1),[S,D]=x.useState(null),{id:T}=ns(),E=Ct(),{api:R}=Ke(),{profile:O,channelRelations:{hasSubscription:k,getSubscriptionTier:N},actions:{refreshProfile:B}}=ys(),{execute:K}=tt(),$=k(T??""),Y=(ce=N(T??""))==null?void 0:ce.id;console.log("ViewChannel Debug:",{channelId:T,isMember:$,currentTierId:Y,subscriptions:O==null?void 0:O.subscriptions,profileLoaded:!!O}),x.useEffect(()=>{(async()=>{if(!T)return;const xe=await K(()=>R==null?void 0:R.app.channel.getChannel(T),{showErrorToast:!0});xe&&n(xe),s(!1)})()},[T,K,R==null?void 0:R.app.channel]);const J=se=>{d(se)},G=se=>{h(se)},q=se=>{se.preventDefault(),m(g.trim())},Q=()=>{y(""),m("")},z=async se=>{var he,ke;if(!e||!se)return;const xe=(he=e.tiers)==null?void 0:he.find(Ee=>Ee.id===se);if(xe&&xe.price===0){i(!0);try{await((ke=R==null?void 0:R.app.subscription)==null?void 0:ke.createDirectSubscription(e.id,{tierId:se}))&&await B(),i(!1)}catch(Ee){console.error("Subscription failed:",Ee),i(!1)}}},oe=se=>{se.price===0?z(se.id):(D(se),I(!0))},U=async(se,xe)=>{console.log("PayPal subscription approved:",{tierName:se,tierId:xe}),await B(),I(!1),D(null)},ee=se=>{console.error("PayPal subscription error:",se),alert(`Subscription failed: ${se.message}`)},Pe=()=>{console.log("PayPal subscription cancelled")},pe=async se=>{var ke,Ee,Ye;if(!e||!((ke=e.tiers)==null?void 0:ke.find(fe=>fe.id===se)))return;const he=(Ee=O==null?void 0:O.subscriptions)==null?void 0:Ee.find(fe=>fe.channelId===e.id);if(he)try{await((Ye=R==null?void 0:R.app.subscription)==null?void 0:Ye.cancelUserSubscription(he.id))}catch(fe){console.error("Failed to cancel existing subscription:",fe)}await z(se)},Re=async()=>{var he;if(!e)return;const se=(he=O==null?void 0:O.subscriptions)==null?void 0:he.find(ke=>ke.channelId===e.id);if(!se){console.error("No active subscription found for this channel");return}await K(()=>R==null?void 0:R.app.subscription.cancelUserSubscription(se.id),{showSuccessMessage:!0,successMessage:"Membership cancelled successfully!"})&&(console.log("Cancellation successful, refreshing profile..."),await B())};return r?t.jsx(C,{sx:{bgcolor:"background.default",minHeight:"100vh"},children:t.jsxs(It,{maxWidth:"lg",children:[t.jsxs(C,{sx:{position:"relative",mb:8},children:[t.jsx(le,{variant:"rectangular",sx:{height:{xs:150,md:200},borderRadius:3}}),t.jsx(C,{sx:{position:"absolute",bottom:-50,left:"50%",transform:"translateX(-50%)"},children:t.jsx(le,{variant:"circular",sx:{width:{xs:100,md:128},height:{xs:100,md:128},border:"4px solid",borderColor:"background.paper"}})})]}),t.jsx(ot,{elevation:0,sx:{mb:4,p:4,borderRadius:3,border:"1px solid",borderColor:"divider"},children:t.jsxs(C,{sx:{textAlign:"center",pt:3},children:[t.jsx(le,{variant:"text",width:"40%",sx:{mb:2,fontSize:"2.5rem"}}),t.jsxs(me,{direction:"row",spacing:2,justifyContent:"center",sx:{mb:3},children:[t.jsx(le,{variant:"rounded",width:150,height:32}),t.jsx(le,{variant:"rounded",width:100,height:32})]}),t.jsx(le,{variant:"text",width:"70%",sx:{mb:1}}),t.jsx(le,{variant:"text",width:"60%",sx:{mb:4}}),t.jsx(le,{variant:"rounded",width:180,height:48,sx:{borderRadius:50}})]})}),t.jsxs(C,{sx:{mb:6},children:[t.jsx(le,{variant:"text",width:"40%",sx:{mb:4,fontSize:"2rem"}}),t.jsx(F,{container:!0,spacing:3,children:[...Array(3)].map((se,xe)=>t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(Fe,{elevation:2,sx:{borderRadius:3,overflow:"hidden"},children:[t.jsx(le,{variant:"rectangular",height:120}),t.jsxs(We,{sx:{p:3},children:[t.jsx(le,{variant:"text",width:"60%",sx:{mx:"auto",mb:2,fontSize:"2rem"}}),t.jsx(le,{variant:"text",width:"80%",sx:{mb:1}}),t.jsx(le,{variant:"text",width:"70%",sx:{mb:1}}),t.jsx(le,{variant:"text",width:"75%",sx:{mb:3}}),t.jsx(le,{variant:"rounded",height:48,sx:{borderRadius:50}})]})]})},xe))})]})]})}):e?t.jsxs(C,{sx:{bgcolor:"background.default",minHeight:"100vh"},children:[t.jsxs(It,{maxWidth:"lg",children:[t.jsxs(C,{sx:{position:"relative",mb:8},children:[t.jsx(C,{sx:{height:{xs:150,md:200},backgroundImage:e!=null&&e.bannerUrl?`url(${e.bannerUrl})`:void 0,background:e!=null&&e.bannerUrl?void 0:se=>`linear-gradient(135deg, ${se.palette.primary.main} 0%, ${se.palette.primary.light} 100%)`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:3,position:"relative"}}),t.jsx(C,{sx:{position:"absolute",bottom:-50,left:"50%",transform:"translateX(-50%)"},children:t.jsx(Sn,{src:e.logoUrl,sx:{width:{xs:100,md:128},height:{xs:100,md:128},border:"4px solid",borderColor:"background.paper",boxShadow:3}})})]}),t.jsx(ot,{elevation:0,sx:{mb:4,p:{xs:3,md:4},borderRadius:3,border:"1px solid",borderColor:"divider"},children:t.jsxs(C,{sx:{textAlign:"center",pt:3},children:[t.jsx(j,{variant:"h3",gutterBottom:!0,sx:{fontWeight:700,fontSize:{xs:"2rem",md:"2.5rem"},color:"text.primary",mb:1},children:e.name}),t.jsxs(me,{direction:"row",spacing:2,justifyContent:"center",sx:{mb:3},children:[t.jsx(Qe,{icon:t.jsx(Pm,{}),label:`${(je=(re=e.stats)==null?void 0:re.activeSubscriptionCount)==null?void 0:je.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1})} subscribers`,sx:{fontWeight:600,bgcolor:de("#0b6cff",.1),color:"#0b6cff","& .MuiChip-icon":{color:"#0b6cff"}}}),t.jsx(Qe,{icon:t.jsx(_w,{}),label:`${((Oe=e.tiers)==null?void 0:Oe.length)||0} tiers`,sx:{fontWeight:600,bgcolor:de("#589aff",.1),color:"#589aff","& .MuiChip-icon":{color:"#589aff"}}})]}),t.jsx(j,{variant:"body1",sx:{mb:4,maxWidth:800,color:"text.secondary",lineHeight:1.8,fontSize:"1.1rem"},children:e.description}),t.jsx(ue,{variant:$?"outlined":"contained",size:"large",onClick:()=>{var se,xe;return $?Re():z((xe=(se=e==null?void 0:e.tiers)==null?void 0:se.find(he=>he.isDefault))==null?void 0:xe.id)},disabled:o,startIcon:o&&t.jsx(sn,{size:20,color:"inherit"}),sx:{px:4,py:1.5,borderRadius:50,fontSize:"1rem",fontWeight:600,textTransform:"none",boxShadow:$?"none":"0 4px 14px 0 rgba(11, 108, 255, 0.39)","&:hover":{boxShadow:$?"none":"0 6px 20px rgba(11, 108, 255, 0.5)"}},children:o?"Processing...":$?"Cancel Membership":"Join Channel"})]})}),t.jsxs(ot,{elevation:0,sx:{mb:4,borderRadius:3,border:"1px solid",borderColor:"divider",overflow:"hidden"},children:[t.jsxs(_s,{value:b,onChange:(se,xe)=>w(xe),variant:"scrollable",scrollButtons:"auto",sx:{borderBottom:1,borderColor:"divider","& .MuiTab-root":{textTransform:"none",fontWeight:600,fontSize:"1rem",minHeight:64}},children:[t.jsx(On,{icon:t.jsx(qi,{}),iconPosition:"start",label:"News"}),t.jsx(On,{icon:t.jsx(Dd,{}),iconPosition:"start",label:"Polls"}),t.jsx(On,{icon:t.jsx(Va,{}),iconPosition:"start",label:"Contribute"}),t.jsx(On,{icon:t.jsx(Ow,{}),iconPosition:"start",label:"Connect"}),t.jsx(On,{icon:t.jsx(Mw,{}),iconPosition:"start",label:"Budget"}),t.jsx(On,{icon:t.jsx(Ed,{}),iconPosition:"start",label:"About"})]}),t.jsxs(C,{sx:{p:4},children:[b===0&&t.jsxs(C,{children:[t.jsxs(C,{sx:{mb:3},children:[t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:1},children:"Channel News"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Latest news from this channel"}),t.jsx(Jc,{selectedTags:l,onTagsChange:J,contentType:"news",maxTags:5,showCounts:!1,horizontal:!0})]}),t.jsx(xf,{filters:{channel:e==null?void 0:e.id,...l.length>0&&{tags:l}},emptyTitle:"No news published yet",emptyDescription:"This channel hasn't published any news articles yet",showSearch:!0,mode:"grid"})]}),b===1&&t.jsxs(C,{children:[t.jsxs(C,{sx:{mb:3},children:[t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:1},children:"Channel Polls"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Vote on polls from this channel"}),t.jsx(C,{sx:{mb:3},children:t.jsx("form",{onSubmit:q,children:t.jsx(nt,{fullWidth:!0,placeholder:"Search polls by question or content...",value:g,onChange:se=>y(se.target.value),InputProps:{startAdornment:t.jsx(es,{position:"start",children:t.jsx(Id,{color:"action"})}),endAdornment:g&&t.jsx(es,{position:"end",children:t.jsx(Ne,{size:"small",onClick:Q,edge:"end",children:t.jsx(sm,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"background.paper"}}})})}),t.jsx(Jc,{selectedTags:u,onTagsChange:G,contentType:"polls",maxTags:5,showCounts:!1,horizontal:!0})]}),t.jsx(C,{children:t.jsx($w,{filters:{channel:e==null?void 0:e.id,...u.length>0&&{tags:u},...f&&{query:f}},emptyTitle:"No polls found",emptyDescription:"This channel hasn't created any polls yet",mode:"grid"})})]}),b===2&&t.jsx(C,{children:t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"Become a financial contributor"})}),b===3&&t.jsxs(C,{children:[t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"Connect with us"}),t.jsx(me,{spacing:2,children:t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(Ne,{color:"primary",size:"small",children:t.jsx(Nw,{})}),t.jsx(j,{children:"Contact via membership"})]})})]}),b===4&&t.jsxs(C,{children:[t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"Budget"}),t.jsx(j,{color:"text.secondary",children:"Financial information will be displayed here"})]}),b===5&&t.jsxs(C,{children:[t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"About"}),t.jsxs(me,{spacing:3,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"DESCRIPTION"}),t.jsx(j,{variant:"body1",sx:{lineHeight:1.8},children:e.description})]}),t.jsx(Mt,{}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"STATISTICS"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:6,md:3,children:t.jsxs(ot,{variant:"outlined",sx:{p:2,textAlign:"center"},children:[t.jsx(j,{variant:"h4",color:"primary",sx:{fontWeight:700},children:((ye=e.stats)==null?void 0:ye.activeSubscriptionCount)||0}),t.jsx(j,{variant:"caption",color:"text.secondary",children:"Subscribers"})]})}),t.jsx(F,{item:!0,xs:6,md:3,children:t.jsxs(ot,{variant:"outlined",sx:{p:2,textAlign:"center"},children:[t.jsx(j,{variant:"h4",color:"primary",sx:{fontWeight:700},children:((ie=e.tiers)==null?void 0:ie.length)||0}),t.jsx(j,{variant:"caption",color:"text.secondary",children:"Tiers"})]})})]})]})]})]})]})]}),b===2&&t.jsxs(C,{sx:{mb:6},children:[t.jsx(j,{variant:"h4",gutterBottom:!0,sx:{fontSize:{xs:"1.75rem",md:"2rem"},fontWeight:700,mb:4,textAlign:"center"},children:"Membership Tiers"}),t.jsx(F,{container:!0,spacing:3,children:(ae=e.tiers)==null?void 0:ae.map(se=>t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(Fe,{elevation:Y===se.id?8:2,sx:{height:"100%",display:"flex",flexDirection:"column",borderRadius:3,overflow:"hidden",transition:"all 0.3s ease",border:Y===se.id?"2px solid #0b6cff":"1px solid #e0e0e0","&:hover":{transform:"translateY(-8px)",boxShadow:"0 12px 24px rgba(0,0,0,0.15)"}},children:[t.jsxs(C,{sx:{height:120,background:Y===se.id?"linear-gradient(135deg, #0b6cff 0%, #589aff 100%)":"linear-gradient(135deg, #589aff 0%, #7bb0ff 100%)",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",p:3},children:[Y===se.id&&t.jsx(Qe,{label:"CURRENT PLAN",size:"small",sx:{position:"absolute",top:12,right:12,bgcolor:"white",color:"#0b6cff",fontWeight:700,fontSize:"0.7rem"}}),!Y&&se.isDefault&&t.jsx(Qe,{label:"POPULAR",size:"small",sx:{position:"absolute",top:12,right:12,bgcolor:"white",color:"#589aff",fontWeight:700,fontSize:"0.7rem"}}),t.jsx(j,{variant:"h5",sx:{color:"white",fontWeight:700,textAlign:"center"},children:se.name})]}),t.jsxs(We,{sx:{flexGrow:1,p:3,display:"flex",flexDirection:"column"},children:[t.jsx(C,{sx:{mb:3,textAlign:"center"},children:t.jsxs(j,{variant:"h3",sx:{fontWeight:700,color:"text.primary",display:"flex",alignItems:"baseline",justifyContent:"center",gap:.5},children:[t.jsx(j,{component:"span",sx:{fontSize:"1.5rem",fontWeight:500},children:"$"}),se.price,t.jsx(j,{component:"span",sx:{fontSize:"1rem",fontWeight:400,color:"text.secondary"},children:"/month"})]})}),t.jsx(Mt,{sx:{mb:3}}),t.jsx(j,{variant:"body2",sx:{mb:3,color:"text.secondary",minHeight:60,lineHeight:1.7,flexGrow:1},children:se.description}),Y===se.id?t.jsx(ue,{variant:"outlined",fullWidth:!0,size:"large",disabled:!0,sx:{py:1.5,borderRadius:50,textTransform:"none",fontWeight:600,fontSize:"1rem"},children:"Current Plan"}):t.jsx(ue,{variant:"contained",fullWidth:!0,size:"large",onClick:()=>$?pe(se.id):oe(se),disabled:o,sx:{py:1.5,borderRadius:50,textTransform:"none",fontWeight:600,fontSize:"1rem",boxShadow:"0 4px 12px rgba(11, 108, 255, 0.3)","&:hover":{boxShadow:"0 6px 16px rgba(11, 108, 255, 0.4)"}},startIcon:o&&t.jsx(sn,{size:20,color:"inherit"}),children:o?"Processing...":$?"Switch to This Plan":se.price===0?"Join Free":"Subscribe"})]})]})},se.id))})]})]}),t.jsxs(Kt,{open:v,onClose:()=>I(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsxs(tn,{children:["Subscribe to ",S==null?void 0:S.name]}),t.jsx(Xt,{children:S&&t.jsxs(C,{children:[t.jsxs(C,{sx:{mb:3},children:[t.jsxs(j,{variant:"h5",sx:{fontWeight:600,mb:1},children:[new Intl.NumberFormat("en-US",{style:"currency",currency:S.currency.toUpperCase()}).format(S.price/100),t.jsx(j,{component:"span",variant:"body2",color:"text.secondary",children:"/month"})]}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:S.description})]}),t.jsx(Mt,{sx:{my:2}}),t.jsx(j,{variant:"subtitle2",sx:{mb:2,fontWeight:600},children:"Select Payment Method:"}),S.paymentConfigs&&S.paymentConfigs.length>0?t.jsx(C,{sx:{display:"flex",flexDirection:"column",gap:2},children:S.paymentConfigs.map(se=>{var xe;return((xe=se.provider)==null?void 0:xe.code)==="paypal"&&se.isActive?t.jsx(C,{children:t.jsx(OB,{planId:se.providerPlanId,channelId:e.id,tierName:S.name,tierId:S.id,onSuccess:U,onError:ee,onCancel:Pe,disabled:o})},se.id):null})}):t.jsx(j,{variant:"body2",color:"error",children:"No payment methods configured for this tier. Please contact the channel owner."})]})}),t.jsx(Jt,{children:t.jsx(ue,{onClick:()=>I(!1),children:"Cancel"})})]})]}):t.jsx(C,{sx:{bgcolor:"background.default",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(It,{maxWidth:"sm",children:t.jsxs(ot,{elevation:3,sx:{p:6,borderRadius:3,textAlign:"center"},children:[t.jsx(j,{variant:"h4",gutterBottom:!0,sx:{fontWeight:700,color:"text.primary"},children:"Channel not found"}),t.jsx(j,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"The channel you're looking for doesn't exist or has been removed."}),t.jsx(ue,{variant:"contained",onClick:()=>E("/app"),sx:{borderRadius:50,px:4,py:1.5,textTransform:"none",fontWeight:600},children:"Go Home"})]})})})},NB=()=>t.jsx(C,{sx:{width:"100%",height:"100vh",overflow:"hidden",display:"flex",flexDirection:"column",position:"fixed",top:64,left:0,right:0,bottom:0,margin:0,padding:0,zIndex:1},children:t.jsx(C,{sx:{flex:1,overflow:"hidden"},children:t.jsx($w,{filters:{},emptyTitle:"No polls found",emptyDescription:"There are no polls available at the moment.",mode:"scroll"})})}),LB=({poll:e,onVote:n,userVote:r,showResults:s=!1,disabled:o=!1})=>{var f;const i=cn(),[l,d]=x.useState(null),u=((f=e.stats)==null?void 0:f.totalVotes)||0,h=m=>{o||d(m)};return t.jsx(C,{children:t.jsx(me,{spacing:2,sx:{mb:2},children:e.options.map(m=>{const g=m.voteCount||0,y=u>0?g/u*100:0,b=r===m.id,w=l===m.id;return t.jsxs(C,{onClick:v=>{v.preventDefault(),v.stopPropagation(),!s&&!o&&n&&n(String(e.id),m.id)},onMouseEnter:()=>h(m.id),onMouseLeave:()=>h(null),sx:{position:"relative",cursor:s||o?"default":"pointer",transition:"all 0.2s ease",transform:w?"translateX(4px)":"none",opacity:o?.6:1},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:.5,px:2,py:1.5,border:"1px solid",borderColor:b?"primary.main":w?de(i.palette.primary.main,.5):"divider",borderRadius:1,bgcolor:b?de(i.palette.primary.main,.05):"transparent",transition:"all 0.2s ease","&:hover":!s&&!o&&{borderColor:"primary.main",boxShadow:`0 2px 8px ${de(i.palette.primary.main,.15)}`}},children:[t.jsx(C,{sx:{width:24,height:24,minWidth:24,minHeight:24,flexShrink:0,borderRadius:"50%",border:"2px solid",borderColor:b?"primary.main":w?de(i.palette.primary.main,.5):"divider",mr:2,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:b&&t.jsx(C,{sx:{width:12,height:12,borderRadius:"50%",bgcolor:"primary.main"}})}),t.jsx(j,{variant:"body1",sx:{flex:1,fontWeight:b?600:400,color:b?"primary.main":"text.primary",wordBreak:"break-word"},children:m.text}),s&&t.jsxs(C,{sx:{display:"flex",alignItems:"center",ml:2,minWidth:80,justifyContent:"flex-end",flexShrink:0},children:[t.jsxs(j,{variant:"body2",sx:{fontWeight:600,color:b?"primary.main":"text.secondary",mr:1},children:[y.toFixed(1),"%"]}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["(",g,")"]})]}),b&&!s&&t.jsx(Ua,{sx:{ml:1,color:"primary.main",fontSize:"1.2rem",flexShrink:0}})]}),s&&t.jsx(La,{variant:"determinate",value:y,sx:{height:8,borderRadius:4,bgcolor:de(i.palette.primary.main,.1),"& .MuiLinearProgress-bar":{borderRadius:4,bgcolor:b?"primary.main":de(i.palette.primary.main,.6)}}})]},m.id)})})})};var _m={},$B=Xe;Object.defineProperty(_m,"__esModule",{value:!0});var Fw=_m.default=void 0,FB=$B(Je()),BB=t;Fw=_m.default=(0,FB.default)((0,BB.jsx)("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4zM18 14H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"}),"Comment");const WB=()=>t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx(Fe,{children:t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[t.jsx(le,{variant:"text",width:"60%",height:40}),t.jsx(me,{direction:"row",spacing:1,children:[1,2].map(e=>t.jsx(le,{variant:"circular",width:40,height:40},e))})]}),t.jsxs(me,{spacing:2,sx:{mb:3},children:[t.jsx(le,{variant:"text",width:"100%"}),t.jsx(le,{variant:"text",width:"95%"}),t.jsx(le,{variant:"text",width:"90%"})]}),t.jsx(me,{spacing:2,children:[1,2,3,4].map(e=>t.jsx(le,{variant:"rectangular",height:60,sx:{borderRadius:1}},e))})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsx(le,{variant:"text",width:"50%",height:32,sx:{mb:2}}),t.jsx(me,{spacing:2,children:[1,2,3].map(e=>t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[t.jsx(le,{variant:"text",width:"40%"}),t.jsx(le,{variant:"text",width:"20%"})]}),t.jsx(le,{variant:"rectangular",width:"100%",height:8,sx:{borderRadius:1}})]},e))})]})})})]})}),UB=()=>{var J,G,q;const{id:e}=ns(),{api:n}=Ke(),r=cn(),[s,o]=x.useState(null),[i,l]=x.useState(!0),[d,u]=x.useState(null),[h,f]=x.useState(!1),[m,g]=x.useState(null),[y,b]=x.useState(null),{execute:w}=tt(),[v,I]=x.useState(!1),[S,D]=x.useState(null),[T,E]=x.useState(!1),R=(s==null?void 0:s.isPremium)&&(s==null?void 0:s.accessInfo)&&!s.accessInfo.canAccess,O=async Q=>{try{E(!0);const z=await(n==null?void 0:n.app.funding.getFund("poll",Q));D(z)}catch(z){console.error("Failed to load fund data:",z)}finally{E(!1)}};x.useEffect(()=>{(async()=>{if(!e)return;l(!0);const z=await w(()=>n==null?void 0:n.app.poll.get(e),{showErrorToast:!0});if(z){o(z);const oe=await w(()=>n==null?void 0:n.app.poll.getUserVote(e),{showErrorToast:!1});oe!=null&&oe.optionId&&u(oe.optionId);const U=await w(()=>n==null?void 0:n.app.poll.checkVotingEligibility(e),{showErrorToast:!1});U&&b(U),O(e)}l(!1)})()},[e,w]);const k=async(Q,z)=>{if(!(y!=null&&y.canVote)){g((y==null?void 0:y.reason)||"You cannot vote on this poll");return}if(await w(()=>n==null?void 0:n.app.poll.vote(Q,{optionId:z}),{showSuccessMessage:!0,successMessage:"Vote recorded successfully!"})){u(z);const U=await w(()=>n==null?void 0:n.app.poll.get(Q),{showErrorToast:!0});U&&o(U)}},N=()=>{navigator.share?navigator.share({title:s==null?void 0:s.title,text:s==null?void 0:s.description,url:window.location.href}).catch(console.error):navigator.clipboard.writeText(window.location.href)},B=()=>{f(!h)},K=async()=>{I(!0)},$=async Q=>{e&&await O(e),console.log("Contribution successful:",Q)},Y=()=>!s||!S?null:{id:S.id,title:s.title,currentAmount:S.currentAmount/100,goalAmount:S.goalAmount?S.goalAmount/100:void 0,currency:S.currency,contributorCount:0,description:"Support quality journalism by funding this poll"};return i?t.jsx(WB,{}):s?t.jsxs(It,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsx(C,{sx:{mb:3},children:t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap"},children:[t.jsxs(C,{component:Xn,to:be.APP_CHANNEL_VIEW.replace(":channelId",s.channel.id),sx:{display:"inline-flex",alignItems:"center",bgcolor:"primary.main",color:"primary.contrastText",px:2,py:1,borderRadius:2,textDecoration:"none",transition:"all 0.2s ease-in-out","&:hover":{bgcolor:"primary.dark",transform:"translateY(-2px)"}},children:[t.jsx(pl,{sx:{mr:1}}),t.jsx(j,{variant:"subtitle2",children:s.channel.name})]}),t.jsxs(C,{sx:{display:"inline-flex",alignItems:"center",bgcolor:"background.paper",px:2,py:1,borderRadius:2,border:"1px solid",borderColor:"divider"},children:[t.jsx(ul,{sx:{mr:1,fontSize:"0.9rem"}}),t.jsx(j,{variant:"caption",children:s.creator.displayName})]})]}),t.jsxs(me,{direction:"row",spacing:1,children:[t.jsx(Ne,{onClick:N,sx:{color:"text.secondary","&:hover":{bgcolor:de(r.palette.primary.main,.05)}},children:t.jsx(Md,{})}),t.jsx(Ne,{onClick:B,sx:{color:h?"primary.main":"text.secondary","&:hover":{bgcolor:de(r.palette.primary.main,.05)}},children:h?t.jsx(ei,{}):t.jsx(Od,{})})]})]})})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsxs(Fe,{children:[s.media&&s.media.length>0&&t.jsxs(C,{sx:{position:"relative",width:"100%",paddingTop:"56.25%",overflow:"hidden",borderRadius:"4px 4px 0 0"},children:[t.jsx(C,{component:s.media[0].format===2?"video":"img",src:s.media[0].url,alt:s.media[0].caption||s.title,controls:s.media[0].format===2,autoPlay:s.media[0].format===2,loop:s.media[0].format===2,muted:s.media[0].format===2,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}}),s.media[0].caption&&t.jsx(C,{sx:{position:"absolute",bottom:0,left:0,right:0,bgcolor:de(r.palette.common.black,.7),color:"white",p:1,backdropFilter:"blur(4px)"},children:t.jsx(j,{variant:"caption",children:s.media[0].caption})})]}),t.jsxs(We,{children:[t.jsx(j,{variant:"h4",gutterBottom:!0,sx:{fontWeight:700,mb:3},children:s.title}),y&&!y.canVote&&t.jsx(dt,{severity:d?"info":"warning",sx:{mb:3},icon:d?t.jsx(Ua,{}):void 0,children:y.reason||(d?"You have already voted on this poll":"You are not eligible to vote on this poll")}),t.jsx(LB,{poll:s,onVote:k,userVote:d,showResults:!!d,disabled:!(y!=null&&y.canVote)})]})]})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(me,{spacing:3,children:[s.description&&t.jsxs(ot,{sx:{p:2},children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"About this Poll"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:s.description})]}),R?t.jsxs(ot,{elevation:3,sx:{p:3,textAlign:"center",bgcolor:Q=>de(Q.palette.warning.main,.05),border:Q=>`2px solid ${de(Q.palette.warning.main,.3)}`,borderRadius:3},children:[t.jsx(C,{sx:{width:60,height:60,borderRadius:"50%",bgcolor:Q=>de(Q.palette.warning.main,.1),display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",mb:2},children:t.jsx(Gi,{sx:{fontSize:30,color:"warning.main"}})}),t.jsx(j,{variant:"h6",gutterBottom:!0,fontWeight:"bold",color:"warning.dark",children:"Premium Poll Statistics"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:((J=s.accessInfo)==null?void 0:J.reason)||"Subscribe to view detailed poll statistics and results."}),((G=s.accessInfo)==null?void 0:G.requiredTierName)&&t.jsxs(dt,{severity:"info",sx:{mb:2},children:["Required tier: ",t.jsx("strong",{children:s.accessInfo.requiredTierName})]}),t.jsxs(C,{sx:{mb:2},children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Subscribe to unlock:"}),t.jsx(me,{spacing:.5,alignItems:"flex-start",sx:{mx:"auto",display:"inline-flex"},children:["View vote counts","See poll results","Participate in voting","Access detailed statistics"].map((Q,z)=>t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Ua,{color:"success",fontSize:"small"}),t.jsx(j,{variant:"body2",children:Q})]},z))})]}),t.jsx(ue,{component:Xn,to:be.APP_CHANNEL_VIEW.replace(":channelId",s.channelId),variant:"contained",color:"warning",size:"medium",startIcon:t.jsx(Ld,{}),sx:{px:3,py:1.5,borderRadius:2,fontWeight:"bold",textTransform:"none",fontSize:"0.95rem"},children:"View Subscription Options"})]}):t.jsxs(ot,{sx:{p:2},children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Poll Statistics"}),t.jsxs(me,{spacing:2,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Total Votes"}),t.jsx(j,{variant:"h4",children:((q=s.stats)==null?void 0:q.totalVotes)??0})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Time Remaining"}),t.jsx(j,{variant:"body1",children:s.endDate?Mr(new Date(s.endDate),{addSuffix:!0}):"No end date"})]})]})]}),t.jsx(ot,{elevation:2,sx:{p:3,borderRadius:2,border:"2px solid",borderColor:"primary.main",bgcolor:Q=>de(Q.palette.primary.main,.05)},children:t.jsxs(me,{spacing:2,children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Va,{color:"primary",fontSize:"large"}),t.jsx(j,{variant:"h6",fontWeight:"bold",color:"primary",children:"Fund this Poll"})]}),S&&!T?t.jsxs(C,{children:[t.jsx(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Current Funding"}),t.jsxs(j,{variant:"h5",fontWeight:"bold",color:"primary.main",children:[S.currency," ",(S.currentAmount/100).toFixed(2)]}),S.goalAmount&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Goal: ",S.currency," ",(S.goalAmount/100).toFixed(2)]})]}):T?t.jsx(le,{variant:"rectangular",height:60}):t.jsx(j,{variant:"body2",color:"text.secondary",children:"Be the first to fund this poll"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Support quality journalism by contributing to this poll"}),t.jsx(ue,{variant:"contained",color:"primary",fullWidth:!0,size:"large",startIcon:t.jsx(Va,{}),onClick:K,disabled:!s,sx:{py:1.5,fontWeight:"bold",textTransform:"none",fontSize:"1rem"},children:"Fund Now"})]})}),t.jsxs(ot,{sx:{p:2},children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Comments"}),t.jsx(ue,{startIcon:t.jsx(Fw,{}),variant:"outlined",fullWidth:!0,sx:{mt:1,textTransform:"none",borderRadius:2},children:"Add a Comment"})]})]})})]}),s&&S&&t.jsx(Rw,{open:v,onClose:()=>I(!1),onSuccess:$,contentType:"poll",contentId:s.id,fundingData:Y()}),t.jsx(yv,{open:!!m,autoHideDuration:6e3,onClose:()=>g(null),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:t.jsx(dt,{onClose:()=>g(null),severity:"error",sx:{width:"100%"},children:m})})]}):t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsx(j,{variant:"h4",children:"Poll not found"})})},VB=()=>{const[e,n]=x.useState(null),[r,s]=x.useState(!0),[o,i]=x.useState(!1),[l,d]=x.useState(!1),[u,h]=x.useState(null),[f,m]=x.useState(null),[g,y]=x.useState({}),{api:b}=Ke(),{execute:w}=tt();x.useEffect(()=>{v()},[]);const v=async()=>{s(!0),h(null);const E=await w(()=>b.app.account.getProfile(),{showErrorToast:!0});E&&(n(E),y({displayName:E.displayName,photoUrl:E.photoUrl})),s(!1)},I=()=>{d(!0),h(null),m(null)},S=()=>{d(!1),e&&y({displayName:e.displayName,photoUrl:e.photoUrl}),h(null),m(null)},D=async()=>{i(!0),h(null),m(null);const E=await w(()=>b.app.account.updateProfile(g),{showSuccessMessage:!0,successMessage:"Profile updated successfully"});E&&(n(E),d(!1)),i(!1)},T=E=>R=>{y(O=>({...O,[E]:R.target.value}))};return r?t.jsx(C,{sx:{p:3},children:t.jsxs(me,{spacing:3,alignItems:"center",children:[t.jsx(le,{variant:"circular",width:120,height:120}),t.jsx(le,{variant:"text",width:"50%",height:40}),t.jsx(le,{variant:"rectangular",width:"100%",height:56}),t.jsx(le,{variant:"rectangular",width:"100%",height:56})]})}):e?t.jsx(C,{sx:{p:3},children:t.jsxs(me,{spacing:3,children:[u&&t.jsx(dt,{severity:"error",children:u}),f&&t.jsx(dt,{severity:"success",children:f}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:2},children:[t.jsx(Sn,{src:g.photoUrl||e.photoUrl,sx:{width:120,height:120,mb:2}}),t.jsx(j,{variant:"h6",children:e.email}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Joined ",new Date(e.createdAt||"").toLocaleDateString()]})]}),t.jsx(nt,{label:"Display Name",value:g.displayName||"",onChange:T("displayName"),disabled:!l,fullWidth:!0,variant:"outlined"}),t.jsx(nt,{label:"Photo URL",value:g.photoUrl||"",onChange:T("photoUrl"),disabled:!l,fullWidth:!0,variant:"outlined",placeholder:"https://example.com/photo.jpg"}),t.jsx(C,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:l?t.jsxs(t.Fragment,{children:[t.jsx(ue,{variant:"outlined",startIcon:t.jsx(Rs,{}),onClick:S,disabled:o,children:"Cancel"}),t.jsx(ue,{variant:"contained",startIcon:o?t.jsx(sn,{size:20}):t.jsx(Wf,{}),onClick:D,disabled:o,children:"Save Changes"})]}):t.jsx(ue,{variant:"contained",startIcon:t.jsx(ms,{}),onClick:I,children:"Edit Profile"})})]})}):t.jsx(C,{sx:{p:3},children:t.jsx(dt,{severity:"error",children:"Failed to load profile"})})},Or={PAYPAL:"paypal",STRIPE:"stripe",IYZICO:"iyzico",BANK_TRANSFER:"bank_transfer",CREDIT_CARD:"credit_card",OTHER:"other"};var zB={VITE_API_URL:"https://journalist-api--journalist-2bf9e.europe-west4.hosted.app/",VITE_PAYPAL_CLIENT_ID:"AUvVGkHGJD8OKekE_4XxFzzKL8a8yLtJ3ZG1woE3OobNy57zyofuPIiUo-zZag0O_L1KPB_u4TB0tuJp",VITE_PAYPAL_MODE:"sandbox",VITE_ENV:"staging",VITE_PAYPAL_MERCHANT_ID:"4VNUQ7KFJXJG8",BASE_URL:"/journalist-material-client/",MODE:"staging",DEV:!1,PROD:!0,SSR:!1};const HB=({onSuccess:e,onError:n,disabled:r=!1})=>{const[s,o]=x.useState(!1),[i,l]=x.useState(!1),[d,u]=x.useState(null),h=x.useRef(null),{api:f}=Ke(),m="AUvVGkHGJD8OKekE_4XxFzzKL8a8yLtJ3ZG1woE3OobNy57zyofuPIiUo-zZag0O_L1KPB_u4TB0tuJp",g="4VNUQ7KFJXJG8",y=zB.VITE_PAYPAL_ENV||"sandbox";return x.useEffect(()=>{var w;if((w=window.paypal)!=null&&w.PayoutsAAC){o(!0);return}const b=document.createElement("script");return b.src="https://www.paypalobjects.com/payouts/js/payouts_aac.js",b.async=!0,b.onload=()=>{o(!0)},b.onerror=()=>{const v="Failed to load PayPal Payouts SDK";u(v),n(v)},document.head.appendChild(b),()=>{document.head.contains(b)&&document.head.removeChild(b)}},[n]),x.useEffect(()=>{var b;if(!(!s||r||!h.current||!((b=window.paypal)!=null&&b.PayoutsAAC))){h.current&&(h.current.innerHTML="");try{window.paypal.PayoutsAAC.render({env:y,clientId:{sandbox:m},merchantId:g,pageType:"login",onLogin:async w=>{if(w.err){console.error("PayPal AAC error:",w.err);const v="Failed to connect PayPal account";u(v),n(v),l(!1);return}try{l(!0),u(null);const v=w.body.code,I=await f.app.account.exchangePayPalAuthCode(v);if(!I.payerId||!I.email)throw new Error("Failed to retrieve payer information from PayPal");await f.app.account.savePayPalPayoutMethod({payerId:I.payerId,email:I.email}),e(I)}catch(v){const I=v.message||"Failed to save PayPal payout method";u(I),n(I)}finally{l(!1)}}},`#${h.current.id}`)}catch(w){console.error("Error rendering PayPal AAC:",w);const v="Failed to initialize PayPal connection";u(v),n(v)}}},[s,r,m,g,y,f,e,n]),s?t.jsxs(C,{sx:{textAlign:"center",py:3},children:[d&&t.jsx(dt,{severity:"error",sx:{mb:2},children:d}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Connect your PayPal account to receive payouts securely"}),t.jsx("div",{id:"paypal-payout-connect-container",ref:h,style:{minHeight:"50px"}}),i&&t.jsxs(C,{sx:{mt:2,display:"flex",alignItems:"center",justifyContent:"center",gap:1},children:[t.jsx(sn,{size:16}),t.jsx(j,{variant:"caption",color:"text.secondary",children:"Connecting to PayPal..."})]}),t.jsx(j,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:2},children:"Your PayPal email will be used to send you payouts"})]}):t.jsxs(C,{sx:{textAlign:"center",py:3},children:[t.jsx(sn,{size:24}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Loading PayPal..."})]})},GB=({onSuccess:e,onError:n,disabled:r=!1})=>{const[s,o]=x.useState(!1),[i,l]=x.useState(null),[d,u]=x.useState(null),[h,f]=x.useState(null),{api:m}=Ke();x.useEffect(()=>{(async()=>{try{const v=await m.app.account.getProfile();if(v!=null&&v.displayName&&(v!=null&&v.email)){const I=v.displayName.trim().split(" "),S=I[0]||"User",D=I.length>1?I.slice(1).join(" "):"Name";f({name:S,surname:D,email:v.email})}else l("Unable to retrieve user information. Please ensure your profile is complete.")}catch(v){console.error("Failed to fetch user info:",v),l("Failed to retrieve user information")}})()},[m]);const g=async()=>{try{return(await(await fetch("https://api.ipify.org?format=json")).json()).ip||"127.0.0.1"}catch{return"127.0.0.1"}},y=async()=>{if(!h){l("User information is not available");return}try{o(!0),l(null);const w=await g(),v=await m.app.iyzicoToken.initializeTokenization({name:h.name,surname:h.surname,email:h.email,ip:w});if(!v.sessionToken)throw new Error("Failed to initialize Iyzico session");if(u(v.sessionToken),v.checkoutFormContent){const I=window.open("","IyzicoCheckout","width=800,height=600");if(I){I.document.write(v.checkoutFormContent),I.document.close(),window.addEventListener("message",b,!1);const S=setInterval(()=>{I.closed&&(clearInterval(S),window.removeEventListener("message",b,!1),o(!1),l("Payment window was closed"))},1e3)}else throw new Error("Failed to open payment window. Please allow popups.")}else if(v.paymentPageUrl)window.open(v.paymentPageUrl,"IyzicoCheckout","width=800,height=600");else throw new Error("No checkout method provided by Iyzico")}catch(w){const v=w.message||"Failed to initialize Iyzico payment";l(v),n(v),o(!1)}},b=async w=>{if(w.origin===window.location.origin)if(w.data&&w.data.type==="IYZICO_CHECKOUT_SUCCESS")try{if(!d||!h)throw new Error("Session information is missing");const v=await g(),I=await m.app.iyzicoToken.savePaymentMethod({sessionToken:d,name:h.name,surname:h.surname,email:h.email,ip:v});window.removeEventListener("message",b,!1),o(!1),e(I)}catch(v){const I=v.message||"Failed to save Iyzico payment method";l(I),n(I),o(!1)}else if(w.data&&w.data.type==="IYZICO_CHECKOUT_ERROR"){window.removeEventListener("message",b,!1),o(!1);const v=w.data.message||"Payment failed";l(v),n(v)}else w.data&&w.data.type==="IYZICO_CHECKOUT_CANCEL"&&(window.removeEventListener("message",b,!1),o(!1),console.log("Iyzico payment cancelled by user"))};return h?t.jsxs(C,{sx:{textAlign:"center",py:3},children:[i&&t.jsx(dt,{severity:"error",sx:{mb:2},children:i}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Kartnz gvenli bir ekilde Iyzico ile kaydedin"}),t.jsx(ue,{variant:"contained",onClick:y,disabled:r||s||!h,sx:{backgroundColor:"#1B4332",color:"white","&:hover":{backgroundColor:"#2D5A3D"},"&:disabled":{backgroundColor:"#ccc"},minHeight:"48px",minWidth:"200px",fontWeight:"bold"},children:s?"yzico ile Balanyor...":"yzico ile deme Ekle"}),s&&t.jsx(j,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:2},children:"Gvenli deme sayfasna ynlendiriliyorsunuz..."}),t.jsx(j,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:2},children:"Kart bilgileriniz Iyzico'nun gvenli sisteminde saklanr"}),t.jsx(j,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:1},children:"lem tamamlandktan sonra pop-up pencereyi kapatabilirsiniz"})]}):t.jsx(C,{sx:{textAlign:"center",py:2},children:t.jsx(j,{variant:"body2",color:"text.secondary",children:"Loading user information..."})})},YB=()=>{const e=cn(),[n,r]=x.useState([]),[s,o]=x.useState([]),[i,l]=x.useState(!0),[d,u]=x.useState(null),[h,f]=x.useState(null),[m,g]=x.useState(!1),[y,b]=x.useState(null),[w,v]=x.useState(!1),[I,S]=x.useState(!1),{api:D}=Ke(),{execute:T}=tt();x.useEffect(()=>{E()},[]);const E=async()=>{l(!0),u(null);const[U,ee]=await Promise.all([T(()=>D.app.account.getPayoutMethods(),{showErrorToast:!0}),T(()=>D.app.account.getAvailablePayoutMethods(),{showErrorToast:!1})]);U&&r(U.items??[]),ee&&o(ee),l(!1)},R=async U=>{u(null),await T(()=>D.app.account.setDefaultPayoutMethod(U.id),{showSuccessMessage:!0,successMessage:"Default payout method updated"})&&await E()},O=async()=>{if(!y)return;u(null),await T(()=>D.app.account.deletePayoutMethod(y.id),{showSuccessMessage:!0,successMessage:"Payout method deleted successfully"})&&(await E(),g(!1),b(null))},k=U=>{b(U),g(!0)},N=()=>{g(!1),b(null)},B=async()=>{await E(),f("Payout method added successfully")},K=()=>{v(!0)},$=async()=>{try{v(!1),f("Connecting PayPal account..."),await E(),f("PayPal account connected successfully!")}catch(U){console.error("Error refreshing payout methods:",U),f("PayPal account connected successfully!")}},Y=U=>{u(U),v(!1)},J=()=>{S(!0)},G=async()=>{S(!1),await B(),f("Iyzico card added successfully!")},q=U=>{u(U),S(!1)},Q=U=>{switch(U){case Or.PAYPAL:return t.jsx(Sn,{sx:{bgcolor:"#0070ba",width:40,height:40,fontSize:"12px",fontWeight:"bold",color:"white"},children:"PayPal"});case Or.IYZICO:return t.jsx(Sn,{sx:{bgcolor:"#00a650",width:40,height:40,fontSize:"11px",fontWeight:"bold",color:"white"},children:"iyzico"});default:return t.jsx(Sn,{sx:{bgcolor:e.palette.grey[400],width:40,height:40},children:t.jsx(Sv,{})})}},z=U=>{var Pe,pe,Re,ce,re,je;switch((Pe=U.provider)==null?void 0:Pe.code){case Or.PAYPAL:return((pe=U.payoutDetails)==null?void 0:pe.email)||U.payoutIdentifier;case Or.IYZICO:{const Oe=((Re=U.payoutDetails)==null?void 0:Re.cardAssociation)||"Card",ye=((ce=U.payoutDetails)==null?void 0:ce.lastFourDigits)||"****";return`${Oe}  ${ye}`}case Or.BANK_TRANSFER:return((re=U.payoutDetails)==null?void 0:re.iban)||((je=U.payoutDetails)==null?void 0:je.accountNumber)||U.payoutIdentifier;default:return U.payoutIdentifier||"Payout method"}},oe=U=>s.some(ee=>ee.code===U);return i?t.jsx(C,{sx:{p:3},children:t.jsx(me,{spacing:2,children:[...Array(3)].map((U,ee)=>t.jsx(Fe,{children:t.jsx(We,{children:t.jsxs(me,{direction:"row",spacing:2,alignItems:"center",children:[t.jsx(le,{variant:"circular",width:40,height:40}),t.jsxs(C,{sx:{flex:1},children:[t.jsx(le,{variant:"text",width:"60%"}),t.jsx(le,{variant:"text",width:"40%"})]}),t.jsx(le,{variant:"rectangular",width:100,height:32})]})})},ee))})}):t.jsxs(C,{children:[t.jsxs(me,{spacing:3,children:[d&&t.jsx(dt,{severity:"error",sx:{mb:2},children:d}),h&&t.jsx(dt,{severity:"success",sx:{mb:2},children:h}),t.jsxs(C,{sx:{mb:3},children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:.5},children:"Payout Methods"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Manage your payout methods for receiving earnings"})]}),t.jsxs(me,{spacing:0,divider:t.jsx(Mt,{}),sx:{border:"1px solid",borderColor:"divider",borderRadius:2,overflow:"hidden"},children:[oe(Or.PAYPAL)&&t.jsxs(C,{sx:{p:2.5,display:"flex",alignItems:"center",gap:2.5,transition:"background-color 0.2s","&:hover":{bgcolor:e.palette.mode==="dark"?"rgba(255,255,255,0.02)":"rgba(0,0,0,0.01)"}},children:[t.jsx(C,{sx:{flexShrink:0},children:t.jsx(Sn,{sx:{bgcolor:"#0070ba",width:40,height:40,fontSize:"12px",fontWeight:"bold",color:"white"},children:"PayPal"})}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[t.jsx(j,{variant:"body1",sx:{fontWeight:600},children:"PayPal"}),n.some(U=>{var ee;return((ee=U.provider)==null?void 0:ee.code)===Or.PAYPAL})&&t.jsx(Qe,{label:"Connected",size:"small",color:"success",sx:{height:20,fontSize:"0.7rem",fontWeight:600}})]}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.875rem"},children:"Connect your PayPal account securely"})]}),t.jsx(C,{sx:{flexShrink:0,width:100},children:t.jsx(ue,{onClick:K,size:"small",variant:"outlined",fullWidth:!0,sx:{borderRadius:1.5,textTransform:"none",fontSize:"0.8rem",fontWeight:500},children:n.some(U=>{var ee;return((ee=U.provider)==null?void 0:ee.code)===Or.PAYPAL})?"Add Another":"Connect"})})]}),oe(Or.IYZICO)&&t.jsxs(C,{sx:{p:2.5,display:"flex",alignItems:"center",gap:2.5,transition:"background-color 0.2s","&:hover":{bgcolor:e.palette.mode==="dark"?"rgba(255,255,255,0.02)":"rgba(0,0,0,0.01)"}},children:[t.jsx(C,{sx:{flexShrink:0},children:t.jsx(Sn,{sx:{bgcolor:"#00a650",width:40,height:40,fontSize:"11px",fontWeight:"bold",color:"white"},children:"iyzico"})}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[t.jsx(j,{variant:"body1",sx:{fontWeight:600},children:"Credit/Debit Card"}),n.some(U=>{var ee;return((ee=U.provider)==null?void 0:ee.code)===Or.IYZICO})&&t.jsx(Qe,{label:`${n.filter(U=>{var ee;return((ee=U.provider)==null?void 0:ee.code)===Or.IYZICO}).length} Card(s)`,size:"small",color:"success",sx:{height:20,fontSize:"0.7rem",fontWeight:600}})]}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.875rem"},children:"Gvenli kart deme sistemi"})]}),t.jsx(C,{sx:{flexShrink:0,width:100},children:t.jsx(ue,{onClick:J,size:"small",variant:"outlined",fullWidth:!0,sx:{borderRadius:1.5,textTransform:"none",fontSize:"0.8rem",fontWeight:500},children:"Add Card"})})]}),!oe(Or.PAYPAL)&&!oe(Or.IYZICO)&&t.jsx(C,{sx:{p:3,textAlign:"center"},children:t.jsx(j,{variant:"body2",color:"text.secondary",children:"No payout methods are currently available in your region."})})]}),n.length>0&&t.jsxs(t.Fragment,{children:[t.jsxs(C,{sx:{mt:4,mb:2},children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:.5},children:"Connected Methods"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Your active payout methods"})]}),t.jsx(me,{spacing:0,divider:t.jsx(Mt,{}),sx:{border:"1px solid",borderColor:"divider",borderRadius:2,overflow:"hidden"},children:n.map((U,ee)=>{var Pe,pe;return t.jsxs(C,{sx:{p:2.5,display:"flex",alignItems:"center",gap:2.5,bgcolor:ee%2===0?"transparent":e.palette.mode==="dark"?"rgba(255,255,255,0.02)":"rgba(0,0,0,0.01)",transition:"background-color 0.2s","&:hover":{bgcolor:e.palette.mode==="dark"?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.03)"}},children:[t.jsx(C,{sx:{flexShrink:0},children:Q(((Pe=U.provider)==null?void 0:Pe.code)||"")}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1.5,mb:.5},children:[t.jsx(j,{variant:"body1",sx:{fontWeight:600},children:((pe=U.provider)==null?void 0:pe.name)||"Payout Method"}),U.isDefault&&t.jsx(Qe,{label:"Default",size:"small",sx:{height:20,fontSize:"0.7rem",fontWeight:600,bgcolor:"primary.main",color:"primary.contrastText"}})]}),t.jsx(j,{variant:"body2",color:"text.primary",sx:{mb:.5,fontFamily:"monospace",fontSize:"0.875rem"},children:z(U)}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[t.jsx(j,{variant:"caption",color:"text.secondary",sx:{fontWeight:500},children:U.currency.toUpperCase()}),U.lastUsedAt&&t.jsxs(t.Fragment,{children:[t.jsx(C,{sx:{width:3,height:3,bgcolor:"text.secondary",borderRadius:"50%",opacity:.5}}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Last used ",new Date(U.lastUsedAt).toLocaleDateString()]})]})]})]}),t.jsxs(C,{sx:{display:"flex",gap:1,flexShrink:0},children:[!U.isDefault&&t.jsx(ue,{onClick:()=>R(U),size:"small",variant:"outlined",sx:{borderRadius:1.5,textTransform:"none",fontSize:"0.75rem",fontWeight:500,px:1.5,minWidth:"auto"},children:"Set default"}),t.jsx(Ne,{onClick:()=>k(U),size:"small",sx:{color:"text.secondary","&:hover":{color:"error.main",bgcolor:"error.main"}},children:t.jsx(Rc,{fontSize:"small"})})]})]},U.id)})})]})]}),t.jsxs(Kt,{open:m,onClose:N,children:[t.jsx(tn,{children:"Delete Payout Method"}),t.jsx(Xt,{children:t.jsxs(j,{children:["Are you sure you want to delete this payout method?",(y==null?void 0:y.isDefault)&&t.jsx(dt,{severity:"warning",sx:{mt:2},children:"This is your default payout method. You'll need to set another payout method as default."})]})}),t.jsxs(Jt,{children:[t.jsx(ue,{onClick:N,children:"Cancel"}),t.jsx(ue,{onClick:O,color:"error",variant:"contained",children:"Delete"})]})]}),t.jsxs(Kt,{open:w,onClose:()=>v(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Connect PayPal Account for Payouts"}),t.jsx(Xt,{children:t.jsx(HB,{onSuccess:$,onError:Y,disabled:!1})}),t.jsx(Jt,{children:t.jsx(ue,{onClick:()=>v(!1),children:"Cancel"})})]}),t.jsxs(Kt,{open:I,onClose:()=>S(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Kart Ekleme"}),t.jsx(Xt,{children:t.jsx(GB,{onSuccess:G,onError:q,disabled:!1})}),t.jsx(Jt,{children:t.jsx(ue,{onClick:()=>S(!1),children:"ptal"})})]})]})},yn={ACTIVE:1,CANCELLED:2,EXPIRED:3,PENDING:4,SUSPENDED:5},qB={[yn.ACTIVE]:"active",[yn.CANCELLED]:"cancelled",[yn.EXPIRED]:"expired",[yn.PENDING]:"pending",[yn.SUSPENDED]:"suspended"},Bw={active:yn.ACTIVE,cancelled:yn.CANCELLED,expired:yn.EXPIRED,pending:yn.PENDING,suspended:yn.SUSPENDED};function KB(e){if(typeof e=="number")return Object.values(yn).includes(e)?e:yn.PENDING;const n=e.toLowerCase();return Bw[n]||yn.PENDING}function Ww(e){if(typeof e=="string"){const n=e.toLowerCase();return n in Bw?n:"pending"}return qB[e]||"pending"}function XB(e){return KB(e)===yn.ACTIVE}function ed(e){const n=Ww(e);switch(n){case"active":return"Active";case"cancelled":return"Cancelled";case"expired":return"Expired";case"pending":return"Pending";case"suspended":return"Suspended";default:return n.charAt(0).toUpperCase()+n.slice(1)}}function td(e){switch(Ww(e)){case"active":return"success";case"cancelled":return"warning";case"expired":return"error";case"pending":return"info";case"suspended":return"info";default:return"default"}}function JB(e){return XB(e)}const QB=[{id:yn.ACTIVE,value:"active",label:"Active"},{id:yn.CANCELLED,value:"cancelled",label:"Cancelled"},{id:yn.EXPIRED,value:"expired",label:"Expired"},{id:yn.PENDING,value:"pending",label:"Pending"},{id:yn.SUSPENDED,value:"suspended",label:"Suspended"}],ZB=()=>{const[e,n]=x.useState([]),[r,s]=x.useState(!0),[o,i]=x.useState(null),[l,d]=x.useState(null),[u,h]=x.useState(!1),[f,m]=x.useState(null),[g,y]=x.useState(!1),{api:b}=Ke(),{execute:w}=tt(),v=cn(),I=async()=>{s(!0),i(null);const Y=await w(()=>b.app.account.getSubscriptions(),{showErrorToast:!0});Y&&n(Y.items??[]),s(!1)};x.useEffect(()=>{I()},[]);const S=async()=>{if(!f)return;y(!0),i(null),await w(()=>b.app.subscription.cancelUserSubscription(f.id),{showSuccessMessage:!0,successMessage:"Subscription canceled successfully"})&&(await I(),h(!1),m(null)),y(!1)},D=Y=>{m(Y),h(!0)},T=()=>{h(!1),m(null)},E=Y=>td(Y),R=Y=>ed(Y),O=Y=>new Date(Y).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),k=(Y,J)=>new Intl.NumberFormat("en-US",{style:"currency",currency:J.toUpperCase()}).format(Y/100),N=Y=>JB(Y.statusId),B=Y=>{var J;return(J=Y.paymentDetails)==null?void 0:J.some(G=>{var q;return((q=G.provider)==null?void 0:q.code)==="paypal"})};if(r)return t.jsx(C,{sx:{p:{xs:2,md:4}},children:t.jsxs(me,{spacing:3,children:[t.jsxs(C,{children:[t.jsx(le,{variant:"text",sx:{fontSize:"1.5rem",width:"200px",mb:1}}),t.jsx(le,{variant:"text",sx:{fontSize:"0.875rem",width:"150px"}})]}),t.jsx(F,{container:!0,spacing:3,children:[...Array(3)].map((Y,J)=>t.jsx(F,{item:!0,xs:12,lg:6,children:t.jsxs(Fe,{sx:{height:"100%"},children:[t.jsx(We,{sx:{p:3},children:t.jsxs(me,{direction:"row",spacing:3,children:[t.jsx(le,{variant:"circular",width:64,height:64}),t.jsxs(C,{sx:{flex:1},children:[t.jsx(le,{variant:"text",sx:{fontSize:"1.25rem",width:"70%",mb:1}}),t.jsx(le,{variant:"text",sx:{width:"50%",mb:2}}),t.jsx(me,{direction:"row",spacing:1,mb:2,children:t.jsx(le,{variant:"rectangular",width:80,height:24,sx:{borderRadius:1}})}),t.jsxs(me,{spacing:1,children:[t.jsx(le,{variant:"text",sx:{width:"60%"}}),t.jsx(le,{variant:"text",sx:{width:"40%"}})]})]})]})}),t.jsxs(ef,{sx:{px:3,pb:3},children:[t.jsx(le,{variant:"rectangular",width:100,height:36,sx:{borderRadius:1}}),t.jsx(le,{variant:"rectangular",width:120,height:36,sx:{borderRadius:1,ml:1}})]})]})},J))})]})});const K=e.filter(Y=>Y.statusId===yn.ACTIVE),$=e.reduce((Y,J)=>Y+J.tier.price/100,0);return t.jsx(C,{sx:{p:{xs:2,md:4}},children:t.jsxs(me,{spacing:4,children:[o&&t.jsx(dt,{severity:"error",onClose:()=>i(null),sx:{borderRadius:2},children:o}),l&&t.jsx(dt,{severity:"success",onClose:()=>d(null),sx:{borderRadius:2},children:l}),t.jsxs(C,{children:[t.jsx(j,{variant:"h4",sx:{fontWeight:600,mb:1},children:"My Subscriptions"}),t.jsx(j,{variant:"body1",color:"text.secondary",children:"Manage your channel subscriptions and contributions"})]}),e.length>0&&t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ot,{sx:{p:3,borderRadius:3,background:`linear-gradient(135deg, ${v.palette.primary.main} 0%, ${v.palette.primary.dark} 100%)`,color:"white"},children:t.jsxs(me,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h4",sx:{fontWeight:700,mb:.5},children:K.length}),t.jsx(j,{variant:"body2",sx:{opacity:.9},children:"Active"})]}),t.jsx(ps,{sx:{fontSize:40,opacity:.8}})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ot,{sx:{p:3,borderRadius:3,background:`linear-gradient(135deg, ${v.palette.success.main} 0%, ${v.palette.success.dark} 100%)`,color:"white"},children:t.jsxs(me,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(C,{children:[t.jsxs(j,{variant:"h4",sx:{fontWeight:700,mb:.5},children:["$",$.toFixed(0)]}),t.jsx(j,{variant:"body2",sx:{opacity:.9},children:"Monthly Value"})]}),t.jsx(Bf,{sx:{fontSize:40,opacity:.8}})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ot,{sx:{p:3,borderRadius:3,border:`1px solid ${v.palette.divider}`},children:t.jsxs(me,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h4",sx:{fontWeight:700,mb:.5,color:"text.primary"},children:e.length}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Total"})]}),t.jsx(Na,{sx:{fontSize:40,color:"text.secondary"}})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ot,{sx:{p:3,borderRadius:3,border:`1px solid ${v.palette.divider}`},children:t.jsxs(me,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h4",sx:{fontWeight:700,mb:.5,color:"text.primary"},children:e.filter(Y=>Y.autoContribute).length}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Auto-contribute"})]}),t.jsx(mR,{sx:{fontSize:40,color:"text.secondary"}})]})})})]}),e.length===0?t.jsx(ot,{sx:{textAlign:"center",py:8,px:4,borderRadius:4,background:`linear-gradient(135deg, ${de(v.palette.primary.main,.02)} 0%, ${de(v.palette.primary.main,.05)} 100%)`,border:`1px solid ${de(v.palette.primary.main,.1)}`},children:t.jsxs(C,{sx:{maxWidth:400,mx:"auto"},children:[t.jsx(Na,{sx:{fontSize:80,color:"primary.main",opacity:.6,mb:3}}),t.jsx(j,{variant:"h5",sx:{fontWeight:600,mb:2},children:"No Subscriptions Yet"}),t.jsx(j,{variant:"body1",color:"text.secondary",sx:{mb:4,lineHeight:1.6},children:"Discover amazing channels and support creators by subscribing to their content. Your subscriptions will appear here."}),t.jsx(ue,{variant:"contained",size:"large",href:"/app/channels",sx:{borderRadius:2,py:1.5,px:4,textTransform:"none",fontSize:"1rem",fontWeight:600},children:"Explore Channels"})]})}):t.jsx(F,{container:!0,spacing:3,children:e.map(Y=>t.jsx(F,{item:!0,xs:12,lg:6,children:t.jsxs(Fe,{sx:{height:"100%",borderRadius:3,border:`1px solid ${v.palette.divider}`,transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:v.shadows[8]}},children:[t.jsx(We,{sx:{p:3},children:t.jsxs(me,{direction:"row",spacing:3,children:[t.jsx(Sn,{sx:{width:64,height:64,border:`2px solid ${v.palette.divider}`,fontSize:"1.5rem",fontWeight:600},src:`https://via.placeholder.com/64x64?text=${Y.channel.name.charAt(0)}`,children:Y.channel.name.charAt(0)}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsxs(me,{direction:"row",alignItems:"flex-start",justifyContent:"space-between",mb:1,children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Y.channel.name}),t.jsx(Ne,{size:"small",sx:{ml:1},children:t.jsx(Uf,{fontSize:"small"})})]}),t.jsxs(me,{direction:"row",alignItems:"center",spacing:2,mb:2,children:[t.jsx(j,{variant:"body2",color:"text.secondary",children:Y.tier.name}),t.jsxs(j,{variant:"body2",sx:{fontWeight:600,color:"primary.main"},children:[k(Y.tier.price,Y.tier.currency),"/month"]})]}),t.jsxs(me,{direction:"row",spacing:1,mb:2,flexWrap:"wrap",children:[t.jsx(Qe,{label:R(Y.statusId),color:E(Y.statusId),size:"small",sx:{borderRadius:1}}),B(Y)&&t.jsx(Qe,{label:"PayPal",variant:"outlined",size:"small",sx:{borderRadius:1,borderColor:"#0070BA",color:"#0070BA",fontWeight:600}}),Y.autoContribute&&t.jsx(Qe,{label:"Auto-contribute",variant:"outlined",size:"small",sx:{borderRadius:1}})]}),t.jsxs(me,{spacing:.5,children:[t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Started: ",O(Y.subscribedAt)]}),Y.expiresAt&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Expires: ",O(Y.expiresAt)]}),Y.totalContributions>0&&t.jsxs(j,{variant:"caption",color:"success.main",children:["Total contributed: ",k(Y.totalContributions,Y.tier.currency)]})]})]})]})}),t.jsx(Mt,{}),t.jsxs(ef,{sx:{p:3,pt:2},children:[t.jsx(ue,{variant:"outlined",size:"small",href:`${be.APP_CHANNEL_VIEW}`.replace(":id",Y.channel.id),endIcon:t.jsx(xR,{}),sx:{borderRadius:1.5,textTransform:"none",fontWeight:500},children:"View Channel"}),N(Y)&&t.jsx(ue,{variant:"text",color:"error",size:"small",startIcon:t.jsx(Rs,{}),onClick:()=>D(Y),sx:{borderRadius:1.5,textTransform:"none",fontWeight:500,ml:"auto"},children:"Cancel"})]})]})},Y.id))}),t.jsxs(Kt,{open:u,onClose:T,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:3,p:1}},children:[t.jsx(tn,{sx:{pb:1},children:t.jsx(j,{variant:"h5",sx:{fontWeight:600},children:"Cancel Subscription"})}),t.jsx(Xt,{sx:{pb:2},children:t.jsxs(me,{spacing:2,children:[t.jsxs(j,{variant:"body1",children:["Are you sure you want to cancel your subscription to"," ",t.jsx(j,{component:"span",sx:{fontWeight:600,color:"primary.main"},children:f==null?void 0:f.channel.name}),"?"]}),f&&B(f)&&t.jsx(ot,{sx:{p:2,borderRadius:2,bgcolor:de(v.palette.info.main,.05),border:`1px solid ${de(v.palette.info.main,.2)}`},children:t.jsxs(j,{variant:"body2",color:"text.secondary",sx:{mb:1},children:[t.jsx(j,{component:"span",sx:{fontWeight:600,color:"info.main"},children:"PayPal Subscription:"})," ","This will cancel your PayPal subscription automatically. Your PayPal recurring payment will be stopped."]})}),t.jsx(ot,{sx:{p:2,borderRadius:2,bgcolor:de(v.palette.warning.main,.05),border:`1px solid ${de(v.palette.warning.main,.2)}`},children:t.jsxs(j,{variant:"body2",color:"text.secondary",children:["You will continue to have access until your current billing period ends",(f==null?void 0:f.expiresAt)&&t.jsxs(j,{component:"span",sx:{fontWeight:500},children:[" ","on ",O(f.expiresAt)]}),"."]})})]})}),t.jsxs(Jt,{sx:{p:3,pt:1},children:[t.jsx(ue,{onClick:T,disabled:g,variant:"outlined",sx:{borderRadius:2,textTransform:"none",fontWeight:500,px:3},children:"Keep Subscription"}),t.jsx(ue,{onClick:S,color:"error",variant:"contained",disabled:g,sx:{borderRadius:2,textTransform:"none",fontWeight:500,px:3},children:g?"Canceling...":"Cancel Subscription"})]})]})]})})},r0=Me(Ne)(({theme:e})=>({position:"absolute",top:"50%",transform:"translateY(-50%)",zIndex:1,backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.04)",width:32,height:32,"&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.08)"}})),eW=()=>{const[e,n]=x.useState("profile"),{user:r}=bs(),s=x.useRef(null),[o,i]=x.useState(!1),[l,d]=x.useState(!1),u=[{id:"profile",icon:t.jsx(gR,{}),label:"Profile"},{id:"payment",icon:t.jsx(Ma,{}),label:"Payout Methods"},{id:"subscriptions",icon:t.jsx(Na,{}),label:"Subscriptions"}],h=()=>{var b;const y=(b=s.current)==null?void 0:b.querySelector(".MuiTabs-scroller");if(y){const{scrollLeft:w,scrollWidth:v,clientWidth:I}=y;i(w>0),d(w+I<v-1)}};x.useEffect(()=>{var b;h();const y=(b=s.current)==null?void 0:b.querySelector(".MuiTabs-scroller");if(y)return y.addEventListener("scroll",h),window.addEventListener("resize",h),()=>{y.removeEventListener("scroll",h),window.removeEventListener("resize",h)}},[]);const f=()=>{var b;const y=(b=s.current)==null?void 0:b.querySelector(".MuiTabs-scroller");y&&y.scrollBy({left:-200,behavior:"smooth"})},m=()=>{var b;const y=(b=s.current)==null?void 0:b.querySelector(".MuiTabs-scroller");y&&y.scrollBy({left:200,behavior:"smooth"})},g=()=>{switch(e){case"profile":return t.jsx(VB,{});case"payment":return t.jsx(YB,{});case"subscriptions":return t.jsx(ZB,{});default:return null}};return t.jsxs(C,{sx:{width:"100%",overflow:"hidden"},children:[t.jsxs(C,{sx:{mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2,mb:1},children:[t.jsx(j,{variant:"h5",sx:{fontWeight:600},children:(r==null?void 0:r.displayName)||"Account"}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["(",(r==null?void 0:r.email)||"user",")"]})]}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Your personal account"})]}),t.jsxs(C,{sx:{position:"relative",mb:3},ref:s,children:[o&&t.jsx(r0,{onClick:f,sx:{left:0},children:t.jsx(As,{fontSize:"small"})}),t.jsx(_s,{value:e,onChange:(y,b)=>n(b),variant:"scrollable",scrollButtons:!1,sx:{borderBottom:1,borderColor:"divider","& .MuiTabs-scroller":{"&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",msOverflowStyle:"none"},"& .MuiTabs-indicator":{height:2,borderRadius:"2px 2px 0 0"},"& .MuiTab-root":{minWidth:"auto",px:2.5,py:1.5,textTransform:"none",fontSize:"0.875rem",fontWeight:500,color:"text.secondary","&.Mui-selected":{color:"primary.main",fontWeight:600}}},children:u.map(y=>t.jsx(On,{value:y.id,label:y.label,icon:y.icon,iconPosition:"start",sx:{minHeight:48,gap:.75}},y.id))}),l&&t.jsx(r0,{onClick:m,sx:{right:0},children:t.jsx(Cv,{fontSize:"small"})})]}),t.jsx(C,{children:g()})]})},tW=()=>{const{isDarkMode:e,toggleTheme:n}=Hp(),[r,s]=x.useState(e?"dark":"light"),o=i=>{const l=i.target.value;s(l),(l==="dark"&&!e||l==="light"&&e)&&n()};return t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:.5},children:"Appearance"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Customize how MetaJourno looks on your device"}),t.jsx(ot,{elevation:0,sx:{p:3,border:"1px solid",borderColor:"divider",borderRadius:2},children:t.jsxs(ht,{component:"fieldset",children:[t.jsx(bR,{component:"legend",sx:{fontWeight:600,mb:2},children:"Theme mode"}),t.jsxs(yR,{value:r,onChange:o,children:[t.jsx(yo,{value:"light",control:t.jsx(oy,{}),label:t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(vR,{fontSize:"small"}),t.jsxs(C,{children:[t.jsx(j,{variant:"body1",children:"Light"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:"Use light theme"})]})]}),sx:{mb:2,p:1.5,borderRadius:1,"&:hover":{bgcolor:"action.hover"}}}),t.jsx(yo,{value:"dark",control:t.jsx(oy,{}),label:t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(jR,{fontSize:"small"}),t.jsxs(C,{children:[t.jsx(j,{variant:"body1",children:"Dark"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:"Use dark theme"})]})]}),sx:{p:1.5,borderRadius:1,"&:hover":{bgcolor:"action.hover"}}})]})]})})]})},nW={subscription:"Subscription Notifications",payout:"Payout Notifications",funding:"Funding Notifications",channel:"Channel Notifications",system:"System Notifications"},rW=["subscription","payout","funding","channel","system"],sW=()=>{const[e,n]=x.useState([]),[r,s]=x.useState(!0),[o,i]=x.useState(!1),[l,d]=x.useState(null),[u,h]=x.useState(!1),{api:f}=Ke(),{execute:m}=tt();x.useEffect(()=>{g()},[]);const g=async()=>{s(!0),d(null);try{const[I,S]=await Promise.all([m(()=>f.app.account.getNotificationPreferences(),{showErrorToast:!1}),m(()=>f.app.notification.getNotificationTypeMetadata(),{showErrorToast:!1})]);if(I&&S){const D=new Map(S.map(E=>[E.id,E])),T=I.preferences.map(E=>({...E,metadata:D.get(E.notificationTypeId)}));n(T)}else d("Failed to load notification preferences")}catch(I){d(I.message||"Failed to load notification preferences")}finally{s(!1)}},y=(I,S,D)=>{n(T=>T.map(E=>E.notificationTypeId===I?{...E,[S]:D}:E)),h(!0)},b=async()=>{i(!0),d(null);const I=e.map(D=>({notificationTypeId:D.notificationTypeId,pushEnabled:D.pushEnabled,inAppEnabled:D.inAppEnabled}));await m(()=>f.app.account.bulkUpdateNotificationPreferences(I),{showSuccessMessage:!0,successMessage:"Notification preferences saved successfully",showErrorToast:!0})&&(h(!1),g()),i(!1)},w=()=>{g(),h(!1)},v=e.reduce((I,S)=>{var T;const D=((T=S.metadata)==null?void 0:T.category)||"system";return I[D]||(I[D]=[]),I[D].push(S),I},{});return r?t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:.5},children:"Notification Preferences"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Loading..."}),t.jsx(me,{spacing:2,children:[1,2,3].map(I=>t.jsx(le,{variant:"rectangular",height:80},I))})]}):l?t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:.5},children:"Notification Preferences"}),t.jsx(dt,{severity:"error",sx:{mt:2},children:l})]}):t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"start",mb:3},children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:.5},children:"Notification Preferences"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Control which notifications you receive via push and in-app"})]}),t.jsxs(C,{sx:{display:"flex",gap:1},children:[t.jsx(ue,{variant:"outlined",size:"small",onClick:w,disabled:!u||o,children:"Cancel"}),t.jsx(ue,{variant:"contained",size:"small",startIcon:o?void 0:t.jsx(Wf,{}),onClick:b,disabled:!u||o,children:o?"Saving...":"Save Changes"})]})]}),t.jsx(me,{spacing:3,children:rW.map(I=>{const S=v[I];return!S||S.length===0?null:t.jsxs(C,{children:[t.jsxs(j,{variant:"subtitle1",sx:{fontWeight:600,mb:2,display:"flex",alignItems:"center",gap:1},children:[t.jsx(Pv,{fontSize:"small"}),nW[I]]}),t.jsx(me,{spacing:1.5,children:S.map(D=>{var T,E;return t.jsx(ot,{elevation:0,sx:{p:2.5,border:"1px solid",borderColor:"divider",borderRadius:2,"&:hover":{borderColor:"primary.main",bgcolor:"action.hover"}},children:t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs(C,{sx:{flex:1,mr:3},children:[t.jsx(j,{variant:"body1",sx:{fontWeight:500,mb:.5},children:((T=D.metadata)==null?void 0:T.name)||`Notification Type ${D.notificationTypeId}`}),t.jsx(j,{variant:"body2",color:"text.secondary",children:((E=D.metadata)==null?void 0:E.description)||"No description available"})]}),t.jsxs(C,{sx:{display:"flex",gap:2,alignItems:"center"},children:[t.jsx(yo,{control:t.jsx($a,{checked:D.pushEnabled,onChange:R=>y(D.notificationTypeId,"pushEnabled",R.target.checked),color:"primary"}),label:t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:"Push"}),labelPlacement:"top",sx:{m:0}}),t.jsx(Mt,{orientation:"vertical",flexItem:!0,sx:{mx:1}}),t.jsx(yo,{control:t.jsx($a,{checked:D.inAppEnabled,onChange:R=>y(D.notificationTypeId,"inAppEnabled",R.target.checked),color:"primary"}),label:t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:"In-App"}),labelPlacement:"top",sx:{m:0}})]})]})},D.notificationTypeId)})})]},I)})}),u&&t.jsx(dt,{severity:"info",sx:{mt:3},children:'You have unsaved changes. Click "Save Changes" to apply your preferences.'})]})},s0=Me(Ne)(({theme:e})=>({position:"absolute",top:"50%",transform:"translateY(-50%)",zIndex:1,backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.04)",width:32,height:32,"&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.08)"}})),oW=()=>{const[e,n]=x.useState("appearance"),r=x.useRef(null),[s,o]=x.useState(!1),[i,l]=x.useState(!1),d=[{id:"appearance",icon:t.jsx(wR,{}),label:"Appearance"},{id:"notifications",icon:t.jsx(Pv,{}),label:"Notifications"}],u=()=>{var y;const g=(y=r.current)==null?void 0:y.querySelector(".MuiTabs-scroller");if(g){const{scrollLeft:b,scrollWidth:w,clientWidth:v}=g;o(b>0),l(b+v<w-1)}};x.useEffect(()=>{var y;u();const g=(y=r.current)==null?void 0:y.querySelector(".MuiTabs-scroller");if(g)return g.addEventListener("scroll",u),window.addEventListener("resize",u),()=>{g.removeEventListener("scroll",u),window.removeEventListener("resize",u)}},[]);const h=()=>{var y;const g=(y=r.current)==null?void 0:y.querySelector(".MuiTabs-scroller");g&&g.scrollBy({left:-200,behavior:"smooth"})},f=()=>{var y;const g=(y=r.current)==null?void 0:y.querySelector(".MuiTabs-scroller");g&&g.scrollBy({left:200,behavior:"smooth"})},m=()=>{switch(e){case"appearance":return t.jsx(tW,{});case"notifications":return t.jsx(sW,{});default:return null}};return t.jsxs(C,{sx:{width:"100%",overflow:"hidden"},children:[t.jsxs(C,{sx:{mb:4},children:[t.jsx(C,{sx:{display:"flex",alignItems:"center",gap:2,mb:1},children:t.jsx(j,{variant:"h5",sx:{fontWeight:600},children:"Settings"})}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Manage your application preferences"})]}),t.jsxs(C,{sx:{position:"relative",mb:3},ref:r,children:[s&&t.jsx(s0,{onClick:h,sx:{left:0},children:t.jsx(As,{fontSize:"small"})}),t.jsx(_s,{value:e,onChange:(g,y)=>n(y),variant:"scrollable",scrollButtons:!1,sx:{borderBottom:1,borderColor:"divider","& .MuiTabs-scroller":{"&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",msOverflowStyle:"none"},"& .MuiTabs-indicator":{height:2,borderRadius:"2px 2px 0 0"},"& .MuiTab-root":{minWidth:"auto",px:2.5,py:1.5,textTransform:"none",fontSize:"0.875rem",fontWeight:500,color:"text.secondary","&.Mui-selected":{color:"primary.main",fontWeight:600}}},children:d.map(g=>t.jsx(On,{value:g.id,label:g.label,icon:g.icon,iconPosition:"start",sx:{minHeight:48,gap:.75}},g.id))}),i&&t.jsx(s0,{onClick:f,sx:{right:0},children:t.jsx(Cv,{fontSize:"small"})})]}),t.jsx(C,{children:m()})]})},aW={NEWS:1,POLL:2},iW=()=>{const{api:e}=Ke(),[n,r]=x.useState(0),s=wc({fetcher:async(y,b,w)=>e.app.bookmark.getBookmarks(0,{after:b,limit:w||20}),pageSize:20,autoFetch:!1}),o=wc({fetcher:async(y,b,w)=>e.app.bookmark.getBookmarkedNews({after:b,limit:w||20}),pageSize:20,autoFetch:!1}),i=wc({fetcher:async(y,b,w)=>e.app.bookmark.getBookmarkedPolls({after:b,limit:w||20}),pageSize:20,autoFetch:!1}),d=(()=>{switch(n){case 0:return s;case 1:return o;case 2:return i;default:return s}})();x.useEffect(()=>{d.fetchInitial()},[n]);const u=(y,b)=>{r(b)},h=()=>t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"60vh",textAlign:"center",px:3},children:[t.jsx(ei,{sx:{fontSize:80,color:"text.disabled",mb:2}}),t.jsx(j,{variant:"h5",gutterBottom:!0,fontWeight:600,children:"No bookmarks yet"}),t.jsxs(j,{variant:"body1",color:"text.secondary",children:[n===0&&"Start bookmarking news and polls to see them here",n===1&&"You haven't bookmarked any news articles yet",n===2&&"You haven't bookmarked any polls yet"]})]}),f=()=>t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(sn,{})}),m=()=>n===0?s.items.map(y=>t.jsx(C,{sx:{mb:2},children:y.type===aW.NEWS?t.jsx(Xc,{news:y.content,mode:"grid"}):t.jsx(Zc,{poll:y.content,mode:"grid",showAsPreview:!0})},y.id)):n===1?o.items.map(y=>t.jsx(C,{sx:{mb:2},children:t.jsx(Xc,{news:y,mode:"grid"})},y.id)):i.items.map(y=>t.jsx(C,{sx:{mb:2},children:t.jsx(Zc,{poll:y,mode:"grid",showAsPreview:!0})},y.id)),g=d.isLoading&&d.items.length===0;return t.jsx(C,{sx:{width:"100%",minHeight:"100vh",bgcolor:"background.default"},children:t.jsxs(It,{maxWidth:"lg",sx:{py:3},children:[t.jsx(j,{variant:"h4",gutterBottom:!0,fontWeight:700,sx:{mb:3},children:"My Bookmarks"}),t.jsxs(_s,{value:n,onChange:u,sx:{borderBottom:1,borderColor:"divider",mb:3},children:[t.jsx(On,{label:"All",value:0}),t.jsx(On,{label:"News",value:1}),t.jsx(On,{label:"Polls",value:2})]}),g?f():d.items.length===0?h():t.jsx(xs,{dataLength:d.items.length,next:d.loadMore,hasMore:d.hasMore,loader:f(),endMessage:t.jsx(C,{sx:{textAlign:"center",py:4},children:t.jsx(j,{variant:"body2",color:"text.secondary",children:"You've reached the end of your bookmarks"})}),style:{overflow:"visible"},children:t.jsx(C,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},gap:2},children:m()})})]})})},Om=({children:e,isHighlighted:n=!1,contentPadding:r=3,noHover:s=!1,contentSx:o,sx:i,...l})=>t.jsx(Fe,{elevation:n?2:0,sx:{height:"100%",position:"relative",borderRadius:2,border:"1px solid",borderColor:d=>n?"primary.main":d.palette.mode==="dark"?de(d.palette.common.white,.1):de(d.palette.common.black,.08),bgcolor:d=>n?de(d.palette.primary.main,d.palette.mode==="dark"?.1:.05):"background.paper",transition:"all 0.2s ease-in-out",...!s&&{"&:hover":{borderColor:"primary.main",transform:"translateY(-2px)"}},...i},...l,children:t.jsx(We,{sx:{p:r,"&:last-child":{pb:r},...o},children:e})}),Mm=({status:e,...n})=>{const r=s=>{switch(s){case et.APPROVED:case et.PAID:return"success";case et.REJECTED:case et.CANCELLED:return"error";case et.SUBMITTED:case et.UNDER_REVIEW:return"info";case et.DRAFT:default:return"default"}};return t.jsx(Qe,{label:$i[e],color:r(e),size:"small",variant:"filled",sx:{borderRadius:1,fontWeight:500,fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px",...n.sx},...n})},Uw={TRAVEL:1,EQUIPMENT:2,ACCOMMODATION:3,FOOD:4,COMMUNICATION:5,LABOR:6,OTHER:7},Vw={TRAVEL:"Travel",EQUIPMENT:"Equipment",ACCOMMODATION:"Accommodation",FOOD:"Food",COMMUNICATION:"Communication",LABOR:"Labor",OTHER:"Other"},lW=e=>{const n=Object.entries(Uw).find(([r,s])=>s===e);return n?Vw[n[0]]:"Unknown"},zw=()=>Object.entries(Uw).map(([e,n])=>({id:n,name:Vw[e]})),Nm=({expenseOrder:e,onView:n,onEdit:r,onSubmit:s,onCancel:o,onApprove:i,onReject:l,onProcessPayment:d,showActions:u=!0,userRole:h="journalist"})=>{const[f,m]=Tt.useState(null),g=!!f,y=O=>{m(O.currentTarget)},b=()=>{m(null)},w=(O,k)=>new Intl.NumberFormat("en-US",{style:"currency",currency:k}).format(O),v=e.status===et.DRAFT,I=e.status===et.DRAFT,S=[et.DRAFT,et.SUBMITTED].includes(e.status),D=[et.SUBMITTED,et.UNDER_REVIEW].includes(e.status),T=[et.SUBMITTED,et.UNDER_REVIEW].includes(e.status),E=e.status===et.APPROVED,R=()=>{const O=[];return n&&O.push(t.jsxs(we,{onClick:()=>{n(e),b()},children:[t.jsx(ks,{sx:{mr:1},fontSize:"small"}),"View Details"]},"view")),h==="journalist"?(v&&r&&O.push(t.jsxs(we,{onClick:()=>{r(e),b()},children:[t.jsx(ms,{sx:{mr:1},fontSize:"small"}),"Edit"]},"edit")),I&&s&&O.push(t.jsxs(we,{onClick:()=>{s(e),b()},children:[t.jsx(xd,{sx:{mr:1},fontSize:"small"}),"Submit for Approval"]},"submit")),S&&o&&O.push(t.jsxs(we,{onClick:()=>{o(e),b()},sx:{color:"error.main"},children:[t.jsx(Rc,{sx:{mr:1},fontSize:"small"}),"Cancel"]},"cancel"))):(h==="admin"||h==="finance-manager")&&(D&&i&&O.push(t.jsx(we,{onClick:()=>{i(e),b()},sx:{color:"success.main"},children:"Approve"},"approve")),T&&l&&O.push(t.jsx(we,{onClick:()=>{l(e),b()},sx:{color:"error.main"},children:"Reject"},"reject")),E&&d&&O.push(t.jsx(we,{onClick:()=>{d(e),b()},sx:{color:"primary.main"},children:"Process Payment"},"process-payment"))),O};return t.jsxs(Om,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[t.jsxs(C,{sx:{flex:1},children:[t.jsx(j,{variant:"h6",component:"h3",sx:{mb:1,fontWeight:600},children:e.title}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:1},children:e.description}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:[e.channel.name,"  ",lW(e.type.id)]})]}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Mm,{status:e.status}),u&&t.jsx(Ne,{size:"small",onClick:y,children:t.jsx(Uf,{})})]})]}),t.jsx(Mt,{sx:{my:2}}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h5",component:"span",sx:{fontWeight:700,color:"primary.main"},children:w(e.amount,e.currency)}),e.receiptUrl&&t.jsx(jt,{title:"Receipt attached",children:t.jsx(Ks,{sx:{ml:1,color:"success.main"},fontSize:"small"})})]}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Mr(new Date(e.createdAt),{addSuffix:!0})})]}),e.notes&&t.jsx(C,{sx:{mt:2},children:t.jsxs(j,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:['"',e.notes,'"']})}),e.rejectionReason&&t.jsx(C,{sx:{mt:2,p:2,bgcolor:"error.lighter",borderRadius:1},children:t.jsxs(j,{variant:"body2",color:"error.main",sx:{fontWeight:500},children:["Rejection Reason: ",e.rejectionReason]})}),t.jsx(wo,{anchorEl:f,open:g,onClose:b,PaperProps:{sx:{minWidth:180}},children:R()})]})};function cW(e){const{children:n,value:r,index:s,...o}=e;return t.jsx("div",{role:"tabpanel",hidden:r!==s,id:`expense-order-tabpanel-${s}`,"aria-labelledby":`expense-order-tab-${s}`,...o,children:r===s&&t.jsx(C,{sx:{py:3},children:n})})}const dW=()=>{const e=Ct(),{api:n}=Ke(),[r,s]=x.useState(0),[o,i]=x.useState([]),[l,d]=x.useState(!0),{execute:u}=tt(),h=[{label:"All",status:void 0},{label:"Draft",status:et.DRAFT},{label:"Submitted",status:et.SUBMITTED},{label:"Approved",status:et.APPROVED},{label:"Paid",status:et.PAID},{label:"Rejected",status:et.REJECTED}],f=async I=>{d(!0);const S=await u(()=>n.app.expenseOrder.getMyExpenseOrders({page:1,limit:50},I),{showErrorToast:!0});S&&i(S.items),d(!1)};x.useEffect(()=>{f(h[r].status)},[r,u]);const m=(I,S)=>{s(S)},g=I=>{e(be.APP_EXPENSE_ORDER_VIEW.replace(":id",I.id))},y=I=>{e(be.STUDIO_EXPENSE_ORDER_EDIT.replace(":id",I.id))},b=async I=>{await u(()=>n.app.expenseOrder.submitExpenseOrder(I.id),{showSuccessMessage:!0,successMessage:"Expense order submitted successfully!"})&&f(h[r].status)},w=async I=>{await u(()=>n.app.expenseOrder.cancelExpenseOrder(I.id),{showSuccessMessage:!0,successMessage:"Expense order cancelled successfully!"})&&f(h[r].status)},v=()=>{e(be.STUDIO_EXPENSE_ORDER_CREATE)};return t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[t.jsx(j,{variant:"h4",component:"h1",sx:{fontWeight:600},children:"My Expense Orders"}),t.jsx(ue,{variant:"contained",startIcon:t.jsx(vo,{}),onClick:v,children:"Create New"})]}),t.jsx(C,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:t.jsx(_s,{value:r,onChange:m,"aria-label":"expense order status tabs",children:h.map((I,S)=>t.jsx(On,{label:I.label},S))})}),h.map((I,S)=>t.jsx(cW,{value:r,index:S,children:l?t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(sn,{})}):o.length===0?t.jsxs(C,{sx:{textAlign:"center",py:8},children:[t.jsx(j,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"No expense orders found"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:I.status?`No ${I.label.toLowerCase()} expense orders`:"You haven't created any expense orders yet"}),t.jsx(ue,{variant:"contained",startIcon:t.jsx(vo,{}),onClick:v,children:"Create Your First Expense Order"})]}):t.jsx(F,{container:!0,spacing:3,children:o.map(D=>t.jsx(F,{item:!0,xs:12,md:6,lg:4,children:t.jsx(Nm,{expenseOrder:D,onView:g,onEdit:y,onSubmit:b,onCancel:w,userRole:"journalist"})},D.id))})},S))]})},uW=()=>{const e=Ct(),{id:n}=ns(),{api:r}=Ke(),[s,o]=x.useState(null),[i,l]=x.useState(!0),[d,u]=x.useState(!1),[h,f]=x.useState(null),{execute:m}=tt(),g=async()=>{if(!n)return;l(!0),f(null);const E=await m(()=>r.app.expenseOrder.getExpenseOrder(n),{showErrorToast:!0});E&&o(E),l(!1)};x.useEffect(()=>{g()},[n]);const y=(E,R)=>new Intl.NumberFormat("en-US",{style:"currency",currency:R}).format(E),b=()=>{e(be.APP_EXPENSE_ORDERS)},w=()=>{s&&e(be.STUDIO_EXPENSE_ORDER_EDIT.replace(":id",s.id))},v=async()=>{if(!s)return;u(!0),await m(()=>r.app.expenseOrder.submitExpenseOrder(s.id),{showSuccessMessage:!0,successMessage:"Expense order submitted successfully!"})&&await g(),u(!1)},I=async()=>{if(!s)return;u(!0),await m(()=>r.app.expenseOrder.cancelExpenseOrder(s.id),{showSuccessMessage:!0,successMessage:"Expense order cancelled successfully!"})&&await g(),u(!1)};if(i)return t.jsx(C,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:t.jsx(sn,{})});if(h||!s)return t.jsxs(C,{sx:{p:3},children:[t.jsx(dt,{severity:"error",children:h||"Expense order not found"}),t.jsx(ue,{startIcon:t.jsx(As,{}),onClick:b,sx:{mt:2},children:"Back to Expense Orders"})]});const S=s.status===et.DRAFT,D=s.status===et.DRAFT,T=[et.DRAFT,et.SUBMITTED].includes(s.status);return t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(ue,{startIcon:t.jsx(As,{}),onClick:b,sx:{mr:2},children:"Back"}),t.jsx(j,{variant:"h4",component:"h1",sx:{fontWeight:600,flex:1},children:"Expense Order Details"}),t.jsx(Mm,{status:s.status})]}),h&&t.jsx(dt,{severity:"error",sx:{mb:3},children:h}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsxs(F,{item:!0,xs:12,md:8,children:[t.jsxs(ot,{sx:{p:3,mb:3},children:[t.jsx(j,{variant:"h5",sx:{mb:2,fontWeight:600},children:s.title}),t.jsx(j,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:s.description}),t.jsx(Mt,{sx:{my:3}}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Channel"}),t.jsx(j,{variant:"body1",sx:{fontWeight:500},children:s.channel.name})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Expense Type"}),t.jsx(j,{variant:"body1",sx:{fontWeight:500},children:s.type.name})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Amount"}),t.jsx(j,{variant:"h6",sx:{fontWeight:700,color:"primary.main"},children:y(s.amount,s.currency)})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(j,{variant:"body1",children:Np(new Date(s.createdAt),"PPP")})]})]}),s.receiptUrl&&t.jsxs(t.Fragment,{children:[t.jsx(Mt,{sx:{my:3}}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Receipt"}),t.jsxs(md,{href:s.receiptUrl,target:"_blank",rel:"noopener noreferrer",sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Ks,{fontSize:"small"}),"View Receipt"]})]})]}),s.notes&&t.jsxs(t.Fragment,{children:[t.jsx(Mt,{sx:{my:3}}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Notes"}),t.jsx(j,{variant:"body1",sx:{fontStyle:"italic"},children:s.notes})]})]})]}),t.jsxs(ot,{sx:{p:3},children:[t.jsx(j,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Actions"}),t.jsxs(C,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[S&&t.jsx(ue,{variant:"outlined",startIcon:t.jsx(ms,{}),onClick:w,disabled:d,children:"Edit"}),D&&t.jsx(ue,{variant:"contained",startIcon:t.jsx(xd,{}),onClick:v,disabled:d,children:"Submit for Approval"}),T&&t.jsx(ue,{variant:"outlined",color:"error",startIcon:t.jsx(Rs,{}),onClick:I,disabled:d,children:"Cancel"})]})]})]}),t.jsxs(F,{item:!0,xs:12,md:4,children:[t.jsxs(ot,{sx:{p:3,mb:3},children:[t.jsx(j,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Timeline"}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",gap:2},children:[t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:"Created"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Mr(new Date(s.createdAt),{addSuffix:!0})})]}),s.submittedAt&&t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:"Submitted"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Mr(new Date(s.submittedAt),{addSuffix:!0})})]}),s.approvedAt&&t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:s.status===et.APPROVED?"Approved":"Reviewed"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Mr(new Date(s.approvedAt),{addSuffix:!0})}),s.approver&&t.jsxs(j,{variant:"caption",display:"block",color:"text.secondary",children:["by ",s.approver.displayName]})]}),s.paidAt&&t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:"Paid"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Mr(new Date(s.paidAt),{addSuffix:!0})}),s.paymentReference&&t.jsxs(j,{variant:"caption",display:"block",color:"text.secondary",children:["Ref: ",s.paymentReference]})]})]})]}),s.rejectionReason&&t.jsxs(ot,{sx:{p:3,bgcolor:"error.lighter"},children:[t.jsx(j,{variant:"h6",sx:{mb:1,fontWeight:600,color:"error.main"},children:"Rejection Reason"}),t.jsx(j,{variant:"body2",color:"error.main",children:s.rejectionReason})]})]})]})]})},hW=Me(Fe)(({theme:e})=>({marginBottom:e.spacing(2),cursor:"pointer",transition:"all 0.2s ease","&:hover":{boxShadow:e.shadows[4],transform:"translateY(-1px)"}})),o0=Me(Qe)(({theme:e})=>({margin:e.spacing(.5),fontSize:"0.75rem"})),a0=()=>{var Q;const e=ea(),n=Ct(),[r,s]=x.useState(1),[o,i]=x.useState(""),[l,d]=x.useState(!0),[u,h]=x.useState([]),[f,m]=x.useState(null),[g,y]=x.useState(!1),[b,w]=x.useState(null),[v,I]=x.useState({type:"all",sortBy:"relevance"}),[S,D]=x.useState(null),{api:T}=Ke(),{execute:E}=tt(),R=20;x.useEffect(()=>{const z=new URLSearchParams(e.search),oe=z.get("q"),U=z.get("type");if(oe){i(oe);const ee={...v};U&&U!=="all"&&(ee.type=U,I(ee)),N(oe,ee)}},[e.search]),x.useEffect(()=>{o&&(s(1),k(1))},[v]);const O=()=>{k(r+1)},k=async(z=r)=>{if(o){y(!0),w(null);try{const oe={};Object.entries(v).forEach(([ee,Pe])=>{if(Pe!=null&&Pe!=="")if(ee==="type"&&typeof Pe=="string"){const pe=Uj[Pe];pe!==void 0&&(oe.type=pe)}else if(ee==="sortBy"&&typeof Pe=="string"){const pe=Vj[Pe];pe!==void 0&&(oe.sortBy=pe)}else oe[ee]=Pe});const U=await E(()=>T==null?void 0:T.app.search.search(o,oe,{page:z,limit:R}),{showErrorToast:!0});U&&(h(z===1?U.items??[]:ee=>[...ee,...U.items??[]]),s(U.metadata.currentPage??1),d(U.metadata.hasNext===!0),m(U))}catch(oe){console.error("Search error:",oe),w(oe.message||"Search failed")}finally{y(!1)}}},N=async(z,oe)=>{I(oe||v),i(z),s(1),h([]),d(!0),setTimeout(()=>{k(1)},0)},B=z=>{const oe={...v,...z};D(null),o&&N(o,oe)},K=(z,oe)=>{const U=encodeURIComponent(z);switch(oe){case"news":n(`${be.APP_NEWS}?tags=${U}`);break;case"channel":n(`${be.APP_CHANNELS}?tags=${U}`);break;case"poll":n(`${be.APP_POLLS}?tags=${U}`);break;default:n(`${be.APP_NEWS}?tags=${U}`);break}},$=z=>{var Pe,pe;const oe=()=>{switch(z.type){case"news":return t.jsx(Yo,{color:"primary"});case"channel":return t.jsx(Lf,{color:"secondary"});case"user":return t.jsx(Nf,{color:"action"});case"poll":return t.jsx($f,{color:"info"});case"tag":return t.jsx(Ff,{color:"success"});default:return t.jsx(Yo,{color:"primary"})}},U=()=>{switch(z.type){case"news":return"primary";case"channel":return"secondary";case"user":return"default";case"poll":return"info";case"tag":return"success";default:return"default"}},ee=()=>{switch(z.type){case"news":n(be.APP_NEWS_VIEW.replace(":id",z.id));break;case"channel":n(be.APP_CHANNEL_VIEW.replace(":channelId",z.id));break;case"poll":n(be.APP_POLL_VIEW.replace(":id",z.id));break;case"tag":n(`${be.APP_SEARCH}?q=${encodeURIComponent(z.title)}`);break}};return t.jsx(hW,{onClick:ee,children:t.jsx(We,{children:t.jsxs(C,{sx:{display:"flex",alignItems:"flex-start",gap:2},children:[t.jsx(C,{sx:{mt:.5},children:oe()}),t.jsxs(C,{sx:{flexGrow:1},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[t.jsx(j,{variant:"h6",component:"h3",sx:{fontWeight:600},children:z.title}),t.jsx(Qe,{label:z.type,size:"small",color:U(),variant:"outlined"})]}),z.description&&t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:1,lineHeight:1.6},children:z.description}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap",mb:1},children:[z.channel&&t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Sn,{sx:{width:20,height:20},children:(pe=(Pe=z==null?void 0:z.channel)==null?void 0:Pe.name)==null?void 0:pe.charAt(0)}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["in ",t.jsx("strong",{children:z.channel.name})," (@",z.channel.handle,")"]})]}),z.handle&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["@",z.handle]}),z.publishedAt&&t.jsx(j,{variant:"caption",color:"text.secondary",children:new Date(z.publishedAt).toLocaleDateString()}),z.startDate&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Start: ",new Date(z.startDate).toLocaleDateString()]}),z.endDate&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["End: ",new Date(z.endDate).toLocaleDateString()]}),z.voteCount!==void 0&&t.jsx(o0,{label:`${z.voteCount} votes`,size:"small",variant:"outlined",color:"info"}),z.usageCount!==void 0&&t.jsx(o0,{label:`${z.usageCount} uses`,size:"small",variant:"outlined",color:"success"})]}),z.tags&&z.tags.length>0&&t.jsx(C,{sx:{display:"flex",gap:.5,flexWrap:"wrap",mb:1},children:z.tags.slice(0,5).map((Re,ce)=>t.jsx(Qe,{label:Re,size:"small",variant:"outlined",onClick:re=>{re.stopPropagation(),K(Re,z.type)},sx:{fontSize:"0.7rem",cursor:"pointer","&:hover":{backgroundColor:"primary.main",color:"primary.contrastText"}}},ce))}),t.jsxs(C,{sx:{display:"flex",justifyContent:"flex-end",gap:1,pt:1},children:[t.jsx(jt,{title:"Bookmark",children:t.jsx(Ne,{size:"small",children:t.jsx(IR,{fontSize:"small"})})}),t.jsx(jt,{title:"Share",children:t.jsx(Ne,{size:"small",children:t.jsx(DR,{fontSize:"small"})})})]})]})]})})},z.id)},Y=()=>t.jsx(t.Fragment,{children:Array.from({length:5}).map((z,oe)=>t.jsxs(ot,{sx:{p:2,mb:2},children:[t.jsx(le,{variant:"text",width:"60%",height:32}),t.jsx(le,{variant:"text",width:"100%",height:20,sx:{mt:1}}),t.jsx(le,{variant:"text",width:"80%",height:20}),t.jsxs(C,{sx:{display:"flex",gap:1,mt:1},children:[t.jsx(le,{variant:"rounded",width:60,height:24}),t.jsx(le,{variant:"rounded",width:80,height:24})]})]},oe))}),J=!!S,G=z=>{D(z.currentTarget)},q=()=>{D(null)};return t.jsxs(It,{maxWidth:"lg",sx:{py:3},children:[(u.length>0||g)&&o&&t.jsxs(C,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h5",sx:{mb:1},children:"Search Results"}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Found ",(((Q=f==null?void 0:f.metadata)==null?void 0:Q.total)||0).toLocaleString(),' results for "',o,'"']}),(v.type!=="all"||v.sortBy!=="relevance")&&t.jsxs(me,{direction:"row",spacing:1,sx:{mt:2},children:[t.jsx(j,{variant:"caption",color:"text.secondary",children:"Active filters:"}),v.type!=="all"&&t.jsx(Qe,{label:`Type: ${v.type}`,size:"small",onDelete:()=>B({type:"all"})}),v.sortBy!=="relevance"&&t.jsx(Qe,{label:`Sort: ${v.sortBy}`,size:"small",onDelete:()=>B({sortBy:"relevance"})})]})]}),t.jsx(ue,{variant:"outlined",startIcon:t.jsx(Iv,{}),onClick:G,sx:{minWidth:120},children:"Filters"})]}),t.jsx(SR,{open:J,anchorEl:S,onClose:q,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:t.jsxs(ot,{sx:{p:3,minWidth:280},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[t.jsx(j,{variant:"h6",children:"Filters"}),t.jsx(Ne,{size:"small",onClick:q,children:t.jsx(CR,{fontSize:"small"})})]}),t.jsxs(ht,{fullWidth:!0,sx:{mb:2},children:[t.jsx(St,{children:"Content Type"}),t.jsxs(mt,{value:v.type||"all",label:"Content Type",onChange:z=>B({type:z.target.value}),children:[t.jsx(we,{value:"all",children:"All Content"}),t.jsx(we,{value:"news",children:"Articles"}),t.jsx(we,{value:"channels",children:"Channels"}),t.jsx(we,{value:"users",children:"Journalists"}),t.jsx(we,{value:"polls",children:"Polls"}),t.jsx(we,{value:"tags",children:"Tags"})]})]}),t.jsxs(ht,{fullWidth:!0,sx:{mb:2},children:[t.jsx(St,{children:"Sort By"}),t.jsxs(mt,{value:v.sortBy||"relevance",label:"Sort By",onChange:z=>B({sortBy:z.target.value}),children:[t.jsx(we,{value:"relevance",children:"Relevance"}),t.jsx(we,{value:"date",children:"Date"}),t.jsx(we,{value:"popularity",children:"Popularity"})]})]}),t.jsx(j,{variant:"subtitle2",sx:{mb:1},children:"Time Period"}),t.jsxs(PR,{value:v.dateFrom?"custom":"all",exclusive:!0,onChange:(z,oe)=>{if(oe==="all")B({dateFrom:void 0,dateTo:void 0});else if(oe){const U=new Date,Pe={day:1,week:7,month:30,year:365}[oe]||0,pe=new Date(U.getTime()-Pe*24*60*60*1e3);B({dateFrom:pe,dateTo:U})}},size:"small",sx:{mb:2,width:"100%"},children:[t.jsx(gh,{value:"all",sx:{flex:1},children:"All"}),t.jsx(gh,{value:"week",sx:{flex:1},children:"Week"}),t.jsx(gh,{value:"month",sx:{flex:1},children:"Month"})]})]})}),b&&t.jsx(dt,{severity:"error",sx:{mb:3},children:b}),g&&u.length===0&&Y(),u.length===0&&!g&&o?t.jsxs(ot,{sx:{p:4,textAlign:"center"},children:[t.jsx(j,{variant:"h6",color:"text.secondary",children:"No results found"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Try adjusting your search terms or filters"})]}):u.length>0?t.jsx(xs,{dataLength:u.length,next:O,hasMore:l,loader:t.jsx(C,{sx:{mt:2},children:Y()}),endMessage:t.jsx(C,{sx:{textAlign:"center",mt:4,color:"text.secondary",fontSize:"0.875rem"},children:"No more results to display"}),children:u.map($)}):null,!g&&!f&&!b&&t.jsxs(ot,{sx:{p:6,textAlign:"center"},children:[t.jsx(j,{variant:"h5",color:"text.secondary",sx:{mb:2},children:"Start your search"}),t.jsx(j,{variant:"body1",color:"text.secondary",children:"Search for articles, channels, journalists, polls, or tags to get started"})]})]})};var Lm={},fW=Xe;Object.defineProperty(Lm,"__esModule",{value:!0});var Hw=Lm.default=void 0,pW=fW(Je()),mW=t;Hw=Lm.default=(0,pW.default)((0,mW.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload");const bf=({label:e,value:n,onChange:r})=>{const s=async o=>{var i;(i=o.target.files)==null||i[0]};return t.jsx(C,{sx:{width:"100%",height:200,border:"2px dashed",borderColor:"divider",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden"},children:n?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:n,alt:"Cover",style:{width:"100%",height:"100%",objectFit:"cover"}}),t.jsx(ue,{onClick:()=>r(null),sx:{position:"absolute",bottom:8,right:8},children:"Remove"})]}):t.jsxs(ue,{component:"label",startIcon:t.jsx(Hw,{}),children:[e??"Upload Image",t.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:s})]})})};var $m={},xW=Xe;Object.defineProperty($m,"__esModule",{value:!0});var Gw=$m.default=void 0,gW=xW(Je()),bW=t;Gw=$m.default=(0,gW.default)((0,bW.jsx)("path",{d:"M14 2H6.01c-1.1 0-2 .89-2 2L4 20c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8zm-1 7V3.5L18.5 9zm1 5 2-1.06v4.12L14 16v1c0 .55-.45 1-1 1H9c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h4c.55 0 1 .45 1 1z"}),"VideoFile");var Fm={},yW=Xe;Object.defineProperty(Fm,"__esModule",{value:!0});var ra=Fm.default=void 0,vW=yW(Je()),jW=t;ra=Fm.default=(0,vW.default)((0,jW.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");const wW=({label:e,value:n,onChange:r})=>{const s=async i=>{var d;const l=(d=i.target.files)==null?void 0:d[0];if(l){if(l.size>52428800){alert("Video file size must be less than 50MB");return}const u=URL.createObjectURL(l);r(u)}},o=()=>{n&&URL.revokeObjectURL(n),r(null)};return t.jsx(C,{sx:{width:"100%",height:250,border:"2px dashed",borderColor:"divider",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",bgcolor:"background.paper"},children:n?t.jsxs(t.Fragment,{children:[t.jsx("video",{src:n,controls:!0,style:{width:"100%",height:"100%",objectFit:"cover"},preload:"metadata"}),t.jsx(ue,{onClick:o,startIcon:t.jsx(ra,{}),color:"error",variant:"contained",size:"small",sx:{position:"absolute",bottom:8,right:8,opacity:.9},children:"Remove"})]}):t.jsxs(C,{sx:{textAlign:"center",p:3},children:[t.jsxs(ue,{component:"label",startIcon:t.jsx(Gw,{}),variant:"outlined",size:"large",sx:{mb:2},children:[e??"Upload Video",t.jsx("input",{type:"file",hidden:!0,accept:"video/*",onChange:s})]}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Upload short videos (max 50MB)"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:"Supported formats: MP4, WebM, MOV"})]})})},Yw=({value:e,onChange:n,mediaTypeId:r,title:s="Media",description:o="Upload an image or video",useNewsFormats:i=!0})=>{const[l,d]=x.useState(0),u=i?Kc.IMAGE:gf.IMAGE,h=i?Kc.VIDEO:gf.VIDEO,f=y=>{n(y?{id:"0",url:y,type:r,format:u}:null)},m=y=>{n(y?{id:"0",url:y,type:r,format:h}:null)},g=(y,b)=>{d(b),e&&n(null)};return t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:s}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:o}),t.jsx(C,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:t.jsxs(_s,{value:l,onChange:g,children:[t.jsx(On,{label:"Image"}),t.jsx(On,{label:"Video"})]})}),l===0&&t.jsx(bf,{label:"Upload Image",value:(e==null?void 0:e.format)===u?e.url:null,onChange:f}),l===1&&t.jsx(wW,{label:"Upload Video",value:(e==null?void 0:e.format)===h?e.url:null,onChange:m})]})},qw=({initialData:e,onSubmit:n,submitButtonText:r,isEdit:s})=>{var T;const{profile:o,channelRelations:{hasChannel:i}}=ys(),l=Ct();x.useEffect(()=>{o&&(!o.staffChannels||o.staffChannels.length)},[o]);const[d,u]=x.useState(()=>({title:(e==null?void 0:e.title)||"",channelId:(e==null?void 0:e.channelId)||"",status:(e==null?void 0:e.status)||$n.PUBLISHED,requiredTierId:(e==null?void 0:e.requiredTierId)||null,isPremium:(e==null?void 0:e.isPremium)||!1,content:(e==null?void 0:e.content)||""})),[h,f]=x.useState(!1),[m,g]=x.useState(((T=e==null?void 0:e.media)==null?void 0:T[0])||null),[y,b]=x.useState((e==null?void 0:e.socialLinks)||[]),[w,v]=x.useState(null),I=[],S=async E=>{E.preventDefault(),f(!0),v(null);try{const R={...d,media:m?[m]:[],socialLinks:y};await n(R)}catch(R){console.error("Failed to submit news:",R),v("Failed to submit news")}finally{f(!1)}},D=x.useCallback(E=>{u(R=>({...R,content:JSON.stringify(E)}))},[]);return i()?t.jsx("form",{onSubmit:S,children:t.jsxs(me,{spacing:4,children:[w&&t.jsx(dt,{severity:"error",sx:{width:"100%"},children:w}),o&&!i()&&t.jsx(dt,{severity:"warning",action:t.jsx(ue,{color:"inherit",size:"small",onClick:()=>l(be.STUDIO_CHANNEL_CREATE),children:"Create Channel"}),children:"You need to create a channel before you can create news articles"}),i()?t.jsxs(t.Fragment,{children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{mb:3},children:"Media"}),t.jsx(me,{spacing:4,children:t.jsx(C,{children:t.jsx(Yw,{title:"Cover Media",description:"Upload an image or short video that will be displayed at the top of your news article and in previews.",value:m?{id:m.id||"0",url:m.url,type:m.type,format:m.format}:null,onChange:E=>g(E?{id:E.id,url:E.url,type:E.type,format:E.format,newsId:""}:null),mediaTypeId:fl.COVER})})})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{mb:3},children:"Basic Info"}),t.jsxs(me,{spacing:4,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Title"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Create a clear and engaging title for your news article. This will be the first thing readers see."}),t.jsx(nt,{value:d.title,onChange:E=>u(R=>({...R,title:E.target.value})),required:!0,fullWidth:!0,placeholder:"Enter news title"})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Channel"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Select the channel where this news will be published. Choose the most relevant channel for your content."}),t.jsx(ht,{fullWidth:!0,disabled:s,children:t.jsx(mt,{value:d.channelId,onChange:E=>u(R=>({...R,channelId:E.target.value})),required:!0,children:o==null?void 0:o.staffChannels.map(E=>t.jsx(we,{value:E.channelId,children:E.channel.name},E.id))})})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Content"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Write your news article using the editor below. You can add text, images, and other media elements."}),t.jsx(Nd,{data:d.content?JSON.parse(d.content):void 0,onChange:D,placeholder:"Start writing your news content...",borderColor:E=>E.palette.mode==="dark"?de(E.palette.common.white,.23):de(E.palette.common.black,.23)})]})]})]}),t.jsx(C,{children:t.jsx(mm,{links:y,onChange:b})}),t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{mb:3},children:"Publishing Options"}),t.jsxs(me,{spacing:4,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Premium Content"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Mark this content as premium to restrict access to specific subscribers."}),t.jsx(yo,{control:t.jsx($a,{checked:d.isPremium,onChange:E=>u(R=>({...R,isPremium:E.target.checked}))}),label:"Premium Content"})]}),d.isPremium&&t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Required Subscription Tier"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Select which subscription tier is required to access this content. Higher tiers will automatically have access to content from lower tiers."}),t.jsx(ht,{fullWidth:!0,children:t.jsx(mt,{value:d.requiredTierId||"",onChange:E=>u(R=>({...R,requiredTierId:E.target.value})),required:d.isPremium,children:I.map(E=>t.jsxs(we,{value:E.id,children:[E.name," - ",E.description]},E.id))})})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Status"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Set the visibility status of your news article."}),t.jsx(ht,{fullWidth:!0,children:t.jsxs(mt,{value:d.status,onChange:E=>{const R=Number(E.target.value);u(O=>({...O,status:R}))},children:[t.jsx(we,{value:$n.DRAFT,children:"Draft - Save for later"}),t.jsx(we,{value:$n.PUBLISHED,children:"Published - Visible to readers"}),t.jsx(we,{value:$n.PENDING_REVIEW,children:"Pending Review - Submit for approval"}),t.jsx(we,{value:$n.ARCHIVED,children:"Archived - No longer visible"})]})})]})]})]}),t.jsx(ue,{type:"submit",variant:"contained",disabled:h||!i(),sx:{py:1.5,textTransform:"none",fontWeight:600},children:h?"Submitting...":r})]}):null]})}):t.jsx(C,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",p:3},children:t.jsx(Zs,{title:"Channel Required",description:"You need to create a channel before you can start publishing news articles.",icon:t.jsx(hl,{sx:{fontSize:48}}),action:{label:"Create Channel",onClick:()=>l(be.STUDIO_CHANNEL_CREATE)}})})},SW=()=>{const{api:e}=Ke(),n=Ct(),{execute:r}=tt(),s=async o=>{const i=await r(()=>e==null?void 0:e.app.news.createNews(o),{showSuccessMessage:!0,successMessage:"News article created successfully!"});i&&n(be.APP_NEWS_VIEW.replace(":id",i.id))};return t.jsxs(C,{sx:{p:3,maxWidth:800},children:[t.jsx(j,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Create News"}),t.jsx(qw,{onSubmit:s,submitButtonText:"Create News",isCreate:!0})]})},CW=()=>{const{id:e}=ns(),n=Ct(),{api:r}=Ke(),[s,o]=x.useState(null),{execute:i}=tt(),{execute:l}=tt();x.useEffect(()=>{(async()=>{if(!e)return;const h=await i(()=>r==null?void 0:r.app.news.get(e),{showErrorToast:!0});h&&o(h)})()},[e,r==null?void 0:r.app.news,i]);const d=async u=>{e&&(await l(()=>r==null?void 0:r.app.news.update(e,u),{showSuccessMessage:!0,successMessage:"News article updated successfully!"}),n(`/news/${e}`))};return s?t.jsxs(It,{sx:{maxWidth:800,mx:"auto",p:3},children:[t.jsx(j,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Update News"}),t.jsx(qw,{initialData:s,onSubmit:d,submitButtonText:"Update News",isEdit:!0})]}):null},PW=()=>t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsx(le,{variant:"rectangular",width:"100%",height:300,sx:{borderRadius:2,mb:3}})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx(Fe,{children:t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[t.jsx(le,{variant:"text",width:"60%",height:40}),t.jsx(me,{direction:"row",spacing:1,children:[1,2,3].map(e=>t.jsx(le,{variant:"circular",width:40,height:40},e))})]}),t.jsx(le,{variant:"rectangular",width:"100%",height:300,sx:{mb:3,borderRadius:1}}),t.jsxs(me,{spacing:2,sx:{mb:3},children:[t.jsx(le,{variant:"text",width:"100%"}),t.jsx(le,{variant:"text",width:"95%"}),t.jsx(le,{variant:"text",width:"90%"}),t.jsx(le,{variant:"text",width:"85%"}),t.jsx(le,{variant:"text",width:"95%"})]}),t.jsx(le,{variant:"rectangular",width:"100%",height:80,sx:{mb:3,borderRadius:1}}),t.jsx(me,{direction:"row",spacing:1,children:[1,2,3,4].map(e=>t.jsx(le,{variant:"rounded",width:80,height:32},e))})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsx(le,{variant:"text",width:"50%",height:32,sx:{mb:2}}),t.jsx(me,{spacing:2,children:[1,2,3,4,5].map(e=>t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[t.jsx(le,{variant:"text",width:"40%"}),t.jsx(le,{variant:"text",width:"20%"})]}),t.jsx(le,{variant:"rectangular",width:"100%",height:8,sx:{borderRadius:1}})]},e))})]})})})]})}),IW=()=>{const{id:e}=ns(),{api:n}=Ke(),{execute:r}=tt(),[s,o]=x.useState(null),[i,l]=x.useState(!0);if(x.useEffect(()=>{(async()=>{if(e){l(!0);const f=await r(()=>n==null?void 0:n.app.news.get(e),{showErrorToast:!0});f&&o(f),l(!1)}})()},[e,r]),i)return t.jsx(PW,{});if(!s)return t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsx(j,{variant:"h4",children:"Entry not found"})});const d=s.media.find(h=>h.type===fl.COVER),u=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(h);return t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsxs(C,{sx:{height:300,width:"100%",position:"relative",mb:3,borderRadius:2,overflow:"hidden"},children:[t.jsx(C,{component:"img",src:(d==null?void 0:d.url)||_d,alt:s.title,sx:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"}}),t.jsxs(C,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(transparent, rgba(0,0,0,0.7))",p:3,color:"white"},children:[t.jsx(j,{variant:"h4",component:"h1",gutterBottom:!0,children:s.title}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsxs(C,{component:Xn,to:be.APP_CHANNEL_VIEW.replace(":channelId",s.channel.id),sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(255, 255, 255, 0.1)",color:"white",px:2,py:1,borderRadius:2,textDecoration:"none",transition:"all 0.2s ease-in-out",border:"1px solid rgba(255, 255, 255, 0.2)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.2)",transform:"translateY(-2px)"}},children:[t.jsx(pl,{sx:{mr:1}}),t.jsx(j,{variant:"subtitle2",children:s.channel.name})]}),t.jsxs(C,{sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(0, 0, 0, 0.3)",px:2,py:1,borderRadius:2,border:"1px solid rgba(255, 255, 255, 0.1)"},children:[t.jsx(ul,{sx:{mr:1,fontSize:"0.9rem"}}),t.jsx(j,{variant:"caption",children:s.creator.displayName})]})]}),t.jsx(j,{variant:"subtitle1",children:new Date(s.publishedAt).toLocaleDateString()})]})]})]})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx(Fe,{children:t.jsxs(C,{sx:{p:3},children:[t.jsx(Nd,{data:Sw(s.content),readOnly:!0,borderColor:h=>h.palette.mode==="dark"?de(h.palette.common.white,.1):de(h.palette.common.black,.1)}),t.jsx(C,{sx:{mt:2},children:s.tags.map(h=>t.jsx(Qe,{label:h.title,variant:"outlined",sx:{mr:1,mb:1}},h.id))})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(me,{spacing:3,children:[t.jsx(mm,{links:s.socialLinks}),s.qualityMetrics&&t.jsxs(ot,{elevation:0,sx:{p:2,bgcolor:"success.light",color:"success.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[t.jsx(bm,{fontSize:"large"}),t.jsxs(C,{children:[t.jsx(j,{variant:"overline",children:"Quality Score"}),t.jsxs(j,{variant:"h4",component:"div",children:[s.qualityMetrics.overallQualityScore.toFixed(1),"/10"]})]})]}),s.newsFund&&t.jsxs(ot,{elevation:0,sx:{p:2,bgcolor:"primary.light",color:"primary.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[t.jsx(kd,{fontSize:"large"}),t.jsxs(C,{children:[t.jsx(j,{variant:"overline",children:"News Fund"}),t.jsx(j,{variant:"h4",component:"div",children:u(s.newsFund.amount)})]})]})]})})]})})};var Bm={},DW=Xe;Object.defineProperty(Bm,"__esModule",{value:!0});var Fd=Bm.default=void 0,TW=DW(Je()),EW=t;Fd=Bm.default=(0,TW.default)((0,EW.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert");var Wm={},AW=Xe;Object.defineProperty(Wm,"__esModule",{value:!0});var ml=Wm.default=void 0,RW=AW(Je()),kW=t;ml=Wm.default=(0,RW.default)((0,kW.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");const Um=({open:e,onClose:n,onConfirm:r,title:s,content:o,confirmText:i="Confirm",cancelText:l="Cancel",confirmColor:d="primary"})=>t.jsxs(Kt,{open:e,onClose:n,PaperProps:{sx:{width:"100%",maxWidth:400,borderRadius:2}},children:[t.jsx(tn,{sx:{pb:1,fontWeight:600},children:s}),t.jsx(Xt,{children:t.jsx(TR,{sx:{color:"text.secondary",fontSize:"0.875rem"},children:o})}),t.jsxs(Jt,{sx:{px:3,pb:2},children:[t.jsx(ue,{onClick:n,variant:"outlined",color:"inherit",sx:{textTransform:"none",fontWeight:600,minWidth:100},children:l}),t.jsx(ue,{onClick:r,variant:"contained",color:d,autoFocus:!0,sx:{textTransform:"none",fontWeight:600,minWidth:100},children:i})]})]}),_W=({news:e,onRefresh:n})=>{var D,T,E;const[r,s]=x.useState(null),[o,i]=x.useState(!1),l=Ct(),{api:d}=Ke(),{execute:u}=tt(),h=cn(),f=R=>{R.stopPropagation(),s(R.currentTarget)},m=()=>{s(null)},g=()=>{l(be.APP_NEWS_VIEW.replace(":id",e.id)),m()},y=()=>{l(be.STUDIO_NEWS_EDIT.replace(":id",e.id)),m()},b=()=>{i(!0),m()},w=async()=>{await u(()=>d==null?void 0:d.app.news.delete(e.id),{showSuccessMessage:!0,successMessage:"News article deleted successfully"})&&n(),i(!1)},v=(D=e.media)==null?void 0:D.find(R=>R.type===fl.COVER),S=(()=>{const R=new Date;return new Date(e.publishedAt)>R?{label:"Scheduled",color:"warning"}:{label:"Published",color:"success"}})();return t.jsxs(Fe,{onClick:()=>l(be.STUDIO_NEWS_VIEW.replace(":id",e.id)),sx:{height:"100%",display:"flex",flexDirection:"column",position:"relative",cursor:"pointer",bgcolor:R=>de(R.palette.mode==="dark"?R.palette.common.white:R.palette.common.black,R.palette.mode==="dark"?.05:.03),transition:h.transitions.create(["background-color","box-shadow","transform"]),"&:hover":{bgcolor:R=>de(R.palette.mode==="dark"?R.palette.common.white:R.palette.common.black,R.palette.mode==="dark"?.08:.05),transform:"translateY(-2px)",boxShadow:R=>`0 4px 12px ${de(R.palette.primary.main,.1)}`}},children:[t.jsx(C,{sx:{height:{xs:120,sm:140},backgroundImage:`url(${(v==null?void 0:v.url)||_d})`,backgroundSize:"cover",backgroundPosition:"center",borderTopLeftRadius:1,borderTopRightRadius:1,position:"relative","&::after":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:R=>`linear-gradient(180deg, 
              ${de(R.palette.background.default,0)} 0%, 
              ${de(R.palette.background.default,.8)} 100%)`}},children:t.jsx(Ne,{onClick:f,sx:{position:"absolute",top:8,right:8,zIndex:1,color:"text.primary",bgcolor:R=>de(R.palette.background.paper,.8),backdropFilter:"blur(4px)","&:hover":{bgcolor:R=>de(R.palette.background.paper,.95)}},children:t.jsx(Fd,{fontSize:"small"})})}),t.jsx(We,{sx:{flexGrow:1,p:{xs:2,sm:2.5}},children:t.jsxs(me,{spacing:{xs:1.5,sm:2},children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:.5,fontSize:{xs:"1rem",sm:"1.125rem"},display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",lineHeight:1.3},children:e.title}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:1},children:[t.jsx(pl,{sx:{fontSize:"0.875rem",mr:.5,color:"text.secondary"}}),t.jsx(j,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem"},children:e.channel.name})]}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",fontSize:{xs:"0.875rem",sm:"0.875rem"},lineHeight:1.4},children:((T=e.content)==null?void 0:T.substring(0,100))+"..."})]}),t.jsxs(me,{direction:"row",spacing:1,flexWrap:"wrap",sx:{gap:1},children:[t.jsx(Qe,{size:"small",label:S.label,color:S.color,sx:{height:24,fontSize:"0.75rem","& .MuiChip-label":{px:1}}}),t.jsx(Qe,{size:"small",label:new Date(e.publishedAt).toLocaleDateString(),sx:{height:24,fontSize:"0.75rem",bgcolor:R=>de(R.palette.text.secondary,.1),color:"text.secondary","& .MuiChip-label":{px:1}}}),((E=e==null?void 0:e.tags)==null?void 0:E.length)>0&&t.jsx(Qe,{size:"small",label:`${e.tags.length} tags`,sx:{height:24,fontSize:"0.75rem",bgcolor:R=>de(R.palette.secondary.main,R.palette.mode==="dark"?.15:.08),color:"secondary.main","& .MuiChip-label":{px:1}}})]})]})}),t.jsxs(wo,{anchorEl:r,open:!!r,onClose:m,onClick:R=>R.stopPropagation(),PaperProps:{sx:{width:200,mt:1}},children:[t.jsxs(we,{onClick:g,children:[t.jsx(qt,{children:t.jsx(na,{fontSize:"small"})}),t.jsx(Wt,{primary:"View Article"})]}),t.jsxs(we,{onClick:y,children:[t.jsx(qt,{children:t.jsx(ml,{fontSize:"small"})}),t.jsx(Wt,{primary:"Edit Article"})]}),t.jsxs(we,{onClick:b,sx:{color:"error.main"},children:[t.jsx(qt,{sx:{color:"inherit"},children:t.jsx(ra,{fontSize:"small"})}),t.jsx(Wt,{primary:"Delete Article"})]})]}),t.jsx(Um,{open:o,title:"Delete News Article",content:"Are you sure you want to delete this news article? This action cannot be undone.",onConfirm:w,onClose:()=>i(!1),confirmText:"Delete",confirmColor:"error"})]})},OW=()=>{const[e,n]=x.useState([]),[r,s]=x.useState(1),[o,i]=x.useState(!0),[l,d]=x.useState(!0),{api:u}=Ke(),{profile:h}=ys(),f=Ct(),{execute:m}=tt(),g=cn(),y=()=>{b(r+1)},b=async(v=r)=>{if(!h)return;const I=await m(()=>u==null?void 0:u.app.news.getCreatorNews(h.id,{page:v,limit:12}),{showErrorToast:!0});I&&(n(S=>v===1?(I==null?void 0:I.items)??[]:[...S,...(I==null?void 0:I.items)??[]]),s((I==null?void 0:I.metadata.currentPage)??1),i((I==null?void 0:I.metadata.hasNext)===!0)),d(!1)};x.useEffect(()=>{h&&b(1)},[h]);const w=()=>t.jsxs(C,{sx:{p:2,borderRadius:1,bgcolor:v=>de(v.palette.mode==="dark"?v.palette.common.white:v.palette.common.black,v.palette.mode==="dark"?.05:.03),height:{xs:280,sm:320},transition:g.transitions.create(["background-color","height"])},children:[t.jsx(le,{variant:"rectangular",sx:{borderRadius:1,height:{xs:120,sm:140},mb:2}}),t.jsxs(C,{sx:{p:1},children:[t.jsx(le,{width:"90%",height:24,sx:{mb:1}}),t.jsx(le,{width:"60%",height:16,sx:{mb:1}}),t.jsx(le,{width:"95%",height:20,sx:{mb:1}}),t.jsx(le,{width:"80%",height:20,sx:{mb:2}}),t.jsxs(C,{sx:{display:"flex",gap:1},children:[t.jsx(le,{width:"25%",height:24}),t.jsx(le,{width:"30%",height:24}),t.jsx(le,{width:"20%",height:24})]})]})]});return t.jsxs(C,{sx:{px:{xs:2,sm:3,md:4},py:{xs:2,sm:3},maxWidth:"lg",mx:"auto",width:"100%"},children:[t.jsx(C,{sx:{mb:{xs:2,sm:3}},children:t.jsx(j,{variant:"h5",sx:{fontWeight:600,fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:l?t.jsx(le,{width:150}):"My News"})}),l?t.jsx(F,{container:!0,spacing:2,children:[1,2,3,4].map(v=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(w,{})},v))}):e.length===0?t.jsx(Zs,{title:"No News Yet",description:"Start creating your first news article to share with your subscribers.",icon:t.jsx(qp,{sx:{fontSize:{xs:40,sm:48}}}),action:{label:"Create News",onClick:()=>f(be.STUDIO_NEWS_CREATE)}}):t.jsx(xs,{dataLength:e.length,next:y,hasMore:o,loader:t.jsx(F,{container:!0,spacing:2,sx:{mt:.5},children:[1,2,3].map(v=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(w,{})},v))}),children:t.jsx(F,{container:!0,spacing:2,children:e.map(v=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(_W,{news:v,onRefresh:()=>b(1)})},v.id))})})]})},MW=({channel:e,onRefresh:n})=>{var y;const r=Ct(),{api:s}=Ke(),{execute:o}=tt(),[i,l]=x.useState(null),[d,u]=x.useState(!1),h=cn(),f=b=>{b.stopPropagation(),l(b.currentTarget)},m=()=>{l(null)},g=async()=>{await o(()=>s==null?void 0:s.app.channel.deleteChannel(e.id),{showSuccessMessage:!0,successMessage:"Channel deleted successfully"})&&n(),u(!1)};return t.jsxs(t.Fragment,{children:[t.jsxs(Fe,{onClick:()=>r(be.STUDIO_CHANNEL_EDIT.replace(":channelId",e.id)),sx:{height:"100%",display:"flex",flexDirection:"column",position:"relative",cursor:"pointer",transition:h.transitions.create(["box-shadow","transform"],{duration:h.transitions.duration.shorter}),"&:hover":{transform:"translateY(-2px)",boxShadow:b=>`0 4px 12px ${de(b.palette.primary.main,.1)}`}},children:[t.jsx(C,{sx:{height:{xs:100,sm:120},backgroundImage:`url(${(e==null?void 0:e.bannerUrl)||"https://via.placeholder.com/600x400"})`,backgroundSize:"cover",backgroundPosition:"center",borderTopLeftRadius:1,borderTopRightRadius:1,position:"relative","&::after":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:b=>`linear-gradient(180deg, 
                ${de(b.palette.background.default,0)} 0%, 
                ${de(b.palette.background.default,.8)} 100%)`}},children:t.jsx(Ne,{onClick:f,sx:{position:"absolute",top:8,right:8,zIndex:1,color:"text.primary",bgcolor:b=>de(b.palette.background.paper,.8),backdropFilter:"blur(4px)","&:hover":{bgcolor:b=>de(b.palette.background.paper,.95)}},children:t.jsx(Fd,{fontSize:"small"})})}),t.jsx(We,{sx:{flexGrow:1,p:{xs:2,sm:2.5}},children:t.jsxs(me,{spacing:{xs:1.5,sm:2},children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:.5,fontSize:{xs:"1rem",sm:"1.125rem"}},children:e.name}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",fontSize:{xs:"0.875rem",sm:"0.875rem"},lineHeight:1.5},children:e.description})]}),t.jsxs(me,{direction:"row",spacing:1,flexWrap:"wrap",sx:{gap:1},children:[t.jsx(Qe,{size:"small",label:`${(y=e==null?void 0:e.stats)==null?void 0:y.activeSubscriptionCount} subscribers`,sx:{height:24,fontSize:"0.75rem",bgcolor:b=>de(b.palette.primary.main,b.palette.mode==="dark"?.15:.08),color:"primary.main","& .MuiChip-label":{px:1}}}),t.jsx(Qe,{size:"small",label:"10 news",sx:{height:24,fontSize:"0.75rem",bgcolor:b=>de(b.palette.secondary.main,b.palette.mode==="dark"?.15:.08),color:"secondary.main","& .MuiChip-label":{px:1}}})]})]})})]}),t.jsxs(wo,{anchorEl:i,open:!!i,onClose:m,onClick:b=>b.stopPropagation(),PaperProps:{sx:{width:200,mt:1}},children:[t.jsxs(we,{onClick:()=>{r(be.STUDIO_CHANNEL_EDIT.replace(":channelId",e.id)),m()},children:[t.jsx(qt,{children:t.jsx(ml,{fontSize:"small"})}),t.jsx(Wt,{primary:"Edit Channel"})]}),t.jsxs(we,{onClick:()=>{r(be.APP_CHANNEL_VIEW.replace(":channelId",e.id)),m()},children:[t.jsx(qt,{children:t.jsx(na,{fontSize:"small"})}),t.jsx(Wt,{primary:"View Public Page"})]}),t.jsxs(we,{onClick:()=>{u(!0),m()},sx:{color:"error.main"},children:[t.jsx(qt,{sx:{color:"inherit"},children:t.jsx(ra,{fontSize:"small"})}),t.jsx(Wt,{primary:"Delete Channel"})]})]}),t.jsx(Um,{open:d,onClose:()=>u(!1),onConfirm:g,title:"Delete Channel",content:"Are you sure you want to delete this channel? This action cannot be undone.",confirmText:"Delete",confirmColor:"error"})]})},NW=()=>{const[e,n]=x.useState([]),[r,s]=x.useState(1),[o,i]=x.useState(!0),[l,d]=x.useState(!0),{api:u}=Ke(),h=Ct(),f=cn(),{execute:m}=tt(),g=()=>{y(r+1)},y=async(w=r)=>{const v=await m(()=>u==null?void 0:u.studio.getMyChannels(),{showErrorToast:!0});v&&(n(I=>w===1?(v==null?void 0:v.items)??[]:[...I,...(v==null?void 0:v.items)??[]]),s((v==null?void 0:v.metadata.currentPage)??1),i((v==null?void 0:v.metadata.hasNext)===!0)),d(!1)};x.useEffect(()=>{y(1)},[]);const b=()=>t.jsxs(C,{sx:{p:2,borderRadius:1,bgcolor:w=>de(w.palette.mode==="dark"?w.palette.common.white:w.palette.common.black,w.palette.mode==="dark"?.05:.03),height:{xs:180,sm:200},transition:f.transitions.create(["background-color","height"])},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[t.jsx(le,{variant:"circular",width:32,height:32,sx:{mr:1.5}}),t.jsxs(C,{sx:{width:"100%"},children:[t.jsx(le,{width:"60%",height:20}),t.jsx(le,{width:"40%",height:16})]})]}),t.jsx(le,{variant:"rectangular",sx:{borderRadius:1,height:{xs:70,sm:80}}}),t.jsx(C,{sx:{mt:1.5},children:t.jsx(le,{width:"30%",height:20})})]});return t.jsxs(C,{sx:{px:{xs:2,sm:3,md:4},py:{xs:2,sm:3},maxWidth:"lg",mx:"auto",width:"100%"},children:[t.jsx(C,{sx:{mb:{xs:2,sm:3}},children:t.jsx(j,{variant:"h5",sx:{fontWeight:600,fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:l?t.jsx(le,{width:150}):"My Channels"})}),l?t.jsx(F,{container:!0,spacing:2,children:[1,2].map(w=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(b,{})},w))}):e.length===0?t.jsx(Zs,{title:"No Channels Yet",description:"Create your first channel to start publishing news and connecting with subscribers.",icon:t.jsx(hl,{sx:{fontSize:{xs:40,sm:48}}}),action:{label:"Create Channel",onClick:()=>h(be.STUDIO_CHANNEL_CREATE)}}):t.jsx(xs,{dataLength:e.length,next:g,hasMore:o,loader:t.jsx(F,{container:!0,spacing:2,sx:{mt:.5},children:[1,2].map(w=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(b,{})},w))}),children:t.jsx(F,{container:!0,spacing:2,children:e.map(w=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(MW,{channel:w,onRefresh:()=>y(1)})},w.id))})})]})},pc={ACTIVE:1,INACTIVE:2,PRIVATE:3,SUSPENDED:4,DELETED:5},qn={USD:{code:"USD",decimals:2,symbol:"$",name:"US Dollar"},EUR:{code:"EUR",decimals:2,symbol:"",name:"Euro"},GBP:{code:"GBP",decimals:2,symbol:"",name:"British Pound"},JPY:{code:"JPY",decimals:0,symbol:"",name:"Japanese Yen"},CAD:{code:"CAD",decimals:2,symbol:"C$",name:"Canadian Dollar"},AUD:{code:"AUD",decimals:2,symbol:"A$",name:"Australian Dollar"},CHF:{code:"CHF",decimals:2,symbol:"CHF",name:"Swiss Franc"},CNY:{code:"CNY",decimals:2,symbol:"",name:"Chinese Yuan"},INR:{code:"INR",decimals:2,symbol:"",name:"Indian Rupee"},BRL:{code:"BRL",decimals:2,symbol:"R$",name:"Brazilian Real"},KRW:{code:"KRW",decimals:0,symbol:"",name:"South Korean Won"},SEK:{code:"SEK",decimals:2,symbol:"kr",name:"Swedish Krona"},NOK:{code:"NOK",decimals:2,symbol:"kr",name:"Norwegian Krone"},DKK:{code:"DKK",decimals:2,symbol:"kr",name:"Danish Krone"},PLN:{code:"PLN",decimals:2,symbol:"z",name:"Polish Zoty"},TRY:{code:"TRY",decimals:2,symbol:"",name:"Turkish Lira"},RUB:{code:"RUB",decimals:2,symbol:"",name:"Russian Ruble"},MXN:{code:"MXN",decimals:2,symbol:"$",name:"Mexican Peso"},SGD:{code:"SGD",decimals:2,symbol:"S$",name:"Singapore Dollar"},HKD:{code:"HKD",decimals:2,symbol:"HK$",name:"Hong Kong Dollar"},NZD:{code:"NZD",decimals:2,symbol:"NZ$",name:"New Zealand Dollar"},ZAR:{code:"ZAR",decimals:2,symbol:"R",name:"South African Rand"},AED:{code:"AED",decimals:2,symbol:".",name:"UAE Dirham"},SAR:{code:"SAR",decimals:2,symbol:".",name:"Saudi Riyal"},ILS:{code:"ILS",decimals:2,symbol:"",name:"Israeli Shekel"},THB:{code:"THB",decimals:2,symbol:"",name:"Thai Baht"},MYR:{code:"MYR",decimals:2,symbol:"RM",name:"Malaysian Ringgit"},IDR:{code:"IDR",decimals:2,symbol:"Rp",name:"Indonesian Rupiah"},PHP:{code:"PHP",decimals:2,symbol:"",name:"Philippine Peso"},VND:{code:"VND",decimals:0,symbol:"",name:"Vietnamese Dong"},EGP:{code:"EGP",decimals:2,symbol:"E",name:"Egyptian Pound"},NGN:{code:"NGN",decimals:2,symbol:"",name:"Nigerian Naira"},KES:{code:"KES",decimals:2,symbol:"KSh",name:"Kenyan Shilling"},GHS:{code:"GHS",decimals:2,symbol:"",name:"Ghanaian Cedi"},MAD:{code:"MAD",decimals:2,symbol:"..",name:"Moroccan Dirham"},TND:{code:"TND",decimals:3,symbol:".",name:"Tunisian Dinar"},JOD:{code:"JOD",decimals:3,symbol:".",name:"Jordanian Dinar"},KWD:{code:"KWD",decimals:3,symbol:".",name:"Kuwaiti Dinar"},BHD:{code:"BHD",decimals:3,symbol:".",name:"Bahraini Dinar"},OMR:{code:"OMR",decimals:3,symbol:"..",name:"Omani Rial"},QAR:{code:"QAR",decimals:2,symbol:".",name:"Qatari Riyal"},LBP:{code:"LBP",decimals:2,symbol:".",name:"Lebanese Pound"},IRR:{code:"IRR",decimals:2,symbol:"",name:"Iranian Rial"},PKR:{code:"PKR",decimals:2,symbol:"",name:"Pakistani Rupee"},BDT:{code:"BDT",decimals:2,symbol:"",name:"Bangladeshi Taka"},LKR:{code:"LKR",decimals:2,symbol:"",name:"Sri Lankan Rupee"},NPR:{code:"NPR",decimals:2,symbol:"",name:"Nepalese Rupee"},AFN:{code:"AFN",decimals:2,symbol:"",name:"Afghan Afghani"},UZS:{code:"UZS",decimals:2,symbol:"",name:"Uzbekistani Som"},KZT:{code:"KZT",decimals:2,symbol:"",name:"Kazakhstani Tenge"},GEL:{code:"GEL",decimals:2,symbol:"",name:"Georgian Lari"},AMD:{code:"AMD",decimals:2,symbol:"",name:"Armenian Dram"},AZN:{code:"AZN",decimals:2,symbol:"",name:"Azerbaijani Manat"},BGN:{code:"BGN",decimals:2,symbol:"",name:"Bulgarian Lev"},HRK:{code:"HRK",decimals:2,symbol:"kn",name:"Croatian Kuna"},CZK:{code:"CZK",decimals:2,symbol:"K",name:"Czech Koruna"},HUF:{code:"HUF",decimals:2,symbol:"Ft",name:"Hungarian Forint"},RON:{code:"RON",decimals:2,symbol:"lei",name:"Romanian Leu"},RSD:{code:"RSD",decimals:2,symbol:".",name:"Serbian Dinar"},UAH:{code:"UAH",decimals:2,symbol:"",name:"Ukrainian Hryvnia"},BYN:{code:"BYN",decimals:2,symbol:"Br",name:"Belarusian Ruble"},MDL:{code:"MDL",decimals:2,symbol:"lei",name:"Moldovan Leu"},ALL:{code:"ALL",decimals:2,symbol:"L",name:"Albanian Lek"},MKD:{code:"MKD",decimals:2,symbol:"",name:"Macedonian Denar"},BAM:{code:"BAM",decimals:2,symbol:"KM",name:"Bosnia-Herzegovina Convertible Mark"},ISK:{code:"ISK",decimals:0,symbol:"kr",name:"Icelandic Krna"},CLP:{code:"CLP",decimals:0,symbol:"$",name:"Chilean Peso"},COP:{code:"COP",decimals:2,symbol:"$",name:"Colombian Peso"},PEN:{code:"PEN",decimals:2,symbol:"S/",name:"Peruvian Sol"},UYU:{code:"UYU",decimals:2,symbol:"$U",name:"Uruguayan Peso"},ARS:{code:"ARS",decimals:2,symbol:"$",name:"Argentine Peso"},BOB:{code:"BOB",decimals:2,symbol:"Bs",name:"Bolivian Boliviano"},PYG:{code:"PYG",decimals:0,symbol:"",name:"Paraguayan Guaran"},VES:{code:"VES",decimals:2,symbol:"Bs.S",name:"Venezuelan Bolvar Soberano"},GYD:{code:"GYD",decimals:2,symbol:"$",name:"Guyanese Dollar"},SRD:{code:"SRD",decimals:2,symbol:"$",name:"Surinamese Dollar"},TTD:{code:"TTD",decimals:2,symbol:"TT$",name:"Trinidad and Tobago Dollar"},JMD:{code:"JMD",decimals:2,symbol:"J$",name:"Jamaican Dollar"},BBD:{code:"BBD",decimals:2,symbol:"$",name:"Barbadian Dollar"},BSD:{code:"BSD",decimals:2,symbol:"$",name:"Bahamian Dollar"},BZD:{code:"BZD",decimals:2,symbol:"BZ$",name:"Belize Dollar"},GTQ:{code:"GTQ",decimals:2,symbol:"Q",name:"Guatemalan Quetzal"},HNL:{code:"HNL",decimals:2,symbol:"L",name:"Honduran Lempira"},NIO:{code:"NIO",decimals:2,symbol:"C$",name:"Nicaraguan Crdoba"},CRC:{code:"CRC",decimals:2,symbol:"",name:"Costa Rican Coln"},PAB:{code:"PAB",decimals:2,symbol:"B/.",name:"Panamanian Balboa"},DOP:{code:"DOP",decimals:2,symbol:"RD$",name:"Dominican Peso"},HTG:{code:"HTG",decimals:2,symbol:"G",name:"Haitian Gourde"},CUP:{code:"CUP",decimals:2,symbol:"",name:"Cuban Peso"},XCD:{code:"XCD",decimals:2,symbol:"$",name:"East Caribbean Dollar"},AWG:{code:"AWG",decimals:2,symbol:"",name:"Aruban Florin"},ANG:{code:"ANG",decimals:2,symbol:"",name:"Netherlands Antillean Guilder"},SVC:{code:"SVC",decimals:2,symbol:"$",name:"Salvadoran Coln"},FJD:{code:"FJD",decimals:2,symbol:"$",name:"Fijian Dollar"},PGK:{code:"PGK",decimals:2,symbol:"K",name:"Papua New Guinean Kina"},SBD:{code:"SBD",decimals:2,symbol:"$",name:"Solomon Islands Dollar"},VUV:{code:"VUV",decimals:0,symbol:"Vt",name:"Vanuatu Vatu"},WST:{code:"WST",decimals:2,symbol:"T",name:"Samoan Tl"},TOP:{code:"TOP",decimals:2,symbol:"T$",name:"Tongan Paanga"},XPF:{code:"XPF",decimals:0,symbol:"",name:"CFP Franc"},XOF:{code:"XOF",decimals:0,symbol:"CFA",name:"West African CFA Franc"},XAF:{code:"XAF",decimals:0,symbol:"FCFA",name:"Central African CFA Franc"},KMF:{code:"KMF",decimals:0,symbol:"CF",name:"Comorian Franc"},DJF:{code:"DJF",decimals:0,symbol:"Fdj",name:"Djiboutian Franc"},ETB:{code:"ETB",decimals:2,symbol:"Br",name:"Ethiopian Birr"},ERN:{code:"ERN",decimals:2,symbol:"Nfk",name:"Eritrean Nakfa"},SOS:{code:"SOS",decimals:2,symbol:"S",name:"Somali Shilling"},UGX:{code:"UGX",decimals:0,symbol:"USh",name:"Ugandan Shilling"},TZS:{code:"TZS",decimals:2,symbol:"TSh",name:"Tanzanian Shilling"},RWF:{code:"RWF",decimals:0,symbol:"R",name:"Rwandan Franc"},BIF:{code:"BIF",decimals:0,symbol:"FBu",name:"Burundian Franc"},MWK:{code:"MWK",decimals:2,symbol:"MK",name:"Malawian Kwacha"},ZMW:{code:"ZMW",decimals:2,symbol:"ZK",name:"Zambian Kwacha"},BWP:{code:"BWP",decimals:2,symbol:"P",name:"Botswanan Pula"},NAD:{code:"NAD",decimals:2,symbol:"$",name:"Namibian Dollar"},SZL:{code:"SZL",decimals:2,symbol:"E",name:"Swazi Lilangeni"},LSL:{code:"LSL",decimals:2,symbol:"M",name:"Lesotho Loti"},MZN:{code:"MZN",decimals:2,symbol:"MT",name:"Mozambican Metical"},MGA:{code:"MGA",decimals:2,symbol:"Ar",name:"Malagasy Ariary"},MUR:{code:"MUR",decimals:2,symbol:"",name:"Mauritian Rupee"},SCR:{code:"SCR",decimals:2,symbol:"",name:"Seychellois Rupee"},CVE:{code:"CVE",decimals:2,symbol:"$",name:"Cape Verdean Escudo"},GMD:{code:"GMD",decimals:2,symbol:"D",name:"Gambian Dalasi"},GNF:{code:"GNF",decimals:0,symbol:"FG",name:"Guinean Franc"},LRD:{code:"LRD",decimals:2,symbol:"$",name:"Liberian Dollar"},SLL:{code:"SLL",decimals:2,symbol:"Le",name:"Sierra Leonean Leone"},STN:{code:"STN",decimals:2,symbol:"Db",name:"So Tom and Prncipe Dobra"},AOA:{code:"AOA",decimals:2,symbol:"Kz",name:"Angolan Kwanza"},CDF:{code:"CDF",decimals:2,symbol:"FC",name:"Congolese Franc"},XDR:{code:"XDR",decimals:5,symbol:"SDR",name:"Special Drawing Rights"}};function LW(){return Object.values(qn)}const $W=[qn.USD,qn.EUR,qn.GBP,qn.JPY,qn.CAD,qn.AUD,qn.CHF,qn.CNY],i0=[...$W,qn.INR,qn.BRL,qn.KRW,qn.MXN,qn.SGD,qn.HKD,qn.NZD,qn.ZAR],Kw=({initialData:e,onSubmit:n,submitButtonText:r})=>{const[s,o]=x.useState(!1),[i,l]=x.useState(()=>({name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",handle:(e==null?void 0:e.handle)||"",status:(e==null?void 0:e.status)||pc.ACTIVE,logoUrl:(e==null?void 0:e.logoUrl)||"",bannerUrl:(e==null?void 0:e.bannerUrl)||"",tags:(e==null?void 0:e.tags)||[],defaultCurrency:(e==null?void 0:e.defaultCurrency)||"USD"})),[d,u]=x.useState((e==null?void 0:e.logoUrl)||void 0),[h,f]=x.useState((e==null?void 0:e.bannerUrl)||void 0),m=async g=>{g.preventDefault(),o(!0);try{await n({...i,logoUrl:d||"",bannerUrl:h||"",tags:[],defaultCurrency:i.defaultCurrency})}catch(y){console.error("Failed to submit channel:",y)}finally{o(!1)}};return t.jsx("form",{onSubmit:m,children:t.jsxs(me,{spacing:4,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{mb:3},children:"Branding"}),t.jsxs(me,{spacing:4,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Channel Logo"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"This image will appear next to your channel's content. Use a square image for best results."}),t.jsx(bf,{label:"Upload Channel Logo",value:d,onChange:u})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Channel Banner"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"This image appears at the top of your channel page. Recommended size: 2048 x 1152 pixels."}),t.jsx(bf,{label:"Upload Channel Banner",value:h,onChange:f})]})]})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{mb:3},children:"Basic Info"}),t.jsxs(me,{spacing:4,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Channel Name"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Choose a name that represents your channel. You can change this later."}),t.jsx(nt,{value:i.name,onChange:g=>l(y=>({...y,name:g.target.value})),required:!0,fullWidth:!0,placeholder:"Enter channel name"})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Channel Handle"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"This is the unique identifier for your channel. It will be used in the URL of your channel page."}),t.jsx(nt,{value:i.handle,onChange:g=>l(y=>({...y,handle:g.target.value})),required:!0,fullWidth:!0,placeholder:"Enter channel handle"})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Description"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Tell viewers about your channel. This appears in search results and your channel page."}),t.jsx(nt,{value:i.description,onChange:g=>l(y=>({...y,description:g.target.value})),multiline:!0,rows:4,fullWidth:!0,placeholder:"Tell your story..."})]})]})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{mb:3},children:"Channel Settings"}),t.jsxs(me,{spacing:4,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Default Currency"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Choose your channel's currency. All tiers, subscriptions, and transactions will use this currency. This cannot be changed later."}),t.jsx(ht,{fullWidth:!0,children:t.jsxs(mt,{value:i.defaultCurrency,onChange:g=>{l(y=>({...y,defaultCurrency:g.target.value}))},disabled:!!e,children:[i0.map(g=>t.jsxs(we,{value:g.code,children:[g.symbol," ",g.code," - ",g.name]},g.code)),t.jsx(we,{disabled:!0,children:""}),LW().filter(g=>!i0.find(y=>y.code===g.code)).map(g=>t.jsxs(we,{value:g.code,children:[g.symbol," ",g.code," - ",g.name]},g.code))]})})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Channel Visibility"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Control who can see and access your channel's content."}),t.jsx(ht,{fullWidth:!0,children:t.jsxs(mt,{value:i.status,onChange:g=>{const y=Number(g.target.value);l(b=>({...b,status:y}))},children:[t.jsx(we,{value:pc.ACTIVE,children:"Public - Channel is visible to everyone"}),t.jsx(we,{value:pc.PRIVATE,children:"Private - Only invited members can access"}),t.jsx(we,{value:pc.INACTIVE,children:"Hidden - Channel is temporarily hidden from public view"})]})})]})]})]}),t.jsx(ue,{type:"submit",variant:"contained",disabled:s,sx:{py:1.5,textTransform:"none",fontWeight:600},children:s?"Submitting...":r})]})})},FW=()=>{const{api:e}=Ke(),n=Ct(),{execute:r}=tt(),{actions:{refreshProfile:s}}=ys(),o=async i=>{if(!i)return;await r(()=>e==null?void 0:e.studio.createChannel(i),{showSuccessMessage:!0,successMessage:"Channel created successfully!"})&&(await s(),n(`${be.STUDIO_CHANNELS}`))};return t.jsxs(It,{sx:{maxWidth:800,mx:"auto",p:3},children:[t.jsx(j,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Create Channel"}),t.jsx(Kw,{onSubmit:o,submitButtonText:"Create Channel"})]})},BW=()=>t.jsxs(It,{maxWidth:"md",sx:{mt:4,textAlign:"center"},children:[t.jsx(j,{variant:"h3",gutterBottom:!0,children:"404 - Page Not Found"}),t.jsx(j,{variant:"h6",gutterBottom:!0,children:"The page you are looking for does not exist."}),t.jsx(C,{sx:{mt:4},children:t.jsx(ue,{variant:"contained",color:"primary",component:Xn,to:"/",children:"Go to Home"})})]}),Xw=({expenseOrder:e,channels:n,expenseTypes:r,onSave:s,onSubmit:o,loading:i=!1,isEdit:l=!1})=>{const[d,u]=x.useState({channelId:(e==null?void 0:e.channel.id)||"",typeId:(e==null?void 0:e.type.id)||0,title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",amount:(e==null?void 0:e.amount)||0,currency:(e==null?void 0:e.currency)||"USD",receiptUrl:(e==null?void 0:e.receiptUrl)||"",notes:(e==null?void 0:e.notes)||""}),[h,f]=x.useState({}),[m,g]=x.useState(!1),y=()=>{const S={};return d.channelId||(S.channelId="Channel is required"),d.typeId||(S.typeId="Expense type is required"),d.title.trim()||(S.title="Title is required"),d.description.trim()||(S.description="Description is required"),d.amount<=0&&(S.amount="Amount must be greater than 0"),d.currency.trim()||(S.currency="Currency is required"),f(S),Object.keys(S).length===0},b=(S,D)=>{u(T=>({...T,[S]:D})),h[S]&&f(T=>({...T,[S]:""}))},w=async()=>{if(y())try{if(l){const S={title:d.title,description:d.description,amount:d.amount,currency:d.currency,typeId:Number(d.typeId),receiptUrl:d.receiptUrl,notes:d.notes};await s(S)}else{const S={channelId:d.channelId,typeId:Number(d.typeId),title:d.title,description:d.description,amount:d.amount,currency:d.currency,receiptUrl:d.receiptUrl,notes:d.notes};await s(S)}}catch(S){console.error("Error saving expense order:",S)}},v=async()=>{if(!(!e||!o)){g(!0);try{await o(e)}catch(S){console.error("Error submitting expense order:",S)}finally{g(!1)}}},I=l&&(e==null?void 0:e.status)===et.DRAFT&&o;return t.jsxs(Om,{children:[t.jsx(j,{variant:"h6",sx:{mb:3,fontWeight:600},children:l?"Edit Expense Order":"Create New Expense Order"}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(ht,{fullWidth:!0,error:!!h.channelId,children:[t.jsx(St,{children:"Channel"}),t.jsx(mt,{value:d.channelId,label:"Channel",onChange:S=>b("channelId",S.target.value),disabled:l,children:n.map(S=>t.jsx(we,{value:S.id,children:S.name},S.id))}),h.channelId&&t.jsx(j,{variant:"caption",color:"error",sx:{mt:.5},children:h.channelId})]})}),t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(ht,{fullWidth:!0,error:!!h.typeId,children:[t.jsx(St,{children:"Expense Type"}),t.jsx(mt,{value:d.typeId,label:"Expense Type",onChange:S=>b("typeId",S.target.value),children:r.map(S=>t.jsx(we,{value:S.id,children:S.name},S.id))}),h.typeId&&t.jsx(j,{variant:"caption",color:"error",sx:{mt:.5},children:h.typeId})]})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(nt,{fullWidth:!0,label:"Title",value:d.title,onChange:S=>b("title",S.target.value),error:!!h.title,helperText:h.title,placeholder:"Enter expense title"})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(nt,{fullWidth:!0,multiline:!0,rows:3,label:"Description",value:d.description,onChange:S=>b("description",S.target.value),error:!!h.description,helperText:h.description,placeholder:"Describe the expense in detail"})}),t.jsx(F,{item:!0,xs:12,md:6,children:t.jsx(nt,{fullWidth:!0,type:"number",label:"Amount",value:d.amount,onChange:S=>b("amount",parseFloat(S.target.value)||0),error:!!h.amount,helperText:h.amount,InputProps:{startAdornment:t.jsx(es,{position:"start",children:"$"})}})}),t.jsx(F,{item:!0,xs:12,md:6,children:t.jsx(nt,{fullWidth:!0,label:"Currency",value:d.currency,onChange:S=>b("currency",S.target.value.toUpperCase()),error:!!h.currency,helperText:h.currency,placeholder:"USD",inputProps:{maxLength:3}})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(nt,{fullWidth:!0,label:"Receipt URL",value:d.receiptUrl,onChange:S=>b("receiptUrl",S.target.value),placeholder:"https://example.com/receipt.pdf",InputProps:{startAdornment:t.jsx(es,{position:"start",children:t.jsx(ER,{})})}})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(nt,{fullWidth:!0,multiline:!0,rows:2,label:"Notes (Optional)",value:d.notes,onChange:S=>b("notes",S.target.value),placeholder:"Additional notes or comments"})}),t.jsx(F,{item:!0,xs:12,children:t.jsxs(C,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[t.jsx(ue,{variant:"outlined",startIcon:i?t.jsx(sn,{size:16}):t.jsx(Wf,{}),onClick:w,disabled:i||m,children:"Save as Draft"}),I&&t.jsx(ue,{variant:"contained",startIcon:m?t.jsx(sn,{size:16}):t.jsx(xd,{}),onClick:v,disabled:i||m,children:"Submit for Approval"})]})})]})]})},WW=({onCreateNew:e,onEdit:n,onView:r,userRole:s="journalist",channelId:o,showCreateButton:i=!0})=>{const{api:l}=Ke(),[d,u]=x.useState([]),[h,f]=x.useState(!0),[m,g]=x.useState(null),[y,b]=x.useState(""),[w,v]=x.useState(1),[I,S]=x.useState(1),[D,T]=x.useState(!1),E=async(J=1)=>{var G,q;try{f(J===1),g(null);let Q;const z={page:J,limit:10};s==="journalist"?Q=await l.app.expenseOrder.getMyExpenseOrders(z,y||void 0):o?Q=await l.app.expenseOrder.getExpenseOrdersByChannel(o,z,y||void 0):Q=await l.app.expenseOrder.getPendingExpenseOrders(z),u(Q.data),S(Math.ceil(Q.total/Q.limit)),v(J)}catch(Q){g(((q=(G=Q.response)==null?void 0:G.data)==null?void 0:q.message)||"Failed to load expense orders"),console.error("Error loading expense orders:",Q)}finally{f(!1),T(!1)}};x.useEffect(()=>{E(1)},[y,s,o]);const R=async()=>{T(!0),await E(w)},O=(J,G)=>{E(G)},k=async J=>{var G,q;try{await l.app.expenseOrder.submitExpenseOrder(J.id),await E(w)}catch(Q){console.error("Error submitting expense order:",Q),g(((q=(G=Q.response)==null?void 0:G.data)==null?void 0:q.message)||"Failed to submit expense order")}},N=async J=>{var G,q;try{await l.app.expenseOrder.cancelExpenseOrder(J.id,"Cancelled by user"),await E(w)}catch(Q){console.error("Error cancelling expense order:",Q),g(((q=(G=Q.response)==null?void 0:G.data)==null?void 0:q.message)||"Failed to cancel expense order")}},B=async J=>{var G,q;try{await l.app.expenseOrder.approveExpenseOrder(J.id),await E(w)}catch(Q){console.error("Error approving expense order:",Q),g(((q=(G=Q.response)==null?void 0:G.data)==null?void 0:q.message)||"Failed to approve expense order")}},K=async J=>{var G,q;try{const Q=prompt("Please provide a reason for rejection:");Q&&(await l.app.expenseOrder.rejectExpenseOrder(J.id,{rejectionReason:Q}),await E(w))}catch(Q){console.error("Error rejecting expense order:",Q),g(((q=(G=Q.response)==null?void 0:G.data)==null?void 0:q.message)||"Failed to reject expense order")}},$=async J=>{var G,q;try{await l.app.expenseOrder.processPayment(J.id),await E(w)}catch(Q){console.error("Error processing payment:",Q),g(((q=(G=Q.response)==null?void 0:G.data)==null?void 0:q.message)||"Failed to process payment")}},Y=()=>{switch(s){case"journalist":return"My Expense Orders";case"admin":case"finance-manager":return o?"Channel Expense Orders":"All Expense Orders";default:return"Expense Orders"}};return t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[t.jsx(j,{variant:"h5",sx:{fontWeight:600},children:Y()}),t.jsxs(C,{sx:{display:"flex",gap:2,alignItems:"center"},children:[t.jsxs(ht,{size:"small",sx:{minWidth:150},children:[t.jsx(St,{children:"Status Filter"}),t.jsxs(mt,{value:y,label:"Status Filter",onChange:J=>b(J.target.value),children:[t.jsx(we,{value:"",children:"All Statuses"}),t.jsx(we,{value:et.DRAFT,children:"Draft"}),t.jsx(we,{value:et.SUBMITTED,children:"Submitted"}),t.jsx(we,{value:et.UNDER_REVIEW,children:"Under Review"}),t.jsx(we,{value:et.APPROVED,children:"Approved"}),t.jsx(we,{value:et.REJECTED,children:"Rejected"}),t.jsx(we,{value:et.PAID,children:"Paid"}),t.jsx(we,{value:et.CANCELLED,children:"Cancelled"})]})]}),t.jsx(ue,{variant:"outlined",startIcon:D?t.jsx(sn,{size:16}):t.jsx(Dv,{}),onClick:R,disabled:D,size:"small",children:"Refresh"}),i&&s==="journalist"&&e&&t.jsx(ue,{variant:"contained",startIcon:t.jsx(vo,{}),onClick:e,children:"Create Expense Order"})]})]}),m&&t.jsx(dt,{severity:"error",sx:{mb:3},onClose:()=>g(null),children:m}),h?t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(sn,{})}):d.length===0?t.jsxs(C,{sx:{textAlign:"center",py:6},children:[t.jsx(j,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"No expense orders found"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:s==="journalist"?"You haven't created any expense orders yet.":"No expense orders match your current filter."}),i&&s==="journalist"&&e&&t.jsx(ue,{variant:"contained",startIcon:t.jsx(vo,{}),onClick:e,children:"Create Your First Expense Order"})]}):t.jsxs(t.Fragment,{children:[t.jsx(F,{container:!0,spacing:3,children:d.map(J=>t.jsx(F,{item:!0,xs:12,md:6,lg:4,children:t.jsx(Nm,{expenseOrder:J,onView:r,onEdit:n,onSubmit:k,onCancel:N,onApprove:B,onReject:K,onProcessPayment:$,userRole:s})},J.id))}),I>1&&t.jsx(C,{sx:{display:"flex",justifyContent:"center",mt:4},children:t.jsx(AR,{count:I,page:w,onChange:O,color:"primary",size:"large"})})]})]})},UW=({channelId:e,onCreateExpenseOrder:n,onViewExpenseOrder:r,userRole:s="journalist"})=>{const{api:o}=Ke(),i=cn(),[l,d]=x.useState(null),[u,h]=x.useState(null),[f,m]=x.useState(!0),[g,y]=x.useState(null);x.useEffect(()=>{b()},[e]);const b=async()=>{var S,D;try{m(!0),y(null);const T=await o.app.expenseOrder.getExpenseOrderStats(e);if(d(T),e){const E=await o.app.channel.getChannel(e);h(E)}}catch(T){y(((D=(S=T.response)==null?void 0:S.data)==null?void 0:D.message)||"Failed to load dashboard data"),console.error("Error loading dashboard data:",T)}finally{m(!1)}},w=(S,D="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:D}).format(S),v=S=>{switch(S){case"paid":return i.palette.success.main;case"approved":return i.palette.info.main;case"submitted":case"underReview":return i.palette.warning.main;case"rejected":case"cancelled":return i.palette.error.main;case"draft":default:return i.palette.grey[500]}},I=({title:S,value:D,icon:T,color:E,subtitle:R})=>t.jsx(Fe,{sx:{height:"100%",border:`1px solid ${de(E,.2)}`,"&:hover":{boxShadow:i.shadows[4],transform:"translateY(-2px)",transition:"all 0.2s ease-in-out"}},children:t.jsxs(We,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(C,{sx:{p:1,borderRadius:2,bgcolor:de(E,.1),color:E,mr:2},children:T}),t.jsx(j,{variant:"h6",sx:{fontWeight:600,color:"text.primary"},children:S})]}),t.jsx(j,{variant:"h4",sx:{fontWeight:700,color:E,mb:1},children:D}),R&&t.jsx(j,{variant:"body2",color:"text.secondary",children:R})]})});return f?t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:8},children:t.jsx(sn,{size:40})}):g?t.jsx(dt,{severity:"error",sx:{mb:3},children:g}):t.jsxs(C,{children:[t.jsxs(C,{sx:{mb:4},children:[t.jsx(j,{variant:"h4",sx:{fontWeight:700,mb:1},children:u?`${u.name} Payouts`:"Payout Dashboard"}),t.jsx(j,{variant:"body1",color:"text.secondary",children:s==="journalist"?"Manage your expense orders and track payments":"Overview of expense orders and payout statistics"})]}),l&&t.jsxs(t.Fragment,{children:[t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(I,{title:"Total Orders",value:l.total,icon:t.jsx(Ks,{}),color:i.palette.primary.main,subtitle:"All time"})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(I,{title:"Total Amount",value:w(l.totalAmount),icon:t.jsx(Xs,{}),color:i.palette.secondary.main,subtitle:"Requested"})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(I,{title:"Paid Amount",value:w(l.totalPaidAmount),icon:t.jsx(Ja,{}),color:i.palette.success.main,subtitle:"Completed payments"})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(I,{title:"Pending",value:l.submitted+l.underReview+l.approved,icon:t.jsx(RR,{}),color:i.palette.warning.main,subtitle:"Awaiting action"})})]}),t.jsx(Fe,{sx:{mb:4},children:t.jsxs(We,{children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:3},children:"Status Breakdown"}),t.jsx(F,{container:!0,spacing:2,children:[{label:"Draft",value:l.draft,status:"draft"},{label:"Submitted",value:l.submitted,status:"submitted"},{label:"Under Review",value:l.underReview,status:"underReview"},{label:"Approved",value:l.approved,status:"approved"},{label:"Paid",value:l.paid,status:"paid"},{label:"Rejected",value:l.rejected,status:"rejected"},{label:"Cancelled",value:l.cancelled,status:"cancelled"}].map(S=>t.jsx(F,{item:!0,xs:6,sm:4,md:3,lg:2,children:t.jsxs(C,{sx:{textAlign:"center",p:2},children:[t.jsx(j,{variant:"h5",sx:{fontWeight:700,color:v(S.status),mb:1},children:S.value}),t.jsx(Qe,{label:S.label,size:"small",sx:{bgcolor:de(v(S.status),.1),color:v(S.status),fontWeight:500}})]})},S.status))})]})})]}),t.jsx(Fe,{children:t.jsx(We,{children:t.jsx(WW,{userRole:s,channelId:e,onCreateNew:n,onView:r?S=>r(S.id):void 0,showCreateButton:s==="journalist"})})}),s==="journalist"&&t.jsx(C,{sx:{mt:4,display:"flex",justifyContent:"center"},children:t.jsx(ue,{variant:"contained",size:"large",startIcon:t.jsx(Ks,{}),onClick:n,sx:{px:4,py:1.5},children:"Create New Expense Order"})})]})},VW=()=>{var y,b,w,v,I;const[e,n]=x.useState(null),[r,s]=x.useState(!0),[o,i]=x.useState(0),{channelId:l}=ns(),{api:d}=Ke(),u=Ct(),h=async()=>{try{if(l){const S=await(d==null?void 0:d.app.channel.getChannel(l));S&&n(S)}}catch(S){console.error("Failed to fetch channel:",S)}finally{s(!1)}};x.useEffect(()=>{h()},[]);const f=()=>{u("/studio/payouts")},m=S=>{u(`/studio/payouts/orders/${S}`)},g=(S,D)=>{i(D)};return r?t.jsxs(It,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs(C,{sx:{textAlign:"center",mb:4},children:[t.jsx(le,{variant:"circular",width:100,height:100,sx:{mx:"auto",mb:2}}),t.jsx(le,{variant:"text",width:"60%",sx:{mx:"auto",mb:1}}),t.jsx(le,{variant:"text",width:"40%",sx:{mx:"auto",mb:2}})]}),t.jsx(F,{container:!0,spacing:3,children:[...Array(3)].map((S,D)=>t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsx(le,{variant:"text",width:"80%"}),t.jsx(le,{variant:"text",width:"60%"}),t.jsx(le,{variant:"rectangular",height:100,sx:{my:2}})]})})},D))})]}):e?t.jsxs(It,{maxWidth:"lg",sx:{mt:4},children:[t.jsx(C,{sx:{position:"relative",mb:4,"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:200,backgroundImage:e!=null&&e.bannerUrl?`url(${e.bannerUrl})`:void 0,background:e!=null&&e.bannerUrl?void 0:S=>`linear-gradient(135deg, ${S.palette.primary.main} 0%, ${S.palette.primary.light} 100%)`,backgroundSize:"cover",backgroundPosition:"center",filter:"brightness(0.9)"}},children:t.jsxs(C,{sx:{position:"relative",pt:15,pb:4,textAlign:"center"},children:[t.jsx(Sn,{src:e.logoUrl,sx:{width:100,height:100,mx:"auto",mb:2,border:"3px solid white",boxShadow:2}}),t.jsx(j,{variant:"h4",gutterBottom:!0,children:e.name}),t.jsxs(j,{variant:"subtitle1",color:"text.secondary",gutterBottom:!0,children:[((b=(y=e.stats)==null?void 0:y.activeSubscriptionCount)==null?void 0:b.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1}))||0," followers  ",((v=(w=e.stats)==null?void 0:w.paidSubscriptionCount)==null?void 0:v.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1}))||0," subscribers"]}),t.jsx(j,{variant:"body1",sx:{mb:3},children:e.description}),t.jsx(Mt,{sx:{mb:4}})]})}),t.jsx(C,{sx:{mb:3},children:t.jsxs(_s,{value:o,onChange:g,"aria-label":"channel tabs",sx:{borderBottom:1,borderColor:"divider"},children:[t.jsx(On,{label:"Subscription Tiers",id:"channel-tab-0","aria-controls":"channel-tabpanel-0"}),t.jsx(On,{label:"Payouts",icon:t.jsx(Xs,{}),iconPosition:"start",id:"channel-tab-1","aria-controls":"channel-tabpanel-1"})]})}),t.jsx("div",{role:"tabpanel",hidden:o!==0,id:"channel-tabpanel-0","aria-labelledby":"channel-tab-0",children:o===0&&t.jsxs(C,{children:[t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Subscription Tiers"}),t.jsx(F,{container:!0,spacing:3,children:(I=e.tiers)==null?void 0:I.map(S=>t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(Om,{children:[t.jsxs(C,{sx:{mb:3},children:[t.jsx(j,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,fontSize:"1rem"},children:S.name}),t.jsxs(j,{variant:"h4",sx:{fontWeight:700,fontSize:"2rem",display:"flex",alignItems:"baseline",gap:.5},children:[S.price!==void 0&&S.currency?new Intl.NumberFormat("en-US",{style:"currency",currency:S.currency.toUpperCase()}).format(S.price/100):`$${S.price||0}`,t.jsx(j,{component:"span",sx:{fontSize:"0.875rem",fontWeight:400,color:"text.secondary"},children:"/month"})]})]}),t.jsx(j,{variant:"body2",sx:{mb:3,color:"text.secondary",minHeight:60},children:S.description})]})},S.id))})]})}),t.jsx("div",{role:"tabpanel",hidden:o!==1,id:"channel-tabpanel-1","aria-labelledby":"channel-tab-1",children:o===1&&t.jsx(C,{children:t.jsx(UW,{channelId:l,onCreateExpenseOrder:f,onViewExpenseOrder:m,userRole:"journalist"})})})]}):t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsx(j,{variant:"h5",align:"center",children:"Channel not found"})})},zW=()=>t.jsx(C,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(sn,{})}),Jw=({channel:e,onUpdate:n})=>{const r=async s=>{!s||!("name"in s)||await n(s)};return t.jsx(C,{sx:{maxWidth:800},children:t.jsx(Kw,{initialData:e,onSubmit:r,submitButtonText:"Save"})})};var Vm={},HW=Xe;Object.defineProperty(Vm,"__esModule",{value:!0});var Qw=Vm.default=void 0,GW=HW(Je()),YW=t;Qw=Vm.default=(0,GW.default)((0,YW.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"DragIndicator");var zm={},qW=Xe;Object.defineProperty(zm,"__esModule",{value:!0});var Hm=zm.default=void 0,KW=qW(Je()),XW=t;Hm=zm.default=(0,KW.default)((0,XW.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");function ur(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var JW=typeof Symbol=="function"&&Symbol.observable||"@@observable",l0=JW,Lh=()=>Math.random().toString(36).substring(7).split("").join("."),QW={INIT:`@@redux/INIT${Lh()}`,REPLACE:`@@redux/REPLACE${Lh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Lh()}`},c0=QW;function ZW(e){if(typeof e!="object"||e===null)return!1;let n=e;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n||Object.getPrototypeOf(e)===null}function Zw(e,n,r){if(typeof e!="function")throw new Error(ur(2));if(typeof n=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ur(0));if(typeof n=="function"&&typeof r>"u"&&(r=n,n=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ur(1));return r(Zw)(e,n)}let s=e,o=n,i=new Map,l=i,d=0,u=!1;function h(){l===i&&(l=new Map,i.forEach((v,I)=>{l.set(I,v)}))}function f(){if(u)throw new Error(ur(3));return o}function m(v){if(typeof v!="function")throw new Error(ur(4));if(u)throw new Error(ur(5));let I=!0;h();const S=d++;return l.set(S,v),function(){if(I){if(u)throw new Error(ur(6));I=!1,h(),l.delete(S),i=null}}}function g(v){if(!ZW(v))throw new Error(ur(7));if(typeof v.type>"u")throw new Error(ur(8));if(typeof v.type!="string")throw new Error(ur(17));if(u)throw new Error(ur(9));try{u=!0,o=s(o,v)}finally{u=!1}return(i=l).forEach(S=>{S()}),v}function y(v){if(typeof v!="function")throw new Error(ur(10));s=v,g({type:c0.REPLACE})}function b(){const v=m;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(ur(11));function S(){const T=I;T.next&&T.next(f())}return S(),{unsubscribe:v(S)}},[l0](){return this}}}return g({type:c0.INIT}),{dispatch:g,subscribe:m,getState:f,replaceReducer:y,[l0]:b}}function d0(e,n){return function(...r){return n(e.apply(this,r))}}function u0(e,n){if(typeof e=="function")return d0(e,n);if(typeof e!="object"||e===null)throw new Error(ur(16));const r={};for(const s in e){const o=e[s];typeof o=="function"&&(r[s]=d0(o,n))}return r}function eS(...e){return e.length===0?n=>n:e.length===1?e[0]:e.reduce((n,r)=>(...s)=>n(r(...s)))}function e6(...e){return n=>(r,s)=>{const o=n(r,s);let i=()=>{throw new Error(ur(15))};const l={getState:o.getState,dispatch:(u,...h)=>i(u,...h)},d=e.map(u=>u(l));return i=eS(...d)(o.dispatch),{...o,dispatch:i}}}var t6={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xl=x;function n6(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var r6=typeof Object.is=="function"?Object.is:n6,s6=xl.useSyncExternalStore,o6=xl.useRef,a6=xl.useEffect,i6=xl.useMemo,l6=xl.useDebugValue;t6.useSyncExternalStoreWithSelector=function(e,n,r,s,o){var i=o6(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=i6(function(){function u(y){if(!h){if(h=!0,f=y,y=s(y),o!==void 0&&l.hasValue){var b=l.value;if(o(b,y))return m=b}return m=y}if(b=m,r6(f,y))return b;var w=s(y);return o!==void 0&&o(b,w)?(f=y,b):(f=y,m=w)}var h=!1,f,m,g=r===void 0?null:r;return[function(){return u(n())},g===null?void 0:function(){return u(g())}]},[n,r,s,o]);var d=s6(e,i[0],i[1]);return a6(function(){l.hasValue=!0,l.value=d},[d]),l6(d),d};var c6=x.version.startsWith("19"),d6=Symbol.for(c6?"react.transitional.element":"react.element"),u6=Symbol.for("react.portal"),h6=Symbol.for("react.fragment"),f6=Symbol.for("react.strict_mode"),p6=Symbol.for("react.profiler"),m6=Symbol.for("react.consumer"),x6=Symbol.for("react.context"),tS=Symbol.for("react.forward_ref"),g6=Symbol.for("react.suspense"),b6=Symbol.for("react.suspense_list"),Gm=Symbol.for("react.memo"),y6=Symbol.for("react.lazy"),v6=tS,j6=Gm;function w6(e){if(typeof e=="object"&&e!==null){const{$$typeof:n}=e;switch(n){case d6:switch(e=e.type,e){case h6:case p6:case f6:case g6:case b6:return e;default:switch(e=e&&e.$$typeof,e){case x6:case tS:case y6:case Gm:return e;case m6:return e;default:return n}}case u6:return n}}}function S6(e){return w6(e)===Gm}function C6(e,n,r,s,{areStatesEqual:o,areOwnPropsEqual:i,areStatePropsEqual:l}){let d=!1,u,h,f,m,g;function y(S,D){return u=S,h=D,f=e(u,h),m=n(s,h),g=r(f,m,h),d=!0,g}function b(){return f=e(u,h),n.dependsOnOwnProps&&(m=n(s,h)),g=r(f,m,h),g}function w(){return e.dependsOnOwnProps&&(f=e(u,h)),n.dependsOnOwnProps&&(m=n(s,h)),g=r(f,m,h),g}function v(){const S=e(u,h),D=!l(S,f);return f=S,D&&(g=r(f,m,h)),g}function I(S,D){const T=!i(D,h),E=!o(S,u,D,h);return u=S,h=D,T&&E?b():T?w():E?v():g}return function(D,T){return d?I(D,T):y(D,T)}}function P6(e,{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:s,...o}){const i=n(e,o),l=r(e,o),d=s(e,o);return C6(i,l,d,e,o)}function I6(e,n){const r={};for(const s in e){const o=e[s];typeof o=="function"&&(r[s]=(...i)=>n(o(...i)))}return r}function yf(e){return function(r){const s=e(r);function o(){return s}return o.dependsOnOwnProps=!1,o}}function h0(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function nS(e,n){return function(s,{displayName:o}){const i=function(d,u){return i.dependsOnOwnProps?i.mapToProps(d,u):i.mapToProps(d,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(d,u){i.mapToProps=e,i.dependsOnOwnProps=h0(e);let h=i(d,u);return typeof h=="function"&&(i.mapToProps=h,i.dependsOnOwnProps=h0(h),h=i(d,u)),h},i}}function Ym(e,n){return(r,s)=>{throw new Error(`Invalid value of type ${typeof e} for ${n} argument when connecting component ${s.wrappedComponentName}.`)}}function D6(e){return e&&typeof e=="object"?yf(n=>I6(e,n)):e?typeof e=="function"?nS(e):Ym(e,"mapDispatchToProps"):yf(n=>({dispatch:n}))}function T6(e){return e?typeof e=="function"?nS(e):Ym(e,"mapStateToProps"):yf(()=>({}))}function E6(e,n,r){return{...r,...e,...n}}function A6(e){return function(r,{displayName:s,areMergedPropsEqual:o}){let i=!1,l;return function(u,h,f){const m=e(u,h,f);return i?o(m,l)||(l=m):(i=!0,l=m),l}}}function R6(e){return e?typeof e=="function"?A6(e):Ym(e,"mergeProps"):()=>E6}function k6(e){e()}function _6(){let e=null,n=null;return{clear(){e=null,n=null},notify(){k6(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let s=e;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0;const o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!s||e===null||(s=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var f0={notify(){},get:()=>[]};function rS(e,n){let r,s=f0,o=0,i=!1;function l(w){f();const v=s.subscribe(w);let I=!1;return()=>{I||(I=!0,v(),m())}}function d(){s.notify()}function u(){b.onStateChange&&b.onStateChange()}function h(){return i}function f(){o++,r||(r=n?n.addNestedSub(u):e.subscribe(u),s=_6())}function m(){o--,r&&o===0&&(r(),r=void 0,s.clear(),s=f0)}function g(){i||(i=!0,f())}function y(){i&&(i=!1,m())}const b={addNestedSub:l,notifyNestedSubs:d,handleChangeWrapper:u,isSubscribed:h,trySubscribe:g,tryUnsubscribe:y,getListeners:()=>s};return b}var O6=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",M6=O6(),N6=()=>typeof navigator<"u"&&navigator.product==="ReactNative",L6=N6(),$6=()=>M6||L6?x.useLayoutEffect:x.useEffect,nd=$6();function p0(e,n){return e===n?e!==0||n!==0||1/e===1/n:e!==e&&n!==n}function $h(e,n){if(p0(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;const r=Object.keys(e),s=Object.keys(n);if(r.length!==s.length)return!1;for(let o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(n,r[o])||!p0(e[r[o]],n[r[o]]))return!1;return!0}var F6={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},B6={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},W6={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},sS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},U6={[v6]:W6,[j6]:sS};function m0(e){return S6(e)?sS:U6[e.$$typeof]||F6}var V6=Object.defineProperty,z6=Object.getOwnPropertyNames,x0=Object.getOwnPropertySymbols,H6=Object.getOwnPropertyDescriptor,G6=Object.getPrototypeOf,g0=Object.prototype;function vf(e,n){if(typeof n!="string"){if(g0){const i=G6(n);i&&i!==g0&&vf(e,i)}let r=z6(n);x0&&(r=r.concat(x0(n)));const s=m0(e),o=m0(n);for(let i=0;i<r.length;++i){const l=r[i];if(!B6[l]&&!(o&&o[l])&&!(s&&s[l])){const d=H6(n,l);try{V6(e,l,d)}catch{}}}}return e}var Fh=Symbol.for("react-redux-context"),Bh=typeof globalThis<"u"?globalThis:{};function Y6(){if(!x.createContext)return{};const e=Bh[Fh]??(Bh[Fh]=new Map);let n=e.get(x.createContext);return n||(n=x.createContext(null),e.set(x.createContext,n)),n}var oS=Y6(),q6=[null,null];function K6(e,n,r){nd(()=>e(...n),r)}function X6(e,n,r,s,o,i){e.current=s,r.current=!1,o.current&&(o.current=null,i())}function J6(e,n,r,s,o,i,l,d,u,h,f){if(!e)return()=>{};let m=!1,g=null;const y=()=>{if(m||!d.current)return;const w=n.getState();let v,I;try{v=s(w,o.current)}catch(S){I=S,g=S}I||(g=null),v===i.current?l.current||h():(i.current=v,u.current=v,l.current=!0,f())};return r.onStateChange=y,r.trySubscribe(),y(),()=>{if(m=!0,r.tryUnsubscribe(),r.onStateChange=null,g)throw g}}function Q6(e,n){return e===n}function Z6(e,n,r,{pure:s,areStatesEqual:o=Q6,areOwnPropsEqual:i=$h,areStatePropsEqual:l=$h,areMergedPropsEqual:d=$h,forwardRef:u=!1,context:h=oS}={}){const f=h,m=T6(e),g=D6(n),y=R6(r),b=!!e;return v=>{const I=v.displayName||v.name||"Component",S=`Connect(${I})`,D={shouldHandleStateChanges:b,displayName:S,wrappedComponentName:I,WrappedComponent:v,initMapStateToProps:m,initMapDispatchToProps:g,initMergeProps:y,areStatesEqual:o,areStatePropsEqual:l,areOwnPropsEqual:i,areMergedPropsEqual:d};function T(O){const[k,N,B]=x.useMemo(()=>{const{reactReduxForwardedRef:se,...xe}=O;return[O.context,se,xe]},[O]),K=x.useMemo(()=>{let se=f;return k!=null&&k.Consumer,se},[k,f]),$=x.useContext(K),Y=!!O.store&&!!O.store.getState&&!!O.store.dispatch,J=!!$&&!!$.store,G=Y?O.store:$.store,q=J?$.getServerState:G.getState,Q=x.useMemo(()=>P6(G.dispatch,D),[G]),[z,oe]=x.useMemo(()=>{if(!b)return q6;const se=rS(G,Y?void 0:$.subscription),xe=se.notifyNestedSubs.bind(se);return[se,xe]},[G,Y,$]),U=x.useMemo(()=>Y?$:{...$,subscription:z},[Y,$,z]),ee=x.useRef(void 0),Pe=x.useRef(B),pe=x.useRef(void 0),Re=x.useRef(!1),ce=x.useRef(!1),re=x.useRef(void 0);nd(()=>(ce.current=!0,()=>{ce.current=!1}),[]);const je=x.useMemo(()=>()=>pe.current&&B===Pe.current?pe.current:Q(G.getState(),B),[G,B]),Oe=x.useMemo(()=>xe=>z?J6(b,G,z,Q,Pe,ee,Re,ce,pe,oe,xe):()=>{},[z]);K6(X6,[Pe,ee,Re,B,pe,oe]);let ye;try{ye=x.useSyncExternalStore(Oe,je,q?()=>Q(q(),B):je)}catch(se){throw re.current&&(se.message+=`
The error may be correlated with this previous error:
${re.current.stack}

`),se}nd(()=>{re.current=void 0,pe.current=void 0,ee.current=ye});const ie=x.useMemo(()=>x.createElement(v,{...ye,ref:N}),[N,v,ye]);return x.useMemo(()=>b?x.createElement(K.Provider,{value:U},ie):ie,[K,ie,U])}const R=x.memo(T);if(R.WrappedComponent=v,R.displayName=T.displayName=S,u){const k=x.forwardRef(function(B,K){return x.createElement(R,{...B,reactReduxForwardedRef:K})});return k.displayName=S,k.WrappedComponent=v,vf(k,v)}return vf(R,v)}}var aS=Z6;function eU(e){const{children:n,context:r,serverState:s,store:o}=e,i=x.useMemo(()=>{const u=rS(o);return{store:o,subscription:u,getServerState:s?()=>s:void 0}},[o,s]),l=x.useMemo(()=>o.getState(),[o]);nd(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==o.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,l]);const d=r||oS;return x.createElement(d.Provider,{value:i},n)}var tU=eU;function nU(e,n){if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}function iS(e,n){var r=x.useState(function(){return{inputs:n,result:e()}})[0],s=x.useRef(!0),o=x.useRef(r),i=s.current||!!(n&&o.current.inputs&&nU(n,o.current.inputs)),l=i?o.current:{inputs:n,result:e()};return x.useEffect(function(){s.current=!1,o.current=l},[l]),l.result}function rU(e,n){return iS(function(){return e},n)}var Ot=iS,st=rU,hs=function(n){var r=n.top,s=n.right,o=n.bottom,i=n.left,l=s-i,d=o-r,u={top:r,right:s,bottom:o,left:i,width:l,height:d,x:i,y:r,center:{x:(s+i)/2,y:(o+r)/2}};return u},qm=function(n,r){return{top:n.top-r.top,left:n.left-r.left,bottom:n.bottom+r.bottom,right:n.right+r.right}},b0=function(n,r){return{top:n.top+r.top,left:n.left+r.left,bottom:n.bottom-r.bottom,right:n.right-r.right}},sU=function(n,r){return{top:n.top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x}},Wh={top:0,right:0,bottom:0,left:0},Km=function(n){var r=n.borderBox,s=n.margin,o=s===void 0?Wh:s,i=n.border,l=i===void 0?Wh:i,d=n.padding,u=d===void 0?Wh:d,h=hs(qm(r,o)),f=hs(b0(r,l)),m=hs(b0(f,u));return{marginBox:h,borderBox:hs(r),paddingBox:f,contentBox:m,margin:o,border:l,padding:u}},Kr=function(n){var r=n.slice(0,-2),s=n.slice(-2);if(s!=="px")return 0;var o=Number(r);return isNaN(o)&&kk(),o},oU=function(){return{x:window.pageXOffset,y:window.pageYOffset}},rd=function(n,r){var s=n.borderBox,o=n.border,i=n.margin,l=n.padding,d=sU(s,r);return Km({borderBox:d,border:o,margin:i,padding:l})},sd=function(n,r){return r===void 0&&(r=oU()),rd(n,r)},lS=function(n,r){var s={top:Kr(r.marginTop),right:Kr(r.marginRight),bottom:Kr(r.marginBottom),left:Kr(r.marginLeft)},o={top:Kr(r.paddingTop),right:Kr(r.paddingRight),bottom:Kr(r.paddingBottom),left:Kr(r.paddingLeft)},i={top:Kr(r.borderTopWidth),right:Kr(r.borderRightWidth),bottom:Kr(r.borderBottomWidth),left:Kr(r.borderLeftWidth)};return Km({borderBox:n,margin:s,padding:o,border:i})},cS=function(n){var r=n.getBoundingClientRect(),s=window.getComputedStyle(n);return lS(r,s)},y0=Number.isNaN||function(n){return typeof n=="number"&&n!==n};function aU(e,n){return!!(e===n||y0(e)&&y0(n))}function iU(e,n){if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(!aU(e[r],n[r]))return!1;return!0}function Un(e,n){n===void 0&&(n=iU);var r=null;function s(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(r&&r.lastThis===this&&n(o,r.lastArgs))return r.lastResult;var l=e.apply(this,o);return r={lastResult:l,lastArgs:o,lastThis:this},l}return s.clear=function(){r=null},s}var Ki=function(n){var r=[],s=null,o=function(){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];r=d,!s&&(s=requestAnimationFrame(function(){s=null,n.apply(void 0,r)}))};return o.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},o};function dS(e,n){}dS.bind(null,"warn");dS.bind(null,"error");function xo(){}function lU(e,n){return{...e,...n}}function Jr(e,n,r){const s=n.map(o=>{const i=lU(r,o.options);return e.addEventListener(o.eventName,o.fn,i),function(){e.removeEventListener(o.eventName,o.fn,i)}});return function(){s.forEach(i=>{i()})}}const cU="Invariant failed";class od extends Error{}od.prototype.toString=function(){return this.message};function Le(e,n){throw new od(cU)}class dU extends Tt.Component{constructor(...n){super(...n),this.callbacks=null,this.unbind=xo,this.onWindowError=r=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),r.error instanceof od&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=Jr(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(n){if(n instanceof od){this.setState({});return}throw n}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const uU=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,ad=e=>e+1,hU=e=>`
  You have lifted an item in position ${ad(e.source.index)}
`,uS=(e,n)=>{const r=e.droppableId===n.droppableId,s=ad(e.index),o=ad(n.index);return r?`
      You have moved the item from position ${s}
      to position ${o}
    `:`
    You have moved the item from position ${s}
    in list ${e.droppableId}
    to list ${n.droppableId}
    in position ${o}
  `},hS=(e,n,r)=>n.droppableId===r.droppableId?`
      The item ${e}
      has been combined with ${r.draggableId}`:`
      The item ${e}
      in list ${n.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,fU=e=>{const n=e.destination;if(n)return uS(e.source,n);const r=e.combine;return r?hS(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},v0=e=>`
  The item has returned to its starting position
  of ${ad(e.index)}
`,pU=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${v0(e.source)}
    `;const n=e.destination,r=e.combine;return n?`
      You have dropped the item.
      ${uS(e.source,n)}
    `:r?`
      You have dropped the item.
      ${hS(e.draggableId,e.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${v0(e.source)}
  `},Cc={dragHandleUsageInstructions:uU,onDragStart:hU,onDragUpdate:fU,onDragEnd:pU},Vn={x:0,y:0},Jn=(e,n)=>({x:e.x+n.x,y:e.y+n.y}),Nr=(e,n)=>({x:e.x-n.x,y:e.y-n.y}),go=(e,n)=>e.x===n.x&&e.y===n.y,ti=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Qo=(e,n,r=0)=>e==="x"?{x:n,y:r}:{x:r,y:n},Xi=(e,n)=>Math.sqrt((n.x-e.x)**2+(n.y-e.y)**2),j0=(e,n)=>Math.min(...n.map(r=>Xi(e,r))),fS=e=>n=>({x:e(n.x),y:e(n.y)});var mU=(e,n)=>{const r=hs({top:Math.max(n.top,e.top),right:Math.min(n.right,e.right),bottom:Math.min(n.bottom,e.bottom),left:Math.max(n.left,e.left)});return r.width<=0||r.height<=0?null:r};const gl=(e,n)=>({top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}),w0=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],xU={top:0,right:0,bottom:0,left:0},gU=(e,n)=>n?gl(e,n.scroll.diff.displacement):e,bU=(e,n,r)=>r&&r.increasedBy?{...e,[n.end]:e[n.end]+r.increasedBy[n.line]}:e,yU=(e,n)=>n&&n.shouldClipSubject?mU(n.pageMarginBox,e):hs(e);var za=({page:e,withPlaceholder:n,axis:r,frame:s})=>{const o=gU(e.marginBox,s),i=bU(o,r,n),l=yU(i,s);return{page:e,withPlaceholder:n,active:l}},Xm=(e,n)=>{e.frame||Le();const r=e.frame,s=Nr(n,r.scroll.initial),o=ti(s),i={...r,scroll:{initial:r.scroll.initial,current:n,diff:{value:s,displacement:o},max:r.scroll.max}},l=za({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return{...e,frame:i,subject:l}};const pS=Un(e=>e.reduce((n,r)=>(n[r.descriptor.id]=r,n),{})),mS=Un(e=>e.reduce((n,r)=>(n[r.descriptor.id]=r,n),{})),Bd=Un(e=>Object.values(e)),vU=Un(e=>Object.values(e));var ni=Un((e,n)=>vU(n).filter(s=>e===s.descriptor.droppableId).sort((s,o)=>s.descriptor.index-o.descriptor.index));function Jm(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Wd(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Ud=Un((e,n)=>n.filter(r=>r.descriptor.id!==e.descriptor.id)),jU=({isMovingForward:e,draggable:n,destination:r,insideDestination:s,previousImpact:o})=>{if(!r.isCombineEnabled||!Jm(o))return null;function l(y){const b={type:"COMBINE",combine:{draggableId:y,droppableId:r.descriptor.id}};return{...o,at:b}}const d=o.displaced.all,u=d.length?d[0]:null;if(e)return u?l(u):null;const h=Ud(n,s);if(!u){if(!h.length)return null;const y=h[h.length-1];return l(y.descriptor.id)}const f=h.findIndex(y=>y.descriptor.id===u);f===-1&&Le();const m=f-1;if(m<0)return null;const g=h[m];return l(g.descriptor.id)},ri=(e,n)=>e.descriptor.droppableId===n.descriptor.id;const xS={point:Vn,value:0},Ji={invisible:{},visible:{},all:[]},wU={displaced:Ji,displacedBy:xS,at:null};var Zr=(e,n)=>r=>e<=r&&r<=n,gS=e=>{const n=Zr(e.top,e.bottom),r=Zr(e.left,e.right);return s=>{if(n(s.top)&&n(s.bottom)&&r(s.left)&&r(s.right))return!0;const i=n(s.top)||n(s.bottom),l=r(s.left)||r(s.right);if(i&&l)return!0;const u=s.top<e.top&&s.bottom>e.bottom,h=s.left<e.left&&s.right>e.right;return u&&h?!0:u&&l||h&&i}},SU=e=>{const n=Zr(e.top,e.bottom),r=Zr(e.left,e.right);return s=>n(s.top)&&n(s.bottom)&&r(s.left)&&r(s.right)};const Qm={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},bS={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var CU=e=>n=>{const r=Zr(n.top,n.bottom),s=Zr(n.left,n.right);return o=>e===Qm?r(o.top)&&r(o.bottom):s(o.left)&&s(o.right)};const PU=(e,n)=>{const r=n.frame?n.frame.scroll.diff.displacement:Vn;return gl(e,r)},IU=(e,n,r)=>n.subject.active?r(n.subject.active)(e):!1,DU=(e,n,r)=>r(n)(e),Zm=({target:e,destination:n,viewport:r,withDroppableDisplacement:s,isVisibleThroughFrameFn:o})=>{const i=s?PU(e,n):e;return IU(i,n,o)&&DU(i,r,o)},TU=e=>Zm({...e,isVisibleThroughFrameFn:gS}),yS=e=>Zm({...e,isVisibleThroughFrameFn:SU}),EU=e=>Zm({...e,isVisibleThroughFrameFn:CU(e.destination.axis)}),AU=(e,n,r)=>{if(typeof r=="boolean")return r;if(!n)return!0;const{invisible:s,visible:o}=n;if(s[e])return!1;const i=o[e];return i?i.shouldAnimate:!0};function RU(e,n){const r=e.page.marginBox,s={top:n.point.y,right:0,bottom:0,left:n.point.x};return hs(qm(r,s))}function Qi({afterDragging:e,destination:n,displacedBy:r,viewport:s,forceShouldAnimate:o,last:i}){return e.reduce(function(d,u){const h=RU(u,r),f=u.descriptor.id;if(d.all.push(f),!TU({target:h,destination:n,viewport:s,withDroppableDisplacement:!0}))return d.invisible[u.descriptor.id]=!0,d;const g=AU(f,i,o),y={draggableId:f,shouldAnimate:g};return d.visible[f]=y,d},{all:[],visible:{},invisible:{}})}function kU(e,n){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return n.inHomeList?r:r+1}function S0({insideDestination:e,inHomeList:n,displacedBy:r,destination:s}){const o=kU(e,{inHomeList:n});return{displaced:Ji,displacedBy:r,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:o}}}}function id({draggable:e,insideDestination:n,destination:r,viewport:s,displacedBy:o,last:i,index:l,forceShouldAnimate:d}){const u=ri(e,r);if(l==null)return S0({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});const h=n.find(b=>b.descriptor.index===l);if(!h)return S0({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});const f=Ud(e,n),m=n.indexOf(h),g=f.slice(m);return{displaced:Qi({afterDragging:g,destination:r,displacedBy:o,last:i,viewport:s.frame,forceShouldAnimate:d}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:l}}}}function jo(e,n){return!!n.effected[e]}var _U=({isMovingForward:e,destination:n,draggables:r,combine:s,afterCritical:o})=>{if(!n.isCombineEnabled)return null;const i=s.draggableId,d=r[i].descriptor.index;return jo(i,o)?e?d:d-1:e?d+1:d},OU=({isMovingForward:e,isInHomeList:n,insideDestination:r,location:s})=>{if(!r.length)return null;const o=s.index,i=e?o+1:o-1,l=r[0].descriptor.index,d=r[r.length-1].descriptor.index,u=n?d:d+1;return i<l||i>u?null:i},MU=({isMovingForward:e,isInHomeList:n,draggable:r,draggables:s,destination:o,insideDestination:i,previousImpact:l,viewport:d,afterCritical:u})=>{const h=l.at;if(h||Le(),h.type==="REORDER"){const m=OU({isMovingForward:e,isInHomeList:n,location:h.destination,insideDestination:i});return m==null?null:id({draggable:r,insideDestination:i,destination:o,viewport:d,last:l.displaced,displacedBy:l.displacedBy,index:m})}const f=_U({isMovingForward:e,destination:o,displaced:l.displaced,draggables:s,combine:h.combine,afterCritical:u});return f==null?null:id({draggable:r,insideDestination:i,destination:o,viewport:d,last:l.displaced,displacedBy:l.displacedBy,index:f})},NU=({displaced:e,afterCritical:n,combineWith:r,displacedBy:s})=>{const o=!!(e.visible[r]||e.invisible[r]);return jo(r,n)?o?Vn:ti(s.point):o?s.point:Vn},LU=({afterCritical:e,impact:n,draggables:r})=>{const s=Wd(n);s||Le();const o=s.draggableId,i=r[o].page.borderBox.center,l=NU({displaced:n.displaced,afterCritical:e,combineWith:o,displacedBy:n.displacedBy});return Jn(i,l)};const vS=(e,n)=>n.margin[e.start]+n.borderBox[e.size]/2,$U=(e,n)=>n.margin[e.end]+n.borderBox[e.size]/2,ex=(e,n,r)=>n[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,C0=({axis:e,moveRelativeTo:n,isMoving:r})=>Qo(e.line,n.marginBox[e.end]+vS(e,r),ex(e,n.marginBox,r)),P0=({axis:e,moveRelativeTo:n,isMoving:r})=>Qo(e.line,n.marginBox[e.start]-$U(e,r),ex(e,n.marginBox,r)),FU=({axis:e,moveInto:n,isMoving:r})=>Qo(e.line,n.contentBox[e.start]+vS(e,r),ex(e,n.contentBox,r));var BU=({impact:e,draggable:n,draggables:r,droppable:s,afterCritical:o})=>{const i=ni(s.descriptor.id,r),l=n.page,d=s.axis;if(!i.length)return FU({axis:d,moveInto:s.page,isMoving:l});const{displaced:u,displacedBy:h}=e,f=u.all[0];if(f){const g=r[f];if(jo(f,o))return P0({axis:d,moveRelativeTo:g.page,isMoving:l});const y=rd(g.page,h.point);return P0({axis:d,moveRelativeTo:y,isMoving:l})}const m=i[i.length-1];if(m.descriptor.id===n.descriptor.id)return l.borderBox.center;if(jo(m.descriptor.id,o)){const g=rd(m.page,ti(o.displacedBy.point));return C0({axis:d,moveRelativeTo:g,isMoving:l})}return C0({axis:d,moveRelativeTo:m.page,isMoving:l})},jf=(e,n)=>{const r=e.frame;return r?Jn(n,r.scroll.diff.displacement):n};const WU=({impact:e,draggable:n,droppable:r,draggables:s,afterCritical:o})=>{const i=n.page.borderBox.center,l=e.at;return!r||!l?i:l.type==="REORDER"?BU({impact:e,draggable:n,draggables:s,droppable:r,afterCritical:o}):LU({impact:e,draggables:s,afterCritical:o})};var Vd=e=>{const n=WU(e),r=e.droppable;return r?jf(r,n):n},jS=(e,n)=>{const r=Nr(n,e.scroll.initial),s=ti(r);return{frame:hs({top:n.y,bottom:n.y+e.frame.height,left:n.x,right:n.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:n,diff:{value:r,displacement:s}}}};function I0(e,n){return e.map(r=>n[r])}function UU(e,n){for(let r=0;r<n.length;r++){const s=n[r].visible[e];if(s)return s}return null}var VU=({impact:e,viewport:n,destination:r,draggables:s,maxScrollChange:o})=>{const i=jS(n,Jn(n.scroll.current,o)),l=r.frame?Xm(r,Jn(r.frame.scroll.current,o)):r,d=e.displaced,u=Qi({afterDragging:I0(d.all,s),destination:r,displacedBy:e.displacedBy,viewport:i.frame,last:d,forceShouldAnimate:!1}),h=Qi({afterDragging:I0(d.all,s),destination:l,displacedBy:e.displacedBy,viewport:n.frame,last:d,forceShouldAnimate:!1}),f={},m={},g=[d,u,h];return d.all.forEach(b=>{const w=UU(b,g);if(w){m[b]=w;return}f[b]=!0}),{...e,displaced:{all:d.all,invisible:f,visible:m}}},zU=(e,n)=>Jn(e.scroll.diff.displacement,n),tx=({pageBorderBoxCenter:e,draggable:n,viewport:r})=>{const s=zU(r,e),o=Nr(s,n.page.borderBox.center);return Jn(n.client.borderBox.center,o)},wS=({draggable:e,destination:n,newPageBorderBoxCenter:r,viewport:s,withDroppableDisplacement:o,onlyOnMainAxis:i=!1})=>{const l=Nr(r,e.page.borderBox.center),u={target:gl(e.page.borderBox,l),destination:n,withDroppableDisplacement:o,viewport:s};return i?EU(u):yS(u)},HU=({isMovingForward:e,draggable:n,destination:r,draggables:s,previousImpact:o,viewport:i,previousPageBorderBoxCenter:l,previousClientSelection:d,afterCritical:u})=>{if(!r.isEnabled)return null;const h=ni(r.descriptor.id,s),f=ri(n,r),m=jU({isMovingForward:e,draggable:n,destination:r,insideDestination:h,previousImpact:o})||MU({isMovingForward:e,isInHomeList:f,draggable:n,draggables:s,destination:r,insideDestination:h,previousImpact:o,viewport:i,afterCritical:u});if(!m)return null;const g=Vd({impact:m,draggable:n,droppable:r,draggables:s,afterCritical:u});if(wS({draggable:n,destination:r,newPageBorderBoxCenter:g,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:tx({pageBorderBoxCenter:g,draggable:n,viewport:i}),impact:m,scrollJumpRequest:null};const b=Nr(g,l),w=VU({impact:m,viewport:i,destination:r,draggables:s,maxScrollChange:b});return{clientSelection:d,impact:w,scrollJumpRequest:b}};const dr=e=>{const n=e.subject.active;return n||Le(),n};var GU=({isMovingForward:e,pageBorderBoxCenter:n,source:r,droppables:s,viewport:o})=>{const i=r.subject.active;if(!i)return null;const l=r.axis,d=Zr(i[l.start],i[l.end]),u=Bd(s).filter(f=>f!==r).filter(f=>f.isEnabled).filter(f=>!!f.subject.active).filter(f=>gS(o.frame)(dr(f))).filter(f=>{const m=dr(f);return e?i[l.crossAxisEnd]<m[l.crossAxisEnd]:m[l.crossAxisStart]<i[l.crossAxisStart]}).filter(f=>{const m=dr(f),g=Zr(m[l.start],m[l.end]);return d(m[l.start])||d(m[l.end])||g(i[l.start])||g(i[l.end])}).sort((f,m)=>{const g=dr(f)[l.crossAxisStart],y=dr(m)[l.crossAxisStart];return e?g-y:y-g}).filter((f,m,g)=>dr(f)[l.crossAxisStart]===dr(g[0])[l.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const h=u.filter(f=>Zr(dr(f)[l.start],dr(f)[l.end])(n[l.line]));return h.length===1?h[0]:h.length>1?h.sort((f,m)=>dr(f)[l.start]-dr(m)[l.start])[0]:u.sort((f,m)=>{const g=j0(n,w0(dr(f))),y=j0(n,w0(dr(m)));return g!==y?g-y:dr(f)[l.start]-dr(m)[l.start]})[0]};const D0=(e,n)=>{const r=e.page.borderBox.center;return jo(e.descriptor.id,n)?Nr(r,n.displacedBy.point):r},YU=(e,n)=>{const r=e.page.borderBox;return jo(e.descriptor.id,n)?gl(r,ti(n.displacedBy.point)):r};var qU=({pageBorderBoxCenter:e,viewport:n,destination:r,insideDestination:s,afterCritical:o})=>s.filter(l=>yS({target:YU(l,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})).sort((l,d)=>{const u=Xi(e,jf(r,D0(l,o))),h=Xi(e,jf(r,D0(d,o)));return u<h?-1:h<u?1:l.descriptor.index-d.descriptor.index})[0]||null,bl=Un(function(n,r){const s=r[n.line];return{value:s,point:Qo(n.line,s)}});const KU=(e,n,r)=>{const s=e.axis;if(e.descriptor.mode==="virtual")return Qo(s.line,n[s.line]);const o=e.subject.page.contentBox[s.size],u=ni(e.descriptor.id,r).reduce((h,f)=>h+f.client.marginBox[s.size],0)+n[s.line]-o;return u<=0?null:Qo(s.line,u)},SS=(e,n)=>({...e,scroll:{...e.scroll,max:n}}),CS=(e,n,r)=>{const s=e.frame;ri(n,e)&&Le(),e.subject.withPlaceholder&&Le();const o=bl(e.axis,n.displaceBy).point,i=KU(e,o,r),l={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!s){const f=za({page:e.subject.page,withPlaceholder:l,axis:e.axis,frame:e.frame});return{...e,subject:f}}const d=i?Jn(s.scroll.max,i):s.scroll.max,u=SS(s,d),h=za({page:e.subject.page,withPlaceholder:l,axis:e.axis,frame:u});return{...e,subject:h,frame:u}},XU=e=>{const n=e.subject.withPlaceholder;n||Le();const r=e.frame;if(!r){const l=za({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:l}}const s=n.oldFrameMaxScroll;s||Le();const o=SS(r,s),i=za({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return{...e,subject:i,frame:o}};var JU=({previousPageBorderBoxCenter:e,moveRelativeTo:n,insideDestination:r,draggable:s,draggables:o,destination:i,viewport:l,afterCritical:d})=>{if(!n){if(r.length)return null;const m={displaced:Ji,displacedBy:xS,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},g=Vd({impact:m,draggable:s,droppable:i,draggables:o,afterCritical:d}),y=ri(s,i)?i:CS(i,s,o);return wS({draggable:s,destination:y,newPageBorderBoxCenter:g,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?m:null}const u=e[i.axis.line]<=n.page.borderBox.center[i.axis.line],h=(()=>{const m=n.descriptor.index;return n.descriptor.id===s.descriptor.id||u?m:m+1})(),f=bl(i.axis,s.displaceBy);return id({draggable:s,insideDestination:r,destination:i,viewport:l,displacedBy:f,last:Ji,index:h})},QU=({isMovingForward:e,previousPageBorderBoxCenter:n,draggable:r,isOver:s,draggables:o,droppables:i,viewport:l,afterCritical:d})=>{const u=GU({isMovingForward:e,pageBorderBoxCenter:n,source:s,droppables:i,viewport:l});if(!u)return null;const h=ni(u.descriptor.id,o),f=qU({pageBorderBoxCenter:n,viewport:l,destination:u,insideDestination:h,afterCritical:d}),m=JU({previousPageBorderBoxCenter:n,destination:u,draggable:r,draggables:o,moveRelativeTo:f,insideDestination:h,viewport:l,afterCritical:d});if(!m)return null;const g=Vd({impact:m,draggable:r,droppable:u,draggables:o,afterCritical:d});return{clientSelection:tx({pageBorderBoxCenter:g,draggable:r,viewport:l}),impact:m,scrollJumpRequest:null}},Lr=e=>{const n=e.at;return n?n.type==="REORDER"?n.destination.droppableId:n.combine.droppableId:null};const ZU=(e,n)=>{const r=Lr(e);return r?n[r]:null};var eV=({state:e,type:n})=>{const r=ZU(e.impact,e.dimensions.droppables),s=!!r,o=e.dimensions.droppables[e.critical.droppable.id],i=r||o,l=i.axis.direction,d=l==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||l==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(d&&!s)return null;const u=n==="MOVE_DOWN"||n==="MOVE_RIGHT",h=e.dimensions.draggables[e.critical.draggable.id],f=e.current.page.borderBoxCenter,{draggables:m,droppables:g}=e.dimensions;return d?HU({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:h,destination:i,draggables:m,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):QU({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:h,isOver:i,draggables:m,droppables:g,viewport:e.viewport,afterCritical:e.afterCritical})};function Vo(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function PS(e){const n=Zr(e.top,e.bottom),r=Zr(e.left,e.right);return function(o){return n(o.y)&&r(o.x)}}function tV(e,n){return e.left<n.right&&e.right>n.left&&e.top<n.bottom&&e.bottom>n.top}function nV({pageBorderBox:e,draggable:n,candidates:r}){const s=n.page.borderBox.center,o=r.map(i=>{const l=i.axis,d=Qo(i.axis.line,e.center[l.line],i.page.borderBox.center[l.crossAxisLine]);return{id:i.descriptor.id,distance:Xi(s,d)}}).sort((i,l)=>l.distance-i.distance);return o[0]?o[0].id:null}function rV({pageBorderBox:e,draggable:n,droppables:r}){const s=Bd(r).filter(o=>{if(!o.isEnabled)return!1;const i=o.subject.active;if(!i||!tV(e,i))return!1;if(PS(i)(e.center))return!0;const l=o.axis,d=i.center[l.crossAxisLine],u=e[l.crossAxisStart],h=e[l.crossAxisEnd],f=Zr(i[l.crossAxisStart],i[l.crossAxisEnd]),m=f(u),g=f(h);return!m&&!g?!0:m?u<d:h>d});return s.length?s.length===1?s[0].descriptor.id:nV({pageBorderBox:e,draggable:n,candidates:s}):null}const IS=(e,n)=>hs(gl(e,n));var sV=(e,n)=>{const r=e.frame;return r?IS(n,r.scroll.diff.value):n};function DS({displaced:e,id:n}){return!!(e.visible[n]||e.invisible[n])}function oV({draggable:e,closest:n,inHomeList:r}){return n?r&&n.descriptor.index>e.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var aV=({pageBorderBoxWithDroppableScroll:e,draggable:n,destination:r,insideDestination:s,last:o,viewport:i,afterCritical:l})=>{const d=r.axis,u=bl(r.axis,n.displaceBy),h=u.value,f=e[d.start],m=e[d.end],y=Ud(n,s).find(w=>{const v=w.descriptor.id,I=w.page.borderBox.center[d.line],S=jo(v,l),D=DS({displaced:o,id:v});return S?D?m<=I:f<I-h:D?m<=I+h:f<I})||null,b=oV({draggable:n,closest:y,inHomeList:ri(n,r)});return id({draggable:n,insideDestination:s,destination:r,viewport:i,last:o,displacedBy:u,index:b})};const iV=4;var lV=({draggable:e,pageBorderBoxWithDroppableScroll:n,previousImpact:r,destination:s,insideDestination:o,afterCritical:i})=>{if(!s.isCombineEnabled)return null;const l=s.axis,d=bl(s.axis,e.displaceBy),u=d.value,h=n[l.start],f=n[l.end],g=Ud(e,o).find(b=>{const w=b.descriptor.id,v=b.page.borderBox,S=v[l.size]/iV,D=jo(w,i),T=DS({displaced:r.displaced,id:w});return D?T?f>v[l.start]+S&&f<v[l.end]-S:h>v[l.start]-u+S&&h<v[l.end]-u-S:T?f>v[l.start]+u+S&&f<v[l.end]+u-S:h>v[l.start]+S&&h<v[l.end]-S});return g?{displacedBy:d,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:g.descriptor.id,droppableId:s.descriptor.id}}}:null},TS=({pageOffset:e,draggable:n,draggables:r,droppables:s,previousImpact:o,viewport:i,afterCritical:l})=>{const d=IS(n.page.borderBox,e),u=rV({pageBorderBox:d,draggable:n,droppables:s});if(!u)return wU;const h=s[u],f=ni(h.descriptor.id,r),m=sV(h,d);return lV({pageBorderBoxWithDroppableScroll:m,draggable:n,previousImpact:o,destination:h,insideDestination:f,afterCritical:l})||aV({pageBorderBoxWithDroppableScroll:m,draggable:n,destination:h,insideDestination:f,last:o.displaced,viewport:i,afterCritical:l})},nx=(e,n)=>({...e,[n.descriptor.id]:n});const cV=({previousImpact:e,impact:n,droppables:r})=>{const s=Lr(e),o=Lr(n);if(!s||s===o)return r;const i=r[s];if(!i.subject.withPlaceholder)return r;const l=XU(i);return nx(r,l)};var dV=({draggable:e,draggables:n,droppables:r,previousImpact:s,impact:o})=>{const i=cV({previousImpact:s,impact:o,droppables:r}),l=Lr(o);if(!l)return i;const d=r[l];if(ri(e,d)||d.subject.withPlaceholder)return i;const u=CS(d,e,n);return nx(i,u)},Fi=({state:e,clientSelection:n,dimensions:r,viewport:s,impact:o,scrollJumpRequest:i})=>{const l=s||e.viewport,d=r||e.dimensions,u=n||e.current.client.selection,h=Nr(u,e.initial.client.selection),f={offset:h,selection:u,borderBoxCenter:Jn(e.initial.client.borderBoxCenter,h)},m={selection:Jn(f.selection,l.scroll.current),borderBoxCenter:Jn(f.borderBoxCenter,l.scroll.current),offset:Jn(f.offset,l.scroll.diff.value)},g={client:f,page:m};if(e.phase==="COLLECTING")return{...e,dimensions:d,viewport:l,current:g};const y=d.draggables[e.critical.draggable.id],b=o||TS({pageOffset:m.offset,draggable:y,draggables:d.draggables,droppables:d.droppables,previousImpact:e.impact,viewport:l,afterCritical:e.afterCritical}),w=dV({draggable:y,impact:b,previousImpact:e.impact,draggables:d.draggables,droppables:d.droppables});return{...e,current:g,dimensions:{draggables:d.draggables,droppables:w},impact:b,viewport:l,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}};function uV(e,n){return e.map(r=>n[r])}var ES=({impact:e,viewport:n,draggables:r,destination:s,forceShouldAnimate:o})=>{const i=e.displaced,l=uV(i.all,r),d=Qi({afterDragging:l,destination:s,displacedBy:e.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:i});return{...e,displaced:d}},AS=({impact:e,draggable:n,droppable:r,draggables:s,viewport:o,afterCritical:i})=>{const l=Vd({impact:e,draggable:n,draggables:s,droppable:r,afterCritical:i});return tx({pageBorderBoxCenter:l,draggable:n,viewport:o})},RS=({state:e,dimensions:n,viewport:r})=>{e.movementMode!=="SNAP"&&Le();const s=e.impact,o=r||e.viewport,i=n||e.dimensions,{draggables:l,droppables:d}=i,u=l[e.critical.draggable.id],h=Lr(s);h||Le();const f=d[h],m=ES({impact:s,viewport:o,destination:f,draggables:l}),g=AS({impact:m,draggable:u,droppable:f,draggables:l,viewport:o,afterCritical:e.afterCritical});return Fi({impact:m,clientSelection:g,state:e,dimensions:i,viewport:o})},hV=e=>({index:e.index,droppableId:e.droppableId}),kS=({draggable:e,home:n,draggables:r,viewport:s})=>{const o=bl(n.axis,e.displaceBy),i=ni(n.descriptor.id,r),l=i.indexOf(e);l===-1&&Le();const d=i.slice(l+1),u=d.reduce((g,y)=>(g[y.descriptor.id]=!0,g),{}),h={inVirtualList:n.descriptor.mode==="virtual",displacedBy:o,effected:u};return{impact:{displaced:Qi({afterDragging:d,destination:n,displacedBy:o,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:hV(e.descriptor)}},afterCritical:h}},fV=(e,n)=>({draggables:e.draggables,droppables:nx(e.droppables,n)}),pV=({draggable:e,offset:n,initialWindowScroll:r})=>{const s=rd(e.client,n),o=sd(s,r);return{...e,placeholder:{...e.placeholder,client:s},client:s,page:o}},mV=e=>{const n=e.frame;return n||Le(),n},xV=({additions:e,updatedDroppables:n,viewport:r})=>{const s=r.scroll.diff.value;return e.map(o=>{const i=o.descriptor.droppableId,l=n[i],u=mV(l).scroll.diff.value,h=Jn(s,u);return pV({draggable:o,offset:h,initialWindowScroll:r.scroll.initial})})},gV=({state:e,published:n})=>{const r=n.modified.map(I=>{const S=e.dimensions.droppables[I.droppableId];return Xm(S,I.scroll)}),s={...e.dimensions.droppables,...pS(r)},o=mS(xV({additions:n.additions,updatedDroppables:s,viewport:e.viewport})),i={...e.dimensions.draggables,...o};n.removals.forEach(I=>{delete i[I]});const l={droppables:s,draggables:i},d=Lr(e.impact),u=d?l.droppables[d]:null,h=l.draggables[e.critical.draggable.id],f=l.droppables[e.critical.droppable.id],{impact:m,afterCritical:g}=kS({draggable:h,home:f,draggables:i,viewport:e.viewport}),y=u&&u.isCombineEnabled?e.impact:m,b=TS({pageOffset:e.current.page.offset,draggable:l.draggables[e.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:y,viewport:e.viewport,afterCritical:g}),w={...e,phase:"DRAGGING",impact:b,onLiftImpact:m,dimensions:l,afterCritical:g,forceShouldAnimate:!1};return e.phase==="COLLECTING"?w:{...w,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const wf=e=>e.movementMode==="SNAP",Uh=(e,n,r)=>{const s=fV(e.dimensions,n);return!wf(e)||r?Fi({state:e,dimensions:s}):RS({state:e,dimensions:s})};function Vh(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const T0={phase:"IDLE",completed:null,shouldFlush:!1};var bV=(e=T0,n)=>{if(n.type==="FLUSH")return{...T0,shouldFlush:!0};if(n.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Le();const{critical:r,clientSelection:s,viewport:o,dimensions:i,movementMode:l}=n.payload,d=i.draggables[r.draggable.id],u=i.droppables[r.droppable.id],h={selection:s,borderBoxCenter:d.client.borderBox.center,offset:Vn},f={client:h,page:{selection:Jn(h.selection,o.scroll.initial),borderBoxCenter:Jn(h.selection,o.scroll.initial),offset:Jn(h.selection,o.scroll.diff.value)}},m=Bd(i.droppables).every(w=>!w.isFixedOnPage),{impact:g,afterCritical:y}=kS({draggable:d,home:u,draggables:i.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:l,dimensions:i,initial:f,current:f,isWindowScrollAllowed:m,impact:g,afterCritical:y,onLiftImpact:g,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if(n.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Le(),{...e,phase:"COLLECTING"});if(n.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Le(),gV({state:e,published:n.payload});if(n.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Vo(e)||Le();const{client:r}=n.payload;return go(r,e.current.client.selection)?e:Fi({state:e,clientSelection:r,impact:wf(e)?e.impact:null})}if(n.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Vh(e);Vo(e)||Le();const{id:r,newScroll:s}=n.payload,o=e.dimensions.droppables[r];if(!o)return e;const i=Xm(o,s);return Uh(e,i,!1)}if(n.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Vo(e)||Le();const{id:r,isEnabled:s}=n.payload,o=e.dimensions.droppables[r];o||Le(),o.isEnabled===s&&Le();const i={...o,isEnabled:s};return Uh(e,i,!0)}if(n.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Vo(e)||Le();const{id:r,isCombineEnabled:s}=n.payload,o=e.dimensions.droppables[r];o||Le(),o.isCombineEnabled===s&&Le();const i={...o,isCombineEnabled:s};return Uh(e,i,!0)}if(n.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Vo(e)||Le(),e.isWindowScrollAllowed||Le();const r=n.payload.newScroll;if(go(e.viewport.scroll.current,r))return Vh(e);const s=jS(e.viewport,r);return wf(e)?RS({state:e,viewport:s}):Fi({state:e,viewport:s})}if(n.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Vo(e))return e;const r=n.payload.maxScroll;if(go(r,e.viewport.scroll.max))return e;const s={...e.viewport,scroll:{...e.viewport.scroll,max:r}};return{...e,viewport:s}}if(n.type==="MOVE_UP"||n.type==="MOVE_DOWN"||n.type==="MOVE_LEFT"||n.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Le();const r=eV({state:e,type:n.type});return r?Fi({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if(n.type==="DROP_PENDING"){const r=n.payload.reason;return e.phase!=="COLLECTING"&&Le(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(n.type==="DROP_ANIMATE"){const{completed:r,dropDuration:s,newHomeClientOffset:o}=n.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Le(),{phase:"DROP_ANIMATING",completed:r,dropDuration:s,newHomeClientOffset:o,dimensions:e.dimensions}}if(n.type==="DROP_COMPLETE"){const{completed:r}=n.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return e};function Ut(e,n){return e instanceof Object&&"type"in e&&e.type===n}const yV=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),vV=e=>({type:"LIFT",payload:e}),jV=e=>({type:"INITIAL_PUBLISH",payload:e}),wV=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),SV=()=>({type:"COLLECTION_STARTING",payload:null}),CV=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),PV=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),IV=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),_S=e=>({type:"MOVE",payload:e}),DV=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),TV=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),EV=()=>({type:"MOVE_UP",payload:null}),AV=()=>({type:"MOVE_DOWN",payload:null}),RV=()=>({type:"MOVE_RIGHT",payload:null}),kV=()=>({type:"MOVE_LEFT",payload:null}),rx=()=>({type:"FLUSH",payload:null}),_V=e=>({type:"DROP_ANIMATE",payload:e}),sx=e=>({type:"DROP_COMPLETE",payload:e}),OS=e=>({type:"DROP",payload:e}),OV=e=>({type:"DROP_PENDING",payload:e}),MS=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var MV=e=>({getState:n,dispatch:r})=>s=>o=>{if(!Ut(o,"LIFT")){s(o);return}const{id:i,clientSelection:l,movementMode:d}=o.payload,u=n();u.phase==="DROP_ANIMATING"&&r(sx({completed:u.completed})),n().phase!=="IDLE"&&Le(),r(rx()),r(yV({draggableId:i,movementMode:d}));const f={draggableId:i,scrollOptions:{shouldPublishImmediately:d==="SNAP"}},{critical:m,dimensions:g,viewport:y}=e.startPublishing(f);r(jV({critical:m,dimensions:g,clientSelection:l,movementMode:d,viewport:y}))},NV=e=>()=>n=>r=>{Ut(r,"INITIAL_PUBLISH")&&e.dragging(),Ut(r,"DROP_ANIMATE")&&e.dropping(r.payload.completed.result.reason),(Ut(r,"FLUSH")||Ut(r,"DROP_COMPLETE"))&&e.resting(),n(r)};const ox={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Zi={opacity:{drop:0,combining:.7},scale:{drop:.75}},NS={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Fo=`${NS.outOfTheWay}s ${ox.outOfTheWay}`,Bi={fluid:`opacity ${Fo}`,snap:`transform ${Fo}, opacity ${Fo}`,drop:e=>{const n=`${e}s ${ox.drop}`;return`transform ${n}, opacity ${n}`},outOfTheWay:`transform ${Fo}`,placeholder:`height ${Fo}, width ${Fo}, margin ${Fo}`},E0=e=>go(e,Vn)?void 0:`translate(${e.x}px, ${e.y}px)`,Sf={moveTo:E0,drop:(e,n)=>{const r=E0(e);if(r)return n?`${r} scale(${Zi.scale.drop})`:r}},{minDropTime:Cf,maxDropTime:LS}=NS,LV=LS-Cf,A0=1500,$V=.6;var FV=({current:e,destination:n,reason:r})=>{const s=Xi(e,n);if(s<=0)return Cf;if(s>=A0)return LS;const o=s/A0,i=Cf+LV*o,l=r==="CANCEL"?i*$V:i;return Number(l.toFixed(2))},BV=({impact:e,draggable:n,dimensions:r,viewport:s,afterCritical:o})=>{const{draggables:i,droppables:l}=r,d=Lr(e),u=d?l[d]:null,h=l[n.descriptor.droppableId],f=AS({impact:e,draggable:n,draggables:i,afterCritical:o,droppable:u||h,viewport:s});return Nr(f,n.client.borderBox.center)},WV=({draggables:e,reason:n,lastImpact:r,home:s,viewport:o,onLiftImpact:i})=>!r.at||n!=="DROP"?{impact:ES({draggables:e,impact:i,destination:s,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:Ji},didDropInsideDroppable:!0};const UV=({getState:e,dispatch:n})=>r=>s=>{if(!Ut(s,"DROP")){r(s);return}const o=e(),i=s.payload.reason;if(o.phase==="COLLECTING"){n(OV({reason:i}));return}if(o.phase==="IDLE")return;o.phase==="DROP_PENDING"&&o.isWaiting&&Le(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||Le();const d=o.critical,u=o.dimensions,h=u.draggables[o.critical.draggable.id],{impact:f,didDropInsideDroppable:m}=WV({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),g=m?Jm(f):null,y=m?Wd(f):null,b={index:d.draggable.index,droppableId:d.droppable.id},w={draggableId:h.descriptor.id,type:h.descriptor.type,source:b,reason:i,mode:o.movementMode,destination:g,combine:y},v=BV({impact:f,draggable:h,dimensions:u,viewport:o.viewport,afterCritical:o.afterCritical}),I={critical:o.critical,afterCritical:o.afterCritical,result:w,impact:f};if(!(!go(o.current.client.offset,v)||!!w.combine)){n(sx({completed:I}));return}const D=FV({current:o.current.client.offset,destination:v,reason:i});n(_V({newHomeClientOffset:v,dropDuration:D,completed:I}))};var $S=()=>({x:window.pageXOffset,y:window.pageYOffset});function VV(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:n=>{n.target!==window&&n.target!==window.document||e()}}}function zV({onWindowScroll:e}){function n(){e($S())}const r=Ki(n),s=VV(r);let o=xo;function i(){return o!==xo}function l(){i()&&Le(),o=Jr(window,[s])}function d(){i()||Le(),r.cancel(),o(),o=xo}return{start:l,stop:d,isActive:i}}const HV=e=>Ut(e,"DROP_COMPLETE")||Ut(e,"DROP_ANIMATE")||Ut(e,"FLUSH"),GV=e=>{const n=zV({onWindowScroll:r=>{e.dispatch(DV({newScroll:r}))}});return r=>s=>{!n.isActive()&&Ut(s,"INITIAL_PUBLISH")&&n.start(),n.isActive()&&HV(s)&&n.stop(),r(s)}};var YV=e=>{let n=!1,r=!1;const s=setTimeout(()=>{r=!0}),o=i=>{n||r||(n=!0,e(i),clearTimeout(s))};return o.wasCalled=()=>n,o},qV=()=>{const e=[],n=o=>{const i=e.findIndex(d=>d.timerId===o);i===-1&&Le();const[l]=e.splice(i,1);l.callback()};return{add:o=>{const i=setTimeout(()=>n(i)),l={timerId:i,callback:o};e.push(l)},flush:()=>{if(!e.length)return;const o=[...e];e.length=0,o.forEach(i=>{clearTimeout(i.timerId),i.callback()})}}};const KV=(e,n)=>e==null&&n==null?!0:e==null||n==null?!1:e.droppableId===n.droppableId&&e.index===n.index,XV=(e,n)=>e==null&&n==null?!0:e==null||n==null?!1:e.draggableId===n.draggableId&&e.droppableId===n.droppableId,JV=(e,n)=>{if(e===n)return!0;const r=e.draggable.id===n.draggable.id&&e.draggable.droppableId===n.draggable.droppableId&&e.draggable.type===n.draggable.type&&e.draggable.index===n.draggable.index,s=e.droppable.id===n.droppable.id&&e.droppable.type===n.droppable.type;return r&&s},Di=(e,n)=>{n()},mc=(e,n)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:n});function zh(e,n,r,s){if(!e){r(s(n));return}const o=YV(r);e(n,{announce:o}),o.wasCalled()||r(s(n))}var QV=(e,n)=>{const r=qV();let s=null;const o=(m,g)=>{s&&Le(),Di("onBeforeCapture",()=>{const y=e().onBeforeCapture;y&&y({draggableId:m,mode:g})})},i=(m,g)=>{s&&Le(),Di("onBeforeDragStart",()=>{const y=e().onBeforeDragStart;y&&y(mc(m,g))})},l=(m,g)=>{s&&Le();const y=mc(m,g);s={mode:g,lastCritical:m,lastLocation:y.source,lastCombine:null},r.add(()=>{Di("onDragStart",()=>zh(e().onDragStart,y,n,Cc.onDragStart))})},d=(m,g)=>{const y=Jm(g),b=Wd(g);s||Le();const w=!JV(m,s.lastCritical);w&&(s.lastCritical=m);const v=!KV(s.lastLocation,y);v&&(s.lastLocation=y);const I=!XV(s.lastCombine,b);if(I&&(s.lastCombine=b),!w&&!v&&!I)return;const S={...mc(m,s.mode),combine:b,destination:y};r.add(()=>{Di("onDragUpdate",()=>zh(e().onDragUpdate,S,n,Cc.onDragUpdate))})},u=()=>{s||Le(),r.flush()},h=m=>{s||Le(),s=null,Di("onDragEnd",()=>zh(e().onDragEnd,m,n,Cc.onDragEnd))};return{beforeCapture:o,beforeStart:i,start:l,update:d,flush:u,drop:h,abort:()=>{if(!s)return;const m={...mc(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};h(m)}}},ZV=(e,n)=>{const r=QV(e,n);return s=>o=>i=>{if(Ut(i,"BEFORE_INITIAL_CAPTURE")){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(Ut(i,"INITIAL_PUBLISH")){const d=i.payload.critical;r.beforeStart(d,i.payload.movementMode),o(i),r.start(d,i.payload.movementMode);return}if(Ut(i,"DROP_COMPLETE")){const d=i.payload.completed.result;r.flush(),o(i),r.drop(d);return}if(o(i),Ut(i,"FLUSH")){r.abort();return}const l=s.getState();l.phase==="DRAGGING"&&r.update(l.critical,l.impact)}};const ez=e=>n=>r=>{if(!Ut(r,"DROP_ANIMATION_FINISHED")){n(r);return}const s=e.getState();s.phase!=="DROP_ANIMATING"&&Le(),e.dispatch(sx({completed:s.completed}))},tz=e=>{let n=null,r=null;function s(){r&&(cancelAnimationFrame(r),r=null),n&&(n(),n=null)}return o=>i=>{if((Ut(i,"FLUSH")||Ut(i,"DROP_COMPLETE")||Ut(i,"DROP_ANIMATION_FINISHED"))&&s(),o(i),!Ut(i,"DROP_ANIMATE"))return;const l={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(MS())}};r=requestAnimationFrame(()=>{r=null,n=Jr(window,[l])})}};var nz=e=>()=>n=>r=>{(Ut(r,"DROP_COMPLETE")||Ut(r,"FLUSH")||Ut(r,"DROP_ANIMATE"))&&e.stopPublishing(),n(r)},rz=e=>{let n=!1;return()=>r=>s=>{if(Ut(s,"INITIAL_PUBLISH")){n=!0,e.tryRecordFocus(s.payload.critical.draggable.id),r(s),e.tryRestoreFocusRecorded();return}if(r(s),!!n){if(Ut(s,"FLUSH")){n=!1,e.tryRestoreFocusRecorded();return}if(Ut(s,"DROP_COMPLETE")){n=!1;const o=s.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const sz=e=>Ut(e,"DROP_COMPLETE")||Ut(e,"DROP_ANIMATE")||Ut(e,"FLUSH");var oz=e=>n=>r=>s=>{if(sz(s)){e.stop(),r(s);return}if(Ut(s,"INITIAL_PUBLISH")){r(s);const o=n.getState();o.phase!=="DRAGGING"&&Le(),e.start(o);return}r(s),e.scroll(n.getState())};const az=e=>n=>r=>{if(n(r),!Ut(r,"PUBLISH_WHILE_DRAGGING"))return;const s=e.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||e.dispatch(OS({reason:s.reason})))},iz=eS;var lz=({dimensionMarshal:e,focusMarshal:n,styleMarshal:r,getResponders:s,announce:o,autoScroller:i})=>Zw(bV,iz(e6(NV(r),nz(e),MV(e),UV,ez,tz,az,oz(i),GV,rz(n),ZV(s,o))));const Hh=()=>({additions:{},removals:{},modified:{}});function cz({registry:e,callbacks:n}){let r=Hh(),s=null;const o=()=>{s||(n.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:u,removals:h,modified:f}=r,m=Object.keys(u).map(b=>e.draggable.getById(b).getDimension(Vn)).sort((b,w)=>b.descriptor.index-w.descriptor.index),g=Object.keys(f).map(b=>{const v=e.droppable.getById(b).callbacks.getScrollWhileDragging();return{droppableId:b,scroll:v}}),y={additions:m,removals:Object.keys(h),modified:g};r=Hh(),n.publish(y)}))};return{add:u=>{const h=u.descriptor.id;r.additions[h]=u,r.modified[u.descriptor.droppableId]=!0,r.removals[h]&&delete r.removals[h],o()},remove:u=>{const h=u.descriptor;r.removals[h.id]=!0,r.modified[h.droppableId]=!0,r.additions[h.id]&&delete r.additions[h.id],o()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,r=Hh())}}}var FS=({scrollHeight:e,scrollWidth:n,height:r,width:s})=>{const o=Nr({x:n,y:e},{x:s,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},BS=()=>{const e=document.documentElement;return e||Le(),e},WS=()=>{const e=BS();return FS({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},dz=()=>{const e=$S(),n=WS(),r=e.y,s=e.x,o=BS(),i=o.clientWidth,l=o.clientHeight,d=s+i,u=r+l;return{frame:hs({top:r,left:s,right:d,bottom:u}),scroll:{initial:e,current:e,max:n,diff:{value:Vn,displacement:Vn}}}},uz=({critical:e,scrollOptions:n,registry:r})=>{const s=dz(),o=s.scroll.current,i=e.droppable,l=r.droppable.getAllByType(i.type).map(f=>f.callbacks.getDimensionAndWatchScroll(o,n)),d=r.draggable.getAllByType(e.draggable.type).map(f=>f.getDimension(o));return{dimensions:{draggables:mS(d),droppables:pS(l)},critical:e,viewport:s}};function R0(e,n,r){return!(r.descriptor.id===n.id||r.descriptor.type!==n.type||e.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var hz=(e,n)=>{let r=null;const s=cz({callbacks:{publish:n.publishWhileDragging,collectionStarting:n.collectionStarting},registry:e}),o=(g,y)=>{e.droppable.exists(g)||Le(),r&&n.updateDroppableIsEnabled({id:g,isEnabled:y})},i=(g,y)=>{r&&(e.droppable.exists(g)||Le(),n.updateDroppableIsCombineEnabled({id:g,isCombineEnabled:y}))},l=(g,y)=>{r&&(e.droppable.exists(g)||Le(),n.updateDroppableScroll({id:g,newScroll:y}))},d=(g,y)=>{r&&e.droppable.getById(g).callbacks.scroll(y)},u=()=>{if(!r)return;s.stop();const g=r.critical.droppable;e.droppable.getAllByType(g.type).forEach(y=>y.callbacks.dragStopped()),r.unsubscribe(),r=null},h=g=>{r||Le();const y=r.critical.draggable;g.type==="ADDITION"&&R0(e,y,g.value)&&s.add(g.value),g.type==="REMOVAL"&&R0(e,y,g.value)&&s.remove(g.value)};return{updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:i,scrollDroppable:d,updateDroppableScroll:l,startPublishing:g=>{r&&Le();const y=e.draggable.getById(g.draggableId),b=e.droppable.getById(y.descriptor.droppableId),w={draggable:y.descriptor,droppable:b.descriptor},v=e.subscribe(h);return r={critical:w,unsubscribe:v},uz({critical:w,registry:e,scrollOptions:g.scrollOptions})},stopPublishing:u}},US=(e,n)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===n?!1:e.completed.result.reason==="DROP",fz=e=>{window.scrollBy(e.x,e.y)};const pz=Un(e=>Bd(e).filter(n=>!(!n.isEnabled||!n.frame))),mz=(e,n)=>pz(n).find(s=>(s.frame||Le(),PS(s.frame.pageMarginBox)(e)))||null;var xz=({center:e,destination:n,droppables:r})=>{if(n){const o=r[n];return o.frame?o:null}return mz(e,r)};const el={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var gz=(e,n,r=()=>el)=>{const s=r(),o=e[n.size]*s.startFromPercentage,i=e[n.size]*s.maxScrollAtPercentage;return{startScrollingFrom:o,maxScrollValueAt:i}},VS=({startOfRange:e,endOfRange:n,current:r})=>{const s=n-e;return s===0?0:(r-e)/s},ax=1,bz=(e,n,r=()=>el)=>{const s=r();if(e>n.startScrollingFrom)return 0;if(e<=n.maxScrollValueAt)return s.maxPixelScroll;if(e===n.startScrollingFrom)return ax;const i=1-VS({startOfRange:n.maxScrollValueAt,endOfRange:n.startScrollingFrom,current:e}),l=s.maxPixelScroll*s.ease(i);return Math.ceil(l)},yz=(e,n,r)=>{const s=r(),o=s.durationDampening.accelerateAt,i=s.durationDampening.stopDampeningAt,l=n,d=i,h=Date.now()-l;if(h>=i)return e;if(h<o)return ax;const f=VS({startOfRange:o,endOfRange:d,current:h}),m=e*s.ease(f);return Math.ceil(m)},k0=({distanceToEdge:e,thresholds:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const i=bz(e,n,o);return i===0?0:s?Math.max(yz(i,r,o),ax):i},_0=({container:e,distanceToEdges:n,dragStartTime:r,axis:s,shouldUseTimeDampening:o,getAutoScrollerOptions:i})=>{const l=gz(e,s,i);return n[s.end]<n[s.start]?k0({distanceToEdge:n[s.end],thresholds:l,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i}):-1*k0({distanceToEdge:n[s.start],thresholds:l,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i})},vz=({container:e,subject:n,proposedScroll:r})=>{const s=n.height>e.height,o=n.width>e.width;return!o&&!s?r:o&&s?null:{x:o?0:r.x,y:s?0:r.y}};const jz=fS(e=>e===0?0:e);var zS=({dragStartTime:e,container:n,subject:r,center:s,shouldUseTimeDampening:o,getAutoScrollerOptions:i})=>{const l={top:s.y-n.top,right:n.right-s.x,bottom:n.bottom-s.y,left:s.x-n.left},d=_0({container:n,distanceToEdges:l,dragStartTime:e,axis:Qm,shouldUseTimeDampening:o,getAutoScrollerOptions:i}),u=_0({container:n,distanceToEdges:l,dragStartTime:e,axis:bS,shouldUseTimeDampening:o,getAutoScrollerOptions:i}),h=jz({x:u,y:d});if(go(h,Vn))return null;const f=vz({container:n,subject:r,proposedScroll:h});return f?go(f,Vn)?null:f:null};const wz=fS(e=>e===0?0:e>0?1:-1),ix=(()=>{const e=(n,r)=>n<0?n:n>r?n-r:0;return({current:n,max:r,change:s})=>{const o=Jn(n,s),i={x:e(o.x,r.x),y:e(o.y,r.y)};return go(i,Vn)?null:i}})(),HS=({max:e,current:n,change:r})=>{const s={x:Math.max(n.x,e.x),y:Math.max(n.y,e.y)},o=wz(r),i=ix({max:s,current:n,change:o});return!i||o.x!==0&&i.x===0||o.y!==0&&i.y===0},lx=(e,n)=>HS({current:e.scroll.current,max:e.scroll.max,change:n}),Sz=(e,n)=>{if(!lx(e,n))return null;const r=e.scroll.max,s=e.scroll.current;return ix({current:s,max:r,change:n})},cx=(e,n)=>{const r=e.frame;return r?HS({current:r.scroll.current,max:r.scroll.max,change:n}):!1},Cz=(e,n)=>{const r=e.frame;return!r||!cx(e,n)?null:ix({current:r.scroll.current,max:r.scroll.max,change:n})};var Pz=({viewport:e,subject:n,center:r,dragStartTime:s,shouldUseTimeDampening:o,getAutoScrollerOptions:i})=>{const l=zS({dragStartTime:s,container:e.frame,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i});return l&&lx(e,l)?l:null},Iz=({droppable:e,subject:n,center:r,dragStartTime:s,shouldUseTimeDampening:o,getAutoScrollerOptions:i})=>{const l=e.frame;if(!l)return null;const d=zS({dragStartTime:s,container:l.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i});return d&&cx(e,d)?d:null},O0=({state:e,dragStartTime:n,shouldUseTimeDampening:r,scrollWindow:s,scrollDroppable:o,getAutoScrollerOptions:i})=>{const l=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const m=e.viewport,g=Pz({dragStartTime:n,viewport:m,subject:u,center:l,shouldUseTimeDampening:r,getAutoScrollerOptions:i});if(g){s(g);return}}const h=xz({center:l,destination:Lr(e.impact),droppables:e.dimensions.droppables});if(!h)return;const f=Iz({dragStartTime:n,droppable:h,subject:u,center:l,shouldUseTimeDampening:r,getAutoScrollerOptions:i});f&&o(h.descriptor.id,f)},Dz=({scrollWindow:e,scrollDroppable:n,getAutoScrollerOptions:r=()=>el})=>{const s=Ki(e),o=Ki(n);let i=null;const l=h=>{i||Le();const{shouldUseTimeDampening:f,dragStartTime:m}=i;O0({state:h,scrollWindow:s,scrollDroppable:o,dragStartTime:m,shouldUseTimeDampening:f,getAutoScrollerOptions:r})};return{start:h=>{i&&Le();const f=Date.now();let m=!1;const g=()=>{m=!0};O0({state:h,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:g,scrollDroppable:g,getAutoScrollerOptions:r}),i={dragStartTime:f,shouldUseTimeDampening:m},m&&l(h)},stop:()=>{i&&(s.cancel(),o.cancel(),i=null)},scroll:l}},Tz=({move:e,scrollDroppable:n,scrollWindow:r})=>{const s=(d,u)=>{const h=Jn(d.current.client.selection,u);e({client:h})},o=(d,u)=>{if(!cx(d,u))return u;const h=Cz(d,u);if(!h)return n(d.descriptor.id,u),null;const f=Nr(u,h);return n(d.descriptor.id,f),Nr(u,f)},i=(d,u,h)=>{if(!d||!lx(u,h))return h;const f=Sz(u,h);if(!f)return r(h),null;const m=Nr(h,f);return r(m),Nr(h,m)};return d=>{const u=d.scrollJumpRequest;if(!u)return;const h=Lr(d.impact);h||Le();const f=o(d.dimensions.droppables[h],u);if(!f)return;const m=d.viewport,g=i(d.isWindowScrollAllowed,m,f);g&&s(d,g)}},Ez=({scrollDroppable:e,scrollWindow:n,move:r,getAutoScrollerOptions:s})=>{const o=Dz({scrollWindow:n,scrollDroppable:e,getAutoScrollerOptions:s}),i=Tz({move:r,scrollWindow:n,scrollDroppable:e});return{scroll:u=>{if(!(s().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){o.scroll(u);return}u.scrollJumpRequest&&i(u)}},start:o.start,stop:o.stop}};const Ha="data-rfd",Ga=(()=>{const e=`${Ha}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Pf=(()=>{const e=`${Ha}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Az=(()=>{const e=`${Ha}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),M0={contextId:`${Ha}-scroll-container-context-id`},Rz=e=>n=>`[${n}="${e}"]`,Ti=(e,n)=>e.map(r=>{const s=r.styles[n];return s?`${r.selector} { ${s} }`:""}).join(" "),kz="pointer-events: none;";var _z=e=>{const n=Rz(e),r=(()=>{const d=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:n(Ga.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:d,dragging:kz,dropAnimating:d}}})(),s=(()=>{const d=`
      transition: ${Bi.outOfTheWay};
    `;return{selector:n(Pf.contextId),styles:{dragging:d,dropAnimating:d,userCancel:d}}})(),o={selector:n(Az.contextId),styles:{always:"overflow-anchor: none;"}},l=[s,r,o,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Ti(l,"always"),resting:Ti(l,"resting"),dragging:Ti(l,"dragging"),dropAnimating:Ti(l,"dropAnimating"),userCancel:Ti(l,"userCancel")}};const $r=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?x.useLayoutEffect:x.useEffect,Gh=()=>{const e=document.querySelector("head");return e||Le(),e},N0=e=>{const n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.type="text/css",n};function Oz(e,n){const r=Ot(()=>_z(e),[e]),s=x.useRef(null),o=x.useRef(null),i=st(Un(m=>{const g=o.current;g||Le(),g.textContent=m}),[]),l=st(m=>{const g=s.current;g||Le(),g.textContent=m},[]);$r(()=>{!s.current&&!o.current||Le();const m=N0(n),g=N0(n);return s.current=m,o.current=g,m.setAttribute(`${Ha}-always`,e),g.setAttribute(`${Ha}-dynamic`,e),Gh().appendChild(m),Gh().appendChild(g),l(r.always),i(r.resting),()=>{const y=b=>{const w=b.current;w||Le(),Gh().removeChild(w),b.current=null};y(s),y(o)}},[n,l,i,r.always,r.resting,e]);const d=st(()=>i(r.dragging),[i,r.dragging]),u=st(m=>{if(m==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),h=st(()=>{o.current&&i(r.resting)},[i,r.resting]);return Ot(()=>({dragging:d,dropping:u,resting:h}),[d,u,h])}function GS(e,n){return Array.from(e.querySelectorAll(n))}var YS=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function zd(e){return e instanceof YS(e).HTMLElement}function Mz(e,n){const r=`[${Ga.contextId}="${e}"]`,s=GS(document,r);if(!s.length)return null;const o=s.find(i=>i.getAttribute(Ga.draggableId)===n);return!o||!zd(o)?null:o}function Nz(e){const n=x.useRef({}),r=x.useRef(null),s=x.useRef(null),o=x.useRef(!1),i=st(function(g,y){const b={id:g,focus:y};return n.current[g]=b,function(){const v=n.current;v[g]!==b&&delete v[g]}},[]),l=st(function(g){const y=Mz(e,g);y&&y!==document.activeElement&&y.focus()},[e]),d=st(function(g,y){r.current===g&&(r.current=y)},[]),u=st(function(){s.current||o.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const g=r.current;g&&l(g)}))},[l]),h=st(function(g){r.current=null;const y=document.activeElement;y&&y.getAttribute(Ga.draggableId)===g&&(r.current=g)},[]);return $r(()=>(o.current=!0,function(){o.current=!1;const g=s.current;g&&cancelAnimationFrame(g)}),[]),Ot(()=>({register:i,tryRecordFocus:h,tryRestoreFocusRecorded:u,tryShiftRecord:d}),[i,h,u,d])}function Lz(){const e={draggables:{},droppables:{}},n=[];function r(m){return n.push(m),function(){const y=n.indexOf(m);y!==-1&&n.splice(y,1)}}function s(m){n.length&&n.forEach(g=>g(m))}function o(m){return e.draggables[m]||null}function i(m){const g=o(m);return g||Le(),g}const l={register:m=>{e.draggables[m.descriptor.id]=m,s({type:"ADDITION",value:m})},update:(m,g)=>{const y=e.draggables[g.descriptor.id];y&&y.uniqueId===m.uniqueId&&(delete e.draggables[g.descriptor.id],e.draggables[m.descriptor.id]=m)},unregister:m=>{const g=m.descriptor.id,y=o(g);y&&m.uniqueId===y.uniqueId&&(delete e.draggables[g],e.droppables[m.descriptor.droppableId]&&s({type:"REMOVAL",value:m}))},getById:i,findById:o,exists:m=>!!o(m),getAllByType:m=>Object.values(e.draggables).filter(g=>g.descriptor.type===m)};function d(m){return e.droppables[m]||null}function u(m){const g=d(m);return g||Le(),g}const h={register:m=>{e.droppables[m.descriptor.id]=m},unregister:m=>{const g=d(m.descriptor.id);g&&m.uniqueId===g.uniqueId&&delete e.droppables[m.descriptor.id]},getById:u,findById:d,exists:m=>!!d(m),getAllByType:m=>Object.values(e.droppables).filter(g=>g.descriptor.type===m)};function f(){e.draggables={},e.droppables={},n.length=0}return{draggable:l,droppable:h,subscribe:r,clean:f}}function $z(){const e=Ot(Lz,[]);return x.useEffect(()=>function(){e.clean()},[e]),e}var dx=Tt.createContext(null),ld=()=>{const e=document.body;return e||Le(),e};const Fz={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Bz=e=>`rfd-announcement-${e}`;function Wz(e){const n=Ot(()=>Bz(e),[e]),r=x.useRef(null);return x.useEffect(function(){const i=document.createElement("div");return r.current=i,i.id=n,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),V(i.style,Fz),ld().appendChild(i),function(){setTimeout(function(){const u=ld();u.contains(i)&&u.removeChild(i),i===r.current&&(r.current=null)})}},[n]),st(o=>{const i=r.current;if(i){i.textContent=o;return}},[])}const Uz={separator:"::"};function ux(e,n=Uz){const r=Tt.useId();return Ot(()=>`${e}${n.separator}${r}`,[n.separator,e,r])}function Vz({contextId:e,uniqueId:n}){return`rfd-hidden-text-${e}-${n}`}function zz({contextId:e,text:n}){const r=ux("hidden-text",{separator:"-"}),s=Ot(()=>Vz({contextId:e,uniqueId:r}),[r,e]);return x.useEffect(function(){const i=document.createElement("div");return i.id=s,i.textContent=n,i.style.display="none",ld().appendChild(i),function(){const d=ld();d.contains(i)&&d.removeChild(i)}},[s,n]),s}var Hd=Tt.createContext(null);function qS(e){const n=x.useRef(e);return x.useEffect(()=>{n.current=e}),n}function Hz(){let e=null;function n(){return!!e}function r(l){return l===e}function s(l){e&&Le();const d={abandon:l};return e=d,d}function o(){e||Le(),e=null}function i(){e&&(e.abandon(),o())}return{isClaimed:n,isActive:r,claim:s,release:o,tryAbandon:i}}function tl(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const Gz=9,Yz=13,hx=27,KS=32,qz=33,Kz=34,Xz=35,Jz=36,Qz=37,Zz=38,e8=39,t8=40,n8={[Yz]:!0,[Gz]:!0};var XS=e=>{n8[e.keyCode]&&e.preventDefault()};const Gd=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(s=>`on${s}`in document)||e})(),JS=0,L0=5;function r8(e,n){return Math.abs(n.x-e.x)>=L0||Math.abs(n.y-e.y)>=L0}const $0={type:"IDLE"};function s8({cancel:e,completed:n,getPhase:r,setPhase:s}){return[{eventName:"mousemove",fn:o=>{const{button:i,clientX:l,clientY:d}=o;if(i!==JS)return;const u={x:l,y:d},h=r();if(h.type==="DRAGGING"){o.preventDefault(),h.actions.move(u);return}h.type!=="PENDING"&&Le();const f=h.point;if(!r8(f,u))return;o.preventDefault();const m=h.actions.fluidLift(u);s({type:"DRAGGING",actions:m})}},{eventName:"mouseup",fn:o=>{const i=r();if(i.type!=="DRAGGING"){e();return}o.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:o=>{r().type==="DRAGGING"&&o.preventDefault(),e()}},{eventName:"keydown",fn:o=>{if(r().type==="PENDING"){e();return}if(o.keyCode===hx){o.preventDefault(),e();return}XS(o)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:o=>{const i=r();if(i.type==="IDLE"&&Le(),i.actions.shouldRespectForcePress()){e();return}o.preventDefault()}},{eventName:Gd,fn:e}]}function o8(e){const n=x.useRef($0),r=x.useRef(xo),s=Ot(()=>({eventName:"mousedown",fn:function(m){if(m.defaultPrevented||m.button!==JS||m.ctrlKey||m.metaKey||m.shiftKey||m.altKey)return;const g=e.findClosestDraggableId(m);if(!g)return;const y=e.tryGetLock(g,l,{sourceEvent:m});if(!y)return;m.preventDefault();const b={x:m.clientX,y:m.clientY};r.current(),h(y,b)}}),[e]),o=Ot(()=>({eventName:"webkitmouseforcewillbegin",fn:f=>{if(f.defaultPrevented)return;const m=e.findClosestDraggableId(f);if(!m)return;const g=e.findOptionsForDraggable(m);g&&(g.shouldRespectForcePress||e.canGetLock(m)&&f.preventDefault())}}),[e]),i=st(function(){const m={passive:!1,capture:!0};r.current=Jr(window,[o,s],m)},[o,s]),l=st(()=>{n.current.type!=="IDLE"&&(n.current=$0,r.current(),i())},[i]),d=st(()=>{const f=n.current;l(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[l]),u=st(function(){const m={capture:!0,passive:!1},g=s8({cancel:d,completed:l,getPhase:()=>n.current,setPhase:y=>{n.current=y}});r.current=Jr(window,g,m)},[d,l]),h=st(function(m,g){n.current.type!=="IDLE"&&Le(),n.current={type:"PENDING",point:g,actions:m},u()},[u]);$r(function(){return i(),function(){r.current()}},[i])}function a8(){}const i8={[Kz]:!0,[qz]:!0,[Jz]:!0,[Xz]:!0};function l8(e,n){function r(){n(),e.cancel()}function s(){n(),e.drop()}return[{eventName:"keydown",fn:o=>{if(o.keyCode===hx){o.preventDefault(),r();return}if(o.keyCode===KS){o.preventDefault(),s();return}if(o.keyCode===t8){o.preventDefault(),e.moveDown();return}if(o.keyCode===Zz){o.preventDefault(),e.moveUp();return}if(o.keyCode===e8){o.preventDefault(),e.moveRight();return}if(o.keyCode===Qz){o.preventDefault(),e.moveLeft();return}if(i8[o.keyCode]){o.preventDefault();return}XS(o)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Gd,fn:r}]}function c8(e){const n=x.useRef(a8),r=Ot(()=>({eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==KS)return;const l=e.findClosestDraggableId(i);if(!l)return;const d=e.tryGetLock(l,f,{sourceEvent:i});if(!d)return;i.preventDefault();let u=!0;const h=d.snapLift();n.current();function f(){u||Le(),u=!1,n.current(),s()}n.current=Jr(window,l8(h,f),{capture:!0,passive:!1})}}),[e]),s=st(function(){const i={passive:!1,capture:!0};n.current=Jr(window,[r],i)},[r]);$r(function(){return s(),function(){n.current()}},[s])}const Yh={type:"IDLE"},d8=120,u8=.15;function h8({cancel:e,getPhase:n}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.keyCode===hx&&r.preventDefault(),e()}},{eventName:Gd,fn:e}]}function f8({cancel:e,completed:n,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const o=r();if(o.type!=="DRAGGING"){e();return}o.hasMoved=!0;const{clientX:i,clientY:l}=s.touches[0],d={x:i,y:l};s.preventDefault(),o.actions.move(d)}},{eventName:"touchend",fn:s=>{const o=r();if(o.type!=="DRAGGING"){e();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:s=>{if(r().type!=="DRAGGING"){e();return}s.preventDefault(),e()}},{eventName:"touchforcechange",fn:s=>{const o=r();o.type==="IDLE"&&Le();const i=s.touches[0];if(!i||!(i.force>=u8))return;const d=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){d&&e();return}if(d){if(o.hasMoved){s.preventDefault();return}e();return}s.preventDefault()}},{eventName:Gd,fn:e}]}function p8(e){const n=x.useRef(Yh),r=x.useRef(xo),s=st(function(){return n.current},[]),o=st(function(y){n.current=y},[]),i=Ot(()=>({eventName:"touchstart",fn:function(y){if(y.defaultPrevented)return;const b=e.findClosestDraggableId(y);if(!b)return;const w=e.tryGetLock(b,d,{sourceEvent:y});if(!w)return;const v=y.touches[0],{clientX:I,clientY:S}=v,D={x:I,y:S};r.current(),m(w,D)}}),[e]),l=st(function(){const y={capture:!0,passive:!1};r.current=Jr(window,[i],y)},[i]),d=st(()=>{const g=n.current;g.type!=="IDLE"&&(g.type==="PENDING"&&clearTimeout(g.longPressTimerId),o(Yh),r.current(),l())},[l,o]),u=st(()=>{const g=n.current;d(),g.type==="DRAGGING"&&g.actions.cancel({shouldBlockNextClick:!0}),g.type==="PENDING"&&g.actions.abort()},[d]),h=st(function(){const y={capture:!0,passive:!1},b={cancel:u,completed:d,getPhase:s},w=Jr(window,f8(b),y),v=Jr(window,h8(b),y);r.current=function(){w(),v()}},[u,s,d]),f=st(function(){const y=s();y.type!=="PENDING"&&Le();const b=y.actions.fluidLift(y.point);o({type:"DRAGGING",actions:b,hasMoved:!1})},[s,o]),m=st(function(y,b){s().type!=="IDLE"&&Le();const w=setTimeout(f,d8);o({type:"PENDING",point:b,actions:y,longPressTimerId:w}),h()},[h,s,o,f]);$r(function(){return l(),function(){r.current();const b=s();b.type==="PENDING"&&(clearTimeout(b.longPressTimerId),o(Yh))}},[s,l,o]),$r(function(){return Jr(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const m8=["input","button","textarea","select","option","optgroup","video","audio"];function QS(e,n){if(n==null)return!1;if(m8.includes(n.tagName.toLowerCase()))return!0;const s=n.getAttribute("contenteditable");return s==="true"||s===""?!0:n===e?!1:QS(e,n.parentElement)}function x8(e,n){const r=n.target;return zd(r)?QS(e,r):!1}var g8=e=>hs(e.getBoundingClientRect()).center;function b8(e){return e instanceof YS(e).Element}const y8=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||e})();function ZS(e,n){return e==null?null:e[y8](n)?e:ZS(e.parentElement,n)}function v8(e,n){return e.closest?e.closest(n):ZS(e,n)}function j8(e){return`[${Ga.contextId}="${e}"]`}function w8(e,n){const r=n.target;if(!b8(r))return null;const s=j8(e),o=v8(r,s);return!o||!zd(o)?null:o}function S8(e,n){const r=w8(e,n);return r?r.getAttribute(Ga.draggableId):null}function C8(e,n){const r=`[${Pf.contextId}="${e}"]`,o=GS(document,r).find(i=>i.getAttribute(Pf.id)===n);return!o||!zd(o)?null:o}function P8(e){e.preventDefault()}function xc({expected:e,phase:n,isLockActive:r,shouldWarn:s}){return!(!r()||e!==n)}function e1({lockAPI:e,store:n,registry:r,draggableId:s}){if(e.isClaimed())return!1;const o=r.draggable.findById(s);return!(!o||!o.options.isEnabled||!US(n.getState(),s))}function I8({lockAPI:e,contextId:n,store:r,registry:s,draggableId:o,forceSensorStop:i,sourceEvent:l}){if(!e1({lockAPI:e,store:r,registry:s,draggableId:o}))return null;const u=s.draggable.getById(o),h=C8(n,u.descriptor.id);if(!h||l&&!u.options.canDragInteractiveElements&&x8(h,l))return null;const f=e.claim(i||xo);let m="PRE_DRAG";function g(){return u.options.shouldRespectForcePress}function y(){return e.isActive(f)}function b(E,R){xc({expected:E,phase:m,isLockActive:y,shouldWarn:!0})&&r.dispatch(R())}const w=b.bind(null,"DRAGGING");function v(E){function R(){e.release(),m="COMPLETED"}m!=="PRE_DRAG"&&(R(),Le()),r.dispatch(vV(E.liftActionArgs)),m="DRAGGING";function O(k,N={shouldBlockNextClick:!1}){if(E.cleanup(),N.shouldBlockNextClick){const B=Jr(window,[{eventName:"click",fn:P8,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(B)}R(),r.dispatch(OS({reason:k}))}return{isActive:()=>xc({expected:"DRAGGING",phase:m,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:g,drop:k=>O("DROP",k),cancel:k=>O("CANCEL",k),...E.actions}}function I(E){const R=Ki(k=>{w(()=>_S({client:k}))});return{...v({liftActionArgs:{id:o,clientSelection:E,movementMode:"FLUID"},cleanup:()=>R.cancel(),actions:{move:R}}),move:R}}function S(){const E={moveUp:()=>w(EV),moveRight:()=>w(RV),moveDown:()=>w(AV),moveLeft:()=>w(kV)};return v({liftActionArgs:{id:o,clientSelection:g8(h),movementMode:"SNAP"},cleanup:xo,actions:E})}function D(){xc({expected:"PRE_DRAG",phase:m,isLockActive:y,shouldWarn:!0})&&e.release()}return{isActive:()=>xc({expected:"PRE_DRAG",phase:m,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:g,fluidLift:I,snapLift:S,abort:D}}const D8=[o8,c8,p8];function T8({contextId:e,store:n,registry:r,customSensors:s,enableDefaultSensors:o}){const i=[...o?D8:[],...s||[]],l=x.useState(()=>Hz())[0],d=st(function(v,I){tl(v)&&!tl(I)&&l.tryAbandon()},[l]);$r(function(){let v=n.getState();return n.subscribe(()=>{const S=n.getState();d(v,S),v=S})},[l,n,d]),$r(()=>l.tryAbandon,[l.tryAbandon]);const u=st(w=>e1({lockAPI:l,registry:r,store:n,draggableId:w}),[l,r,n]),h=st((w,v,I)=>I8({lockAPI:l,registry:r,contextId:e,store:n,draggableId:w,forceSensorStop:v||null,sourceEvent:I&&I.sourceEvent?I.sourceEvent:null}),[e,l,r,n]),f=st(w=>S8(e,w),[e]),m=st(w=>{const v=r.draggable.findById(w);return v?v.options:null},[r.draggable]),g=st(function(){l.isClaimed()&&(l.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(rx()))},[l,n]),y=st(()=>l.isClaimed(),[l]),b=Ot(()=>({canGetLock:u,tryGetLock:h,findClosestDraggableId:f,findOptionsForDraggable:m,tryReleaseLock:g,isLockClaimed:y}),[u,h,f,m,g,y]);for(let w=0;w<i.length;w++)i[w](b)}const E8=e=>({onBeforeCapture:n=>{const r=()=>{e.onBeforeCapture&&e.onBeforeCapture(n)};Mf.flushSync(r)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),A8=e=>({...el,...e.autoScrollerOptions,durationDampening:{...el.durationDampening,...e.autoScrollerOptions}});function Ei(e){return e.current||Le(),e.current}function R8(e){const{contextId:n,setCallbacks:r,sensors:s,nonce:o,dragHandleUsageInstructions:i}=e,l=x.useRef(null),d=qS(e),u=st(()=>E8(d.current),[d]),h=st(()=>A8(d.current),[d]),f=Wz(n),m=zz({contextId:n,text:i}),g=Oz(n,o),y=st(B=>{Ei(l).dispatch(B)},[]),b=Ot(()=>u0({publishWhileDragging:wV,updateDroppableScroll:CV,updateDroppableIsEnabled:PV,updateDroppableIsCombineEnabled:IV,collectionStarting:SV},y),[y]),w=$z(),v=Ot(()=>hz(w,b),[w,b]),I=Ot(()=>Ez({scrollWindow:fz,scrollDroppable:v.scrollDroppable,getAutoScrollerOptions:h,...u0({move:_S},y)}),[v.scrollDroppable,y,h]),S=Nz(n),D=Ot(()=>lz({announce:f,autoScroller:I,dimensionMarshal:v,focusMarshal:S,getResponders:u,styleMarshal:g}),[f,I,v,S,u,g]);l.current=D;const T=st(()=>{const B=Ei(l);B.getState().phase!=="IDLE"&&B.dispatch(rx())},[]),E=st(()=>{const B=Ei(l).getState();return B.phase==="DROP_ANIMATING"?!0:B.phase==="IDLE"?!1:B.isDragging},[]),R=Ot(()=>({isDragging:E,tryAbort:T}),[E,T]);r(R);const O=st(B=>US(Ei(l).getState(),B),[]),k=st(()=>Vo(Ei(l).getState()),[]),N=Ot(()=>({marshal:v,focus:S,contextId:n,canLift:O,isMovementAllowed:k,dragHandleUsageInstructionsId:m,registry:w}),[n,v,m,S,O,k,w]);return T8({contextId:n,store:D,registry:w,customSensors:s||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),x.useEffect(()=>T,[T]),Tt.createElement(Hd.Provider,{value:N},Tt.createElement(tU,{context:dx,store:D},e.children))}function k8(){return Tt.useId()}function _8(e){const n=k8(),r=e.dragHandleUsageInstructions||Cc.dragHandleUsageInstructions;return Tt.createElement(dU,null,s=>Tt.createElement(R8,{nonce:e.nonce,contextId:n,setCallbacks:s,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const F0={dragging:5e3,dropAnimating:4500},O8=(e,n)=>n?Bi.drop(n.duration):e?Bi.snap:Bi.fluid,M8=(e,n)=>{if(e)return n?Zi.opacity.drop:Zi.opacity.combining},N8=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function L8(e){const r=e.dimension.client,{offset:s,combineWith:o,dropping:i}=e,l=!!o,d=N8(e),u=!!i,h=u?Sf.drop(s,l):Sf.moveTo(s);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:O8(d,i),transform:h,opacity:M8(l,u),zIndex:u?F0.dropAnimating:F0.dragging,pointerEvents:"none"}}function $8(e){return{transform:Sf.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function F8(e){return e.type==="DRAGGING"?L8(e):$8(e)}function B8(e,n,r=Vn){const s=window.getComputedStyle(n),o=n.getBoundingClientRect(),i=lS(o,s),l=sd(i,r),d={client:i,tagName:n.tagName.toLowerCase(),display:s.display},u={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:e,placeholder:d,displaceBy:u,client:i,page:l}}function W8(e){const n=ux("draggable"),{descriptor:r,registry:s,getDraggableRef:o,canDragInteractiveElements:i,shouldRespectForcePress:l,isEnabled:d}=e,u=Ot(()=>({canDragInteractiveElements:i,shouldRespectForcePress:l,isEnabled:d}),[i,d,l]),h=st(y=>{const b=o();return b||Le(),B8(r,b,y)},[r,o]),f=Ot(()=>({uniqueId:n,descriptor:r,options:u,getDimension:h}),[r,h,u,n]),m=x.useRef(f),g=x.useRef(!0);$r(()=>(s.draggable.register(m.current),()=>s.draggable.unregister(m.current)),[s.draggable]),$r(()=>{if(g.current){g.current=!1;return}const y=m.current;m.current=f,s.draggable.update(f,y)},[f,s.draggable])}var fx=Tt.createContext(null);function cd(e){const n=x.useContext(e);return n||Le(),n}function U8(e){e.preventDefault()}const V8=e=>{const n=x.useRef(null),r=st((R=null)=>{n.current=R},[]),s=st(()=>n.current,[]),{contextId:o,dragHandleUsageInstructionsId:i,registry:l}=cd(Hd),{type:d,droppableId:u}=cd(fx),h=Ot(()=>({id:e.draggableId,index:e.index,type:d,droppableId:u}),[e.draggableId,e.index,d,u]),{children:f,draggableId:m,isEnabled:g,shouldRespectForcePress:y,canDragInteractiveElements:b,isClone:w,mapped:v,dropAnimationFinished:I}=e;if(!w){const R=Ot(()=>({descriptor:h,registry:l,getDraggableRef:s,canDragInteractiveElements:b,shouldRespectForcePress:y,isEnabled:g}),[h,l,s,b,y,g]);W8(R)}const S=Ot(()=>g?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":m,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:U8}:null,[o,i,m,g]),D=st(R=>{v.type==="DRAGGING"&&v.dropping&&R.propertyName==="transform"&&Mf.flushSync(I)},[I,v]),T=Ot(()=>{const R=F8(v),O=v.type==="DRAGGING"&&v.dropping?D:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":m,style:R,onTransitionEnd:O},dragHandleProps:S}},[o,S,m,v,D,r]),E=Ot(()=>({draggableId:h.id,type:h.type,source:{index:h.index,droppableId:h.droppableId}}),[h.droppableId,h.id,h.index,h.type]);return Tt.createElement(Tt.Fragment,null,f(T,v.snapshot,E))};var t1=(e,n)=>e===n,n1=e=>{const{combine:n,destination:r}=e;return r?r.droppableId:n?n.droppableId:null};const z8=e=>e.combine?e.combine.draggableId:null,H8=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function G8(){const e=Un((o,i)=>({x:o,y:i})),n=Un((o,i,l=null,d=null,u=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!u,dropAnimation:u,mode:o,draggingOver:l,combineWith:d,combineTargetFor:null})),r=Un((o,i,l,d,u=null,h=null,f=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:h,mode:i,offset:o,dimension:l,forceShouldAnimate:f,snapshot:n(i,d,u,h,null)}}));return(o,i)=>{if(tl(o)){if(o.critical.draggable.id!==i.draggableId)return null;const l=o.current.client.offset,d=o.dimensions.draggables[i.draggableId],u=Lr(o.impact),h=H8(o.impact),f=o.forceShouldAnimate;return r(e(l.x,l.y),o.movementMode,d,i.isClone,u,h,f)}if(o.phase==="DROP_ANIMATING"){const l=o.completed;if(l.result.draggableId!==i.draggableId)return null;const d=i.isClone,u=o.dimensions.draggables[i.draggableId],h=l.result,f=h.mode,m=n1(h),g=z8(h),b={duration:o.dropDuration,curve:ox.drop,moveTo:o.newHomeClientOffset,opacity:g?Zi.opacity.drop:null,scale:g?Zi.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:u,dropping:b,draggingOver:m,combineWith:g,mode:f,forceShouldAnimate:null,snapshot:n(f,d,m,g,b)}}}return null}}function r1(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const Y8={mapped:{type:"SECONDARY",offset:Vn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:r1(null)}};function q8(){const e=Un((l,d)=>({x:l,y:d})),n=Un(r1),r=Un((l,d=null,u)=>({mapped:{type:"SECONDARY",offset:l,combineTargetFor:d,shouldAnimateDisplacement:u,snapshot:n(d)}})),s=l=>l?r(Vn,l,!0):null,o=(l,d,u,h)=>{const f=u.displaced.visible[l],m=!!(h.inVirtualList&&h.effected[l]),g=Wd(u),y=g&&g.draggableId===l?d:null;if(!f){if(!m)return s(y);if(u.displaced.invisible[l])return null;const v=ti(h.displacedBy.point),I=e(v.x,v.y);return r(I,y,!0)}if(m)return s(y);const b=u.displacedBy.point,w=e(b.x,b.y);return r(w,y,f.shouldAnimate)};return(l,d)=>{if(tl(l))return l.critical.draggable.id===d.draggableId?null:o(d.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){const u=l.completed;return u.result.draggableId===d.draggableId?null:o(d.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const K8=()=>{const e=G8(),n=q8();return(s,o)=>e(s,o)||n(s,o)||Y8},X8={dropAnimationFinished:MS},J8=aS(K8,X8,null,{context:dx,areStatePropsEqual:t1})(V8);function s1(e){return cd(fx).isUsingCloneFor===e.draggableId&&!e.isClone?null:Tt.createElement(J8,e)}function Q8(e){const n=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,s=!!e.shouldRespectForcePress;return Tt.createElement(s1,V({},e,{isClone:!1,isEnabled:n,canDragInteractiveElements:r,shouldRespectForcePress:s}))}const o1=e=>n=>e===n,Z8=o1("scroll"),eH=o1("auto"),B0=(e,n)=>n(e.overflowX)||n(e.overflowY),tH=e=>{const n=window.getComputedStyle(e),r={overflowX:n.overflowX,overflowY:n.overflowY};return B0(r,Z8)||B0(r,eH)},nH=()=>!1,a1=e=>e==null?null:e===document.body?nH()?e:null:e===document.documentElement?null:tH(e)?e:a1(e.parentElement);var If=e=>({x:e.scrollLeft,y:e.scrollTop});const i1=e=>e?window.getComputedStyle(e).position==="fixed"?!0:i1(e.parentElement):!1;var rH=e=>{const n=a1(e),r=i1(e);return{closestScrollable:n,isFixedOnPage:r}},sH=({descriptor:e,isEnabled:n,isCombineEnabled:r,isFixedOnPage:s,direction:o,client:i,page:l,closest:d})=>{const u=(()=>{if(!d)return null;const{scrollSize:g,client:y}=d,b=FS({scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth,height:y.paddingBox.height,width:y.paddingBox.width});return{pageMarginBox:d.page.marginBox,frameClient:y,scrollSize:g,shouldClipSubject:d.shouldClipSubject,scroll:{initial:d.scroll,current:d.scroll,max:b,diff:{value:Vn,displacement:Vn}}}})(),h=o==="vertical"?Qm:bS,f=za({page:l,withPlaceholder:null,axis:h,frame:u});return{descriptor:e,isCombineEnabled:r,isFixedOnPage:s,axis:h,isEnabled:n,client:i,page:l,frame:u,subject:f}};const oH=(e,n)=>{const r=cS(e);if(!n||e!==n)return r;const s=r.paddingBox.top-n.scrollTop,o=r.paddingBox.left-n.scrollLeft,i=s+n.scrollHeight,l=o+n.scrollWidth,u=qm({top:s,right:l,bottom:i,left:o},r.border);return Km({borderBox:u,margin:r.margin,border:r.border,padding:r.padding})};var aH=({ref:e,descriptor:n,env:r,windowScroll:s,direction:o,isDropDisabled:i,isCombineEnabled:l,shouldClipSubject:d})=>{const u=r.closestScrollable,h=oH(e,u),f=sd(h,s),m=(()=>{if(!u)return null;const y=cS(u),b={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:y,page:sd(y,s),scroll:If(u),scrollSize:b,shouldClipSubject:d}})();return sH({descriptor:n,isEnabled:!i,isCombineEnabled:l,isFixedOnPage:r.isFixedOnPage,direction:o,client:h,page:f,closest:m})};const iH={passive:!1},lH={passive:!0};var W0=e=>e.shouldPublishImmediately?iH:lH;const gc=e=>e&&e.env.closestScrollable||null;function cH(e){const n=x.useRef(null),r=cd(Hd),s=ux("droppable"),{registry:o,marshal:i}=r,l=qS(e),d=Ot(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=x.useRef(d),h=Ot(()=>Un((T,E)=>{n.current||Le();const R={x:T,y:E};i.updateDroppableScroll(d.id,R)}),[d.id,i]),f=st(()=>{const T=n.current;return!T||!T.env.closestScrollable?Vn:If(T.env.closestScrollable)},[]),m=st(()=>{const T=f();h(T.x,T.y)},[f,h]),g=Ot(()=>Ki(m),[m]),y=st(()=>{const T=n.current,E=gc(T);if(T&&E||Le(),T.scrollOptions.shouldPublishImmediately){m();return}g()},[g,m]),b=st((T,E)=>{n.current&&Le();const R=l.current,O=R.getDroppableRef();O||Le();const k=rH(O),N={ref:O,descriptor:d,env:k,scrollOptions:E};n.current=N;const B=aH({ref:O,descriptor:d,env:k,windowScroll:T,direction:R.direction,isDropDisabled:R.isDropDisabled,isCombineEnabled:R.isCombineEnabled,shouldClipSubject:!R.ignoreContainerClipping}),K=k.closestScrollable;return K&&(K.setAttribute(M0.contextId,r.contextId),K.addEventListener("scroll",y,W0(N.scrollOptions))),B},[r.contextId,d,y,l]),w=st(()=>{const T=n.current,E=gc(T);return T&&E||Le(),If(E)},[]),v=st(()=>{const T=n.current;T||Le();const E=gc(T);n.current=null,E&&(g.cancel(),E.removeAttribute(M0.contextId),E.removeEventListener("scroll",y,W0(T.scrollOptions)))},[y,g]),I=st(T=>{const E=n.current;E||Le();const R=gc(E);R||Le(),R.scrollTop+=T.y,R.scrollLeft+=T.x},[]),S=Ot(()=>({getDimensionAndWatchScroll:b,getScrollWhileDragging:w,dragStopped:v,scroll:I}),[v,b,w,I]),D=Ot(()=>({uniqueId:s,descriptor:d,callbacks:S}),[S,d,s]);$r(()=>(u.current=D.descriptor,o.droppable.register(D),()=>{n.current&&v(),o.droppable.unregister(D)}),[S,d,v,D,i,o.droppable]),$r(()=>{n.current&&i.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),$r(()=>{n.current&&i.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function qh(){}const U0={width:0,height:0,margin:xU},dH=({isAnimatingOpenOnMount:e,placeholder:n,animate:r})=>e||r==="close"?U0:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin},uH=({isAnimatingOpenOnMount:e,placeholder:n,animate:r})=>{const s=dH({isAnimatingOpenOnMount:e,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?Bi.placeholder:null}},hH=e=>{const n=x.useRef(null),r=st(()=>{n.current&&(clearTimeout(n.current),n.current=null)},[]),{animate:s,onTransitionEnd:o,onClose:i,contextId:l}=e,[d,u]=x.useState(e.animate==="open");x.useEffect(()=>d?s!=="open"?(r(),u(!1),qh):n.current?qh:(n.current=setTimeout(()=>{n.current=null,u(!1)}),r):qh,[s,d,r]);const h=st(m=>{m.propertyName==="height"&&(o(),s==="close"&&i())},[s,i,o]),f=uH({isAnimatingOpenOnMount:d,animate:e.animate,placeholder:e.placeholder});return Tt.createElement(e.placeholder.tagName,{style:f,"data-rfd-placeholder-context-id":l,onTransitionEnd:h,ref:e.innerRef})};var fH=Tt.memo(hH);class pH extends Tt.PureComponent{constructor(...n){super(...n),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(n,r){return n.shouldAnimate?n.on?{isVisible:!0,data:n.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!n.on,data:n.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const n={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(n)}}const mH=e=>{const n=x.useContext(Hd);n||Le();const{contextId:r,isMovementAllowed:s}=n,o=x.useRef(null),i=x.useRef(null),{children:l,droppableId:d,type:u,mode:h,direction:f,ignoreContainerClipping:m,isDropDisabled:g,isCombineEnabled:y,snapshot:b,useClone:w,updateViewportMaxScroll:v,getContainerForClone:I}=e,S=st(()=>o.current,[]),D=st((K=null)=>{o.current=K},[]);st(()=>i.current,[]);const T=st((K=null)=>{i.current=K},[]),E=st(()=>{s()&&v({maxScroll:WS()})},[s,v]);cH({droppableId:d,type:u,mode:h,direction:f,isDropDisabled:g,isCombineEnabled:y,ignoreContainerClipping:m,getDroppableRef:S});const R=Ot(()=>Tt.createElement(pH,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:K,data:$,animate:Y})=>Tt.createElement(fH,{placeholder:$,onClose:K,innerRef:T,animate:Y,contextId:r,onTransitionEnd:E})),[r,E,e.placeholder,e.shouldAnimatePlaceholder,T]),O=Ot(()=>({innerRef:D,placeholder:R,droppableProps:{"data-rfd-droppable-id":d,"data-rfd-droppable-context-id":r}}),[r,d,R,D]),k=w?w.dragging.draggableId:null,N=Ot(()=>({droppableId:d,type:u,isUsingCloneFor:k}),[d,k,u]);function B(){if(!w)return null;const{dragging:K,render:$}=w,Y=Tt.createElement(s1,{draggableId:K.draggableId,index:K.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(J,G)=>$(J,G,K));return kR.createPortal(Y,I())}return Tt.createElement(fx.Provider,{value:N},l(O,b),B())};function xH(){return document.body||Le(),document.body}const V0={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:xH},l1=e=>{let n={...e},r;for(r in V0)e[r]===void 0&&(n={...n,[r]:V0[r]});return n},Kh=(e,n)=>e===n.droppable.type,z0=(e,n)=>n.draggables[e.draggable.id],gH=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n={...e,shouldAnimatePlaceholder:!1},r=Un(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),s=Un((i,l,d,u,h,f)=>{const m=h.descriptor.id;if(h.descriptor.droppableId===i){const b=f?{render:f,dragging:r(h.descriptor)}:null,w={isDraggingOver:d,draggingOverWith:d?m:null,draggingFromThisWith:m,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!1,snapshot:w,useClone:b}}if(!l)return n;if(!u)return e;const y={isDraggingOver:d,draggingOverWith:m,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}});return(i,l)=>{const d=l1(l),u=d.droppableId,h=d.type,f=!d.isDropDisabled,m=d.renderClone;if(tl(i)){const g=i.critical;if(!Kh(h,g))return n;const y=z0(g,i.dimensions),b=Lr(i.impact)===u;return s(u,f,b,b,y,m)}if(i.phase==="DROP_ANIMATING"){const g=i.completed;if(!Kh(h,g.critical))return n;const y=z0(g.critical,i.dimensions);return s(u,f,n1(g.result)===u,Lr(g.impact)===u,y,m)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const g=i.completed;if(!Kh(h,g.critical))return n;const y=Lr(g.impact)===u,b=!!(g.impact.at&&g.impact.at.type==="COMBINE"),w=g.critical.droppable.id===u;return y?b?e:n:w?e:n}return n}},bH={updateViewportMaxScroll:TV},yH=aS(gH,bH,(e,n,r)=>({...l1(r),...e,...n}),{context:dx,areStatePropsEqual:t1})(mH);var vH=yH;const jH=({tiers:e,isLoading:n=!1,onEdit:r,onDelete:s,onReorder:o,onCreateTier:i})=>{const[l,d]=x.useState(e);x.useEffect(()=>{d([...e].sort((h,f)=>h.order-f.order))},[e]);const u=async h=>{if(!h.destination)return;const f=h.source.index,m=h.destination.index;if(f===m)return;const g=[...l].sort((w,v)=>w.order-v.order),[y]=g.splice(f,1);g.splice(m,0,y);const b=g.map((w,v)=>({...w,order:v+1}));d(b),o(b)};return n?t.jsx(me,{spacing:3,sx:{maxWidth:900},children:[1,2,3].map(h=>t.jsx(ot,{sx:{p:3},children:t.jsxs(me,{spacing:2,children:[t.jsx(le,{variant:"circular",width:32,height:32}),t.jsx(le,{variant:"text",width:"60%",height:28}),t.jsx(le,{variant:"text",width:"40%",height:40}),t.jsx(le,{variant:"text",width:"80%",height:20}),t.jsxs(me,{direction:"row",justifyContent:"flex-end",spacing:1,children:[t.jsx(le,{variant:"circular",width:32,height:32}),t.jsx(le,{variant:"circular",width:32,height:32})]})]})},h))}):e.length===0?t.jsx(Zs,{title:"Set Up Channel Subscriptions",description:"Create subscription tiers to offer exclusive perks and content to your subscribers",action:{label:"Create Your First Tier",onClick:i},icon:t.jsx(Qc,{sx:{fontSize:48}})}):t.jsxs(me,{spacing:4,children:[t.jsxs(me,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsx(j,{variant:"h5",sx:{fontWeight:600},children:"Subscription Tiers"}),t.jsx(ue,{variant:"contained",startIcon:t.jsx(Hm,{}),onClick:i,sx:{px:3,borderRadius:2,textTransform:"none"},children:"Create Tier"})]}),t.jsx(ot,{sx:{p:2,bgcolor:"primary.50",borderRadius:2,border:"1px solid",borderColor:"primary.100"},children:t.jsxs(me,{direction:"row",spacing:2,alignItems:"center",children:[t.jsx(Ed,{color:"primary"}),t.jsx(j,{variant:"body2",color:"primary.700",children:"Drag to reorder tiers. Members will see tiers in this order on your channel page."})]})}),t.jsx(_8,{onDragEnd:u,children:t.jsx(vH,{droppableId:"tiers",children:h=>t.jsxs(me,{spacing:3,...h.droppableProps,ref:h.innerRef,sx:{maxWidth:800,width:"100%"},children:[l.map((f,m)=>t.jsx(Q8,{draggableId:f.id,index:m,children:(g,y)=>t.jsx(C,{ref:g.innerRef,...g.draggableProps,children:t.jsx(C,{sx:{position:"relative"},children:t.jsxs(ot,{elevation:y.isDragging?8:2,sx:{p:3,transition:"all 0.2s ease",transform:y.isDragging?"scale(1.02)":"scale(1)",bgcolor:"background.paper",borderRadius:2,"&:hover":{boxShadow:4,"& .drag-handle":{opacity:1}}},children:[t.jsx(Qe,{label:f.order,color:"primary",size:"small",sx:{position:"absolute",top:-12,left:16,height:32,width:32,borderRadius:"50%",boxShadow:2,zIndex:1,"& .MuiChip-label":{px:0,fontSize:"1rem",fontWeight:"bold"}}}),t.jsx(C,{...g.dragHandleProps,className:"drag-handle",sx:{position:"absolute",top:0,left:0,right:0,height:"100%",display:"flex",alignItems:"center",justifyContent:"center",opacity:0,transition:"opacity 0.2s ease","&:hover":{cursor:"move","& .drag-icon":{transform:"scale(1.1)"}}},children:t.jsx(C,{className:"drag-icon",sx:{width:40,height:40,borderRadius:"50%",bgcolor:"action.hover",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s ease"},children:t.jsx(Qw,{color:"action"})})}),t.jsxs(C,{sx:{flex:1},children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:f.name}),t.jsxs(j,{variant:"h4",gutterBottom:!0,children:["$",f.price,t.jsx(j,{component:"span",variant:"body2",sx:{ml:1},children:"/month"})]}),t.jsx(j,{variant:"body2",sx:{mb:2},children:f.description})]}),t.jsxs(me,{direction:"row",spacing:1,justifyContent:"flex-end",children:[t.jsx(Ne,{onClick:()=>r(f.id),size:"small",children:t.jsx(ml,{})}),t.jsx(Ne,{onClick:()=>s(f.id),size:"small",children:t.jsx(ra,{})})]})]})})})},f.id)),h.placeholder]})})})]})},wH=({open:e,onClose:n,onSubmit:r,initialData:s,tierCount:o,isEdit:i=!1})=>{const[l,d]=x.useState({name:"",description:"",price:0,benefits:[],order:i?s.order:o+1}),[u,h]=x.useState({}),[f,m]=x.useState(!1);x.useEffect(()=>{s&&d({name:s.name,description:s.description,price:s.price,benefits:s.benefits,order:i?s.order:o+1})},[s]),x.useEffect(()=>{d(w=>({...w,order:o+1}))},[o]);const g=()=>{const w={};return l.name||(w.name="Name is required"),l.description||(w.description="Description is required"),l.price<0&&(w.price="Price must be positive"),l.benefits||(w.benefits="Benefits are required"),h(w),Object.keys(w).length===0},y=w=>v=>{const I=w==="price"?Number(v.target.value):v.target.value;d(S=>({...S,[w]:I})),u[w]&&h(S=>({...S,[w]:void 0}))},b=async w=>{if(w.preventDefault(),!!g())try{m(!0),await r(l),n()}catch(v){console.error("Failed to submit tier:",v)}finally{m(!1)}};return t.jsxs(Kt,{open:e,onClose:n,maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:i?"Edit Tier":"Create New Tier"}),t.jsxs("form",{onSubmit:b,children:[t.jsx(Xt,{children:t.jsxs(me,{spacing:3,children:[t.jsx(nt,{label:"Tier Name",value:l.name,onChange:y("name"),error:!!u.name,helperText:u.name,fullWidth:!0}),t.jsx(nt,{label:"Description",value:l.description,onChange:y("description"),multiline:!0,rows:3,error:!!u.description,helperText:u.description,fullWidth:!0}),t.jsx(nt,{type:"number",label:"Monthly Price",value:l.price,onChange:y("price"),InputProps:{startAdornment:t.jsx(es,{position:"start",children:"$"})},error:!!u.price,helperText:u.price,fullWidth:!0}),t.jsx(nt,{label:"Benefits",value:l.benefits,onChange:y("benefits"),multiline:!0,rows:4,placeholder:"Enter benefits, one per line",error:!!u.benefits,helperText:u.benefits,fullWidth:!0})]})}),t.jsxs(Jt,{children:[t.jsx(ue,{onClick:n,children:"Cancel"}),t.jsx(ue,{type:"submit",variant:"contained",disabled:f,children:i?"Save Changes":"Create Tier"})]})]})]})},px=x.memo(({channelId:e})=>{const{api:n}=Ke(),{execute:r}=tt(),{execute:s}=tt(),{execute:o}=tt(),{execute:i}=tt(),{execute:l}=tt(),[d,u]=x.useState([]),[h,f]=x.useState(!0),[m,g]=x.useState(!1),[y,b]=x.useState(null),[w,v]=x.useState(!1),I=x.useCallback(async()=>{if(!e)return;f(!0);const k=await r(()=>n==null?void 0:n.app.channel.getTiers(e),{showErrorToast:!0});k&&u(k.items||[]),f(!1)},[e,r,n]);x.useEffect(()=>{I()},[I]);const S=k=>{const N=d.find(B=>B.id===k);N&&(b(N),g(!0))},D=()=>{g(!1),b(null)},T=async k=>{await s(()=>n==null?void 0:n.app.channel.createTier(e,k),{showSuccessMessage:!0,successMessage:"Tier created successfully"})&&(await I(),D())},E=async(k,N)=>{await o(()=>n==null?void 0:n.app.channel.updateTier(e,k,N),{showSuccessMessage:!0,successMessage:"Tier updated successfully"}),await I(),D()},R=async k=>{await l(()=>n==null?void 0:n.app.channel.deleteTier(e,k),{showSuccessMessage:!0,successMessage:"Tier deleted successfully"}),await I()},O=async k=>{try{v(!0),await i(()=>n==null?void 0:n.app.channel.updateTiers(e,k),{showSuccessMessage:!0,successMessage:"Tiers reordered successfully"}),u(k)}catch{}finally{v(!1)}};return t.jsxs(C,{sx:{p:3},children:[t.jsx(jH,{tiers:d,isLoading:h,onEdit:S,onDelete:R,onReorder:O,onCreateTier:()=>g(!0)}),t.jsx(wH,{open:m,onClose:D,onSubmit:y?k=>E(y.id,k):T,initialData:y,tierCount:d.length,isEdit:!!y}),t.jsx(_R,{sx:{color:"#fff",zIndex:k=>k.zIndex.drawer+1,backdropFilter:"blur(3px)"},open:w,children:t.jsx(sn,{color:"inherit"})})]})},(e,n)=>e.channelId===n.channelId);px.displayName="TiersTab";const SH=({tabs:e,activeTab:n,onTabChange:r,isOpen:s,onClose:o,onOpen:i})=>t.jsx(OR,{anchor:"bottom",open:s,onClose:o,onOpen:i,disableSwipeToOpen:!1,PaperProps:{sx:{borderTopLeftRadius:16,borderTopRightRadius:16,maxHeight:"80vh"}},children:t.jsx(fr,{sx:{pt:1,pb:2},children:e.map(l=>t.jsx(Qh,{selected:n===l.id,onClick:()=>{r(l.id),o()},sx:{mx:1,borderRadius:1,mb:.5,"&.Mui-selected":{bgcolor:d=>de(d.palette.primary.main,.1)}},children:t.jsx(Wt,{primary:l.label})},l.id))})}),CH=({tabs:e,activeTab:n,onTabChange:r})=>t.jsx(C,{sx:{borderBottom:1,borderColor:"divider"},children:t.jsx(_s,{value:n,onChange:(s,o)=>r(o),sx:{px:{md:3,lg:4}},children:e.map(s=>t.jsx(On,{label:s.label,value:s.id,sx:{textTransform:"none",fontWeight:500,fontSize:"0.9375rem"}},s.id))})}),H0=[{id:"basic",label:"Basic Info",component:Jw},{id:"tiers",label:"Channel Tiers",component:px}],PH=()=>{const{id:e}=ns(),n=cn(),r=il(n.breakpoints.down("md")),{api:s}=Ke(),[o,i]=x.useState("basic"),[l,d]=x.useState(!1),[u,h]=x.useState(null),[f,m]=x.useState(!0),{execute:g}=tt(),{execute:y}=tt(),b=x.useCallback(async()=>{if(!e)return;m(!0);const S=await g(()=>s==null?void 0:s.app.channel.getChannel(e),{showErrorToast:!0});S&&h(S),m(!1)},[e,g,s]);x.useEffect(()=>{b()},[b]);const w=async S=>{e&&(await y(()=>s==null?void 0:s.app.channel.updateChannel(e,S),{showSuccessMessage:!0,successMessage:"Channel updated successfully"}),await b())},v=S=>{i(S)};if(!e||f||!u)return null;const I=()=>{switch(o){case"basic":return t.jsx(Jw,{channel:u,onUpdate:w});case"tiers":return t.jsx(px,{channelId:u.id});default:return null}};return t.jsx(C,{sx:{minHeight:"100%",bgcolor:"background.default"},children:r?t.jsxs(t.Fragment,{children:[t.jsx(C,{sx:{px:2,py:1.5},children:t.jsx(j,{variant:"h6",sx:{fontWeight:600},children:"Edit Channel"})}),I(),t.jsx(SH,{tabs:H0,activeTab:o,onTabChange:v,isOpen:l,onClose:()=>d(!1),onOpen:()=>d(!0)})]}):t.jsxs(t.Fragment,{children:[t.jsx(CH,{tabs:H0,activeTab:o,onTabChange:v}),t.jsx(C,{sx:{p:{md:3,lg:4}},children:I()})]})})},c1=({open:e,poll:n,onClose:r,onConvert:s,loading:o=!1})=>{var y,b;const{profile:i}=ys(),[l,d]=x.useState({title:"",channelId:"",status:$n.PUBLISHED,isPremium:!1,requiredTierId:null,content:""}),[u,h]=x.useState(null),f=async()=>{if(!l.title.trim()){h("Title is required");return}if(!l.channelId){h("Channel is required");return}if(!l.content.trim()){h("Content is required");return}try{h(null),await s(l),m()}catch(w){h(w.message||"Failed to convert poll to news")}},m=()=>{d({title:"",channelId:"",status:$n.PUBLISHED,isPremium:!1,requiredTierId:null,content:""}),h(null),r()},g=w=>{d(v=>({...v,content:JSON.stringify(w)}))};return Tt.useEffect(()=>{e&&n&&d(w=>{var v;return{...w,title:`News Article: ${n.title}`,channelId:((v=n.channel)==null?void 0:v.id)||"",content:n.description||""}})},[e,n]),n?t.jsxs(Kt,{open:e,onClose:m,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{minHeight:"70vh"}},children:[t.jsxs(tn,{children:[t.jsx(j,{variant:"h6",children:"Convert Poll to News Article"}),t.jsxs(j,{variant:"body2",color:"text.secondary",sx:{mt:1},children:['Convert "',n.title,'" into a news article with poll results included']})]}),t.jsx(Xt,{children:t.jsxs(me,{spacing:3,sx:{mt:1},children:[u&&t.jsx(dt,{severity:"error",onClose:()=>h(null),children:u}),t.jsxs(C,{sx:{p:2,borderRadius:2,bgcolor:w=>de(w.palette.primary.main,.05),border:w=>`1px solid ${de(w.palette.primary.main,.2)}`},children:[t.jsx(j,{variant:"subtitle2",gutterBottom:!0,children:"Poll Results (will be included in the article)"}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Total Votes: ",n.voteCount||0,"  Status: ",(y=n.stats)!=null&&y.hasEnded?"Ended":"Active"]})]}),t.jsx(nt,{label:"Article Title",fullWidth:!0,required:!0,value:l.title,onChange:w=>d(v=>({...v,title:w.target.value})),helperText:"Create an engaging title for your news article"}),t.jsxs(ht,{fullWidth:!0,required:!0,children:[t.jsx(St,{children:"Channel"}),t.jsx(mt,{value:l.channelId,label:"Channel",onChange:w=>d(v=>({...v,channelId:w.target.value})),children:(b=i==null?void 0:i.staffChannels)==null?void 0:b.map(w=>t.jsx(we,{value:w.channelId,children:w.channel.name},w.id))})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Article Content"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Write your news article. Poll results will be automatically appended."}),t.jsx(Nd,{data:l.content?JSON.parse(l.content):void 0,onChange:g,placeholder:"Write your news article content here...",borderColor:w=>w.palette.mode==="dark"?de(w.palette.common.white,.23):de(w.palette.common.black,.23)})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:2},children:"Publishing Options"}),t.jsxs(me,{spacing:2,children:[t.jsx(yo,{control:t.jsx($a,{checked:l.isPremium,onChange:w=>d(v=>({...v,isPremium:w.target.checked}))}),label:"Premium Content"}),t.jsxs(ht,{fullWidth:!0,children:[t.jsx(St,{children:"Status"}),t.jsxs(mt,{value:l.status,label:"Status",onChange:w=>d(v=>({...v,status:Number(w.target.value)})),children:[t.jsx(we,{value:$n.DRAFT,children:"Draft"}),t.jsx(we,{value:$n.PUBLISHED,children:"Published"}),t.jsx(we,{value:$n.PENDING_REVIEW,children:"Pending Review"})]})]})]})]})]})}),t.jsxs(Jt,{sx:{p:3},children:[t.jsx(ue,{onClick:m,disabled:o,children:"Cancel"}),t.jsx(ue,{onClick:f,variant:"contained",disabled:o,children:o?"Converting...":"Convert to News"})]})]}):null},IH=({poll:e,onRefresh:n})=>{var O;const[r,s]=x.useState(null),[o,i]=x.useState(!1),[l,d]=x.useState(!1),u=Ct(),{api:h}=Ke(),{execute:f}=tt(),m=cn(),g=k=>{s(k.currentTarget)},y=()=>{s(null)},b=()=>{u(`${be.STUDIO_POLL_VIEW.replace(":id",e.id)}`),y()},w=()=>{u(`${be.STUDIO_POLL_EDIT.replace(":id",e.id)}`),y()},v=()=>{i(!0),y()},I=()=>{d(!0),y()},S=async()=>{await f(()=>h==null?void 0:h.app.poll.delete(e.id),{showSuccessMessage:!0,successMessage:"Poll deleted successfully"})&&n(),i(!1)},D=async k=>{await f(()=>h==null?void 0:h.app.poll.convertToNews(e.id,k),{showSuccessMessage:!0,successMessage:"Poll converted to news successfully!"})&&n()},E=(()=>{const k=new Date,N=new Date(e.startDate),B=new Date(e.endDate);return k<N?{label:"Scheduled",color:"warning"}:k>B?{label:"Ended",color:"error"}:{label:"Active",color:"success"}})(),R=!e.isConverted&&!((O=e.stats)!=null&&O.hasEnded);return t.jsxs(Fe,{sx:{height:"100%",bgcolor:k=>de(k.palette.mode==="dark"?k.palette.common.white:k.palette.common.black,k.palette.mode==="dark"?.05:.03),transition:m.transitions.create(["background-color","box-shadow"]),"&:hover":{bgcolor:k=>de(k.palette.mode==="dark"?k.palette.common.white:k.palette.common.black,k.palette.mode==="dark"?.08:.05),boxShadow:1}},children:[t.jsxs(We,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[t.jsx(j,{variant:"h6",sx:{fontSize:"1rem",fontWeight:600,color:"text.primary"},children:e.title}),t.jsx(Ne,{size:"small",onClick:g,sx:{ml:1},children:t.jsx(Fd,{})})]}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:e.description}),t.jsxs(me,{direction:"row",spacing:1,alignItems:"center",children:[t.jsx(Qe,{label:E.label,size:"small",color:E.color}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:[e.totalVotes??0," votes"]})]})]}),t.jsxs(wo,{anchorEl:r,open:!!r,onClose:y,PaperProps:{sx:{width:200}},children:[t.jsxs(we,{onClick:b,children:[t.jsx(qt,{children:t.jsx(na,{fontSize:"small"})}),t.jsx(Wt,{children:"View Poll"})]}),t.jsxs(we,{onClick:w,children:[t.jsx(qt,{children:t.jsx(ml,{fontSize:"small"})}),t.jsx(Wt,{children:"Edit Poll"})]}),R&&t.jsxs(we,{onClick:I,children:[t.jsx(qt,{children:t.jsx(qi,{fontSize:"small"})}),t.jsx(Wt,{children:"Convert to News"})]}),t.jsxs(we,{onClick:v,children:[t.jsx(qt,{children:t.jsx(ra,{fontSize:"small"})}),t.jsx(Wt,{children:"Delete Poll"})]})]}),t.jsx(Um,{open:o,title:"Delete Poll",content:"Are you sure you want to delete this poll? This action cannot be undone.",onConfirm:S,onClose:()=>i(!1)}),t.jsx(c1,{open:l,poll:e,onClose:()=>d(!1),onConvert:D})]})},DH=()=>{const[e,n]=x.useState([]),[r,s]=x.useState(1),[o,i]=x.useState(!0),[l,d]=x.useState(!0),{api:u}=Ke(),{profile:h}=ys(),f=Ct(),m=cn(),{execute:g}=tt(),y=()=>{b(r+1)},b=async(v=r)=>{if(!(h!=null&&h.id))return;const I=await g(()=>u==null?void 0:u.studio.getMyContent("polls"),{showErrorToast:!0});I&&(n(S=>v===1?(I==null?void 0:I.items)??[]:[...S,...(I==null?void 0:I.items)??[]]),s((I==null?void 0:I.metadata.currentPage)??1),i((I==null?void 0:I.metadata.hasNext)===!0)),d(!1)};x.useEffect(()=>{b(1)},[]);const w=()=>t.jsxs(C,{sx:{p:2,borderRadius:1,bgcolor:v=>de(v.palette.mode==="dark"?v.palette.common.white:v.palette.common.black,v.palette.mode==="dark"?.05:.03),height:{xs:180,sm:200},transition:m.transitions.create(["background-color","height"])},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[t.jsx(le,{variant:"circular",width:32,height:32,sx:{mr:1.5}}),t.jsxs(C,{sx:{width:"100%"},children:[t.jsx(le,{width:"60%",height:20}),t.jsx(le,{width:"40%",height:16})]})]}),t.jsx(le,{variant:"rectangular",sx:{borderRadius:1,height:{xs:70,sm:80}}}),t.jsx(C,{sx:{mt:1.5},children:t.jsx(le,{width:"30%",height:20})})]});return t.jsxs(C,{sx:{px:{xs:2,sm:3,md:4},py:{xs:2,sm:3},maxWidth:"lg",mx:"auto",width:"100%"},children:[t.jsx(C,{sx:{mb:{xs:2,sm:3}},children:t.jsx(j,{variant:"h5",sx:{fontWeight:600,fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:l?t.jsx(le,{width:150}):"My Polls"})}),l?t.jsx(F,{container:!0,spacing:2,children:[1,2].map(v=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(w,{})},v))}):e.length===0?t.jsx(Zs,{title:"No Polls Yet",description:"Create your first poll to start gathering opinions from your audience.",icon:t.jsx(Jp,{sx:{fontSize:{xs:40,sm:48}}}),action:{label:"Create Poll",onClick:()=>f(be.STUDIO_POLL_CREATE)}}):t.jsx(xs,{dataLength:e.length,next:y,hasMore:o,loader:t.jsx(F,{container:!0,spacing:2,sx:{mt:.5},children:[1,2].map(v=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(w,{})},v))}),children:t.jsx(F,{container:!0,spacing:2,children:e.map(v=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(IH,{poll:v,onRefresh:()=>b(1)})},v.id))})})]})};function TH(e,...n){const r=new URL(`https://mui.com/production-error/?code=${e}`);return n.forEach(s=>r.searchParams.append("args[]",s)),`Minified MUI error #${e}; visit ${r} for the full message.`}const d1=ne.oneOfType([ne.func,ne.object]);function EH(e){if(typeof e!="string")throw new Error(TH(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Xh(e){return e&&e.ownerDocument||document}const ts=typeof window<"u"?x.useLayoutEffect:x.useEffect;let G0=0;function AH(e){const[n,r]=x.useState(e),s=e||n;return x.useEffect(()=>{n==null&&(G0+=1,r(`mui-${G0}`))},[n]),s}const RH={...MR},Y0=RH.useId;function Yd(e){if(Y0!==void 0){const n=Y0();return e??n}return AH(e)}function Ya(e){const{controlled:n,default:r,name:s,state:o="value"}=e,{current:i}=x.useRef(n!==void 0),[l,d]=x.useState(r),u=i?n:l,h=x.useCallback(f=>{i||d(f)},[]);return[u,h]}function Ue(e){const n=x.useRef(e);return ts(()=>{n.current=e}),x.useRef((...r)=>(0,n.current)(...r)).current}function or(...e){const n=x.useRef(void 0),r=x.useCallback(s=>{const o=e.map(i=>{if(i==null)return null;if(typeof i=="function"){const l=i,d=l(s);return typeof d=="function"?d:()=>{l(null)}}return i.current=s,()=>{i.current=null}});return()=>{o.forEach(i=>i==null?void 0:i())}},e);return x.useMemo(()=>e.every(s=>s==null)?null:s=>{n.current&&(n.current(),n.current=void 0),s!=null&&(n.current=r(s))},e)}const q0={};function kH(e,n){const r=x.useRef(q0);return r.current===q0&&(r.current=e(n)),r}const _H=[];function OH(e){x.useEffect(e,_H)}class mx{constructor(){Te(this,"currentId",null);Te(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Te(this,"disposeEffect",()=>this.clear)}static create(){return new mx}start(n,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},n)}}function Ra(){const e=kH(mx.create).current;return OH(e.disposeEffect),e}const MH={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Qt(e,n,r=void 0){const s={};for(const o in e){const i=e[o];let l="",d=!0;for(let u=0;u<i.length;u+=1){const h=i[u];h&&(l+=(d===!0?"":" ")+n(h),d=!1,r&&r[h]&&(l+=" "+r[h]))}s[o]=l}return s}const K0=e=>e,NH=()=>{let e=K0;return{configure(n){e=n},generate(n){return e(n)},reset(){e=K0}}},LH=NH(),$H={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function un(e,n,r="Mui"){const s=$H[n];return s?`${r}-${s}`:`${LH.generate(e)}-${n}`}function pn(e,n,r="Mui"){const s={};return n.forEach(o=>{s[o]=un(e,o,r)}),s}function FH(e){return typeof e=="string"}function BH(e,n,r){return e===void 0||FH(e)?n:{...n,ownerState:{...n.ownerState,...r}}}function WH(e,n=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(s=>s.match(/^on[A-Z]/)&&typeof e[s]=="function"&&!n.includes(s)).forEach(s=>{r[s]=e[s]}),r}function X0(e){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{n[r]=e[r]}),n}function UH(e){const{getSlotProps:n,additionalProps:r,externalSlotProps:s,externalForwardedProps:o,className:i}=e;if(!n){const y=nn(r==null?void 0:r.className,i,o==null?void 0:o.className,s==null?void 0:s.className),b={...r==null?void 0:r.style,...o==null?void 0:o.style,...s==null?void 0:s.style},w={...r,...o,...s};return y.length>0&&(w.className=y),Object.keys(b).length>0&&(w.style=b),{props:w,internalRef:void 0}}const l=WH({...o,...s}),d=X0(s),u=X0(o),h=n(l),f=nn(h==null?void 0:h.className,r==null?void 0:r.className,i,o==null?void 0:o.className,s==null?void 0:s.className),m={...h==null?void 0:h.style,...r==null?void 0:r.style,...o==null?void 0:o.style,...s==null?void 0:s.style},g={...h,...r,...u,...d};return f.length>0&&(g.className=f),Object.keys(m).length>0&&(g.style=m),{props:g,internalRef:h.ref}}function nl(e,n,r){return typeof e=="function"?e(n,r):e}function Lt(e){var m;const{elementType:n,externalSlotProps:r,ownerState:s,skipResolvingSlotProps:o=!1,...i}=e,l=o?{}:nl(r,s),{props:d,internalRef:u}=UH({...i,externalSlotProps:l}),h=or(u,l==null?void 0:l.ref,(m=e.additionalProps)==null?void 0:m.ref);return BH(n,{...d,ref:h},s)}const VH=["localeText"],Df=x.createContext(null),u1=function(n){const{localeText:r}=n,s=at(n,VH),{utils:o,localeText:i}=x.useContext(Df)??{utils:void 0,localeText:void 0},l=Gt({props:s,name:"MuiLocalizationProvider"}),{children:d,dateAdapter:u,dateFormats:h,dateLibInstance:f,adapterLocale:m,localeText:g}=l,y=x.useMemo(()=>V({},g,i,r),[g,i,r]),b=x.useMemo(()=>{if(!u)return o||null;const I=new u({locale:m,formats:h,instance:f});if(!I.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/quickstart/#installation"].join(`
`));return I},[u,m,h,f,o]),w=x.useMemo(()=>b?{minDate:b.date("1900-01-01T00:00:00.000"),maxDate:b.date("2099-12-31T00:00:00.000")}:null,[b]),v=x.useMemo(()=>({utils:b,defaultDates:w,localeText:y}),[w,b,y]);return t.jsx(Df.Provider,{value:v,children:d})},zH=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:V({},e)}}}}),h1={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",nextStepButtonLabel:"Next",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",timeRangePickerToolbarTitle:"Select time range",clockLabelText:(e,n)=>`Select ${e}. ${n?`Selected time is ${n}`:"No time selected"}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:e=>e?`Choose date, selected date is ${e}`:"Choose date",openTimePickerDialogue:e=>e?`Choose time, selected time is ${e}`:"Choose time",openRangePickerDialogue:e=>e?`Choose range, selected range is ${e}`:"Choose range",fieldClearLabel:"Clear",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},HH=h1;zH(h1);const sa=()=>{const e=x.useContext(Df);if(e===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const n=x.useMemo(()=>V({},HH,e.localeText),[e.localeText]);return x.useMemo(()=>V({},e,{localeText:n}),[e,n])},Vt=()=>sa().utils,f1=()=>sa().defaultDates,si=e=>{const n=Vt(),r=x.useRef(void 0);return r.current===void 0&&(r.current=n.date(void 0,e)),r.current},vs=()=>sa().localeText,GH=So(t.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),YH=So(t.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),qH=So(t.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),KH=So(t.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");So(t.jsxs(x.Fragment,{children:[t.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),t.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");const XH=So(t.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange"),JH=So(t.jsxs(x.Fragment,{children:[t.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),t.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time"),QH=So(t.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function ZH(e){return un("MuiPickersArrowSwitcher",e)}pn("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const p1=x.createContext(()=>!0);function e9(){return x.useContext(p1)}const m1=x.createContext(null);function x1(){return x.useContext(m1)}const xx=x.createContext(null),Io=()=>{const e=x.useContext(xx);if(e==null)throw new Error("MUI X: The `usePickerContext` hook can only be called inside the context of a Picker component");return e},g1=x.createContext(null),b1=x.createContext({ownerState:{isPickerDisabled:!1,isPickerReadOnly:!1,isPickerValueEmpty:!1,isPickerOpen:!1,pickerVariant:"desktop",pickerOrientation:"portrait"},rootRefObject:{current:null},labelId:void 0,dismissViews:()=>{},hasUIView:!0,getCurrentViewMode:()=>"UI",triggerElement:null,viewContainerRole:null,defaultActionBarActions:[],onPopperExited:void 0});function y1(e){const{contextValue:n,actionsContextValue:r,privateContextValue:s,fieldPrivateContextValue:o,isValidContextValue:i,localeText:l,children:d}=e;return t.jsx(xx.Provider,{value:n,children:t.jsx(g1.Provider,{value:r,children:t.jsx(b1.Provider,{value:s,children:t.jsx(m1.Provider,{value:o,children:t.jsx(p1.Provider,{value:i,children:t.jsx(u1,{localeText:l,children:d})})})})})})}const En=()=>x.useContext(b1),t9=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId","classes"],n9=["ownerState"],r9=["ownerState"],s9=Me("div",{name:"MuiPickersArrowSwitcher",slot:"Root"})({display:"flex"}),o9=Me("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer"})(({theme:e})=>({width:e.spacing(3)})),J0=Me(Ne,{name:"MuiPickersArrowSwitcher",slot:"Button"})({variants:[{props:{isButtonHidden:!0},style:{visibility:"hidden"}}]}),a9=e=>Qt({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},ZH,e),i9=x.forwardRef(function(n,r){const s=Os(),o=Gt({props:n,name:"MuiPickersArrowSwitcher"}),{children:i,className:l,slots:d,slotProps:u,isNextDisabled:h,isNextHidden:f,onGoToNext:m,nextLabel:g,isPreviousDisabled:y,isPreviousHidden:b,onGoToPrevious:w,previousLabel:v,labelId:I,classes:S}=o,D=at(o,t9),{ownerState:T}=En(),E=a9(S),R={isDisabled:h,isHidden:f,goTo:m,label:g},O={isDisabled:y,isHidden:b,goTo:w,label:v},k=(d==null?void 0:d.previousIconButton)??J0,N=Lt({elementType:k,externalSlotProps:u==null?void 0:u.previousIconButton,additionalProps:{size:"medium",title:O.label,"aria-label":O.label,disabled:O.isDisabled,edge:"end",onClick:O.goTo},ownerState:V({},T,{isButtonHidden:O.isHidden??!1}),className:nn(E.button,E.previousIconButton)}),B=(d==null?void 0:d.nextIconButton)??J0,K=Lt({elementType:B,externalSlotProps:u==null?void 0:u.nextIconButton,additionalProps:{size:"medium",title:R.label,"aria-label":R.label,disabled:R.isDisabled,edge:"start",onClick:R.goTo},ownerState:V({},T,{isButtonHidden:R.isHidden??!1}),className:nn(E.button,E.nextIconButton)}),$=(d==null?void 0:d.leftArrowIcon)??YH,Y=Lt({elementType:$,externalSlotProps:u==null?void 0:u.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:T,className:E.leftArrowIcon}),J=at(Y,n9),G=(d==null?void 0:d.rightArrowIcon)??qH,q=Lt({elementType:G,externalSlotProps:u==null?void 0:u.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:T,className:E.rightArrowIcon}),Q=at(q,r9);return t.jsxs(s9,V({ref:r,className:nn(E.root,l),ownerState:T},D,{children:[t.jsx(k,V({},N,{children:s?t.jsx(G,V({},Q)):t.jsx($,V({},J))})),i?t.jsx(j,{variant:"subtitle1",component:"span",id:I,children:i}):t.jsx(o9,{className:E.spacer,ownerState:T}),t.jsx(B,V({},K,{children:s?t.jsx($,V({},J)):t.jsx(G,V({},Q))}))]}))}),Es=(e,n)=>e.length!==n.length?!1:n.every(r=>e.includes(r)),l9=({openTo:e,defaultOpenTo:n,views:r,defaultViews:s})=>{const o=r??s;let i;if(e!=null)i=e;else if(o.includes(n))i=n;else if(o.length>0)i=o[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:o,openTo:i}},v1=["hours","minutes","seconds"],c9=["hours","minutes","seconds","meridiem"],rl=e=>v1.includes(e),Ia=e=>c9.includes(e),d9=(e,n)=>e?n.getHours(e)>=12?"pm":"am":null,Tf=(e,n,r)=>r&&(e>=12?"pm":"am")!==n?n==="am"?e-12:e+12:e,u9=(e,n,r,s)=>{const o=Tf(s.getHours(e),n,r);return s.setHours(e,o)},Q0=(e,n)=>n.getHours(e)*3600+n.getMinutes(e)*60+n.getSeconds(e),qd=(e,n)=>(r,s)=>e?n.isAfter(r,s):Q0(r,n)>Q0(s,n),Z0=(e,{format:n,views:r,ampm:s})=>{if(n!=null)return n;const o=e.formats;return Es(r,["hours"])?s?`${o.hours12h} ${o.meridiem}`:o.hours24h:Es(r,["minutes"])?o.minutes:Es(r,["seconds"])?o.seconds:Es(r,["minutes","seconds"])?`${o.minutes}:${o.seconds}`:Es(r,["hours","minutes","seconds"])?s?`${o.hours12h}:${o.minutes}:${o.seconds} ${o.meridiem}`:`${o.hours24h}:${o.minutes}:${o.seconds}`:s?`${o.hours12h}:${o.minutes} ${o.meridiem}`:`${o.hours24h}:${o.minutes}`},j1={hasNextStep:!1,hasSeveralSteps:!1,goToNextStep:()=>{},areViewsInSameStep:()=>!0};function h9(e){const{steps:n,isViewMatchingStep:r,onStepChange:s}=e;return o=>{if(n==null)return j1;const i=n.findIndex(d=>r(o.view,d)),l=i===-1||i===n.length-1?null:n[i+1];return{hasNextStep:l!=null,hasSeveralSteps:n.length>1,goToNextStep:()=>{l!=null&&s(V({},o,{step:l}))},areViewsInSameStep:(d,u)=>{const h=n.find(m=>r(d,m)),f=n.find(m=>r(u,m));return h===f}}}}function Kd({onChange:e,onViewChange:n,openTo:r,view:s,views:o,autoFocus:i,focusedView:l,onFocusedViewChange:d,getStepNavigation:u}){const h=x.useRef(r),f=x.useRef(o),m=x.useRef(o.includes(r)?r:o[0]),[g,y]=Ya({name:"useViews",state:"view",controlled:s,default:m.current}),b=x.useRef(i?g:null),[w,v]=Ya({name:"useViews",state:"focusedView",controlled:l,default:b.current}),I=u?u({setView:y,view:g,defaultView:m.current,views:o}):j1;x.useEffect(()=>{(h.current&&h.current!==r||f.current&&f.current.some(N=>!o.includes(N)))&&(y(o.includes(r)?r:o[0]),f.current=o,h.current=r)},[r,y,g,o]);const S=o.indexOf(g),D=o[S-1]??null,T=o[S+1]??null,E=Ue((N,B)=>{v(B?N:K=>N===K?null:K),d==null||d(N,B)}),R=Ue(N=>{E(N,!0),N!==g&&(y(N),n&&n(N))}),O=Ue(()=>{T&&R(T)}),k=Ue((N,B,K)=>{const $=B==="finish",Y=K?o.indexOf(K)<o.length-1:!!T;e(N,$&&Y?"partial":B,K);let G=null;if(K!=null&&K!==g?G=K:$&&(G=g),G==null)return;const q=o[o.indexOf(G)+1];q==null||!I.areViewsInSameStep(G,q)||R(q)});return V({},I,{view:g,setView:R,focusedView:w,setFocusedView:E,nextView:T,previousView:D,defaultView:o.includes(r)?r:o[0],goToNextView:O,setValueAndGoToNextView:k})}function f9(e,{disableFuture:n,maxDate:r,timezone:s}){const o=Vt();return x.useMemo(()=>{const i=o.date(void 0,s),l=o.startOfMonth(n&&o.isBefore(i,r)?i:r);return!o.isAfter(l,e)},[n,r,e,o,s])}function p9(e,{disablePast:n,minDate:r,timezone:s}){const o=Vt();return x.useMemo(()=>{const i=o.date(void 0,s),l=o.startOfMonth(n&&o.isAfter(i,r)?i:r);return!o.isBefore(l,e)},[n,r,e,o,s])}function w1(e,n,r,s){const o=Vt(),i=x.useMemo(()=>o.isValid(e)?e:null,[o,e]),l=d9(i,o),d=x.useCallback(u=>{const h=i==null?null:u9(i,u,!!n,o);r(h,s??"partial")},[n,i,r,s,o]);return{meridiemMode:l,handleMeridiemChange:d}}const sl=36,Xd=2,qa=320,m9=280,Ka=336,S1=232,Oi=48,gx=Me("div")({overflow:"hidden",width:qa,maxHeight:Ka,display:"flex",flexDirection:"column",margin:"0 auto"}),dd=(e,n,r)=>{let s=n;return s=e.setHours(s,e.getHours(r)),s=e.setMinutes(s,e.getMinutes(r)),s=e.setSeconds(s,e.getSeconds(r)),s=e.setMilliseconds(s,e.getMilliseconds(r)),s},ol=({date:e,disableFuture:n,disablePast:r,maxDate:s,minDate:o,isDateDisabled:i,utils:l,timezone:d})=>{const u=dd(l,l.date(void 0,d),e);r&&l.isBefore(o,u)&&(o=u),n&&l.isAfter(s,u)&&(s=u);let h=e,f=e;for(l.isBefore(e,o)&&(h=o,f=null),l.isAfter(e,s)&&(f&&(f=s),h=null);h||f;){if(h&&l.isAfter(h,s)&&(h=null),f&&l.isBefore(f,o)&&(f=null),h){if(!i(h))return h;h=l.addDays(h,1)}if(f){if(!i(f))return f;f=l.addDays(f,-1)}}return null},x9=(e,n)=>e.isValid(n)?n:null,ud=(e,n,r)=>n==null||!e.isValid(n)?r:n,g9=(e,n,r)=>!e.isValid(n)&&n!=null&&!e.isValid(r)&&r!=null?!0:e.isEqual(n,r),bx=(e,n)=>{const s=[e.startOfYear(n)];for(;s.length<12;){const o=s[s.length-1];s.push(e.addMonths(o,1))}return s},yx=(e,n,r)=>r==="date"?e.startOfDay(e.date(void 0,n)):e.date(void 0,n),Wi=(e,n)=>{const r=e.setHours(e.date(),n==="am"?2:14);return e.format(r,"meridiem")},C1=["year","month","day"],Xa=e=>C1.includes(e),ev=(e,{format:n,views:r},s)=>{if(n!=null)return n;const o=e.formats;return Es(r,["year"])?o.year:Es(r,["month"])?o.month:Es(r,["day"])?o.dayOfMonth:Es(r,["month","year"])?`${o.month} ${o.year}`:Es(r,["day","month"])?`${o.month} ${o.dayOfMonth}`:o.keyboardDate},b9=(e,n)=>{const r=e.startOfWeek(n);return[0,1,2,3,4,5,6].map(s=>e.addDays(r,s))},oa=({name:e,timezone:n,value:r,defaultValue:s,referenceDate:o,onChange:i,valueManager:l})=>{const d=Vt(),[u,h]=Ya({name:e,state:"value",controlled:r,default:s??l.emptyValue}),f=x.useMemo(()=>l.getTimezone(d,u),[d,l,u]),m=Ue(w=>f==null?w:l.setTimezone(d,f,w)),g=x.useMemo(()=>n||f||(o?d.getTimezone(o):"default"),[n,f,o,d]),y=x.useMemo(()=>l.setTimezone(d,g,u),[l,d,g,u]),b=Ue((w,...v)=>{const I=m(w);h(I),i==null||i(I,...v)});return{value:y,handleValueChange:b,timezone:g}},us={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},y9=e=>Math.max(...e.map(n=>us[n.type]??1)),Ai=(e,n,r)=>{if(n===us.year)return e.startOfYear(r);if(n===us.month)return e.startOfMonth(r);if(n===us.day)return e.startOfDay(r);let s=r;return n<us.minutes&&(s=e.setMinutes(s,0)),n<us.seconds&&(s=e.setSeconds(s,0)),n<us.milliseconds&&(s=e.setMilliseconds(s,0)),s},v9=({props:e,utils:n,granularity:r,timezone:s,getTodayDate:o})=>{let i=o?o():Ai(n,r,yx(n,s));e.minDate!=null&&n.isAfterDay(e.minDate,i)&&(i=Ai(n,r,e.minDate)),e.maxDate!=null&&n.isBeforeDay(e.maxDate,i)&&(i=Ai(n,r,e.maxDate));const l=qd(e.disableIgnoringDatePartForTimeValidation??!1,n);return e.minTime!=null&&l(e.minTime,i)&&(i=Ai(n,r,e.disableIgnoringDatePartForTimeValidation?e.minTime:dd(n,i,e.minTime))),e.maxTime!=null&&l(i,e.maxTime)&&(i=Ai(n,r,e.disableIgnoringDatePartForTimeValidation?e.maxTime:dd(n,i,e.maxTime))),i},P1=(e,n)=>{const r=e.formatTokenMap[n];if(r==null)throw new Error([`MUI X: The token "${n}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof r=="string"?{type:r,contentType:r==="meridiem"?"letter":"digit",maxLength:void 0}:{type:r.sectionType,contentType:r.contentType,maxLength:r.maxLength}},Jd=(e,n)=>{const r=[],s=e.date(void 0,"default"),o=e.startOfWeek(s),i=e.endOfWeek(s);let l=o;for(;e.isBefore(l,i);)r.push(l),l=e.addDays(l,1);return r.map(d=>e.formatByString(d,n))},I1=(e,n,r,s)=>{switch(r){case"month":return bx(e,e.date(void 0,n)).map(o=>e.formatByString(o,s));case"weekDay":return Jd(e,s);case"meridiem":{const o=e.date(void 0,n);return[e.startOfDay(o),e.endOfDay(o)].map(i=>e.formatByString(i,s))}default:return[]}},tv="s",j9=["0","1","2","3","4","5","6","7","8","9"],w9=e=>{const n=e.date(void 0);return e.formatByString(e.setSeconds(n,0),tv)==="0"?j9:Array.from({length:10}).map((s,o)=>e.formatByString(e.setSeconds(n,o),tv))},Zo=(e,n)=>{if(n[0]==="0")return e;const r=[];let s="";for(let o=0;o<e.length;o+=1){s+=e[o];const i=n.indexOf(s);i>-1&&(r.push(i.toString()),s="")}return r.join("")},vx=(e,n)=>n[0]==="0"?e:e.split("").map(r=>n[Number(r)]).join(""),nv=(e,n)=>{const r=Zo(e,n);return r!==" "&&!Number.isNaN(Number(r))},jx=(e,n)=>Number(e).toString().padStart(n,"0"),D1=(e,n,r,s,o)=>{if(o.type==="day"&&o.contentType==="digit-with-letter"){const l=e.setDate(r.longestMonth,n);return e.formatByString(l,o.format)}let i=n.toString();return o.hasLeadingZerosInInput&&(i=jx(i,o.maxLength)),vx(i,s)},wx=(e,n,r)=>{let s=e.value||e.placeholder;const o=n==="non-input"?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;return n==="non-input"&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(s=Number(Zo(s,r)).toString()),["input-rtl","input-ltr"].includes(n)&&e.contentType==="digit"&&!o&&s.length===1&&(s=`${s}`),n==="input-rtl"&&(s=`${s}`),s},rv=(e,n,r,s)=>e.formatByString(e.parse(n,r),s),S9=(e,n)=>e.formatByString(e.date(void 0,"system"),n).length===4,T1=(e,n,r,s)=>{if(n!=="digit")return!1;const o=e.date(void 0,"default");switch(r){case"year":return e.lib==="dayjs"&&s==="YY"?!0:e.formatByString(e.setYear(o,1),s).startsWith("0");case"month":return e.formatByString(e.startOfYear(o),s).length>1;case"day":return e.formatByString(e.startOfMonth(o),s).length>1;case"weekDay":return e.formatByString(e.startOfWeek(o),s).length>1;case"hours":return e.formatByString(e.setHours(o,1),s).length>1;case"minutes":return e.formatByString(e.setMinutes(o,1),s).length>1;case"seconds":return e.formatByString(e.setSeconds(o,1),s).length>1;default:throw new Error("Invalid section type")}},C9=(e,n,r)=>{const s=n.some(u=>u.type==="day"),o=[],i=[];for(let u=0;u<n.length;u+=1){const h=n[u];s&&h.type==="weekDay"||(o.push(h.format),i.push(wx(h,"non-input",r)))}const l=o.join(" "),d=i.join(" ");return e.parse(d,l)},P9=e=>e.map(n=>`${n.startSeparator}${n.value||n.placeholder}${n.endSeparator}`).join(""),I9=(e,n,r)=>{const o=e.map(i=>{const l=wx(i,r?"input-rtl":"input-ltr",n);return`${i.startSeparator}${l}${i.endSeparator}`}).join("");return r?`${o}`:o},D9=(e,n,r)=>{const s=e.date(void 0,r),o=e.endOfYear(s),i=e.endOfDay(s),{maxDaysInMonth:l,longestMonth:d}=bx(e,s).reduce((u,h)=>{const f=e.getDaysInMonth(h);return f>u.maxDaysInMonth?{maxDaysInMonth:f,longestMonth:h}:u},{maxDaysInMonth:0,longestMonth:null});return{year:({format:u})=>({minimum:0,maximum:S9(e,u)?9999:99}),month:()=>({minimum:1,maximum:e.getMonth(o)+1}),day:({currentDate:u})=>({minimum:1,maximum:e.isValid(u)?e.getDaysInMonth(u):l,longestMonth:d}),weekDay:({format:u,contentType:h})=>{if(h==="digit"){const f=Jd(e,u).map(Number);return{minimum:Math.min(...f),maximum:Math.max(...f)}}return{minimum:1,maximum:7}},hours:({format:u})=>{const h=e.getHours(i);return Zo(e.formatByString(e.endOfDay(s),u),n)!==h.toString()?{minimum:1,maximum:Number(Zo(e.formatByString(e.startOfDay(s),u),n))}:{minimum:0,maximum:h}},minutes:()=>({minimum:0,maximum:e.getMinutes(i)}),seconds:()=>({minimum:0,maximum:e.getSeconds(i)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},T9=(e,n,r,s)=>{switch(n.type){case"year":return e.setYear(s,e.getYear(r));case"month":return e.setMonth(s,e.getMonth(r));case"weekDay":{let o=e.formatByString(r,n.format);n.hasLeadingZerosInInput&&(o=jx(o,n.maxLength));const i=Jd(e,n.format),l=i.indexOf(o),u=i.indexOf(n.value)-l;return e.addDays(r,u)}case"day":return e.setDate(s,e.getDate(r));case"meridiem":{const o=e.getHours(r)<12,i=e.getHours(s);return o&&i>=12?e.addHours(s,-12):!o&&i<12?e.addHours(s,12):s}case"hours":return e.setHours(s,e.getHours(r));case"minutes":return e.setMinutes(s,e.getMinutes(r));case"seconds":return e.setSeconds(s,e.getSeconds(r));default:return s}},sv={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},ov=(e,n,r,s,o)=>[...r].sort((i,l)=>sv[i.type]-sv[l.type]).reduce((i,l)=>!o||l.modified?T9(e,l,n,i):i,s),E9=()=>navigator.userAgent.toLowerCase().includes("android"),A9=(e,n)=>{const r={};if(!n)return e.forEach((u,h)=>{const f=h===0?null:h-1,m=h===e.length-1?null:h+1;r[h]={leftIndex:f,rightIndex:m}}),{neighbors:r,startIndex:0,endIndex:e.length-1};const s={},o={};let i=0,l=0,d=e.length-1;for(;d>=0;){l=e.findIndex((u,h)=>{var f;return h>=i&&((f=u.endSeparator)==null?void 0:f.includes(" "))&&u.endSeparator!==" / "}),l===-1&&(l=e.length-1);for(let u=l;u>=i;u-=1)o[u]=d,s[d]=u,d-=1;i=l+1}return e.forEach((u,h)=>{const f=o[h],m=f===0?null:s[f-1],g=f===e.length-1?null:s[f+1];r[h]={leftIndex:m,rightIndex:g}}),{neighbors:r,startIndex:s[0],endIndex:s[e.length-1]}},Ef=(e,n)=>{if(e==null)return null;if(e==="all")return"all";if(typeof e=="string"){const r=n.findIndex(s=>s.type===e);return r===-1?null:r}return e},R9=["value","referenceDate"],pr={emptyValue:null,getTodayValue:yx,getInitialReferenceValue:e=>{let{value:n,referenceDate:r}=e,s=at(e,R9);return s.utils.isValid(n)?n:r??v9(s)},cleanValue:x9,areValuesEqual:g9,isSameError:(e,n)=>e===n,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,n)=>e.isValid(n)?e.getTimezone(n):null,setTimezone:(e,n,r)=>r==null?null:e.setTimezone(r,n)},k9={updateReferenceValue:(e,n,r)=>e.isValid(n)?n:r,getSectionsFromValue:(e,n)=>n(e),getV7HiddenInputValueFromSections:P9,getV6InputValueFromSections:I9,parseValueStr:(e,n,r)=>r(e.trim(),n),getDateFromSection:e=>e,getDateSectionsFromValue:e=>e,updateDateInValue:(e,n,r)=>r,clearDateSections:e=>e.map(n=>V({},n,{value:""}))},E1=({value:e,referenceDate:n,utils:r,props:s,timezone:o})=>{const i=x.useMemo(()=>pr.getInitialReferenceValue({value:e,utils:r,props:s,referenceDate:n,granularity:us.day,timezone:o,getTodayDate:()=>yx(r,o,"date")}),[]);return e??i};function _9(e){return un("MuiDigitalClock",e)}const Af=pn("MuiDigitalClock",["root","list","item"]);function O9(e,n){return Array.isArray(n)?n.every(r=>e.indexOf(r)!==-1):e.indexOf(n)!==-1}const M9=e=>{setTimeout(e,0)},Kn=(e=document)=>{const n=e.activeElement;return n?n.shadowRoot?Kn(n.shadowRoot):n:null},hd=e=>Array.from(e.children).indexOf(Kn(document)),N9="@media (pointer: fine)";function L9(...e){return e.reduce((n,r)=>(Array.isArray(r)?n.push(...r):r!=null&&n.push(r),n),[])}const $9=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","views","skipDisabled","timezone"],F9=e=>Qt({root:["root"],list:["list"],item:["item"]},_9,e),B9=Me(gx,{name:"MuiDigitalClock",slot:"Root"})({overflowY:"auto",width:"100%",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:S1,variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),W9=Me(Tv,{name:"MuiDigitalClock",slot:"List"})({padding:0}),U9=Me(we,{name:"MuiDigitalClock",slot:"Item",shouldForwardProp:e=>e!=="itemValue"&&e!=="formattedValue"})(({theme:e})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:de(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:de(e.palette.primary.main,e.palette.action.focusOpacity)}})),V9=x.forwardRef(function(n,r){const s=Vt(),o=x.useRef(null),i=or(r,o),l=x.useRef(null),d=Gt({props:n,name:"MuiDigitalClock"}),{ampm:u=s.is12HourCycleInCurrentLocale(),timeStep:h=30,autoFocus:f,slots:m,slotProps:g,value:y,defaultValue:b,referenceDate:w,disableIgnoringDatePartForTimeValidation:v=!1,maxTime:I,minTime:S,disableFuture:D,disablePast:T,minutesStep:E=1,shouldDisableTime:R,onChange:O,view:k,openTo:N,onViewChange:B,focusedView:K,onFocusedViewChange:$,className:Y,classes:J,disabled:G,readOnly:q,views:Q=["hours"],skipDisabled:z=!1,timezone:oe}=d,U=at(d,$9),{value:ee,handleValueChange:Pe,timezone:pe}=oa({name:"DigitalClock",timezone:oe,value:y,defaultValue:b,referenceDate:w,onChange:O,valueManager:pr}),Re=vs(),ce=si(pe),{ownerState:re}=En(),je=V({},re,{hasDigitalClockAlreadyBeenRendered:!!o.current}),Oe=F9(J),ye=(m==null?void 0:m.digitalClockItem)??U9,ie=Lt({elementType:ye,externalSlotProps:g==null?void 0:g.digitalClockItem,ownerState:je,className:Oe.item}),ae=E1({value:ee,referenceDate:w,utils:s,props:d,timezone:pe}),se=Ue(Se=>Pe(Se,"finish","hours")),{setValueAndGoToNextView:xe}=Kd({view:k,views:Q,openTo:N,onViewChange:B,onChange:se,focusedView:K,onFocusedViewChange:$}),he=Ue(Se=>{xe(Se,"finish")});ts(()=>{if(o.current===null)return;const Se=o.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!Se)return;const X=Se.offsetTop;(f||K)&&Se.focus(),o.current.scrollTop=X-4});const ke=x.useCallback(Se=>{const X=qd(v,s),L=()=>!(S&&X(S,Se)||I&&X(Se,I)||D&&X(Se,ce)||T&&X(ce,Se)),_e=()=>s.getMinutes(Se)%E!==0?!1:R?!R(Se,"hours"):!0;return!L()||!_e()},[v,s,S,I,D,ce,T,E,R]),Ee=x.useMemo(()=>{const Se=[];let L=s.startOfDay(ae);for(;s.isSameDay(ae,L);)Se.push(L),L=s.addMinutes(L,h);return Se},[ae,h,s]),Ye=Ee.findIndex(Se=>s.isEqual(Se,ae)),fe=Se=>{switch(Se.key){case"PageUp":{const X=hd(l.current)-5,L=l.current.children,_e=Math.max(0,X),Ve=L[_e];Ve&&Ve.focus(),Se.preventDefault();break}case"PageDown":{const X=hd(l.current)+5,L=l.current.children,_e=Math.min(L.length-1,X),Ve=L[_e];Ve&&Ve.focus(),Se.preventDefault();break}}};return t.jsx(B9,V({ref:i,className:nn(Oe.root,Y),ownerState:je},U,{children:t.jsx(W9,{ref:l,role:"listbox","aria-label":Re.timePickerToolbarTitle,className:Oe.list,onKeyDown:fe,children:Ee.map((Se,X)=>{const L=ke(Se);if(z&&L)return null;const _e=s.isEqual(Se,ee),Ve=s.format(Se,u?"fullTime12h":"fullTime24h"),Ft=Ye===X||Ye===-1&&X===0?0:-1;return t.jsx(ye,V({onClick:()=>!q&&he(Se),selected:_e,disabled:G||L,disableRipple:q,role:"option","aria-disabled":q,"aria-selected":_e,tabIndex:Ft,itemValue:Se,formattedValue:Ve},ie,{children:Ve}),`${Se.valueOf()}-${Ve}`)})})}))});function z9(e){return un("MuiMultiSectionDigitalClock",e)}const Rf=pn("MuiMultiSectionDigitalClock",["root"]);function H9(e){return un("MuiMultiSectionDigitalClockSection",e)}const kf=pn("MuiMultiSectionDigitalClockSection",["root","item"]),G9=["autoFocus","onChange","className","classes","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],Y9=e=>Qt({root:["root"],item:["item"]},H9,e),q9=Me(Tv,{name:"MuiMultiSectionDigitalClockSection",slot:"Root"})(({theme:e})=>({maxHeight:S1,width:56,padding:0,overflow:"hidden",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(e.vars||e).palette.divider}`},"&::after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"},variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),K9=Me(we,{name:"MuiMultiSectionDigitalClockSection",slot:"Item"})(({theme:e})=>({padding:8,margin:"2px 4px",width:Oi,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:de(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:de(e.palette.primary.main,e.palette.action.focusOpacity)}})),X9=x.forwardRef(function(n,r){const s=x.useRef(null),o=or(r,s),i=x.useRef(null),l=Gt({props:n,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:d,onChange:u,className:h,classes:f,disabled:m,readOnly:g,items:y,active:b,slots:w,slotProps:v,skipDisabled:I}=l,S=at(l,G9),{ownerState:D}=En(),T=V({},D,{hasDigitalClockAlreadyBeenRendered:!!s.current}),E=Y9(f),R=(w==null?void 0:w.digitalClockSectionItem)??K9;ts(()=>{if(s.current===null)return;const N=s.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(b&&d&&N&&N.focus(),!N||i.current===N)return;i.current=N;const B=N.offsetTop;s.current.scrollTop=B-4});const O=y.findIndex(N=>N.isFocused(N.value)),k=N=>{switch(N.key){case"PageUp":{const B=hd(s.current)-5,K=s.current.children,$=Math.max(0,B),Y=K[$];Y&&Y.focus(),N.preventDefault();break}case"PageDown":{const B=hd(s.current)+5,K=s.current.children,$=Math.min(K.length-1,B),Y=K[$];Y&&Y.focus(),N.preventDefault();break}}};return t.jsx(q9,V({ref:o,className:nn(E.root,h),ownerState:T,autoFocusItem:d&&b,role:"listbox",onKeyDown:k},S,{children:y.map((N,B)=>{var G;const K=(G=N.isDisabled)==null?void 0:G.call(N,N.value),$=m||K;if(I&&$)return null;const Y=N.isSelected(N.value),J=O===B||O===-1&&B===0?0:-1;return t.jsx(R,V({onClick:()=>!g&&u(N.value),selected:Y,disabled:$,disableRipple:g,role:"option","aria-disabled":g||$||void 0,"aria-label":N.ariaLabel,"aria-selected":Y,tabIndex:J,className:E.item},v==null?void 0:v.digitalClockSectionItem,{children:N.label}),N.label)})}))}),J9=({now:e,value:n,utils:r,ampm:s,isDisabled:o,resolveAriaLabel:i,timeStep:l,valueOrReferenceDate:d})=>{const u=n?r.getHours(n):null,h=[],f=(y,b)=>{const w=b??u;return w===null?!1:s?y===12?w===12||w===0:w===y||w-12===y:w===y},m=y=>f(y,r.getHours(d)),g=s?11:23;for(let y=0;y<=g;y+=l){let b=r.format(r.setHours(e,y),s?"hours12h":"hours24h");const w=i(parseInt(b,10).toString());b=r.formatNumber(b),h.push({value:y,label:b,isSelected:f,isDisabled:o,isFocused:m,ariaLabel:w})}return h},av=({value:e,utils:n,isDisabled:r,timeStep:s,resolveLabel:o,resolveAriaLabel:i,hasValue:l=!0})=>{const d=h=>e===null?!1:l&&e===h,u=h=>e===h;return[...Array.from({length:Math.ceil(60/s)},(h,f)=>{const m=s*f;return{value:m,label:n.formatNumber(o(m)),isDisabled:r,isSelected:d,isFocused:u,ariaLabel:i(m.toString())}})]},Q9=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","skipDisabled","timezone"],Z9=e=>Qt({root:["root"]},z9,e),e7=Me(gx,{name:"MuiMultiSectionDigitalClock",slot:"Root"})(({theme:e})=>({flexDirection:"row",width:"100%",borderBottom:`1px solid ${(e.vars||e).palette.divider}`})),t7=x.forwardRef(function(n,r){const s=Vt(),o=Os(),i=Gt({props:n,name:"MuiMultiSectionDigitalClock"}),{ampm:l=s.is12HourCycleInCurrentLocale(),timeSteps:d,autoFocus:u,slots:h,slotProps:f,value:m,defaultValue:g,referenceDate:y,disableIgnoringDatePartForTimeValidation:b=!1,maxTime:w,minTime:v,disableFuture:I,disablePast:S,minutesStep:D=1,shouldDisableTime:T,onChange:E,view:R,views:O=["hours","minutes"],openTo:k,onViewChange:N,focusedView:B,onFocusedViewChange:K,className:$,classes:Y,disabled:J,readOnly:G,skipDisabled:q=!1,timezone:Q}=i,z=at(i,Q9),{value:oe,handleValueChange:U,timezone:ee}=oa({name:"MultiSectionDigitalClock",timezone:Q,value:m,defaultValue:g,referenceDate:y,onChange:E,valueManager:pr}),Pe=vs(),pe=si(ee),Re=x.useMemo(()=>V({hours:1,minutes:5,seconds:5},d),[d]),ce=E1({value:oe,referenceDate:y,utils:s,props:i,timezone:ee}),re=Ue((X,L,_e)=>U(X,L,_e)),je=x.useMemo(()=>!l||!O.includes("hours")||O.includes("meridiem")?O:[...O,"meridiem"],[l,O]),{view:Oe,setValueAndGoToNextView:ye,focusedView:ie}=Kd({view:R,views:je,openTo:k,onViewChange:N,onChange:re,focusedView:B,onFocusedViewChange:K}),ae=Ue(X=>{ye(X,"finish","meridiem")}),{meridiemMode:se,handleMeridiemChange:xe}=w1(ce,l,ae,"finish"),he=x.useCallback((X,L)=>{const _e=qd(b,s),Ve=L==="hours"||L==="minutes"&&je.includes("seconds"),hn=({start:Rt,end:Zt})=>!(v&&_e(v,Zt)||w&&_e(Rt,w)||I&&_e(Rt,pe)||S&&_e(pe,Ve?Zt:Rt)),Ft=(Rt,Zt=1)=>{if(Rt%Zt!==0)return!1;if(T)switch(L){case"hours":return!T(s.setHours(ce,Rt),"hours");case"minutes":return!T(s.setMinutes(ce,Rt),"minutes");case"seconds":return!T(s.setSeconds(ce,Rt),"seconds");default:return!1}return!0};switch(L){case"hours":{const Rt=Tf(X,se,l),Zt=s.setHours(ce,Rt);if(s.getHours(Zt)!==Rt)return!0;const Fn=s.setSeconds(s.setMinutes(Zt,0),0),ut=s.setSeconds(s.setMinutes(Zt,59),59);return!hn({start:Fn,end:ut})||!Ft(Rt)}case"minutes":{const Rt=s.setMinutes(ce,X),Zt=s.setSeconds(Rt,0),Fn=s.setSeconds(Rt,59);return!hn({start:Zt,end:Fn})||!Ft(X,D)}case"seconds":{const Rt=s.setSeconds(ce,X);return!hn({start:Rt,end:Rt})||!Ft(X)}default:throw new Error("not supported")}},[l,ce,b,w,se,v,D,T,s,I,S,pe,je]),ke=x.useCallback(X=>{switch(X){case"hours":return{onChange:L=>{const _e=Tf(L,se,l);ye(s.setHours(ce,_e),"finish","hours")},items:J9({now:pe,value:oe,ampm:l,utils:s,isDisabled:L=>he(L,"hours"),timeStep:Re.hours,resolveAriaLabel:Pe.hoursClockNumberText,valueOrReferenceDate:ce})};case"minutes":return{onChange:L=>{ye(s.setMinutes(ce,L),"finish","minutes")},items:av({value:s.getMinutes(ce),utils:s,isDisabled:L=>he(L,"minutes"),resolveLabel:L=>s.format(s.setMinutes(pe,L),"minutes"),timeStep:Re.minutes,hasValue:!!oe,resolveAriaLabel:Pe.minutesClockNumberText})};case"seconds":return{onChange:L=>{ye(s.setSeconds(ce,L),"finish","seconds")},items:av({value:s.getSeconds(ce),utils:s,isDisabled:L=>he(L,"seconds"),resolveLabel:L=>s.format(s.setSeconds(pe,L),"seconds"),timeStep:Re.seconds,hasValue:!!oe,resolveAriaLabel:Pe.secondsClockNumberText})};case"meridiem":{const L=Wi(s,"am"),_e=Wi(s,"pm");return{onChange:xe,items:[{value:"am",label:L,isSelected:()=>!!oe&&se==="am",isFocused:()=>!!ce&&se==="am",ariaLabel:L},{value:"pm",label:_e,isSelected:()=>!!oe&&se==="pm",isFocused:()=>!!ce&&se==="pm",ariaLabel:_e}]}}default:throw new Error(`Unknown view: ${X} found.`)}},[pe,oe,l,s,Re.hours,Re.minutes,Re.seconds,Pe.hoursClockNumberText,Pe.minutesClockNumberText,Pe.secondsClockNumberText,se,ye,ce,he,xe]),Ee=x.useMemo(()=>{if(!o)return je;const X=je.filter(L=>L!=="meridiem");return X.reverse(),je.includes("meridiem")&&X.push("meridiem"),X},[o,je]),Ye=x.useMemo(()=>je.reduce((X,L)=>V({},X,{[L]:ke(L)}),{}),[je,ke]),{ownerState:fe}=En(),Se=Z9(Y);return t.jsx(e7,V({ref:r,className:nn(Se.root,$),ownerState:fe,role:"group"},z,{children:Ee.map(X=>t.jsx(X9,{items:Ye[X].items,onChange:Ye[X].onChange,active:Oe===X,autoFocus:u||ie===X,disabled:J,readOnly:G,slots:h,slotProps:f,skipDisabled:q,"aria-label":Pe.selectViewText(X)},X))}))});function n7(e){return un("MuiPickersDay",e)}const Bo=pn("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]);function A1(e){const{disabled:n,selected:r,today:s,outsideCurrentMonth:o,day:i,disableMargin:l,disableHighlightToday:d,showDaysOutsideCurrentMonth:u}=e,h=Vt(),{ownerState:f}=En();return x.useMemo(()=>V({},f,{day:i,isDaySelected:r??!1,isDayDisabled:n??!1,isDayCurrent:s??!1,isDayOutsideMonth:o??!1,isDayStartOfWeek:h.isSameDay(i,h.startOfWeek(i)),isDayEndOfWeek:h.isSameDay(i,h.endOfWeek(i)),disableMargin:l??!1,disableHighlightToday:d??!1,showDaysOutsideCurrentMonth:u??!1}),[h,f,i,r,n,s,o,l,d,u])}const r7=["autoFocus","className","classes","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","children","isFirstVisibleCell","isLastVisibleCell","day","selected","disabled","today","outsideCurrentMonth","disableMargin","disableHighlightToday","showDaysOutsideCurrentMonth"],s7=(e,n)=>{const{isDaySelected:r,isDayDisabled:s,isDayCurrent:o,isDayOutsideMonth:i,disableMargin:l,disableHighlightToday:d,showDaysOutsideCurrentMonth:u}=n,h=i&&!u;return Qt({root:["root",r&&!h&&"selected",s&&"disabled",!l&&"dayWithMargin",!d&&o&&"today",i&&u&&"dayOutsideMonth",h&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},n7,e)},R1=({theme:e})=>V({},e.typography.caption,{width:sl,height:sl,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:de(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:de(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${Bo.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${Bo.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${Bo.disabled}:not(.${Bo.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${Bo.disabled}&.${Bo.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${Xd}px`}},{props:{isDayOutsideMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(e.vars||e).palette.text.secondary}},{props:{disableHighlightToday:!1,isDayCurrent:!0},style:{[`&:not(.${Bo.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}}]}),k1=(e,n)=>{const{ownerState:r}=e;return[n.root,!r.disableMargin&&n.dayWithMargin,!r.disableHighlightToday&&r.isDayCurrent&&n.today,!r.isDayOutsideMonth&&r.showDaysOutsideCurrentMonth&&n.dayOutsideMonth,r.isDayOutsideMonth&&!r.showDaysOutsideCurrentMonth&&n.hiddenDaySpacingFiller]},o7=Me(NR,{name:"MuiPickersDay",slot:"Root",overridesResolver:k1})(R1),a7=Me("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:k1})(({theme:e})=>V({},R1({theme:e}),{opacity:0,pointerEvents:"none"})),Ri=()=>{},i7=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersDay"}),{autoFocus:o=!1,className:i,classes:l,isAnimating:d,onClick:u,onDaySelect:h,onFocus:f=Ri,onBlur:m=Ri,onKeyDown:g=Ri,onMouseDown:y=Ri,onMouseEnter:b=Ri,children:w,day:v,selected:I,disabled:S,today:D,outsideCurrentMonth:T,disableMargin:E,disableHighlightToday:R,showDaysOutsideCurrentMonth:O}=s,k=at(s,r7),N=A1({day:v,selected:I,disabled:S,today:D,outsideCurrentMonth:T,disableMargin:E,disableHighlightToday:R,showDaysOutsideCurrentMonth:O}),B=s7(l,N),K=Vt(),$=x.useRef(null),Y=or($,r);ts(()=>{o&&!S&&!d&&!T&&$.current.focus()},[o,S,d,T]);const J=q=>{y(q),T&&q.preventDefault()},G=q=>{S||h(v),T&&q.currentTarget.focus(),u&&u(q)};return T&&!O?t.jsx(a7,{className:nn(B.root,B.hiddenDaySpacingFiller,i),ownerState:N,role:k.role}):t.jsx(o7,V({className:nn(B.root,i),ref:Y,centerRipple:!0,disabled:S,tabIndex:I?0:-1,onKeyDown:q=>g(q,v),onFocus:q=>f(q,v),onBlur:q=>m(q,v),onMouseEnter:q=>b(q,v),onClick:G,onMouseDown:J},k,{ownerState:N,children:w||K.format(v,"dayOfMonth")}))}),l7=x.memo(i7),_f=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],Of=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],_1=["minDateTime","maxDateTime"],c7=[..._f,...Of,..._1],O1=e=>c7.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{}),d7=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","unstableStartFieldRef","unstableEndFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator","autoFocus","focused"],M1=(e,n)=>x.useMemo(()=>{const r=V({},e),s={},o=i=>{r.hasOwnProperty(i)&&(s[i]=r[i],delete r[i])};return d7.forEach(o),n==="date"?_f.forEach(o):n==="time"?Of.forEach(o):n==="date-time"&&(_f.forEach(o),Of.forEach(o),_1.forEach(o)),{forwardedProps:r,internalProps:s}},[e,n]),u7=({utils:e,format:n})=>{let r=10,s=n,o=e.expandFormat(n);for(;o!==s;)if(s=o,o=e.expandFormat(s),r-=1,r<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the component.");return o},h7=({utils:e,expandedFormat:n})=>{const r=[],{start:s,end:o}=e.escapedCharacters,i=new RegExp(`(\\${s}[^\\${o}]*\\${o})+`,"g");let l=null;for(;l=i.exec(n);)r.push({start:l.index,end:i.lastIndex-1});return r},f7=(e,n,r,s)=>{switch(r.type){case"year":return n.fieldYearPlaceholder({digitAmount:e.formatByString(e.date(void 0,"default"),s).length,format:s});case"month":return n.fieldMonthPlaceholder({contentType:r.contentType,format:s});case"day":return n.fieldDayPlaceholder({format:s});case"weekDay":return n.fieldWeekDayPlaceholder({contentType:r.contentType,format:s});case"hours":return n.fieldHoursPlaceholder({format:s});case"minutes":return n.fieldMinutesPlaceholder({format:s});case"seconds":return n.fieldSecondsPlaceholder({format:s});case"meridiem":return n.fieldMeridiemPlaceholder({format:s});default:return s}},p7=({utils:e,date:n,shouldRespectLeadingZeros:r,localeText:s,localizedDigits:o,now:i,token:l,startSeparator:d})=>{if(l==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const u=P1(e,l),h=T1(e,u.contentType,u.type,l),f=r?h:u.contentType==="digit",m=e.isValid(n);let g=m?e.formatByString(n,l):"",y=null;if(f)if(h)y=g===""?e.formatByString(i,l).length:g.length;else{if(u.maxLength==null)throw new Error(`MUI X: The token ${l} should have a 'maxLength' property on it's adapter`);y=u.maxLength,m&&(g=vx(jx(Zo(g,o),y),o))}return V({},u,{format:l,maxLength:y,value:g,placeholder:f7(e,s,u,l),hasLeadingZerosInFormat:h,hasLeadingZerosInInput:f,startSeparator:d,endSeparator:"",modified:!1})},m7=e=>{var y;const{utils:n,expandedFormat:r,escapedParts:s}=e,o=n.date(void 0),i=[];let l="";const d=Object.keys(n.formatTokenMap).sort((b,w)=>w.length-b.length),u=/^([a-zA-Z]+)/,h=new RegExp(`^(${d.join("|")})*$`),f=new RegExp(`^(${d.join("|")})`),m=b=>s.find(w=>w.start<=b&&w.end>=b);let g=0;for(;g<r.length;){const b=m(g),w=b!=null,v=(y=u.exec(r.slice(g)))==null?void 0:y[1];if(!w&&v!=null&&h.test(v)){let I=v;for(;I.length>0;){const S=f.exec(I)[1];I=I.slice(S.length),i.push(p7(V({},e,{now:o,token:S,startSeparator:l}))),l=""}g+=v.length}else{const I=r[g];w&&(b==null?void 0:b.start)===g||(b==null?void 0:b.end)===g||(i.length===0?l+=I:(i[i.length-1].endSeparator+=I,i[i.length-1].isEndFormatSeparator=!0)),g+=1}}return i.length===0&&l.length>0&&i.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:l,endSeparator:"",modified:!1}),i},x7=({isRtl:e,formatDensity:n,sections:r})=>r.map(s=>{const o=i=>{let l=i;return e&&l!==null&&l.includes(" ")&&(l=`${l}`),n==="spacious"&&["/",".","-"].includes(l)&&(l=` ${l} `),l};return s.startSeparator=o(s.startSeparator),s.endSeparator=o(s.endSeparator),s}),iv=e=>{let n=u7(e);e.isRtl&&e.enableAccessibleFieldDOMStructure&&(n=n.split(" ").reverse().join(" "));const r=h7(V({},e,{expandedFormat:n})),s=m7(V({},e,{expandedFormat:n,escapedParts:r}));return x7(V({},e,{sections:s}))},Sx=()=>x.useContext(xx),g7=()=>{const e=x.useContext(g1);if(e==null)throw new Error(["MUI X: The `usePickerActionsContext` can only be called in fields that are used as a slot of a Picker component"].join(`
`));return e},Ca=e=>e.saveQuery!=null,N1=({stateResponse:{localizedDigits:e,sectionsValueBoundaries:n,state:r,timezone:s,setCharacterQuery:o,setTempAndroidValueStr:i,updateSectionValue:l}})=>{const d=Vt(),u=({keyPressed:m,sectionIndex:g},y,b)=>{const w=m.toLowerCase(),v=r.sections[g];if(r.characterQuery!=null&&(!b||b(r.characterQuery.value))&&r.characterQuery.sectionIndex===g){const S=`${r.characterQuery.value}${w}`,D=y(S,v);if(!Ca(D))return o({sectionIndex:g,value:S,sectionType:v.type}),D}const I=y(w,v);return Ca(I)&&!I.saveQuery?(o(null),null):(o({sectionIndex:g,value:w,sectionType:v.type}),Ca(I)?null:I)},h=m=>{const g=(w,v,I)=>{const S=v.filter(D=>D.toLowerCase().startsWith(I));return S.length===0?{saveQuery:!1}:{sectionValue:S[0],shouldGoToNextSection:S.length===1}},y=(w,v,I,S)=>{const D=T=>I1(d,s,v.type,T);if(v.contentType==="letter")return g(v.format,D(v.format),w);if(I&&S!=null&&P1(d,I).contentType==="letter"){const T=D(I),E=g(I,T,w);return Ca(E)?{saveQuery:!1}:V({},E,{sectionValue:S(E.sectionValue,T)})}return{saveQuery:!1}};return u(m,(w,v)=>{switch(v.type){case"month":{const I=S=>rv(d,S,d.formats.month,v.format);return y(w,v,d.formats.month,I)}case"weekDay":{const I=(S,D)=>D.indexOf(S).toString();return y(w,v,d.formats.weekday,I)}case"meridiem":return y(w,v);default:return{saveQuery:!1}}})},f=m=>{const g=(b,w)=>{const v=Zo(b,e),I=Number(v),S=n[w.type]({currentDate:null,format:w.format,contentType:w.contentType});if(I>S.maximum)return{saveQuery:!1};if(I<S.minimum)return{saveQuery:!0};const D=I*10>S.maximum||v.length===S.maximum.toString().length;return{sectionValue:D1(d,I,S,e,w),shouldGoToNextSection:D}};return u(m,(b,w)=>{if(w.contentType==="digit"||w.contentType==="digit-with-letter")return g(b,w);if(w.type==="month"){const v=T1(d,"digit","month","MM"),I=g(b,{type:w.type,format:"MM",hasLeadingZerosInFormat:v,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(Ca(I))return I;const S=rv(d,I.sectionValue,"MM",w.format);return V({},I,{sectionValue:S})}if(w.type==="weekDay"){const v=g(b,w);if(Ca(v))return v;const I=Jd(d,w.format)[Number(v.sectionValue)-1];return V({},v,{sectionValue:I})}return{saveQuery:!1}},b=>nv(b,e))};return Ue(m=>{const g=r.sections[m.sectionIndex],b=nv(m.keyPressed,e)?f(V({},m,{keyPressed:vx(m.keyPressed,e)})):h(m);if(b==null){i(null);return}l({section:g,newSectionValue:b.sectionValue,shouldGoToNextSection:b.shouldGoToNextSection})})},Cx=({props:e,value:n,timezone:r,adapter:s})=>{if(n===null)return null;const{shouldDisableDate:o,shouldDisableMonth:i,shouldDisableYear:l,disablePast:d,disableFuture:u,minDate:h,maxDate:f}=e,m=s.utils.date(void 0,r);switch(!0){case!s.utils.isValid(n):return"invalidDate";case!!(o&&o(n)):return"shouldDisableDate";case!!(i&&i(n)):return"shouldDisableMonth";case!!(l&&l(n)):return"shouldDisableYear";case!!(u&&s.utils.isAfterDay(n,m)):return"disableFuture";case!!(d&&s.utils.isBeforeDay(n,m)):return"disablePast";case!!(h&&s.utils.isBeforeDay(n,h)):return"minDate";case!!(f&&s.utils.isAfterDay(n,f)):return"maxDate";default:return null}};Cx.valueManager=pr;const L1=({adapter:e,value:n,timezone:r,props:s})=>{if(n===null)return null;const{minTime:o,maxTime:i,minutesStep:l,shouldDisableTime:d,disableIgnoringDatePartForTimeValidation:u=!1,disablePast:h,disableFuture:f}=s,m=e.utils.date(void 0,r),g=qd(u,e.utils);switch(!0){case!e.utils.isValid(n):return"invalidDate";case!!(o&&g(o,n)):return"minTime";case!!(i&&g(n,i)):return"maxTime";case!!(f&&e.utils.isAfter(n,m)):return"disableFuture";case!!(h&&e.utils.isBefore(n,m)):return"disablePast";case!!(d&&d(n,"hours")):return"shouldDisableTime-hours";case!!(d&&d(n,"minutes")):return"shouldDisableTime-minutes";case!!(d&&d(n,"seconds")):return"shouldDisableTime-seconds";case!!(l&&e.utils.getMinutes(n)%l!==0):return"minutesStep";default:return null}};L1.valueManager=pr;const Qd=({adapter:e,value:n,timezone:r,props:s})=>{const o=Cx({adapter:e,value:n,timezone:r,props:s});return o!==null?o:L1({adapter:e,value:n,timezone:r,props:s})};Qd.valueManager=pr;function $1(e){const{props:n,validator:r,value:s,timezone:o,onError:i}=e,l=sa(),d=x.useRef(r.valueManager.defaultErrorState),u=r({adapter:l,value:s,timezone:o,props:n}),h=r.valueManager.hasError(u);x.useEffect(()=>{i&&!r.valueManager.isSameError(u,d.current)&&i(u,s),d.current=u},[r,i,u,s]);const f=Ue(m=>r({adapter:l,value:m,timezone:o,props:n}));return{validationError:u,hasValidationError:h,getValidationErrorForNewValue:f}}const b7=5e3,F1=e=>{var Ye;const n=Vt(),r=vs(),s=sa(),o=Os(),{manager:{validator:i,valueType:l,internal_valueManager:d,internal_fieldValueManager:u},internalPropsWithDefaults:h,internalPropsWithDefaults:{value:f,defaultValue:m,referenceDate:g,onChange:y,format:b,formatDensity:w="dense",selectedSections:v,onSelectedSectionsChange:I,shouldRespectLeadingZeros:S=!1,timezone:D,enableAccessibleFieldDOMStructure:T=!0},forwardedProps:{error:E}}=e,{value:R,handleValueChange:O,timezone:k}=oa({name:"a field component",timezone:D,value:f,defaultValue:m,referenceDate:g,onChange:y,valueManager:d}),N=x.useRef(R);x.useEffect(()=>{N.current=R},[R]);const{hasValidationError:B}=$1({props:h,validator:i,timezone:k,value:R,onError:h.onError}),K=x.useMemo(()=>E!==void 0?E:B,[B,E]),$=x.useMemo(()=>w9(n),[n]),Y=x.useMemo(()=>D9(n,$,k),[n,$,k]),J=x.useCallback(fe=>u.getSectionsFromValue(fe,Se=>iv({utils:n,localeText:r,localizedDigits:$,format:b,date:Se,formatDensity:w,shouldRespectLeadingZeros:S,enableAccessibleFieldDOMStructure:T,isRtl:o})),[u,b,r,$,o,S,n,w,T]),[G,q]=x.useState(()=>{const fe=J(R),Se={sections:fe,lastExternalValue:R,lastSectionsDependencies:{format:b,isRtl:o,locale:n.locale},tempValueStrAndroid:null,characterQuery:null},X=y9(fe),L=d.getInitialReferenceValue({referenceDate:g,value:R,utils:n,props:h,granularity:X,timezone:k});return V({},Se,{referenceValue:L})}),[Q,z]=Ya({controlled:v,default:null,name:"useField",state:"selectedSections"}),oe=fe=>{z(fe),I==null||I(fe)},U=x.useMemo(()=>Ef(Q,G.sections),[Q,G.sections]),ee=U==="all"?0:U,Pe=x.useMemo(()=>A9(G.sections,o&&!T),[G.sections,o,T]),pe=x.useMemo(()=>G.sections.every(fe=>fe.value===""),[G.sections]),Re=fe=>{const Se={validationError:i({adapter:s,value:fe,timezone:k,props:h})};O(fe,Se)},ce=(fe,Se)=>{const X=[...G.sections];return X[fe]=V({},X[fe],{value:Se,modified:!0}),X},re=x.useRef(null),je=Ra(),Oe=fe=>{ee!=null&&(re.current={sectionIndex:ee,value:fe},je.start(0,()=>{re.current=null}))},ye=()=>{d.areValuesEqual(n,R,d.emptyValue)?q(fe=>V({},fe,{sections:fe.sections.map(Se=>V({},Se,{value:""})),tempValueStrAndroid:null,characterQuery:null})):(q(fe=>V({},fe,{characterQuery:null})),Re(d.emptyValue))},ie=()=>{if(ee==null)return;const fe=G.sections[ee];fe.value!==""&&(Oe(""),u.getDateFromSection(R,fe)===null?q(Se=>V({},Se,{sections:ce(ee,""),tempValueStrAndroid:null,characterQuery:null})):(q(Se=>V({},Se,{characterQuery:null})),Re(u.updateDateInValue(R,fe,null))))},ae=fe=>{const Se=(L,_e)=>{const Ve=n.parse(L,b);if(!n.isValid(Ve))return null;const hn=iv({utils:n,localeText:r,localizedDigits:$,format:b,date:Ve,formatDensity:w,shouldRespectLeadingZeros:S,enableAccessibleFieldDOMStructure:T,isRtl:o});return ov(n,Ve,hn,_e,!1)},X=u.parseValueStr(fe,G.referenceValue,Se);Re(X)},se=Ra(),xe=({section:fe,newSectionValue:Se,shouldGoToNextSection:X})=>{je.clear(),se.clear();const L=u.getDateFromSection(R,fe);X&&ee<G.sections.length-1&&oe(ee+1);const _e=ce(ee,Se),Ve=u.getDateSectionsFromValue(_e,fe),hn=C9(n,Ve,$);if(n.isValid(hn)){const Ft=ov(n,hn,Ve,u.getDateFromSection(G.referenceValue,fe),!0);return L==null&&se.start(0,()=>{N.current===R&&q(Rt=>V({},Rt,{sections:u.clearDateSections(G.sections,fe),tempValueStrAndroid:null}))}),Re(u.updateDateInValue(R,fe,Ft))}return Ve.every(Ft=>Ft.value!=="")?(Oe(Se),Re(u.updateDateInValue(R,fe,hn))):L!=null?(Oe(Se),Re(u.updateDateInValue(R,fe,null))):q(Ft=>V({},Ft,{sections:_e,tempValueStrAndroid:null}))},he=fe=>q(Se=>V({},Se,{tempValueStrAndroid:fe})),ke=Ue(fe=>{q(Se=>V({},Se,{characterQuery:fe}))});if(R!==G.lastExternalValue){let fe;re.current!=null&&!n.isValid(u.getDateFromSection(R,G.sections[re.current.sectionIndex]))?fe=ce(re.current.sectionIndex,re.current.value):fe=J(R),q(Se=>V({},Se,{lastExternalValue:R,sections:fe,sectionsDependencies:{format:b,isRtl:o,locale:n.locale},referenceValue:u.updateReferenceValue(n,R,Se.referenceValue),tempValueStrAndroid:null}))}if(o!==G.lastSectionsDependencies.isRtl||b!==G.lastSectionsDependencies.format||n.locale!==G.lastSectionsDependencies.locale){const fe=J(R);q(Se=>V({},Se,{lastSectionsDependencies:{format:b,isRtl:o,locale:n.locale},sections:fe,tempValueStrAndroid:null,characterQuery:null}))}G.characterQuery!=null&&!K&&ee==null&&ke(null),G.characterQuery!=null&&((Ye=G.sections[G.characterQuery.sectionIndex])==null?void 0:Ye.type)!==G.characterQuery.sectionType&&ke(null),x.useEffect(()=>{re.current!=null&&(re.current=null)});const Ee=Ra();return x.useEffect(()=>(G.characterQuery!=null&&Ee.start(b7,()=>ke(null)),()=>{}),[G.characterQuery,ke,Ee]),x.useEffect(()=>{G.tempValueStrAndroid!=null&&ee!=null&&ie()},[G.sections]),{activeSectionIndex:ee,areAllSectionsEmpty:pe,error:K,localizedDigits:$,parsedSelectedSections:U,sectionOrder:Pe,sectionsValueBoundaries:Y,state:G,timezone:k,value:R,clearValue:ye,clearActiveSection:ie,setCharacterQuery:ke,setSelectedSections:oe,setTempAndroidValueStr:he,updateSectionValue:xe,updateValueFromValueStr:ae,getSectionsFromValue:J}};function B1(e){const{manager:{internal_useApplyDefaultValuesToFieldInternalProps:n},internalProps:r,skipContextFieldRefAssignment:s}=e,o=Sx(),i=x1(),l=or(r.unstableFieldRef,s?null:i==null?void 0:i.fieldRef),d=o==null?void 0:o.setValue,u=x.useCallback((f,m)=>d==null?void 0:d(f,{validationError:m.validationError,shouldClose:!1}),[d]),h=x.useMemo(()=>i!=null&&o!=null?V({value:o.value,onChange:u,timezone:o.timezone,disabled:o.disabled,readOnly:o.readOnly,autoFocus:o.autoFocus&&!o.open,focused:o.open?!0:void 0,format:o.fieldFormat,formatDensity:i.formatDensity,enableAccessibleFieldDOMStructure:i.enableAccessibleFieldDOMStructure,selectedSections:i.selectedSections,onSelectedSectionsChange:i.onSelectedSectionsChange,unstableFieldRef:l},r):r,[o,i,r,u,l]);return n(h)}function Px(e){const{focused:n,domGetters:r,stateResponse:{parsedSelectedSections:s,state:o}}=e;if(!r.isReady())return;const i=document.getSelection();if(!i)return;if(s==null){i.rangeCount>0&&r.getRoot().contains(i.getRangeAt(0).startContainer)&&i.removeAllRanges(),n&&r.getRoot().blur();return}if(!r.getRoot().contains(Kn(document)))return;const l=new window.Range;let d;s==="all"?d=r.getRoot():o.sections[s].type==="empty"?d=r.getSectionContainer(s):d=r.getSectionContent(s),l.selectNodeContents(d),d.focus(),i.removeAllRanges(),i.addRange(l)}function W1(e){const n=Vt(),{manager:{internal_fieldValueManager:r},internalPropsWithDefaults:{minutesStep:s,disabled:o,readOnly:i},stateResponse:{state:l,value:d,activeSectionIndex:u,parsedSelectedSections:h,sectionsValueBoundaries:f,localizedDigits:m,timezone:g,sectionOrder:y,clearValue:b,clearActiveSection:w,setSelectedSections:v,updateSectionValue:I}}=e;return Ue(S=>{if(!o)switch(!0){case((S.ctrlKey||S.metaKey)&&String.fromCharCode(S.keyCode)==="A"&&!S.shiftKey&&!S.altKey):{S.preventDefault(),v("all");break}case S.key==="ArrowRight":{if(S.preventDefault(),h==null)v(y.startIndex);else if(h==="all")v(y.endIndex);else{const D=y.neighbors[h].rightIndex;D!==null&&v(D)}break}case S.key==="ArrowLeft":{if(S.preventDefault(),h==null)v(y.endIndex);else if(h==="all")v(y.startIndex);else{const D=y.neighbors[h].leftIndex;D!==null&&v(D)}break}case S.key==="Delete":{if(S.preventDefault(),i)break;h==null||h==="all"?b():w();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(S.key):{if(S.preventDefault(),i||u==null)break;h==="all"&&v(u);const D=l.sections[u],T=v7(n,g,D,S.key,f,m,r.getDateFromSection(d,D),{minutesStep:s});I({section:D,newSectionValue:T,shouldGoToNextSection:!1});break}}})}function y7(e){switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}}function v7(e,n,r,s,o,i,l,d){const u=y7(s),h=s==="Home",f=s==="End",m=r.value===""||h||f,g=()=>{const b=o[r.type]({currentDate:l,format:r.format,contentType:r.contentType}),w=S=>D1(e,S,b,i,r),v=r.type==="minutes"&&(d!=null&&d.minutesStep)?d.minutesStep:1;let I;if(m){if(r.type==="year"&&!f&&!h)return e.formatByString(e.date(void 0,n),r.format);u>0||h?I=b.minimum:I=b.maximum}else I=parseInt(Zo(r.value,i),10)+u*v;return I%v!==0&&((u<0||h)&&(I+=v-(v+I)%v),(u>0||f)&&(I-=I%v)),I>b.maximum?w(b.minimum+(I-b.maximum-1)%(b.maximum-b.minimum+1)):I<b.minimum?w(b.maximum-(b.minimum-I-1)%(b.maximum-b.minimum+1)):w(I)},y=()=>{const b=I1(e,n,r.type,r.format);if(b.length===0)return r.value;if(m)return u>0||h?b[0]:b[b.length-1];const I=((b.indexOf(r.value)+u)%b.length+b.length)%b.length;return b[I]};return r.contentType==="digit"||r.contentType==="digit-with-letter"?g():y()}function j7(e){const{manager:n,focused:r,setFocused:s,domGetters:o,stateResponse:i,applyCharacterEditing:l,internalPropsWithDefaults:d,stateResponse:{parsedSelectedSections:u,sectionOrder:h,state:f,clearValue:m,setCharacterQuery:g,setSelectedSections:y,updateValueFromValueStr:b},internalPropsWithDefaults:{disabled:w=!1,readOnly:v=!1}}=e,I=W1({manager:n,internalPropsWithDefaults:d,stateResponse:i}),S=Ra(),D=Ue(k=>{w||!o.isReady()||(s(!0),u==="all"?S.start(0,()=>{const N=document.getSelection().getRangeAt(0).startOffset;if(N===0){y(h.startIndex);return}let B=0,K=0;for(;K<N&&B<f.sections.length;){const $=f.sections[B];B+=1,K+=`${$.startSeparator}${$.value||$.placeholder}${$.endSeparator}`.length}y(B-1)}):r?o.getRoot().contains(k.target)||y(h.startIndex):(s(!0),y(h.startIndex)))}),T=Ue(k=>{if(!o.isReady()||u!=="all")return;const B=k.target.textContent??"";o.getRoot().innerHTML=f.sections.map(K=>`${K.startSeparator}${K.value||K.placeholder}${K.endSeparator}`).join(""),Px({focused:r,domGetters:o,stateResponse:i}),B.length===0||B.charCodeAt(0)===10?(m(),y("all")):B.length>1?b(B):(u==="all"&&y(0),l({keyPressed:B,sectionIndex:0}))}),E=Ue(k=>{if(v||u!=="all"){k.preventDefault();return}const N=k.clipboardData.getData("text");k.preventDefault(),g(null),b(N)}),R=Ue(()=>{if(r||w||!o.isReady())return;const k=Kn(document);s(!0),o.getSectionIndexFromDOMElement(k)!=null||y(h.startIndex)}),O=Ue(()=>{setTimeout(()=>{if(!o.isReady())return;const k=Kn(document);!o.getRoot().contains(k)&&(s(!1),y(null))})});return{onKeyDown:I,onBlur:O,onFocus:R,onClick:D,onPaste:E,onInput:T,contentEditable:u==="all",tabIndex:u===0?-1:0}}function w7(e){const{manager:{internal_fieldValueManager:n},stateResponse:{areAllSectionsEmpty:r,state:s,updateValueFromValueStr:o}}=e,i=Ue(d=>{o(d.target.value)});return{value:x.useMemo(()=>r?"":n.getV7HiddenInputValueFromSections(s.sections),[r,s.sections,n]),onChange:i}}function S7(e){const{stateResponse:{setSelectedSections:n},internalPropsWithDefaults:{disabled:r=!1}}=e,s=Ue(o=>i=>{r||i.isDefaultPrevented()||n(o)});return x.useCallback(o=>({"data-sectionindex":o,onClick:s(o)}),[s])}function C7(e){const n=Vt(),r=vs(),s=Yd(),{focused:o,domGetters:i,stateResponse:l,applyCharacterEditing:d,manager:{internal_fieldValueManager:u},stateResponse:{parsedSelectedSections:h,sectionsValueBoundaries:f,state:m,value:g,clearActiveSection:y,setCharacterQuery:b,setSelectedSections:w,updateSectionValue:v,updateValueFromValueStr:I},internalPropsWithDefaults:{disabled:S=!1,readOnly:D=!1}}=e,T=h==="all",E=!T&&!S&&!D,R=Ue($=>{if(!i.isReady())return;const Y=m.sections[$];i.getSectionContent($).innerHTML=Y.value||Y.placeholder,Px({focused:o,domGetters:i,stateResponse:l})}),O=Ue($=>{if(!i.isReady())return;const Y=$.target,J=Y.textContent??"",G=i.getSectionIndexFromDOMElement(Y),q=m.sections[G];if(D){R(G);return}if(J.length===0){if(q.value===""){R(G);return}const Q=$.nativeEvent.inputType;if(Q==="insertParagraph"||Q==="insertLineBreak"){R(G);return}R(G),y();return}d({keyPressed:J,sectionIndex:G}),R(G)}),k=Ue($=>{$.preventDefault()}),N=Ue($=>{if($.preventDefault(),D||S||typeof h!="number")return;const Y=m.sections[h],J=$.clipboardData.getData("text"),G=/^[a-zA-Z]+$/.test(J),q=/^[0-9]+$/.test(J),Q=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(J);Y.contentType==="letter"&&G||Y.contentType==="digit"&&q||Y.contentType==="digit-with-letter"&&Q?(b(null),v({section:Y,newSectionValue:J,shouldGoToNextSection:!0})):!G&&!q&&(b(null),I(J))}),B=Ue($=>{$.preventDefault(),$.dataTransfer.dropEffect="none"}),K=Ue($=>()=>{S||w($)});return x.useCallback(($,Y)=>{const J=f[$.type]({currentDate:u.getDateFromSection(g,$),contentType:$.contentType,format:$.format});return{onInput:O,onPaste:N,onMouseUp:k,onDragOver:B,onFocus:K(Y),"aria-labelledby":`${s}-${$.type}`,"aria-readonly":D,"aria-valuenow":I7($,n),"aria-valuemin":J.minimum,"aria-valuemax":J.maximum,"aria-valuetext":$.value?P7($,n):r.empty,"aria-label":r[$.type],"aria-disabled":S,tabIndex:T||Y>0?-1:0,contentEditable:!T&&!S&&!D,role:"spinbutton",id:`${s}-${$.type}`,"data-range-position":$.dateName||void 0,spellCheck:E?!1:void 0,autoCapitalize:E?"off":void 0,autoCorrect:E?"off":void 0,children:$.value||$.placeholder,inputMode:$.contentType==="letter"?"text":"numeric"}},[f,s,T,S,D,E,r,n,O,N,k,B,K,u,g])}function P7(e,n){if(e.value)switch(e.type){case"month":{if(e.contentType==="digit")return n.format(n.setMonth(n.date(),Number(e.value)-1),"month");const r=n.parse(e.value,e.format);return r?n.format(r,"month"):void 0}case"day":return e.contentType==="digit"?n.format(n.setDate(n.startOfYear(n.date()),Number(e.value)),"dayOfMonthFull"):e.value;case"weekDay":return;default:return}}function I7(e,n){if(e.value)switch(e.type){case"weekDay":return e.contentType==="letter"?void 0:Number(e.value);case"meridiem":{const r=n.parse(`01:00 ${e.value}`,`${n.formats.hours12h}:${n.formats.minutes} ${e.format}`);return r?n.getHours(r)>=12?1:0:void 0}case"day":return e.contentType==="digit-with-letter"?parseInt(e.value,10):Number(e.value);case"month":{if(e.contentType==="digit")return Number(e.value);const r=n.parse(e.value,e.format);return r?n.getMonth(r)+1:void 0}default:return e.contentType!=="letter"?Number(e.value):void 0}}const D7=e=>{const{props:n,manager:r,skipContextFieldRefAssignment:s,manager:{valueType:o,internal_useOpenPickerButtonAriaLabel:i}}=e,{internalProps:l,forwardedProps:d}=M1(n,o),u=B1({manager:r,internalProps:l,skipContextFieldRefAssignment:s}),{sectionListRef:h,onBlur:f,onClick:m,onFocus:g,onInput:y,onPaste:b,onKeyDown:w,onClear:v,clearable:I}=d,{disabled:S=!1,readOnly:D=!1,autoFocus:T=!1,focused:E,unstableFieldRef:R}=u,O=x.useRef(null),k=or(h,O),N=x.useMemo(()=>({isReady:()=>O.current!=null,getRoot:()=>O.current.getRoot(),getSectionContainer:Ee=>O.current.getSectionContainer(Ee),getSectionContent:Ee=>O.current.getSectionContent(Ee),getSectionIndexFromDOMElement:Ee=>O.current.getSectionIndexFromDOMElement(Ee)}),[O]),B=F1({manager:r,internalPropsWithDefaults:u,forwardedProps:d}),{areAllSectionsEmpty:K,error:$,parsedSelectedSections:Y,sectionOrder:J,state:G,value:q,clearValue:Q,setSelectedSections:z}=B,oe=N1({stateResponse:B}),U=i(q),[ee,Pe]=x.useState(!1);function pe(Ee=0){if(S||!O.current||lv(O)!=null)return;const Ye=Ef(Ee,G.sections);Pe(!0),O.current.getSectionContent(Ye).focus()}const Re=j7({manager:r,internalPropsWithDefaults:u,stateResponse:B,applyCharacterEditing:oe,focused:ee,setFocused:Pe,domGetters:N}),ce=w7({manager:r,stateResponse:B}),re=S7({stateResponse:B,internalPropsWithDefaults:u}),je=C7({manager:r,stateResponse:B,applyCharacterEditing:oe,internalPropsWithDefaults:u,domGetters:N,focused:ee}),Oe=Ue(Ee=>{w==null||w(Ee),Re.onKeyDown(Ee)}),ye=Ue(Ee=>{f==null||f(Ee),Re.onBlur(Ee)}),ie=Ue(Ee=>{g==null||g(Ee),Re.onFocus(Ee)}),ae=Ue(Ee=>{Ee.isDefaultPrevented()||(m==null||m(Ee),Re.onClick(Ee))}),se=Ue(Ee=>{b==null||b(Ee),Re.onPaste(Ee)}),xe=Ue(Ee=>{y==null||y(Ee),Re.onInput(Ee)}),he=Ue((Ee,...Ye)=>{Ee.preventDefault(),v==null||v(Ee,...Ye),Q(),cv(O)?z(J.startIndex):pe(0)}),ke=x.useMemo(()=>G.sections.map((Ee,Ye)=>{const fe=je(Ee,Ye);return{container:re(Ye),content:je(Ee,Ye),before:{children:Ee.startSeparator},after:{children:Ee.endSeparator,"data-range-position":Ee.isEndFormatSeparator?fe["data-range-position"]:void 0}}}),[G.sections,re,je]);return x.useEffect(()=>{if(O.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please add the `enableAccessibleFieldDOMStructure={false}` prop to your Picker or Field component:","","<DatePicker enableAccessibleFieldDOMStructure={false} slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));T&&!S&&O.current&&O.current.getSectionContent(J.startIndex).focus()},[]),ts(()=>{if(!(!ee||!O.current)){if(Y==="all")O.current.getRoot().focus();else if(typeof Y=="number"){const Ee=O.current.getSectionContent(Y);Ee&&Ee.focus()}}},[Y,ee]),ts(()=>{Px({focused:ee,domGetters:N,stateResponse:B})}),x.useImperativeHandle(R,()=>({getSections:()=>G.sections,getActiveSectionIndex:()=>lv(O),setSelectedSections:Ee=>{if(S||!O.current)return;const Ye=Ef(Ee,G.sections);Pe((Ye==="all"?0:Ye)!==null),z(Ee)},focusField:pe,isFieldFocused:()=>cv(O)})),V({},d,Re,{onBlur:ye,onClick:ae,onFocus:ie,onInput:xe,onPaste:se,onKeyDown:Oe,onClear:he},ce,{error:$,clearable:!!(I&&!K&&!D&&!S),focused:E??ee,sectionListRef:k,enableAccessibleFieldDOMStructure:!0,elements:ke,areAllSectionsEmpty:K,disabled:S,readOnly:D,autoFocus:T,openPickerAriaLabel:U})};function lv(e){const n=Kn(document);return!n||!e.current||!e.current.getRoot().contains(n)?null:e.current.getSectionIndexFromDOMElement(n)}function cv(e){const n=Kn(document);return!!e.current&&e.current.getRoot().contains(n)}const Da=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),T7=(e,n,r)=>{let s=0,o=r?1:0;const i=[];for(let l=0;l<e.length;l+=1){const d=e[l],u=wx(d,r?"input-rtl":"input-ltr",n),h=`${d.startSeparator}${u}${d.endSeparator}`,f=Da(h).length,m=h.length,g=Da(u),y=o+(g===""?0:u.indexOf(g[0]))+d.startSeparator.length,b=y+g.length;i.push(V({},d,{start:s,end:s+f,startInInput:y,endInInput:b})),s+=f,o+=m}return i},E7=e=>{const n=Os(),r=Ra(),s=Ra(),{props:o,manager:i,skipContextFieldRefAssignment:l,manager:{valueType:d,internal_valueManager:u,internal_fieldValueManager:h,internal_useOpenPickerButtonAriaLabel:f}}=e,{internalProps:m,forwardedProps:g}=M1(o,d),y=B1({manager:i,internalProps:m,skipContextFieldRefAssignment:l}),{onFocus:b,onClick:w,onPaste:v,onBlur:I,onKeyDown:S,onClear:D,clearable:T,inputRef:E,placeholder:R}=g,{readOnly:O=!1,disabled:k=!1,autoFocus:N=!1,focused:B,unstableFieldRef:K}=y,$=x.useRef(null),Y=or(E,$),J=F1({manager:i,internalPropsWithDefaults:y,forwardedProps:g}),{activeSectionIndex:G,areAllSectionsEmpty:q,error:Q,localizedDigits:z,parsedSelectedSections:oe,sectionOrder:U,state:ee,value:Pe,clearValue:pe,clearActiveSection:Re,setCharacterQuery:ce,setSelectedSections:re,setTempAndroidValueStr:je,updateSectionValue:Oe,updateValueFromValueStr:ye,getSectionsFromValue:ie}=J,ae=N1({stateResponse:J}),se=f(Pe),xe=x.useMemo(()=>T7(ee.sections,z,n),[ee.sections,z,n]);function he(){const ut=$.current.selectionStart??0;let gt;ut<=xe[0].startInInput||ut>=xe[xe.length-1].endInInput?gt=1:gt=xe.findIndex(Yt=>Yt.startInInput-Yt.startSeparator.length>ut);const kt=gt===-1?xe.length-1:gt-1;re(kt)}function ke(ut=0){var gt;Kn(document)!==$.current&&((gt=$.current)==null||gt.focus(),re(ut))}const Ee=Ue(ut=>{b==null||b(ut);const gt=$.current;r.start(0,()=>{!gt||gt!==$.current||G==null&&(gt.value.length&&Number(gt.selectionEnd)-Number(gt.selectionStart)===gt.value.length?re("all"):he())})}),Ye=Ue((ut,...gt)=>{ut.isDefaultPrevented()||(w==null||w(ut,...gt),he())}),fe=Ue(ut=>{if(v==null||v(ut),ut.preventDefault(),O||k)return;const gt=ut.clipboardData.getData("text");if(typeof oe=="number"){const kt=ee.sections[oe],Yt=/^[a-zA-Z]+$/.test(gt),An=/^[0-9]+$/.test(gt),mn=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(gt);if(kt.contentType==="letter"&&Yt||kt.contentType==="digit"&&An||kt.contentType==="digit-with-letter"&&mn){ce(null),Oe({section:kt,newSectionValue:gt,shouldGoToNextSection:!0});return}if(Yt||An)return}ce(null),ye(gt)}),Se=Ue(ut=>{I==null||I(ut),re(null)}),X=Ue(ut=>{if(O)return;const gt=ut.target.value;if(gt===""){pe();return}const kt=ut.nativeEvent.data,Yt=kt&&kt.length>1,An=Yt?kt:gt,mn=Da(An);if(oe==="all"&&re(G),G==null||Yt){ye(Yt?kt:mn);return}let Qn;if(oe==="all"&&mn.length===1)Qn=mn;else{const vn=Da(h.getV6InputValueFromSections(xe,z,n));let Pt=-1,Rn=-1;for(let ar=0;ar<vn.length;ar+=1)Pt===-1&&vn[ar]!==mn[ar]&&(Pt=ar),Rn===-1&&vn[vn.length-ar-1]!==mn[mn.length-ar-1]&&(Rn=ar);const zn=xe[G];if(Pt<zn.start||vn.length-Rn-1>zn.end)return;const To=mn.length-vn.length+zn.end-Da(zn.endSeparator||"").length;Qn=mn.slice(zn.start+Da(zn.startSeparator||"").length,To)}if(Qn.length===0){E9()&&je(An),Re();return}ae({keyPressed:Qn,sectionIndex:G})}),L=Ue((ut,...gt)=>{ut.preventDefault(),D==null||D(ut,...gt),pe(),dv($)?re(U.startIndex):ke(0)}),_e=W1({manager:i,internalPropsWithDefaults:y,stateResponse:J}),Ve=Ue(ut=>{S==null||S(ut),_e(ut)}),hn=x.useMemo(()=>R!==void 0?R:h.getV6InputValueFromSections(ie(u.emptyValue),z,n),[R,h,ie,u.emptyValue,z,n]),Ft=x.useMemo(()=>ee.tempValueStrAndroid??h.getV6InputValueFromSections(ee.sections,z,n),[ee.sections,h,ee.tempValueStrAndroid,z,n]);x.useEffect(()=>{$.current&&$.current===Kn(document)&&re("all")},[]),ts(()=>{function ut(){if(!$.current)return;if(oe==null){$.current.scrollLeft&&($.current.scrollLeft=0);return}if($.current!==Kn(document))return;const gt=$.current.scrollTop;if(oe==="all")$.current.select();else{const kt=xe[oe],Yt=kt.type==="empty"?kt.startInInput-kt.startSeparator.length:kt.startInInput,An=kt.type==="empty"?kt.endInInput+kt.endSeparator.length:kt.endInInput;(Yt!==$.current.selectionStart||An!==$.current.selectionEnd)&&$.current===Kn(document)&&$.current.setSelectionRange(Yt,An),s.start(0,()=>{$.current&&$.current===Kn(document)&&$.current.selectionStart===$.current.selectionEnd&&($.current.selectionStart!==Yt||$.current.selectionEnd!==An)&&ut()})}$.current.scrollTop=gt}ut()});const Rt=x.useMemo(()=>G==null||ee.sections[G].contentType==="letter"?"text":"numeric",[G,ee.sections]),Fn=!($.current&&$.current===Kn(document))&&q;return x.useImperativeHandle(K,()=>({getSections:()=>ee.sections,getActiveSectionIndex:()=>{const ut=$.current.selectionStart??0,gt=$.current.selectionEnd??0;if(ut===0&&gt===0)return null;const kt=ut<=xe[0].startInInput?1:xe.findIndex(Yt=>Yt.startInInput-Yt.startSeparator.length>ut);return kt===-1?xe.length-1:kt-1},setSelectedSections:ut=>re(ut),focusField:ke,isFieldFocused:()=>dv($)})),V({},g,{error:Q,clearable:!!(T&&!q&&!O&&!k),onBlur:Se,onClick:Ye,onFocus:Ee,onPaste:fe,onKeyDown:Ve,onClear:L,inputRef:Y,enableAccessibleFieldDOMStructure:!1,placeholder:hn,inputMode:Rt,autoComplete:"off",value:Fn?"":Ft,onChange:X,focused:B,disabled:k,readOnly:O,autoFocus:N,openPickerAriaLabel:se})};function dv(e){return e.current===Kn(document)}const A7=e=>{const n=x1();return(e.props.enableAccessibleFieldDOMStructure??(n==null?void 0:n.enableAccessibleFieldDOMStructure)??!0?D7:E7)(e)};function Ix(e){const n=Vt(),r=f1();return x.useMemo(()=>({disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,minDate:ud(n,e.minDate,r.minDate),maxDate:ud(n,e.maxDate,r.maxDate)}),[e.minDate,e.maxDate,e.disableFuture,e.disablePast,n,r])}function R7(e={}){const{enableAccessibleFieldDOMStructure:n=!0}=e;return x.useMemo(()=>({valueType:"date-time",validator:Qd,internal_valueManager:pr,internal_fieldValueManager:k9,internal_enableAccessibleFieldDOMStructure:n,internal_useApplyDefaultValuesToFieldInternalProps:_7,internal_useOpenPickerButtonAriaLabel:k7}),[n])}function k7(e){const n=Vt(),r=vs();return x.useMemo(()=>{const s=n.isValid(e)?n.format(e,"fullDate"):null;return r.openDatePickerDialogue(s)},[e,r,n])}function _7(e){const n=Vt(),r=U1(e),s=x.useMemo(()=>e.ampm??n.is12HourCycleInCurrentLocale(),[e.ampm,n]);return x.useMemo(()=>V({},e,r,{format:e.format??(s?n.formats.keyboardDateTime12h:n.formats.keyboardDateTime24h)}),[e,r,s,n])}function U1(e){const n=Vt(),r=f1();return x.useMemo(()=>({disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,disableIgnoringDatePartForTimeValidation:!!e.minDateTime||!!e.maxDateTime||!!e.disableFuture||!!e.disablePast,minDate:ud(n,e.minDateTime??e.minDate,r.minDate),maxDate:ud(n,e.maxDateTime??e.maxDate,r.maxDate),minTime:e.minDateTime??e.minTime,maxTime:e.maxDateTime??e.maxTime}),[e.minDateTime,e.maxDateTime,e.minTime,e.maxTime,e.minDate,e.maxDate,e.disableFuture,e.disablePast,n,r])}function Dx(e){const{ownerState:n}=En(),r=Os();return x.useMemo(()=>V({},n,{isFieldDisabled:e.disabled??!1,isFieldReadOnly:e.readOnly??!1,isFieldRequired:e.required??!1,fieldDirection:r?"rtl":"ltr"}),[n,e.disabled,e.readOnly,e.required,r])}function O7(e){return un("MuiPickersTextField",e)}pn("MuiPickersTextField",["root","focused","disabled","error","required"]);function M7(e){return un("MuiPickersInputBase",e)}const ka=pn("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input","activeBar"]);function N7(e){return un("MuiPickersSectionList",e)}const ki=pn("MuiPickersSectionList",["root","section","sectionContent"]),L7=["slots","slotProps","elements","sectionListRef","classes"],V1=Me("div",{name:"MuiPickersSectionList",slot:"Root"})({direction:"ltr /*! @noflip */",outline:"none"}),z1=Me("span",{name:"MuiPickersSectionList",slot:"Section"})({}),H1=Me("span",{name:"MuiPickersSectionList",slot:"SectionSeparator"})({whiteSpace:"pre"}),G1=Me("span",{name:"MuiPickersSectionList",slot:"SectionContent"})({outline:"none"}),$7=e=>Qt({root:["root"],section:["section"],sectionContent:["sectionContent"]},N7,e);function F7(e){const{slots:n,slotProps:r,element:s,classes:o}=e,{ownerState:i}=En(),l=(n==null?void 0:n.section)??z1,d=Lt({elementType:l,externalSlotProps:r==null?void 0:r.section,externalForwardedProps:s.container,className:o.section,ownerState:i}),u=(n==null?void 0:n.sectionContent)??G1,h=Lt({elementType:u,externalSlotProps:r==null?void 0:r.sectionContent,externalForwardedProps:s.content,additionalProps:{suppressContentEditableWarning:!0},className:o.sectionContent,ownerState:i}),f=(n==null?void 0:n.sectionSeparator)??H1,m=Lt({elementType:f,externalSlotProps:r==null?void 0:r.sectionSeparator,externalForwardedProps:s.before,ownerState:V({},i,{separatorPosition:"before"})}),g=Lt({elementType:f,externalSlotProps:r==null?void 0:r.sectionSeparator,externalForwardedProps:s.after,ownerState:V({},i,{separatorPosition:"after"})});return t.jsxs(l,V({},d,{children:[t.jsx(f,V({},m)),t.jsx(u,V({},h)),t.jsx(f,V({},g))]}))}const B7=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersSectionList"}),{slots:o,slotProps:i,elements:l,sectionListRef:d,classes:u}=s,h=at(s,L7),f=$7(u),{ownerState:m}=En(),g=x.useRef(null),y=or(r,g),b=I=>{if(!g.current)throw new Error(`MUI X: Cannot call sectionListRef.${I} before the mount of the component.`);return g.current};x.useImperativeHandle(d,()=>({getRoot(){return b("getRoot")},getSectionContainer(I){return b("getSectionContainer").querySelector(`.${ki.section}[data-sectionindex="${I}"]`)},getSectionContent(I){return b("getSectionContent").querySelector(`.${ki.section}[data-sectionindex="${I}"] .${ki.sectionContent}`)},getSectionIndexFromDOMElement(I){const S=b("getSectionIndexFromDOMElement");if(I==null||!S.contains(I))return null;let D=null;return I.classList.contains(ki.section)?D=I:I.classList.contains(ki.sectionContent)&&(D=I.parentElement),D==null?null:Number(D.dataset.sectionindex)}}));const w=(o==null?void 0:o.root)??V1,v=Lt({elementType:w,externalSlotProps:i==null?void 0:i.root,externalForwardedProps:h,additionalProps:{ref:y,suppressContentEditableWarning:!0},className:f.root,ownerState:m});return t.jsx(w,V({},v,{children:v.contentEditable?l.map(({content:I,before:S,after:D})=>`${S.children}${I.children}${D.children}`).join(""):t.jsx(x.Fragment,{children:l.map((I,S)=>t.jsx(F7,{slots:o,slotProps:i,element:I,classes:f},S))})}))}),Y1=x.createContext(null),Zd=()=>{const e=x.useContext(Y1);if(e==null)throw new Error(["MUI X: The `usePickerTextFieldOwnerState` can only be called in components that are used inside a PickerTextField component"].join(`
`));return e},W7=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef","onFocus","onBlur","classes","ownerState"],U7=e=>Math.round(e*1e5)/1e5,eu=Me("div",{name:"MuiPickersInputBase",slot:"Root"})(({theme:e})=>V({},e.typography.body1,{color:(e.vars||e).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${U7(.15/16)}em`,variants:[{props:{isInputInFullWidth:!0},style:{width:"100%"}}]})),Tx=Me(V1,{name:"MuiPickersInputBase",slot:"SectionsContainer"})(({theme:e})=>({padding:"4px 0 5px",fontFamily:e.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{fieldDirection:"rtl"},style:{textAlign:"right /*! @noflip */"}},{props:{inputSize:"small"},style:{paddingTop:1}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0},style:{color:"currentColor",opacity:0}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!1},style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}}]})),V7=Me(z1,{name:"MuiPickersInputBase",slot:"Section"})(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"inline-block",whiteSpace:"nowrap"})),z7=Me(G1,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(e,n)=>n.content})(({theme:e})=>({fontFamily:e.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),H7=Me(H1,{name:"MuiPickersInputBase",slot:"Separator"})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),G7=Me("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(e,n)=>n.hiddenInput})(V({},MH)),Y7=Me("div",{name:"MuiPickersInputBase",slot:"ActiveBar"})(({theme:e,ownerState:n})=>({display:"none",position:"absolute",height:2,bottom:2,borderTopLeftRadius:2,borderTopRightRadius:2,transition:e.transitions.create(["width","left"],{duration:e.transitions.duration.shortest}),backgroundColor:(e.vars||e).palette.primary.main,'[data-active-range-position="start"] &, [data-active-range-position="end"] &':{display:"block"},'[data-active-range-position="start"] &':{left:n.sectionOffsets[0]},'[data-active-range-position="end"] &':{left:n.sectionOffsets[1]}})),q7=(e,n)=>{const{isFieldFocused:r,isFieldDisabled:s,isFieldReadOnly:o,hasFieldError:i,inputSize:l,isInputInFullWidth:d,inputColor:u,hasStartAdornment:h,hasEndAdornment:f}=n,m={root:["root",r&&!s&&"focused",s&&"disabled",o&&"readOnly",i&&"error",d&&"fullWidth",`color${EH(u)}`,l==="small"&&"inputSizeSmall",h&&"adornedStart",f&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"],activeBar:["activeBar"]};return Qt(m,M7,e)};function uv(e,n,r,s){var o;if(e.content.id){const i=(o=n.current)==null?void 0:o.querySelectorAll(`[data-sectionindex="${r}"] [data-range-position="${s}"]`);if(i)return Array.from(i).reduce((l,d)=>l+d.offsetWidth,0)}return 0}function K7(e,n){var o,i,l,d,u;let r=0;if(((o=n.current)==null?void 0:o.getAttribute("data-active-range-position"))==="end")for(let h=e.length-1;h>=e.length/2;h-=1)r+=uv(e[h],n,h,"end");else for(let h=0;h<e.length/2;h+=1)r+=uv(e[h],n,h,"start");return{activeBarWidth:r,sectionOffsets:[((l=(i=n.current)==null?void 0:i.querySelector('[data-sectionindex="0"]'))==null?void 0:l.offsetLeft)||0,((u=(d=n.current)==null?void 0:d.querySelector(`[data-sectionindex="${e.length/2}"]`))==null?void 0:u.offsetLeft)||0]}}const Ex=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersInputBase"}),{elements:o,areAllSectionsEmpty:i,value:l,onChange:d,id:u,endAdornment:h,startAdornment:f,renderSuffix:m,slots:g,slotProps:y,contentEditable:b,tabIndex:w,onInput:v,onPaste:I,onKeyDown:S,name:D,readOnly:T,inputProps:E,inputRef:R,sectionListRef:O,onFocus:k,onBlur:N,classes:B,ownerState:K}=s,$=at(s,W7),Y=Zd(),J=x.useRef(null),G=x.useRef(null),q=x.useRef([]),Q=or(r,J),z=or(E==null?void 0:E.ref,R),oe=Ev();if(!oe)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const U=K??Y,ee=ie=>{var ae;(ae=oe.onFocus)==null||ae.call(oe,ie),k==null||k(ie)},Pe=ie=>{ee(ie)},pe=ie=>{var ae,se;if(S==null||S(ie),ie.key==="Enter"&&!ie.defaultMuiPrevented){if((ae=J.current)!=null&&ae.dataset.multiInput)return;const xe=(se=J.current)==null?void 0:se.closest("form"),he=xe==null?void 0:xe.querySelector('[type="submit"]');if(!xe||!he)return;ie.preventDefault(),xe.requestSubmit(he)}},Re=ie=>{var ae;(ae=oe.onBlur)==null||ae.call(oe,ie),N==null||N(ie)};x.useEffect(()=>{oe&&oe.setAdornedStart(!!f)},[oe,f]),x.useEffect(()=>{oe&&(i?oe.onEmpty():oe.onFilled())},[oe,i]);const ce=q7(B,U),re=(g==null?void 0:g.root)||eu,je=Lt({elementType:re,externalSlotProps:y==null?void 0:y.root,externalForwardedProps:$,additionalProps:{"aria-invalid":oe.error,ref:Q},className:ce.root,ownerState:U}),Oe=(g==null?void 0:g.input)||Tx,ye=o.some(ie=>ie.content["data-range-position"]!==void 0);return x.useEffect(()=>{if(!ye||!U.isPickerOpen)return;const{activeBarWidth:ie,sectionOffsets:ae}=K7(o,J);q.current=[ae[0],ae[1]],G.current&&(G.current.style.width=`${ie}px`)},[o,ye,U.isPickerOpen]),t.jsxs(re,V({},je,{children:[f,t.jsx(B7,{sectionListRef:O,elements:o,contentEditable:b,tabIndex:w,className:ce.sectionsContainer,onFocus:ee,onBlur:Re,onInput:v,onPaste:I,onKeyDown:pe,slots:{root:Oe,section:V7,sectionContent:z7,sectionSeparator:H7},slotProps:{root:V({},y==null?void 0:y.input,{ownerState:U}),sectionContent:{className:ka.sectionContent},sectionSeparator:({separatorPosition:ie})=>({className:ie==="before"?ka.sectionBefore:ka.sectionAfter})}}),h,m?m(V({},oe)):null,t.jsx(G7,V({name:D,className:ce.input,value:l,onChange:d,id:u,"aria-hidden":"true",tabIndex:-1,readOnly:T,required:oe.required,disabled:oe.disabled,onFocus:Pe},E,{ref:z})),ye&&t.jsx(Y7,{className:ce.activeBar,ref:G,ownerState:{sectionOffsets:q.current}})]}))});function X7(e){return un("MuiPickersOutlinedInput",e)}const is=V({},ka,pn("MuiPickersOutlinedInput",["root","notchedOutline","input"])),J7=["children","className","label","notched","shrink"],Q7=Me("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline"})(({theme:e})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}}),hv=Me("span")(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit"})),Z7=Me("legend",{shouldForwardProp:e=>Qs(e)&&e!=="notched"})(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{inputHasLabel:!1},style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:{inputHasLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{inputHasLabel:!0,notched:!0},style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]}));function eG(e){const{className:n,label:r,notched:s}=e,o=at(e,J7),i=Zd();return t.jsx(Q7,V({"aria-hidden":!0,className:n},o,{ownerState:i,children:t.jsx(Z7,{ownerState:i,notched:s,children:r?t.jsx(hv,{children:r}):t.jsx(hv,{className:"notranslate",children:""})})}))}const tG=["label","autoFocus","ownerState","classes","notched"],nG=Me(eu,{name:"MuiPickersOutlinedInput",slot:"Root"})(({theme:e})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${is.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${is.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${is.focused} .${is.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${is.disabled}`]:{[`& .${is.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled},"*":{color:(e.vars||e).palette.action.disabled}},[`&.${is.error} .${is.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},variants:Object.keys((e.vars??e).palette).filter(r=>{var s;return((s=(e.vars??e).palette[r])==null?void 0:s.main)??!1}).map(r=>({props:{inputColor:r},style:{[`&.${is.focused}:not(.${is.error}) .${is.notchedOutline}`]:{borderColor:(e.vars||e).palette[r].main}}}))}}),rG=Me(Tx,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer"})({padding:"16.5px 0",variants:[{props:{inputSize:"small"},style:{padding:"8.5px 0"}}]}),sG=e=>{const r=Qt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},X7,e);return V({},e,r)},q1=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersOutlinedInput"}),{label:o,classes:i,notched:l}=s,d=at(s,tG),u=Ev(),h=sG(i);return t.jsx(Ex,V({slots:{root:nG,input:rG},renderSuffix:f=>t.jsx(eG,{shrink:!!(l||f.adornedStart||f.focused||f.filled),notched:!!(l||f.adornedStart||f.focused||f.filled),className:h.notchedOutline,label:o!=null&&o!==""&&(u!=null&&u.required)?t.jsxs(x.Fragment,{children:[o,"","*"]}):o})},d,{label:o,classes:h,ref:r}))});q1.muiName="Input";function oG(e){return un("MuiPickersFilledInput",e)}const Wo=V({},ka,pn("MuiPickersFilledInput",["root","underline","input"])),aG=["label","autoFocus","disableUnderline","hiddenLabel","classes"],iG=Me(eu,{name:"MuiPickersFilledInput",slot:"Root",shouldForwardProp:e=>Av(e)&&e!=="disableUnderline"})(({theme:e})=>{const n=e.palette.mode==="light",r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s}},[`&.${Wo.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s},[`&.${Wo.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:i},variants:[...Object.keys((e.vars??e).palette).filter(l=>(e.vars??e).palette[l].main).map(l=>{var d;return{props:{inputColor:l,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(d=(e.vars||e).palette[l])==null?void 0:d.main}`}}}}),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Wo.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Wo.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Wo.disabled}, .${Wo.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Wo.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:{hasStartAdornment:!0},style:{paddingLeft:12}},{props:{hasEndAdornment:!0},style:{paddingRight:12}}]}}),lG=Me(Tx,{name:"MuiPickersFilledInput",slot:"sectionsContainer",shouldForwardProp:e=>Av(e)&&e!=="hiddenLabel"})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{inputSize:"small"},style:{paddingTop:21,paddingBottom:4}},{props:{hasStartAdornment:!0},style:{paddingLeft:0}},{props:{hasEndAdornment:!0},style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,inputSize:"small"},style:{paddingTop:8,paddingBottom:9}}]}),cG=(e,n)=>{const{inputHasUnderline:r}=n,o=Qt({root:["root",r&&"underline"],input:["input"]},oG,e);return V({},e,o)},K1=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersFilledInput"}),{label:o,disableUnderline:i=!1,hiddenLabel:l=!1,classes:d}=s,u=at(s,aG),h=Zd(),f=V({},h,{inputHasUnderline:!i}),m=cG(d,f);return t.jsx(Ex,V({slots:{root:iG,input:lG},slotProps:{root:{disableUnderline:i},input:{hiddenLabel:l}}},u,{label:o,classes:m,ref:r,ownerState:f}))});K1.muiName="Input";function dG(e){return un("MuiPickersFilledInput",e)}const _i=V({},ka,pn("MuiPickersInput",["root","underline","input"])),uG=["label","autoFocus","disableUnderline","ownerState","classes"],hG=Me(eu,{name:"MuiPickersInput",slot:"Root",shouldForwardProp:e=>Qs(e)&&e!=="disableUnderline"})(({theme:e})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((e.vars??e).palette).filter(s=>(e.vars??e).palette[s].main).map(s=>({props:{inputColor:s},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[s].main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${_i.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${_i.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${_i.disabled}, .${_i.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${_i.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),fG=(e,n)=>{const{inputHasUnderline:r}=n,o=Qt({root:["root",!r&&"underline"],input:["input"]},dG,e);return V({},e,o)},X1=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersInput"}),{label:o,disableUnderline:i=!1,classes:l}=s,d=at(s,uG),u=Zd(),h=V({},u,{inputHasUnderline:!i}),f=fG(l,h);return t.jsx(Ex,V({slots:{root:hG},slotProps:{root:{disableUnderline:i}}},d,{label:o,classes:f,ref:r}))});X1.muiName="Input";const pG=["onFocus","onBlur","className","classes","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps","data-active-range-position"],mG={standard:X1,filled:K1,outlined:q1},xG=Me(ht,{name:"MuiPickersTextField",slot:"Root"})({}),gG=(e,n)=>{const{isFieldFocused:r,isFieldDisabled:s,isFieldRequired:o}=n;return Qt({root:["root",r&&!s&&"focused",s&&"disabled",o&&"required"]},O7,e)},J1=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersTextField"}),{onFocus:o,onBlur:i,className:l,classes:d,color:u="primary",disabled:h=!1,error:f=!1,variant:m="outlined",required:g=!1,InputProps:y,inputProps:b,inputRef:w,sectionListRef:v,elements:I,areAllSectionsEmpty:S,onClick:D,onKeyDown:T,onKeyUp:E,onPaste:R,onInput:O,endAdornment:k,startAdornment:N,tabIndex:B,contentEditable:K,focused:$,value:Y,onChange:J,fullWidth:G,id:q,name:Q,helperText:z,FormHelperTextProps:oe,label:U,InputLabelProps:ee,"data-active-range-position":Pe}=s,pe=at(s,pG),Re=x.useRef(null),ce=or(r,Re),re=Yd(q),je=z&&re?`${re}-helper-text`:void 0,Oe=U&&re?`${re}-label`:void 0,ye=Dx({disabled:s.disabled,required:s.required,readOnly:y==null?void 0:y.readOnly}),ie=x.useMemo(()=>V({},ye,{isFieldValueEmpty:S,isFieldFocused:$??!1,hasFieldError:f??!1,inputSize:s.size??"medium",inputColor:u??"primary",isInputInFullWidth:G??!1,hasStartAdornment:!!(N??(y==null?void 0:y.startAdornment)),hasEndAdornment:!!(k??(y==null?void 0:y.endAdornment)),inputHasLabel:!!U}),[ye,S,$,f,s.size,u,G,N,k,y==null?void 0:y.startAdornment,y==null?void 0:y.endAdornment,U]),ae=gG(d,ie),se=mG[m],xe={};return m==="outlined"&&(ee&&typeof ee.shrink<"u"&&(xe.notched=ee.shrink),xe.label=U),t.jsx(Y1.Provider,{value:ie,children:t.jsxs(xG,V({className:nn(ae.root,l),ref:ce,focused:$,disabled:h,variant:m,error:f,color:u,fullWidth:G,required:g,ownerState:ie},pe,{children:[U!=null&&U!==""&&t.jsx(St,V({htmlFor:re,id:Oe},ee,{children:U})),t.jsx(se,V({elements:I,areAllSectionsEmpty:S,onClick:D,onKeyDown:T,onKeyUp:E,onInput:O,onPaste:R,onFocus:o,onBlur:i,endAdornment:k,startAdornment:N,tabIndex:B,contentEditable:K,value:Y,onChange:J,id:re,fullWidth:G,inputProps:b,inputRef:w,sectionListRef:v,label:U,name:Q,role:"group","aria-labelledby":Oe,"aria-describedby":je,"aria-live":je?"polite":void 0,"data-active-range-position":Pe},xe,y)),z&&t.jsx(LR,V({id:je},oe,{children:z}))]}))})}),bG=["enableAccessibleFieldDOMStructure"],yG=["InputProps","readOnly","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],vG=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],jG=["ownerState"],wG=["ownerState"],SG=["ownerState"],CG=["ownerState"],PG=["InputProps","inputProps"],IG=e=>{let{enableAccessibleFieldDOMStructure:n}=e,r=at(e,bG);if(n){const{InputProps:v,readOnly:I,onClear:S,clearable:D,clearButtonPosition:T,openPickerButtonPosition:E,openPickerAriaLabel:R}=r,O=at(r,yG);return{clearable:D,onClear:S,clearButtonPosition:T,openPickerButtonPosition:E,openPickerAriaLabel:R,textFieldProps:V({},O,{InputProps:V({},v??{},{readOnly:I})})}}const{onPaste:s,onKeyDown:o,inputMode:i,readOnly:l,InputProps:d,inputProps:u,inputRef:h,onClear:f,clearable:m,clearButtonPosition:g,openPickerButtonPosition:y,openPickerAriaLabel:b}=r,w=at(r,vG);return{clearable:m,onClear:f,clearButtonPosition:g,openPickerButtonPosition:y,openPickerAriaLabel:b,textFieldProps:V({},w,{InputProps:V({},d??{},{readOnly:l}),inputProps:V({},u??{},{inputMode:i,onPaste:s,onKeyDown:o,ref:h})})}},Ax=x.createContext({slots:{},slotProps:{},inputRef:void 0});function DG(e){var oe,U;const{slots:n,slotProps:r,fieldResponse:s,defaultOpenPickerIcon:o}=e,i=vs(),l=Sx(),d=x.useContext(Ax),{textFieldProps:u,onClear:h,clearable:f,openPickerAriaLabel:m,clearButtonPosition:g="end",openPickerButtonPosition:y="end"}=IG(s),b=Dx(u),w=Ue(ee=>{ee.preventDefault(),l==null||l.setOpen(Pe=>!Pe)}),v=l?l.triggerStatus:"hidden",I=f?g:null,S=v!=="hidden"?y:null,D=(n==null?void 0:n.textField)??d.slots.textField??(s.enableAccessibleFieldDOMStructure===!1?nt:J1),T=(n==null?void 0:n.inputAdornment)??d.slots.inputAdornment??es,E=Lt({elementType:T,externalSlotProps:Pc(d.slotProps.inputAdornment,r==null?void 0:r.inputAdornment),additionalProps:{position:"start"},ownerState:V({},b,{position:"start"})}),R=at(E,jG),O=Lt({elementType:T,externalSlotProps:r==null?void 0:r.inputAdornment,additionalProps:{position:"end"},ownerState:V({},b,{position:"end"})}),k=at(O,wG),N=d.slots.openPickerButton??Ne,B=Lt({elementType:N,externalSlotProps:d.slotProps.openPickerButton,additionalProps:{disabled:v==="disabled",onClick:w,"aria-label":m,edge:u.variant!=="standard"?S:!1},ownerState:b}),K=at(B,SG),$=d.slots.openPickerIcon??o,Y=Lt({elementType:$,externalSlotProps:d.slotProps.openPickerIcon,ownerState:b}),J=(n==null?void 0:n.clearButton)??d.slots.clearButton??Ne,G=Lt({elementType:J,externalSlotProps:Pc(d.slotProps.clearButton,r==null?void 0:r.clearButton),className:"clearButton",additionalProps:{title:i.fieldClearLabel,tabIndex:-1,onClick:h,disabled:s.disabled||s.readOnly,edge:u.variant!=="standard"&&I!==S?I:!1},ownerState:b}),q=at(G,CG),Q=(n==null?void 0:n.clearIcon)??d.slots.clearIcon??QH,z=Lt({elementType:Q,externalSlotProps:Pc(d.slotProps.clearIcon,r==null?void 0:r.clearIcon),additionalProps:{fontSize:"small"},ownerState:b});return u.ref=or(u.ref,l==null?void 0:l.rootRef),u.InputProps||(u.InputProps={}),l&&(u.InputProps.ref=l.triggerRef),!((oe=u.InputProps)!=null&&oe.startAdornment)&&(I==="start"||S==="start")&&(u.InputProps.startAdornment=t.jsxs(T,V({},R,{children:[S==="start"&&t.jsx(N,V({},K,{children:t.jsx($,V({},Y))})),I==="start"&&t.jsx(J,V({},q,{children:t.jsx(Q,V({},z))}))]}))),!((U=u.InputProps)!=null&&U.endAdornment)&&(I==="end"||S==="end")&&(u.InputProps.endAdornment=t.jsxs(T,V({},k,{children:[I==="end"&&t.jsx(J,V({},q,{children:t.jsx(Q,V({},z))})),S==="end"&&t.jsx(N,V({},K,{children:t.jsx($,V({},Y))}))]}))),I!=null&&(u.sx=[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(u.sx)?u.sx:[u.sx]]),t.jsx(D,V({},u))}function Pc(e,n){return e?n?r=>V({},nl(n,r),nl(e,r)):e:n}function TG(e){const{ref:n,externalForwardedProps:r,slotProps:s}=e,o=x.useContext(Ax),i=Sx(),l=Dx(r),{InputProps:d,inputProps:u}=r,h=at(r,PG),f=Lt({elementType:J1,externalSlotProps:Pc(o.slotProps.textField,s==null?void 0:s.textField),externalForwardedProps:h,additionalProps:{ref:n,sx:i==null?void 0:i.rootSx,label:i==null?void 0:i.label,name:i==null?void 0:i.name,className:i==null?void 0:i.rootClassName,inputRef:o.inputRef},ownerState:l});return f.inputProps=V({},u,f.inputProps),f.InputProps=V({},d,f.InputProps),f}function Q1(e){const{slots:n={},slotProps:r={},inputRef:s,children:o}=e,i=x.useMemo(()=>({inputRef:s,slots:{openPickerButton:n.openPickerButton,openPickerIcon:n.openPickerIcon,textField:n.textField,inputAdornment:n.inputAdornment,clearIcon:n.clearIcon,clearButton:n.clearButton},slotProps:{openPickerButton:r.openPickerButton,openPickerIcon:r.openPickerIcon,textField:r.textField,inputAdornment:r.inputAdornment,clearIcon:r.clearIcon,clearButton:r.clearButton}}),[s,n.openPickerButton,n.openPickerIcon,n.textField,n.inputAdornment,n.clearIcon,n.clearButton,r.openPickerButton,r.openPickerIcon,r.textField,r.inputAdornment,r.clearIcon,r.clearButton]);return t.jsx(Ax.Provider,{value:i,children:o})}const EG=e=>{const n=R7(e);return A7({manager:n,props:e})},AG=["slots","slotProps"],Z1=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiDateTimeField"}),{slots:o,slotProps:i}=s,l=at(s,AG),d=TG({slotProps:i,ref:r,externalForwardedProps:l}),u=EG(d);return t.jsx(DG,{slots:o,slotProps:i,fieldResponse:u,defaultOpenPickerIcon:KH})}),eC=({shouldDisableDate:e,shouldDisableMonth:n,shouldDisableYear:r,minDate:s,maxDate:o,disableFuture:i,disablePast:l,timezone:d})=>{const u=sa();return x.useCallback(h=>Cx({adapter:u,value:h,timezone:d,props:{shouldDisableDate:e,shouldDisableMonth:n,shouldDisableYear:r,minDate:s,maxDate:o,disableFuture:i,disablePast:l}})!==null,[u,e,n,r,s,o,i,l,d])},RG=(e,n)=>(r,s)=>{switch(s.type){case"setVisibleDate":return V({},r,{slideDirection:s.direction,currentMonth:s.month,isMonthSwitchingAnimating:!n.isSameMonth(s.month,r.currentMonth)&&!e&&!s.skipAnimation,focusedDay:s.focusedDay});case"changeMonthTimezone":{const o=s.newTimezone;if(n.getTimezone(r.currentMonth)===o)return r;let i=n.setTimezone(r.currentMonth,o);return n.getMonth(i)!==n.getMonth(r.currentMonth)&&(i=n.setMonth(i,n.getMonth(r.currentMonth))),V({},r,{currentMonth:i})}case"finishMonthSwitchingAnimation":return V({},r,{isMonthSwitchingAnimating:!1});default:throw new Error("missing support")}},kG=e=>{const{value:n,referenceDate:r,disableFuture:s,disablePast:o,maxDate:i,minDate:l,onMonthChange:d,onYearChange:u,reduceAnimations:h,shouldDisableDate:f,timezone:m,getCurrentMonthFromVisibleDate:g}=e,y=Vt(),b=x.useRef(RG(!!h,y)).current,w=x.useMemo(()=>pr.getInitialReferenceValue({value:n,utils:y,timezone:m,props:e,referenceDate:r,granularity:us.day}),[r,m]),[v,I]=x.useReducer(b,{isMonthSwitchingAnimating:!1,focusedDay:w,currentMonth:y.startOfMonth(w),slideDirection:"left"}),S=eC({shouldDisableDate:f,minDate:l,maxDate:i,disableFuture:s,disablePast:o,timezone:m});x.useEffect(()=>{I({type:"changeMonthTimezone",newTimezone:y.getTimezone(w)})},[w,y]);const D=Ue(({target:E,reason:R})=>{if(R==="cell-interaction"&&v.focusedDay!=null&&y.isSameDay(E,v.focusedDay))return;const O=R==="cell-interaction";let k,N;if(R==="cell-interaction")k=g(E,v.currentMonth),N=E;else if(k=y.isSameMonth(E,v.currentMonth)?v.currentMonth:y.startOfMonth(E),N=E,S(N)){const $=y.startOfMonth(E),Y=y.endOfMonth(E);N=ol({utils:y,date:N,minDate:y.isBefore(l,$)?$:l,maxDate:y.isAfter(i,Y)?Y:i,disablePast:o,disableFuture:s,isDateDisabled:S,timezone:m})}const B=!y.isSameMonth(v.currentMonth,k),K=!y.isSameYear(v.currentMonth,k);B&&(d==null||d(k)),K&&(u==null||u(y.startOfYear(k))),I({type:"setVisibleDate",month:k,direction:y.isAfterDay(k,v.currentMonth)?"left":"right",focusedDay:v.focusedDay!=null&&N!=null&&y.isSameDay(N,v.focusedDay)?v.focusedDay:N,skipAnimation:O})}),T=x.useCallback(()=>{I({type:"finishMonthSwitchingAnimation"})},[]);return{referenceDate:w,calendarState:v,setVisibleDate:D,isDateDisabled:S,onMonthSwitchingAnimationEnd:T}},_G=e=>un("MuiPickersFadeTransitionGroup",e);pn("MuiPickersFadeTransitionGroup",["root"]);const OG=["children"],MG=e=>Qt({root:["root"]},_G,e),NG=Me(Rv,{name:"MuiPickersFadeTransitionGroup",slot:"Root"})({display:"block",position:"relative"});function tC(e){const n=Gt({props:e,name:"MuiPickersFadeTransitionGroup"}),{className:r,reduceAnimations:s,transKey:o,classes:i}=n,{children:l}=n,d=at(n,OG),u=MG(i),h=cn();return s?l:t.jsx(NG,{className:nn(u.root,r),ownerState:d,children:t.jsx(gd,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:h.transitions.duration.enteringScreen,enter:h.transitions.duration.enteringScreen,exit:0},children:l},o)})}const LG=e=>un("MuiPickersSlideTransition",e),Xr=pn("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),$G=["children","className","reduceAnimations","slideDirection","transKey","classes"],FG=(e,n)=>{const{slideDirection:r}=n,s={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${r}`],exitActive:[`slideExitActiveLeft-${r}`]};return Qt(s,LG,e)},BG=Me(Rv,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,n)=>[n.root,{[`.${Xr["slideEnter-left"]}`]:n["slideEnter-left"]},{[`.${Xr["slideEnter-right"]}`]:n["slideEnter-right"]},{[`.${Xr.slideEnterActive}`]:n.slideEnterActive},{[`.${Xr.slideExit}`]:n.slideExit},{[`.${Xr["slideExitActiveLeft-left"]}`]:n["slideExitActiveLeft-left"]},{[`.${Xr["slideExitActiveLeft-right"]}`]:n["slideExitActiveLeft-right"]}]})(({theme:e})=>{const n=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Xr["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Xr["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Xr.slideEnterActive}`]:{transform:"translate(0%)",transition:n},[`& .${Xr.slideExit}`]:{transform:"translate(0%)"},[`& .${Xr["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:n,zIndex:0},[`& .${Xr["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:n,zIndex:0}}});function WG(e){const n=Gt({props:e,name:"MuiPickersSlideTransition"}),{children:r,className:s,reduceAnimations:o,slideDirection:i,transKey:l,classes:d}=n,u=at(n,$G),{ownerState:h}=En(),f=V({},h,{slideDirection:i}),m=FG(d,f),g=cn();if(o)return t.jsx("div",{className:nn(m.root,s),children:r});const y={exit:m.exit,enterActive:m.enterActive,enter:m.enter,exitActive:m.exitActive};return t.jsx(BG,{className:nn(m.root,s),childFactory:b=>x.cloneElement(b,{classNames:y}),role:"presentation",ownerState:f,children:t.jsx($R,V({mountOnEnter:!0,unmountOnExit:!0,timeout:g.transitions.duration.complex,classNames:y},u,{children:r}),l)})}const UG=e=>un("MuiDayCalendar",e);pn("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const VG=["parentProps","day","focusedDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],zG=["ownerState"],HG=e=>Qt({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},UG,e),nC=(sl+Xd*2)*6,GG=Me("div",{name:"MuiDayCalendar",slot:"Root"})({}),YG=Me("div",{name:"MuiDayCalendar",slot:"Header"})({display:"flex",justifyContent:"center",alignItems:"center"}),qG=Me(j,{name:"MuiDayCalendar",slot:"WeekDayLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),KG=Me(j,{name:"MuiDayCalendar",slot:"WeekNumberLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.disabled})),XG=Me(j,{name:"MuiDayCalendar",slot:"WeekNumber"})(({theme:e})=>V({},e.typography.caption,{width:sl,height:sl,padding:0,margin:`0 ${Xd}px`,color:(e.vars||e).palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),JG=Me("div",{name:"MuiDayCalendar",slot:"LoadingContainer"})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:nC}),QG=Me(WG,{name:"MuiDayCalendar",slot:"SlideTransition"})({minHeight:nC}),ZG=Me("div",{name:"MuiDayCalendar",slot:"MonthContainer"})({overflow:"hidden"}),eY=Me("div",{name:"MuiDayCalendar",slot:"WeekContainer"})({margin:`${Xd}px 0`,display:"flex",justifyContent:"center"});function tY(e){let{parentProps:n,day:r,focusedDay:s,selectedDays:o,isDateDisabled:i,currentMonthNumber:l,isViewFocused:d}=e,u=at(e,VG);const{disabled:h,disableHighlightToday:f,isMonthSwitchingAnimating:m,showDaysOutsideCurrentMonth:g,slots:y,slotProps:b,timezone:w}=n,v=Vt(),I=si(w),S=s!=null&&v.isSameDay(r,s),D=d&&S,T=o.some(J=>v.isSameDay(J,r)),E=v.isSameDay(r,I),R=x.useMemo(()=>h||i(r),[h,i,r]),O=x.useMemo(()=>v.getMonth(r)!==l,[v,r,l]),k=A1({day:r,selected:T,disabled:R,today:E,outsideCurrentMonth:O,disableMargin:void 0,disableHighlightToday:f,showDaysOutsideCurrentMonth:g}),N=(y==null?void 0:y.day)??l7,B=Lt({elementType:N,externalSlotProps:b==null?void 0:b.day,additionalProps:V({disableHighlightToday:f,showDaysOutsideCurrentMonth:g,role:"gridcell",isAnimating:m,"data-timestamp":v.toJsDate(r).valueOf()},u),ownerState:V({},k,{day:r,isDayDisabled:R,isDaySelected:T})}),K=at(B,zG),$=x.useMemo(()=>{const J=v.startOfMonth(v.setMonth(r,l));return g?v.isSameDay(r,v.startOfWeek(J)):v.isSameDay(r,J)},[l,r,g,v]),Y=x.useMemo(()=>{const J=v.endOfMonth(v.setMonth(r,l));return g?v.isSameDay(r,v.endOfWeek(J)):v.isSameDay(r,J)},[l,r,g,v]);return t.jsx(N,V({},K,{day:r,disabled:R,autoFocus:!O&&D,today:E,outsideCurrentMonth:O,isFirstVisibleCell:$,isLastVisibleCell:Y,selected:T,tabIndex:S?0:-1,"aria-selected":T,"aria-current":E?"date":void 0}))}function nY(e){const n=Gt({props:e,name:"MuiDayCalendar"}),r=Vt(),{onFocusedDayChange:s,className:o,classes:i,currentMonth:l,selectedDays:d,focusedDay:u,loading:h,onSelectedDaysChange:f,onMonthSwitchingAnimationEnd:m,readOnly:g,reduceAnimations:y,renderLoading:b=()=>t.jsx("span",{children:"..."}),slideDirection:w,TransitionProps:v,disablePast:I,disableFuture:S,minDate:D,maxDate:T,shouldDisableDate:E,shouldDisableMonth:R,shouldDisableYear:O,dayOfWeekFormatter:k=ae=>r.format(ae,"weekdayShort").charAt(0).toUpperCase(),hasFocus:N,onFocusedViewChange:B,gridLabelId:K,displayWeekNumber:$,fixedWeekNumber:Y,timezone:J}=n,G=si(J),q=HG(i),Q=Os(),z=eC({shouldDisableDate:E,shouldDisableMonth:R,shouldDisableYear:O,minDate:D,maxDate:T,disablePast:I,disableFuture:S,timezone:J}),oe=vs(),U=Ue(ae=>{g||f(ae)}),ee=ae=>{z(ae)||(s(ae),B==null||B(!0))},Pe=Ue((ae,se)=>{switch(ae.key){case"ArrowUp":ee(r.addDays(se,-7)),ae.preventDefault();break;case"ArrowDown":ee(r.addDays(se,7)),ae.preventDefault();break;case"ArrowLeft":{const xe=r.addDays(se,Q?1:-1),he=r.addMonths(se,Q?1:-1),ke=ol({utils:r,date:xe,minDate:Q?xe:r.startOfMonth(he),maxDate:Q?r.endOfMonth(he):xe,isDateDisabled:z,timezone:J});ee(ke||xe),ae.preventDefault();break}case"ArrowRight":{const xe=r.addDays(se,Q?-1:1),he=r.addMonths(se,Q?-1:1),ke=ol({utils:r,date:xe,minDate:Q?r.startOfMonth(he):xe,maxDate:Q?xe:r.endOfMonth(he),isDateDisabled:z,timezone:J});ee(ke||xe),ae.preventDefault();break}case"Home":ee(r.startOfWeek(se)),ae.preventDefault();break;case"End":ee(r.endOfWeek(se)),ae.preventDefault();break;case"PageUp":ee(r.addMonths(se,1)),ae.preventDefault();break;case"PageDown":ee(r.addMonths(se,-1)),ae.preventDefault();break}}),pe=Ue((ae,se)=>ee(se)),Re=Ue((ae,se)=>{u!=null&&r.isSameDay(u,se)&&(B==null||B(!1))}),ce=r.getMonth(l),re=r.getYear(l),je=x.useMemo(()=>d.filter(ae=>!!ae).map(ae=>r.startOfDay(ae)),[r,d]),Oe=`${re}-${ce}`,ye=x.useMemo(()=>x.createRef(),[Oe]),ie=x.useMemo(()=>{const ae=r.getWeekArray(l);let se=r.addMonths(l,1);for(;Y&&ae.length<Y;){const xe=r.getWeekArray(se),he=r.isSameDay(ae[ae.length-1][0],xe[0][0]);xe.slice(he?1:0).forEach(ke=>{ae.length<Y&&ae.push(ke)}),se=r.addMonths(se,1)}return ae},[l,Y,r]);return t.jsxs(GG,{role:"grid","aria-labelledby":K,className:q.root,children:[t.jsxs(YG,{role:"row",className:q.header,children:[$&&t.jsx(KG,{variant:"caption",role:"columnheader","aria-label":oe.calendarWeekNumberHeaderLabel,className:q.weekNumberLabel,children:oe.calendarWeekNumberHeaderText}),b9(r,G).map((ae,se)=>t.jsx(qG,{variant:"caption",role:"columnheader","aria-label":r.format(ae,"weekday"),className:q.weekDayLabel,children:k(ae)},se.toString()))]}),h?t.jsx(JG,{className:q.loadingContainer,children:b()}):t.jsx(QG,V({transKey:Oe,onExited:m,reduceAnimations:y,slideDirection:w,className:nn(o,q.slideTransition)},v,{nodeRef:ye,children:t.jsx(ZG,{ref:ye,role:"rowgroup",className:q.monthContainer,children:ie.map((ae,se)=>t.jsxs(eY,{role:"row",className:q.weekContainer,"aria-rowindex":se+1,children:[$&&t.jsx(XG,{className:q.weekNumber,role:"rowheader","aria-label":oe.calendarWeekNumberAriaLabelText(r.getWeekNumber(ae[0])),children:oe.calendarWeekNumberText(r.getWeekNumber(ae[0]))}),ae.map((xe,he)=>t.jsx(tY,{parentProps:n,day:xe,selectedDays:je,isViewFocused:N,focusedDay:u,onKeyDown:Pe,onFocus:pe,onBlur:Re,onDaySelect:U,isDateDisabled:z,currentMonthNumber:ce,"aria-colindex":he+1},xe.toString()))]},`week-${ae[0]}`))})}))]})}function rC(e){return un("MuiMonthCalendar",e)}const bc=pn("MuiMonthCalendar",["root","button","disabled","selected"]),rY=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],sY=(e,n)=>{const r={button:["button",n.isMonthDisabled&&"disabled",n.isMonthSelected&&"selected"]};return Qt(r,rC,e)},oY=Me("button",{name:"MuiMonthCalendar",slot:"Button",overridesResolver:(e,n)=>[n.button,{[`&.${bc.disabled}`]:n.disabled},{[`&.${bc.selected}`]:n.selected}]})(({theme:e})=>V({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:de(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:de(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${bc.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${bc.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),aY=x.memo(function(n){const{autoFocus:r,classes:s,disabled:o,selected:i,value:l,onClick:d,onKeyDown:u,onFocus:h,onBlur:f,slots:m,slotProps:g}=n,y=at(n,rY),b=x.useRef(null),{ownerState:w}=En(),v=V({},w,{isMonthDisabled:o,isMonthSelected:i}),I=sY(s,v);ts(()=>{var T;r&&((T=b.current)==null||T.focus())},[r]);const S=(m==null?void 0:m.monthButton)??oY,D=Lt({elementType:S,externalSlotProps:g==null?void 0:g.monthButton,externalForwardedProps:y,additionalProps:{disabled:o,ref:b,type:"button",role:"radio","aria-checked":i,onClick:T=>d(T,l),onKeyDown:T=>u(T,l),onFocus:T=>h(T,l),onBlur:T=>f(T,l)},ownerState:v,className:I.button});return t.jsx(S,V({},D))}),iY=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],lY=e=>Qt({root:["root"]},rC,e);function cY(e,n){const r=Gt({props:e,name:n}),s=Ix(r);return V({},r,s,{monthsPerRow:r.monthsPerRow??3})}const dY=Me("div",{name:"MuiMonthCalendar",slot:"Root",shouldForwardProp:e=>Qs(e)&&e!=="monthsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:16,padding:"8px 0",width:qa,boxSizing:"border-box",variants:[{props:{monthsPerRow:3},style:{columnGap:24}},{props:{monthsPerRow:4},style:{columnGap:0}}]}),uY=x.forwardRef(function(n,r){const s=cY(n,"MuiMonthCalendar"),{autoFocus:o,className:i,classes:l,value:d,defaultValue:u,referenceDate:h,disabled:f,disableFuture:m,disablePast:g,maxDate:y,minDate:b,onChange:w,shouldDisableMonth:v,readOnly:I,onMonthFocus:S,hasFocus:D,onFocusedViewChange:T,monthsPerRow:E,timezone:R,gridLabelId:O,slots:k,slotProps:N}=s,B=at(s,iY),{value:K,handleValueChange:$,timezone:Y}=oa({name:"MonthCalendar",timezone:R,value:d,defaultValue:u,referenceDate:h,onChange:w,valueManager:pr}),J=si(Y),G=Os(),q=Vt(),{ownerState:Q}=En(),z=x.useMemo(()=>pr.getInitialReferenceValue({value:K,utils:q,props:s,timezone:Y,referenceDate:h,granularity:us.month}),[]),oe=lY(l),U=x.useMemo(()=>q.getMonth(J),[q,J]),ee=x.useMemo(()=>K!=null?q.getMonth(K):null,[K,q]),[Pe,pe]=x.useState(()=>ee||q.getMonth(z)),[Re,ce]=Ya({name:"MonthCalendar",state:"hasFocus",controlled:D,default:o??!1}),re=Ue(xe=>{ce(xe),T&&T(xe)}),je=x.useCallback(xe=>{const he=q.startOfMonth(g&&q.isAfter(J,b)?J:b),ke=q.startOfMonth(m&&q.isBefore(J,y)?J:y),Ee=q.startOfMonth(xe);return q.isBefore(Ee,he)||q.isAfter(Ee,ke)?!0:v?v(Ee):!1},[m,g,y,b,J,v,q]),Oe=Ue((xe,he)=>{if(I)return;const ke=q.setMonth(K??z,he);$(ke)}),ye=Ue(xe=>{je(q.setMonth(K??z,xe))||(pe(xe),re(!0),S&&S(xe))});x.useEffect(()=>{pe(xe=>ee!==null&&xe!==ee?ee:xe)},[ee]);const ie=Ue((xe,he)=>{switch(xe.key){case"ArrowUp":ye((12+he-3)%12),xe.preventDefault();break;case"ArrowDown":ye((12+he+3)%12),xe.preventDefault();break;case"ArrowLeft":ye((12+he+(G?1:-1))%12),xe.preventDefault();break;case"ArrowRight":ye((12+he+(G?-1:1))%12),xe.preventDefault();break}}),ae=Ue((xe,he)=>{ye(he)}),se=Ue((xe,he)=>{Pe===he&&re(!1)});return t.jsx(dY,V({ref:r,className:nn(oe.root,i),ownerState:Q,role:"radiogroup","aria-labelledby":O,monthsPerRow:E},B,{children:bx(q,K??z).map(xe=>{const he=q.getMonth(xe),ke=q.format(xe,"monthShort"),Ee=q.format(xe,"month"),Ye=he===ee,fe=f||je(xe);return t.jsx(aY,{selected:Ye,value:he,onClick:Oe,onKeyDown:ie,autoFocus:Re&&he===Pe,disabled:fe,tabIndex:he===Pe&&!fe?0:-1,onFocus:ae,onBlur:se,"aria-current":U===he?"date":void 0,"aria-label":Ee,slots:k,slotProps:N,classes:l,children:ke},ke)})}))});function sC(e){return un("MuiYearCalendar",e)}const yc=pn("MuiYearCalendar",["root","button","disabled","selected"]),hY=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],fY=(e,n)=>{const r={button:["button",n.isYearDisabled&&"disabled",n.isYearSelected&&"selected"]};return Qt(r,sC,e)},pY=Me("button",{name:"MuiYearCalendar",slot:"Button",overridesResolver:(e,n)=>[n.button,{[`&.${yc.disabled}`]:n.disabled},{[`&.${yc.selected}`]:n.selected}]})(({theme:e})=>V({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:de(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:de(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${yc.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${yc.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),mY=x.memo(function(n){const{autoFocus:r,classes:s,disabled:o,selected:i,value:l,onClick:d,onKeyDown:u,onFocus:h,onBlur:f,slots:m,slotProps:g}=n,y=at(n,hY),b=x.useRef(null),{ownerState:w}=En(),v=V({},w,{isYearDisabled:o,isYearSelected:i}),I=fY(s,v);ts(()=>{var T;r&&((T=b.current)==null||T.focus())},[r]);const S=(m==null?void 0:m.yearButton)??pY,D=Lt({elementType:S,externalSlotProps:g==null?void 0:g.yearButton,externalForwardedProps:y,additionalProps:{disabled:o,ref:b,type:"button",role:"radio","aria-checked":i,onClick:T=>d(T,l),onKeyDown:T=>u(T,l),onFocus:T=>h(T,l),onBlur:T=>f(T,l)},ownerState:v,className:I.button});return t.jsx(S,V({},D))}),xY=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"],gY=e=>Qt({root:["root"]},sC,e);function bY(e,n){const r=Gt({props:e,name:n}),s=Ix(r);return V({},r,s,{yearsPerRow:r.yearsPerRow??3,yearsOrder:r.yearsOrder??"asc"})}const yY=Me("div",{name:"MuiYearCalendar",slot:"Root",shouldForwardProp:e=>Qs(e)&&e!=="yearsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:12,padding:"6px 0",overflowY:"auto",height:"100%",width:qa,maxHeight:m9,boxSizing:"border-box",position:"relative",variants:[{props:{yearsPerRow:3},style:{columnGap:24}},{props:{yearsPerRow:4},style:{columnGap:0,padding:"0 2px"}}]}),vY=Me("div",{name:"MuiYearCalendar",slot:"ButtonFiller"})({height:36,width:72}),jY=x.forwardRef(function(n,r){const s=bY(n,"MuiYearCalendar"),{autoFocus:o,className:i,classes:l,value:d,defaultValue:u,referenceDate:h,disabled:f,disableFuture:m,disablePast:g,maxDate:y,minDate:b,onChange:w,readOnly:v,shouldDisableYear:I,onYearFocus:S,hasFocus:D,onFocusedViewChange:T,yearsOrder:E,yearsPerRow:R,timezone:O,gridLabelId:k,slots:N,slotProps:B}=s,K=at(s,xY),{value:$,handleValueChange:Y,timezone:J}=oa({name:"YearCalendar",timezone:O,value:d,defaultValue:u,referenceDate:h,onChange:w,valueManager:pr}),G=si(J),q=Os(),Q=Vt(),{ownerState:z}=En(),oe=x.useMemo(()=>pr.getInitialReferenceValue({value:$,utils:Q,props:s,timezone:J,referenceDate:h,granularity:us.year}),[]),U=gY(l),ee=x.useMemo(()=>Q.getYear(G),[Q,G]),Pe=x.useMemo(()=>$!=null?Q.getYear($):null,[$,Q]),[pe,Re]=x.useState(()=>Pe||Q.getYear(oe)),[ce,re]=Ya({name:"YearCalendar",state:"hasFocus",controlled:D,default:o??!1}),je=Ue(X=>{re(X),T&&T(X)}),Oe=x.useCallback(X=>{if(g&&Q.isBeforeYear(X,G)||m&&Q.isAfterYear(X,G)||b&&Q.isBeforeYear(X,b)||y&&Q.isAfterYear(X,y))return!0;if(!I)return!1;const L=Q.startOfYear(X);return I(L)},[m,g,y,b,G,I,Q]),ye=Ue((X,L)=>{if(v)return;const _e=Q.setYear($??oe,L);Y(_e)}),ie=Ue(X=>{Oe(Q.setYear($??oe,X))||(Re(X),je(!0),S==null||S(X))});x.useEffect(()=>{Re(X=>Pe!==null&&X!==Pe?Pe:X)},[Pe]);const ae=E!=="desc"?R*1:R*-1,se=q&&E==="asc"||!q&&E==="desc"?-1:1,xe=Ue((X,L)=>{switch(X.key){case"ArrowUp":ie(L-ae),X.preventDefault();break;case"ArrowDown":ie(L+ae),X.preventDefault();break;case"ArrowLeft":ie(L-se),X.preventDefault();break;case"ArrowRight":ie(L+se),X.preventDefault();break}}),he=Ue((X,L)=>{ie(L)}),ke=Ue((X,L)=>{pe===L&&je(!1)}),Ee=x.useRef(null),Ye=or(r,Ee);x.useEffect(()=>{if(o||Ee.current===null)return;const X=Ee.current.querySelector('[tabindex="0"]');if(!X)return;const L=X.offsetHeight,_e=X.offsetTop,Ve=Ee.current.clientHeight,hn=Ee.current.scrollTop,Ft=_e+L;L>Ve||_e<hn||(Ee.current.scrollTop=Ft-Ve/2-L/2)},[o]);const fe=Q.getYearRange([b,y]);E==="desc"&&fe.reverse();let Se=R-fe.length%R;return Se===R&&(Se=0),t.jsxs(yY,V({ref:Ye,className:nn(U.root,i),ownerState:z,role:"radiogroup","aria-labelledby":k,yearsPerRow:R},K,{children:[fe.map(X=>{const L=Q.getYear(X),_e=L===Pe,Ve=f||Oe(X);return t.jsx(mY,{selected:_e,value:L,onClick:ye,onKeyDown:xe,autoFocus:ce&&L===pe,disabled:Ve,tabIndex:L===pe&&!Ve?0:-1,onFocus:he,onBlur:ke,"aria-current":ee===L?"date":void 0,slots:N,slotProps:B,classes:l,children:Q.format(X,"year")},Q.format(X,"year"))}),Array.from({length:Se},(X,L)=>t.jsx(vY,{},L))]}))}),wY=e=>un("MuiPickersCalendarHeader",e),SY=pn("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),CY=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","classes","timezone","format"],PY=["ownerState"],IY=e=>Qt({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},wY,e),DY=Me("div",{name:"MuiPickersCalendarHeader",slot:"Root"})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),TY=Me("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer"})(({theme:e})=>V({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),EY=Me("div",{name:"MuiPickersCalendarHeader",slot:"Label"})({marginRight:6}),AY=Me(Ne,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton"})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${SY.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),RY=Me(GH,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon"})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),kY=x.forwardRef(function(n,r){const s=vs(),o=Vt(),i=Gt({props:n,name:"MuiPickersCalendarHeader"}),{slots:l,slotProps:d,currentMonth:u,disabled:h,disableFuture:f,disablePast:m,maxDate:g,minDate:y,onMonthChange:b,onViewChange:w,view:v,reduceAnimations:I,views:S,labelId:D,className:T,classes:E,timezone:R,format:O=`${o.formats.month} ${o.formats.year}`}=i,k=at(i,CY),{ownerState:N}=En(),B=IY(E),K=(l==null?void 0:l.switchViewButton)??AY,$=Lt({elementType:K,externalSlotProps:d==null?void 0:d.switchViewButton,additionalProps:{size:"small","aria-label":s.calendarViewSwitchingButtonAriaLabel(v)},ownerState:N,className:B.switchViewButton}),Y=(l==null?void 0:l.switchViewIcon)??RY,J=Lt({elementType:Y,externalSlotProps:d==null?void 0:d.switchViewIcon,ownerState:N,className:B.switchViewIcon}),G=at(J,PY),q=()=>b(o.addMonths(u,1)),Q=()=>b(o.addMonths(u,-1)),z=f9(u,{disableFuture:f,maxDate:g,timezone:R}),oe=p9(u,{disablePast:m,minDate:y,timezone:R}),U=()=>{if(!(S.length===1||!w||h))if(S.length===2)w(S.find(Pe=>Pe!==v)||S[0]);else{const Pe=S.indexOf(v)!==0?0:1;w(S[Pe])}};if(S.length===1&&S[0]==="year")return null;const ee=o.formatByString(u,O);return t.jsxs(DY,V({},k,{ownerState:N,className:nn(B.root,T),ref:r,children:[t.jsxs(TY,{role:"presentation",onClick:U,ownerState:N,"aria-live":"polite",className:B.labelContainer,children:[t.jsx(tC,{reduceAnimations:I,transKey:ee,children:t.jsx(EY,{id:D,ownerState:N,className:B.label,children:ee})}),S.length>1&&!h&&t.jsx(K,V({},$,{children:t.jsx(Y,V({},G))}))]}),t.jsx(gd,{in:v==="day",appear:!I,enter:!I,children:t.jsx(i9,{slots:l,slotProps:d,onGoToPrevious:Q,isPreviousDisabled:oe,previousLabel:s.previousMonth,onGoToNext:q,isNextDisabled:z,nextLabel:s.nextMonth})})]}))}),_Y="@media (prefers-reduced-motion: reduce)",_a=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),fv=_a&&_a[1]?parseInt(_a[1],10):null,pv=_a&&_a[2]?parseInt(_a[2],10):null,OY=fv&&fv<10||pv&&pv<13||!1;function oC(e){const n=il(_Y,{defaultMatches:!1});return e??(n||OY)}const MY=e=>un("MuiDateCalendar",e);pn("MuiDateCalendar",["root","viewTransitionContainer"]);const NY=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","classes","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"],LY=e=>Qt({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},MY,e);function $Y(e,n){const r=Gt({props:e,name:n}),s=oC(r.reduceAnimations),o=Ix(r);return V({},r,o,{loading:r.loading??!1,openTo:r.openTo??"day",views:r.views??["year","day"],reduceAnimations:s,renderLoading:r.renderLoading??(()=>t.jsx("span",{children:"..."}))})}const FY=Me(gx,{name:"MuiDateCalendar",slot:"Root"})({display:"flex",flexDirection:"column",height:Ka}),BY=Me(tC,{name:"MuiDateCalendar",slot:"ViewTransitionContainer"})({}),WY=x.forwardRef(function(n,r){const s=Vt(),{ownerState:o}=En(),i=Yd(),l=$Y(n,"MuiDateCalendar"),{autoFocus:d,onViewChange:u,value:h,defaultValue:f,referenceDate:m,disableFuture:g,disablePast:y,onChange:b,onMonthChange:w,reduceAnimations:v,shouldDisableDate:I,shouldDisableMonth:S,shouldDisableYear:D,view:T,views:E,openTo:R,className:O,classes:k,disabled:N,readOnly:B,minDate:K,maxDate:$,disableHighlightToday:Y,focusedView:J,onFocusedViewChange:G,showDaysOutsideCurrentMonth:q,fixedWeekNumber:Q,dayOfWeekFormatter:z,slots:oe,slotProps:U,loading:ee,renderLoading:Pe,displayWeekNumber:pe,yearsOrder:Re,yearsPerRow:ce,monthsPerRow:re,timezone:je}=l,Oe=at(l,NY),{value:ye,handleValueChange:ie,timezone:ae}=oa({name:"DateCalendar",timezone:je,value:h,defaultValue:f,referenceDate:m,onChange:b,valueManager:pr}),{view:se,setView:xe,focusedView:he,setFocusedView:ke,goToNextView:Ee,setValueAndGoToNextView:Ye}=Kd({view:T,views:E,openTo:R,onChange:ie,onViewChange:u,autoFocus:d,focusedView:J,onFocusedViewChange:G}),{referenceDate:fe,calendarState:Se,setVisibleDate:X,isDateDisabled:L,onMonthSwitchingAnimationEnd:_e}=kG({value:ye,referenceDate:m,reduceAnimations:v,onMonthChange:w,minDate:K,maxDate:$,shouldDisableDate:I,disablePast:y,disableFuture:g,timezone:ae,getCurrentMonthFromVisibleDate:(Pt,Rn)=>s.isSameMonth(Pt,Rn)?Rn:s.startOfMonth(Pt)}),Ve=N&&ye||K,hn=N&&ye||$,Ft=`${i}-grid-label`,Rt=he!==null,Zt=(oe==null?void 0:oe.calendarHeader)??kY,Fn=Lt({elementType:Zt,externalSlotProps:U==null?void 0:U.calendarHeader,additionalProps:{views:E,view:se,currentMonth:Se.currentMonth,onViewChange:xe,onMonthChange:Pt=>X({target:Pt,reason:"header-navigation"}),minDate:Ve,maxDate:hn,disabled:N,disablePast:y,disableFuture:g,reduceAnimations:v,timezone:ae,labelId:Ft},ownerState:o}),ut=Ue(Pt=>{const Rn=s.startOfMonth(Pt),zn=s.endOfMonth(Pt),Pr=L(Pt)?ol({utils:s,date:Pt,minDate:s.isBefore(K,Rn)?Rn:K,maxDate:s.isAfter($,zn)?zn:$,disablePast:y,disableFuture:g,isDateDisabled:L,timezone:ae}):Pt;Pr?(Ye(Pr,"finish"),X({target:Pr,reason:"cell-interaction"})):(Ee(),X({target:Rn,reason:"cell-interaction"}))}),gt=Ue(Pt=>{const Rn=s.startOfYear(Pt),zn=s.endOfYear(Pt),Pr=L(Pt)?ol({utils:s,date:Pt,minDate:s.isBefore(K,Rn)?Rn:K,maxDate:s.isAfter($,zn)?zn:$,disablePast:y,disableFuture:g,isDateDisabled:L,timezone:ae}):Pt;Pr?(Ye(Pr,"finish"),X({target:Pr,reason:"cell-interaction"})):(Ee(),X({target:Rn,reason:"cell-interaction"}))}),kt=Ue(Pt=>ie(Pt&&dd(s,Pt,ye??fe),"finish",se));x.useEffect(()=>{s.isValid(ye)&&X({target:ye,reason:"controlled-value-change"})},[ye]);const Yt=LY(k),An={disablePast:y,disableFuture:g,maxDate:$,minDate:K},mn={disableHighlightToday:Y,readOnly:B,disabled:N,timezone:ae,gridLabelId:Ft,slots:oe,slotProps:U},Qn=x.useRef(se);x.useEffect(()=>{Qn.current!==se&&(he===Qn.current&&ke(se,!0),Qn.current=se)},[he,ke,se]);const vn=x.useMemo(()=>[ye],[ye]);return t.jsxs(FY,V({ref:r,className:nn(Yt.root,O),ownerState:o},Oe,{children:[t.jsx(Zt,V({},Fn,{slots:oe,slotProps:U})),t.jsx(BY,{reduceAnimations:v,className:Yt.viewTransitionContainer,transKey:se,ownerState:o,children:t.jsxs("div",{children:[se==="year"&&t.jsx(jY,V({},An,mn,{value:ye,onChange:gt,shouldDisableYear:D,hasFocus:Rt,onFocusedViewChange:Pt=>ke("year",Pt),yearsOrder:Re,yearsPerRow:ce,referenceDate:fe})),se==="month"&&t.jsx(uY,V({},An,mn,{hasFocus:Rt,className:O,value:ye,onChange:ut,shouldDisableMonth:S,onFocusedViewChange:Pt=>ke("month",Pt),monthsPerRow:re,referenceDate:fe})),se==="day"&&t.jsx(nY,V({},Se,An,mn,{onMonthSwitchingAnimationEnd:_e,hasFocus:Rt,onFocusedDayChange:Pt=>X({target:Pt,reason:"cell-interaction"}),reduceAnimations:v,selectedDays:vn,onSelectedDaysChange:kt,shouldDisableDate:I,shouldDisableMonth:S,shouldDisableYear:D,onFocusedViewChange:Pt=>ke("day",Pt),showDaysOutsideCurrentMonth:q,fixedWeekNumber:Q,dayOfWeekFormatter:z,displayWeekNumber:pe,loading:ee,renderLoading:Pe}))]})})]}))});function aC(e){return un("MuiPickersToolbar",e)}const UY=pn("MuiPickersToolbar",["root","title","content"]);function iC(){const{ownerState:e}=En(),n=Os();return x.useMemo(()=>V({},e,{toolbarDirection:n?"rtl":"ltr"}),[e,n])}const VY=["children","className","classes","toolbarTitle","hidden","titleId","classes","landscapeDirection"],zY=e=>Qt({root:["root"],title:["title"],content:["content"]},aC,e),HY=Me("div",{name:"MuiPickersToolbar",slot:"Root"})(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:e.spacing(2,3),variants:[{props:{pickerOrientation:"landscape"},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),GY=Me("div",{name:"MuiPickersToolbar",slot:"Content",shouldForwardProp:e=>Qs(e)&&e!=="landscapeDirection"})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{pickerOrientation:"landscape"},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{pickerOrientation:"landscape",landscapeDirection:"row"},style:{flexDirection:"row"}}]}),YY=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersToolbar"}),{children:o,className:i,classes:l,toolbarTitle:d,hidden:u,titleId:h,landscapeDirection:f}=s,m=at(s,VY),g=iC(),y=zY(l);return u?null:t.jsxs(HY,V({ref:r,className:nn(y.root,i),ownerState:g},m,{children:[t.jsx(j,{color:"text.secondary",variant:"overline",id:h,className:y.title,children:d}),t.jsx(GY,{className:y.content,ownerState:g,landscapeDirection:f,children:o})]}))});function qY(e){return un("MuiPickerPopper",e)}pn("MuiPickerPopper",["root","paper"]);const KY=["PaperComponent","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],XY=e=>Qt({root:["root"],paper:["paper"]},qY,e),JY=Me(FR,{name:"MuiPickerPopper",slot:"Root"})(({theme:e})=>({zIndex:e.zIndex.modal})),QY=Me(ot,{name:"MuiPickerPopper",slot:"Paper"})({outline:0,transformOrigin:"top center",variants:[{props:({popperPlacement:e})=>["top","top-start","top-end"].includes(e),style:{transformOrigin:"bottom center"}}]});function ZY(e,n){return n.documentElement.clientWidth<e.clientX||n.documentElement.clientHeight<e.clientY}function eq(e,n){const r=x.useRef(!1),s=x.useRef(!1),o=x.useRef(null),i=x.useRef(!1);x.useEffect(()=>{if(!e)return;function u(){i.current=!0}return document.addEventListener("mousedown",u,!0),document.addEventListener("touchstart",u,!0),()=>{document.removeEventListener("mousedown",u,!0),document.removeEventListener("touchstart",u,!0),i.current=!1}},[e]);const l=Ue(u=>{if(!i.current)return;const h=s.current;s.current=!1;const f=Xh(o.current);if(!o.current||"clientX"in u&&ZY(u,f))return;if(r.current){r.current=!1;return}let m;u.composedPath?m=u.composedPath().indexOf(o.current)>-1:m=!f.documentElement.contains(u.target)||o.current.contains(u.target),!m&&!h&&n(u)}),d=()=>{s.current=!0};return x.useEffect(()=>{if(e){const u=Xh(o.current),h=()=>{r.current=!0};return u.addEventListener("touchstart",l),u.addEventListener("touchmove",h),()=>{u.removeEventListener("touchstart",l),u.removeEventListener("touchmove",h)}}},[e,l]),x.useEffect(()=>{if(e){const u=Xh(o.current);return u.addEventListener("click",l),()=>{u.removeEventListener("click",l),s.current=!1}}},[e,l]),[o,d,d]}const tq=x.forwardRef((e,n)=>{const{PaperComponent:r,ownerState:s,children:o,paperSlotProps:i,paperClasses:l,onPaperClick:d,onPaperTouchStart:u}=e,h=at(e,KY),f=Lt({elementType:r,externalSlotProps:i,additionalProps:{tabIndex:-1,elevation:8,ref:n},className:l,ownerState:s});return t.jsx(r,V({},h,f,{onClick:m=>{var g;d(m),(g=f.onClick)==null||g.call(f,m)},onTouchStart:m=>{var g;u(m),(g=f.onTouchStart)==null||g.call(f,m)},ownerState:s,children:o}))});function nq(e){const n=Gt({props:e,name:"MuiPickerPopper"}),{children:r,placement:s="bottom-start",slots:o,slotProps:i,classes:l}=n,{open:d,popupRef:u,reduceAnimations:h}=Io(),{dismissViews:f,getCurrentViewMode:m,onPopperExited:g,triggerElement:y,viewContainerRole:b}=En();x.useEffect(()=>{function Q(z){d&&z.key==="Escape"&&f()}return document.addEventListener("keydown",Q),()=>{document.removeEventListener("keydown",Q)}},[f,d]);const w=x.useRef(null);x.useEffect(()=>{b==="tooltip"||m()==="field"||(d?w.current=Kn(document):w.current&&w.current instanceof HTMLElement&&setTimeout(()=>{w.current instanceof HTMLElement&&w.current.focus()}))},[d,b,m]);const v=XY(l),{ownerState:I,rootRefObject:S}=En(),D=V({},I,{popperPlacement:s}),T=Ue(()=>{b==="tooltip"?M9(()=>{var Q,z;(Q=S.current)!=null&&Q.contains(Kn(document))||(z=u.current)!=null&&z.contains(Kn(document))||f()}):f()}),[E,R,O]=eq(d,T),k=x.useRef(null),N=or(k,u),B=or(N,E),K=Q=>{Q.key==="Escape"&&(Q.stopPropagation(),f())},$=(o==null?void 0:o.desktopTransition)??h?gd:BR,Y=(o==null?void 0:o.desktopTrapFocus)??WR,J=(o==null?void 0:o.desktopPaper)??QY,G=(o==null?void 0:o.popper)??JY,q=Lt({elementType:G,externalSlotProps:i==null?void 0:i.popper,additionalProps:{transition:!0,role:b??void 0,open:d,placement:s,anchorEl:y,onKeyDown:K},className:v.root,ownerState:D});return t.jsx(G,V({},q,{children:({TransitionProps:Q})=>t.jsx(Y,V({open:d,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:b==="tooltip",isEnabled:()=>!0},i==null?void 0:i.desktopTrapFocus,{children:t.jsx($,V({},Q,i==null?void 0:i.desktopTransition,{onExited:z=>{var oe,U,ee;g==null||g(),(U=(oe=i==null?void 0:i.desktopTransition)==null?void 0:oe.onExited)==null||U.call(oe,z),(ee=Q==null?void 0:Q.onExited)==null||ee.call(Q)},children:t.jsx(tq,{PaperComponent:J,ownerState:D,ref:B,onPaperClick:R,onPaperTouchStart:O,paperClasses:v.paper,paperSlotProps:i==null?void 0:i.desktopPaper,children:r})}))}))}))}function mv(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}function rq(e,n){const[r,s]=x.useState(mv);return ts(()=>{const o=()=>{s(mv())};return window.addEventListener("orientationchange",o),()=>{window.removeEventListener("orientationchange",o)}},[]),O9(e,["hours","minutes","seconds"])?"portrait":n??r}function sq(e){const{props:n,valueManager:r,validator:s}=e,{value:o,defaultValue:i,onChange:l,referenceDate:d,timezone:u,onAccept:h,closeOnSelect:f,open:m,onOpen:g,onClose:y}=n,{current:b}=x.useRef(i),{current:w}=x.useRef(o!==void 0),{current:v}=x.useRef(m!==void 0),I=Vt(),{timezone:S,value:D,handleValueChange:T}=oa({name:"a picker component",timezone:u,value:o,defaultValue:b,referenceDate:d,onChange:l,valueManager:r}),[E,R]=x.useState(()=>({open:!1,lastExternalValue:D,clockShallowValue:void 0,lastCommittedValue:D,hasBeenModifiedSinceMount:!1})),{getValidationErrorForNewValue:O}=$1({props:n,validator:s,timezone:S,value:D,onError:n.onError}),k=Ue($=>{const Y=typeof $=="function"?$(E.open):$;v||R(J=>V({},J,{open:Y})),Y&&g&&g(),Y||y==null||y()}),N=Ue(($,Y)=>{const{changeImportance:J="accept",skipPublicationIfPristine:G=!1,validationError:q,shortcut:Q,shouldClose:z=J==="accept"}=Y??{};let oe,U;!G&&!w&&!E.hasBeenModifiedSinceMount?(oe=!0,U=J==="accept"):(oe=!r.areValuesEqual(I,$,D),U=J==="accept"&&!r.areValuesEqual(I,$,E.lastCommittedValue)),R(pe=>V({},pe,{clockShallowValue:oe?void 0:pe.clockShallowValue,lastCommittedValue:U?D:pe.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let ee=null;const Pe=()=>(ee||(ee={validationError:q??O($)},Q&&(ee.shortcut=Q)),ee);oe&&T($,Pe()),U&&h&&h($,Pe()),z&&k(!1)});D!==E.lastExternalValue&&R($=>V({},$,{lastExternalValue:D,clockShallowValue:void 0,hasBeenModifiedSinceMount:!0}));const B=Ue(($,Y="partial")=>{if(Y==="shallow"){R(J=>V({},J,{clockShallowValue:$,hasBeenModifiedSinceMount:!0}));return}N($,{changeImportance:Y==="finish"&&f?"accept":"set"})});x.useEffect(()=>{if(v){if(m===void 0)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");R($=>V({},$,{open:m}))}},[v,m]);const K=x.useMemo(()=>r.cleanValue(I,E.clockShallowValue===void 0?D:E.clockShallowValue),[I,r,E.clockShallowValue,D]);return{timezone:S,state:E,setValue:N,setValueFromView:B,setOpen:k,value:D,viewValue:K}}const oq=["className","sx"],lC=({ref:e,props:n,valueManager:r,valueType:s,variant:o,validator:i,onPopperExited:l,autoFocusView:d,rendererInterceptor:u,localeText:h,viewContainerRole:f,getStepNavigation:m})=>{const{views:g,view:y,openTo:b,onViewChange:w,viewRenderers:v,reduceAnimations:I,orientation:S,disableOpenPicker:D,closeOnSelect:T,disabled:E,readOnly:R,formatDensity:O,enableAccessibleFieldDOMStructure:k,selectedSections:N,onSelectedSectionsChange:B,format:K,label:$,autoFocus:Y,name:J}=n,{className:G,sx:q}=n,Q=at(n,oq),z=Yd(),oe=Vt(),U=sa(),ee=oC(I),Pe=rq(g,S),{current:pe}=x.useRef(b??null),[Re,ce]=x.useState(null),re=x.useRef(null),je=x.useRef(null),Oe=x.useRef(null),ye=or(e,Oe),{timezone:ie,state:ae,setOpen:se,setValue:xe,setValueFromView:he,value:ke,viewValue:Ee}=sq({props:n,valueManager:r,validator:i}),{view:Ye,setView:fe,defaultView:Se,focusedView:X,setFocusedView:L,setValueAndGoToNextView:_e,goToNextStep:Ve,hasNextStep:hn,hasSeveralSteps:Ft}=Kd({view:y,views:g,openTo:b,onChange:he,onViewChange:w,autoFocus:d,getStepNavigation:m}),Rt=Ue(()=>xe(r.emptyValue)),Zt=Ue(()=>xe(r.getTodayValue(oe,ie,s))),Fn=Ue(()=>xe(ke)),ut=Ue(()=>xe(ae.lastCommittedValue,{skipPublicationIfPristine:!0})),gt=Ue(()=>{xe(ke,{skipPublicationIfPristine:!0})}),{hasUIView:kt,viewModeLookup:Yt,timeViewsCount:An}=x.useMemo(()=>g.reduce((jn,Ir)=>{const yl=v[Ir]==null?"field":"UI";return jn.viewModeLookup[Ir]=yl,yl==="UI"&&(jn.hasUIView=!0,rl(Ir)&&(jn.timeViewsCount+=1)),jn},{hasUIView:!1,viewModeLookup:{},timeViewsCount:0}),[v,g]),mn=Yt[Ye],Qn=Ue(()=>mn),[vn,Pt]=x.useState(mn==="UI"?Ye:null);vn!==Ye&&Yt[Ye]==="UI"&&Pt(Ye),ts(()=>{mn==="field"&&ae.open&&(se(!1),setTimeout(()=>{var jn,Ir;(jn=je==null?void 0:je.current)==null||jn.setSelectedSections(Ye),(Ir=je==null?void 0:je.current)==null||Ir.focusField(Ye)}))},[Ye]),ts(()=>{if(!ae.open)return;let jn=Ye;mn==="field"&&vn!=null&&(jn=vn),jn!==Se&&Yt[jn]==="UI"&&Yt[Se]==="UI"&&(jn=Se),jn!==Ye&&fe(jn),L(jn,!0)},[ae.open]);const Rn=x.useMemo(()=>({isPickerValueEmpty:r.areValuesEqual(oe,ke,r.emptyValue),isPickerOpen:ae.open,isPickerDisabled:n.disabled??!1,isPickerReadOnly:n.readOnly??!1,pickerOrientation:Pe,pickerVariant:o}),[oe,r,ke,ae.open,Pe,o,n.disabled,n.readOnly]),zn=x.useMemo(()=>D||!kt?"hidden":E||R?"disabled":"enabled",[D,kt,E,R]),Pr=Ue(Ve),To=x.useMemo(()=>T&&!Ft?[]:["cancel","nextOrAccept"],[T,Ft]),ar=x.useMemo(()=>({setValue:xe,setOpen:se,clearValue:Rt,setValueToToday:Zt,acceptValueChanges:Fn,cancelValueChanges:ut,setView:fe,goToNextStep:Pr}),[xe,se,Rt,Zt,Fn,ut,fe,Pr]),tu=x.useMemo(()=>V({},ar,{value:ke,timezone:ie,open:ae.open,views:g,view:vn,initialView:pe,disabled:E??!1,readOnly:R??!1,autoFocus:Y??!1,variant:o,orientation:Pe,popupRef:re,reduceAnimations:ee,triggerRef:ce,triggerStatus:zn,hasNextStep:hn,fieldFormat:K??"",name:J,label:$,rootSx:q,rootRef:ye,rootClassName:G}),[ar,ke,ye,o,Pe,ee,E,R,K,G,J,$,q,zn,hn,ie,ae.open,vn,g,pe,Y]),nu=x.useMemo(()=>({dismissViews:gt,ownerState:Rn,hasUIView:kt,getCurrentViewMode:Qn,rootRefObject:Oe,labelId:z,triggerElement:Re,viewContainerRole:f,defaultActionBarActions:To,onPopperExited:l}),[gt,Rn,kt,Qn,z,Re,f,To,l]),ru=x.useMemo(()=>({formatDensity:O,enableAccessibleFieldDOMStructure:k,selectedSections:N,onSelectedSectionsChange:B,fieldRef:je}),[O,k,N,B,je]);return{providerProps:{localeText:h,contextValue:tu,privateContextValue:nu,actionsContextValue:ar,fieldPrivateContextValue:ru,isValidContextValue:jn=>{const Ir=i({adapter:U,value:jn,timezone:ie,props:n});return!r.hasError(Ir)}},renderCurrentView:()=>{if(vn==null)return null;const jn=v[vn];if(jn==null)return null;const Ir=V({},Q,{views:g,timezone:ie,value:Ee,onChange:_e,view:vn,onViewChange:fe,showViewSwitcher:An>1,timeViewsCount:An},f==="tooltip"?{focusedView:null,onFocusedViewChange:()=>{}}:{focusedView:X,onFocusedViewChange:L});return u?t.jsx(u,{viewRenderers:v,popperView:vn,rendererProps:Ir}):jn(Ir)},ownerState:Rn}};function cC(e){return un("MuiPickersLayout",e)}const cs=pn("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),aq=["actions"],iq=Me(Jt,{name:"MuiPickersLayout",slot:"ActionBar"})({});function lq(e){const{actions:n}=e,r=at(e,aq),s=vs(),{clearValue:o,setValueToToday:i,acceptValueChanges:l,cancelValueChanges:d,goToNextStep:u,hasNextStep:h}=Io();if(n==null||n.length===0)return null;const f=n==null?void 0:n.map(m=>{switch(m){case"clear":return t.jsx(ue,{onClick:o,children:s.clearButtonLabel},m);case"cancel":return t.jsx(ue,{onClick:d,children:s.cancelButtonLabel},m);case"accept":return t.jsx(ue,{onClick:l,children:s.okButtonLabel},m);case"today":return t.jsx(ue,{onClick:i,children:s.todayButtonLabel},m);case"next":return t.jsx(ue,{onClick:u,children:s.nextStepButtonLabel},m);case"nextOrAccept":return h?t.jsx(ue,{onClick:u,children:s.nextStepButtonLabel},m):t.jsx(ue,{onClick:l,children:s.okButtonLabel},m);default:return null}});return t.jsx(iq,V({},r,{children:f}))}const cq=x.memo(lq),dq=["items","changeImportance"],uq=["getValue"],hq=Me(fr,{name:"MuiPickersLayout",slot:"Shortcuts"})({});function fq(e){const{items:n,changeImportance:r="accept"}=e,s=at(e,dq),{setValue:o}=g7(),i=e9();if(n==null||n.length===0)return null;const l=n.map(d=>{let{getValue:u}=d,h=at(d,uq);const f=u({isValid:i});return V({},h,{label:h.label,onClick:()=>{o(f,{changeImportance:r,shortcut:h})},disabled:!i(f)})});return t.jsx(hq,V({dense:!0,sx:[{maxHeight:Ka,maxWidth:200,overflow:"auto"},...Array.isArray(s.sx)?s.sx:[s.sx]]},s,{children:l.map(d=>t.jsx(rr,{children:t.jsx(Qe,V({},d))},d.id??d.label))}))}const pq=["ownerState"];function mq(e){return e.view!==null}const xq=(e,n)=>{const{pickerOrientation:r}=n;return Qt({root:["root",r==="landscape"&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},cC,e)},dC=e=>{const{ownerState:n,defaultActionBarActions:r}=En(),{view:s}=Io(),o=Os(),{children:i,slots:l,slotProps:d,classes:u}=e,h=x.useMemo(()=>V({},n,{layoutDirection:o?"rtl":"ltr"}),[n,o]),f=xq(u,h),m=(l==null?void 0:l.actionBar)??cq,g=Lt({elementType:m,externalSlotProps:d==null?void 0:d.actionBar,additionalProps:{actions:r},className:f.actionBar,ownerState:h}),y=at(g,pq),b=t.jsx(m,V({},y)),w=l==null?void 0:l.toolbar,v=Lt({elementType:w,externalSlotProps:d==null?void 0:d.toolbar,className:f.toolbar,ownerState:h}),I=mq(v)&&w?t.jsx(w,V({},v)):null,S=i,D=l==null?void 0:l.tabs,T=s&&D?t.jsx(D,V({className:f.tabs},d==null?void 0:d.tabs)):null,E=(l==null?void 0:l.shortcuts)??fq,R=Lt({elementType:E,externalSlotProps:d==null?void 0:d.shortcuts,className:f.shortcuts,ownerState:h}),O=s&&E?t.jsx(E,V({},R)):null;return{toolbar:I,content:S,tabs:T,actionBar:b,shortcuts:O,ownerState:h}},gq=(e,n)=>{const{pickerOrientation:r}=n;return Qt({root:["root",r==="landscape"&&"landscape"],contentWrapper:["contentWrapper"]},cC,e)},uC=Me("div",{name:"MuiPickersLayout",slot:"Root"})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${cs.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{pickerOrientation:"landscape"},style:{[`& .${cs.toolbar}`]:{gridColumn:1,gridRow:"2 / 3"},[`.${cs.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{pickerOrientation:"landscape",layoutDirection:"rtl"},style:{[`& .${cs.toolbar}`]:{gridColumn:3}}},{props:{pickerOrientation:"portrait"},style:{[`& .${cs.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${cs.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{pickerOrientation:"portrait",layoutDirection:"rtl"},style:{[`& .${cs.shortcuts}`]:{gridColumn:3}}}]}),hC=Me("div",{name:"MuiPickersLayout",slot:"ContentWrapper"})({gridColumn:"2 / 4",gridRow:2,display:"flex",flexDirection:"column"}),fC=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersLayout"}),{toolbar:o,content:i,tabs:l,actionBar:d,shortcuts:u,ownerState:h}=dC(s),{orientation:f,variant:m}=Io(),{sx:g,className:y,classes:b}=s,w=gq(b,h);return t.jsxs(uC,{ref:r,sx:g,className:nn(w.root,y),ownerState:h,children:[f==="landscape"?u:o,f==="landscape"?o:u,t.jsx(hC,{className:w.contentWrapper,ownerState:h,children:m==="desktop"?t.jsxs(x.Fragment,{children:[i,l]}):t.jsxs(x.Fragment,{children:[l,i]})}),d]})});function pC(e){const{steps:n}=e;return h9({steps:n,isViewMatchingStep:(r,s)=>s.views==null||s.views.includes(r),onStepChange:({step:r,defaultView:s,setView:o,view:i,views:l})=>{const d=r.views==null?s:r.views.find(u=>l.includes(u));d!==i&&o(d)}})}const bq=["props","steps"],yq=["ownerState"],vq=e=>{var R;let{props:n,steps:r}=e,s=at(e,bq);const{slots:o,slotProps:i,label:l,inputRef:d,localeText:u}=n,h=pC({steps:r}),{providerProps:f,renderCurrentView:m,ownerState:g}=lC(V({},s,{props:n,localeText:u,autoFocusView:!0,viewContainerRole:"dialog",variant:"desktop",getStepNavigation:h})),y=f.privateContextValue.labelId,b=((R=i==null?void 0:i.toolbar)==null?void 0:R.hidden)??!1,w=o.field,v=Lt({elementType:w,externalSlotProps:i==null?void 0:i.field,additionalProps:V({},b&&{id:y}),ownerState:g}),I=at(v,yq),S=o.layout??fC;let D=y;b&&(l?D=`${y}-label`:D=void 0);const T=V({},i,{toolbar:V({},i==null?void 0:i.toolbar,{titleId:y}),popper:V({"aria-labelledby":D},i==null?void 0:i.popper)});return{renderPicker:()=>t.jsx(y1,V({},f,{children:t.jsxs(Q1,{slots:o,slotProps:T,inputRef:d,children:[t.jsx(w,V({},I)),t.jsx(nq,{slots:o,slotProps:T,children:t.jsx(S,V({},T==null?void 0:T.layout,{slots:o,slotProps:T,children:m()}))})]})}))}},Oa=({view:e,onViewChange:n,views:r,focusedView:s,onFocusedViewChange:o,value:i,defaultValue:l,referenceDate:d,onChange:u,className:h,classes:f,disableFuture:m,disablePast:g,minDate:y,maxDate:b,shouldDisableDate:w,shouldDisableMonth:v,shouldDisableYear:I,reduceAnimations:S,onMonthChange:D,monthsPerRow:T,onYearChange:E,yearsOrder:R,yearsPerRow:O,slots:k,slotProps:N,loading:B,renderLoading:K,disableHighlightToday:$,readOnly:Y,disabled:J,showDaysOutsideCurrentMonth:G,dayOfWeekFormatter:q,sx:Q,autoFocus:z,fixedWeekNumber:oe,displayWeekNumber:U,timezone:ee})=>t.jsx(WY,{view:e,onViewChange:n,views:r.filter(Xa),focusedView:s&&Xa(s)?s:null,onFocusedViewChange:o,value:i,defaultValue:l,referenceDate:d,onChange:u,className:h,classes:f,disableFuture:m,disablePast:g,minDate:y,maxDate:b,shouldDisableDate:w,shouldDisableMonth:v,shouldDisableYear:I,reduceAnimations:S,onMonthChange:D,monthsPerRow:T,onYearChange:E,yearsOrder:R,yearsPerRow:O,slots:k,slotProps:N,loading:B,renderLoading:K,disableHighlightToday:$,readOnly:Y,disabled:J,showDaysOutsideCurrentMonth:G,dayOfWeekFormatter:q,sx:Q,autoFocus:z,fixedWeekNumber:oe,displayWeekNumber:U,timezone:ee}),jq=Me(Kt)({[`& .${ay.container}`]:{outline:0},[`& .${ay.paper}`]:{outline:0,minWidth:qa}}),wq=Me(Xt)({"&:first-of-type":{padding:0}});function Sq(e){const{children:n,slots:r,slotProps:s}=e,{open:o}=Io(),{dismissViews:i,onPopperExited:l}=En(),d=(r==null?void 0:r.dialog)??jq,u=(r==null?void 0:r.mobileTransition)??gd;return t.jsx(d,V({open:o,onClose:()=>{i(),l==null||l()}},s==null?void 0:s.dialog,{TransitionComponent:u,TransitionProps:s==null?void 0:s.mobileTransition,PaperComponent:r==null?void 0:r.mobilePaper,PaperProps:s==null?void 0:s.mobilePaper,children:t.jsx(wq,{children:n})}))}const Cq=["props","steps"],Pq=["ownerState"],Iq=e=>{var R;let{props:n,steps:r}=e,s=at(e,Cq);const{slots:o,slotProps:i,label:l,inputRef:d,localeText:u}=n,h=pC({steps:r}),{providerProps:f,renderCurrentView:m,ownerState:g}=lC(V({},s,{props:n,localeText:u,autoFocusView:!0,viewContainerRole:"dialog",variant:"mobile",getStepNavigation:h})),y=f.privateContextValue.labelId,b=((R=i==null?void 0:i.toolbar)==null?void 0:R.hidden)??!1,w=o.field,v=Lt({elementType:w,externalSlotProps:i==null?void 0:i.field,additionalProps:V({},b&&{id:y}),ownerState:g}),I=at(v,Pq),S=o.layout??fC;let D=y;b&&(l?D=`${y}-label`:D=void 0);const T=V({},i,{toolbar:V({},i==null?void 0:i.toolbar,{titleId:y}),mobilePaper:V({"aria-labelledby":D},i==null?void 0:i.mobilePaper)});return{renderPicker:()=>t.jsx(y1,V({},f,{children:t.jsxs(Q1,{slots:o,slotProps:T,inputRef:d,children:[t.jsx(w,V({},I)),t.jsx(Sq,{slots:o,slotProps:T,children:t.jsx(S,V({},T==null?void 0:T.layout,{slots:o,slotProps:T,children:m()}))})]})}))}};function Dq(e){return un("MuiPickersToolbarText",e)}const Tq=pn("MuiPickersToolbarText",["root"]),Eq=["className","classes","selected","value"],Aq=e=>Qt({root:["root"]},Dq,e),Rq=Me(j,{name:"MuiPickersToolbarText",slot:"Root"})(({theme:e})=>({transition:e.transitions.create("color"),color:(e.vars||e).palette.text.secondary,"&[data-selected]":{color:(e.vars||e).palette.text.primary}})),mC=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersToolbarText"}),{className:o,classes:i,selected:l,value:d}=s,u=at(s,Eq),h=Aq(i);return t.jsx(Rq,V({ref:r,className:nn(h.root,o),component:"span",ownerState:s},l&&{"data-selected":!0},u,{children:d}))}),kq=["align","className","classes","selected","typographyClassName","value","variant","width"],_q=e=>Qt({root:["root"]},aC,e),Oq=Me(ue,{name:"MuiPickersToolbarButton",slot:"Root"})({padding:0,minWidth:16,textTransform:"none"}),fo=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersToolbarButton"}),{align:o,className:i,classes:l,selected:d,typographyClassName:u,value:h,variant:f,width:m}=s,g=at(s,kq),y=_q(l);return t.jsx(Oq,V({variant:"text",ref:r,className:nn(y.root,i),ownerState:s},m?{sx:{width:m}}:{},g,{children:t.jsx(mC,{align:o,className:u,variant:f,value:h,selected:d})}))}),xC=({view:e,onViewChange:n,focusedView:r,onFocusedViewChange:s,views:o,value:i,defaultValue:l,referenceDate:d,onChange:u,className:h,classes:f,disableFuture:m,disablePast:g,minTime:y,maxTime:b,shouldDisableTime:w,minutesStep:v,ampm:I,slots:S,slotProps:D,readOnly:T,disabled:E,sx:R,autoFocus:O,disableIgnoringDatePartForTimeValidation:k,timeSteps:N,skipDisabled:B,timezone:K})=>t.jsx(V9,{view:e,onViewChange:n,focusedView:r&&rl(r)?r:null,onFocusedViewChange:s,views:o.filter(rl),value:i,defaultValue:l,referenceDate:d,onChange:u,className:h,classes:f,disableFuture:m,disablePast:g,minTime:y,maxTime:b,shouldDisableTime:w,minutesStep:v,ampm:I,slots:S,slotProps:D,readOnly:T,disabled:E,sx:R,autoFocus:O,disableIgnoringDatePartForTimeValidation:k,timeStep:N==null?void 0:N.minutes,skipDisabled:B,timezone:K}),fd=({view:e,onViewChange:n,focusedView:r,onFocusedViewChange:s,views:o,value:i,defaultValue:l,referenceDate:d,onChange:u,className:h,classes:f,disableFuture:m,disablePast:g,minTime:y,maxTime:b,shouldDisableTime:w,minutesStep:v,ampm:I,slots:S,slotProps:D,readOnly:T,disabled:E,sx:R,autoFocus:O,disableIgnoringDatePartForTimeValidation:k,timeSteps:N,skipDisabled:B,timezone:K})=>t.jsx(t7,{view:e,onViewChange:n,focusedView:r&&Ia(r)?r:null,onFocusedViewChange:s,views:o.filter(rl),value:i,defaultValue:l,referenceDate:d,onChange:u,className:h,classes:f,disableFuture:m,disablePast:g,minTime:y,maxTime:b,shouldDisableTime:w,minutesStep:v,ampm:I,slots:S,slotProps:D,readOnly:T,disabled:E,sx:R,autoFocus:O,disableIgnoringDatePartForTimeValidation:k,timeSteps:N,skipDisabled:B,timezone:K}),Mq=["views","format"],gC=(e,n,r)=>{let{views:s,format:o}=n,i=at(n,Mq);if(o)return o;const l=[],d=[];if(s.forEach(f=>{rl(f)?d.push(f):Xa(f)&&l.push(f)}),d.length===0)return ev(e,V({views:l},i));if(l.length===0)return Z0(e,V({views:d},i));const u=Z0(e,V({views:d},i));return`${ev(e,V({views:l},i))} ${u}`},Nq=(e,n,r)=>r?n.filter(s=>!Ia(s)||s==="hours"):e?[...n,"meridiem"]:n,Lq=(e,n)=>24*60/((e.hours??1)*(e.minutes??5))<=n;function $q({thresholdToRenderTimeInASingleColumn:e,ampm:n,timeSteps:r,views:s}){const o=e??24,i=V({hours:1,minutes:5,seconds:5},r),l=Lq(i,o);return{thresholdToRenderTimeInASingleColumn:o,timeSteps:i,shouldRenderTimeInASingleColumn:l,views:Nq(n,s,l)}}function Fq(e){return un("MuiDateTimePickerTabs",e)}pn("MuiDateTimePickerTabs",["root"]);const Bq=e=>Xa(e)?"date":"time",Wq=e=>e==="date"?"day":"hours",Uq=e=>Qt({root:["root"]},Fq,e),Vq=Me(_s,{name:"MuiDateTimePickerTabs",slot:"Root"})(({theme:e})=>({boxShadow:`0 -1px 0 0 inset ${(e.vars||e).palette.divider}`,"&:last-child":{boxShadow:`0 1px 0 0 inset ${(e.vars||e).palette.divider}`,[`& .${UR.indicator}`]:{bottom:"auto",top:0}}})),zq=function(n){const r=Gt({props:n,name:"MuiDateTimePickerTabs"}),{dateIcon:s=t.jsx(XH,{}),timeIcon:o=t.jsx(JH,{}),hidden:i=typeof window>"u"||window.innerHeight<667,className:l,classes:d,sx:u}=r,h=vs(),{ownerState:f}=En(),{view:m,setView:g}=Io(),y=Uq(d),b=(w,v)=>{g(Wq(v))};return i?null:t.jsxs(Vq,{ownerState:f,variant:"fullWidth",value:Bq(m),onChange:b,className:nn(l,y.root),sx:u,children:[t.jsx(On,{value:"date","aria-label":h.dateTableLabel,icon:t.jsx(x.Fragment,{children:s})}),t.jsx(On,{value:"time","aria-label":h.timeTableLabel,icon:t.jsx(x.Fragment,{children:o})})]})};function Hq(e){return un("MuiDateTimePickerToolbar",e)}const Jh=pn("MuiDateTimePickerToolbar",["root","dateContainer","timeContainer","timeDigitsContainer","separator","timeLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),Gq=["ampm","ampmInClock","toolbarFormat","toolbarPlaceholder","toolbarTitle","className","classes"],Yq=(e,n)=>{const{pickerOrientation:r,toolbarDirection:s}=n;return Qt({root:["root"],dateContainer:["dateContainer"],timeContainer:["timeContainer",s==="rtl"&&"timeLabelReverse"],timeDigitsContainer:["timeDigitsContainer",s==="rtl"&&"timeLabelReverse"],separator:["separator"],ampmSelection:["ampmSelection",r==="landscape"&&"ampmLandscape"],ampmLabel:["ampmLabel"]},Hq,e)},qq=Me(YY,{name:"MuiDateTimePickerToolbar",slot:"Root",shouldForwardProp:e=>Qs(e)&&e!=="toolbarVariant"})(({theme:e})=>({paddingLeft:16,paddingRight:16,justifyContent:"space-around",position:"relative",variants:[{props:{toolbarVariant:"desktop"},style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,[`& .${UY.content} .${Tq.root}[data-selected]`]:{color:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightBold}}},{props:{toolbarVariant:"desktop",pickerOrientation:"landscape"},style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:{toolbarVariant:"desktop",pickerOrientation:"portrait"},style:{paddingLeft:24,paddingRight:0}}]})),Kq=Me("div",{name:"MuiDateTimePickerToolbar",slot:"DateContainer"})({display:"flex",flexDirection:"column",alignItems:"flex-start"}),Xq=Me("div",{name:"MuiDateTimePickerToolbar",slot:"TimeContainer",shouldForwardProp:e=>Qs(e)&&e!=="toolbarVariant"})({display:"flex",flexDirection:"row",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop",pickerOrientation:"portrait"},style:{gap:9,marginRight:4,alignSelf:"flex-end"}},{props:({pickerOrientation:e,toolbarVariant:n})=>e==="landscape"&&n!=="desktop",style:{flexDirection:"column"}},{props:({pickerOrientation:e,toolbarVariant:n,toolbarDirection:r})=>e==="landscape"&&n!=="desktop"&&r==="rtl",style:{flexDirection:"column-reverse"}}]}),Jq=Me("div",{name:"MuiDateTimePickerToolbar",slot:"TimeDigitsContainer",shouldForwardProp:e=>Qs(e)&&e!=="toolbarVariant"})({display:"flex",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop"},style:{gap:1.5}}]}),xv=Me(mC,{name:"MuiDateTimePickerToolbar",slot:"Separator",shouldForwardProp:e=>Qs(e)&&e!=="toolbarVariant"})({margin:"0 4px 0 2px",cursor:"default",variants:[{props:{toolbarVariant:"desktop"},style:{margin:0}}]}),Qq=Me("div",{name:"MuiDateTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(e,n)=>[{[`.${Jh.ampmLabel}`]:n.ampmLabel},{[`&.${Jh.ampmLandscape}`]:n.ampmLandscape},n.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${Jh.ampmLabel}`]:{fontSize:17},variants:[{props:{pickerOrientation:"landscape"},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",width:"100%"}}]}),Zq=x.createContext(null);function eK(e){const n=Gt({props:e,name:"MuiDateTimePickerToolbar"}),{ampm:r,ampmInClock:s,toolbarFormat:o,toolbarPlaceholder:i="",toolbarTitle:l,className:d,classes:u}=n,h=at(n,Gq),{value:f,setValue:m,disabled:g,readOnly:y,variant:b,orientation:w,view:v,setView:I,views:S}=Io(),D=vs(),T=iC(),E=Yq(u,T),R=Vt(),O=x.useContext(Zq),k=O?O.value:f,N=O?O.setValue:m,B=O?O.view:v,K=O?O.setView:I,{meridiemMode:$,handleMeridiemChange:Y}=w1(k,r,U=>N(U,{changeImportance:"set"})),J=O!=null&&O.forceDesktopVariant?"desktop":b,G=J==="desktop",q=!!(r&&!s),Q=l??D.dateTimePickerToolbarTitle,z=x.useMemo(()=>R.isValid(k)?o?R.formatByString(k,o):R.format(k,"shortDate"):i,[k,o,i,R]),oe=(U,ee)=>R.isValid(k)?R.format(k,U):ee;return t.jsxs(qq,V({className:nn(E.root,d),toolbarTitle:Q,toolbarVariant:J},h,{ownerState:T,children:[t.jsxs(Kq,{className:E.dateContainer,ownerState:T,children:[S.includes("year")&&t.jsx(fo,{tabIndex:-1,variant:"subtitle1",onClick:()=>K("year"),selected:B==="year",value:oe("year","")}),S.includes("day")&&t.jsx(fo,{tabIndex:-1,variant:G?"h5":"h4",onClick:()=>K("day"),selected:B==="day",value:z})]}),t.jsxs(Xq,{className:E.timeContainer,ownerState:T,toolbarVariant:J,children:[t.jsxs(Jq,{className:E.timeDigitsContainer,ownerState:T,toolbarVariant:J,children:[S.includes("hours")&&t.jsxs(x.Fragment,{children:[t.jsx(fo,{variant:G?"h5":"h3",width:G&&w==="portrait"?Oi:void 0,onClick:()=>K("hours"),selected:B==="hours",value:oe(r?"hours12h":"hours24h","--")}),t.jsx(xv,{variant:G?"h5":"h3",value:":",className:E.separator,ownerState:T,toolbarVariant:J}),t.jsx(fo,{variant:G?"h5":"h3",width:G&&w==="portrait"?Oi:void 0,onClick:()=>K("minutes"),selected:B==="minutes"||!S.includes("minutes")&&B==="hours",value:oe("minutes","--"),disabled:!S.includes("minutes")})]}),S.includes("seconds")&&t.jsxs(x.Fragment,{children:[t.jsx(xv,{variant:G?"h5":"h3",value:":",className:E.separator,ownerState:T,toolbarVariant:J}),t.jsx(fo,{variant:G?"h5":"h3",width:G&&w==="portrait"?Oi:void 0,onClick:()=>K("seconds"),selected:B==="seconds",value:oe("seconds","--")})]})]}),q&&!G&&t.jsxs(Qq,{className:E.ampmSelection,ownerState:T,children:[t.jsx(fo,{variant:"subtitle2",selected:$==="am",typographyClassName:E.ampmLabel,value:Wi(R,"am"),onClick:y?void 0:()=>Y("am"),disabled:g}),t.jsx(fo,{variant:"subtitle2",selected:$==="pm",typographyClassName:E.ampmLabel,value:Wi(R,"pm"),onClick:y?void 0:()=>Y("pm"),disabled:g})]}),r&&G&&t.jsx(fo,{variant:"h5",onClick:()=>K("meridiem"),selected:B==="meridiem",value:k&&$?Wi(R,$):"--",width:Oi})]})]}))}function bC(e,n){var y;const r=Vt(),s=Gt({props:e,name:n}),o=U1(s),i=s.ampm??r.is12HourCycleInCurrentLocale(),l=x.useMemo(()=>{var b;return((b=s.localeText)==null?void 0:b.toolbarTitle)==null?s.localeText:V({},s.localeText,{dateTimePickerToolbarTitle:s.localeText.toolbarTitle})},[s.localeText]),{openTo:d,views:u}=l9({views:s.views,openTo:s.openTo,defaultViews:["year","day","hours","minutes"],defaultOpenTo:"day"}),{shouldRenderTimeInASingleColumn:h,thresholdToRenderTimeInASingleColumn:f,views:m,timeSteps:g}=$q({thresholdToRenderTimeInASingleColumn:s.thresholdToRenderTimeInASingleColumn,ampm:i,timeSteps:s.timeSteps,views:u});return V({},s,o,{timeSteps:g,openTo:d,shouldRenderTimeInASingleColumn:h,thresholdToRenderTimeInASingleColumn:f,views:m,ampm:i,localeText:l,orientation:s.orientation??"portrait",slots:V({toolbar:eK,tabs:zq},s.slots),slotProps:V({},s.slotProps,{toolbar:V({ampm:i},(y=s.slotProps)==null?void 0:y.toolbar)})})}const tK=x.forwardRef(function(n,r){var b;const{toolbar:s,tabs:o,content:i,actionBar:l,shortcuts:d,ownerState:u}=dC(n),{orientation:h}=Io(),{sx:f,className:m,classes:g}=n,y=l&&(((b=l.props.actions)==null?void 0:b.length)??0)>0;return t.jsxs(uC,{ref:r,className:nn(cs.root,g==null?void 0:g.root,m),sx:[{[`& .${cs.tabs}`]:{gridRow:4,gridColumn:"1 / 4"},[`& .${cs.actionBar}`]:{gridRow:5}},...Array.isArray(f)?f:[f]],ownerState:u,children:[h==="landscape"?d:s,h==="landscape"?s:d,t.jsxs(hC,{className:nn(cs.contentWrapper,g==null?void 0:g.contentWrapper),ownerState:u,sx:{display:"grid"},children:[i,o,y&&t.jsx(Mt,{sx:{gridRow:3,gridColumn:"1 / 4"}})]}),l]})}),nK=["openTo","focusedView","timeViewsCount"],rK=function(n){var y,b;const{viewRenderers:r,popperView:s,rendererProps:o}=n,{openTo:i,focusedView:l,timeViewsCount:d}=o,u=at(o,nK),h=V({},u,{autoFocus:!1,focusedView:null,sx:[{[`&.${Rf.root}`]:{borderBottom:0},[`&.${Rf.root}, .${kf.root}, &.${Af.root}`]:{maxHeight:Ka}}]}),f=Ia(s),m=f?"day":s,g=f?s:"hours";return t.jsxs(x.Fragment,{children:[(y=r[m])==null?void 0:y.call(r,V({},o,{view:f?"day":s,focusedView:l&&Xa(l)?l:null,views:o.views.filter(Xa),sx:[{gridColumn:1},...h.sx]})),d>0&&t.jsxs(x.Fragment,{children:[t.jsx(Mt,{orientation:"vertical",sx:{gridColumn:2}}),(b=r[g])==null?void 0:b.call(r,V({},h,{view:f?s:"hours",focusedView:l&&Ia(l)?l:null,openTo:Ia(i)?i:"hours",views:o.views.filter(Ia),sx:[{gridColumn:3},...h.sx]}))]})]})},yC=x.forwardRef(function(n,r){var g,y,b;const s=Vt(),o=bC(n,"MuiDesktopDateTimePicker"),i=o.shouldRenderTimeInASingleColumn?xC:fd,l=V({day:Oa,month:Oa,year:Oa,hours:i,minutes:i,seconds:i,meridiem:i},o.viewRenderers),d=o.ampmInClock??!0,h=((g=l.hours)==null?void 0:g.name)===fd.name?o.views:o.views.filter(w=>w!=="meridiem"),f=V({},o,{viewRenderers:l,format:gC(s,o),views:h,yearsPerRow:o.yearsPerRow??4,ampmInClock:d,slots:V({field:Z1,layout:tK},o.slots),slotProps:V({},o.slotProps,{field:w=>{var v;return V({},nl((v=o.slotProps)==null?void 0:v.field,w),O1(o))},toolbar:V({hidden:!0,ampmInClock:d},(y=o.slotProps)==null?void 0:y.toolbar),tabs:V({hidden:!0},(b=o.slotProps)==null?void 0:b.tabs)})}),{renderPicker:m}=vq({ref:r,props:f,valueManager:pr,valueType:"date-time",validator:Qd,rendererInterceptor:rK,steps:null});return m()});yC.propTypes={ampm:ne.bool,ampmInClock:ne.bool,autoFocus:ne.bool,className:ne.string,closeOnSelect:ne.bool,dayOfWeekFormatter:ne.func,defaultValue:ne.object,disabled:ne.bool,disableFuture:ne.bool,disableHighlightToday:ne.bool,disableIgnoringDatePartForTimeValidation:ne.bool,disableOpenPicker:ne.bool,disablePast:ne.bool,displayWeekNumber:ne.bool,enableAccessibleFieldDOMStructure:ne.any,fixedWeekNumber:ne.number,format:ne.string,formatDensity:ne.oneOf(["dense","spacious"]),inputRef:d1,label:ne.node,loading:ne.bool,localeText:ne.object,maxDate:ne.object,maxDateTime:ne.object,maxTime:ne.object,minDate:ne.object,minDateTime:ne.object,minTime:ne.object,minutesStep:ne.number,monthsPerRow:ne.oneOf([3,4]),name:ne.string,onAccept:ne.func,onChange:ne.func,onClose:ne.func,onError:ne.func,onMonthChange:ne.func,onOpen:ne.func,onSelectedSectionsChange:ne.func,onViewChange:ne.func,onYearChange:ne.func,open:ne.bool,openTo:ne.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),orientation:ne.oneOf(["landscape","portrait"]),readOnly:ne.bool,reduceAnimations:ne.bool,referenceDate:ne.object,renderLoading:ne.func,selectedSections:ne.oneOfType([ne.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),ne.number]),shouldDisableDate:ne.func,shouldDisableMonth:ne.func,shouldDisableTime:ne.func,shouldDisableYear:ne.func,showDaysOutsideCurrentMonth:ne.bool,skipDisabled:ne.bool,slotProps:ne.object,slots:ne.object,sx:ne.oneOfType([ne.arrayOf(ne.oneOfType([ne.func,ne.object,ne.bool])),ne.func,ne.object]),thresholdToRenderTimeInASingleColumn:ne.number,timeSteps:ne.shape({hours:ne.number,minutes:ne.number,seconds:ne.number}),timezone:ne.string,value:ne.object,view:ne.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),viewRenderers:ne.shape({day:ne.func,hours:ne.func,meridiem:ne.func,minutes:ne.func,month:ne.func,seconds:ne.func,year:ne.func}),views:ne.arrayOf(ne.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:ne.oneOf(["asc","desc"]),yearsPerRow:ne.oneOf([3,4])};const sK=[{views:C1},{views:v1}],vC=x.forwardRef(function(n,r){var g,y,b,w,v,I;const s=Vt(),o=bC(n,"MuiMobileDateTimePicker"),i=o.shouldRenderTimeInASingleColumn?xC:fd,l=V({day:Oa,month:Oa,year:Oa,hours:i,minutes:i,seconds:i,meridiem:i},o.viewRenderers),d=o.ampmInClock??!1,h=((g=l.hours)==null?void 0:g.name)===fd.name?o.views:o.views.filter(S=>S!=="meridiem"),f=V({},o,{viewRenderers:l,format:gC(s,o),views:h,ampmInClock:d,slots:V({field:Z1},o.slots),slotProps:V({},o.slotProps,{field:S=>{var D;return V({},nl((D=o.slotProps)==null?void 0:D.field,S),O1(o))},toolbar:V({hidden:!1,ampmInClock:d},(y=o.slotProps)==null?void 0:y.toolbar),tabs:V({hidden:!1},(b=o.slotProps)==null?void 0:b.tabs),layout:V({},(w=o.slotProps)==null?void 0:w.layout,{sx:L9([{[`& .${Rf.root}`]:{width:qa},[`& .${kf.root}`]:{flex:1,maxHeight:Ka-1,[`.${kf.item}`]:{width:"auto"}},[`& .${Af.root}`]:{width:qa,maxHeight:Ka,flex:1,[`.${Af.item}`]:{justifyContent:"center"}}}],(I=(v=o.slotProps)==null?void 0:v.layout)==null?void 0:I.sx)})})}),{renderPicker:m}=Iq({ref:r,props:f,valueManager:pr,valueType:"date-time",validator:Qd,steps:sK});return m()});vC.propTypes={ampm:ne.bool,ampmInClock:ne.bool,autoFocus:ne.bool,className:ne.string,closeOnSelect:ne.bool,dayOfWeekFormatter:ne.func,defaultValue:ne.object,disabled:ne.bool,disableFuture:ne.bool,disableHighlightToday:ne.bool,disableIgnoringDatePartForTimeValidation:ne.bool,disableOpenPicker:ne.bool,disablePast:ne.bool,displayWeekNumber:ne.bool,enableAccessibleFieldDOMStructure:ne.any,fixedWeekNumber:ne.number,format:ne.string,formatDensity:ne.oneOf(["dense","spacious"]),inputRef:d1,label:ne.node,loading:ne.bool,localeText:ne.object,maxDate:ne.object,maxDateTime:ne.object,maxTime:ne.object,minDate:ne.object,minDateTime:ne.object,minTime:ne.object,minutesStep:ne.number,monthsPerRow:ne.oneOf([3,4]),name:ne.string,onAccept:ne.func,onChange:ne.func,onClose:ne.func,onError:ne.func,onMonthChange:ne.func,onOpen:ne.func,onSelectedSectionsChange:ne.func,onViewChange:ne.func,onYearChange:ne.func,open:ne.bool,openTo:ne.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),orientation:ne.oneOf(["landscape","portrait"]),readOnly:ne.bool,reduceAnimations:ne.bool,referenceDate:ne.object,renderLoading:ne.func,selectedSections:ne.oneOfType([ne.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),ne.number]),shouldDisableDate:ne.func,shouldDisableMonth:ne.func,shouldDisableTime:ne.func,shouldDisableYear:ne.func,showDaysOutsideCurrentMonth:ne.bool,skipDisabled:ne.bool,slotProps:ne.object,slots:ne.object,sx:ne.oneOfType([ne.arrayOf(ne.oneOfType([ne.func,ne.object,ne.bool])),ne.func,ne.object]),thresholdToRenderTimeInASingleColumn:ne.number,timeSteps:ne.shape({hours:ne.number,minutes:ne.number,seconds:ne.number}),timezone:ne.string,value:ne.object,view:ne.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),viewRenderers:ne.shape({day:ne.func,hours:ne.func,meridiem:ne.func,minutes:ne.func,month:ne.func,seconds:ne.func,year:ne.func}),views:ne.arrayOf(ne.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:ne.oneOf(["asc","desc"]),yearsPerRow:ne.oneOf([3,4])};const oK=["desktopModeMediaQuery"],gv=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiDateTimePicker"}),{desktopModeMediaQuery:o=N9}=s,i=at(s,oK);return il(o,{defaultMatches:!0})?t.jsx(yC,V({ref:r},i)):t.jsx(vC,V({ref:r},i))}),jC=({initialData:e,onSubmit:n,submitButtonText:r="Submit",isEdit:s})=>{var v,I;const{profile:o,channelRelations:{hasChannel:i}}=ys(),l=Ct(),[d,u]=x.useState({title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",startDate:(e==null?void 0:e.startDate)||new Date,endDate:(e==null?void 0:e.endDate)||new Date,channelId:(e==null?void 0:e.channelId)||"",options:(e==null?void 0:e.options)||[{text:""},{text:""}],media:(e==null?void 0:e.media)||[]}),[h,f]=x.useState(((v=e==null?void 0:e.media)==null?void 0:v.find(S=>S.type===n0.COVER))||null);x.useEffect(()=>{o&&(!o.staffChannels||o.staffChannels.length)},[o]);const m=(S,D)=>{u(T=>({...T,[S]:D}))},g=(S,D)=>{const T=[...d.options];T[S]={text:D},m("options",T)},y=()=>{m("options",[...d.options,{text:""}])},b=S=>{if(d.options.length<=2)return;const D=d.options.filter((T,E)=>E!==S);m("options",D)},w=S=>{S.preventDefault();const D={...d,media:h?[h]:[]};n(D)};return i()?t.jsx(C,{component:"form",onSubmit:w,children:t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,children:t.jsxs(ht,{fullWidth:!0,disabled:s,children:[t.jsx(St,{id:"channel-select-label",children:"Channel"}),t.jsx(mt,{labelId:"channel-select-label",value:d.channelId,label:"Channel",onChange:S=>m("channelId",S.target.value),required:!0,children:(I=o==null?void 0:o.staffChannels)==null?void 0:I.map(S=>t.jsx(we,{value:S.channelId,children:S.channel.name},S.id))})]})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(nt,{fullWidth:!0,label:"Poll Title",value:d.title,onChange:S=>m("title",S.target.value),required:!0})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(nt,{fullWidth:!0,label:"Description",value:d.description,onChange:S=>m("description",S.target.value),multiline:!0,rows:4})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(gv,{label:"Start Date",value:d.startDate,onChange:S=>m("startDate",S),sx:{width:"100%"}})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(gv,{label:"End Date",value:d.endDate,onChange:S=>m("endDate",S),sx:{width:"100%"}})}),t.jsx(F,{item:!0,xs:12,children:t.jsxs(ot,{sx:{p:3,mb:2},children:[t.jsx(j,{variant:"h6",sx:{mb:3},children:"Media"}),t.jsx(me,{spacing:4,children:t.jsx(C,{children:t.jsx(Yw,{title:"Cover Media",description:"Upload an image or short video that will be displayed with your poll and in previews.",value:h?{id:h.id||"0",url:h.url,type:h.type,format:h.format}:null,onChange:S=>f(S?{id:S.id,url:S.url,type:S.type,format:S.format,pollId:""}:null),mediaTypeId:n0.COVER,useNewsFormats:!1})})})]})}),t.jsx(F,{item:!0,xs:12,children:t.jsxs(ot,{sx:{p:2,mb:2},children:[t.jsx(j,{variant:"h6",sx:{mb:2},children:"Poll Options"}),d.options.map((S,D)=>t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(nt,{fullWidth:!0,label:`Option ${D+1}`,value:S.text,onChange:T=>g(D,T.target.value),required:!0,sx:{mr:1}}),t.jsx(Ne,{onClick:()=>b(D),disabled:d.options.length<=2,children:t.jsx(ra,{})})]},D)),t.jsx(ue,{startIcon:t.jsx(Hm,{}),onClick:y,variant:"outlined",size:"small",children:"Add Option"})]})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(ue,{type:"submit",variant:"contained",size:"large",fullWidth:!0,children:r})})]})}):t.jsx(C,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",p:3},children:t.jsx(Zs,{title:"Channel Required",description:"You need to create a channel before you can start creating polls.",icon:t.jsx(hl,{sx:{fontSize:48}}),action:{label:"Create Channel",onClick:()=>l(be.STUDIO_CHANNEL_CREATE)}})})},aK=()=>{const{api:e}=Ke(),n=Ct(),{execute:r}=tt(),s=async o=>{if(!o)return;await r(()=>e==null?void 0:e.studio.createPoll(o),{showSuccessMessage:!0,successMessage:"Poll created successfully!"})&&n(`${be.STUDIO_POLLS}`)};return t.jsxs(It,{sx:{maxWidth:800,mx:"auto",p:3},children:[t.jsx(j,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Create Poll"}),t.jsx(jC,{onSubmit:s,submitButtonText:"Create Poll"})]})},iK=()=>{const{id:e}=ns(),n=Ct(),{api:r}=Ke(),[s,o]=x.useState(null),{execute:i}=tt(),{execute:l}=tt();x.useEffect(()=>{(async()=>{if(!e)return;const h=await i(()=>r==null?void 0:r.app.poll.get(e),{showErrorToast:!0});h&&o(h)})()},[e,r==null?void 0:r.app.poll,i]);const d=async u=>{e&&(await l(()=>r==null?void 0:r.app.poll.update(e,u),{showSuccessMessage:!0,successMessage:"Poll updated successfully!"}),n(be.STUDIO_POLL_VIEW.replace(":id",e)))};return s?t.jsxs(It,{sx:{maxWidth:800,mx:"auto",p:3},children:[t.jsx(j,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Edit Poll"}),t.jsx(jC,{initialData:{title:s.title,description:s.description,startDate:s.startDate,endDate:s.endDate,channelId:s.channel.id,options:s.options.map(u=>({text:u.text,id:u.id}))},onSubmit:d,submitButtonText:"Update Poll"})]}):null},lK=({poll:e})=>{const n=cn(),r=e.statistics.totalVotes;return t.jsx(C,{children:e.options.map(s=>{const o=r>0?s.votes/r*100:0;return t.jsxs(C,{sx:{mb:2},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[t.jsx(j,{variant:"body1",children:s.text}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:[s.votes," votes (",o.toFixed(1),"%)"]})]}),t.jsx(La,{variant:"determinate",value:o,sx:{height:8,borderRadius:1,bgcolor:de(n.palette.primary.main,.1),"& .MuiLinearProgress-bar":{borderRadius:1,bgcolor:n.palette.primary.main}}})]},s.id)})})};var Rx={},cK=Xe;Object.defineProperty(Rx,"__esModule",{value:!0});var wC=Rx.default=void 0,dK=cK(Je()),uK=t;wC=Rx.default=(0,dK.default)((0,uK.jsx)("path",{d:"M18 13h-.68l-2 2h1.91L19 17H5l1.78-2h2.05l-2-2H6l-3 3v4c0 1.1.89 2 1.99 2H19c1.1 0 2-.89 2-2v-4zm-1-5.05-4.95 4.95-3.54-3.54 4.95-4.95zm-4.24-5.66L6.39 8.66c-.39.39-.39 1.02 0 1.41l4.95 4.95c.39.39 1.02.39 1.41 0l6.36-6.36c.39-.39.39-1.02 0-1.41L14.16 2.3c-.38-.4-1.01-.4-1.4-.01"}),"HowToVote");const hK=()=>t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsxs(C,{sx:{mb:3},children:[t.jsx(le,{variant:"text",width:"60%",height:40}),t.jsx(le,{variant:"text",width:"40%",height:24})]})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsx(le,{variant:"text",width:"50%",height:32,sx:{mb:2}}),t.jsx(me,{spacing:2,children:[1,2,3,4].map(e=>t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsx(le,{variant:"text",width:"60%"}),t.jsx(le,{variant:"text",width:"20%"})]}),t.jsx(le,{variant:"rectangular",width:"100%",height:20,sx:{borderRadius:1}})]},e))})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx(me,{spacing:3,children:[1,2].map(e=>t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsx(le,{variant:"text",width:"50%",height:24}),t.jsx(le,{variant:"text",width:"70%",height:40})]})},e))})})]})}),fK=()=>{var y;const{id:e}=ns(),{api:n}=Ke(),{execute:r}=tt(),[s,o]=x.useState(null),[i,l]=x.useState(!0),[d,u]=x.useState(!1);x.useEffect(()=>{(async()=>{if(e){l(!0);const w=await r(()=>n==null?void 0:n.app.poll.get(e),{showErrorToast:!0});w&&o(w),l(!1)}})()},[e,r]);const h=async b=>{if(!e)return;if(await r(()=>n==null?void 0:n.app.poll.convertToNews(e,b),{showSuccessMessage:!0,successMessage:"Poll converted to news successfully!"})){const v=await r(()=>n==null?void 0:n.app.poll.get(e),{showErrorToast:!0});v&&o(v)}};if(i)return t.jsx(hK,{});if(!s)return t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsx(j,{variant:"h4",children:"Poll not found"})});const f=new Date>=new Date(s.startDate)&&new Date<=new Date(s.endDate),m=new Date>=new Date(s.startDate),g=!s.isConverted&&!((y=s.stats)!=null&&y.hasEnded);return t.jsxs(It,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs(F,{container:!0,spacing:4,children:[t.jsxs(F,{item:!0,xs:12,children:[t.jsxs(C,{sx:{mb:3},children:[t.jsx(j,{variant:"h4",gutterBottom:!0,children:s.title}),t.jsx(j,{variant:"body1",color:"text.secondary",children:s.description})]}),t.jsxs(C,{sx:{display:"flex",gap:1,mb:3,alignItems:"center",justifyContent:"space-between"},children:[t.jsxs(C,{sx:{display:"flex",gap:1},children:[t.jsx(Qe,{label:f?"Active":m?"Ended":"Scheduled",color:f?"success":m?"error":"warning"}),s.isTrending&&t.jsx(Qe,{icon:t.jsx(dl,{}),label:"Trending",color:"primary"}),s.isConverted&&t.jsx(Qe,{icon:t.jsx(qi,{}),label:"Converted to News",color:"info"})]}),g&&t.jsx(ue,{variant:"contained",startIcon:t.jsx(qi,{}),onClick:()=>u(!0),size:"small",children:"Convert to News"})]})]}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Poll Results"}),t.jsx(lK,{poll:s})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(me,{spacing:3,children:[t.jsx(ot,{elevation:0,sx:{p:2,bgcolor:"primary.light",color:"primary.contrastText",borderRadius:2},children:t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(wC,{fontSize:"large"}),t.jsxs(C,{children:[t.jsx(j,{variant:"overline",children:"Total Votes"}),t.jsx(j,{variant:"h4",children:s.statistics.totalVotes})]})]})}),t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Time Frame"}),t.jsxs(me,{spacing:2,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"caption",color:"text.secondary",children:"Start Date"}),t.jsx(j,{children:new Date(s.startDate).toLocaleString()})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"caption",color:"text.secondary",children:"End Date"}),t.jsx(j,{children:new Date(s.endDate).toLocaleString()})]})]})]})})]})})]}),t.jsx(c1,{open:d,poll:s,onClose:()=>u(!1),onConvert:h})]})};function pK(e){const{children:n,value:r,index:s,...o}=e;return t.jsx("div",{role:"tabpanel",hidden:r!==s,id:`expense-order-tabpanel-${s}`,"aria-labelledby":`expense-order-tab-${s}`,...o,children:r===s&&t.jsx(C,{sx:{py:3},children:n})})}const mK=()=>{const e=Ct(),{api:n}=Ke(),[r,s]=x.useState(0),[o,i]=x.useState([]),[l,d]=x.useState(!0),{execute:u}=tt(),h=[{label:"All",status:void 0},{label:"Draft",status:et.DRAFT},{label:"Submitted",status:et.SUBMITTED},{label:"Approved",status:et.APPROVED},{label:"Paid",status:et.PAID},{label:"Rejected",status:et.REJECTED}],f=async I=>{d(!0);const S=await u(()=>n.app.expenseOrder.getMyExpenseOrders({page:1,limit:50},I),{showErrorToast:!0});S&&i(S.items),d(!1)};x.useEffect(()=>{f(h[r].status)},[r,u]);const m=(I,S)=>{s(S)},g=I=>{e(be.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",I.id))},y=I=>{e(be.STUDIO_EXPENSE_ORDER_EDIT.replace(":id",I.id))},b=async I=>{await u(()=>n.app.expenseOrder.submitExpenseOrder(I.id),{showSuccessMessage:!0,successMessage:"Expense order submitted successfully!"})&&f(h[r].status)},w=async I=>{await u(()=>n.app.expenseOrder.cancelExpenseOrder(I.id),{showSuccessMessage:!0,successMessage:"Expense order cancelled successfully!"})&&f(h[r].status)},v=()=>{e(be.STUDIO_EXPENSE_ORDER_CREATE)};return t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[t.jsx(j,{variant:"h4",component:"h1",sx:{fontWeight:600},children:"Expense Orders"}),t.jsx(ue,{variant:"contained",startIcon:t.jsx(vo,{}),onClick:v,children:"Create New"})]}),t.jsx(C,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:t.jsx(_s,{value:r,onChange:m,"aria-label":"expense order status tabs",children:h.map((I,S)=>t.jsx(On,{label:I.label},S))})}),h.map((I,S)=>t.jsx(pK,{value:r,index:S,children:l?t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(sn,{})}):o.length===0?t.jsxs(C,{sx:{textAlign:"center",py:8},children:[t.jsx(j,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"No expense orders found"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:I.status?`No ${I.label.toLowerCase()} expense orders`:"You haven't created any expense orders yet"}),t.jsx(ue,{variant:"contained",startIcon:t.jsx(vo,{}),onClick:v,children:"Create Your First Expense Order"})]}):t.jsx(F,{container:!0,spacing:3,children:o.map(D=>t.jsx(F,{item:!0,xs:12,md:6,lg:4,children:t.jsx(Nm,{expenseOrder:D,onView:g,onEdit:y,onSubmit:b,onCancel:w,userRole:"journalist"})},D.id))})},S))]})},xK=()=>{var h;const e=Ct(),{api:n}=Ke(),{profile:r}=ys(),{execute:s,loading:o}=tt(),i=((h=r==null?void 0:r.staffChannels)==null?void 0:h.map(f=>f.channel))||[],l=zw(),d=async f=>{const m=await s(()=>n.app.expenseOrder.createExpenseOrder(f),{showSuccessMessage:!0,successMessage:"Expense order created successfully!"});m&&e(be.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",m.id))},u=()=>{e(be.STUDIO_EXPENSE_ORDERS)};return t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(ue,{startIcon:t.jsx(As,{}),onClick:u,sx:{mr:2},children:"Back"}),t.jsx(j,{variant:"h4",component:"h1",sx:{fontWeight:600},children:"Create Expense Order"})]}),i.length===0&&!o?t.jsxs(C,{sx:{textAlign:"center",py:8,bgcolor:"background.paper",borderRadius:1},children:[t.jsx(j,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"No Channels Available"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"You need to be a member of at least one channel to create expense orders."})]}):t.jsx(Xw,{channels:i,expenseTypes:l,onSave:d,loading:o,isEdit:!1})]})},gK=()=>{var w;const e=Ct(),{id:n}=ns(),{api:r}=Ke(),{profile:s}=ys(),[o,i]=x.useState(null),[l,d]=x.useState(!0),{execute:u,loading:h}=tt(),f=((w=s==null?void 0:s.staffChannels)==null?void 0:w.map(v=>v.channel))||[],m=zw();x.useEffect(()=>{(async()=>{if(n)try{d(!0);const I=await u(()=>r.app.expenseOrder.getExpenseOrder(n),{showErrorToast:!0});I&&i(I)}finally{d(!1)}})()},[n,u]);const g=async v=>{if(!n)return;const I=await u(()=>r.app.expenseOrder.updateExpenseOrder(n,v),{showSuccessMessage:!0,successMessage:"Expense order updated successfully!"});I&&(i(I),e(be.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",I.id)))},y=async v=>{await u(()=>r.app.expenseOrder.submitExpenseOrder(v.id),{showSuccessMessage:!0,successMessage:"Expense order submitted successfully!"})&&e(be.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",v.id))},b=()=>{e(o?be.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",o.id):be.STUDIO_EXPENSE_ORDERS)};return l?t.jsx(C,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:t.jsx(sn,{})}):o?o.status!==et.DRAFT?t.jsx(C,{sx:{p:3},children:t.jsxs(C,{sx:{textAlign:"center",py:8,bgcolor:"background.paper",borderRadius:1},children:[t.jsx(j,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"Cannot Edit Expense Order"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"This expense order cannot be edited because it has already been submitted."}),t.jsx(ue,{startIcon:t.jsx(As,{}),onClick:b,children:"Back to Expense Order"})]})}):t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(ue,{startIcon:t.jsx(As,{}),onClick:b,sx:{mr:2},children:"Back"}),t.jsx(j,{variant:"h4",component:"h1",sx:{fontWeight:600},children:"Edit Expense Order"})]}),t.jsx(Xw,{expenseOrder:o,channels:f,expenseTypes:m,onSave:g,onSubmit:y,loading:h,isEdit:!0})]}):t.jsx(C,{sx:{p:3},children:t.jsxs(C,{sx:{textAlign:"center",py:8,bgcolor:"background.paper",borderRadius:1},children:[t.jsx(j,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"Expense Order Not Found"}),t.jsx(ue,{startIcon:t.jsx(As,{}),onClick:b,children:"Back"})]})})},bK=()=>{const e=Ct(),{id:n}=ns(),{api:r}=Ke(),[s,o]=x.useState(null),[i,l]=x.useState(!0),[d,u]=x.useState(!1),[h,f]=x.useState(null),[m,g]=x.useState(!1),[y,b]=x.useState(""),w=async()=>{if(n)try{l(!0),f(null);const k=await r.app.expenseOrder.getExpenseOrder(n);o(k)}catch(k){f(k.message||"Failed to fetch expense order")}finally{l(!1)}};x.useEffect(()=>{w()},[n]);const v=(k,N)=>new Intl.NumberFormat("en-US",{style:"currency",currency:N}).format(k),I=()=>{e(be.STUDIO_EXPENSE_ORDERS)},S=()=>{s&&e(be.STUDIO_EXPENSE_ORDER_EDIT.replace(":id",s.id))},D=async()=>{if(s){u(!0);try{await r.app.expenseOrder.submitExpenseOrder(s.id),await w()}catch(k){f(k.message||"Failed to submit expense order")}finally{u(!1)}}},T=async()=>{if(s){u(!0);try{await r.app.expenseOrder.cancelExpenseOrder(s.id,y),await w(),g(!1),b("")}catch(k){f(k.message||"Failed to cancel expense order")}finally{u(!1)}}};if(i)return t.jsx(C,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:t.jsx(sn,{})});if(h||!s)return t.jsxs(C,{sx:{p:3},children:[t.jsx(dt,{severity:"error",children:h||"Expense order not found"}),t.jsx(ue,{startIcon:t.jsx(As,{}),onClick:I,sx:{mt:2},children:"Back to Expense Orders"})]});const E=s.status===et.DRAFT,R=s.status===et.DRAFT,O=[et.DRAFT,et.SUBMITTED].includes(s.status);return t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(ue,{startIcon:t.jsx(As,{}),onClick:I,sx:{mr:2},children:"Back"}),t.jsx(j,{variant:"h4",component:"h1",sx:{fontWeight:600,flex:1},children:"Expense Order Details"}),t.jsx(Mm,{status:s.status})]}),h&&t.jsx(dt,{severity:"error",sx:{mb:3},children:h}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsxs(F,{item:!0,xs:12,md:8,children:[t.jsxs(ot,{sx:{p:3,mb:3},children:[t.jsx(j,{variant:"h5",sx:{mb:2,fontWeight:600},children:s.title}),t.jsx(j,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:s.description}),t.jsx(Mt,{sx:{my:3}}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Channel"}),t.jsx(j,{variant:"body1",sx:{fontWeight:500},children:s.channel.name})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Expense Type"}),t.jsx(j,{variant:"body1",sx:{fontWeight:500},children:s.type.name})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Amount"}),t.jsx(j,{variant:"h6",sx:{fontWeight:700,color:"primary.main"},children:v(s.amount,s.currency)})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(j,{variant:"body1",children:Np(new Date(s.createdAt),"PPP")})]})]}),s.receiptUrl&&t.jsxs(t.Fragment,{children:[t.jsx(Mt,{sx:{my:3}}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Receipt"}),t.jsxs(md,{href:s.receiptUrl,target:"_blank",rel:"noopener noreferrer",sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Ks,{fontSize:"small"}),"View Receipt"]})]})]}),s.notes&&t.jsxs(t.Fragment,{children:[t.jsx(Mt,{sx:{my:3}}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Notes"}),t.jsx(j,{variant:"body1",sx:{fontStyle:"italic"},children:s.notes})]})]})]}),t.jsxs(ot,{sx:{p:3},children:[t.jsx(j,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Actions"}),t.jsxs(C,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[E&&t.jsx(ue,{variant:"outlined",startIcon:t.jsx(ms,{}),onClick:S,disabled:d,children:"Edit"}),R&&t.jsx(ue,{variant:"contained",startIcon:t.jsx(xd,{}),onClick:D,disabled:d,children:"Submit for Approval"}),O&&t.jsx(ue,{variant:"outlined",color:"error",startIcon:t.jsx(Rs,{}),onClick:()=>g(!0),disabled:d,children:"Cancel"})]})]})]}),t.jsxs(F,{item:!0,xs:12,md:4,children:[t.jsxs(ot,{sx:{p:3,mb:3},children:[t.jsx(j,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Timeline"}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",gap:2},children:[t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:"Created"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Mr(new Date(s.createdAt),{addSuffix:!0})})]}),s.submittedAt&&t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:"Submitted"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Mr(new Date(s.submittedAt),{addSuffix:!0})})]}),s.approvedAt&&t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:s.status===et.APPROVED?"Approved":"Reviewed"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Mr(new Date(s.approvedAt),{addSuffix:!0})}),s.approver&&t.jsxs(j,{variant:"caption",display:"block",color:"text.secondary",children:["by ",s.approver.displayName]})]}),s.paidAt&&t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:"Paid"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Mr(new Date(s.paidAt),{addSuffix:!0})}),s.paymentReference&&t.jsxs(j,{variant:"caption",display:"block",color:"text.secondary",children:["Ref: ",s.paymentReference]})]})]})]}),s.rejectionReason&&t.jsxs(ot,{sx:{p:3,bgcolor:"error.lighter"},children:[t.jsx(j,{variant:"h6",sx:{mb:1,fontWeight:600,color:"error.main"},children:"Rejection Reason"}),t.jsx(j,{variant:"body2",color:"error.main",children:s.rejectionReason})]})]})]}),t.jsxs(Kt,{open:m,onClose:()=>g(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Cancel Expense Order"}),t.jsxs(Xt,{children:[t.jsx(j,{variant:"body2",sx:{mb:2},children:"Are you sure you want to cancel this expense order? This action cannot be undone."}),t.jsx(nt,{fullWidth:!0,multiline:!0,rows:3,label:"Reason for cancellation (optional)",value:y,onChange:k=>b(k.target.value),placeholder:"Provide a reason for cancelling this expense order..."})]}),t.jsxs(Jt,{children:[t.jsx(ue,{onClick:()=>g(!1),children:"Keep Order"}),t.jsx(ue,{onClick:T,color:"error",variant:"contained",disabled:d,children:"Cancel Order"})]})]})]})},bv=()=>{const[e,n]=x.useState(null),[r,s]=x.useState(!0),[o,i]=x.useState(null),l=Ct(),{api:d}=Ke(),{execute:u}=tt();x.useEffect(()=>{h()},[]);const h=async()=>{var b,w;s(!0),i(null);const[g,y]=await Promise.all([u(()=>d.app.subscription.getSubscriptionAnalytics({period:"30d"}),{showErrorToast:!0}),u(()=>d.app.subscription.getRevenueMetrics({period:"30d"}),{showErrorToast:!0})]);if(g&&y){let v=0;if((w=(b=y.metrics)==null?void 0:b[0])!=null&&w.channels){const S=y.metrics[0].channels;for(const D in S){const T=S[D];v+=T.revenue||0}}const I={totalUsers:12543,totalChannels:1247,totalSubscriptions:g.total_subscriptions,monthlyRevenue:v,activeSubscriptions:g.active_subscriptions,newUsersThisMonth:342};n(I)}s(!1)},f=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(g/100),m=[{title:"News Management",description:"Manage news articles and moderate content",icon:t.jsx(ds,{sx:{fontSize:40}}),path:be.ADMIN_NEWS,color:"#1976d2"},{title:"Poll Management",description:"Oversee polls and voting analytics",icon:t.jsx(ds,{sx:{fontSize:40}}),path:be.ADMIN_POLLS,color:"#7b1fa2"},{title:"User Management",description:"Manage users, roles, and permissions",icon:t.jsx(bo,{sx:{fontSize:40}}),path:be.ADMIN_USERS,color:"#388e3c"},{title:"Channel Management",description:"Oversee channels and content moderation",icon:t.jsx(kc,{sx:{fontSize:40}}),path:be.ADMIN_CHANNELS,color:"#f57c00"},{title:"Expense Orders",description:"Review and approve expense claims",icon:t.jsx(ds,{sx:{fontSize:40}}),path:be.ADMIN_EXPENSE_ORDERS,color:"#d32f2f"},{title:"Payout Management",description:"Process payouts and financial transactions",icon:t.jsx(ds,{sx:{fontSize:40}}),path:be.ADMIN_PAYOUTS,color:"#2e7d32"},{title:"Tag Management",description:"Moderate tags and manage taxonomy",icon:t.jsx(ds,{sx:{fontSize:40}}),path:be.ADMIN_TAGS,color:"#795548"},{title:"Subscription Management",description:"Monitor subscriptions and billing",icon:t.jsx(Na,{sx:{fontSize:40}}),path:be.ADMIN_SUBSCRIPTIONS,color:"#ff5722"},{title:"Analytics",description:"Platform analytics and insights",icon:t.jsx(ds,{sx:{fontSize:40}}),path:be.ADMIN_ANALYTICS,color:"#9c27b0"},{title:"Settings",description:"Platform configuration and settings",icon:t.jsx(Ic,{sx:{fontSize:40}}),path:be.ADMIN_SETTINGS,color:"#5d4037"}];return t.jsxs(It,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(jv,{sx:{fontSize:32,mr:2}}),t.jsx(j,{variant:"h4",component:"h1",children:"Admin Dashboard"})]}),o&&t.jsx(dt,{severity:"error",sx:{mb:3},children:o}),t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(VR,{sx:{fontSize:24,mr:1,color:"#1976d2"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Total Users"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(le,{width:80}):e==null?void 0:e.totalUsers.toLocaleString()}),t.jsx(j,{variant:"body2",color:"textSecondary",children:r?t.jsx(le,{width:120}):`+${e==null?void 0:e.newUsersThisMonth} this month`})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(kc,{sx:{fontSize:24,mr:1,color:"#388e3c"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Total Channels"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(le,{width:80}):e==null?void 0:e.totalChannels.toLocaleString()})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Na,{sx:{fontSize:24,mr:1,color:"#f57c00"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Active Subscriptions"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(le,{width:80}):e==null?void 0:e.activeSubscriptions.toLocaleString()}),t.jsx(j,{variant:"body2",color:"textSecondary",children:r?t.jsx(le,{width:120}):`${e==null?void 0:e.totalSubscriptions} total`})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Xs,{sx:{fontSize:24,mr:1,color:"#7b1fa2"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Monthly Revenue"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(le,{width:100}):f((e==null?void 0:e.monthlyRevenue)||0)})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(ps,{sx:{fontSize:24,mr:1,color:"#d32f2f"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Growth Rate"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(le,{width:60}):"+12.5%"}),t.jsx(j,{variant:"body2",color:"textSecondary",children:"vs last month"})]})})})]}),t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{mb:3},children:"Administration"}),t.jsx(F,{container:!0,spacing:3,children:m.map(g=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsxs(Fe,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[t.jsxs(We,{sx:{flexGrow:1},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(C,{sx:{color:g.color,mr:2},children:g.icon}),t.jsx(j,{variant:"h6",component:"h2",children:g.title})]}),t.jsx(j,{variant:"body2",color:"textSecondary",children:g.description})]}),t.jsx(ef,{children:t.jsx(ue,{size:"small",variant:"contained",onClick:()=>l(g.path),sx:{backgroundColor:g.color},children:"Manage"})})]})},g.title))})]})},yK=()=>t.jsxs(It,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(bo,{sx:{fontSize:32,mr:2}}),t.jsx(j,{variant:"h4",component:"h1",children:"User Management"})]}),t.jsx(Fe,{children:t.jsxs(We,{sx:{textAlign:"center",py:8},children:[t.jsx(bo,{sx:{fontSize:64,color:"text.secondary",mb:2}}),t.jsx(j,{variant:"h6",gutterBottom:!0,children:"User Management Coming Soon"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"This section will include user management, roles, permissions, and user analytics."})]})})]}),vK=()=>t.jsxs(It,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(kc,{sx:{fontSize:32,mr:2}}),t.jsx(j,{variant:"h4",component:"h1",children:"Channel Management"})]}),t.jsx(Fe,{children:t.jsxs(We,{sx:{textAlign:"center",py:8},children:[t.jsx(kc,{sx:{fontSize:64,color:"text.secondary",mb:2}}),t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Channel Management Coming Soon"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"This section will include channel moderation, content management, and channel analytics."})]})})]}),jK=()=>{const[e,n]=x.useState([]),[r,s]=x.useState(null),[o,i]=x.useState(!0),[l,d]=x.useState(!1),[u,h]=x.useState(null),[f,m]=x.useState(null),[g,y]=x.useState(""),[b,w]=x.useState({}),[v]=x.useState($e),[I,S]=x.useState([]),[D,T]=x.useState(!1),[E,R]=x.useState("cancel"),[O,k]=x.useState(""),{api:N}=Ke(),{execute:B}=tt();x.useEffect(()=>{K(),$()},[b,v]);const K=async()=>{i(!0),h(null);const U=await B(()=>N.app.subscription.getAllSubscriptions(v,b),{showErrorToast:!0});U&&n(U.items||[]),i(!1)},$=async()=>{d(!0);const U=await B(()=>N.app.subscription.getSubscriptionAnalytics({period:"30d"}),{showErrorToast:!1});U&&s(U),d(!1)},Y=()=>{g.trim()?w({...b}):K()},J=(U,ee)=>{w({...b,[U]:ee||void 0})},G=async()=>{if(I.length===0)return;i(!0);const U={action:E,subscription_ids:I,reason:O||void 0},ee=await B(()=>N.app.subscription.bulkUpdateSubscriptions(U),{showSuccessMessage:!0,successMessage:"Successfully updated subscriptions"});ee&&(ee.failed>0&&h(`Failed to update ${ee.failed} subscriptions`),T(!1),S([]),k(""),await K()),i(!1)},q=async()=>{const U=await B(()=>N.app.subscription.exportSubscriptions(b,"csv"),{showErrorToast:!0});if(U){const ee=window.URL.createObjectURL(U),Pe=document.createElement("a");Pe.href=ee,Pe.download=`subscriptions-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(Pe),Pe.click(),window.URL.revokeObjectURL(ee),document.body.removeChild(Pe)}},Q=U=>td(U),z=U=>new Date(U).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),oe=(U,ee)=>new Intl.NumberFormat("en-US",{style:"currency",currency:ee.toUpperCase()}).format(U/100);return t.jsxs(It,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsx(j,{variant:"h4",gutterBottom:!0,children:"Subscription Management"}),r&&t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Total Subscriptions"}),t.jsx(j,{variant:"h4",children:l?t.jsx(le,{width:60}):r.total_subscriptions.toLocaleString()})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Active Subscriptions"}),t.jsx(j,{variant:"h4",children:l?t.jsx(le,{width:60}):r.active_subscriptions.toLocaleString()})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"New This Month"}),t.jsx(j,{variant:"h4",children:l?t.jsx(le,{width:60}):r.new_subscriptions.toLocaleString()})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Churn Rate"}),t.jsx(j,{variant:"h4",children:l?t.jsx(le,{width:60}):`${(r.churn_rate*100).toFixed(1)}%`})]})})})]}),t.jsx(Fe,{sx:{mb:3},children:t.jsx(We,{children:t.jsxs(me,{direction:"row",spacing:2,alignItems:"center",flexWrap:"wrap",children:[t.jsx(nt,{placeholder:"Search subscriptions...",value:g,onChange:U=>y(U.target.value),onKeyPress:U=>U.key==="Enter"&&Y(),InputProps:{startAdornment:t.jsx(al,{sx:{mr:1,color:"text.secondary"}})},sx:{minWidth:250}}),t.jsxs(ht,{sx:{minWidth:120},children:[t.jsx(St,{children:"Status"}),t.jsxs(mt,{value:b.status||"",onChange:U=>J("status",U.target.value),label:"Status",children:[t.jsx(we,{value:"",children:"All"}),t.jsx(we,{value:"active",children:"Active"}),t.jsx(we,{value:"canceled",children:"Canceled"}),t.jsx(we,{value:"expired",children:"Expired"}),t.jsx(we,{value:"suspended",children:"Suspended"})]})]}),t.jsx(ue,{variant:"outlined",startIcon:t.jsx(Iv,{}),onClick:()=>w({}),children:"Clear Filters"}),t.jsx(ue,{variant:"outlined",startIcon:t.jsx(kv,{}),onClick:q,children:"Export"}),I.length>0&&t.jsxs(ue,{variant:"contained",startIcon:t.jsx(ms,{}),onClick:()=>T(!0),children:["Bulk Actions (",I.length,")"]})]})})}),u&&t.jsx(dt,{severity:"error",sx:{mb:2},onClose:()=>h(null),children:u}),f&&t.jsx(dt,{severity:"success",sx:{mb:2},onClose:()=>m(null),children:f}),t.jsx(Fe,{children:t.jsx(Vf,{component:ot,children:t.jsxs(zf,{children:[t.jsx(Hf,{children:t.jsxs(po,{children:[t.jsx(yt,{padding:"checkbox",children:t.jsx(_c,{indeterminate:I.length>0&&I.length<e.length,checked:e.length>0&&I.length===e.length,onChange:U=>{U.target.checked?S(e.map(ee=>ee.id)):S([])}})}),t.jsx(yt,{children:"User"}),t.jsx(yt,{children:"Channel"}),t.jsx(yt,{children:"Tier"}),t.jsx(yt,{children:"Status"}),t.jsx(yt,{children:"Started"}),t.jsx(yt,{children:"Expires"}),t.jsx(yt,{children:"Actions"})]})}),t.jsx(Gf,{children:o?[...Array(5)].map((U,ee)=>t.jsxs(po,{children:[t.jsx(yt,{children:t.jsx(le,{})}),t.jsx(yt,{children:t.jsx(le,{})}),t.jsx(yt,{children:t.jsx(le,{})}),t.jsx(yt,{children:t.jsx(le,{})}),t.jsx(yt,{children:t.jsx(le,{})}),t.jsx(yt,{children:t.jsx(le,{})}),t.jsx(yt,{children:t.jsx(le,{})}),t.jsx(yt,{children:t.jsx(le,{})})]},ee)):e.map(U=>t.jsxs(po,{children:[t.jsx(yt,{padding:"checkbox",children:t.jsx(_c,{checked:I.includes(U.id),onChange:ee=>{ee.target.checked?S([...I,U.id]):S(I.filter(Pe=>Pe!==U.id))}})}),t.jsx(yt,{children:t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",children:U.user.displayName}),t.jsx(j,{variant:"caption",color:"text.secondary",children:U.user.email})]})}),t.jsx(yt,{children:t.jsx(j,{variant:"body2",children:U.channel.name})}),t.jsx(yt,{children:t.jsxs(C,{children:[t.jsx(j,{variant:"body2",children:U.tier.name}),t.jsx(j,{variant:"caption",color:"text.secondary",children:oe(U.tier.price,U.tier.currency)})]})}),t.jsx(yt,{children:t.jsx(Qe,{label:ed(U.statusId),color:Q(U.statusId),size:"small"})}),t.jsx(yt,{children:t.jsx(j,{variant:"body2",children:z(U.subscribedAt)})}),t.jsx(yt,{children:t.jsx(j,{variant:"body2",children:U.expiresAt?z(U.expiresAt):"Never"})}),t.jsx(yt,{children:t.jsx(ue,{size:"small",onClick:()=>{console.log("View subscription:",U.id)},children:"View"})})]},U.id))})]})})}),t.jsxs(Kt,{open:D,onClose:()=>T(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Bulk Action"}),t.jsxs(Xt,{children:[t.jsxs(j,{gutterBottom:!0,children:["You are about to perform a bulk action on ",I.length," subscription(s)."]}),t.jsxs(ht,{fullWidth:!0,sx:{mb:2},children:[t.jsx(St,{children:"Action"}),t.jsxs(mt,{value:E,onChange:U=>R(U.target.value),label:"Action",children:[t.jsx(we,{value:"cancel",children:"Cancel Subscriptions"}),t.jsx(we,{value:"activate",children:"Activate Subscriptions"}),t.jsx(we,{value:"suspend",children:"Suspend Subscriptions"})]})]}),t.jsx(nt,{fullWidth:!0,label:"Reason (optional)",value:O,onChange:U=>k(U.target.value),multiline:!0,rows:3})]}),t.jsxs(Jt,{children:[t.jsx(ue,{onClick:()=>T(!1),children:"Cancel"}),t.jsx(ue,{onClick:G,variant:"contained",color:"primary",children:"Confirm"})]})]})]})},wK=()=>{const[e,n]=x.useState(null),[r,s]=x.useState(!0),[o,i]=x.useState(null),[l,d]=x.useState("30d"),{api:u}=Ke(),{execute:h}=tt();x.useEffect(()=>{f()},[l]);const f=async()=>{s(!0),i(null);const v=await h(()=>u.app.subscription.getSubscriptionAnalytics({period:l}),{showErrorToast:!0});v&&n(v),s(!1)},m=v=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(v/100),g=v=>`${(v*100).toFixed(1)}%`,y=[{month:"Jan",new:120,canceled:45,active:1200},{month:"Feb",new:150,canceled:38,active:1312},{month:"Mar",new:180,canceled:52,active:1440},{month:"Apr",new:200,canceled:48,active:1592},{month:"May",new:165,canceled:55,active:1702},{month:"Jun",new:190,canceled:42,active:1850}],b=[{name:"Basic",value:35,revenue:15e3},{name:"Premium",value:45,revenue:35e3},{name:"Pro",value:20,revenue:25e3}],w=["#0088FE","#00C49F","#FFBB28","#FF8042"];return t.jsxs(It,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(ds,{sx:{fontSize:32,mr:2}}),t.jsx(j,{variant:"h4",component:"h1",children:"Subscription Analytics"})]}),t.jsxs(ht,{sx:{minWidth:120},children:[t.jsx(St,{children:"Period"}),t.jsxs(mt,{value:l,onChange:v=>d(v.target.value),label:"Period",children:[t.jsx(we,{value:"7d",children:"Last 7 days"}),t.jsx(we,{value:"30d",children:"Last 30 days"}),t.jsx(we,{value:"90d",children:"Last 90 days"}),t.jsx(we,{value:"1y",children:"Last year"})]})]})]}),o&&t.jsx(dt,{severity:"error",sx:{mb:3},children:o}),t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(bo,{sx:{fontSize:24,mr:1,color:"#1976d2"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Total Subscriptions"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(le,{width:80}):e==null?void 0:e.total_subscriptions.toLocaleString()}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",mt:1},children:[t.jsx(ps,{sx:{fontSize:16,color:"success.main",mr:.5}}),t.jsx(j,{variant:"body2",color:"success.main",children:"+12.5% vs last period"})]})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(ps,{sx:{fontSize:24,mr:1,color:"#388e3c"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"New Subscriptions"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(le,{width:80}):e==null?void 0:e.new_subscriptions.toLocaleString()}),t.jsx(j,{variant:"body2",color:"textSecondary",children:"This period"})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Rs,{sx:{fontSize:24,mr:1,color:"#f57c00"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Churn Rate"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(le,{width:60}):g((e==null?void 0:e.churn_rate)||0)}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",mt:1},children:[t.jsx(wv,{sx:{fontSize:16,color:"success.main",mr:.5}}),t.jsx(j,{variant:"body2",color:"success.main",children:"-2.1% vs last period"})]})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Xs,{sx:{fontSize:24,mr:1,color:"#7b1fa2"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Total Revenue"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(le,{width:100}):m(Object.values((e==null?void 0:e.revenue_by_currency)||{}).reduce((v,I)=>v+I,0))}),t.jsx(j,{variant:"body2",color:"textSecondary",children:"This period"})]})})})]}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,lg:8,children:t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Subscription Trends"}),t.jsx(C,{sx:{width:"100%",height:400},children:t.jsx(Mi,{children:t.jsxs(Nv,{data:y,children:[t.jsx(Lc,{strokeDasharray:"3 3"}),t.jsx($c,{dataKey:"month"}),t.jsx(Fc,{}),t.jsx(Ni,{}),t.jsx(Bc,{}),t.jsx(Ta,{type:"monotone",dataKey:"new",stroke:"#8884d8",strokeWidth:2,name:"New Subscriptions"}),t.jsx(Ta,{type:"monotone",dataKey:"canceled",stroke:"#82ca9d",strokeWidth:2,name:"Canceled"}),t.jsx(Ta,{type:"monotone",dataKey:"active",stroke:"#ffc658",strokeWidth:2,name:"Active Total"})]})})})]})})}),t.jsx(F,{item:!0,xs:12,lg:4,children:t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Revenue by Tier"}),t.jsx(C,{sx:{width:"100%",height:400},children:t.jsx(Mi,{children:t.jsxs(_k,{children:[t.jsx(Ok,{data:b,cx:"50%",cy:"50%",labelLine:!1,label:({name:v,percent:I})=>`${v} ${(I*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:b.map((v,I)=>t.jsx(Mk,{fill:w[I%w.length]},`cell-${I}`))}),t.jsx(Ni,{formatter:(v,I)=>{var S;return[m(((S=b.find(D=>D.name===I))==null?void 0:S.revenue)||0),"Revenue"]}})]})})})]})})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Monthly Revenue Breakdown"}),t.jsx(C,{sx:{width:"100%",height:400},children:t.jsx(Mi,{children:t.jsxs(Lv,{data:y,children:[t.jsx(Lc,{strokeDasharray:"3 3"}),t.jsx($c,{dataKey:"month"}),t.jsx(Fc,{}),t.jsx(Ni,{formatter:v=>[m(Number(v)*100),"Revenue"]}),t.jsx(Bc,{}),t.jsx(Wc,{dataKey:"new",fill:"#8884d8",name:"New Subscriptions Revenue"}),t.jsx(Wc,{dataKey:"active",fill:"#82ca9d",name:"Recurring Revenue"})]})})})]})})})]})]})},SK=()=>{const[e,n]=x.useState(!0),[r,s]=x.useState(null),[o,i]=x.useState("30d");x.useEffect(()=>{l()},[o]);const l=async()=>{try{n(!0),s(null),await new Promise(m=>setTimeout(m,1e3))}catch(m){s(m.message||"Failed to load revenue data")}finally{n(!1)}},d=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(m),u={totalRevenue:125e3,monthlyRecurring:98e3,oneTimePayments:27e3,averageRevenuePerUser:45.5,growthRate:12.5},h=[{month:"Jan",revenue:85e3,subscriptions:78e3,oneTime:7e3},{month:"Feb",revenue:92e3,subscriptions:84e3,oneTime:8e3},{month:"Mar",revenue:98e3,subscriptions:89e3,oneTime:9e3},{month:"Apr",revenue:105e3,subscriptions:95e3,oneTime:1e4},{month:"May",revenue:115e3,subscriptions:102e3,oneTime:13e3},{month:"Jun",revenue:125e3,subscriptions:112e3,oneTime:13e3}],f=[{name:"Tech News Daily",revenue:15e3,subscribers:1200},{name:"Global Politics",revenue:12500,subscribers:980},{name:"Science Weekly",revenue:11e3,subscribers:850},{name:"Business Insider",revenue:9500,subscribers:720},{name:"Sports Central",revenue:8200,subscribers:650}];return t.jsxs(It,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(Xs,{sx:{fontSize:32,mr:2}}),t.jsx(j,{variant:"h4",component:"h1",children:"Revenue Tracking"})]}),t.jsxs(ht,{sx:{minWidth:120},children:[t.jsx(St,{children:"Period"}),t.jsxs(mt,{value:o,onChange:m=>i(m.target.value),label:"Period",children:[t.jsx(we,{value:"7d",children:"Last 7 days"}),t.jsx(we,{value:"30d",children:"Last 30 days"}),t.jsx(we,{value:"90d",children:"Last 90 days"}),t.jsx(we,{value:"1y",children:"Last year"})]})]})]}),r&&t.jsx(dt,{severity:"error",sx:{mb:3},children:r}),t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Xs,{sx:{fontSize:24,mr:1,color:"#1976d2"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Total Revenue"})]}),t.jsx(j,{variant:"h4",children:e?t.jsx(le,{width:100}):d(u.totalRevenue)}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",mt:1},children:[t.jsx(ps,{sx:{fontSize:16,color:"success.main",mr:.5}}),t.jsxs(j,{variant:"body2",color:"success.main",children:["+",u.growthRate,"% vs last period"]})]})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Zh,{sx:{fontSize:24,mr:1,color:"#388e3c"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Monthly Recurring"})]}),t.jsx(j,{variant:"h4",children:e?t.jsx(le,{width:100}):d(u.monthlyRecurring)}),t.jsxs(j,{variant:"body2",color:"textSecondary",children:[(u.monthlyRecurring/u.totalRevenue*100).toFixed(1),"% of total"]})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Sv,{sx:{fontSize:24,mr:1,color:"#f57c00"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"One-time Payments"})]}),t.jsx(j,{variant:"h4",children:e?t.jsx(le,{width:100}):d(u.oneTimePayments)}),t.jsxs(j,{variant:"body2",color:"textSecondary",children:[(u.oneTimePayments/u.totalRevenue*100).toFixed(1),"% of total"]})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(ps,{sx:{fontSize:24,mr:1,color:"#7b1fa2"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"ARPU"})]}),t.jsx(j,{variant:"h4",children:e?t.jsx(le,{width:80}):d(u.averageRevenuePerUser)}),t.jsx(j,{variant:"body2",color:"textSecondary",children:"Average Revenue Per User"})]})})})]}),t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,lg:8,children:t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Monthly Revenue Trend"}),t.jsx(C,{sx:{width:"100%",height:400},children:t.jsx(Mi,{children:t.jsxs(Nv,{data:h,children:[t.jsx(Lc,{strokeDasharray:"3 3"}),t.jsx($c,{dataKey:"month"}),t.jsx(Fc,{tickFormatter:m=>`$${(m/1e3).toFixed(0)}k`}),t.jsx(Ni,{formatter:m=>[d(Number(m)),""]}),t.jsx(Bc,{}),t.jsx(Ta,{type:"monotone",dataKey:"revenue",stroke:"#1976d2",strokeWidth:3,name:"Total Revenue"}),t.jsx(Ta,{type:"monotone",dataKey:"subscriptions",stroke:"#388e3c",strokeWidth:2,name:"Subscription Revenue"}),t.jsx(Ta,{type:"monotone",dataKey:"oneTime",stroke:"#f57c00",strokeWidth:2,name:"One-time Payments"})]})})})]})})}),t.jsx(F,{item:!0,xs:12,lg:4,children:t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Revenue Breakdown"}),t.jsx(C,{sx:{width:"100%",height:400},children:t.jsx(Mi,{children:t.jsxs(Lv,{data:h.slice(-3),children:[t.jsx(Lc,{strokeDasharray:"3 3"}),t.jsx($c,{dataKey:"month"}),t.jsx(Fc,{tickFormatter:m=>`$${(m/1e3).toFixed(0)}k`}),t.jsx(Ni,{formatter:m=>[d(Number(m)),""]}),t.jsx(Bc,{}),t.jsx(Wc,{dataKey:"subscriptions",fill:"#388e3c",name:"Subscriptions"}),t.jsx(Wc,{dataKey:"oneTime",fill:"#f57c00",name:"One-time"})]})})})]})})})]}),t.jsx(Fe,{children:t.jsxs(We,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Top Channels by Revenue"}),t.jsx(Vf,{component:ot,variant:"outlined",children:t.jsxs(zf,{children:[t.jsx(Hf,{children:t.jsxs(po,{children:[t.jsx(yt,{children:"Channel Name"}),t.jsx(yt,{align:"right",children:"Revenue"}),t.jsx(yt,{align:"right",children:"Subscribers"}),t.jsx(yt,{align:"right",children:"ARPU"})]})}),t.jsx(Gf,{children:f.map((m,g)=>t.jsxs(po,{children:[t.jsx(yt,{component:"th",scope:"row",children:t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(C,{sx:{width:24,height:24,borderRadius:"50%",backgroundColor:g===0?"#ffd700":g===1?"#c0c0c0":g===2?"#cd7f32":"#e0e0e0",display:"flex",alignItems:"center",justifyContent:"center",mr:2,fontSize:"12px",fontWeight:"bold"},children:g+1}),m.name]})}),t.jsx(yt,{align:"right",children:d(m.revenue)}),t.jsx(yt,{align:"right",children:m.subscribers.toLocaleString()}),t.jsx(yt,{align:"right",children:d(m.revenue/m.subscribers)})]},m.name))})]})})]})})]})},CK=()=>t.jsxs(It,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(ds,{sx:{fontSize:32,mr:2}}),t.jsx(j,{variant:"h4",component:"h1",children:"Platform Analytics"})]}),t.jsx(Fe,{children:t.jsxs(We,{sx:{textAlign:"center",py:8},children:[t.jsx(ds,{sx:{fontSize:64,color:"text.secondary",mb:2}}),t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Platform Analytics Coming Soon"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"This section will include comprehensive platform analytics, user behavior, and performance metrics."})]})})]}),PK=()=>t.jsxs(It,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(Ic,{sx:{fontSize:32,mr:2}}),t.jsx(j,{variant:"h4",component:"h1",children:"Admin Settings"})]}),t.jsx(Fe,{children:t.jsxs(We,{sx:{textAlign:"center",py:8},children:[t.jsx(Ic,{sx:{fontSize:64,color:"text.secondary",mb:2}}),t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Admin Settings Coming Soon"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"This section will include platform configuration, system settings, and administrative preferences."})]})})]}),Do=({title:e,columns:n,rows:r,totalCount:s,loading:o=!1,error:i=null,selected:l,onSelectionChange:d,onEdit:u,onDelete:h,onAdd:f,onRefresh:m,onSearch:g,onSort:y,onPageChange:b,onRowsPerPageChange:w,page:v=0,rowsPerPage:I=25,searchQuery:S="",sortColumn:D="",sortDirection:T="asc",actions:E,filters:R,rowActions:O})=>{const[k,N]=x.useState(S),[B,K]=x.useState(!1),[$,Y]=x.useState(null),[J,G]=x.useState(null),q=ce=>{if(ce.target.checked){const re=r.map(je=>je.id);d(re)}else d([])},Q=(ce,re)=>{const je=l.indexOf(re);let Oe=[];je===-1?Oe=Oe.concat(l,re):je===0?Oe=Oe.concat(l.slice(1)):je===l.length-1?Oe=Oe.concat(l.slice(0,-1)):je>0&&(Oe=Oe.concat(l.slice(0,je),l.slice(je+1))),d(Oe)},z=ce=>{ce.key==="Enter"&&g&&g(k)},oe=ce=>{N(ce.target.value),ce.target.value===""&&g&&g("")},U=ce=>{if(!y)return;y(ce,D===ce&&T==="asc"?"desc":"asc")},ee=(ce,re)=>{Y(ce.currentTarget),G(re)},Pe=()=>{Y(null),G(null)},pe=()=>{const ce=l.length>0?r.filter(re=>l.includes(re.id)):J?[J]:[];ce.length>0&&h&&(h(ce),K(!1),Pe(),d([]))},Re=ce=>l.indexOf(ce)!==-1;return t.jsxs(C,{children:[t.jsxs(ot,{sx:{width:"100%",mb:2},children:[t.jsxs(qs,{sx:{pl:{sm:2},pr:{xs:1,sm:1},...l.length>0&&{bgcolor:"primary.main",color:"primary.contrastText"}},children:[l.length>0?t.jsxs(j,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[l.length," selected"]}):t.jsx(j,{sx:{flex:"1 1 100%"},variant:"h6",id:"tableTitle",component:"div",children:e}),l.length>0?t.jsx(me,{direction:"row",spacing:1,children:h&&t.jsx(jt,{title:"Delete",children:t.jsx(Ne,{color:"inherit",onClick:()=>K(!0),children:t.jsx(Rc,{})})})}):t.jsxs(me,{direction:"row",spacing:1,alignItems:"center",children:[g&&t.jsx(nt,{size:"small",placeholder:`Search ${e.toLowerCase()}...`,value:k,onChange:oe,onKeyPress:z,InputProps:{startAdornment:t.jsx(es,{position:"start",children:t.jsx(al,{})})},sx:{minWidth:250}}),R,m&&t.jsx(jt,{title:"Refresh",children:t.jsx(Ne,{onClick:m,children:t.jsx(Dv,{})})}),f&&t.jsx(ue,{variant:"contained",startIcon:t.jsx(vo,{}),onClick:f,sx:{whiteSpace:"nowrap"},children:"Add New"}),E]})]}),i&&t.jsx(dt,{severity:"error",sx:{m:2},children:i}),t.jsx(Vf,{children:t.jsxs(zf,{stickyHeader:!0,"aria-labelledby":"tableTitle",children:[t.jsx(Hf,{children:t.jsxs(po,{children:[t.jsx(yt,{padding:"checkbox",children:t.jsx(_c,{color:"primary",indeterminate:l.length>0&&l.length<r.length,checked:r.length>0&&l.length===r.length,onChange:q,inputProps:{"aria-label":"select all items"}})}),n.map(ce=>t.jsx(yt,{align:ce.align,style:{minWidth:ce.minWidth},sortDirection:D===ce.id?T:!1,children:ce.sortable&&y?t.jsx(zR,{active:D===ce.id,direction:D===ce.id?T:"asc",onClick:()=>U(ce.id),children:ce.label}):ce.label},ce.id)),t.jsx(yt,{align:"right",children:"Actions"})]})}),t.jsx(Gf,{children:o?Array.from(new Array(I)).map((ce,re)=>t.jsxs(po,{children:[t.jsx(yt,{padding:"checkbox",children:t.jsx(le,{variant:"rectangular",width:24,height:24})}),n.map(je=>t.jsx(yt,{children:t.jsx(le,{variant:"text"})},je.id)),t.jsx(yt,{children:t.jsx(le,{variant:"rectangular",width:40,height:24})})]},re)):r.map(ce=>{const re=Re(ce.id);return t.jsxs(po,{hover:!0,onClick:je=>Q(je,ce.id),role:"checkbox","aria-checked":re,tabIndex:-1,selected:re,sx:{cursor:"pointer"},children:[t.jsx(yt,{padding:"checkbox",children:t.jsx(_c,{color:"primary",checked:re,inputProps:{"aria-labelledby":`enhanced-table-checkbox-${ce.id}`}})}),n.map(je=>{const Oe=ce[je.id];return t.jsx(yt,{align:je.align,children:je.format?je.format(Oe,ce):Oe},je.id)}),t.jsx(yt,{align:"right",children:t.jsx(me,{direction:"row",spacing:1,justifyContent:"flex-end",children:O?O(ce):t.jsxs(t.Fragment,{children:[u&&t.jsx(jt,{title:"Edit",children:t.jsx(Ne,{size:"small",onClick:je=>{je.stopPropagation(),u(ce)},children:t.jsx(ms,{fontSize:"small"})})}),t.jsx(Ne,{size:"small",onClick:je=>{je.stopPropagation(),ee(je,ce)},children:t.jsx(Uf,{fontSize:"small"})})]})})})]},ce.id)})})]})}),t.jsx(HR,{rowsPerPageOptions:[10,25,50,100],component:"div",count:s,rowsPerPage:I,page:v,onPageChange:(ce,re)=>b==null?void 0:b(re),onRowsPerPageChange:ce=>w==null?void 0:w(parseInt(ce.target.value,10))})]}),t.jsxs(wo,{anchorEl:$,open:!!$,onClose:Pe,children:[u&&J&&t.jsxs(we,{onClick:()=>{u(J),Pe()},children:[t.jsx(ms,{sx:{mr:1},fontSize:"small"}),"Edit"]}),h&&t.jsxs(we,{onClick:()=>K(!0),children:[t.jsx(Rc,{sx:{mr:1},fontSize:"small"}),"Delete"]})]}),t.jsxs(Kt,{open:B,onClose:()=>K(!1),children:[t.jsx(tn,{children:"Confirm Delete"}),t.jsx(Xt,{children:t.jsxs(j,{children:["Are you sure you want to delete ",l.length>0?`${l.length} items`:"this item","? This action cannot be undone."]})}),t.jsxs(Jt,{children:[t.jsx(ue,{onClick:()=>K(!1),children:"Cancel"}),t.jsx(ue,{onClick:pe,color:"error",variant:"contained",children:"Delete"})]})]})]})},IK=()=>{var Pe;const{api:e}=Ke(),{execute:n}=tt(),[r,s]=x.useState([]),[o,i]=x.useState(0),[l,d]=x.useState(!1),[u,h]=x.useState(null),[f,m]=x.useState([]),[g,y]=x.useState(!1),[b,w]=x.useState(null),[v,I]=x.useState(0),[S,D]=x.useState(25),[T,E]=x.useState(""),[R,O]=x.useState(""),[k,N]=x.useState("createdAt"),[B,K]=x.useState("desc"),$=async()=>{var pe;d(!0),h(null);try{const Re={page:v+1,limit:S,search:T||void 0,status:R||void 0,sort:k,order:B},ce=await n(()=>e.admin.news.getAllNews(Re),{showErrorToast:!1});ce&&(s(ce.items||[]),i(((pe=ce.metadata)==null?void 0:pe.total)||0))}catch{h("Failed to fetch news")}finally{d(!1)}};x.useEffect(()=>{$()},[v,S,T,R,k,B]);const Y=pe=>{w(pe),y(!0)},J=async pe=>{const Re=pe.map(ce=>ce.id);try{await Promise.all(Re.map(ce=>n(()=>e.app.news.delete(ce)))),m([]),$()}catch{h("Failed to delete news items")}},G=async(pe,Re)=>{try{await n(()=>e.app.news.update(pe.id,{status:Re.toString()})),$()}catch{h("Failed to update news status")}},q=async pe=>{var Re;if(b)try{const ce={title:pe.title,content:pe.content,status:(Re=pe.status)==null?void 0:Re.toString()};await n(()=>e.app.news.update(b.id,ce)),y(!1),w(null),$()}catch{h("Failed to update news")}},Q=pe=>{switch(pe){case $n.PUBLISHED:return"success";case $n.DRAFT:return"default";case $n.PENDING_REVIEW:return"warning";case $n.REJECTED:return"error";case $n.ARCHIVED:return"secondary";default:return"default"}},z=[{id:"title",label:"Title",minWidth:200,sortable:!0,format:(pe,Re)=>t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:pe}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["ID: ",Re.id]})]})},{id:"channel",label:"Channel",minWidth:150,format:(pe,Re)=>{var ce,re,je,Oe;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Sn,{src:(ce=Re.channel)==null?void 0:ce.photoUrl,sx:{width:24,height:24},children:(je=(re=Re.channel)==null?void 0:re.name)==null?void 0:je[0]}),t.jsx(j,{variant:"body2",noWrap:!0,children:((Oe=Re.channel)==null?void 0:Oe.name)||"Unknown"})]})}},{id:"status",label:"Status",minWidth:120,sortable:!0,format:pe=>t.jsx(Qe,{label:pe,color:Q(pe),size:"small"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:pe=>t.jsx(j,{variant:"body2",children:new Date(pe).toLocaleDateString()})},{id:"updatedAt",label:"Updated",minWidth:120,sortable:!0,format:pe=>t.jsx(j,{variant:"body2",children:new Date(pe).toLocaleDateString()})},{id:"views",label:"Views",minWidth:80,align:"right",sortable:!0,format:pe=>t.jsx(j,{variant:"body2",children:(pe==null?void 0:pe.toLocaleString())||"0"})}],oe=Object.entries($n).map(([pe,Re])=>({value:Re,label:pe.replace(/_/g," ").toLowerCase().replace(/\b\w/g,ce=>ce.toUpperCase())})),U=t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Status"}),t.jsxs(mt,{value:R,label:"Status",onChange:pe=>O(pe.target.value),children:[t.jsx(we,{value:"",children:"All Status"}),oe.map(pe=>t.jsx(we,{value:pe.value,children:pe.label},pe.value))]})]}),ee=pe=>t.jsxs(me,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View",children:t.jsx(Ne,{size:"small",onClick:Re=>{Re.stopPropagation(),window.open(be.APP_NEWS_VIEW.replace(":id",pe.id),"_blank")},children:t.jsx(ks,{fontSize:"small"})})}),t.jsx(jt,{title:"Edit",children:t.jsx(Ne,{size:"small",onClick:Re=>{Re.stopPropagation(),Y(pe)},children:t.jsx(ms,{fontSize:"small"})})}),pe.status===$n.PUBLISHED?t.jsx(jt,{title:"Unpublish",children:t.jsx(Ne,{size:"small",onClick:Re=>{Re.stopPropagation(),G(pe,$n.DRAFT)},children:t.jsx(GR,{fontSize:"small"})})}):t.jsx(jt,{title:"Publish",children:t.jsx(Ne,{size:"small",onClick:Re=>{Re.stopPropagation(),G(pe,$n.PUBLISHED)},children:t.jsx(YR,{fontSize:"small"})})})]});return t.jsxs(C,{children:[t.jsx(Do,{title:"News Management",columns:z,rows:r,totalCount:o,loading:l,error:u,selected:f,onSelectionChange:m,onEdit:Y,onDelete:J,onRefresh:$,onSearch:E,onSort:(pe,Re)=>{N(pe),K(Re)},onPageChange:I,onRowsPerPageChange:D,page:v,rowsPerPage:S,searchQuery:T,sortColumn:k,sortDirection:B,filters:U,rowActions:ee}),t.jsxs(Kt,{open:g,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"Edit News"}),t.jsx(Xt,{children:b&&t.jsxs(me,{spacing:3,sx:{pt:1},children:[t.jsx(nt,{label:"Title",fullWidth:!0,defaultValue:b.title,onChange:pe=>w({...b,title:pe.target.value})}),t.jsx(nt,{label:"Content",fullWidth:!0,multiline:!0,rows:3,defaultValue:b.content,onChange:pe=>w({...b,content:pe.target.value})}),t.jsxs(ht,{fullWidth:!0,children:[t.jsx(St,{children:"Status"}),t.jsx(mt,{value:b.status,label:"Status",onChange:pe=>w({...b,status:parseInt(pe.target.value.toString())}),children:oe.map(pe=>t.jsx(we,{value:pe.value,children:pe.label},pe.value))})]}),t.jsxs(C,{children:[t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["News ID: ",b.id]}),t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Created: ",new Date(b.createdAt).toLocaleString()]}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Channel: ",(Pe=b.channel)==null?void 0:Pe.name]})]})]})}),t.jsxs(Jt,{children:[t.jsx(ue,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(ue,{onClick:()=>q(b),variant:"contained",children:"Save Changes"})]})]})]})},DK=()=>{var ce,re,je,Oe;const{api:e}=Ke(),{execute:n}=tt(),[r,s]=x.useState([]),[o,i]=x.useState(0),[l,d]=x.useState(!1),[u,h]=x.useState(null),[f,m]=x.useState([]),[g,y]=x.useState(!1),[b,w]=x.useState(null),[v,I]=x.useState(0),[S,D]=x.useState(25),[T,E]=x.useState(""),[R,O]=x.useState(""),[k,N]=x.useState(""),[B,K]=x.useState(""),[$,Y]=x.useState("createdAt"),[J,G]=x.useState("desc"),q=x.useCallback(async()=>{var ye;d(!0),h(null);try{const ie={};T&&(ie.search=T),R&&(ie.status=R),k==="true"&&(ie.trending=!0),B==="true"&&(ie.funded=!0),ie.sort=$,ie.order=J;const ae=await n(()=>e.admin.polls.getAllPolls(ie,{page:v+1,limit:S}),{showErrorToast:!1});ae&&(s(ae.items||[]),i(((ye=ae.metadata)==null?void 0:ye.total)||0))}catch{h("Failed to fetch polls")}finally{d(!1)}},[v,S,T,R,k,B,$,J,e.admin.polls,n]);x.useEffect(()=>{q()},[q]);const Q=ye=>{w(ye),y(!0)},z=async ye=>{const ie=ye.map(ae=>ae.id);try{await Promise.all(ie.map(ae=>n(()=>e.app.poll.delete(ae)))),m([]),q()}catch{h("Failed to delete polls")}},oe=async()=>{if(b)try{const ye={title:b.title,description:b.description,endDate:b.endDate};await n(()=>e.app.poll.update(b.id,ye)),y(!1),w(null),q()}catch{h("Failed to update poll")}},U=async ye=>{try{await n(()=>e.app.poll.convertToNews(ye.id,{title:ye.title,summary:ye.description})),q()}catch{h("Failed to convert poll to news")}},ee=[{id:"title",label:"Title",minWidth:200,sortable:!0,format:(ye,ie)=>t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:ye}),t.jsxs(me,{direction:"row",spacing:1,alignItems:"center",sx:{mt:.5},children:[t.jsxs(j,{variant:"caption",color:"text.secondary",children:["ID: ",ie.id]}),ie.isTrending&&t.jsx(Qe,{label:"Trending",color:"warning",size:"small",icon:t.jsx(ps,{}),sx:{height:16,"& .MuiChip-label":{fontSize:"0.6rem",px:.5}}})]})]})},{id:"channel",label:"Channel",minWidth:150,format:(ye,ie)=>{var ae,se,xe,he;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Sn,{src:(ae=ie.channel)==null?void 0:ae.photoUrl,sx:{width:24,height:24},children:(xe=(se=ie.channel)==null?void 0:se.name)==null?void 0:xe[0]}),t.jsx(j,{variant:"body2",noWrap:!0,children:((he=ie.channel)==null?void 0:he.name)||"Unknown"})]})}},{id:"creator",label:"Creator",minWidth:120,format:(ye,ie)=>{var ae;return t.jsx(j,{variant:"body2",noWrap:!0,children:((ae=ie.creator)==null?void 0:ae.displayName)||"Unknown"})}},{id:"voteCount",label:"Votes",minWidth:80,align:"right",sortable:!0,format:ye=>t.jsx(j,{variant:"body2",children:(ye==null?void 0:ye.toLocaleString())||"0"})},{id:"stats",label:"Stats",minWidth:120,format:(ye,ie)=>{var ae,se,xe,he;return t.jsxs(me,{spacing:.5,children:[t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Views: ",((se=(ae=ie.stats)==null?void 0:ae.viewCount)==null?void 0:se.toLocaleString())||"0"]}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Funds: $",((he=(xe=ie.stats)==null?void 0:xe.totalFunds)==null?void 0:he.toLocaleString())||"0"]})]})}},{id:"endDate",label:"End Date",minWidth:120,sortable:!0,format:ye=>t.jsx(j,{variant:"body2",children:ye?new Date(ye).toLocaleDateString():"No end date"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:ye=>t.jsx(j,{variant:"body2",children:new Date(ye).toLocaleDateString()})}],Pe=Object.entries(EB).map(([ye,ie])=>({value:ie,label:ye.replace(/_/g," ").toLowerCase().replace(/\b\w/g,ae=>ae.toUpperCase())})),pe=t.jsxs(me,{direction:"row",spacing:1,children:[t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Status"}),t.jsxs(mt,{value:R,label:"Status",onChange:ye=>O(ye.target.value),children:[t.jsx(we,{value:"",children:"All Status"}),Pe.map(ye=>t.jsx(we,{value:ye.value,children:ye.label},ye.value))]})]}),t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Trending"}),t.jsxs(mt,{value:k,label:"Trending",onChange:ye=>N(ye.target.value),children:[t.jsx(we,{value:"",children:"All"}),t.jsx(we,{value:"true",children:"Trending Only"}),t.jsx(we,{value:"false",children:"Non-Trending"})]})]}),t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Funded"}),t.jsxs(mt,{value:B,label:"Funded",onChange:ye=>K(ye.target.value),children:[t.jsx(we,{value:"",children:"All"}),t.jsx(we,{value:"true",children:"Funded Only"}),t.jsx(we,{value:"false",children:"Not Funded"})]})]})]}),Re=ye=>t.jsxs(me,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View",children:t.jsx(Ne,{size:"small",onClick:ie=>{ie.stopPropagation(),window.open(be.APP_POLL_VIEW.replace(":id",ye.id),"_blank")},children:t.jsx(ks,{fontSize:"small"})})}),t.jsx(jt,{title:"Edit",children:t.jsx(Ne,{size:"small",onClick:ie=>{ie.stopPropagation(),Q(ye)},children:t.jsx(ms,{fontSize:"small"})})}),t.jsx(jt,{title:"Convert to News",children:t.jsx(Ne,{size:"small",onClick:ie=>{ie.stopPropagation(),U(ye)},children:t.jsx(qR,{fontSize:"small"})})})]});return t.jsxs(C,{children:[t.jsx(Do,{title:"Poll Management",columns:ee,rows:r,totalCount:o,loading:l,error:u,selected:f,onSelectionChange:m,onEdit:Q,onDelete:z,onRefresh:q,onSearch:E,onSort:(ye,ie)=>{Y(ye),G(ie)},onPageChange:I,onRowsPerPageChange:D,page:v,rowsPerPage:S,searchQuery:T,sortColumn:$,sortDirection:J,filters:pe,rowActions:Re}),t.jsxs(Kt,{open:g,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"Edit Poll"}),t.jsx(Xt,{children:b&&t.jsxs(me,{spacing:3,sx:{pt:1},children:[t.jsx(nt,{label:"Title",fullWidth:!0,defaultValue:b.title,onChange:ye=>w({...b,title:ye.target.value})}),t.jsx(nt,{label:"Description",fullWidth:!0,multiline:!0,rows:3,defaultValue:b.description,onChange:ye=>w({...b,description:ye.target.value})}),t.jsx(nt,{label:"End Date",type:"datetime-local",fullWidth:!0,defaultValue:b.endDate?new Date(b.endDate).toISOString().slice(0,16):"",onChange:ye=>w({...b,endDate:ye.target.value}),InputLabelProps:{shrink:!0}}),t.jsxs(Dc,{children:[t.jsx(Tc,{expandIcon:t.jsx(Ec,{}),children:t.jsxs(j,{variant:"subtitle2",children:["Poll Options (",((ce=b.options)==null?void 0:ce.length)||0,")"]})}),t.jsx(Ac,{children:t.jsx(me,{spacing:2,children:(re=b.options)==null?void 0:re.map((ye,ie)=>t.jsxs(C,{sx:{p:2,border:1,borderColor:"divider",borderRadius:1},children:[t.jsxs(j,{variant:"body2",fontWeight:"medium",children:["Option ",ie+1,": ",ye.text]}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Votes: ",ye.voteCount]})]},ye.id))})})]}),t.jsxs(C,{children:[t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Poll ID: ",b.id]}),t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Created: ",new Date(b.createdAt).toLocaleString()]}),t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Channel: ",(je=b.channel)==null?void 0:je.name]}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Creator: ",(Oe=b.creator)==null?void 0:Oe.displayName]})]})]})}),t.jsxs(Jt,{children:[t.jsx(ue,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(ue,{onClick:()=>oe(),variant:"contained",children:"Save Changes"})]})]})]})},TK=()=>{const{api:e}=Ke(),{execute:n}=tt(),[r,s]=x.useState([]),[o,i]=x.useState(0),[l,d]=x.useState(!1),[u,h]=x.useState(null),[f,m]=x.useState([]),[g,y]=x.useState(!1),[b,w]=x.useState(null),[v,I]=x.useState(0),[S,D]=x.useState(25),[T,E]=x.useState(""),[R,O]=x.useState(""),[k,N]=x.useState(""),[B,K]=x.useState(""),[$,Y]=x.useState("created_at"),[J,G]=x.useState("desc"),q=async()=>{var re;d(!0),h(null);try{const je={};T&&(je.search=T),R&&(je.status=R),k==="true"&&(je.trending=!0),B==="true"&&(je.verified=!0);const Oe=await n(()=>e.admin.channels.getAllChannels(je,{page:v+1,limit:S}),{showErrorToast:!1});Oe&&(s(Oe.items||[]),i(((re=Oe.metadata)==null?void 0:re.total)||0))}catch{h("Failed to fetch channels")}finally{d(!1)}};x.useEffect(()=>{q()},[v,S,T,R,k,B,$,J]);const Q=re=>{w(re),y(!0)},z=async re=>{const je=re.map(Oe=>Oe.id);try{await Promise.all(je.map(Oe=>n(()=>e.app.channel.deleteChannel(Oe)))),m([]),q()}catch{h("Failed to delete channels")}},oe=async re=>{if(b)try{await n(()=>e.app.channel.updateChannel(b.id,re)),y(!1),w(null),q()}catch{h("Failed to update channel")}},U=re=>{switch(re){case 1:return"success";case 2:return"warning";case 3:return"error";case 4:return"default";default:return"default"}},ee=re=>{switch(re){case 1:return"Active";case 2:return"Pending";case 3:return"Suspended";case 4:return"Inactive";default:return"Unknown"}},Pe=[{id:"name",label:"Channel",minWidth:200,sortable:!0,format:(re,je)=>t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(Sn,{src:je.logoUrl,sx:{width:40,height:40},children:re==null?void 0:re[0]}),t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:re}),t.jsxs(j,{variant:"caption",color:"text.secondary",noWrap:!0,children:["@",je.handle,"  ID: ",je.id]})]})]})},{id:"description",label:"Description",minWidth:200,format:re=>t.jsx(j,{variant:"body2",noWrap:!0,sx:{maxWidth:200},children:re||"No description"})},{id:"status",label:"Status",minWidth:100,sortable:!0,format:re=>t.jsx(Qe,{label:ee(re),color:U(re),size:"small"})},{id:"stats",label:"Stats",minWidth:150,format:(re,je)=>{var Oe,ye,ie,ae,se,xe;return t.jsxs(me,{spacing:.5,children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(bo,{sx:{fontSize:14},color:"action"}),t.jsxs(j,{variant:"caption",children:[((ye=(Oe=je.stats)==null?void 0:Oe.activeSubscriptionCount)==null?void 0:ye.toLocaleString())||"0"," subscribers"]})]}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(Yo,{sx:{fontSize:14},color:"action"}),t.jsxs(j,{variant:"caption",children:[((ae=(ie=je.stats)==null?void 0:ie.newsCount)==null?void 0:ae.toLocaleString())||"0"," news"]})]}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx($f,{sx:{fontSize:14},color:"action"}),t.jsxs(j,{variant:"caption",children:[((xe=(se=je.stats)==null?void 0:se.pollCount)==null?void 0:xe.toLocaleString())||"0"," polls"]})]})]})}},{id:"tiers",label:"Tiers",minWidth:80,align:"center",format:(re,je)=>{var Oe,ye;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5,justifyContent:"center"},children:[t.jsx(Bf,{sx:{fontSize:14},color:"action"}),t.jsx(j,{variant:"body2",children:((Oe=je.stats)==null?void 0:Oe.tierCount)||((ye=je.tiers)==null?void 0:ye.length)||"0"})]})}},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:re=>t.jsx(j,{variant:"body2",children:new Date(re).toLocaleDateString()})},{id:"updatedAt",label:"Updated",minWidth:120,sortable:!0,format:re=>t.jsx(j,{variant:"body2",children:new Date(re).toLocaleDateString()})}],pe=[{value:1,label:"Active"},{value:2,label:"Pending"},{value:3,label:"Suspended"},{value:4,label:"Inactive"}],Re=t.jsxs(me,{direction:"row",spacing:1,children:[t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Status"}),t.jsxs(mt,{value:R,label:"Status",onChange:re=>O(re.target.value),children:[t.jsx(we,{value:"",children:"All Status"}),pe.map(re=>t.jsx(we,{value:re.value,children:re.label},re.value))]})]}),t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Trending"}),t.jsxs(mt,{value:k,label:"Trending",onChange:re=>N(re.target.value),children:[t.jsx(we,{value:"",children:"All"}),t.jsx(we,{value:"true",children:"Trending Only"}),t.jsx(we,{value:"false",children:"Non-Trending"})]})]}),t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Verified"}),t.jsxs(mt,{value:B,label:"Verified",onChange:re=>K(re.target.value),children:[t.jsx(we,{value:"",children:"All"}),t.jsx(we,{value:"true",children:"Verified Only"}),t.jsx(we,{value:"false",children:"Not Verified"})]})]})]}),ce=re=>t.jsxs(me,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View",children:t.jsx(Ne,{size:"small",onClick:je=>{je.stopPropagation(),window.open(be.APP_CHANNEL_VIEW.replace(":channelId",re.id),"_blank")},children:t.jsx(ks,{fontSize:"small"})})}),t.jsx(jt,{title:"Edit",children:t.jsx(Ne,{size:"small",onClick:je=>{je.stopPropagation(),Q(re)},children:t.jsx(ms,{fontSize:"small"})})})]});return t.jsxs(C,{children:[t.jsx(Do,{title:"Channel Management",columns:Pe,rows:r,totalCount:o,loading:l,error:u,selected:f,onSelectionChange:m,onEdit:Q,onDelete:z,onRefresh:q,onSearch:E,onSort:(re,je)=>{Y(re),G(je)},onPageChange:I,onRowsPerPageChange:D,page:v,rowsPerPage:S,searchQuery:T,sortColumn:$,sortDirection:J,filters:Re,rowActions:ce}),t.jsxs(Kt,{open:g,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"Edit Channel"}),t.jsx(Xt,{children:b&&t.jsxs(me,{spacing:3,sx:{pt:1},children:[t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(nt,{label:"Channel Name",fullWidth:!0,defaultValue:b.name,onChange:re=>w({...b,name:re.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(nt,{label:"Handle",fullWidth:!0,defaultValue:b.handle,onChange:re=>w({...b,handle:re.target.value}),InputProps:{startAdornment:"@"}})})]}),t.jsx(nt,{label:"Description",fullWidth:!0,multiline:!0,rows:3,defaultValue:b.description,onChange:re=>w({...b,description:re.target.value})}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(nt,{label:"Logo URL",fullWidth:!0,defaultValue:b.logoUrl,onChange:re=>w({...b,logoUrl:re.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(nt,{label:"Banner URL",fullWidth:!0,defaultValue:b.bannerUrl,onChange:re=>w({...b,bannerUrl:re.target.value})})})]}),t.jsxs(ht,{fullWidth:!0,children:[t.jsx(St,{children:"Status"}),t.jsx(mt,{value:b.status,label:"Status",onChange:re=>w({...b,status:re.target.value}),children:pe.map(re=>t.jsx(we,{value:re.value,children:re.label},re.value))})]}),b.tiers&&b.tiers.length>0&&t.jsxs(Dc,{children:[t.jsx(Tc,{expandIcon:t.jsx(Ec,{}),children:t.jsxs(j,{variant:"subtitle2",children:["Subscription Tiers (",b.tiers.length,")"]})}),t.jsx(Ac,{children:t.jsx(me,{spacing:2,children:b.tiers.map(re=>t.jsx(C,{sx:{p:2,border:1,borderColor:"divider",borderRadius:1},children:t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"body2",fontWeight:"medium",children:re.name}),t.jsx(j,{variant:"caption",color:"text.secondary",children:re.description})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsxs(j,{variant:"body2",children:["Price: ",re.currency," ",re.price]}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Order: ",re.order," ",re.isDefault&&"(Default)"]})]})]})},re.id))})})]}),t.jsxs(C,{children:[t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Channel ID: ",b.id]}),t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Creator ID: ",b.creatorId]}),t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Created: ",new Date(b.createdAt).toLocaleString()]}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Updated: ",new Date(b.updatedAt).toLocaleString()]})]})]})}),t.jsxs(Jt,{children:[t.jsx(ue,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(ue,{onClick:()=>oe(b),variant:"contained",children:"Save Changes"})]})]})]})},EK=()=>{var ae,se,xe;const{api:e}=Ke(),{execute:n}=tt(),[r,s]=x.useState([]),[o,i]=x.useState(0),[l,d]=x.useState(!1),[u,h]=x.useState(null),[f,m]=x.useState([]),[g,y]=x.useState(!1),[b,w]=x.useState(null),[v,I]=x.useState(!1),[S,D]=x.useState(null),[T,E]=x.useState(""),[R,O]=x.useState(""),[k,N]=x.useState(0),[B,K]=x.useState(25),[$,Y]=x.useState(""),[J,G]=x.useState(""),[q]=x.useState(""),[Q,z]=x.useState("created_at"),[oe,U]=x.useState("desc"),ee=async()=>{var he;d(!0),h(null);try{const ke={};J&&(ke.status=parseInt(J)),q&&(ke.channelId=q);const Ee=await n(()=>e.app.expenseOrder.getAllExpenseOrders({page:k+1,limit:B},ke),{showErrorToast:!1});Ee&&(s(Ee.items||[]),i(((he=Ee.metadata)==null?void 0:he.total)||0))}catch{h("Failed to fetch expense orders")}finally{d(!1)}};x.useEffect(()=>{ee()},[k,B,$,J,q,Q,oe]);const Pe=he=>{w(he),y(!0)},pe=(he,ke)=>{w(he),D(ke),I(!0),E(""),O("")},Re=async()=>{if(!(!b||!S))try{let he;switch(S){case"approve":he=await n(()=>e.app.expenseOrder.approveExpenseOrder(b.id,{notes:T}),{showSuccessMessage:!0,successMessage:"Expense order approved successfully!"});break;case"reject":he=await n(()=>e.app.expenseOrder.rejectExpenseOrder(b.id,{rejectionReason:T,notes:T}),{showSuccessMessage:!0,successMessage:"Expense order rejected successfully!"});break;case"payment":he=await n(()=>e.app.expenseOrder.processPayment(b.id,{paymentReference:R}),{showSuccessMessage:!0,successMessage:"Payment processed successfully!"});break}he&&(I(!1),w(null),D(null),ee())}catch(he){console.error(`Failed to ${S} expense order:`,he)}},ce=he=>{switch(he){case et.DRAFT:return"default";case et.SUBMITTED:return"info";case et.UNDER_REVIEW:return"warning";case et.APPROVED:return"success";case et.REJECTED:return"error";case et.PAID:return"success";case et.CANCELLED:return"secondary";default:return"default"}},re=(he,ke)=>new Intl.NumberFormat("en-US",{style:"currency",currency:ke||"USD"}).format(he),je=[{id:"title",label:"Expense",minWidth:200,sortable:!0,format:(he,ke)=>{var Ee;return t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:he}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:[(Ee=ke.type)==null?void 0:Ee.name,"  ID: ",ke.id]})]})}},{id:"journalist",label:"Journalist",minWidth:150,format:(he,ke)=>{var Ee,Ye,fe;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Sn,{sx:{width:24,height:24},children:((Ye=(Ee=ke.journalist)==null?void 0:Ee.displayName)==null?void 0:Ye[0])||"U"}),t.jsx(j,{variant:"body2",noWrap:!0,children:((fe=ke.journalist)==null?void 0:fe.displayName)||"Unknown User"})]})}},{id:"channel",label:"Channel",minWidth:120,format:(he,ke)=>{var Ee;return t.jsx(j,{variant:"body2",noWrap:!0,children:((Ee=ke.channel)==null?void 0:Ee.name)||"Unknown"})}},{id:"amount",label:"Amount",minWidth:100,align:"right",sortable:!0,format:(he,ke)=>t.jsx(j,{variant:"body2",fontWeight:"medium",children:re(he,ke.currency)})},{id:"status",label:"Status",minWidth:120,sortable:!0,format:he=>t.jsx(Qe,{label:$i[he],color:ce(he),size:"small"})},{id:"submitted_at",label:"Submitted",minWidth:120,sortable:!0,format:he=>t.jsx(j,{variant:"body2",children:he?new Date(he).toLocaleDateString():"-"})},{id:"paid_at",label:"Paid",minWidth:120,sortable:!0,format:he=>t.jsx(j,{variant:"body2",children:he?new Date(he).toLocaleDateString():"-"})},{id:"created_at",label:"Created",minWidth:120,sortable:!0,format:he=>t.jsx(j,{variant:"body2",children:new Date(he).toLocaleDateString()})}],Oe=Object.entries($i).map(([he,ke])=>({value:he,label:ke})),ye=t.jsx(me,{direction:"row",spacing:1,children:t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Status"}),t.jsxs(mt,{value:J,label:"Status",onChange:he=>G(he.target.value),children:[t.jsx(we,{value:"",children:"All Status"}),Oe.map(he=>t.jsx(we,{value:he.value,children:he.label},he.value))]})]})}),ie=he=>t.jsxs(me,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View",children:t.jsx(Ne,{size:"small",onClick:ke=>{ke.stopPropagation(),Pe(he)},children:t.jsx(ks,{fontSize:"small"})})}),he.receiptUrl&&t.jsx(jt,{title:"View Receipt",children:t.jsx(Ne,{size:"small",onClick:ke=>{ke.stopPropagation(),window.open(he.receiptUrl,"_blank")},children:t.jsx(Ks,{fontSize:"small"})})}),he.status===et.UNDER_REVIEW&&t.jsxs(t.Fragment,{children:[t.jsx(jt,{title:"Approve",children:t.jsx(Ne,{size:"small",onClick:ke=>{ke.stopPropagation(),pe(he,"approve")},children:t.jsx(Ja,{fontSize:"small",color:"success"})})}),t.jsx(jt,{title:"Reject",children:t.jsx(Ne,{size:"small",onClick:ke=>{ke.stopPropagation(),pe(he,"reject")},children:t.jsx(Rs,{fontSize:"small",color:"error"})})})]}),he.status===et.APPROVED&&t.jsx(jt,{title:"Process Payment",children:t.jsx(Ne,{size:"small",onClick:ke=>{ke.stopPropagation(),pe(he,"payment")},children:t.jsx(Ma,{fontSize:"small",color:"primary"})})})]});return t.jsxs(C,{children:[t.jsx(Do,{title:"Expense Order Management",columns:je,rows:r,totalCount:o,loading:l,error:u,selected:f,onSelectionChange:m,onEdit:Pe,onRefresh:ee,onSearch:Y,onSort:(he,ke)=>{z(he),U(ke)},onPageChange:N,onRowsPerPageChange:K,page:k,rowsPerPage:B,searchQuery:$,sortColumn:Q,sortDirection:oe,filters:ye,rowActions:ie}),t.jsxs(Kt,{open:g,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"View Expense Order"}),t.jsx(Xt,{children:b&&t.jsxs(me,{spacing:3,sx:{pt:1},children:[t.jsx(Fe,{variant:"outlined",children:t.jsx(We,{children:t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Title"}),t.jsx(j,{variant:"body2",children:b.title})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Amount"}),t.jsx(j,{variant:"body2",fontWeight:"medium",children:re(b.amount,b.currency)})]}),t.jsxs(F,{item:!0,xs:12,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Description"}),t.jsx(j,{variant:"body2",children:b.description})]})]})})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(We,{children:[t.jsx(j,{variant:"subtitle2",gutterBottom:!0,children:"Details"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"caption",color:"text.secondary",children:"Journalist"}),t.jsx(j,{variant:"body2",children:((ae=b.journalist)==null?void 0:ae.displayName)||"Unknown User"})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"caption",color:"text.secondary",children:"Channel"}),t.jsx(j,{variant:"body2",children:(se=b.channel)==null?void 0:se.name})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"caption",color:"text.secondary",children:"Type"}),t.jsx(j,{variant:"body2",children:(xe=b.type)==null?void 0:xe.name})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"caption",color:"text.secondary",children:"Status"}),t.jsx(Qe,{label:$i[b.status],color:ce(b.status),size:"small"})]})]})]})}),b.notes&&t.jsx(dt,{severity:"info",children:t.jsx(j,{variant:"body2",children:b.notes})}),b.rejectionReason&&t.jsx(dt,{severity:"error",children:t.jsx(j,{variant:"body2",children:b.rejectionReason})}),b.paymentReference&&t.jsx(dt,{severity:"success",children:t.jsxs(j,{variant:"body2",children:["Payment Reference: ",b.paymentReference]})})]})}),t.jsx(Jt,{children:t.jsx(ue,{onClick:()=>y(!1),children:"Close"})})]}),t.jsxs(Kt,{open:v,onClose:()=>I(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsxs(tn,{children:[S==="approve"&&"Approve Expense Order",S==="reject"&&"Reject Expense Order",S==="payment"&&"Process Payment"]}),t.jsx(Xt,{children:t.jsxs(me,{spacing:2,sx:{pt:1},children:[S==="payment"&&t.jsx(nt,{label:"Payment Reference",fullWidth:!0,value:R,onChange:he=>O(he.target.value),placeholder:"Enter payment reference or transaction ID"}),t.jsx(nt,{label:S==="reject"?"Rejection Reason":"Notes",fullWidth:!0,multiline:!0,rows:3,value:T,onChange:he=>E(he.target.value),placeholder:S==="reject"?"Explain why this expense order is being rejected...":"Add any additional notes...",required:S==="reject"})]})}),t.jsxs(Jt,{children:[t.jsx(ue,{onClick:()=>I(!1),children:"Cancel"}),t.jsxs(ue,{onClick:Re,variant:"contained",color:S==="approve"?"success":S==="reject"?"error":"primary",disabled:S==="reject"&&!T.trim(),children:[S==="approve"&&"Approve",S==="reject"&&"Reject",S==="payment"&&"Process Payment"]})]})]})]})},AK=()=>{var se,xe,he,ke,Ee,Ye;const[e,n]=x.useState([]),[r,s]=x.useState(0),[o,i]=x.useState(!1),[l,d]=x.useState(null),[u,h]=x.useState([]),[f,m]=x.useState(!1),[g,y]=x.useState(!1),[b,w]=x.useState(!1),[v,I]=x.useState(null),[S,D]=x.useState(""),[T,E]=x.useState(0),[R,O]=x.useState(25),[k,N]=x.useState(""),[B,K]=x.useState(""),[$,Y]=x.useState("createdAt"),[J,G]=x.useState("desc"),{api:q}=Ke(),{execute:Q}=tt(),z=x.useCallback(async()=>{if(q!=null&&q.app.payout){i(!0),d(null);try{const fe={limit:R,offset:T*R};B&&(fe.status=B);const Se=await Q(()=>q.app.payout.getPayouts(fe));Se&&(n(Se.items||[]),s(Se.total||0))}catch(fe){console.error("Failed to fetch payouts:",fe),d("Failed to fetch payouts"),n([]),s(0)}finally{i(!1)}}},[q,Q,T,R,B]);x.useEffect(()=>{z()},[z]);const oe=fe=>{I(fe),m(!0)},U=fe=>{I(fe),y(!0)},ee=async()=>{if(!(!v||!(q!=null&&q.app.payout)))try{await Q(()=>q.app.payout.processPayout(v.id)),y(!1),I(null),z()}catch{d("Failed to process payout")}},Pe=async fe=>{if(q!=null&&q.app.payout)try{await Q(()=>q.app.payout.retryPayout(fe.id)),z()}catch{d("Failed to retry payout")}},pe=fe=>{I(fe),D(""),w(!0)},Re=async()=>{if(!(!v||!(q!=null&&q.app.payout)))try{await Q(()=>q.app.payout.cancelPayout(v.id,{reason:S})),w(!1),I(null),D(""),z()}catch{d("Failed to cancel payout")}},ce=fe=>{switch(fe){case"pending":return"warning";case"processing":return"info";case"completed":return"success";case"failed":return"error";case"cancelled":return"default";default:return"default"}},re=(fe,Se)=>new Intl.NumberFormat("en-US",{style:"currency",currency:Se||"USD"}).format(fe/100),je=fe=>fe?`${fe.firstName} ${fe.lastName}`:"Unknown",Oe=[{id:"expenseOrder",label:"Expense Order",minWidth:200,sortable:!0,format:(fe,Se)=>{var X,L,_e;return t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:((X=Se.expenseOrder)==null?void 0:X.title)||"N/A"}),t.jsxs(me,{direction:"row",spacing:1,alignItems:"center",children:[t.jsx(Qe,{label:((_e=(L=Se.expenseOrder)==null?void 0:L.type)==null?void 0:_e.name)||"Unknown",size:"small",variant:"outlined",sx:{height:16,"& .MuiChip-label":{fontSize:"0.6rem",px:.5}}}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["#",Se.id.slice(0,8)]})]})]})}},{id:"channel",label:"Channel",minWidth:120,format:(fe,Se)=>{var X;return t.jsx(j,{variant:"body2",noWrap:!0,children:((X=Se.channel)==null?void 0:X.name)||"N/A"})}},{id:"journalist",label:"Journalist",minWidth:140,format:(fe,Se)=>{var X,L;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Sn,{sx:{width:24,height:24},children:((L=(X=Se.journalist)==null?void 0:X.firstName)==null?void 0:L[0])||"U"}),t.jsx(j,{variant:"body2",noWrap:!0,children:je(Se.journalist)})]})}},{id:"grossAmount",label:"Gross",minWidth:90,align:"right",sortable:!0,format:(fe,Se)=>t.jsx(j,{variant:"body2",children:re(Se.grossAmount,Se.currency)})},{id:"platformFeeAmount",label:"Fee",minWidth:80,align:"right",format:(fe,Se)=>t.jsxs(j,{variant:"body2",color:"text.secondary",children:["-",re(Se.platformFeeAmount,Se.currency)]})},{id:"netAmount",label:"Net Payout",minWidth:100,align:"right",sortable:!0,format:(fe,Se)=>t.jsx(j,{variant:"body2",fontWeight:"medium",color:"primary",children:re(Se.netAmount,Se.currency)})},{id:"status",label:"Status",minWidth:120,sortable:!0,format:(fe,Se)=>t.jsxs(me,{spacing:.5,children:[t.jsx(Qe,{label:fe,color:ce(fe),size:"small",sx:{textTransform:"capitalize"}}),Se.errorMessage&&t.jsx(jt,{title:Se.errorMessage,children:t.jsx(KR,{color:"error",sx:{fontSize:16}})}),Se.retryCount>0&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Retry ",Se.retryCount,"/",Se.maxRetries]})]})},{id:"paymentReference",label:"Payment Ref",minWidth:120,format:fe=>t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.75rem"},children:fe?fe.slice(0,12)+"...":"-"})},{id:"createdAt",label:"Created",minWidth:110,sortable:!0,format:fe=>t.jsx(j,{variant:"body2",children:new Date(fe).toLocaleDateString()})}],ye=[{value:"pending",label:"Pending"},{value:"processing",label:"Processing"},{value:"completed",label:"Completed"},{value:"failed",label:"Failed"},{value:"cancelled",label:"Cancelled"}],ie=t.jsx(me,{direction:"row",spacing:1,children:t.jsxs(ht,{size:"small",sx:{minWidth:140},children:[t.jsx(St,{children:"Status"}),t.jsxs(mt,{value:B,label:"Status",onChange:fe=>K(fe.target.value),children:[t.jsx(we,{value:"",children:"All Status"}),ye.map(fe=>t.jsx(we,{value:fe.value,children:fe.label},fe.value))]})]})}),ae=fe=>t.jsxs(me,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View Details",children:t.jsx(Ne,{size:"small",onClick:Se=>{Se.stopPropagation(),oe(fe)},children:t.jsx(ks,{fontSize:"small"})})}),fe.status==="pending"&&t.jsx(jt,{title:"Process Payout",children:t.jsx(Ne,{size:"small",onClick:Se=>{Se.stopPropagation(),U(fe)},children:t.jsx(Ma,{fontSize:"small",color:"primary"})})}),fe.status==="failed"&&fe.retryCount<fe.maxRetries&&t.jsx(jt,{title:"Retry Payout",children:t.jsx(Ne,{size:"small",onClick:Se=>{Se.stopPropagation(),Pe(fe)},children:t.jsx(XR,{fontSize:"small",color:"warning"})})}),(fe.status==="pending"||fe.status==="failed")&&t.jsx(jt,{title:"Cancel Payout",children:t.jsx(Ne,{size:"small",onClick:Se=>{Se.stopPropagation(),pe(fe)},children:t.jsx(Rs,{fontSize:"small",color:"error"})})}),fe.paymentReference&&t.jsx(jt,{title:"View Payment Details",children:t.jsx(Ne,{size:"small",onClick:Se=>{Se.stopPropagation()},children:t.jsx(Ks,{fontSize:"small"})})})]});return t.jsxs(C,{children:[t.jsx(Do,{title:"Payout Management",columns:Oe,rows:e,totalCount:r,loading:o,error:l,selected:u,onSelectionChange:h,onRefresh:z,onSearch:N,onSort:(fe,Se)=>{Y(fe),G(Se)},onPageChange:E,onRowsPerPageChange:O,page:T,rowsPerPage:R,searchQuery:k,sortColumn:$,sortDirection:J,filters:ie,rowActions:ae}),t.jsxs(Kt,{open:f,onClose:()=>m(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"Payout Details"}),t.jsx(Xt,{children:v&&t.jsxs(me,{spacing:3,sx:{pt:1},children:[t.jsx(Fe,{variant:"outlined",children:t.jsxs(We,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Expense Order Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Title"}),t.jsx(j,{variant:"body2",children:((se=v.expenseOrder)==null?void 0:se.title)||"N/A"})]}),t.jsxs(F,{item:!0,xs:12,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Description"}),t.jsx(j,{variant:"body2",children:((xe=v.expenseOrder)==null?void 0:xe.description)||"N/A"})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Type"}),t.jsx(Qe,{label:((ke=(he=v.expenseOrder)==null?void 0:he.type)==null?void 0:ke.name)||"Unknown",size:"small"})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Expense Order ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.85rem"},children:v.expenseOrderId})]})]})]})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(We,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Payout Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Journalist"}),t.jsx(j,{variant:"body2",children:je(v.journalist)}),t.jsx(j,{variant:"caption",color:"text.secondary",children:(Ee=v.journalist)==null?void 0:Ee.email})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Channel"}),t.jsx(j,{variant:"body2",children:((Ye=v.channel)==null?void 0:Ye.name)||"N/A"})]}),t.jsxs(F,{item:!0,xs:12,sm:4,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Gross Amount"}),t.jsx(j,{variant:"body2",children:re(v.grossAmount,v.currency)})]}),t.jsxs(F,{item:!0,xs:12,sm:4,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Platform Fee"}),t.jsxs(j,{variant:"body2",color:"error",children:["-",re(v.platformFeeAmount,v.currency)]})]}),t.jsxs(F,{item:!0,xs:12,sm:4,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Net Payout"}),t.jsx(j,{variant:"body2",fontWeight:"medium",color:"primary",children:re(v.netAmount,v.currency)})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Status"}),t.jsx(Qe,{label:v.status,color:ce(v.status),size:"small",sx:{textTransform:"capitalize"}})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Payment Reference"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.85rem"},children:v.paymentReference||"Not processed"})]})]})]})}),v.status==="failed"&&t.jsx(Fe,{variant:"outlined",children:t.jsxs(We,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Retry Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Retry Count"}),t.jsxs(j,{variant:"body2",children:[v.retryCount," / ",v.maxRetries]})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Next Retry"}),t.jsx(j,{variant:"body2",children:v.nextRetryAt?new Date(v.nextRetryAt).toLocaleString():"No retry scheduled"})]}),v.errorCategory&&t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Error Category"}),t.jsx(Qe,{label:v.errorCategory,size:"small",color:"error"})]})]})]})}),v.errorMessage&&t.jsx(dt,{severity:"error",children:t.jsx(j,{variant:"body2",children:v.errorMessage})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(We,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Timeline"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(j,{variant:"body2",children:new Date(v.createdAt).toLocaleString()})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Processed"}),t.jsx(j,{variant:"body2",children:v.processedAt?new Date(v.processedAt).toLocaleString():"Not processed"})]}),v.processedBy&&t.jsxs(F,{item:!0,xs:12,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Processed By"}),t.jsx(j,{variant:"body2",children:v.processedBy})]})]})]})})]})}),t.jsx(Jt,{children:t.jsx(ue,{onClick:()=>m(!1),children:"Close"})})]}),t.jsxs(Kt,{open:g,onClose:()=>y(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Process Payout"}),t.jsx(Xt,{children:t.jsxs(me,{spacing:2,sx:{pt:1},children:[v&&t.jsxs(dt,{severity:"warning",icon:t.jsx(Ma,{}),children:[t.jsxs(j,{variant:"body2",children:["You are about to process a payout of"," ",t.jsx("strong",{children:re(v.netAmount,v.currency)})," ","to ",t.jsx("strong",{children:je(v.journalist)}),"."]}),t.jsxs(j,{variant:"body2",sx:{mt:1},children:["Platform fee: ",re(v.platformFeeAmount,v.currency)]})]}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"This action will initiate the payment process. The funds will be transferred to the journalist's payment method on file."})]})}),t.jsxs(Jt,{children:[t.jsx(ue,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(ue,{onClick:ee,variant:"contained",color:"primary",startIcon:t.jsx(Ja,{}),children:"Confirm & Process"})]})]}),t.jsxs(Kt,{open:b,onClose:()=>w(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Cancel Payout"}),t.jsx(Xt,{children:t.jsxs(me,{spacing:2,sx:{pt:1},children:[v&&t.jsx(dt,{severity:"error",children:t.jsxs(j,{variant:"body2",children:["You are about to cancel the payout for ",t.jsx("strong",{children:je(v.journalist)}),"."]})}),t.jsx(nt,{label:"Cancellation Reason",fullWidth:!0,multiline:!0,rows:3,value:S,onChange:fe=>D(fe.target.value),placeholder:"Provide a reason for cancelling this payout..."})]})}),t.jsxs(Jt,{children:[t.jsx(ue,{onClick:()=>w(!1),children:"Close"}),t.jsx(ue,{onClick:Re,variant:"contained",color:"error",startIcon:t.jsx(Rs,{}),children:"Cancel Payout"})]})]})]})},RK=()=>{const{api:e}=Ke(),{execute:n}=tt(),[r,s]=x.useState([]),[o,i]=x.useState(0),[l,d]=x.useState(!1),[u,h]=x.useState(null),[f,m]=x.useState([]),[g,y]=x.useState(!1),[b,w]=x.useState(!1),[v,I]=x.useState(null),[S,D]=x.useState(null),[T,E]=x.useState(""),[R,O]=x.useState(0),[k,N]=x.useState(25),[B,K]=x.useState(""),[$,Y]=x.useState(""),[J]=x.useState(""),[G,q]=x.useState("created_at"),[Q,z]=x.useState("desc"),oe=x.useCallback(async()=>{var ie;d(!0),h(null);try{const ae={};B&&(ae.search=B),$&&(ae.status=$),J&&(ae.channel_id=J);const se=await n(()=>e.app.subscription.getAllSubscriptions({page:R+1,limit:k},ae),{showErrorToast:!1});se&&(s(se.items||[]),i(((ie=se.metadata)==null?void 0:ie.total)||0))}catch{h("Failed to fetch subscriptions")}finally{d(!1)}},[R,k,B,$,J,e.app.subscription,n]);x.useEffect(()=>{oe()},[oe]);const U=ie=>{I(ie),y(!0)},ee=(ie,ae)=>{I(ie),D(ae),w(!0),E("")},Pe=async()=>{if(!(!v||!S))try{const ie=S==="activate"?"active":S==="suspend"?"suspended":"canceled";await n(()=>e.app.subscription.updateSubscriptionStatus(v.id,ie,T)),w(!1),I(null),D(null),E(""),oe()}catch{h(`Failed to ${S} subscription`)}},pe=async()=>{try{const ie=$==="cancelled"?"canceled":$,ae=await n(()=>e.app.subscription.exportSubscriptions({status:ie,channel_id:J},"csv"));if(ae){const se=window.URL.createObjectURL(ae),xe=document.createElement("a");xe.href=se,xe.download=`subscriptions-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(xe),xe.click(),window.URL.revokeObjectURL(se),document.body.removeChild(xe)}}catch{h("Failed to export subscriptions")}},Re=(ie,ae)=>new Intl.NumberFormat("en-US",{style:"currency",currency:ae||"USD"}).format(ie),ce=ie=>new Date(ie).toLocaleDateString(),re=[{id:"user",label:"User",minWidth:180,format:(ie,ae)=>{var se,xe;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Sn,{sx:{width:32,height:32},children:((se=ae.user.displayName)==null?void 0:se[0])||((xe=ae.user.email)==null?void 0:xe[0])}),t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:ae.user.displayName}),t.jsx(j,{variant:"caption",color:"text.secondary",noWrap:!0,children:ae.user.email})]})]})}},{id:"channel",label:"Channel",minWidth:120,format:(ie,ae)=>t.jsx(j,{variant:"body2",noWrap:!0,children:ae.channel.name})},{id:"tier",label:"Tier",minWidth:150,format:(ie,ae)=>t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:ae.tier.name}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Re(ae.tier.price,ae.tier.currency)})]})},{id:"statusId",label:"Status",minWidth:100,sortable:!0,format:ie=>t.jsx(Qe,{label:ed(ie),color:td(ie),size:"small",sx:{textTransform:"capitalize"}})},{id:"subscribedAt",label:"Subscribed",minWidth:120,sortable:!0,format:ie=>t.jsx(j,{variant:"body2",children:ce(ie)})},{id:"expiresAt",label:"Expires",minWidth:120,sortable:!0,format:ie=>t.jsx(j,{variant:"body2",children:ie?ce(ie):"Never"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:ie=>t.jsx(j,{variant:"body2",children:ce(ie)})}],je=QB,Oe=t.jsx(me,{direction:"row",spacing:1,children:t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Status"}),t.jsxs(mt,{value:$,label:"Status",onChange:ie=>Y(ie.target.value),children:[t.jsx(we,{value:"",children:"All Status"}),je.map(ie=>t.jsx(we,{value:ie.value,children:ie.label},ie.value))]})]})}),ye=ie=>t.jsxs(me,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View Details",children:t.jsx(Ne,{size:"small",onClick:ae=>{ae.stopPropagation(),U(ie)},children:t.jsx(ks,{fontSize:"small"})})}),ie.statusId===yn.SUSPENDED&&t.jsx(jt,{title:"Activate",children:t.jsx(Ne,{size:"small",onClick:ae=>{ae.stopPropagation(),ee(ie,"activate")},children:t.jsx(Ja,{fontSize:"small",color:"success"})})}),ie.statusId===yn.ACTIVE&&t.jsx(jt,{title:"Suspend",children:t.jsx(Ne,{size:"small",onClick:ae=>{ae.stopPropagation(),ee(ie,"suspend")},children:t.jsx(_v,{fontSize:"small",color:"warning"})})}),ie.statusId!==yn.CANCELLED&&t.jsx(jt,{title:"Cancel",children:t.jsx(Ne,{size:"small",onClick:ae=>{ae.stopPropagation(),ee(ie,"cancel")},children:t.jsx(Rs,{fontSize:"small",color:"error"})})})]});return t.jsxs(C,{children:[t.jsx(Do,{title:"Subscription Management",columns:re,rows:r,totalCount:o,loading:l,error:u,selected:f,onSelectionChange:m,onRefresh:oe,onSearch:K,onSort:(ie,ae)=>{q(ie),z(ae)},onPageChange:O,onRowsPerPageChange:N,page:R,rowsPerPage:k,searchQuery:B,sortColumn:G,sortDirection:Q,filters:Oe,rowActions:ye,actions:t.jsxs(me,{direction:"row",spacing:1,children:[t.jsx(ue,{variant:"outlined",startIcon:t.jsx(ps,{}),onClick:()=>{},children:"Analytics"}),t.jsx(ue,{variant:"outlined",startIcon:t.jsx(kv,{}),onClick:pe,children:"Export"})]})}),t.jsxs(Kt,{open:g,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"Subscription Details"}),t.jsx(Xt,{children:v&&t.jsxs(me,{spacing:3,sx:{pt:1},children:[t.jsx(Fe,{variant:"outlined",children:t.jsxs(We,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"User Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Name"}),t.jsx(j,{variant:"body2",children:v.user.displayName})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Email"}),t.jsx(j,{variant:"body2",children:v.user.email})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"User ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace"},children:v.user.id})]})]})]})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(We,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Subscription Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Channel"}),t.jsx(j,{variant:"body2",children:v.channel.name})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Tier"}),t.jsx(j,{variant:"body2",children:v.tier.name})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Price"}),t.jsx(j,{variant:"body2",fontWeight:"medium",children:Re(v.tier.price,v.tier.currency)})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Status"}),t.jsx(Qe,{label:ed(v.statusId),color:td(v.statusId),size:"small",sx:{textTransform:"capitalize"}})]})]})]})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(We,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Timeline"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Subscribed"}),t.jsx(j,{variant:"body2",children:ce(v.subscribedAt)})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Expires"}),t.jsx(j,{variant:"body2",children:v.expiresAt?ce(v.expiresAt):"Never"})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(j,{variant:"body2",children:ce(v.createdAt)})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Updated"}),t.jsx(j,{variant:"body2",children:ce(v.updatedAt)})]})]})]})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(We,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"System Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Subscription ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace"},children:v.id})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Channel ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace"},children:v.channel.id})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Tier ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace"},children:v.tier.id})]})]})]})})]})}),t.jsx(Jt,{children:t.jsx(ue,{onClick:()=>y(!1),children:"Close"})})]}),t.jsxs(Kt,{open:b,onClose:()=>w(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsxs(tn,{children:[S==="activate"&&"Activate Subscription",S==="suspend"&&"Suspend Subscription",S==="cancel"&&"Cancel Subscription"]}),t.jsx(Xt,{children:t.jsxs(me,{spacing:2,sx:{pt:1},children:[v&&t.jsxs(dt,{severity:S==="activate"?"info":"warning",children:[S==="activate"&&`Activating subscription for ${v.user.displayName}`,S==="suspend"&&`Suspending subscription for ${v.user.displayName}`,S==="cancel"&&`Canceling subscription for ${v.user.displayName}`]}),t.jsx(nt,{label:"Reason",fullWidth:!0,multiline:!0,rows:3,value:T,onChange:ie=>E(ie.target.value),placeholder:`Explain why this subscription is being ${S}d...`,required:S!=="activate"})]})}),t.jsxs(Jt,{children:[t.jsx(ue,{onClick:()=>w(!1),children:"Cancel"}),t.jsxs(ue,{onClick:Pe,variant:"contained",color:S==="activate"?"success":S==="suspend"?"warning":"error",disabled:(S==="suspend"||S==="cancel")&&!T.trim(),children:[S==="activate"&&"Activate",S==="suspend"&&"Suspend",S==="cancel"&&"Cancel"]})]})]})]})},kK=()=>{const{api:e}=Ke(),{execute:n}=tt(),[r,s]=x.useState([]),[o,i]=x.useState(0),[l,d]=x.useState(!1),[u,h]=x.useState(null),[f,m]=x.useState([]),[g,y]=x.useState(!1),[b,w]=x.useState(!1),[v,I]=x.useState(!1),[S,D]=x.useState(null),[T,E]=x.useState({email:"",externalId:"",displayName:"",photoUrl:"",roleId:an.REGULAR_USER,statusId:Yn.ACTIVE}),[R,O]=x.useState({system_role:an.REGULAR_USER,system_status:Yn.ACTIVE}),[k,N]=x.useState(0),[B,K]=x.useState(25),[$,Y]=x.useState(""),[J,G]=x.useState(""),[q,Q]=x.useState(""),[z,oe]=x.useState("created_at"),[U,ee]=x.useState("desc"),Pe=async()=>{var L;d(!0),h(null);try{const _e={page:k+1,limit:B,sort:z,order:U,search:$||void 0,status:J||void 0,role:q||void 0},Ve=await n(()=>e.admin.users.getAllUsers(_e),{showErrorToast:!1});Ve&&(s(Ve.items||[]),i(((L=Ve.metadata)==null?void 0:L.total)||0))}catch{h("Failed to fetch users")}finally{d(!1)}};x.useEffect(()=>{Pe()},[k,B,$,J,q,z,U]);const pe=L=>{D(L),y(!0)},Re=async L=>{const _e=L.map(Ve=>Ve.id);try{await Promise.all(_e.map(Ve=>n(()=>e.admin.users.deleteUser(Ve)))),m([]),Pe()}catch{h("Failed to delete users")}},ce=async L=>{if(S)try{await n(()=>e.admin.users.updateUser(S.id,L),{showSuccessMessage:!0,successMessage:"User updated successfully"}),y(!1),D(null),Pe()}catch{h("Failed to update user")}},re=async()=>{try{await n(()=>e.admin.users.registerUser(T),{showSuccessMessage:!0,successMessage:"User registered successfully"}),w(!1),E({email:"",externalId:"",displayName:"",photoUrl:"",roleId:an.REGULAR_USER,statusId:Yn.ACTIVE}),Pe()}catch{h("Failed to register user")}},je=async(L,_e)=>{try{await n(()=>e.admin.users.suspendUser(L,{reason:_e}),{showSuccessMessage:!0,successMessage:"User suspended successfully"}),Pe()}catch{h("Failed to suspend user")}},Oe=async(L,_e)=>{try{await n(()=>e.admin.users.unsuspendUser(L,{reason:_e}),{showSuccessMessage:!0,successMessage:"User unsuspended successfully"}),Pe()}catch{h("Failed to unsuspend user")}},ye=async()=>{if(S)try{await n(()=>e.admin.users.updateUserCustomClaims(S.id,R),{showSuccessMessage:!0,successMessage:"Custom claims updated successfully"}),I(!1),Pe()}catch{h("Failed to update custom claims")}},ie=L=>{D(L),O({system_role:L.roleId??an.REGULAR_USER,system_status:L.statusId??Yn.ACTIVE}),I(!0)},ae=L=>{switch(L){case an.SUPER_ADMIN:return"error";case an.ADMIN:return"error";case an.MODERATOR:return"warning";case an.JOURNALIST:return"primary";case an.EDITOR:return"info";case an.EVALUATOR:return"secondary";case an.FINANCE_MANAGER:return"success";case an.REGULAR_USER:return"default";case an.GUEST:return"default";default:return"default"}},se=L=>{const _e=Object.entries(an).find(([,Ve])=>Ve===L);return _e?_e[0].replace(/_/g," ").toLowerCase().replace(/\b\w/g,Ve=>Ve.toUpperCase()):"Unknown"},xe=L=>{switch(L){case Yn.ACTIVE:return"success";case Yn.INACTIVE:return"default";case Yn.PENDING:return"warning";case Yn.BLOCKED:return"error";case Yn.SUSPENDED:return"warning";case Yn.BANNED:return"error";case Yn.DELETED:return"secondary";case Yn.NOT_VERIFIED:return"info";default:return"default"}},he=L=>{const _e=Object.entries(Yn).find(([,Ve])=>Ve===L);return _e?_e[0].replace(/_/g," ").toLowerCase().replace(/\b\w/g,Ve=>Ve.toUpperCase()):"Unknown"},ke=[{id:"displayName",label:"User",minWidth:200,sortable:!0,format:(L,_e)=>{var Ve;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(Sn,{src:_e.photoUrl,sx:{width:40,height:40},children:(L==null?void 0:L[0])||((Ve=_e.email)==null?void 0:Ve[0])}),t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:L}),t.jsx(j,{variant:"caption",color:"text.secondary",noWrap:!0,children:_e.email})]})]})}},{id:"roleId",label:"Role",minWidth:120,sortable:!0,format:L=>t.jsx(Qe,{label:se(L),color:ae(L),size:"small",icon:L===an.SUPER_ADMIN||L===an.ADMIN?t.jsx(JR,{fontSize:"small"}):L===an.JOURNALIST||L===an.EDITOR?t.jsx(QR,{fontSize:"small"}):t.jsx(Nf,{fontSize:"small"})})},{id:"statusId",label:"Status",minWidth:120,sortable:!0,format:L=>t.jsx(Qe,{label:he(L),color:xe(L),size:"small"})},{id:"lastLogin",label:"Last Login",minWidth:120,sortable:!0,format:L=>t.jsx(j,{variant:"body2",children:L?new Date(L).toLocaleDateString():"Never"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:L=>t.jsx(j,{variant:"body2",children:new Date(L).toLocaleDateString()})},{id:"updatedAt",label:"Updated",minWidth:120,sortable:!0,format:L=>t.jsx(j,{variant:"body2",children:new Date(L).toLocaleDateString()})}],Ee=Object.entries(Yn).map(([L,_e])=>({value:_e,label:L.replace(/_/g," ").toLowerCase().replace(/\b\w/g,Ve=>Ve.toUpperCase())})),Ye=Object.entries(an).map(([L,_e])=>({value:_e,label:L.replace(/_/g," ").toLowerCase().replace(/\b\w/g,Ve=>Ve.toUpperCase())})),fe=t.jsxs(me,{direction:"row",spacing:1,children:[t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Status"}),t.jsxs(mt,{value:J,label:"Status",onChange:L=>G(L.target.value),children:[t.jsx(we,{value:"",children:"All Status"}),Ee.map(L=>t.jsx(we,{value:L.value,children:L.label},L.value))]})]}),t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Role"}),t.jsxs(mt,{value:q,label:"Role",onChange:L=>Q(L.target.value),children:[t.jsx(we,{value:"",children:"All Roles"}),Ye.map(L=>t.jsx(we,{value:L.value,children:L.label},L.value))]})]})]}),Se=L=>t.jsxs(me,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View/Edit",children:t.jsx(Ne,{size:"small",onClick:_e=>{_e.stopPropagation(),pe(L)},children:t.jsx(ks,{fontSize:"small"})})}),t.jsx(jt,{title:"Update Custom Claims",children:t.jsx(Ne,{size:"small",onClick:_e=>{_e.stopPropagation(),ie(L)},children:t.jsx(ZR,{fontSize:"small",color:"info"})})}),L.statusId!==Yn.SUSPENDED&&L.statusId!==Yn.BANNED&&t.jsx(jt,{title:"Suspend User",children:t.jsx(Ne,{size:"small",onClick:_e=>{_e.stopPropagation(),je(L.id)},children:t.jsx(_v,{fontSize:"small",color:"warning"})})}),L.statusId===Yn.SUSPENDED&&t.jsx(jt,{title:"Unsuspend User",children:t.jsx(Ne,{size:"small",onClick:_e=>{_e.stopPropagation(),Oe(L.id)},children:t.jsx(Ja,{fontSize:"small",color:"success"})})})]}),X=t.jsx(ue,{variant:"contained",startIcon:t.jsx(vo,{}),onClick:()=>w(!0),children:"Register User"});return t.jsxs(C,{children:[t.jsx(Do,{title:"User Management",columns:ke,rows:r,totalCount:o,loading:l,error:u,selected:f,onSelectionChange:m,onEdit:pe,onDelete:Re,onRefresh:Pe,onSearch:Y,onSort:(L,_e)=>{oe(L),ee(_e)},onPageChange:N,onRowsPerPageChange:K,page:k,rowsPerPage:B,searchQuery:$,sortColumn:z,sortDirection:U,filters:fe,rowActions:Se,actions:X}),t.jsxs(Kt,{open:g,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"Edit User"}),t.jsx(Xt,{children:S&&t.jsxs(me,{spacing:3,sx:{pt:1},children:[t.jsx(Fe,{variant:"outlined",children:t.jsxs(We,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"User Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(nt,{label:"Display Name",fullWidth:!0,value:S.displayName||"",onChange:L=>D({...S,displayName:L.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(nt,{label:"Email",fullWidth:!0,value:S.email||"",onChange:L=>D({...S,email:L.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(nt,{label:"Photo URL",fullWidth:!0,value:S.photoUrl||"",onChange:L=>D({...S,photoUrl:L.target.value})})})]})]})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(We,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Role & Status"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsxs(ht,{fullWidth:!0,children:[t.jsx(St,{children:"Role"}),t.jsx(mt,{value:S.roleId,label:"Role",onChange:L=>D({...S,roleId:L.target.value}),children:Ye.map(L=>t.jsx(we,{value:L.value,children:L.label},L.value))})]})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsxs(ht,{fullWidth:!0,children:[t.jsx(St,{children:"Status"}),t.jsx(mt,{value:S.statusId,label:"Status",onChange:L=>D({...S,statusId:L.target.value}),children:Ee.map(L=>t.jsx(we,{value:L.value,children:L.label},L.value))})]})})]})]})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(We,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"System Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"User ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace"},children:S.id})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"External ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace"},children:S.externalId})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(j,{variant:"body2",children:new Date(S.createdAt).toLocaleString()})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Last Login"}),t.jsx(j,{variant:"body2",children:S.lastLogin?new Date(S.lastLogin).toLocaleString():"Never"})]})]})]})}),S.channelSubscriptions&&S.channelSubscriptions.length>0&&t.jsx(Fe,{variant:"outlined",children:t.jsxs(We,{children:[t.jsxs(j,{variant:"h6",gutterBottom:!0,children:["Channel Subscriptions (",S.channelSubscriptions.length,")"]}),t.jsxs(me,{spacing:1,children:[S.channelSubscriptions.slice(0,5).map((L,_e)=>{var Ve;return t.jsxs(C,{sx:{p:1,border:1,borderColor:"divider",borderRadius:1},children:[t.jsx(j,{variant:"body2",fontWeight:"medium",children:((Ve=L.channel)==null?void 0:Ve.name)||"Unknown Channel"}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Status: ",L.status,"  Started: ",new Date(L.subscribedAt).toLocaleDateString()]})]},_e)}),S.channelSubscriptions.length>5&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["And ",S.channelSubscriptions.length-5," more..."]})]})]})})]})}),t.jsxs(Jt,{children:[t.jsx(ue,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(ue,{onClick:()=>ce(S),variant:"contained",children:"Save Changes"})]})]}),t.jsxs(Kt,{open:b,onClose:()=>w(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Register New User"}),t.jsx(Xt,{children:t.jsxs(me,{spacing:2,sx:{pt:1},children:[t.jsx(nt,{label:"Email",type:"email",fullWidth:!0,required:!0,value:T.email,onChange:L=>E({...T,email:L.target.value})}),t.jsx(nt,{label:"External ID (Firebase UID)",fullWidth:!0,required:!0,value:T.externalId,onChange:L=>E({...T,externalId:L.target.value}),helperText:"The Firebase authentication UID for this user"}),t.jsx(nt,{label:"Display Name",fullWidth:!0,required:!0,value:T.displayName,onChange:L=>E({...T,displayName:L.target.value})}),t.jsx(nt,{label:"Photo URL",fullWidth:!0,value:T.photoUrl,onChange:L=>E({...T,photoUrl:L.target.value})}),t.jsxs(ht,{fullWidth:!0,children:[t.jsx(St,{children:"Role"}),t.jsx(mt,{value:T.roleId,label:"Role",onChange:L=>E({...T,roleId:L.target.value}),children:Ye.map(L=>t.jsx(we,{value:L.value,children:L.label},L.value))})]}),t.jsxs(ht,{fullWidth:!0,children:[t.jsx(St,{children:"Status"}),t.jsx(mt,{value:T.statusId,label:"Status",onChange:L=>E({...T,statusId:L.target.value}),children:Ee.map(L=>t.jsx(we,{value:L.value,children:L.label},L.value))})]})]})}),t.jsxs(Jt,{children:[t.jsx(ue,{onClick:()=>w(!1),children:"Cancel"}),t.jsx(ue,{onClick:re,variant:"contained",disabled:!T.email||!T.externalId||!T.displayName,children:"Register User"})]})]}),t.jsxs(Kt,{open:v,onClose:()=>I(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Update Firebase Custom Claims"}),t.jsx(Xt,{children:S&&t.jsxs(me,{spacing:2,sx:{pt:1},children:[t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Update Firebase custom claims for: ",t.jsx("strong",{children:S.displayName})," (",S.email,")"]}),t.jsxs(ht,{fullWidth:!0,children:[t.jsx(St,{children:"System Role"}),t.jsx(mt,{value:R.system_role,label:"System Role",onChange:L=>O({...R,system_role:L.target.value}),children:Ye.map(L=>t.jsx(we,{value:L.value,children:L.label},L.value))})]}),t.jsxs(ht,{fullWidth:!0,children:[t.jsx(St,{children:"System Status"}),t.jsx(mt,{value:R.system_status,label:"System Status",onChange:L=>O({...R,system_status:L.target.value}),children:Ee.map(L=>t.jsx(we,{value:L.value,children:L.label},L.value))})]}),t.jsx(j,{variant:"caption",color:"warning.main",children:"Warning: This will update the user's Firebase authentication custom claims. The user may need to re-authenticate for changes to take effect."})]})}),t.jsxs(Jt,{children:[t.jsx(ue,{onClick:()=>I(!1),children:"Cancel"}),t.jsx(ue,{onClick:ye,variant:"contained",color:"warning",children:"Update Claims"})]})]})]})},_K=()=>{var Ye,fe,Se;const{api:e}=Ke(),{execute:n}=tt(),[r,s]=x.useState([]),[o,i]=x.useState(0),[l,d]=x.useState(!1),[u,h]=x.useState(null),[f,m]=x.useState([]),[g,y]=x.useState(!1),[b,w]=x.useState(null),[v,I]=x.useState(!1),[S,D]=x.useState(null),[T,E]=x.useState(0),[R,O]=x.useState(25),[k,N]=x.useState(""),[B,K]=x.useState(""),[$,Y]=x.useState(""),[J,G]=x.useState(""),[q,Q]=x.useState(""),[z,oe]=x.useState("created_at"),[U,ee]=x.useState("desc"),Pe=async()=>{var X;d(!0),h(null);try{const L={};k&&(L.search=k),B&&(L.status=B),$&&(L.type=$),J==="true"&&(L.verified=!0),q==="true"&&(L.trending=!0);const _e=await n(()=>e.app.tag.getTags(L,{page:T+1,limit:R}),{showErrorToast:!1});_e&&(s(_e.items||[]),i(((X=_e.metadata)==null?void 0:X.total)||0))}catch{h("Failed to fetch tags")}finally{d(!1)}};x.useEffect(()=>{Pe()},[T,R,k,B,$,J,q,z,U]);const pe=X=>{w(X),y(!0)},Re=async X=>{const L=X.map(_e=>_e.id);try{await Promise.all(L.map(_e=>n(()=>e.app.tag.deleteTag(_e)))),m([]),Pe()}catch{h("Failed to delete tags")}},ce=(X,L)=>{w(X),D(L),I(!0)},re=async()=>{if(!(!b||!S))try{S==="approve"?await n(()=>e.app.tag.approveTag(b.id)):await n(()=>e.app.tag.rejectTag(b.id)),I(!1),w(null),D(null),Pe()}catch{h(`Failed to ${S} tag`)}},je=async X=>{if(b)try{await n(()=>e.app.tag.updateTag(b.id,X)),y(!1),w(null),Pe()}catch{h("Failed to update tag")}},Oe=X=>{switch(X){case 1:return"warning";case 2:return"success";case 3:return"error";case 4:return"default";default:return"default"}},ye=X=>{switch(X){case 1:return"Pending";case 2:return"Approved";case 3:return"Rejected";case 4:return"Inactive";default:return"Unknown"}},ie=X=>{switch(X){case 1:return"primary";case 2:return"secondary";case 3:return"info";case 4:return"success";default:return"default"}},ae=X=>{switch(X){case 1:return"News";case 2:return"Poll";case 3:return"Channel";case 4:return"General";default:return"Unknown"}},se=[{id:"name",label:"Tag",minWidth:180,sortable:!0,format:(X,L)=>t.jsxs(C,{children:[t.jsxs(me,{direction:"row",alignItems:"center",spacing:1,children:[t.jsx(Ff,{fontSize:"small",color:"action"}),t.jsx(j,{variant:"body2",fontWeight:"medium",children:X}),L.isVerified&&t.jsx(ek,{fontSize:"small",color:"primary"}),L.isTrending&&t.jsx(ps,{fontSize:"small",color:"warning"})]}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["@",L.slug,"  ID: ",L.id]})]})},{id:"typeId",label:"Type",minWidth:100,sortable:!0,format:X=>t.jsx(Qe,{label:ae(X),color:ie(X),size:"small"})},{id:"statusId",label:"Status",minWidth:100,sortable:!0,format:X=>t.jsx(Qe,{label:ye(X),color:Oe(X),size:"small"})},{id:"analytics",label:"Analytics",minWidth:150,format:(X,L)=>{var _e,Ve,hn,Ft,Rt,Zt;return t.jsxs(me,{spacing:.5,children:[t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Views: ",((Ve=(_e=L.analytics)==null?void 0:_e.viewCount)==null?void 0:Ve.toLocaleString())||"0"]}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Usage: ",((Ft=(hn=L.analytics)==null?void 0:hn.usageCount)==null?void 0:Ft.toLocaleString())||"0"]}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Searches: ",((Zt=(Rt=L.analytics)==null?void 0:Rt.searchCount)==null?void 0:Zt.toLocaleString())||"0"]})]})}},{id:"createdBy",label:"Created By",minWidth:120,format:X=>t.jsx(j,{variant:"body2",children:X||"System"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:X=>t.jsx(j,{variant:"body2",children:new Date(X).toLocaleDateString()})},{id:"approvedAt",label:"Approved",minWidth:120,sortable:!0,format:X=>t.jsx(j,{variant:"body2",children:X?new Date(X).toLocaleDateString():"-"})}],xe=[{value:1,label:"Pending"},{value:2,label:"Approved"},{value:3,label:"Rejected"},{value:4,label:"Inactive"}],he=[{value:1,label:"News"},{value:2,label:"Poll"},{value:3,label:"Channel"},{value:4,label:"General"}],ke=t.jsxs(me,{direction:"row",spacing:1,children:[t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Status"}),t.jsxs(mt,{value:B,label:"Status",onChange:X=>K(X.target.value),children:[t.jsx(we,{value:"",children:"All Status"}),xe.map(X=>t.jsx(we,{value:X.value,children:X.label},X.value))]})]}),t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Type"}),t.jsxs(mt,{value:$,label:"Type",onChange:X=>Y(X.target.value),children:[t.jsx(we,{value:"",children:"All Types"}),he.map(X=>t.jsx(we,{value:X.value,children:X.label},X.value))]})]}),t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Verified"}),t.jsxs(mt,{value:J,label:"Verified",onChange:X=>G(X.target.value),children:[t.jsx(we,{value:"",children:"All"}),t.jsx(we,{value:"true",children:"Verified Only"}),t.jsx(we,{value:"false",children:"Not Verified"})]})]}),t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(St,{children:"Trending"}),t.jsxs(mt,{value:q,label:"Trending",onChange:X=>Q(X.target.value),children:[t.jsx(we,{value:"",children:"All"}),t.jsx(we,{value:"true",children:"Trending Only"}),t.jsx(we,{value:"false",children:"Not Trending"})]})]})]}),Ee=X=>t.jsxs(me,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View Details",children:t.jsx(Ne,{size:"small",onClick:L=>{L.stopPropagation(),pe(X)},children:t.jsx(ks,{fontSize:"small"})})}),t.jsx(jt,{title:"Edit",children:t.jsx(Ne,{size:"small",onClick:L=>{L.stopPropagation(),pe(X)},children:t.jsx(ms,{fontSize:"small"})})}),X.statusId===1&&t.jsxs(t.Fragment,{children:[t.jsx(jt,{title:"Approve",children:t.jsx(Ne,{size:"small",onClick:L=>{L.stopPropagation(),ce(X,"approve")},children:t.jsx(Ja,{fontSize:"small",color:"success"})})}),t.jsx(jt,{title:"Reject",children:t.jsx(Ne,{size:"small",onClick:L=>{L.stopPropagation(),ce(X,"reject")},children:t.jsx(Rs,{fontSize:"small",color:"error"})})})]}),t.jsx(jt,{title:"View Analytics",children:t.jsx(Ne,{size:"small",onClick:L=>{L.stopPropagation()},children:t.jsx(ds,{fontSize:"small",color:"info"})})})]});return t.jsxs(C,{children:[t.jsx(Do,{title:"Tag Management",columns:se,rows:r,totalCount:o,loading:l,error:u,selected:f,onSelectionChange:m,onEdit:pe,onDelete:Re,onRefresh:Pe,onSearch:N,onSort:(X,L)=>{oe(X),ee(L)},onPageChange:E,onRowsPerPageChange:O,page:T,rowsPerPage:R,searchQuery:k,sortColumn:z,sortDirection:U,filters:ke,rowActions:Ee,actions:t.jsx(ue,{variant:"outlined",startIcon:t.jsx(al,{}),onClick:()=>{},children:"Suggestions"})}),t.jsxs(Kt,{open:g,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"Edit Tag"}),t.jsx(Xt,{children:b&&t.jsxs(me,{spacing:3,sx:{pt:1},children:[t.jsx(Fe,{variant:"outlined",children:t.jsxs(We,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Tag Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(nt,{label:"Tag Name",fullWidth:!0,defaultValue:b.name,onChange:X=>w({...b,name:X.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(nt,{label:"Slug",fullWidth:!0,defaultValue:b.slug,onChange:X=>w({...b,slug:X.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsxs(ht,{fullWidth:!0,children:[t.jsx(St,{children:"Type"}),t.jsx(mt,{value:b.typeId,label:"Type",onChange:X=>w({...b,typeId:X.target.value}),children:he.map(X=>t.jsx(we,{value:X.value,children:X.label},X.value))})]})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsxs(ht,{fullWidth:!0,children:[t.jsx(St,{children:"Status"}),t.jsx(mt,{value:b.statusId,label:"Status",onChange:X=>w({...b,statusId:X.target.value}),children:xe.map(X=>t.jsx(we,{value:X.value,children:X.label},X.value))})]})})]})]})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(We,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Tag Properties"}),t.jsxs(me,{spacing:2,children:[t.jsx(yo,{control:t.jsx($a,{checked:b.isVerified,onChange:X=>w({...b,isVerified:X.target.checked})}),label:"Verified Tag"}),t.jsx(yo,{control:t.jsx($a,{checked:b.isTrending,onChange:X=>w({...b,isTrending:X.target.checked})}),label:"Trending Tag"})]})]})}),b.analytics&&t.jsx(Fe,{variant:"outlined",children:t.jsxs(We,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Analytics"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:4,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"View Count"}),t.jsx(j,{variant:"h6",children:((Ye=b.analytics.viewCount)==null?void 0:Ye.toLocaleString())||"0"})]}),t.jsxs(F,{item:!0,xs:12,sm:4,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Usage Count"}),t.jsx(j,{variant:"h6",children:((fe=b.analytics.usageCount)==null?void 0:fe.toLocaleString())||"0"})]}),t.jsxs(F,{item:!0,xs:12,sm:4,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Search Count"}),t.jsx(j,{variant:"h6",children:((Se=b.analytics.searchCount)==null?void 0:Se.toLocaleString())||"0"})]})]}),b.analytics.lastTrendingAt&&t.jsxs(dt,{severity:"info",sx:{mt:2},children:["Last trending: ",new Date(b.analytics.lastTrendingAt).toLocaleString()]})]})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(We,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"System Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Tag ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace"},children:b.id})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Created By"}),t.jsx(j,{variant:"body2",children:b.createdBy||"System"})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(j,{variant:"body2",children:new Date(b.createdAt).toLocaleString()})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Approved"}),t.jsx(j,{variant:"body2",children:b.approvedAt?`${new Date(b.approvedAt).toLocaleString()} by ${b.approvedBy||"System"}`:"Not approved"})]})]})]})})]})}),t.jsxs(Jt,{children:[t.jsx(ue,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(ue,{onClick:()=>je(b),variant:"contained",children:"Save Changes"})]})]}),t.jsxs(Kt,{open:v,onClose:()=>I(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsxs(tn,{children:[S==="approve"&&"Approve Tag",S==="reject"&&"Reject Tag"]}),t.jsx(Xt,{children:t.jsxs(me,{spacing:2,sx:{pt:1},children:[b&&t.jsxs(dt,{severity:S==="approve"?"success":"warning",children:[S==="approve"&&`Approving tag "${b.name}"`,S==="reject"&&`Rejecting tag "${b.name}"`]}),t.jsx(j,{variant:"body2",color:"text.secondary",children:S==="approve"?"This tag will be made available for use across the platform.":"This tag will be rejected and won't be available for use."})]})}),t.jsxs(Jt,{children:[t.jsx(ue,{onClick:()=>I(!1),children:"Cancel"}),t.jsxs(ue,{onClick:re,variant:"contained",color:S==="approve"?"success":"error",children:[S==="approve"&&"Approve",S==="reject"&&"Reject"]})]})]})]})},OK=()=>{const{isLoading:e}=ta();return e?t.jsx(zW,{}):t.jsxs(gk,{children:[t.jsx(qe,{path:be.HOME,element:t.jsx(k4,{})}),t.jsx(qe,{path:be.LOGIN,element:t.jsx(I4,{})}),t.jsx(qe,{path:be.SIGNUP,element:t.jsx(T4,{})}),t.jsx(qe,{path:be.POST_SIGNUP,element:t.jsx(E4,{})}),t.jsxs(qe,{path:`${be.APP_ROOT}/*`,element:t.jsx(Mh,{children:t.jsx(OF,{})}),children:[t.jsxs(qe,{path:`${kn.ROOT}/*`,children:[t.jsx(qe,{path:kn.SUBPATHS.TRENDING,element:t.jsx(xf,{filters:{trending:!0}},"trending")}),t.jsx(qe,{path:kn.SUBPATHS.MY_FEED,element:t.jsx(xf,{filters:{feed:!0}},"feed")}),t.jsx(qe,{path:kn.SUBPATHS.DISCOVER,element:t.jsx(rB,{})}),t.jsx(qe,{path:`${kn.VIEW}`,element:t.jsx(Z3,{})})]}),t.jsxs(qe,{path:`${vr.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(fB,{})}),t.jsx(qe,{path:`${vr.VIEW}`,element:t.jsx(MB,{})})]}),t.jsxs(qe,{path:`${hr.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(NB,{})}),t.jsx(qe,{path:`${hr.VIEW}`,element:t.jsx(UB,{})})]}),t.jsxs(qe,{path:`${ls.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(eW,{})}),t.jsx(qe,{path:ls.SETTINGS,element:t.jsx(oW,{})})]}),t.jsxs(qe,{path:`${jr.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(dW,{})}),t.jsx(qe,{path:`${jr.VIEW}`,element:t.jsx(uW,{})})]}),t.jsx(qe,{path:$v.ROOT,element:t.jsx(iW,{})}),t.jsx(qe,{path:Uc.ROOT,element:t.jsx(a0,{})})]}),t.jsxs(qe,{path:`${be.STUDIO_ROOT}/*`,element:t.jsx(Mh,{children:t.jsx(f4,{})}),children:[t.jsxs(qe,{path:`${kn.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(OW,{})}),t.jsx(qe,{path:`${kn.CREATE}`,element:t.jsx(SW,{})}),t.jsx(qe,{path:`${kn.EDIT}/:id`,element:t.jsx(CW,{})}),t.jsx(qe,{path:`${kn.VIEW}`,element:t.jsx(IW,{})})]}),t.jsxs(qe,{path:`${vr.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(NW,{})}),t.jsx(qe,{path:`${vr.CREATE}`,element:t.jsx(FW,{})}),t.jsx(qe,{path:`${vr.VIEW}`,element:t.jsx(VW,{})}),t.jsx(qe,{path:`${vr.EDIT}/:id`,element:t.jsx(PH,{})})]}),t.jsxs(qe,{path:`${hr.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(DH,{})}),t.jsx(qe,{path:`${hr.CREATE}`,element:t.jsx(aK,{})}),t.jsx(qe,{path:`${hr.EDIT}/:id`,element:t.jsx(iK,{})}),t.jsx(qe,{path:`${hr.VIEW}`,element:t.jsx(fK,{})})]}),t.jsxs(qe,{path:`${jr.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(mK,{})}),t.jsx(qe,{path:`${jr.CREATE}`,element:t.jsx(xK,{})}),t.jsx(qe,{path:`${jr.EDIT}/:id`,element:t.jsx(gK,{})}),t.jsx(qe,{path:`${jr.VIEW}`,element:t.jsx(bK,{})})]}),t.jsx(qe,{path:Uc.ROOT,element:t.jsx(a0,{})})]}),t.jsxs(qe,{path:`${be.ADMIN_ROOT}/*`,element:t.jsx(Mh,{children:t.jsx(b4,{})}),children:[t.jsx(qe,{index:!0,element:t.jsx(bv,{})}),t.jsx(qe,{path:_t.DASHBOARD,element:t.jsx(bv,{})}),t.jsx(qe,{path:_t.NEWS,element:t.jsx(IK,{})}),t.jsx(qe,{path:_t.POLLS,element:t.jsx(DK,{})}),t.jsx(qe,{path:_t.CHANNELS,element:t.jsx(TK,{})}),t.jsx(qe,{path:_t.EXPENSE_ORDERS,element:t.jsx(EK,{})}),t.jsx(qe,{path:_t.PAYOUTS,element:t.jsx(AK,{})}),t.jsx(qe,{path:_t.TAGS,element:t.jsx(_K,{})}),t.jsx(qe,{path:_t.USERS,element:t.jsx(kK,{})}),t.jsxs(qe,{path:`${_t.SUBSCRIPTIONS}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(RK,{})}),t.jsx(qe,{path:Ea.MANAGEMENT,element:t.jsx(jK,{})}),t.jsx(qe,{path:Ea.ANALYTICS,element:t.jsx(wK,{})}),t.jsx(qe,{path:Ea.REVENUE,element:t.jsx(SK,{})})]}),t.jsx(qe,{path:_t.ANALYTICS,element:t.jsx(CK,{})}),t.jsx(qe,{path:_t.SETTINGS,element:t.jsx(PK,{})}),t.jsx(qe,{path:"users",element:t.jsx(yK,{})}),t.jsx(qe,{path:"channels",element:t.jsx(vK,{})})]}),t.jsx(qe,{path:"*",element:t.jsx(BW,{})})]})},MK={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},NK={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",dayOfMonthFull:"do",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class LK{constructor(n){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib=void 0,this.locale=void 0,this.formats=void 0,this.formatTokenMap=MK,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=l=>typeof l>"u"?new Date:l===null?null:new Date(l),this.getInvalidDate=()=>new Date("Invalid Date"),this.getTimezone=()=>"default",this.setTimezone=l=>l,this.toJsDate=l=>l,this.getCurrentLocaleCode=()=>this.locale.code,this.is12HourCycleInCurrentLocale=()=>/a/.test(this.locale.formatLong.time({width:"short"})),this.expandFormat=l=>{const d=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return l.match(d).map(u=>{const h=u[0];if(h==="p"||h==="P"){const f=this.longFormatters[h];return f(u,this.locale.formatLong)}return u}).join("")},this.formatNumber=l=>l,this.getDayOfWeek=l=>l.getDay()+1;const{locale:r,formats:s,longFormatters:o,lib:i}=n;this.locale=r,this.formats=V({},NK,s),this.longFormatters=o,this.lib=i||"date-fns"}}class $K extends LK{constructor({locale:n,formats:r}={}){super({locale:n??Rd,formats:r,longFormatters:Yc}),this.parse=(s,o)=>s===""?null:yF(s,o,new Date,{locale:this.locale}),this.isValid=s=>s==null?!1:nw(s),this.format=(s,o)=>this.formatByString(s,this.formats[o]),this.formatByString=(s,o)=>Np(s,o,{locale:this.locale}),this.isEqual=(s,o)=>s===null&&o===null?!0:s===null||o===null?!1:C$(s,o),this.isSameYear=(s,o)=>SF(s,o),this.isSameMonth=(s,o)=>wF(s,o),this.isSameDay=(s,o)=>f5(s,o),this.isSameHour=(s,o)=>jF(s,o),this.isAfter=(s,o)=>kh(s,o),this.isAfterYear=(s,o)=>kh(s,Uy(o)),this.isAfterDay=(s,o)=>kh(s,ff(o)),this.isBefore=(s,o)=>_h(s,o),this.isBeforeYear=(s,o)=>_h(s,this.startOfYear(o)),this.isBeforeDay=(s,o)=>_h(s,this.startOfDay(o)),this.isWithinRange=(s,[o,i])=>CF(s,{start:o,end:i}),this.startOfYear=s=>sw(s),this.startOfMonth=s=>j5(s),this.startOfWeek=s=>Js(s,{locale:this.locale}),this.startOfDay=s=>Hi(s),this.endOfYear=s=>Uy(s),this.endOfMonth=s=>rw(s),this.endOfWeek=s=>w5(s,{locale:this.locale}),this.endOfDay=s=>ff(s),this.addYears=(s,o)=>u5(s,o),this.addMonths=(s,o)=>Zj(s,o),this.addWeeks=(s,o)=>d5(s,o),this.addDays=(s,o)=>Ad(s,o),this.addHours=(s,o)=>s5(s,o),this.addMinutes=(s,o)=>l5(s,o),this.addSeconds=(s,o)=>c5(s,o),this.getYear=s=>S$(s),this.getMonth=s=>j$(s),this.getDate=s=>m$(s),this.getHours=s=>g$(s),this.getMinutes=s=>v$(s),this.getSeconds=s=>w$(s),this.getMilliseconds=s=>y$(s),this.setYear=(s,o)=>RF(s,o),this.setMonth=(s,o)=>PF(s,o),this.setDate=(s,o)=>IF(s,o),this.setHours=(s,o)=>DF(s,o),this.setMinutes=(s,o)=>EF(s,o),this.setSeconds=(s,o)=>AF(s,o),this.setMilliseconds=(s,o)=>TF(s,o),this.getDaysInMonth=s=>cw(s),this.getWeekArray=s=>{const o=this.startOfWeek(this.startOfMonth(s)),i=this.endOfWeek(this.endOfMonth(s));let l=0,d=o;const u=[];for(;this.isBefore(d,i);){const h=Math.floor(l/7);u[h]=u[h]||[],u[h].push(d),d=this.addDays(d,1),l+=1}return u},this.getWeekNumber=s=>Mp(s,{locale:this.locale}),this.getYearRange=([s,o])=>{const i=this.startOfYear(s),l=this.endOfYear(o),d=[];let u=i;for(;this.isBefore(u,l);)d.push(u),u=this.addYears(u,1);return d}}}document.title="Meta Journo v1.1.0";tf.createRoot(document.getElementById("root")).render(t.jsx(Tt.StrictMode,{children:t.jsx(bk,{children:t.jsx(YN,{children:t.jsx(gN,{children:t.jsx(bN,{children:t.jsx(wN,{children:t.jsx(v4,{children:t.jsx(GF,{children:t.jsx(qF,{children:t.jsx(OL,{children:t.jsx(u1,{dateAdapter:$K,children:t.jsx(OK,{})})})})})})})})})})})}));
