var QE=Object.defineProperty;var ZE=(e,n,r)=>n in e?QE(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r;var Ae=(e,n,r)=>(ZE(e,typeof n!="symbol"?n+"":n,r),r);import{d as Qh,r as g,j as t,e as eT,u as tT,i as Ze,S as o0,A as ct,B as C,L as vr,f as er,h as qt,k as Ht,D as Lt,T as v,l as wn,c as ia,s as ke,m as ot,n as nT,o as rt,I as Qr,p as Le,q as Ua,C as rT,t as us,U as Zh,v as ef,N as $o,w as zc,x as xn,y as Hc,z as Ls,M as uo,E as Ce,F as ji,G as i0,H as sT,J as oT,K as Ye,O as gh,Q as iT,V as a0,W as tf,X as lo,Y as Fs,Z as Si,_ as nf,$ as wi,a0 as as,a1 as ac,a2 as xe,a3 as It,a4 as Yc,a5 as aT,a6 as lT,a7 as cT,a8 as $,a9 as Ne,aa as Fe,ab as ye,R as Dt,ac as fe,ad as dT,ae as uT,af as hT,ag as fT,ah as pT,ai as xT,aj as mT,ak as Wn,al as gT,am as bh,an as Ci,ao as l0,ap as lc,aq as cc,ar as dc,as as rf,at as uc,au as Ws,av as jt,aw as ws,ax as bT,ay as en,az as sn,aA as tn,aB as nn,aC as ce,aD as ho,aE as Zn,aF as hs,aG as Ss,aH as c0,aI as hc,aJ as d0,aK as yh,aL as yT,aM as sf,aN as vT,aO as $s,aP as jT,aQ as ST,aR as wT,aS as CT,aT as u0,aU as bt,aV as PT,aW as DT,aX as Pi,aY as ob,aZ as IT,a_ as ET,a$ as Gc,b0 as Fo,b1 as h0,b2 as TT,b3 as AT,b4 as At,b5 as wt,b6 as RT,b7 as Uu,b8 as _T,b9 as OT,ba as fc,bb as kT,bc as MT,bd as f0,be as NT,bf as $i,bg as LT,bh as B,bi as $T,bj as FT,bk as WT,P as ee,b as BT,a as Qt,bl as st,bm as Yt,bn as fo,bo as Cs,bp as p0,bq as VT,br as x0,bs as Us,bt as m0,bu as UT,bv as g0,bw as qc,bx as zT,by as HT,bz as YT,bA as GT,bB as ib,bC as qT,bD as KT,bE as pc,bF as b0,bG as of,bH as af,bI as lf,bJ as so,bK as mt,bL as xc,bM as cf,bN as JT,bO as XT,bP as QT,bQ as ZT,bR as eA,bS as tA,bT as nA,bU as y0,bV as rA,bW as sA}from"./vendor-mui-OmqnsLIB.js";import{o as oA,s as iA,a as aA,c as lA,b as cA,i as dA,g as uA,G as hA,T as fA,F as pA,O as xA}from"./vendor-firebase-DaqPSQOy.js";import{u as po,L as $n,a as Ct,O as df,N as mA,b as v0,c as es,R as gA,d as He,B as bA}from"./vendor-core-BOX5Rvic.js";import{T as yA,v as vA,G as jA,f as SA,m as wA,d as CA,s as PA,a as DA,P as IA,I as EA,F as TA,i as AA,n as RA}from"./vendor-editor-D13Gvn5f.js";import{i as _A,R as va,L as j0,C as mc,X as gc,Y as bc,T as ja,a as yc,b as pi,P as OA,c as kA,d as MA,B as S0,e as vc}from"./vendor-charts-CgVAol9m.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var vh={},ab=Qh;vh.createRoot=ab.createRoot,vh.hydrateRoot=ab.hydrateRoot;const Ue={HOME:"/",APP:"/app",STUDIO:"/studio",AUTH:"/auth",ADMIN:"/admin"},Tn={ROOT:"news",SUBPATHS:{TRENDING:"trending",MY_FEED:"feed",DISCOVER:"discover"},CREATE:"create",EDIT:"edit",VIEW:":id"},mr={ROOT:"channels",CREATE:"create",EDIT:"edit",VIEW:":id"},lr={ROOT:"polls",CREATE:"create",EDIT:"edit",VIEW:":id"},ro={ROOT:"account",PROFILE:"profile",PAYMENT_METHODS:"payment-methods",SUBSCRIPTIONS:"subscriptions"},gr={ROOT:"expense-orders",CREATE:"create",EDIT:"edit",VIEW:":id"},jc={ROOT:"search"},Ot={ROOT:"admin",DASHBOARD:"dashboard",USERS:"users",CHANNELS:"channels",NEWS:"news",POLLS:"polls",EXPENSE_ORDERS:"expense-orders",PAYOUTS:"payouts",TAGS:"tags",SUBSCRIPTIONS:"subscriptions",ANALYTICS:"analytics",SETTINGS:"settings"},xi={ROOT:"subscriptions",MANAGEMENT:"management",ANALYTICS:"analytics",REVENUE:"revenue"},Hl={ROOT:"users",LIST:"list",VIEW:":id",EDIT:":id/edit",ROLES:"roles"},Yl={ROOT:"channels",LIST:"list",VIEW:":id",EDIT:":id/edit",ANALYTICS:"analytics"},ze="/journalist-material-client/".replace(/\/$/,""),ve={HOME:`${ze}${Ue.HOME}`,LOGIN:`${ze}${Ue.AUTH}/login`,SIGNUP:`${ze}${Ue.AUTH}/signup`,POST_SIGNUP:`${ze}${Ue.AUTH}/welcome`,APP_ROOT:`${ze}${Ue.APP}`,APP_NEWS:`${ze}${Ue.APP}/${Tn.ROOT}`,APP_NEWS_TRENDING:`${ze}${Ue.APP}/${Tn.ROOT}/trending`,APP_NEWS_MY_FEED:`${ze}${Ue.APP}/${Tn.ROOT}/feed`,APP_NEWS_DISCOVER:`${ze}${Ue.APP}/${Tn.ROOT}/discover`,APP_NEWS_VIEW:`${ze}${Ue.APP}/${Tn.ROOT}/:id`,APP_CHANNELS:`${ze}${Ue.APP}/${mr.ROOT}`,APP_CHANNEL_VIEW:`${ze}${Ue.APP}/${mr.ROOT}/:channelId`,APP_POLL_LIST:`${ze}${Ue.APP}/${lr.ROOT}`,APP_POLL_VIEW:`${ze}${Ue.APP}/${lr.ROOT}/:id`,APP_EXPLORE:`${ze}${Ue.APP}/explore`,APP_SUBSCRIPTIONS:`${ze}${Ue.APP}/subscriptions`,APP_POLLS:`${ze}${Ue.APP}/${lr.ROOT}`,APP_SEARCH:`${ze}${Ue.APP}/${jc.ROOT}`,APP_ACCOUNT:`${ze}${Ue.APP}/${ro.ROOT}`,APP_ACCOUNT_PROFILE:`${ze}${Ue.APP}/${ro.ROOT}/${ro.PROFILE}`,APP_ACCOUNT_PAYMENT_METHODS:`${ze}${Ue.APP}/${ro.ROOT}/${ro.PAYMENT_METHODS}`,APP_ACCOUNT_SUBSCRIPTIONS:`${ze}${Ue.APP}/${ro.ROOT}/${ro.SUBSCRIPTIONS}`,APP_EXPENSE_ORDERS:`${ze}${Ue.APP}/${gr.ROOT}`,APP_EXPENSE_ORDER_VIEW:`${ze}${Ue.APP}/${gr.ROOT}/:id`,STUDIO_ROOT:`${ze}${Ue.STUDIO}`,STUDIO_NEWS:`${ze}${Ue.STUDIO}/${Tn.ROOT}`,STUDIO_NEWS_CREATE:`${ze}${Ue.STUDIO}/${Tn.ROOT}/${Tn.CREATE}`,STUDIO_NEWS_EDIT:`${ze}${Ue.STUDIO}/${Tn.ROOT}/${Tn.EDIT}/:id`,STUDIO_NEWS_VIEW:`${ze}${Ue.STUDIO}/${Tn.ROOT}/:id`,STUDIO_CHANNELS:`${ze}${Ue.STUDIO}/${mr.ROOT}`,STUDIO_CHANNEL_CREATE:`${ze}${Ue.STUDIO}/${mr.ROOT}/${mr.CREATE}`,STUDIO_CHANNEL_EDIT:`${ze}${Ue.STUDIO}/${mr.ROOT}/${mr.EDIT}/:channelId`,STUDIO_CHANNEL_VIEW:`${ze}${Ue.STUDIO}/${mr.ROOT}/:channelId`,STUDIO_POLLS:`${ze}${Ue.STUDIO}/${lr.ROOT}`,STUDIO_POLL_CREATE:`${ze}${Ue.STUDIO}/${lr.ROOT}/${lr.CREATE}`,STUDIO_POLL_EDIT:`${ze}${Ue.STUDIO}/${lr.ROOT}/${lr.EDIT}/:id`,STUDIO_POLL_VIEW:`${ze}${Ue.STUDIO}/${lr.ROOT}/:id`,STUDIO_SEARCH:`${ze}${Ue.STUDIO}/${jc.ROOT}`,STUDIO_EXPENSE_ORDERS:`${ze}${Ue.STUDIO}/${gr.ROOT}`,STUDIO_EXPENSE_ORDER_CREATE:`${ze}${Ue.STUDIO}/${gr.ROOT}/${gr.CREATE}`,STUDIO_EXPENSE_ORDER_EDIT:`${ze}${Ue.STUDIO}/${gr.ROOT}/${gr.EDIT}/:id`,STUDIO_EXPENSE_ORDER_VIEW:`${ze}${Ue.STUDIO}/${gr.ROOT}/:id`,ADMIN_ROOT:`${ze}${Ue.ADMIN}`,ADMIN_DASHBOARD:`${ze}${Ue.ADMIN}/${Ot.DASHBOARD}`,ADMIN_USERS:`${ze}${Ue.ADMIN}/${Ot.USERS}`,ADMIN_USER_LIST:`${ze}${Ue.ADMIN}/${Ot.USERS}/${Hl.LIST}`,ADMIN_USER_VIEW:`${ze}${Ue.ADMIN}/${Ot.USERS}/${Hl.VIEW}`,ADMIN_USER_EDIT:`${ze}${Ue.ADMIN}/${Ot.USERS}/${Hl.EDIT}`,ADMIN_USER_ROLES:`${ze}${Ue.ADMIN}/${Ot.USERS}/${Hl.ROLES}`,ADMIN_CHANNELS:`${ze}${Ue.ADMIN}/${Ot.CHANNELS}`,ADMIN_CHANNEL_LIST:`${ze}${Ue.ADMIN}/${Ot.CHANNELS}/${Yl.LIST}`,ADMIN_CHANNEL_VIEW:`${ze}${Ue.ADMIN}/${Ot.CHANNELS}/${Yl.VIEW}`,ADMIN_CHANNEL_EDIT:`${ze}${Ue.ADMIN}/${Ot.CHANNELS}/${Yl.EDIT}`,ADMIN_CHANNEL_ANALYTICS:`${ze}${Ue.ADMIN}/${Ot.CHANNELS}/${Yl.ANALYTICS}`,ADMIN_NEWS:`${ze}${Ue.ADMIN}/${Ot.NEWS}`,ADMIN_POLLS:`${ze}${Ue.ADMIN}/${Ot.POLLS}`,ADMIN_EXPENSE_ORDERS:`${ze}${Ue.ADMIN}/${Ot.EXPENSE_ORDERS}`,ADMIN_PAYOUTS:`${ze}${Ue.ADMIN}/${Ot.PAYOUTS}`,ADMIN_TAGS:`${ze}${Ue.ADMIN}/${Ot.TAGS}`,ADMIN_SUBSCRIPTIONS:`${ze}${Ue.ADMIN}/${Ot.SUBSCRIPTIONS}`,ADMIN_SUBSCRIPTION_MANAGEMENT:`${ze}${Ue.ADMIN}/${Ot.SUBSCRIPTIONS}/${xi.MANAGEMENT}`,ADMIN_SUBSCRIPTION_ANALYTICS:`${ze}${Ue.ADMIN}/${Ot.SUBSCRIPTIONS}/${xi.ANALYTICS}`,ADMIN_SUBSCRIPTION_REVENUE:`${ze}${Ue.ADMIN}/${Ot.SUBSCRIPTIONS}/${xi.REVENUE}`,ADMIN_ANALYTICS:`${ze}${Ue.ADMIN}/${Ot.ANALYTICS}`,ADMIN_SETTINGS:`${ze}${Ue.ADMIN}/${Ot.SETTINGS}`};function w0(e,n){return function(){return e.apply(n,arguments)}}const{toString:NA}=Object.prototype,{getPrototypeOf:uf}=Object,Kc=(e=>n=>{const r=NA.call(n);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),fs=e=>(e=e.toLowerCase(),n=>Kc(n)===e),Jc=e=>n=>typeof n===e,{isArray:Fi}=Array,Ia=Jc("undefined");function LA(e){return e!==null&&!Ia(e)&&e.constructor!==null&&!Ia(e.constructor)&&Jr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const C0=fs("ArrayBuffer");function $A(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&C0(e.buffer),n}const FA=Jc("string"),Jr=Jc("function"),P0=Jc("number"),Xc=e=>e!==null&&typeof e=="object",WA=e=>e===!0||e===!1,nc=e=>{if(Kc(e)!=="object")return!1;const n=uf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},BA=fs("Date"),VA=fs("File"),UA=fs("Blob"),zA=fs("FileList"),HA=e=>Xc(e)&&Jr(e.pipe),YA=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||Jr(e.append)&&((n=Kc(e))==="formdata"||n==="object"&&Jr(e.toString)&&e.toString()==="[object FormData]"))},GA=fs("URLSearchParams"),[qA,KA,JA,XA]=["ReadableStream","Request","Response","Headers"].map(fs),QA=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function za(e,n,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,o;if(typeof e!="object"&&(e=[e]),Fi(e))for(s=0,o=e.length;s<o;s++)n.call(null,e[s],s,e);else{const a=r?Object.getOwnPropertyNames(e):Object.keys(e),c=a.length;let d;for(s=0;s<c;s++)d=a[s],n.call(null,e[d],d,e)}}function D0(e,n){n=n.toLowerCase();const r=Object.keys(e);let s=r.length,o;for(;s-- >0;)if(o=r[s],n===o.toLowerCase())return o;return null}const I0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,E0=e=>!Ia(e)&&e!==I0;function jh(){const{caseless:e}=E0(this)&&this||{},n={},r=(s,o)=>{const a=e&&D0(n,o)||o;nc(n[a])&&nc(s)?n[a]=jh(n[a],s):nc(s)?n[a]=jh({},s):Fi(s)?n[a]=s.slice():n[a]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&za(arguments[s],r);return n}const ZA=(e,n,r,{allOwnKeys:s}={})=>(za(n,(o,a)=>{r&&Jr(o)?e[a]=w0(o,r):e[a]=o},{allOwnKeys:s}),e),eR=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),tR=(e,n,r,s)=>{e.prototype=Object.create(n.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),r&&Object.assign(e.prototype,r)},nR=(e,n,r,s)=>{let o,a,c;const d={};if(n=n||{},e==null)return n;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)c=o[a],(!s||s(c,e,n))&&!d[c]&&(n[c]=e[c],d[c]=!0);e=r!==!1&&uf(e)}while(e&&(!r||r(e,n))&&e!==Object.prototype);return n},rR=(e,n,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=n.length;const s=e.indexOf(n,r);return s!==-1&&s===r},sR=e=>{if(!e)return null;if(Fi(e))return e;let n=e.length;if(!P0(n))return null;const r=new Array(n);for(;n-- >0;)r[n]=e[n];return r},oR=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&uf(Uint8Array)),iR=(e,n)=>{const s=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=s.next())&&!o.done;){const a=o.value;n.call(e,a[0],a[1])}},aR=(e,n)=>{let r;const s=[];for(;(r=e.exec(n))!==null;)s.push(r);return s},lR=fs("HTMLFormElement"),cR=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,o){return s.toUpperCase()+o}),lb=(({hasOwnProperty:e})=>(n,r)=>e.call(n,r))(Object.prototype),dR=fs("RegExp"),T0=(e,n)=>{const r=Object.getOwnPropertyDescriptors(e),s={};za(r,(o,a)=>{let c;(c=n(o,a,e))!==!1&&(s[a]=c||o)}),Object.defineProperties(e,s)},uR=e=>{T0(e,(n,r)=>{if(Jr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(Jr(s)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},hR=(e,n)=>{const r={},s=o=>{o.forEach(a=>{r[a]=!0})};return Fi(e)?s(e):s(String(e).split(n)),r},fR=()=>{},pR=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n,zu="abcdefghijklmnopqrstuvwxyz",cb="0123456789",A0={DIGIT:cb,ALPHA:zu,ALPHA_DIGIT:zu+zu.toUpperCase()+cb},xR=(e=16,n=A0.ALPHA_DIGIT)=>{let r="";const{length:s}=n;for(;e--;)r+=n[Math.random()*s|0];return r};function mR(e){return!!(e&&Jr(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const gR=e=>{const n=new Array(10),r=(s,o)=>{if(Xc(s)){if(n.indexOf(s)>=0)return;if(!("toJSON"in s)){n[o]=s;const a=Fi(s)?[]:{};return za(s,(c,d)=>{const u=r(c,o+1);!Ia(u)&&(a[d]=u)}),n[o]=void 0,a}}return s};return r(e,0)},bR=fs("AsyncFunction"),yR=e=>e&&(Xc(e)||Jr(e))&&Jr(e.then)&&Jr(e.catch),je={isArray:Fi,isArrayBuffer:C0,isBuffer:LA,isFormData:YA,isArrayBufferView:$A,isString:FA,isNumber:P0,isBoolean:WA,isObject:Xc,isPlainObject:nc,isReadableStream:qA,isRequest:KA,isResponse:JA,isHeaders:XA,isUndefined:Ia,isDate:BA,isFile:VA,isBlob:UA,isRegExp:dR,isFunction:Jr,isStream:HA,isURLSearchParams:GA,isTypedArray:oR,isFileList:zA,forEach:za,merge:jh,extend:ZA,trim:QA,stripBOM:eR,inherits:tR,toFlatObject:nR,kindOf:Kc,kindOfTest:fs,endsWith:rR,toArray:sR,forEachEntry:iR,matchAll:aR,isHTMLForm:lR,hasOwnProperty:lb,hasOwnProp:lb,reduceDescriptors:T0,freezeMethods:uR,toObjectSet:hR,toCamelCase:cR,noop:fR,toFiniteNumber:pR,findKey:D0,global:I0,isContextDefined:E0,ALPHABET:A0,generateString:xR,isSpecCompliantForm:mR,toJSONObject:gR,isAsyncFn:bR,isThenable:yR};function ft(e,n,r,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),r&&(this.config=r),s&&(this.request=s),o&&(this.response=o)}je.inherits(ft,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:je.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const R0=ft.prototype,_0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{_0[e]={value:e}});Object.defineProperties(ft,_0);Object.defineProperty(R0,"isAxiosError",{value:!0});ft.from=(e,n,r,s,o,a)=>{const c=Object.create(R0);return je.toFlatObject(e,c,function(u){return u!==Error.prototype},d=>d!=="isAxiosError"),ft.call(c,e.message,n,r,s,o),c.cause=e,c.name=e.name,a&&Object.assign(c,a),c};const vR=null;function Sh(e){return je.isPlainObject(e)||je.isArray(e)}function O0(e){return je.endsWith(e,"[]")?e.slice(0,-2):e}function db(e,n,r){return e?e.concat(n).map(function(o,a){return o=O0(o),!r&&a?"["+o+"]":o}).join(r?".":""):n}function jR(e){return je.isArray(e)&&!e.some(Sh)}const SR=je.toFlatObject(je,{},null,function(n){return/^is[A-Z]/.test(n)});function Qc(e,n,r){if(!je.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,r=je.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,j){return!je.isUndefined(j[S])});const s=r.metaTokens,o=r.visitor||x,a=r.dots,c=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&je.isSpecCompliantForm(n);if(!je.isFunction(o))throw new TypeError("visitor must be a function");function h(b){if(b===null)return"";if(je.isDate(b))return b.toISOString();if(!u&&je.isBlob(b))throw new ft("Blob is not supported. Use a Buffer instead.");return je.isArrayBuffer(b)||je.isTypedArray(b)?u&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function x(b,S,j){let D=b;if(b&&!j&&typeof b=="object"){if(je.endsWith(S,"{}"))S=s?S:S.slice(0,-2),b=JSON.stringify(b);else if(je.isArray(b)&&jR(b)||(je.isFileList(b)||je.endsWith(S,"[]"))&&(D=je.toArray(b)))return S=O0(S),D.forEach(function(I,T){!(je.isUndefined(I)||I===null)&&n.append(c===!0?db([S],T,a):c===null?S:S+"[]",h(I))}),!1}return Sh(b)?!0:(n.append(db(j,S,a),h(b)),!1)}const p=[],m=Object.assign(SR,{defaultVisitor:x,convertValue:h,isVisitable:Sh});function y(b,S){if(!je.isUndefined(b)){if(p.indexOf(b)!==-1)throw Error("Circular reference detected in "+S.join("."));p.push(b),je.forEach(b,function(D,w){(!(je.isUndefined(D)||D===null)&&o.call(n,D,je.isString(w)?w.trim():w,S,m))===!0&&y(D,S?S.concat(w):[w])}),p.pop()}}if(!je.isObject(e))throw new TypeError("data must be an object");return y(e),n}function ub(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return n[s]})}function hf(e,n){this._pairs=[],e&&Qc(e,this,n)}const k0=hf.prototype;k0.append=function(n,r){this._pairs.push([n,r])};k0.toString=function(n){const r=n?function(s){return n.call(this,s,ub)}:ub;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function wR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function M0(e,n,r){if(!n)return e;const s=r&&r.encode||wR,o=r&&r.serialize;let a;if(o?a=o(n,r):a=je.isURLSearchParams(n)?n.toString():new hf(n,r).toString(s),a){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class hb{constructor(){this.handlers=[]}use(n,r,s){return this.handlers.push({fulfilled:n,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){je.forEach(this.handlers,function(s){s!==null&&n(s)})}}const N0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},CR=typeof URLSearchParams<"u"?URLSearchParams:hf,PR=typeof FormData<"u"?FormData:null,DR=typeof Blob<"u"?Blob:null,IR={isBrowser:!0,classes:{URLSearchParams:CR,FormData:PR,Blob:DR},protocols:["http","https","file","blob","url","data"]},ff=typeof window<"u"&&typeof document<"u",ER=(e=>ff&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),TR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",AR=ff&&window.location.href||"http://localhost",RR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ff,hasStandardBrowserEnv:ER,hasStandardBrowserWebWorkerEnv:TR,origin:AR},Symbol.toStringTag,{value:"Module"})),ds={...RR,...IR};function _R(e,n){return Qc(e,new ds.classes.URLSearchParams,Object.assign({visitor:function(r,s,o,a){return ds.isNode&&je.isBuffer(r)?(this.append(s,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},n))}function OR(e){return je.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function kR(e){const n={},r=Object.keys(e);let s;const o=r.length;let a;for(s=0;s<o;s++)a=r[s],n[a]=e[a];return n}function L0(e){function n(r,s,o,a){let c=r[a++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),u=a>=r.length;return c=!c&&je.isArray(o)?o.length:c,u?(je.hasOwnProp(o,c)?o[c]=[o[c],s]:o[c]=s,!d):((!o[c]||!je.isObject(o[c]))&&(o[c]=[]),n(r,s,o[c],a)&&je.isArray(o[c])&&(o[c]=kR(o[c])),!d)}if(je.isFormData(e)&&je.isFunction(e.entries)){const r={};return je.forEachEntry(e,(s,o)=>{n(OR(s),o,r,0)}),r}return null}function MR(e,n,r){if(je.isString(e))try{return(n||JSON.parse)(e),je.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const Ha={transitional:N0,adapter:["xhr","http","fetch"],transformRequest:[function(n,r){const s=r.getContentType()||"",o=s.indexOf("application/json")>-1,a=je.isObject(n);if(a&&je.isHTMLForm(n)&&(n=new FormData(n)),je.isFormData(n))return o?JSON.stringify(L0(n)):n;if(je.isArrayBuffer(n)||je.isBuffer(n)||je.isStream(n)||je.isFile(n)||je.isBlob(n)||je.isReadableStream(n))return n;if(je.isArrayBufferView(n))return n.buffer;if(je.isURLSearchParams(n))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let d;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return _R(n,this.formSerializer).toString();if((d=je.isFileList(n))||s.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Qc(d?{"files[]":n}:n,u&&new u,this.formSerializer)}}return a||o?(r.setContentType("application/json",!1),MR(n)):n}],transformResponse:[function(n){const r=this.transitional||Ha.transitional,s=r&&r.forcedJSONParsing,o=this.responseType==="json";if(je.isResponse(n)||je.isReadableStream(n))return n;if(n&&je.isString(n)&&(s&&!this.responseType||o)){const c=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(n)}catch(d){if(c)throw d.name==="SyntaxError"?ft.from(d,ft.ERR_BAD_RESPONSE,this,null,this.response):d}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ds.classes.FormData,Blob:ds.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};je.forEach(["delete","get","head","post","put","patch"],e=>{Ha.headers[e]={}});const NR=je.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),LR=e=>{const n={};let r,s,o;return e&&e.split(`
`).forEach(function(c){o=c.indexOf(":"),r=c.substring(0,o).trim().toLowerCase(),s=c.substring(o+1).trim(),!(!r||n[r]&&NR[r])&&(r==="set-cookie"?n[r]?n[r].push(s):n[r]=[s]:n[r]=n[r]?n[r]+", "+s:s)}),n},fb=Symbol("internals");function aa(e){return e&&String(e).trim().toLowerCase()}function rc(e){return e===!1||e==null?e:je.isArray(e)?e.map(rc):String(e)}function $R(e){const n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)n[s[1]]=s[2];return n}const FR=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Hu(e,n,r,s,o){if(je.isFunction(s))return s.call(this,n,r);if(o&&(n=r),!!je.isString(n)){if(je.isString(s))return n.indexOf(s)!==-1;if(je.isRegExp(s))return s.test(n)}}function WR(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,r,s)=>r.toUpperCase()+s)}function BR(e,n){const r=je.toCamelCase(" "+n);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(o,a,c){return this[s].call(this,n,o,a,c)},configurable:!0})})}class jr{constructor(n){n&&this.set(n)}set(n,r,s){const o=this;function a(d,u,h){const x=aa(u);if(!x)throw new Error("header name must be a non-empty string");const p=je.findKey(o,x);(!p||o[p]===void 0||h===!0||h===void 0&&o[p]!==!1)&&(o[p||u]=rc(d))}const c=(d,u)=>je.forEach(d,(h,x)=>a(h,x,u));if(je.isPlainObject(n)||n instanceof this.constructor)c(n,r);else if(je.isString(n)&&(n=n.trim())&&!FR(n))c(LR(n),r);else if(je.isHeaders(n))for(const[d,u]of n.entries())a(u,d,s);else n!=null&&a(r,n,s);return this}get(n,r){if(n=aa(n),n){const s=je.findKey(this,n);if(s){const o=this[s];if(!r)return o;if(r===!0)return $R(o);if(je.isFunction(r))return r.call(this,o,s);if(je.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,r){if(n=aa(n),n){const s=je.findKey(this,n);return!!(s&&this[s]!==void 0&&(!r||Hu(this,this[s],s,r)))}return!1}delete(n,r){const s=this;let o=!1;function a(c){if(c=aa(c),c){const d=je.findKey(s,c);d&&(!r||Hu(s,s[d],d,r))&&(delete s[d],o=!0)}}return je.isArray(n)?n.forEach(a):a(n),o}clear(n){const r=Object.keys(this);let s=r.length,o=!1;for(;s--;){const a=r[s];(!n||Hu(this,this[a],a,n,!0))&&(delete this[a],o=!0)}return o}normalize(n){const r=this,s={};return je.forEach(this,(o,a)=>{const c=je.findKey(s,a);if(c){r[c]=rc(o),delete r[a];return}const d=n?WR(a):String(a).trim();d!==a&&delete r[a],r[d]=rc(o),s[d]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const r=Object.create(null);return je.forEach(this,(s,o)=>{s!=null&&s!==!1&&(r[o]=n&&je.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,r])=>n+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...r){const s=new this(n);return r.forEach(o=>s.set(o)),s}static accessor(n){const s=(this[fb]=this[fb]={accessors:{}}).accessors,o=this.prototype;function a(c){const d=aa(c);s[d]||(BR(o,c),s[d]=!0)}return je.isArray(n)?n.forEach(a):a(n),this}}jr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);je.reduceDescriptors(jr.prototype,({value:e},n)=>{let r=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(s){this[r]=s}}});je.freezeMethods(jr);function Yu(e,n){const r=this||Ha,s=n||r,o=jr.from(s.headers);let a=s.data;return je.forEach(e,function(d){a=d.call(r,a,o.normalize(),n?n.status:void 0)}),o.normalize(),a}function $0(e){return!!(e&&e.__CANCEL__)}function Wi(e,n,r){ft.call(this,e??"canceled",ft.ERR_CANCELED,n,r),this.name="CanceledError"}je.inherits(Wi,ft,{__CANCEL__:!0});function F0(e,n,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):n(new ft("Request failed with status code "+r.status,[ft.ERR_BAD_REQUEST,ft.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function VR(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function UR(e,n){e=e||10;const r=new Array(e),s=new Array(e);let o=0,a=0,c;return n=n!==void 0?n:1e3,function(u){const h=Date.now(),x=s[a];c||(c=h),r[o]=u,s[o]=h;let p=a,m=0;for(;p!==o;)m+=r[p++],p=p%e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),h-c<n)return;const y=x&&h-x;return y?Math.round(m*1e3/y):void 0}}function zR(e,n){let r=0;const s=1e3/n;let o=null;return function(){const c=this===!0,d=Date.now();if(c||d-r>s)return o&&(clearTimeout(o),o=null),r=d,e.apply(null,arguments);o||(o=setTimeout(()=>(o=null,r=Date.now(),e.apply(null,arguments)),s-(d-r)))}}const Sc=(e,n,r=3)=>{let s=0;const o=UR(50,250);return zR(a=>{const c=a.loaded,d=a.lengthComputable?a.total:void 0,u=c-s,h=o(u),x=c<=d;s=c;const p={loaded:c,total:d,progress:d?c/d:void 0,bytes:u,rate:h||void 0,estimated:h&&d&&x?(d-c)/h:void 0,event:a,lengthComputable:d!=null};p[n?"download":"upload"]=!0,e(p)},r)},HR=ds.hasStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let s;function o(a){let c=a;return n&&(r.setAttribute("href",c),c=r.href),r.setAttribute("href",c),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return s=o(window.location.href),function(c){const d=je.isString(c)?o(c):c;return d.protocol===s.protocol&&d.host===s.host}}():function(){return function(){return!0}}(),YR=ds.hasStandardBrowserEnv?{write(e,n,r,s,o,a){const c=[e+"="+encodeURIComponent(n)];je.isNumber(r)&&c.push("expires="+new Date(r).toGMTString()),je.isString(s)&&c.push("path="+s),je.isString(o)&&c.push("domain="+o),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function GR(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function qR(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function W0(e,n){return e&&!GR(n)?qR(e,n):n}const pb=e=>e instanceof jr?{...e}:e;function Wo(e,n){n=n||{};const r={};function s(h,x,p){return je.isPlainObject(h)&&je.isPlainObject(x)?je.merge.call({caseless:p},h,x):je.isPlainObject(x)?je.merge({},x):je.isArray(x)?x.slice():x}function o(h,x,p){if(je.isUndefined(x)){if(!je.isUndefined(h))return s(void 0,h,p)}else return s(h,x,p)}function a(h,x){if(!je.isUndefined(x))return s(void 0,x)}function c(h,x){if(je.isUndefined(x)){if(!je.isUndefined(h))return s(void 0,h)}else return s(void 0,x)}function d(h,x,p){if(p in n)return s(h,x);if(p in e)return s(void 0,h)}const u={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(h,x)=>o(pb(h),pb(x),!0)};return je.forEach(Object.keys(Object.assign({},e,n)),function(x){const p=u[x]||o,m=p(e[x],n[x],x);je.isUndefined(m)&&p!==d||(r[x]=m)}),r}const B0=e=>{const n=Wo({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:a,headers:c,auth:d}=n;n.headers=c=jr.from(c),n.url=M0(W0(n.baseURL,n.url),e.params,e.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let u;if(je.isFormData(r)){if(ds.hasStandardBrowserEnv||ds.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((u=c.getContentType())!==!1){const[h,...x]=u?u.split(";").map(p=>p.trim()).filter(Boolean):[];c.setContentType([h||"multipart/form-data",...x].join("; "))}}if(ds.hasStandardBrowserEnv&&(s&&je.isFunction(s)&&(s=s(n)),s||s!==!1&&HR(n.url))){const h=o&&a&&YR.read(a);h&&c.set(o,h)}return n},KR=typeof XMLHttpRequest<"u",JR=KR&&function(e){return new Promise(function(r,s){const o=B0(e);let a=o.data;const c=jr.from(o.headers).normalize();let{responseType:d}=o,u;function h(){o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let x=new XMLHttpRequest;x.open(o.method.toUpperCase(),o.url,!0),x.timeout=o.timeout;function p(){if(!x)return;const y=jr.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),S={data:!d||d==="text"||d==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:y,config:e,request:x};F0(function(D){r(D),h()},function(D){s(D),h()},S),x=null}"onloadend"in x?x.onloadend=p:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(p)},x.onabort=function(){x&&(s(new ft("Request aborted",ft.ECONNABORTED,o,x)),x=null)},x.onerror=function(){s(new ft("Network Error",ft.ERR_NETWORK,o,x)),x=null},x.ontimeout=function(){let b=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const S=o.transitional||N0;o.timeoutErrorMessage&&(b=o.timeoutErrorMessage),s(new ft(b,S.clarifyTimeoutError?ft.ETIMEDOUT:ft.ECONNABORTED,o,x)),x=null},a===void 0&&c.setContentType(null),"setRequestHeader"in x&&je.forEach(c.toJSON(),function(b,S){x.setRequestHeader(S,b)}),je.isUndefined(o.withCredentials)||(x.withCredentials=!!o.withCredentials),d&&d!=="json"&&(x.responseType=o.responseType),typeof o.onDownloadProgress=="function"&&x.addEventListener("progress",Sc(o.onDownloadProgress,!0)),typeof o.onUploadProgress=="function"&&x.upload&&x.upload.addEventListener("progress",Sc(o.onUploadProgress)),(o.cancelToken||o.signal)&&(u=y=>{x&&(s(!y||y.type?new Wi(null,e,x):y),x.abort(),x=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const m=VR(o.url);if(m&&ds.protocols.indexOf(m)===-1){s(new ft("Unsupported protocol "+m+":",ft.ERR_BAD_REQUEST,e));return}x.send(a||null)})},XR=(e,n)=>{let r=new AbortController,s;const o=function(u){if(!s){s=!0,c();const h=u instanceof Error?u:this.reason;r.abort(h instanceof ft?h:new Wi(h instanceof Error?h.message:h))}};let a=n&&setTimeout(()=>{o(new ft(`timeout ${n} of ms exceeded`,ft.ETIMEDOUT))},n);const c=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(u=>{u&&(u.removeEventListener?u.removeEventListener("abort",o):u.unsubscribe(o))}),e=null)};e.forEach(u=>u&&u.addEventListener&&u.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=c,[d,()=>{a&&clearTimeout(a),a=null}]},QR=function*(e,n){let r=e.byteLength;if(!n||r<n){yield e;return}let s=0,o;for(;s<r;)o=s+n,yield e.slice(s,o),s=o},ZR=async function*(e,n,r){for await(const s of e)yield*QR(ArrayBuffer.isView(s)?s:await r(String(s)),n)},xb=(e,n,r,s,o)=>{const a=ZR(e,n,o);let c=0;return new ReadableStream({type:"bytes",async pull(d){const{done:u,value:h}=await a.next();if(u){d.close(),s();return}let x=h.byteLength;r&&r(c+=x),d.enqueue(new Uint8Array(h))},cancel(d){return s(d),a.return()}},{highWaterMark:2})},mb=(e,n)=>{const r=e!=null;return s=>setTimeout(()=>n({lengthComputable:r,total:e,loaded:s}))},Zc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",V0=Zc&&typeof ReadableStream=="function",wh=Zc&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),e_=V0&&(()=>{let e=!1;const n=new Request(ds.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n})(),gb=64*1024,Ch=V0&&!!(()=>{try{return je.isReadableStream(new Response("").body)}catch{}})(),wc={stream:Ch&&(e=>e.body)};Zc&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!wc[n]&&(wc[n]=je.isFunction(e[n])?r=>r[n]():(r,s)=>{throw new ft(`Response type '${n}' is not supported`,ft.ERR_NOT_SUPPORT,s)})})})(new Response);const t_=async e=>{if(e==null)return 0;if(je.isBlob(e))return e.size;if(je.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(je.isArrayBufferView(e))return e.byteLength;if(je.isURLSearchParams(e)&&(e=e+""),je.isString(e))return(await wh(e)).byteLength},n_=async(e,n)=>{const r=je.toFiniteNumber(e.getContentLength());return r??t_(n)},r_=Zc&&(async e=>{let{url:n,method:r,data:s,signal:o,cancelToken:a,timeout:c,onDownloadProgress:d,onUploadProgress:u,responseType:h,headers:x,withCredentials:p="same-origin",fetchOptions:m}=B0(e);h=h?(h+"").toLowerCase():"text";let[y,b]=o||a||c?XR([o,a],c):[],S,j;const D=()=>{!S&&setTimeout(()=>{y&&y.unsubscribe()}),S=!0};let w;try{if(u&&e_&&r!=="get"&&r!=="head"&&(w=await n_(x,s))!==0){let R=new Request(n,{method:"POST",body:s,duplex:"half"}),O;je.isFormData(s)&&(O=R.headers.get("content-type"))&&x.setContentType(O),R.body&&(s=xb(R.body,gb,mb(w,Sc(u)),null,wh))}je.isString(p)||(p=p?"cors":"omit"),j=new Request(n,{...m,signal:y,method:r.toUpperCase(),headers:x.normalize().toJSON(),body:s,duplex:"half",withCredentials:p});let I=await fetch(j);const T=Ch&&(h==="stream"||h==="response");if(Ch&&(d||T)){const R={};["status","statusText","headers"].forEach(A=>{R[A]=I[A]});const O=je.toFiniteNumber(I.headers.get("content-length"));I=new Response(xb(I.body,gb,d&&mb(O,Sc(d,!0)),T&&D,wh),R)}h=h||"text";let _=await wc[je.findKey(wc,h)||"text"](I,e);return!T&&D(),b&&b(),await new Promise((R,O)=>{F0(R,O,{data:_,headers:jr.from(I.headers),status:I.status,statusText:I.statusText,config:e,request:j})})}catch(I){throw D(),I&&I.name==="TypeError"&&/fetch/i.test(I.message)?Object.assign(new ft("Network Error",ft.ERR_NETWORK,e,j),{cause:I.cause||I}):ft.from(I,I&&I.code,e,j)}}),Ph={http:vR,xhr:JR,fetch:r_};je.forEach(Ph,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const bb=e=>`- ${e}`,s_=e=>je.isFunction(e)||e===null||e===!1,U0={getAdapter:e=>{e=je.isArray(e)?e:[e];const{length:n}=e;let r,s;const o={};for(let a=0;a<n;a++){r=e[a];let c;if(s=r,!s_(r)&&(s=Ph[(c=String(r)).toLowerCase()],s===void 0))throw new ft(`Unknown adapter '${c}'`);if(s)break;o[c||"#"+a]=s}if(!s){const a=Object.entries(o).map(([d,u])=>`adapter ${d} `+(u===!1?"is not supported by the environment":"is not available in the build"));let c=n?a.length>1?`since :
`+a.map(bb).join(`
`):" "+bb(a[0]):"as no adapter specified";throw new ft("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s},adapters:Ph};function Gu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Wi(null,e)}function yb(e){return Gu(e),e.headers=jr.from(e.headers),e.data=Yu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),U0.getAdapter(e.adapter||Ha.adapter)(e).then(function(s){return Gu(e),s.data=Yu.call(e,e.transformResponse,s),s.headers=jr.from(s.headers),s},function(s){return $0(s)||(Gu(e),s&&s.response&&(s.response.data=Yu.call(e,e.transformResponse,s.response),s.response.headers=jr.from(s.response.headers))),Promise.reject(s)})}const z0="1.7.2",pf={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{pf[e]=function(s){return typeof s===e||"a"+(n<1?"n ":" ")+e}});const vb={};pf.transitional=function(n,r,s){function o(a,c){return"[Axios v"+z0+"] Transitional option '"+a+"'"+c+(s?". "+s:"")}return(a,c,d)=>{if(n===!1)throw new ft(o(c," has been removed"+(r?" in "+r:"")),ft.ERR_DEPRECATED);return r&&!vb[c]&&(vb[c]=!0,console.warn(o(c," has been deprecated since v"+r+" and will be removed in the near future"))),n?n(a,c,d):!0}};function o_(e,n,r){if(typeof e!="object")throw new ft("options must be an object",ft.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let o=s.length;for(;o-- >0;){const a=s[o],c=n[a];if(c){const d=e[a],u=d===void 0||c(d,a,e);if(u!==!0)throw new ft("option "+a+" must be "+u,ft.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ft("Unknown option "+a,ft.ERR_BAD_OPTION)}}const Dh={assertOptions:o_,validators:pf},eo=Dh.validators;class Lo{constructor(n){this.defaults=n,this.interceptors={request:new hb,response:new hb}}async request(n,r){try{return await this._request(n,r)}catch(s){if(s instanceof Error){let o;Error.captureStackTrace?Error.captureStackTrace(o={}):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(n,r){typeof n=="string"?(r=r||{},r.url=n):r=n||{},r=Wo(this.defaults,r);const{transitional:s,paramsSerializer:o,headers:a}=r;s!==void 0&&Dh.assertOptions(s,{silentJSONParsing:eo.transitional(eo.boolean),forcedJSONParsing:eo.transitional(eo.boolean),clarifyTimeoutError:eo.transitional(eo.boolean)},!1),o!=null&&(je.isFunction(o)?r.paramsSerializer={serialize:o}:Dh.assertOptions(o,{encode:eo.function,serialize:eo.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=a&&je.merge(a.common,a[r.method]);a&&je.forEach(["delete","get","head","post","put","patch","common"],b=>{delete a[b]}),r.headers=jr.concat(c,a);const d=[];let u=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(r)===!1||(u=u&&S.synchronous,d.unshift(S.fulfilled,S.rejected))});const h=[];this.interceptors.response.forEach(function(S){h.push(S.fulfilled,S.rejected)});let x,p=0,m;if(!u){const b=[yb.bind(this),void 0];for(b.unshift.apply(b,d),b.push.apply(b,h),m=b.length,x=Promise.resolve(r);p<m;)x=x.then(b[p++],b[p++]);return x}m=d.length;let y=r;for(p=0;p<m;){const b=d[p++],S=d[p++];try{y=b(y)}catch(j){S.call(this,j);break}}try{x=yb.call(this,y)}catch(b){return Promise.reject(b)}for(p=0,m=h.length;p<m;)x=x.then(h[p++],h[p++]);return x}getUri(n){n=Wo(this.defaults,n);const r=W0(n.baseURL,n.url);return M0(r,n.params,n.paramsSerializer)}}je.forEach(["delete","get","head","options"],function(n){Lo.prototype[n]=function(r,s){return this.request(Wo(s||{},{method:n,url:r,data:(s||{}).data}))}});je.forEach(["post","put","patch"],function(n){function r(s){return function(a,c,d){return this.request(Wo(d||{},{method:n,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}Lo.prototype[n]=r(),Lo.prototype[n+"Form"]=r(!0)});class xf{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const s=this;this.promise.then(o=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](o);s._listeners=null}),this.promise.then=o=>{let a;const c=new Promise(d=>{s.subscribe(d),a=d}).then(o);return c.cancel=function(){s.unsubscribe(a)},c},n(function(a,c,d){s.reason||(s.reason=new Wi(a,c,d),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const r=this._listeners.indexOf(n);r!==-1&&this._listeners.splice(r,1)}static source(){let n;return{token:new xf(function(o){n=o}),cancel:n}}}function i_(e){return function(r){return e.apply(null,r)}}function a_(e){return je.isObject(e)&&e.isAxiosError===!0}const Ih={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ih).forEach(([e,n])=>{Ih[n]=e});function H0(e){const n=new Lo(e),r=w0(Lo.prototype.request,n);return je.extend(r,Lo.prototype,n,{allOwnKeys:!0}),je.extend(r,n,null,{allOwnKeys:!0}),r.create=function(o){return H0(Wo(e,o))},r}const Rn=H0(Ha);Rn.Axios=Lo;Rn.CanceledError=Wi;Rn.CancelToken=xf;Rn.isCancel=$0;Rn.VERSION=z0;Rn.toFormData=Qc;Rn.AxiosError=ft;Rn.Cancel=Rn.CanceledError;Rn.all=function(n){return Promise.all(n)};Rn.spread=i_;Rn.isAxiosError=a_;Rn.mergeConfig=Wo;Rn.AxiosHeaders=jr;Rn.formToJSON=e=>L0(je.isHTMLForm(e)?new FormData(e):e);Rn.getAdapter=U0.getAdapter;Rn.HttpStatusCode=Ih;Rn.default=Rn;const l_="https://journalist-api--journalist-2bf9e.europe-west4.hosted.app/";class c_{constructor(){Ae(this,"instance");Ae(this,"handleAxiosError",n=>n.response?{status:n.response.status,data:n.response.data}:{status:500,data:"Network Error"});this.instance=Rn.create({baseURL:l_,headers:{"Content-Type":"application/json"}}),this.instance.interceptors.request.use(n=>n,n=>Promise.reject(n)),this.instance.interceptors.response.use(n=>n,n=>Promise.reject(n))}get axiosInstance(){return this.instance}}const Be={page:1,limit:20,order:"desc"};class dr{constructor(n,r){Ae(this,"axiosJ");Ae(this,"apiPath");Ae(this,"_list",async(n,r,s)=>{try{const o=new URLSearchParams(r),a=o.size===0?"":`?${o.toString()}`;return(await this.axiosJ.axiosInstance.get(`${n}${a}`,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Ae(this,"_listAll",async(n,r,s)=>{try{const o=new URLSearchParams(r),a=o.size===0?"":`?${o.toString()}`;return(await this.axiosJ.axiosInstance.get(`${n}${a}`,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Ae(this,"_get",async(n,r)=>{try{return(await this.axiosJ.axiosInstance.get(n,r)).data}catch(s){throw this.axiosJ.handleAxiosError(s)}});Ae(this,"_post",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.post(n,r,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Ae(this,"_patch",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.patch(n,r,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Ae(this,"_put",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.put(n,r,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Ae(this,"_remove",async(n,r)=>{try{return(await this.axiosJ.axiosInstance.delete(n,r)).data}catch(s){throw this.axiosJ.handleAxiosError(s)}});this.axiosJ=n,this.apiPath=r}}const Jn="/api/channels",bs={TIER:"tiers",SUBSCRIPTIONS:"subscriptions"};class d_ extends dr{constructor(n){super(n,Jn)}async getChannels(n={},r=Be){const s={...r};return n.trending&&(s.trending="true"),n.popular&&(s.popular="true"),n.subscribed&&(s.subscribed="true"),n.followed&&(s.followed="true"),n.verified&&(s.verified="true"),n.creator&&(s.creator=n.creator),n.category&&(s.category=n.category),n.tags&&n.tags.length>0&&(s.tags=n.tags.join(",")),this._list(Jn,s)}async getAll(n=Be){return this.getChannels({},n)}async getTrending(n=Be){return this.getChannels({trending:!0},n)}async getPopular(n=Be){return this.getChannels({popular:!0},n)}async getSubscribed(n=Be){return this.getChannels({subscribed:!0},n)}async getFollowed(n=Be){return this.getChannels({followed:!0},n)}async getVerified(n=Be){return this.getChannels({verified:!0},n)}async createChannel(n){return this._post(Jn,n)}async getChannel(n){return this._get(`${Jn}/${n}`)}async getCreatorChannels(n,r=Be){return this.getChannels({creator:n},r)}async updateChannel(n,r){await this._put(`${Jn}/${n}`,r)}async deleteChannel(n){return this._remove(`${Jn}/${n}`)}async createTier(n,r){return this._post(`${Jn}/${n}/${bs.TIER}`,r)}async updateTier(n,r,s){await this._put(`${Jn}/${n}/${bs.TIER}/${r}`,s)}async updateTiers(n,r){const s=r.map(o=>{const{currency:a,channelId:c,isDefault:d,...u}=o;return u});return this._put(`${Jn}/${n}/${bs.TIER}`,s)}async getTiers(n){return this._list(`${Jn}/${n}/${bs.TIER}`)}async getTier(n,r){return this._get(`${Jn}/${n}/${bs.TIER}/${r}`)}async deleteTier(n,r){return this._remove(`${Jn}/${n}/${bs.TIER}/${r}`)}async subscribeToChannel(n,r={}){return this._post(`${Jn}/${n}/${bs.SUBSCRIPTIONS}`,r)}async unsubscribeFromChannel(n){await this._remove(`${Jn}/${n}/${bs.SUBSCRIPTIONS}`)}async getChannelSubscribers(n,r=Be){return this._list(`${Jn}/${n}/${bs.SUBSCRIPTIONS}`,r)}async getSubscriptionDetails(n,r){return this._get(`${Jn}/${n}/${bs.SUBSCRIPTIONS}/${r}`)}}const Ms="/api/news";class u_ extends dr{constructor(n){super(n,Ms)}async getNews(n={},r=Be){const s={...r};return n.feed&&(s.feed="true"),n.trending&&(s.trending="true"),n.subscribed&&(s.subscribed="true"),n.channel&&(s.channel=n.channel),n.creator&&(s.creator=n.creator),n.status&&(s.status=n.status),n.premium!==void 0&&(s.premium=n.premium.toString()),n.tags&&n.tags.length>0&&(s.tags=n.tags.join(",")),n.query&&(s.query=n.query),this._list(Ms,s)}async getAll(n=Be){return this.getNews({},n)}async getFeed(n=Be){return this.getNews({feed:!0},n)}async getTrending(n=Be){return this.getNews({trending:!0},n)}async getSubscribed(n=Be){return this.getNews({subscribed:!0},n)}async getPremium(n=Be){return this.getNews({premium:!0},n)}async getNewsByChannel(n,r=Be){return this.getNews({channel:n},r)}async getCreatorNews(n,r=Be){return this.getNews({creator:n},r)}async getNewsByTags(n,r=Be){return this.getNews({tags:n},r)}async getNewsByStatus(n,r=Be){return this.getNews({status:n},r)}async get(n){return this._get(`${Ms}/${n}`)}async getDetails(n){return this._get(`${Ms}/${n}/details`)}async createNews(n){return this._post(Ms,n)}async update(n,r){await this._put(`${Ms}/${n}`,r)}async delete(n){await this._remove(`${Ms}/${n}`)}async getNewsStats(n,r,s){return this._get(`${Ms}/${n}/stats?startDate=${r}&endDate=${s}`)}async getNewsTags(n=Be){return this._list(`${Ms}/tags`,n)}async create(n){return this.createNews(n)}}const Ar="/api/polls";class h_ extends dr{constructor(n){super(n,Ar)}async getPolls(n={},r=Be){const s={...r};return n.trending&&(s.trending="true"),n.funded&&(s.funded="true"),n.claimed&&(s.claimed="true"),n.subscribed&&(s.subscribed="true"),n.channel&&(s.channel=n.channel),n.creator&&(s.creator=n.creator),n.status&&(s.status=n.status),n.converted!==void 0&&(s.converted=n.converted.toString()),n.tags&&n.tags.length>0&&(s.tags=n.tags.join(",")),this._list(Ar,s)}async getAll(n=Be){return this.getPolls({},n)}async getTrending(n=Be){return this.getPolls({trending:!0},n)}async getFunded(n=Be){return this.getPolls({funded:!0},n)}async getClaimed(n=Be){return this.getPolls({claimed:!0},n)}async getSubscribed(n=Be){return this.getPolls({subscribed:!0},n)}async getPollsByChannel(n,r=Be){return this.getPolls({channel:n},r)}async getCreatorPolls(n,r=Be){return this.getPolls({creator:n},r)}async getPollsByTags(n,r=Be){return this.getPolls({tags:n},r)}async get(n){return this._get(`${Ar}/${n}`)}async create(n){return this._post(Ar,n)}async update(n,r){await this._put(`${Ar}/${n}`,r)}async delete(n){return this._remove(`${Ar}/${n}`)}async getResults(n){return this._get(`${Ar}/${n}/votes`)}async vote(n,r){return this._post(`${Ar}/${n}/votes`,r)}async getUserVote(n){return this._get(`${Ar}/${n}/votes/me`)}async checkVotingEligibility(n){return this._get(`${Ar}/${n}/votes/eligibility`)}async getFunding(n){return this._get(`${Ar}/${n}/funding`)}async claim(n){return this._post(`${Ar}/${n}/claims`,{})}async convertToNews(n,r){return this._post(`${Ar}/${n}/conversions`,r)}async getVoteResults(n){return this.getResults(n)}async getMyVote(n){return this.getUserVote(n)}}const ai="/api/users";class f_ extends dr{constructor(n){super(n,ai)}async getAll(n=Be){return this._list(ai,n)}async get(n){return this._get(`${ai}/${n}`)}async create(n){return this._post(ai,n)}async update(n,r){await this._put(`${ai}/${n}`,r)}async delete(n){return this._remove(`${ai}/${n}`)}}const Gl="/api/auth";class p_ extends dr{constructor(n){super(n,Gl)}async signIn(n){return this._post(`${Gl}/sign-in`,n)}async signUp(n){return this._post(`${Gl}/sign-up`,n)}async verifyToken(n){return this._post(`${Gl}/verify-token`,n)}}const Xn="/api/account";class x_ extends dr{constructor(n){super(n,Xn)}async getProfile(){return this._get(`${Xn}/profile`)}async updateProfile(n){return this._put(`${Xn}/profile`,n)}async getPaymentMethods(){return this._list(`${Xn}/payment-methods`)}async getPaymentMethod(n){return this._get(`${Xn}/payment-methods/${n}`)}async getDefaultPaymentMethod(){return this._get(`${Xn}/payment-methods/default`)}async addPaymentMethod(n){return this._post(`${Xn}/payment-methods`,n)}async updatePaymentMethod(n,r){return this._put(`${Xn}/payment-methods/${n}`,r)}async deletePaymentMethod(n){return this._remove(`${Xn}/payment-methods/${n}`)}async setDefaultPaymentMethod(n){return this._patch(`${Xn}/payment-methods/${n}/default`,{})}async getAvailablePaymentMethods(){return this._get(`${Xn}/payment-methods/available`)}async getSubscriptions(){return this._list(`${Xn}/subscriptions`)}async subscribe(n,r){return this._post(`${Xn}/subscriptions/${n}`,r)}async cancelSubscription(n){return this._remove(`${Xn}/subscriptions/${n}`)}async getUserChannels(n=Be){return this._list(`${Xn}/channels`,n)}async savePayPalPaymentMethod(n){return this._post(`${Xn}/payment-methods/paypal/tokens/save`,n)}}const xr="/api/expense-orders";class m_ extends dr{constructor(n){super(n,xr)}async createExpenseOrder(n){return this._post(xr,n)}async updateExpenseOrder(n,r){return this._put(`${xr}/${n}`,r)}async submitExpenseOrder(n,r){return this._post(`${xr}/${n}/submit`,r||{})}async cancelExpenseOrder(n,r){return this._post(`${xr}/${n}/cancel`,{reason:r})}async getMyExpenseOrders(n=Be,r){const s={...n};return r&&(s.status=r),this._list(`${xr}/my-orders`,s)}async getAllExpenseOrders(n=Be,r){const s={...n};return(r==null?void 0:r.status)!==void 0&&(s.status=r.status),r!=null&&r.channelId&&(s.channelId=r.channelId),r!=null&&r.journalistId&&(s.journalistId=r.journalistId),this._list("/api/admin/expense-orders",s)}async approveExpenseOrder(n,r){return this._post(`${xr}/${n}/approve`,r||{})}async rejectExpenseOrder(n,r){return this._post(`${xr}/${n}/reject`,r)}async processPayment(n,r){return this._post(`${xr}/${n}/process-payment`,r||{})}async getPendingExpenseOrders(n=Be){return this._list(`${xr}/pending`,n)}async getExpenseOrderStats(n,r,s){const o={};return n&&(o.channelId=n),r&&(o.startDate=r.toISOString()),s&&(o.endDate=s.toISOString()),this._get(`${xr}/stats`,{params:o})}async getExpenseOrder(n){return this._get(`${xr}/${n}`)}async getExpenseOrdersByJournalist(n,r=Be,s){const o={...r};return s&&(o.status=s),this._list(`${xr}/journalist/${n}`,o)}async getExpenseOrdersByChannel(n,r=Be,s){const o={...r};return s&&(o.status=s),this._list(`${xr}/channel/${n}`,o)}async getExpenseTypes(){return this._get("/api/expense-types")}}const Ln="/api/subscriptions";class g_ extends dr{constructor(n){super(n,Ln)}async getAllSubscriptions(n=Be,r={}){const s={...n,...r};return this._list(Ln,s)}async getSubscriptionById(n){return this._get(`${Ln}/${n}`)}async updateSubscriptionStatus(n,r,s){return this._patch(`${Ln}/${n}/status`,{status:r,reason:s})}async bulkUpdateSubscriptions(n){return this._post(`${Ln}/bulk-update`,n)}async getSubscriptionAnalytics(n={}){const r=new URLSearchParams(n).toString(),s=r?`${Ln}/analytics?${r}`:`${Ln}/analytics`;return this._get(s)}async getRevenueMetrics(n={}){const r=new URLSearchParams(n).toString(),s=r?`${Ln}/revenue?${r}`:`${Ln}/revenue`;return this._get(s)}async exportSubscriptions(n={},r="csv"){const s=new URLSearchParams({...n,format:r}).toString(),o=s?`${Ln}/export?${s}`:`${Ln}/export`;return this._get(o)}async cancelSubscription(n,r){await this.updateSubscriptionStatus(n,"canceled",r)}async activateSubscription(n,r){await this.updateSubscriptionStatus(n,"active",r)}async suspendSubscription(n,r){await this.updateSubscriptionStatus(n,"suspended",r)}async updateSubscriptionTier(n,r){return this._patch(`${Ln}/${n}/tier`,{tier_id:r})}async createDirectSubscription(n,r){return this._post(`${Ln}/channels/${n}/subscribe`,r)}async activatePayPalSubscription(n,r){return this._post(`${Ln}/channels/${n}/activate-paypal`,r)}async cancelUserSubscription(n){return this._remove(`${Ln}/${n}/cancel`)}async getMySubscriptions(n=Be,r={}){const s={...n,...r};return this._list(`${Ln}/my`,s)}async getSubscriptionStatus(n){return(await this._get(`${Ln}/${n}/status`)).status}async searchSubscriptions(n,r=Be){const s={...r,search:n};return this._list(`${Ln}/search`,s)}async getSubscriptionsByChannel(n,r=Be){return this.getAllSubscriptions(r,{channel_id:n})}async getSubscriptionsByUser(n,r=Be){return this.getAllSubscriptions(r,{user_id:n})}}const Ao="/api/studio";class b_ extends dr{constructor(n){super(n,Ao)}async createNews(n){return this._post(`${Ao}/news`,n)}async createChannel(n){return this._post(`${Ao}/channels`,n)}async createPoll(n){return this._post(`${Ao}/polls`,n)}async getMyChannels(){return this._list(`${Ao}/me/channels`)}async getMyContent(n="all",r=Be){const s={type:n,...r};return n==="all"?this._get(`${Ao}/me/content`,{params:s}):this._list(`${Ao}/me/content`,s)}async getMyRecentNews(n=Be){return this.getMyContent("news",n)}async getMyRecentPolls(n=Be){return this.getMyContent("polls",n)}async getMyRecentChannels(n=Be){return this.getMyContent("channels",n)}async getCreatorChannels(){return this.getMyChannels()}async getCreatorContent(n="all",r=Be){return this.getMyContent(n,r)}}const Qn="/api/tags";class y_ extends dr{constructor(n){super(n,Qn)}async getTags(n={},r=Be){const s={...r};return n.trending&&(s.trending="true"),n.popular&&(s.popular="true"),n.category&&(s.category=n.category),n.verified&&(s.verified="true"),this._list(Qn,s)}async getAll(n=Be){return this.getTags({},n)}async getTrending(n=Be){return this.getTags({trending:!0},n)}async getPopular(n=Be){return this.getTags({popular:!0},n)}async getVerified(n=Be){return this.getTags({verified:!0},n)}async getNewsTags(n=Be){return this.getTags({category:"news"},n)}async getPollTags(n=Be){return this.getTags({category:"polls"},n)}async getTagById(n){return this._get(`${Qn}/${n}`)}async getTagBySlug(n){return this._get(`${Qn}/slug/${n}`)}async createTag(n){return this._post(Qn,n)}async updateTag(n,r){return this._put(`${Qn}/${n}`,r)}async deleteTag(n){await this._remove(`${Qn}/${n}`)}async getTagNews(n,r=Be){return this._get(`${Qn}/${n}/news`,{params:r})}async getTagPolls(n,r=Be){return this._get(`${Qn}/${n}/polls`,{params:r})}async addTagToNews(n,r){return this._post(`${Qn}/${n}/news/${r}`,{})}async removeTagFromNews(n,r){return this._remove(`${Qn}/${n}/news/${r}`)}async addTagToPoll(n,r){return this._post(`${Qn}/${n}/polls/${r}`,{})}async removeTagFromPoll(n,r){return this._remove(`${Qn}/${n}/polls/${r}`)}async moderateTag(n,r){return this._patch(`${Qn}/${n}/moderate`,{statusId:r})}async approveTag(n){return this.moderateTag(n,2)}async rejectTag(n){return this.moderateTag(n,3)}async searchTags(n,r=Be){const s={...r,search:n};return this._list(Qn,s)}async getTagSuggestions(n,r=10){const s={prefix:n,limit:r};return this._get(`${Qn}/suggestions`,{params:s})}async get(n){return this.getTagById(n)}async create(n){return this.createTag(n)}async update(n,r){return this.updateTag(n,r)}async delete(n){return this.deleteTag(n)}}const Ns="/api/search";class v_ extends dr{constructor(n){super(n,Ns)}async search(n,r={},s=Be){const o={q:n,...s};return Object.entries(r).forEach(([a,c])=>{c!=null&&c!==""&&(Array.isArray(c)?o[a]=c.join(","):c instanceof Date?o[a]=c.toISOString():o[a]=c.toString())}),this._list(Ns,o)}async searchNews(n,r=Be){return this._list(`${Ns}/news`,{q:n,...r})}async searchChannels(n,r=Be){return this._list(`${Ns}/channels`,{q:n,...r})}async searchUsers(n,r=Be){return this._list(`${Ns}/users`,{q:n,...r})}async searchPolls(n,r=Be){return this._list(`${Ns}/polls`,{q:n,...r})}async searchTags(n,r=Be){return this._list(`${Ns}/tags`,{q:n,...r})}async getSuggestions(n,r){const s={q:n};return r&&(s.type=r),this._get(`${Ns}/suggestions`,{params:s})}async getStructuredSuggestions(n,r){const s={q:n};return r&&(s.type=r),this._get(`${Ns}/suggestions/structured`,{params:s})}}const Rr="/api/funding";class j_ extends dr{constructor(n){super(n,Rr)}async getFund(n,r){var s;try{return this._get(`${Rr}/${n}/${r}`)}catch(o){if(((s=o.response)==null?void 0:s.status)===404)return null;throw o}}async getFundSummary(n,r){var s;try{return this._get(`${Rr}/${n}/${r}/summary`)}catch(o){if(((s=o.response)==null?void 0:s.status)===404)return null;throw o}}async createContribution(n,r,s){return this._post(`${Rr}/${n}/${r}/contribute`,s)}async createPayPalOrder(n,r,s){return this._post(`${Rr}/${n}/${r}/create-paypal-order`,s)}async capturePayPalOrder(n,r,s){return this._post(`${Rr}/${n}/${r}/capture-paypal-order`,s)}async getContributions(n,r,s=Be){return this._list(`${Rr}/${n}/${r}/contributions`,s)}async getUserContributions(n=Be){return this._list(`${Rr}/my-contributions`,n)}async getUserContributionsForContent(n,r){return this._get(`${Rr}/${n}/${r}/my-contributions`)}async createFund(n,r,s){return this._post(`${Rr}/${n}/${r}/fund`,s)}async updateFund(n,r,s){return this._put(`${Rr}/${n}/${r}/fund`,s)}async getChannelFundingStats(n,r){return this._get(`${Rr}/channels/${n}/stats`,{params:r})}async processPayout(n,r,s){return this._post(`${Rr}/${n}/${r}/payout`,s)}}const la="/api/payment-tokens";class S_ extends dr{constructor(n){super(n,la)}async createPayPalTokenizationOrder(){return this._post(`${la}/paypal/orders`,{})}async capturePayPalTokenizationOrder(n){return this._post(`${la}/paypal/orders/${n}/capture`,{})}async getPaymentTokenDetails(n){return this._get(`${la}/paypal/tokens/${n}`)}async deletePaymentToken(n){return this._remove(`${la}/paypal/tokens/${n}`)}}const ca="/api/iyzico-tokens";class w_ extends dr{constructor(n){super(n,ca)}async initializeTokenization(n){return this._post(`${ca}/tokenization/init`,n)}async savePaymentMethod(n){return this._post(`${ca}/tokenization/save`,n)}async getStoredCards(){return this._get(`${ca}/cards`)}async deleteStoredCard(n){return this._remove(`${ca}/cards/${n}`)}}const zr="/api/payouts";class C_ extends dr{constructor(n){super(n,zr)}async getPayouts(n){return this._list(zr,n||{})}async getPayoutById(n){return this._get(`${zr}/${n}`)}async getPendingPayouts(n=Be){return this._list(`${zr}/pending`,n)}async getFailedPayouts(n=Be){return this._list(`${zr}/failed`,n)}async getPayoutsReadyForRetry(){return this._get(`${zr}/ready-for-retry`)}async getPayoutsByJournalist(n,r=Be,s){const o={...r};return s&&(o.status=s),this._list(`${zr}/journalist/${n}`,o)}async getPayoutsByChannel(n,r=Be){return this._list(`${zr}/channel/${n}`,r)}async getPayoutStats(n){return this._get(`${zr}/stats`,{params:n})}async processPayout(n){return this._post(`${zr}/${n}/process`,{})}async retryPayout(n){return this._post(`${zr}/${n}/retry`,{})}async cancelPayout(n,r){return this._post(`${zr}/${n}/cancel`,r)}}class P_{constructor(){Ae(this,"axiosJ");Ae(this,"userApi");Ae(this,"authApi");Ae(this,"pollApi");Ae(this,"newsApi");Ae(this,"channelApi");Ae(this,"accountApi");Ae(this,"expenseOrderApi");Ae(this,"subscriptionApi");Ae(this,"studioApi");Ae(this,"tagApi");Ae(this,"searchApi");Ae(this,"fundingApi");Ae(this,"paymentTokenApi");Ae(this,"iyzicoTokenApi");Ae(this,"payoutApi");Ae(this,"setAuthHeader",n=>(n?this.axiosJ.axiosInstance.defaults.headers.common.Authorization=`Bearer ${n}`:delete this.axiosJ.axiosInstance.defaults.headers.common.Authorization,this));Ae(this,"setApis",()=>(this.userApi=new f_(this.axiosJ),this.authApi=new p_(this.axiosJ),this.pollApi=new h_(this.axiosJ),this.newsApi=new u_(this.axiosJ),this.channelApi=new d_(this.axiosJ),this.accountApi=new x_(this.axiosJ),this.expenseOrderApi=new m_(this.axiosJ),this.subscriptionApi=new g_(this.axiosJ),this.studioApi=new b_(this.axiosJ),this.tagApi=new y_(this.axiosJ),this.searchApi=new v_(this.axiosJ),this.fundingApi=new j_(this.axiosJ),this.paymentTokenApi=new S_(this.axiosJ),this.iyzicoTokenApi=new w_(this.axiosJ),this.payoutApi=new C_(this.axiosJ),this));this.axiosJ=new c_}}const D_=50*60*1e3,I_=e=>{const[n,r]=g.useState(null),[s,o]=g.useState(!0),a=g.useRef(null);g.useEffect(()=>{const p=oA(e,m=>{r(m||null),o(!1)});return()=>p()},[e]),g.useEffect(()=>(a.current&&(clearInterval(a.current),a.current=null),n&&(n.getIdToken(!0).catch(p=>{console.error("Error refreshing token on mount:",p)}),a.current=setInterval(async()=>{try{await n.getIdToken(!0),console.log("Token refreshed automatically")}catch(p){console.error("Error during automatic token refresh:",p)}},D_)),()=>{a.current&&(clearInterval(a.current),a.current=null)}),[n]);const c=async(p=!1)=>{if(!n)return null;try{return await n.getIdToken(p)}catch(m){return console.error("Error getting token:",m),null}},d=async(p,m)=>{try{return await(await iA(e,p,m)).user.getIdToken()}catch(y){throw console.error("Sign in error:",y),y}},u=async p=>{try{return await(await aA(e,p)).user.getIdToken()}catch(m){throw console.error("Sign in with provider error:",m),m}},h=async(p,m)=>{try{return(await lA(e,p,m)).user}catch(y){throw console.error("Sign up error:",y),y}},x=async()=>{try{await cA(e),r(null)}catch(p){throw console.error("Sign out error:",p),p}};return{user:n,isAuthenticated:n!=null,isLoading:s,getToken:c,signIn:d,signInWithProvider:u,signUp:h,signOut:x}},E_={apiKey:"AIzaSyDirHpadNKqOVH-cb79ENk7tsaRMERKvsc",authDomain:"journalist-2bf9e.firebaseapp.com",projectId:"journalist-2bf9e",storageBucket:"journalist-2bf9e.appspot.com",messagingSenderId:"1048434393409",appId:"1:1048434393409:web:4ca6775d6918b5d52ca1c0"},T_=dA(E_),A_=uA(T_),Y0=new hA;new fA;new pA;new xA("apple.com");function mf(){const e=g.createContext(null);function n(){const r=g.useContext(e);if(!r)throw new Error("Context must be used within provider");return r}return[e,n]}const[R_,xo]=mf(),__=({children:e})=>{const n=I_(A_);return t.jsx(R_.Provider,{value:n,children:e})},G0=g.createContext(null),Xe=()=>g.useContext(G0),O_=({children:e})=>{const[n,r]=g.useState({api:new P_,isAuthenticated:!1,isLoading:!0,refreshToken:async()=>{}}),s=xo(),o=g.useRef(null),a=g.useCallback(async(d=!1)=>{if(s!=null&&s.user){const u=await s.getToken(d);u&&r(h=>{var p;const x=(p=h.api)==null?void 0:p.setAuthHeader(u).setApis();return{...h,api:x,isAuthenticated:!0,isLoading:!1}})}else r(u=>{var x;const h=(x=u.api)==null?void 0:x.setAuthHeader(null).setApis();return{...u,api:h,isAuthenticated:!1,isLoading:!1}})},[s]),c=g.useCallback(async()=>{console.log("Manually refreshing token..."),await a(!0)},[a]);return g.useEffect(()=>{a(!1)},[s==null?void 0:s.user,s==null?void 0:s.isAuthenticated,a]),g.useEffect(()=>{r(d=>({...d,refreshToken:c}))},[c]),g.useEffect(()=>{const d=o.current;return()=>{d&&clearTimeout(d)}},[]),t.jsx(G0.Provider,{value:n,children:e})},[k_,ed]=mf(),M_=[ve.HOME,ve.LOGIN,ve.SIGNUP],N_=({children:e})=>{const n=po(),r=M_.includes(n.pathname),{isLoading:s,isAuthenticated:o}=Xe(),[a,c]=g.useState({isLoading:!0,error:null});return g.useEffect(()=>{r?c(d=>({...d,isLoading:s})):o&&c(d=>({...d,isLoading:!1}))},[s,o,r]),t.jsx(k_.Provider,{value:a,children:e})};var gf={},qu={};const L_=eT(tT);var jb;function et(){return jb||(jb=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=L_}(qu)),qu}var $_=Ze;Object.defineProperty(gf,"__esModule",{value:!0});var Ya=gf.default=void 0,F_=$_(et()),W_=t;Ya=gf.default=(0,F_.default)((0,W_.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");var bf={},B_=Ze;Object.defineProperty(bf,"__esModule",{value:!0});var yf=bf.default=void 0,V_=B_(et()),U_=t;yf=bf.default=(0,V_.default)((0,U_.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");var vf={},z_=Ze;Object.defineProperty(vf,"__esModule",{value:!0});var Ga=vf.default=void 0,H_=z_(et()),Y_=t;Ga=vf.default=(0,H_.default)((0,Y_.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp");var jf={},G_=Ze;Object.defineProperty(jf,"__esModule",{value:!0});var q0=jf.default=void 0,q_=G_(et()),K_=t;q0=jf.default=(0,q_.default)((0,K_.jsx)("path",{d:"M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m2.19 12.19L6 18l3.81-8.19L18 6z"}),"Explore");var Sf={},J_=Ze;Object.defineProperty(Sf,"__esModule",{value:!0});var wf=Sf.default=void 0,X_=J_(et()),Sb=t;wf=Sf.default=(0,X_.default)([(0,Sb.jsx)("circle",{cx:"6.18",cy:"17.82",r:"2.18"},"0"),(0,Sb.jsx)("path",{d:"M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56m0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9"},"1")],"RssFeed");var Cf={},Q_=Ze;Object.defineProperty(Cf,"__esModule",{value:!0});var Di=Cf.default=void 0,Z_=Q_(et()),eO=t;Di=Cf.default=(0,Z_.default)((0,eO.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");var Pf={},tO=Ze;Object.defineProperty(Pf,"__esModule",{value:!0});var td=Pf.default=void 0,nO=tO(et()),rO=t;td=Pf.default=(0,nO.default)((0,rO.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"}),"Poll");const K0=g.createContext(null),sO=()=>{const e=g.useContext(K0);if(!e)throw new Error("useNotification must be used within a NotificationProvider");return e},oO=({children:e})=>{const[n,r]=g.useState({open:!1,message:"",severity:"info",autoHideDuration:6e3}),s=g.useCallback((p,m="info",y=6e3)=>{r({open:!0,message:p,severity:m,autoHideDuration:y})},[]),o=g.useCallback(p=>{s(p,"success")},[s]),a=g.useCallback(p=>{s(p,"error")},[s]),c=g.useCallback(p=>{s(p,"warning")},[s]),d=g.useCallback(p=>{s(p,"info")},[s]),u=g.useCallback(p=>{if(p.length===0)return;const m=(S,j="")=>{const D=Object.values(S.constraints||{}),w=`${j}${S.property}: ${D.join(", ")}`;if(S.children&&S.children.length>0){const I=S.children.map(T=>m(T,"  "));return`${w}
${I.join(`
`)}`}return w},y=p.map(S=>m(S)),b=y.length===1?y[0]:`Validation errors:
${y.map(S=>` ${S}`).join(`
`)}`;s(b,"error",1e4)},[s]),h=g.useCallback(()=>{r(p=>({...p,open:!1}))},[]),x={showNotification:s,showSuccess:o,showError:a,showWarning:c,showInfo:d,showValidationErrors:u,hideNotification:h};return t.jsxs(K0.Provider,{value:x,children:[e,t.jsx(o0,{open:n.open,autoHideDuration:n.autoHideDuration,onClose:h,anchorOrigin:{vertical:"top",horizontal:"right"},children:t.jsx(ct,{onClose:h,severity:n.severity,variant:"filled",sx:{width:"100%",whiteSpace:"pre-line"},children:n.message})})]})},iO=e=>{var n,r,s;return((n=e==null?void 0:e.response)==null?void 0:n.status)===400&&((r=e.response.data)==null?void 0:r.status)==="error"&&((s=e.response.data)==null?void 0:s.errors)},aO=e=>{var n;return((n=e==null?void 0:e.response)==null?void 0:n.status)===401},lO=e=>{var n;return(((n=e==null?void 0:e.response)==null?void 0:n.status)||0)>=500},cO=e=>!(e!=null&&e.response),nt=()=>{const[e,n]=g.useState(!1),[r,s]=g.useState(null),{showSuccess:o,showError:a,showValidationErrors:c}=sO(),d=g.useCallback(async(h,x={})=>{var S,j;const{showSuccessMessage:p=!1,successMessage:m="Operation completed successfully",showErrorToast:y=!0,customErrorHandler:b}=x;try{n(!0),s(null);const D=await h();return p&&o(m),D}catch(D){if(b&&b(D))return null;const w=D;let I="An error occurred",T=y;if(iO(w)){const _=(S=w.response)==null?void 0:S.data;I=_.message||"Validation failed",s(I),T&&c&&(c(_.errors),T=!1)}else if(aO(w))I="Unauthorized access. Please log in again.",s(I),T&&a(I);else if(lO(w))I="Server error. Please try again later.",s(I),T&&a(I);else if(cO(w))I="Network error. Please check your connection.",s(I),T&&a(I);else{const _=(j=w.response)==null?void 0:j.data;I=(_==null?void 0:_.message)||w.message||"An error occurred",s(I),T&&a(I)}return null}finally{n(!1)}},[o,a,c]),u=g.useCallback(()=>{s(null)},[]);return{loading:e,error:r,execute:d,clearError:u}},wb=({isOpen:e})=>{const n=po(),{api:r}=Xe(),{execute:s}=nt(),[o,a]=g.useState([]),c=[{path:`${ve.APP_NEWS_MY_FEED}`,icon:t.jsx(Di,{}),label:"For you"},{path:`${ve.APP_NEWS_DISCOVER}`,icon:t.jsx(q0,{}),label:"Discover"},{path:`${ve.APP_POLLS}`,icon:t.jsx(td,{}),label:"Polls"},{path:`${ve.APP_CHANNELS}`,icon:t.jsx(wf,{}),label:"Channels"}],d=[{path:`${ve.APP_NEWS_TRENDING}`,icon:t.jsx(Ga,{}),label:"Trending"}];return g.useEffect(()=>{e&&(async()=>{const h=await s(()=>r==null?void 0:r.channelApi.getChannels({},{page:1,limit:5}),{showErrorToast:!1});h&&a(h.items)})()},[e]),e?t.jsxs(C,{sx:{height:"100%",display:"flex",flexDirection:"column",overflow:"auto",p:2},children:[t.jsx(vr,{sx:{pt:0,pb:0},children:c.map(u=>t.jsxs(er,{button:!0,component:$n,to:u.path,selected:n.pathname===u.path,sx:{borderRadius:1,mx:1,mb:.5,py:1,"&.Mui-selected":{backgroundColor:"action.selected",fontWeight:600},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(qt,{sx:{minWidth:40},children:u.icon}),t.jsx(Ht,{primary:u.label,primaryTypographyProps:{fontWeight:n.pathname===u.path?600:400,fontSize:"0.95rem"}})]},u.path))}),t.jsx(Lt,{sx:{my:1}}),t.jsx(C,{sx:{px:2,py:1},children:t.jsx(v,{variant:"caption",sx:{fontWeight:600,color:"text.secondary",textTransform:"uppercase",fontSize:"0.75rem",letterSpacing:"0.5px"},children:"Categories"})}),t.jsx(vr,{sx:{pt:0,pb:1},children:d.map(u=>t.jsxs(er,{button:!0,component:$n,to:u.path,sx:{borderRadius:1,mx:1,mb:.5,py:.75,"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(qt,{sx:{minWidth:40},children:u.icon}),t.jsx(Ht,{primary:u.label,primaryTypographyProps:{fontSize:"0.9rem"}})]},u.path))}),t.jsx(Lt,{sx:{my:1}}),t.jsx(C,{sx:{px:2,py:1},children:t.jsx(v,{variant:"caption",sx:{fontWeight:600,color:"text.secondary",textTransform:"uppercase",fontSize:"0.75rem",letterSpacing:"0.5px"},children:"Popular"})}),t.jsx(vr,{sx:{pt:0,pb:1,flexGrow:1},children:o.map(u=>t.jsxs(er,{button:!0,component:$n,to:`${ve.APP_CHANNELS}/${u.id}`,sx:{borderRadius:1,mx:1,mb:.5,py:1,"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(wn,{src:u.logoUrl,sx:{width:32,height:32,mr:1.5},children:u.name.charAt(0).toUpperCase()}),t.jsx(C,{sx:{flexGrow:1,minWidth:0},children:t.jsx(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:t.jsx(v,{variant:"body2",sx:{fontWeight:500,fontSize:"0.875rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:u.name})})})]},u.id))})]}):t.jsx(C,{sx:{height:"100%",display:"flex",flexDirection:"column",py:1},children:t.jsx(vr,{sx:{flexGrow:1},children:c.map(u=>t.jsx(er,{button:!0,component:$n,to:u.path,selected:n.pathname===u.path,sx:{borderRadius:1,mx:.5,justifyContent:"center",minHeight:48,"&.Mui-selected":{backgroundColor:"action.selected"}},children:t.jsx(qt,{sx:{minWidth:"auto"},children:u.icon})},u.path))})})};var Df={},dO=Ze;Object.defineProperty(Df,"__esModule",{value:!0});var J0=Df.default=void 0,uO=dO(et()),hO=t;J0=Df.default=(0,uO.default)((0,hO.jsx)("path",{d:"M4 18h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1m0-5h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1M3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1"}),"MenuRounded");var If={},fO=Ze;Object.defineProperty(If,"__esModule",{value:!0});var nd=If.default=void 0,pO=fO(et()),xO=t;nd=If.default=(0,pO.default)((0,xO.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle");var Ef={},mO=Ze;Object.defineProperty(Ef,"__esModule",{value:!0});var qa=Ef.default=void 0,gO=mO(et()),bO=t;qa=Ef.default=(0,gO.default)((0,bO.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var Tf={},yO=Ze;Object.defineProperty(Tf,"__esModule",{value:!0});var X0=Tf.default=void 0,vO=yO(et()),jO=t;X0=Tf.default=(0,vO.default)((0,jO.jsx)("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8 12.5v-9l6 4.5z"}),"VideoLibrary");var Af={},SO=Ze;Object.defineProperty(Af,"__esModule",{value:!0});var Q0=Af.default=void 0,wO=SO(et()),CO=t;Q0=Af.default=(0,wO.default)((0,CO.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout");var Cc={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Cc.exports;(function(e,n){(function(){var r,s="4.17.21",o=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",d="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",h=500,x="__lodash_placeholder__",p=1,m=2,y=4,b=1,S=2,j=1,D=2,w=4,I=8,T=16,_=32,R=64,O=128,A=256,L=512,W=30,H="...",N=800,se=16,Z=1,G=2,q=3,K=1/0,X=9007199254740991,ae=17976931348623157e292,V=NaN,re=4294967295,Ee=re-1,be=re>>>1,_e=[["ary",O],["bind",j],["bindKey",D],["curry",I],["curryRight",T],["flip",L],["partial",_],["partialRight",R],["rearg",A]],de="[object Arguments]",te="[object Array]",z="[object AsyncFunction]",De="[object Boolean]",oe="[object Date]",le="[object DOMException]",ie="[object Error]",ne="[object Function]",me="[object GeneratorFunction]",he="[object Map]",Oe="[object Number]",Re="[object Null]",Ge="[object Object]",ue="[object Promise]",we="[object Proxy]",Y="[object RegExp]",ge="[object Set]",Je="[object String]",yt="[object Symbol]",ln="[object Undefined]",Ft="[object WeakMap]",Rt="[object WeakSet]",Jt="[object ArrayBuffer]",Mn="[object DataView]",dt="[object Float32Array]",pt="[object Float64Array]",_t="[object Int8Array]",Gt="[object Int16Array]",In="[object Int32Array]",un="[object Uint8Array]",Gn="[object Uint8ClampedArray]",mn="[object Uint16Array]",St="[object Uint32Array]",En=/\b__p \+= '';/g,Vn=/\b(__p \+=) '' \+/g,Sr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vo=/&(?:amp|lt|gt|quot|#39);/g,nr=/[&<>"']/g,Id=RegExp(vo.source),Ed=RegExp(nr.source),Td=/<%-([\s\S]+?)%>/g,_x=/<%([\s\S]+?)%>/g,Ad=/<%=([\s\S]+?)%>/g,gn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wr=/^\w*$/,nl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rd=/[\\^$.*+?()[\]{}|]/g,T1=RegExp(Rd.source),_d=/^\s+/,A1=/\s/,R1=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,_1=/\{\n\/\* \[wrapped with (.+)\] \*/,O1=/,? & /,k1=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,M1=/[()=,{}\[\]\/\s]/,N1=/\\(\\)?/g,L1=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ox=/\w*$/,$1=/^[-+]0x[0-9a-f]+$/i,F1=/^0b[01]+$/i,W1=/^\[object .+?Constructor\]$/,B1=/^0o[0-7]+$/i,V1=/^(?:0|[1-9]\d*)$/,U1=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rl=/($^)/,z1=/['\n\r\u2028\u2029\\]/g,sl="\\ud800-\\udfff",H1="\\u0300-\\u036f",Y1="\\ufe20-\\ufe2f",G1="\\u20d0-\\u20ff",kx=H1+Y1+G1,Mx="\\u2700-\\u27bf",Nx="a-z\\xdf-\\xf6\\xf8-\\xff",q1="\\xac\\xb1\\xd7\\xf7",K1="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",J1="\\u2000-\\u206f",X1=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Lx="A-Z\\xc0-\\xd6\\xd8-\\xde",$x="\\ufe0e\\ufe0f",Fx=q1+K1+J1+X1,Od="[']",Q1="["+sl+"]",Wx="["+Fx+"]",ol="["+kx+"]",Bx="\\d+",Z1="["+Mx+"]",Vx="["+Nx+"]",Ux="[^"+sl+Fx+Bx+Mx+Nx+Lx+"]",kd="\\ud83c[\\udffb-\\udfff]",ew="(?:"+ol+"|"+kd+")",zx="[^"+sl+"]",Md="(?:\\ud83c[\\udde6-\\uddff]){2}",Nd="[\\ud800-\\udbff][\\udc00-\\udfff]",Go="["+Lx+"]",Hx="\\u200d",Yx="(?:"+Vx+"|"+Ux+")",tw="(?:"+Go+"|"+Ux+")",Gx="(?:"+Od+"(?:d|ll|m|re|s|t|ve))?",qx="(?:"+Od+"(?:D|LL|M|RE|S|T|VE))?",Kx=ew+"?",Jx="["+$x+"]?",nw="(?:"+Hx+"(?:"+[zx,Md,Nd].join("|")+")"+Jx+Kx+")*",rw="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",sw="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Xx=Jx+Kx+nw,ow="(?:"+[Z1,Md,Nd].join("|")+")"+Xx,iw="(?:"+[zx+ol+"?",ol,Md,Nd,Q1].join("|")+")",aw=RegExp(Od,"g"),lw=RegExp(ol,"g"),Ld=RegExp(kd+"(?="+kd+")|"+iw+Xx,"g"),cw=RegExp([Go+"?"+Vx+"+"+Gx+"(?="+[Wx,Go,"$"].join("|")+")",tw+"+"+qx+"(?="+[Wx,Go+Yx,"$"].join("|")+")",Go+"?"+Yx+"+"+Gx,Go+"+"+qx,sw,rw,Bx,ow].join("|"),"g"),dw=RegExp("["+Hx+sl+kx+$x+"]"),uw=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,hw=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],fw=-1,rn={};rn[dt]=rn[pt]=rn[_t]=rn[Gt]=rn[In]=rn[un]=rn[Gn]=rn[mn]=rn[St]=!0,rn[de]=rn[te]=rn[Jt]=rn[De]=rn[Mn]=rn[oe]=rn[ie]=rn[ne]=rn[he]=rn[Oe]=rn[Ge]=rn[Y]=rn[ge]=rn[Je]=rn[Ft]=!1;var Zt={};Zt[de]=Zt[te]=Zt[Jt]=Zt[Mn]=Zt[De]=Zt[oe]=Zt[dt]=Zt[pt]=Zt[_t]=Zt[Gt]=Zt[In]=Zt[he]=Zt[Oe]=Zt[Ge]=Zt[Y]=Zt[ge]=Zt[Je]=Zt[yt]=Zt[un]=Zt[Gn]=Zt[mn]=Zt[St]=!0,Zt[ie]=Zt[ne]=Zt[Ft]=!1;var pw={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},xw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},mw={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},gw={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},bw=parseFloat,yw=parseInt,Qx=typeof ia=="object"&&ia&&ia.Object===Object&&ia,vw=typeof self=="object"&&self&&self.Object===Object&&self,Un=Qx||vw||Function("return this")(),$d=n&&!n.nodeType&&n,jo=$d&&!0&&e&&!e.nodeType&&e,Zx=jo&&jo.exports===$d,Fd=Zx&&Qx.process,Nr=function(){try{var J=jo&&jo.require&&jo.require("util").types;return J||Fd&&Fd.binding&&Fd.binding("util")}catch{}}(),em=Nr&&Nr.isArrayBuffer,tm=Nr&&Nr.isDate,nm=Nr&&Nr.isMap,rm=Nr&&Nr.isRegExp,sm=Nr&&Nr.isSet,om=Nr&&Nr.isTypedArray;function Cr(J,Se,pe){switch(pe.length){case 0:return J.call(Se);case 1:return J.call(Se,pe[0]);case 2:return J.call(Se,pe[0],pe[1]);case 3:return J.call(Se,pe[0],pe[1],pe[2])}return J.apply(Se,pe)}function jw(J,Se,pe,Ve){for(var ut=-1,Mt=J==null?0:J.length;++ut<Mt;){var _n=J[ut];Se(Ve,_n,pe(_n),J)}return Ve}function Lr(J,Se){for(var pe=-1,Ve=J==null?0:J.length;++pe<Ve&&Se(J[pe],pe,J)!==!1;);return J}function Sw(J,Se){for(var pe=J==null?0:J.length;pe--&&Se(J[pe],pe,J)!==!1;);return J}function im(J,Se){for(var pe=-1,Ve=J==null?0:J.length;++pe<Ve;)if(!Se(J[pe],pe,J))return!1;return!0}function Hs(J,Se){for(var pe=-1,Ve=J==null?0:J.length,ut=0,Mt=[];++pe<Ve;){var _n=J[pe];Se(_n,pe,J)&&(Mt[ut++]=_n)}return Mt}function il(J,Se){var pe=J==null?0:J.length;return!!pe&&qo(J,Se,0)>-1}function Wd(J,Se,pe){for(var Ve=-1,ut=J==null?0:J.length;++Ve<ut;)if(pe(Se,J[Ve]))return!0;return!1}function cn(J,Se){for(var pe=-1,Ve=J==null?0:J.length,ut=Array(Ve);++pe<Ve;)ut[pe]=Se(J[pe],pe,J);return ut}function Ys(J,Se){for(var pe=-1,Ve=Se.length,ut=J.length;++pe<Ve;)J[ut+pe]=Se[pe];return J}function Bd(J,Se,pe,Ve){var ut=-1,Mt=J==null?0:J.length;for(Ve&&Mt&&(pe=J[++ut]);++ut<Mt;)pe=Se(pe,J[ut],ut,J);return pe}function ww(J,Se,pe,Ve){var ut=J==null?0:J.length;for(Ve&&ut&&(pe=J[--ut]);ut--;)pe=Se(pe,J[ut],ut,J);return pe}function Vd(J,Se){for(var pe=-1,Ve=J==null?0:J.length;++pe<Ve;)if(Se(J[pe],pe,J))return!0;return!1}var Cw=Ud("length");function Pw(J){return J.split("")}function Dw(J){return J.match(k1)||[]}function am(J,Se,pe){var Ve;return pe(J,function(ut,Mt,_n){if(Se(ut,Mt,_n))return Ve=Mt,!1}),Ve}function al(J,Se,pe,Ve){for(var ut=J.length,Mt=pe+(Ve?1:-1);Ve?Mt--:++Mt<ut;)if(Se(J[Mt],Mt,J))return Mt;return-1}function qo(J,Se,pe){return Se===Se?$w(J,Se,pe):al(J,lm,pe)}function Iw(J,Se,pe,Ve){for(var ut=pe-1,Mt=J.length;++ut<Mt;)if(Ve(J[ut],Se))return ut;return-1}function lm(J){return J!==J}function cm(J,Se){var pe=J==null?0:J.length;return pe?Hd(J,Se)/pe:V}function Ud(J){return function(Se){return Se==null?r:Se[J]}}function zd(J){return function(Se){return J==null?r:J[Se]}}function dm(J,Se,pe,Ve,ut){return ut(J,function(Mt,_n,Xt){pe=Ve?(Ve=!1,Mt):Se(pe,Mt,_n,Xt)}),pe}function Ew(J,Se){var pe=J.length;for(J.sort(Se);pe--;)J[pe]=J[pe].value;return J}function Hd(J,Se){for(var pe,Ve=-1,ut=J.length;++Ve<ut;){var Mt=Se(J[Ve]);Mt!==r&&(pe=pe===r?Mt:pe+Mt)}return pe}function Yd(J,Se){for(var pe=-1,Ve=Array(J);++pe<J;)Ve[pe]=Se(pe);return Ve}function Tw(J,Se){return cn(Se,function(pe){return[pe,J[pe]]})}function um(J){return J&&J.slice(0,xm(J)+1).replace(_d,"")}function Pr(J){return function(Se){return J(Se)}}function Gd(J,Se){return cn(Se,function(pe){return J[pe]})}function Hi(J,Se){return J.has(Se)}function hm(J,Se){for(var pe=-1,Ve=J.length;++pe<Ve&&qo(Se,J[pe],0)>-1;);return pe}function fm(J,Se){for(var pe=J.length;pe--&&qo(Se,J[pe],0)>-1;);return pe}function Aw(J,Se){for(var pe=J.length,Ve=0;pe--;)J[pe]===Se&&++Ve;return Ve}var Rw=zd(pw),_w=zd(xw);function Ow(J){return"\\"+gw[J]}function kw(J,Se){return J==null?r:J[Se]}function Ko(J){return dw.test(J)}function Mw(J){return uw.test(J)}function Nw(J){for(var Se,pe=[];!(Se=J.next()).done;)pe.push(Se.value);return pe}function qd(J){var Se=-1,pe=Array(J.size);return J.forEach(function(Ve,ut){pe[++Se]=[ut,Ve]}),pe}function pm(J,Se){return function(pe){return J(Se(pe))}}function Gs(J,Se){for(var pe=-1,Ve=J.length,ut=0,Mt=[];++pe<Ve;){var _n=J[pe];(_n===Se||_n===x)&&(J[pe]=x,Mt[ut++]=pe)}return Mt}function ll(J){var Se=-1,pe=Array(J.size);return J.forEach(function(Ve){pe[++Se]=Ve}),pe}function Lw(J){var Se=-1,pe=Array(J.size);return J.forEach(function(Ve){pe[++Se]=[Ve,Ve]}),pe}function $w(J,Se,pe){for(var Ve=pe-1,ut=J.length;++Ve<ut;)if(J[Ve]===Se)return Ve;return-1}function Fw(J,Se,pe){for(var Ve=pe+1;Ve--;)if(J[Ve]===Se)return Ve;return Ve}function Jo(J){return Ko(J)?Bw(J):Cw(J)}function ts(J){return Ko(J)?Vw(J):Pw(J)}function xm(J){for(var Se=J.length;Se--&&A1.test(J.charAt(Se)););return Se}var Ww=zd(mw);function Bw(J){for(var Se=Ld.lastIndex=0;Ld.test(J);)++Se;return Se}function Vw(J){return J.match(Ld)||[]}function Uw(J){return J.match(cw)||[]}var zw=function J(Se){Se=Se==null?Un:Xo.defaults(Un.Object(),Se,Xo.pick(Un,hw));var pe=Se.Array,Ve=Se.Date,ut=Se.Error,Mt=Se.Function,_n=Se.Math,Xt=Se.Object,Kd=Se.RegExp,Hw=Se.String,$r=Se.TypeError,cl=pe.prototype,Yw=Mt.prototype,Qo=Xt.prototype,dl=Se["__core-js_shared__"],ul=Yw.toString,Ut=Qo.hasOwnProperty,Gw=0,mm=function(){var i=/[^.]+$/.exec(dl&&dl.keys&&dl.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),hl=Qo.toString,qw=ul.call(Xt),Kw=Un._,Jw=Kd("^"+ul.call(Ut).replace(Rd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fl=Zx?Se.Buffer:r,qs=Se.Symbol,pl=Se.Uint8Array,gm=fl?fl.allocUnsafe:r,xl=pm(Xt.getPrototypeOf,Xt),bm=Xt.create,ym=Qo.propertyIsEnumerable,ml=cl.splice,vm=qs?qs.isConcatSpreadable:r,Yi=qs?qs.iterator:r,So=qs?qs.toStringTag:r,gl=function(){try{var i=Io(Xt,"defineProperty");return i({},"",{}),i}catch{}}(),Xw=Se.clearTimeout!==Un.clearTimeout&&Se.clearTimeout,Qw=Ve&&Ve.now!==Un.Date.now&&Ve.now,Zw=Se.setTimeout!==Un.setTimeout&&Se.setTimeout,bl=_n.ceil,yl=_n.floor,Jd=Xt.getOwnPropertySymbols,eC=fl?fl.isBuffer:r,jm=Se.isFinite,tC=cl.join,nC=pm(Xt.keys,Xt),On=_n.max,qn=_n.min,rC=Ve.now,sC=Se.parseInt,Sm=_n.random,oC=cl.reverse,Xd=Io(Se,"DataView"),Gi=Io(Se,"Map"),Qd=Io(Se,"Promise"),Zo=Io(Se,"Set"),qi=Io(Se,"WeakMap"),Ki=Io(Xt,"create"),vl=qi&&new qi,ei={},iC=Eo(Xd),aC=Eo(Gi),lC=Eo(Qd),cC=Eo(Zo),dC=Eo(qi),jl=qs?qs.prototype:r,Ji=jl?jl.valueOf:r,wm=jl?jl.toString:r;function k(i){if(bn(i)&&!ht(i)&&!(i instanceof Et)){if(i instanceof Fr)return i;if(Ut.call(i,"__wrapped__"))return Cg(i)}return new Fr(i)}var ti=function(){function i(){}return function(l){if(!hn(l))return{};if(bm)return bm(l);i.prototype=l;var f=new i;return i.prototype=r,f}}();function Sl(){}function Fr(i,l){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=r}k.templateSettings={escape:Td,evaluate:_x,interpolate:Ad,variable:"",imports:{_:k}},k.prototype=Sl.prototype,k.prototype.constructor=k,Fr.prototype=ti(Sl.prototype),Fr.prototype.constructor=Fr;function Et(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=re,this.__views__=[]}function uC(){var i=new Et(this.__wrapped__);return i.__actions__=ur(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=ur(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=ur(this.__views__),i}function hC(){if(this.__filtered__){var i=new Et(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function fC(){var i=this.__wrapped__.value(),l=this.__dir__,f=ht(i),P=l<0,E=f?i.length:0,M=P2(0,E,this.__views__),F=M.start,U=M.end,Q=U-F,Pe=P?U:F-1,Ie=this.__iteratees__,Te=Ie.length,$e=0,qe=qn(Q,this.__takeCount__);if(!f||!P&&E==Q&&qe==Q)return Gm(i,this.__actions__);var at=[];e:for(;Q--&&$e<qe;){Pe+=l;for(var gt=-1,lt=i[Pe];++gt<Te;){var Pt=Ie[gt],Tt=Pt.iteratee,Er=Pt.type,or=Tt(lt);if(Er==G)lt=or;else if(!or){if(Er==Z)continue e;break e}}at[$e++]=lt}return at}Et.prototype=ti(Sl.prototype),Et.prototype.constructor=Et;function wo(i){var l=-1,f=i==null?0:i.length;for(this.clear();++l<f;){var P=i[l];this.set(P[0],P[1])}}function pC(){this.__data__=Ki?Ki(null):{},this.size=0}function xC(i){var l=this.has(i)&&delete this.__data__[i];return this.size-=l?1:0,l}function mC(i){var l=this.__data__;if(Ki){var f=l[i];return f===u?r:f}return Ut.call(l,i)?l[i]:r}function gC(i){var l=this.__data__;return Ki?l[i]!==r:Ut.call(l,i)}function bC(i,l){var f=this.__data__;return this.size+=this.has(i)?0:1,f[i]=Ki&&l===r?u:l,this}wo.prototype.clear=pC,wo.prototype.delete=xC,wo.prototype.get=mC,wo.prototype.has=gC,wo.prototype.set=bC;function Ds(i){var l=-1,f=i==null?0:i.length;for(this.clear();++l<f;){var P=i[l];this.set(P[0],P[1])}}function yC(){this.__data__=[],this.size=0}function vC(i){var l=this.__data__,f=wl(l,i);if(f<0)return!1;var P=l.length-1;return f==P?l.pop():ml.call(l,f,1),--this.size,!0}function jC(i){var l=this.__data__,f=wl(l,i);return f<0?r:l[f][1]}function SC(i){return wl(this.__data__,i)>-1}function wC(i,l){var f=this.__data__,P=wl(f,i);return P<0?(++this.size,f.push([i,l])):f[P][1]=l,this}Ds.prototype.clear=yC,Ds.prototype.delete=vC,Ds.prototype.get=jC,Ds.prototype.has=SC,Ds.prototype.set=wC;function Is(i){var l=-1,f=i==null?0:i.length;for(this.clear();++l<f;){var P=i[l];this.set(P[0],P[1])}}function CC(){this.size=0,this.__data__={hash:new wo,map:new(Gi||Ds),string:new wo}}function PC(i){var l=Ml(this,i).delete(i);return this.size-=l?1:0,l}function DC(i){return Ml(this,i).get(i)}function IC(i){return Ml(this,i).has(i)}function EC(i,l){var f=Ml(this,i),P=f.size;return f.set(i,l),this.size+=f.size==P?0:1,this}Is.prototype.clear=CC,Is.prototype.delete=PC,Is.prototype.get=DC,Is.prototype.has=IC,Is.prototype.set=EC;function Co(i){var l=-1,f=i==null?0:i.length;for(this.__data__=new Is;++l<f;)this.add(i[l])}function TC(i){return this.__data__.set(i,u),this}function AC(i){return this.__data__.has(i)}Co.prototype.add=Co.prototype.push=TC,Co.prototype.has=AC;function ns(i){var l=this.__data__=new Ds(i);this.size=l.size}function RC(){this.__data__=new Ds,this.size=0}function _C(i){var l=this.__data__,f=l.delete(i);return this.size=l.size,f}function OC(i){return this.__data__.get(i)}function kC(i){return this.__data__.has(i)}function MC(i,l){var f=this.__data__;if(f instanceof Ds){var P=f.__data__;if(!Gi||P.length<o-1)return P.push([i,l]),this.size=++f.size,this;f=this.__data__=new Is(P)}return f.set(i,l),this.size=f.size,this}ns.prototype.clear=RC,ns.prototype.delete=_C,ns.prototype.get=OC,ns.prototype.has=kC,ns.prototype.set=MC;function Cm(i,l){var f=ht(i),P=!f&&To(i),E=!f&&!P&&Zs(i),M=!f&&!P&&!E&&oi(i),F=f||P||E||M,U=F?Yd(i.length,Hw):[],Q=U.length;for(var Pe in i)(l||Ut.call(i,Pe))&&!(F&&(Pe=="length"||E&&(Pe=="offset"||Pe=="parent")||M&&(Pe=="buffer"||Pe=="byteLength"||Pe=="byteOffset")||Rs(Pe,Q)))&&U.push(Pe);return U}function Pm(i){var l=i.length;return l?i[cu(0,l-1)]:r}function NC(i,l){return Nl(ur(i),Po(l,0,i.length))}function LC(i){return Nl(ur(i))}function Zd(i,l,f){(f!==r&&!rs(i[l],f)||f===r&&!(l in i))&&Es(i,l,f)}function Xi(i,l,f){var P=i[l];(!(Ut.call(i,l)&&rs(P,f))||f===r&&!(l in i))&&Es(i,l,f)}function wl(i,l){for(var f=i.length;f--;)if(rs(i[f][0],l))return f;return-1}function $C(i,l,f,P){return Ks(i,function(E,M,F){l(P,E,f(E),F)}),P}function Dm(i,l){return i&&ms(l,Nn(l),i)}function FC(i,l){return i&&ms(l,fr(l),i)}function Es(i,l,f){l=="__proto__"&&gl?gl(i,l,{configurable:!0,enumerable:!0,value:f,writable:!0}):i[l]=f}function eu(i,l){for(var f=-1,P=l.length,E=pe(P),M=i==null;++f<P;)E[f]=M?r:ku(i,l[f]);return E}function Po(i,l,f){return i===i&&(f!==r&&(i=i<=f?i:f),l!==r&&(i=i>=l?i:l)),i}function Wr(i,l,f,P,E,M){var F,U=l&p,Q=l&m,Pe=l&y;if(f&&(F=E?f(i,P,E,M):f(i)),F!==r)return F;if(!hn(i))return i;var Ie=ht(i);if(Ie){if(F=I2(i),!U)return ur(i,F)}else{var Te=Kn(i),$e=Te==ne||Te==me;if(Zs(i))return Jm(i,U);if(Te==Ge||Te==de||$e&&!E){if(F=Q||$e?{}:xg(i),!U)return Q?m2(i,FC(F,i)):x2(i,Dm(F,i))}else{if(!Zt[Te])return E?i:{};F=E2(i,Te,U)}}M||(M=new ns);var qe=M.get(i);if(qe)return qe;M.set(i,F),zg(i)?i.forEach(function(lt){F.add(Wr(lt,l,f,lt,i,M))}):Vg(i)&&i.forEach(function(lt,Pt){F.set(Pt,Wr(lt,l,f,Pt,i,M))});var at=Pe?Q?vu:yu:Q?fr:Nn,gt=Ie?r:at(i);return Lr(gt||i,function(lt,Pt){gt&&(Pt=lt,lt=i[Pt]),Xi(F,Pt,Wr(lt,l,f,Pt,i,M))}),F}function WC(i){var l=Nn(i);return function(f){return Im(f,i,l)}}function Im(i,l,f){var P=f.length;if(i==null)return!P;for(i=Xt(i);P--;){var E=f[P],M=l[E],F=i[E];if(F===r&&!(E in i)||!M(F))return!1}return!0}function Em(i,l,f){if(typeof i!="function")throw new $r(c);return sa(function(){i.apply(r,f)},l)}function Qi(i,l,f,P){var E=-1,M=il,F=!0,U=i.length,Q=[],Pe=l.length;if(!U)return Q;f&&(l=cn(l,Pr(f))),P?(M=Wd,F=!1):l.length>=o&&(M=Hi,F=!1,l=new Co(l));e:for(;++E<U;){var Ie=i[E],Te=f==null?Ie:f(Ie);if(Ie=P||Ie!==0?Ie:0,F&&Te===Te){for(var $e=Pe;$e--;)if(l[$e]===Te)continue e;Q.push(Ie)}else M(l,Te,P)||Q.push(Ie)}return Q}var Ks=tg(xs),Tm=tg(nu,!0);function BC(i,l){var f=!0;return Ks(i,function(P,E,M){return f=!!l(P,E,M),f}),f}function Cl(i,l,f){for(var P=-1,E=i.length;++P<E;){var M=i[P],F=l(M);if(F!=null&&(U===r?F===F&&!Ir(F):f(F,U)))var U=F,Q=M}return Q}function VC(i,l,f,P){var E=i.length;for(f=xt(f),f<0&&(f=-f>E?0:E+f),P=P===r||P>E?E:xt(P),P<0&&(P+=E),P=f>P?0:Yg(P);f<P;)i[f++]=l;return i}function Am(i,l){var f=[];return Ks(i,function(P,E,M){l(P,E,M)&&f.push(P)}),f}function zn(i,l,f,P,E){var M=-1,F=i.length;for(f||(f=A2),E||(E=[]);++M<F;){var U=i[M];l>0&&f(U)?l>1?zn(U,l-1,f,P,E):Ys(E,U):P||(E[E.length]=U)}return E}var tu=ng(),Rm=ng(!0);function xs(i,l){return i&&tu(i,l,Nn)}function nu(i,l){return i&&Rm(i,l,Nn)}function Pl(i,l){return Hs(l,function(f){return _s(i[f])})}function Do(i,l){l=Xs(l,i);for(var f=0,P=l.length;i!=null&&f<P;)i=i[gs(l[f++])];return f&&f==P?i:r}function _m(i,l,f){var P=l(i);return ht(i)?P:Ys(P,f(i))}function rr(i){return i==null?i===r?ln:Re:So&&So in Xt(i)?C2(i):L2(i)}function ru(i,l){return i>l}function UC(i,l){return i!=null&&Ut.call(i,l)}function zC(i,l){return i!=null&&l in Xt(i)}function HC(i,l,f){return i>=qn(l,f)&&i<On(l,f)}function su(i,l,f){for(var P=f?Wd:il,E=i[0].length,M=i.length,F=M,U=pe(M),Q=1/0,Pe=[];F--;){var Ie=i[F];F&&l&&(Ie=cn(Ie,Pr(l))),Q=qn(Ie.length,Q),U[F]=!f&&(l||E>=120&&Ie.length>=120)?new Co(F&&Ie):r}Ie=i[0];var Te=-1,$e=U[0];e:for(;++Te<E&&Pe.length<Q;){var qe=Ie[Te],at=l?l(qe):qe;if(qe=f||qe!==0?qe:0,!($e?Hi($e,at):P(Pe,at,f))){for(F=M;--F;){var gt=U[F];if(!(gt?Hi(gt,at):P(i[F],at,f)))continue e}$e&&$e.push(at),Pe.push(qe)}}return Pe}function YC(i,l,f,P){return xs(i,function(E,M,F){l(P,f(E),M,F)}),P}function Zi(i,l,f){l=Xs(l,i),i=yg(i,l);var P=i==null?i:i[gs(Vr(l))];return P==null?r:Cr(P,i,f)}function Om(i){return bn(i)&&rr(i)==de}function GC(i){return bn(i)&&rr(i)==Jt}function qC(i){return bn(i)&&rr(i)==oe}function ea(i,l,f,P,E){return i===l?!0:i==null||l==null||!bn(i)&&!bn(l)?i!==i&&l!==l:KC(i,l,f,P,ea,E)}function KC(i,l,f,P,E,M){var F=ht(i),U=ht(l),Q=F?te:Kn(i),Pe=U?te:Kn(l);Q=Q==de?Ge:Q,Pe=Pe==de?Ge:Pe;var Ie=Q==Ge,Te=Pe==Ge,$e=Q==Pe;if($e&&Zs(i)){if(!Zs(l))return!1;F=!0,Ie=!1}if($e&&!Ie)return M||(M=new ns),F||oi(i)?hg(i,l,f,P,E,M):S2(i,l,Q,f,P,E,M);if(!(f&b)){var qe=Ie&&Ut.call(i,"__wrapped__"),at=Te&&Ut.call(l,"__wrapped__");if(qe||at){var gt=qe?i.value():i,lt=at?l.value():l;return M||(M=new ns),E(gt,lt,f,P,M)}}return $e?(M||(M=new ns),w2(i,l,f,P,E,M)):!1}function JC(i){return bn(i)&&Kn(i)==he}function ou(i,l,f,P){var E=f.length,M=E,F=!P;if(i==null)return!M;for(i=Xt(i);E--;){var U=f[E];if(F&&U[2]?U[1]!==i[U[0]]:!(U[0]in i))return!1}for(;++E<M;){U=f[E];var Q=U[0],Pe=i[Q],Ie=U[1];if(F&&U[2]){if(Pe===r&&!(Q in i))return!1}else{var Te=new ns;if(P)var $e=P(Pe,Ie,Q,i,l,Te);if(!($e===r?ea(Ie,Pe,b|S,P,Te):$e))return!1}}return!0}function km(i){if(!hn(i)||_2(i))return!1;var l=_s(i)?Jw:W1;return l.test(Eo(i))}function XC(i){return bn(i)&&rr(i)==Y}function QC(i){return bn(i)&&Kn(i)==ge}function ZC(i){return bn(i)&&Vl(i.length)&&!!rn[rr(i)]}function Mm(i){return typeof i=="function"?i:i==null?pr:typeof i=="object"?ht(i)?$m(i[0],i[1]):Lm(i):rb(i)}function iu(i){if(!ra(i))return nC(i);var l=[];for(var f in Xt(i))Ut.call(i,f)&&f!="constructor"&&l.push(f);return l}function e2(i){if(!hn(i))return N2(i);var l=ra(i),f=[];for(var P in i)P=="constructor"&&(l||!Ut.call(i,P))||f.push(P);return f}function au(i,l){return i<l}function Nm(i,l){var f=-1,P=hr(i)?pe(i.length):[];return Ks(i,function(E,M,F){P[++f]=l(E,M,F)}),P}function Lm(i){var l=Su(i);return l.length==1&&l[0][2]?gg(l[0][0],l[0][1]):function(f){return f===i||ou(f,i,l)}}function $m(i,l){return Cu(i)&&mg(l)?gg(gs(i),l):function(f){var P=ku(f,i);return P===r&&P===l?Mu(f,i):ea(l,P,b|S)}}function Dl(i,l,f,P,E){i!==l&&tu(l,function(M,F){if(E||(E=new ns),hn(M))t2(i,l,F,f,Dl,P,E);else{var U=P?P(Du(i,F),M,F+"",i,l,E):r;U===r&&(U=M),Zd(i,F,U)}},fr)}function t2(i,l,f,P,E,M,F){var U=Du(i,f),Q=Du(l,f),Pe=F.get(Q);if(Pe){Zd(i,f,Pe);return}var Ie=M?M(U,Q,f+"",i,l,F):r,Te=Ie===r;if(Te){var $e=ht(Q),qe=!$e&&Zs(Q),at=!$e&&!qe&&oi(Q);Ie=Q,$e||qe||at?ht(U)?Ie=U:vn(U)?Ie=ur(U):qe?(Te=!1,Ie=Jm(Q,!0)):at?(Te=!1,Ie=Xm(Q,!0)):Ie=[]:oa(Q)||To(Q)?(Ie=U,To(U)?Ie=Gg(U):(!hn(U)||_s(U))&&(Ie=xg(Q))):Te=!1}Te&&(F.set(Q,Ie),E(Ie,Q,P,M,F),F.delete(Q)),Zd(i,f,Ie)}function Fm(i,l){var f=i.length;if(f)return l+=l<0?f:0,Rs(l,f)?i[l]:r}function Wm(i,l,f){l.length?l=cn(l,function(M){return ht(M)?function(F){return Do(F,M.length===1?M[0]:M)}:M}):l=[pr];var P=-1;l=cn(l,Pr(it()));var E=Nm(i,function(M,F,U){var Q=cn(l,function(Pe){return Pe(M)});return{criteria:Q,index:++P,value:M}});return Ew(E,function(M,F){return p2(M,F,f)})}function n2(i,l){return Bm(i,l,function(f,P){return Mu(i,P)})}function Bm(i,l,f){for(var P=-1,E=l.length,M={};++P<E;){var F=l[P],U=Do(i,F);f(U,F)&&ta(M,Xs(F,i),U)}return M}function r2(i){return function(l){return Do(l,i)}}function lu(i,l,f,P){var E=P?Iw:qo,M=-1,F=l.length,U=i;for(i===l&&(l=ur(l)),f&&(U=cn(i,Pr(f)));++M<F;)for(var Q=0,Pe=l[M],Ie=f?f(Pe):Pe;(Q=E(U,Ie,Q,P))>-1;)U!==i&&ml.call(U,Q,1),ml.call(i,Q,1);return i}function Vm(i,l){for(var f=i?l.length:0,P=f-1;f--;){var E=l[f];if(f==P||E!==M){var M=E;Rs(E)?ml.call(i,E,1):hu(i,E)}}return i}function cu(i,l){return i+yl(Sm()*(l-i+1))}function s2(i,l,f,P){for(var E=-1,M=On(bl((l-i)/(f||1)),0),F=pe(M);M--;)F[P?M:++E]=i,i+=f;return F}function du(i,l){var f="";if(!i||l<1||l>X)return f;do l%2&&(f+=i),l=yl(l/2),l&&(i+=i);while(l);return f}function vt(i,l){return Iu(bg(i,l,pr),i+"")}function o2(i){return Pm(ii(i))}function i2(i,l){var f=ii(i);return Nl(f,Po(l,0,f.length))}function ta(i,l,f,P){if(!hn(i))return i;l=Xs(l,i);for(var E=-1,M=l.length,F=M-1,U=i;U!=null&&++E<M;){var Q=gs(l[E]),Pe=f;if(Q==="__proto__"||Q==="constructor"||Q==="prototype")return i;if(E!=F){var Ie=U[Q];Pe=P?P(Ie,Q,U):r,Pe===r&&(Pe=hn(Ie)?Ie:Rs(l[E+1])?[]:{})}Xi(U,Q,Pe),U=U[Q]}return i}var Um=vl?function(i,l){return vl.set(i,l),i}:pr,a2=gl?function(i,l){return gl(i,"toString",{configurable:!0,enumerable:!1,value:Lu(l),writable:!0})}:pr;function l2(i){return Nl(ii(i))}function Br(i,l,f){var P=-1,E=i.length;l<0&&(l=-l>E?0:E+l),f=f>E?E:f,f<0&&(f+=E),E=l>f?0:f-l>>>0,l>>>=0;for(var M=pe(E);++P<E;)M[P]=i[P+l];return M}function c2(i,l){var f;return Ks(i,function(P,E,M){return f=l(P,E,M),!f}),!!f}function Il(i,l,f){var P=0,E=i==null?P:i.length;if(typeof l=="number"&&l===l&&E<=be){for(;P<E;){var M=P+E>>>1,F=i[M];F!==null&&!Ir(F)&&(f?F<=l:F<l)?P=M+1:E=M}return E}return uu(i,l,pr,f)}function uu(i,l,f,P){var E=0,M=i==null?0:i.length;if(M===0)return 0;l=f(l);for(var F=l!==l,U=l===null,Q=Ir(l),Pe=l===r;E<M;){var Ie=yl((E+M)/2),Te=f(i[Ie]),$e=Te!==r,qe=Te===null,at=Te===Te,gt=Ir(Te);if(F)var lt=P||at;else Pe?lt=at&&(P||$e):U?lt=at&&$e&&(P||!qe):Q?lt=at&&$e&&!qe&&(P||!gt):qe||gt?lt=!1:lt=P?Te<=l:Te<l;lt?E=Ie+1:M=Ie}return qn(M,Ee)}function zm(i,l){for(var f=-1,P=i.length,E=0,M=[];++f<P;){var F=i[f],U=l?l(F):F;if(!f||!rs(U,Q)){var Q=U;M[E++]=F===0?0:F}}return M}function Hm(i){return typeof i=="number"?i:Ir(i)?V:+i}function Dr(i){if(typeof i=="string")return i;if(ht(i))return cn(i,Dr)+"";if(Ir(i))return wm?wm.call(i):"";var l=i+"";return l=="0"&&1/i==-K?"-0":l}function Js(i,l,f){var P=-1,E=il,M=i.length,F=!0,U=[],Q=U;if(f)F=!1,E=Wd;else if(M>=o){var Pe=l?null:v2(i);if(Pe)return ll(Pe);F=!1,E=Hi,Q=new Co}else Q=l?[]:U;e:for(;++P<M;){var Ie=i[P],Te=l?l(Ie):Ie;if(Ie=f||Ie!==0?Ie:0,F&&Te===Te){for(var $e=Q.length;$e--;)if(Q[$e]===Te)continue e;l&&Q.push(Te),U.push(Ie)}else E(Q,Te,f)||(Q!==U&&Q.push(Te),U.push(Ie))}return U}function hu(i,l){return l=Xs(l,i),i=yg(i,l),i==null||delete i[gs(Vr(l))]}function Ym(i,l,f,P){return ta(i,l,f(Do(i,l)),P)}function El(i,l,f,P){for(var E=i.length,M=P?E:-1;(P?M--:++M<E)&&l(i[M],M,i););return f?Br(i,P?0:M,P?M+1:E):Br(i,P?M+1:0,P?E:M)}function Gm(i,l){var f=i;return f instanceof Et&&(f=f.value()),Bd(l,function(P,E){return E.func.apply(E.thisArg,Ys([P],E.args))},f)}function fu(i,l,f){var P=i.length;if(P<2)return P?Js(i[0]):[];for(var E=-1,M=pe(P);++E<P;)for(var F=i[E],U=-1;++U<P;)U!=E&&(M[E]=Qi(M[E]||F,i[U],l,f));return Js(zn(M,1),l,f)}function qm(i,l,f){for(var P=-1,E=i.length,M=l.length,F={};++P<E;){var U=P<M?l[P]:r;f(F,i[P],U)}return F}function pu(i){return vn(i)?i:[]}function xu(i){return typeof i=="function"?i:pr}function Xs(i,l){return ht(i)?i:Cu(i,l)?[i]:wg(Wt(i))}var d2=vt;function Qs(i,l,f){var P=i.length;return f=f===r?P:f,!l&&f>=P?i:Br(i,l,f)}var Km=Xw||function(i){return Un.clearTimeout(i)};function Jm(i,l){if(l)return i.slice();var f=i.length,P=gm?gm(f):new i.constructor(f);return i.copy(P),P}function mu(i){var l=new i.constructor(i.byteLength);return new pl(l).set(new pl(i)),l}function u2(i,l){var f=l?mu(i.buffer):i.buffer;return new i.constructor(f,i.byteOffset,i.byteLength)}function h2(i){var l=new i.constructor(i.source,Ox.exec(i));return l.lastIndex=i.lastIndex,l}function f2(i){return Ji?Xt(Ji.call(i)):{}}function Xm(i,l){var f=l?mu(i.buffer):i.buffer;return new i.constructor(f,i.byteOffset,i.length)}function Qm(i,l){if(i!==l){var f=i!==r,P=i===null,E=i===i,M=Ir(i),F=l!==r,U=l===null,Q=l===l,Pe=Ir(l);if(!U&&!Pe&&!M&&i>l||M&&F&&Q&&!U&&!Pe||P&&F&&Q||!f&&Q||!E)return 1;if(!P&&!M&&!Pe&&i<l||Pe&&f&&E&&!P&&!M||U&&f&&E||!F&&E||!Q)return-1}return 0}function p2(i,l,f){for(var P=-1,E=i.criteria,M=l.criteria,F=E.length,U=f.length;++P<F;){var Q=Qm(E[P],M[P]);if(Q){if(P>=U)return Q;var Pe=f[P];return Q*(Pe=="desc"?-1:1)}}return i.index-l.index}function Zm(i,l,f,P){for(var E=-1,M=i.length,F=f.length,U=-1,Q=l.length,Pe=On(M-F,0),Ie=pe(Q+Pe),Te=!P;++U<Q;)Ie[U]=l[U];for(;++E<F;)(Te||E<M)&&(Ie[f[E]]=i[E]);for(;Pe--;)Ie[U++]=i[E++];return Ie}function eg(i,l,f,P){for(var E=-1,M=i.length,F=-1,U=f.length,Q=-1,Pe=l.length,Ie=On(M-U,0),Te=pe(Ie+Pe),$e=!P;++E<Ie;)Te[E]=i[E];for(var qe=E;++Q<Pe;)Te[qe+Q]=l[Q];for(;++F<U;)($e||E<M)&&(Te[qe+f[F]]=i[E++]);return Te}function ur(i,l){var f=-1,P=i.length;for(l||(l=pe(P));++f<P;)l[f]=i[f];return l}function ms(i,l,f,P){var E=!f;f||(f={});for(var M=-1,F=l.length;++M<F;){var U=l[M],Q=P?P(f[U],i[U],U,f,i):r;Q===r&&(Q=i[U]),E?Es(f,U,Q):Xi(f,U,Q)}return f}function x2(i,l){return ms(i,wu(i),l)}function m2(i,l){return ms(i,fg(i),l)}function Tl(i,l){return function(f,P){var E=ht(f)?jw:$C,M=l?l():{};return E(f,i,it(P,2),M)}}function ni(i){return vt(function(l,f){var P=-1,E=f.length,M=E>1?f[E-1]:r,F=E>2?f[2]:r;for(M=i.length>3&&typeof M=="function"?(E--,M):r,F&&sr(f[0],f[1],F)&&(M=E<3?r:M,E=1),l=Xt(l);++P<E;){var U=f[P];U&&i(l,U,P,M)}return l})}function tg(i,l){return function(f,P){if(f==null)return f;if(!hr(f))return i(f,P);for(var E=f.length,M=l?E:-1,F=Xt(f);(l?M--:++M<E)&&P(F[M],M,F)!==!1;);return f}}function ng(i){return function(l,f,P){for(var E=-1,M=Xt(l),F=P(l),U=F.length;U--;){var Q=F[i?U:++E];if(f(M[Q],Q,M)===!1)break}return l}}function g2(i,l,f){var P=l&j,E=na(i);function M(){var F=this&&this!==Un&&this instanceof M?E:i;return F.apply(P?f:this,arguments)}return M}function rg(i){return function(l){l=Wt(l);var f=Ko(l)?ts(l):r,P=f?f[0]:l.charAt(0),E=f?Qs(f,1).join(""):l.slice(1);return P[i]()+E}}function ri(i){return function(l){return Bd(tb(eb(l).replace(aw,"")),i,"")}}function na(i){return function(){var l=arguments;switch(l.length){case 0:return new i;case 1:return new i(l[0]);case 2:return new i(l[0],l[1]);case 3:return new i(l[0],l[1],l[2]);case 4:return new i(l[0],l[1],l[2],l[3]);case 5:return new i(l[0],l[1],l[2],l[3],l[4]);case 6:return new i(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new i(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var f=ti(i.prototype),P=i.apply(f,l);return hn(P)?P:f}}function b2(i,l,f){var P=na(i);function E(){for(var M=arguments.length,F=pe(M),U=M,Q=si(E);U--;)F[U]=arguments[U];var Pe=M<3&&F[0]!==Q&&F[M-1]!==Q?[]:Gs(F,Q);if(M-=Pe.length,M<f)return lg(i,l,Al,E.placeholder,r,F,Pe,r,r,f-M);var Ie=this&&this!==Un&&this instanceof E?P:i;return Cr(Ie,this,F)}return E}function sg(i){return function(l,f,P){var E=Xt(l);if(!hr(l)){var M=it(f,3);l=Nn(l),f=function(U){return M(E[U],U,E)}}var F=i(l,f,P);return F>-1?E[M?l[F]:F]:r}}function og(i){return As(function(l){var f=l.length,P=f,E=Fr.prototype.thru;for(i&&l.reverse();P--;){var M=l[P];if(typeof M!="function")throw new $r(c);if(E&&!F&&kl(M)=="wrapper")var F=new Fr([],!0)}for(P=F?P:f;++P<f;){M=l[P];var U=kl(M),Q=U=="wrapper"?ju(M):r;Q&&Pu(Q[0])&&Q[1]==(O|I|_|A)&&!Q[4].length&&Q[9]==1?F=F[kl(Q[0])].apply(F,Q[3]):F=M.length==1&&Pu(M)?F[U]():F.thru(M)}return function(){var Pe=arguments,Ie=Pe[0];if(F&&Pe.length==1&&ht(Ie))return F.plant(Ie).value();for(var Te=0,$e=f?l[Te].apply(this,Pe):Ie;++Te<f;)$e=l[Te].call(this,$e);return $e}})}function Al(i,l,f,P,E,M,F,U,Q,Pe){var Ie=l&O,Te=l&j,$e=l&D,qe=l&(I|T),at=l&L,gt=$e?r:na(i);function lt(){for(var Pt=arguments.length,Tt=pe(Pt),Er=Pt;Er--;)Tt[Er]=arguments[Er];if(qe)var or=si(lt),Tr=Aw(Tt,or);if(P&&(Tt=Zm(Tt,P,E,qe)),M&&(Tt=eg(Tt,M,F,qe)),Pt-=Tr,qe&&Pt<Pe){var jn=Gs(Tt,or);return lg(i,l,Al,lt.placeholder,f,Tt,jn,U,Q,Pe-Pt)}var ss=Te?f:this,ks=$e?ss[i]:i;return Pt=Tt.length,U?Tt=$2(Tt,U):at&&Pt>1&&Tt.reverse(),Ie&&Q<Pt&&(Tt.length=Q),this&&this!==Un&&this instanceof lt&&(ks=gt||na(ks)),ks.apply(ss,Tt)}return lt}function ig(i,l){return function(f,P){return YC(f,i,l(P),{})}}function Rl(i,l){return function(f,P){var E;if(f===r&&P===r)return l;if(f!==r&&(E=f),P!==r){if(E===r)return P;typeof f=="string"||typeof P=="string"?(f=Dr(f),P=Dr(P)):(f=Hm(f),P=Hm(P)),E=i(f,P)}return E}}function gu(i){return As(function(l){return l=cn(l,Pr(it())),vt(function(f){var P=this;return i(l,function(E){return Cr(E,P,f)})})})}function _l(i,l){l=l===r?" ":Dr(l);var f=l.length;if(f<2)return f?du(l,i):l;var P=du(l,bl(i/Jo(l)));return Ko(l)?Qs(ts(P),0,i).join(""):P.slice(0,i)}function y2(i,l,f,P){var E=l&j,M=na(i);function F(){for(var U=-1,Q=arguments.length,Pe=-1,Ie=P.length,Te=pe(Ie+Q),$e=this&&this!==Un&&this instanceof F?M:i;++Pe<Ie;)Te[Pe]=P[Pe];for(;Q--;)Te[Pe++]=arguments[++U];return Cr($e,E?f:this,Te)}return F}function ag(i){return function(l,f,P){return P&&typeof P!="number"&&sr(l,f,P)&&(f=P=r),l=Os(l),f===r?(f=l,l=0):f=Os(f),P=P===r?l<f?1:-1:Os(P),s2(l,f,P,i)}}function Ol(i){return function(l,f){return typeof l=="string"&&typeof f=="string"||(l=Ur(l),f=Ur(f)),i(l,f)}}function lg(i,l,f,P,E,M,F,U,Q,Pe){var Ie=l&I,Te=Ie?F:r,$e=Ie?r:F,qe=Ie?M:r,at=Ie?r:M;l|=Ie?_:R,l&=~(Ie?R:_),l&w||(l&=~(j|D));var gt=[i,l,E,qe,Te,at,$e,U,Q,Pe],lt=f.apply(r,gt);return Pu(i)&&vg(lt,gt),lt.placeholder=P,jg(lt,i,l)}function bu(i){var l=_n[i];return function(f,P){if(f=Ur(f),P=P==null?0:qn(xt(P),292),P&&jm(f)){var E=(Wt(f)+"e").split("e"),M=l(E[0]+"e"+(+E[1]+P));return E=(Wt(M)+"e").split("e"),+(E[0]+"e"+(+E[1]-P))}return l(f)}}var v2=Zo&&1/ll(new Zo([,-0]))[1]==K?function(i){return new Zo(i)}:Wu;function cg(i){return function(l){var f=Kn(l);return f==he?qd(l):f==ge?Lw(l):Tw(l,i(l))}}function Ts(i,l,f,P,E,M,F,U){var Q=l&D;if(!Q&&typeof i!="function")throw new $r(c);var Pe=P?P.length:0;if(Pe||(l&=~(_|R),P=E=r),F=F===r?F:On(xt(F),0),U=U===r?U:xt(U),Pe-=E?E.length:0,l&R){var Ie=P,Te=E;P=E=r}var $e=Q?r:ju(i),qe=[i,l,f,P,E,Ie,Te,M,F,U];if($e&&M2(qe,$e),i=qe[0],l=qe[1],f=qe[2],P=qe[3],E=qe[4],U=qe[9]=qe[9]===r?Q?0:i.length:On(qe[9]-Pe,0),!U&&l&(I|T)&&(l&=~(I|T)),!l||l==j)var at=g2(i,l,f);else l==I||l==T?at=b2(i,l,U):(l==_||l==(j|_))&&!E.length?at=y2(i,l,f,P):at=Al.apply(r,qe);var gt=$e?Um:vg;return jg(gt(at,qe),i,l)}function dg(i,l,f,P){return i===r||rs(i,Qo[f])&&!Ut.call(P,f)?l:i}function ug(i,l,f,P,E,M){return hn(i)&&hn(l)&&(M.set(l,i),Dl(i,l,r,ug,M),M.delete(l)),i}function j2(i){return oa(i)?r:i}function hg(i,l,f,P,E,M){var F=f&b,U=i.length,Q=l.length;if(U!=Q&&!(F&&Q>U))return!1;var Pe=M.get(i),Ie=M.get(l);if(Pe&&Ie)return Pe==l&&Ie==i;var Te=-1,$e=!0,qe=f&S?new Co:r;for(M.set(i,l),M.set(l,i);++Te<U;){var at=i[Te],gt=l[Te];if(P)var lt=F?P(gt,at,Te,l,i,M):P(at,gt,Te,i,l,M);if(lt!==r){if(lt)continue;$e=!1;break}if(qe){if(!Vd(l,function(Pt,Tt){if(!Hi(qe,Tt)&&(at===Pt||E(at,Pt,f,P,M)))return qe.push(Tt)})){$e=!1;break}}else if(!(at===gt||E(at,gt,f,P,M))){$e=!1;break}}return M.delete(i),M.delete(l),$e}function S2(i,l,f,P,E,M,F){switch(f){case Mn:if(i.byteLength!=l.byteLength||i.byteOffset!=l.byteOffset)return!1;i=i.buffer,l=l.buffer;case Jt:return!(i.byteLength!=l.byteLength||!M(new pl(i),new pl(l)));case De:case oe:case Oe:return rs(+i,+l);case ie:return i.name==l.name&&i.message==l.message;case Y:case Je:return i==l+"";case he:var U=qd;case ge:var Q=P&b;if(U||(U=ll),i.size!=l.size&&!Q)return!1;var Pe=F.get(i);if(Pe)return Pe==l;P|=S,F.set(i,l);var Ie=hg(U(i),U(l),P,E,M,F);return F.delete(i),Ie;case yt:if(Ji)return Ji.call(i)==Ji.call(l)}return!1}function w2(i,l,f,P,E,M){var F=f&b,U=yu(i),Q=U.length,Pe=yu(l),Ie=Pe.length;if(Q!=Ie&&!F)return!1;for(var Te=Q;Te--;){var $e=U[Te];if(!(F?$e in l:Ut.call(l,$e)))return!1}var qe=M.get(i),at=M.get(l);if(qe&&at)return qe==l&&at==i;var gt=!0;M.set(i,l),M.set(l,i);for(var lt=F;++Te<Q;){$e=U[Te];var Pt=i[$e],Tt=l[$e];if(P)var Er=F?P(Tt,Pt,$e,l,i,M):P(Pt,Tt,$e,i,l,M);if(!(Er===r?Pt===Tt||E(Pt,Tt,f,P,M):Er)){gt=!1;break}lt||(lt=$e=="constructor")}if(gt&&!lt){var or=i.constructor,Tr=l.constructor;or!=Tr&&"constructor"in i&&"constructor"in l&&!(typeof or=="function"&&or instanceof or&&typeof Tr=="function"&&Tr instanceof Tr)&&(gt=!1)}return M.delete(i),M.delete(l),gt}function As(i){return Iu(bg(i,r,Ig),i+"")}function yu(i){return _m(i,Nn,wu)}function vu(i){return _m(i,fr,fg)}var ju=vl?function(i){return vl.get(i)}:Wu;function kl(i){for(var l=i.name+"",f=ei[l],P=Ut.call(ei,l)?f.length:0;P--;){var E=f[P],M=E.func;if(M==null||M==i)return E.name}return l}function si(i){var l=Ut.call(k,"placeholder")?k:i;return l.placeholder}function it(){var i=k.iteratee||$u;return i=i===$u?Mm:i,arguments.length?i(arguments[0],arguments[1]):i}function Ml(i,l){var f=i.__data__;return R2(l)?f[typeof l=="string"?"string":"hash"]:f.map}function Su(i){for(var l=Nn(i),f=l.length;f--;){var P=l[f],E=i[P];l[f]=[P,E,mg(E)]}return l}function Io(i,l){var f=kw(i,l);return km(f)?f:r}function C2(i){var l=Ut.call(i,So),f=i[So];try{i[So]=r;var P=!0}catch{}var E=hl.call(i);return P&&(l?i[So]=f:delete i[So]),E}var wu=Jd?function(i){return i==null?[]:(i=Xt(i),Hs(Jd(i),function(l){return ym.call(i,l)}))}:Bu,fg=Jd?function(i){for(var l=[];i;)Ys(l,wu(i)),i=xl(i);return l}:Bu,Kn=rr;(Xd&&Kn(new Xd(new ArrayBuffer(1)))!=Mn||Gi&&Kn(new Gi)!=he||Qd&&Kn(Qd.resolve())!=ue||Zo&&Kn(new Zo)!=ge||qi&&Kn(new qi)!=Ft)&&(Kn=function(i){var l=rr(i),f=l==Ge?i.constructor:r,P=f?Eo(f):"";if(P)switch(P){case iC:return Mn;case aC:return he;case lC:return ue;case cC:return ge;case dC:return Ft}return l});function P2(i,l,f){for(var P=-1,E=f.length;++P<E;){var M=f[P],F=M.size;switch(M.type){case"drop":i+=F;break;case"dropRight":l-=F;break;case"take":l=qn(l,i+F);break;case"takeRight":i=On(i,l-F);break}}return{start:i,end:l}}function D2(i){var l=i.match(_1);return l?l[1].split(O1):[]}function pg(i,l,f){l=Xs(l,i);for(var P=-1,E=l.length,M=!1;++P<E;){var F=gs(l[P]);if(!(M=i!=null&&f(i,F)))break;i=i[F]}return M||++P!=E?M:(E=i==null?0:i.length,!!E&&Vl(E)&&Rs(F,E)&&(ht(i)||To(i)))}function I2(i){var l=i.length,f=new i.constructor(l);return l&&typeof i[0]=="string"&&Ut.call(i,"index")&&(f.index=i.index,f.input=i.input),f}function xg(i){return typeof i.constructor=="function"&&!ra(i)?ti(xl(i)):{}}function E2(i,l,f){var P=i.constructor;switch(l){case Jt:return mu(i);case De:case oe:return new P(+i);case Mn:return u2(i,f);case dt:case pt:case _t:case Gt:case In:case un:case Gn:case mn:case St:return Xm(i,f);case he:return new P;case Oe:case Je:return new P(i);case Y:return h2(i);case ge:return new P;case yt:return f2(i)}}function T2(i,l){var f=l.length;if(!f)return i;var P=f-1;return l[P]=(f>1?"& ":"")+l[P],l=l.join(f>2?", ":" "),i.replace(R1,`{
/* [wrapped with `+l+`] */
`)}function A2(i){return ht(i)||To(i)||!!(vm&&i&&i[vm])}function Rs(i,l){var f=typeof i;return l=l??X,!!l&&(f=="number"||f!="symbol"&&V1.test(i))&&i>-1&&i%1==0&&i<l}function sr(i,l,f){if(!hn(f))return!1;var P=typeof l;return(P=="number"?hr(f)&&Rs(l,f.length):P=="string"&&l in f)?rs(f[l],i):!1}function Cu(i,l){if(ht(i))return!1;var f=typeof i;return f=="number"||f=="symbol"||f=="boolean"||i==null||Ir(i)?!0:wr.test(i)||!gn.test(i)||l!=null&&i in Xt(l)}function R2(i){var l=typeof i;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?i!=="__proto__":i===null}function Pu(i){var l=kl(i),f=k[l];if(typeof f!="function"||!(l in Et.prototype))return!1;if(i===f)return!0;var P=ju(f);return!!P&&i===P[0]}function _2(i){return!!mm&&mm in i}var O2=dl?_s:Vu;function ra(i){var l=i&&i.constructor,f=typeof l=="function"&&l.prototype||Qo;return i===f}function mg(i){return i===i&&!hn(i)}function gg(i,l){return function(f){return f==null?!1:f[i]===l&&(l!==r||i in Xt(f))}}function k2(i){var l=Wl(i,function(P){return f.size===h&&f.clear(),P}),f=l.cache;return l}function M2(i,l){var f=i[1],P=l[1],E=f|P,M=E<(j|D|O),F=P==O&&f==I||P==O&&f==A&&i[7].length<=l[8]||P==(O|A)&&l[7].length<=l[8]&&f==I;if(!(M||F))return i;P&j&&(i[2]=l[2],E|=f&j?0:w);var U=l[3];if(U){var Q=i[3];i[3]=Q?Zm(Q,U,l[4]):U,i[4]=Q?Gs(i[3],x):l[4]}return U=l[5],U&&(Q=i[5],i[5]=Q?eg(Q,U,l[6]):U,i[6]=Q?Gs(i[5],x):l[6]),U=l[7],U&&(i[7]=U),P&O&&(i[8]=i[8]==null?l[8]:qn(i[8],l[8])),i[9]==null&&(i[9]=l[9]),i[0]=l[0],i[1]=E,i}function N2(i){var l=[];if(i!=null)for(var f in Xt(i))l.push(f);return l}function L2(i){return hl.call(i)}function bg(i,l,f){return l=On(l===r?i.length-1:l,0),function(){for(var P=arguments,E=-1,M=On(P.length-l,0),F=pe(M);++E<M;)F[E]=P[l+E];E=-1;for(var U=pe(l+1);++E<l;)U[E]=P[E];return U[l]=f(F),Cr(i,this,U)}}function yg(i,l){return l.length<2?i:Do(i,Br(l,0,-1))}function $2(i,l){for(var f=i.length,P=qn(l.length,f),E=ur(i);P--;){var M=l[P];i[P]=Rs(M,f)?E[M]:r}return i}function Du(i,l){if(!(l==="constructor"&&typeof i[l]=="function")&&l!="__proto__")return i[l]}var vg=Sg(Um),sa=Zw||function(i,l){return Un.setTimeout(i,l)},Iu=Sg(a2);function jg(i,l,f){var P=l+"";return Iu(i,T2(P,F2(D2(P),f)))}function Sg(i){var l=0,f=0;return function(){var P=rC(),E=se-(P-f);if(f=P,E>0){if(++l>=N)return arguments[0]}else l=0;return i.apply(r,arguments)}}function Nl(i,l){var f=-1,P=i.length,E=P-1;for(l=l===r?P:l;++f<l;){var M=cu(f,E),F=i[M];i[M]=i[f],i[f]=F}return i.length=l,i}var wg=k2(function(i){var l=[];return i.charCodeAt(0)===46&&l.push(""),i.replace(nl,function(f,P,E,M){l.push(E?M.replace(N1,"$1"):P||f)}),l});function gs(i){if(typeof i=="string"||Ir(i))return i;var l=i+"";return l=="0"&&1/i==-K?"-0":l}function Eo(i){if(i!=null){try{return ul.call(i)}catch{}try{return i+""}catch{}}return""}function F2(i,l){return Lr(_e,function(f){var P="_."+f[0];l&f[1]&&!il(i,P)&&i.push(P)}),i.sort()}function Cg(i){if(i instanceof Et)return i.clone();var l=new Fr(i.__wrapped__,i.__chain__);return l.__actions__=ur(i.__actions__),l.__index__=i.__index__,l.__values__=i.__values__,l}function W2(i,l,f){(f?sr(i,l,f):l===r)?l=1:l=On(xt(l),0);var P=i==null?0:i.length;if(!P||l<1)return[];for(var E=0,M=0,F=pe(bl(P/l));E<P;)F[M++]=Br(i,E,E+=l);return F}function B2(i){for(var l=-1,f=i==null?0:i.length,P=0,E=[];++l<f;){var M=i[l];M&&(E[P++]=M)}return E}function V2(){var i=arguments.length;if(!i)return[];for(var l=pe(i-1),f=arguments[0],P=i;P--;)l[P-1]=arguments[P];return Ys(ht(f)?ur(f):[f],zn(l,1))}var U2=vt(function(i,l){return vn(i)?Qi(i,zn(l,1,vn,!0)):[]}),z2=vt(function(i,l){var f=Vr(l);return vn(f)&&(f=r),vn(i)?Qi(i,zn(l,1,vn,!0),it(f,2)):[]}),H2=vt(function(i,l){var f=Vr(l);return vn(f)&&(f=r),vn(i)?Qi(i,zn(l,1,vn,!0),r,f):[]});function Y2(i,l,f){var P=i==null?0:i.length;return P?(l=f||l===r?1:xt(l),Br(i,l<0?0:l,P)):[]}function G2(i,l,f){var P=i==null?0:i.length;return P?(l=f||l===r?1:xt(l),l=P-l,Br(i,0,l<0?0:l)):[]}function q2(i,l){return i&&i.length?El(i,it(l,3),!0,!0):[]}function K2(i,l){return i&&i.length?El(i,it(l,3),!0):[]}function J2(i,l,f,P){var E=i==null?0:i.length;return E?(f&&typeof f!="number"&&sr(i,l,f)&&(f=0,P=E),VC(i,l,f,P)):[]}function Pg(i,l,f){var P=i==null?0:i.length;if(!P)return-1;var E=f==null?0:xt(f);return E<0&&(E=On(P+E,0)),al(i,it(l,3),E)}function Dg(i,l,f){var P=i==null?0:i.length;if(!P)return-1;var E=P-1;return f!==r&&(E=xt(f),E=f<0?On(P+E,0):qn(E,P-1)),al(i,it(l,3),E,!0)}function Ig(i){var l=i==null?0:i.length;return l?zn(i,1):[]}function X2(i){var l=i==null?0:i.length;return l?zn(i,K):[]}function Q2(i,l){var f=i==null?0:i.length;return f?(l=l===r?1:xt(l),zn(i,l)):[]}function Z2(i){for(var l=-1,f=i==null?0:i.length,P={};++l<f;){var E=i[l];P[E[0]]=E[1]}return P}function Eg(i){return i&&i.length?i[0]:r}function eP(i,l,f){var P=i==null?0:i.length;if(!P)return-1;var E=f==null?0:xt(f);return E<0&&(E=On(P+E,0)),qo(i,l,E)}function tP(i){var l=i==null?0:i.length;return l?Br(i,0,-1):[]}var nP=vt(function(i){var l=cn(i,pu);return l.length&&l[0]===i[0]?su(l):[]}),rP=vt(function(i){var l=Vr(i),f=cn(i,pu);return l===Vr(f)?l=r:f.pop(),f.length&&f[0]===i[0]?su(f,it(l,2)):[]}),sP=vt(function(i){var l=Vr(i),f=cn(i,pu);return l=typeof l=="function"?l:r,l&&f.pop(),f.length&&f[0]===i[0]?su(f,r,l):[]});function oP(i,l){return i==null?"":tC.call(i,l)}function Vr(i){var l=i==null?0:i.length;return l?i[l-1]:r}function iP(i,l,f){var P=i==null?0:i.length;if(!P)return-1;var E=P;return f!==r&&(E=xt(f),E=E<0?On(P+E,0):qn(E,P-1)),l===l?Fw(i,l,E):al(i,lm,E,!0)}function aP(i,l){return i&&i.length?Fm(i,xt(l)):r}var lP=vt(Tg);function Tg(i,l){return i&&i.length&&l&&l.length?lu(i,l):i}function cP(i,l,f){return i&&i.length&&l&&l.length?lu(i,l,it(f,2)):i}function dP(i,l,f){return i&&i.length&&l&&l.length?lu(i,l,r,f):i}var uP=As(function(i,l){var f=i==null?0:i.length,P=eu(i,l);return Vm(i,cn(l,function(E){return Rs(E,f)?+E:E}).sort(Qm)),P});function hP(i,l){var f=[];if(!(i&&i.length))return f;var P=-1,E=[],M=i.length;for(l=it(l,3);++P<M;){var F=i[P];l(F,P,i)&&(f.push(F),E.push(P))}return Vm(i,E),f}function Eu(i){return i==null?i:oC.call(i)}function fP(i,l,f){var P=i==null?0:i.length;return P?(f&&typeof f!="number"&&sr(i,l,f)?(l=0,f=P):(l=l==null?0:xt(l),f=f===r?P:xt(f)),Br(i,l,f)):[]}function pP(i,l){return Il(i,l)}function xP(i,l,f){return uu(i,l,it(f,2))}function mP(i,l){var f=i==null?0:i.length;if(f){var P=Il(i,l);if(P<f&&rs(i[P],l))return P}return-1}function gP(i,l){return Il(i,l,!0)}function bP(i,l,f){return uu(i,l,it(f,2),!0)}function yP(i,l){var f=i==null?0:i.length;if(f){var P=Il(i,l,!0)-1;if(rs(i[P],l))return P}return-1}function vP(i){return i&&i.length?zm(i):[]}function jP(i,l){return i&&i.length?zm(i,it(l,2)):[]}function SP(i){var l=i==null?0:i.length;return l?Br(i,1,l):[]}function wP(i,l,f){return i&&i.length?(l=f||l===r?1:xt(l),Br(i,0,l<0?0:l)):[]}function CP(i,l,f){var P=i==null?0:i.length;return P?(l=f||l===r?1:xt(l),l=P-l,Br(i,l<0?0:l,P)):[]}function PP(i,l){return i&&i.length?El(i,it(l,3),!1,!0):[]}function DP(i,l){return i&&i.length?El(i,it(l,3)):[]}var IP=vt(function(i){return Js(zn(i,1,vn,!0))}),EP=vt(function(i){var l=Vr(i);return vn(l)&&(l=r),Js(zn(i,1,vn,!0),it(l,2))}),TP=vt(function(i){var l=Vr(i);return l=typeof l=="function"?l:r,Js(zn(i,1,vn,!0),r,l)});function AP(i){return i&&i.length?Js(i):[]}function RP(i,l){return i&&i.length?Js(i,it(l,2)):[]}function _P(i,l){return l=typeof l=="function"?l:r,i&&i.length?Js(i,r,l):[]}function Tu(i){if(!(i&&i.length))return[];var l=0;return i=Hs(i,function(f){if(vn(f))return l=On(f.length,l),!0}),Yd(l,function(f){return cn(i,Ud(f))})}function Ag(i,l){if(!(i&&i.length))return[];var f=Tu(i);return l==null?f:cn(f,function(P){return Cr(l,r,P)})}var OP=vt(function(i,l){return vn(i)?Qi(i,l):[]}),kP=vt(function(i){return fu(Hs(i,vn))}),MP=vt(function(i){var l=Vr(i);return vn(l)&&(l=r),fu(Hs(i,vn),it(l,2))}),NP=vt(function(i){var l=Vr(i);return l=typeof l=="function"?l:r,fu(Hs(i,vn),r,l)}),LP=vt(Tu);function $P(i,l){return qm(i||[],l||[],Xi)}function FP(i,l){return qm(i||[],l||[],ta)}var WP=vt(function(i){var l=i.length,f=l>1?i[l-1]:r;return f=typeof f=="function"?(i.pop(),f):r,Ag(i,f)});function Rg(i){var l=k(i);return l.__chain__=!0,l}function BP(i,l){return l(i),i}function Ll(i,l){return l(i)}var VP=As(function(i){var l=i.length,f=l?i[0]:0,P=this.__wrapped__,E=function(M){return eu(M,i)};return l>1||this.__actions__.length||!(P instanceof Et)||!Rs(f)?this.thru(E):(P=P.slice(f,+f+(l?1:0)),P.__actions__.push({func:Ll,args:[E],thisArg:r}),new Fr(P,this.__chain__).thru(function(M){return l&&!M.length&&M.push(r),M}))});function UP(){return Rg(this)}function zP(){return new Fr(this.value(),this.__chain__)}function HP(){this.__values__===r&&(this.__values__=Hg(this.value()));var i=this.__index__>=this.__values__.length,l=i?r:this.__values__[this.__index__++];return{done:i,value:l}}function YP(){return this}function GP(i){for(var l,f=this;f instanceof Sl;){var P=Cg(f);P.__index__=0,P.__values__=r,l?E.__wrapped__=P:l=P;var E=P;f=f.__wrapped__}return E.__wrapped__=i,l}function qP(){var i=this.__wrapped__;if(i instanceof Et){var l=i;return this.__actions__.length&&(l=new Et(this)),l=l.reverse(),l.__actions__.push({func:Ll,args:[Eu],thisArg:r}),new Fr(l,this.__chain__)}return this.thru(Eu)}function KP(){return Gm(this.__wrapped__,this.__actions__)}var JP=Tl(function(i,l,f){Ut.call(i,f)?++i[f]:Es(i,f,1)});function XP(i,l,f){var P=ht(i)?im:BC;return f&&sr(i,l,f)&&(l=r),P(i,it(l,3))}function QP(i,l){var f=ht(i)?Hs:Am;return f(i,it(l,3))}var ZP=sg(Pg),eD=sg(Dg);function tD(i,l){return zn($l(i,l),1)}function nD(i,l){return zn($l(i,l),K)}function rD(i,l,f){return f=f===r?1:xt(f),zn($l(i,l),f)}function _g(i,l){var f=ht(i)?Lr:Ks;return f(i,it(l,3))}function Og(i,l){var f=ht(i)?Sw:Tm;return f(i,it(l,3))}var sD=Tl(function(i,l,f){Ut.call(i,f)?i[f].push(l):Es(i,f,[l])});function oD(i,l,f,P){i=hr(i)?i:ii(i),f=f&&!P?xt(f):0;var E=i.length;return f<0&&(f=On(E+f,0)),Ul(i)?f<=E&&i.indexOf(l,f)>-1:!!E&&qo(i,l,f)>-1}var iD=vt(function(i,l,f){var P=-1,E=typeof l=="function",M=hr(i)?pe(i.length):[];return Ks(i,function(F){M[++P]=E?Cr(l,F,f):Zi(F,l,f)}),M}),aD=Tl(function(i,l,f){Es(i,f,l)});function $l(i,l){var f=ht(i)?cn:Nm;return f(i,it(l,3))}function lD(i,l,f,P){return i==null?[]:(ht(l)||(l=l==null?[]:[l]),f=P?r:f,ht(f)||(f=f==null?[]:[f]),Wm(i,l,f))}var cD=Tl(function(i,l,f){i[f?0:1].push(l)},function(){return[[],[]]});function dD(i,l,f){var P=ht(i)?Bd:dm,E=arguments.length<3;return P(i,it(l,4),f,E,Ks)}function uD(i,l,f){var P=ht(i)?ww:dm,E=arguments.length<3;return P(i,it(l,4),f,E,Tm)}function hD(i,l){var f=ht(i)?Hs:Am;return f(i,Bl(it(l,3)))}function fD(i){var l=ht(i)?Pm:o2;return l(i)}function pD(i,l,f){(f?sr(i,l,f):l===r)?l=1:l=xt(l);var P=ht(i)?NC:i2;return P(i,l)}function xD(i){var l=ht(i)?LC:l2;return l(i)}function mD(i){if(i==null)return 0;if(hr(i))return Ul(i)?Jo(i):i.length;var l=Kn(i);return l==he||l==ge?i.size:iu(i).length}function gD(i,l,f){var P=ht(i)?Vd:c2;return f&&sr(i,l,f)&&(l=r),P(i,it(l,3))}var bD=vt(function(i,l){if(i==null)return[];var f=l.length;return f>1&&sr(i,l[0],l[1])?l=[]:f>2&&sr(l[0],l[1],l[2])&&(l=[l[0]]),Wm(i,zn(l,1),[])}),Fl=Qw||function(){return Un.Date.now()};function yD(i,l){if(typeof l!="function")throw new $r(c);return i=xt(i),function(){if(--i<1)return l.apply(this,arguments)}}function kg(i,l,f){return l=f?r:l,l=i&&l==null?i.length:l,Ts(i,O,r,r,r,r,l)}function Mg(i,l){var f;if(typeof l!="function")throw new $r(c);return i=xt(i),function(){return--i>0&&(f=l.apply(this,arguments)),i<=1&&(l=r),f}}var Au=vt(function(i,l,f){var P=j;if(f.length){var E=Gs(f,si(Au));P|=_}return Ts(i,P,l,f,E)}),Ng=vt(function(i,l,f){var P=j|D;if(f.length){var E=Gs(f,si(Ng));P|=_}return Ts(l,P,i,f,E)});function Lg(i,l,f){l=f?r:l;var P=Ts(i,I,r,r,r,r,r,l);return P.placeholder=Lg.placeholder,P}function $g(i,l,f){l=f?r:l;var P=Ts(i,T,r,r,r,r,r,l);return P.placeholder=$g.placeholder,P}function Fg(i,l,f){var P,E,M,F,U,Q,Pe=0,Ie=!1,Te=!1,$e=!0;if(typeof i!="function")throw new $r(c);l=Ur(l)||0,hn(f)&&(Ie=!!f.leading,Te="maxWait"in f,M=Te?On(Ur(f.maxWait)||0,l):M,$e="trailing"in f?!!f.trailing:$e);function qe(jn){var ss=P,ks=E;return P=E=r,Pe=jn,F=i.apply(ks,ss),F}function at(jn){return Pe=jn,U=sa(Pt,l),Ie?qe(jn):F}function gt(jn){var ss=jn-Q,ks=jn-Pe,sb=l-ss;return Te?qn(sb,M-ks):sb}function lt(jn){var ss=jn-Q,ks=jn-Pe;return Q===r||ss>=l||ss<0||Te&&ks>=M}function Pt(){var jn=Fl();if(lt(jn))return Tt(jn);U=sa(Pt,gt(jn))}function Tt(jn){return U=r,$e&&P?qe(jn):(P=E=r,F)}function Er(){U!==r&&Km(U),Pe=0,P=Q=E=U=r}function or(){return U===r?F:Tt(Fl())}function Tr(){var jn=Fl(),ss=lt(jn);if(P=arguments,E=this,Q=jn,ss){if(U===r)return at(Q);if(Te)return Km(U),U=sa(Pt,l),qe(Q)}return U===r&&(U=sa(Pt,l)),F}return Tr.cancel=Er,Tr.flush=or,Tr}var vD=vt(function(i,l){return Em(i,1,l)}),jD=vt(function(i,l,f){return Em(i,Ur(l)||0,f)});function SD(i){return Ts(i,L)}function Wl(i,l){if(typeof i!="function"||l!=null&&typeof l!="function")throw new $r(c);var f=function(){var P=arguments,E=l?l.apply(this,P):P[0],M=f.cache;if(M.has(E))return M.get(E);var F=i.apply(this,P);return f.cache=M.set(E,F)||M,F};return f.cache=new(Wl.Cache||Is),f}Wl.Cache=Is;function Bl(i){if(typeof i!="function")throw new $r(c);return function(){var l=arguments;switch(l.length){case 0:return!i.call(this);case 1:return!i.call(this,l[0]);case 2:return!i.call(this,l[0],l[1]);case 3:return!i.call(this,l[0],l[1],l[2])}return!i.apply(this,l)}}function wD(i){return Mg(2,i)}var CD=d2(function(i,l){l=l.length==1&&ht(l[0])?cn(l[0],Pr(it())):cn(zn(l,1),Pr(it()));var f=l.length;return vt(function(P){for(var E=-1,M=qn(P.length,f);++E<M;)P[E]=l[E].call(this,P[E]);return Cr(i,this,P)})}),Ru=vt(function(i,l){var f=Gs(l,si(Ru));return Ts(i,_,r,l,f)}),Wg=vt(function(i,l){var f=Gs(l,si(Wg));return Ts(i,R,r,l,f)}),PD=As(function(i,l){return Ts(i,A,r,r,r,l)});function DD(i,l){if(typeof i!="function")throw new $r(c);return l=l===r?l:xt(l),vt(i,l)}function ID(i,l){if(typeof i!="function")throw new $r(c);return l=l==null?0:On(xt(l),0),vt(function(f){var P=f[l],E=Qs(f,0,l);return P&&Ys(E,P),Cr(i,this,E)})}function ED(i,l,f){var P=!0,E=!0;if(typeof i!="function")throw new $r(c);return hn(f)&&(P="leading"in f?!!f.leading:P,E="trailing"in f?!!f.trailing:E),Fg(i,l,{leading:P,maxWait:l,trailing:E})}function TD(i){return kg(i,1)}function AD(i,l){return Ru(xu(l),i)}function RD(){if(!arguments.length)return[];var i=arguments[0];return ht(i)?i:[i]}function _D(i){return Wr(i,y)}function OD(i,l){return l=typeof l=="function"?l:r,Wr(i,y,l)}function kD(i){return Wr(i,p|y)}function MD(i,l){return l=typeof l=="function"?l:r,Wr(i,p|y,l)}function ND(i,l){return l==null||Im(i,l,Nn(l))}function rs(i,l){return i===l||i!==i&&l!==l}var LD=Ol(ru),$D=Ol(function(i,l){return i>=l}),To=Om(function(){return arguments}())?Om:function(i){return bn(i)&&Ut.call(i,"callee")&&!ym.call(i,"callee")},ht=pe.isArray,FD=em?Pr(em):GC;function hr(i){return i!=null&&Vl(i.length)&&!_s(i)}function vn(i){return bn(i)&&hr(i)}function WD(i){return i===!0||i===!1||bn(i)&&rr(i)==De}var Zs=eC||Vu,BD=tm?Pr(tm):qC;function VD(i){return bn(i)&&i.nodeType===1&&!oa(i)}function UD(i){if(i==null)return!0;if(hr(i)&&(ht(i)||typeof i=="string"||typeof i.splice=="function"||Zs(i)||oi(i)||To(i)))return!i.length;var l=Kn(i);if(l==he||l==ge)return!i.size;if(ra(i))return!iu(i).length;for(var f in i)if(Ut.call(i,f))return!1;return!0}function zD(i,l){return ea(i,l)}function HD(i,l,f){f=typeof f=="function"?f:r;var P=f?f(i,l):r;return P===r?ea(i,l,r,f):!!P}function _u(i){if(!bn(i))return!1;var l=rr(i);return l==ie||l==le||typeof i.message=="string"&&typeof i.name=="string"&&!oa(i)}function YD(i){return typeof i=="number"&&jm(i)}function _s(i){if(!hn(i))return!1;var l=rr(i);return l==ne||l==me||l==z||l==we}function Bg(i){return typeof i=="number"&&i==xt(i)}function Vl(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=X}function hn(i){var l=typeof i;return i!=null&&(l=="object"||l=="function")}function bn(i){return i!=null&&typeof i=="object"}var Vg=nm?Pr(nm):JC;function GD(i,l){return i===l||ou(i,l,Su(l))}function qD(i,l,f){return f=typeof f=="function"?f:r,ou(i,l,Su(l),f)}function KD(i){return Ug(i)&&i!=+i}function JD(i){if(O2(i))throw new ut(a);return km(i)}function XD(i){return i===null}function QD(i){return i==null}function Ug(i){return typeof i=="number"||bn(i)&&rr(i)==Oe}function oa(i){if(!bn(i)||rr(i)!=Ge)return!1;var l=xl(i);if(l===null)return!0;var f=Ut.call(l,"constructor")&&l.constructor;return typeof f=="function"&&f instanceof f&&ul.call(f)==qw}var Ou=rm?Pr(rm):XC;function ZD(i){return Bg(i)&&i>=-X&&i<=X}var zg=sm?Pr(sm):QC;function Ul(i){return typeof i=="string"||!ht(i)&&bn(i)&&rr(i)==Je}function Ir(i){return typeof i=="symbol"||bn(i)&&rr(i)==yt}var oi=om?Pr(om):ZC;function eI(i){return i===r}function tI(i){return bn(i)&&Kn(i)==Ft}function nI(i){return bn(i)&&rr(i)==Rt}var rI=Ol(au),sI=Ol(function(i,l){return i<=l});function Hg(i){if(!i)return[];if(hr(i))return Ul(i)?ts(i):ur(i);if(Yi&&i[Yi])return Nw(i[Yi]());var l=Kn(i),f=l==he?qd:l==ge?ll:ii;return f(i)}function Os(i){if(!i)return i===0?i:0;if(i=Ur(i),i===K||i===-K){var l=i<0?-1:1;return l*ae}return i===i?i:0}function xt(i){var l=Os(i),f=l%1;return l===l?f?l-f:l:0}function Yg(i){return i?Po(xt(i),0,re):0}function Ur(i){if(typeof i=="number")return i;if(Ir(i))return V;if(hn(i)){var l=typeof i.valueOf=="function"?i.valueOf():i;i=hn(l)?l+"":l}if(typeof i!="string")return i===0?i:+i;i=um(i);var f=F1.test(i);return f||B1.test(i)?yw(i.slice(2),f?2:8):$1.test(i)?V:+i}function Gg(i){return ms(i,fr(i))}function oI(i){return i?Po(xt(i),-X,X):i===0?i:0}function Wt(i){return i==null?"":Dr(i)}var iI=ni(function(i,l){if(ra(l)||hr(l)){ms(l,Nn(l),i);return}for(var f in l)Ut.call(l,f)&&Xi(i,f,l[f])}),qg=ni(function(i,l){ms(l,fr(l),i)}),zl=ni(function(i,l,f,P){ms(l,fr(l),i,P)}),aI=ni(function(i,l,f,P){ms(l,Nn(l),i,P)}),lI=As(eu);function cI(i,l){var f=ti(i);return l==null?f:Dm(f,l)}var dI=vt(function(i,l){i=Xt(i);var f=-1,P=l.length,E=P>2?l[2]:r;for(E&&sr(l[0],l[1],E)&&(P=1);++f<P;)for(var M=l[f],F=fr(M),U=-1,Q=F.length;++U<Q;){var Pe=F[U],Ie=i[Pe];(Ie===r||rs(Ie,Qo[Pe])&&!Ut.call(i,Pe))&&(i[Pe]=M[Pe])}return i}),uI=vt(function(i){return i.push(r,ug),Cr(Kg,r,i)});function hI(i,l){return am(i,it(l,3),xs)}function fI(i,l){return am(i,it(l,3),nu)}function pI(i,l){return i==null?i:tu(i,it(l,3),fr)}function xI(i,l){return i==null?i:Rm(i,it(l,3),fr)}function mI(i,l){return i&&xs(i,it(l,3))}function gI(i,l){return i&&nu(i,it(l,3))}function bI(i){return i==null?[]:Pl(i,Nn(i))}function yI(i){return i==null?[]:Pl(i,fr(i))}function ku(i,l,f){var P=i==null?r:Do(i,l);return P===r?f:P}function vI(i,l){return i!=null&&pg(i,l,UC)}function Mu(i,l){return i!=null&&pg(i,l,zC)}var jI=ig(function(i,l,f){l!=null&&typeof l.toString!="function"&&(l=hl.call(l)),i[l]=f},Lu(pr)),SI=ig(function(i,l,f){l!=null&&typeof l.toString!="function"&&(l=hl.call(l)),Ut.call(i,l)?i[l].push(f):i[l]=[f]},it),wI=vt(Zi);function Nn(i){return hr(i)?Cm(i):iu(i)}function fr(i){return hr(i)?Cm(i,!0):e2(i)}function CI(i,l){var f={};return l=it(l,3),xs(i,function(P,E,M){Es(f,l(P,E,M),P)}),f}function PI(i,l){var f={};return l=it(l,3),xs(i,function(P,E,M){Es(f,E,l(P,E,M))}),f}var DI=ni(function(i,l,f){Dl(i,l,f)}),Kg=ni(function(i,l,f,P){Dl(i,l,f,P)}),II=As(function(i,l){var f={};if(i==null)return f;var P=!1;l=cn(l,function(M){return M=Xs(M,i),P||(P=M.length>1),M}),ms(i,vu(i),f),P&&(f=Wr(f,p|m|y,j2));for(var E=l.length;E--;)hu(f,l[E]);return f});function EI(i,l){return Jg(i,Bl(it(l)))}var TI=As(function(i,l){return i==null?{}:n2(i,l)});function Jg(i,l){if(i==null)return{};var f=cn(vu(i),function(P){return[P]});return l=it(l),Bm(i,f,function(P,E){return l(P,E[0])})}function AI(i,l,f){l=Xs(l,i);var P=-1,E=l.length;for(E||(E=1,i=r);++P<E;){var M=i==null?r:i[gs(l[P])];M===r&&(P=E,M=f),i=_s(M)?M.call(i):M}return i}function RI(i,l,f){return i==null?i:ta(i,l,f)}function _I(i,l,f,P){return P=typeof P=="function"?P:r,i==null?i:ta(i,l,f,P)}var Xg=cg(Nn),Qg=cg(fr);function OI(i,l,f){var P=ht(i),E=P||Zs(i)||oi(i);if(l=it(l,4),f==null){var M=i&&i.constructor;E?f=P?new M:[]:hn(i)?f=_s(M)?ti(xl(i)):{}:f={}}return(E?Lr:xs)(i,function(F,U,Q){return l(f,F,U,Q)}),f}function kI(i,l){return i==null?!0:hu(i,l)}function MI(i,l,f){return i==null?i:Ym(i,l,xu(f))}function NI(i,l,f,P){return P=typeof P=="function"?P:r,i==null?i:Ym(i,l,xu(f),P)}function ii(i){return i==null?[]:Gd(i,Nn(i))}function LI(i){return i==null?[]:Gd(i,fr(i))}function $I(i,l,f){return f===r&&(f=l,l=r),f!==r&&(f=Ur(f),f=f===f?f:0),l!==r&&(l=Ur(l),l=l===l?l:0),Po(Ur(i),l,f)}function FI(i,l,f){return l=Os(l),f===r?(f=l,l=0):f=Os(f),i=Ur(i),HC(i,l,f)}function WI(i,l,f){if(f&&typeof f!="boolean"&&sr(i,l,f)&&(l=f=r),f===r&&(typeof l=="boolean"?(f=l,l=r):typeof i=="boolean"&&(f=i,i=r)),i===r&&l===r?(i=0,l=1):(i=Os(i),l===r?(l=i,i=0):l=Os(l)),i>l){var P=i;i=l,l=P}if(f||i%1||l%1){var E=Sm();return qn(i+E*(l-i+bw("1e-"+((E+"").length-1))),l)}return cu(i,l)}var BI=ri(function(i,l,f){return l=l.toLowerCase(),i+(f?Zg(l):l)});function Zg(i){return Nu(Wt(i).toLowerCase())}function eb(i){return i=Wt(i),i&&i.replace(U1,Rw).replace(lw,"")}function VI(i,l,f){i=Wt(i),l=Dr(l);var P=i.length;f=f===r?P:Po(xt(f),0,P);var E=f;return f-=l.length,f>=0&&i.slice(f,E)==l}function UI(i){return i=Wt(i),i&&Ed.test(i)?i.replace(nr,_w):i}function zI(i){return i=Wt(i),i&&T1.test(i)?i.replace(Rd,"\\$&"):i}var HI=ri(function(i,l,f){return i+(f?"-":"")+l.toLowerCase()}),YI=ri(function(i,l,f){return i+(f?" ":"")+l.toLowerCase()}),GI=rg("toLowerCase");function qI(i,l,f){i=Wt(i),l=xt(l);var P=l?Jo(i):0;if(!l||P>=l)return i;var E=(l-P)/2;return _l(yl(E),f)+i+_l(bl(E),f)}function KI(i,l,f){i=Wt(i),l=xt(l);var P=l?Jo(i):0;return l&&P<l?i+_l(l-P,f):i}function JI(i,l,f){i=Wt(i),l=xt(l);var P=l?Jo(i):0;return l&&P<l?_l(l-P,f)+i:i}function XI(i,l,f){return f||l==null?l=0:l&&(l=+l),sC(Wt(i).replace(_d,""),l||0)}function QI(i,l,f){return(f?sr(i,l,f):l===r)?l=1:l=xt(l),du(Wt(i),l)}function ZI(){var i=arguments,l=Wt(i[0]);return i.length<3?l:l.replace(i[1],i[2])}var eE=ri(function(i,l,f){return i+(f?"_":"")+l.toLowerCase()});function tE(i,l,f){return f&&typeof f!="number"&&sr(i,l,f)&&(l=f=r),f=f===r?re:f>>>0,f?(i=Wt(i),i&&(typeof l=="string"||l!=null&&!Ou(l))&&(l=Dr(l),!l&&Ko(i))?Qs(ts(i),0,f):i.split(l,f)):[]}var nE=ri(function(i,l,f){return i+(f?" ":"")+Nu(l)});function rE(i,l,f){return i=Wt(i),f=f==null?0:Po(xt(f),0,i.length),l=Dr(l),i.slice(f,f+l.length)==l}function sE(i,l,f){var P=k.templateSettings;f&&sr(i,l,f)&&(l=r),i=Wt(i),l=zl({},l,P,dg);var E=zl({},l.imports,P.imports,dg),M=Nn(E),F=Gd(E,M),U,Q,Pe=0,Ie=l.interpolate||rl,Te="__p += '",$e=Kd((l.escape||rl).source+"|"+Ie.source+"|"+(Ie===Ad?L1:rl).source+"|"+(l.evaluate||rl).source+"|$","g"),qe="//# sourceURL="+(Ut.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++fw+"]")+`
`;i.replace($e,function(lt,Pt,Tt,Er,or,Tr){return Tt||(Tt=Er),Te+=i.slice(Pe,Tr).replace(z1,Ow),Pt&&(U=!0,Te+=`' +
__e(`+Pt+`) +
'`),or&&(Q=!0,Te+=`';
`+or+`;
__p += '`),Tt&&(Te+=`' +
((__t = (`+Tt+`)) == null ? '' : __t) +
'`),Pe=Tr+lt.length,lt}),Te+=`';
`;var at=Ut.call(l,"variable")&&l.variable;if(!at)Te=`with (obj) {
`+Te+`
}
`;else if(M1.test(at))throw new ut(d);Te=(Q?Te.replace(En,""):Te).replace(Vn,"$1").replace(Sr,"$1;"),Te="function("+(at||"obj")+`) {
`+(at?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(U?", __e = _.escape":"")+(Q?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Te+`return __p
}`;var gt=nb(function(){return Mt(M,qe+"return "+Te).apply(r,F)});if(gt.source=Te,_u(gt))throw gt;return gt}function oE(i){return Wt(i).toLowerCase()}function iE(i){return Wt(i).toUpperCase()}function aE(i,l,f){if(i=Wt(i),i&&(f||l===r))return um(i);if(!i||!(l=Dr(l)))return i;var P=ts(i),E=ts(l),M=hm(P,E),F=fm(P,E)+1;return Qs(P,M,F).join("")}function lE(i,l,f){if(i=Wt(i),i&&(f||l===r))return i.slice(0,xm(i)+1);if(!i||!(l=Dr(l)))return i;var P=ts(i),E=fm(P,ts(l))+1;return Qs(P,0,E).join("")}function cE(i,l,f){if(i=Wt(i),i&&(f||l===r))return i.replace(_d,"");if(!i||!(l=Dr(l)))return i;var P=ts(i),E=hm(P,ts(l));return Qs(P,E).join("")}function dE(i,l){var f=W,P=H;if(hn(l)){var E="separator"in l?l.separator:E;f="length"in l?xt(l.length):f,P="omission"in l?Dr(l.omission):P}i=Wt(i);var M=i.length;if(Ko(i)){var F=ts(i);M=F.length}if(f>=M)return i;var U=f-Jo(P);if(U<1)return P;var Q=F?Qs(F,0,U).join(""):i.slice(0,U);if(E===r)return Q+P;if(F&&(U+=Q.length-U),Ou(E)){if(i.slice(U).search(E)){var Pe,Ie=Q;for(E.global||(E=Kd(E.source,Wt(Ox.exec(E))+"g")),E.lastIndex=0;Pe=E.exec(Ie);)var Te=Pe.index;Q=Q.slice(0,Te===r?U:Te)}}else if(i.indexOf(Dr(E),U)!=U){var $e=Q.lastIndexOf(E);$e>-1&&(Q=Q.slice(0,$e))}return Q+P}function uE(i){return i=Wt(i),i&&Id.test(i)?i.replace(vo,Ww):i}var hE=ri(function(i,l,f){return i+(f?" ":"")+l.toUpperCase()}),Nu=rg("toUpperCase");function tb(i,l,f){return i=Wt(i),l=f?r:l,l===r?Mw(i)?Uw(i):Dw(i):i.match(l)||[]}var nb=vt(function(i,l){try{return Cr(i,r,l)}catch(f){return _u(f)?f:new ut(f)}}),fE=As(function(i,l){return Lr(l,function(f){f=gs(f),Es(i,f,Au(i[f],i))}),i});function pE(i){var l=i==null?0:i.length,f=it();return i=l?cn(i,function(P){if(typeof P[1]!="function")throw new $r(c);return[f(P[0]),P[1]]}):[],vt(function(P){for(var E=-1;++E<l;){var M=i[E];if(Cr(M[0],this,P))return Cr(M[1],this,P)}})}function xE(i){return WC(Wr(i,p))}function Lu(i){return function(){return i}}function mE(i,l){return i==null||i!==i?l:i}var gE=og(),bE=og(!0);function pr(i){return i}function $u(i){return Mm(typeof i=="function"?i:Wr(i,p))}function yE(i){return Lm(Wr(i,p))}function vE(i,l){return $m(i,Wr(l,p))}var jE=vt(function(i,l){return function(f){return Zi(f,i,l)}}),SE=vt(function(i,l){return function(f){return Zi(i,f,l)}});function Fu(i,l,f){var P=Nn(l),E=Pl(l,P);f==null&&!(hn(l)&&(E.length||!P.length))&&(f=l,l=i,i=this,E=Pl(l,Nn(l)));var M=!(hn(f)&&"chain"in f)||!!f.chain,F=_s(i);return Lr(E,function(U){var Q=l[U];i[U]=Q,F&&(i.prototype[U]=function(){var Pe=this.__chain__;if(M||Pe){var Ie=i(this.__wrapped__),Te=Ie.__actions__=ur(this.__actions__);return Te.push({func:Q,args:arguments,thisArg:i}),Ie.__chain__=Pe,Ie}return Q.apply(i,Ys([this.value()],arguments))})}),i}function wE(){return Un._===this&&(Un._=Kw),this}function Wu(){}function CE(i){return i=xt(i),vt(function(l){return Fm(l,i)})}var PE=gu(cn),DE=gu(im),IE=gu(Vd);function rb(i){return Cu(i)?Ud(gs(i)):r2(i)}function EE(i){return function(l){return i==null?r:Do(i,l)}}var TE=ag(),AE=ag(!0);function Bu(){return[]}function Vu(){return!1}function RE(){return{}}function _E(){return""}function OE(){return!0}function kE(i,l){if(i=xt(i),i<1||i>X)return[];var f=re,P=qn(i,re);l=it(l),i-=re;for(var E=Yd(P,l);++f<i;)l(f);return E}function ME(i){return ht(i)?cn(i,gs):Ir(i)?[i]:ur(wg(Wt(i)))}function NE(i){var l=++Gw;return Wt(i)+l}var LE=Rl(function(i,l){return i+l},0),$E=bu("ceil"),FE=Rl(function(i,l){return i/l},1),WE=bu("floor");function BE(i){return i&&i.length?Cl(i,pr,ru):r}function VE(i,l){return i&&i.length?Cl(i,it(l,2),ru):r}function UE(i){return cm(i,pr)}function zE(i,l){return cm(i,it(l,2))}function HE(i){return i&&i.length?Cl(i,pr,au):r}function YE(i,l){return i&&i.length?Cl(i,it(l,2),au):r}var GE=Rl(function(i,l){return i*l},1),qE=bu("round"),KE=Rl(function(i,l){return i-l},0);function JE(i){return i&&i.length?Hd(i,pr):0}function XE(i,l){return i&&i.length?Hd(i,it(l,2)):0}return k.after=yD,k.ary=kg,k.assign=iI,k.assignIn=qg,k.assignInWith=zl,k.assignWith=aI,k.at=lI,k.before=Mg,k.bind=Au,k.bindAll=fE,k.bindKey=Ng,k.castArray=RD,k.chain=Rg,k.chunk=W2,k.compact=B2,k.concat=V2,k.cond=pE,k.conforms=xE,k.constant=Lu,k.countBy=JP,k.create=cI,k.curry=Lg,k.curryRight=$g,k.debounce=Fg,k.defaults=dI,k.defaultsDeep=uI,k.defer=vD,k.delay=jD,k.difference=U2,k.differenceBy=z2,k.differenceWith=H2,k.drop=Y2,k.dropRight=G2,k.dropRightWhile=q2,k.dropWhile=K2,k.fill=J2,k.filter=QP,k.flatMap=tD,k.flatMapDeep=nD,k.flatMapDepth=rD,k.flatten=Ig,k.flattenDeep=X2,k.flattenDepth=Q2,k.flip=SD,k.flow=gE,k.flowRight=bE,k.fromPairs=Z2,k.functions=bI,k.functionsIn=yI,k.groupBy=sD,k.initial=tP,k.intersection=nP,k.intersectionBy=rP,k.intersectionWith=sP,k.invert=jI,k.invertBy=SI,k.invokeMap=iD,k.iteratee=$u,k.keyBy=aD,k.keys=Nn,k.keysIn=fr,k.map=$l,k.mapKeys=CI,k.mapValues=PI,k.matches=yE,k.matchesProperty=vE,k.memoize=Wl,k.merge=DI,k.mergeWith=Kg,k.method=jE,k.methodOf=SE,k.mixin=Fu,k.negate=Bl,k.nthArg=CE,k.omit=II,k.omitBy=EI,k.once=wD,k.orderBy=lD,k.over=PE,k.overArgs=CD,k.overEvery=DE,k.overSome=IE,k.partial=Ru,k.partialRight=Wg,k.partition=cD,k.pick=TI,k.pickBy=Jg,k.property=rb,k.propertyOf=EE,k.pull=lP,k.pullAll=Tg,k.pullAllBy=cP,k.pullAllWith=dP,k.pullAt=uP,k.range=TE,k.rangeRight=AE,k.rearg=PD,k.reject=hD,k.remove=hP,k.rest=DD,k.reverse=Eu,k.sampleSize=pD,k.set=RI,k.setWith=_I,k.shuffle=xD,k.slice=fP,k.sortBy=bD,k.sortedUniq=vP,k.sortedUniqBy=jP,k.split=tE,k.spread=ID,k.tail=SP,k.take=wP,k.takeRight=CP,k.takeRightWhile=PP,k.takeWhile=DP,k.tap=BP,k.throttle=ED,k.thru=Ll,k.toArray=Hg,k.toPairs=Xg,k.toPairsIn=Qg,k.toPath=ME,k.toPlainObject=Gg,k.transform=OI,k.unary=TD,k.union=IP,k.unionBy=EP,k.unionWith=TP,k.uniq=AP,k.uniqBy=RP,k.uniqWith=_P,k.unset=kI,k.unzip=Tu,k.unzipWith=Ag,k.update=MI,k.updateWith=NI,k.values=ii,k.valuesIn=LI,k.without=OP,k.words=tb,k.wrap=AD,k.xor=kP,k.xorBy=MP,k.xorWith=NP,k.zip=LP,k.zipObject=$P,k.zipObjectDeep=FP,k.zipWith=WP,k.entries=Xg,k.entriesIn=Qg,k.extend=qg,k.extendWith=zl,Fu(k,k),k.add=LE,k.attempt=nb,k.camelCase=BI,k.capitalize=Zg,k.ceil=$E,k.clamp=$I,k.clone=_D,k.cloneDeep=kD,k.cloneDeepWith=MD,k.cloneWith=OD,k.conformsTo=ND,k.deburr=eb,k.defaultTo=mE,k.divide=FE,k.endsWith=VI,k.eq=rs,k.escape=UI,k.escapeRegExp=zI,k.every=XP,k.find=ZP,k.findIndex=Pg,k.findKey=hI,k.findLast=eD,k.findLastIndex=Dg,k.findLastKey=fI,k.floor=WE,k.forEach=_g,k.forEachRight=Og,k.forIn=pI,k.forInRight=xI,k.forOwn=mI,k.forOwnRight=gI,k.get=ku,k.gt=LD,k.gte=$D,k.has=vI,k.hasIn=Mu,k.head=Eg,k.identity=pr,k.includes=oD,k.indexOf=eP,k.inRange=FI,k.invoke=wI,k.isArguments=To,k.isArray=ht,k.isArrayBuffer=FD,k.isArrayLike=hr,k.isArrayLikeObject=vn,k.isBoolean=WD,k.isBuffer=Zs,k.isDate=BD,k.isElement=VD,k.isEmpty=UD,k.isEqual=zD,k.isEqualWith=HD,k.isError=_u,k.isFinite=YD,k.isFunction=_s,k.isInteger=Bg,k.isLength=Vl,k.isMap=Vg,k.isMatch=GD,k.isMatchWith=qD,k.isNaN=KD,k.isNative=JD,k.isNil=QD,k.isNull=XD,k.isNumber=Ug,k.isObject=hn,k.isObjectLike=bn,k.isPlainObject=oa,k.isRegExp=Ou,k.isSafeInteger=ZD,k.isSet=zg,k.isString=Ul,k.isSymbol=Ir,k.isTypedArray=oi,k.isUndefined=eI,k.isWeakMap=tI,k.isWeakSet=nI,k.join=oP,k.kebabCase=HI,k.last=Vr,k.lastIndexOf=iP,k.lowerCase=YI,k.lowerFirst=GI,k.lt=rI,k.lte=sI,k.max=BE,k.maxBy=VE,k.mean=UE,k.meanBy=zE,k.min=HE,k.minBy=YE,k.stubArray=Bu,k.stubFalse=Vu,k.stubObject=RE,k.stubString=_E,k.stubTrue=OE,k.multiply=GE,k.nth=aP,k.noConflict=wE,k.noop=Wu,k.now=Fl,k.pad=qI,k.padEnd=KI,k.padStart=JI,k.parseInt=XI,k.random=WI,k.reduce=dD,k.reduceRight=uD,k.repeat=QI,k.replace=ZI,k.result=AI,k.round=qE,k.runInContext=J,k.sample=fD,k.size=mD,k.snakeCase=eE,k.some=gD,k.sortedIndex=pP,k.sortedIndexBy=xP,k.sortedIndexOf=mP,k.sortedLastIndex=gP,k.sortedLastIndexBy=bP,k.sortedLastIndexOf=yP,k.startCase=nE,k.startsWith=rE,k.subtract=KE,k.sum=JE,k.sumBy=XE,k.template=sE,k.times=kE,k.toFinite=Os,k.toInteger=xt,k.toLength=Yg,k.toLower=oE,k.toNumber=Ur,k.toSafeInteger=oI,k.toString=Wt,k.toUpper=iE,k.trim=aE,k.trimEnd=lE,k.trimStart=cE,k.truncate=dE,k.unescape=uE,k.uniqueId=NE,k.upperCase=hE,k.upperFirst=Nu,k.each=_g,k.eachRight=Og,k.first=Eg,Fu(k,function(){var i={};return xs(k,function(l,f){Ut.call(k.prototype,f)||(i[f]=l)}),i}(),{chain:!1}),k.VERSION=s,Lr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){k[i].placeholder=k}),Lr(["drop","take"],function(i,l){Et.prototype[i]=function(f){f=f===r?1:On(xt(f),0);var P=this.__filtered__&&!l?new Et(this):this.clone();return P.__filtered__?P.__takeCount__=qn(f,P.__takeCount__):P.__views__.push({size:qn(f,re),type:i+(P.__dir__<0?"Right":"")}),P},Et.prototype[i+"Right"]=function(f){return this.reverse()[i](f).reverse()}}),Lr(["filter","map","takeWhile"],function(i,l){var f=l+1,P=f==Z||f==q;Et.prototype[i]=function(E){var M=this.clone();return M.__iteratees__.push({iteratee:it(E,3),type:f}),M.__filtered__=M.__filtered__||P,M}}),Lr(["head","last"],function(i,l){var f="take"+(l?"Right":"");Et.prototype[i]=function(){return this[f](1).value()[0]}}),Lr(["initial","tail"],function(i,l){var f="drop"+(l?"":"Right");Et.prototype[i]=function(){return this.__filtered__?new Et(this):this[f](1)}}),Et.prototype.compact=function(){return this.filter(pr)},Et.prototype.find=function(i){return this.filter(i).head()},Et.prototype.findLast=function(i){return this.reverse().find(i)},Et.prototype.invokeMap=vt(function(i,l){return typeof i=="function"?new Et(this):this.map(function(f){return Zi(f,i,l)})}),Et.prototype.reject=function(i){return this.filter(Bl(it(i)))},Et.prototype.slice=function(i,l){i=xt(i);var f=this;return f.__filtered__&&(i>0||l<0)?new Et(f):(i<0?f=f.takeRight(-i):i&&(f=f.drop(i)),l!==r&&(l=xt(l),f=l<0?f.dropRight(-l):f.take(l-i)),f)},Et.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},Et.prototype.toArray=function(){return this.take(re)},xs(Et.prototype,function(i,l){var f=/^(?:filter|find|map|reject)|While$/.test(l),P=/^(?:head|last)$/.test(l),E=k[P?"take"+(l=="last"?"Right":""):l],M=P||/^find/.test(l);E&&(k.prototype[l]=function(){var F=this.__wrapped__,U=P?[1]:arguments,Q=F instanceof Et,Pe=U[0],Ie=Q||ht(F),Te=function(Pt){var Tt=E.apply(k,Ys([Pt],U));return P&&$e?Tt[0]:Tt};Ie&&f&&typeof Pe=="function"&&Pe.length!=1&&(Q=Ie=!1);var $e=this.__chain__,qe=!!this.__actions__.length,at=M&&!$e,gt=Q&&!qe;if(!M&&Ie){F=gt?F:new Et(this);var lt=i.apply(F,U);return lt.__actions__.push({func:Ll,args:[Te],thisArg:r}),new Fr(lt,$e)}return at&&gt?i.apply(this,U):(lt=this.thru(Te),at?P?lt.value()[0]:lt.value():lt)})}),Lr(["pop","push","shift","sort","splice","unshift"],function(i){var l=cl[i],f=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",P=/^(?:pop|shift)$/.test(i);k.prototype[i]=function(){var E=arguments;if(P&&!this.__chain__){var M=this.value();return l.apply(ht(M)?M:[],E)}return this[f](function(F){return l.apply(ht(F)?F:[],E)})}}),xs(Et.prototype,function(i,l){var f=k[l];if(f){var P=f.name+"";Ut.call(ei,P)||(ei[P]=[]),ei[P].push({name:l,func:f})}}),ei[Al(r,D).name]=[{name:"wrapper",func:r}],Et.prototype.clone=uC,Et.prototype.reverse=hC,Et.prototype.value=fC,k.prototype.at=VP,k.prototype.chain=UP,k.prototype.commit=zP,k.prototype.next=HP,k.prototype.plant=GP,k.prototype.reverse=qP,k.prototype.toJSON=k.prototype.valueOf=k.prototype.value=KP,k.prototype.first=k.prototype.head,Yi&&(k.prototype[Yi]=YP),k},Xo=zw();jo?((jo.exports=Xo)._=Xo,$d._=Xo):Un._=Xo}).call(ia)})(Cc,Cc.exports);var PO=Cc.exports;const li={ALL:0,NEWS:1,CHANNELS:2,USERS:3,POLLS:4,TAGS:5},Ku={RELEVANCE:0,DATE:1,POPULARITY:2},Z0={all:li.ALL,news:li.NEWS,channels:li.CHANNELS,users:li.USERS,polls:li.POLLS,tags:li.TAGS},ev={relevance:Ku.RELEVANCE,date:Ku.DATE,popularity:Ku.POPULARITY},DO=()=>{const[e,n]=g.useState(null),[r,s]=g.useState(!1),{api:o}=Xe(),{execute:a}=nt(),[c,d]=g.useState(null),u=g.useCallback(async(m,y={},b=1,S=20)=>{if(!m.trim()){d("Search query cannot be empty");return}s(!0),d(null);try{const j={};Object.entries(y).forEach(([I,T])=>{if(T!=null&&T!=="")if(I==="type"&&typeof T=="string"){const _=Z0[T];_!==void 0&&(j.type=_)}else if(I==="sortBy"&&typeof T=="string"){const _=ev[T];_!==void 0&&(j.sortBy=_)}else j[I]=T});const D={page:b,limit:S},w=await a(()=>o==null?void 0:o.searchApi.search(m,j,D),{showSuccessMessage:!1});n(w)}catch(j){console.error("Search error:",j),d(j.message||"Search failed")}finally{s(!1)}},[a]),h=g.useCallback(async(m,y)=>{if(!m.trim()||m.length<2)return[];try{return(await a(()=>o==null?void 0:o.searchApi.getSuggestions(m,y),{showSuccessMessage:!1})).suggestions||[]}catch(b){return console.error("Suggestions error:",b),[]}},[a]),x=g.useCallback(async(m,y)=>{if(!m.trim()||m.length<2)return[];if(!(o!=null&&o.searchApi))return console.error("Search API not available"),[];try{const b=await a(()=>o.searchApi.getStructuredSuggestions(m,y),{showSuccessMessage:!1});return(b==null?void 0:b.suggestions)||[]}catch(b){return console.error("Structured suggestions error:",b),[]}},[a,o==null?void 0:o.searchApi]),p=g.useCallback(()=>{n(null),d(null)},[]);return{searchResults:e,loading:r,error:c,performSearch:u,getSuggestions:h,getStructuredSuggestions:x,clearResults:p}},IO=ke(C,{shouldForwardProp:e=>e!=="isFocused"})(({theme:e,isFocused:n})=>({position:"relative",width:n?"600px":"480px",maxWidth:n?"600px":"480px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",[e.breakpoints.down("lg")]:{width:n?"560px":"460px",maxWidth:n?"560px":"460px"},[e.breakpoints.down("md")]:{width:n?"400px":"360px",maxWidth:n?"400px":"360px"},[e.breakpoints.down("sm")]:{width:n?"320px":"280px",maxWidth:n?"320px":"280px"}})),EO=ke(ot)(({theme:e})=>({borderRadius:e.spacing(3),backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.04)",border:"none",transition:"all 0.2s ease-in-out","&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.08)"},"&:focus-within":{backgroundColor:e.palette.background.paper,boxShadow:"0 4px 20px rgba(0,0,0,0.15)",border:`1px solid ${e.palette.primary.main}`}})),TO=ke(C)(({theme:e})=>({display:"flex",alignItems:"center",padding:e.spacing(1,2),cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover}})),Eh=({onSearch:e,onSuggestionSelect:n,placeholder:r="Search articles, channels, or journalists...",className:s,fullWidth:o=!1})=>{const[a,c]=g.useState(""),[d,u]=g.useState([]),[h,x]=g.useState(!1),[p,m]=g.useState(!1),[y,b]=g.useState(!1),{getStructuredSuggestions:S}=DO(),j=Ct(),D=g.useCallback(PO.debounce(async O=>{if(O.length<2){u([]);return}x(!0);try{const A=await S(O);u(A)}catch(A){console.error("Error fetching suggestions:",A),u([])}finally{x(!1)}},300),[]);g.useEffect(()=>{D(a)},[a,D]);const w=()=>{a.trim()&&(m(!1),e?e(a):j(`${ve.APP_SEARCH}?q=${encodeURIComponent(a.trim())}`))},I=O=>{if(m(!1),c(""),n){const A={id:O.id,text:O.text,type:O.type,metadata:O.metadata};n(A);return}switch(O.type){case"news":j(ve.APP_NEWS_VIEW.replace(":id",O.id));break;case"channel":j(ve.APP_CHANNEL_VIEW.replace(":channelId",O.id));break;case"poll":j(ve.APP_POLL_VIEW.replace(":id",O.id));break;case"user":j(`${ve.APP_SEARCH}?q=${encodeURIComponent(O.text)}&type=users`);break;case"tag":j(`${ve.APP_SEARCH}?q=${encodeURIComponent(O.text)}&type=tags`);break;default:j(`${ve.APP_SEARCH}?q=${encodeURIComponent(O.text)}`);break}},T=O=>{O.key==="Enter"&&w()},_=O=>{switch(O){case"news":return t.jsx($o,{fontSize:"small",color:"primary"});case"channel":return t.jsx(ef,{fontSize:"small",color:"secondary"});case"user":return t.jsx(Zh,{fontSize:"small",color:"action"});default:return t.jsx(us,{fontSize:"small",color:"disabled"})}},R=(O,A)=>g.createElement(TO,{...O,key:A.id},t.jsx(C,{sx:{mr:2},children:_(A.type)}),t.jsxs(C,{sx:{flexGrow:1},children:[t.jsx(v,{variant:"body2",fontWeight:"medium",children:A.text}),A.metadata&&t.jsxs(v,{variant:"caption",color:"text.secondary",children:[A.metadata.channelName&&`in ${A.metadata.channelName}`,A.metadata.handle&&`@${A.metadata.handle}`,A.metadata.voteCount&&`${A.metadata.voteCount} votes`,A.metadata.usageCount&&`${A.metadata.usageCount} uses`,A.metadata.publishedAt&&`${new Date(A.metadata.publishedAt).toLocaleDateString()}`]})]}),t.jsx(v,{variant:"caption",color:"text.secondary",sx:{ml:1},children:A.type}));return t.jsx(IO,{className:s,isFocused:y,sx:{width:o?"100%":void 0},children:t.jsx(EO,{elevation:0,children:t.jsx(nT,{freeSolo:!0,options:d,loading:h,inputValue:a,onInputChange:(O,A)=>{c(A),m(A.length>=2)},getOptionLabel:O=>typeof O=="string"?O:O.text,filterOptions:O=>O,isOptionEqualToValue:(O,A)=>{if(typeof O=="string"||typeof A=="string"){const L=typeof O=="string"?O:O.text,W=typeof A=="string"?A:A.text;return L===W}return O.id===A.id},renderOption:(O,A)=>R(O,A),noOptionsText:h?"Loading...":"No suggestions found",open:p,onOpen:()=>m(!0),onClose:()=>{m(!1),b(!1)},ListboxProps:{style:{maxHeight:400}},renderInput:O=>t.jsx(rt,{...O,variant:"outlined",placeholder:y?r:"Search...",onKeyPress:T,onFocus:()=>b(!0),onBlur:()=>{setTimeout(()=>{p||b(!1)},200)},size:"medium",InputProps:{...O.InputProps,startAdornment:t.jsx(Qr,{position:"start",children:t.jsx(Le,{onClick:w,size:"small",sx:{color:"inherit"},children:t.jsx(Ua,{})})}),endAdornment:t.jsxs(t.Fragment,{children:[h&&t.jsx(v,{variant:"caption",sx:{mr:1},children:"Loading..."}),a&&t.jsx(Qr,{position:"end",children:t.jsx(Le,{onClick:()=>c(""),size:"small",sx:{color:"inherit"},children:t.jsx(rT,{})})})]}),sx:{"& .MuiOutlinedInput-notchedOutline":{border:"none"},"&:hover .MuiOutlinedInput-notchedOutline":{border:"none"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiInputBase-input":{padding:"12px 8px",fontSize:"1rem"},"& .MuiInputBase-input::placeholder":{color:"inherit",opacity:.7}}}}),PaperComponent:({children:O,...A})=>t.jsx(ot,{...A,sx:{mt:.5,boxShadow:3,maxHeight:400,overflow:"auto",position:"absolute",width:"100%",zIndex:1300,borderRadius:3},children:O}),onChange:(O,A)=>{A&&typeof A=="object"&&I(A)}})})})},AO="journalist-material-client",RO="1.1.0",_O="module",OO="https://cantsdmr.github.io/journalist-material-client",kO={dev:"vite","dev:staging":"vite --mode staging",build:"tsc && vite build","build:dev":"tsc && vite build --mode dev","build:staging":"tsc && vite build --mode staging","build:prod":"tsc && vite build --mode production",lint:"eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0",preview:"vite preview","preview:staging":"vite preview --mode staging",predeploy:"npm run build:staging",deploy:"gh-pages -d dist"},MO={"@editorjs/checklist":"^1.6.0","@editorjs/code":"^2.9.3","@editorjs/delimiter":"^1.4.2","@editorjs/editorjs":"^2.30.7","@editorjs/header":"^2.8.8","@editorjs/image":"^2.10.1","@editorjs/inline-code":"^1.5.1","@editorjs/link":"^2.6.2","@editorjs/list":"^2.0.2","@editorjs/marker":"^1.4.0","@editorjs/quote":"^2.7.6","@editorjs/table":"^2.4.3","@editorjs/warning":"^1.4.1","@emotion/react":"^11.11.4","@emotion/styled":"^11.11.5","@hello-pangea/dnd":"^17.0.0","@mui/icons-material":"^5.15.17","@mui/material":"^5.15.17","@mui/x-date-pickers":"^8.3.1","@paypal/react-paypal-js":"^8.9.2",axios:"^1.7.2","class-transformer":"^0.5.1","class-validator":"^0.14.2","date-fns":"^4.1.0",firebase:"^10.12.2",react:"^18.2.0","react-dom":"^18.2.0","react-infinite-scroll-component":"^6.1.0","react-router-dom":"^6.23.1",recharts:"^2.12.7"},NO={"@types/react":"^18.2.66","@types/react-dom":"^18.2.22","@typescript-eslint/eslint-plugin":"^7.2.0","@typescript-eslint/parser":"^7.2.0","@vitejs/plugin-react":"^4.2.1",eslint:"^8.57.0","eslint-plugin-react-hooks":"^4.6.0","eslint-plugin-react-refresh":"^0.4.6","gh-pages":"^6.3.0",typescript:"^5.2.2",vite:"^5.2.0"},LO={name:AO,private:!0,version:RO,type:_O,homepage:OO,scripts:kO,dependencies:MO,devDependencies:NO},$O=LO.version,FO=()=>{const e=zc("(max-width:600px)"),[n,r]=g.useState(!e),s=xn(),{isLoading:o}=ed(),[a,c]=g.useState(!1),[d,u]=g.useState(null),h=Ct(),x=xo();g.useEffect(()=>{e&&r(!1)},[e]);const p=()=>{r(!n)},m=I=>{h(`${ve.APP_SEARCH}?q=${encodeURIComponent(I)}`),c(!1)},y=()=>{c(!a)},b=I=>{u(I.currentTarget)},S=()=>{u(null)},j=()=>{S(),h(ve.APP_ACCOUNT)},D=()=>{S(),h(ve.STUDIO_ROOT)},w=async()=>{S();try{await(x==null?void 0:x.signOut()),h(ve.LOGIN)}catch(I){console.error("Logout error:",I)}};return o?null:t.jsxs(C,{sx:{display:"flex",minHeight:"100vh",bgcolor:"background.default",overflow:"hidden"},children:[t.jsx(Hc,{position:"fixed",elevation:0,sx:{zIndex:s.zIndex.drawer+1,bgcolor:"background.default",color:"text.primary",boxShadow:"none",borderBottom:"none"},children:t.jsx(Ls,{sx:{px:"8px"},children:a&&e?t.jsxs(C,{sx:{display:"flex",alignItems:"center",width:"100%",gap:1},children:[t.jsx(Le,{color:"inherit",onClick:y,sx:{flexShrink:0},children:t.jsx(yf,{})}),t.jsx(C,{sx:{flexGrow:1,mt:.5},children:t.jsx(Eh,{onSearch:m,placeholder:"Search",className:"app-search-bar"})})]}):t.jsxs(t.Fragment,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",position:"absolute",left:0},children:[t.jsx(Le,{color:"inherit","aria-label":"toggle sidebar",onClick:p,sx:{minWidth:40,ml:.5,mr:1.5,"& .MuiSvgIcon-root":{fontSize:24,filter:"drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))"}},children:t.jsx(J0,{})}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsxs(v,{variant:"h6",sx:{fontWeight:700,display:"block",letterSpacing:".1rem",fontFamily:"'Inter', -apple-system, sans-serif"},children:[t.jsxs(C,{sx:{display:{xs:"none",sm:"block"}},children:[t.jsx("span",{style:{color:"#2196F3",textTransform:"uppercase",fontWeight:800},children:"Meta"}),t.jsx("span",{style:{color:"#1976D2",fontWeight:600},children:"Journo"})]}),t.jsxs(C,{sx:{display:{xs:"block",sm:"none"}},children:[t.jsx("span",{style:{color:"#2196F3",textTransform:"uppercase",fontWeight:800},children:"M"}),t.jsx("span",{style:{color:"#1976D2",fontWeight:600},children:"Journo"})]})]}),t.jsxs(v,{variant:"caption",sx:{opacity:.7,fontWeight:500,fontSize:"0.75rem",display:{xs:"none",sm:"block"}},children:["v",$O]})]})]}),t.jsx(C,{sx:{position:"absolute",left:"50%",transform:"translateX(-50%)",display:{xs:"none",md:"flex"}},children:t.jsx(Eh,{onSearch:m,placeholder:"Search articles, channels, journalists...",className:"app-search-bar"})}),t.jsx(C,{sx:{flexGrow:1}}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Le,{onClick:y,color:"inherit",sx:{display:{xs:"flex",md:"none"}},children:t.jsx(Ya,{})}),t.jsx(Le,{onClick:b,color:"inherit","aria-controls":d?"profile-menu":void 0,"aria-haspopup":"true","aria-expanded":d?"true":void 0,children:t.jsx(nd,{})})]})]})})}),t.jsxs(uo,{id:"profile-menu",anchorEl:d,open:!!d,onClose:S,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{elevation:3,sx:{mt:1.5,minWidth:200,borderRadius:2,overflow:"visible","& .MuiMenuItem-root":{py:1.5,px:2}}},children:[t.jsxs(Ce,{onClick:j,children:[t.jsx(qt,{children:t.jsx(qa,{fontSize:"small"})}),t.jsx(Ht,{children:"Profile"})]}),t.jsxs(Ce,{onClick:D,children:[t.jsx(qt,{children:t.jsx(X0,{fontSize:"small"})}),t.jsx(Ht,{children:"Creator Studio"})]}),t.jsx(Lt,{}),t.jsxs(Ce,{onClick:w,children:[t.jsx(qt,{children:t.jsx(Q0,{fontSize:"small"})}),t.jsx(Ht,{children:"Logout"})]})]}),e?t.jsxs(ji,{variant:"temporary",open:n,onClose:p,ModalProps:{keepMounted:!0},PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{width:240,border:"none"}},children:[t.jsx(Ls,{}),t.jsx(C,{sx:{height:"calc(100% - 64px)",overflow:"auto"},children:t.jsx(wb,{isOpen:!0,toggleSidebar:p})})]}):t.jsxs(ji,{variant:"permanent",PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{width:n?240:72,flexShrink:0,"& .MuiDrawer-paper":{width:n?240:72,transition:"width 0.2s",overflowX:"hidden",border:"none",borderRight:"none"}},children:[t.jsx(Ls,{}),t.jsx(C,{sx:{height:"calc(100% - 64px)",overflow:"auto",overflowX:"hidden",width:"100%"},children:t.jsx(wb,{isOpen:n,toggleSidebar:p})})]}),t.jsx(C,{component:"main",sx:{flexGrow:1,pt:8,minHeight:"100vh",display:"flex",flexDirection:"column",bgcolor:"background.default",overflow:"hidden",width:"100%"},children:t.jsx(C,{sx:{flexGrow:1,py:3,px:{xs:2,sm:3},overflowY:"auto",overflowX:"hidden",width:"100%",marginLeft:0,marginRight:"auto"},children:t.jsx(df,{})})})]})};var Rf={},WO=Ze;Object.defineProperty(Rf,"__esModule",{value:!0});var _f=Rf.default=void 0,BO=WO(et()),VO=t;_f=Rf.default=(0,BO.default)((0,VO.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");var Of={},UO=Ze;Object.defineProperty(Of,"__esModule",{value:!0});var kf=Of.default=void 0,zO=UO(et()),HO=t;kf=Of.default=(0,zO.default)((0,HO.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6"}),"Brightness4");var Mf={},YO=Ze;Object.defineProperty(Mf,"__esModule",{value:!0});var Nf=Mf.default=void 0,GO=YO(et()),qO=t;Nf=Mf.default=(0,GO.default)((0,qO.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6m0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4"}),"Brightness7");const KO=i0({palette:{mode:"light",primary:{main:"#2196f3"},background:{default:"#ffffff",paper:"#f8f9fa"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)"}},typography:{fontFamily:"'Poppins', 'Inter', sans-serif",h6:{fontWeight:700,letterSpacing:.5}}}),JO=i0({palette:{mode:"dark",background:{default:"#121212",paper:"#1e1e1e"},text:{primary:"rgba(255, 255, 255, 0.87)",secondary:"rgba(255, 255, 255, 0.6)"}},typography:{fontFamily:"'Poppins', 'Inter', sans-serif",h6:{fontWeight:700,letterSpacing:.5}}}),tv=g.createContext({}),XO=({children:e})=>{const[n,r]=g.useState(window.matchMedia("(prefers-color-scheme: dark)").matches),s=()=>{r(!n)},o=g.useMemo(()=>n?JO:KO,[n]);return t.jsx(tv.Provider,{value:{isDarkMode:n,toggleTheme:s},children:t.jsxs(sT,{theme:o,children:[t.jsx(oT,{}),e]})})},Lf=()=>g.useContext(tv);var $f={},QO=Ze;Object.defineProperty($f,"__esModule",{value:!0});var nv=$f.default=void 0,ZO=QO(et()),ek=t;nv=$f.default=(0,ZO.default)((0,ek.jsx)("path",{d:"m22 3-1.67 1.67L18.67 3 17 4.67 15.33 3l-1.66 1.67L12 3l-1.67 1.67L8.67 3 7 4.67 5.33 3 3.67 4.67 2 3v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2zM11 19H4v-6h7zm9 0h-7v-2h7zm0-4h-7v-2h7zm0-4H4V8h16z"}),"Newspaper");var Ff={},tk=Ze;Object.defineProperty(Ff,"__esModule",{value:!0});var Wf=Ff.default=void 0,nk=tk(et()),Cb=t;Wf=Ff.default=(0,nk.default)([(0,Cb.jsx)("path",{d:"M17 19.22H5V7h7V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-7h-2z"},"0"),(0,Cb.jsx)("path",{d:"M19 2h-2v3h-3c.01.01 0 2 0 2h3v2.99c.01.01 2 0 2 0V7h3V5h-3zM7 9h8v2H7zm0 3v2h8v-2h-3zm0 3h8v2H7z"},"1")],"PostAdd");var Bf={},rk=Ze;Object.defineProperty(Bf,"__esModule",{value:!0});var Ka=Bf.default=void 0,sk=rk(et()),ok=t;Ka=Bf.default=(0,sk.default)((0,ok.jsx)("path",{d:"M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2m0 14H3V5h18zm-5-7v2h-3v3h-2v-3H8v-2h3V7h2v3z"}),"AddToQueue");var Vf={},ik=Ze;Object.defineProperty(Vf,"__esModule",{value:!0});var Uf=Vf.default=void 0,ak=ik(et()),lk=t;Uf=Vf.default=(0,ak.default)((0,lk.jsx)("path",{d:"M22 5v2h-3v3h-2V7h-3V5h3V2h2v3zm-3 14H5V5h6V3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6h-2zm-4-6v4h2v-4zm-4 4h2V9h-2zm-2 0v-6H7v6z"}),"Addchart");var zf={},ck=Ze;Object.defineProperty(zf,"__esModule",{value:!0});var rv=zf.default=void 0,dk=ck(et()),uk=t;rv=zf.default=(0,dk.default)((0,uk.jsx)("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}),"Receipt");var Hf={},hk=Ze;Object.defineProperty(Hf,"__esModule",{value:!0});var rd=Hf.default=void 0,fk=hk(et()),pk=t;rd=Hf.default=(0,fk.default)((0,pk.jsx)("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney");const xk=({mobileOpen:e,onDrawerToggle:n})=>{const r=po(),s=window.innerWidth<=600,o=[{path:ve.STUDIO_SEARCH,icon:t.jsx(Ya,{}),label:"Search"}],a={news:[{path:ve.STUDIO_NEWS,icon:t.jsx(nv,{}),label:"My News"},{path:ve.STUDIO_NEWS_CREATE,icon:t.jsx(Wf,{}),label:"Create News"}],channels:[{path:ve.STUDIO_CHANNELS,icon:t.jsx(wf,{}),label:"My Channels"},{path:ve.STUDIO_CHANNEL_CREATE,icon:t.jsx(Ka,{}),label:"Create Channel"}],polls:[{path:ve.STUDIO_POLLS,icon:t.jsx(td,{}),label:"My Polls"},{path:ve.STUDIO_POLL_CREATE,icon:t.jsx(Uf,{}),label:"Create Poll"}],payouts:[{path:ve.STUDIO_EXPENSE_ORDERS,icon:t.jsx(rv,{}),label:"My Payouts"},{path:ve.STUDIO_EXPENSE_ORDER_CREATE,icon:t.jsx(rd,{}),label:"Request Payout"}]},c=t.jsxs(C,{children:[t.jsx(Ls,{}),t.jsxs(vr,{sx:{px:2},children:[t.jsx(v,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"General"}),o.map(d=>t.jsxs(er,{button:!0,component:$n,to:d.path,selected:r.pathname===d.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(qt,{sx:{minWidth:40,color:r.pathname===d.path?"primary.main":"inherit"},children:d.icon}),t.jsx(Ht,{primary:d.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===d.path?600:400}})]},d.path)),t.jsx(Lt,{sx:{my:2}}),t.jsx(v,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"News Management"}),a.news.map(d=>t.jsxs(er,{button:!0,component:$n,to:d.path,selected:r.pathname===d.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(qt,{sx:{minWidth:40,color:r.pathname===d.path?"primary.main":"inherit"},children:d.icon}),t.jsx(Ht,{primary:d.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===d.path?600:400}})]},d.path)),t.jsx(Lt,{sx:{my:2}}),t.jsx(v,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"Channel Management"}),a.channels.map(d=>t.jsxs(er,{button:!0,component:$n,to:d.path,selected:r.pathname===d.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(qt,{sx:{minWidth:40,color:r.pathname===d.path?"primary.main":"inherit"},children:d.icon}),t.jsx(Ht,{primary:d.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===d.path?600:400}})]},d.path))]}),t.jsx(Lt,{sx:{my:2}}),t.jsxs(vr,{sx:{px:2},children:[t.jsx(v,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"Poll Management"}),a.polls.map(d=>t.jsxs(er,{button:!0,component:$n,to:d.path,selected:r.pathname===d.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(qt,{sx:{minWidth:40,color:r.pathname===d.path?"primary.main":"inherit"},children:d.icon}),t.jsx(Ht,{primary:d.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===d.path?600:400}})]},d.path))]}),t.jsx(Lt,{sx:{my:2}}),t.jsxs(vr,{sx:{px:2},children:[t.jsx(v,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"Payout Management"}),a.payouts.map(d=>t.jsxs(er,{button:!0,component:$n,to:d.path,selected:r.pathname===d.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(qt,{sx:{minWidth:40,color:r.pathname===d.path?"primary.main":"inherit"},children:d.icon}),t.jsx(Ht,{primary:d.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===d.path?600:400}})]},d.path))]})]});return t.jsx(t.Fragment,{children:s?t.jsx(ji,{variant:"temporary",open:e,onClose:n,ModalProps:{keepMounted:!0},PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{width:240,border:"none"}},children:c}):t.jsx(ji,{variant:"permanent",PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,transition:"width 0.2s",overflowX:"hidden",border:"none",borderRight:"none"}},children:c})})},mk=()=>{const[e,n]=g.useState(!1),[r,s]=g.useState(null),o=Ct(),a=xn(),{isDarkMode:c,toggleTheme:d}=Lf(),{isLoading:u}=ed(),h=()=>{n(!e)},x=S=>{s(S.currentTarget)},p=()=>{s(null)},m=S=>{o(S),p()},y=S=>{o(`${ve.STUDIO_SEARCH}?q=${encodeURIComponent(S)}`)},b=S=>{o(`${ve.STUDIO_SEARCH}?q=${encodeURIComponent(S.text)}`)};return u?null:t.jsxs(C,{sx:{display:"flex",minHeight:"100vh",bgcolor:"background.default"},children:[t.jsx(Hc,{position:"fixed",elevation:0,sx:{zIndex:a.zIndex.drawer+1,bgcolor:"background.default",color:"text.primary",boxShadow:"none",borderBottom:"none"},children:t.jsxs(Ls,{sx:{px:"8px"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",minWidth:200},children:[t.jsx(Le,{color:"inherit","aria-label":"toggle sidebar",onClick:h,sx:{minWidth:40,ml:.5,mr:1.5,"& .MuiSvgIcon-root":{fontSize:24,filter:"drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))"}},children:t.jsx(_f,{})}),t.jsxs(v,{variant:"h6",sx:{fontWeight:700,display:"block",letterSpacing:".1rem",fontFamily:"'Inter', -apple-system, sans-serif"},children:[t.jsx(C,{sx:{display:{xs:"none",sm:"block"}},children:"Creator Studio"}),t.jsx(C,{sx:{display:{xs:"block",sm:"none"}},children:"Studio"})]})]}),t.jsx(C,{sx:{flexGrow:1,display:"flex",justifyContent:"center"},children:t.jsx(Eh,{onSearch:y,onSuggestionSelect:b,placeholder:"Search your content and analytics...",className:"studio-search-bar"})}),t.jsx(Le,{onClick:d,color:"inherit",children:c?t.jsx(Nf,{}):t.jsx(kf,{})}),t.jsx(Le,{onClick:()=>o(ve.APP_ROOT),color:"inherit",sx:{ml:2},children:t.jsx(Di,{})}),t.jsx(Le,{onClick:x,color:"inherit",sx:{ml:2},children:t.jsx(nd,{})}),t.jsx(uo,{anchorEl:r,open:!!r,onClose:p,PaperProps:{sx:{width:220}},children:[{path:ve.APP_ROOT,icon:t.jsx(Di,{fontSize:"small"}),label:"Exit Studio"}].map(S=>t.jsxs(Ce,{onClick:()=>m(S.path),children:[t.jsx(qt,{children:S.icon}),t.jsx(Ht,{children:S.label})]},S.path))})]})}),t.jsx(xk,{mobileOpen:e,onDrawerToggle:h}),t.jsx(C,{component:"main",sx:{flexGrow:1,pt:8,width:0,minHeight:"100vh",display:"flex",flexDirection:"column",bgcolor:"background.default"},children:t.jsx(C,{sx:{flexGrow:1,py:3,px:{xs:2,sm:3},maxWidth:1200,mx:"auto",width:"100%"},children:t.jsx(df,{})})})]})};var Yf={},gk=Ze;Object.defineProperty(Yf,"__esModule",{value:!0});var Th=Yf.default=void 0,bk=gk(et()),yk=t;Th=Yf.default=(0,bk.default)((0,yk.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security");const Ju=280,vk=({mobileOpen:e,onDrawerToggle:n})=>{const r=Ct(),s=po(),o=[{text:"Dashboard",icon:t.jsx(a0,{}),path:ve.ADMIN_ROOT,exact:!0},{text:"News Management",icon:t.jsx($o,{}),path:ve.ADMIN_NEWS},{text:"Poll Management",icon:t.jsx(tf,{}),path:ve.ADMIN_POLLS},{text:"Channel Management",icon:t.jsx(ef,{}),path:ve.ADMIN_CHANNELS},{text:"User Management",icon:t.jsx(lo,{}),path:ve.ADMIN_USERS},{text:"Expense Orders",icon:t.jsx(Fs,{}),path:ve.ADMIN_EXPENSE_ORDERS},{text:"Payout Management",icon:t.jsx(Si,{}),path:ve.ADMIN_PAYOUTS},{text:"Tag Management",icon:t.jsx(nf,{}),path:ve.ADMIN_TAGS},{text:"Subscriptions",icon:t.jsx(wi,{}),path:ve.ADMIN_SUBSCRIPTIONS},{text:"Analytics",icon:t.jsx(as,{}),path:ve.ADMIN_ANALYTICS},{text:"Settings",icon:t.jsx(ac,{}),path:ve.ADMIN_SETTINGS}],a=u=>u.exact?s.pathname===u.path||s.pathname==="/admin"&&u.path===ve.ADMIN_ROOT:s.pathname.startsWith(u.path),c=u=>{r(u),e&&n()},d=t.jsxs(C,{children:[t.jsx(Ls,{sx:{px:3,py:2,bgcolor:"error.main",color:"error.contrastText"},children:t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[t.jsx(v,{variant:"h6",noWrap:!0,component:"div",sx:{fontWeight:700,flexGrow:1,fontFamily:"'Inter', -apple-system, sans-serif"},children:"Admin Panel"}),t.jsx(Ye,{label:"Admin",size:"small",sx:{bgcolor:"error.contrastText",color:"error.main",fontWeight:600}})]})}),t.jsx(Lt,{}),t.jsx(vr,{sx:{pt:2,px:2},children:o.map(u=>{const h=a(u);return t.jsx(er,{disablePadding:!0,sx:{mb:.5},children:t.jsxs(gh,{onClick:()=>c(u.path),sx:{borderRadius:2,px:2,py:1.5,minHeight:48,bgcolor:h?"error.main":"transparent",color:h?"error.contrastText":"text.primary","&:hover":{bgcolor:h?"error.dark":"action.hover"},"& .MuiListItemIcon-root":{color:h?"error.contrastText":"text.secondary",minWidth:36},transition:"all 0.2s ease-in-out"},children:[t.jsx(qt,{children:u.icon}),t.jsx(Ht,{primary:u.text,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:h?600:500,fontFamily:"'Inter', -apple-system, sans-serif"}})]})},u.text)})}),t.jsx(Lt,{sx:{my:2}}),t.jsx(vr,{sx:{px:2},children:t.jsx(er,{disablePadding:!0,children:t.jsxs(gh,{onClick:()=>c(ve.APP_ROOT),sx:{borderRadius:2,px:2,py:1.5,minHeight:48,color:"text.secondary","&:hover":{bgcolor:"action.hover"}},children:[t.jsx(qt,{sx:{color:"text.secondary",minWidth:36},children:t.jsx(iT,{})}),t.jsx(Ht,{primary:"Back to App",primaryTypographyProps:{fontSize:"0.875rem",fontWeight:500,fontFamily:"'Inter', -apple-system, sans-serif"}})]})})})]});return t.jsxs(C,{component:"nav",sx:{width:{sm:Ju},flexShrink:{sm:0}},children:[t.jsx(ji,{variant:"temporary",open:e,onClose:n,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:Ju,bgcolor:"background.paper",borderRight:"1px solid",borderRightColor:"divider"}},children:d}),t.jsx(ji,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:Ju,bgcolor:"background.paper",borderRight:"1px solid",borderRightColor:"divider"}},open:!0,children:d})]})},jk=()=>{const[e,n]=g.useState(!1),[r,s]=g.useState(null),o=Ct(),a=xn(),{isDarkMode:c,toggleTheme:d}=Lf(),{isLoading:u}=ed(),h=()=>{n(!e)},x=y=>{s(y.currentTarget)},p=()=>{s(null)},m=y=>{o(y),p()};return u?null:t.jsxs(C,{sx:{display:"flex",minHeight:"100vh",bgcolor:"background.default"},children:[t.jsx(Hc,{position:"fixed",elevation:0,sx:{zIndex:a.zIndex.drawer+1,bgcolor:"background.default",color:"text.primary",boxShadow:"none",borderBottom:"1px solid",borderBottomColor:"divider"},children:t.jsxs(Ls,{sx:{px:"8px"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",minWidth:200},children:[t.jsx(Le,{color:"inherit","aria-label":"toggle sidebar",onClick:h,sx:{minWidth:40,ml:.5,mr:1.5,"& .MuiSvgIcon-root":{fontSize:24,filter:"drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))"}},children:t.jsx(_f,{})}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Th,{sx:{color:"error.main"}}),t.jsxs(v,{variant:"h6",sx:{fontWeight:700,display:"block",letterSpacing:".1rem",fontFamily:"'Inter', -apple-system, sans-serif",color:"error.main"},children:[t.jsx(C,{sx:{display:{xs:"none",sm:"block"}},children:"Admin Panel"}),t.jsx(C,{sx:{display:{xs:"block",sm:"none"}},children:"Admin"})]})]})]}),t.jsx(C,{sx:{flexGrow:1}}),t.jsx(Le,{onClick:d,color:"inherit",children:c?t.jsx(Nf,{}):t.jsx(kf,{})}),t.jsx(Le,{onClick:()=>o(ve.APP_ROOT),color:"inherit",sx:{ml:2},children:t.jsx(Di,{})}),t.jsx(Le,{onClick:x,color:"inherit",sx:{ml:2},children:t.jsx(nd,{})}),t.jsx(uo,{anchorEl:r,open:!!r,onClose:p,PaperProps:{sx:{width:220}},children:[{path:ve.APP_ROOT,icon:t.jsx(Di,{fontSize:"small"}),label:"Exit Admin"},{path:ve.STUDIO_ROOT,icon:t.jsx(Th,{fontSize:"small"}),label:"Creator Studio"}].map(y=>t.jsxs(Ce,{onClick:()=>m(y.path),children:[t.jsx(qt,{children:y.icon}),t.jsx(Ht,{children:y.label})]},y.path))})]})}),t.jsx(vk,{mobileOpen:e,onDrawerToggle:h}),t.jsx(C,{component:"main",sx:{flexGrow:1,pt:8,width:0,minHeight:"100vh",display:"flex",flexDirection:"column",bgcolor:"background.default"},children:t.jsx(C,{sx:{flexGrow:1,py:3,px:{xs:2,sm:3},maxWidth:1400,mx:"auto",width:"100%"},children:t.jsx(df,{})})})]})},Xu=({children:e})=>{const n=xo();return n?n.user!=null?t.jsx(t.Fragment,{children:e}):t.jsx(mA,{to:ve.LOGIN}):null};var Gf={},Sk=Ze;Object.defineProperty(Gf,"__esModule",{value:!0});var qf=Gf.default=void 0;Pk(g);var wk=Sk(et()),Ck=t;function sv(e){if(typeof WeakMap!="function")return null;var n=new WeakMap,r=new WeakMap;return(sv=function(s){return s?r:n})(e)}function Pk(e,n){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=sv(n);if(r&&r.has(e))return r.get(e);var s={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var c=o?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(s,a,c):s[a]=e[a]}return s.default=e,r&&r.set(e,s),s}qf=Gf.default=(0,wk.default)((0,Ck.jsx)("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"}),"Google");const Dk=ke(xe)(({theme:e,bgcolor:n})=>({color:"#fff",backgroundColor:n,boxShadow:`0 2px 4px 0 ${n}80`,"&:hover":{backgroundColor:e.palette.augmentColor({color:{main:n}}).dark},"& .MuiButton-startIcon":{marginRight:e.spacing(1)}})),Ik=()=>{const[e,n]=g.useState(""),[r,s]=g.useState(""),[o,a]=g.useState(""),c=xo(),{api:d}=Xe(),u=Ct(),{execute:h}=nt(),x=async m=>{m.preventDefault(),a("");try{const y=await(c==null?void 0:c.signIn(e,r));y&&await h(()=>d==null?void 0:d.authApi.signIn({idToken:y}),{showSuccessMessage:!0,successMessage:"Successfully logged in!"})}catch{a("Failed to login with email and password")}},p=async m=>{a("");try{const y=await(c==null?void 0:c.signInWithProvider(m));y&&await h(()=>d==null?void 0:d.authApi.signIn({idToken:y}),{showSuccessMessage:!0,successMessage:"Successfully logged in!"})}catch{a("Failed to login with Google")}};return g.useEffect(()=>{c!=null&&c.user&&u(ve.APP_NEWS_TRENDING)},[(c==null?void 0:c.user)!=null]),t.jsxs(It,{maxWidth:"xs",sx:{mt:8},children:[t.jsx(C,{sx:{textAlign:"center",mb:4},children:t.jsx(v,{variant:"h4",gutterBottom:!0,children:"Welcome back!"})}),o&&t.jsx(v,{variant:"body2",color:"error",gutterBottom:!0,children:o}),t.jsxs(C,{component:"form",onSubmit:x,sx:{mb:2},children:[t.jsx(rt,{label:"Email",variant:"outlined",fullWidth:!0,margin:"normal",value:e,onChange:m=>n(m.target.value)}),t.jsx(rt,{label:"Password",variant:"outlined",fullWidth:!0,type:"password",margin:"normal",value:r,onChange:m=>s(m.target.value)}),t.jsx(C,{sx:{textAlign:"right",mb:2},children:t.jsx(Yc,{href:"#",variant:"caption",children:"Did you forget your password?"})}),t.jsx(xe,{type:"submit",variant:"outlined",color:"secondary",fullWidth:!0,sx:{mb:2},children:"Log In"})]}),t.jsx(Lt,{sx:{my:2},children:"OR"}),t.jsx(C,{sx:{textAlign:"center",mb:2},children:t.jsx(v,{variant:"body2",gutterBottom:!0,children:"You can sign in or sign up our application with following providers"})}),t.jsx(C,{sx:{display:"flex",flexDirection:"column",gap:2},children:t.jsx(Dk,{variant:"contained",startIcon:t.jsx(qf,{}),bgcolor:"#DB4437",onClick:p.bind(void 0,Y0),children:"Sign in with Google"})}),t.jsx(Lt,{sx:{my:3}}),t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Don't have an account?"}),t.jsxs(C,{sx:{display:"flex",justifyContent:"center",gap:2},children:[t.jsx(xe,{variant:"outlined",size:"small",onClick:()=>u(`${ve.SIGNUP}?role=journalist`),children:"Sign up as Journalist"}),t.jsx(xe,{variant:"outlined",size:"small",onClick:()=>u(`${ve.SIGNUP}?role=reader`),children:"Sign up as Reader"})]})]})]})},_r={ACTIVE:1,INACTIVE:2,PENDING:3,BLOCKED:4,SUSPENDED:5,BANNED:6,DELETED:7,NOT_VERIFIED:8},Sn={SUPER_ADMIN:1,ADMIN:2,MODERATOR:3,REGULAR_USER:4,GUEST:5,JOURNALIST:6,EDITOR:7,EVALUATOR:8,FINANCE_MANAGER:9},Ek=ke(xe)(({theme:e,bgcolor:n})=>({color:"#fff",backgroundColor:n,boxShadow:`0 2px 4px 0 ${n}80`,"&:hover":{backgroundColor:e.palette.augmentColor({color:{main:n}}).dark},"& .MuiButton-startIcon":{marginRight:e.spacing(1)}})),Tk=()=>{const[e]=v0(),[n,r]=g.useState({displayName:"",email:"",password:"",confirmPassword:""}),[s,o]=g.useState({}),[a,c]=g.useState(""),[d,u]=g.useState(!1),[h,x]=g.useState(!1),p=xo(),{api:m}=Xe(),{execute:y}=nt(),b=Ct(),S=e.get("role"),j=g.useMemo(()=>S==="journalist"?Sn.JOURNALIST:Sn.REGULAR_USER,[S]),D=g.useMemo(()=>S==="journalist"?{title:"Join as a Journalist",subtitle:"Create and share your stories with the world",benefits:["Publish articles and build your readership","Monetize your content","Access analytics and insights","Connect with your audience"]}:{title:"Join as a Reader",subtitle:"Discover and support independent journalism",benefits:["Access quality journalism","Support journalists you trust","Personalized news feed","Engage with content"]},[S]),w=g.useCallback(R=>O=>{const A=O.target.value;r(L=>({...L,[R]:A})),s[R]&&o(L=>({...L,[R]:void 0})),a&&c("")},[s,a]),I=g.useCallback(()=>{const R={};return n.displayName.trim()?n.displayName.trim().length<2?R.displayName="Display name must be at least 2 characters":n.displayName.trim().length>50&&(R.displayName="Display name must be less than 50 characters"):R.displayName="Display name is required",n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(R.email="Please enter a valid email address"):R.email="Email is required",n.password?n.password.length<6&&(R.password="Password must be at least 6 characters"):R.password="Password is required",n.confirmPassword?n.password!==n.confirmPassword&&(R.confirmPassword="Passwords do not match"):R.confirmPassword="Please confirm your password",o(R),Object.keys(R).length===0},[n]),T=g.useCallback(async R=>{if(R.preventDefault(),c(""),!!I()){x(!0);try{const O=await(p==null?void 0:p.signUp(n.email,n.password));O&&await y(()=>m==null?void 0:m.authApi.signUp({externalId:O.uid,email:O.email,displayName:n.displayName.trim(),photoUrl:O.photoURL??"",roleId:j}),{showSuccessMessage:!0,successMessage:"Account created successfully!"})&&u(!0)}catch(O){const A=O instanceof Error?O.message:"Failed to sign up with email and password";c(A)}finally{x(!1)}}},[n,p,m,y,I,j]),_=g.useCallback(async R=>{c(""),x(!0);try{const O=await(p==null?void 0:p.signInWithProvider(R));if(O&&(p!=null&&p.user)){if(await y(()=>m==null?void 0:m.authApi.signIn({idToken:O}),{showErrorToast:!1}))return;await y(()=>m==null?void 0:m.authApi.signUp({externalId:p.user.uid,email:p.user.email||"",displayName:p.user.displayName||"",photoUrl:p.user.photoURL||"",roleId:j}),{showSuccessMessage:!0,successMessage:"Account created successfully!"})&&u(!0)}}catch(O){const A=O instanceof Error?O.message:"Failed to login with social provider";c(A)}finally{x(!1)}},[p,m,y,j]);return g.useEffect(()=>{p!=null&&p.user&&b(d?`${ve.POST_SIGNUP}?role=${S||"reader"}`:ve.APP_NEWS_TRENDING)},[p==null?void 0:p.user,d,b,S]),t.jsxs(It,{maxWidth:"xs",sx:{mt:8},children:[t.jsxs(C,{sx:{textAlign:"center",mb:4},children:[t.jsx(v,{variant:"h4",gutterBottom:!0,children:D.title}),t.jsx(v,{variant:"body1",color:"text.secondary",sx:{mb:2},children:D.subtitle}),S&&t.jsx(Ye,{label:S==="journalist"?"Journalist Account":"Reader Account",color:"primary",variant:"outlined",sx:{mb:2}})]}),a&&t.jsx(ct,{severity:"error",sx:{mb:2},children:a}),t.jsxs(C,{component:"form",onSubmit:T,noValidate:!0,children:[t.jsx(rt,{label:"Display Name",variant:"outlined",fullWidth:!0,margin:"normal",type:"text",autoComplete:"name",value:n.displayName,onChange:w("displayName"),error:!!s.displayName,helperText:s.displayName,disabled:h,required:!0}),t.jsx(rt,{label:"Email",variant:"outlined",fullWidth:!0,margin:"normal",type:"email",autoComplete:"email",value:n.email,onChange:w("email"),error:!!s.email,helperText:s.email,disabled:h,required:!0}),t.jsx(rt,{label:"Password",variant:"outlined",fullWidth:!0,type:"password",margin:"normal",autoComplete:"new-password",value:n.password,onChange:w("password"),error:!!s.password,helperText:s.password,disabled:h,required:!0}),t.jsx(rt,{label:"Confirm Password",variant:"outlined",fullWidth:!0,type:"password",margin:"normal",autoComplete:"new-password",value:n.confirmPassword,onChange:w("confirmPassword"),error:!!s.confirmPassword,helperText:s.confirmPassword,disabled:h,required:!0}),t.jsx(xe,{type:"submit",variant:"outlined",color:"secondary",fullWidth:!0,sx:{mt:3,mb:2},disabled:h,children:h?"Creating Account...":"Sign Up"})]}),t.jsx(Lt,{sx:{my:2},children:"OR"}),t.jsx(C,{sx:{textAlign:"center",mb:2},children:t.jsx(v,{variant:"body2",color:"text.secondary",children:"You can sign up with the following providers"})}),t.jsx(C,{sx:{display:"flex",flexDirection:"column",gap:2},children:t.jsx(Ek,{variant:"contained",startIcon:t.jsx(qf,{}),bgcolor:"#DB4437",onClick:()=>_(Y0),disabled:h,children:"Sign up with Google"})})]})},Ak=()=>{const[e]=v0(),[n,r]=g.useState(0),[s,o]=g.useState(!1),[a,c]=g.useState({primaryRole:"",interests:[],experience:"",goals:[]}),d=Ct(),{api:u}=Xe(),{execute:h}=nt(),x=e.get("role"),p=!!x,m=p?["Welcome","Your interests","Get started"]:["Welcome","Tell us about yourself","Your interests","Get started"];g.useEffect(()=>{x&&!a.primaryRole&&c(A=>({...A,primaryRole:x}))},[x,a.primaryRole]);const y=[{role:"journalist",title:"I want to write and publish",description:"Create articles, investigate stories, and build your readership",features:["Article editor","Story planning tools","Reader analytics","Revenue sharing"],userRole:Sn.JOURNALIST},{role:"editor",title:"I want to manage content",description:"Review, edit, and oversee publication workflows",features:["Editorial dashboard","Content review tools","Team management","Quality control"],userRole:Sn.EDITOR},{role:"reader",title:"I want to read and discover",description:"Follow journalists, discover stories, and engage with content",features:["Personalized feed","Bookmarking","Comment system","Newsletter subscriptions"],userRole:Sn.REGULAR_USER}],b=["Politics","Technology","Science","Sports","Business","Culture","Health","Environment","Entertainment","Education","Travel","Food"],S=(A,L)=>{c(W=>({...W,primaryRole:A})),D(L),r(1)},j=()=>{n>0&&r(n-1)},D=async A=>{o(!0),console.log("PostSignUpFlow: Updating user role to:",A),await h(()=>u==null?void 0:u.accountApi.updateProfile({roleId:A}),{showSuccessMessage:!1,showErrorToast:!1}),console.log("PostSignUpFlow: User role update completed"),o(!1)},w=A=>{c(L=>({...L,interests:L.interests.includes(A)?L.interests.filter(W=>W!==A):[...L.interests,A]}))},I=async()=>{o(!0);try{localStorage.setItem("userInterests",JSON.stringify(a.interests)),d(ve.APP_NEWS_MY_FEED)}catch(A){console.error("Error saving profile:",A),d(ve.APP_NEWS_MY_FEED)}finally{o(!1)}},T=()=>{d(ve.APP_NEWS_MY_FEED)},_=()=>{if(p){const A=x==="journalist"?"Journalist":"Reader";return t.jsxs(C,{sx:{textAlign:"center",py:4},children:[t.jsxs(v,{variant:"h4",gutterBottom:!0,children:["Welcome, ",A,"! "]}),t.jsx(v,{variant:"body1",sx:{mb:4,maxWidth:600,mx:"auto"},children:x==="journalist"?"You're all set to start creating and publishing your stories. Let's personalize your experience.":"You're all set to discover and support independent journalism. Let's personalize your feed."}),t.jsxs(C,{sx:{textAlign:"center",mt:4},children:[t.jsx(xe,{variant:"contained",size:"large",onClick:()=>r(1),sx:{px:4},children:"Continue"}),t.jsx(xe,{variant:"text",onClick:T,sx:{display:"block",mt:2,mx:"auto",color:"text.secondary"},children:"Skip for now"})]})]})}return t.jsxs(C,{sx:{textAlign:"center",py:4},children:[t.jsx(v,{variant:"h4",gutterBottom:!0,children:"Welcome to the Journalist Platform! "}),t.jsx(v,{variant:"body1",sx:{mb:4,maxWidth:600,mx:"auto"},children:"Let's personalize your experience. What brings you here today?"}),t.jsx(v,{variant:"body2",sx:{mb:4,textAlign:"center",color:"text.secondary"},children:"Don't worry, you can always change this later in your settings."}),t.jsx($,{container:!0,spacing:3,sx:{mt:2},children:y.map(A=>t.jsx($,{item:!0,xs:12,md:4,children:t.jsx(Ne,{sx:{cursor:"pointer","&:hover":{boxShadow:6},height:"100%",transition:"box-shadow 0.3s"},onClick:()=>S(A.role,A.userRole),children:t.jsxs(Fe,{sx:{p:3,textAlign:"center"},children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:A.title}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:A.description}),t.jsx(C,{sx:{textAlign:"left"},children:A.features.map((L,W)=>t.jsxs(v,{variant:"caption",display:"block",sx:{mb:.5},children:[" ",L]},W))})]})})},A.role))}),t.jsx(C,{sx:{textAlign:"center",mt:4},children:t.jsx(xe,{variant:"text",onClick:T,sx:{color:"text.secondary"},children:"Skip for now"})})]})},R=()=>t.jsxs(C,{sx:{py:4},children:[t.jsx(v,{variant:"h5",gutterBottom:!0,textAlign:"center",children:"What topics interest you most?"}),t.jsx(v,{variant:"body1",textAlign:"center",sx:{mb:4},children:"Select any that apply - we'll use this to personalize your experience"}),t.jsx($,{container:!0,spacing:2,sx:{maxWidth:600,mx:"auto"},children:b.map(A=>t.jsx($,{item:!0,xs:6,sm:4,children:t.jsx(xe,{variant:a.interests.includes(A)?"contained":"outlined",fullWidth:!0,onClick:()=>w(A),sx:{py:1.5},children:A})},A))}),t.jsxs(C,{sx:{textAlign:"center",mt:4},children:[!p&&t.jsx(xe,{variant:"outlined",onClick:j,sx:{mr:2},children:"Back"}),t.jsx(xe,{variant:"contained",size:"large",onClick:()=>r(2),disabled:a.interests.length===0,children:"Continue"}),t.jsx(xe,{variant:"text",onClick:T,sx:{display:"block",mt:2,mx:"auto",color:"text.secondary"},children:"Skip for now"})]})]}),O=()=>t.jsxs(C,{sx:{textAlign:"center",py:4},children:[t.jsx(v,{variant:"h5",gutterBottom:!0,children:"You're all set! "}),t.jsx(v,{variant:"body1",sx:{mb:4},children:"Based on your preferences, we've customized your experience. Ready to get started?"}),t.jsx(xe,{variant:"contained",size:"large",onClick:I,disabled:s,sx:{px:4},children:s?"Setting up...":"Enter Platform"})]});return t.jsxs(It,{maxWidth:"lg",sx:{mt:4,mb:8},children:[t.jsx(aT,{activeStep:n,sx:{mb:6},children:m.map(A=>t.jsx(lT,{children:t.jsx(cT,{children:A})},A))}),p?t.jsxs(t.Fragment,{children:[n===0&&_(),n===1&&R(),n===2&&O()]}):t.jsxs(t.Fragment,{children:[n===0&&_(),n===1&&R(),n===2&&O()]})]})},Rk="/journalist-material-client/assets/landing_page_compiled-BSuH_rh0.gif",_k=()=>{const e=xo(),[n,r]=g.useState(!1),s=async()=>{await(e==null?void 0:e.signOut()),r(!1)};return g.useEffect(()=>{r(!!(e!=null&&e.user))},[e==null?void 0:e.user]),t.jsxs(t.Fragment,{children:[t.jsx(C,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:0,"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:1}},children:t.jsx(C,{component:"img",src:Rk,alt:"Background",sx:{width:"100%",height:"100%",objectFit:"cover",position:"relative",zIndex:0}})}),t.jsx(Hc,{position:"absolute",elevation:0,sx:{background:"rgba(255, 255, 255, 0.01)",zIndex:2},children:t.jsxs(Ls,{sx:{justifyContent:"space-between",flexDirection:{xs:"column",sm:"row"},gap:{xs:2,sm:0},py:{xs:2,sm:1.5},px:{xs:2,sm:4}},children:[t.jsx(C,{sx:{display:"flex",alignItems:"center",gap:1.5},children:t.jsxs(C,{sx:{position:"relative","&::after":{content:'""',position:"absolute",bottom:-4,left:0,width:"100%",height:"2px",background:"linear-gradient(90deg, #2196F3 0%, transparent 100%)",borderRadius:"2px"}},children:[t.jsx("span",{style:{color:"#1565C0",textTransform:"uppercase",fontWeight:800,fontSize:"1.6rem",letterSpacing:"1px"},children:"Meta"}),t.jsx("span",{style:{color:"#0D47A1",fontWeight:600,fontSize:"1.6rem"},children:"Journo"})]})}),t.jsx(C,{sx:{display:"flex",alignItems:"center",order:{xs:3,sm:3},width:{xs:"100%",sm:"auto"},justifyContent:{xs:"center",sm:"flex-end"},gap:2},children:n?t.jsxs(t.Fragment,{children:[t.jsx(xe,{color:"primary",variant:"outlined",size:"large",component:$n,to:ve.APP_NEWS_MY_FEED,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"},px:4,py:1.2,borderRadius:"12px",borderWidth:"2px",textTransform:"none",fontWeight:600,transition:"all 0.3s ease","&:hover":{borderWidth:"2px",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(33, 150, 243, 0.2)"}},children:"My Feed"}),t.jsx(xe,{color:"error",variant:"contained",size:"large",onClick:s,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"},px:4,py:1.2,borderRadius:"12px",textTransform:"none",fontWeight:600,background:"linear-gradient(135deg, #f44336 0%, #e53935 50%, #c62828 100%)",boxShadow:"0 8px 16px -4px rgba(244, 67, 54, 0.5)",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(135deg, #e53935 0%, #d32f2f 50%, #b71c1c 100%)",transform:"translateY(-2px)",boxShadow:"0 12px 20px -4px rgba(244, 67, 54, 0.6)"}},children:"Log out"})]}):t.jsxs(t.Fragment,{children:[t.jsx(xe,{color:"primary",variant:"outlined",size:"large",component:$n,to:ve.LOGIN,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"},px:4,py:1.2,borderRadius:"12px",borderWidth:"2px",textTransform:"none",fontWeight:600,transition:"all 0.3s ease","&:hover":{borderWidth:"2px",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(33, 150, 243, 0.2)"}},children:"Log in"}),t.jsx(xe,{color:"primary",variant:"contained",size:"large",component:$n,to:ve.SIGNUP,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"},px:4,py:1.2,borderRadius:"12px",textTransform:"none",fontWeight:600,background:"linear-gradient(135deg, #2196F3 0%, #1976D2 50%, #0D47A1 100%)",boxShadow:"0 8px 16px -4px rgba(33, 150, 243, 0.5)",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(135deg, #1E88E5 0%, #1565C0 50%, #0D47A1 100%)",transform:"translateY(-2px)",boxShadow:"0 12px 20px -4px rgba(33, 150, 243, 0.6)"}},children:"Get Started"})]})})]})})]})},Ok=()=>{const e=Ct(),n=()=>{e(`${ve.SIGNUP}?role=journalist`)},r=()=>{e(`${ve.SIGNUP}?role=reader`)},s=()=>{e(ve.APP_NEWS_TRENDING)};return t.jsxs(C,{sx:{minHeight:"100vh",bgcolor:"background.default"},children:[t.jsx(_k,{}),t.jsx(C,{sx:{minHeight:"90vh",display:"flex",alignItems:"center",background:"transparent",position:"relative",overflow:"hidden"},children:t.jsx(It,{maxWidth:"lg",children:t.jsx($,{container:!0,justifyContent:"center",children:t.jsxs($,{item:!0,xs:12,md:8,textAlign:"center",children:[t.jsxs(v,{variant:"h1",component:"h1",sx:{fontWeight:700,color:"white",fontSize:{xs:"2.5rem",sm:"3.2rem",md:"3.8rem"},mb:4,lineHeight:1.3,textShadow:"2px 2px 4px rgba(0,0,0,0.7)"},children:["Discover Journalism You Can Trust.",t.jsx("br",{}),"Fund Stories That Deserve Attention."]}),t.jsx(v,{variant:"h5",sx:{color:"rgba(255, 255, 255, 0.95)",mb:5,lineHeight:1.7,fontSize:{xs:"1.1rem",sm:"1.25rem"},fontWeight:400,textShadow:"1px 1px 2px rgba(0,0,0,0.7)"},children:"MetaJourno connects readers directly to independent journalists  no paywalls, no content hosting, just verified trust and transparent funding."}),t.jsxs(ye,{direction:{xs:"column",sm:"row"},spacing:3,justifyContent:"center",children:[t.jsx(xe,{variant:"contained",size:"large",startIcon:t.jsx(Ua,{}),onClick:s,sx:{bgcolor:"white",color:"#1e3c72",px:4,py:1.5,fontSize:"1rem",fontWeight:600,borderRadius:1,textTransform:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.15)","&:hover":{bgcolor:"#f8f9fa",transform:"translateY(-1px)",boxShadow:"0 6px 20px rgba(0,0,0,0.2)"},transition:"all 0.2s ease"},children:"Browse Stories"}),t.jsx(xe,{variant:"outlined",size:"large",startIcon:t.jsx($o,{}),onClick:n,sx:{borderColor:"rgba(255, 255, 255, 0.5)",color:"white",px:4,py:1.5,fontSize:"1rem",fontWeight:600,borderRadius:1,textTransform:"none","&:hover":{borderColor:"white",bgcolor:"rgba(255, 255, 255, 0.1)"},transition:"all 0.2s ease"},children:"Join as a Journalist"}),t.jsx(xe,{variant:"contained",size:"large",startIcon:t.jsx($o,{}),onClick:r,sx:{bgcolor:"rgba(255, 255, 255, 0.15)",borderColor:"rgba(255, 255, 255, 0.5)",color:"white",px:4,py:1.5,fontSize:"1rem",fontWeight:600,borderRadius:1,textTransform:"none","&:hover":{bgcolor:"rgba(255, 255, 255, 0.25)",transform:"translateY(-1px)",boxShadow:"0 4px 12px rgba(255,255,255,0.2)"},transition:"all 0.2s ease"},children:"Join as a Reader"})]})]})})})})]})};var Kf={},kk=Ze;Object.defineProperty(Kf,"__esModule",{value:!0});var Jf=Kf.default=void 0,Mk=kk(et()),Nk=t;Jf=Kf.default=(0,Mk.default)((0,Nk.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ah=function(e,n){return Ah=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)s.hasOwnProperty(o)&&(r[o]=s[o])},Ah(e,n)};function Lk(e,n){Ah(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var Sa=function(){return Sa=Object.assign||function(n){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},Sa.apply(this,arguments)};function $k(e,n,r,s){var o,a=!1,c=0;function d(){o&&clearTimeout(o)}function u(){d(),a=!0}typeof n!="boolean"&&(s=r,r=n,n=void 0);function h(){var x=this,p=Date.now()-c,m=arguments;if(a)return;function y(){c=Date.now(),r.apply(x,m)}function b(){o=void 0}s&&!o&&y(),d(),s===void 0&&p>e?y():n!==!0&&(o=setTimeout(s?b:y,s===void 0?e-p:e))}return h.cancel=u,h}var mi={Pixel:"Pixel",Percent:"Percent"},Pb={unit:mi.Percent,value:.8};function Db(e){return typeof e=="number"?{unit:mi.Percent,value:e*100}:typeof e=="string"?e.match(/^(\d*(\.\d+)?)px$/)?{unit:mi.Pixel,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:mi.Percent,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),Pb):(console.warn("scrollThreshold should be string or number"),Pb)}var Bs=function(e){Lk(n,e);function n(r){var s=e.call(this,r)||this;return s.lastScrollTop=0,s.actionTriggered=!1,s.startY=0,s.currentY=0,s.dragging=!1,s.maxPullDownDistance=0,s.getScrollableTarget=function(){return s.props.scrollableTarget instanceof HTMLElement?s.props.scrollableTarget:typeof s.props.scrollableTarget=="string"?document.getElementById(s.props.scrollableTarget):(s.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},s.onStart=function(o){s.lastScrollTop||(s.dragging=!0,o instanceof MouseEvent?s.startY=o.pageY:o instanceof TouchEvent&&(s.startY=o.touches[0].pageY),s.currentY=s.startY,s._infScroll&&(s._infScroll.style.willChange="transform",s._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},s.onMove=function(o){s.dragging&&(o instanceof MouseEvent?s.currentY=o.pageY:o instanceof TouchEvent&&(s.currentY=o.touches[0].pageY),!(s.currentY<s.startY)&&(s.currentY-s.startY>=Number(s.props.pullDownToRefreshThreshold)&&s.setState({pullToRefreshThresholdBreached:!0}),!(s.currentY-s.startY>s.maxPullDownDistance*1.5)&&s._infScroll&&(s._infScroll.style.overflow="visible",s._infScroll.style.transform="translate3d(0px, "+(s.currentY-s.startY)+"px, 0px)")))},s.onEnd=function(){s.startY=0,s.currentY=0,s.dragging=!1,s.state.pullToRefreshThresholdBreached&&(s.props.refreshFunction&&s.props.refreshFunction(),s.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){s._infScroll&&(s._infScroll.style.overflow="auto",s._infScroll.style.transform="none",s._infScroll.style.willChange="unset")})},s.onScrollListener=function(o){typeof s.props.onScroll=="function"&&setTimeout(function(){return s.props.onScroll&&s.props.onScroll(o)},0);var a=s.props.height||s._scrollableNode?o.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!s.actionTriggered){var c=s.props.inverse?s.isElementAtTop(a,s.props.scrollThreshold):s.isElementAtBottom(a,s.props.scrollThreshold);c&&s.props.hasMore&&(s.actionTriggered=!0,s.setState({showLoader:!0}),s.props.next&&s.props.next()),s.lastScrollTop=a.scrollTop}},s.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:r.dataLength},s.throttledOnScrollListener=$k(150,s.onScrollListener).bind(s),s.onStart=s.onStart.bind(s),s.onMove=s.onMove.bind(s),s.onEnd=s.onEnd.bind(s),s}return n.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},n.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},n.prototype.componentDidUpdate=function(r){this.props.dataLength!==r.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},n.getDerivedStateFromProps=function(r,s){var o=r.dataLength!==s.prevDataLength;return o?Sa(Sa({},s),{prevDataLength:r.dataLength}):null},n.prototype.isElementAtTop=function(r,s){s===void 0&&(s=.8);var o=r===document.body||r===document.documentElement?window.screen.availHeight:r.clientHeight,a=Db(s);return a.unit===mi.Pixel?r.scrollTop<=a.value+o-r.scrollHeight+1:r.scrollTop<=a.value/100+o-r.scrollHeight+1},n.prototype.isElementAtBottom=function(r,s){s===void 0&&(s=.8);var o=r===document.body||r===document.documentElement?window.screen.availHeight:r.clientHeight,a=Db(s);return a.unit===mi.Pixel?r.scrollTop+o>=r.scrollHeight-a.value:r.scrollTop+o>=a.value/100*r.scrollHeight},n.prototype.render=function(){var r=this,s=Sa({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),o=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),a=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return Dt.createElement("div",{style:a,className:"infinite-scroll-component__outerdiv"},Dt.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(c){return r._infScroll=c},style:s},this.props.pullDownToRefresh&&Dt.createElement("div",{style:{position:"relative"},ref:function(c){return r._pullDown=c}},Dt.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!o&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},n}(g.Component);const kn={DRAFT:1,PENDING_REVIEW:2,PUBLISHED:3,REJECTED:4,ARCHIVED:5,DELETED:6},br={INSTAGRAM:1,TWITTER:2,YOUTUBE:3,TIKTOK:4,FACEBOOK:5,LINKEDIN:6,OTHER:7},Ja={COVER:1,SUMMARY:2,AVATAR:3,TEASER:4,INTRO:5,OUTRO:6,OTHER:7},Pc={IMAGE:1,VIDEO:2,AUDIO:3,DOCUMENT:4,URL:5,ARTICLE:6,OTHER:7},sd="/journalist-material-client/assets/BG_journo-DMUT4Pey.png";var Xf={},Fk=Ze;Object.defineProperty(Xf,"__esModule",{value:!0});var Qf=Xf.default=void 0,Wk=Fk(et()),Bk=t;Qf=Xf.default=(0,Wk.default)((0,Bk.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"}),"FavoriteBorder");var Zf={},Vk=Ze;Object.defineProperty(Zf,"__esModule",{value:!0});var Uo=Zf.default=void 0,Uk=Vk(et()),zk=t;Uo=Zf.default=(0,Uk.default)((0,zk.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");var ep={},Hk=Ze;Object.defineProperty(ep,"__esModule",{value:!0});var tp=ep.default=void 0,Yk=Hk(et()),Gk=t;tp=ep.default=(0,Yk.default)((0,Gk.jsx)("path",{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48z"}),"Verified");const ov=6048e5,qk=864e5,iv=6e4,av=36e5,Kk=1e3,ql=43200,Ib=1440,Eb=Symbol.for("constructDateFrom");function on(e,n){return typeof e=="function"?e(n):e&&typeof e=="object"&&Eb in e?e[Eb](n):e instanceof Date?new e.constructor(n):new Date(n)}function Qe(e,n){return on(n||e,e)}function od(e,n,r){const s=Qe(e,r==null?void 0:r.in);return isNaN(n)?on((r==null?void 0:r.in)||e,NaN):(n&&s.setDate(s.getDate()+n),s)}function lv(e,n,r){const s=Qe(e,r==null?void 0:r.in);if(isNaN(n))return on(e,NaN);if(!n)return s;const o=s.getDate(),a=on(e,s.getTime());a.setMonth(s.getMonth()+n+1,0);const c=a.getDate();return o>=c?a:(s.setFullYear(a.getFullYear(),a.getMonth(),o),s)}function cv(e,n,r){return on(e,+Qe(e)+n)}function Jk(e,n,r){return cv(e,n*av)}let Xk={};function mo(){return Xk}function Vs(e,n){var d,u,h,x;const r=mo(),s=(n==null?void 0:n.weekStartsOn)??((u=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((x=(h=r.locale)==null?void 0:h.options)==null?void 0:x.weekStartsOn)??0,o=Qe(e,n==null?void 0:n.in),a=o.getDay(),c=(a<s?7:0)+a-s;return o.setDate(o.getDate()-c),o.setHours(0,0,0,0),o}function Ii(e,n){return Vs(e,{...n,weekStartsOn:1})}function dv(e,n){const r=Qe(e,n==null?void 0:n.in),s=r.getFullYear(),o=on(r,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const a=Ii(o),c=on(r,0);c.setFullYear(s,0,4),c.setHours(0,0,0,0);const d=Ii(c);return r.getTime()>=a.getTime()?s+1:r.getTime()>=d.getTime()?s:s-1}function Ei(e){const n=Qe(e),r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return r.setUTCFullYear(n.getFullYear()),+e-+r}function go(e,...n){const r=on.bind(null,e||n.find(s=>typeof s=="object"));return n.map(r)}function Ea(e,n){const r=Qe(e,n==null?void 0:n.in);return r.setHours(0,0,0,0),r}function Qk(e,n,r){const[s,o]=go(r==null?void 0:r.in,e,n),a=Ea(s),c=Ea(o),d=+a-Ei(a),u=+c-Ei(c);return Math.round((d-u)/qk)}function Zk(e,n){const r=dv(e,n),s=on(e,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),Ii(s)}function eM(e,n,r){const s=Qe(e,r==null?void 0:r.in);return s.setTime(s.getTime()+n*iv),s}function tM(e,n,r){return cv(e,n*1e3)}function nM(e,n,r){return od(e,n*7,r)}function rM(e,n,r){return lv(e,n*12,r)}function sc(e,n){const r=+Qe(e)-+Qe(n);return r<0?-1:r>0?1:r}function sM(e){return on(e,Date.now())}function oM(e,n,r){const[s,o]=go(r==null?void 0:r.in,e,n);return+Ea(s)==+Ea(o)}function iM(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function uv(e){return!(!iM(e)&&typeof e!="number"||isNaN(+Qe(e)))}function aM(e,n,r){const[s,o]=go(r==null?void 0:r.in,e,n),a=s.getFullYear()-o.getFullYear(),c=s.getMonth()-o.getMonth();return a*12+c}function lM(e){return n=>{const s=(e?Math[e]:Math.trunc)(n);return s===0?0:s}}function cM(e,n){return+Qe(e)-+Qe(n)}function Rh(e,n){const r=Qe(e,n==null?void 0:n.in);return r.setHours(23,59,59,999),r}function hv(e,n){const r=Qe(e,n==null?void 0:n.in),s=r.getMonth();return r.setFullYear(r.getFullYear(),s+1,0),r.setHours(23,59,59,999),r}function dM(e,n){const r=Qe(e,n==null?void 0:n.in);return+Rh(r,n)==+hv(r,n)}function uM(e,n,r){const[s,o,a]=go(r==null?void 0:r.in,e,e,n),c=sc(o,a),d=Math.abs(aM(o,a));if(d<1)return 0;o.getMonth()===1&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-c*d);let u=sc(o,a)===-c;dM(s)&&d===1&&sc(s,a)===1&&(u=!1);const h=c*(d-+u);return h===0?0:h}function hM(e,n,r){const s=cM(e,n)/1e3;return lM(r==null?void 0:r.roundingMethod)(s)}function fM(e,n){const r=Qe(e,n==null?void 0:n.in);return r.setDate(1),r.setHours(0,0,0,0),r}function Tb(e,n){const r=Qe(e,n==null?void 0:n.in),s=r.getFullYear();return r.setFullYear(s+1,0,0),r.setHours(23,59,59,999),r}function fv(e,n){const r=Qe(e,n==null?void 0:n.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function pM(e,n){var d,u,h,x;const r=mo(),s=(n==null?void 0:n.weekStartsOn)??((u=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((x=(h=r.locale)==null?void 0:h.options)==null?void 0:x.weekStartsOn)??0,o=Qe(e,n==null?void 0:n.in),a=o.getDay(),c=(a<s?-7:0)+6-(a-s);return o.setDate(o.getDate()+c),o.setHours(23,59,59,999),o}const xM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mM=(e,n,r)=>{let s;const o=xM[e];return typeof o=="string"?s=o:n===1?s=o.one:s=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Qu(e){return(n={})=>{const r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const gM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vM={date:Qu({formats:gM,defaultWidth:"full"}),time:Qu({formats:bM,defaultWidth:"full"}),dateTime:Qu({formats:yM,defaultWidth:"full"})},jM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},SM=(e,n,r,s)=>jM[e];function da(e){return(n,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let o;if(s==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,d=r!=null&&r.width?String(r.width):c;o=e.formattingValues[d]||e.formattingValues[c]}else{const c=e.defaultWidth,d=r!=null&&r.width?String(r.width):e.defaultWidth;o=e.values[d]||e.values[c]}const a=e.argumentCallback?e.argumentCallback(n):n;return o[a]}}const wM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},CM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},PM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},DM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},IM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},EM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},TM=(e,n)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},AM={ordinalNumber:TM,era:da({values:wM,defaultWidth:"wide"}),quarter:da({values:CM,defaultWidth:"wide",argumentCallback:e=>e-1}),month:da({values:PM,defaultWidth:"wide"}),day:da({values:DM,defaultWidth:"wide"}),dayPeriod:da({values:IM,defaultWidth:"wide",formattingValues:EM,defaultFormattingWidth:"wide"})};function ua(e){return(n,r={})=>{const s=r.width,o=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],a=n.match(o);if(!a)return null;const c=a[0],d=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(d)?_M(d,p=>p.test(c)):RM(d,p=>p.test(c));let h;h=e.valueCallback?e.valueCallback(u):u,h=r.valueCallback?r.valueCallback(h):h;const x=n.slice(c.length);return{value:h,rest:x}}}function RM(e,n){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n(e[r]))return r}function _M(e,n){for(let r=0;r<e.length;r++)if(n(e[r]))return r}function OM(e){return(n,r={})=>{const s=n.match(e.matchPattern);if(!s)return null;const o=s[0],a=n.match(e.parsePattern);if(!a)return null;let c=e.valueCallback?e.valueCallback(a[0]):a[0];c=r.valueCallback?r.valueCallback(c):c;const d=n.slice(o.length);return{value:c,rest:d}}}const kM=/^(\d+)(th|st|nd|rd)?/i,MM=/\d+/i,NM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},LM={any:[/^b/i,/^(a|c)/i]},$M={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},FM={any:[/1/i,/2/i,/3/i,/4/i]},WM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},BM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},VM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},UM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},HM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},YM={ordinalNumber:OM({matchPattern:kM,parsePattern:MM,valueCallback:e=>parseInt(e,10)}),era:ua({matchPatterns:NM,defaultMatchWidth:"wide",parsePatterns:LM,defaultParseWidth:"any"}),quarter:ua({matchPatterns:$M,defaultMatchWidth:"wide",parsePatterns:FM,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ua({matchPatterns:WM,defaultMatchWidth:"wide",parsePatterns:BM,defaultParseWidth:"any"}),day:ua({matchPatterns:VM,defaultMatchWidth:"wide",parsePatterns:UM,defaultParseWidth:"any"}),dayPeriod:ua({matchPatterns:zM,defaultMatchWidth:"any",parsePatterns:HM,defaultParseWidth:"any"})},id={code:"en-US",formatDistance:mM,formatLong:vM,formatRelative:SM,localize:AM,match:YM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function GM(e,n){const r=Qe(e,n==null?void 0:n.in);return Qk(r,fv(r))+1}function pv(e,n){const r=Qe(e,n==null?void 0:n.in),s=+Ii(r)-+Zk(r);return Math.round(s/ov)+1}function np(e,n){var x,p,m,y;const r=Qe(e,n==null?void 0:n.in),s=r.getFullYear(),o=mo(),a=(n==null?void 0:n.firstWeekContainsDate)??((p=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:p.firstWeekContainsDate)??o.firstWeekContainsDate??((y=(m=o.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,c=on((n==null?void 0:n.in)||e,0);c.setFullYear(s+1,0,a),c.setHours(0,0,0,0);const d=Vs(c,n),u=on((n==null?void 0:n.in)||e,0);u.setFullYear(s,0,a),u.setHours(0,0,0,0);const h=Vs(u,n);return+r>=+d?s+1:+r>=+h?s:s-1}function qM(e,n){var d,u,h,x;const r=mo(),s=(n==null?void 0:n.firstWeekContainsDate)??((u=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((x=(h=r.locale)==null?void 0:h.options)==null?void 0:x.firstWeekContainsDate)??1,o=np(e,n),a=on((n==null?void 0:n.in)||e,0);return a.setFullYear(o,0,s),a.setHours(0,0,0,0),Vs(a,n)}function rp(e,n){const r=Qe(e,n==null?void 0:n.in),s=+Vs(r,n)-+qM(r,n);return Math.round(s/ov)+1}function zt(e,n){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(n,"0");return r+s}const to={y(e,n){const r=e.getFullYear(),s=r>0?r:1-r;return zt(n==="yy"?s%100:s,n.length)},M(e,n){const r=e.getMonth();return n==="M"?String(r+1):zt(r+1,2)},d(e,n){return zt(e.getDate(),n.length)},a(e,n){const r=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,n){return zt(e.getHours()%12||12,n.length)},H(e,n){return zt(e.getHours(),n.length)},m(e,n){return zt(e.getMinutes(),n.length)},s(e,n){return zt(e.getSeconds(),n.length)},S(e,n){const r=n.length,s=e.getMilliseconds(),o=Math.trunc(s*Math.pow(10,r-3));return zt(o,n.length)}},ci={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ab={G:function(e,n,r){const s=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){const s=e.getFullYear(),o=s>0?s:1-s;return r.ordinalNumber(o,{unit:"year"})}return to.y(e,n)},Y:function(e,n,r,s){const o=np(e,s),a=o>0?o:1-o;if(n==="YY"){const c=a%100;return zt(c,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):zt(a,n.length)},R:function(e,n){const r=dv(e);return zt(r,n.length)},u:function(e,n){const r=e.getFullYear();return zt(r,n.length)},Q:function(e,n,r){const s=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return zt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){const s=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return zt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){const s=e.getMonth();switch(n){case"M":case"MM":return to.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){const s=e.getMonth();switch(n){case"L":return String(s+1);case"LL":return zt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){const o=rp(e,s);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):zt(o,n.length)},I:function(e,n,r){const s=pv(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):zt(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):to.d(e,n)},D:function(e,n,r){const s=GM(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):zt(s,n.length)},E:function(e,n,r){const s=e.getDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){const o=e.getDay(),a=(o-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return zt(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){const o=e.getDay(),a=(o-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return zt(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){const s=e.getDay(),o=s===0?7:s;switch(n){case"i":return String(o);case"ii":return zt(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){const o=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){const s=e.getHours();let o;switch(s===12?o=ci.noon:s===0?o=ci.midnight:o=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){const s=e.getHours();let o;switch(s>=17?o=ci.evening:s>=12?o=ci.afternoon:s>=4?o=ci.morning:o=ci.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return to.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):to.H(e,n)},K:function(e,n,r){const s=e.getHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):zt(s,n.length)},k:function(e,n,r){let s=e.getHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):zt(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):to.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):to.s(e,n)},S:function(e,n){return to.S(e,n)},X:function(e,n,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return _b(s);case"XXXX":case"XX":return ko(s);case"XXXXX":case"XXX":default:return ko(s,":")}},x:function(e,n,r){const s=e.getTimezoneOffset();switch(n){case"x":return _b(s);case"xxxx":case"xx":return ko(s);case"xxxxx":case"xxx":default:return ko(s,":")}},O:function(e,n,r){const s=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Rb(s,":");case"OOOO":default:return"GMT"+ko(s,":")}},z:function(e,n,r){const s=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Rb(s,":");case"zzzz":default:return"GMT"+ko(s,":")}},t:function(e,n,r){const s=Math.trunc(+e/1e3);return zt(s,n.length)},T:function(e,n,r){return zt(+e,n.length)}};function Rb(e,n=""){const r=e>0?"-":"+",s=Math.abs(e),o=Math.trunc(s/60),a=s%60;return a===0?r+String(o):r+String(o)+n+zt(a,2)}function _b(e,n){return e%60===0?(e>0?"-":"+")+zt(Math.abs(e)/60,2):ko(e,n)}function ko(e,n=""){const r=e>0?"-":"+",s=Math.abs(e),o=zt(Math.trunc(s/60),2),a=zt(s%60,2);return r+o+n+a}const Ob=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},xv=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},KM=(e,n)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],o=r[2];if(!o)return Ob(e,n);let a;switch(s){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",Ob(s,n)).replace("{{time}}",xv(o,n))},Dc={p:xv,P:KM},JM=/^D+$/,XM=/^Y+$/,QM=["D","DD","YY","YYYY"];function mv(e){return JM.test(e)}function gv(e){return XM.test(e)}function _h(e,n,r){const s=ZM(e,n,r);if(console.warn(s),QM.includes(e))throw new RangeError(s)}function ZM(e,n,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const eN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nN=/^'([^]*?)'?$/,rN=/''/g,sN=/[a-zA-Z]/;function sp(e,n,r){var x,p,m,y,b,S,j,D;const s=mo(),o=(r==null?void 0:r.locale)??s.locale??id,a=(r==null?void 0:r.firstWeekContainsDate)??((p=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:p.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(m=s.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,c=(r==null?void 0:r.weekStartsOn)??((S=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:S.weekStartsOn)??s.weekStartsOn??((D=(j=s.locale)==null?void 0:j.options)==null?void 0:D.weekStartsOn)??0,d=Qe(e,r==null?void 0:r.in);if(!uv(d))throw new RangeError("Invalid time value");let u=n.match(tN).map(w=>{const I=w[0];if(I==="p"||I==="P"){const T=Dc[I];return T(w,o.formatLong)}return w}).join("").match(eN).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const I=w[0];if(I==="'")return{isToken:!1,value:oN(w)};if(Ab[I])return{isToken:!0,value:w};if(I.match(sN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return{isToken:!1,value:w}});o.localize.preprocessor&&(u=o.localize.preprocessor(d,u));const h={firstWeekContainsDate:a,weekStartsOn:c,locale:o};return u.map(w=>{if(!w.isToken)return w.value;const I=w.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&gv(I)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&mv(I))&&_h(I,n,String(e));const T=Ab[I[0]];return T(d,I,o.localize,h)}).join("")}function oN(e){const n=e.match(nN);return n?n[1].replace(rN,"'"):e}function iN(e,n,r){const s=mo(),o=(r==null?void 0:r.locale)??s.locale??id,a=2520,c=sc(e,n);if(isNaN(c))throw new RangeError("Invalid time value");const d=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:c}),[u,h]=go(r==null?void 0:r.in,...c>0?[n,e]:[e,n]),x=hM(h,u),p=(Ei(h)-Ei(u))/1e3,m=Math.round((x-p)/60);let y;if(m<2)return r!=null&&r.includeSeconds?x<5?o.formatDistance("lessThanXSeconds",5,d):x<10?o.formatDistance("lessThanXSeconds",10,d):x<20?o.formatDistance("lessThanXSeconds",20,d):x<40?o.formatDistance("halfAMinute",0,d):x<60?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",1,d):m===0?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",m,d);if(m<45)return o.formatDistance("xMinutes",m,d);if(m<90)return o.formatDistance("aboutXHours",1,d);if(m<Ib){const b=Math.round(m/60);return o.formatDistance("aboutXHours",b,d)}else{if(m<a)return o.formatDistance("xDays",1,d);if(m<ql){const b=Math.round(m/Ib);return o.formatDistance("xDays",b,d)}else if(m<ql*2)return y=Math.round(m/ql),o.formatDistance("aboutXMonths",y,d)}if(y=uM(h,u),y<12){const b=Math.round(m/ql);return o.formatDistance("xMonths",b,d)}else{const b=y%12,S=Math.trunc(y/12);return b<3?o.formatDistance("aboutXYears",S,d):b<9?o.formatDistance("overXYears",S,d):o.formatDistance("almostXYears",S+1,d)}}function qr(e,n){return iN(e,sM(e),n)}function aN(e,n){return Qe(e,n==null?void 0:n.in).getDate()}function bv(e,n){const r=Qe(e,n==null?void 0:n.in),s=r.getFullYear(),o=r.getMonth(),a=on(r,0);return a.setFullYear(s,o+1,0),a.setHours(0,0,0,0),a.getDate()}function lN(){return Object.assign({},mo())}function cN(e,n){return Qe(e,n==null?void 0:n.in).getHours()}function dN(e,n){const r=Qe(e,n==null?void 0:n.in).getDay();return r===0?7:r}function uN(e){return Qe(e).getMilliseconds()}function hN(e,n){return Qe(e,n==null?void 0:n.in).getMinutes()}function fN(e,n){return Qe(e,n==null?void 0:n.in).getMonth()}function pN(e){return Qe(e).getSeconds()}function xN(e,n){return Qe(e,n==null?void 0:n.in).getFullYear()}function Zu(e,n){return+Qe(e)>+Qe(n)}function eh(e,n){return+Qe(e)<+Qe(n)}function mN(e,n){return+Qe(e)==+Qe(n)}function gN(e,n){const r=bN(n)?new n(0):on(n,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function bN(e){var n;return typeof e=="function"&&((n=e.prototype)==null?void 0:n.constructor)===e}const yN=10;class yv{constructor(){Ae(this,"subPriority",0)}validate(n,r){return!0}}class vN extends yv{constructor(n,r,s,o,a){super(),this.value=n,this.validateValue=r,this.setValue=s,this.priority=o,a&&(this.subPriority=a)}validate(n,r){return this.validateValue(n,this.value,r)}set(n,r,s){return this.setValue(n,r,this.value,s)}}class jN extends yv{constructor(r,s){super();Ae(this,"priority",yN);Ae(this,"subPriority",-1);this.context=r||(o=>on(s,o))}set(r,s){return s.timestampIsSet?r:on(r,gN(r,this.context))}}class $t{run(n,r,s,o){const a=this.parse(n,r,s,o);return a?{setter:new vN(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(n,r,s){return!0}}class SN extends $t{constructor(){super(...arguments);Ae(this,"priority",140);Ae(this,"incompatibleTokens",["R","u","t","T"])}parse(r,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"});case"GGGGG":return o.era(r,{width:"narrow"});case"GGGG":default:return o.era(r,{width:"wide"})||o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"})}}set(r,s,o){return s.era=o,r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}const Cn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ys={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Pn(e,n){return e&&{value:n(e.value),rest:e.rest}}function fn(e,n){const r=n.match(e);return r?{value:parseInt(r[0],10),rest:n.slice(r[0].length)}:null}function vs(e,n){const r=n.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:n.slice(1)};const s=r[1]==="+"?1:-1,o=r[2]?parseInt(r[2],10):0,a=r[3]?parseInt(r[3],10):0,c=r[5]?parseInt(r[5],10):0;return{value:s*(o*av+a*iv+c*Kk),rest:n.slice(r[0].length)}}function vv(e){return fn(Cn.anyDigitsSigned,e)}function yn(e,n){switch(e){case 1:return fn(Cn.singleDigit,n);case 2:return fn(Cn.twoDigits,n);case 3:return fn(Cn.threeDigits,n);case 4:return fn(Cn.fourDigits,n);default:return fn(new RegExp("^\\d{1,"+e+"}"),n)}}function Ic(e,n){switch(e){case 1:return fn(Cn.singleDigitSigned,n);case 2:return fn(Cn.twoDigitsSigned,n);case 3:return fn(Cn.threeDigitsSigned,n);case 4:return fn(Cn.fourDigitsSigned,n);default:return fn(new RegExp("^-?\\d{1,"+e+"}"),n)}}function op(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function jv(e,n){const r=n>0,s=r?n:1-n;let o;if(s<=50)o=e||100;else{const a=s+50,c=Math.trunc(a/100)*100,d=e>=a%100;o=e+c-(d?100:0)}return r?o:1-o}function Sv(e){return e%400===0||e%4===0&&e%100!==0}class wN extends $t{constructor(){super(...arguments);Ae(this,"priority",130);Ae(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,s,o){const a=c=>({year:c,isTwoDigitYear:s==="yy"});switch(s){case"y":return Pn(yn(4,r),a);case"yo":return Pn(o.ordinalNumber(r,{unit:"year"}),a);default:return Pn(yn(s.length,r),a)}}validate(r,s){return s.isTwoDigitYear||s.year>0}set(r,s,o){const a=r.getFullYear();if(o.isTwoDigitYear){const d=jv(o.year,a);return r.setFullYear(d,0,1),r.setHours(0,0,0,0),r}const c=!("era"in s)||s.era===1?o.year:1-o.year;return r.setFullYear(c,0,1),r.setHours(0,0,0,0),r}}class CN extends $t{constructor(){super(...arguments);Ae(this,"priority",130);Ae(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,s,o){const a=c=>({year:c,isTwoDigitYear:s==="YY"});switch(s){case"Y":return Pn(yn(4,r),a);case"Yo":return Pn(o.ordinalNumber(r,{unit:"year"}),a);default:return Pn(yn(s.length,r),a)}}validate(r,s){return s.isTwoDigitYear||s.year>0}set(r,s,o,a){const c=np(r,a);if(o.isTwoDigitYear){const u=jv(o.year,c);return r.setFullYear(u,0,a.firstWeekContainsDate),r.setHours(0,0,0,0),Vs(r,a)}const d=!("era"in s)||s.era===1?o.year:1-o.year;return r.setFullYear(d,0,a.firstWeekContainsDate),r.setHours(0,0,0,0),Vs(r,a)}}class PN extends $t{constructor(){super(...arguments);Ae(this,"priority",130);Ae(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,s){return Ic(s==="R"?4:s.length,r)}set(r,s,o){const a=on(r,0);return a.setFullYear(o,0,4),a.setHours(0,0,0,0),Ii(a)}}class DN extends $t{constructor(){super(...arguments);Ae(this,"priority",130);Ae(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,s){return Ic(s==="u"?4:s.length,r)}set(r,s,o){return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class IN extends $t{constructor(){super(...arguments);Ae(this,"priority",120);Ae(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,s,o){switch(s){case"Q":case"QQ":return yn(s.length,r);case"Qo":return o.ordinalNumber(r,{unit:"quarter"});case"QQQ":return o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(r,{width:"wide",context:"formatting"})||o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=1&&s<=4}set(r,s,o){return r.setMonth((o-1)*3,1),r.setHours(0,0,0,0),r}}class EN extends $t{constructor(){super(...arguments);Ae(this,"priority",120);Ae(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,s,o){switch(s){case"q":case"qq":return yn(s.length,r);case"qo":return o.ordinalNumber(r,{unit:"quarter"});case"qqq":return o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(r,{width:"wide",context:"standalone"})||o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=1&&s<=4}set(r,s,o){return r.setMonth((o-1)*3,1),r.setHours(0,0,0,0),r}}class TN extends $t{constructor(){super(...arguments);Ae(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ae(this,"priority",110)}parse(r,s,o){const a=c=>c-1;switch(s){case"M":return Pn(fn(Cn.month,r),a);case"MM":return Pn(yn(2,r),a);case"Mo":return Pn(o.ordinalNumber(r,{unit:"month"}),a);case"MMM":return o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(r,{width:"wide",context:"formatting"})||o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=11}set(r,s,o){return r.setMonth(o,1),r.setHours(0,0,0,0),r}}class AN extends $t{constructor(){super(...arguments);Ae(this,"priority",110);Ae(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,s,o){const a=c=>c-1;switch(s){case"L":return Pn(fn(Cn.month,r),a);case"LL":return Pn(yn(2,r),a);case"Lo":return Pn(o.ordinalNumber(r,{unit:"month"}),a);case"LLL":return o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(r,{width:"wide",context:"standalone"})||o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=0&&s<=11}set(r,s,o){return r.setMonth(o,1),r.setHours(0,0,0,0),r}}function RN(e,n,r){const s=Qe(e,r==null?void 0:r.in),o=rp(s,r)-n;return s.setDate(s.getDate()-o*7),Qe(s,r==null?void 0:r.in)}class _N extends $t{constructor(){super(...arguments);Ae(this,"priority",100);Ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,s,o){switch(s){case"w":return fn(Cn.week,r);case"wo":return o.ordinalNumber(r,{unit:"week"});default:return yn(s.length,r)}}validate(r,s){return s>=1&&s<=53}set(r,s,o,a){return Vs(RN(r,o,a),a)}}function ON(e,n,r){const s=Qe(e,r==null?void 0:r.in),o=pv(s,r)-n;return s.setDate(s.getDate()-o*7),s}class kN extends $t{constructor(){super(...arguments);Ae(this,"priority",100);Ae(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,s,o){switch(s){case"I":return fn(Cn.week,r);case"Io":return o.ordinalNumber(r,{unit:"week"});default:return yn(s.length,r)}}validate(r,s){return s>=1&&s<=53}set(r,s,o){return Ii(ON(r,o))}}const MN=[31,28,31,30,31,30,31,31,30,31,30,31],NN=[31,29,31,30,31,30,31,31,30,31,30,31];class LN extends $t{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"subPriority",1);Ae(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,s,o){switch(s){case"d":return fn(Cn.date,r);case"do":return o.ordinalNumber(r,{unit:"date"});default:return yn(s.length,r)}}validate(r,s){const o=r.getFullYear(),a=Sv(o),c=r.getMonth();return a?s>=1&&s<=NN[c]:s>=1&&s<=MN[c]}set(r,s,o){return r.setDate(o),r.setHours(0,0,0,0),r}}class $N extends $t{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"subpriority",1);Ae(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,s,o){switch(s){case"D":case"DD":return fn(Cn.dayOfYear,r);case"Do":return o.ordinalNumber(r,{unit:"date"});default:return yn(s.length,r)}}validate(r,s){const o=r.getFullYear();return Sv(o)?s>=1&&s<=366:s>=1&&s<=365}set(r,s,o){return r.setMonth(0,o),r.setHours(0,0,0,0),r}}function ip(e,n,r){var p,m,y,b;const s=mo(),o=(r==null?void 0:r.weekStartsOn)??((m=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??s.weekStartsOn??((b=(y=s.locale)==null?void 0:y.options)==null?void 0:b.weekStartsOn)??0,a=Qe(e,r==null?void 0:r.in),c=a.getDay(),u=(n%7+7)%7,h=7-o,x=n<0||n>6?n-(c+h)%7:(u+h)%7-(c+h)%7;return od(a,x,r)}class FN extends $t{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=6}set(r,s,o,a){return r=ip(r,o,a),r.setHours(0,0,0,0),r}}class WN extends $t{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,s,o,a){const c=d=>{const u=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+u};switch(s){case"e":case"ee":return Pn(yn(s.length,r),c);case"eo":return Pn(o.ordinalNumber(r,{unit:"day"}),c);case"eee":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeeee":return o.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=6}set(r,s,o,a){return r=ip(r,o,a),r.setHours(0,0,0,0),r}}class BN extends $t{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,s,o,a){const c=d=>{const u=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+u};switch(s){case"c":case"cc":return Pn(yn(s.length,r),c);case"co":return Pn(o.ordinalNumber(r,{unit:"day"}),c);case"ccc":return o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"ccccc":return o.day(r,{width:"narrow",context:"standalone"});case"cccccc":return o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(r,{width:"wide",context:"standalone"})||o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=0&&s<=6}set(r,s,o,a){return r=ip(r,o,a),r.setHours(0,0,0,0),r}}function VN(e,n,r){const s=Qe(e,r==null?void 0:r.in),o=dN(s,r),a=n-o;return od(s,a,r)}class UN extends $t{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,s,o){const a=c=>c===0?7:c;switch(s){case"i":case"ii":return yn(s.length,r);case"io":return o.ordinalNumber(r,{unit:"day"});case"iii":return Pn(o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),a);case"iiiii":return Pn(o.day(r,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Pn(o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Pn(o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),a)}}validate(r,s){return s>=1&&s<=7}set(r,s,o){return r=VN(r,o),r.setHours(0,0,0,0),r}}class zN extends $t{constructor(){super(...arguments);Ae(this,"priority",80);Ae(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,o){return r.setHours(op(o),0,0,0),r}}class HN extends $t{constructor(){super(...arguments);Ae(this,"priority",80);Ae(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,o){return r.setHours(op(o),0,0,0),r}}class YN extends $t{constructor(){super(...arguments);Ae(this,"priority",80);Ae(this,"incompatibleTokens",["a","b","t","T"])}parse(r,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,o){return r.setHours(op(o),0,0,0),r}}class GN extends $t{constructor(){super(...arguments);Ae(this,"priority",70);Ae(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,s,o){switch(s){case"h":return fn(Cn.hour12h,r);case"ho":return o.ordinalNumber(r,{unit:"hour"});default:return yn(s.length,r)}}validate(r,s){return s>=1&&s<=12}set(r,s,o){const a=r.getHours()>=12;return a&&o<12?r.setHours(o+12,0,0,0):!a&&o===12?r.setHours(0,0,0,0):r.setHours(o,0,0,0),r}}class qN extends $t{constructor(){super(...arguments);Ae(this,"priority",70);Ae(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,s,o){switch(s){case"H":return fn(Cn.hour23h,r);case"Ho":return o.ordinalNumber(r,{unit:"hour"});default:return yn(s.length,r)}}validate(r,s){return s>=0&&s<=23}set(r,s,o){return r.setHours(o,0,0,0),r}}class KN extends $t{constructor(){super(...arguments);Ae(this,"priority",70);Ae(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,s,o){switch(s){case"K":return fn(Cn.hour11h,r);case"Ko":return o.ordinalNumber(r,{unit:"hour"});default:return yn(s.length,r)}}validate(r,s){return s>=0&&s<=11}set(r,s,o){return r.getHours()>=12&&o<12?r.setHours(o+12,0,0,0):r.setHours(o,0,0,0),r}}class JN extends $t{constructor(){super(...arguments);Ae(this,"priority",70);Ae(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,s,o){switch(s){case"k":return fn(Cn.hour24h,r);case"ko":return o.ordinalNumber(r,{unit:"hour"});default:return yn(s.length,r)}}validate(r,s){return s>=1&&s<=24}set(r,s,o){const a=o<=24?o%24:o;return r.setHours(a,0,0,0),r}}class XN extends $t{constructor(){super(...arguments);Ae(this,"priority",60);Ae(this,"incompatibleTokens",["t","T"])}parse(r,s,o){switch(s){case"m":return fn(Cn.minute,r);case"mo":return o.ordinalNumber(r,{unit:"minute"});default:return yn(s.length,r)}}validate(r,s){return s>=0&&s<=59}set(r,s,o){return r.setMinutes(o,0,0),r}}class QN extends $t{constructor(){super(...arguments);Ae(this,"priority",50);Ae(this,"incompatibleTokens",["t","T"])}parse(r,s,o){switch(s){case"s":return fn(Cn.second,r);case"so":return o.ordinalNumber(r,{unit:"second"});default:return yn(s.length,r)}}validate(r,s){return s>=0&&s<=59}set(r,s,o){return r.setSeconds(o,0),r}}class ZN extends $t{constructor(){super(...arguments);Ae(this,"priority",30);Ae(this,"incompatibleTokens",["t","T"])}parse(r,s){const o=a=>Math.trunc(a*Math.pow(10,-s.length+3));return Pn(yn(s.length,r),o)}set(r,s,o){return r.setMilliseconds(o),r}}class e5 extends $t{constructor(){super(...arguments);Ae(this,"priority",10);Ae(this,"incompatibleTokens",["t","T","x"])}parse(r,s){switch(s){case"X":return vs(ys.basicOptionalMinutes,r);case"XX":return vs(ys.basic,r);case"XXXX":return vs(ys.basicOptionalSeconds,r);case"XXXXX":return vs(ys.extendedOptionalSeconds,r);case"XXX":default:return vs(ys.extended,r)}}set(r,s,o){return s.timestampIsSet?r:on(r,r.getTime()-Ei(r)-o)}}class t5 extends $t{constructor(){super(...arguments);Ae(this,"priority",10);Ae(this,"incompatibleTokens",["t","T","X"])}parse(r,s){switch(s){case"x":return vs(ys.basicOptionalMinutes,r);case"xx":return vs(ys.basic,r);case"xxxx":return vs(ys.basicOptionalSeconds,r);case"xxxxx":return vs(ys.extendedOptionalSeconds,r);case"xxx":default:return vs(ys.extended,r)}}set(r,s,o){return s.timestampIsSet?r:on(r,r.getTime()-Ei(r)-o)}}class n5 extends $t{constructor(){super(...arguments);Ae(this,"priority",40);Ae(this,"incompatibleTokens","*")}parse(r){return vv(r)}set(r,s,o){return[on(r,o*1e3),{timestampIsSet:!0}]}}class r5 extends $t{constructor(){super(...arguments);Ae(this,"priority",20);Ae(this,"incompatibleTokens","*")}parse(r){return vv(r)}set(r,s,o){return[on(r,o),{timestampIsSet:!0}]}}const s5={G:new SN,y:new wN,Y:new CN,R:new PN,u:new DN,Q:new IN,q:new EN,M:new TN,L:new AN,w:new _N,I:new kN,d:new LN,D:new $N,E:new FN,e:new WN,c:new BN,i:new UN,a:new zN,b:new HN,B:new YN,h:new GN,H:new qN,K:new KN,k:new JN,m:new XN,s:new QN,S:new ZN,X:new e5,x:new t5,t:new n5,T:new r5},o5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,i5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,a5=/^'([^]*?)'?$/,l5=/''/g,c5=/\S/,d5=/[a-zA-Z]/;function u5(e,n,r,s){var j,D,w,I,T,_,R,O;const o=()=>on((s==null?void 0:s.in)||r,NaN),a=lN(),c=(s==null?void 0:s.locale)??a.locale??id,d=(s==null?void 0:s.firstWeekContainsDate)??((D=(j=s==null?void 0:s.locale)==null?void 0:j.options)==null?void 0:D.firstWeekContainsDate)??a.firstWeekContainsDate??((I=(w=a.locale)==null?void 0:w.options)==null?void 0:I.firstWeekContainsDate)??1,u=(s==null?void 0:s.weekStartsOn)??((_=(T=s==null?void 0:s.locale)==null?void 0:T.options)==null?void 0:_.weekStartsOn)??a.weekStartsOn??((O=(R=a.locale)==null?void 0:R.options)==null?void 0:O.weekStartsOn)??0;if(!n)return e?o():Qe(r,s==null?void 0:s.in);const h={firstWeekContainsDate:d,weekStartsOn:u,locale:c},x=[new jN(s==null?void 0:s.in,r)],p=n.match(i5).map(A=>{const L=A[0];if(L in Dc){const W=Dc[L];return W(A,c.formatLong)}return A}).join("").match(o5),m=[];for(let A of p){!(s!=null&&s.useAdditionalWeekYearTokens)&&gv(A)&&_h(A,n,e),!(s!=null&&s.useAdditionalDayOfYearTokens)&&mv(A)&&_h(A,n,e);const L=A[0],W=s5[L];if(W){const{incompatibleTokens:H}=W;if(Array.isArray(H)){const se=m.find(Z=>H.includes(Z.token)||Z.token===L);if(se)throw new RangeError(`The format string mustn't contain \`${se.fullToken}\` and \`${A}\` at the same time`)}else if(W.incompatibleTokens==="*"&&m.length>0)throw new RangeError(`The format string mustn't contain \`${A}\` and any other token at the same time`);m.push({token:L,fullToken:A});const N=W.run(e,A,c.match,h);if(!N)return o();x.push(N.setter),e=N.rest}else{if(L.match(d5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");if(A==="''"?A="'":L==="'"&&(A=h5(A)),e.indexOf(A)===0)e=e.slice(A.length);else return o()}}if(e.length>0&&c5.test(e))return o();const y=x.map(A=>A.priority).sort((A,L)=>L-A).filter((A,L,W)=>W.indexOf(A)===L).map(A=>x.filter(L=>L.priority===A).sort((L,W)=>W.subPriority-L.subPriority)).map(A=>A[0]);let b=Qe(r,s==null?void 0:s.in);if(isNaN(+b))return o();const S={};for(const A of y){if(!A.validate(b,h))return o();const L=A.set(b,S,h);Array.isArray(L)?(b=L[0],Object.assign(S,L[1])):b=L}return b}function h5(e){return e.match(a5)[1].replace(l5,"'")}function kb(e,n){const r=Qe(e,n==null?void 0:n.in);return r.setMinutes(0,0,0),r}function f5(e,n,r){const[s,o]=go(r==null?void 0:r.in,e,n);return+kb(s)==+kb(o)}function p5(e,n,r){const[s,o]=go(r==null?void 0:r.in,e,n);return s.getFullYear()===o.getFullYear()&&s.getMonth()===o.getMonth()}function x5(e,n,r){const[s,o]=go(r==null?void 0:r.in,e,n);return s.getFullYear()===o.getFullYear()}function m5(e,n,r){const s=+Qe(e,r==null?void 0:r.in),[o,a]=[+Qe(n.start,r==null?void 0:r.in),+Qe(n.end,r==null?void 0:r.in)].sort((c,d)=>c-d);return s>=o&&s<=a}function g5(e,n,r){const s=Qe(e,r==null?void 0:r.in),o=s.getFullYear(),a=s.getDate(),c=on(e,0);c.setFullYear(o,n,15),c.setHours(0,0,0,0);const d=bv(c);return s.setMonth(n,Math.min(a,d)),s}function b5(e,n,r){const s=Qe(e,r==null?void 0:r.in);return s.setDate(n),s}function y5(e,n,r){const s=Qe(e,r==null?void 0:r.in);return s.setHours(n),s}function v5(e,n,r){const s=Qe(e,r==null?void 0:r.in);return s.setMilliseconds(n),s}function j5(e,n,r){const s=Qe(e,r==null?void 0:r.in);return s.setMinutes(n),s}function S5(e,n,r){const s=Qe(e,r==null?void 0:r.in);return s.setSeconds(n),s}function w5(e,n,r){const s=Qe(e,r==null?void 0:r.in);return isNaN(+s)?on(e,NaN):(s.setFullYear(n),s)}const Mb=({news:e,mode:n="scroll"})=>{var d,u;const r=Ct(),s=xn(),o=(d=e.media)==null?void 0:d.find(h=>h.type===Ja.COVER),a=h=>{h.target.closest(".action-button")||r(ve.APP_NEWS_VIEW.replace(":id",e.id))},c=h=>{h.stopPropagation(),r(ve.APP_CHANNEL_VIEW.replace(":channelId",e.channel.id))};return t.jsxs(C,{onClick:a,sx:{position:"relative",width:"100%",height:n==="grid"?"auto":"90vh",maxWidth:n==="scroll"?"480px":"100%",margin:n==="scroll"?"0 auto":0,aspectRatio:n==="grid"?"4/5":void 0,borderRadius:n==="grid"?3:4,overflow:"hidden",bgcolor:s.palette.mode==="dark"?"#000":"#111",boxShadow:"none",cursor:"pointer",transition:"opacity 0.2s ease","&:hover":{opacity:.95}},children:[t.jsxs(C,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:0},children:[(o==null?void 0:o.format)===Pc.VIDEO?t.jsx(C,{component:"video",src:o.url,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,sx:{width:"100%",height:"100%",objectFit:"cover",filter:"brightness(0.7)"}}):t.jsx(C,{component:"img",src:(o==null?void 0:o.url)||sd,alt:e.title,sx:{width:"100%",height:"100%",objectFit:"cover",filter:"brightness(0.7)"}}),t.jsx(C,{sx:{position:"absolute",top:0,left:0,right:0,height:"30%",background:"linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%)",zIndex:1}}),t.jsx(C,{sx:{position:"absolute",bottom:0,left:0,right:0,height:"70%",background:"linear-gradient(to top, rgba(0,0,0,0.95) 0%, rgba(0,0,0,0) 100%)",zIndex:1}})]}),t.jsx(C,{sx:{position:"relative",zIndex:2,height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",p:2.5},children:n==="grid"?t.jsxs(t.Fragment,{children:[t.jsx(C,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:((u=e.qualityMetrics)==null?void 0:u.overallQualityScore)&&t.jsx(Ye,{icon:t.jsx(tp,{sx:{fontSize:"0.875rem"}}),label:e.qualityMetrics.overallQualityScore.toFixed(1),size:"small",sx:{height:24,bgcolor:fe(s.palette.success.main,.9),color:"white",fontWeight:700,fontSize:"0.7rem",backdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}})}),t.jsxs(C,{children:[t.jsx(v,{variant:"h6",sx:{fontWeight:700,fontSize:"1.1rem",color:"white",textShadow:"0 2px 8px rgba(0,0,0,0.9)",mb:1.5,lineHeight:1.2,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.title}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:1},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(Uo,{sx:{fontSize:"1.1rem",mr:.5,color:"white",filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.5))"}}),t.jsx(v,{variant:"body2",sx:{fontWeight:700,fontSize:"0.875rem",color:"white",textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:"12K"})]}),t.jsx(Le,{className:"action-button",size:"small",onClick:h=>{h.stopPropagation()},sx:{bgcolor:fe("#fff",.2),backdropFilter:"blur(10px)",color:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.3)","&:hover":{bgcolor:fe(s.palette.error.main,.8),transform:"scale(1.1)"},transition:"all 0.2s ease"},children:t.jsx(Qf,{sx:{fontSize:"1rem"}})})]})]})]}):t.jsx(t.Fragment,{children:t.jsx(C,{sx:{display:"flex",height:"100%",position:"relative"},children:t.jsxs(C,{sx:{flex:1,display:"flex",flexDirection:"column",justifyContent:"flex-end"},children:[t.jsxs(C,{onClick:c,className:"action-button",sx:{display:"flex",alignItems:"center",mb:1.5,cursor:"pointer","&:hover":{"& .channel-avatar":{transform:"scale(1.1)"}}},children:[t.jsx(wn,{src:e.channel.logoUrl,alt:e.channel.name,className:"channel-avatar",sx:{width:40,height:40,bgcolor:s.palette.primary.main,border:"2px solid white",boxShadow:"0 2px 8px rgba(0,0,0,0.3)",transition:"transform 0.2s ease"}}),t.jsxs(C,{sx:{ml:1.5},children:[t.jsx(v,{variant:"body2",sx:{fontWeight:700,fontSize:"0.95rem",color:"white",textShadow:"0 1px 3px rgba(0,0,0,0.8)"},children:e.channel.name}),t.jsx(v,{variant:"caption",sx:{fontSize:"0.75rem",color:"rgba(255,255,255,0.9)",textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:qr(new Date(e.publishedAt),{addSuffix:!0})})]})]}),t.jsx(v,{variant:"h6",sx:{fontWeight:800,fontSize:"1.2rem",color:"white",textShadow:"0 2px 8px rgba(0,0,0,0.9)",mb:.5,lineHeight:1.2,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.title}),t.jsx(v,{variant:"body2",sx:{fontSize:"0.875rem",color:"rgba(255,255,255,0.95)",textShadow:"0 1px 4px rgba(0,0,0,0.9)",lineHeight:1.4,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",mb:1.5},children:e.content}),e.tags&&e.tags.length>0&&t.jsx(ye,{direction:"row",spacing:.5,sx:{flexWrap:"wrap",gap:.5},children:e.tags.slice(0,3).map(h=>t.jsx(Ye,{label:`#${h.title}`,size:"small",sx:{height:22,fontSize:"0.7rem",fontWeight:600,bgcolor:fe("#fff",.15),backdropFilter:"blur(10px)",color:"white",border:"1px solid",borderColor:fe("#fff",.2),textShadow:"0 1px 2px rgba(0,0,0,0.5)","&:hover":{bgcolor:fe("#fff",.25)}}},h.id))})]})})})})]})};var ap={},C5=Ze;Object.defineProperty(ap,"__esModule",{value:!0});var wv=ap.default=void 0,P5=C5(et()),D5=t;wv=ap.default=(0,P5.default)((0,D5.jsx)("path",{d:"M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2m0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19z"}),"Inbox");const zs=({title:e,description:n,icon:r=t.jsx(wv,{sx:{fontSize:48}}),action:s})=>t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:4,borderRadius:2,bgcolor:o=>o.palette.mode==="dark"?fe(o.palette.common.white,.05):fe(o.palette.common.black,.02),textAlign:"center"},children:[t.jsx(C,{sx:{color:"text.secondary",mb:2},children:r}),t.jsx(v,{variant:"h6",sx:{fontWeight:600,mb:1},children:e}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:s?3:0},children:n}),s&&t.jsx(xe,{variant:"contained",onClick:s.onClick,sx:{textTransform:"none",fontWeight:600},children:s.label})]});var lp={},I5=Ze;Object.defineProperty(lp,"__esModule",{value:!0});var ad=lp.default=void 0,E5=I5(et()),T5=t;ad=lp.default=(0,E5.default)((0,T5.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share");const Nb=({count:e=2})=>t.jsx(ye,{spacing:2,sx:{mt:2},children:[...Array(e)].map((n,r)=>t.jsxs(C,{sx:{p:2,borderRadius:2,bgcolor:s=>s.palette.mode==="dark"?fe(s.palette.common.white,.05):fe(s.palette.common.black,.03)},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(C,{sx:{width:32,height:32,borderRadius:1,bgcolor:s=>s.palette.mode==="dark"?fe(s.palette.common.white,.1):fe(s.palette.common.black,.1),mr:1}}),t.jsx(C,{sx:{height:20,width:"30%",borderRadius:.5,bgcolor:"grey.300"}})]}),t.jsx(C,{sx:{height:24,width:"60%",mb:2,borderRadius:.5,bgcolor:"grey.300"}}),t.jsx(C,{sx:{height:100,width:"100%",borderRadius:1,bgcolor:"grey.200",mb:2}}),t.jsx(C,{sx:{height:16,width:"40%",borderRadius:.5,bgcolor:"grey.200"}})]},r))}),Cv=({filters:e={},emptyTitle:n="No news found",emptyDescription:r="No news articles available at the moment",itemsPerPage:s=12,mode:o="scroll"})=>{const[a,c]=g.useState([]),[d,u]=g.useState(!0),[h,x]=g.useState(1),[p,m]=g.useState(!0),{api:y}=Xe(),{execute:b}=nt(),S=xn(),j=async(w=h)=>{try{u(!0);const I=await b(()=>y==null?void 0:y.newsApi.getNews(e,{page:w,limit:s}),{showErrorToast:!0});I&&(c(w===1?I.items:T=>[...T,...I.items]),m(I.metadata.hasNext),x(I.metadata.currentPage))}finally{u(!1)}};g.useEffect(()=>{c([]),x(1),j(1)},[JSON.stringify(e)]);const D=()=>{!d&&p&&j(h+1)};return a.length===0&&!d?t.jsx(zs,{title:n,description:r}):o==="grid"?t.jsx(C,{sx:{width:"100%"},children:d&&a.length===0?t.jsx(Nb,{}):t.jsx(Bs,{dataLength:a.length,next:D,hasMore:p,loader:t.jsx(C,{}),endMessage:t.jsx(C,{sx:{textAlign:"center",py:4,color:"text.secondary",fontSize:"0.875rem"},children:"No more news to display"}),children:t.jsx($,{container:!0,spacing:3,children:a.map(w=>t.jsx($,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Mb,{news:w,mode:"grid"})},w.id))})})}):t.jsx(C,{sx:{width:"100%",height:"100%",display:"flex",justifyContent:"center",overflowY:"scroll",scrollSnapType:"y mandatory",scrollBehavior:"smooth","&::-webkit-scrollbar":{display:"none"},msOverflowStyle:"none",scrollbarWidth:"none",px:{xs:2,sm:0}},children:t.jsx(C,{sx:{width:"100%",maxWidth:480},children:d&&a.length===0?t.jsx(Nb,{}):t.jsx(Bs,{dataLength:a.length,next:D,hasMore:p,loader:t.jsx(C,{}),endMessage:t.jsx(C,{sx:{textAlign:"center",py:4,color:"text.secondary",fontSize:"0.875rem",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:"No more news to display"}),style:{overflow:"visible",paddingBottom:"64px"},children:a.map(w=>{var I;return t.jsxs(C,{sx:{position:"relative",scrollSnapAlign:"start",scrollSnapStop:"always",height:"calc(100vh - 64px)",display:"flex",alignItems:"center",justifyContent:"center"},children:[t.jsx(Mb,{news:w}),t.jsxs(C,{sx:{position:"absolute",right:{xs:8,sm:-60},bottom:"5vh",display:"flex",flexDirection:"column",alignItems:"center",gap:2.5,zIndex:10},children:[((I=w.qualityMetrics)==null?void 0:I.overallQualityScore)&&t.jsx(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:t.jsx(Ye,{icon:t.jsx(tp,{sx:{fontSize:"0.875rem"}}),label:w.qualityMetrics.overallQualityScore.toFixed(1),size:"small",sx:{height:28,bgcolor:fe(S.palette.success.main,.9),color:"white",fontWeight:700,fontSize:"0.75rem",backdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}})}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[t.jsx(Le,{className:"action-button",size:"medium",onClick:T=>{T.stopPropagation()},sx:{bgcolor:S.palette.mode==="dark"?fe("#fff",.2):fe("#000",.6),backdropFilter:"blur(10px)",color:"white",boxShadow:S.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)","&:hover":{bgcolor:fe(S.palette.error.main,.8),transform:"scale(1.1)"},transition:"all 0.2s ease",width:48,height:48},children:t.jsx(Qf,{sx:{fontSize:"1.5rem"}})}),t.jsx(v,{variant:"caption",sx:{color:"white",fontWeight:700,fontSize:"0.75rem",mt:.5,textShadow:"0 1px 2px rgba(0,0,0,0.8)"}})]}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[t.jsx(Le,{className:"action-button",size:"medium",onClick:T=>{T.stopPropagation()},sx:{bgcolor:S.palette.mode==="dark"?fe("#fff",.2):fe("#000",.6),backdropFilter:"blur(10px)",color:"white",boxShadow:S.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)","&:hover":{bgcolor:S.palette.mode==="dark"?fe("#fff",.3):fe("#000",.7),transform:"scale(1.1)"},transition:"all 0.2s ease",width:48,height:48},children:t.jsx(ad,{sx:{fontSize:"1.5rem"}})}),t.jsx(v,{variant:"caption",sx:{color:"white",fontWeight:700,fontSize:"0.75rem",mt:.5,textShadow:"0 1px 2px rgba(0,0,0,0.8)"}})]}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[t.jsx(C,{sx:{bgcolor:S.palette.mode==="dark"?fe("#fff",.2):fe("#000",.6),backdropFilter:"blur(10px)",borderRadius:"50%",width:48,height:48,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:S.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)"},children:t.jsx(Uo,{sx:{fontSize:"1.5rem",color:"white",filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.5))"}})}),t.jsx(v,{variant:"caption",sx:{color:"white",fontWeight:700,fontSize:"0.75rem",mt:.5,textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:"12K"})]})]})]},w.id)})})})})},A5=(e={})=>{if(e.feed)return{title:"Your Feed",description:"Latest news from your personalized feed",emptyTitle:"Your feed is empty",emptyDescription:"Follow some journalists to see their latest news here"};if(e.trending)return{title:"Trending News",description:"Discover the most popular news from our community",emptyTitle:"No trending news",emptyDescription:"There are no trending news articles at the moment"};if(e.subscribed)return{title:"Subscribed Channels",description:"Latest news from your subscribed channels",emptyTitle:"No news from subscriptions",emptyDescription:"Subscribe to channels to see their latest news here"};if(e.premium)return{title:"Premium News",description:"Exclusive premium content",emptyTitle:"No premium news",emptyDescription:"No premium news articles available at the moment"};if(e.channel)return{title:"Channel News",description:"News from this channel",emptyTitle:"No news in this channel",emptyDescription:"This channel has not published any news yet"};if(e.creator)return{title:"Creator News",description:"News from this creator",emptyTitle:"No news from this creator",emptyDescription:"This creator has not published any news yet"};if(e.tags&&e.tags.length>0){const n=e.tags.length===1?"tag":"tags";return{title:`News by ${n.charAt(0).toUpperCase()+n.slice(1)}`,description:`News tagged with: ${e.tags.join(", ")}`,emptyTitle:`No news with these ${n}`,emptyDescription:`No news articles found with the selected ${n}`}}return{title:"All News",description:"Latest news from our community",emptyTitle:"No news found",emptyDescription:"No news articles available at the moment"}},Oh=({filters:e={},emptyTitle:n,emptyDescription:r,showSearch:s=!1,mode:o="scroll"})=>{const a=po(),c=Ct(),[d,u]=g.useState(""),[h,x]=g.useState("");g.useEffect(()=>{const w=new URLSearchParams(a.search).get("q");if(w){const I=decodeURIComponent(w);u(I),x(I)}},[a.search]);const p=A5(e),m=n||p.emptyTitle,y=r||p.emptyDescription,b={...e,query:d||void 0},S=D=>{D.preventDefault();const w=h.trim();u(w);const I=new URLSearchParams(a.search);w?I.set("q",encodeURIComponent(w)):I.delete("q");const T=`${a.pathname}?${I.toString()}`;c(T,{replace:!0})},j=()=>{x(""),u("");const D=new URLSearchParams(a.search);D.delete("q");const w=`${a.pathname}?${D.toString()}`;c(w,{replace:!0})};return t.jsxs(C,{sx:{width:"100%",height:"100vh",overflow:"hidden",display:"flex",flexDirection:"column",...o==="scroll"&&{position:"fixed",top:64,left:0,right:0,bottom:0,margin:0,padding:0,zIndex:1}},children:[s&&o==="grid"&&t.jsx(C,{sx:{flexShrink:0,mb:2},children:t.jsx("form",{onSubmit:S,children:t.jsx(rt,{fullWidth:!0,placeholder:"Search news by title or content...",value:h,onChange:D=>x(D.target.value),InputProps:{startAdornment:t.jsx(Qr,{position:"start",children:t.jsx(Ya,{color:"action"})}),endAdornment:h&&t.jsx(Qr,{position:"end",children:t.jsx(Le,{size:"small",onClick:j,edge:"end",children:t.jsx(Jf,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"background.paper"}}})})}),t.jsx(C,{sx:{flex:1,overflow:"hidden"},children:t.jsx(Cv,{filters:b,emptyTitle:m,emptyDescription:y,mode:o})})]})},R5=e=>{switch(e){case br.INSTAGRAM:return mT;case br.TWITTER:return xT;case br.YOUTUBE:return pT;case br.TIKTOK:return fT;case br.FACEBOOK:return hT;case br.LINKEDIN:return uT;case br.OTHER:default:return dT}},_5=e=>{switch(e){case br.INSTAGRAM:return"#E4405F";case br.TWITTER:return"#1DA1F2";case br.YOUTUBE:return"#FF0000";case br.TIKTOK:return"#000000";case br.FACEBOOK:return"#1877F2";case br.LINKEDIN:return"#0A66C2";default:return"#757575"}},O5=e=>{var n;return((n=Object.entries(br).find(([,r])=>r===e))==null?void 0:n[0])||"Other"};var cp={},k5=Ze;Object.defineProperty(cp,"__esModule",{value:!0});var Pv=cp.default=void 0,M5=k5(et()),N5=t;Pv=cp.default=(0,M5.default)((0,N5.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39"}),"Public");var dp={},L5=Ze;Object.defineProperty(dp,"__esModule",{value:!0});var Dv=dp.default=void 0,$5=L5(et()),F5=t;Dv=dp.default=(0,$5.default)((0,F5.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"Launch");const up=({links:e})=>e.length?t.jsxs(ot,{variant:"outlined",sx:{p:2,bgcolor:"background.paper",borderRadius:2,width:"100%"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Pv,{sx:{mr:1,color:"primary.main"}}),t.jsx(v,{variant:"h6",component:"div",children:"Read More On"})]}),t.jsx(Lt,{sx:{mb:2}}),t.jsx(ye,{spacing:1.5,children:e.map(n=>t.jsx(Yc,{href:n.url,target:"_blank",rel:"noopener noreferrer",underline:"none",sx:{color:"inherit",display:"block","&:hover":{"& .MuiPaper-root":{bgcolor:"action.hover",borderColor:"primary.main"},"& .launch-icon":{color:"primary.main"}}},children:t.jsxs(ot,{variant:"outlined",sx:{p:1.5,display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.2s ease-in-out"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(C,{sx:{color:_5(n.platform),display:"flex",mr:1.5},children:Dt.createElement(R5(n.platform))}),t.jsx(v,{variant:"body2",children:O5(n.platform)})]}),t.jsx(Dv,{fontSize:"small",className:"launch-icon",sx:{color:"text.secondary",transition:"color 0.2s ease-in-out"}})]})},n.id))})]}):null;var hp={},W5=Ze;Object.defineProperty(hp,"__esModule",{value:!0});var Xa=hp.default=void 0,B5=W5(et()),V5=t;Xa=hp.default=(0,B5.default)((0,V5.jsx)("path",{d:"M18 11v2h4v-2zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61M20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4M4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34"}),"Campaign");var fp={},U5=Ze;Object.defineProperty(fp,"__esModule",{value:!0});var pp=fp.default=void 0,z5=U5(et()),H5=t;pp=fp.default=(0,z5.default)((0,H5.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");const Y5={header:{class:vA,config:{levels:[1,2,3,4],defaultLevel:2,placeholder:""}},list:{class:jA,inlineToolbar:!0,config:{placeholder:""}},checklist:{class:SA,inlineToolbar:!0,config:{placeholder:""}},quote:{class:wA,inlineToolbar:!0,config:{quotePlaceholder:"",captionPlaceholder:""}},code:CA,inlineCode:{class:PA},marker:{class:DA},image:{class:IA,config:{endpoints:{byFile:"/api/upload/image",byUrl:"/api/fetch/image"}}},linkTool:{class:EA,config:{endpoint:"/api/fetch/link"}},table:{class:TA,inlineToolbar:!0},warning:{class:AA,inlineToolbar:!0,config:{titlePlaceholder:"Title",messagePlaceholder:"Message"}},delimiter:RA},ld=({data:e,onChange:n,readOnly:r=!1,placeholder:s="Start writing your content...",borderColor:o})=>{const a=xn(),c=g.useRef(null),d=g.useRef(`editor-${Math.random().toString(36).slice(2,7)}`);return g.useEffect(()=>((async()=>{if(c.current){try{await c.current.isReady,await c.current.destroy()}catch(x){console.error("Editor cleanup failed:",x)}c.current=null}const h=new yA({holder:d.current,tools:Y5,data:e,placeholder:s,readOnly:r,onChange:async x=>{const p=await x.saver.save();n==null||n(p)},autofocus:!1});c.current=h})().catch(console.error),()=>{c.current&&c.current.destroy&&c.current.isReady.then(()=>{var h;(h=c.current)!=null&&h.destroy&&c.current.destroy(),c.current=null}).catch(console.error)}),[]),t.jsx(C,{id:d.current,sx:{minHeight:300,border:"1px solid",borderColor:typeof o=="function"?o(a):o||a.palette.divider,borderRadius:1,p:2,"& .ce-toolbar__plus, & .ce-toolbar__settings-btn, & .cdx-button":{color:u=>u.palette.mode==="dark"?fe(u.palette.common.white,.7):fe(u.palette.common.black,.7),backgroundColor:"transparent"},"& .ce-toolbar__plus:hover, & .ce-toolbar__settings-btn:hover, & .cdx-button:hover":{backgroundColor:u=>u.palette.mode==="dark"?fe(u.palette.common.white,.1):fe(u.palette.common.black,.1)},"& ::selection":{backgroundColor:u=>u.palette.mode==="dark"?fe(u.palette.primary.main,.3):fe(u.palette.primary.main,.3),color:u=>u.palette.mode==="dark"?u.palette.common.white:u.palette.common.black},"& ::-moz-selection":{backgroundColor:u=>u.palette.mode==="dark"?fe(u.palette.primary.main,.3):fe(u.palette.primary.main,.3),color:u=>u.palette.mode==="dark"?u.palette.common.white:u.palette.common.black},"& .ce-block--selected":{backgroundColor:u=>u.palette.mode==="dark"?fe(u.palette.primary.main,.1):fe(u.palette.primary.main,.05),color:u=>u.palette.mode==="dark"?u.palette.common.white:u.palette.text.primary},"& .ce-block--selected .ce-block__content":{color:u=>u.palette.mode==="dark"?u.palette.common.white:u.palette.text.primary}}})},Iv=e=>{if(e)try{return JSON.parse(e)}catch{return{blocks:[{type:"paragraph",data:{text:e}}]}}};var Ke=(e=>(e[e.DRAFT=1]="DRAFT",e[e.SUBMITTED=2]="SUBMITTED",e[e.UNDER_REVIEW=3]="UNDER_REVIEW",e[e.APPROVED=4]="APPROVED",e[e.REJECTED=5]="REJECTED",e[e.PAID=6]="PAID",e[e.CANCELLED=7]="CANCELLED",e))(Ke||{});const wa={1:"Draft",2:"Submitted",3:"Under Review",4:"Approved",5:"Rejected",6:"Paid",7:"Cancelled"},Lb={1:"#9e9e9e",2:"#2196f3",3:"#ff9800",4:"#4caf50",5:"#f44336",6:"#8bc34a",7:"#607d8b"},di=(e,n="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:n,notation:"compact",maximumFractionDigits:2}).format(e),G5=({newsId:e,channelId:n,newsFund:r})=>{const{api:s}=Xe(),{execute:o}=nt(),[a,c]=g.useState(!0),[d,u]=g.useState(null),[h,x]=g.useState([]),[p,m]=g.useState(null),[y,b]=g.useState(null);g.useEffect(()=>{(async()=>{var T,_,R;c(!0),b(null);try{const O=await o(()=>s==null?void 0:s.fundingApi.getFundSummary("news",e),{showErrorToast:!1}),A=await o(()=>s==null?void 0:s.expenseOrderApi.getExpenseOrdersByChannel(n),{showErrorToast:!1});u(O||null),x((A==null?void 0:A.items)||[]);const L={totalFunding:((T=O==null?void 0:O.fund)==null?void 0:T.current_amount)||(r==null?void 0:r.amount)||0,totalExpenses:((_=A==null?void 0:A.items)==null?void 0:_.reduce((W,H)=>H.status===Ke.PAID?W+H.amount:W,0))||0,netAmount:0,fundingContributions:(O==null?void 0:O.total_contributors)||0,expenseCount:((R=A==null?void 0:A.items)==null?void 0:R.length)||0,payoutAmount:0};L.netAmount=L.totalFunding-L.totalExpenses,m(L)}catch(O){b("Failed to load transaction data"),console.error("Transaction data fetch error:",O)}finally{c(!1)}})()},[e,n,r,s,o]);const S=()=>{if(!p)return null;const I=p.totalFunding>0?Math.min(p.totalFunding/((r==null?void 0:r.goal_amount)||p.totalFunding)*100,100):0;return t.jsx(Ne,{elevation:2,children:t.jsxs(Fe,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(us,{color:"success",sx:{mr:1}}),t.jsx(v,{variant:"h6",color:"success.main",children:"Funding Received"})]}),t.jsxs($,{container:!0,spacing:3,children:[t.jsx($,{item:!0,xs:12,md:6,children:t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(v,{variant:"h3",color:"success.main",gutterBottom:!0,children:di(p.totalFunding)}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Total Raised"})]})}),t.jsx($,{item:!0,xs:12,md:6,children:t.jsxs(ye,{spacing:2,children:[t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsx(v,{variant:"body2",children:"Funding Progress"}),t.jsxs(v,{variant:"body2",children:[I.toFixed(1),"%"]})]}),t.jsx(Ci,{variant:"determinate",value:I,sx:{height:8,borderRadius:4},color:"success"})]}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Contributors: ",p.fundingContributions]}),(r==null?void 0:r.goal_amount)&&t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Goal: ",di(r.goal_amount)]})]})]})})]})]})})},j=()=>{if(!p)return null;const I=h.filter(_=>_.status===Ke.PAID),T=h.filter(_=>[Ke.SUBMITTED,Ke.UNDER_REVIEW,Ke.APPROVED].includes(_.status));return t.jsx(Ne,{elevation:2,children:t.jsxs(Fe,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(l0,{color:"error",sx:{mr:1}}),t.jsx(v,{variant:"h6",color:"error.main",children:"Expenses & Payouts"})]}),t.jsxs($,{container:!0,spacing:3,children:[t.jsx($,{item:!0,xs:12,md:6,children:t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(v,{variant:"h3",color:"error.main",gutterBottom:!0,children:di(p.totalExpenses)}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Total Paid Out"})]})}),t.jsx($,{item:!0,xs:12,md:6,children:t.jsxs(ye,{spacing:2,children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsx(v,{variant:"body2",children:"Paid Expenses:"}),t.jsx(v,{variant:"body2",color:"success.main",children:I.length})]}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsx(v,{variant:"body2",children:"Pending Expenses:"}),t.jsx(v,{variant:"body2",color:"warning.main",children:T.length})]}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsx(v,{variant:"body2",children:"Total Expense Orders:"}),t.jsx(v,{variant:"body2",children:p.expenseCount})]})]})})]})]})})},D=()=>{if(!p)return null;const I=p.netAmount>=0;return t.jsxs(ot,{elevation:2,sx:{p:3,bgcolor:I?"success.light":"warning.light",color:I?"success.contrastText":"warning.contrastText",textAlign:"center"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:1},children:[t.jsx(bh,{sx:{mr:1,fontSize:"2rem"}}),t.jsx(v,{variant:"h4",component:"div",children:di(Math.abs(p.netAmount))})]}),t.jsx(v,{variant:"subtitle1",children:I?"Net Surplus":"Net Deficit"}),t.jsx(v,{variant:"body2",sx:{mt:1,opacity:.8},children:I?"Available for future expenses or reinvestment":"Additional funding may be needed"})]})},w=()=>t.jsxs(C,{children:[t.jsxs(lc,{children:[t.jsx(cc,{expandIcon:t.jsx(dc,{}),children:t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(rf,{sx:{mr:1}}),t.jsx(v,{variant:"subtitle1",children:"Funding Contributions"}),d&&t.jsx(Ye,{label:`${d.contributions.length} contributions`,size:"small",sx:{ml:2}})]})}),t.jsx(uc,{children:d!=null&&d.contributions.length?t.jsxs(vr,{dense:!0,children:[d.contributions.slice(0,10).map(I=>{var T;return t.jsxs(er,{children:[t.jsx(qt,{children:t.jsx(Ws,{color:"success"})}),t.jsx(Ht,{primary:`${di(I.amount)} ${I.currency}`,secondary:I.isAnonymous?"Anonymous contributor":((T=I.user)==null?void 0:T.name)||"Unknown contributor"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:new Date(I.createdAt).toLocaleDateString()})]},I.id)}),d.contributions.length>10&&t.jsx(er,{children:t.jsx(Ht,{primary:t.jsxs(v,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:["+",d.contributions.length-10," more contributions"]})})})]}):t.jsx(ct,{severity:"info",children:"No funding contributions found for this news article."})})]}),t.jsxs(lc,{children:[t.jsx(cc,{expandIcon:t.jsx(dc,{}),children:t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(Si,{sx:{mr:1}}),t.jsx(v,{variant:"subtitle1",children:"Expense Orders"}),h.length>0&&t.jsx(Ye,{label:`${h.length} expenses`,size:"small",sx:{ml:2}})]})}),t.jsx(uc,{children:h.length?t.jsx(vr,{dense:!0,children:h.map(I=>t.jsxs(er,{children:[t.jsx(qt,{children:t.jsx(Fs,{sx:{color:Lb[I.status]}})}),t.jsx(Ht,{primary:I.title,secondary:t.jsxs(C,{children:[t.jsxs(v,{variant:"caption",display:"block",children:[I.journalist.displayName,"  ",I.type.name]}),t.jsx(v,{variant:"caption",color:"text.secondary",children:new Date(I.createdAt).toLocaleDateString()})]})}),t.jsxs(C,{sx:{textAlign:"right"},children:[t.jsxs(v,{variant:"body2",fontWeight:"medium",children:[di(I.amount)," ",I.currency]}),t.jsx(Ye,{label:wa[I.status],size:"small",sx:{bgcolor:Lb[I.status],color:"white",fontSize:"0.7rem"}})]}),I.receiptUrl&&t.jsx(jt,{title:"View Receipt",children:t.jsx(Le,{size:"small",onClick:()=>window.open(I.receiptUrl,"_blank"),children:t.jsx(ws,{fontSize:"small"})})})]},I.id))}):t.jsx(ct,{severity:"info",children:"No expense orders found for this channel."})})]})]});return a?t.jsx(Ne,{elevation:2,children:t.jsxs(Fe,{sx:{textAlign:"center",py:4},children:[t.jsx(Wn,{}),t.jsx(v,{variant:"body2",sx:{mt:2},children:"Loading transaction data..."})]})}):y?t.jsx(ct,{severity:"error",sx:{mb:2},children:y}):!p||p.totalFunding===0&&p.totalExpenses===0?t.jsx(ct,{severity:"info",sx:{mb:2},children:t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(gT,{sx:{mr:1}}),"No transaction data available for this news article."]})}):t.jsxs(C,{sx:{mb:4},children:[t.jsxs(v,{variant:"h5",gutterBottom:!0,sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(bh,{sx:{mr:1}}),"Transaction Transparency"]}),t.jsxs($,{container:!0,spacing:3,children:[t.jsx($,{item:!0,xs:12,md:6,children:S()}),t.jsx($,{item:!0,xs:12,md:6,children:j()}),t.jsx($,{item:!0,xs:12,children:D()}),t.jsxs($,{item:!0,xs:12,children:[t.jsx(Lt,{sx:{my:2}}),w()]})]})]})};var xp={},q5=Ze;Object.defineProperty(xp,"__esModule",{value:!0});var Ta=xp.default=void 0,K5=q5(et()),J5=t;Ta=xp.default=(0,K5.default)((0,J5.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock");var mp={},X5=Ze;Object.defineProperty(mp,"__esModule",{value:!0});var cd=mp.default=void 0,Q5=X5(et()),Z5=t;cd=mp.default=(0,Q5.default)((0,Z5.jsx)("path",{d:"M16 18v2H8v-2zM11 7.99V16h2V7.99h3L12 4 8 7.99z"}),"Upgrade");var gp={},eL=Ze;Object.defineProperty(gp,"__esModule",{value:!0});var Ti=gp.default=void 0,tL=eL(et()),nL=t;Ti=gp.default=(0,tL.default)((0,nL.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle");/*!
 * react-paypal-js v8.9.2 (2025-10-02T20:17:55.069Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yr;(function(e){e.INITIAL="initial",e.PENDING="pending",e.REJECTED="rejected",e.RESOLVED="resolved"})(yr||(yr={}));var oo;(function(e){e.LOADING_STATUS="setLoadingStatus",e.RESET_OPTIONS="resetOptions",e.SET_BRAINTREE_INSTANCE="braintreeInstance"})(oo||(oo={}));var $b;(function(e){e.NUMBER="number",e.CVV="cvv",e.EXPIRATION_DATE="expirationDate",e.EXPIRATION_MONTH="expirationMonth",e.EXPIRATION_YEAR="expirationYear",e.POSTAL_CODE="postalCode"})($b||($b={}));var An=function(){return An=Object.assign||function(n){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},An.apply(this,arguments)};function Ev(e,n){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&n.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)n.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(r[s[o]]=e[s[o]]);return r}function Fb(e,n,r){if(r||arguments.length===2)for(var s=0,o=n.length,a;s<o;s++)(a||!(s in n))&&(a||(a=Array.prototype.slice.call(n,0,s)),a[s]=n[s]);return e.concat(a||Array.prototype.slice.call(n))}var Aa="data-react-paypal-script-id",No={DATA_CLIENT_TOKEN:"dataClientToken",DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource",DATA_USER_ID_TOKEN:"dataUserIdToken"},rL="Failed to load the PayPal JS SDK script.",Tv="paypal",sL="usePayPalScriptReducer must be used within a PayPalScriptProvider";function oL(e){return e===void 0&&(e=Tv),window[e]}function iL(e){for(var n="",r=0;r<e.length;r++){var s=e[r].charCodeAt(0)*r;e[r+1]&&(s+=e[r+1].charCodeAt(0)*(r-1)),n+=String.fromCharCode(97+Math.abs(s)%26)}return n}function aL(e){var n=e.reactComponentName,r=e.sdkComponentKey,s=e.sdkRequestedComponents,o=s===void 0?"":s,a=e.sdkDataNamespace,c=a===void 0?Tv:a,d=r.charAt(0).toUpperCase().concat(r.substring(1)),u="Unable to render <".concat(n," /> because window.").concat(c,".").concat(d," is undefined."),h=typeof o=="string"?o:o.join(",");if(!h.includes(r)){var x=[h,r].filter(Boolean).join();u+=`
To fix the issue, add '`.concat(r,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(x,"'}}>`.")}return u}function Av(e){var n=e,r=Aa;n[r];var s=Ev(n,[r+""]);return"react-paypal-js-".concat(iL(JSON.stringify(s)))}function lL(e){var n=self.document.querySelector("script[".concat(Aa,'="').concat(e,'"]'));n!=null&&n.parentNode&&n.parentNode.removeChild(n)}function cL(e,n){var r,s;switch(n.type){case oo.LOADING_STATUS:return typeof n.value=="object"?An(An({},e),{loadingStatus:n.value.state,loadingStatusErrorMessage:n.value.message}):An(An({},e),{loadingStatus:n.value});case oo.RESET_OPTIONS:return lL(e.options[Aa]),An(An({},e),{loadingStatus:yr.PENDING,options:An(An((r={},r[No.DATA_SDK_INTEGRATION_SOURCE]=No.DATA_LIBRARY_VALUE,r),n.value),(s={},s[Aa]="".concat(Av(n.value)),s))});case oo.SET_BRAINTREE_INSTANCE:return An(An({},e),{braintreePayPalCheckoutInstance:n.value});default:return e}}var Rv=g.createContext(null);function dL(e){if(typeof(e==null?void 0:e.dispatch)=="function"&&e.dispatch.length!==0)return e;throw new Error(sL)}function uL(){var e=dL(g.useContext(Rv)),n=An(An({},e),{isInitial:e.loadingStatus===yr.INITIAL,isPending:e.loadingStatus===yr.PENDING,isResolved:e.loadingStatus===yr.RESOLVED,isRejected:e.loadingStatus===yr.REJECTED});return[n,e.dispatch]}g.createContext({});function hL(e){var n=g.useRef(new Proxy({},{get:function(r,s,o){return typeof r[s]=="function"?function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return r[s].apply(r,a)}:Reflect.get(r,s,o)}}));return n.current=Object.assign(n.current,e),n.current}var dd=function(e){var n,r=e.className,s=r===void 0?"":r,o=e.disabled,a=o===void 0?!1:o,c=e.children,d=e.forceReRender,u=d===void 0?[]:d,h=Ev(e,["className","disabled","children","forceReRender"]),x=a?{opacity:.38}:{},p="".concat(s," ").concat(a?"paypal-buttons-disabled":"").trim(),m=g.useRef(null),y=g.useRef(null),b=hL(h),S=uL()[0],j=S.isResolved,D=S.options,w=g.useState(null),I=w[0],T=w[1],_=g.useState(!0),R=_[0],O=_[1],A=g.useState(null),L=A[1];function W(){y.current!==null&&y.current.close().catch(function(){})}return!((n=y.current)===null||n===void 0)&&n.updateProps&&y.current.updateProps({message:h.message}),g.useEffect(function(){if(j===!1)return W;var H=oL(D.dataNamespace);if(H===void 0||H.Buttons===void 0)return L(function(){throw new Error(aL({reactComponentName:dd.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:D.components,sdkDataNamespace:D[No.DATA_NAMESPACE]}))}),W;var N=function(se,Z){T(Z),typeof h.onInit=="function"&&h.onInit(se,Z)};try{y.current=H.Buttons(An(An({},b),{onInit:N}))}catch(se){return L(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(se))})}return y.current.isEligible()===!1?(O(!1),W):(m.current&&y.current.render(m.current).catch(function(se){m.current===null||m.current.children.length===0||L(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(se))})}),W)},Fb(Fb([j],u,!0),[h.fundingSource],!1)),g.useEffect(function(){I!==null&&(a===!0?I.disable().catch(function(){}):I.enable().catch(function(){}))},[a,I]),Dt.createElement(Dt.Fragment,null,R?Dt.createElement("div",{ref:m,style:x,className:p}):c)};dd.displayName="PayPalButtons";function fL(e,n){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&n.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)n.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(r[s[o]]=e[s[o]]);return r}function pL(e,n){var r=document.querySelector('script[src="'.concat(e,'"]'));if(r===null)return null;var s=_v(e,n),o=r.cloneNode();if(delete o.dataset.uidAuto,Object.keys(o.dataset).length!==Object.keys(s.dataset).length)return null;var a=!0;return Object.keys(o.dataset).forEach(function(c){o.dataset[c]!==s.dataset[c]&&(a=!1)}),a?r:null}function xL(e){var n=e.url,r=e.attributes,s=e.onSuccess,o=e.onError,a=_v(n,r);a.onerror=o,a.onload=s,document.head.insertBefore(a,document.head.firstElementChild)}function mL(e){var n=e.sdkBaseUrl,r=e.environment,s=fL(e,["sdkBaseUrl","environment"]),o=n||yL(r),a=s,c=Object.keys(a).filter(function(h){return typeof a[h]<"u"&&a[h]!==null&&a[h]!==""}).reduce(function(h,x){var p=a[x].toString();return x=gL(x),x.substring(0,4)==="data"||x==="crossorigin"?h.attributes[x]=p:h.queryParams[x]=p,h},{queryParams:{},attributes:{}}),d=c.queryParams,u=c.attributes;return d["merchant-id"]&&d["merchant-id"].indexOf(",")!==-1&&(u["data-merchant-id"]=d["merchant-id"],d["merchant-id"]="*"),{url:"".concat(o,"?").concat(bL(d)),attributes:u}}function gL(e){var n=function(r,s){return(s?"-":"")+r.toLowerCase()};return e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,n)}function bL(e){var n="";return Object.keys(e).forEach(function(r){n.length!==0&&(n+="&"),n+=r+"="+e[r]}),n}function yL(e){return e==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function _v(e,n){n===void 0&&(n={});var r=document.createElement("script");return r.src=e,Object.keys(n).forEach(function(s){r.setAttribute(s,n[s]),s==="data-csp-nonce"&&r.setAttribute("nonce",n["data-csp-nonce"])}),r}function vL(e,n){if(n===void 0&&(n=Promise),Ov(e,n),typeof document>"u")return n.resolve(null);var r=mL(e),s=r.url,o=r.attributes,a=o["data-namespace"]||"paypal",c=Wb(a);return o["data-js-sdk-library"]||(o["data-js-sdk-library"]="paypal-js"),pL(s,o)&&c?n.resolve(c):jL({url:s,attributes:o},n).then(function(){var d=Wb(a);if(d)return d;throw new Error("The window.".concat(a," global variable is not available."))})}function jL(e,n){n===void 0&&(n=Promise),Ov(e,n);var r=e.url,s=e.attributes;if(typeof r!="string"||r.length===0)throw new Error("Invalid url.");if(typeof s<"u"&&typeof s!="object")throw new Error("Expected attributes to be an object.");return new n(function(o,a){if(typeof document>"u")return o();xL({url:r,attributes:s,onSuccess:function(){return o()},onError:function(){var c=new Error('The script "'.concat(r,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return a(c)}})})}function Wb(e){return window[e]}function Ov(e,n){if(typeof e!="object"||e===null)throw new Error("Expected an options object.");var r=e.environment;if(r&&r!=="production"&&r!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof n<"u"&&typeof n!="function")throw new Error("Expected PromisePonyfill to be a function.")}var kv=function(e){var n,r=e.options,s=r===void 0?{clientId:"test"}:r,o=e.children,a=e.deferLoading,c=a===void 0?!1:a,d=g.useReducer(cL,{options:An(An({},s),(n={},n[No.DATA_JS_SDK_LIBRARY]=No.DATA_LIBRARY_VALUE,n[No.DATA_SDK_INTEGRATION_SOURCE]=No.DATA_LIBRARY_VALUE,n[Aa]="".concat(Av(s)),n)),loadingStatus:c?yr.INITIAL:yr.PENDING}),u=d[0],h=d[1];return g.useEffect(function(){if(c===!1&&u.loadingStatus===yr.INITIAL)return h({type:oo.LOADING_STATUS,value:yr.PENDING});if(u.loadingStatus===yr.PENDING){var x=!0;return vL(u.options).then(function(){x&&h({type:oo.LOADING_STATUS,value:yr.RESOLVED})}).catch(function(p){console.error("".concat(rL," ").concat(p)),x&&h({type:oo.LOADING_STATUS,value:{state:yr.REJECTED,message:String(p)}})}),function(){x=!1}}},[u.options,c,u.loadingStatus]),Dt.createElement(Rv.Provider,{value:An(An({},u),{dispatch:h})},o)};function Bb(){}g.createContext({cardFieldsForm:null,fields:{},registerField:Bb,unregisterField:Bb});const SL=({contentType:e,contentId:n,amount:r,currency:s,comment:o,onSuccess:a,onError:c,onCancel:d,disabled:u=!1})=>{const[h,x]=Dt.useState(!0),[p,m]=Dt.useState(null),{api:y}=Xe();return t.jsx(C,{sx:{minHeight:50},children:t.jsxs(kv,{options:{clientId:"sb",currency:s.toUpperCase(),intent:"capture"},children:[h&&t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:2},children:t.jsx(Wn,{size:24})}),t.jsx(dd,{style:{layout:"vertical",color:"gold",shape:"rect",label:"pay"},disabled:u||r<=0,onInit:()=>{x(!1)},createOrder:async()=>{var S;console.log("Creating PayPal order for funding:",{contentType:e,contentId:n,amount:r,currency:s});try{const j=await((S=y==null?void 0:y.fundingApi)==null?void 0:S.createPayPalOrder(e,n,{amount:r,currency:s,comment:o}));if(!(j!=null&&j.orderId))throw new Error("Failed to create PayPal order");return m({orderId:j.orderId,contributionId:j.contributionId}),j.orderId}catch(j){throw console.error("Failed to create PayPal order:",j),c(new Error("Failed to create payment order. Please try again.")),j}},onApprove:async S=>{var j;if(console.log("PayPal order approved:",{orderID:S.orderID,contributionId:p==null?void 0:p.contributionId}),!p){c(new Error("Order data not found"));return}try{const D=await((j=y==null?void 0:y.fundingApi)==null?void 0:j.capturePayPalOrder(e,n,{orderId:S.orderID,contributionId:p.contributionId}));a(D)}catch(D){console.error("Failed to capture PayPal order:",D),c(new Error("Failed to complete payment. Please contact support."))}},onCancel:()=>{console.log("PayPal payment cancelled by user"),m(null),d==null||d()},onError:S=>{console.error("PayPal payment error:",S),m(null),c(new Error(typeof S=="string"?S:"PayPal payment failed"))}})]})})},wL=({currentAmount:e,goalAmount:n,contributorCount:r,currency:s,showDetailed:o=!0})=>{const a=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:s,minimumFractionDigits:0,maximumFractionDigits:2}).format(u),c=n?Math.min(e/n*100,100):0,d=n?Math.max(n-e,0):0;return o?t.jsx(Ne,{variant:"outlined",sx:{backgroundColor:"background.paper"},children:t.jsxs(Fe,{children:[t.jsxs($,{container:!0,spacing:3,children:[t.jsx($,{item:!0,xs:12,sm:n?4:6,children:t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(C,{sx:{display:"flex",justifyContent:"center",mb:1},children:t.jsx(Ws,{color:"primary",fontSize:"large"})}),t.jsx(v,{variant:"h4",fontWeight:"bold",color:"primary",children:a(e)}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Raised so far"})]})}),n&&t.jsx($,{item:!0,xs:12,sm:4,children:t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(C,{sx:{display:"flex",justifyContent:"center",mb:1},children:t.jsx(bT,{color:"action",fontSize:"large"})}),t.jsx(v,{variant:"h4",fontWeight:"bold",children:a(n)}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Funding goal"})]})}),t.jsx($,{item:!0,xs:12,sm:n?4:6,children:t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(C,{sx:{display:"flex",justifyContent:"center",mb:1},children:t.jsx(lo,{color:"action",fontSize:"large"})}),t.jsx(v,{variant:"h4",fontWeight:"bold",children:r}),t.jsx(v,{variant:"body2",color:"text.secondary",children:r===1?"Supporter":"Supporters"})]})})]}),n&&t.jsxs(C,{sx:{mt:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsxs(v,{variant:"body2",fontWeight:"medium",children:["Progress: ",c.toFixed(1),"%"]}),d>0&&t.jsxs(v,{variant:"body2",color:"text.secondary",children:[a(d)," to go"]})]}),t.jsx(Ci,{variant:"determinate",value:c,sx:{height:12,borderRadius:6,backgroundColor:"grey.200","& .MuiLinearProgress-bar":{borderRadius:6,background:c>=100?"linear-gradient(45deg, #4caf50 30%, #8bc34a 90%)":"linear-gradient(45deg, #2196f3 30%, #21cbf3 90%)"}}}),c>=100&&t.jsx(C,{sx:{mt:2,p:2,bgcolor:"success.light",borderRadius:1,textAlign:"center"},children:t.jsx(v,{variant:"body2",fontWeight:"medium",color:"success.dark",children:" Funding goal reached! Thank you to all supporters!"})})]})]})}):t.jsxs(C,{children:[n&&t.jsxs(t.Fragment,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Funded: ",a(e)]}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Goal: ",a(n)]})]}),t.jsx(Ci,{variant:"determinate",value:c,sx:{height:8,borderRadius:4,backgroundColor:"grey.200","& .MuiLinearProgress-bar":{borderRadius:4}}})]}),!n&&t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Ws,{fontSize:"small",color:"primary"}),t.jsxs(v,{variant:"body2",fontWeight:"medium",children:[a(e)," raised"]}),t.jsx(lo,{fontSize:"small",color:"action"}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:[r," supporters"]})]})]})},CL=[5,10,25,50,100],Mv=({open:e,onClose:n,onSuccess:r,contentType:s,contentId:o,fundingData:a})=>{const[c,d]=g.useState("amount"),[u,h]=g.useState({amount:0,currency:a.currency,comment:""}),[x,p]=g.useState(!1),[m,y]=g.useState(null),b=()=>{d("amount"),h({amount:0,currency:a.currency,comment:""}),y(null),n()},S=L=>{h(W=>({...W,amount:L}))},j=()=>{if(c==="amount"){if(u.amount<=0){y("Please enter a valid contribution amount");return}y(null),d("payment")}},D=()=>{c==="payment"&&(d("amount"),y(null))},w=L=>{r(L),b()},I=L=>{y(L.message||"Payment failed. Please try again."),p(!1)},T=()=>{y("Payment cancelled. You can try again when ready."),p(!1)},_=()=>t.jsxs(ye,{spacing:3,children:[t.jsxs(C,{children:[t.jsxs(v,{variant:"h6",gutterBottom:!0,children:["Fund this ",s]}),t.jsx(v,{variant:"body2",color:"text.secondary",children:a.description||`Support this ${s} with your contribution`})]}),t.jsx(wL,{currentAmount:a.currentAmount,goalAmount:a.goalAmount,contributorCount:a.contributorCount,currency:a.currency}),t.jsx(Lt,{}),t.jsxs(C,{children:[t.jsx(v,{variant:"subtitle1",gutterBottom:!0,children:"Choose contribution amount"}),t.jsx(ye,{direction:"row",spacing:1,flexWrap:"wrap",sx:{mb:2},children:CL.map(L=>t.jsx(Ye,{label:`${a.currency} ${L}`,onClick:()=>S(L),color:u.amount===L?"primary":"default",variant:u.amount===L?"filled":"outlined",sx:{mb:1}},L))}),t.jsx(rt,{label:"Custom Amount",type:"number",value:u.amount||"",onChange:L=>h(W=>({...W,amount:Number(L.target.value)})),fullWidth:!0,InputProps:{startAdornment:t.jsx(Qr,{position:"start",children:a.currency})},inputProps:{min:1,step:.01}})]}),t.jsx(rt,{label:"Comment (Optional)",multiline:!0,rows:3,value:u.comment,onChange:L=>h(W=>({...W,comment:L.target.value})),fullWidth:!0,placeholder:"Leave a message of support..."})]}),R=()=>t.jsxs(ye,{spacing:3,children:[t.jsxs(C,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Payment Details"}),t.jsxs(C,{sx:{p:2,bgcolor:"background.paper",borderRadius:1,border:"1px solid",borderColor:"divider"},children:[t.jsxs(v,{variant:"body1",fontWeight:"medium",children:["Contribution: ",a.currency," ",u.amount]}),u.comment&&t.jsxs(v,{variant:"body2",color:"text.secondary",sx:{mt:1},children:['"',u.comment,'"']})]})]}),t.jsxs(C,{children:[t.jsx(v,{variant:"subtitle1",gutterBottom:!0,children:"Complete payment with PayPal"}),t.jsx(SL,{contentType:s,contentId:o,amount:u.amount,currency:u.currency,comment:u.comment,onSuccess:w,onError:I,onCancel:T,disabled:x})]})]}),O=()=>t.jsxs(C,{sx:{textAlign:"center",py:4},children:[t.jsx(Ci,{sx:{mb:3}}),t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Processing your contribution..."}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Please wait while we process your payment"})]}),A=()=>{switch(c){case"amount":return t.jsxs(t.Fragment,{children:[t.jsx(xe,{onClick:b,disabled:x,children:"Cancel"}),t.jsx(xe,{onClick:j,variant:"contained",disabled:x||u.amount<=0,children:"Continue"})]});case"payment":return t.jsx(t.Fragment,{children:t.jsx(xe,{onClick:D,disabled:x,children:"Back"})});case"processing":return null;default:return null}};return t.jsxs(en,{open:e,onClose:x?void 0:b,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[t.jsxs(sn,{sx:{fontWeight:600},children:["Fund ",a.title]}),t.jsxs(tn,{children:[m&&t.jsx(ct,{severity:"error",sx:{mb:2},children:m}),c==="amount"&&_(),c==="payment"&&R(),c==="processing"&&O()]}),A()&&t.jsx(nn,{sx:{px:3,pb:2},children:A()})]})};var bp={},PL=Ze;Object.defineProperty(bp,"__esModule",{value:!0});var Ai=bp.default=void 0,DL=PL(et()),IL=t;Ai=bp.default=(0,DL.default)((0,IL.jsx)("path",{d:"M1 11h4v11H1zm15-7.75C16.65 2.49 17.66 2 18.7 2 20.55 2 22 3.45 22 5.3c0 2.27-2.91 4.9-6 7.7-3.09-2.81-6-5.44-6-7.7C10 3.45 11.45 2 13.3 2c1.04 0 2.05.49 2.7 1.25M20 17h-7l-2.09-.73.33-.94L13 16h2.82c.65 0 1.18-.53 1.18-1.18 0-.49-.31-.93-.77-1.11L8.97 11H7v9.02L14 22l8.01-3c-.01-1.1-.9-2-2.01-2"}),"VolunteerActivism");const EL=()=>t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsxs($,{container:!0,spacing:4,children:[t.jsx($,{item:!0,xs:12,children:t.jsx(ce,{variant:"rectangular",width:"100%",height:300,sx:{borderRadius:2,mb:3}})}),t.jsx($,{item:!0,xs:12,md:8,children:t.jsx(Ne,{children:t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[t.jsx(ce,{variant:"text",width:"60%",height:40}),t.jsx(ye,{direction:"row",spacing:1,children:[1,2,3].map(e=>t.jsx(ce,{variant:"circular",width:40,height:40},e))})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:300,sx:{mb:3,borderRadius:1}}),t.jsxs(ye,{spacing:2,sx:{mb:3},children:[t.jsx(ce,{variant:"text",width:"100%"}),t.jsx(ce,{variant:"text",width:"95%"}),t.jsx(ce,{variant:"text",width:"90%"}),t.jsx(ce,{variant:"text",width:"85%"}),t.jsx(ce,{variant:"text",width:"95%"})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:80,sx:{mb:3,borderRadius:1}}),t.jsx(ye,{direction:"row",spacing:1,children:[1,2,3,4].map(e=>t.jsx(ce,{variant:"rounded",width:80,height:32},e))})]})})}),t.jsx($,{item:!0,xs:12,md:4,children:t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsx(ce,{variant:"text",width:"50%",height:32,sx:{mb:2}}),t.jsx(ye,{spacing:2,children:[1,2,3,4,5].map(e=>t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[t.jsx(ce,{variant:"text",width:"40%"}),t.jsx(ce,{variant:"text",width:"20%"})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:8,sx:{borderRadius:1}})]},e))})]})})})]})}),TL=()=>{var _,R;const{id:e}=es(),{api:n}=Xe(),{execute:r}=nt(),[s,o]=g.useState(null),[a,c]=g.useState(!0),[d,u]=g.useState(!1),[h,x]=g.useState(!1),[p,m]=g.useState(null),[y,b]=g.useState(!1);g.useEffect(()=>{(async()=>{if(e){c(!0);const A=await r(()=>n==null?void 0:n.newsApi.get(e),{showErrorToast:!0});A&&(o(A),A.accessInfo&&!A.accessInfo.canAccess&&u(!0),S(e)),c(!1)}})()},[e,r]);const S=async O=>{try{b(!0);const A=await(n==null?void 0:n.fundingApi.getFund("news",O));m(A)}catch(A){console.error("Failed to load fund data:",A)}finally{b(!1)}},j=async()=>{try{const O=await(n==null?void 0:n.accountApi.getPaymentMethods());if(!(O!=null&&O.items)||O.items.length===0){alert("Please add a payment method before funding. You can add payment methods in your account settings.");return}}catch(O){console.error("Failed to check payment methods:",O)}x(!0)},D=async O=>{e&&await S(e),console.log("Contribution successful:",O)},w=()=>!s||!p?null:{id:p.id,title:s.title,currentAmount:p.currentAmount/100,goalAmount:p.goalAmount?p.goalAmount/100:void 0,currency:p.currency,contributorCount:0,description:"Support quality journalism by funding this article"};if(a)return t.jsx(EL,{});if(!s)return t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsx(v,{variant:"h4",children:"Entry not found"})});const I=s.media.find(O=>O.type===Ja.COVER),T=O=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(O);return t.jsxs(It,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs($,{container:!0,spacing:4,children:[t.jsx($,{item:!0,xs:12,children:t.jsxs(C,{sx:{height:300,width:"100%",position:"relative",mb:3,borderRadius:2,overflow:"hidden"},children:[(I==null?void 0:I.format)===Pc.VIDEO?t.jsx(C,{component:"video",src:I.url,controls:!0,preload:"metadata",sx:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center",bgcolor:"black"}}):t.jsx(C,{component:"img",src:(I==null?void 0:I.url)||sd,alt:s.title,sx:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"}}),t.jsxs(C,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(transparent, rgba(0,0,0,0.7))",p:3,color:"white"},children:[t.jsx(v,{variant:"h4",component:"h1",gutterBottom:!0,children:s.title}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsxs(C,{component:$n,to:ve.APP_CHANNEL_VIEW.replace(":channelId",s.channelId),sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(255, 255, 255, 0.1)",color:"white",px:2,py:1,borderRadius:2,textDecoration:"none",transition:"all 0.2s ease-in-out",border:"1px solid rgba(255, 255, 255, 0.2)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.2)",transform:"translateY(-2px)"}},children:[t.jsx(Xa,{sx:{mr:1}}),t.jsx(v,{variant:"subtitle2",children:s.channel.name})]}),t.jsxs(C,{sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(0, 0, 0, 0.3)",px:2,py:1,borderRadius:2,border:"1px solid rgba(255, 255, 255, 0.1)"},children:[t.jsx(qa,{sx:{mr:1,fontSize:"0.9rem"}}),t.jsx(v,{variant:"caption",children:s.creator.displayName})]})]}),t.jsx(v,{variant:"subtitle1",children:new Date(s.publishedAt).toLocaleDateString()})]})]})]})}),t.jsx($,{item:!0,xs:12,md:8,children:t.jsx(Ne,{children:t.jsx(C,{sx:{p:3},children:d?t.jsxs(ot,{elevation:3,sx:{p:4,textAlign:"center",bgcolor:O=>fe(O.palette.warning.main,.05),border:O=>`2px solid ${fe(O.palette.warning.main,.3)}`,borderRadius:3},children:[t.jsx(C,{sx:{width:80,height:80,borderRadius:"50%",bgcolor:O=>fe(O.palette.warning.main,.1),display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",mb:2},children:t.jsx(Ta,{sx:{fontSize:40,color:"warning.main"}})}),t.jsx(v,{variant:"h5",gutterBottom:!0,fontWeight:"bold",color:"warning.dark",children:"Premium Content"}),t.jsx(v,{variant:"body1",color:"text.secondary",sx:{mb:3,maxWidth:500,mx:"auto"},children:((_=s.accessInfo)==null?void 0:_.reason)||"Subscribe to unlock the full article and support quality journalism."}),((R=s.accessInfo)==null?void 0:R.requiredTierName)&&t.jsxs(ct,{severity:"info",sx:{mb:3,maxWidth:500,mx:"auto","& .MuiAlert-message":{width:"100%",textAlign:"center"}},children:["Required tier: ",t.jsx("strong",{children:s.accessInfo.requiredTierName})]}),t.jsxs(C,{sx:{mb:3,maxWidth:400,mx:"auto"},children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",sx:{mb:2},children:"Subscribe to unlock:"}),t.jsx(vr,{dense:!0,children:["Full article content","Quality metrics","Fund information","Social links","Transaction transparency"].map((O,A)=>t.jsxs(er,{sx:{py:.5},children:[t.jsx(qt,{sx:{minWidth:32},children:t.jsx(Ti,{color:"success",fontSize:"small"})}),t.jsx(Ht,{primary:O,primaryTypographyProps:{variant:"body2"}})]},A))})]}),t.jsx(xe,{component:$n,to:ve.APP_CHANNEL_VIEW.replace(":channelId",s.channelId),variant:"contained",color:"warning",size:"large",startIcon:t.jsx(cd,{}),sx:{px:4,py:1.5,borderRadius:2,fontWeight:"bold",textTransform:"none",fontSize:"1rem"},children:"View Subscription Options"})]}):t.jsxs(t.Fragment,{children:[t.jsx(ld,{data:Iv(s.content),readOnly:!0,borderColor:O=>O.palette.mode==="dark"?fe(O.palette.common.white,.1):fe(O.palette.common.black,.1)}),t.jsx(C,{sx:{mt:2},children:s.tags.map(O=>t.jsx(Ye,{label:O.title,variant:"outlined",sx:{mr:1,mb:1}},O.id))})]})})})}),t.jsx($,{item:!0,xs:12,md:4,children:t.jsxs(ye,{spacing:3,children:[!d&&s.socialLinks&&s.socialLinks.length>0&&t.jsx(up,{links:s.socialLinks}),!d&&s.qualityMetrics&&t.jsxs(ot,{elevation:0,sx:{p:2,bgcolor:"success.light",color:"success.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[t.jsx(pp,{fontSize:"large"}),t.jsxs(C,{children:[t.jsx(v,{variant:"overline",children:"Quality Score"}),t.jsxs(v,{variant:"h4",component:"div",children:[s.qualityMetrics.overallQualityScore.toFixed(1),"/10"]})]})]}),!d&&s.newsFund&&t.jsxs(ot,{elevation:0,sx:{p:2,bgcolor:"primary.light",color:"primary.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[t.jsx(rd,{fontSize:"large"}),t.jsxs(C,{children:[t.jsx(v,{variant:"overline",children:"News Fund"}),t.jsx(v,{variant:"h4",component:"div",children:T(s.newsFund.amount)})]})]}),t.jsx(ot,{elevation:2,sx:{p:3,borderRadius:2,border:"2px solid",borderColor:"primary.main",bgcolor:O=>fe(O.palette.primary.main,.05)},children:t.jsxs(ye,{spacing:2,children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Ai,{color:"primary",fontSize:"large"}),t.jsx(v,{variant:"h6",fontWeight:"bold",color:"primary",children:"Fund this Article"})]}),p&&!y?t.jsxs(C,{children:[t.jsx(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Current Funding"}),t.jsxs(v,{variant:"h5",fontWeight:"bold",color:"primary.main",children:[p.currency," ",(p.currentAmount/100).toFixed(2)]}),p.goalAmount&&t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Goal: ",p.currency," ",(p.goalAmount/100).toFixed(2)]})]}):y?t.jsx(ce,{variant:"rectangular",height:60}):t.jsx(v,{variant:"body2",color:"text.secondary",children:"Be the first to fund this article"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Support quality journalism by contributing to this article"}),t.jsx(xe,{variant:"contained",color:"primary",fullWidth:!0,size:"large",startIcon:t.jsx(Ai,{}),onClick:j,disabled:!s,sx:{py:1.5,fontWeight:"bold",textTransform:"none",fontSize:"1rem"},children:"Fund Now"})]})})]})})]}),!d&&t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsx(G5,{newsId:s.id,channelId:s.channelId,newsFund:s.newsFund})}),s&&p&&t.jsx(Mv,{open:h,onClose:()=>x(!1),onSuccess:D,contentType:"news",contentId:s.id,fundingData:w()})]})};var yp={},AL=Ze;Object.defineProperty(yp,"__esModule",{value:!0});var Nv=yp.default=void 0,RL=AL(et()),_L=t;Nv=yp.default=(0,RL.default)((0,_L.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");const Kl=ke(Ye)(({theme:e})=>({borderRadius:e.spacing(.75),height:28,fontWeight:500,fontSize:"0.75rem",padding:"0 8px",transition:"all 0.2s ease",border:"1px solid transparent","&.selected":{backgroundColor:e.palette.mode==="dark"?e.palette.common.white:e.palette.grey[900],color:e.palette.mode==="dark"?e.palette.grey[900]:e.palette.common.white,fontWeight:600,borderColor:e.palette.mode==="dark"?e.palette.common.white:e.palette.grey[900],"&:hover":{backgroundColor:e.palette.mode==="dark"?e.palette.grey[100]:e.palette.grey[800],borderColor:e.palette.mode==="dark"?e.palette.grey[100]:e.palette.grey[800]}},"&:not(.selected)":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.06)",color:e.palette.text.primary,"&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.1)",borderColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)"}}})),th=ke(C)(({theme:e,horizontal:n})=>({display:"flex",flexDirection:n?"row":"column",gap:e.spacing(1),scrollBehavior:"smooth",...n&&{overflowX:"auto",overflowY:"hidden",paddingBottom:e.spacing(.5),scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},msOverflowStyle:"none"}})),Vb=ke(Le)(({theme:e})=>({backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.06)",width:32,height:32,flexShrink:0,"&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.1)"}})),Ec=({selectedTags:e=[],onTagsChange:n,contentType:r,maxTags:s=10,className:o,horizontal:a=!1})=>{const[c,d]=g.useState([]),[u,h]=g.useState(!0),[x,p]=g.useState(!1),[m,y]=g.useState(!1),b=Dt.useRef(null),{api:S}=Xe(),{execute:j}=nt();g.useEffect(()=>{(async()=>{if(S!=null&&S.tagApi){h(!0);try{const[R,O,A]=await Promise.all([j(()=>S.tagApi.getTags({category:r==="channels"?void 0:r}),{showErrorToast:!1}),j(()=>S.tagApi.getTags({trending:!0,category:r==="channels"?void 0:r}),{showErrorToast:!1}),j(()=>S.tagApi.getTags({popular:!0,category:r==="channels"?void 0:r}),{showErrorToast:!1})]),L=new Map;R!=null&&R.items&&R.items.forEach(H=>{var N;L.set(H.id,{...H,count:((N=H.analytics)==null?void 0:N.usageCount)||0})}),O!=null&&O.items&&O.items.forEach(H=>{var se;const N=L.get(H.id);N?L.set(H.id,{...N,trending:!0}):L.set(H.id,{...H,count:((se=H.analytics)==null?void 0:se.usageCount)||0,trending:!0})}),A!=null&&A.items&&A.items.forEach(H=>{var se;const N=L.get(H.id);N&&!N.trending?L.set(H.id,{...N,popular:!0}):N||L.set(H.id,{...H,count:((se=H.analytics)==null?void 0:se.usageCount)||0,popular:!0})});const W=Array.from(L.values()).sort((H,N)=>(N.count||0)-(H.count||0)).slice(0,20);d(W)}catch(R){console.error("Failed to fetch tags:",R),d([])}finally{h(!1)}}})()},[r,S,j]);const D=_=>{const R=e.includes(_);n(R?e.filter(O=>O!==_):[_])},w=()=>{if(a&&b.current){const{scrollLeft:_,scrollWidth:R,clientWidth:O}=b.current;p(_>0),y(_+O<R-1)}};g.useEffect(()=>{if(a){w();const _=b.current;if(_)return _.addEventListener("scroll",w),window.addEventListener("resize",w),()=>{_.removeEventListener("scroll",w),window.removeEventListener("resize",w)}}},[c,u,a]);const I=()=>{b.current&&b.current.scrollBy({left:-200,behavior:"smooth"})},T=()=>{b.current&&b.current.scrollBy({left:200,behavior:"smooth"})};return u?t.jsx(C,{className:o,children:t.jsx(th,{horizontal:a,children:[...Array(10)].map((_,R)=>t.jsx(ce,{variant:"rounded",width:a?100:"100%",height:28,sx:{borderRadius:.75,flexShrink:a?0:void 0}},R))})}):a?t.jsxs(C,{className:o,sx:{display:"flex",alignItems:"center",gap:1},children:[x&&t.jsx(Vb,{onClick:I,size:"small",children:t.jsx(yf,{fontSize:"small"})}),t.jsxs(th,{ref:b,horizontal:a,sx:{flex:1},children:[t.jsx(Kl,{label:"All",className:e.length===0?"selected":"",onClick:()=>n([]),clickable:!0,sx:{flexShrink:0}}),c.map(_=>{const R=e.includes(_.name);return t.jsx(Kl,{label:_.name,className:R?"selected":"",onClick:()=>D(_.name),clickable:!0,sx:{flexShrink:0}},_.id)})]}),m&&t.jsx(Vb,{onClick:T,size:"small",children:t.jsx(Nv,{fontSize:"small"})})]}):t.jsx(C,{className:o,children:t.jsxs(th,{ref:b,horizontal:a,children:[t.jsx(Kl,{label:"All",className:e.length===0?"selected":"",onClick:()=>n([]),clickable:!0,sx:{width:"100%",justifyContent:"flex-start"}}),c.map(_=>{const R=e.includes(_.name);return t.jsx(Kl,{label:_.name,className:R?"selected":"",onClick:()=>D(_.name),clickable:!0,sx:{width:"100%",justifyContent:"flex-start"}},_.id)})]})})},OL=()=>{const e=po(),n=Ct(),[r,s]=g.useState([]);g.useEffect(()=>{const c=new URLSearchParams(e.search).get("tags");if(c){const d=c.split(",").map(u=>decodeURIComponent(u.trim()));s(d)}},[e.search]);const o=a=>{s(a);const c=new URLSearchParams(e.search);a.length>0?c.set("tags",a.map(u=>encodeURIComponent(u)).join(",")):c.delete("tags");const d=`${e.pathname}?${c.toString()}`;n(d,{replace:!0})};return t.jsxs(C,{sx:{width:"100%",overflow:"hidden",pb:4},children:[t.jsx(C,{sx:{mb:3},children:t.jsx(Ec,{selectedTags:r,onTagsChange:o,contentType:"news",maxTags:5,showCounts:!1,horizontal:!0})}),t.jsx(C,{children:t.jsx(Cv,{filters:r.length>0?{tags:r}:{},emptyTitle:"No news found",emptyDescription:"No news articles available at the moment",mode:"grid"})})]})},[kL,Ps]=mf(),ML=({children:e})=>{const{api:n,isAuthenticated:r}=Xe(),{user:s}=xo(),{execute:o}=nt(),[a,c]=g.useState(null),[d,u]=g.useState(!1),h=async()=>{if(!(s!=null&&s.uid))return;u(!0);const p=await o(()=>n.accountApi.getProfile(),{showErrorToast:!1});p&&c(p),u(!1)};g.useEffect(()=>{r&&h()},[s==null?void 0:s.uid,r]);const x={profile:a,isLoading:d,channelRelations:{getSubscription:p=>{var m;return((m=a==null?void 0:a.subscriptions)==null?void 0:m.find(y=>y.channelId===p))??null},getSubscriptions:()=>(a==null?void 0:a.subscriptions)??[],hasSubscription:p=>{var m;return((m=a==null?void 0:a.subscriptions)==null?void 0:m.some(y=>y.channelId===p))??!1},hasChannel:()=>{var p;return((p=a==null?void 0:a.staffChannels)==null?void 0:p.length)&&a.staffChannels.length>0},getSubscriptionTier:p=>{var m,y;return((y=(m=a==null?void 0:a.subscriptions)==null?void 0:m.find(b=>b.channelId===p))==null?void 0:y.tier)??null}},actions:{refreshProfile:h}};return t.jsx(kL.Provider,{value:x,children:e})};var vp={},NL=Ze;Object.defineProperty(vp,"__esModule",{value:!0});var jp=vp.default=void 0,LL=NL(et()),$L=t;jp=vp.default=(0,LL.default)((0,$L.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People");var Sp={},FL=Ze;Object.defineProperty(Sp,"__esModule",{value:!0});var Tc=Sp.default=void 0,WL=FL(et()),BL=t;Tc=Sp.default=(0,WL.default)((0,BL.jsx)("path",{d:"M9.68 13.69 12 11.93l2.31 1.76-.88-2.85L15.75 9h-2.84L12 6.19 11.09 9H8.25l2.31 1.84zM20 10c0-4.42-3.58-8-8-8s-8 3.58-8 8c0 2.03.76 3.87 2 5.28V23l6-2 6 2v-7.72c1.24-1.41 2-3.25 2-5.28m-8-6c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6 2.69-6 6-6"}),"WorkspacePremium");const VL=({channel:e,hasSubscription:n,subscriptionTier:r,onJoin:s,onCancel:o})=>{var p,m,y,b;const a=Ct(),c=n,d=r,u=(p=e.tiers)==null?void 0:p.find(S=>S.isDefault),h=()=>{a(ve.APP_CHANNEL_VIEW.replace(":channelId",e.id))},x=S=>{S.stopPropagation(),c?o(e.id):s(e.id,u==null?void 0:u.id)};return t.jsxs(C,{onClick:h,sx:{display:"flex",alignItems:"flex-start",gap:1.5,p:1.5,borderRadius:1.5,cursor:"pointer",transition:"all 0.2s ease-in-out",height:"100%",border:"1px solid",borderColor:"transparent","&:hover":{bgcolor:S=>S.palette.mode==="dark"?fe(S.palette.common.white,.05):fe(S.palette.common.black,.03),borderColor:"divider",transform:"translateX(4px)"}},children:[t.jsx(wn,{src:e.logoUrl,sx:{width:48,height:48,borderRadius:1.5,bgcolor:"primary.main"}}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:.5},children:[t.jsx(v,{variant:"body1",sx:{fontWeight:600,color:"text.primary",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"0.9rem"},children:e.name}),c?t.jsx(Ye,{label:d==null?void 0:d.name,color:"primary",onDelete:x,size:"small",sx:{height:24}}):t.jsx(Le,{size:"small",onClick:x,sx:{bgcolor:"primary.main",color:"white",width:32,height:32,"&:hover":{bgcolor:"primary.dark"}},children:t.jsx(Tc,{sx:{fontSize:18}})})]}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:.5,display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",fontSize:"0.8rem"},children:e.description}),t.jsxs(ye,{direction:"row",spacing:2,sx:{color:"text.secondary",fontSize:"0.75rem"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(jp,{sx:{fontSize:14}}),(y=(m=e.stats)==null?void 0:m.activeSubscriptionCount)==null?void 0:y.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1})]}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(Tc,{sx:{fontSize:14}}),((b=e.stats)==null?void 0:b.tierCount)||0," Tiers"]})]})]})]})},UL=({count:e=2})=>t.jsx(ye,{spacing:2,sx:{mt:2},children:[...Array(e)].map((n,r)=>t.jsxs(C,{sx:{display:"flex",gap:2,p:2,borderRadius:2,bgcolor:s=>s.palette.mode==="dark"?fe(s.palette.common.white,.05):fe(s.palette.common.black,.03)},children:[t.jsx(C,{sx:{width:56,height:56,borderRadius:2,bgcolor:s=>s.palette.mode==="dark"?fe(s.palette.common.white,.1):fe(s.palette.common.black,.1)}}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsx(C,{sx:{height:24,width:"40%",mb:1,borderRadius:.5,bgcolor:"grey.300"}}),t.jsx(C,{sx:{height:16,width:"80%",mb:1,borderRadius:.5,bgcolor:"grey.200"}}),t.jsx(C,{sx:{height:16,width:"30%",borderRadius:.5,bgcolor:"grey.200"}})]})]},r))}),zL=({filters:e={},emptyTitle:n="No channels found",emptyDescription:r="No channels available at the moment",itemsPerPage:s=10,hasSubscription:o,getSubscriptionTier:a,onJoin:c,onCancel:d})=>{const[u,h]=g.useState([]),[x,p]=g.useState(!0),[m,y]=g.useState(1),[b,S]=g.useState(!0),{api:j}=Xe(),{execute:D}=nt(),w=async(T=m)=>{try{p(!0);const _=await D(()=>j==null?void 0:j.channelApi.getChannels(e,{page:T,limit:s}),{showErrorToast:!0});_&&(h(T===1?_.items??[]:R=>[...R,..._.items??[]]),y(_.metadata.currentPage??1),S(_.metadata.hasNext===!0))}finally{p(!1)}};g.useEffect(()=>{h([]),y(1),w(1)},[JSON.stringify(e)]);const I=()=>{!x&&b&&w(m+1)};return u.length===0&&!x?t.jsx(zs,{title:n,description:r}):t.jsx(C,{sx:{width:"100%"},children:x&&u.length===0?t.jsx(UL,{}):t.jsx(Bs,{dataLength:u.length,next:I,hasMore:b,loader:t.jsx(C,{}),endMessage:t.jsx(C,{sx:{textAlign:"center",mt:4,color:"text.secondary",fontSize:"0.875rem"},children:"No more channels to display"}),children:t.jsx($,{container:!0,spacing:3,children:u.map(T=>t.jsx($,{item:!0,xs:12,sm:6,md:4,children:t.jsx(VL,{channel:T,hasSubscription:(o==null?void 0:o(T.id))??!1,subscriptionTier:a==null?void 0:a(T.id),onJoin:c,onCancel:d})},T.id))})})})},HL=()=>{const e=po(),n=Ct(),[r,s]=g.useState([]),{actions:o,channelRelations:a}=Ps(),{api:c}=Xe();g.useEffect(()=>{const p=new URLSearchParams(e.search).get("tags");if(p){const m=p.split(",").map(y=>decodeURIComponent(y.trim()));s(m)}},[e.search]);const d=async(x,p)=>{var m,y,b;if(p)try{const S=await((m=c==null?void 0:c.subscriptionApi)==null?void 0:m.createDirectSubscription(x,{tierId:p,notificationLevel:1,paymentMethodId:"paypal_default"}));S!=null&&S.approvalUrl?window.open(S.approvalUrl,"paypal_payment","width=600,height=700,scrollbars=yes,resizable=yes")||alert("Popup blocked! Please allow popups and try again."):await o.refreshProfile()}catch(S){console.error("Subscription failed:",S);const j=((b=(y=S==null?void 0:S.response)==null?void 0:y.data)==null?void 0:b.message)||(S==null?void 0:S.message)||"";(j.includes("PAYMENT_METHOD_REQUIRED")||j.includes("PayPal payment method")||j.includes("No PayPal payment method found"))&&window.confirm("You need to add a PayPal payment method to subscribe to paid tiers. Would you like to add one now?")&&n("/app/account/payment-methods")}},u=async x=>{try{await(c==null?void 0:c.channelApi.unsubscribeFromChannel(x)),await o.refreshProfile()}catch(p){console.error("Error cancelling subscription:",p)}},h=x=>{s(x);const p=new URLSearchParams(e.search);x.length>0?p.set("tags",x.map(y=>encodeURIComponent(y)).join(",")):p.delete("tags");const m=`${e.pathname}?${p.toString()}`;n(m,{replace:!0})};return t.jsxs(C,{sx:{width:"100%",overflow:"hidden"},children:[t.jsxs(C,{sx:{mb:3},children:[t.jsx(v,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600},children:"Discover Channels"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Find and subscribe to channels from your favorite journalists"})]}),t.jsx(C,{sx:{mb:3},children:t.jsx(Ec,{selectedTags:r,onTagsChange:h,contentType:"channels",maxTags:3,showCounts:!1,horizontal:!0})}),t.jsx(C,{children:t.jsx(zL,{filters:r.length>0?{tags:r}:{},emptyTitle:"No channels found",emptyDescription:"No channels available at the moment",hasSubscription:a.hasSubscription,getSubscriptionTier:a.getSubscriptionTier,onJoin:d,onCancel:u})})]})};var wp={},YL=Ze;Object.defineProperty(wp,"__esModule",{value:!0});var Lv=wp.default=void 0,GL=YL(et()),qL=t;Lv=wp.default=(0,GL.default)((0,qL.jsx)("path",{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27z"}),"Layers");var Cp={},KL=Ze;Object.defineProperty(Cp,"__esModule",{value:!0});var $v=Cp.default=void 0,JL=KL(et()),XL=t;$v=Cp.default=(0,JL.default)((0,XL.jsx)("path",{d:"M11 14H9c0-4.97 4.03-9 9-9v2c-3.87 0-7 3.13-7 7m7-3V9c-2.76 0-5 2.24-5 5h2c0-1.66 1.34-3 3-3M7 4c0-1.11-.89-2-2-2s-2 .89-2 2 .89 2 2 2 2-.89 2-2m4.45.5h-2C9.21 5.92 7.99 7 6.5 7h-3C2.67 7 2 7.67 2 8.5V11h6V8.74c1.86-.59 3.25-2.23 3.45-4.24M19 17c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2m1.5 1h-3c-1.49 0-2.71-1.08-2.95-2.5h-2c.2 2.01 1.59 3.65 3.45 4.24V22h6v-2.5c0-.83-.67-1.5-1.5-1.5"}),"ConnectWithoutContact");var Pp={},QL=Ze;Object.defineProperty(Pp,"__esModule",{value:!0});var Fv=Pp.default=void 0,ZL=QL(et()),e$=t;Fv=Pp.default=(0,ZL.default)((0,e$.jsx)("path",{d:"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2zm-9-2h10V8H12zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"AccountBalanceWallet");var Dp={},t$=Ze;Object.defineProperty(Dp,"__esModule",{value:!0});var Ip=Dp.default=void 0,n$=t$(et()),r$=t;Ip=Dp.default=(0,n$.default)((0,r$.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info");var Ep={},s$=Ze;Object.defineProperty(Ep,"__esModule",{value:!0});var Ra=Ep.default=void 0,o$=s$(et()),i$=t;Ra=Ep.default=(0,o$.default)((0,i$.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Article");var Tp={},a$=Ze;Object.defineProperty(Tp,"__esModule",{value:!0});var Wv=Tp.default=void 0,l$=a$(et()),c$=t;Wv=Tp.default=(0,l$.default)((0,c$.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email");const d$={ACTIVE:1,INACTIVE:2,COMPLETED:3,CANCELLED:4},Ub={COVER:1,SUMMARY:2,AVATAR:3,TEASER:4,INTRO:5,OUTRO:6,OTHER:7},kh={IMAGE:1,VIDEO:2,AUDIO:3,DOCUMENT:4,URL:5,ARTICLE:6,OTHER:7},zb=({poll:e,onVote:n,userVote:r,showResults:s=!1,disabled:o=!1,showAsPreview:a=!1,mode:c="scroll"})=>{var j,D,w,I,T,_,R;const d=xn(),u=Ct(),[h,x]=g.useState(null),p=((j=e.stats)==null?void 0:j.totalVotes)||0,m=e.accessInfo&&!e.accessInfo.canAccess,y=e.media&&e.media.length>0?e.media[0]:null,b=O=>{o||x(O)},S=O=>{a&&!O.target.closest(".poll-option, .action-button")&&u(ve.APP_POLL_VIEW.replace(":id",String(e.id)))};return t.jsxs(C,{onClick:S,sx:{position:"relative",width:"100%",height:c==="grid"?"auto":"90vh",maxWidth:c==="scroll"?"480px":"100%",margin:c==="scroll"?"0 auto":0,aspectRatio:c==="grid"?"4/5":void 0,borderRadius:c==="grid"?3:4,overflow:"hidden",bgcolor:d.palette.mode==="dark"?"#000":"#111",boxShadow:"none",transition:"opacity 0.2s ease",cursor:a?"pointer":"default","&:hover":{opacity:a?.95:1}},children:[y&&t.jsxs(C,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:0},children:[y.format===kh.VIDEO?t.jsx(C,{component:"video",src:y.url,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,sx:{width:"100%",height:"100%",objectFit:"cover",filter:"brightness(0.7)"}}):t.jsx(C,{component:"img",src:y.url,alt:y.caption||e.title,sx:{width:"100%",height:"100%",objectFit:"cover",filter:"brightness(0.7)"}}),t.jsx(C,{sx:{position:"absolute",top:0,left:0,right:0,height:"30%",background:"linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%)",zIndex:1}}),t.jsx(C,{sx:{position:"absolute",bottom:0,left:0,right:0,height:"60%",background:"linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0) 100%)",zIndex:1}})]}),!y&&t.jsx(C,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,background:`linear-gradient(135deg, ${fe(d.palette.primary.main,.8)} 0%, ${fe(d.palette.secondary.main,.8)} 100%)`,zIndex:0}}),t.jsxs(C,{sx:{position:"relative",zIndex:2,height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",p:2.5},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(wn,{sx:{width:40,height:40,bgcolor:d.palette.primary.main,border:"2px solid white",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"},children:(w=(D=e.creator)==null?void 0:D.displayName)==null?void 0:w.charAt(0).toUpperCase()}),t.jsxs(C,{sx:{ml:1.5},children:[t.jsx(v,{variant:"body2",sx:{fontWeight:700,fontSize:"0.95rem",color:"white",textShadow:"0 1px 3px rgba(0,0,0,0.8)"},children:(I=e.creator)==null?void 0:I.displayName}),t.jsx(v,{variant:"caption",sx:{fontSize:"0.75rem",color:"rgba(255,255,255,0.9)",textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:qr(new Date(e.createdAt),{addSuffix:!0})})]})]}),t.jsxs(ye,{direction:"row",spacing:.5,children:[((T=e.accessInfo)==null?void 0:T.requiresPremium)&&t.jsx(Ye,{icon:t.jsx(Ta,{sx:{fontSize:"0.875rem"}}),label:"Premium",size:"small",sx:{height:24,bgcolor:fe(d.palette.warning.main,.9),color:"white",fontWeight:700,fontSize:"0.7rem",backdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}}),e.isTrending&&t.jsx(Ye,{icon:t.jsx(Ga,{sx:{fontSize:"0.875rem"}}),label:"Trending",size:"small",sx:{height:24,bgcolor:fe(d.palette.error.main,.9),color:"white",fontWeight:700,fontSize:"0.7rem",backdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}})]})]}),t.jsxs(C,{children:[t.jsx(C,{sx:{mb:2},children:t.jsx(v,{variant:"h5",sx:{fontWeight:800,fontSize:"1.5rem",color:"white",textShadow:"0 2px 8px rgba(0,0,0,0.9)",lineHeight:1.2},children:e.title})}),m?t.jsxs(ot,{elevation:3,sx:{p:3,textAlign:"center",bgcolor:fe(d.palette.warning.main,.15),backdropFilter:"blur(20px)",border:`2px solid ${fe(d.palette.warning.main,.4)}`,borderRadius:3,mb:2},children:[t.jsx(C,{sx:{width:60,height:60,borderRadius:"50%",bgcolor:fe(d.palette.warning.main,.2),display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",mb:2},children:t.jsx(Ta,{sx:{fontSize:30,color:"warning.light"}})}),t.jsx(v,{variant:"h6",gutterBottom:!0,fontWeight:"bold",color:"white",sx:{textShadow:"0 2px 4px rgba(0,0,0,0.8)"},children:"Premium Poll"}),t.jsx(v,{variant:"body2",color:"rgba(255,255,255,0.9)",sx:{mb:2,textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:((_=e.accessInfo)==null?void 0:_.reason)||"Subscribe to participate in this poll and view results."}),((R=e.accessInfo)==null?void 0:R.requiredTierName)&&t.jsx(Ye,{label:`Required: ${e.accessInfo.requiredTierName}`,size:"small",sx:{mb:2,bgcolor:fe(d.palette.info.main,.3),color:"white",fontWeight:600,backdropFilter:"blur(10px)",border:`1px solid ${fe(d.palette.info.light,.4)}`}}),t.jsx(xe,{variant:"contained",color:"warning",size:"small",startIcon:t.jsx(cd,{}),onClick:O=>{O.stopPropagation(),u(ve.APP_CHANNEL_VIEW.replace(":channelId",e.channelId))},sx:{px:3,py:1,borderRadius:2,fontWeight:"bold",textTransform:"none",fontSize:"0.875rem",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},children:"Subscribe Now"})]}):t.jsx(ye,{spacing:1.5,sx:{mb:2},children:e.options.map(O=>{const A=O.voteCount||0,L=p>0?A/p*100:0,W=r===O.id,H=h===O.id;return t.jsx(C,{className:"poll-option",onClick:N=>{N.preventDefault(),N.stopPropagation(),!s&&!o&&n&&n(String(e.id),O.id)},onMouseEnter:()=>b(O.id),onMouseLeave:()=>b(null),sx:{position:"relative",cursor:s||o?"default":"pointer",transition:"all 0.2s ease",transform:H?"scale(1.03)":"scale(1)",opacity:o?.6:1},children:t.jsxs(C,{sx:{position:"relative",display:"flex",alignItems:"center",px:2,py:1.5,borderRadius:2,backdropFilter:"blur(20px)",bgcolor:W?fe(d.palette.primary.main,.85):H?fe("#fff",.25):fe("#fff",.15),border:"1px solid",borderColor:W?fe(d.palette.primary.light,.5):fe("#fff",.3),boxShadow:W?"0 4px 20px rgba(0,0,0,0.4)":"0 2px 10px rgba(0,0,0,0.2)",overflow:"hidden",transition:"all 0.2s ease"},children:[s&&t.jsx(C,{sx:{position:"absolute",left:0,top:0,bottom:0,width:`${L}%`,bgcolor:fe(d.palette.primary.main,.4),transition:"width 0.5s ease",zIndex:0}}),t.jsx(C,{sx:{position:"relative",zIndex:1,width:20,height:20,minWidth:20,minHeight:20,flexShrink:0,borderRadius:"50%",border:"2px solid white",mr:1.5,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:W?"white":"transparent",transition:"all 0.2s ease",boxShadow:"0 1px 3px rgba(0,0,0,0.3)"},children:W&&t.jsx(C,{sx:{width:10,height:10,borderRadius:"50%",bgcolor:d.palette.primary.main}})}),t.jsx(v,{variant:"body1",sx:{position:"relative",zIndex:1,flex:1,fontWeight:W?700:600,fontSize:"1rem",color:"white",textShadow:"0 1px 3px rgba(0,0,0,0.8)",wordBreak:"break-word"},children:O.text}),s&&t.jsxs(v,{variant:"body2",sx:{position:"relative",zIndex:1,fontWeight:700,fontSize:"0.95rem",color:"white",textShadow:"0 1px 3px rgba(0,0,0,0.8)",flexShrink:0,ml:1},children:[L.toFixed(0),"%"]}),W&&!s&&t.jsx(Ti,{sx:{position:"relative",zIndex:1,ml:1,color:"white",fontSize:"1.25rem",flexShrink:0,filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.5))"}})]})},O.id)})}),e.tags&&e.tags.length>0&&t.jsx(ye,{direction:"row",spacing:.5,sx:{mt:1.5,flexWrap:"wrap",gap:.5},children:e.tags.slice(0,3).map(O=>t.jsx(Ye,{label:`#${O.name}`,size:"small",sx:{height:22,fontSize:"0.7rem",fontWeight:600,bgcolor:fe("#fff",.15),backdropFilter:"blur(10px)",color:"white",border:"1px solid",borderColor:fe("#fff",.2),textShadow:"0 1px 2px rgba(0,0,0,0.5)","&:hover":{bgcolor:fe("#fff",.25)}}},O.id))})]})]})]})};var Ap={},u$=Ze;Object.defineProperty(Ap,"__esModule",{value:!0});var Bv=Ap.default=void 0,h$=u$(et()),f$=t;Bv=Ap.default=(0,h$.default)((0,f$.jsx)("path",{d:"M1 21h4V9H1zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73z"}),"ThumbUp");const p$=({count:e=2})=>t.jsx(ye,{spacing:2,sx:{mt:2},children:[...Array(e)].map((n,r)=>t.jsxs(C,{sx:{p:2,borderRadius:2,bgcolor:s=>s.palette.mode==="dark"?fe(s.palette.common.white,.05):fe(s.palette.common.black,.03)},children:[t.jsx(C,{sx:{height:24,width:"40%",mb:2,borderRadius:.5,bgcolor:"grey.300"}}),t.jsx(ye,{spacing:2,children:[...Array(4)].map((s,o)=>t.jsx(C,{sx:{height:40,borderRadius:1,bgcolor:a=>a.palette.mode==="dark"?fe(a.palette.common.white,.1):fe(a.palette.common.black,.1)}},o))})]},r))}),Vv=({filters:e={},emptyTitle:n="No polls found",emptyDescription:r="No polls available at the moment",itemsPerPage:s=10,mode:o="scroll"})=>{const[a,c]=g.useState([]),[d,u]=g.useState(!0),[h,x]=g.useState(1),[p,m]=g.useState(!0),{api:y}=Xe(),{execute:b}=nt(),S=xn(),j=async(w=h)=>{try{u(!0);const I=await b(()=>y==null?void 0:y.pollApi.getPolls(e,{page:w,limit:s}),{showErrorToast:!0});I&&(c(w===1?I.items:T=>[...T,...I.items]),x(I.metadata.currentPage),m(I.metadata.hasNext===!0))}finally{u(!1)}};g.useEffect(()=>{c([]),x(1),j(1)},[JSON.stringify(e)]);const D=()=>{!d&&p&&j(h+1)};return a.length===0&&!d?t.jsx(zs,{title:n,description:r}):o==="grid"?t.jsx(C,{sx:{width:"100%"},children:t.jsx(Bs,{dataLength:a.length,next:D,hasMore:p,loader:t.jsx(C,{}),children:t.jsx($,{container:!0,spacing:3,children:a.map(w=>t.jsx($,{item:!0,xs:12,sm:6,md:4,children:t.jsx(zb,{poll:w,showAsPreview:!0,mode:"grid"})},w.id))})})}):t.jsx(C,{id:"polls-scroll-container",sx:{width:"100%",height:"100%",display:"flex",justifyContent:"center",overflowY:"scroll",scrollSnapType:"y mandatory",scrollBehavior:"smooth","&::-webkit-scrollbar":{display:"none"},msOverflowStyle:"none",scrollbarWidth:"none",px:{xs:2,sm:0}},children:t.jsx(C,{sx:{width:"100%",maxWidth:480},children:d&&a.length===0?t.jsx(p$,{}):t.jsx(Bs,{dataLength:a.length,next:D,hasMore:p,loader:t.jsx(C,{}),scrollableTarget:"polls-scroll-container",endMessage:t.jsx(C,{sx:{textAlign:"center",py:4,color:"text.secondary",fontSize:"0.875rem",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:"No more polls to display"}),style:{overflow:"visible",paddingBottom:"64px"},children:a.map(w=>{var T,_,R;const I=((T=w.stats)==null?void 0:T.totalVotes)||0;return t.jsxs(C,{sx:{position:"relative",scrollSnapAlign:"start",scrollSnapStop:"always",height:"calc(100vh - 64px)",display:"flex",alignItems:"center",justifyContent:"center"},children:[t.jsx(zb,{poll:w,showAsPreview:!0,mode:"scroll"}),t.jsxs(C,{sx:{position:"absolute",right:{xs:8,sm:-60},bottom:"5vh",display:"flex",flexDirection:"column",alignItems:"center",gap:2.5,zIndex:10},children:[w.isTrending&&t.jsx(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:t.jsx(Ye,{icon:t.jsx(Ga,{sx:{fontSize:"0.875rem"}}),label:"Trending",size:"small",sx:{height:28,bgcolor:fe(S.palette.error.main,.9),color:"white",fontWeight:700,fontSize:"0.75rem",backdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}})}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[t.jsx(Le,{className:"action-button",size:"medium",onClick:O=>{O.stopPropagation()},sx:{bgcolor:S.palette.mode==="dark"?fe("#fff",.2):fe("#000",.6),backdropFilter:"blur(10px)",color:"white",boxShadow:S.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)","&:hover":{bgcolor:fe(S.palette.primary.main,.8),transform:"scale(1.1)"},transition:"all 0.2s ease",width:48,height:48},children:t.jsx(Bv,{sx:{fontSize:"1.5rem"}})}),t.jsx(v,{variant:"caption",sx:{color:"white",fontWeight:700,fontSize:"0.75rem",mt:.5,textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:I>999?`${(I/1e3).toFixed(1)}K`:I})]}),t.jsx(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:t.jsx(Le,{className:"action-button",size:"medium",onClick:O=>{O.stopPropagation()},sx:{bgcolor:S.palette.mode==="dark"?fe("#fff",.2):fe("#000",.6),backdropFilter:"blur(10px)",color:"white",boxShadow:S.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)","&:hover":{bgcolor:S.palette.mode==="dark"?fe("#fff",.3):fe("#000",.7),transform:"scale(1.1)"},transition:"all 0.2s ease",width:48,height:48},children:t.jsx(ad,{sx:{fontSize:"1.5rem"}})})}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[t.jsx(C,{sx:{bgcolor:S.palette.mode==="dark"?fe("#fff",.2):fe("#000",.6),backdropFilter:"blur(10px)",borderRadius:"50%",width:48,height:48,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:S.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)"},children:t.jsx(Uo,{sx:{fontSize:"1.5rem",color:"white",filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.5))"}})}),t.jsx(v,{variant:"caption",sx:{color:"white",fontWeight:700,fontSize:"0.75rem",mt:.5,textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:((_=w.stats)==null?void 0:_.viewCount)>999?`${(w.stats.viewCount/1e3).toFixed(1)}K`:((R=w.stats)==null?void 0:R.viewCount)||0})]})]})]},w.id)})})})})},x$=({planId:e,channelId:n,tierName:r,tierId:s,onSuccess:o,onError:a,onCancel:c,disabled:d=!1})=>{const[u,h]=Dt.useState(!0),{api:x}=Xe(),p="sb";return e?t.jsx(C,{sx:{minHeight:50},children:t.jsxs(kv,{options:{clientId:p,vault:!0,intent:"subscription",currency:"USD"},children:[u&&t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:2},children:t.jsx(Wn,{size:24})}),t.jsx(dd,{style:{layout:"vertical",color:"gold",shape:"rect",label:"subscribe"},disabled:d,onInit:()=>{h(!1)},createSubscription:(m,y)=>(console.log("Creating PayPal subscription for plan:",e),y.subscription.create({plan_id:e,custom_id:`${n}_${s}`,application_context:{shipping_preference:"NO_SHIPPING",user_action:"SUBSCRIBE_NOW"}})),onApprove:async m=>{var y;console.log("PayPal subscription approved:",{subscriptionID:m.subscriptionID,orderID:m.orderID,tierName:r});try{await((y=x==null?void 0:x.subscriptionApi)==null?void 0:y.activatePayPalSubscription(n,{tierId:s,paypalSubscriptionId:m.subscriptionID,notificationLevel:1})),o(r,s)}catch(b){console.error("Failed to activate subscription:",b),a(new Error("Failed to activate subscription. Please contact support."))}},onCancel:()=>{console.log("PayPal subscription cancelled by user"),c==null||c()},onError:m=>{console.error("PayPal subscription error:",m),a(new Error(typeof m=="string"?m:"PayPal subscription failed"))}})]})}):t.jsx(ct,{severity:"warning",sx:{borderRadius:2},children:"PayPal plan not configured for this tier. Please contact the channel owner."})},m$=()=>{var de,te,z,De,oe,le,ie;const[e,n]=g.useState(null),[r,s]=g.useState(!0),[o,a]=g.useState(!1),[c,d]=g.useState([]),[u,h]=g.useState([]),[x,p]=g.useState(""),[m,y]=g.useState(""),[b,S]=g.useState(0),[j,D]=g.useState(!1),[w,I]=g.useState(null),{id:T}=es(),_=Ct(),{api:R}=Xe(),{profile:O,channelRelations:{hasSubscription:A,getSubscriptionTier:L},actions:{refreshProfile:W}}=Ps(),{execute:H}=nt(),N=A(T??""),se=(de=L(T??""))==null?void 0:de.id;console.log("ViewChannel Debug:",{channelId:T,isMember:N,currentTierId:se,subscriptions:O==null?void 0:O.subscriptions,profileLoaded:!!O}),g.useEffect(()=>{(async()=>{if(!T)return;const me=await H(()=>R==null?void 0:R.channelApi.getChannel(T),{showErrorToast:!0});me&&n(me),s(!1)})()},[T,H,R==null?void 0:R.channelApi]);const Z=ne=>{d(ne)},G=ne=>{h(ne)},q=ne=>{ne.preventDefault(),p(m.trim())},K=()=>{y(""),p("")},X=async ne=>{var he,Oe;if(!e||!ne)return;const me=(he=e.tiers)==null?void 0:he.find(Re=>Re.id===ne);if(me&&me.price===0){a(!0);try{await((Oe=R==null?void 0:R.subscriptionApi)==null?void 0:Oe.createDirectSubscription(e.id,{tierId:ne,notificationLevel:1}))&&await W(),a(!1)}catch(Re){console.error("Subscription failed:",Re),a(!1)}}},ae=ne=>{ne.price===0?X(ne.id):(I(ne),D(!0))},V=async(ne,me)=>{console.log("PayPal subscription approved:",{tierName:ne,tierId:me}),await W(),D(!1),I(null)},re=ne=>{console.error("PayPal subscription error:",ne),alert(`Subscription failed: ${ne.message}`)},Ee=()=>{console.log("PayPal subscription cancelled")},be=async ne=>{var Oe,Re,Ge;if(!e||!((Oe=e.tiers)==null?void 0:Oe.find(ue=>ue.id===ne)))return;const he=(Re=O==null?void 0:O.subscriptions)==null?void 0:Re.find(ue=>ue.channelId===e.id);if(he)try{await((Ge=R==null?void 0:R.subscriptionApi)==null?void 0:Ge.cancelUserSubscription(he.id))}catch(ue){console.error("Failed to cancel existing subscription:",ue)}await X(ne)},_e=async()=>{if(!e)return;await H(()=>R==null?void 0:R.channelApi.unsubscribeFromChannel(e.id),{showSuccessMessage:!0,successMessage:"Membership cancelled successfully!"})&&(console.log("Cancellation successful, refreshing profile..."),await W())};return r?t.jsx(C,{sx:{bgcolor:"background.default",minHeight:"100vh"},children:t.jsxs(It,{maxWidth:"lg",children:[t.jsxs(C,{sx:{position:"relative",mb:8},children:[t.jsx(ce,{variant:"rectangular",sx:{height:{xs:150,md:200},borderRadius:3}}),t.jsx(C,{sx:{position:"absolute",bottom:-50,left:"50%",transform:"translateX(-50%)"},children:t.jsx(ce,{variant:"circular",sx:{width:{xs:100,md:128},height:{xs:100,md:128},border:"4px solid",borderColor:"background.paper"}})})]}),t.jsx(ot,{elevation:0,sx:{mb:4,p:4,borderRadius:3,border:"1px solid",borderColor:"divider"},children:t.jsxs(C,{sx:{textAlign:"center",pt:3},children:[t.jsx(ce,{variant:"text",width:"40%",sx:{mb:2,fontSize:"2.5rem"}}),t.jsxs(ye,{direction:"row",spacing:2,justifyContent:"center",sx:{mb:3},children:[t.jsx(ce,{variant:"rounded",width:150,height:32}),t.jsx(ce,{variant:"rounded",width:100,height:32})]}),t.jsx(ce,{variant:"text",width:"70%",sx:{mb:1}}),t.jsx(ce,{variant:"text",width:"60%",sx:{mb:4}}),t.jsx(ce,{variant:"rounded",width:180,height:48,sx:{borderRadius:50}})]})}),t.jsxs(C,{sx:{mb:6},children:[t.jsx(ce,{variant:"text",width:"40%",sx:{mb:4,fontSize:"2rem"}}),t.jsx($,{container:!0,spacing:3,children:[...Array(3)].map((ne,me)=>t.jsx($,{item:!0,xs:12,md:4,children:t.jsxs(Ne,{elevation:2,sx:{borderRadius:3,overflow:"hidden"},children:[t.jsx(ce,{variant:"rectangular",height:120}),t.jsxs(Fe,{sx:{p:3},children:[t.jsx(ce,{variant:"text",width:"60%",sx:{mx:"auto",mb:2,fontSize:"2rem"}}),t.jsx(ce,{variant:"text",width:"80%",sx:{mb:1}}),t.jsx(ce,{variant:"text",width:"70%",sx:{mb:1}}),t.jsx(ce,{variant:"text",width:"75%",sx:{mb:3}}),t.jsx(ce,{variant:"rounded",height:48,sx:{borderRadius:50}})]})]})},me))})]})]})}):e?t.jsxs(C,{sx:{bgcolor:"background.default",minHeight:"100vh"},children:[t.jsxs(It,{maxWidth:"lg",children:[t.jsxs(C,{sx:{position:"relative",mb:8},children:[t.jsx(C,{sx:{height:{xs:150,md:200},backgroundImage:e!=null&&e.bannerUrl?`url(${e.bannerUrl})`:void 0,background:e!=null&&e.bannerUrl?void 0:ne=>`linear-gradient(135deg, ${ne.palette.primary.main} 0%, ${ne.palette.primary.light} 100%)`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:3,position:"relative"}}),t.jsx(C,{sx:{position:"absolute",bottom:-50,left:"50%",transform:"translateX(-50%)"},children:t.jsx(wn,{src:e.logoUrl,sx:{width:{xs:100,md:128},height:{xs:100,md:128},border:"4px solid",borderColor:"background.paper",boxShadow:3}})})]}),t.jsx(ot,{elevation:0,sx:{mb:4,p:{xs:3,md:4},borderRadius:3,border:"1px solid",borderColor:"divider"},children:t.jsxs(C,{sx:{textAlign:"center",pt:3},children:[t.jsx(v,{variant:"h3",gutterBottom:!0,sx:{fontWeight:700,fontSize:{xs:"2rem",md:"2.5rem"},color:"text.primary",mb:1},children:e.name}),t.jsxs(ye,{direction:"row",spacing:2,justifyContent:"center",sx:{mb:3},children:[t.jsx(Ye,{icon:t.jsx(jp,{}),label:`${(z=(te=e.stats)==null?void 0:te.activeSubscriptionCount)==null?void 0:z.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1})} subscribers`,sx:{fontWeight:600,bgcolor:fe("#0b6cff",.1),color:"#0b6cff","& .MuiChip-icon":{color:"#0b6cff"}}}),t.jsx(Ye,{icon:t.jsx(Lv,{}),label:`${((De=e.tiers)==null?void 0:De.length)||0} tiers`,sx:{fontWeight:600,bgcolor:fe("#589aff",.1),color:"#589aff","& .MuiChip-icon":{color:"#589aff"}}})]}),t.jsx(v,{variant:"body1",sx:{mb:4,maxWidth:800,color:"text.secondary",lineHeight:1.8,fontSize:"1.1rem"},children:e.description}),t.jsx(xe,{variant:N?"outlined":"contained",size:"large",onClick:()=>{var ne,me;return N?_e():X((me=(ne=e==null?void 0:e.tiers)==null?void 0:ne.find(he=>he.isDefault))==null?void 0:me.id)},disabled:o,startIcon:o&&t.jsx(Wn,{size:20,color:"inherit"}),sx:{px:4,py:1.5,borderRadius:50,fontSize:"1rem",fontWeight:600,textTransform:"none",boxShadow:N?"none":"0 4px 14px 0 rgba(11, 108, 255, 0.39)","&:hover":{boxShadow:N?"none":"0 6px 20px rgba(11, 108, 255, 0.5)"}},children:o?"Processing...":N?"Cancel Membership":"Join Channel"})]})}),t.jsxs(ot,{elevation:0,sx:{mb:4,borderRadius:3,border:"1px solid",borderColor:"divider",overflow:"hidden"},children:[t.jsxs(ho,{value:b,onChange:(ne,me)=>S(me),variant:"scrollable",scrollButtons:"auto",sx:{borderBottom:1,borderColor:"divider","& .MuiTab-root":{textTransform:"none",fontWeight:600,fontSize:"1rem",minHeight:64}},children:[t.jsx(Zn,{icon:t.jsx(Ra,{}),iconPosition:"start",label:"News"}),t.jsx(Zn,{icon:t.jsx(td,{}),iconPosition:"start",label:"Polls"}),t.jsx(Zn,{icon:t.jsx(Ai,{}),iconPosition:"start",label:"Contribute"}),t.jsx(Zn,{icon:t.jsx($v,{}),iconPosition:"start",label:"Connect"}),t.jsx(Zn,{icon:t.jsx(Fv,{}),iconPosition:"start",label:"Budget"}),t.jsx(Zn,{icon:t.jsx(Ip,{}),iconPosition:"start",label:"About"})]}),t.jsxs(C,{sx:{p:4},children:[b===0&&t.jsxs(C,{children:[t.jsxs(C,{sx:{mb:3},children:[t.jsx(v,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:1},children:"Channel News"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Latest news from this channel"}),t.jsx(Ec,{selectedTags:c,onTagsChange:Z,contentType:"news",maxTags:5,showCounts:!1,horizontal:!0})]}),t.jsx(Oh,{filters:{channel:e==null?void 0:e.id,...c.length>0&&{tags:c}},emptyTitle:"No news published yet",emptyDescription:"This channel hasn't published any news articles yet",showSearch:!0,mode:"grid"})]}),b===1&&t.jsxs(C,{children:[t.jsxs(C,{sx:{mb:3},children:[t.jsx(v,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:1},children:"Channel Polls"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Vote on polls from this channel"}),t.jsx(C,{sx:{mb:3},children:t.jsx("form",{onSubmit:q,children:t.jsx(rt,{fullWidth:!0,placeholder:"Search polls by question or content...",value:m,onChange:ne=>y(ne.target.value),InputProps:{startAdornment:t.jsx(Qr,{position:"start",children:t.jsx(Ya,{color:"action"})}),endAdornment:m&&t.jsx(Qr,{position:"end",children:t.jsx(Le,{size:"small",onClick:K,edge:"end",children:t.jsx(Jf,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"background.paper"}}})})}),t.jsx(Ec,{selectedTags:u,onTagsChange:G,contentType:"polls",maxTags:5,showCounts:!1,horizontal:!0})]}),t.jsx(C,{children:t.jsx(Vv,{filters:{channel:e==null?void 0:e.id,...u.length>0&&{tags:u},...x&&{query:x}},emptyTitle:"No polls found",emptyDescription:"This channel hasn't created any polls yet",mode:"grid"})})]}),b===2&&t.jsx(C,{children:t.jsx(v,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"Become a financial contributor"})}),b===3&&t.jsxs(C,{children:[t.jsx(v,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"Connect with us"}),t.jsx(ye,{spacing:2,children:t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(Le,{color:"primary",size:"small",children:t.jsx(Wv,{})}),t.jsx(v,{children:"Contact via membership"})]})})]}),b===4&&t.jsxs(C,{children:[t.jsx(v,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"Budget"}),t.jsx(v,{color:"text.secondary",children:"Financial information will be displayed here"})]}),b===5&&t.jsxs(C,{children:[t.jsx(v,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"About"}),t.jsxs(ye,{spacing:3,children:[t.jsxs(C,{children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"DESCRIPTION"}),t.jsx(v,{variant:"body1",sx:{lineHeight:1.8},children:e.description})]}),t.jsx(Lt,{}),t.jsxs(C,{children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"STATISTICS"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsx($,{item:!0,xs:6,md:3,children:t.jsxs(ot,{variant:"outlined",sx:{p:2,textAlign:"center"},children:[t.jsx(v,{variant:"h4",color:"primary",sx:{fontWeight:700},children:((oe=e.stats)==null?void 0:oe.activeSubscriptionCount)||0}),t.jsx(v,{variant:"caption",color:"text.secondary",children:"Subscribers"})]})}),t.jsx($,{item:!0,xs:6,md:3,children:t.jsxs(ot,{variant:"outlined",sx:{p:2,textAlign:"center"},children:[t.jsx(v,{variant:"h4",color:"primary",sx:{fontWeight:700},children:((le=e.tiers)==null?void 0:le.length)||0}),t.jsx(v,{variant:"caption",color:"text.secondary",children:"Tiers"})]})})]})]})]})]})]})]}),b===2&&t.jsxs(C,{sx:{mb:6},children:[t.jsx(v,{variant:"h4",gutterBottom:!0,sx:{fontSize:{xs:"1.75rem",md:"2rem"},fontWeight:700,mb:4,textAlign:"center"},children:"Membership Tiers"}),t.jsx($,{container:!0,spacing:3,children:(ie=e.tiers)==null?void 0:ie.map(ne=>t.jsx($,{item:!0,xs:12,md:4,children:t.jsxs(Ne,{elevation:se===ne.id?8:2,sx:{height:"100%",display:"flex",flexDirection:"column",borderRadius:3,overflow:"hidden",transition:"all 0.3s ease",border:se===ne.id?"2px solid #0b6cff":"1px solid #e0e0e0","&:hover":{transform:"translateY(-8px)",boxShadow:"0 12px 24px rgba(0,0,0,0.15)"}},children:[t.jsxs(C,{sx:{height:120,background:se===ne.id?"linear-gradient(135deg, #0b6cff 0%, #589aff 100%)":"linear-gradient(135deg, #589aff 0%, #7bb0ff 100%)",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",p:3},children:[se===ne.id&&t.jsx(Ye,{label:"CURRENT PLAN",size:"small",sx:{position:"absolute",top:12,right:12,bgcolor:"white",color:"#0b6cff",fontWeight:700,fontSize:"0.7rem"}}),!se&&ne.isDefault&&t.jsx(Ye,{label:"POPULAR",size:"small",sx:{position:"absolute",top:12,right:12,bgcolor:"white",color:"#589aff",fontWeight:700,fontSize:"0.7rem"}}),t.jsx(v,{variant:"h5",sx:{color:"white",fontWeight:700,textAlign:"center"},children:ne.name})]}),t.jsxs(Fe,{sx:{flexGrow:1,p:3,display:"flex",flexDirection:"column"},children:[t.jsx(C,{sx:{mb:3,textAlign:"center"},children:t.jsxs(v,{variant:"h3",sx:{fontWeight:700,color:"text.primary",display:"flex",alignItems:"baseline",justifyContent:"center",gap:.5},children:[t.jsx(v,{component:"span",sx:{fontSize:"1.5rem",fontWeight:500},children:"$"}),ne.price,t.jsx(v,{component:"span",sx:{fontSize:"1rem",fontWeight:400,color:"text.secondary"},children:"/month"})]})}),t.jsx(Lt,{sx:{mb:3}}),t.jsx(v,{variant:"body2",sx:{mb:3,color:"text.secondary",minHeight:60,lineHeight:1.7,flexGrow:1},children:ne.description}),se===ne.id?t.jsx(xe,{variant:"outlined",fullWidth:!0,size:"large",disabled:!0,sx:{py:1.5,borderRadius:50,textTransform:"none",fontWeight:600,fontSize:"1rem"},children:"Current Plan"}):t.jsx(xe,{variant:"contained",fullWidth:!0,size:"large",onClick:()=>N?be(ne.id):ae(ne),disabled:o,sx:{py:1.5,borderRadius:50,textTransform:"none",fontWeight:600,fontSize:"1rem",boxShadow:"0 4px 12px rgba(11, 108, 255, 0.3)","&:hover":{boxShadow:"0 6px 16px rgba(11, 108, 255, 0.4)"}},startIcon:o&&t.jsx(Wn,{size:20,color:"inherit"}),children:o?"Processing...":N?"Switch to This Plan":ne.price===0?"Join Free":"Subscribe"})]})]})},ne.id))})]})]}),t.jsxs(en,{open:j,onClose:()=>D(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsxs(sn,{children:["Subscribe to ",w==null?void 0:w.name]}),t.jsx(tn,{children:w&&t.jsxs(C,{children:[t.jsxs(C,{sx:{mb:3},children:[t.jsxs(v,{variant:"h5",sx:{fontWeight:600,mb:1},children:[new Intl.NumberFormat("en-US",{style:"currency",currency:w.currency.toUpperCase()}).format(w.price/100),t.jsx(v,{component:"span",variant:"body2",color:"text.secondary",children:"/month"})]}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:w.description})]}),t.jsx(Lt,{sx:{my:2}}),t.jsx(v,{variant:"subtitle2",sx:{mb:2,fontWeight:600},children:"Select Payment Method:"}),w.paymentConfigs&&w.paymentConfigs.length>0?t.jsx(C,{sx:{display:"flex",flexDirection:"column",gap:2},children:w.paymentConfigs.map(ne=>{var me;return((me=ne.provider)==null?void 0:me.code)==="paypal"&&ne.isActive?t.jsx(C,{children:t.jsx(x$,{planId:ne.providerPlanId,channelId:e.id,tierName:w.name,tierId:w.id,onSuccess:V,onError:re,onCancel:Ee,disabled:o})},ne.id):null})}):t.jsx(v,{variant:"body2",color:"error",children:"No payment methods configured for this tier. Please contact the channel owner."})]})}),t.jsx(nn,{children:t.jsx(xe,{onClick:()=>D(!1),children:"Cancel"})})]})]}):t.jsx(C,{sx:{bgcolor:"background.default",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(It,{maxWidth:"sm",children:t.jsxs(ot,{elevation:3,sx:{p:6,borderRadius:3,textAlign:"center"},children:[t.jsx(v,{variant:"h4",gutterBottom:!0,sx:{fontWeight:700,color:"text.primary"},children:"Channel not found"}),t.jsx(v,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"The channel you're looking for doesn't exist or has been removed."}),t.jsx(xe,{variant:"contained",onClick:()=>_("/app"),sx:{borderRadius:50,px:4,py:1.5,textTransform:"none",fontWeight:600},children:"Go Home"})]})})})},g$=()=>t.jsx(C,{sx:{width:"100%",height:"100vh",overflow:"hidden",display:"flex",flexDirection:"column",position:"fixed",top:64,left:0,right:0,bottom:0,margin:0,padding:0,zIndex:1},children:t.jsx(C,{sx:{flex:1,overflow:"hidden"},children:t.jsx(Vv,{filters:{},emptyTitle:"No polls found",emptyDescription:"There are no polls available at the moment.",mode:"scroll"})})}),b$=({poll:e,onVote:n,userVote:r,showResults:s=!1,disabled:o=!1})=>{var x;const a=xn(),[c,d]=g.useState(null),u=((x=e.stats)==null?void 0:x.totalVotes)||0,h=p=>{o||d(p)};return t.jsx(C,{children:t.jsx(ye,{spacing:2,sx:{mb:2},children:e.options.map(p=>{const m=p.voteCount||0,y=u>0?m/u*100:0,b=r===p.id,S=c===p.id;return t.jsxs(C,{onClick:j=>{j.preventDefault(),j.stopPropagation(),!s&&!o&&n&&n(String(e.id),p.id)},onMouseEnter:()=>h(p.id),onMouseLeave:()=>h(null),sx:{position:"relative",cursor:s||o?"default":"pointer",transition:"all 0.2s ease",transform:S?"translateX(4px)":"none",opacity:o?.6:1},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:.5,px:2,py:1.5,border:"1px solid",borderColor:b?"primary.main":S?fe(a.palette.primary.main,.5):"divider",borderRadius:1,bgcolor:b?fe(a.palette.primary.main,.05):"transparent",transition:"all 0.2s ease","&:hover":!s&&!o&&{borderColor:"primary.main",boxShadow:`0 2px 8px ${fe(a.palette.primary.main,.15)}`}},children:[t.jsx(C,{sx:{width:24,height:24,minWidth:24,minHeight:24,flexShrink:0,borderRadius:"50%",border:"2px solid",borderColor:b?"primary.main":S?fe(a.palette.primary.main,.5):"divider",mr:2,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:b&&t.jsx(C,{sx:{width:12,height:12,borderRadius:"50%",bgcolor:"primary.main"}})}),t.jsx(v,{variant:"body1",sx:{flex:1,fontWeight:b?600:400,color:b?"primary.main":"text.primary",wordBreak:"break-word"},children:p.text}),s&&t.jsxs(C,{sx:{display:"flex",alignItems:"center",ml:2,minWidth:80,justifyContent:"flex-end",flexShrink:0},children:[t.jsxs(v,{variant:"body2",sx:{fontWeight:600,color:b?"primary.main":"text.secondary",mr:1},children:[y.toFixed(1),"%"]}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["(",m,")"]})]}),b&&!s&&t.jsx(Ti,{sx:{ml:1,color:"primary.main",fontSize:"1.2rem",flexShrink:0}})]}),s&&t.jsx(Ci,{variant:"determinate",value:y,sx:{height:8,borderRadius:4,bgcolor:fe(a.palette.primary.main,.1),"& .MuiLinearProgress-bar":{borderRadius:4,bgcolor:b?"primary.main":fe(a.palette.primary.main,.6)}}})]},p.id)})})})};var Rp={},y$=Ze;Object.defineProperty(Rp,"__esModule",{value:!0});var Uv=Rp.default=void 0,v$=y$(et()),j$=t;Uv=Rp.default=(0,v$.default)((0,j$.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2"}),"Bookmark");var _p={},S$=Ze;Object.defineProperty(_p,"__esModule",{value:!0});var zv=_p.default=void 0,w$=S$(et()),C$=t;zv=_p.default=(0,w$.default)((0,C$.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2m0 15-5-2.18L7 18V5h10z"}),"BookmarkBorder");var Op={},P$=Ze;Object.defineProperty(Op,"__esModule",{value:!0});var Hv=Op.default=void 0,D$=P$(et()),I$=t;Hv=Op.default=(0,D$.default)((0,I$.jsx)("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4zM18 14H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"}),"Comment");const E$=()=>t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsxs($,{container:!0,spacing:4,children:[t.jsx($,{item:!0,xs:12,md:8,children:t.jsx(Ne,{children:t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[t.jsx(ce,{variant:"text",width:"60%",height:40}),t.jsx(ye,{direction:"row",spacing:1,children:[1,2].map(e=>t.jsx(ce,{variant:"circular",width:40,height:40},e))})]}),t.jsxs(ye,{spacing:2,sx:{mb:3},children:[t.jsx(ce,{variant:"text",width:"100%"}),t.jsx(ce,{variant:"text",width:"95%"}),t.jsx(ce,{variant:"text",width:"90%"})]}),t.jsx(ye,{spacing:2,children:[1,2,3,4].map(e=>t.jsx(ce,{variant:"rectangular",height:60,sx:{borderRadius:1}},e))})]})})}),t.jsx($,{item:!0,xs:12,md:4,children:t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsx(ce,{variant:"text",width:"50%",height:32,sx:{mb:2}}),t.jsx(ye,{spacing:2,children:[1,2,3].map(e=>t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[t.jsx(ce,{variant:"text",width:"40%"}),t.jsx(ce,{variant:"text",width:"20%"})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:8,sx:{borderRadius:1}})]},e))})]})})})]})}),T$=()=>{var Z,G,q;const{id:e}=es(),{api:n}=Xe(),r=xn(),[s,o]=g.useState(null),[a,c]=g.useState(!0),[d,u]=g.useState(null),[h,x]=g.useState(!1),[p,m]=g.useState(null),[y,b]=g.useState(null),{execute:S}=nt(),[j,D]=g.useState(!1),[w,I]=g.useState(null),[T,_]=g.useState(!1),R=(s==null?void 0:s.isPremium)&&(s==null?void 0:s.accessInfo)&&!s.accessInfo.canAccess,O=async K=>{try{_(!0);const X=await(n==null?void 0:n.fundingApi.getFund("poll",K));I(X)}catch(X){console.error("Failed to load fund data:",X)}finally{_(!1)}};g.useEffect(()=>{(async()=>{if(!e)return;c(!0);const X=await S(()=>n==null?void 0:n.pollApi.get(e),{showErrorToast:!0});if(X){o(X);const ae=await S(()=>n==null?void 0:n.pollApi.getUserVote(e),{showErrorToast:!1});ae!=null&&ae.optionId&&u(ae.optionId);const V=await S(()=>n==null?void 0:n.pollApi.checkVotingEligibility(e),{showErrorToast:!1});V&&b(V),O(e)}c(!1)})()},[e,S]);const A=async(K,X)=>{if(!(y!=null&&y.canVote)){m((y==null?void 0:y.reason)||"You cannot vote on this poll");return}if(await S(()=>n==null?void 0:n.pollApi.vote(K,{optionId:X}),{showSuccessMessage:!0,successMessage:"Vote recorded successfully!"})){u(X);const V=await S(()=>n==null?void 0:n.pollApi.get(K),{showErrorToast:!0});V&&o(V)}},L=()=>{navigator.share?navigator.share({title:s==null?void 0:s.title,text:s==null?void 0:s.description,url:window.location.href}).catch(console.error):navigator.clipboard.writeText(window.location.href)},W=()=>{x(!h)},H=async()=>{try{const K=await(n==null?void 0:n.accountApi.getPaymentMethods());if(!(K!=null&&K.items)||K.items.length===0){alert("Please add a payment method before funding. You can add payment methods in your account settings.");return}}catch(K){console.error("Failed to check payment methods:",K)}D(!0)},N=async K=>{e&&await O(e),console.log("Contribution successful:",K)},se=()=>!s||!w?null:{id:w.id,title:s.title,currentAmount:w.currentAmount/100,goalAmount:w.goalAmount?w.goalAmount/100:void 0,currency:w.currency,contributorCount:0,description:"Support quality journalism by funding this poll"};return a?t.jsx(E$,{}):s?t.jsxs(It,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs($,{container:!0,spacing:4,children:[t.jsx($,{item:!0,xs:12,children:t.jsx(C,{sx:{mb:3},children:t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap"},children:[t.jsxs(C,{component:$n,to:ve.APP_CHANNEL_VIEW.replace(":channelId",s.channel.id),sx:{display:"inline-flex",alignItems:"center",bgcolor:"primary.main",color:"primary.contrastText",px:2,py:1,borderRadius:2,textDecoration:"none",transition:"all 0.2s ease-in-out","&:hover":{bgcolor:"primary.dark",transform:"translateY(-2px)"}},children:[t.jsx(Xa,{sx:{mr:1}}),t.jsx(v,{variant:"subtitle2",children:s.channel.name})]}),t.jsxs(C,{sx:{display:"inline-flex",alignItems:"center",bgcolor:"background.paper",px:2,py:1,borderRadius:2,border:"1px solid",borderColor:"divider"},children:[t.jsx(qa,{sx:{mr:1,fontSize:"0.9rem"}}),t.jsx(v,{variant:"caption",children:s.creator.displayName})]})]}),t.jsxs(ye,{direction:"row",spacing:1,children:[t.jsx(Le,{onClick:L,sx:{color:"text.secondary","&:hover":{bgcolor:fe(r.palette.primary.main,.05)}},children:t.jsx(ad,{})}),t.jsx(Le,{onClick:W,sx:{color:h?"primary.main":"text.secondary","&:hover":{bgcolor:fe(r.palette.primary.main,.05)}},children:h?t.jsx(Uv,{}):t.jsx(zv,{})})]})]})})}),t.jsx($,{item:!0,xs:12,md:8,children:t.jsxs(Ne,{children:[s.media&&s.media.length>0&&t.jsxs(C,{sx:{position:"relative",width:"100%",paddingTop:"56.25%",overflow:"hidden",borderRadius:"4px 4px 0 0"},children:[t.jsx(C,{component:s.media[0].format===2?"video":"img",src:s.media[0].url,alt:s.media[0].caption||s.title,controls:s.media[0].format===2,autoPlay:s.media[0].format===2,loop:s.media[0].format===2,muted:s.media[0].format===2,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}}),s.media[0].caption&&t.jsx(C,{sx:{position:"absolute",bottom:0,left:0,right:0,bgcolor:fe(r.palette.common.black,.7),color:"white",p:1,backdropFilter:"blur(4px)"},children:t.jsx(v,{variant:"caption",children:s.media[0].caption})})]}),t.jsxs(Fe,{children:[t.jsx(v,{variant:"h4",gutterBottom:!0,sx:{fontWeight:700,mb:3},children:s.title}),y&&!y.canVote&&t.jsx(ct,{severity:d?"info":"warning",sx:{mb:3},icon:d?t.jsx(Ti,{}):void 0,children:y.reason||(d?"You have already voted on this poll":"You are not eligible to vote on this poll")}),t.jsx(b$,{poll:s,onVote:A,userVote:d,showResults:!!d,disabled:!(y!=null&&y.canVote)})]})]})}),t.jsx($,{item:!0,xs:12,md:4,children:t.jsxs(ye,{spacing:3,children:[s.description&&t.jsxs(ot,{sx:{p:2},children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"About this Poll"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:s.description})]}),R?t.jsxs(ot,{elevation:3,sx:{p:3,textAlign:"center",bgcolor:K=>fe(K.palette.warning.main,.05),border:K=>`2px solid ${fe(K.palette.warning.main,.3)}`,borderRadius:3},children:[t.jsx(C,{sx:{width:60,height:60,borderRadius:"50%",bgcolor:K=>fe(K.palette.warning.main,.1),display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",mb:2},children:t.jsx(Ta,{sx:{fontSize:30,color:"warning.main"}})}),t.jsx(v,{variant:"h6",gutterBottom:!0,fontWeight:"bold",color:"warning.dark",children:"Premium Poll Statistics"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:((Z=s.accessInfo)==null?void 0:Z.reason)||"Subscribe to view detailed poll statistics and results."}),((G=s.accessInfo)==null?void 0:G.requiredTierName)&&t.jsxs(ct,{severity:"info",sx:{mb:2},children:["Required tier: ",t.jsx("strong",{children:s.accessInfo.requiredTierName})]}),t.jsxs(C,{sx:{mb:2},children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Subscribe to unlock:"}),t.jsx(ye,{spacing:.5,alignItems:"flex-start",sx:{mx:"auto",display:"inline-flex"},children:["View vote counts","See poll results","Participate in voting","Access detailed statistics"].map((K,X)=>t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Ti,{color:"success",fontSize:"small"}),t.jsx(v,{variant:"body2",children:K})]},X))})]}),t.jsx(xe,{component:$n,to:ve.APP_CHANNEL_VIEW.replace(":channelId",s.channelId),variant:"contained",color:"warning",size:"medium",startIcon:t.jsx(cd,{}),sx:{px:3,py:1.5,borderRadius:2,fontWeight:"bold",textTransform:"none",fontSize:"0.95rem"},children:"View Subscription Options"})]}):t.jsxs(ot,{sx:{p:2},children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Poll Statistics"}),t.jsxs(ye,{spacing:2,children:[t.jsxs(C,{children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Total Votes"}),t.jsx(v,{variant:"h4",children:((q=s.stats)==null?void 0:q.totalVotes)??0})]}),t.jsxs(C,{children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Time Remaining"}),t.jsx(v,{variant:"body1",children:s.endDate?qr(new Date(s.endDate),{addSuffix:!0}):"No end date"})]})]})]}),t.jsx(ot,{elevation:2,sx:{p:3,borderRadius:2,border:"2px solid",borderColor:"primary.main",bgcolor:K=>fe(K.palette.primary.main,.05)},children:t.jsxs(ye,{spacing:2,children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Ai,{color:"primary",fontSize:"large"}),t.jsx(v,{variant:"h6",fontWeight:"bold",color:"primary",children:"Fund this Poll"})]}),w&&!T?t.jsxs(C,{children:[t.jsx(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Current Funding"}),t.jsxs(v,{variant:"h5",fontWeight:"bold",color:"primary.main",children:[w.currency," ",(w.currentAmount/100).toFixed(2)]}),w.goalAmount&&t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Goal: ",w.currency," ",(w.goalAmount/100).toFixed(2)]})]}):T?t.jsx(ce,{variant:"rectangular",height:60}):t.jsx(v,{variant:"body2",color:"text.secondary",children:"Be the first to fund this poll"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Support quality journalism by contributing to this poll"}),t.jsx(xe,{variant:"contained",color:"primary",fullWidth:!0,size:"large",startIcon:t.jsx(Ai,{}),onClick:H,disabled:!s,sx:{py:1.5,fontWeight:"bold",textTransform:"none",fontSize:"1rem"},children:"Fund Now"})]})}),t.jsxs(ot,{sx:{p:2},children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Comments"}),t.jsx(xe,{startIcon:t.jsx(Hv,{}),variant:"outlined",fullWidth:!0,sx:{mt:1,textTransform:"none",borderRadius:2},children:"Add a Comment"})]})]})})]}),s&&w&&t.jsx(Mv,{open:j,onClose:()=>D(!1),onSuccess:N,contentType:"poll",contentId:s.id,fundingData:se()}),t.jsx(o0,{open:!!p,autoHideDuration:6e3,onClose:()=>m(null),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:t.jsx(ct,{onClose:()=>m(null),severity:"error",sx:{width:"100%"},children:p})})]}):t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsx(v,{variant:"h4",children:"Poll not found"})})},A$=()=>{const[e,n]=g.useState(null),[r,s]=g.useState(!0),[o,a]=g.useState(!1),[c,d]=g.useState(!1),[u,h]=g.useState(null),[x,p]=g.useState(null),[m,y]=g.useState({}),{api:b}=Xe(),{execute:S}=nt();g.useEffect(()=>{j()},[]);const j=async()=>{s(!0),h(null);const _=await S(()=>b.accountApi.getProfile(),{showErrorToast:!0});_&&(n(_),y({displayName:_.displayName,photoUrl:_.photoUrl})),s(!1)},D=()=>{d(!0),h(null),p(null)},w=()=>{d(!1),e&&y({displayName:e.displayName,photoUrl:e.photoUrl}),h(null),p(null)},I=async()=>{a(!0),h(null),p(null);const _=await S(()=>b.accountApi.updateProfile(m),{showSuccessMessage:!0,successMessage:"Profile updated successfully"});_&&(n(_),d(!1)),a(!1)},T=_=>R=>{y(O=>({...O,[_]:R.target.value}))};return r?t.jsx(C,{sx:{p:3},children:t.jsxs(ye,{spacing:3,alignItems:"center",children:[t.jsx(ce,{variant:"circular",width:120,height:120}),t.jsx(ce,{variant:"text",width:"50%",height:40}),t.jsx(ce,{variant:"rectangular",width:"100%",height:56}),t.jsx(ce,{variant:"rectangular",width:"100%",height:56})]})}):e?t.jsx(C,{sx:{p:3},children:t.jsxs(ye,{spacing:3,children:[u&&t.jsx(ct,{severity:"error",children:u}),x&&t.jsx(ct,{severity:"success",children:x}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:2},children:[t.jsx(wn,{src:m.photoUrl||e.photoUrl,sx:{width:120,height:120,mb:2}}),t.jsx(v,{variant:"h6",children:e.email}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Joined ",new Date(e.createdAt||"").toLocaleDateString()]})]}),t.jsx(rt,{label:"Display Name",value:m.displayName||"",onChange:T("displayName"),disabled:!c,fullWidth:!0,variant:"outlined"}),t.jsx(rt,{label:"Photo URL",value:m.photoUrl||"",onChange:T("photoUrl"),disabled:!c,fullWidth:!0,variant:"outlined",placeholder:"https://example.com/photo.jpg"}),t.jsx(C,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:c?t.jsxs(t.Fragment,{children:[t.jsx(xe,{variant:"outlined",startIcon:t.jsx(Ss,{}),onClick:w,disabled:o,children:"Cancel"}),t.jsx(xe,{variant:"contained",startIcon:o?t.jsx(Wn,{size:20}):t.jsx(c0,{}),onClick:I,disabled:o,children:"Save Changes"})]}):t.jsx(xe,{variant:"contained",startIcon:t.jsx(hs,{}),onClick:D,children:"Edit Profile"})})]})}):t.jsx(C,{sx:{p:3},children:t.jsx(ct,{severity:"error",children:"Failed to load profile"})})},Hr={CREDIT_CARD:1,BANK_TRANSFER:2,PAYPAL:3,IYZICO:4,OTHER:5},R$=({onSuccess:e,onError:n,disabled:r=!1})=>{const[s,o]=g.useState(!1),[a,c]=g.useState(!1),[d,u]=g.useState(null),h=g.useRef(null),{api:x}=Xe(),p="sb";return g.useEffect(()=>{if(window.paypal){o(!0);return}const m=document.createElement("script");return m.src=`https://www.sandbox.paypal.com/sdk/js?client-id=${p}&components=buttons&vault=true`,m.async=!0,m.onload=()=>{o(!0)},m.onerror=()=>{u("Failed to load PayPal SDK"),n("Failed to load PayPal SDK")},document.head.appendChild(m),()=>{document.head.contains(m)&&document.head.removeChild(m)}},[p,n]),g.useEffect(()=>{!s||r||!h.current||(h.current&&(h.current.innerHTML=""),window.paypal&&window.paypal.Buttons&&window.paypal.Buttons({style:{layout:"horizontal",color:"blue",shape:"rect",label:"paypal",tagline:!1,height:40},createOrder:async()=>{try{return c(!0),u(null),(await x.paymentTokenApi.createPayPalTokenizationOrder()).id}catch(m){const y=m.message||"Failed to initialize PayPal connection";throw u(y),n(y),c(!1),m}},onApprove:async m=>{try{const y=await x.paymentTokenApi.capturePayPalTokenizationOrder(m.orderID);if(y.payment_token)await x.accountApi.savePayPalPaymentMethod({payment_token:y.payment_token,payer_id:m.payerID}),e(y);else throw new Error("No payment token received from PayPal")}catch(y){const b=y.message||"Failed to save PayPal payment method";u(b),n(b)}finally{c(!1)}},onError:m=>{console.error("PayPal button error:",m);const y="PayPal connection failed. Please try again.";u(y),n(y),c(!1)},onCancel:()=>{c(!1),console.log("PayPal connection cancelled by user")}}).render(h.current))},[s,r,x,e,n]),s?t.jsxs(C,{sx:{textAlign:"center",py:3},children:[d&&t.jsx(ct,{severity:"error",sx:{mb:2},children:d}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Connect your PayPal account securely using PayPal's secure tokenization"}),t.jsx("div",{ref:h}),a&&t.jsx(v,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:2},children:"Connecting to PayPal..."}),t.jsx(v,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:2},children:"Your payment information is stored securely with PayPal"})]}):t.jsx(C,{sx:{textAlign:"center",py:2},children:t.jsx(v,{variant:"body2",color:"text.secondary",children:"Loading PayPal..."})})},_$=({onSuccess:e,onError:n,disabled:r=!1})=>{const[s,o]=g.useState(!1),[a,c]=g.useState(null),[d,u]=g.useState(null),[h,x]=g.useState(null),{api:p}=Xe();g.useEffect(()=>{(async()=>{try{const j=await p.accountApi.getProfile();if(j!=null&&j.displayName&&(j!=null&&j.email)){const D=j.displayName.trim().split(" "),w=D[0]||"User",I=D.length>1?D.slice(1).join(" "):"Name";x({name:w,surname:I,email:j.email})}else c("Unable to retrieve user information. Please ensure your profile is complete.")}catch(j){console.error("Failed to fetch user info:",j),c("Failed to retrieve user information")}})()},[p]);const m=async()=>{try{return(await(await fetch("https://api.ipify.org?format=json")).json()).ip||"127.0.0.1"}catch{return"127.0.0.1"}},y=async()=>{if(!h){c("User information is not available");return}try{o(!0),c(null);const S=await m(),j=await p.iyzicoTokenApi.initializeTokenization({name:h.name,surname:h.surname,email:h.email,ip:S});if(!j.sessionToken)throw new Error("Failed to initialize Iyzico session");if(u(j.sessionToken),j.checkoutFormContent){const D=window.open("","IyzicoCheckout","width=800,height=600");if(D){D.document.write(j.checkoutFormContent),D.document.close(),window.addEventListener("message",b,!1);const w=setInterval(()=>{D.closed&&(clearInterval(w),window.removeEventListener("message",b,!1),o(!1),c("Payment window was closed"))},1e3)}else throw new Error("Failed to open payment window. Please allow popups.")}else if(j.paymentPageUrl)window.open(j.paymentPageUrl,"IyzicoCheckout","width=800,height=600");else throw new Error("No checkout method provided by Iyzico")}catch(S){const j=S.message||"Failed to initialize Iyzico payment";c(j),n(j),o(!1)}},b=async S=>{if(S.origin===window.location.origin)if(S.data&&S.data.type==="IYZICO_CHECKOUT_SUCCESS")try{if(!d||!h)throw new Error("Session information is missing");const j=await m(),D=await p.iyzicoTokenApi.savePaymentMethod({sessionToken:d,name:h.name,surname:h.surname,email:h.email,ip:j});window.removeEventListener("message",b,!1),o(!1),e(D)}catch(j){const D=j.message||"Failed to save Iyzico payment method";c(D),n(D),o(!1)}else if(S.data&&S.data.type==="IYZICO_CHECKOUT_ERROR"){window.removeEventListener("message",b,!1),o(!1);const j=S.data.message||"Payment failed";c(j),n(j)}else S.data&&S.data.type==="IYZICO_CHECKOUT_CANCEL"&&(window.removeEventListener("message",b,!1),o(!1),console.log("Iyzico payment cancelled by user"))};return h?t.jsxs(C,{sx:{textAlign:"center",py:3},children:[a&&t.jsx(ct,{severity:"error",sx:{mb:2},children:a}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Kartnz gvenli bir ekilde Iyzico ile kaydedin"}),t.jsx(xe,{variant:"contained",onClick:y,disabled:r||s||!h,sx:{backgroundColor:"#1B4332",color:"white","&:hover":{backgroundColor:"#2D5A3D"},"&:disabled":{backgroundColor:"#ccc"},minHeight:"48px",minWidth:"200px",fontWeight:"bold"},children:s?"yzico ile Balanyor...":"yzico ile deme Ekle"}),s&&t.jsx(v,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:2},children:"Gvenli deme sayfasna ynlendiriliyorsunuz..."}),t.jsx(v,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:2},children:"Kart bilgileriniz Iyzico'nun gvenli sisteminde saklanr"}),t.jsx(v,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:1},children:"lem tamamlandktan sonra pop-up pencereyi kapatabilirsiniz"})]}):t.jsx(C,{sx:{textAlign:"center",py:2},children:t.jsx(v,{variant:"body2",color:"text.secondary",children:"Loading user information..."})})},O$=()=>{const e=xn(),[n,r]=g.useState([]),[s,o]=g.useState([]),[a,c]=g.useState(!0),[d,u]=g.useState(null),[h,x]=g.useState(null),[p,m]=g.useState(!1),[y,b]=g.useState(null),[S,j]=g.useState(!1),[D,w]=g.useState(!1),{api:I}=Xe(),{execute:T}=nt();g.useEffect(()=>{_()},[]);const _=async()=>{c(!0),u(null);const[V,re]=await Promise.all([T(()=>I.accountApi.getPaymentMethods(),{showErrorToast:!0}),T(()=>I.accountApi.getAvailablePaymentMethods(),{showErrorToast:!1})]);V&&r(V.items??[]),re&&o(re),c(!1)},R=async V=>{u(null),await T(()=>I.accountApi.setDefaultPaymentMethod(V.id),{showSuccessMessage:!0,successMessage:"Default payment method updated"})&&await _()},O=async()=>{if(!y)return;u(null),await T(()=>I.accountApi.deletePaymentMethod(y.id),{showSuccessMessage:!0,successMessage:"Payment method deleted successfully"})&&(await _(),m(!1),b(null))},A=V=>{b(V),m(!0)},L=()=>{m(!1),b(null)},W=async()=>{await _(),x("Payment method added successfully")},H=()=>{j(!0)},N=async()=>{try{j(!1),x("Connecting PayPal account..."),await _(),x("PayPal account connected successfully!")}catch(V){console.error("Error refreshing payment methods:",V),x("PayPal account connected successfully!")}},se=V=>{u(V),j(!1)},Z=()=>{w(!0)},G=async()=>{w(!1),await W(),x("Iyzico card added successfully!")},q=V=>{u(V),w(!1)},K=V=>{switch(V){case Hr.PAYPAL:return t.jsx(wn,{sx:{bgcolor:"#0070ba",width:40,height:40,fontSize:"12px",fontWeight:"bold",color:"white"},children:"PayPal"});case Hr.IYZICO:return t.jsx(wn,{sx:{bgcolor:"#00a650",width:40,height:40,fontSize:"11px",fontWeight:"bold",color:"white"},children:"iyzico"});default:return t.jsx(wn,{sx:{bgcolor:e.palette.grey[400],width:40,height:40},children:t.jsx(d0,{})})}},X=V=>{switch(V.typeId){case Hr.PAYPAL:return V.details.email;case Hr.IYZICO:{const re=V.details.cardAssociation||"Card",Ee=V.details.lastFourDigits||"****";return`${re}  ${Ee}`}default:return"Payment method"}},ae=V=>s.includes(V);return a?t.jsx(C,{sx:{p:3},children:t.jsx(ye,{spacing:2,children:[...Array(3)].map((V,re)=>t.jsx(Ne,{children:t.jsx(Fe,{children:t.jsxs(ye,{direction:"row",spacing:2,alignItems:"center",children:[t.jsx(ce,{variant:"circular",width:40,height:40}),t.jsxs(C,{sx:{flex:1},children:[t.jsx(ce,{variant:"text",width:"60%"}),t.jsx(ce,{variant:"text",width:"40%"})]}),t.jsx(ce,{variant:"rectangular",width:100,height:32})]})})},re))})}):t.jsxs(C,{children:[t.jsxs(ye,{spacing:3,children:[d&&t.jsx(ct,{severity:"error",sx:{mb:2},children:d}),h&&t.jsx(ct,{severity:"success",sx:{mb:2},children:h}),t.jsxs(C,{sx:{mb:3},children:[t.jsx(v,{variant:"h6",sx:{fontWeight:600,mb:.5},children:"Payment Methods"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Manage your payout methods for receiving earnings"})]}),t.jsxs(ye,{spacing:0,divider:t.jsx(Lt,{}),sx:{border:"1px solid",borderColor:"divider",borderRadius:2,overflow:"hidden"},children:[ae(Hr.PAYPAL)&&t.jsxs(C,{sx:{p:2.5,display:"flex",alignItems:"center",gap:2.5,transition:"background-color 0.2s","&:hover":{bgcolor:e.palette.mode==="dark"?"rgba(255,255,255,0.02)":"rgba(0,0,0,0.01)"}},children:[t.jsx(C,{sx:{flexShrink:0},children:t.jsx(wn,{sx:{bgcolor:"#0070ba",width:40,height:40,fontSize:"12px",fontWeight:"bold",color:"white"},children:"PayPal"})}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[t.jsx(v,{variant:"body1",sx:{fontWeight:600},children:"PayPal"}),n.some(V=>V.typeId===Hr.PAYPAL)&&t.jsx(Ye,{label:"Connected",size:"small",color:"success",sx:{height:20,fontSize:"0.7rem",fontWeight:600}})]}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.875rem"},children:"Connect your PayPal account securely"})]}),t.jsx(C,{sx:{flexShrink:0,width:100},children:t.jsx(xe,{onClick:H,size:"small",variant:"outlined",fullWidth:!0,sx:{borderRadius:1.5,textTransform:"none",fontSize:"0.8rem",fontWeight:500},children:n.some(V=>V.typeId===Hr.PAYPAL)?"Add Another":"Connect"})})]}),ae(Hr.IYZICO)&&t.jsxs(C,{sx:{p:2.5,display:"flex",alignItems:"center",gap:2.5,transition:"background-color 0.2s","&:hover":{bgcolor:e.palette.mode==="dark"?"rgba(255,255,255,0.02)":"rgba(0,0,0,0.01)"}},children:[t.jsx(C,{sx:{flexShrink:0},children:t.jsx(wn,{sx:{bgcolor:"#00a650",width:40,height:40,fontSize:"11px",fontWeight:"bold",color:"white"},children:"iyzico"})}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[t.jsx(v,{variant:"body1",sx:{fontWeight:600},children:"Credit/Debit Card"}),n.some(V=>V.typeId===Hr.IYZICO)&&t.jsx(Ye,{label:`${n.filter(V=>V.typeId===Hr.IYZICO).length} Card(s)`,size:"small",color:"success",sx:{height:20,fontSize:"0.7rem",fontWeight:600}})]}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.875rem"},children:"Gvenli kart deme sistemi"})]}),t.jsx(C,{sx:{flexShrink:0,width:100},children:t.jsx(xe,{onClick:Z,size:"small",variant:"outlined",fullWidth:!0,sx:{borderRadius:1.5,textTransform:"none",fontSize:"0.8rem",fontWeight:500},children:"Add Card"})})]}),!ae(Hr.PAYPAL)&&!ae(Hr.IYZICO)&&t.jsx(C,{sx:{p:3,textAlign:"center"},children:t.jsx(v,{variant:"body2",color:"text.secondary",children:"No payment methods are currently available in your region."})})]}),n.length>0&&t.jsxs(t.Fragment,{children:[t.jsxs(C,{sx:{mt:4,mb:2},children:[t.jsx(v,{variant:"h6",sx:{fontWeight:600,mb:.5},children:"Connected Methods"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Your active payment methods"})]}),t.jsx(ye,{spacing:0,divider:t.jsx(Lt,{}),sx:{border:"1px solid",borderColor:"divider",borderRadius:2,overflow:"hidden"},children:n.map((V,re)=>t.jsxs(C,{sx:{p:2.5,display:"flex",alignItems:"center",gap:2.5,bgcolor:re%2===0?"transparent":e.palette.mode==="dark"?"rgba(255,255,255,0.02)":"rgba(0,0,0,0.01)",transition:"background-color 0.2s","&:hover":{bgcolor:e.palette.mode==="dark"?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.03)"}},children:[t.jsx(C,{sx:{flexShrink:0},children:K(V.typeId)}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1.5,mb:.5},children:[t.jsx(v,{variant:"body1",sx:{fontWeight:600},children:V.type.name}),V.isDefault&&t.jsx(Ye,{label:"Default",size:"small",sx:{height:20,fontSize:"0.7rem",fontWeight:600,bgcolor:"primary.main",color:"primary.contrastText"}})]}),t.jsx(v,{variant:"body2",color:"text.primary",sx:{mb:.5,fontFamily:"monospace",fontSize:"0.875rem"},children:X(V)}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[t.jsx(v,{variant:"caption",color:"text.secondary",sx:{fontWeight:500},children:V.currency.toUpperCase()}),V.lastUsedAt&&t.jsxs(t.Fragment,{children:[t.jsx(C,{sx:{width:3,height:3,bgcolor:"text.secondary",borderRadius:"50%",opacity:.5}}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Last used ",new Date(V.lastUsedAt).toLocaleDateString()]})]})]})]}),t.jsxs(C,{sx:{display:"flex",gap:1,flexShrink:0},children:[!V.isDefault&&t.jsx(xe,{onClick:()=>R(V),size:"small",variant:"outlined",sx:{borderRadius:1.5,textTransform:"none",fontSize:"0.75rem",fontWeight:500,px:1.5,minWidth:"auto"},children:"Set default"}),t.jsx(Le,{onClick:()=>A(V),size:"small",sx:{color:"text.secondary","&:hover":{color:"error.main",bgcolor:"error.main"}},children:t.jsx(hc,{fontSize:"small"})})]})]},V.id))})]})]}),t.jsxs(en,{open:p,onClose:L,children:[t.jsx(sn,{children:"Delete Payment Method"}),t.jsx(tn,{children:t.jsxs(v,{children:["Are you sure you want to delete this payment method?",(y==null?void 0:y.isDefault)&&t.jsx(ct,{severity:"warning",sx:{mt:2},children:"This is your default payment method. You'll need to set another payment method as default."})]})}),t.jsxs(nn,{children:[t.jsx(xe,{onClick:L,children:"Cancel"}),t.jsx(xe,{onClick:O,color:"error",variant:"contained",children:"Delete"})]})]}),t.jsxs(en,{open:S,onClose:()=>j(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(sn,{children:"Connect PayPal Account"}),t.jsx(tn,{children:t.jsx(R$,{onSuccess:N,onError:se,disabled:!1})}),t.jsx(nn,{children:t.jsx(xe,{onClick:()=>j(!1),children:"Cancel"})})]}),t.jsxs(en,{open:D,onClose:()=>w(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(sn,{children:"Kart Ekleme"}),t.jsx(tn,{children:t.jsx(_$,{onSuccess:G,onError:q,disabled:!1})}),t.jsx(nn,{children:t.jsx(xe,{onClick:()=>w(!1),children:"ptal"})})]})]})},pn={ACTIVE:1,CANCELLED:2,EXPIRED:3,PENDING:4,SUSPENDED:5},k$={[pn.ACTIVE]:"active",[pn.CANCELLED]:"cancelled",[pn.EXPIRED]:"expired",[pn.PENDING]:"pending",[pn.SUSPENDED]:"suspended"},Yv={active:pn.ACTIVE,cancelled:pn.CANCELLED,expired:pn.EXPIRED,pending:pn.PENDING,suspended:pn.SUSPENDED};function M$(e){if(typeof e=="number")return Object.values(pn).includes(e)?e:pn.PENDING;const n=e.toLowerCase();return Yv[n]||pn.PENDING}function Gv(e){if(typeof e=="string"){const n=e.toLowerCase();return n in Yv?n:"pending"}return k$[e]||"pending"}function N$(e){return M$(e)===pn.ACTIVE}function Ac(e){const n=Gv(e);switch(n){case"active":return"Active";case"cancelled":return"Cancelled";case"expired":return"Expired";case"pending":return"Pending";case"suspended":return"Suspended";default:return n.charAt(0).toUpperCase()+n.slice(1)}}function Rc(e){switch(Gv(e)){case"active":return"success";case"cancelled":return"warning";case"expired":return"error";case"pending":return"info";case"suspended":return"info";default:return"default"}}function L$(e){return N$(e)}const $$=[{id:pn.ACTIVE,value:"active",label:"Active"},{id:pn.CANCELLED,value:"cancelled",label:"Cancelled"},{id:pn.EXPIRED,value:"expired",label:"Expired"},{id:pn.PENDING,value:"pending",label:"Pending"},{id:pn.SUSPENDED,value:"suspended",label:"Suspended"}],F$=()=>{const[e,n]=g.useState([]),[r,s]=g.useState(!0),[o,a]=g.useState(null),[c,d]=g.useState(null),[u,h]=g.useState(!1),[x,p]=g.useState(null),[m,y]=g.useState(!1),{api:b}=Xe(),{execute:S}=nt(),j=xn(),D=async()=>{s(!0),a(null);const N=await S(()=>b.accountApi.getSubscriptions(),{showErrorToast:!0});N&&n(N.items??[]),s(!1)};g.useEffect(()=>{D()},[]);const w=async()=>{if(!x)return;y(!0),a(null),await S(()=>b.accountApi.cancelSubscription(x.id),{showSuccessMessage:!0,successMessage:"Subscription canceled successfully"})&&(await D(),h(!1),p(null)),y(!1)},I=N=>{p(N),h(!0)},T=()=>{h(!1),p(null)},_=N=>Rc(N),R=N=>Ac(N),O=N=>new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),A=(N,se)=>new Intl.NumberFormat("en-US",{style:"currency",currency:se.toUpperCase()}).format(N/100),L=N=>L$(N.statusId);if(r)return t.jsx(C,{sx:{p:{xs:2,md:4}},children:t.jsxs(ye,{spacing:3,children:[t.jsxs(C,{children:[t.jsx(ce,{variant:"text",sx:{fontSize:"1.5rem",width:"200px",mb:1}}),t.jsx(ce,{variant:"text",sx:{fontSize:"0.875rem",width:"150px"}})]}),t.jsx($,{container:!0,spacing:3,children:[...Array(3)].map((N,se)=>t.jsx($,{item:!0,xs:12,lg:6,children:t.jsxs(Ne,{sx:{height:"100%"},children:[t.jsx(Fe,{sx:{p:3},children:t.jsxs(ye,{direction:"row",spacing:3,children:[t.jsx(ce,{variant:"circular",width:64,height:64}),t.jsxs(C,{sx:{flex:1},children:[t.jsx(ce,{variant:"text",sx:{fontSize:"1.25rem",width:"70%",mb:1}}),t.jsx(ce,{variant:"text",sx:{width:"50%",mb:2}}),t.jsx(ye,{direction:"row",spacing:1,mb:2,children:t.jsx(ce,{variant:"rectangular",width:80,height:24,sx:{borderRadius:1}})}),t.jsxs(ye,{spacing:1,children:[t.jsx(ce,{variant:"text",sx:{width:"60%"}}),t.jsx(ce,{variant:"text",sx:{width:"40%"}})]})]})]})}),t.jsxs(yh,{sx:{px:3,pb:3},children:[t.jsx(ce,{variant:"rectangular",width:100,height:36,sx:{borderRadius:1}}),t.jsx(ce,{variant:"rectangular",width:120,height:36,sx:{borderRadius:1,ml:1}})]})]})},se))})]})});const W=e.filter(N=>N.statusId===pn.ACTIVE),H=e.reduce((N,se)=>N+se.tier.price/100,0);return t.jsx(C,{sx:{p:{xs:2,md:4}},children:t.jsxs(ye,{spacing:4,children:[o&&t.jsx(ct,{severity:"error",onClose:()=>a(null),sx:{borderRadius:2},children:o}),c&&t.jsx(ct,{severity:"success",onClose:()=>d(null),sx:{borderRadius:2},children:c}),t.jsxs(C,{children:[t.jsx(v,{variant:"h4",sx:{fontWeight:600,mb:1},children:"My Subscriptions"}),t.jsx(v,{variant:"body1",color:"text.secondary",children:"Manage your channel subscriptions and contributions"})]}),e.length>0&&t.jsxs($,{container:!0,spacing:3,children:[t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ot,{sx:{p:3,borderRadius:3,background:`linear-gradient(135deg, ${j.palette.primary.main} 0%, ${j.palette.primary.dark} 100%)`,color:"white"},children:t.jsxs(ye,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(C,{children:[t.jsx(v,{variant:"h4",sx:{fontWeight:700,mb:.5},children:W.length}),t.jsx(v,{variant:"body2",sx:{opacity:.9},children:"Active"})]}),t.jsx(us,{sx:{fontSize:40,opacity:.8}})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ot,{sx:{p:3,borderRadius:3,background:`linear-gradient(135deg, ${j.palette.success.main} 0%, ${j.palette.success.dark} 100%)`,color:"white"},children:t.jsxs(ye,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(C,{children:[t.jsxs(v,{variant:"h4",sx:{fontWeight:700,mb:.5},children:["$",H.toFixed(0)]}),t.jsx(v,{variant:"body2",sx:{opacity:.9},children:"Monthly Value"})]}),t.jsx(rf,{sx:{fontSize:40,opacity:.8}})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ot,{sx:{p:3,borderRadius:3,border:`1px solid ${j.palette.divider}`},children:t.jsxs(ye,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(C,{children:[t.jsx(v,{variant:"h4",sx:{fontWeight:700,mb:.5,color:"text.primary"},children:e.length}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Total"})]}),t.jsx(wi,{sx:{fontSize:40,color:"text.secondary"}})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ot,{sx:{p:3,borderRadius:3,border:`1px solid ${j.palette.divider}`},children:t.jsxs(ye,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(C,{children:[t.jsx(v,{variant:"h4",sx:{fontWeight:700,mb:.5,color:"text.primary"},children:e.filter(N=>N.autoContribute).length}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Auto-contribute"})]}),t.jsx(yT,{sx:{fontSize:40,color:"text.secondary"}})]})})})]}),e.length===0?t.jsx(ot,{sx:{textAlign:"center",py:8,px:4,borderRadius:4,background:`linear-gradient(135deg, ${fe(j.palette.primary.main,.02)} 0%, ${fe(j.palette.primary.main,.05)} 100%)`,border:`1px solid ${fe(j.palette.primary.main,.1)}`},children:t.jsxs(C,{sx:{maxWidth:400,mx:"auto"},children:[t.jsx(wi,{sx:{fontSize:80,color:"primary.main",opacity:.6,mb:3}}),t.jsx(v,{variant:"h5",sx:{fontWeight:600,mb:2},children:"No Subscriptions Yet"}),t.jsx(v,{variant:"body1",color:"text.secondary",sx:{mb:4,lineHeight:1.6},children:"Discover amazing channels and support creators by subscribing to their content. Your subscriptions will appear here."}),t.jsx(xe,{variant:"contained",size:"large",href:"/app/channels",sx:{borderRadius:2,py:1.5,px:4,textTransform:"none",fontSize:"1rem",fontWeight:600},children:"Explore Channels"})]})}):t.jsx($,{container:!0,spacing:3,children:e.map(N=>t.jsx($,{item:!0,xs:12,lg:6,children:t.jsxs(Ne,{sx:{height:"100%",borderRadius:3,border:`1px solid ${j.palette.divider}`,transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:j.shadows[8]}},children:[t.jsx(Fe,{sx:{p:3},children:t.jsxs(ye,{direction:"row",spacing:3,children:[t.jsx(wn,{sx:{width:64,height:64,border:`2px solid ${j.palette.divider}`,fontSize:"1.5rem",fontWeight:600},src:`https://via.placeholder.com/64x64?text=${N.channel.name.charAt(0)}`,children:N.channel.name.charAt(0)}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsxs(ye,{direction:"row",alignItems:"flex-start",justifyContent:"space-between",mb:1,children:[t.jsx(v,{variant:"h6",sx:{fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:N.channel.name}),t.jsx(Le,{size:"small",sx:{ml:1},children:t.jsx(sf,{fontSize:"small"})})]}),t.jsxs(ye,{direction:"row",alignItems:"center",spacing:2,mb:2,children:[t.jsx(v,{variant:"body2",color:"text.secondary",children:N.tier.name}),t.jsxs(v,{variant:"body2",sx:{fontWeight:600,color:"primary.main"},children:[A(N.tier.price,N.tier.currency),"/month"]})]}),t.jsxs(ye,{direction:"row",spacing:1,mb:2,flexWrap:"wrap",children:[t.jsx(Ye,{label:R(N.statusId),color:_(N.statusId),size:"small",sx:{borderRadius:1}}),N.autoContribute&&t.jsx(Ye,{label:"Auto-contribute",variant:"outlined",size:"small",sx:{borderRadius:1}})]}),t.jsxs(ye,{spacing:.5,children:[t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Started: ",O(N.subscribedAt)]}),N.expiresAt&&t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Expires: ",O(N.expiresAt)]}),N.totalContributions>0&&t.jsxs(v,{variant:"caption",color:"success.main",children:["Total contributed: ",A(N.totalContributions,N.tier.currency)]})]})]})]})}),t.jsx(Lt,{}),t.jsxs(yh,{sx:{p:3,pt:2},children:[t.jsx(xe,{variant:"outlined",size:"small",href:`${ve.APP_CHANNEL_VIEW}`.replace(":id",N.channel.id),endIcon:t.jsx(vT,{}),sx:{borderRadius:1.5,textTransform:"none",fontWeight:500},children:"View Channel"}),L(N)&&t.jsx(xe,{variant:"text",color:"error",size:"small",startIcon:t.jsx(Ss,{}),onClick:()=>I(N),sx:{borderRadius:1.5,textTransform:"none",fontWeight:500,ml:"auto"},children:"Cancel"})]})]})},N.id))}),t.jsxs(en,{open:u,onClose:T,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:3,p:1}},children:[t.jsx(sn,{sx:{pb:1},children:t.jsx(v,{variant:"h5",sx:{fontWeight:600},children:"Cancel Subscription"})}),t.jsx(tn,{sx:{pb:2},children:t.jsxs(ye,{spacing:2,children:[t.jsxs(v,{variant:"body1",children:["Are you sure you want to cancel your subscription to"," ",t.jsx(v,{component:"span",sx:{fontWeight:600,color:"primary.main"},children:x==null?void 0:x.channel.name}),"?"]}),t.jsx(ot,{sx:{p:2,borderRadius:2,bgcolor:fe(j.palette.warning.main,.05),border:`1px solid ${fe(j.palette.warning.main,.2)}`},children:t.jsxs(v,{variant:"body2",color:"text.secondary",children:["You will continue to have access until your current billing period ends",(x==null?void 0:x.expiresAt)&&t.jsxs(v,{component:"span",sx:{fontWeight:500},children:[" ","on ",O(x.expiresAt)]}),"."]})})]})}),t.jsxs(nn,{sx:{p:3,pt:1},children:[t.jsx(xe,{onClick:T,disabled:m,variant:"outlined",sx:{borderRadius:2,textTransform:"none",fontWeight:500,px:3},children:"Keep Subscription"}),t.jsx(xe,{onClick:w,color:"error",variant:"contained",disabled:m,sx:{borderRadius:2,textTransform:"none",fontWeight:500,px:3},children:m?"Canceling...":"Cancel Subscription"})]})]})]})})},W$=()=>{const{isDarkMode:e,toggleTheme:n}=Lf(),[r,s]=g.useState(e?"dark":"light"),o=a=>{const c=a.target.value;s(c),(c==="dark"&&!e||c==="light"&&e)&&n()};return t.jsxs(C,{children:[t.jsx(v,{variant:"h6",sx:{fontWeight:600,mb:.5},children:"Appearance"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Customize how MetaJourno looks on your device"}),t.jsx(ot,{elevation:0,sx:{p:3,border:"1px solid",borderColor:"divider",borderRadius:2},children:t.jsxs(bt,{component:"fieldset",children:[t.jsx(PT,{component:"legend",sx:{fontWeight:600,mb:2},children:"Theme mode"}),t.jsxs(DT,{value:r,onChange:o,children:[t.jsx(Pi,{value:"light",control:t.jsx(ob,{}),label:t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(IT,{fontSize:"small"}),t.jsxs(C,{children:[t.jsx(v,{variant:"body1",children:"Light"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:"Use light theme"})]})]}),sx:{mb:2,p:1.5,borderRadius:1,"&:hover":{bgcolor:"action.hover"}}}),t.jsx(Pi,{value:"dark",control:t.jsx(ob,{}),label:t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(ET,{fontSize:"small"}),t.jsxs(C,{children:[t.jsx(v,{variant:"body1",children:"Dark"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:"Use dark theme"})]})]}),sx:{p:1.5,borderRadius:1,"&:hover":{bgcolor:"action.hover"}}})]})]})})]})},Hb=ke(Le)(({theme:e})=>({position:"absolute",top:"50%",transform:"translateY(-50%)",zIndex:1,backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.04)",width:32,height:32,"&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.08)"}})),B$=()=>{const[e,n]=g.useState("profile"),{user:r}=xo(),s=g.useRef(null),[o,a]=g.useState(!1),[c,d]=g.useState(!1),u=[{id:"profile",icon:t.jsx(ST,{}),label:"Profile",divider:!1},{id:"payment",icon:t.jsx(Si,{}),label:"Payment Methods",divider:!1},{id:"subscriptions",icon:t.jsx(wi,{}),label:"Subscriptions",divider:!0},{id:"appearance",icon:t.jsx(wT,{}),label:"Appearance",divider:!1},{id:"notifications",icon:t.jsx(CT,{}),label:"Notifications",divider:!1},{id:"security",icon:t.jsx(u0,{}),label:"Password and authentication",divider:!1}],h=()=>{var b;const y=(b=s.current)==null?void 0:b.querySelector(".MuiTabs-scroller");if(y){const{scrollLeft:S,scrollWidth:j,clientWidth:D}=y;a(S>0),d(S+D<j-1)}};g.useEffect(()=>{var b;h();const y=(b=s.current)==null?void 0:b.querySelector(".MuiTabs-scroller");if(y)return y.addEventListener("scroll",h),window.addEventListener("resize",h),()=>{y.removeEventListener("scroll",h),window.removeEventListener("resize",h)}},[]);const x=()=>{var b;const y=(b=s.current)==null?void 0:b.querySelector(".MuiTabs-scroller");y&&y.scrollBy({left:-200,behavior:"smooth"})},p=()=>{var b;const y=(b=s.current)==null?void 0:b.querySelector(".MuiTabs-scroller");y&&y.scrollBy({left:200,behavior:"smooth"})},m=()=>{switch(e){case"profile":return t.jsx(A$,{});case"payment":return t.jsx(O$,{});case"subscriptions":return t.jsx(F$,{});case"appearance":return t.jsx(W$,{});case"notifications":return t.jsxs(C,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Notifications"}),t.jsx(v,{color:"text.secondary",children:"Notification settings coming soon..."})]});case"security":return t.jsxs(C,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Password and authentication"}),t.jsx(v,{color:"text.secondary",children:"Security settings coming soon..."})]});default:return null}};return t.jsxs(C,{sx:{width:"100%",overflow:"hidden"},children:[t.jsxs(C,{sx:{mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2,mb:1},children:[t.jsx(v,{variant:"h5",sx:{fontWeight:600},children:(r==null?void 0:r.displayName)||"Account"}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:["(",(r==null?void 0:r.email)||"user",")"]})]}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Your personal account"})]}),t.jsxs(C,{sx:{position:"relative",mb:3},ref:s,children:[o&&t.jsx(Hb,{onClick:x,sx:{left:0},children:t.jsx($s,{fontSize:"small"})}),t.jsx(ho,{value:e,onChange:(y,b)=>n(b),variant:"scrollable",scrollButtons:!1,sx:{borderBottom:1,borderColor:"divider","& .MuiTabs-scroller":{"&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",msOverflowStyle:"none"},"& .MuiTabs-indicator":{height:2,borderRadius:"2px 2px 0 0"},"& .MuiTab-root":{minWidth:"auto",px:2.5,py:1.5,textTransform:"none",fontSize:"0.875rem",fontWeight:500,color:"text.secondary","&.Mui-selected":{color:"primary.main",fontWeight:600}}},children:u.map(y=>t.jsx(Zn,{value:y.id,label:y.label,icon:y.icon,iconPosition:"start",sx:{minHeight:48,gap:.75}},y.id))}),c&&t.jsx(Hb,{onClick:p,sx:{right:0},children:t.jsx(jT,{fontSize:"small"})})]}),t.jsx(C,{children:m()})]})},kp=({children:e,isHighlighted:n=!1,contentPadding:r=3,noHover:s=!1,contentSx:o,sx:a,...c})=>t.jsx(Ne,{elevation:n?2:0,sx:{height:"100%",position:"relative",borderRadius:2,border:"1px solid",borderColor:d=>n?"primary.main":d.palette.mode==="dark"?fe(d.palette.common.white,.1):fe(d.palette.common.black,.08),bgcolor:d=>n?fe(d.palette.primary.main,d.palette.mode==="dark"?.1:.05):"background.paper",transition:"all 0.2s ease-in-out",...!s&&{"&:hover":{borderColor:"primary.main",transform:"translateY(-2px)"}},...a},...c,children:t.jsx(Fe,{sx:{p:r,"&:last-child":{pb:r},...o},children:e})}),Mp=({status:e,...n})=>{const r=s=>{switch(s){case Ke.APPROVED:case Ke.PAID:return"success";case Ke.REJECTED:case Ke.CANCELLED:return"error";case Ke.SUBMITTED:case Ke.UNDER_REVIEW:return"info";case Ke.DRAFT:default:return"default"}};return t.jsx(Ye,{label:wa[e],color:r(e),size:"small",variant:"filled",sx:{borderRadius:1,fontWeight:500,fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px",...n.sx},...n})},qv={TRAVEL:1,EQUIPMENT:2,ACCOMMODATION:3,FOOD:4,COMMUNICATION:5,LABOR:6,OTHER:7},Kv={TRAVEL:"Travel",EQUIPMENT:"Equipment",ACCOMMODATION:"Accommodation",FOOD:"Food",COMMUNICATION:"Communication",LABOR:"Labor",OTHER:"Other"},V$=e=>{const n=Object.entries(qv).find(([r,s])=>s===e);return n?Kv[n[0]]:"Unknown"},Jv=()=>Object.entries(qv).map(([e,n])=>({id:n,name:Kv[e]})),Np=({expenseOrder:e,onView:n,onEdit:r,onSubmit:s,onCancel:o,onApprove:a,onReject:c,onProcessPayment:d,showActions:u=!0,userRole:h="journalist"})=>{const[x,p]=Dt.useState(null),m=!!x,y=O=>{p(O.currentTarget)},b=()=>{p(null)},S=(O,A)=>new Intl.NumberFormat("en-US",{style:"currency",currency:A}).format(O),j=e.status===Ke.DRAFT,D=e.status===Ke.DRAFT,w=[Ke.DRAFT,Ke.SUBMITTED].includes(e.status),I=[Ke.SUBMITTED,Ke.UNDER_REVIEW].includes(e.status),T=[Ke.SUBMITTED,Ke.UNDER_REVIEW].includes(e.status),_=e.status===Ke.APPROVED,R=()=>{const O=[];return n&&O.push(t.jsxs(Ce,{onClick:()=>{n(e),b()},children:[t.jsx(ws,{sx:{mr:1},fontSize:"small"}),"View Details"]},"view")),h==="journalist"?(j&&r&&O.push(t.jsxs(Ce,{onClick:()=>{r(e),b()},children:[t.jsx(hs,{sx:{mr:1},fontSize:"small"}),"Edit"]},"edit")),D&&s&&O.push(t.jsxs(Ce,{onClick:()=>{s(e),b()},children:[t.jsx(Gc,{sx:{mr:1},fontSize:"small"}),"Submit for Approval"]},"submit")),w&&o&&O.push(t.jsxs(Ce,{onClick:()=>{o(e),b()},sx:{color:"error.main"},children:[t.jsx(hc,{sx:{mr:1},fontSize:"small"}),"Cancel"]},"cancel"))):(h==="admin"||h==="finance-manager")&&(I&&a&&O.push(t.jsx(Ce,{onClick:()=>{a(e),b()},sx:{color:"success.main"},children:"Approve"},"approve")),T&&c&&O.push(t.jsx(Ce,{onClick:()=>{c(e),b()},sx:{color:"error.main"},children:"Reject"},"reject")),_&&d&&O.push(t.jsx(Ce,{onClick:()=>{d(e),b()},sx:{color:"primary.main"},children:"Process Payment"},"process-payment"))),O};return t.jsxs(kp,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[t.jsxs(C,{sx:{flex:1},children:[t.jsx(v,{variant:"h6",component:"h3",sx:{mb:1,fontWeight:600},children:e.title}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:1},children:e.description}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:[e.channel.name,"  ",V$(e.type.id)]})]}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Mp,{status:e.status}),u&&t.jsx(Le,{size:"small",onClick:y,children:t.jsx(sf,{})})]})]}),t.jsx(Lt,{sx:{my:2}}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs(C,{children:[t.jsx(v,{variant:"h5",component:"span",sx:{fontWeight:700,color:"primary.main"},children:S(e.amount,e.currency)}),e.receiptUrl&&t.jsx(jt,{title:"Receipt attached",children:t.jsx(Fs,{sx:{ml:1,color:"success.main"},fontSize:"small"})})]}),t.jsx(v,{variant:"caption",color:"text.secondary",children:qr(new Date(e.createdAt),{addSuffix:!0})})]}),e.notes&&t.jsx(C,{sx:{mt:2},children:t.jsxs(v,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:['"',e.notes,'"']})}),e.rejectionReason&&t.jsx(C,{sx:{mt:2,p:2,bgcolor:"error.lighter",borderRadius:1},children:t.jsxs(v,{variant:"body2",color:"error.main",sx:{fontWeight:500},children:["Rejection Reason: ",e.rejectionReason]})}),t.jsx(uo,{anchorEl:x,open:m,onClose:b,PaperProps:{sx:{minWidth:180}},children:R()})]})};function U$(e){const{children:n,value:r,index:s,...o}=e;return t.jsx("div",{role:"tabpanel",hidden:r!==s,id:`expense-order-tabpanel-${s}`,"aria-labelledby":`expense-order-tab-${s}`,...o,children:r===s&&t.jsx(C,{sx:{py:3},children:n})})}const z$=()=>{const e=Ct(),{api:n}=Xe(),[r,s]=g.useState(0),[o,a]=g.useState([]),[c,d]=g.useState(!0),{execute:u}=nt(),h=[{label:"All",status:void 0},{label:"Draft",status:Ke.DRAFT},{label:"Submitted",status:Ke.SUBMITTED},{label:"Approved",status:Ke.APPROVED},{label:"Paid",status:Ke.PAID},{label:"Rejected",status:Ke.REJECTED}],x=async D=>{d(!0);const w=await u(()=>n.expenseOrderApi.getMyExpenseOrders({page:1,limit:50},D),{showErrorToast:!0});w&&a(w.items),d(!1)};g.useEffect(()=>{x(h[r].status)},[r,u]);const p=(D,w)=>{s(w)},m=D=>{e(ve.APP_EXPENSE_ORDER_VIEW.replace(":id",D.id))},y=D=>{e(ve.STUDIO_EXPENSE_ORDER_EDIT.replace(":id",D.id))},b=async D=>{await u(()=>n.expenseOrderApi.submitExpenseOrder(D.id),{showSuccessMessage:!0,successMessage:"Expense order submitted successfully!"})&&x(h[r].status)},S=async D=>{await u(()=>n.expenseOrderApi.cancelExpenseOrder(D.id),{showSuccessMessage:!0,successMessage:"Expense order cancelled successfully!"})&&x(h[r].status)},j=()=>{e(ve.STUDIO_EXPENSE_ORDER_CREATE)};return t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[t.jsx(v,{variant:"h4",component:"h1",sx:{fontWeight:600},children:"My Expense Orders"}),t.jsx(xe,{variant:"contained",startIcon:t.jsx(Fo,{}),onClick:j,children:"Create New"})]}),t.jsx(C,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:t.jsx(ho,{value:r,onChange:p,"aria-label":"expense order status tabs",children:h.map((D,w)=>t.jsx(Zn,{label:D.label},w))})}),h.map((D,w)=>t.jsx(U$,{value:r,index:w,children:c?t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(Wn,{})}):o.length===0?t.jsxs(C,{sx:{textAlign:"center",py:8},children:[t.jsx(v,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"No expense orders found"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:D.status?`No ${D.label.toLowerCase()} expense orders`:"You haven't created any expense orders yet"}),t.jsx(xe,{variant:"contained",startIcon:t.jsx(Fo,{}),onClick:j,children:"Create Your First Expense Order"})]}):t.jsx($,{container:!0,spacing:3,children:o.map(I=>t.jsx($,{item:!0,xs:12,md:6,lg:4,children:t.jsx(Np,{expenseOrder:I,onView:m,onEdit:y,onSubmit:b,onCancel:S,userRole:"journalist"})},I.id))})},w))]})},H$=()=>{const e=Ct(),{id:n}=es(),{api:r}=Xe(),[s,o]=g.useState(null),[a,c]=g.useState(!0),[d,u]=g.useState(!1),[h,x]=g.useState(null),{execute:p}=nt(),m=async()=>{if(!n)return;c(!0),x(null);const _=await p(()=>r.expenseOrderApi.getExpenseOrder(n),{showErrorToast:!0});_&&o(_),c(!1)};g.useEffect(()=>{m()},[n]);const y=(_,R)=>new Intl.NumberFormat("en-US",{style:"currency",currency:R}).format(_),b=()=>{e(ve.APP_EXPENSE_ORDERS)},S=()=>{s&&e(ve.STUDIO_EXPENSE_ORDER_EDIT.replace(":id",s.id))},j=async()=>{if(!s)return;u(!0),await p(()=>r.expenseOrderApi.submitExpenseOrder(s.id),{showSuccessMessage:!0,successMessage:"Expense order submitted successfully!"})&&await m(),u(!1)},D=async()=>{if(!s)return;u(!0),await p(()=>r.expenseOrderApi.cancelExpenseOrder(s.id),{showSuccessMessage:!0,successMessage:"Expense order cancelled successfully!"})&&await m(),u(!1)};if(a)return t.jsx(C,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:t.jsx(Wn,{})});if(h||!s)return t.jsxs(C,{sx:{p:3},children:[t.jsx(ct,{severity:"error",children:h||"Expense order not found"}),t.jsx(xe,{startIcon:t.jsx($s,{}),onClick:b,sx:{mt:2},children:"Back to Expense Orders"})]});const w=s.status===Ke.DRAFT,I=s.status===Ke.DRAFT,T=[Ke.DRAFT,Ke.SUBMITTED].includes(s.status);return t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(xe,{startIcon:t.jsx($s,{}),onClick:b,sx:{mr:2},children:"Back"}),t.jsx(v,{variant:"h4",component:"h1",sx:{fontWeight:600,flex:1},children:"Expense Order Details"}),t.jsx(Mp,{status:s.status})]}),h&&t.jsx(ct,{severity:"error",sx:{mb:3},children:h}),t.jsxs($,{container:!0,spacing:3,children:[t.jsxs($,{item:!0,xs:12,md:8,children:[t.jsxs(ot,{sx:{p:3,mb:3},children:[t.jsx(v,{variant:"h5",sx:{mb:2,fontWeight:600},children:s.title}),t.jsx(v,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:s.description}),t.jsx(Lt,{sx:{my:3}}),t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Channel"}),t.jsx(v,{variant:"body1",sx:{fontWeight:500},children:s.channel.name})]}),t.jsxs($,{item:!0,xs:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Expense Type"}),t.jsx(v,{variant:"body1",sx:{fontWeight:500},children:s.type.name})]}),t.jsxs($,{item:!0,xs:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Amount"}),t.jsx(v,{variant:"h6",sx:{fontWeight:700,color:"primary.main"},children:y(s.amount,s.currency)})]}),t.jsxs($,{item:!0,xs:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(v,{variant:"body1",children:sp(new Date(s.createdAt),"PPP")})]})]}),s.receiptUrl&&t.jsxs(t.Fragment,{children:[t.jsx(Lt,{sx:{my:3}}),t.jsxs(C,{children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Receipt"}),t.jsxs(Yc,{href:s.receiptUrl,target:"_blank",rel:"noopener noreferrer",sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Fs,{fontSize:"small"}),"View Receipt"]})]})]}),s.notes&&t.jsxs(t.Fragment,{children:[t.jsx(Lt,{sx:{my:3}}),t.jsxs(C,{children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Notes"}),t.jsx(v,{variant:"body1",sx:{fontStyle:"italic"},children:s.notes})]})]})]}),t.jsxs(ot,{sx:{p:3},children:[t.jsx(v,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Actions"}),t.jsxs(C,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[w&&t.jsx(xe,{variant:"outlined",startIcon:t.jsx(hs,{}),onClick:S,disabled:d,children:"Edit"}),I&&t.jsx(xe,{variant:"contained",startIcon:t.jsx(Gc,{}),onClick:j,disabled:d,children:"Submit for Approval"}),T&&t.jsx(xe,{variant:"outlined",color:"error",startIcon:t.jsx(Ss,{}),onClick:D,disabled:d,children:"Cancel"})]})]})]}),t.jsxs($,{item:!0,xs:12,md:4,children:[t.jsxs(ot,{sx:{p:3,mb:3},children:[t.jsx(v,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Timeline"}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",gap:2},children:[t.jsxs(C,{children:[t.jsx(v,{variant:"body2",sx:{fontWeight:500},children:"Created"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:qr(new Date(s.createdAt),{addSuffix:!0})})]}),s.submittedAt&&t.jsxs(C,{children:[t.jsx(v,{variant:"body2",sx:{fontWeight:500},children:"Submitted"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:qr(new Date(s.submittedAt),{addSuffix:!0})})]}),s.approvedAt&&t.jsxs(C,{children:[t.jsx(v,{variant:"body2",sx:{fontWeight:500},children:s.status===Ke.APPROVED?"Approved":"Reviewed"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:qr(new Date(s.approvedAt),{addSuffix:!0})}),s.approver&&t.jsxs(v,{variant:"caption",display:"block",color:"text.secondary",children:["by ",s.approver.displayName]})]}),s.paidAt&&t.jsxs(C,{children:[t.jsx(v,{variant:"body2",sx:{fontWeight:500},children:"Paid"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:qr(new Date(s.paidAt),{addSuffix:!0})}),s.paymentReference&&t.jsxs(v,{variant:"caption",display:"block",color:"text.secondary",children:["Ref: ",s.paymentReference]})]})]})]}),s.rejectionReason&&t.jsxs(ot,{sx:{p:3,bgcolor:"error.lighter"},children:[t.jsx(v,{variant:"h6",sx:{mb:1,fontWeight:600,color:"error.main"},children:"Rejection Reason"}),t.jsx(v,{variant:"body2",color:"error.main",children:s.rejectionReason})]})]})]})]})},Y$=ke(Ne)(({theme:e})=>({marginBottom:e.spacing(2),cursor:"pointer",transition:"all 0.2s ease","&:hover":{boxShadow:e.shadows[4],transform:"translateY(-1px)"}})),Yb=ke(Ye)(({theme:e})=>({margin:e.spacing(.5),fontSize:"0.75rem"})),Gb=()=>{var K;const e=po(),n=Ct(),[r,s]=g.useState(1),[o,a]=g.useState(""),[c,d]=g.useState(!0),[u,h]=g.useState([]),[x,p]=g.useState(null),[m,y]=g.useState(!1),[b,S]=g.useState(null),[j,D]=g.useState({type:"all",sortBy:"relevance"}),[w,I]=g.useState(null),{api:T}=Xe(),{execute:_}=nt(),R=20;g.useEffect(()=>{const X=new URLSearchParams(e.search),ae=X.get("q"),V=X.get("type");if(ae){a(ae);const re={...j};V&&V!=="all"&&(re.type=V,D(re)),L(ae,re)}},[e.search]),g.useEffect(()=>{o&&(s(1),A(1))},[j]);const O=()=>{A(r+1)},A=async(X=r)=>{if(o){y(!0),S(null);try{const ae={};Object.entries(j).forEach(([re,Ee])=>{if(Ee!=null&&Ee!=="")if(re==="type"&&typeof Ee=="string"){const be=Z0[Ee];be!==void 0&&(ae.type=be)}else if(re==="sortBy"&&typeof Ee=="string"){const be=ev[Ee];be!==void 0&&(ae.sortBy=be)}else ae[re]=Ee});const V=await _(()=>T==null?void 0:T.searchApi.search(o,ae,{page:X,limit:R}),{showErrorToast:!0});V&&(h(X===1?V.items??[]:re=>[...re,...V.items??[]]),s(V.metadata.currentPage??1),d(V.metadata.hasNext===!0),p(V))}catch(ae){console.error("Search error:",ae),S(ae.message||"Search failed")}finally{y(!1)}}},L=async(X,ae)=>{D(ae||j),a(X),s(1),h([]),d(!0),setTimeout(()=>{A(1)},0)},W=X=>{const ae={...j,...X};I(null),o&&L(o,ae)},H=(X,ae)=>{const V=encodeURIComponent(X);switch(ae){case"news":n(`${ve.APP_NEWS}?tags=${V}`);break;case"channel":n(`${ve.APP_CHANNELS}?tags=${V}`);break;case"poll":n(`${ve.APP_POLLS}?tags=${V}`);break;default:n(`${ve.APP_NEWS}?tags=${V}`);break}},N=X=>{var Ee,be;const ae=()=>{switch(X.type){case"news":return t.jsx($o,{color:"primary"});case"channel":return t.jsx(ef,{color:"secondary"});case"user":return t.jsx(Zh,{color:"action"});case"poll":return t.jsx(tf,{color:"info"});case"tag":return t.jsx(nf,{color:"success"});default:return t.jsx($o,{color:"primary"})}},V=()=>{switch(X.type){case"news":return"primary";case"channel":return"secondary";case"user":return"default";case"poll":return"info";case"tag":return"success";default:return"default"}},re=()=>{switch(X.type){case"news":n(ve.APP_NEWS_VIEW.replace(":id",X.id));break;case"channel":n(ve.APP_CHANNEL_VIEW.replace(":channelId",X.id));break;case"poll":n(ve.APP_POLL_VIEW.replace(":id",X.id));break;case"tag":n(`${ve.APP_SEARCH}?q=${encodeURIComponent(X.title)}`);break}};return t.jsx(Y$,{onClick:re,children:t.jsx(Fe,{children:t.jsxs(C,{sx:{display:"flex",alignItems:"flex-start",gap:2},children:[t.jsx(C,{sx:{mt:.5},children:ae()}),t.jsxs(C,{sx:{flexGrow:1},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[t.jsx(v,{variant:"h6",component:"h3",sx:{fontWeight:600},children:X.title}),t.jsx(Ye,{label:X.type,size:"small",color:V(),variant:"outlined"})]}),X.description&&t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:1,lineHeight:1.6},children:X.description}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap",mb:1},children:[X.channel&&t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(wn,{sx:{width:20,height:20},children:(be=(Ee=X==null?void 0:X.channel)==null?void 0:Ee.name)==null?void 0:be.charAt(0)}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["in ",t.jsx("strong",{children:X.channel.name})," (@",X.channel.handle,")"]})]}),X.handle&&t.jsxs(v,{variant:"caption",color:"text.secondary",children:["@",X.handle]}),X.publishedAt&&t.jsx(v,{variant:"caption",color:"text.secondary",children:new Date(X.publishedAt).toLocaleDateString()}),X.startDate&&t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Start: ",new Date(X.startDate).toLocaleDateString()]}),X.endDate&&t.jsxs(v,{variant:"caption",color:"text.secondary",children:["End: ",new Date(X.endDate).toLocaleDateString()]}),X.voteCount!==void 0&&t.jsx(Yb,{label:`${X.voteCount} votes`,size:"small",variant:"outlined",color:"info"}),X.usageCount!==void 0&&t.jsx(Yb,{label:`${X.usageCount} uses`,size:"small",variant:"outlined",color:"success"})]}),X.tags&&X.tags.length>0&&t.jsx(C,{sx:{display:"flex",gap:.5,flexWrap:"wrap",mb:1},children:X.tags.slice(0,5).map((_e,de)=>t.jsx(Ye,{label:_e,size:"small",variant:"outlined",onClick:te=>{te.stopPropagation(),H(_e,X.type)},sx:{fontSize:"0.7rem",cursor:"pointer","&:hover":{backgroundColor:"primary.main",color:"primary.contrastText"}}},de))}),t.jsxs(C,{sx:{display:"flex",justifyContent:"flex-end",gap:1,pt:1},children:[t.jsx(jt,{title:"Bookmark",children:t.jsx(Le,{size:"small",children:t.jsx(_T,{fontSize:"small"})})}),t.jsx(jt,{title:"Share",children:t.jsx(Le,{size:"small",children:t.jsx(OT,{fontSize:"small"})})})]})]})]})})},X.id)},se=()=>t.jsx(t.Fragment,{children:Array.from({length:5}).map((X,ae)=>t.jsxs(ot,{sx:{p:2,mb:2},children:[t.jsx(ce,{variant:"text",width:"60%",height:32}),t.jsx(ce,{variant:"text",width:"100%",height:20,sx:{mt:1}}),t.jsx(ce,{variant:"text",width:"80%",height:20}),t.jsxs(C,{sx:{display:"flex",gap:1,mt:1},children:[t.jsx(ce,{variant:"rounded",width:60,height:24}),t.jsx(ce,{variant:"rounded",width:80,height:24})]})]},ae))}),Z=!!w,G=X=>{I(X.currentTarget)},q=()=>{I(null)};return t.jsxs(It,{maxWidth:"lg",sx:{py:3},children:[(u.length>0||m)&&o&&t.jsxs(C,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[t.jsxs(C,{children:[t.jsx(v,{variant:"h5",sx:{mb:1},children:"Search Results"}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Found ",(((K=x==null?void 0:x.metadata)==null?void 0:K.total)||0).toLocaleString(),' results for "',o,'"']}),(j.type!=="all"||j.sortBy!=="relevance")&&t.jsxs(ye,{direction:"row",spacing:1,sx:{mt:2},children:[t.jsx(v,{variant:"caption",color:"text.secondary",children:"Active filters:"}),j.type!=="all"&&t.jsx(Ye,{label:`Type: ${j.type}`,size:"small",onDelete:()=>W({type:"all"})}),j.sortBy!=="relevance"&&t.jsx(Ye,{label:`Sort: ${j.sortBy}`,size:"small",onDelete:()=>W({sortBy:"relevance"})})]})]}),t.jsx(xe,{variant:"outlined",startIcon:t.jsx(h0,{}),onClick:G,sx:{minWidth:120},children:"Filters"})]}),t.jsx(TT,{open:Z,anchorEl:w,onClose:q,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:t.jsxs(ot,{sx:{p:3,minWidth:280},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[t.jsx(v,{variant:"h6",children:"Filters"}),t.jsx(Le,{size:"small",onClick:q,children:t.jsx(AT,{fontSize:"small"})})]}),t.jsxs(bt,{fullWidth:!0,sx:{mb:2},children:[t.jsx(At,{children:"Content Type"}),t.jsxs(wt,{value:j.type||"all",label:"Content Type",onChange:X=>W({type:X.target.value}),children:[t.jsx(Ce,{value:"all",children:"All Content"}),t.jsx(Ce,{value:"news",children:"Articles"}),t.jsx(Ce,{value:"channels",children:"Channels"}),t.jsx(Ce,{value:"users",children:"Journalists"}),t.jsx(Ce,{value:"polls",children:"Polls"}),t.jsx(Ce,{value:"tags",children:"Tags"})]})]}),t.jsxs(bt,{fullWidth:!0,sx:{mb:2},children:[t.jsx(At,{children:"Sort By"}),t.jsxs(wt,{value:j.sortBy||"relevance",label:"Sort By",onChange:X=>W({sortBy:X.target.value}),children:[t.jsx(Ce,{value:"relevance",children:"Relevance"}),t.jsx(Ce,{value:"date",children:"Date"}),t.jsx(Ce,{value:"popularity",children:"Popularity"})]})]}),t.jsx(v,{variant:"subtitle2",sx:{mb:1},children:"Time Period"}),t.jsxs(RT,{value:j.dateFrom?"custom":"all",exclusive:!0,onChange:(X,ae)=>{if(ae==="all")W({dateFrom:void 0,dateTo:void 0});else if(ae){const V=new Date,Ee={day:1,week:7,month:30,year:365}[ae]||0,be=new Date(V.getTime()-Ee*24*60*60*1e3);W({dateFrom:be,dateTo:V})}},size:"small",sx:{mb:2,width:"100%"},children:[t.jsx(Uu,{value:"all",sx:{flex:1},children:"All"}),t.jsx(Uu,{value:"week",sx:{flex:1},children:"Week"}),t.jsx(Uu,{value:"month",sx:{flex:1},children:"Month"})]})]})}),b&&t.jsx(ct,{severity:"error",sx:{mb:3},children:b}),m&&u.length===0&&se(),u.length===0&&!m&&o?t.jsxs(ot,{sx:{p:4,textAlign:"center"},children:[t.jsx(v,{variant:"h6",color:"text.secondary",children:"No results found"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Try adjusting your search terms or filters"})]}):u.length>0?t.jsx(Bs,{dataLength:u.length,next:O,hasMore:c,loader:t.jsx(C,{sx:{mt:2},children:se()}),endMessage:t.jsx(C,{sx:{textAlign:"center",mt:4,color:"text.secondary",fontSize:"0.875rem"},children:"No more results to display"}),children:u.map(N)}):null,!m&&!x&&!b&&t.jsxs(ot,{sx:{p:6,textAlign:"center"},children:[t.jsx(v,{variant:"h5",color:"text.secondary",sx:{mb:2},children:"Start your search"}),t.jsx(v,{variant:"body1",color:"text.secondary",children:"Search for articles, channels, journalists, polls, or tags to get started"})]})]})};var Lp={},G$=Ze;Object.defineProperty(Lp,"__esModule",{value:!0});var Xv=Lp.default=void 0,q$=G$(et()),K$=t;Xv=Lp.default=(0,q$.default)((0,K$.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload");const Mh=({label:e,value:n,onChange:r})=>{const s=async o=>{var a;(a=o.target.files)==null||a[0]};return t.jsx(C,{sx:{width:"100%",height:200,border:"2px dashed",borderColor:"divider",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden"},children:n?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:n,alt:"Cover",style:{width:"100%",height:"100%",objectFit:"cover"}}),t.jsx(xe,{onClick:()=>r(null),sx:{position:"absolute",bottom:8,right:8},children:"Remove"})]}):t.jsxs(xe,{component:"label",startIcon:t.jsx(Xv,{}),children:[e??"Upload Image",t.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:s})]})})};var $p={},J$=Ze;Object.defineProperty($p,"__esModule",{value:!0});var Qv=$p.default=void 0,X$=J$(et()),Q$=t;Qv=$p.default=(0,X$.default)((0,Q$.jsx)("path",{d:"M14 2H6.01c-1.1 0-2 .89-2 2L4 20c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8zm-1 7V3.5L18.5 9zm1 5 2-1.06v4.12L14 16v1c0 .55-.45 1-1 1H9c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h4c.55 0 1 .45 1 1z"}),"VideoFile");var Fp={},Z$=Ze;Object.defineProperty(Fp,"__esModule",{value:!0});var zo=Fp.default=void 0,eF=Z$(et()),tF=t;zo=Fp.default=(0,eF.default)((0,tF.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");const nF=({label:e,value:n,onChange:r})=>{const s=async a=>{var d;const c=(d=a.target.files)==null?void 0:d[0];if(c){if(c.size>52428800){alert("Video file size must be less than 50MB");return}const u=URL.createObjectURL(c);r(u)}},o=()=>{n&&URL.revokeObjectURL(n),r(null)};return t.jsx(C,{sx:{width:"100%",height:250,border:"2px dashed",borderColor:"divider",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",bgcolor:"background.paper"},children:n?t.jsxs(t.Fragment,{children:[t.jsx("video",{src:n,controls:!0,style:{width:"100%",height:"100%",objectFit:"cover"},preload:"metadata"}),t.jsx(xe,{onClick:o,startIcon:t.jsx(zo,{}),color:"error",variant:"contained",size:"small",sx:{position:"absolute",bottom:8,right:8,opacity:.9},children:"Remove"})]}):t.jsxs(C,{sx:{textAlign:"center",p:3},children:[t.jsxs(xe,{component:"label",startIcon:t.jsx(Qv,{}),variant:"outlined",size:"large",sx:{mb:2},children:[e??"Upload Video",t.jsx("input",{type:"file",hidden:!0,accept:"video/*",onChange:s})]}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Upload short videos (max 50MB)"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:"Supported formats: MP4, WebM, MOV"})]})})},Zv=({value:e,onChange:n,mediaTypeId:r,title:s="Media",description:o="Upload an image or video",useNewsFormats:a=!0})=>{const[c,d]=g.useState(0),u=a?Pc.IMAGE:kh.IMAGE,h=a?Pc.VIDEO:kh.VIDEO,x=y=>{n(y?{id:"0",url:y,type:r,format:u}:null)},p=y=>{n(y?{id:"0",url:y,type:r,format:h}:null)},m=(y,b)=>{d(b),e&&n(null)};return t.jsxs(C,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:s}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:o}),t.jsx(C,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:t.jsxs(ho,{value:c,onChange:m,children:[t.jsx(Zn,{label:"Image"}),t.jsx(Zn,{label:"Video"})]})}),c===0&&t.jsx(Mh,{label:"Upload Image",value:(e==null?void 0:e.format)===u?e.url:null,onChange:x}),c===1&&t.jsx(nF,{label:"Upload Video",value:(e==null?void 0:e.format)===h?e.url:null,onChange:p})]})},ej=({initialData:e,onSubmit:n,submitButtonText:r,isEdit:s})=>{var T;const{profile:o,channelRelations:{hasChannel:a}}=Ps(),c=Ct();g.useEffect(()=>{o&&(!o.staffChannels||o.staffChannels.length)},[o]);const[d,u]=g.useState(()=>({title:(e==null?void 0:e.title)||"",channelId:(e==null?void 0:e.channelId)||"",status:(e==null?void 0:e.status)||kn.PUBLISHED,requiredTierId:(e==null?void 0:e.requiredTierId)||null,isPremium:(e==null?void 0:e.isPremium)||!1,content:(e==null?void 0:e.content)||""})),[h,x]=g.useState(!1),[p,m]=g.useState(((T=e==null?void 0:e.media)==null?void 0:T[0])||null),[y,b]=g.useState((e==null?void 0:e.socialLinks)||[]),[S,j]=g.useState(null),D=[],w=async _=>{_.preventDefault(),x(!0),j(null);try{const R={...d,media:p?[p]:[],socialLinks:y};await n(R)}catch(R){console.error("Failed to submit news:",R),j("Failed to submit news")}finally{x(!1)}},I=g.useCallback(_=>{u(R=>({...R,content:JSON.stringify(_)}))},[]);return a()?t.jsx("form",{onSubmit:w,children:t.jsxs(ye,{spacing:4,children:[S&&t.jsx(ct,{severity:"error",sx:{width:"100%"},children:S}),o&&!a()&&t.jsx(ct,{severity:"warning",action:t.jsx(xe,{color:"inherit",size:"small",onClick:()=>c(ve.STUDIO_CHANNEL_CREATE),children:"Create Channel"}),children:"You need to create a channel before you can create news articles"}),a()?t.jsxs(t.Fragment,{children:[t.jsxs(C,{children:[t.jsx(v,{variant:"h6",sx:{mb:3},children:"Media"}),t.jsx(ye,{spacing:4,children:t.jsx(C,{children:t.jsx(Zv,{title:"Cover Media",description:"Upload an image or short video that will be displayed at the top of your news article and in previews.",value:p?{id:p.id||"0",url:p.url,type:p.type,format:p.format}:null,onChange:_=>m(_?{id:_.id,url:_.url,type:_.type,format:_.format,newsId:""}:null),mediaTypeId:Ja.COVER})})})]}),t.jsxs(C,{children:[t.jsx(v,{variant:"h6",sx:{mb:3},children:"Basic Info"}),t.jsxs(ye,{spacing:4,children:[t.jsxs(C,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Title"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Create a clear and engaging title for your news article. This will be the first thing readers see."}),t.jsx(rt,{value:d.title,onChange:_=>u(R=>({...R,title:_.target.value})),required:!0,fullWidth:!0,placeholder:"Enter news title"})]}),t.jsxs(C,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Channel"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Select the channel where this news will be published. Choose the most relevant channel for your content."}),t.jsx(bt,{fullWidth:!0,disabled:s,children:t.jsx(wt,{value:d.channelId,onChange:_=>u(R=>({...R,channelId:_.target.value})),required:!0,children:o==null?void 0:o.staffChannels.map(_=>t.jsx(Ce,{value:_.channelId,children:_.channel.name},_.id))})})]}),t.jsxs(C,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Content"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Write your news article using the editor below. You can add text, images, and other media elements."}),t.jsx(ld,{data:d.content?JSON.parse(d.content):void 0,onChange:I,placeholder:"Start writing your news content...",borderColor:_=>_.palette.mode==="dark"?fe(_.palette.common.white,.23):fe(_.palette.common.black,.23)})]})]})]}),t.jsx(C,{children:t.jsx(up,{links:y,onChange:b})}),t.jsxs(C,{children:[t.jsx(v,{variant:"h6",sx:{mb:3},children:"Publishing Options"}),t.jsxs(ye,{spacing:4,children:[t.jsxs(C,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Premium Content"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Mark this content as premium to restrict access to specific subscribers."}),t.jsx(Pi,{control:t.jsx(fc,{checked:d.isPremium,onChange:_=>u(R=>({...R,isPremium:_.target.checked}))}),label:"Premium Content"})]}),d.isPremium&&t.jsxs(C,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Required Subscription Tier"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Select which subscription tier is required to access this content. Higher tiers will automatically have access to content from lower tiers."}),t.jsx(bt,{fullWidth:!0,children:t.jsx(wt,{value:d.requiredTierId||"",onChange:_=>u(R=>({...R,requiredTierId:_.target.value})),required:d.isPremium,children:D.map(_=>t.jsxs(Ce,{value:_.id,children:[_.name," - ",_.description]},_.id))})})]}),t.jsxs(C,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Status"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Set the visibility status of your news article."}),t.jsx(bt,{fullWidth:!0,children:t.jsxs(wt,{value:d.status,onChange:_=>{const R=Number(_.target.value);u(O=>({...O,status:R}))},children:[t.jsx(Ce,{value:kn.DRAFT,children:"Draft - Save for later"}),t.jsx(Ce,{value:kn.PUBLISHED,children:"Published - Visible to readers"}),t.jsx(Ce,{value:kn.PENDING_REVIEW,children:"Pending Review - Submit for approval"}),t.jsx(Ce,{value:kn.ARCHIVED,children:"Archived - No longer visible"})]})})]})]})]}),t.jsx(xe,{type:"submit",variant:"contained",disabled:h||!a(),sx:{py:1.5,textTransform:"none",fontWeight:600},children:h?"Submitting...":r})]}):null]})}):t.jsx(C,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",p:3},children:t.jsx(zs,{title:"Channel Required",description:"You need to create a channel before you can start publishing news articles.",icon:t.jsx(Ka,{sx:{fontSize:48}}),action:{label:"Create Channel",onClick:()=>c(ve.STUDIO_CHANNEL_CREATE)}})})},rF=()=>{const{api:e}=Xe(),n=Ct(),{execute:r}=nt(),s=async o=>{const a=await r(()=>e==null?void 0:e.newsApi.createNews(o),{showSuccessMessage:!0,successMessage:"News article created successfully!"});a&&n(ve.APP_NEWS_VIEW.replace(":id",a.id))};return t.jsxs(C,{sx:{p:3,maxWidth:800},children:[t.jsx(v,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Create News"}),t.jsx(ej,{onSubmit:s,submitButtonText:"Create News",isCreate:!0})]})},sF=()=>{const{id:e}=es(),n=Ct(),{api:r}=Xe(),[s,o]=g.useState(null),{execute:a}=nt(),{execute:c}=nt();g.useEffect(()=>{(async()=>{if(!e)return;const h=await a(()=>r==null?void 0:r.newsApi.get(e),{showErrorToast:!0});h&&o(h)})()},[e,r==null?void 0:r.newsApi,a]);const d=async u=>{e&&(await c(()=>r==null?void 0:r.newsApi.update(e,u),{showSuccessMessage:!0,successMessage:"News article updated successfully!"}),n(`/news/${e}`))};return s?t.jsxs(It,{sx:{maxWidth:800,mx:"auto",p:3},children:[t.jsx(v,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Update News"}),t.jsx(ej,{initialData:s,onSubmit:d,submitButtonText:"Update News",isEdit:!0})]}):null},oF=()=>t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsxs($,{container:!0,spacing:4,children:[t.jsx($,{item:!0,xs:12,children:t.jsx(ce,{variant:"rectangular",width:"100%",height:300,sx:{borderRadius:2,mb:3}})}),t.jsx($,{item:!0,xs:12,md:8,children:t.jsx(Ne,{children:t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[t.jsx(ce,{variant:"text",width:"60%",height:40}),t.jsx(ye,{direction:"row",spacing:1,children:[1,2,3].map(e=>t.jsx(ce,{variant:"circular",width:40,height:40},e))})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:300,sx:{mb:3,borderRadius:1}}),t.jsxs(ye,{spacing:2,sx:{mb:3},children:[t.jsx(ce,{variant:"text",width:"100%"}),t.jsx(ce,{variant:"text",width:"95%"}),t.jsx(ce,{variant:"text",width:"90%"}),t.jsx(ce,{variant:"text",width:"85%"}),t.jsx(ce,{variant:"text",width:"95%"})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:80,sx:{mb:3,borderRadius:1}}),t.jsx(ye,{direction:"row",spacing:1,children:[1,2,3,4].map(e=>t.jsx(ce,{variant:"rounded",width:80,height:32},e))})]})})}),t.jsx($,{item:!0,xs:12,md:4,children:t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsx(ce,{variant:"text",width:"50%",height:32,sx:{mb:2}}),t.jsx(ye,{spacing:2,children:[1,2,3,4,5].map(e=>t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[t.jsx(ce,{variant:"text",width:"40%"}),t.jsx(ce,{variant:"text",width:"20%"})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:8,sx:{borderRadius:1}})]},e))})]})})})]})}),iF=()=>{const{id:e}=es(),{api:n}=Xe(),{execute:r}=nt(),[s,o]=g.useState(null),[a,c]=g.useState(!0);if(g.useEffect(()=>{(async()=>{if(e){c(!0);const x=await r(()=>n==null?void 0:n.newsApi.get(e),{showErrorToast:!0});x&&o(x),c(!1)}})()},[e,r]),a)return t.jsx(oF,{});if(!s)return t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsx(v,{variant:"h4",children:"Entry not found"})});const d=s.media.find(h=>h.type===Ja.COVER),u=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(h);return t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsxs($,{container:!0,spacing:4,children:[t.jsx($,{item:!0,xs:12,children:t.jsxs(C,{sx:{height:300,width:"100%",position:"relative",mb:3,borderRadius:2,overflow:"hidden"},children:[t.jsx(C,{component:"img",src:(d==null?void 0:d.url)||sd,alt:s.title,sx:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"}}),t.jsxs(C,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(transparent, rgba(0,0,0,0.7))",p:3,color:"white"},children:[t.jsx(v,{variant:"h4",component:"h1",gutterBottom:!0,children:s.title}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsxs(C,{component:$n,to:ve.APP_CHANNEL_VIEW.replace(":channelId",s.channel.id),sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(255, 255, 255, 0.1)",color:"white",px:2,py:1,borderRadius:2,textDecoration:"none",transition:"all 0.2s ease-in-out",border:"1px solid rgba(255, 255, 255, 0.2)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.2)",transform:"translateY(-2px)"}},children:[t.jsx(Xa,{sx:{mr:1}}),t.jsx(v,{variant:"subtitle2",children:s.channel.name})]}),t.jsxs(C,{sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(0, 0, 0, 0.3)",px:2,py:1,borderRadius:2,border:"1px solid rgba(255, 255, 255, 0.1)"},children:[t.jsx(qa,{sx:{mr:1,fontSize:"0.9rem"}}),t.jsx(v,{variant:"caption",children:s.creator.displayName})]})]}),t.jsx(v,{variant:"subtitle1",children:new Date(s.publishedAt).toLocaleDateString()})]})]})]})}),t.jsx($,{item:!0,xs:12,md:8,children:t.jsx(Ne,{children:t.jsxs(C,{sx:{p:3},children:[t.jsx(ld,{data:Iv(s.content),readOnly:!0,borderColor:h=>h.palette.mode==="dark"?fe(h.palette.common.white,.1):fe(h.palette.common.black,.1)}),t.jsx(C,{sx:{mt:2},children:s.tags.map(h=>t.jsx(Ye,{label:h.title,variant:"outlined",sx:{mr:1,mb:1}},h.id))})]})})}),t.jsx($,{item:!0,xs:12,md:4,children:t.jsxs(ye,{spacing:3,children:[t.jsx(up,{links:s.socialLinks}),s.qualityMetrics&&t.jsxs(ot,{elevation:0,sx:{p:2,bgcolor:"success.light",color:"success.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[t.jsx(pp,{fontSize:"large"}),t.jsxs(C,{children:[t.jsx(v,{variant:"overline",children:"Quality Score"}),t.jsxs(v,{variant:"h4",component:"div",children:[s.qualityMetrics.overallQualityScore.toFixed(1),"/10"]})]})]}),s.newsFund&&t.jsxs(ot,{elevation:0,sx:{p:2,bgcolor:"primary.light",color:"primary.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[t.jsx(rd,{fontSize:"large"}),t.jsxs(C,{children:[t.jsx(v,{variant:"overline",children:"News Fund"}),t.jsx(v,{variant:"h4",component:"div",children:u(s.newsFund.amount)})]})]})]})})]})})};var Wp={},aF=Ze;Object.defineProperty(Wp,"__esModule",{value:!0});var ud=Wp.default=void 0,lF=aF(et()),cF=t;ud=Wp.default=(0,lF.default)((0,cF.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert");var Bp={},dF=Ze;Object.defineProperty(Bp,"__esModule",{value:!0});var Qa=Bp.default=void 0,uF=dF(et()),hF=t;Qa=Bp.default=(0,uF.default)((0,hF.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");const Vp=({open:e,onClose:n,onConfirm:r,title:s,content:o,confirmText:a="Confirm",cancelText:c="Cancel",confirmColor:d="primary"})=>t.jsxs(en,{open:e,onClose:n,PaperProps:{sx:{width:"100%",maxWidth:400,borderRadius:2}},children:[t.jsx(sn,{sx:{pb:1,fontWeight:600},children:s}),t.jsx(tn,{children:t.jsx(kT,{sx:{color:"text.secondary",fontSize:"0.875rem"},children:o})}),t.jsxs(nn,{sx:{px:3,pb:2},children:[t.jsx(xe,{onClick:n,variant:"outlined",color:"inherit",sx:{textTransform:"none",fontWeight:600,minWidth:100},children:c}),t.jsx(xe,{onClick:r,variant:"contained",color:d,autoFocus:!0,sx:{textTransform:"none",fontWeight:600,minWidth:100},children:a})]})]}),fF=({news:e,onRefresh:n})=>{var I,T,_;const[r,s]=g.useState(null),[o,a]=g.useState(!1),c=Ct(),{api:d}=Xe(),{execute:u}=nt(),h=xn(),x=R=>{R.stopPropagation(),s(R.currentTarget)},p=()=>{s(null)},m=()=>{c(ve.APP_NEWS_VIEW.replace(":id",e.id)),p()},y=()=>{c(ve.STUDIO_NEWS_EDIT.replace(":id",e.id)),p()},b=()=>{a(!0),p()},S=async()=>{await u(()=>d==null?void 0:d.newsApi.delete(e.id),{showSuccessMessage:!0,successMessage:"News article deleted successfully"})&&n(),a(!1)},j=(I=e.media)==null?void 0:I.find(R=>R.type===Ja.COVER),w=(()=>{const R=new Date;return new Date(e.publishedAt)>R?{label:"Scheduled",color:"warning"}:{label:"Published",color:"success"}})();return t.jsxs(Ne,{onClick:()=>c(ve.STUDIO_NEWS_VIEW.replace(":id",e.id)),sx:{height:"100%",display:"flex",flexDirection:"column",position:"relative",cursor:"pointer",bgcolor:R=>fe(R.palette.mode==="dark"?R.palette.common.white:R.palette.common.black,R.palette.mode==="dark"?.05:.03),transition:h.transitions.create(["background-color","box-shadow","transform"]),"&:hover":{bgcolor:R=>fe(R.palette.mode==="dark"?R.palette.common.white:R.palette.common.black,R.palette.mode==="dark"?.08:.05),transform:"translateY(-2px)",boxShadow:R=>`0 4px 12px ${fe(R.palette.primary.main,.1)}`}},children:[t.jsx(C,{sx:{height:{xs:120,sm:140},backgroundImage:`url(${(j==null?void 0:j.url)||sd})`,backgroundSize:"cover",backgroundPosition:"center",borderTopLeftRadius:1,borderTopRightRadius:1,position:"relative","&::after":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:R=>`linear-gradient(180deg, 
              ${fe(R.palette.background.default,0)} 0%, 
              ${fe(R.palette.background.default,.8)} 100%)`}},children:t.jsx(Le,{onClick:x,sx:{position:"absolute",top:8,right:8,zIndex:1,color:"text.primary",bgcolor:R=>fe(R.palette.background.paper,.8),backdropFilter:"blur(4px)","&:hover":{bgcolor:R=>fe(R.palette.background.paper,.95)}},children:t.jsx(ud,{fontSize:"small"})})}),t.jsx(Fe,{sx:{flexGrow:1,p:{xs:2,sm:2.5}},children:t.jsxs(ye,{spacing:{xs:1.5,sm:2},children:[t.jsxs(C,{children:[t.jsx(v,{variant:"h6",sx:{fontWeight:600,mb:.5,fontSize:{xs:"1rem",sm:"1.125rem"},display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",lineHeight:1.3},children:e.title}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:1},children:[t.jsx(Xa,{sx:{fontSize:"0.875rem",mr:.5,color:"text.secondary"}}),t.jsx(v,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem"},children:e.channel.name})]}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",fontSize:{xs:"0.875rem",sm:"0.875rem"},lineHeight:1.4},children:((T=e.content)==null?void 0:T.substring(0,100))+"..."})]}),t.jsxs(ye,{direction:"row",spacing:1,flexWrap:"wrap",sx:{gap:1},children:[t.jsx(Ye,{size:"small",label:w.label,color:w.color,sx:{height:24,fontSize:"0.75rem","& .MuiChip-label":{px:1}}}),t.jsx(Ye,{size:"small",label:new Date(e.publishedAt).toLocaleDateString(),sx:{height:24,fontSize:"0.75rem",bgcolor:R=>fe(R.palette.text.secondary,.1),color:"text.secondary","& .MuiChip-label":{px:1}}}),((_=e==null?void 0:e.tags)==null?void 0:_.length)>0&&t.jsx(Ye,{size:"small",label:`${e.tags.length} tags`,sx:{height:24,fontSize:"0.75rem",bgcolor:R=>fe(R.palette.secondary.main,R.palette.mode==="dark"?.15:.08),color:"secondary.main","& .MuiChip-label":{px:1}}})]})]})}),t.jsxs(uo,{anchorEl:r,open:!!r,onClose:p,onClick:R=>R.stopPropagation(),PaperProps:{sx:{width:200,mt:1}},children:[t.jsxs(Ce,{onClick:m,children:[t.jsx(qt,{children:t.jsx(Uo,{fontSize:"small"})}),t.jsx(Ht,{primary:"View Article"})]}),t.jsxs(Ce,{onClick:y,children:[t.jsx(qt,{children:t.jsx(Qa,{fontSize:"small"})}),t.jsx(Ht,{primary:"Edit Article"})]}),t.jsxs(Ce,{onClick:b,sx:{color:"error.main"},children:[t.jsx(qt,{sx:{color:"inherit"},children:t.jsx(zo,{fontSize:"small"})}),t.jsx(Ht,{primary:"Delete Article"})]})]}),t.jsx(Vp,{open:o,title:"Delete News Article",content:"Are you sure you want to delete this news article? This action cannot be undone.",onConfirm:S,onClose:()=>a(!1),confirmText:"Delete",confirmColor:"error"})]})},pF=()=>{const[e,n]=g.useState([]),[r,s]=g.useState(1),[o,a]=g.useState(!0),[c,d]=g.useState(!0),{api:u}=Xe(),{profile:h}=Ps(),x=Ct(),{execute:p}=nt(),m=xn(),y=()=>{b(r+1)},b=async(j=r)=>{if(!h)return;const D=await p(()=>u==null?void 0:u.newsApi.getCreatorNews(h.id,{page:j,limit:12}),{showErrorToast:!0});D&&(n(w=>j===1?(D==null?void 0:D.items)??[]:[...w,...(D==null?void 0:D.items)??[]]),s((D==null?void 0:D.metadata.currentPage)??1),a((D==null?void 0:D.metadata.hasNext)===!0)),d(!1)};g.useEffect(()=>{h&&b(1)},[h]);const S=()=>t.jsxs(C,{sx:{p:2,borderRadius:1,bgcolor:j=>fe(j.palette.mode==="dark"?j.palette.common.white:j.palette.common.black,j.palette.mode==="dark"?.05:.03),height:{xs:280,sm:320},transition:m.transitions.create(["background-color","height"])},children:[t.jsx(ce,{variant:"rectangular",sx:{borderRadius:1,height:{xs:120,sm:140},mb:2}}),t.jsxs(C,{sx:{p:1},children:[t.jsx(ce,{width:"90%",height:24,sx:{mb:1}}),t.jsx(ce,{width:"60%",height:16,sx:{mb:1}}),t.jsx(ce,{width:"95%",height:20,sx:{mb:1}}),t.jsx(ce,{width:"80%",height:20,sx:{mb:2}}),t.jsxs(C,{sx:{display:"flex",gap:1},children:[t.jsx(ce,{width:"25%",height:24}),t.jsx(ce,{width:"30%",height:24}),t.jsx(ce,{width:"20%",height:24})]})]})]});return t.jsxs(C,{sx:{px:{xs:2,sm:3,md:4},py:{xs:2,sm:3},maxWidth:"lg",mx:"auto",width:"100%"},children:[t.jsx(C,{sx:{mb:{xs:2,sm:3}},children:t.jsx(v,{variant:"h5",sx:{fontWeight:600,fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:c?t.jsx(ce,{width:150}):"My News"})}),c?t.jsx($,{container:!0,spacing:2,children:[1,2,3,4].map(j=>t.jsx($,{item:!0,xs:12,sm:6,md:4,children:t.jsx(S,{})},j))}):e.length===0?t.jsx(zs,{title:"No News Yet",description:"Start creating your first news article to share with your subscribers.",icon:t.jsx(Wf,{sx:{fontSize:{xs:40,sm:48}}}),action:{label:"Create News",onClick:()=>x(ve.STUDIO_NEWS_CREATE)}}):t.jsx(Bs,{dataLength:e.length,next:y,hasMore:o,loader:t.jsx($,{container:!0,spacing:2,sx:{mt:.5},children:[1,2,3].map(j=>t.jsx($,{item:!0,xs:12,sm:6,md:4,children:t.jsx(S,{})},j))}),children:t.jsx($,{container:!0,spacing:2,children:e.map(j=>t.jsx($,{item:!0,xs:12,sm:6,md:4,children:t.jsx(fF,{news:j,onRefresh:()=>b(1)})},j.id))})})]})},xF=({channel:e,onRefresh:n})=>{var y;const r=Ct(),{api:s}=Xe(),{execute:o}=nt(),[a,c]=g.useState(null),[d,u]=g.useState(!1),h=xn(),x=b=>{b.stopPropagation(),c(b.currentTarget)},p=()=>{c(null)},m=async()=>{await o(()=>s==null?void 0:s.channelApi.deleteChannel(e.id),{showSuccessMessage:!0,successMessage:"Channel deleted successfully"})&&n(),u(!1)};return t.jsxs(t.Fragment,{children:[t.jsxs(Ne,{onClick:()=>r(ve.STUDIO_CHANNEL_EDIT.replace(":channelId",e.id)),sx:{height:"100%",display:"flex",flexDirection:"column",position:"relative",cursor:"pointer",transition:h.transitions.create(["box-shadow","transform"],{duration:h.transitions.duration.shorter}),"&:hover":{transform:"translateY(-2px)",boxShadow:b=>`0 4px 12px ${fe(b.palette.primary.main,.1)}`}},children:[t.jsx(C,{sx:{height:{xs:100,sm:120},backgroundImage:`url(${(e==null?void 0:e.bannerUrl)||"https://via.placeholder.com/600x400"})`,backgroundSize:"cover",backgroundPosition:"center",borderTopLeftRadius:1,borderTopRightRadius:1,position:"relative","&::after":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:b=>`linear-gradient(180deg, 
                ${fe(b.palette.background.default,0)} 0%, 
                ${fe(b.palette.background.default,.8)} 100%)`}},children:t.jsx(Le,{onClick:x,sx:{position:"absolute",top:8,right:8,zIndex:1,color:"text.primary",bgcolor:b=>fe(b.palette.background.paper,.8),backdropFilter:"blur(4px)","&:hover":{bgcolor:b=>fe(b.palette.background.paper,.95)}},children:t.jsx(ud,{fontSize:"small"})})}),t.jsx(Fe,{sx:{flexGrow:1,p:{xs:2,sm:2.5}},children:t.jsxs(ye,{spacing:{xs:1.5,sm:2},children:[t.jsxs(C,{children:[t.jsx(v,{variant:"h6",sx:{fontWeight:600,mb:.5,fontSize:{xs:"1rem",sm:"1.125rem"}},children:e.name}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",fontSize:{xs:"0.875rem",sm:"0.875rem"},lineHeight:1.5},children:e.description})]}),t.jsxs(ye,{direction:"row",spacing:1,flexWrap:"wrap",sx:{gap:1},children:[t.jsx(Ye,{size:"small",label:`${(y=e==null?void 0:e.stats)==null?void 0:y.activeSubscriptionCount} subscribers`,sx:{height:24,fontSize:"0.75rem",bgcolor:b=>fe(b.palette.primary.main,b.palette.mode==="dark"?.15:.08),color:"primary.main","& .MuiChip-label":{px:1}}}),t.jsx(Ye,{size:"small",label:"10 news",sx:{height:24,fontSize:"0.75rem",bgcolor:b=>fe(b.palette.secondary.main,b.palette.mode==="dark"?.15:.08),color:"secondary.main","& .MuiChip-label":{px:1}}})]})]})})]}),t.jsxs(uo,{anchorEl:a,open:!!a,onClose:p,onClick:b=>b.stopPropagation(),PaperProps:{sx:{width:200,mt:1}},children:[t.jsxs(Ce,{onClick:()=>{r(ve.STUDIO_CHANNEL_EDIT.replace(":channelId",e.id)),p()},children:[t.jsx(qt,{children:t.jsx(Qa,{fontSize:"small"})}),t.jsx(Ht,{primary:"Edit Channel"})]}),t.jsxs(Ce,{onClick:()=>{r(ve.APP_CHANNEL_VIEW.replace(":channelId",e.id)),p()},children:[t.jsx(qt,{children:t.jsx(Uo,{fontSize:"small"})}),t.jsx(Ht,{primary:"View Public Page"})]}),t.jsxs(Ce,{onClick:()=>{u(!0),p()},sx:{color:"error.main"},children:[t.jsx(qt,{sx:{color:"inherit"},children:t.jsx(zo,{fontSize:"small"})}),t.jsx(Ht,{primary:"Delete Channel"})]})]}),t.jsx(Vp,{open:d,onClose:()=>u(!1),onConfirm:m,title:"Delete Channel",content:"Are you sure you want to delete this channel? This action cannot be undone.",confirmText:"Delete",confirmColor:"error"})]})},mF=()=>{const[e,n]=g.useState([]),[r,s]=g.useState(1),[o,a]=g.useState(!0),[c,d]=g.useState(!0),{api:u}=Xe(),h=Ct(),x=xn(),{execute:p}=nt(),m=()=>{y(r+1)},y=async(S=r)=>{const j=await p(()=>u==null?void 0:u.studioApi.getMyChannels(),{showErrorToast:!0});j&&(n(D=>S===1?(j==null?void 0:j.items)??[]:[...D,...(j==null?void 0:j.items)??[]]),s((j==null?void 0:j.metadata.currentPage)??1),a((j==null?void 0:j.metadata.hasNext)===!0)),d(!1)};g.useEffect(()=>{y(1)},[]);const b=()=>t.jsxs(C,{sx:{p:2,borderRadius:1,bgcolor:S=>fe(S.palette.mode==="dark"?S.palette.common.white:S.palette.common.black,S.palette.mode==="dark"?.05:.03),height:{xs:180,sm:200},transition:x.transitions.create(["background-color","height"])},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[t.jsx(ce,{variant:"circular",width:32,height:32,sx:{mr:1.5}}),t.jsxs(C,{sx:{width:"100%"},children:[t.jsx(ce,{width:"60%",height:20}),t.jsx(ce,{width:"40%",height:16})]})]}),t.jsx(ce,{variant:"rectangular",sx:{borderRadius:1,height:{xs:70,sm:80}}}),t.jsx(C,{sx:{mt:1.5},children:t.jsx(ce,{width:"30%",height:20})})]});return t.jsxs(C,{sx:{px:{xs:2,sm:3,md:4},py:{xs:2,sm:3},maxWidth:"lg",mx:"auto",width:"100%"},children:[t.jsx(C,{sx:{mb:{xs:2,sm:3}},children:t.jsx(v,{variant:"h5",sx:{fontWeight:600,fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:c?t.jsx(ce,{width:150}):"My Channels"})}),c?t.jsx($,{container:!0,spacing:2,children:[1,2].map(S=>t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(b,{})},S))}):e.length===0?t.jsx(zs,{title:"No Channels Yet",description:"Create your first channel to start publishing news and connecting with subscribers.",icon:t.jsx(Ka,{sx:{fontSize:{xs:40,sm:48}}}),action:{label:"Create Channel",onClick:()=>h(ve.STUDIO_CHANNEL_CREATE)}}):t.jsx(Bs,{dataLength:e.length,next:m,hasMore:o,loader:t.jsx($,{container:!0,spacing:2,sx:{mt:.5},children:[1,2].map(S=>t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(b,{})},S))}),children:t.jsx($,{container:!0,spacing:2,children:e.map(S=>t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(xF,{channel:S,onRefresh:()=>y(1)})},S.id))})})]})},Jl={ACTIVE:1,INACTIVE:2,PRIVATE:3,SUSPENDED:4,DELETED:5},tj=({initialData:e,onSubmit:n,submitButtonText:r})=>{const[s,o]=g.useState(!1),[a,c]=g.useState(()=>({name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",handle:(e==null?void 0:e.handle)||"",status:(e==null?void 0:e.status)||Jl.ACTIVE,logoUrl:(e==null?void 0:e.logoUrl)||"",bannerUrl:(e==null?void 0:e.bannerUrl)||"",tags:(e==null?void 0:e.tags)||[]})),[d,u]=g.useState((e==null?void 0:e.logoUrl)||void 0),[h,x]=g.useState((e==null?void 0:e.bannerUrl)||void 0),p=async m=>{m.preventDefault(),o(!0);try{await n({...a,logoUrl:d||"",bannerUrl:h||"",tags:[]})}catch(y){console.error("Failed to submit channel:",y)}finally{o(!1)}};return t.jsx("form",{onSubmit:p,children:t.jsxs(ye,{spacing:4,children:[t.jsxs(C,{children:[t.jsx(v,{variant:"h6",sx:{mb:3},children:"Branding"}),t.jsxs(ye,{spacing:4,children:[t.jsxs(C,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Channel Logo"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"This image will appear next to your channel's content. Use a square image for best results."}),t.jsx(Mh,{label:"Upload Channel Logo",value:d,onChange:u})]}),t.jsxs(C,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Channel Banner"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"This image appears at the top of your channel page. Recommended size: 2048 x 1152 pixels."}),t.jsx(Mh,{label:"Upload Channel Banner",value:h,onChange:x})]})]})]}),t.jsxs(C,{children:[t.jsx(v,{variant:"h6",sx:{mb:3},children:"Basic Info"}),t.jsxs(ye,{spacing:4,children:[t.jsxs(C,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Channel Name"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Choose a name that represents your channel. You can change this later."}),t.jsx(rt,{value:a.name,onChange:m=>c(y=>({...y,name:m.target.value})),required:!0,fullWidth:!0,placeholder:"Enter channel name"})]}),t.jsxs(C,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Channel Handle"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"This is the unique identifier for your channel. It will be used in the URL of your channel page."}),t.jsx(rt,{value:a.handle,onChange:m=>c(y=>({...y,handle:m.target.value})),required:!0,fullWidth:!0,placeholder:"Enter channel handle"})]}),t.jsxs(C,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Description"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Tell viewers about your channel. This appears in search results and your channel page."}),t.jsx(rt,{value:a.description,onChange:m=>c(y=>({...y,description:m.target.value})),multiline:!0,rows:4,fullWidth:!0,placeholder:"Tell your story..."})]})]})]}),t.jsxs(C,{children:[t.jsx(v,{variant:"h6",sx:{mb:3},children:"Channel Settings"}),t.jsx(ye,{spacing:4,children:t.jsxs(C,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Channel Visibility"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Control who can see and access your channel's content."}),t.jsx(bt,{fullWidth:!0,children:t.jsxs(wt,{value:a.status,onChange:m=>{const y=Number(m.target.value);c(b=>({...b,status:y}))},children:[t.jsx(Ce,{value:Jl.ACTIVE,children:"Public - Channel is visible to everyone"}),t.jsx(Ce,{value:Jl.PRIVATE,children:"Private - Only invited members can access"}),t.jsx(Ce,{value:Jl.INACTIVE,children:"Hidden - Channel is temporarily hidden from public view"})]})})]})})]}),t.jsx(xe,{type:"submit",variant:"contained",disabled:s,sx:{py:1.5,textTransform:"none",fontWeight:600},children:s?"Submitting...":r})]})})},gF=()=>{const{api:e}=Xe(),n=Ct(),{execute:r}=nt(),{actions:{refreshProfile:s}}=Ps(),o=async a=>{if(!a)return;await r(()=>e==null?void 0:e.studioApi.createChannel(a),{showSuccessMessage:!0,successMessage:"Channel created successfully!"})&&(await s(),n(`${ve.STUDIO_CHANNELS}`))};return t.jsxs(It,{sx:{maxWidth:800,mx:"auto",p:3},children:[t.jsx(v,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Create Channel"}),t.jsx(tj,{onSubmit:o,submitButtonText:"Create Channel"})]})},bF=()=>t.jsxs(It,{maxWidth:"md",sx:{mt:4,textAlign:"center"},children:[t.jsx(v,{variant:"h3",gutterBottom:!0,children:"404 - Page Not Found"}),t.jsx(v,{variant:"h6",gutterBottom:!0,children:"The page you are looking for does not exist."}),t.jsx(C,{sx:{mt:4},children:t.jsx(xe,{variant:"contained",color:"primary",component:$n,to:"/",children:"Go to Home"})})]}),nj=({expenseOrder:e,channels:n,expenseTypes:r,onSave:s,onSubmit:o,loading:a=!1,isEdit:c=!1})=>{const[d,u]=g.useState({channelId:(e==null?void 0:e.channel.id)||"",typeId:(e==null?void 0:e.type.id)||0,title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",amount:(e==null?void 0:e.amount)||0,currency:(e==null?void 0:e.currency)||"USD",receiptUrl:(e==null?void 0:e.receiptUrl)||"",notes:(e==null?void 0:e.notes)||""}),[h,x]=g.useState({}),[p,m]=g.useState(!1),y=()=>{const w={};return d.channelId||(w.channelId="Channel is required"),d.typeId||(w.typeId="Expense type is required"),d.title.trim()||(w.title="Title is required"),d.description.trim()||(w.description="Description is required"),d.amount<=0&&(w.amount="Amount must be greater than 0"),d.currency.trim()||(w.currency="Currency is required"),x(w),Object.keys(w).length===0},b=(w,I)=>{u(T=>({...T,[w]:I})),h[w]&&x(T=>({...T,[w]:""}))},S=async()=>{if(y())try{if(c){const w={title:d.title,description:d.description,amount:d.amount,currency:d.currency,typeId:Number(d.typeId),receiptUrl:d.receiptUrl,notes:d.notes};await s(w)}else{const w={channelId:d.channelId,typeId:Number(d.typeId),title:d.title,description:d.description,amount:d.amount,currency:d.currency,receiptUrl:d.receiptUrl,notes:d.notes};await s(w)}}catch(w){console.error("Error saving expense order:",w)}},j=async()=>{if(!(!e||!o)){m(!0);try{await o(e)}catch(w){console.error("Error submitting expense order:",w)}finally{m(!1)}}},D=c&&(e==null?void 0:e.status)===Ke.DRAFT&&o;return t.jsxs(kp,{children:[t.jsx(v,{variant:"h6",sx:{mb:3,fontWeight:600},children:c?"Edit Expense Order":"Create New Expense Order"}),t.jsxs($,{container:!0,spacing:3,children:[t.jsx($,{item:!0,xs:12,md:6,children:t.jsxs(bt,{fullWidth:!0,error:!!h.channelId,children:[t.jsx(At,{children:"Channel"}),t.jsx(wt,{value:d.channelId,label:"Channel",onChange:w=>b("channelId",w.target.value),disabled:c,children:n.map(w=>t.jsx(Ce,{value:w.id,children:w.name},w.id))}),h.channelId&&t.jsx(v,{variant:"caption",color:"error",sx:{mt:.5},children:h.channelId})]})}),t.jsx($,{item:!0,xs:12,md:6,children:t.jsxs(bt,{fullWidth:!0,error:!!h.typeId,children:[t.jsx(At,{children:"Expense Type"}),t.jsx(wt,{value:d.typeId,label:"Expense Type",onChange:w=>b("typeId",w.target.value),children:r.map(w=>t.jsx(Ce,{value:w.id,children:w.name},w.id))}),h.typeId&&t.jsx(v,{variant:"caption",color:"error",sx:{mt:.5},children:h.typeId})]})}),t.jsx($,{item:!0,xs:12,children:t.jsx(rt,{fullWidth:!0,label:"Title",value:d.title,onChange:w=>b("title",w.target.value),error:!!h.title,helperText:h.title,placeholder:"Enter expense title"})}),t.jsx($,{item:!0,xs:12,children:t.jsx(rt,{fullWidth:!0,multiline:!0,rows:3,label:"Description",value:d.description,onChange:w=>b("description",w.target.value),error:!!h.description,helperText:h.description,placeholder:"Describe the expense in detail"})}),t.jsx($,{item:!0,xs:12,md:6,children:t.jsx(rt,{fullWidth:!0,type:"number",label:"Amount",value:d.amount,onChange:w=>b("amount",parseFloat(w.target.value)||0),error:!!h.amount,helperText:h.amount,InputProps:{startAdornment:t.jsx(Qr,{position:"start",children:"$"})}})}),t.jsx($,{item:!0,xs:12,md:6,children:t.jsx(rt,{fullWidth:!0,label:"Currency",value:d.currency,onChange:w=>b("currency",w.target.value.toUpperCase()),error:!!h.currency,helperText:h.currency,placeholder:"USD",inputProps:{maxLength:3}})}),t.jsx($,{item:!0,xs:12,children:t.jsx(rt,{fullWidth:!0,label:"Receipt URL",value:d.receiptUrl,onChange:w=>b("receiptUrl",w.target.value),placeholder:"https://example.com/receipt.pdf",InputProps:{startAdornment:t.jsx(Qr,{position:"start",children:t.jsx(MT,{})})}})}),t.jsx($,{item:!0,xs:12,children:t.jsx(rt,{fullWidth:!0,multiline:!0,rows:2,label:"Notes (Optional)",value:d.notes,onChange:w=>b("notes",w.target.value),placeholder:"Additional notes or comments"})}),t.jsx($,{item:!0,xs:12,children:t.jsxs(C,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[t.jsx(xe,{variant:"outlined",startIcon:a?t.jsx(Wn,{size:16}):t.jsx(c0,{}),onClick:S,disabled:a||p,children:"Save as Draft"}),D&&t.jsx(xe,{variant:"contained",startIcon:p?t.jsx(Wn,{size:16}):t.jsx(Gc,{}),onClick:j,disabled:a||p,children:"Submit for Approval"})]})})]})]})},yF=({onCreateNew:e,onEdit:n,onView:r,userRole:s="journalist",channelId:o,showCreateButton:a=!0})=>{const{api:c}=Xe(),[d,u]=g.useState([]),[h,x]=g.useState(!0),[p,m]=g.useState(null),[y,b]=g.useState(""),[S,j]=g.useState(1),[D,w]=g.useState(1),[I,T]=g.useState(!1),_=async(Z=1)=>{var G,q;try{x(Z===1),m(null);let K;const X={page:Z,limit:10};s==="journalist"?K=await c.expenseOrderApi.getMyExpenseOrders(X,y||void 0):o?K=await c.expenseOrderApi.getExpenseOrdersByChannel(o,X,y||void 0):K=await c.expenseOrderApi.getPendingExpenseOrders(X),u(K.data),w(Math.ceil(K.total/K.limit)),j(Z)}catch(K){m(((q=(G=K.response)==null?void 0:G.data)==null?void 0:q.message)||"Failed to load expense orders"),console.error("Error loading expense orders:",K)}finally{x(!1),T(!1)}};g.useEffect(()=>{_(1)},[y,s,o]);const R=async()=>{T(!0),await _(S)},O=(Z,G)=>{_(G)},A=async Z=>{var G,q;try{await c.expenseOrderApi.submitExpenseOrder(Z.id),await _(S)}catch(K){console.error("Error submitting expense order:",K),m(((q=(G=K.response)==null?void 0:G.data)==null?void 0:q.message)||"Failed to submit expense order")}},L=async Z=>{var G,q;try{await c.expenseOrderApi.cancelExpenseOrder(Z.id,"Cancelled by user"),await _(S)}catch(K){console.error("Error cancelling expense order:",K),m(((q=(G=K.response)==null?void 0:G.data)==null?void 0:q.message)||"Failed to cancel expense order")}},W=async Z=>{var G,q;try{await c.expenseOrderApi.approveExpenseOrder(Z.id),await _(S)}catch(K){console.error("Error approving expense order:",K),m(((q=(G=K.response)==null?void 0:G.data)==null?void 0:q.message)||"Failed to approve expense order")}},H=async Z=>{var G,q;try{const K=prompt("Please provide a reason for rejection:");K&&(await c.expenseOrderApi.rejectExpenseOrder(Z.id,{rejectionReason:K}),await _(S))}catch(K){console.error("Error rejecting expense order:",K),m(((q=(G=K.response)==null?void 0:G.data)==null?void 0:q.message)||"Failed to reject expense order")}},N=async Z=>{var G,q;try{await c.expenseOrderApi.processPayment(Z.id),await _(S)}catch(K){console.error("Error processing payment:",K),m(((q=(G=K.response)==null?void 0:G.data)==null?void 0:q.message)||"Failed to process payment")}},se=()=>{switch(s){case"journalist":return"My Expense Orders";case"admin":case"finance-manager":return o?"Channel Expense Orders":"All Expense Orders";default:return"Expense Orders"}};return t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[t.jsx(v,{variant:"h5",sx:{fontWeight:600},children:se()}),t.jsxs(C,{sx:{display:"flex",gap:2,alignItems:"center"},children:[t.jsxs(bt,{size:"small",sx:{minWidth:150},children:[t.jsx(At,{children:"Status Filter"}),t.jsxs(wt,{value:y,label:"Status Filter",onChange:Z=>b(Z.target.value),children:[t.jsx(Ce,{value:"",children:"All Statuses"}),t.jsx(Ce,{value:Ke.DRAFT,children:"Draft"}),t.jsx(Ce,{value:Ke.SUBMITTED,children:"Submitted"}),t.jsx(Ce,{value:Ke.UNDER_REVIEW,children:"Under Review"}),t.jsx(Ce,{value:Ke.APPROVED,children:"Approved"}),t.jsx(Ce,{value:Ke.REJECTED,children:"Rejected"}),t.jsx(Ce,{value:Ke.PAID,children:"Paid"}),t.jsx(Ce,{value:Ke.CANCELLED,children:"Cancelled"})]})]}),t.jsx(xe,{variant:"outlined",startIcon:I?t.jsx(Wn,{size:16}):t.jsx(f0,{}),onClick:R,disabled:I,size:"small",children:"Refresh"}),a&&s==="journalist"&&e&&t.jsx(xe,{variant:"contained",startIcon:t.jsx(Fo,{}),onClick:e,children:"Create Expense Order"})]})]}),p&&t.jsx(ct,{severity:"error",sx:{mb:3},onClose:()=>m(null),children:p}),h?t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(Wn,{})}):d.length===0?t.jsxs(C,{sx:{textAlign:"center",py:6},children:[t.jsx(v,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"No expense orders found"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:s==="journalist"?"You haven't created any expense orders yet.":"No expense orders match your current filter."}),a&&s==="journalist"&&e&&t.jsx(xe,{variant:"contained",startIcon:t.jsx(Fo,{}),onClick:e,children:"Create Your First Expense Order"})]}):t.jsxs(t.Fragment,{children:[t.jsx($,{container:!0,spacing:3,children:d.map(Z=>t.jsx($,{item:!0,xs:12,md:6,lg:4,children:t.jsx(Np,{expenseOrder:Z,onView:r,onEdit:n,onSubmit:A,onCancel:L,onApprove:W,onReject:H,onProcessPayment:N,userRole:s})},Z.id))}),D>1&&t.jsx(C,{sx:{display:"flex",justifyContent:"center",mt:4},children:t.jsx(NT,{count:D,page:S,onChange:O,color:"primary",size:"large"})})]})]})},vF=({channelId:e,onCreateExpenseOrder:n,onViewExpenseOrder:r,userRole:s="journalist"})=>{const{api:o}=Xe(),a=xn(),[c,d]=g.useState(null),[u,h]=g.useState(null),[x,p]=g.useState(!0),[m,y]=g.useState(null);g.useEffect(()=>{b()},[e]);const b=async()=>{var w,I;try{p(!0),y(null);const T=await o.expenseOrderApi.getExpenseOrderStats(e);if(d(T),e){const _=await o.channelApi.getChannel(e);h(_)}}catch(T){y(((I=(w=T.response)==null?void 0:w.data)==null?void 0:I.message)||"Failed to load dashboard data"),console.error("Error loading dashboard data:",T)}finally{p(!1)}},S=(w,I="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:I}).format(w),j=w=>{switch(w){case"paid":return a.palette.success.main;case"approved":return a.palette.info.main;case"submitted":case"underReview":return a.palette.warning.main;case"rejected":case"cancelled":return a.palette.error.main;case"draft":default:return a.palette.grey[500]}},D=({title:w,value:I,icon:T,color:_,subtitle:R})=>t.jsx(Ne,{sx:{height:"100%",border:`1px solid ${fe(_,.2)}`,"&:hover":{boxShadow:a.shadows[4],transform:"translateY(-2px)",transition:"all 0.2s ease-in-out"}},children:t.jsxs(Fe,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(C,{sx:{p:1,borderRadius:2,bgcolor:fe(_,.1),color:_,mr:2},children:T}),t.jsx(v,{variant:"h6",sx:{fontWeight:600,color:"text.primary"},children:w})]}),t.jsx(v,{variant:"h4",sx:{fontWeight:700,color:_,mb:1},children:I}),R&&t.jsx(v,{variant:"body2",color:"text.secondary",children:R})]})});return x?t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:8},children:t.jsx(Wn,{size:40})}):m?t.jsx(ct,{severity:"error",sx:{mb:3},children:m}):t.jsxs(C,{children:[t.jsxs(C,{sx:{mb:4},children:[t.jsx(v,{variant:"h4",sx:{fontWeight:700,mb:1},children:u?`${u.name} Payouts`:"Payout Dashboard"}),t.jsx(v,{variant:"body1",color:"text.secondary",children:s==="journalist"?"Manage your expense orders and track payments":"Overview of expense orders and payout statistics"})]}),c&&t.jsxs(t.Fragment,{children:[t.jsxs($,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(D,{title:"Total Orders",value:c.total,icon:t.jsx(Fs,{}),color:a.palette.primary.main,subtitle:"All time"})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(D,{title:"Total Amount",value:S(c.totalAmount),icon:t.jsx(Ws,{}),color:a.palette.secondary.main,subtitle:"Requested"})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(D,{title:"Paid Amount",value:S(c.totalPaidAmount),icon:t.jsx($i,{}),color:a.palette.success.main,subtitle:"Completed payments"})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(D,{title:"Pending",value:c.submitted+c.underReview+c.approved,icon:t.jsx(LT,{}),color:a.palette.warning.main,subtitle:"Awaiting action"})})]}),t.jsx(Ne,{sx:{mb:4},children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",sx:{fontWeight:600,mb:3},children:"Status Breakdown"}),t.jsx($,{container:!0,spacing:2,children:[{label:"Draft",value:c.draft,status:"draft"},{label:"Submitted",value:c.submitted,status:"submitted"},{label:"Under Review",value:c.underReview,status:"underReview"},{label:"Approved",value:c.approved,status:"approved"},{label:"Paid",value:c.paid,status:"paid"},{label:"Rejected",value:c.rejected,status:"rejected"},{label:"Cancelled",value:c.cancelled,status:"cancelled"}].map(w=>t.jsx($,{item:!0,xs:6,sm:4,md:3,lg:2,children:t.jsxs(C,{sx:{textAlign:"center",p:2},children:[t.jsx(v,{variant:"h5",sx:{fontWeight:700,color:j(w.status),mb:1},children:w.value}),t.jsx(Ye,{label:w.label,size:"small",sx:{bgcolor:fe(j(w.status),.1),color:j(w.status),fontWeight:500}})]})},w.status))})]})})]}),t.jsx(Ne,{children:t.jsx(Fe,{children:t.jsx(yF,{userRole:s,channelId:e,onCreateNew:n,onView:r?w=>r(w.id):void 0,showCreateButton:s==="journalist"})})}),s==="journalist"&&t.jsx(C,{sx:{mt:4,display:"flex",justifyContent:"center"},children:t.jsx(xe,{variant:"contained",size:"large",startIcon:t.jsx(Fs,{}),onClick:n,sx:{px:4,py:1.5},children:"Create New Expense Order"})})]})},jF=()=>{var y,b,S,j,D;const[e,n]=g.useState(null),[r,s]=g.useState(!0),[o,a]=g.useState(0),{channelId:c}=es(),{api:d}=Xe(),u=Ct(),h=async()=>{try{if(c){const w=await(d==null?void 0:d.channelApi.getChannel(c));w&&n(w)}}catch(w){console.error("Failed to fetch channel:",w)}finally{s(!1)}};g.useEffect(()=>{h()},[]);const x=()=>{u("/studio/payouts")},p=w=>{u(`/studio/payouts/orders/${w}`)},m=(w,I)=>{a(I)};return r?t.jsxs(It,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs(C,{sx:{textAlign:"center",mb:4},children:[t.jsx(ce,{variant:"circular",width:100,height:100,sx:{mx:"auto",mb:2}}),t.jsx(ce,{variant:"text",width:"60%",sx:{mx:"auto",mb:1}}),t.jsx(ce,{variant:"text",width:"40%",sx:{mx:"auto",mb:2}})]}),t.jsx($,{container:!0,spacing:3,children:[...Array(3)].map((w,I)=>t.jsx($,{item:!0,xs:12,md:4,children:t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsx(ce,{variant:"text",width:"80%"}),t.jsx(ce,{variant:"text",width:"60%"}),t.jsx(ce,{variant:"rectangular",height:100,sx:{my:2}})]})})},I))})]}):e?t.jsxs(It,{maxWidth:"lg",sx:{mt:4},children:[t.jsx(C,{sx:{position:"relative",mb:4,"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:200,backgroundImage:e!=null&&e.bannerUrl?`url(${e.bannerUrl})`:void 0,background:e!=null&&e.bannerUrl?void 0:w=>`linear-gradient(135deg, ${w.palette.primary.main} 0%, ${w.palette.primary.light} 100%)`,backgroundSize:"cover",backgroundPosition:"center",filter:"brightness(0.9)"}},children:t.jsxs(C,{sx:{position:"relative",pt:15,pb:4,textAlign:"center"},children:[t.jsx(wn,{src:e.logoUrl,sx:{width:100,height:100,mx:"auto",mb:2,border:"3px solid white",boxShadow:2}}),t.jsx(v,{variant:"h4",gutterBottom:!0,children:e.name}),t.jsxs(v,{variant:"subtitle1",color:"text.secondary",gutterBottom:!0,children:[((b=(y=e.stats)==null?void 0:y.activeSubscriptionCount)==null?void 0:b.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1}))||0," followers  ",((j=(S=e.stats)==null?void 0:S.paidSubscriptionCount)==null?void 0:j.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1}))||0," subscribers"]}),t.jsx(v,{variant:"body1",sx:{mb:3},children:e.description}),t.jsx(Lt,{sx:{mb:4}})]})}),t.jsx(C,{sx:{mb:3},children:t.jsxs(ho,{value:o,onChange:m,"aria-label":"channel tabs",sx:{borderBottom:1,borderColor:"divider"},children:[t.jsx(Zn,{label:"Subscription Tiers",id:"channel-tab-0","aria-controls":"channel-tabpanel-0"}),t.jsx(Zn,{label:"Payouts",icon:t.jsx(Ws,{}),iconPosition:"start",id:"channel-tab-1","aria-controls":"channel-tabpanel-1"})]})}),t.jsx("div",{role:"tabpanel",hidden:o!==0,id:"channel-tabpanel-0","aria-labelledby":"channel-tab-0",children:o===0&&t.jsxs(C,{children:[t.jsx(v,{variant:"h5",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Subscription Tiers"}),t.jsx($,{container:!0,spacing:3,children:(D=e.tiers)==null?void 0:D.map(w=>t.jsx($,{item:!0,xs:12,md:4,children:t.jsxs(kp,{children:[t.jsxs(C,{sx:{mb:3},children:[t.jsx(v,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,fontSize:"1rem"},children:w.name}),t.jsxs(v,{variant:"h4",sx:{fontWeight:700,fontSize:"2rem",display:"flex",alignItems:"baseline",gap:.5},children:[w.price!==void 0&&w.currency?new Intl.NumberFormat("en-US",{style:"currency",currency:w.currency.toUpperCase()}).format(w.price/100):`$${w.price||0}`,t.jsx(v,{component:"span",sx:{fontSize:"0.875rem",fontWeight:400,color:"text.secondary"},children:"/month"})]})]}),t.jsx(v,{variant:"body2",sx:{mb:3,color:"text.secondary",minHeight:60},children:w.description})]})},w.id))})]})}),t.jsx("div",{role:"tabpanel",hidden:o!==1,id:"channel-tabpanel-1","aria-labelledby":"channel-tab-1",children:o===1&&t.jsx(C,{children:t.jsx(vF,{channelId:c,onCreateExpenseOrder:x,onViewExpenseOrder:p,userRole:"journalist"})})})]}):t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsx(v,{variant:"h5",align:"center",children:"Channel not found"})})},SF=()=>t.jsx(C,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(Wn,{})}),wF=({error:e})=>t.jsxs(C,{sx:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:2},children:[t.jsx(v,{variant:"h4",color:"error",children:"An error occurred"}),t.jsx(v,{color:"text.secondary",children:e.message})]}),rj=({channel:e,onUpdate:n})=>{const r=async s=>{!s||!("name"in s)||await n(s)};return t.jsx(C,{sx:{maxWidth:800},children:t.jsx(tj,{initialData:e,onSubmit:r,submitButtonText:"Save"})})};var Up={},CF=Ze;Object.defineProperty(Up,"__esModule",{value:!0});var sj=Up.default=void 0,PF=CF(et()),DF=t;sj=Up.default=(0,PF.default)((0,DF.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"DragIndicator");var zp={},IF=Ze;Object.defineProperty(zp,"__esModule",{value:!0});var Hp=zp.default=void 0,EF=IF(et()),TF=t;Hp=zp.default=(0,EF.default)((0,TF.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");function ar(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var AF=typeof Symbol=="function"&&Symbol.observable||"@@observable",qb=AF,nh=()=>Math.random().toString(36).substring(7).split("").join("."),RF={INIT:`@@redux/INIT${nh()}`,REPLACE:`@@redux/REPLACE${nh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${nh()}`},Kb=RF;function _F(e){if(typeof e!="object"||e===null)return!1;let n=e;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n||Object.getPrototypeOf(e)===null}function oj(e,n,r){if(typeof e!="function")throw new Error(ar(2));if(typeof n=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ar(0));if(typeof n=="function"&&typeof r>"u"&&(r=n,n=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ar(1));return r(oj)(e,n)}let s=e,o=n,a=new Map,c=a,d=0,u=!1;function h(){c===a&&(c=new Map,a.forEach((j,D)=>{c.set(D,j)}))}function x(){if(u)throw new Error(ar(3));return o}function p(j){if(typeof j!="function")throw new Error(ar(4));if(u)throw new Error(ar(5));let D=!0;h();const w=d++;return c.set(w,j),function(){if(D){if(u)throw new Error(ar(6));D=!1,h(),c.delete(w),a=null}}}function m(j){if(!_F(j))throw new Error(ar(7));if(typeof j.type>"u")throw new Error(ar(8));if(typeof j.type!="string")throw new Error(ar(17));if(u)throw new Error(ar(9));try{u=!0,o=s(o,j)}finally{u=!1}return(a=c).forEach(w=>{w()}),j}function y(j){if(typeof j!="function")throw new Error(ar(10));s=j,m({type:Kb.REPLACE})}function b(){const j=p;return{subscribe(D){if(typeof D!="object"||D===null)throw new Error(ar(11));function w(){const T=D;T.next&&T.next(x())}return w(),{unsubscribe:j(w)}},[qb](){return this}}}return m({type:Kb.INIT}),{dispatch:m,subscribe:p,getState:x,replaceReducer:y,[qb]:b}}function Jb(e,n){return function(...r){return n(e.apply(this,r))}}function Xb(e,n){if(typeof e=="function")return Jb(e,n);if(typeof e!="object"||e===null)throw new Error(ar(16));const r={};for(const s in e){const o=e[s];typeof o=="function"&&(r[s]=Jb(o,n))}return r}function ij(...e){return e.length===0?n=>n:e.length===1?e[0]:e.reduce((n,r)=>(...s)=>n(r(...s)))}function OF(...e){return n=>(r,s)=>{const o=n(r,s);let a=()=>{throw new Error(ar(15))};const c={getState:o.getState,dispatch:(u,...h)=>a(u,...h)},d=e.map(u=>u(c));return a=ij(...d)(o.dispatch),{...o,dispatch:a}}}var kF={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Za=g;function MF(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var NF=typeof Object.is=="function"?Object.is:MF,LF=Za.useSyncExternalStore,$F=Za.useRef,FF=Za.useEffect,WF=Za.useMemo,BF=Za.useDebugValue;kF.useSyncExternalStoreWithSelector=function(e,n,r,s,o){var a=$F(null);if(a.current===null){var c={hasValue:!1,value:null};a.current=c}else c=a.current;a=WF(function(){function u(y){if(!h){if(h=!0,x=y,y=s(y),o!==void 0&&c.hasValue){var b=c.value;if(o(b,y))return p=b}return p=y}if(b=p,NF(x,y))return b;var S=s(y);return o!==void 0&&o(b,S)?(x=y,b):(x=y,p=S)}var h=!1,x,p,m=r===void 0?null:r;return[function(){return u(n())},m===null?void 0:function(){return u(m())}]},[n,r,s,o]);var d=LF(e,a[0],a[1]);return FF(function(){c.hasValue=!0,c.value=d},[d]),BF(d),d};var VF=g.version.startsWith("19"),UF=Symbol.for(VF?"react.transitional.element":"react.element"),zF=Symbol.for("react.portal"),HF=Symbol.for("react.fragment"),YF=Symbol.for("react.strict_mode"),GF=Symbol.for("react.profiler"),qF=Symbol.for("react.consumer"),KF=Symbol.for("react.context"),aj=Symbol.for("react.forward_ref"),JF=Symbol.for("react.suspense"),XF=Symbol.for("react.suspense_list"),Yp=Symbol.for("react.memo"),QF=Symbol.for("react.lazy"),ZF=aj,e3=Yp;function t3(e){if(typeof e=="object"&&e!==null){const{$$typeof:n}=e;switch(n){case UF:switch(e=e.type,e){case HF:case GF:case YF:case JF:case XF:return e;default:switch(e=e&&e.$$typeof,e){case KF:case aj:case QF:case Yp:return e;case qF:return e;default:return n}}case zF:return n}}}function n3(e){return t3(e)===Yp}function r3(e,n,r,s,{areStatesEqual:o,areOwnPropsEqual:a,areStatePropsEqual:c}){let d=!1,u,h,x,p,m;function y(w,I){return u=w,h=I,x=e(u,h),p=n(s,h),m=r(x,p,h),d=!0,m}function b(){return x=e(u,h),n.dependsOnOwnProps&&(p=n(s,h)),m=r(x,p,h),m}function S(){return e.dependsOnOwnProps&&(x=e(u,h)),n.dependsOnOwnProps&&(p=n(s,h)),m=r(x,p,h),m}function j(){const w=e(u,h),I=!c(w,x);return x=w,I&&(m=r(x,p,h)),m}function D(w,I){const T=!a(I,h),_=!o(w,u,I,h);return u=w,h=I,T&&_?b():T?S():_?j():m}return function(I,T){return d?D(I,T):y(I,T)}}function s3(e,{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:s,...o}){const a=n(e,o),c=r(e,o),d=s(e,o);return r3(a,c,d,e,o)}function o3(e,n){const r={};for(const s in e){const o=e[s];typeof o=="function"&&(r[s]=(...a)=>n(o(...a)))}return r}function Nh(e){return function(r){const s=e(r);function o(){return s}return o.dependsOnOwnProps=!1,o}}function Qb(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function lj(e,n){return function(s,{displayName:o}){const a=function(d,u){return a.dependsOnOwnProps?a.mapToProps(d,u):a.mapToProps(d,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(d,u){a.mapToProps=e,a.dependsOnOwnProps=Qb(e);let h=a(d,u);return typeof h=="function"&&(a.mapToProps=h,a.dependsOnOwnProps=Qb(h),h=a(d,u)),h},a}}function Gp(e,n){return(r,s)=>{throw new Error(`Invalid value of type ${typeof e} for ${n} argument when connecting component ${s.wrappedComponentName}.`)}}function i3(e){return e&&typeof e=="object"?Nh(n=>o3(e,n)):e?typeof e=="function"?lj(e):Gp(e,"mapDispatchToProps"):Nh(n=>({dispatch:n}))}function a3(e){return e?typeof e=="function"?lj(e):Gp(e,"mapStateToProps"):Nh(()=>({}))}function l3(e,n,r){return{...r,...e,...n}}function c3(e){return function(r,{displayName:s,areMergedPropsEqual:o}){let a=!1,c;return function(u,h,x){const p=e(u,h,x);return a?o(p,c)||(c=p):(a=!0,c=p),c}}}function d3(e){return e?typeof e=="function"?c3(e):Gp(e,"mergeProps"):()=>l3}function u3(e){e()}function h3(){let e=null,n=null;return{clear(){e=null,n=null},notify(){u3(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let s=e;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0;const o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!s||e===null||(s=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var Zb={notify(){},get:()=>[]};function cj(e,n){let r,s=Zb,o=0,a=!1;function c(S){x();const j=s.subscribe(S);let D=!1;return()=>{D||(D=!0,j(),p())}}function d(){s.notify()}function u(){b.onStateChange&&b.onStateChange()}function h(){return a}function x(){o++,r||(r=n?n.addNestedSub(u):e.subscribe(u),s=h3())}function p(){o--,r&&o===0&&(r(),r=void 0,s.clear(),s=Zb)}function m(){a||(a=!0,x())}function y(){a&&(a=!1,p())}const b={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:u,isSubscribed:h,trySubscribe:m,tryUnsubscribe:y,getListeners:()=>s};return b}var f3=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",p3=f3(),x3=()=>typeof navigator<"u"&&navigator.product==="ReactNative",m3=x3(),g3=()=>p3||m3?g.useLayoutEffect:g.useEffect,_c=g3();function ey(e,n){return e===n?e!==0||n!==0||1/e===1/n:e!==e&&n!==n}function rh(e,n){if(ey(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;const r=Object.keys(e),s=Object.keys(n);if(r.length!==s.length)return!1;for(let o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(n,r[o])||!ey(e[r[o]],n[r[o]]))return!1;return!0}var b3={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},y3={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},v3={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},dj={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},j3={[ZF]:v3,[e3]:dj};function ty(e){return n3(e)?dj:j3[e.$$typeof]||b3}var S3=Object.defineProperty,w3=Object.getOwnPropertyNames,ny=Object.getOwnPropertySymbols,C3=Object.getOwnPropertyDescriptor,P3=Object.getPrototypeOf,ry=Object.prototype;function Lh(e,n){if(typeof n!="string"){if(ry){const a=P3(n);a&&a!==ry&&Lh(e,a)}let r=w3(n);ny&&(r=r.concat(ny(n)));const s=ty(e),o=ty(n);for(let a=0;a<r.length;++a){const c=r[a];if(!y3[c]&&!(o&&o[c])&&!(s&&s[c])){const d=C3(n,c);try{S3(e,c,d)}catch{}}}}return e}var sh=Symbol.for("react-redux-context"),oh=typeof globalThis<"u"?globalThis:{};function D3(){if(!g.createContext)return{};const e=oh[sh]??(oh[sh]=new Map);let n=e.get(g.createContext);return n||(n=g.createContext(null),e.set(g.createContext,n)),n}var uj=D3(),I3=[null,null];function E3(e,n,r){_c(()=>e(...n),r)}function T3(e,n,r,s,o,a){e.current=s,r.current=!1,o.current&&(o.current=null,a())}function A3(e,n,r,s,o,a,c,d,u,h,x){if(!e)return()=>{};let p=!1,m=null;const y=()=>{if(p||!d.current)return;const S=n.getState();let j,D;try{j=s(S,o.current)}catch(w){D=w,m=w}D||(m=null),j===a.current?c.current||h():(a.current=j,u.current=j,c.current=!0,x())};return r.onStateChange=y,r.trySubscribe(),y(),()=>{if(p=!0,r.tryUnsubscribe(),r.onStateChange=null,m)throw m}}function R3(e,n){return e===n}function _3(e,n,r,{pure:s,areStatesEqual:o=R3,areOwnPropsEqual:a=rh,areStatePropsEqual:c=rh,areMergedPropsEqual:d=rh,forwardRef:u=!1,context:h=uj}={}){const x=h,p=a3(e),m=i3(n),y=d3(r),b=!!e;return j=>{const D=j.displayName||j.name||"Component",w=`Connect(${D})`,I={shouldHandleStateChanges:b,displayName:w,wrappedComponentName:D,WrappedComponent:j,initMapStateToProps:p,initMapDispatchToProps:m,initMergeProps:y,areStatesEqual:o,areStatePropsEqual:c,areOwnPropsEqual:a,areMergedPropsEqual:d};function T(O){const[A,L,W]=g.useMemo(()=>{const{reactReduxForwardedRef:ne,...me}=O;return[O.context,ne,me]},[O]),H=g.useMemo(()=>{let ne=x;return A!=null&&A.Consumer,ne},[A,x]),N=g.useContext(H),se=!!O.store&&!!O.store.getState&&!!O.store.dispatch,Z=!!N&&!!N.store,G=se?O.store:N.store,q=Z?N.getServerState:G.getState,K=g.useMemo(()=>s3(G.dispatch,I),[G]),[X,ae]=g.useMemo(()=>{if(!b)return I3;const ne=cj(G,se?void 0:N.subscription),me=ne.notifyNestedSubs.bind(ne);return[ne,me]},[G,se,N]),V=g.useMemo(()=>se?N:{...N,subscription:X},[se,N,X]),re=g.useRef(void 0),Ee=g.useRef(W),be=g.useRef(void 0),_e=g.useRef(!1),de=g.useRef(!1),te=g.useRef(void 0);_c(()=>(de.current=!0,()=>{de.current=!1}),[]);const z=g.useMemo(()=>()=>be.current&&W===Ee.current?be.current:K(G.getState(),W),[G,W]),De=g.useMemo(()=>me=>X?A3(b,G,X,K,Ee,re,_e,de,be,ae,me):()=>{},[X]);E3(T3,[Ee,re,_e,W,be,ae]);let oe;try{oe=g.useSyncExternalStore(De,z,q?()=>K(q(),W):z)}catch(ne){throw te.current&&(ne.message+=`
The error may be correlated with this previous error:
${te.current.stack}

`),ne}_c(()=>{te.current=void 0,be.current=void 0,re.current=oe});const le=g.useMemo(()=>g.createElement(j,{...oe,ref:L}),[L,j,oe]);return g.useMemo(()=>b?g.createElement(H.Provider,{value:V},le):le,[H,le,V])}const R=g.memo(T);if(R.WrappedComponent=j,R.displayName=T.displayName=w,u){const A=g.forwardRef(function(W,H){return g.createElement(R,{...W,reactReduxForwardedRef:H})});return A.displayName=w,A.WrappedComponent=j,Lh(A,j)}return Lh(R,j)}}var hj=_3;function O3(e){const{children:n,context:r,serverState:s,store:o}=e,a=g.useMemo(()=>{const u=cj(o);return{store:o,subscription:u,getServerState:s?()=>s:void 0}},[o,s]),c=g.useMemo(()=>o.getState(),[o]);_c(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),c!==o.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,c]);const d=r||uj;return g.createElement(d.Provider,{value:a},n)}var k3=O3;function M3(e,n){if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}function fj(e,n){var r=g.useState(function(){return{inputs:n,result:e()}})[0],s=g.useRef(!0),o=g.useRef(r),a=s.current||!!(n&&o.current.inputs&&M3(n,o.current.inputs)),c=a?o.current:{inputs:n,result:e()};return g.useEffect(function(){s.current=!1,o.current=c},[c]),c.result}function N3(e,n){return fj(function(){return e},n)}var kt=fj,tt=N3,cs=function(n){var r=n.top,s=n.right,o=n.bottom,a=n.left,c=s-a,d=o-r,u={top:r,right:s,bottom:o,left:a,width:c,height:d,x:a,y:r,center:{x:(s+a)/2,y:(o+r)/2}};return u},qp=function(n,r){return{top:n.top-r.top,left:n.left-r.left,bottom:n.bottom+r.bottom,right:n.right+r.right}},sy=function(n,r){return{top:n.top+r.top,left:n.left+r.left,bottom:n.bottom-r.bottom,right:n.right-r.right}},L3=function(n,r){return{top:n.top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x}},ih={top:0,right:0,bottom:0,left:0},Kp=function(n){var r=n.borderBox,s=n.margin,o=s===void 0?ih:s,a=n.border,c=a===void 0?ih:a,d=n.padding,u=d===void 0?ih:d,h=cs(qp(r,o)),x=cs(sy(r,c)),p=cs(sy(x,u));return{marginBox:h,borderBox:cs(r),paddingBox:x,contentBox:p,margin:o,border:c,padding:u}},Yr=function(n){var r=n.slice(0,-2),s=n.slice(-2);if(s!=="px")return 0;var o=Number(r);return isNaN(o)&&_A(),o},$3=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Oc=function(n,r){var s=n.borderBox,o=n.border,a=n.margin,c=n.padding,d=L3(s,r);return Kp({borderBox:d,border:o,margin:a,padding:c})},kc=function(n,r){return r===void 0&&(r=$3()),Oc(n,r)},pj=function(n,r){var s={top:Yr(r.marginTop),right:Yr(r.marginRight),bottom:Yr(r.marginBottom),left:Yr(r.marginLeft)},o={top:Yr(r.paddingTop),right:Yr(r.paddingRight),bottom:Yr(r.paddingBottom),left:Yr(r.paddingLeft)},a={top:Yr(r.borderTopWidth),right:Yr(r.borderRightWidth),bottom:Yr(r.borderBottomWidth),left:Yr(r.borderLeftWidth)};return Kp({borderBox:n,margin:s,padding:o,border:a})},xj=function(n){var r=n.getBoundingClientRect(),s=window.getComputedStyle(n);return pj(r,s)},oy=Number.isNaN||function(n){return typeof n=="number"&&n!==n};function F3(e,n){return!!(e===n||oy(e)&&oy(n))}function W3(e,n){if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(!F3(e[r],n[r]))return!1;return!0}function Fn(e,n){n===void 0&&(n=W3);var r=null;function s(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];if(r&&r.lastThis===this&&n(o,r.lastArgs))return r.lastResult;var c=e.apply(this,o);return r={lastResult:c,lastArgs:o,lastThis:this},c}return s.clear=function(){r=null},s}var _a=function(n){var r=[],s=null,o=function(){for(var c=arguments.length,d=new Array(c),u=0;u<c;u++)d[u]=arguments[u];r=d,!s&&(s=requestAnimationFrame(function(){s=null,n.apply(void 0,r)}))};return o.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},o};function mj(e,n){}mj.bind(null,"warn");mj.bind(null,"error");function io(){}function B3(e,n){return{...e,...n}}function Kr(e,n,r){const s=n.map(o=>{const a=B3(r,o.options);return e.addEventListener(o.eventName,o.fn,a),function(){e.removeEventListener(o.eventName,o.fn,a)}});return function(){s.forEach(a=>{a()})}}const V3="Invariant failed";class Mc extends Error{}Mc.prototype.toString=function(){return this.message};function Me(e,n){throw new Mc(V3)}class U3 extends Dt.Component{constructor(...n){super(...n),this.callbacks=null,this.unbind=io,this.onWindowError=r=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),r.error instanceof Mc&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=Kr(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(n){if(n instanceof Mc){this.setState({});return}throw n}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const z3=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Nc=e=>e+1,H3=e=>`
  You have lifted an item in position ${Nc(e.source.index)}
`,gj=(e,n)=>{const r=e.droppableId===n.droppableId,s=Nc(e.index),o=Nc(n.index);return r?`
      You have moved the item from position ${s}
      to position ${o}
    `:`
    You have moved the item from position ${s}
    in list ${e.droppableId}
    to list ${n.droppableId}
    in position ${o}
  `},bj=(e,n,r)=>n.droppableId===r.droppableId?`
      The item ${e}
      has been combined with ${r.draggableId}`:`
      The item ${e}
      in list ${n.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,Y3=e=>{const n=e.destination;if(n)return gj(e.source,n);const r=e.combine;return r?bj(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},iy=e=>`
  The item has returned to its starting position
  of ${Nc(e.index)}
`,G3=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${iy(e.source)}
    `;const n=e.destination,r=e.combine;return n?`
      You have dropped the item.
      ${gj(e.source,n)}
    `:r?`
      You have dropped the item.
      ${bj(e.draggableId,e.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${iy(e.source)}
  `},oc={dragHandleUsageInstructions:z3,onDragStart:H3,onDragUpdate:Y3,onDragEnd:G3},Bn={x:0,y:0},Yn=(e,n)=>({x:e.x+n.x,y:e.y+n.y}),Or=(e,n)=>({x:e.x-n.x,y:e.y-n.y}),ao=(e,n)=>e.x===n.x&&e.y===n.y,Bi=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Bo=(e,n,r=0)=>e==="x"?{x:n,y:r}:{x:r,y:n},Oa=(e,n)=>Math.sqrt((n.x-e.x)**2+(n.y-e.y)**2),ay=(e,n)=>Math.min(...n.map(r=>Oa(e,r))),yj=e=>n=>({x:e(n.x),y:e(n.y)});var q3=(e,n)=>{const r=cs({top:Math.max(n.top,e.top),right:Math.min(n.right,e.right),bottom:Math.min(n.bottom,e.bottom),left:Math.max(n.left,e.left)});return r.width<=0||r.height<=0?null:r};const el=(e,n)=>({top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}),ly=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],K3={top:0,right:0,bottom:0,left:0},J3=(e,n)=>n?el(e,n.scroll.diff.displacement):e,X3=(e,n,r)=>r&&r.increasedBy?{...e,[n.end]:e[n.end]+r.increasedBy[n.line]}:e,Q3=(e,n)=>n&&n.shouldClipSubject?q3(n.pageMarginBox,e):cs(e);var Ri=({page:e,withPlaceholder:n,axis:r,frame:s})=>{const o=J3(e.marginBox,s),a=X3(o,r,n),c=Q3(a,s);return{page:e,withPlaceholder:n,active:c}},Jp=(e,n)=>{e.frame||Me();const r=e.frame,s=Or(n,r.scroll.initial),o=Bi(s),a={...r,scroll:{initial:r.scroll.initial,current:n,diff:{value:s,displacement:o},max:r.scroll.max}},c=Ri({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:c}};const vj=Fn(e=>e.reduce((n,r)=>(n[r.descriptor.id]=r,n),{})),jj=Fn(e=>e.reduce((n,r)=>(n[r.descriptor.id]=r,n),{})),hd=Fn(e=>Object.values(e)),Z3=Fn(e=>Object.values(e));var Vi=Fn((e,n)=>Z3(n).filter(s=>e===s.descriptor.droppableId).sort((s,o)=>s.descriptor.index-o.descriptor.index));function Xp(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function fd(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var pd=Fn((e,n)=>n.filter(r=>r.descriptor.id!==e.descriptor.id)),e4=({isMovingForward:e,draggable:n,destination:r,insideDestination:s,previousImpact:o})=>{if(!r.isCombineEnabled||!Xp(o))return null;function c(y){const b={type:"COMBINE",combine:{draggableId:y,droppableId:r.descriptor.id}};return{...o,at:b}}const d=o.displaced.all,u=d.length?d[0]:null;if(e)return u?c(u):null;const h=pd(n,s);if(!u){if(!h.length)return null;const y=h[h.length-1];return c(y.descriptor.id)}const x=h.findIndex(y=>y.descriptor.id===u);x===-1&&Me();const p=x-1;if(p<0)return null;const m=h[p];return c(m.descriptor.id)},Ui=(e,n)=>e.descriptor.droppableId===n.descriptor.id;const Sj={point:Bn,value:0},ka={invisible:{},visible:{},all:[]},t4={displaced:ka,displacedBy:Sj,at:null};var Xr=(e,n)=>r=>e<=r&&r<=n,wj=e=>{const n=Xr(e.top,e.bottom),r=Xr(e.left,e.right);return s=>{if(n(s.top)&&n(s.bottom)&&r(s.left)&&r(s.right))return!0;const a=n(s.top)||n(s.bottom),c=r(s.left)||r(s.right);if(a&&c)return!0;const u=s.top<e.top&&s.bottom>e.bottom,h=s.left<e.left&&s.right>e.right;return u&&h?!0:u&&c||h&&a}},n4=e=>{const n=Xr(e.top,e.bottom),r=Xr(e.left,e.right);return s=>n(s.top)&&n(s.bottom)&&r(s.left)&&r(s.right)};const Qp={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Cj={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var r4=e=>n=>{const r=Xr(n.top,n.bottom),s=Xr(n.left,n.right);return o=>e===Qp?r(o.top)&&r(o.bottom):s(o.left)&&s(o.right)};const s4=(e,n)=>{const r=n.frame?n.frame.scroll.diff.displacement:Bn;return el(e,r)},o4=(e,n,r)=>n.subject.active?r(n.subject.active)(e):!1,i4=(e,n,r)=>r(n)(e),Zp=({target:e,destination:n,viewport:r,withDroppableDisplacement:s,isVisibleThroughFrameFn:o})=>{const a=s?s4(e,n):e;return o4(a,n,o)&&i4(a,r,o)},a4=e=>Zp({...e,isVisibleThroughFrameFn:wj}),Pj=e=>Zp({...e,isVisibleThroughFrameFn:n4}),l4=e=>Zp({...e,isVisibleThroughFrameFn:r4(e.destination.axis)}),c4=(e,n,r)=>{if(typeof r=="boolean")return r;if(!n)return!0;const{invisible:s,visible:o}=n;if(s[e])return!1;const a=o[e];return a?a.shouldAnimate:!0};function d4(e,n){const r=e.page.marginBox,s={top:n.point.y,right:0,bottom:0,left:n.point.x};return cs(qp(r,s))}function Ma({afterDragging:e,destination:n,displacedBy:r,viewport:s,forceShouldAnimate:o,last:a}){return e.reduce(function(d,u){const h=d4(u,r),x=u.descriptor.id;if(d.all.push(x),!a4({target:h,destination:n,viewport:s,withDroppableDisplacement:!0}))return d.invisible[u.descriptor.id]=!0,d;const m=c4(x,a,o),y={draggableId:x,shouldAnimate:m};return d.visible[x]=y,d},{all:[],visible:{},invisible:{}})}function u4(e,n){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return n.inHomeList?r:r+1}function cy({insideDestination:e,inHomeList:n,displacedBy:r,destination:s}){const o=u4(e,{inHomeList:n});return{displaced:ka,displacedBy:r,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:o}}}}function Lc({draggable:e,insideDestination:n,destination:r,viewport:s,displacedBy:o,last:a,index:c,forceShouldAnimate:d}){const u=Ui(e,r);if(c==null)return cy({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});const h=n.find(b=>b.descriptor.index===c);if(!h)return cy({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});const x=pd(e,n),p=n.indexOf(h),m=x.slice(p);return{displaced:Ma({afterDragging:m,destination:r,displacedBy:o,last:a,viewport:s.frame,forceShouldAnimate:d}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:c}}}}function co(e,n){return!!n.effected[e]}var h4=({isMovingForward:e,destination:n,draggables:r,combine:s,afterCritical:o})=>{if(!n.isCombineEnabled)return null;const a=s.draggableId,d=r[a].descriptor.index;return co(a,o)?e?d:d-1:e?d+1:d},f4=({isMovingForward:e,isInHomeList:n,insideDestination:r,location:s})=>{if(!r.length)return null;const o=s.index,a=e?o+1:o-1,c=r[0].descriptor.index,d=r[r.length-1].descriptor.index,u=n?d:d+1;return a<c||a>u?null:a},p4=({isMovingForward:e,isInHomeList:n,draggable:r,draggables:s,destination:o,insideDestination:a,previousImpact:c,viewport:d,afterCritical:u})=>{const h=c.at;if(h||Me(),h.type==="REORDER"){const p=f4({isMovingForward:e,isInHomeList:n,location:h.destination,insideDestination:a});return p==null?null:Lc({draggable:r,insideDestination:a,destination:o,viewport:d,last:c.displaced,displacedBy:c.displacedBy,index:p})}const x=h4({isMovingForward:e,destination:o,displaced:c.displaced,draggables:s,combine:h.combine,afterCritical:u});return x==null?null:Lc({draggable:r,insideDestination:a,destination:o,viewport:d,last:c.displaced,displacedBy:c.displacedBy,index:x})},x4=({displaced:e,afterCritical:n,combineWith:r,displacedBy:s})=>{const o=!!(e.visible[r]||e.invisible[r]);return co(r,n)?o?Bn:Bi(s.point):o?s.point:Bn},m4=({afterCritical:e,impact:n,draggables:r})=>{const s=fd(n);s||Me();const o=s.draggableId,a=r[o].page.borderBox.center,c=x4({displaced:n.displaced,afterCritical:e,combineWith:o,displacedBy:n.displacedBy});return Yn(a,c)};const Dj=(e,n)=>n.margin[e.start]+n.borderBox[e.size]/2,g4=(e,n)=>n.margin[e.end]+n.borderBox[e.size]/2,ex=(e,n,r)=>n[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,dy=({axis:e,moveRelativeTo:n,isMoving:r})=>Bo(e.line,n.marginBox[e.end]+Dj(e,r),ex(e,n.marginBox,r)),uy=({axis:e,moveRelativeTo:n,isMoving:r})=>Bo(e.line,n.marginBox[e.start]-g4(e,r),ex(e,n.marginBox,r)),b4=({axis:e,moveInto:n,isMoving:r})=>Bo(e.line,n.contentBox[e.start]+Dj(e,r),ex(e,n.contentBox,r));var y4=({impact:e,draggable:n,draggables:r,droppable:s,afterCritical:o})=>{const a=Vi(s.descriptor.id,r),c=n.page,d=s.axis;if(!a.length)return b4({axis:d,moveInto:s.page,isMoving:c});const{displaced:u,displacedBy:h}=e,x=u.all[0];if(x){const m=r[x];if(co(x,o))return uy({axis:d,moveRelativeTo:m.page,isMoving:c});const y=Oc(m.page,h.point);return uy({axis:d,moveRelativeTo:y,isMoving:c})}const p=a[a.length-1];if(p.descriptor.id===n.descriptor.id)return c.borderBox.center;if(co(p.descriptor.id,o)){const m=Oc(p.page,Bi(o.displacedBy.point));return dy({axis:d,moveRelativeTo:m,isMoving:c})}return dy({axis:d,moveRelativeTo:p.page,isMoving:c})},$h=(e,n)=>{const r=e.frame;return r?Yn(n,r.scroll.diff.displacement):n};const v4=({impact:e,draggable:n,droppable:r,draggables:s,afterCritical:o})=>{const a=n.page.borderBox.center,c=e.at;return!r||!c?a:c.type==="REORDER"?y4({impact:e,draggable:n,draggables:s,droppable:r,afterCritical:o}):m4({impact:e,draggables:s,afterCritical:o})};var xd=e=>{const n=v4(e),r=e.droppable;return r?$h(r,n):n},Ij=(e,n)=>{const r=Or(n,e.scroll.initial),s=Bi(r);return{frame:cs({top:n.y,bottom:n.y+e.frame.height,left:n.x,right:n.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:n,diff:{value:r,displacement:s}}}};function hy(e,n){return e.map(r=>n[r])}function j4(e,n){for(let r=0;r<n.length;r++){const s=n[r].visible[e];if(s)return s}return null}var S4=({impact:e,viewport:n,destination:r,draggables:s,maxScrollChange:o})=>{const a=Ij(n,Yn(n.scroll.current,o)),c=r.frame?Jp(r,Yn(r.frame.scroll.current,o)):r,d=e.displaced,u=Ma({afterDragging:hy(d.all,s),destination:r,displacedBy:e.displacedBy,viewport:a.frame,last:d,forceShouldAnimate:!1}),h=Ma({afterDragging:hy(d.all,s),destination:c,displacedBy:e.displacedBy,viewport:n.frame,last:d,forceShouldAnimate:!1}),x={},p={},m=[d,u,h];return d.all.forEach(b=>{const S=j4(b,m);if(S){p[b]=S;return}x[b]=!0}),{...e,displaced:{all:d.all,invisible:x,visible:p}}},w4=(e,n)=>Yn(e.scroll.diff.displacement,n),tx=({pageBorderBoxCenter:e,draggable:n,viewport:r})=>{const s=w4(r,e),o=Or(s,n.page.borderBox.center);return Yn(n.client.borderBox.center,o)},Ej=({draggable:e,destination:n,newPageBorderBoxCenter:r,viewport:s,withDroppableDisplacement:o,onlyOnMainAxis:a=!1})=>{const c=Or(r,e.page.borderBox.center),u={target:el(e.page.borderBox,c),destination:n,withDroppableDisplacement:o,viewport:s};return a?l4(u):Pj(u)},C4=({isMovingForward:e,draggable:n,destination:r,draggables:s,previousImpact:o,viewport:a,previousPageBorderBoxCenter:c,previousClientSelection:d,afterCritical:u})=>{if(!r.isEnabled)return null;const h=Vi(r.descriptor.id,s),x=Ui(n,r),p=e4({isMovingForward:e,draggable:n,destination:r,insideDestination:h,previousImpact:o})||p4({isMovingForward:e,isInHomeList:x,draggable:n,draggables:s,destination:r,insideDestination:h,previousImpact:o,viewport:a,afterCritical:u});if(!p)return null;const m=xd({impact:p,draggable:n,droppable:r,draggables:s,afterCritical:u});if(Ej({draggable:n,destination:r,newPageBorderBoxCenter:m,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:tx({pageBorderBoxCenter:m,draggable:n,viewport:a}),impact:p,scrollJumpRequest:null};const b=Or(m,c),S=S4({impact:p,viewport:a,destination:r,draggables:s,maxScrollChange:b});return{clientSelection:d,impact:S,scrollJumpRequest:b}};const ir=e=>{const n=e.subject.active;return n||Me(),n};var P4=({isMovingForward:e,pageBorderBoxCenter:n,source:r,droppables:s,viewport:o})=>{const a=r.subject.active;if(!a)return null;const c=r.axis,d=Xr(a[c.start],a[c.end]),u=hd(s).filter(x=>x!==r).filter(x=>x.isEnabled).filter(x=>!!x.subject.active).filter(x=>wj(o.frame)(ir(x))).filter(x=>{const p=ir(x);return e?a[c.crossAxisEnd]<p[c.crossAxisEnd]:p[c.crossAxisStart]<a[c.crossAxisStart]}).filter(x=>{const p=ir(x),m=Xr(p[c.start],p[c.end]);return d(p[c.start])||d(p[c.end])||m(a[c.start])||m(a[c.end])}).sort((x,p)=>{const m=ir(x)[c.crossAxisStart],y=ir(p)[c.crossAxisStart];return e?m-y:y-m}).filter((x,p,m)=>ir(x)[c.crossAxisStart]===ir(m[0])[c.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const h=u.filter(x=>Xr(ir(x)[c.start],ir(x)[c.end])(n[c.line]));return h.length===1?h[0]:h.length>1?h.sort((x,p)=>ir(x)[c.start]-ir(p)[c.start])[0]:u.sort((x,p)=>{const m=ay(n,ly(ir(x))),y=ay(n,ly(ir(p)));return m!==y?m-y:ir(x)[c.start]-ir(p)[c.start]})[0]};const fy=(e,n)=>{const r=e.page.borderBox.center;return co(e.descriptor.id,n)?Or(r,n.displacedBy.point):r},D4=(e,n)=>{const r=e.page.borderBox;return co(e.descriptor.id,n)?el(r,Bi(n.displacedBy.point)):r};var I4=({pageBorderBoxCenter:e,viewport:n,destination:r,insideDestination:s,afterCritical:o})=>s.filter(c=>Pj({target:D4(c,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})).sort((c,d)=>{const u=Oa(e,$h(r,fy(c,o))),h=Oa(e,$h(r,fy(d,o)));return u<h?-1:h<u?1:c.descriptor.index-d.descriptor.index})[0]||null,tl=Fn(function(n,r){const s=r[n.line];return{value:s,point:Bo(n.line,s)}});const E4=(e,n,r)=>{const s=e.axis;if(e.descriptor.mode==="virtual")return Bo(s.line,n[s.line]);const o=e.subject.page.contentBox[s.size],u=Vi(e.descriptor.id,r).reduce((h,x)=>h+x.client.marginBox[s.size],0)+n[s.line]-o;return u<=0?null:Bo(s.line,u)},Tj=(e,n)=>({...e,scroll:{...e.scroll,max:n}}),Aj=(e,n,r)=>{const s=e.frame;Ui(n,e)&&Me(),e.subject.withPlaceholder&&Me();const o=tl(e.axis,n.displaceBy).point,a=E4(e,o,r),c={placeholderSize:o,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!s){const x=Ri({page:e.subject.page,withPlaceholder:c,axis:e.axis,frame:e.frame});return{...e,subject:x}}const d=a?Yn(s.scroll.max,a):s.scroll.max,u=Tj(s,d),h=Ri({page:e.subject.page,withPlaceholder:c,axis:e.axis,frame:u});return{...e,subject:h,frame:u}},T4=e=>{const n=e.subject.withPlaceholder;n||Me();const r=e.frame;if(!r){const c=Ri({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:c}}const s=n.oldFrameMaxScroll;s||Me();const o=Tj(r,s),a=Ri({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return{...e,subject:a,frame:o}};var A4=({previousPageBorderBoxCenter:e,moveRelativeTo:n,insideDestination:r,draggable:s,draggables:o,destination:a,viewport:c,afterCritical:d})=>{if(!n){if(r.length)return null;const p={displaced:ka,displacedBy:Sj,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},m=xd({impact:p,draggable:s,droppable:a,draggables:o,afterCritical:d}),y=Ui(s,a)?a:Aj(a,s,o);return Ej({draggable:s,destination:y,newPageBorderBoxCenter:m,viewport:c.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const u=e[a.axis.line]<=n.page.borderBox.center[a.axis.line],h=(()=>{const p=n.descriptor.index;return n.descriptor.id===s.descriptor.id||u?p:p+1})(),x=tl(a.axis,s.displaceBy);return Lc({draggable:s,insideDestination:r,destination:a,viewport:c,displacedBy:x,last:ka,index:h})},R4=({isMovingForward:e,previousPageBorderBoxCenter:n,draggable:r,isOver:s,draggables:o,droppables:a,viewport:c,afterCritical:d})=>{const u=P4({isMovingForward:e,pageBorderBoxCenter:n,source:s,droppables:a,viewport:c});if(!u)return null;const h=Vi(u.descriptor.id,o),x=I4({pageBorderBoxCenter:n,viewport:c,destination:u,insideDestination:h,afterCritical:d}),p=A4({previousPageBorderBoxCenter:n,destination:u,draggable:r,draggables:o,moveRelativeTo:x,insideDestination:h,viewport:c,afterCritical:d});if(!p)return null;const m=xd({impact:p,draggable:r,droppable:u,draggables:o,afterCritical:d});return{clientSelection:tx({pageBorderBoxCenter:m,draggable:r,viewport:c}),impact:p,scrollJumpRequest:null}},kr=e=>{const n=e.at;return n?n.type==="REORDER"?n.destination.droppableId:n.combine.droppableId:null};const _4=(e,n)=>{const r=kr(e);return r?n[r]:null};var O4=({state:e,type:n})=>{const r=_4(e.impact,e.dimensions.droppables),s=!!r,o=e.dimensions.droppables[e.critical.droppable.id],a=r||o,c=a.axis.direction,d=c==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||c==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(d&&!s)return null;const u=n==="MOVE_DOWN"||n==="MOVE_RIGHT",h=e.dimensions.draggables[e.critical.draggable.id],x=e.current.page.borderBoxCenter,{draggables:p,droppables:m}=e.dimensions;return d?C4({isMovingForward:u,previousPageBorderBoxCenter:x,draggable:h,destination:a,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):R4({isMovingForward:u,previousPageBorderBoxCenter:x,draggable:h,isOver:a,draggables:p,droppables:m,viewport:e.viewport,afterCritical:e.afterCritical})};function Mo(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Rj(e){const n=Xr(e.top,e.bottom),r=Xr(e.left,e.right);return function(o){return n(o.y)&&r(o.x)}}function k4(e,n){return e.left<n.right&&e.right>n.left&&e.top<n.bottom&&e.bottom>n.top}function M4({pageBorderBox:e,draggable:n,candidates:r}){const s=n.page.borderBox.center,o=r.map(a=>{const c=a.axis,d=Bo(a.axis.line,e.center[c.line],a.page.borderBox.center[c.crossAxisLine]);return{id:a.descriptor.id,distance:Oa(s,d)}}).sort((a,c)=>c.distance-a.distance);return o[0]?o[0].id:null}function N4({pageBorderBox:e,draggable:n,droppables:r}){const s=hd(r).filter(o=>{if(!o.isEnabled)return!1;const a=o.subject.active;if(!a||!k4(e,a))return!1;if(Rj(a)(e.center))return!0;const c=o.axis,d=a.center[c.crossAxisLine],u=e[c.crossAxisStart],h=e[c.crossAxisEnd],x=Xr(a[c.crossAxisStart],a[c.crossAxisEnd]),p=x(u),m=x(h);return!p&&!m?!0:p?u<d:h>d});return s.length?s.length===1?s[0].descriptor.id:M4({pageBorderBox:e,draggable:n,candidates:s}):null}const _j=(e,n)=>cs(el(e,n));var L4=(e,n)=>{const r=e.frame;return r?_j(n,r.scroll.diff.value):n};function Oj({displaced:e,id:n}){return!!(e.visible[n]||e.invisible[n])}function $4({draggable:e,closest:n,inHomeList:r}){return n?r&&n.descriptor.index>e.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var F4=({pageBorderBoxWithDroppableScroll:e,draggable:n,destination:r,insideDestination:s,last:o,viewport:a,afterCritical:c})=>{const d=r.axis,u=tl(r.axis,n.displaceBy),h=u.value,x=e[d.start],p=e[d.end],y=pd(n,s).find(S=>{const j=S.descriptor.id,D=S.page.borderBox.center[d.line],w=co(j,c),I=Oj({displaced:o,id:j});return w?I?p<=D:x<D-h:I?p<=D+h:x<D})||null,b=$4({draggable:n,closest:y,inHomeList:Ui(n,r)});return Lc({draggable:n,insideDestination:s,destination:r,viewport:a,last:o,displacedBy:u,index:b})};const W4=4;var B4=({draggable:e,pageBorderBoxWithDroppableScroll:n,previousImpact:r,destination:s,insideDestination:o,afterCritical:a})=>{if(!s.isCombineEnabled)return null;const c=s.axis,d=tl(s.axis,e.displaceBy),u=d.value,h=n[c.start],x=n[c.end],m=pd(e,o).find(b=>{const S=b.descriptor.id,j=b.page.borderBox,w=j[c.size]/W4,I=co(S,a),T=Oj({displaced:r.displaced,id:S});return I?T?x>j[c.start]+w&&x<j[c.end]-w:h>j[c.start]-u+w&&h<j[c.end]-u-w:T?x>j[c.start]+u+w&&x<j[c.end]+u-w:h>j[c.start]+w&&h<j[c.end]-w});return m?{displacedBy:d,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:s.descriptor.id}}}:null},kj=({pageOffset:e,draggable:n,draggables:r,droppables:s,previousImpact:o,viewport:a,afterCritical:c})=>{const d=_j(n.page.borderBox,e),u=N4({pageBorderBox:d,draggable:n,droppables:s});if(!u)return t4;const h=s[u],x=Vi(h.descriptor.id,r),p=L4(h,d);return B4({pageBorderBoxWithDroppableScroll:p,draggable:n,previousImpact:o,destination:h,insideDestination:x,afterCritical:c})||F4({pageBorderBoxWithDroppableScroll:p,draggable:n,destination:h,insideDestination:x,last:o.displaced,viewport:a,afterCritical:c})},nx=(e,n)=>({...e,[n.descriptor.id]:n});const V4=({previousImpact:e,impact:n,droppables:r})=>{const s=kr(e),o=kr(n);if(!s||s===o)return r;const a=r[s];if(!a.subject.withPlaceholder)return r;const c=T4(a);return nx(r,c)};var U4=({draggable:e,draggables:n,droppables:r,previousImpact:s,impact:o})=>{const a=V4({previousImpact:s,impact:o,droppables:r}),c=kr(o);if(!c)return a;const d=r[c];if(Ui(e,d)||d.subject.withPlaceholder)return a;const u=Aj(d,e,n);return nx(a,u)},Ca=({state:e,clientSelection:n,dimensions:r,viewport:s,impact:o,scrollJumpRequest:a})=>{const c=s||e.viewport,d=r||e.dimensions,u=n||e.current.client.selection,h=Or(u,e.initial.client.selection),x={offset:h,selection:u,borderBoxCenter:Yn(e.initial.client.borderBoxCenter,h)},p={selection:Yn(x.selection,c.scroll.current),borderBoxCenter:Yn(x.borderBoxCenter,c.scroll.current),offset:Yn(x.offset,c.scroll.diff.value)},m={client:x,page:p};if(e.phase==="COLLECTING")return{...e,dimensions:d,viewport:c,current:m};const y=d.draggables[e.critical.draggable.id],b=o||kj({pageOffset:p.offset,draggable:y,draggables:d.draggables,droppables:d.droppables,previousImpact:e.impact,viewport:c,afterCritical:e.afterCritical}),S=U4({draggable:y,impact:b,previousImpact:e.impact,draggables:d.draggables,droppables:d.droppables});return{...e,current:m,dimensions:{draggables:d.draggables,droppables:S},impact:b,viewport:c,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function z4(e,n){return e.map(r=>n[r])}var Mj=({impact:e,viewport:n,draggables:r,destination:s,forceShouldAnimate:o})=>{const a=e.displaced,c=z4(a.all,r),d=Ma({afterDragging:c,destination:s,displacedBy:e.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:a});return{...e,displaced:d}},Nj=({impact:e,draggable:n,droppable:r,draggables:s,viewport:o,afterCritical:a})=>{const c=xd({impact:e,draggable:n,draggables:s,droppable:r,afterCritical:a});return tx({pageBorderBoxCenter:c,draggable:n,viewport:o})},Lj=({state:e,dimensions:n,viewport:r})=>{e.movementMode!=="SNAP"&&Me();const s=e.impact,o=r||e.viewport,a=n||e.dimensions,{draggables:c,droppables:d}=a,u=c[e.critical.draggable.id],h=kr(s);h||Me();const x=d[h],p=Mj({impact:s,viewport:o,destination:x,draggables:c}),m=Nj({impact:p,draggable:u,droppable:x,draggables:c,viewport:o,afterCritical:e.afterCritical});return Ca({impact:p,clientSelection:m,state:e,dimensions:a,viewport:o})},H4=e=>({index:e.index,droppableId:e.droppableId}),$j=({draggable:e,home:n,draggables:r,viewport:s})=>{const o=tl(n.axis,e.displaceBy),a=Vi(n.descriptor.id,r),c=a.indexOf(e);c===-1&&Me();const d=a.slice(c+1),u=d.reduce((m,y)=>(m[y.descriptor.id]=!0,m),{}),h={inVirtualList:n.descriptor.mode==="virtual",displacedBy:o,effected:u};return{impact:{displaced:Ma({afterDragging:d,destination:n,displacedBy:o,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:H4(e.descriptor)}},afterCritical:h}},Y4=(e,n)=>({draggables:e.draggables,droppables:nx(e.droppables,n)}),G4=({draggable:e,offset:n,initialWindowScroll:r})=>{const s=Oc(e.client,n),o=kc(s,r);return{...e,placeholder:{...e.placeholder,client:s},client:s,page:o}},q4=e=>{const n=e.frame;return n||Me(),n},K4=({additions:e,updatedDroppables:n,viewport:r})=>{const s=r.scroll.diff.value;return e.map(o=>{const a=o.descriptor.droppableId,c=n[a],u=q4(c).scroll.diff.value,h=Yn(s,u);return G4({draggable:o,offset:h,initialWindowScroll:r.scroll.initial})})},J4=({state:e,published:n})=>{const r=n.modified.map(D=>{const w=e.dimensions.droppables[D.droppableId];return Jp(w,D.scroll)}),s={...e.dimensions.droppables,...vj(r)},o=jj(K4({additions:n.additions,updatedDroppables:s,viewport:e.viewport})),a={...e.dimensions.draggables,...o};n.removals.forEach(D=>{delete a[D]});const c={droppables:s,draggables:a},d=kr(e.impact),u=d?c.droppables[d]:null,h=c.draggables[e.critical.draggable.id],x=c.droppables[e.critical.droppable.id],{impact:p,afterCritical:m}=$j({draggable:h,home:x,draggables:a,viewport:e.viewport}),y=u&&u.isCombineEnabled?e.impact:p,b=kj({pageOffset:e.current.page.offset,draggable:c.draggables[e.critical.draggable.id],draggables:c.draggables,droppables:c.droppables,previousImpact:y,viewport:e.viewport,afterCritical:m}),S={...e,phase:"DRAGGING",impact:b,onLiftImpact:p,dimensions:c,afterCritical:m,forceShouldAnimate:!1};return e.phase==="COLLECTING"?S:{...S,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const Fh=e=>e.movementMode==="SNAP",ah=(e,n,r)=>{const s=Y4(e.dimensions,n);return!Fh(e)||r?Ca({state:e,dimensions:s}):Lj({state:e,dimensions:s})};function lh(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const py={phase:"IDLE",completed:null,shouldFlush:!1};var X4=(e=py,n)=>{if(n.type==="FLUSH")return{...py,shouldFlush:!0};if(n.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Me();const{critical:r,clientSelection:s,viewport:o,dimensions:a,movementMode:c}=n.payload,d=a.draggables[r.draggable.id],u=a.droppables[r.droppable.id],h={selection:s,borderBoxCenter:d.client.borderBox.center,offset:Bn},x={client:h,page:{selection:Yn(h.selection,o.scroll.initial),borderBoxCenter:Yn(h.selection,o.scroll.initial),offset:Yn(h.selection,o.scroll.diff.value)}},p=hd(a.droppables).every(S=>!S.isFixedOnPage),{impact:m,afterCritical:y}=$j({draggable:d,home:u,draggables:a.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:c,dimensions:a,initial:x,current:x,isWindowScrollAllowed:p,impact:m,afterCritical:y,onLiftImpact:m,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if(n.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Me(),{...e,phase:"COLLECTING"});if(n.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Me(),J4({state:e,published:n.payload});if(n.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Mo(e)||Me();const{client:r}=n.payload;return ao(r,e.current.client.selection)?e:Ca({state:e,clientSelection:r,impact:Fh(e)?e.impact:null})}if(n.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return lh(e);Mo(e)||Me();const{id:r,newScroll:s}=n.payload,o=e.dimensions.droppables[r];if(!o)return e;const a=Jp(o,s);return ah(e,a,!1)}if(n.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Mo(e)||Me();const{id:r,isEnabled:s}=n.payload,o=e.dimensions.droppables[r];o||Me(),o.isEnabled===s&&Me();const a={...o,isEnabled:s};return ah(e,a,!0)}if(n.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Mo(e)||Me();const{id:r,isCombineEnabled:s}=n.payload,o=e.dimensions.droppables[r];o||Me(),o.isCombineEnabled===s&&Me();const a={...o,isCombineEnabled:s};return ah(e,a,!0)}if(n.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Mo(e)||Me(),e.isWindowScrollAllowed||Me();const r=n.payload.newScroll;if(ao(e.viewport.scroll.current,r))return lh(e);const s=Ij(e.viewport,r);return Fh(e)?Lj({state:e,viewport:s}):Ca({state:e,viewport:s})}if(n.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Mo(e))return e;const r=n.payload.maxScroll;if(ao(r,e.viewport.scroll.max))return e;const s={...e.viewport,scroll:{...e.viewport.scroll,max:r}};return{...e,viewport:s}}if(n.type==="MOVE_UP"||n.type==="MOVE_DOWN"||n.type==="MOVE_LEFT"||n.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Me();const r=O4({state:e,type:n.type});return r?Ca({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if(n.type==="DROP_PENDING"){const r=n.payload.reason;return e.phase!=="COLLECTING"&&Me(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(n.type==="DROP_ANIMATE"){const{completed:r,dropDuration:s,newHomeClientOffset:o}=n.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Me(),{phase:"DROP_ANIMATING",completed:r,dropDuration:s,newHomeClientOffset:o,dimensions:e.dimensions}}if(n.type==="DROP_COMPLETE"){const{completed:r}=n.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return e};function Bt(e,n){return e instanceof Object&&"type"in e&&e.type===n}const Q4=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),Z4=e=>({type:"LIFT",payload:e}),eW=e=>({type:"INITIAL_PUBLISH",payload:e}),tW=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),nW=()=>({type:"COLLECTION_STARTING",payload:null}),rW=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),sW=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),oW=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),Fj=e=>({type:"MOVE",payload:e}),iW=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),aW=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),lW=()=>({type:"MOVE_UP",payload:null}),cW=()=>({type:"MOVE_DOWN",payload:null}),dW=()=>({type:"MOVE_RIGHT",payload:null}),uW=()=>({type:"MOVE_LEFT",payload:null}),rx=()=>({type:"FLUSH",payload:null}),hW=e=>({type:"DROP_ANIMATE",payload:e}),sx=e=>({type:"DROP_COMPLETE",payload:e}),Wj=e=>({type:"DROP",payload:e}),fW=e=>({type:"DROP_PENDING",payload:e}),Bj=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var pW=e=>({getState:n,dispatch:r})=>s=>o=>{if(!Bt(o,"LIFT")){s(o);return}const{id:a,clientSelection:c,movementMode:d}=o.payload,u=n();u.phase==="DROP_ANIMATING"&&r(sx({completed:u.completed})),n().phase!=="IDLE"&&Me(),r(rx()),r(Q4({draggableId:a,movementMode:d}));const x={draggableId:a,scrollOptions:{shouldPublishImmediately:d==="SNAP"}},{critical:p,dimensions:m,viewport:y}=e.startPublishing(x);r(eW({critical:p,dimensions:m,clientSelection:c,movementMode:d,viewport:y}))},xW=e=>()=>n=>r=>{Bt(r,"INITIAL_PUBLISH")&&e.dragging(),Bt(r,"DROP_ANIMATE")&&e.dropping(r.payload.completed.result.reason),(Bt(r,"FLUSH")||Bt(r,"DROP_COMPLETE"))&&e.resting(),n(r)};const ox={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Na={opacity:{drop:0,combining:.7},scale:{drop:.75}},Vj={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Ro=`${Vj.outOfTheWay}s ${ox.outOfTheWay}`,Pa={fluid:`opacity ${Ro}`,snap:`transform ${Ro}, opacity ${Ro}`,drop:e=>{const n=`${e}s ${ox.drop}`;return`transform ${n}, opacity ${n}`},outOfTheWay:`transform ${Ro}`,placeholder:`height ${Ro}, width ${Ro}, margin ${Ro}`},xy=e=>ao(e,Bn)?void 0:`translate(${e.x}px, ${e.y}px)`,Wh={moveTo:xy,drop:(e,n)=>{const r=xy(e);if(r)return n?`${r} scale(${Na.scale.drop})`:r}},{minDropTime:Bh,maxDropTime:Uj}=Vj,mW=Uj-Bh,my=1500,gW=.6;var bW=({current:e,destination:n,reason:r})=>{const s=Oa(e,n);if(s<=0)return Bh;if(s>=my)return Uj;const o=s/my,a=Bh+mW*o,c=r==="CANCEL"?a*gW:a;return Number(c.toFixed(2))},yW=({impact:e,draggable:n,dimensions:r,viewport:s,afterCritical:o})=>{const{draggables:a,droppables:c}=r,d=kr(e),u=d?c[d]:null,h=c[n.descriptor.droppableId],x=Nj({impact:e,draggable:n,draggables:a,afterCritical:o,droppable:u||h,viewport:s});return Or(x,n.client.borderBox.center)},vW=({draggables:e,reason:n,lastImpact:r,home:s,viewport:o,onLiftImpact:a})=>!r.at||n!=="DROP"?{impact:Mj({draggables:e,impact:a,destination:s,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:ka},didDropInsideDroppable:!0};const jW=({getState:e,dispatch:n})=>r=>s=>{if(!Bt(s,"DROP")){r(s);return}const o=e(),a=s.payload.reason;if(o.phase==="COLLECTING"){n(fW({reason:a}));return}if(o.phase==="IDLE")return;o.phase==="DROP_PENDING"&&o.isWaiting&&Me(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||Me();const d=o.critical,u=o.dimensions,h=u.draggables[o.critical.draggable.id],{impact:x,didDropInsideDroppable:p}=vW({reason:a,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),m=p?Xp(x):null,y=p?fd(x):null,b={index:d.draggable.index,droppableId:d.droppable.id},S={draggableId:h.descriptor.id,type:h.descriptor.type,source:b,reason:a,mode:o.movementMode,destination:m,combine:y},j=yW({impact:x,draggable:h,dimensions:u,viewport:o.viewport,afterCritical:o.afterCritical}),D={critical:o.critical,afterCritical:o.afterCritical,result:S,impact:x};if(!(!ao(o.current.client.offset,j)||!!S.combine)){n(sx({completed:D}));return}const I=bW({current:o.current.client.offset,destination:j,reason:a});n(hW({newHomeClientOffset:j,dropDuration:I,completed:D}))};var zj=()=>({x:window.pageXOffset,y:window.pageYOffset});function SW(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:n=>{n.target!==window&&n.target!==window.document||e()}}}function wW({onWindowScroll:e}){function n(){e(zj())}const r=_a(n),s=SW(r);let o=io;function a(){return o!==io}function c(){a()&&Me(),o=Kr(window,[s])}function d(){a()||Me(),r.cancel(),o(),o=io}return{start:c,stop:d,isActive:a}}const CW=e=>Bt(e,"DROP_COMPLETE")||Bt(e,"DROP_ANIMATE")||Bt(e,"FLUSH"),PW=e=>{const n=wW({onWindowScroll:r=>{e.dispatch(iW({newScroll:r}))}});return r=>s=>{!n.isActive()&&Bt(s,"INITIAL_PUBLISH")&&n.start(),n.isActive()&&CW(s)&&n.stop(),r(s)}};var DW=e=>{let n=!1,r=!1;const s=setTimeout(()=>{r=!0}),o=a=>{n||r||(n=!0,e(a),clearTimeout(s))};return o.wasCalled=()=>n,o},IW=()=>{const e=[],n=o=>{const a=e.findIndex(d=>d.timerId===o);a===-1&&Me();const[c]=e.splice(a,1);c.callback()};return{add:o=>{const a=setTimeout(()=>n(a)),c={timerId:a,callback:o};e.push(c)},flush:()=>{if(!e.length)return;const o=[...e];e.length=0,o.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const EW=(e,n)=>e==null&&n==null?!0:e==null||n==null?!1:e.droppableId===n.droppableId&&e.index===n.index,TW=(e,n)=>e==null&&n==null?!0:e==null||n==null?!1:e.draggableId===n.draggableId&&e.droppableId===n.droppableId,AW=(e,n)=>{if(e===n)return!0;const r=e.draggable.id===n.draggable.id&&e.draggable.droppableId===n.draggable.droppableId&&e.draggable.type===n.draggable.type&&e.draggable.index===n.draggable.index,s=e.droppable.id===n.droppable.id&&e.droppable.type===n.droppable.type;return r&&s},ha=(e,n)=>{n()},Xl=(e,n)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:n});function ch(e,n,r,s){if(!e){r(s(n));return}const o=DW(r);e(n,{announce:o}),o.wasCalled()||r(s(n))}var RW=(e,n)=>{const r=IW();let s=null;const o=(p,m)=>{s&&Me(),ha("onBeforeCapture",()=>{const y=e().onBeforeCapture;y&&y({draggableId:p,mode:m})})},a=(p,m)=>{s&&Me(),ha("onBeforeDragStart",()=>{const y=e().onBeforeDragStart;y&&y(Xl(p,m))})},c=(p,m)=>{s&&Me();const y=Xl(p,m);s={mode:m,lastCritical:p,lastLocation:y.source,lastCombine:null},r.add(()=>{ha("onDragStart",()=>ch(e().onDragStart,y,n,oc.onDragStart))})},d=(p,m)=>{const y=Xp(m),b=fd(m);s||Me();const S=!AW(p,s.lastCritical);S&&(s.lastCritical=p);const j=!EW(s.lastLocation,y);j&&(s.lastLocation=y);const D=!TW(s.lastCombine,b);if(D&&(s.lastCombine=b),!S&&!j&&!D)return;const w={...Xl(p,s.mode),combine:b,destination:y};r.add(()=>{ha("onDragUpdate",()=>ch(e().onDragUpdate,w,n,oc.onDragUpdate))})},u=()=>{s||Me(),r.flush()},h=p=>{s||Me(),s=null,ha("onDragEnd",()=>ch(e().onDragEnd,p,n,oc.onDragEnd))};return{beforeCapture:o,beforeStart:a,start:c,update:d,flush:u,drop:h,abort:()=>{if(!s)return;const p={...Xl(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};h(p)}}},_W=(e,n)=>{const r=RW(e,n);return s=>o=>a=>{if(Bt(a,"BEFORE_INITIAL_CAPTURE")){r.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Bt(a,"INITIAL_PUBLISH")){const d=a.payload.critical;r.beforeStart(d,a.payload.movementMode),o(a),r.start(d,a.payload.movementMode);return}if(Bt(a,"DROP_COMPLETE")){const d=a.payload.completed.result;r.flush(),o(a),r.drop(d);return}if(o(a),Bt(a,"FLUSH")){r.abort();return}const c=s.getState();c.phase==="DRAGGING"&&r.update(c.critical,c.impact)}};const OW=e=>n=>r=>{if(!Bt(r,"DROP_ANIMATION_FINISHED")){n(r);return}const s=e.getState();s.phase!=="DROP_ANIMATING"&&Me(),e.dispatch(sx({completed:s.completed}))},kW=e=>{let n=null,r=null;function s(){r&&(cancelAnimationFrame(r),r=null),n&&(n(),n=null)}return o=>a=>{if((Bt(a,"FLUSH")||Bt(a,"DROP_COMPLETE")||Bt(a,"DROP_ANIMATION_FINISHED"))&&s(),o(a),!Bt(a,"DROP_ANIMATE"))return;const c={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(Bj())}};r=requestAnimationFrame(()=>{r=null,n=Kr(window,[c])})}};var MW=e=>()=>n=>r=>{(Bt(r,"DROP_COMPLETE")||Bt(r,"FLUSH")||Bt(r,"DROP_ANIMATE"))&&e.stopPublishing(),n(r)},NW=e=>{let n=!1;return()=>r=>s=>{if(Bt(s,"INITIAL_PUBLISH")){n=!0,e.tryRecordFocus(s.payload.critical.draggable.id),r(s),e.tryRestoreFocusRecorded();return}if(r(s),!!n){if(Bt(s,"FLUSH")){n=!1,e.tryRestoreFocusRecorded();return}if(Bt(s,"DROP_COMPLETE")){n=!1;const o=s.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const LW=e=>Bt(e,"DROP_COMPLETE")||Bt(e,"DROP_ANIMATE")||Bt(e,"FLUSH");var $W=e=>n=>r=>s=>{if(LW(s)){e.stop(),r(s);return}if(Bt(s,"INITIAL_PUBLISH")){r(s);const o=n.getState();o.phase!=="DRAGGING"&&Me(),e.start(o);return}r(s),e.scroll(n.getState())};const FW=e=>n=>r=>{if(n(r),!Bt(r,"PUBLISH_WHILE_DRAGGING"))return;const s=e.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||e.dispatch(Wj({reason:s.reason})))},WW=ij;var BW=({dimensionMarshal:e,focusMarshal:n,styleMarshal:r,getResponders:s,announce:o,autoScroller:a})=>oj(X4,WW(OF(xW(r),MW(e),pW(e),jW,OW,kW,FW,$W(a),PW,NW(n),_W(s,o))));const dh=()=>({additions:{},removals:{},modified:{}});function VW({registry:e,callbacks:n}){let r=dh(),s=null;const o=()=>{s||(n.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:u,removals:h,modified:x}=r,p=Object.keys(u).map(b=>e.draggable.getById(b).getDimension(Bn)).sort((b,S)=>b.descriptor.index-S.descriptor.index),m=Object.keys(x).map(b=>{const j=e.droppable.getById(b).callbacks.getScrollWhileDragging();return{droppableId:b,scroll:j}}),y={additions:p,removals:Object.keys(h),modified:m};r=dh(),n.publish(y)}))};return{add:u=>{const h=u.descriptor.id;r.additions[h]=u,r.modified[u.descriptor.droppableId]=!0,r.removals[h]&&delete r.removals[h],o()},remove:u=>{const h=u.descriptor;r.removals[h.id]=!0,r.modified[h.droppableId]=!0,r.additions[h.id]&&delete r.additions[h.id],o()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,r=dh())}}}var Hj=({scrollHeight:e,scrollWidth:n,height:r,width:s})=>{const o=Or({x:n,y:e},{x:s,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},Yj=()=>{const e=document.documentElement;return e||Me(),e},Gj=()=>{const e=Yj();return Hj({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},UW=()=>{const e=zj(),n=Gj(),r=e.y,s=e.x,o=Yj(),a=o.clientWidth,c=o.clientHeight,d=s+a,u=r+c;return{frame:cs({top:r,left:s,right:d,bottom:u}),scroll:{initial:e,current:e,max:n,diff:{value:Bn,displacement:Bn}}}},zW=({critical:e,scrollOptions:n,registry:r})=>{const s=UW(),o=s.scroll.current,a=e.droppable,c=r.droppable.getAllByType(a.type).map(x=>x.callbacks.getDimensionAndWatchScroll(o,n)),d=r.draggable.getAllByType(e.draggable.type).map(x=>x.getDimension(o));return{dimensions:{draggables:jj(d),droppables:vj(c)},critical:e,viewport:s}};function gy(e,n,r){return!(r.descriptor.id===n.id||r.descriptor.type!==n.type||e.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var HW=(e,n)=>{let r=null;const s=VW({callbacks:{publish:n.publishWhileDragging,collectionStarting:n.collectionStarting},registry:e}),o=(m,y)=>{e.droppable.exists(m)||Me(),r&&n.updateDroppableIsEnabled({id:m,isEnabled:y})},a=(m,y)=>{r&&(e.droppable.exists(m)||Me(),n.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:y}))},c=(m,y)=>{r&&(e.droppable.exists(m)||Me(),n.updateDroppableScroll({id:m,newScroll:y}))},d=(m,y)=>{r&&e.droppable.getById(m).callbacks.scroll(y)},u=()=>{if(!r)return;s.stop();const m=r.critical.droppable;e.droppable.getAllByType(m.type).forEach(y=>y.callbacks.dragStopped()),r.unsubscribe(),r=null},h=m=>{r||Me();const y=r.critical.draggable;m.type==="ADDITION"&&gy(e,y,m.value)&&s.add(m.value),m.type==="REMOVAL"&&gy(e,y,m.value)&&s.remove(m.value)};return{updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:a,scrollDroppable:d,updateDroppableScroll:c,startPublishing:m=>{r&&Me();const y=e.draggable.getById(m.draggableId),b=e.droppable.getById(y.descriptor.droppableId),S={draggable:y.descriptor,droppable:b.descriptor},j=e.subscribe(h);return r={critical:S,unsubscribe:j},zW({critical:S,registry:e,scrollOptions:m.scrollOptions})},stopPublishing:u}},qj=(e,n)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===n?!1:e.completed.result.reason==="DROP",YW=e=>{window.scrollBy(e.x,e.y)};const GW=Fn(e=>hd(e).filter(n=>!(!n.isEnabled||!n.frame))),qW=(e,n)=>GW(n).find(s=>(s.frame||Me(),Rj(s.frame.pageMarginBox)(e)))||null;var KW=({center:e,destination:n,droppables:r})=>{if(n){const o=r[n];return o.frame?o:null}return qW(e,r)};const La={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var JW=(e,n,r=()=>La)=>{const s=r(),o=e[n.size]*s.startFromPercentage,a=e[n.size]*s.maxScrollAtPercentage;return{startScrollingFrom:o,maxScrollValueAt:a}},Kj=({startOfRange:e,endOfRange:n,current:r})=>{const s=n-e;return s===0?0:(r-e)/s},ix=1,XW=(e,n,r=()=>La)=>{const s=r();if(e>n.startScrollingFrom)return 0;if(e<=n.maxScrollValueAt)return s.maxPixelScroll;if(e===n.startScrollingFrom)return ix;const a=1-Kj({startOfRange:n.maxScrollValueAt,endOfRange:n.startScrollingFrom,current:e}),c=s.maxPixelScroll*s.ease(a);return Math.ceil(c)},QW=(e,n,r)=>{const s=r(),o=s.durationDampening.accelerateAt,a=s.durationDampening.stopDampeningAt,c=n,d=a,h=Date.now()-c;if(h>=a)return e;if(h<o)return ix;const x=Kj({startOfRange:o,endOfRange:d,current:h}),p=e*s.ease(x);return Math.ceil(p)},by=({distanceToEdge:e,thresholds:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const a=XW(e,n,o);return a===0?0:s?Math.max(QW(a,r,o),ix):a},yy=({container:e,distanceToEdges:n,dragStartTime:r,axis:s,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const c=JW(e,s,a);return n[s.end]<n[s.start]?by({distanceToEdge:n[s.end],thresholds:c,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a}):-1*by({distanceToEdge:n[s.start],thresholds:c,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a})},ZW=({container:e,subject:n,proposedScroll:r})=>{const s=n.height>e.height,o=n.width>e.width;return!o&&!s?r:o&&s?null:{x:o?0:r.x,y:s?0:r.y}};const eB=yj(e=>e===0?0:e);var Jj=({dragStartTime:e,container:n,subject:r,center:s,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const c={top:s.y-n.top,right:n.right-s.x,bottom:n.bottom-s.y,left:s.x-n.left},d=yy({container:n,distanceToEdges:c,dragStartTime:e,axis:Qp,shouldUseTimeDampening:o,getAutoScrollerOptions:a}),u=yy({container:n,distanceToEdges:c,dragStartTime:e,axis:Cj,shouldUseTimeDampening:o,getAutoScrollerOptions:a}),h=eB({x:u,y:d});if(ao(h,Bn))return null;const x=ZW({container:n,subject:r,proposedScroll:h});return x?ao(x,Bn)?null:x:null};const tB=yj(e=>e===0?0:e>0?1:-1),ax=(()=>{const e=(n,r)=>n<0?n:n>r?n-r:0;return({current:n,max:r,change:s})=>{const o=Yn(n,s),a={x:e(o.x,r.x),y:e(o.y,r.y)};return ao(a,Bn)?null:a}})(),Xj=({max:e,current:n,change:r})=>{const s={x:Math.max(n.x,e.x),y:Math.max(n.y,e.y)},o=tB(r),a=ax({max:s,current:n,change:o});return!a||o.x!==0&&a.x===0||o.y!==0&&a.y===0},lx=(e,n)=>Xj({current:e.scroll.current,max:e.scroll.max,change:n}),nB=(e,n)=>{if(!lx(e,n))return null;const r=e.scroll.max,s=e.scroll.current;return ax({current:s,max:r,change:n})},cx=(e,n)=>{const r=e.frame;return r?Xj({current:r.scroll.current,max:r.scroll.max,change:n}):!1},rB=(e,n)=>{const r=e.frame;return!r||!cx(e,n)?null:ax({current:r.scroll.current,max:r.scroll.max,change:n})};var sB=({viewport:e,subject:n,center:r,dragStartTime:s,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const c=Jj({dragStartTime:s,container:e.frame,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a});return c&&lx(e,c)?c:null},oB=({droppable:e,subject:n,center:r,dragStartTime:s,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const c=e.frame;if(!c)return null;const d=Jj({dragStartTime:s,container:c.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a});return d&&cx(e,d)?d:null},vy=({state:e,dragStartTime:n,shouldUseTimeDampening:r,scrollWindow:s,scrollDroppable:o,getAutoScrollerOptions:a})=>{const c=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const p=e.viewport,m=sB({dragStartTime:n,viewport:p,subject:u,center:c,shouldUseTimeDampening:r,getAutoScrollerOptions:a});if(m){s(m);return}}const h=KW({center:c,destination:kr(e.impact),droppables:e.dimensions.droppables});if(!h)return;const x=oB({dragStartTime:n,droppable:h,subject:u,center:c,shouldUseTimeDampening:r,getAutoScrollerOptions:a});x&&o(h.descriptor.id,x)},iB=({scrollWindow:e,scrollDroppable:n,getAutoScrollerOptions:r=()=>La})=>{const s=_a(e),o=_a(n);let a=null;const c=h=>{a||Me();const{shouldUseTimeDampening:x,dragStartTime:p}=a;vy({state:h,scrollWindow:s,scrollDroppable:o,dragStartTime:p,shouldUseTimeDampening:x,getAutoScrollerOptions:r})};return{start:h=>{a&&Me();const x=Date.now();let p=!1;const m=()=>{p=!0};vy({state:h,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m,getAutoScrollerOptions:r}),a={dragStartTime:x,shouldUseTimeDampening:p},p&&c(h)},stop:()=>{a&&(s.cancel(),o.cancel(),a=null)},scroll:c}},aB=({move:e,scrollDroppable:n,scrollWindow:r})=>{const s=(d,u)=>{const h=Yn(d.current.client.selection,u);e({client:h})},o=(d,u)=>{if(!cx(d,u))return u;const h=rB(d,u);if(!h)return n(d.descriptor.id,u),null;const x=Or(u,h);return n(d.descriptor.id,x),Or(u,x)},a=(d,u,h)=>{if(!d||!lx(u,h))return h;const x=nB(u,h);if(!x)return r(h),null;const p=Or(h,x);return r(p),Or(h,p)};return d=>{const u=d.scrollJumpRequest;if(!u)return;const h=kr(d.impact);h||Me();const x=o(d.dimensions.droppables[h],u);if(!x)return;const p=d.viewport,m=a(d.isWindowScrollAllowed,p,x);m&&s(d,m)}},lB=({scrollDroppable:e,scrollWindow:n,move:r,getAutoScrollerOptions:s})=>{const o=iB({scrollWindow:n,scrollDroppable:e,getAutoScrollerOptions:s}),a=aB({move:r,scrollWindow:n,scrollDroppable:e});return{scroll:u=>{if(!(s().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){o.scroll(u);return}u.scrollJumpRequest&&a(u)}},start:o.start,stop:o.stop}};const _i="data-rfd",Oi=(()=>{const e=`${_i}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Vh=(()=>{const e=`${_i}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),cB=(()=>{const e=`${_i}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),jy={contextId:`${_i}-scroll-container-context-id`},dB=e=>n=>`[${n}="${e}"]`,fa=(e,n)=>e.map(r=>{const s=r.styles[n];return s?`${r.selector} { ${s} }`:""}).join(" "),uB="pointer-events: none;";var hB=e=>{const n=dB(e),r=(()=>{const d=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:n(Oi.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:d,dragging:uB,dropAnimating:d}}})(),s=(()=>{const d=`
      transition: ${Pa.outOfTheWay};
    `;return{selector:n(Vh.contextId),styles:{dragging:d,dropAnimating:d,userCancel:d}}})(),o={selector:n(cB.contextId),styles:{always:"overflow-anchor: none;"}},c=[s,r,o,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:fa(c,"always"),resting:fa(c,"resting"),dragging:fa(c,"dragging"),dropAnimating:fa(c,"dropAnimating"),userCancel:fa(c,"userCancel")}};const Mr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?g.useLayoutEffect:g.useEffect,uh=()=>{const e=document.querySelector("head");return e||Me(),e},Sy=e=>{const n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.type="text/css",n};function fB(e,n){const r=kt(()=>hB(e),[e]),s=g.useRef(null),o=g.useRef(null),a=tt(Fn(p=>{const m=o.current;m||Me(),m.textContent=p}),[]),c=tt(p=>{const m=s.current;m||Me(),m.textContent=p},[]);Mr(()=>{!s.current&&!o.current||Me();const p=Sy(n),m=Sy(n);return s.current=p,o.current=m,p.setAttribute(`${_i}-always`,e),m.setAttribute(`${_i}-dynamic`,e),uh().appendChild(p),uh().appendChild(m),c(r.always),a(r.resting),()=>{const y=b=>{const S=b.current;S||Me(),uh().removeChild(S),b.current=null};y(s),y(o)}},[n,c,a,r.always,r.resting,e]);const d=tt(()=>a(r.dragging),[a,r.dragging]),u=tt(p=>{if(p==="DROP"){a(r.dropAnimating);return}a(r.userCancel)},[a,r.dropAnimating,r.userCancel]),h=tt(()=>{o.current&&a(r.resting)},[a,r.resting]);return kt(()=>({dragging:d,dropping:u,resting:h}),[d,u,h])}function Qj(e,n){return Array.from(e.querySelectorAll(n))}var Zj=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function md(e){return e instanceof Zj(e).HTMLElement}function pB(e,n){const r=`[${Oi.contextId}="${e}"]`,s=Qj(document,r);if(!s.length)return null;const o=s.find(a=>a.getAttribute(Oi.draggableId)===n);return!o||!md(o)?null:o}function xB(e){const n=g.useRef({}),r=g.useRef(null),s=g.useRef(null),o=g.useRef(!1),a=tt(function(m,y){const b={id:m,focus:y};return n.current[m]=b,function(){const j=n.current;j[m]!==b&&delete j[m]}},[]),c=tt(function(m){const y=pB(e,m);y&&y!==document.activeElement&&y.focus()},[e]),d=tt(function(m,y){r.current===m&&(r.current=y)},[]),u=tt(function(){s.current||o.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const m=r.current;m&&c(m)}))},[c]),h=tt(function(m){r.current=null;const y=document.activeElement;y&&y.getAttribute(Oi.draggableId)===m&&(r.current=m)},[]);return Mr(()=>(o.current=!0,function(){o.current=!1;const m=s.current;m&&cancelAnimationFrame(m)}),[]),kt(()=>({register:a,tryRecordFocus:h,tryRestoreFocusRecorded:u,tryShiftRecord:d}),[a,h,u,d])}function mB(){const e={draggables:{},droppables:{}},n=[];function r(p){return n.push(p),function(){const y=n.indexOf(p);y!==-1&&n.splice(y,1)}}function s(p){n.length&&n.forEach(m=>m(p))}function o(p){return e.draggables[p]||null}function a(p){const m=o(p);return m||Me(),m}const c={register:p=>{e.draggables[p.descriptor.id]=p,s({type:"ADDITION",value:p})},update:(p,m)=>{const y=e.draggables[m.descriptor.id];y&&y.uniqueId===p.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:p=>{const m=p.descriptor.id,y=o(m);y&&p.uniqueId===y.uniqueId&&(delete e.draggables[m],e.droppables[p.descriptor.droppableId]&&s({type:"REMOVAL",value:p}))},getById:a,findById:o,exists:p=>!!o(p),getAllByType:p=>Object.values(e.draggables).filter(m=>m.descriptor.type===p)};function d(p){return e.droppables[p]||null}function u(p){const m=d(p);return m||Me(),m}const h={register:p=>{e.droppables[p.descriptor.id]=p},unregister:p=>{const m=d(p.descriptor.id);m&&p.uniqueId===m.uniqueId&&delete e.droppables[p.descriptor.id]},getById:u,findById:d,exists:p=>!!d(p),getAllByType:p=>Object.values(e.droppables).filter(m=>m.descriptor.type===p)};function x(){e.draggables={},e.droppables={},n.length=0}return{draggable:c,droppable:h,subscribe:r,clean:x}}function gB(){const e=kt(mB,[]);return g.useEffect(()=>function(){e.clean()},[e]),e}var dx=Dt.createContext(null),$c=()=>{const e=document.body;return e||Me(),e};const bB={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},yB=e=>`rfd-announcement-${e}`;function vB(e){const n=kt(()=>yB(e),[e]),r=g.useRef(null);return g.useEffect(function(){const a=document.createElement("div");return r.current=a,a.id=n,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),B(a.style,bB),$c().appendChild(a),function(){setTimeout(function(){const u=$c();u.contains(a)&&u.removeChild(a),a===r.current&&(r.current=null)})}},[n]),tt(o=>{const a=r.current;if(a){a.textContent=o;return}},[])}const jB={separator:"::"};function ux(e,n=jB){const r=Dt.useId();return kt(()=>`${e}${n.separator}${r}`,[n.separator,e,r])}function SB({contextId:e,uniqueId:n}){return`rfd-hidden-text-${e}-${n}`}function wB({contextId:e,text:n}){const r=ux("hidden-text",{separator:"-"}),s=kt(()=>SB({contextId:e,uniqueId:r}),[r,e]);return g.useEffect(function(){const a=document.createElement("div");return a.id=s,a.textContent=n,a.style.display="none",$c().appendChild(a),function(){const d=$c();d.contains(a)&&d.removeChild(a)}},[s,n]),s}var gd=Dt.createContext(null);function eS(e){const n=g.useRef(e);return g.useEffect(()=>{n.current=e}),n}function CB(){let e=null;function n(){return!!e}function r(c){return c===e}function s(c){e&&Me();const d={abandon:c};return e=d,d}function o(){e||Me(),e=null}function a(){e&&(e.abandon(),o())}return{isClaimed:n,isActive:r,claim:s,release:o,tryAbandon:a}}function $a(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const PB=9,DB=13,hx=27,tS=32,IB=33,EB=34,TB=35,AB=36,RB=37,_B=38,OB=39,kB=40,MB={[DB]:!0,[PB]:!0};var nS=e=>{MB[e.keyCode]&&e.preventDefault()};const bd=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(s=>`on${s}`in document)||e})(),rS=0,wy=5;function NB(e,n){return Math.abs(n.x-e.x)>=wy||Math.abs(n.y-e.y)>=wy}const Cy={type:"IDLE"};function LB({cancel:e,completed:n,getPhase:r,setPhase:s}){return[{eventName:"mousemove",fn:o=>{const{button:a,clientX:c,clientY:d}=o;if(a!==rS)return;const u={x:c,y:d},h=r();if(h.type==="DRAGGING"){o.preventDefault(),h.actions.move(u);return}h.type!=="PENDING"&&Me();const x=h.point;if(!NB(x,u))return;o.preventDefault();const p=h.actions.fluidLift(u);s({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:o=>{const a=r();if(a.type!=="DRAGGING"){e();return}o.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:o=>{r().type==="DRAGGING"&&o.preventDefault(),e()}},{eventName:"keydown",fn:o=>{if(r().type==="PENDING"){e();return}if(o.keyCode===hx){o.preventDefault(),e();return}nS(o)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:o=>{const a=r();if(a.type==="IDLE"&&Me(),a.actions.shouldRespectForcePress()){e();return}o.preventDefault()}},{eventName:bd,fn:e}]}function $B(e){const n=g.useRef(Cy),r=g.useRef(io),s=kt(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==rS||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const m=e.findClosestDraggableId(p);if(!m)return;const y=e.tryGetLock(m,c,{sourceEvent:p});if(!y)return;p.preventDefault();const b={x:p.clientX,y:p.clientY};r.current(),h(y,b)}}),[e]),o=kt(()=>({eventName:"webkitmouseforcewillbegin",fn:x=>{if(x.defaultPrevented)return;const p=e.findClosestDraggableId(x);if(!p)return;const m=e.findOptionsForDraggable(p);m&&(m.shouldRespectForcePress||e.canGetLock(p)&&x.preventDefault())}}),[e]),a=tt(function(){const p={passive:!1,capture:!0};r.current=Kr(window,[o,s],p)},[o,s]),c=tt(()=>{n.current.type!=="IDLE"&&(n.current=Cy,r.current(),a())},[a]),d=tt(()=>{const x=n.current;c(),x.type==="DRAGGING"&&x.actions.cancel({shouldBlockNextClick:!0}),x.type==="PENDING"&&x.actions.abort()},[c]),u=tt(function(){const p={capture:!0,passive:!1},m=LB({cancel:d,completed:c,getPhase:()=>n.current,setPhase:y=>{n.current=y}});r.current=Kr(window,m,p)},[d,c]),h=tt(function(p,m){n.current.type!=="IDLE"&&Me(),n.current={type:"PENDING",point:m,actions:p},u()},[u]);Mr(function(){return a(),function(){r.current()}},[a])}function FB(){}const WB={[EB]:!0,[IB]:!0,[AB]:!0,[TB]:!0};function BB(e,n){function r(){n(),e.cancel()}function s(){n(),e.drop()}return[{eventName:"keydown",fn:o=>{if(o.keyCode===hx){o.preventDefault(),r();return}if(o.keyCode===tS){o.preventDefault(),s();return}if(o.keyCode===kB){o.preventDefault(),e.moveDown();return}if(o.keyCode===_B){o.preventDefault(),e.moveUp();return}if(o.keyCode===OB){o.preventDefault(),e.moveRight();return}if(o.keyCode===RB){o.preventDefault(),e.moveLeft();return}if(WB[o.keyCode]){o.preventDefault();return}nS(o)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:bd,fn:r}]}function VB(e){const n=g.useRef(FB),r=kt(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==tS)return;const c=e.findClosestDraggableId(a);if(!c)return;const d=e.tryGetLock(c,x,{sourceEvent:a});if(!d)return;a.preventDefault();let u=!0;const h=d.snapLift();n.current();function x(){u||Me(),u=!1,n.current(),s()}n.current=Kr(window,BB(h,x),{capture:!0,passive:!1})}}),[e]),s=tt(function(){const a={passive:!1,capture:!0};n.current=Kr(window,[r],a)},[r]);Mr(function(){return s(),function(){n.current()}},[s])}const hh={type:"IDLE"},UB=120,zB=.15;function HB({cancel:e,getPhase:n}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.keyCode===hx&&r.preventDefault(),e()}},{eventName:bd,fn:e}]}function YB({cancel:e,completed:n,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const o=r();if(o.type!=="DRAGGING"){e();return}o.hasMoved=!0;const{clientX:a,clientY:c}=s.touches[0],d={x:a,y:c};s.preventDefault(),o.actions.move(d)}},{eventName:"touchend",fn:s=>{const o=r();if(o.type!=="DRAGGING"){e();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:s=>{if(r().type!=="DRAGGING"){e();return}s.preventDefault(),e()}},{eventName:"touchforcechange",fn:s=>{const o=r();o.type==="IDLE"&&Me();const a=s.touches[0];if(!a||!(a.force>=zB))return;const d=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){d&&e();return}if(d){if(o.hasMoved){s.preventDefault();return}e();return}s.preventDefault()}},{eventName:bd,fn:e}]}function GB(e){const n=g.useRef(hh),r=g.useRef(io),s=tt(function(){return n.current},[]),o=tt(function(y){n.current=y},[]),a=kt(()=>({eventName:"touchstart",fn:function(y){if(y.defaultPrevented)return;const b=e.findClosestDraggableId(y);if(!b)return;const S=e.tryGetLock(b,d,{sourceEvent:y});if(!S)return;const j=y.touches[0],{clientX:D,clientY:w}=j,I={x:D,y:w};r.current(),p(S,I)}}),[e]),c=tt(function(){const y={capture:!0,passive:!1};r.current=Kr(window,[a],y)},[a]),d=tt(()=>{const m=n.current;m.type!=="IDLE"&&(m.type==="PENDING"&&clearTimeout(m.longPressTimerId),o(hh),r.current(),c())},[c,o]),u=tt(()=>{const m=n.current;d(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[d]),h=tt(function(){const y={capture:!0,passive:!1},b={cancel:u,completed:d,getPhase:s},S=Kr(window,YB(b),y),j=Kr(window,HB(b),y);r.current=function(){S(),j()}},[u,s,d]),x=tt(function(){const y=s();y.type!=="PENDING"&&Me();const b=y.actions.fluidLift(y.point);o({type:"DRAGGING",actions:b,hasMoved:!1})},[s,o]),p=tt(function(y,b){s().type!=="IDLE"&&Me();const S=setTimeout(x,UB);o({type:"PENDING",point:b,actions:y,longPressTimerId:S}),h()},[h,s,o,x]);Mr(function(){return c(),function(){r.current();const b=s();b.type==="PENDING"&&(clearTimeout(b.longPressTimerId),o(hh))}},[s,c,o]),Mr(function(){return Kr(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const qB=["input","button","textarea","select","option","optgroup","video","audio"];function sS(e,n){if(n==null)return!1;if(qB.includes(n.tagName.toLowerCase()))return!0;const s=n.getAttribute("contenteditable");return s==="true"||s===""?!0:n===e?!1:sS(e,n.parentElement)}function KB(e,n){const r=n.target;return md(r)?sS(e,r):!1}var JB=e=>cs(e.getBoundingClientRect()).center;function XB(e){return e instanceof Zj(e).Element}const QB=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||e})();function oS(e,n){return e==null?null:e[QB](n)?e:oS(e.parentElement,n)}function ZB(e,n){return e.closest?e.closest(n):oS(e,n)}function e6(e){return`[${Oi.contextId}="${e}"]`}function t6(e,n){const r=n.target;if(!XB(r))return null;const s=e6(e),o=ZB(r,s);return!o||!md(o)?null:o}function n6(e,n){const r=t6(e,n);return r?r.getAttribute(Oi.draggableId):null}function r6(e,n){const r=`[${Vh.contextId}="${e}"]`,o=Qj(document,r).find(a=>a.getAttribute(Vh.id)===n);return!o||!md(o)?null:o}function s6(e){e.preventDefault()}function Ql({expected:e,phase:n,isLockActive:r,shouldWarn:s}){return!(!r()||e!==n)}function iS({lockAPI:e,store:n,registry:r,draggableId:s}){if(e.isClaimed())return!1;const o=r.draggable.findById(s);return!(!o||!o.options.isEnabled||!qj(n.getState(),s))}function o6({lockAPI:e,contextId:n,store:r,registry:s,draggableId:o,forceSensorStop:a,sourceEvent:c}){if(!iS({lockAPI:e,store:r,registry:s,draggableId:o}))return null;const u=s.draggable.getById(o),h=r6(n,u.descriptor.id);if(!h||c&&!u.options.canDragInteractiveElements&&KB(h,c))return null;const x=e.claim(a||io);let p="PRE_DRAG";function m(){return u.options.shouldRespectForcePress}function y(){return e.isActive(x)}function b(_,R){Ql({expected:_,phase:p,isLockActive:y,shouldWarn:!0})&&r.dispatch(R())}const S=b.bind(null,"DRAGGING");function j(_){function R(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(R(),Me()),r.dispatch(Z4(_.liftActionArgs)),p="DRAGGING";function O(A,L={shouldBlockNextClick:!1}){if(_.cleanup(),L.shouldBlockNextClick){const W=Kr(window,[{eventName:"click",fn:s6,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(W)}R(),r.dispatch(Wj({reason:A}))}return{isActive:()=>Ql({expected:"DRAGGING",phase:p,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:m,drop:A=>O("DROP",A),cancel:A=>O("CANCEL",A),..._.actions}}function D(_){const R=_a(A=>{S(()=>Fj({client:A}))});return{...j({liftActionArgs:{id:o,clientSelection:_,movementMode:"FLUID"},cleanup:()=>R.cancel(),actions:{move:R}}),move:R}}function w(){const _={moveUp:()=>S(lW),moveRight:()=>S(dW),moveDown:()=>S(cW),moveLeft:()=>S(uW)};return j({liftActionArgs:{id:o,clientSelection:JB(h),movementMode:"SNAP"},cleanup:io,actions:_})}function I(){Ql({expected:"PRE_DRAG",phase:p,isLockActive:y,shouldWarn:!0})&&e.release()}return{isActive:()=>Ql({expected:"PRE_DRAG",phase:p,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:m,fluidLift:D,snapLift:w,abort:I}}const i6=[$B,VB,GB];function a6({contextId:e,store:n,registry:r,customSensors:s,enableDefaultSensors:o}){const a=[...o?i6:[],...s||[]],c=g.useState(()=>CB())[0],d=tt(function(j,D){$a(j)&&!$a(D)&&c.tryAbandon()},[c]);Mr(function(){let j=n.getState();return n.subscribe(()=>{const w=n.getState();d(j,w),j=w})},[c,n,d]),Mr(()=>c.tryAbandon,[c.tryAbandon]);const u=tt(S=>iS({lockAPI:c,registry:r,store:n,draggableId:S}),[c,r,n]),h=tt((S,j,D)=>o6({lockAPI:c,registry:r,contextId:e,store:n,draggableId:S,forceSensorStop:j||null,sourceEvent:D&&D.sourceEvent?D.sourceEvent:null}),[e,c,r,n]),x=tt(S=>n6(e,S),[e]),p=tt(S=>{const j=r.draggable.findById(S);return j?j.options:null},[r.draggable]),m=tt(function(){c.isClaimed()&&(c.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(rx()))},[c,n]),y=tt(()=>c.isClaimed(),[c]),b=kt(()=>({canGetLock:u,tryGetLock:h,findClosestDraggableId:x,findOptionsForDraggable:p,tryReleaseLock:m,isLockClaimed:y}),[u,h,x,p,m,y]);for(let S=0;S<a.length;S++)a[S](b)}const l6=e=>({onBeforeCapture:n=>{const r=()=>{e.onBeforeCapture&&e.onBeforeCapture(n)};Qh.flushSync(r)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),c6=e=>({...La,...e.autoScrollerOptions,durationDampening:{...La.durationDampening,...e.autoScrollerOptions}});function pa(e){return e.current||Me(),e.current}function d6(e){const{contextId:n,setCallbacks:r,sensors:s,nonce:o,dragHandleUsageInstructions:a}=e,c=g.useRef(null),d=eS(e),u=tt(()=>l6(d.current),[d]),h=tt(()=>c6(d.current),[d]),x=vB(n),p=wB({contextId:n,text:a}),m=fB(n,o),y=tt(W=>{pa(c).dispatch(W)},[]),b=kt(()=>Xb({publishWhileDragging:tW,updateDroppableScroll:rW,updateDroppableIsEnabled:sW,updateDroppableIsCombineEnabled:oW,collectionStarting:nW},y),[y]),S=gB(),j=kt(()=>HW(S,b),[S,b]),D=kt(()=>lB({scrollWindow:YW,scrollDroppable:j.scrollDroppable,getAutoScrollerOptions:h,...Xb({move:Fj},y)}),[j.scrollDroppable,y,h]),w=xB(n),I=kt(()=>BW({announce:x,autoScroller:D,dimensionMarshal:j,focusMarshal:w,getResponders:u,styleMarshal:m}),[x,D,j,w,u,m]);c.current=I;const T=tt(()=>{const W=pa(c);W.getState().phase!=="IDLE"&&W.dispatch(rx())},[]),_=tt(()=>{const W=pa(c).getState();return W.phase==="DROP_ANIMATING"?!0:W.phase==="IDLE"?!1:W.isDragging},[]),R=kt(()=>({isDragging:_,tryAbort:T}),[_,T]);r(R);const O=tt(W=>qj(pa(c).getState(),W),[]),A=tt(()=>Mo(pa(c).getState()),[]),L=kt(()=>({marshal:j,focus:w,contextId:n,canLift:O,isMovementAllowed:A,dragHandleUsageInstructionsId:p,registry:S}),[n,j,p,w,O,A,S]);return a6({contextId:n,store:I,registry:S,customSensors:s||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),g.useEffect(()=>T,[T]),Dt.createElement(gd.Provider,{value:L},Dt.createElement(k3,{context:dx,store:I},e.children))}function u6(){return Dt.useId()}function h6(e){const n=u6(),r=e.dragHandleUsageInstructions||oc.dragHandleUsageInstructions;return Dt.createElement(U3,null,s=>Dt.createElement(d6,{nonce:e.nonce,contextId:n,setCallbacks:s,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const Py={dragging:5e3,dropAnimating:4500},f6=(e,n)=>n?Pa.drop(n.duration):e?Pa.snap:Pa.fluid,p6=(e,n)=>{if(e)return n?Na.opacity.drop:Na.opacity.combining},x6=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function m6(e){const r=e.dimension.client,{offset:s,combineWith:o,dropping:a}=e,c=!!o,d=x6(e),u=!!a,h=u?Wh.drop(s,c):Wh.moveTo(s);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:f6(d,a),transform:h,opacity:p6(c,u),zIndex:u?Py.dropAnimating:Py.dragging,pointerEvents:"none"}}function g6(e){return{transform:Wh.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function b6(e){return e.type==="DRAGGING"?m6(e):g6(e)}function y6(e,n,r=Bn){const s=window.getComputedStyle(n),o=n.getBoundingClientRect(),a=pj(o,s),c=kc(a,r),d={client:a,tagName:n.tagName.toLowerCase(),display:s.display},u={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:d,displaceBy:u,client:a,page:c}}function v6(e){const n=ux("draggable"),{descriptor:r,registry:s,getDraggableRef:o,canDragInteractiveElements:a,shouldRespectForcePress:c,isEnabled:d}=e,u=kt(()=>({canDragInteractiveElements:a,shouldRespectForcePress:c,isEnabled:d}),[a,d,c]),h=tt(y=>{const b=o();return b||Me(),y6(r,b,y)},[r,o]),x=kt(()=>({uniqueId:n,descriptor:r,options:u,getDimension:h}),[r,h,u,n]),p=g.useRef(x),m=g.useRef(!0);Mr(()=>(s.draggable.register(p.current),()=>s.draggable.unregister(p.current)),[s.draggable]),Mr(()=>{if(m.current){m.current=!1;return}const y=p.current;p.current=x,s.draggable.update(x,y)},[x,s.draggable])}var fx=Dt.createContext(null);function Fc(e){const n=g.useContext(e);return n||Me(),n}function j6(e){e.preventDefault()}const S6=e=>{const n=g.useRef(null),r=tt((R=null)=>{n.current=R},[]),s=tt(()=>n.current,[]),{contextId:o,dragHandleUsageInstructionsId:a,registry:c}=Fc(gd),{type:d,droppableId:u}=Fc(fx),h=kt(()=>({id:e.draggableId,index:e.index,type:d,droppableId:u}),[e.draggableId,e.index,d,u]),{children:x,draggableId:p,isEnabled:m,shouldRespectForcePress:y,canDragInteractiveElements:b,isClone:S,mapped:j,dropAnimationFinished:D}=e;if(!S){const R=kt(()=>({descriptor:h,registry:c,getDraggableRef:s,canDragInteractiveElements:b,shouldRespectForcePress:y,isEnabled:m}),[h,c,s,b,y,m]);v6(R)}const w=kt(()=>m?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:j6}:null,[o,a,p,m]),I=tt(R=>{j.type==="DRAGGING"&&j.dropping&&R.propertyName==="transform"&&Qh.flushSync(D)},[D,j]),T=kt(()=>{const R=b6(j),O=j.type==="DRAGGING"&&j.dropping?I:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":p,style:R,onTransitionEnd:O},dragHandleProps:w}},[o,w,p,j,I,r]),_=kt(()=>({draggableId:h.id,type:h.type,source:{index:h.index,droppableId:h.droppableId}}),[h.droppableId,h.id,h.index,h.type]);return Dt.createElement(Dt.Fragment,null,x(T,j.snapshot,_))};var aS=(e,n)=>e===n,lS=e=>{const{combine:n,destination:r}=e;return r?r.droppableId:n?n.droppableId:null};const w6=e=>e.combine?e.combine.draggableId:null,C6=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function P6(){const e=Fn((o,a)=>({x:o,y:a})),n=Fn((o,a,c=null,d=null,u=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!u,dropAnimation:u,mode:o,draggingOver:c,combineWith:d,combineTargetFor:null})),r=Fn((o,a,c,d,u=null,h=null,x=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:h,mode:a,offset:o,dimension:c,forceShouldAnimate:x,snapshot:n(a,d,u,h,null)}}));return(o,a)=>{if($a(o)){if(o.critical.draggable.id!==a.draggableId)return null;const c=o.current.client.offset,d=o.dimensions.draggables[a.draggableId],u=kr(o.impact),h=C6(o.impact),x=o.forceShouldAnimate;return r(e(c.x,c.y),o.movementMode,d,a.isClone,u,h,x)}if(o.phase==="DROP_ANIMATING"){const c=o.completed;if(c.result.draggableId!==a.draggableId)return null;const d=a.isClone,u=o.dimensions.draggables[a.draggableId],h=c.result,x=h.mode,p=lS(h),m=w6(h),b={duration:o.dropDuration,curve:ox.drop,moveTo:o.newHomeClientOffset,opacity:m?Na.opacity.drop:null,scale:m?Na.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:u,dropping:b,draggingOver:p,combineWith:m,mode:x,forceShouldAnimate:null,snapshot:n(x,d,p,m,b)}}}return null}}function cS(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const D6={mapped:{type:"SECONDARY",offset:Bn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:cS(null)}};function I6(){const e=Fn((c,d)=>({x:c,y:d})),n=Fn(cS),r=Fn((c,d=null,u)=>({mapped:{type:"SECONDARY",offset:c,combineTargetFor:d,shouldAnimateDisplacement:u,snapshot:n(d)}})),s=c=>c?r(Bn,c,!0):null,o=(c,d,u,h)=>{const x=u.displaced.visible[c],p=!!(h.inVirtualList&&h.effected[c]),m=fd(u),y=m&&m.draggableId===c?d:null;if(!x){if(!p)return s(y);if(u.displaced.invisible[c])return null;const j=Bi(h.displacedBy.point),D=e(j.x,j.y);return r(D,y,!0)}if(p)return s(y);const b=u.displacedBy.point,S=e(b.x,b.y);return r(S,y,x.shouldAnimate)};return(c,d)=>{if($a(c))return c.critical.draggable.id===d.draggableId?null:o(d.draggableId,c.critical.draggable.id,c.impact,c.afterCritical);if(c.phase==="DROP_ANIMATING"){const u=c.completed;return u.result.draggableId===d.draggableId?null:o(d.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const E6=()=>{const e=P6(),n=I6();return(s,o)=>e(s,o)||n(s,o)||D6},T6={dropAnimationFinished:Bj},A6=hj(E6,T6,null,{context:dx,areStatePropsEqual:aS})(S6);function dS(e){return Fc(fx).isUsingCloneFor===e.draggableId&&!e.isClone?null:Dt.createElement(A6,e)}function R6(e){const n=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,s=!!e.shouldRespectForcePress;return Dt.createElement(dS,B({},e,{isClone:!1,isEnabled:n,canDragInteractiveElements:r,shouldRespectForcePress:s}))}const uS=e=>n=>e===n,_6=uS("scroll"),O6=uS("auto"),Dy=(e,n)=>n(e.overflowX)||n(e.overflowY),k6=e=>{const n=window.getComputedStyle(e),r={overflowX:n.overflowX,overflowY:n.overflowY};return Dy(r,_6)||Dy(r,O6)},M6=()=>!1,hS=e=>e==null?null:e===document.body?M6()?e:null:e===document.documentElement?null:k6(e)?e:hS(e.parentElement);var Uh=e=>({x:e.scrollLeft,y:e.scrollTop});const fS=e=>e?window.getComputedStyle(e).position==="fixed"?!0:fS(e.parentElement):!1;var N6=e=>{const n=hS(e),r=fS(e);return{closestScrollable:n,isFixedOnPage:r}},L6=({descriptor:e,isEnabled:n,isCombineEnabled:r,isFixedOnPage:s,direction:o,client:a,page:c,closest:d})=>{const u=(()=>{if(!d)return null;const{scrollSize:m,client:y}=d,b=Hj({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:y.paddingBox.height,width:y.paddingBox.width});return{pageMarginBox:d.page.marginBox,frameClient:y,scrollSize:m,shouldClipSubject:d.shouldClipSubject,scroll:{initial:d.scroll,current:d.scroll,max:b,diff:{value:Bn,displacement:Bn}}}})(),h=o==="vertical"?Qp:Cj,x=Ri({page:c,withPlaceholder:null,axis:h,frame:u});return{descriptor:e,isCombineEnabled:r,isFixedOnPage:s,axis:h,isEnabled:n,client:a,page:c,frame:u,subject:x}};const $6=(e,n)=>{const r=xj(e);if(!n||e!==n)return r;const s=r.paddingBox.top-n.scrollTop,o=r.paddingBox.left-n.scrollLeft,a=s+n.scrollHeight,c=o+n.scrollWidth,u=qp({top:s,right:c,bottom:a,left:o},r.border);return Kp({borderBox:u,margin:r.margin,border:r.border,padding:r.padding})};var F6=({ref:e,descriptor:n,env:r,windowScroll:s,direction:o,isDropDisabled:a,isCombineEnabled:c,shouldClipSubject:d})=>{const u=r.closestScrollable,h=$6(e,u),x=kc(h,s),p=(()=>{if(!u)return null;const y=xj(u),b={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:y,page:kc(y,s),scroll:Uh(u),scrollSize:b,shouldClipSubject:d}})();return L6({descriptor:n,isEnabled:!a,isCombineEnabled:c,isFixedOnPage:r.isFixedOnPage,direction:o,client:h,page:x,closest:p})};const W6={passive:!1},B6={passive:!0};var Iy=e=>e.shouldPublishImmediately?W6:B6;const Zl=e=>e&&e.env.closestScrollable||null;function V6(e){const n=g.useRef(null),r=Fc(gd),s=ux("droppable"),{registry:o,marshal:a}=r,c=eS(e),d=kt(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=g.useRef(d),h=kt(()=>Fn((T,_)=>{n.current||Me();const R={x:T,y:_};a.updateDroppableScroll(d.id,R)}),[d.id,a]),x=tt(()=>{const T=n.current;return!T||!T.env.closestScrollable?Bn:Uh(T.env.closestScrollable)},[]),p=tt(()=>{const T=x();h(T.x,T.y)},[x,h]),m=kt(()=>_a(p),[p]),y=tt(()=>{const T=n.current,_=Zl(T);if(T&&_||Me(),T.scrollOptions.shouldPublishImmediately){p();return}m()},[m,p]),b=tt((T,_)=>{n.current&&Me();const R=c.current,O=R.getDroppableRef();O||Me();const A=N6(O),L={ref:O,descriptor:d,env:A,scrollOptions:_};n.current=L;const W=F6({ref:O,descriptor:d,env:A,windowScroll:T,direction:R.direction,isDropDisabled:R.isDropDisabled,isCombineEnabled:R.isCombineEnabled,shouldClipSubject:!R.ignoreContainerClipping}),H=A.closestScrollable;return H&&(H.setAttribute(jy.contextId,r.contextId),H.addEventListener("scroll",y,Iy(L.scrollOptions))),W},[r.contextId,d,y,c]),S=tt(()=>{const T=n.current,_=Zl(T);return T&&_||Me(),Uh(_)},[]),j=tt(()=>{const T=n.current;T||Me();const _=Zl(T);n.current=null,_&&(m.cancel(),_.removeAttribute(jy.contextId),_.removeEventListener("scroll",y,Iy(T.scrollOptions)))},[y,m]),D=tt(T=>{const _=n.current;_||Me();const R=Zl(_);R||Me(),R.scrollTop+=T.y,R.scrollLeft+=T.x},[]),w=kt(()=>({getDimensionAndWatchScroll:b,getScrollWhileDragging:S,dragStopped:j,scroll:D}),[j,b,S,D]),I=kt(()=>({uniqueId:s,descriptor:d,callbacks:w}),[w,d,s]);Mr(()=>(u.current=I.descriptor,o.droppable.register(I),()=>{n.current&&j(),o.droppable.unregister(I)}),[w,d,j,I,a,o.droppable]),Mr(()=>{n.current&&a.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),Mr(()=>{n.current&&a.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function fh(){}const Ey={width:0,height:0,margin:K3},U6=({isAnimatingOpenOnMount:e,placeholder:n,animate:r})=>e||r==="close"?Ey:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin},z6=({isAnimatingOpenOnMount:e,placeholder:n,animate:r})=>{const s=U6({isAnimatingOpenOnMount:e,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?Pa.placeholder:null}},H6=e=>{const n=g.useRef(null),r=tt(()=>{n.current&&(clearTimeout(n.current),n.current=null)},[]),{animate:s,onTransitionEnd:o,onClose:a,contextId:c}=e,[d,u]=g.useState(e.animate==="open");g.useEffect(()=>d?s!=="open"?(r(),u(!1),fh):n.current?fh:(n.current=setTimeout(()=>{n.current=null,u(!1)}),r):fh,[s,d,r]);const h=tt(p=>{p.propertyName==="height"&&(o(),s==="close"&&a())},[s,a,o]),x=z6({isAnimatingOpenOnMount:d,animate:e.animate,placeholder:e.placeholder});return Dt.createElement(e.placeholder.tagName,{style:x,"data-rfd-placeholder-context-id":c,onTransitionEnd:h,ref:e.innerRef})};var Y6=Dt.memo(H6);class G6 extends Dt.PureComponent{constructor(...n){super(...n),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(n,r){return n.shouldAnimate?n.on?{isVisible:!0,data:n.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!n.on,data:n.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const n={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(n)}}const q6=e=>{const n=g.useContext(gd);n||Me();const{contextId:r,isMovementAllowed:s}=n,o=g.useRef(null),a=g.useRef(null),{children:c,droppableId:d,type:u,mode:h,direction:x,ignoreContainerClipping:p,isDropDisabled:m,isCombineEnabled:y,snapshot:b,useClone:S,updateViewportMaxScroll:j,getContainerForClone:D}=e,w=tt(()=>o.current,[]),I=tt((H=null)=>{o.current=H},[]);tt(()=>a.current,[]);const T=tt((H=null)=>{a.current=H},[]),_=tt(()=>{s()&&j({maxScroll:Gj()})},[s,j]);V6({droppableId:d,type:u,mode:h,direction:x,isDropDisabled:m,isCombineEnabled:y,ignoreContainerClipping:p,getDroppableRef:w});const R=kt(()=>Dt.createElement(G6,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:H,data:N,animate:se})=>Dt.createElement(Y6,{placeholder:N,onClose:H,innerRef:T,animate:se,contextId:r,onTransitionEnd:_})),[r,_,e.placeholder,e.shouldAnimatePlaceholder,T]),O=kt(()=>({innerRef:I,placeholder:R,droppableProps:{"data-rfd-droppable-id":d,"data-rfd-droppable-context-id":r}}),[r,d,R,I]),A=S?S.dragging.draggableId:null,L=kt(()=>({droppableId:d,type:u,isUsingCloneFor:A}),[d,A,u]);function W(){if(!S)return null;const{dragging:H,render:N}=S,se=Dt.createElement(dS,{draggableId:H.draggableId,index:H.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Z,G)=>N(Z,G,H));return $T.createPortal(se,D())}return Dt.createElement(fx.Provider,{value:L},c(O,b),W())};function K6(){return document.body||Me(),document.body}const Ty={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:K6},pS=e=>{let n={...e},r;for(r in Ty)e[r]===void 0&&(n={...n,[r]:Ty[r]});return n},ph=(e,n)=>e===n.droppable.type,Ay=(e,n)=>n.draggables[e.draggable.id],J6=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n={...e,shouldAnimatePlaceholder:!1},r=Fn(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),s=Fn((a,c,d,u,h,x)=>{const p=h.descriptor.id;if(h.descriptor.droppableId===a){const b=x?{render:x,dragging:r(h.descriptor)}:null,S={isDraggingOver:d,draggingOverWith:d?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!1,snapshot:S,useClone:b}}if(!c)return n;if(!u)return e;const y={isDraggingOver:d,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}});return(a,c)=>{const d=pS(c),u=d.droppableId,h=d.type,x=!d.isDropDisabled,p=d.renderClone;if($a(a)){const m=a.critical;if(!ph(h,m))return n;const y=Ay(m,a.dimensions),b=kr(a.impact)===u;return s(u,x,b,b,y,p)}if(a.phase==="DROP_ANIMATING"){const m=a.completed;if(!ph(h,m.critical))return n;const y=Ay(m.critical,a.dimensions);return s(u,x,lS(m.result)===u,kr(m.impact)===u,y,p)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const m=a.completed;if(!ph(h,m.critical))return n;const y=kr(m.impact)===u,b=!!(m.impact.at&&m.impact.at.type==="COMBINE"),S=m.critical.droppable.id===u;return y?b?e:n:S?e:n}return n}},X6={updateViewportMaxScroll:aW},Q6=hj(J6,X6,(e,n,r)=>({...pS(r),...e,...n}),{context:dx,areStatePropsEqual:aS})(q6);var Z6=Q6;const eV=({tiers:e,isLoading:n=!1,onEdit:r,onDelete:s,onReorder:o,onCreateTier:a})=>{const[c,d]=g.useState(e);g.useEffect(()=>{d([...e].sort((h,x)=>h.order-x.order))},[e]);const u=async h=>{if(!h.destination)return;const x=h.source.index,p=h.destination.index;if(x===p)return;const m=[...c].sort((S,j)=>S.order-j.order),[y]=m.splice(x,1);m.splice(p,0,y);const b=m.map((S,j)=>({...S,order:j+1}));d(b),o(b)};return n?t.jsx(ye,{spacing:3,sx:{maxWidth:900},children:[1,2,3].map(h=>t.jsx(ot,{sx:{p:3},children:t.jsxs(ye,{spacing:2,children:[t.jsx(ce,{variant:"circular",width:32,height:32}),t.jsx(ce,{variant:"text",width:"60%",height:28}),t.jsx(ce,{variant:"text",width:"40%",height:40}),t.jsx(ce,{variant:"text",width:"80%",height:20}),t.jsxs(ye,{direction:"row",justifyContent:"flex-end",spacing:1,children:[t.jsx(ce,{variant:"circular",width:32,height:32}),t.jsx(ce,{variant:"circular",width:32,height:32})]})]})},h))}):e.length===0?t.jsx(zs,{title:"Set Up Channel Subscriptions",description:"Create subscription tiers to offer exclusive perks and content to your subscribers",action:{label:"Create Your First Tier",onClick:a},icon:t.jsx(Tc,{sx:{fontSize:48}})}):t.jsxs(ye,{spacing:4,children:[t.jsxs(ye,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsx(v,{variant:"h5",sx:{fontWeight:600},children:"Subscription Tiers"}),t.jsx(xe,{variant:"contained",startIcon:t.jsx(Hp,{}),onClick:a,sx:{px:3,borderRadius:2,textTransform:"none"},children:"Create Tier"})]}),t.jsx(ot,{sx:{p:2,bgcolor:"primary.50",borderRadius:2,border:"1px solid",borderColor:"primary.100"},children:t.jsxs(ye,{direction:"row",spacing:2,alignItems:"center",children:[t.jsx(Ip,{color:"primary"}),t.jsx(v,{variant:"body2",color:"primary.700",children:"Drag to reorder tiers. Members will see tiers in this order on your channel page."})]})}),t.jsx(h6,{onDragEnd:u,children:t.jsx(Z6,{droppableId:"tiers",children:h=>t.jsxs(ye,{spacing:3,...h.droppableProps,ref:h.innerRef,sx:{maxWidth:800,width:"100%"},children:[c.map((x,p)=>t.jsx(R6,{draggableId:x.id,index:p,children:(m,y)=>t.jsx(C,{ref:m.innerRef,...m.draggableProps,children:t.jsx(C,{sx:{position:"relative"},children:t.jsxs(ot,{elevation:y.isDragging?8:2,sx:{p:3,transition:"all 0.2s ease",transform:y.isDragging?"scale(1.02)":"scale(1)",bgcolor:"background.paper",borderRadius:2,"&:hover":{boxShadow:4,"& .drag-handle":{opacity:1}}},children:[t.jsx(Ye,{label:x.order,color:"primary",size:"small",sx:{position:"absolute",top:-12,left:16,height:32,width:32,borderRadius:"50%",boxShadow:2,zIndex:1,"& .MuiChip-label":{px:0,fontSize:"1rem",fontWeight:"bold"}}}),t.jsx(C,{...m.dragHandleProps,className:"drag-handle",sx:{position:"absolute",top:0,left:0,right:0,height:"100%",display:"flex",alignItems:"center",justifyContent:"center",opacity:0,transition:"opacity 0.2s ease","&:hover":{cursor:"move","& .drag-icon":{transform:"scale(1.1)"}}},children:t.jsx(C,{className:"drag-icon",sx:{width:40,height:40,borderRadius:"50%",bgcolor:"action.hover",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s ease"},children:t.jsx(sj,{color:"action"})})}),t.jsxs(C,{sx:{flex:1},children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:x.name}),t.jsxs(v,{variant:"h4",gutterBottom:!0,children:["$",x.price,t.jsx(v,{component:"span",variant:"body2",sx:{ml:1},children:"/month"})]}),t.jsx(v,{variant:"body2",sx:{mb:2},children:x.description})]}),t.jsxs(ye,{direction:"row",spacing:1,justifyContent:"flex-end",children:[t.jsx(Le,{onClick:()=>r(x.id),size:"small",children:t.jsx(Qa,{})}),t.jsx(Le,{onClick:()=>s(x.id),size:"small",children:t.jsx(zo,{})})]})]})})})},x.id)),h.placeholder]})})})]})},tV=({open:e,onClose:n,onSubmit:r,initialData:s,tierCount:o,isEdit:a=!1})=>{const[c,d]=g.useState({name:"",description:"",price:0,benefits:[],order:a?s.order:o+1}),[u,h]=g.useState({}),[x,p]=g.useState(!1);g.useEffect(()=>{s&&d({name:s.name,description:s.description,price:s.price,benefits:s.benefits,order:a?s.order:o+1})},[s]),g.useEffect(()=>{d(S=>({...S,order:o+1}))},[o]);const m=()=>{const S={};return c.name||(S.name="Name is required"),c.description||(S.description="Description is required"),c.price<0&&(S.price="Price must be positive"),c.benefits||(S.benefits="Benefits are required"),h(S),Object.keys(S).length===0},y=S=>j=>{const D=S==="price"?Number(j.target.value):j.target.value;d(w=>({...w,[S]:D})),u[S]&&h(w=>({...w,[S]:void 0}))},b=async S=>{if(S.preventDefault(),!!m())try{p(!0),await r(c),n()}catch(j){console.error("Failed to submit tier:",j)}finally{p(!1)}};return t.jsxs(en,{open:e,onClose:n,maxWidth:"sm",fullWidth:!0,children:[t.jsx(sn,{children:a?"Edit Tier":"Create New Tier"}),t.jsxs("form",{onSubmit:b,children:[t.jsx(tn,{children:t.jsxs(ye,{spacing:3,children:[t.jsx(rt,{label:"Tier Name",value:c.name,onChange:y("name"),error:!!u.name,helperText:u.name,fullWidth:!0}),t.jsx(rt,{label:"Description",value:c.description,onChange:y("description"),multiline:!0,rows:3,error:!!u.description,helperText:u.description,fullWidth:!0}),t.jsx(rt,{type:"number",label:"Monthly Price",value:c.price,onChange:y("price"),InputProps:{startAdornment:t.jsx(Qr,{position:"start",children:"$"})},error:!!u.price,helperText:u.price,fullWidth:!0}),t.jsx(rt,{label:"Benefits",value:c.benefits,onChange:y("benefits"),multiline:!0,rows:4,placeholder:"Enter benefits, one per line",error:!!u.benefits,helperText:u.benefits,fullWidth:!0})]})}),t.jsxs(nn,{children:[t.jsx(xe,{onClick:n,children:"Cancel"}),t.jsx(xe,{type:"submit",variant:"contained",disabled:x,children:a?"Save Changes":"Create Tier"})]})]})]})},px=g.memo(({channelId:e})=>{const{api:n}=Xe(),{execute:r}=nt(),{execute:s}=nt(),{execute:o}=nt(),{execute:a}=nt(),{execute:c}=nt(),[d,u]=g.useState([]),[h,x]=g.useState(!0),[p,m]=g.useState(!1),[y,b]=g.useState(null),[S,j]=g.useState(!1),D=g.useCallback(async()=>{if(!e)return;x(!0);const A=await r(()=>n==null?void 0:n.channelApi.getTiers(e),{showErrorToast:!0});A&&u(A.items||[]),x(!1)},[e,r,n]);g.useEffect(()=>{D()},[D]);const w=A=>{const L=d.find(W=>W.id===A);L&&(b(L),m(!0))},I=()=>{m(!1),b(null)},T=async A=>{await s(()=>n==null?void 0:n.channelApi.createTier(e,A),{showSuccessMessage:!0,successMessage:"Tier created successfully"})&&(await D(),I())},_=async(A,L)=>{await o(()=>n==null?void 0:n.channelApi.updateTier(e,A,L),{showSuccessMessage:!0,successMessage:"Tier updated successfully"}),await D(),I()},R=async A=>{await c(()=>n==null?void 0:n.channelApi.deleteTier(e,A),{showSuccessMessage:!0,successMessage:"Tier deleted successfully"}),await D()},O=async A=>{try{j(!0),await a(()=>n==null?void 0:n.channelApi.updateTiers(e,A),{showSuccessMessage:!0,successMessage:"Tiers reordered successfully"}),u(A)}catch{}finally{j(!1)}};return t.jsxs(C,{sx:{p:3},children:[t.jsx(eV,{tiers:d,isLoading:h,onEdit:w,onDelete:R,onReorder:O,onCreateTier:()=>m(!0)}),t.jsx(tV,{open:p,onClose:I,onSubmit:y?A=>_(y.id,A):T,initialData:y,tierCount:d.length,isEdit:!!y}),t.jsx(FT,{sx:{color:"#fff",zIndex:A=>A.zIndex.drawer+1,backdropFilter:"blur(3px)"},open:S,children:t.jsx(Wn,{color:"inherit"})})]})},(e,n)=>e.channelId===n.channelId);px.displayName="TiersTab";const nV=({tabs:e,activeTab:n,onTabChange:r,isOpen:s,onClose:o,onOpen:a})=>t.jsx(WT,{anchor:"bottom",open:s,onClose:o,onOpen:a,disableSwipeToOpen:!1,PaperProps:{sx:{borderTopLeftRadius:16,borderTopRightRadius:16,maxHeight:"80vh"}},children:t.jsx(vr,{sx:{pt:1,pb:2},children:e.map(c=>t.jsx(gh,{selected:n===c.id,onClick:()=>{r(c.id),o()},sx:{mx:1,borderRadius:1,mb:.5,"&.Mui-selected":{bgcolor:d=>fe(d.palette.primary.main,.1)}},children:t.jsx(Ht,{primary:c.label})},c.id))})}),rV=({tabs:e,activeTab:n,onTabChange:r})=>t.jsx(C,{sx:{borderBottom:1,borderColor:"divider"},children:t.jsx(ho,{value:n,onChange:(s,o)=>r(o),sx:{px:{md:3,lg:4}},children:e.map(s=>t.jsx(Zn,{label:s.label,value:s.id,sx:{textTransform:"none",fontWeight:500,fontSize:"0.9375rem"}},s.id))})}),Ry=[{id:"basic",label:"Basic Info",component:rj},{id:"tiers",label:"Channel Tiers",component:px}],sV=()=>{const{id:e}=es(),n=xn(),r=zc(n.breakpoints.down("md")),{api:s}=Xe(),[o,a]=g.useState("basic"),[c,d]=g.useState(!1),[u,h]=g.useState(null),[x,p]=g.useState(!0),{execute:m}=nt(),{execute:y}=nt(),b=g.useCallback(async()=>{if(!e)return;p(!0);const w=await m(()=>s==null?void 0:s.channelApi.getChannel(e),{showErrorToast:!0});w&&h(w),p(!1)},[e,m,s]);g.useEffect(()=>{b()},[b]);const S=async w=>{e&&(await y(()=>s==null?void 0:s.channelApi.updateChannel(e,w),{showSuccessMessage:!0,successMessage:"Channel updated successfully"}),await b())},j=w=>{a(w)};if(!e||x||!u)return null;const D=()=>{switch(o){case"basic":return t.jsx(rj,{channel:u,onUpdate:S});case"tiers":return t.jsx(px,{channelId:u.id});default:return null}};return t.jsx(C,{sx:{minHeight:"100%",bgcolor:"background.default"},children:r?t.jsxs(t.Fragment,{children:[t.jsx(C,{sx:{px:2,py:1.5},children:t.jsx(v,{variant:"h6",sx:{fontWeight:600},children:"Edit Channel"})}),D(),t.jsx(nV,{tabs:Ry,activeTab:o,onTabChange:j,isOpen:c,onClose:()=>d(!1),onOpen:()=>d(!0)})]}):t.jsxs(t.Fragment,{children:[t.jsx(rV,{tabs:Ry,activeTab:o,onTabChange:j}),t.jsx(C,{sx:{p:{md:3,lg:4}},children:D()})]})})},xS=({open:e,poll:n,onClose:r,onConvert:s,loading:o=!1})=>{var y,b;const{profile:a}=Ps(),[c,d]=g.useState({title:"",channelId:"",status:kn.PUBLISHED,isPremium:!1,requiredTierId:null,content:""}),[u,h]=g.useState(null),x=async()=>{if(!c.title.trim()){h("Title is required");return}if(!c.channelId){h("Channel is required");return}if(!c.content.trim()){h("Content is required");return}try{h(null),await s(c),p()}catch(S){h(S.message||"Failed to convert poll to news")}},p=()=>{d({title:"",channelId:"",status:kn.PUBLISHED,isPremium:!1,requiredTierId:null,content:""}),h(null),r()},m=S=>{d(j=>({...j,content:JSON.stringify(S)}))};return Dt.useEffect(()=>{e&&n&&d(S=>{var j;return{...S,title:`News Article: ${n.title}`,channelId:((j=n.channel)==null?void 0:j.id)||"",content:n.description||""}})},[e,n]),n?t.jsxs(en,{open:e,onClose:p,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{minHeight:"70vh"}},children:[t.jsxs(sn,{children:[t.jsx(v,{variant:"h6",children:"Convert Poll to News Article"}),t.jsxs(v,{variant:"body2",color:"text.secondary",sx:{mt:1},children:['Convert "',n.title,'" into a news article with poll results included']})]}),t.jsx(tn,{children:t.jsxs(ye,{spacing:3,sx:{mt:1},children:[u&&t.jsx(ct,{severity:"error",onClose:()=>h(null),children:u}),t.jsxs(C,{sx:{p:2,borderRadius:2,bgcolor:S=>fe(S.palette.primary.main,.05),border:S=>`1px solid ${fe(S.palette.primary.main,.2)}`},children:[t.jsx(v,{variant:"subtitle2",gutterBottom:!0,children:"Poll Results (will be included in the article)"}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Total Votes: ",n.voteCount||0,"  Status: ",(y=n.stats)!=null&&y.hasEnded?"Ended":"Active"]})]}),t.jsx(rt,{label:"Article Title",fullWidth:!0,required:!0,value:c.title,onChange:S=>d(j=>({...j,title:S.target.value})),helperText:"Create an engaging title for your news article"}),t.jsxs(bt,{fullWidth:!0,required:!0,children:[t.jsx(At,{children:"Channel"}),t.jsx(wt,{value:c.channelId,label:"Channel",onChange:S=>d(j=>({...j,channelId:S.target.value})),children:(b=a==null?void 0:a.staffChannels)==null?void 0:b.map(S=>t.jsx(Ce,{value:S.channelId,children:S.channel.name},S.id))})]}),t.jsxs(C,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Article Content"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Write your news article. Poll results will be automatically appended."}),t.jsx(ld,{data:c.content?JSON.parse(c.content):void 0,onChange:m,placeholder:"Write your news article content here...",borderColor:S=>S.palette.mode==="dark"?fe(S.palette.common.white,.23):fe(S.palette.common.black,.23)})]}),t.jsxs(C,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:2},children:"Publishing Options"}),t.jsxs(ye,{spacing:2,children:[t.jsx(Pi,{control:t.jsx(fc,{checked:c.isPremium,onChange:S=>d(j=>({...j,isPremium:S.target.checked}))}),label:"Premium Content"}),t.jsxs(bt,{fullWidth:!0,children:[t.jsx(At,{children:"Status"}),t.jsxs(wt,{value:c.status,label:"Status",onChange:S=>d(j=>({...j,status:Number(S.target.value)})),children:[t.jsx(Ce,{value:kn.DRAFT,children:"Draft"}),t.jsx(Ce,{value:kn.PUBLISHED,children:"Published"}),t.jsx(Ce,{value:kn.PENDING_REVIEW,children:"Pending Review"})]})]})]})]})]})}),t.jsxs(nn,{sx:{p:3},children:[t.jsx(xe,{onClick:p,disabled:o,children:"Cancel"}),t.jsx(xe,{onClick:x,variant:"contained",disabled:o,children:o?"Converting...":"Convert to News"})]})]}):null},oV=({poll:e,onRefresh:n})=>{var O;const[r,s]=g.useState(null),[o,a]=g.useState(!1),[c,d]=g.useState(!1),u=Ct(),{api:h}=Xe(),{execute:x}=nt(),p=xn(),m=A=>{s(A.currentTarget)},y=()=>{s(null)},b=()=>{u(`${ve.STUDIO_POLL_VIEW.replace(":id",e.id)}`),y()},S=()=>{u(`${ve.STUDIO_POLL_EDIT.replace(":id",e.id)}`),y()},j=()=>{a(!0),y()},D=()=>{d(!0),y()},w=async()=>{await x(()=>h==null?void 0:h.pollApi.delete(e.id),{showSuccessMessage:!0,successMessage:"Poll deleted successfully"})&&n(),a(!1)},I=async A=>{await x(()=>h==null?void 0:h.pollApi.convertToNews(e.id,A),{showSuccessMessage:!0,successMessage:"Poll converted to news successfully!"})&&n()},_=(()=>{const A=new Date,L=new Date(e.startDate),W=new Date(e.endDate);return A<L?{label:"Scheduled",color:"warning"}:A>W?{label:"Ended",color:"error"}:{label:"Active",color:"success"}})(),R=!e.isConverted&&!((O=e.stats)!=null&&O.hasEnded);return t.jsxs(Ne,{sx:{height:"100%",bgcolor:A=>fe(A.palette.mode==="dark"?A.palette.common.white:A.palette.common.black,A.palette.mode==="dark"?.05:.03),transition:p.transitions.create(["background-color","box-shadow"]),"&:hover":{bgcolor:A=>fe(A.palette.mode==="dark"?A.palette.common.white:A.palette.common.black,A.palette.mode==="dark"?.08:.05),boxShadow:1}},children:[t.jsxs(Fe,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[t.jsx(v,{variant:"h6",sx:{fontSize:"1rem",fontWeight:600,color:"text.primary"},children:e.title}),t.jsx(Le,{size:"small",onClick:m,sx:{ml:1},children:t.jsx(ud,{})})]}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:e.description}),t.jsxs(ye,{direction:"row",spacing:1,alignItems:"center",children:[t.jsx(Ye,{label:_.label,size:"small",color:_.color}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:[e.totalVotes??0," votes"]})]})]}),t.jsxs(uo,{anchorEl:r,open:!!r,onClose:y,PaperProps:{sx:{width:200}},children:[t.jsxs(Ce,{onClick:b,children:[t.jsx(qt,{children:t.jsx(Uo,{fontSize:"small"})}),t.jsx(Ht,{children:"View Poll"})]}),t.jsxs(Ce,{onClick:S,children:[t.jsx(qt,{children:t.jsx(Qa,{fontSize:"small"})}),t.jsx(Ht,{children:"Edit Poll"})]}),R&&t.jsxs(Ce,{onClick:D,children:[t.jsx(qt,{children:t.jsx(Ra,{fontSize:"small"})}),t.jsx(Ht,{children:"Convert to News"})]}),t.jsxs(Ce,{onClick:j,children:[t.jsx(qt,{children:t.jsx(zo,{fontSize:"small"})}),t.jsx(Ht,{children:"Delete Poll"})]})]}),t.jsx(Vp,{open:o,title:"Delete Poll",content:"Are you sure you want to delete this poll? This action cannot be undone.",onConfirm:w,onClose:()=>a(!1)}),t.jsx(xS,{open:c,poll:e,onClose:()=>d(!1),onConvert:I})]})},iV=()=>{const[e,n]=g.useState([]),[r,s]=g.useState(1),[o,a]=g.useState(!0),[c,d]=g.useState(!0),{api:u}=Xe(),{profile:h}=Ps(),x=Ct(),p=xn(),{execute:m}=nt(),y=()=>{b(r+1)},b=async(j=r)=>{if(!(h!=null&&h.id))return;const D=await m(()=>u==null?void 0:u.studioApi.getMyContent("polls"),{showErrorToast:!0});D&&(n(w=>j===1?(D==null?void 0:D.items)??[]:[...w,...(D==null?void 0:D.items)??[]]),s((D==null?void 0:D.metadata.currentPage)??1),a((D==null?void 0:D.metadata.hasNext)===!0)),d(!1)};g.useEffect(()=>{b(1)},[]);const S=()=>t.jsxs(C,{sx:{p:2,borderRadius:1,bgcolor:j=>fe(j.palette.mode==="dark"?j.palette.common.white:j.palette.common.black,j.palette.mode==="dark"?.05:.03),height:{xs:180,sm:200},transition:p.transitions.create(["background-color","height"])},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[t.jsx(ce,{variant:"circular",width:32,height:32,sx:{mr:1.5}}),t.jsxs(C,{sx:{width:"100%"},children:[t.jsx(ce,{width:"60%",height:20}),t.jsx(ce,{width:"40%",height:16})]})]}),t.jsx(ce,{variant:"rectangular",sx:{borderRadius:1,height:{xs:70,sm:80}}}),t.jsx(C,{sx:{mt:1.5},children:t.jsx(ce,{width:"30%",height:20})})]});return t.jsxs(C,{sx:{px:{xs:2,sm:3,md:4},py:{xs:2,sm:3},maxWidth:"lg",mx:"auto",width:"100%"},children:[t.jsx(C,{sx:{mb:{xs:2,sm:3}},children:t.jsx(v,{variant:"h5",sx:{fontWeight:600,fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:c?t.jsx(ce,{width:150}):"My Polls"})}),c?t.jsx($,{container:!0,spacing:2,children:[1,2].map(j=>t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(S,{})},j))}):e.length===0?t.jsx(zs,{title:"No Polls Yet",description:"Create your first poll to start gathering opinions from your audience.",icon:t.jsx(Uf,{sx:{fontSize:{xs:40,sm:48}}}),action:{label:"Create Poll",onClick:()=>x(ve.STUDIO_POLL_CREATE)}}):t.jsx(Bs,{dataLength:e.length,next:y,hasMore:o,loader:t.jsx($,{container:!0,spacing:2,sx:{mt:.5},children:[1,2].map(j=>t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(S,{})},j))}),children:t.jsx($,{container:!0,spacing:2,children:e.map(j=>t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(oV,{poll:j,onRefresh:()=>b(1)})},j.id))})})]})};function aV(e,...n){const r=new URL(`https://mui.com/production-error/?code=${e}`);return n.forEach(s=>r.searchParams.append("args[]",s)),`Minified MUI error #${e}; visit ${r} for the full message.`}const mS=ee.oneOfType([ee.func,ee.object]);function lV(e){if(typeof e!="string")throw new Error(aV(7));return e.charAt(0).toUpperCase()+e.slice(1)}function xh(e){return e&&e.ownerDocument||document}const Zr=typeof window<"u"?g.useLayoutEffect:g.useEffect;let _y=0;function cV(e){const[n,r]=g.useState(e),s=e||n;return g.useEffect(()=>{n==null&&(_y+=1,r(`mui-${_y}`))},[n]),s}const dV={...BT},Oy=dV.useId;function yd(e){if(Oy!==void 0){const n=Oy();return e??n}return cV(e)}function ki(e){const{controlled:n,default:r,name:s,state:o="value"}=e,{current:a}=g.useRef(n!==void 0),[c,d]=g.useState(r),u=a?n:c,h=g.useCallback(x=>{a||d(x)},[]);return[u,h]}function We(e){const n=g.useRef(e);return Zr(()=>{n.current=e}),g.useRef((...r)=>(0,n.current)(...r)).current}function tr(...e){const n=g.useRef(void 0),r=g.useCallback(s=>{const o=e.map(a=>{if(a==null)return null;if(typeof a=="function"){const c=a,d=c(s);return typeof d=="function"?d:()=>{c(null)}}return a.current=s,()=>{a.current=null}});return()=>{o.forEach(a=>a==null?void 0:a())}},e);return g.useMemo(()=>e.every(s=>s==null)?null:s=>{n.current&&(n.current(),n.current=void 0),s!=null&&(n.current=r(s))},e)}const ky={};function uV(e,n){const r=g.useRef(ky);return r.current===ky&&(r.current=e(n)),r}const hV=[];function fV(e){g.useEffect(e,hV)}class xx{constructor(){Ae(this,"currentId",null);Ae(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Ae(this,"disposeEffect",()=>this.clear)}static create(){return new xx}start(n,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},n)}}function gi(){const e=uV(xx.create).current;return fV(e.disposeEffect),e}const pV={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Kt(e,n,r=void 0){const s={};for(const o in e){const a=e[o];let c="",d=!0;for(let u=0;u<a.length;u+=1){const h=a[u];h&&(c+=(d===!0?"":" ")+n(h),d=!1,r&&r[h]&&(c+=" "+r[h]))}s[o]=c}return s}const My=e=>e,xV=()=>{let e=My;return{configure(n){e=n},generate(n){return e(n)},reset(){e=My}}},mV=xV(),gV={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function an(e,n,r="Mui"){const s=gV[n];return s?`${r}-${s}`:`${mV.generate(e)}-${n}`}function dn(e,n,r="Mui"){const s={};return n.forEach(o=>{s[o]=an(e,o,r)}),s}function bV(e){return typeof e=="string"}function yV(e,n,r){return e===void 0||bV(e)?n:{...n,ownerState:{...n.ownerState,...r}}}function vV(e,n=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(s=>s.match(/^on[A-Z]/)&&typeof e[s]=="function"&&!n.includes(s)).forEach(s=>{r[s]=e[s]}),r}function Ny(e){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{n[r]=e[r]}),n}function jV(e){const{getSlotProps:n,additionalProps:r,externalSlotProps:s,externalForwardedProps:o,className:a}=e;if(!n){const y=Qt(r==null?void 0:r.className,a,o==null?void 0:o.className,s==null?void 0:s.className),b={...r==null?void 0:r.style,...o==null?void 0:o.style,...s==null?void 0:s.style},S={...r,...o,...s};return y.length>0&&(S.className=y),Object.keys(b).length>0&&(S.style=b),{props:S,internalRef:void 0}}const c=vV({...o,...s}),d=Ny(s),u=Ny(o),h=n(c),x=Qt(h==null?void 0:h.className,r==null?void 0:r.className,a,o==null?void 0:o.className,s==null?void 0:s.className),p={...h==null?void 0:h.style,...r==null?void 0:r.style,...o==null?void 0:o.style,...s==null?void 0:s.style},m={...h,...r,...u,...d};return x.length>0&&(m.className=x),Object.keys(p).length>0&&(m.style=p),{props:m,internalRef:h.ref}}function Fa(e,n,r){return typeof e=="function"?e(n,r):e}function Nt(e){var p;const{elementType:n,externalSlotProps:r,ownerState:s,skipResolvingSlotProps:o=!1,...a}=e,c=o?{}:Fa(r,s),{props:d,internalRef:u}=jV({...a,externalSlotProps:c}),h=tr(u,c==null?void 0:c.ref,(p=e.additionalProps)==null?void 0:p.ref);return yV(n,{...d,ref:h},s)}const SV=["localeText"],zh=g.createContext(null),gS=function(n){const{localeText:r}=n,s=st(n,SV),{utils:o,localeText:a}=g.useContext(zh)??{utils:void 0,localeText:void 0},c=Yt({props:s,name:"MuiLocalizationProvider"}),{children:d,dateAdapter:u,dateFormats:h,dateLibInstance:x,adapterLocale:p,localeText:m}=c,y=g.useMemo(()=>B({},m,a,r),[m,a,r]),b=g.useMemo(()=>{if(!u)return o||null;const D=new u({locale:p,formats:h,instance:x});if(!D.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/quickstart/#installation"].join(`
`));return D},[u,p,h,x,o]),S=g.useMemo(()=>b?{minDate:b.date("1900-01-01T00:00:00.000"),maxDate:b.date("2099-12-31T00:00:00.000")}:null,[b]),j=g.useMemo(()=>({utils:b,defaultDates:S,localeText:y}),[S,b,y]);return t.jsx(zh.Provider,{value:j,children:d})},wV=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:B({},e)}}}}),bS={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",nextStepButtonLabel:"Next",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",timeRangePickerToolbarTitle:"Select time range",clockLabelText:(e,n)=>`Select ${e}. ${n?`Selected time is ${n}`:"No time selected"}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:e=>e?`Choose date, selected date is ${e}`:"Choose date",openTimePickerDialogue:e=>e?`Choose time, selected time is ${e}`:"Choose time",openRangePickerDialogue:e=>e?`Choose range, selected range is ${e}`:"Choose range",fieldClearLabel:"Clear",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},CV=bS;wV(bS);const Ho=()=>{const e=g.useContext(zh);if(e===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const n=g.useMemo(()=>B({},CV,e.localeText),[e.localeText]);return g.useMemo(()=>B({},e,{localeText:n}),[e,n])},Vt=()=>Ho().utils,yS=()=>Ho().defaultDates,zi=e=>{const n=Vt(),r=g.useRef(void 0);return r.current===void 0&&(r.current=n.date(void 0,e)),r.current},ps=()=>Ho().localeText,PV=fo(t.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),DV=fo(t.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),IV=fo(t.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),EV=fo(t.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");fo(t.jsxs(g.Fragment,{children:[t.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),t.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");const TV=fo(t.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange"),AV=fo(t.jsxs(g.Fragment,{children:[t.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),t.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time"),RV=fo(t.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function _V(e){return an("MuiPickersArrowSwitcher",e)}dn("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const vS=g.createContext(()=>!0);function OV(){return g.useContext(vS)}const jS=g.createContext(null);function SS(){return g.useContext(jS)}const mx=g.createContext(null),bo=()=>{const e=g.useContext(mx);if(e==null)throw new Error("MUI X: The `usePickerContext` hook can only be called inside the context of a Picker component");return e},wS=g.createContext(null),CS=g.createContext({ownerState:{isPickerDisabled:!1,isPickerReadOnly:!1,isPickerValueEmpty:!1,isPickerOpen:!1,pickerVariant:"desktop",pickerOrientation:"portrait"},rootRefObject:{current:null},labelId:void 0,dismissViews:()=>{},hasUIView:!0,getCurrentViewMode:()=>"UI",triggerElement:null,viewContainerRole:null,defaultActionBarActions:[],onPopperExited:void 0});function PS(e){const{contextValue:n,actionsContextValue:r,privateContextValue:s,fieldPrivateContextValue:o,isValidContextValue:a,localeText:c,children:d}=e;return t.jsx(mx.Provider,{value:n,children:t.jsx(wS.Provider,{value:r,children:t.jsx(CS.Provider,{value:s,children:t.jsx(jS.Provider,{value:o,children:t.jsx(vS.Provider,{value:a,children:t.jsx(gS,{localeText:c,children:d})})})})})})}const Dn=()=>g.useContext(CS),kV=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId","classes"],MV=["ownerState"],NV=["ownerState"],LV=ke("div",{name:"MuiPickersArrowSwitcher",slot:"Root"})({display:"flex"}),$V=ke("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer"})(({theme:e})=>({width:e.spacing(3)})),Ly=ke(Le,{name:"MuiPickersArrowSwitcher",slot:"Button"})({variants:[{props:{isButtonHidden:!0},style:{visibility:"hidden"}}]}),FV=e=>Kt({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},_V,e),WV=g.forwardRef(function(n,r){const s=Cs(),o=Yt({props:n,name:"MuiPickersArrowSwitcher"}),{children:a,className:c,slots:d,slotProps:u,isNextDisabled:h,isNextHidden:x,onGoToNext:p,nextLabel:m,isPreviousDisabled:y,isPreviousHidden:b,onGoToPrevious:S,previousLabel:j,labelId:D,classes:w}=o,I=st(o,kV),{ownerState:T}=Dn(),_=FV(w),R={isDisabled:h,isHidden:x,goTo:p,label:m},O={isDisabled:y,isHidden:b,goTo:S,label:j},A=(d==null?void 0:d.previousIconButton)??Ly,L=Nt({elementType:A,externalSlotProps:u==null?void 0:u.previousIconButton,additionalProps:{size:"medium",title:O.label,"aria-label":O.label,disabled:O.isDisabled,edge:"end",onClick:O.goTo},ownerState:B({},T,{isButtonHidden:O.isHidden??!1}),className:Qt(_.button,_.previousIconButton)}),W=(d==null?void 0:d.nextIconButton)??Ly,H=Nt({elementType:W,externalSlotProps:u==null?void 0:u.nextIconButton,additionalProps:{size:"medium",title:R.label,"aria-label":R.label,disabled:R.isDisabled,edge:"start",onClick:R.goTo},ownerState:B({},T,{isButtonHidden:R.isHidden??!1}),className:Qt(_.button,_.nextIconButton)}),N=(d==null?void 0:d.leftArrowIcon)??DV,se=Nt({elementType:N,externalSlotProps:u==null?void 0:u.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:T,className:_.leftArrowIcon}),Z=st(se,MV),G=(d==null?void 0:d.rightArrowIcon)??IV,q=Nt({elementType:G,externalSlotProps:u==null?void 0:u.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:T,className:_.rightArrowIcon}),K=st(q,NV);return t.jsxs(LV,B({ref:r,className:Qt(_.root,c),ownerState:T},I,{children:[t.jsx(A,B({},L,{children:s?t.jsx(G,B({},K)):t.jsx(N,B({},Z))})),a?t.jsx(v,{variant:"subtitle1",component:"span",id:D,children:a}):t.jsx($V,{className:_.spacer,ownerState:T}),t.jsx(W,B({},H,{children:s?t.jsx(N,B({},Z)):t.jsx(G,B({},K))}))]}))}),js=(e,n)=>e.length!==n.length?!1:n.every(r=>e.includes(r)),BV=({openTo:e,defaultOpenTo:n,views:r,defaultViews:s})=>{const o=r??s;let a;if(e!=null)a=e;else if(o.includes(n))a=n;else if(o.length>0)a=o[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:o,openTo:a}},DS=["hours","minutes","seconds"],VV=["hours","minutes","seconds","meridiem"],Wa=e=>DS.includes(e),hi=e=>VV.includes(e),UV=(e,n)=>e?n.getHours(e)>=12?"pm":"am":null,Hh=(e,n,r)=>r&&(e>=12?"pm":"am")!==n?n==="am"?e-12:e+12:e,zV=(e,n,r,s)=>{const o=Hh(s.getHours(e),n,r);return s.setHours(e,o)},$y=(e,n)=>n.getHours(e)*3600+n.getMinutes(e)*60+n.getSeconds(e),vd=(e,n)=>(r,s)=>e?n.isAfter(r,s):$y(r,n)>$y(s,n),Fy=(e,{format:n,views:r,ampm:s})=>{if(n!=null)return n;const o=e.formats;return js(r,["hours"])?s?`${o.hours12h} ${o.meridiem}`:o.hours24h:js(r,["minutes"])?o.minutes:js(r,["seconds"])?o.seconds:js(r,["minutes","seconds"])?`${o.minutes}:${o.seconds}`:js(r,["hours","minutes","seconds"])?s?`${o.hours12h}:${o.minutes}:${o.seconds} ${o.meridiem}`:`${o.hours24h}:${o.minutes}:${o.seconds}`:s?`${o.hours12h}:${o.minutes} ${o.meridiem}`:`${o.hours24h}:${o.minutes}`},IS={hasNextStep:!1,hasSeveralSteps:!1,goToNextStep:()=>{},areViewsInSameStep:()=>!0};function HV(e){const{steps:n,isViewMatchingStep:r,onStepChange:s}=e;return o=>{if(n==null)return IS;const a=n.findIndex(d=>r(o.view,d)),c=a===-1||a===n.length-1?null:n[a+1];return{hasNextStep:c!=null,hasSeveralSteps:n.length>1,goToNextStep:()=>{c!=null&&s(B({},o,{step:c}))},areViewsInSameStep:(d,u)=>{const h=n.find(p=>r(d,p)),x=n.find(p=>r(u,p));return h===x}}}}function jd({onChange:e,onViewChange:n,openTo:r,view:s,views:o,autoFocus:a,focusedView:c,onFocusedViewChange:d,getStepNavigation:u}){const h=g.useRef(r),x=g.useRef(o),p=g.useRef(o.includes(r)?r:o[0]),[m,y]=ki({name:"useViews",state:"view",controlled:s,default:p.current}),b=g.useRef(a?m:null),[S,j]=ki({name:"useViews",state:"focusedView",controlled:c,default:b.current}),D=u?u({setView:y,view:m,defaultView:p.current,views:o}):IS;g.useEffect(()=>{(h.current&&h.current!==r||x.current&&x.current.some(L=>!o.includes(L)))&&(y(o.includes(r)?r:o[0]),x.current=o,h.current=r)},[r,y,m,o]);const w=o.indexOf(m),I=o[w-1]??null,T=o[w+1]??null,_=We((L,W)=>{j(W?L:H=>L===H?null:H),d==null||d(L,W)}),R=We(L=>{_(L,!0),L!==m&&(y(L),n&&n(L))}),O=We(()=>{T&&R(T)}),A=We((L,W,H)=>{const N=W==="finish",se=H?o.indexOf(H)<o.length-1:!!T;e(L,N&&se?"partial":W,H);let G=null;if(H!=null&&H!==m?G=H:N&&(G=m),G==null)return;const q=o[o.indexOf(G)+1];q==null||!D.areViewsInSameStep(G,q)||R(q)});return B({},D,{view:m,setView:R,focusedView:S,setFocusedView:_,nextView:T,previousView:I,defaultView:o.includes(r)?r:o[0],goToNextView:O,setValueAndGoToNextView:A})}function YV(e,{disableFuture:n,maxDate:r,timezone:s}){const o=Vt();return g.useMemo(()=>{const a=o.date(void 0,s),c=o.startOfMonth(n&&o.isBefore(a,r)?a:r);return!o.isAfter(c,e)},[n,r,e,o,s])}function GV(e,{disablePast:n,minDate:r,timezone:s}){const o=Vt();return g.useMemo(()=>{const a=o.date(void 0,s),c=o.startOfMonth(n&&o.isAfter(a,r)?a:r);return!o.isBefore(c,e)},[n,r,e,o,s])}function ES(e,n,r,s){const o=Vt(),a=g.useMemo(()=>o.isValid(e)?e:null,[o,e]),c=UV(a,o),d=g.useCallback(u=>{const h=a==null?null:zV(a,u,!!n,o);r(h,s??"partial")},[n,a,r,s,o]);return{meridiemMode:c,handleMeridiemChange:d}}const Ba=36,Sd=2,Mi=320,qV=280,Ni=336,TS=232,ya=48,gx=ke("div")({overflow:"hidden",width:Mi,maxHeight:Ni,display:"flex",flexDirection:"column",margin:"0 auto"}),Wc=(e,n,r)=>{let s=n;return s=e.setHours(s,e.getHours(r)),s=e.setMinutes(s,e.getMinutes(r)),s=e.setSeconds(s,e.getSeconds(r)),s=e.setMilliseconds(s,e.getMilliseconds(r)),s},Va=({date:e,disableFuture:n,disablePast:r,maxDate:s,minDate:o,isDateDisabled:a,utils:c,timezone:d})=>{const u=Wc(c,c.date(void 0,d),e);r&&c.isBefore(o,u)&&(o=u),n&&c.isAfter(s,u)&&(s=u);let h=e,x=e;for(c.isBefore(e,o)&&(h=o,x=null),c.isAfter(e,s)&&(x&&(x=s),h=null);h||x;){if(h&&c.isAfter(h,s)&&(h=null),x&&c.isBefore(x,o)&&(x=null),h){if(!a(h))return h;h=c.addDays(h,1)}if(x){if(!a(x))return x;x=c.addDays(x,-1)}}return null},KV=(e,n)=>e.isValid(n)?n:null,Bc=(e,n,r)=>n==null||!e.isValid(n)?r:n,JV=(e,n,r)=>!e.isValid(n)&&n!=null&&!e.isValid(r)&&r!=null?!0:e.isEqual(n,r),bx=(e,n)=>{const s=[e.startOfYear(n)];for(;s.length<12;){const o=s[s.length-1];s.push(e.addMonths(o,1))}return s},yx=(e,n,r)=>r==="date"?e.startOfDay(e.date(void 0,n)):e.date(void 0,n),Da=(e,n)=>{const r=e.setHours(e.date(),n==="am"?2:14);return e.format(r,"meridiem")},AS=["year","month","day"],Li=e=>AS.includes(e),Wy=(e,{format:n,views:r},s)=>{if(n!=null)return n;const o=e.formats;return js(r,["year"])?o.year:js(r,["month"])?o.month:js(r,["day"])?o.dayOfMonth:js(r,["month","year"])?`${o.month} ${o.year}`:js(r,["day","month"])?`${o.month} ${o.dayOfMonth}`:o.keyboardDate},XV=(e,n)=>{const r=e.startOfWeek(n);return[0,1,2,3,4,5,6].map(s=>e.addDays(r,s))},Yo=({name:e,timezone:n,value:r,defaultValue:s,referenceDate:o,onChange:a,valueManager:c})=>{const d=Vt(),[u,h]=ki({name:e,state:"value",controlled:r,default:s??c.emptyValue}),x=g.useMemo(()=>c.getTimezone(d,u),[d,c,u]),p=We(S=>x==null?S:c.setTimezone(d,x,S)),m=g.useMemo(()=>n||x||(o?d.getTimezone(o):"default"),[n,x,o,d]),y=g.useMemo(()=>c.setTimezone(d,m,u),[c,d,m,u]),b=We((S,...j)=>{const D=p(S);h(D),a==null||a(D,...j)});return{value:y,handleValueChange:b,timezone:m}},ls={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},QV=e=>Math.max(...e.map(n=>ls[n.type]??1)),xa=(e,n,r)=>{if(n===ls.year)return e.startOfYear(r);if(n===ls.month)return e.startOfMonth(r);if(n===ls.day)return e.startOfDay(r);let s=r;return n<ls.minutes&&(s=e.setMinutes(s,0)),n<ls.seconds&&(s=e.setSeconds(s,0)),n<ls.milliseconds&&(s=e.setMilliseconds(s,0)),s},ZV=({props:e,utils:n,granularity:r,timezone:s,getTodayDate:o})=>{let a=o?o():xa(n,r,yx(n,s));e.minDate!=null&&n.isAfterDay(e.minDate,a)&&(a=xa(n,r,e.minDate)),e.maxDate!=null&&n.isBeforeDay(e.maxDate,a)&&(a=xa(n,r,e.maxDate));const c=vd(e.disableIgnoringDatePartForTimeValidation??!1,n);return e.minTime!=null&&c(e.minTime,a)&&(a=xa(n,r,e.disableIgnoringDatePartForTimeValidation?e.minTime:Wc(n,a,e.minTime))),e.maxTime!=null&&c(a,e.maxTime)&&(a=xa(n,r,e.disableIgnoringDatePartForTimeValidation?e.maxTime:Wc(n,a,e.maxTime))),a},RS=(e,n)=>{const r=e.formatTokenMap[n];if(r==null)throw new Error([`MUI X: The token "${n}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof r=="string"?{type:r,contentType:r==="meridiem"?"letter":"digit",maxLength:void 0}:{type:r.sectionType,contentType:r.contentType,maxLength:r.maxLength}},wd=(e,n)=>{const r=[],s=e.date(void 0,"default"),o=e.startOfWeek(s),a=e.endOfWeek(s);let c=o;for(;e.isBefore(c,a);)r.push(c),c=e.addDays(c,1);return r.map(d=>e.formatByString(d,n))},_S=(e,n,r,s)=>{switch(r){case"month":return bx(e,e.date(void 0,n)).map(o=>e.formatByString(o,s));case"weekDay":return wd(e,s);case"meridiem":{const o=e.date(void 0,n);return[e.startOfDay(o),e.endOfDay(o)].map(a=>e.formatByString(a,s))}default:return[]}},By="s",eU=["0","1","2","3","4","5","6","7","8","9"],tU=e=>{const n=e.date(void 0);return e.formatByString(e.setSeconds(n,0),By)==="0"?eU:Array.from({length:10}).map((s,o)=>e.formatByString(e.setSeconds(n,o),By))},Vo=(e,n)=>{if(n[0]==="0")return e;const r=[];let s="";for(let o=0;o<e.length;o+=1){s+=e[o];const a=n.indexOf(s);a>-1&&(r.push(a.toString()),s="")}return r.join("")},vx=(e,n)=>n[0]==="0"?e:e.split("").map(r=>n[Number(r)]).join(""),Vy=(e,n)=>{const r=Vo(e,n);return r!==" "&&!Number.isNaN(Number(r))},jx=(e,n)=>Number(e).toString().padStart(n,"0"),OS=(e,n,r,s,o)=>{if(o.type==="day"&&o.contentType==="digit-with-letter"){const c=e.setDate(r.longestMonth,n);return e.formatByString(c,o.format)}let a=n.toString();return o.hasLeadingZerosInInput&&(a=jx(a,o.maxLength)),vx(a,s)},Sx=(e,n,r)=>{let s=e.value||e.placeholder;const o=n==="non-input"?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;return n==="non-input"&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(s=Number(Vo(s,r)).toString()),["input-rtl","input-ltr"].includes(n)&&e.contentType==="digit"&&!o&&s.length===1&&(s=`${s}`),n==="input-rtl"&&(s=`${s}`),s},Uy=(e,n,r,s)=>e.formatByString(e.parse(n,r),s),nU=(e,n)=>e.formatByString(e.date(void 0,"system"),n).length===4,kS=(e,n,r,s)=>{if(n!=="digit")return!1;const o=e.date(void 0,"default");switch(r){case"year":return e.lib==="dayjs"&&s==="YY"?!0:e.formatByString(e.setYear(o,1),s).startsWith("0");case"month":return e.formatByString(e.startOfYear(o),s).length>1;case"day":return e.formatByString(e.startOfMonth(o),s).length>1;case"weekDay":return e.formatByString(e.startOfWeek(o),s).length>1;case"hours":return e.formatByString(e.setHours(o,1),s).length>1;case"minutes":return e.formatByString(e.setMinutes(o,1),s).length>1;case"seconds":return e.formatByString(e.setSeconds(o,1),s).length>1;default:throw new Error("Invalid section type")}},rU=(e,n,r)=>{const s=n.some(u=>u.type==="day"),o=[],a=[];for(let u=0;u<n.length;u+=1){const h=n[u];s&&h.type==="weekDay"||(o.push(h.format),a.push(Sx(h,"non-input",r)))}const c=o.join(" "),d=a.join(" ");return e.parse(d,c)},sU=e=>e.map(n=>`${n.startSeparator}${n.value||n.placeholder}${n.endSeparator}`).join(""),oU=(e,n,r)=>{const o=e.map(a=>{const c=Sx(a,r?"input-rtl":"input-ltr",n);return`${a.startSeparator}${c}${a.endSeparator}`}).join("");return r?`${o}`:o},iU=(e,n,r)=>{const s=e.date(void 0,r),o=e.endOfYear(s),a=e.endOfDay(s),{maxDaysInMonth:c,longestMonth:d}=bx(e,s).reduce((u,h)=>{const x=e.getDaysInMonth(h);return x>u.maxDaysInMonth?{maxDaysInMonth:x,longestMonth:h}:u},{maxDaysInMonth:0,longestMonth:null});return{year:({format:u})=>({minimum:0,maximum:nU(e,u)?9999:99}),month:()=>({minimum:1,maximum:e.getMonth(o)+1}),day:({currentDate:u})=>({minimum:1,maximum:e.isValid(u)?e.getDaysInMonth(u):c,longestMonth:d}),weekDay:({format:u,contentType:h})=>{if(h==="digit"){const x=wd(e,u).map(Number);return{minimum:Math.min(...x),maximum:Math.max(...x)}}return{minimum:1,maximum:7}},hours:({format:u})=>{const h=e.getHours(a);return Vo(e.formatByString(e.endOfDay(s),u),n)!==h.toString()?{minimum:1,maximum:Number(Vo(e.formatByString(e.startOfDay(s),u),n))}:{minimum:0,maximum:h}},minutes:()=>({minimum:0,maximum:e.getMinutes(a)}),seconds:()=>({minimum:0,maximum:e.getSeconds(a)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},aU=(e,n,r,s)=>{switch(n.type){case"year":return e.setYear(s,e.getYear(r));case"month":return e.setMonth(s,e.getMonth(r));case"weekDay":{let o=e.formatByString(r,n.format);n.hasLeadingZerosInInput&&(o=jx(o,n.maxLength));const a=wd(e,n.format),c=a.indexOf(o),u=a.indexOf(n.value)-c;return e.addDays(r,u)}case"day":return e.setDate(s,e.getDate(r));case"meridiem":{const o=e.getHours(r)<12,a=e.getHours(s);return o&&a>=12?e.addHours(s,-12):!o&&a<12?e.addHours(s,12):s}case"hours":return e.setHours(s,e.getHours(r));case"minutes":return e.setMinutes(s,e.getMinutes(r));case"seconds":return e.setSeconds(s,e.getSeconds(r));default:return s}},zy={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},Hy=(e,n,r,s,o)=>[...r].sort((a,c)=>zy[a.type]-zy[c.type]).reduce((a,c)=>!o||c.modified?aU(e,c,n,a):a,s),lU=()=>navigator.userAgent.toLowerCase().includes("android"),cU=(e,n)=>{const r={};if(!n)return e.forEach((u,h)=>{const x=h===0?null:h-1,p=h===e.length-1?null:h+1;r[h]={leftIndex:x,rightIndex:p}}),{neighbors:r,startIndex:0,endIndex:e.length-1};const s={},o={};let a=0,c=0,d=e.length-1;for(;d>=0;){c=e.findIndex((u,h)=>{var x;return h>=a&&((x=u.endSeparator)==null?void 0:x.includes(" "))&&u.endSeparator!==" / "}),c===-1&&(c=e.length-1);for(let u=c;u>=a;u-=1)o[u]=d,s[d]=u,d-=1;a=c+1}return e.forEach((u,h)=>{const x=o[h],p=x===0?null:s[x-1],m=x===e.length-1?null:s[x+1];r[h]={leftIndex:p,rightIndex:m}}),{neighbors:r,startIndex:s[0],endIndex:s[e.length-1]}},Yh=(e,n)=>{if(e==null)return null;if(e==="all")return"all";if(typeof e=="string"){const r=n.findIndex(s=>s.type===e);return r===-1?null:r}return e},dU=["value","referenceDate"],cr={emptyValue:null,getTodayValue:yx,getInitialReferenceValue:e=>{let{value:n,referenceDate:r}=e,s=st(e,dU);return s.utils.isValid(n)?n:r??ZV(s)},cleanValue:KV,areValuesEqual:JV,isSameError:(e,n)=>e===n,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,n)=>e.isValid(n)?e.getTimezone(n):null,setTimezone:(e,n,r)=>r==null?null:e.setTimezone(r,n)},uU={updateReferenceValue:(e,n,r)=>e.isValid(n)?n:r,getSectionsFromValue:(e,n)=>n(e),getV7HiddenInputValueFromSections:sU,getV6InputValueFromSections:oU,parseValueStr:(e,n,r)=>r(e.trim(),n),getDateFromSection:e=>e,getDateSectionsFromValue:e=>e,updateDateInValue:(e,n,r)=>r,clearDateSections:e=>e.map(n=>B({},n,{value:""}))},MS=({value:e,referenceDate:n,utils:r,props:s,timezone:o})=>{const a=g.useMemo(()=>cr.getInitialReferenceValue({value:e,utils:r,props:s,referenceDate:n,granularity:ls.day,timezone:o,getTodayDate:()=>yx(r,o,"date")}),[]);return e??a};function hU(e){return an("MuiDigitalClock",e)}const Gh=dn("MuiDigitalClock",["root","list","item"]);function fU(e,n){return Array.isArray(n)?n.every(r=>e.indexOf(r)!==-1):e.indexOf(n)!==-1}const pU=e=>{setTimeout(e,0)},Hn=(e=document)=>{const n=e.activeElement;return n?n.shadowRoot?Hn(n.shadowRoot):n:null},Vc=e=>Array.from(e.children).indexOf(Hn(document)),xU="@media (pointer: fine)";function mU(...e){return e.reduce((n,r)=>(Array.isArray(r)?n.push(...r):r!=null&&n.push(r),n),[])}const gU=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","views","skipDisabled","timezone"],bU=e=>Kt({root:["root"],list:["list"],item:["item"]},hU,e),yU=ke(gx,{name:"MuiDigitalClock",slot:"Root"})({overflowY:"auto",width:"100%",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:TS,variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),vU=ke(p0,{name:"MuiDigitalClock",slot:"List"})({padding:0}),jU=ke(Ce,{name:"MuiDigitalClock",slot:"Item",shouldForwardProp:e=>e!=="itemValue"&&e!=="formattedValue"})(({theme:e})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:fe(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:fe(e.palette.primary.main,e.palette.action.focusOpacity)}})),SU=g.forwardRef(function(n,r){const s=Vt(),o=g.useRef(null),a=tr(r,o),c=g.useRef(null),d=Yt({props:n,name:"MuiDigitalClock"}),{ampm:u=s.is12HourCycleInCurrentLocale(),timeStep:h=30,autoFocus:x,slots:p,slotProps:m,value:y,defaultValue:b,referenceDate:S,disableIgnoringDatePartForTimeValidation:j=!1,maxTime:D,minTime:w,disableFuture:I,disablePast:T,minutesStep:_=1,shouldDisableTime:R,onChange:O,view:A,openTo:L,onViewChange:W,focusedView:H,onFocusedViewChange:N,className:se,classes:Z,disabled:G,readOnly:q,views:K=["hours"],skipDisabled:X=!1,timezone:ae}=d,V=st(d,gU),{value:re,handleValueChange:Ee,timezone:be}=Yo({name:"DigitalClock",timezone:ae,value:y,defaultValue:b,referenceDate:S,onChange:O,valueManager:cr}),_e=ps(),de=zi(be),{ownerState:te}=Dn(),z=B({},te,{hasDigitalClockAlreadyBeenRendered:!!o.current}),De=bU(Z),oe=(p==null?void 0:p.digitalClockItem)??jU,le=Nt({elementType:oe,externalSlotProps:m==null?void 0:m.digitalClockItem,ownerState:z,className:De.item}),ie=MS({value:re,referenceDate:S,utils:s,props:d,timezone:be}),ne=We(we=>Ee(we,"finish","hours")),{setValueAndGoToNextView:me}=jd({view:A,views:K,openTo:L,onViewChange:W,onChange:ne,focusedView:H,onFocusedViewChange:N}),he=We(we=>{me(we,"finish")});Zr(()=>{if(o.current===null)return;const we=o.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!we)return;const Y=we.offsetTop;(x||H)&&we.focus(),o.current.scrollTop=Y-4});const Oe=g.useCallback(we=>{const Y=vd(j,s),ge=()=>!(w&&Y(w,we)||D&&Y(we,D)||I&&Y(we,de)||T&&Y(de,we)),Je=()=>s.getMinutes(we)%_!==0?!1:R?!R(we,"hours"):!0;return!ge()||!Je()},[j,s,w,D,I,de,T,_,R]),Re=g.useMemo(()=>{const we=[];let ge=s.startOfDay(ie);for(;s.isSameDay(ie,ge);)we.push(ge),ge=s.addMinutes(ge,h);return we},[ie,h,s]),Ge=Re.findIndex(we=>s.isEqual(we,ie)),ue=we=>{switch(we.key){case"PageUp":{const Y=Vc(c.current)-5,ge=c.current.children,Je=Math.max(0,Y),yt=ge[Je];yt&&yt.focus(),we.preventDefault();break}case"PageDown":{const Y=Vc(c.current)+5,ge=c.current.children,Je=Math.min(ge.length-1,Y),yt=ge[Je];yt&&yt.focus(),we.preventDefault();break}}};return t.jsx(yU,B({ref:a,className:Qt(De.root,se),ownerState:z},V,{children:t.jsx(vU,{ref:c,role:"listbox","aria-label":_e.timePickerToolbarTitle,className:De.list,onKeyDown:ue,children:Re.map((we,Y)=>{const ge=Oe(we);if(X&&ge)return null;const Je=s.isEqual(we,re),yt=s.format(we,u?"fullTime12h":"fullTime24h"),Ft=Ge===Y||Ge===-1&&Y===0?0:-1;return t.jsx(oe,B({onClick:()=>!q&&he(we),selected:Je,disabled:G||ge,disableRipple:q,role:"option","aria-disabled":q,"aria-selected":Je,tabIndex:Ft,itemValue:we,formattedValue:yt},le,{children:yt}),`${we.valueOf()}-${yt}`)})})}))});function wU(e){return an("MuiMultiSectionDigitalClock",e)}const qh=dn("MuiMultiSectionDigitalClock",["root"]);function CU(e){return an("MuiMultiSectionDigitalClockSection",e)}const Kh=dn("MuiMultiSectionDigitalClockSection",["root","item"]),PU=["autoFocus","onChange","className","classes","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],DU=e=>Kt({root:["root"],item:["item"]},CU,e),IU=ke(p0,{name:"MuiMultiSectionDigitalClockSection",slot:"Root"})(({theme:e})=>({maxHeight:TS,width:56,padding:0,overflow:"hidden",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(e.vars||e).palette.divider}`},"&::after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"},variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),EU=ke(Ce,{name:"MuiMultiSectionDigitalClockSection",slot:"Item"})(({theme:e})=>({padding:8,margin:"2px 4px",width:ya,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:fe(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:fe(e.palette.primary.main,e.palette.action.focusOpacity)}})),TU=g.forwardRef(function(n,r){const s=g.useRef(null),o=tr(r,s),a=g.useRef(null),c=Yt({props:n,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:d,onChange:u,className:h,classes:x,disabled:p,readOnly:m,items:y,active:b,slots:S,slotProps:j,skipDisabled:D}=c,w=st(c,PU),{ownerState:I}=Dn(),T=B({},I,{hasDigitalClockAlreadyBeenRendered:!!s.current}),_=DU(x),R=(S==null?void 0:S.digitalClockSectionItem)??EU;Zr(()=>{if(s.current===null)return;const L=s.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(b&&d&&L&&L.focus(),!L||a.current===L)return;a.current=L;const W=L.offsetTop;s.current.scrollTop=W-4});const O=y.findIndex(L=>L.isFocused(L.value)),A=L=>{switch(L.key){case"PageUp":{const W=Vc(s.current)-5,H=s.current.children,N=Math.max(0,W),se=H[N];se&&se.focus(),L.preventDefault();break}case"PageDown":{const W=Vc(s.current)+5,H=s.current.children,N=Math.min(H.length-1,W),se=H[N];se&&se.focus(),L.preventDefault();break}}};return t.jsx(IU,B({ref:o,className:Qt(_.root,h),ownerState:T,autoFocusItem:d&&b,role:"listbox",onKeyDown:A},w,{children:y.map((L,W)=>{var G;const H=(G=L.isDisabled)==null?void 0:G.call(L,L.value),N=p||H;if(D&&N)return null;const se=L.isSelected(L.value),Z=O===W||O===-1&&W===0?0:-1;return t.jsx(R,B({onClick:()=>!m&&u(L.value),selected:se,disabled:N,disableRipple:m,role:"option","aria-disabled":m||N||void 0,"aria-label":L.ariaLabel,"aria-selected":se,tabIndex:Z,className:_.item},j==null?void 0:j.digitalClockSectionItem,{children:L.label}),L.label)})}))}),AU=({now:e,value:n,utils:r,ampm:s,isDisabled:o,resolveAriaLabel:a,timeStep:c,valueOrReferenceDate:d})=>{const u=n?r.getHours(n):null,h=[],x=(y,b)=>{const S=b??u;return S===null?!1:s?y===12?S===12||S===0:S===y||S-12===y:S===y},p=y=>x(y,r.getHours(d)),m=s?11:23;for(let y=0;y<=m;y+=c){let b=r.format(r.setHours(e,y),s?"hours12h":"hours24h");const S=a(parseInt(b,10).toString());b=r.formatNumber(b),h.push({value:y,label:b,isSelected:x,isDisabled:o,isFocused:p,ariaLabel:S})}return h},Yy=({value:e,utils:n,isDisabled:r,timeStep:s,resolveLabel:o,resolveAriaLabel:a,hasValue:c=!0})=>{const d=h=>e===null?!1:c&&e===h,u=h=>e===h;return[...Array.from({length:Math.ceil(60/s)},(h,x)=>{const p=s*x;return{value:p,label:n.formatNumber(o(p)),isDisabled:r,isSelected:d,isFocused:u,ariaLabel:a(p.toString())}})]},RU=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","skipDisabled","timezone"],_U=e=>Kt({root:["root"]},wU,e),OU=ke(gx,{name:"MuiMultiSectionDigitalClock",slot:"Root"})(({theme:e})=>({flexDirection:"row",width:"100%",borderBottom:`1px solid ${(e.vars||e).palette.divider}`})),kU=g.forwardRef(function(n,r){const s=Vt(),o=Cs(),a=Yt({props:n,name:"MuiMultiSectionDigitalClock"}),{ampm:c=s.is12HourCycleInCurrentLocale(),timeSteps:d,autoFocus:u,slots:h,slotProps:x,value:p,defaultValue:m,referenceDate:y,disableIgnoringDatePartForTimeValidation:b=!1,maxTime:S,minTime:j,disableFuture:D,disablePast:w,minutesStep:I=1,shouldDisableTime:T,onChange:_,view:R,views:O=["hours","minutes"],openTo:A,onViewChange:L,focusedView:W,onFocusedViewChange:H,className:N,classes:se,disabled:Z,readOnly:G,skipDisabled:q=!1,timezone:K}=a,X=st(a,RU),{value:ae,handleValueChange:V,timezone:re}=Yo({name:"MultiSectionDigitalClock",timezone:K,value:p,defaultValue:m,referenceDate:y,onChange:_,valueManager:cr}),Ee=ps(),be=zi(re),_e=g.useMemo(()=>B({hours:1,minutes:5,seconds:5},d),[d]),de=MS({value:ae,referenceDate:y,utils:s,props:a,timezone:re}),te=We((Y,ge,Je)=>V(Y,ge,Je)),z=g.useMemo(()=>!c||!O.includes("hours")||O.includes("meridiem")?O:[...O,"meridiem"],[c,O]),{view:De,setValueAndGoToNextView:oe,focusedView:le}=jd({view:R,views:z,openTo:A,onViewChange:L,onChange:te,focusedView:W,onFocusedViewChange:H}),ie=We(Y=>{oe(Y,"finish","meridiem")}),{meridiemMode:ne,handleMeridiemChange:me}=ES(de,c,ie,"finish"),he=g.useCallback((Y,ge)=>{const Je=vd(b,s),yt=ge==="hours"||ge==="minutes"&&z.includes("seconds"),ln=({start:Rt,end:Jt})=>!(j&&Je(j,Jt)||S&&Je(Rt,S)||D&&Je(Rt,be)||w&&Je(be,yt?Jt:Rt)),Ft=(Rt,Jt=1)=>{if(Rt%Jt!==0)return!1;if(T)switch(ge){case"hours":return!T(s.setHours(de,Rt),"hours");case"minutes":return!T(s.setMinutes(de,Rt),"minutes");case"seconds":return!T(s.setSeconds(de,Rt),"seconds");default:return!1}return!0};switch(ge){case"hours":{const Rt=Hh(Y,ne,c),Jt=s.setHours(de,Rt);if(s.getHours(Jt)!==Rt)return!0;const Mn=s.setSeconds(s.setMinutes(Jt,0),0),dt=s.setSeconds(s.setMinutes(Jt,59),59);return!ln({start:Mn,end:dt})||!Ft(Rt)}case"minutes":{const Rt=s.setMinutes(de,Y),Jt=s.setSeconds(Rt,0),Mn=s.setSeconds(Rt,59);return!ln({start:Jt,end:Mn})||!Ft(Y,I)}case"seconds":{const Rt=s.setSeconds(de,Y);return!ln({start:Rt,end:Rt})||!Ft(Y)}default:throw new Error("not supported")}},[c,de,b,S,ne,j,I,T,s,D,w,be,z]),Oe=g.useCallback(Y=>{switch(Y){case"hours":return{onChange:ge=>{const Je=Hh(ge,ne,c);oe(s.setHours(de,Je),"finish","hours")},items:AU({now:be,value:ae,ampm:c,utils:s,isDisabled:ge=>he(ge,"hours"),timeStep:_e.hours,resolveAriaLabel:Ee.hoursClockNumberText,valueOrReferenceDate:de})};case"minutes":return{onChange:ge=>{oe(s.setMinutes(de,ge),"finish","minutes")},items:Yy({value:s.getMinutes(de),utils:s,isDisabled:ge=>he(ge,"minutes"),resolveLabel:ge=>s.format(s.setMinutes(be,ge),"minutes"),timeStep:_e.minutes,hasValue:!!ae,resolveAriaLabel:Ee.minutesClockNumberText})};case"seconds":return{onChange:ge=>{oe(s.setSeconds(de,ge),"finish","seconds")},items:Yy({value:s.getSeconds(de),utils:s,isDisabled:ge=>he(ge,"seconds"),resolveLabel:ge=>s.format(s.setSeconds(be,ge),"seconds"),timeStep:_e.seconds,hasValue:!!ae,resolveAriaLabel:Ee.secondsClockNumberText})};case"meridiem":{const ge=Da(s,"am"),Je=Da(s,"pm");return{onChange:me,items:[{value:"am",label:ge,isSelected:()=>!!ae&&ne==="am",isFocused:()=>!!de&&ne==="am",ariaLabel:ge},{value:"pm",label:Je,isSelected:()=>!!ae&&ne==="pm",isFocused:()=>!!de&&ne==="pm",ariaLabel:Je}]}}default:throw new Error(`Unknown view: ${Y} found.`)}},[be,ae,c,s,_e.hours,_e.minutes,_e.seconds,Ee.hoursClockNumberText,Ee.minutesClockNumberText,Ee.secondsClockNumberText,ne,oe,de,he,me]),Re=g.useMemo(()=>{if(!o)return z;const Y=z.filter(ge=>ge!=="meridiem");return Y.reverse(),z.includes("meridiem")&&Y.push("meridiem"),Y},[o,z]),Ge=g.useMemo(()=>z.reduce((Y,ge)=>B({},Y,{[ge]:Oe(ge)}),{}),[z,Oe]),{ownerState:ue}=Dn(),we=_U(se);return t.jsx(OU,B({ref:r,className:Qt(we.root,N),ownerState:ue,role:"group"},X,{children:Re.map(Y=>t.jsx(TU,{items:Ge[Y].items,onChange:Ge[Y].onChange,active:De===Y,autoFocus:u||le===Y,disabled:Z,readOnly:G,slots:h,slotProps:x,skipDisabled:q,"aria-label":Ee.selectViewText(Y)},Y))}))});function MU(e){return an("MuiPickersDay",e)}const _o=dn("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]);function NS(e){const{disabled:n,selected:r,today:s,outsideCurrentMonth:o,day:a,disableMargin:c,disableHighlightToday:d,showDaysOutsideCurrentMonth:u}=e,h=Vt(),{ownerState:x}=Dn();return g.useMemo(()=>B({},x,{day:a,isDaySelected:r??!1,isDayDisabled:n??!1,isDayCurrent:s??!1,isDayOutsideMonth:o??!1,isDayStartOfWeek:h.isSameDay(a,h.startOfWeek(a)),isDayEndOfWeek:h.isSameDay(a,h.endOfWeek(a)),disableMargin:c??!1,disableHighlightToday:d??!1,showDaysOutsideCurrentMonth:u??!1}),[h,x,a,r,n,s,o,c,d,u])}const NU=["autoFocus","className","classes","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","children","isFirstVisibleCell","isLastVisibleCell","day","selected","disabled","today","outsideCurrentMonth","disableMargin","disableHighlightToday","showDaysOutsideCurrentMonth"],LU=(e,n)=>{const{isDaySelected:r,isDayDisabled:s,isDayCurrent:o,isDayOutsideMonth:a,disableMargin:c,disableHighlightToday:d,showDaysOutsideCurrentMonth:u}=n,h=a&&!u;return Kt({root:["root",r&&!h&&"selected",s&&"disabled",!c&&"dayWithMargin",!d&&o&&"today",a&&u&&"dayOutsideMonth",h&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},MU,e)},LS=({theme:e})=>B({},e.typography.caption,{width:Ba,height:Ba,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:fe(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:fe(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${_o.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${_o.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${_o.disabled}:not(.${_o.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${_o.disabled}&.${_o.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${Sd}px`}},{props:{isDayOutsideMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(e.vars||e).palette.text.secondary}},{props:{disableHighlightToday:!1,isDayCurrent:!0},style:{[`&:not(.${_o.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}}]}),$S=(e,n)=>{const{ownerState:r}=e;return[n.root,!r.disableMargin&&n.dayWithMargin,!r.disableHighlightToday&&r.isDayCurrent&&n.today,!r.isDayOutsideMonth&&r.showDaysOutsideCurrentMonth&&n.dayOutsideMonth,r.isDayOutsideMonth&&!r.showDaysOutsideCurrentMonth&&n.hiddenDaySpacingFiller]},$U=ke(VT,{name:"MuiPickersDay",slot:"Root",overridesResolver:$S})(LS),FU=ke("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:$S})(({theme:e})=>B({},LS({theme:e}),{opacity:0,pointerEvents:"none"})),ma=()=>{},WU=g.forwardRef(function(n,r){const s=Yt({props:n,name:"MuiPickersDay"}),{autoFocus:o=!1,className:a,classes:c,isAnimating:d,onClick:u,onDaySelect:h,onFocus:x=ma,onBlur:p=ma,onKeyDown:m=ma,onMouseDown:y=ma,onMouseEnter:b=ma,children:S,day:j,selected:D,disabled:w,today:I,outsideCurrentMonth:T,disableMargin:_,disableHighlightToday:R,showDaysOutsideCurrentMonth:O}=s,A=st(s,NU),L=NS({day:j,selected:D,disabled:w,today:I,outsideCurrentMonth:T,disableMargin:_,disableHighlightToday:R,showDaysOutsideCurrentMonth:O}),W=LU(c,L),H=Vt(),N=g.useRef(null),se=tr(N,r);Zr(()=>{o&&!w&&!d&&!T&&N.current.focus()},[o,w,d,T]);const Z=q=>{y(q),T&&q.preventDefault()},G=q=>{w||h(j),T&&q.currentTarget.focus(),u&&u(q)};return T&&!O?t.jsx(FU,{className:Qt(W.root,W.hiddenDaySpacingFiller,a),ownerState:L,role:A.role}):t.jsx($U,B({className:Qt(W.root,a),ref:se,centerRipple:!0,disabled:w,tabIndex:D?0:-1,onKeyDown:q=>m(q,j),onFocus:q=>x(q,j),onBlur:q=>p(q,j),onMouseEnter:q=>b(q,j),onClick:G,onMouseDown:Z},A,{ownerState:L,children:S||H.format(j,"dayOfMonth")}))}),BU=g.memo(WU),Jh=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],Xh=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],FS=["minDateTime","maxDateTime"],VU=[...Jh,...Xh,...FS],WS=e=>VU.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{}),UU=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","unstableStartFieldRef","unstableEndFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator","autoFocus","focused"],BS=(e,n)=>g.useMemo(()=>{const r=B({},e),s={},o=a=>{r.hasOwnProperty(a)&&(s[a]=r[a],delete r[a])};return UU.forEach(o),n==="date"?Jh.forEach(o):n==="time"?Xh.forEach(o):n==="date-time"&&(Jh.forEach(o),Xh.forEach(o),FS.forEach(o)),{forwardedProps:r,internalProps:s}},[e,n]),zU=({utils:e,format:n})=>{let r=10,s=n,o=e.expandFormat(n);for(;o!==s;)if(s=o,o=e.expandFormat(s),r-=1,r<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the component.");return o},HU=({utils:e,expandedFormat:n})=>{const r=[],{start:s,end:o}=e.escapedCharacters,a=new RegExp(`(\\${s}[^\\${o}]*\\${o})+`,"g");let c=null;for(;c=a.exec(n);)r.push({start:c.index,end:a.lastIndex-1});return r},YU=(e,n,r,s)=>{switch(r.type){case"year":return n.fieldYearPlaceholder({digitAmount:e.formatByString(e.date(void 0,"default"),s).length,format:s});case"month":return n.fieldMonthPlaceholder({contentType:r.contentType,format:s});case"day":return n.fieldDayPlaceholder({format:s});case"weekDay":return n.fieldWeekDayPlaceholder({contentType:r.contentType,format:s});case"hours":return n.fieldHoursPlaceholder({format:s});case"minutes":return n.fieldMinutesPlaceholder({format:s});case"seconds":return n.fieldSecondsPlaceholder({format:s});case"meridiem":return n.fieldMeridiemPlaceholder({format:s});default:return s}},GU=({utils:e,date:n,shouldRespectLeadingZeros:r,localeText:s,localizedDigits:o,now:a,token:c,startSeparator:d})=>{if(c==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const u=RS(e,c),h=kS(e,u.contentType,u.type,c),x=r?h:u.contentType==="digit",p=e.isValid(n);let m=p?e.formatByString(n,c):"",y=null;if(x)if(h)y=m===""?e.formatByString(a,c).length:m.length;else{if(u.maxLength==null)throw new Error(`MUI X: The token ${c} should have a 'maxLength' property on it's adapter`);y=u.maxLength,p&&(m=vx(jx(Vo(m,o),y),o))}return B({},u,{format:c,maxLength:y,value:m,placeholder:YU(e,s,u,c),hasLeadingZerosInFormat:h,hasLeadingZerosInInput:x,startSeparator:d,endSeparator:"",modified:!1})},qU=e=>{var y;const{utils:n,expandedFormat:r,escapedParts:s}=e,o=n.date(void 0),a=[];let c="";const d=Object.keys(n.formatTokenMap).sort((b,S)=>S.length-b.length),u=/^([a-zA-Z]+)/,h=new RegExp(`^(${d.join("|")})*$`),x=new RegExp(`^(${d.join("|")})`),p=b=>s.find(S=>S.start<=b&&S.end>=b);let m=0;for(;m<r.length;){const b=p(m),S=b!=null,j=(y=u.exec(r.slice(m)))==null?void 0:y[1];if(!S&&j!=null&&h.test(j)){let D=j;for(;D.length>0;){const w=x.exec(D)[1];D=D.slice(w.length),a.push(GU(B({},e,{now:o,token:w,startSeparator:c}))),c=""}m+=j.length}else{const D=r[m];S&&(b==null?void 0:b.start)===m||(b==null?void 0:b.end)===m||(a.length===0?c+=D:(a[a.length-1].endSeparator+=D,a[a.length-1].isEndFormatSeparator=!0)),m+=1}}return a.length===0&&c.length>0&&a.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:c,endSeparator:"",modified:!1}),a},KU=({isRtl:e,formatDensity:n,sections:r})=>r.map(s=>{const o=a=>{let c=a;return e&&c!==null&&c.includes(" ")&&(c=`${c}`),n==="spacious"&&["/",".","-"].includes(c)&&(c=` ${c} `),c};return s.startSeparator=o(s.startSeparator),s.endSeparator=o(s.endSeparator),s}),Gy=e=>{let n=zU(e);e.isRtl&&e.enableAccessibleFieldDOMStructure&&(n=n.split(" ").reverse().join(" "));const r=HU(B({},e,{expandedFormat:n})),s=qU(B({},e,{expandedFormat:n,escapedParts:r}));return KU(B({},e,{sections:s}))},wx=()=>g.useContext(mx),JU=()=>{const e=g.useContext(wS);if(e==null)throw new Error(["MUI X: The `usePickerActionsContext` can only be called in fields that are used as a slot of a Picker component"].join(`
`));return e},ui=e=>e.saveQuery!=null,VS=({stateResponse:{localizedDigits:e,sectionsValueBoundaries:n,state:r,timezone:s,setCharacterQuery:o,setTempAndroidValueStr:a,updateSectionValue:c}})=>{const d=Vt(),u=({keyPressed:p,sectionIndex:m},y,b)=>{const S=p.toLowerCase(),j=r.sections[m];if(r.characterQuery!=null&&(!b||b(r.characterQuery.value))&&r.characterQuery.sectionIndex===m){const w=`${r.characterQuery.value}${S}`,I=y(w,j);if(!ui(I))return o({sectionIndex:m,value:w,sectionType:j.type}),I}const D=y(S,j);return ui(D)&&!D.saveQuery?(o(null),null):(o({sectionIndex:m,value:S,sectionType:j.type}),ui(D)?null:D)},h=p=>{const m=(S,j,D)=>{const w=j.filter(I=>I.toLowerCase().startsWith(D));return w.length===0?{saveQuery:!1}:{sectionValue:w[0],shouldGoToNextSection:w.length===1}},y=(S,j,D,w)=>{const I=T=>_S(d,s,j.type,T);if(j.contentType==="letter")return m(j.format,I(j.format),S);if(D&&w!=null&&RS(d,D).contentType==="letter"){const T=I(D),_=m(D,T,S);return ui(_)?{saveQuery:!1}:B({},_,{sectionValue:w(_.sectionValue,T)})}return{saveQuery:!1}};return u(p,(S,j)=>{switch(j.type){case"month":{const D=w=>Uy(d,w,d.formats.month,j.format);return y(S,j,d.formats.month,D)}case"weekDay":{const D=(w,I)=>I.indexOf(w).toString();return y(S,j,d.formats.weekday,D)}case"meridiem":return y(S,j);default:return{saveQuery:!1}}})},x=p=>{const m=(b,S)=>{const j=Vo(b,e),D=Number(j),w=n[S.type]({currentDate:null,format:S.format,contentType:S.contentType});if(D>w.maximum)return{saveQuery:!1};if(D<w.minimum)return{saveQuery:!0};const I=D*10>w.maximum||j.length===w.maximum.toString().length;return{sectionValue:OS(d,D,w,e,S),shouldGoToNextSection:I}};return u(p,(b,S)=>{if(S.contentType==="digit"||S.contentType==="digit-with-letter")return m(b,S);if(S.type==="month"){const j=kS(d,"digit","month","MM"),D=m(b,{type:S.type,format:"MM",hasLeadingZerosInFormat:j,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(ui(D))return D;const w=Uy(d,D.sectionValue,"MM",S.format);return B({},D,{sectionValue:w})}if(S.type==="weekDay"){const j=m(b,S);if(ui(j))return j;const D=wd(d,S.format)[Number(j.sectionValue)-1];return B({},j,{sectionValue:D})}return{saveQuery:!1}},b=>Vy(b,e))};return We(p=>{const m=r.sections[p.sectionIndex],b=Vy(p.keyPressed,e)?x(B({},p,{keyPressed:vx(p.keyPressed,e)})):h(p);if(b==null){a(null);return}c({section:m,newSectionValue:b.sectionValue,shouldGoToNextSection:b.shouldGoToNextSection})})},Cx=({props:e,value:n,timezone:r,adapter:s})=>{if(n===null)return null;const{shouldDisableDate:o,shouldDisableMonth:a,shouldDisableYear:c,disablePast:d,disableFuture:u,minDate:h,maxDate:x}=e,p=s.utils.date(void 0,r);switch(!0){case!s.utils.isValid(n):return"invalidDate";case!!(o&&o(n)):return"shouldDisableDate";case!!(a&&a(n)):return"shouldDisableMonth";case!!(c&&c(n)):return"shouldDisableYear";case!!(u&&s.utils.isAfterDay(n,p)):return"disableFuture";case!!(d&&s.utils.isBeforeDay(n,p)):return"disablePast";case!!(h&&s.utils.isBeforeDay(n,h)):return"minDate";case!!(x&&s.utils.isAfterDay(n,x)):return"maxDate";default:return null}};Cx.valueManager=cr;const US=({adapter:e,value:n,timezone:r,props:s})=>{if(n===null)return null;const{minTime:o,maxTime:a,minutesStep:c,shouldDisableTime:d,disableIgnoringDatePartForTimeValidation:u=!1,disablePast:h,disableFuture:x}=s,p=e.utils.date(void 0,r),m=vd(u,e.utils);switch(!0){case!e.utils.isValid(n):return"invalidDate";case!!(o&&m(o,n)):return"minTime";case!!(a&&m(n,a)):return"maxTime";case!!(x&&e.utils.isAfter(n,p)):return"disableFuture";case!!(h&&e.utils.isBefore(n,p)):return"disablePast";case!!(d&&d(n,"hours")):return"shouldDisableTime-hours";case!!(d&&d(n,"minutes")):return"shouldDisableTime-minutes";case!!(d&&d(n,"seconds")):return"shouldDisableTime-seconds";case!!(c&&e.utils.getMinutes(n)%c!==0):return"minutesStep";default:return null}};US.valueManager=cr;const Cd=({adapter:e,value:n,timezone:r,props:s})=>{const o=Cx({adapter:e,value:n,timezone:r,props:s});return o!==null?o:US({adapter:e,value:n,timezone:r,props:s})};Cd.valueManager=cr;function zS(e){const{props:n,validator:r,value:s,timezone:o,onError:a}=e,c=Ho(),d=g.useRef(r.valueManager.defaultErrorState),u=r({adapter:c,value:s,timezone:o,props:n}),h=r.valueManager.hasError(u);g.useEffect(()=>{a&&!r.valueManager.isSameError(u,d.current)&&a(u,s),d.current=u},[r,a,u,s]);const x=We(p=>r({adapter:c,value:p,timezone:o,props:n}));return{validationError:u,hasValidationError:h,getValidationErrorForNewValue:x}}const XU=5e3,HS=e=>{var Ge;const n=Vt(),r=ps(),s=Ho(),o=Cs(),{manager:{validator:a,valueType:c,internal_valueManager:d,internal_fieldValueManager:u},internalPropsWithDefaults:h,internalPropsWithDefaults:{value:x,defaultValue:p,referenceDate:m,onChange:y,format:b,formatDensity:S="dense",selectedSections:j,onSelectedSectionsChange:D,shouldRespectLeadingZeros:w=!1,timezone:I,enableAccessibleFieldDOMStructure:T=!0},forwardedProps:{error:_}}=e,{value:R,handleValueChange:O,timezone:A}=Yo({name:"a field component",timezone:I,value:x,defaultValue:p,referenceDate:m,onChange:y,valueManager:d}),L=g.useRef(R);g.useEffect(()=>{L.current=R},[R]);const{hasValidationError:W}=zS({props:h,validator:a,timezone:A,value:R,onError:h.onError}),H=g.useMemo(()=>_!==void 0?_:W,[W,_]),N=g.useMemo(()=>tU(n),[n]),se=g.useMemo(()=>iU(n,N,A),[n,N,A]),Z=g.useCallback(ue=>u.getSectionsFromValue(ue,we=>Gy({utils:n,localeText:r,localizedDigits:N,format:b,date:we,formatDensity:S,shouldRespectLeadingZeros:w,enableAccessibleFieldDOMStructure:T,isRtl:o})),[u,b,r,N,o,w,n,S,T]),[G,q]=g.useState(()=>{const ue=Z(R),we={sections:ue,lastExternalValue:R,lastSectionsDependencies:{format:b,isRtl:o,locale:n.locale},tempValueStrAndroid:null,characterQuery:null},Y=QV(ue),ge=d.getInitialReferenceValue({referenceDate:m,value:R,utils:n,props:h,granularity:Y,timezone:A});return B({},we,{referenceValue:ge})}),[K,X]=ki({controlled:j,default:null,name:"useField",state:"selectedSections"}),ae=ue=>{X(ue),D==null||D(ue)},V=g.useMemo(()=>Yh(K,G.sections),[K,G.sections]),re=V==="all"?0:V,Ee=g.useMemo(()=>cU(G.sections,o&&!T),[G.sections,o,T]),be=g.useMemo(()=>G.sections.every(ue=>ue.value===""),[G.sections]),_e=ue=>{const we={validationError:a({adapter:s,value:ue,timezone:A,props:h})};O(ue,we)},de=(ue,we)=>{const Y=[...G.sections];return Y[ue]=B({},Y[ue],{value:we,modified:!0}),Y},te=g.useRef(null),z=gi(),De=ue=>{re!=null&&(te.current={sectionIndex:re,value:ue},z.start(0,()=>{te.current=null}))},oe=()=>{d.areValuesEqual(n,R,d.emptyValue)?q(ue=>B({},ue,{sections:ue.sections.map(we=>B({},we,{value:""})),tempValueStrAndroid:null,characterQuery:null})):(q(ue=>B({},ue,{characterQuery:null})),_e(d.emptyValue))},le=()=>{if(re==null)return;const ue=G.sections[re];ue.value!==""&&(De(""),u.getDateFromSection(R,ue)===null?q(we=>B({},we,{sections:de(re,""),tempValueStrAndroid:null,characterQuery:null})):(q(we=>B({},we,{characterQuery:null})),_e(u.updateDateInValue(R,ue,null))))},ie=ue=>{const we=(ge,Je)=>{const yt=n.parse(ge,b);if(!n.isValid(yt))return null;const ln=Gy({utils:n,localeText:r,localizedDigits:N,format:b,date:yt,formatDensity:S,shouldRespectLeadingZeros:w,enableAccessibleFieldDOMStructure:T,isRtl:o});return Hy(n,yt,ln,Je,!1)},Y=u.parseValueStr(ue,G.referenceValue,we);_e(Y)},ne=gi(),me=({section:ue,newSectionValue:we,shouldGoToNextSection:Y})=>{z.clear(),ne.clear();const ge=u.getDateFromSection(R,ue);Y&&re<G.sections.length-1&&ae(re+1);const Je=de(re,we),yt=u.getDateSectionsFromValue(Je,ue),ln=rU(n,yt,N);if(n.isValid(ln)){const Ft=Hy(n,ln,yt,u.getDateFromSection(G.referenceValue,ue),!0);return ge==null&&ne.start(0,()=>{L.current===R&&q(Rt=>B({},Rt,{sections:u.clearDateSections(G.sections,ue),tempValueStrAndroid:null}))}),_e(u.updateDateInValue(R,ue,Ft))}return yt.every(Ft=>Ft.value!=="")?(De(we),_e(u.updateDateInValue(R,ue,ln))):ge!=null?(De(we),_e(u.updateDateInValue(R,ue,null))):q(Ft=>B({},Ft,{sections:Je,tempValueStrAndroid:null}))},he=ue=>q(we=>B({},we,{tempValueStrAndroid:ue})),Oe=We(ue=>{q(we=>B({},we,{characterQuery:ue}))});if(R!==G.lastExternalValue){let ue;te.current!=null&&!n.isValid(u.getDateFromSection(R,G.sections[te.current.sectionIndex]))?ue=de(te.current.sectionIndex,te.current.value):ue=Z(R),q(we=>B({},we,{lastExternalValue:R,sections:ue,sectionsDependencies:{format:b,isRtl:o,locale:n.locale},referenceValue:u.updateReferenceValue(n,R,we.referenceValue),tempValueStrAndroid:null}))}if(o!==G.lastSectionsDependencies.isRtl||b!==G.lastSectionsDependencies.format||n.locale!==G.lastSectionsDependencies.locale){const ue=Z(R);q(we=>B({},we,{lastSectionsDependencies:{format:b,isRtl:o,locale:n.locale},sections:ue,tempValueStrAndroid:null,characterQuery:null}))}G.characterQuery!=null&&!H&&re==null&&Oe(null),G.characterQuery!=null&&((Ge=G.sections[G.characterQuery.sectionIndex])==null?void 0:Ge.type)!==G.characterQuery.sectionType&&Oe(null),g.useEffect(()=>{te.current!=null&&(te.current=null)});const Re=gi();return g.useEffect(()=>(G.characterQuery!=null&&Re.start(XU,()=>Oe(null)),()=>{}),[G.characterQuery,Oe,Re]),g.useEffect(()=>{G.tempValueStrAndroid!=null&&re!=null&&le()},[G.sections]),{activeSectionIndex:re,areAllSectionsEmpty:be,error:H,localizedDigits:N,parsedSelectedSections:V,sectionOrder:Ee,sectionsValueBoundaries:se,state:G,timezone:A,value:R,clearValue:oe,clearActiveSection:le,setCharacterQuery:Oe,setSelectedSections:ae,setTempAndroidValueStr:he,updateSectionValue:me,updateValueFromValueStr:ie,getSectionsFromValue:Z}};function YS(e){const{manager:{internal_useApplyDefaultValuesToFieldInternalProps:n},internalProps:r,skipContextFieldRefAssignment:s}=e,o=wx(),a=SS(),c=tr(r.unstableFieldRef,s?null:a==null?void 0:a.fieldRef),d=o==null?void 0:o.setValue,u=g.useCallback((x,p)=>d==null?void 0:d(x,{validationError:p.validationError,shouldClose:!1}),[d]),h=g.useMemo(()=>a!=null&&o!=null?B({value:o.value,onChange:u,timezone:o.timezone,disabled:o.disabled,readOnly:o.readOnly,autoFocus:o.autoFocus&&!o.open,focused:o.open?!0:void 0,format:o.fieldFormat,formatDensity:a.formatDensity,enableAccessibleFieldDOMStructure:a.enableAccessibleFieldDOMStructure,selectedSections:a.selectedSections,onSelectedSectionsChange:a.onSelectedSectionsChange,unstableFieldRef:c},r):r,[o,a,r,u,c]);return n(h)}function Px(e){const{focused:n,domGetters:r,stateResponse:{parsedSelectedSections:s,state:o}}=e;if(!r.isReady())return;const a=document.getSelection();if(!a)return;if(s==null){a.rangeCount>0&&r.getRoot().contains(a.getRangeAt(0).startContainer)&&a.removeAllRanges(),n&&r.getRoot().blur();return}if(!r.getRoot().contains(Hn(document)))return;const c=new window.Range;let d;s==="all"?d=r.getRoot():o.sections[s].type==="empty"?d=r.getSectionContainer(s):d=r.getSectionContent(s),c.selectNodeContents(d),d.focus(),a.removeAllRanges(),a.addRange(c)}function GS(e){const n=Vt(),{manager:{internal_fieldValueManager:r},internalPropsWithDefaults:{minutesStep:s,disabled:o,readOnly:a},stateResponse:{state:c,value:d,activeSectionIndex:u,parsedSelectedSections:h,sectionsValueBoundaries:x,localizedDigits:p,timezone:m,sectionOrder:y,clearValue:b,clearActiveSection:S,setSelectedSections:j,updateSectionValue:D}}=e;return We(w=>{if(!o)switch(!0){case((w.ctrlKey||w.metaKey)&&String.fromCharCode(w.keyCode)==="A"&&!w.shiftKey&&!w.altKey):{w.preventDefault(),j("all");break}case w.key==="ArrowRight":{if(w.preventDefault(),h==null)j(y.startIndex);else if(h==="all")j(y.endIndex);else{const I=y.neighbors[h].rightIndex;I!==null&&j(I)}break}case w.key==="ArrowLeft":{if(w.preventDefault(),h==null)j(y.endIndex);else if(h==="all")j(y.startIndex);else{const I=y.neighbors[h].leftIndex;I!==null&&j(I)}break}case w.key==="Delete":{if(w.preventDefault(),a)break;h==null||h==="all"?b():S();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(w.key):{if(w.preventDefault(),a||u==null)break;h==="all"&&j(u);const I=c.sections[u],T=ZU(n,m,I,w.key,x,p,r.getDateFromSection(d,I),{minutesStep:s});D({section:I,newSectionValue:T,shouldGoToNextSection:!1});break}}})}function QU(e){switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}}function ZU(e,n,r,s,o,a,c,d){const u=QU(s),h=s==="Home",x=s==="End",p=r.value===""||h||x,m=()=>{const b=o[r.type]({currentDate:c,format:r.format,contentType:r.contentType}),S=w=>OS(e,w,b,a,r),j=r.type==="minutes"&&(d!=null&&d.minutesStep)?d.minutesStep:1;let D;if(p){if(r.type==="year"&&!x&&!h)return e.formatByString(e.date(void 0,n),r.format);u>0||h?D=b.minimum:D=b.maximum}else D=parseInt(Vo(r.value,a),10)+u*j;return D%j!==0&&((u<0||h)&&(D+=j-(j+D)%j),(u>0||x)&&(D-=D%j)),D>b.maximum?S(b.minimum+(D-b.maximum-1)%(b.maximum-b.minimum+1)):D<b.minimum?S(b.maximum-(b.minimum-D-1)%(b.maximum-b.minimum+1)):S(D)},y=()=>{const b=_S(e,n,r.type,r.format);if(b.length===0)return r.value;if(p)return u>0||h?b[0]:b[b.length-1];const D=((b.indexOf(r.value)+u)%b.length+b.length)%b.length;return b[D]};return r.contentType==="digit"||r.contentType==="digit-with-letter"?m():y()}function ez(e){const{manager:n,focused:r,setFocused:s,domGetters:o,stateResponse:a,applyCharacterEditing:c,internalPropsWithDefaults:d,stateResponse:{parsedSelectedSections:u,sectionOrder:h,state:x,clearValue:p,setCharacterQuery:m,setSelectedSections:y,updateValueFromValueStr:b},internalPropsWithDefaults:{disabled:S=!1,readOnly:j=!1}}=e,D=GS({manager:n,internalPropsWithDefaults:d,stateResponse:a}),w=gi(),I=We(A=>{S||!o.isReady()||(s(!0),u==="all"?w.start(0,()=>{const L=document.getSelection().getRangeAt(0).startOffset;if(L===0){y(h.startIndex);return}let W=0,H=0;for(;H<L&&W<x.sections.length;){const N=x.sections[W];W+=1,H+=`${N.startSeparator}${N.value||N.placeholder}${N.endSeparator}`.length}y(W-1)}):r?o.getRoot().contains(A.target)||y(h.startIndex):(s(!0),y(h.startIndex)))}),T=We(A=>{if(!o.isReady()||u!=="all")return;const W=A.target.textContent??"";o.getRoot().innerHTML=x.sections.map(H=>`${H.startSeparator}${H.value||H.placeholder}${H.endSeparator}`).join(""),Px({focused:r,domGetters:o,stateResponse:a}),W.length===0||W.charCodeAt(0)===10?(p(),y("all")):W.length>1?b(W):(u==="all"&&y(0),c({keyPressed:W,sectionIndex:0}))}),_=We(A=>{if(j||u!=="all"){A.preventDefault();return}const L=A.clipboardData.getData("text");A.preventDefault(),m(null),b(L)}),R=We(()=>{if(r||S||!o.isReady())return;const A=Hn(document);s(!0),o.getSectionIndexFromDOMElement(A)!=null||y(h.startIndex)}),O=We(()=>{setTimeout(()=>{if(!o.isReady())return;const A=Hn(document);!o.getRoot().contains(A)&&(s(!1),y(null))})});return{onKeyDown:D,onBlur:O,onFocus:R,onClick:I,onPaste:_,onInput:T,contentEditable:u==="all",tabIndex:u===0?-1:0}}function tz(e){const{manager:{internal_fieldValueManager:n},stateResponse:{areAllSectionsEmpty:r,state:s,updateValueFromValueStr:o}}=e,a=We(d=>{o(d.target.value)});return{value:g.useMemo(()=>r?"":n.getV7HiddenInputValueFromSections(s.sections),[r,s.sections,n]),onChange:a}}function nz(e){const{stateResponse:{setSelectedSections:n},internalPropsWithDefaults:{disabled:r=!1}}=e,s=We(o=>a=>{r||a.isDefaultPrevented()||n(o)});return g.useCallback(o=>({"data-sectionindex":o,onClick:s(o)}),[s])}function rz(e){const n=Vt(),r=ps(),s=yd(),{focused:o,domGetters:a,stateResponse:c,applyCharacterEditing:d,manager:{internal_fieldValueManager:u},stateResponse:{parsedSelectedSections:h,sectionsValueBoundaries:x,state:p,value:m,clearActiveSection:y,setCharacterQuery:b,setSelectedSections:S,updateSectionValue:j,updateValueFromValueStr:D},internalPropsWithDefaults:{disabled:w=!1,readOnly:I=!1}}=e,T=h==="all",_=!T&&!w&&!I,R=We(N=>{if(!a.isReady())return;const se=p.sections[N];a.getSectionContent(N).innerHTML=se.value||se.placeholder,Px({focused:o,domGetters:a,stateResponse:c})}),O=We(N=>{if(!a.isReady())return;const se=N.target,Z=se.textContent??"",G=a.getSectionIndexFromDOMElement(se),q=p.sections[G];if(I){R(G);return}if(Z.length===0){if(q.value===""){R(G);return}const K=N.nativeEvent.inputType;if(K==="insertParagraph"||K==="insertLineBreak"){R(G);return}R(G),y();return}d({keyPressed:Z,sectionIndex:G}),R(G)}),A=We(N=>{N.preventDefault()}),L=We(N=>{if(N.preventDefault(),I||w||typeof h!="number")return;const se=p.sections[h],Z=N.clipboardData.getData("text"),G=/^[a-zA-Z]+$/.test(Z),q=/^[0-9]+$/.test(Z),K=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(Z);se.contentType==="letter"&&G||se.contentType==="digit"&&q||se.contentType==="digit-with-letter"&&K?(b(null),j({section:se,newSectionValue:Z,shouldGoToNextSection:!0})):!G&&!q&&(b(null),D(Z))}),W=We(N=>{N.preventDefault(),N.dataTransfer.dropEffect="none"}),H=We(N=>()=>{w||S(N)});return g.useCallback((N,se)=>{const Z=x[N.type]({currentDate:u.getDateFromSection(m,N),contentType:N.contentType,format:N.format});return{onInput:O,onPaste:L,onMouseUp:A,onDragOver:W,onFocus:H(se),"aria-labelledby":`${s}-${N.type}`,"aria-readonly":I,"aria-valuenow":oz(N,n),"aria-valuemin":Z.minimum,"aria-valuemax":Z.maximum,"aria-valuetext":N.value?sz(N,n):r.empty,"aria-label":r[N.type],"aria-disabled":w,tabIndex:T||se>0?-1:0,contentEditable:!T&&!w&&!I,role:"spinbutton",id:`${s}-${N.type}`,"data-range-position":N.dateName||void 0,spellCheck:_?!1:void 0,autoCapitalize:_?"off":void 0,autoCorrect:_?"off":void 0,children:N.value||N.placeholder,inputMode:N.contentType==="letter"?"text":"numeric"}},[x,s,T,w,I,_,r,n,O,L,A,W,H,u,m])}function sz(e,n){if(e.value)switch(e.type){case"month":{if(e.contentType==="digit")return n.format(n.setMonth(n.date(),Number(e.value)-1),"month");const r=n.parse(e.value,e.format);return r?n.format(r,"month"):void 0}case"day":return e.contentType==="digit"?n.format(n.setDate(n.startOfYear(n.date()),Number(e.value)),"dayOfMonthFull"):e.value;case"weekDay":return;default:return}}function oz(e,n){if(e.value)switch(e.type){case"weekDay":return e.contentType==="letter"?void 0:Number(e.value);case"meridiem":{const r=n.parse(`01:00 ${e.value}`,`${n.formats.hours12h}:${n.formats.minutes} ${e.format}`);return r?n.getHours(r)>=12?1:0:void 0}case"day":return e.contentType==="digit-with-letter"?parseInt(e.value,10):Number(e.value);case"month":{if(e.contentType==="digit")return Number(e.value);const r=n.parse(e.value,e.format);return r?n.getMonth(r)+1:void 0}default:return e.contentType!=="letter"?Number(e.value):void 0}}const iz=e=>{const{props:n,manager:r,skipContextFieldRefAssignment:s,manager:{valueType:o,internal_useOpenPickerButtonAriaLabel:a}}=e,{internalProps:c,forwardedProps:d}=BS(n,o),u=YS({manager:r,internalProps:c,skipContextFieldRefAssignment:s}),{sectionListRef:h,onBlur:x,onClick:p,onFocus:m,onInput:y,onPaste:b,onKeyDown:S,onClear:j,clearable:D}=d,{disabled:w=!1,readOnly:I=!1,autoFocus:T=!1,focused:_,unstableFieldRef:R}=u,O=g.useRef(null),A=tr(h,O),L=g.useMemo(()=>({isReady:()=>O.current!=null,getRoot:()=>O.current.getRoot(),getSectionContainer:Re=>O.current.getSectionContainer(Re),getSectionContent:Re=>O.current.getSectionContent(Re),getSectionIndexFromDOMElement:Re=>O.current.getSectionIndexFromDOMElement(Re)}),[O]),W=HS({manager:r,internalPropsWithDefaults:u,forwardedProps:d}),{areAllSectionsEmpty:H,error:N,parsedSelectedSections:se,sectionOrder:Z,state:G,value:q,clearValue:K,setSelectedSections:X}=W,ae=VS({stateResponse:W}),V=a(q),[re,Ee]=g.useState(!1);function be(Re=0){if(w||!O.current||qy(O)!=null)return;const Ge=Yh(Re,G.sections);Ee(!0),O.current.getSectionContent(Ge).focus()}const _e=ez({manager:r,internalPropsWithDefaults:u,stateResponse:W,applyCharacterEditing:ae,focused:re,setFocused:Ee,domGetters:L}),de=tz({manager:r,stateResponse:W}),te=nz({stateResponse:W,internalPropsWithDefaults:u}),z=rz({manager:r,stateResponse:W,applyCharacterEditing:ae,internalPropsWithDefaults:u,domGetters:L,focused:re}),De=We(Re=>{S==null||S(Re),_e.onKeyDown(Re)}),oe=We(Re=>{x==null||x(Re),_e.onBlur(Re)}),le=We(Re=>{m==null||m(Re),_e.onFocus(Re)}),ie=We(Re=>{Re.isDefaultPrevented()||(p==null||p(Re),_e.onClick(Re))}),ne=We(Re=>{b==null||b(Re),_e.onPaste(Re)}),me=We(Re=>{y==null||y(Re),_e.onInput(Re)}),he=We((Re,...Ge)=>{Re.preventDefault(),j==null||j(Re,...Ge),K(),Ky(O)?X(Z.startIndex):be(0)}),Oe=g.useMemo(()=>G.sections.map((Re,Ge)=>{const ue=z(Re,Ge);return{container:te(Ge),content:z(Re,Ge),before:{children:Re.startSeparator},after:{children:Re.endSeparator,"data-range-position":Re.isEndFormatSeparator?ue["data-range-position"]:void 0}}}),[G.sections,te,z]);return g.useEffect(()=>{if(O.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please add the `enableAccessibleFieldDOMStructure={false}` prop to your Picker or Field component:","","<DatePicker enableAccessibleFieldDOMStructure={false} slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));T&&!w&&O.current&&O.current.getSectionContent(Z.startIndex).focus()},[]),Zr(()=>{if(!(!re||!O.current)){if(se==="all")O.current.getRoot().focus();else if(typeof se=="number"){const Re=O.current.getSectionContent(se);Re&&Re.focus()}}},[se,re]),Zr(()=>{Px({focused:re,domGetters:L,stateResponse:W})}),g.useImperativeHandle(R,()=>({getSections:()=>G.sections,getActiveSectionIndex:()=>qy(O),setSelectedSections:Re=>{if(w||!O.current)return;const Ge=Yh(Re,G.sections);Ee((Ge==="all"?0:Ge)!==null),X(Re)},focusField:be,isFieldFocused:()=>Ky(O)})),B({},d,_e,{onBlur:oe,onClick:ie,onFocus:le,onInput:me,onPaste:ne,onKeyDown:De,onClear:he},de,{error:N,clearable:!!(D&&!H&&!I&&!w),focused:_??re,sectionListRef:A,enableAccessibleFieldDOMStructure:!0,elements:Oe,areAllSectionsEmpty:H,disabled:w,readOnly:I,autoFocus:T,openPickerAriaLabel:V})};function qy(e){const n=Hn(document);return!n||!e.current||!e.current.getRoot().contains(n)?null:e.current.getSectionIndexFromDOMElement(n)}function Ky(e){const n=Hn(document);return!!e.current&&e.current.getRoot().contains(n)}const fi=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),az=(e,n,r)=>{let s=0,o=r?1:0;const a=[];for(let c=0;c<e.length;c+=1){const d=e[c],u=Sx(d,r?"input-rtl":"input-ltr",n),h=`${d.startSeparator}${u}${d.endSeparator}`,x=fi(h).length,p=h.length,m=fi(u),y=o+(m===""?0:u.indexOf(m[0]))+d.startSeparator.length,b=y+m.length;a.push(B({},d,{start:s,end:s+x,startInInput:y,endInInput:b})),s+=x,o+=p}return a},lz=e=>{const n=Cs(),r=gi(),s=gi(),{props:o,manager:a,skipContextFieldRefAssignment:c,manager:{valueType:d,internal_valueManager:u,internal_fieldValueManager:h,internal_useOpenPickerButtonAriaLabel:x}}=e,{internalProps:p,forwardedProps:m}=BS(o,d),y=YS({manager:a,internalProps:p,skipContextFieldRefAssignment:c}),{onFocus:b,onClick:S,onPaste:j,onBlur:D,onKeyDown:w,onClear:I,clearable:T,inputRef:_,placeholder:R}=m,{readOnly:O=!1,disabled:A=!1,autoFocus:L=!1,focused:W,unstableFieldRef:H}=y,N=g.useRef(null),se=tr(_,N),Z=HS({manager:a,internalPropsWithDefaults:y,forwardedProps:m}),{activeSectionIndex:G,areAllSectionsEmpty:q,error:K,localizedDigits:X,parsedSelectedSections:ae,sectionOrder:V,state:re,value:Ee,clearValue:be,clearActiveSection:_e,setCharacterQuery:de,setSelectedSections:te,setTempAndroidValueStr:z,updateSectionValue:De,updateValueFromValueStr:oe,getSectionsFromValue:le}=Z,ie=VS({stateResponse:Z}),ne=x(Ee),me=g.useMemo(()=>az(re.sections,X,n),[re.sections,X,n]);function he(){const dt=N.current.selectionStart??0;let pt;dt<=me[0].startInInput||dt>=me[me.length-1].endInInput?pt=1:pt=me.findIndex(Gt=>Gt.startInInput-Gt.startSeparator.length>dt);const _t=pt===-1?me.length-1:pt-1;te(_t)}function Oe(dt=0){var pt;Hn(document)!==N.current&&((pt=N.current)==null||pt.focus(),te(dt))}const Re=We(dt=>{b==null||b(dt);const pt=N.current;r.start(0,()=>{!pt||pt!==N.current||G==null&&(pt.value.length&&Number(pt.selectionEnd)-Number(pt.selectionStart)===pt.value.length?te("all"):he())})}),Ge=We((dt,...pt)=>{dt.isDefaultPrevented()||(S==null||S(dt,...pt),he())}),ue=We(dt=>{if(j==null||j(dt),dt.preventDefault(),O||A)return;const pt=dt.clipboardData.getData("text");if(typeof ae=="number"){const _t=re.sections[ae],Gt=/^[a-zA-Z]+$/.test(pt),In=/^[0-9]+$/.test(pt),un=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(pt);if(_t.contentType==="letter"&&Gt||_t.contentType==="digit"&&In||_t.contentType==="digit-with-letter"&&un){de(null),De({section:_t,newSectionValue:pt,shouldGoToNextSection:!0});return}if(Gt||In)return}de(null),oe(pt)}),we=We(dt=>{D==null||D(dt),te(null)}),Y=We(dt=>{if(O)return;const pt=dt.target.value;if(pt===""){be();return}const _t=dt.nativeEvent.data,Gt=_t&&_t.length>1,In=Gt?_t:pt,un=fi(In);if(ae==="all"&&te(G),G==null||Gt){oe(Gt?_t:un);return}let Gn;if(ae==="all"&&un.length===1)Gn=un;else{const mn=fi(h.getV6InputValueFromSections(me,X,n));let St=-1,En=-1;for(let nr=0;nr<mn.length;nr+=1)St===-1&&mn[nr]!==un[nr]&&(St=nr),En===-1&&mn[mn.length-nr-1]!==un[un.length-nr-1]&&(En=nr);const Vn=me[G];if(St<Vn.start||mn.length-En-1>Vn.end)return;const vo=un.length-mn.length+Vn.end-fi(Vn.endSeparator||"").length;Gn=un.slice(Vn.start+fi(Vn.startSeparator||"").length,vo)}if(Gn.length===0){lU()&&z(In),_e();return}ie({keyPressed:Gn,sectionIndex:G})}),ge=We((dt,...pt)=>{dt.preventDefault(),I==null||I(dt,...pt),be(),Jy(N)?te(V.startIndex):Oe(0)}),Je=GS({manager:a,internalPropsWithDefaults:y,stateResponse:Z}),yt=We(dt=>{w==null||w(dt),Je(dt)}),ln=g.useMemo(()=>R!==void 0?R:h.getV6InputValueFromSections(le(u.emptyValue),X,n),[R,h,le,u.emptyValue,X,n]),Ft=g.useMemo(()=>re.tempValueStrAndroid??h.getV6InputValueFromSections(re.sections,X,n),[re.sections,h,re.tempValueStrAndroid,X,n]);g.useEffect(()=>{N.current&&N.current===Hn(document)&&te("all")},[]),Zr(()=>{function dt(){if(!N.current)return;if(ae==null){N.current.scrollLeft&&(N.current.scrollLeft=0);return}if(N.current!==Hn(document))return;const pt=N.current.scrollTop;if(ae==="all")N.current.select();else{const _t=me[ae],Gt=_t.type==="empty"?_t.startInInput-_t.startSeparator.length:_t.startInInput,In=_t.type==="empty"?_t.endInInput+_t.endSeparator.length:_t.endInInput;(Gt!==N.current.selectionStart||In!==N.current.selectionEnd)&&N.current===Hn(document)&&N.current.setSelectionRange(Gt,In),s.start(0,()=>{N.current&&N.current===Hn(document)&&N.current.selectionStart===N.current.selectionEnd&&(N.current.selectionStart!==Gt||N.current.selectionEnd!==In)&&dt()})}N.current.scrollTop=pt}dt()});const Rt=g.useMemo(()=>G==null||re.sections[G].contentType==="letter"?"text":"numeric",[G,re.sections]),Mn=!(N.current&&N.current===Hn(document))&&q;return g.useImperativeHandle(H,()=>({getSections:()=>re.sections,getActiveSectionIndex:()=>{const dt=N.current.selectionStart??0,pt=N.current.selectionEnd??0;if(dt===0&&pt===0)return null;const _t=dt<=me[0].startInInput?1:me.findIndex(Gt=>Gt.startInInput-Gt.startSeparator.length>dt);return _t===-1?me.length-1:_t-1},setSelectedSections:dt=>te(dt),focusField:Oe,isFieldFocused:()=>Jy(N)})),B({},m,{error:K,clearable:!!(T&&!q&&!O&&!A),onBlur:we,onClick:Ge,onFocus:Re,onPaste:ue,onKeyDown:yt,onClear:ge,inputRef:se,enableAccessibleFieldDOMStructure:!1,placeholder:ln,inputMode:Rt,autoComplete:"off",value:Mn?"":Ft,onChange:Y,focused:W,disabled:A,readOnly:O,autoFocus:L,openPickerAriaLabel:ne})};function Jy(e){return e.current===Hn(document)}const cz=e=>{const n=SS();return(e.props.enableAccessibleFieldDOMStructure??(n==null?void 0:n.enableAccessibleFieldDOMStructure)??!0?iz:lz)(e)};function Dx(e){const n=Vt(),r=yS();return g.useMemo(()=>({disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,minDate:Bc(n,e.minDate,r.minDate),maxDate:Bc(n,e.maxDate,r.maxDate)}),[e.minDate,e.maxDate,e.disableFuture,e.disablePast,n,r])}function dz(e={}){const{enableAccessibleFieldDOMStructure:n=!0}=e;return g.useMemo(()=>({valueType:"date-time",validator:Cd,internal_valueManager:cr,internal_fieldValueManager:uU,internal_enableAccessibleFieldDOMStructure:n,internal_useApplyDefaultValuesToFieldInternalProps:hz,internal_useOpenPickerButtonAriaLabel:uz}),[n])}function uz(e){const n=Vt(),r=ps();return g.useMemo(()=>{const s=n.isValid(e)?n.format(e,"fullDate"):null;return r.openDatePickerDialogue(s)},[e,r,n])}function hz(e){const n=Vt(),r=qS(e),s=g.useMemo(()=>e.ampm??n.is12HourCycleInCurrentLocale(),[e.ampm,n]);return g.useMemo(()=>B({},e,r,{format:e.format??(s?n.formats.keyboardDateTime12h:n.formats.keyboardDateTime24h)}),[e,r,s,n])}function qS(e){const n=Vt(),r=yS();return g.useMemo(()=>({disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,disableIgnoringDatePartForTimeValidation:!!e.minDateTime||!!e.maxDateTime||!!e.disableFuture||!!e.disablePast,minDate:Bc(n,e.minDateTime??e.minDate,r.minDate),maxDate:Bc(n,e.maxDateTime??e.maxDate,r.maxDate),minTime:e.minDateTime??e.minTime,maxTime:e.maxDateTime??e.maxTime}),[e.minDateTime,e.maxDateTime,e.minTime,e.maxTime,e.minDate,e.maxDate,e.disableFuture,e.disablePast,n,r])}function Ix(e){const{ownerState:n}=Dn(),r=Cs();return g.useMemo(()=>B({},n,{isFieldDisabled:e.disabled??!1,isFieldReadOnly:e.readOnly??!1,isFieldRequired:e.required??!1,fieldDirection:r?"rtl":"ltr"}),[n,e.disabled,e.readOnly,e.required,r])}function fz(e){return an("MuiPickersTextField",e)}dn("MuiPickersTextField",["root","focused","disabled","error","required"]);function pz(e){return an("MuiPickersInputBase",e)}const bi=dn("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input","activeBar"]);function xz(e){return an("MuiPickersSectionList",e)}const ga=dn("MuiPickersSectionList",["root","section","sectionContent"]),mz=["slots","slotProps","elements","sectionListRef","classes"],KS=ke("div",{name:"MuiPickersSectionList",slot:"Root"})({direction:"ltr /*! @noflip */",outline:"none"}),JS=ke("span",{name:"MuiPickersSectionList",slot:"Section"})({}),XS=ke("span",{name:"MuiPickersSectionList",slot:"SectionSeparator"})({whiteSpace:"pre"}),QS=ke("span",{name:"MuiPickersSectionList",slot:"SectionContent"})({outline:"none"}),gz=e=>Kt({root:["root"],section:["section"],sectionContent:["sectionContent"]},xz,e);function bz(e){const{slots:n,slotProps:r,element:s,classes:o}=e,{ownerState:a}=Dn(),c=(n==null?void 0:n.section)??JS,d=Nt({elementType:c,externalSlotProps:r==null?void 0:r.section,externalForwardedProps:s.container,className:o.section,ownerState:a}),u=(n==null?void 0:n.sectionContent)??QS,h=Nt({elementType:u,externalSlotProps:r==null?void 0:r.sectionContent,externalForwardedProps:s.content,additionalProps:{suppressContentEditableWarning:!0},className:o.sectionContent,ownerState:a}),x=(n==null?void 0:n.sectionSeparator)??XS,p=Nt({elementType:x,externalSlotProps:r==null?void 0:r.sectionSeparator,externalForwardedProps:s.before,ownerState:B({},a,{separatorPosition:"before"})}),m=Nt({elementType:x,externalSlotProps:r==null?void 0:r.sectionSeparator,externalForwardedProps:s.after,ownerState:B({},a,{separatorPosition:"after"})});return t.jsxs(c,B({},d,{children:[t.jsx(x,B({},p)),t.jsx(u,B({},h)),t.jsx(x,B({},m))]}))}const yz=g.forwardRef(function(n,r){const s=Yt({props:n,name:"MuiPickersSectionList"}),{slots:o,slotProps:a,elements:c,sectionListRef:d,classes:u}=s,h=st(s,mz),x=gz(u),{ownerState:p}=Dn(),m=g.useRef(null),y=tr(r,m),b=D=>{if(!m.current)throw new Error(`MUI X: Cannot call sectionListRef.${D} before the mount of the component.`);return m.current};g.useImperativeHandle(d,()=>({getRoot(){return b("getRoot")},getSectionContainer(D){return b("getSectionContainer").querySelector(`.${ga.section}[data-sectionindex="${D}"]`)},getSectionContent(D){return b("getSectionContent").querySelector(`.${ga.section}[data-sectionindex="${D}"] .${ga.sectionContent}`)},getSectionIndexFromDOMElement(D){const w=b("getSectionIndexFromDOMElement");if(D==null||!w.contains(D))return null;let I=null;return D.classList.contains(ga.section)?I=D:D.classList.contains(ga.sectionContent)&&(I=D.parentElement),I==null?null:Number(I.dataset.sectionindex)}}));const S=(o==null?void 0:o.root)??KS,j=Nt({elementType:S,externalSlotProps:a==null?void 0:a.root,externalForwardedProps:h,additionalProps:{ref:y,suppressContentEditableWarning:!0},className:x.root,ownerState:p});return t.jsx(S,B({},j,{children:j.contentEditable?c.map(({content:D,before:w,after:I})=>`${w.children}${D.children}${I.children}`).join(""):t.jsx(g.Fragment,{children:c.map((D,w)=>t.jsx(bz,{slots:o,slotProps:a,element:D,classes:x},w))})}))}),ZS=g.createContext(null),Pd=()=>{const e=g.useContext(ZS);if(e==null)throw new Error(["MUI X: The `usePickerTextFieldOwnerState` can only be called in components that are used inside a PickerTextField component"].join(`
`));return e},vz=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef","onFocus","onBlur","classes","ownerState"],jz=e=>Math.round(e*1e5)/1e5,Dd=ke("div",{name:"MuiPickersInputBase",slot:"Root"})(({theme:e})=>B({},e.typography.body1,{color:(e.vars||e).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${jz(.15/16)}em`,variants:[{props:{isInputInFullWidth:!0},style:{width:"100%"}}]})),Ex=ke(KS,{name:"MuiPickersInputBase",slot:"SectionsContainer"})(({theme:e})=>({padding:"4px 0 5px",fontFamily:e.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{fieldDirection:"rtl"},style:{textAlign:"right /*! @noflip */"}},{props:{inputSize:"small"},style:{paddingTop:1}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0},style:{color:"currentColor",opacity:0}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!1},style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}}]})),Sz=ke(JS,{name:"MuiPickersInputBase",slot:"Section"})(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"inline-block",whiteSpace:"nowrap"})),wz=ke(QS,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(e,n)=>n.content})(({theme:e})=>({fontFamily:e.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),Cz=ke(XS,{name:"MuiPickersInputBase",slot:"Separator"})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),Pz=ke("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(e,n)=>n.hiddenInput})(B({},pV)),Dz=ke("div",{name:"MuiPickersInputBase",slot:"ActiveBar"})(({theme:e,ownerState:n})=>({display:"none",position:"absolute",height:2,bottom:2,borderTopLeftRadius:2,borderTopRightRadius:2,transition:e.transitions.create(["width","left"],{duration:e.transitions.duration.shortest}),backgroundColor:(e.vars||e).palette.primary.main,'[data-active-range-position="start"] &, [data-active-range-position="end"] &':{display:"block"},'[data-active-range-position="start"] &':{left:n.sectionOffsets[0]},'[data-active-range-position="end"] &':{left:n.sectionOffsets[1]}})),Iz=(e,n)=>{const{isFieldFocused:r,isFieldDisabled:s,isFieldReadOnly:o,hasFieldError:a,inputSize:c,isInputInFullWidth:d,inputColor:u,hasStartAdornment:h,hasEndAdornment:x}=n,p={root:["root",r&&!s&&"focused",s&&"disabled",o&&"readOnly",a&&"error",d&&"fullWidth",`color${lV(u)}`,c==="small"&&"inputSizeSmall",h&&"adornedStart",x&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"],activeBar:["activeBar"]};return Kt(p,pz,e)};function Xy(e,n,r,s){var o;if(e.content.id){const a=(o=n.current)==null?void 0:o.querySelectorAll(`[data-sectionindex="${r}"] [data-range-position="${s}"]`);if(a)return Array.from(a).reduce((c,d)=>c+d.offsetWidth,0)}return 0}function Ez(e,n){var o,a,c,d,u;let r=0;if(((o=n.current)==null?void 0:o.getAttribute("data-active-range-position"))==="end")for(let h=e.length-1;h>=e.length/2;h-=1)r+=Xy(e[h],n,h,"end");else for(let h=0;h<e.length/2;h+=1)r+=Xy(e[h],n,h,"start");return{activeBarWidth:r,sectionOffsets:[((c=(a=n.current)==null?void 0:a.querySelector('[data-sectionindex="0"]'))==null?void 0:c.offsetLeft)||0,((u=(d=n.current)==null?void 0:d.querySelector(`[data-sectionindex="${e.length/2}"]`))==null?void 0:u.offsetLeft)||0]}}const Tx=g.forwardRef(function(n,r){const s=Yt({props:n,name:"MuiPickersInputBase"}),{elements:o,areAllSectionsEmpty:a,value:c,onChange:d,id:u,endAdornment:h,startAdornment:x,renderSuffix:p,slots:m,slotProps:y,contentEditable:b,tabIndex:S,onInput:j,onPaste:D,onKeyDown:w,name:I,readOnly:T,inputProps:_,inputRef:R,sectionListRef:O,onFocus:A,onBlur:L,classes:W,ownerState:H}=s,N=st(s,vz),se=Pd(),Z=g.useRef(null),G=g.useRef(null),q=g.useRef([]),K=tr(r,Z),X=tr(_==null?void 0:_.ref,R),ae=x0();if(!ae)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const V=H??se,re=le=>{var ie;(ie=ae.onFocus)==null||ie.call(ae,le),A==null||A(le)},Ee=le=>{re(le)},be=le=>{var ie,ne;if(w==null||w(le),le.key==="Enter"&&!le.defaultMuiPrevented){if((ie=Z.current)!=null&&ie.dataset.multiInput)return;const me=(ne=Z.current)==null?void 0:ne.closest("form"),he=me==null?void 0:me.querySelector('[type="submit"]');if(!me||!he)return;le.preventDefault(),me.requestSubmit(he)}},_e=le=>{var ie;(ie=ae.onBlur)==null||ie.call(ae,le),L==null||L(le)};g.useEffect(()=>{ae&&ae.setAdornedStart(!!x)},[ae,x]),g.useEffect(()=>{ae&&(a?ae.onEmpty():ae.onFilled())},[ae,a]);const de=Iz(W,V),te=(m==null?void 0:m.root)||Dd,z=Nt({elementType:te,externalSlotProps:y==null?void 0:y.root,externalForwardedProps:N,additionalProps:{"aria-invalid":ae.error,ref:K},className:de.root,ownerState:V}),De=(m==null?void 0:m.input)||Ex,oe=o.some(le=>le.content["data-range-position"]!==void 0);return g.useEffect(()=>{if(!oe||!V.isPickerOpen)return;const{activeBarWidth:le,sectionOffsets:ie}=Ez(o,Z);q.current=[ie[0],ie[1]],G.current&&(G.current.style.width=`${le}px`)},[o,oe,V.isPickerOpen]),t.jsxs(te,B({},z,{children:[x,t.jsx(yz,{sectionListRef:O,elements:o,contentEditable:b,tabIndex:S,className:de.sectionsContainer,onFocus:re,onBlur:_e,onInput:j,onPaste:D,onKeyDown:be,slots:{root:De,section:Sz,sectionContent:wz,sectionSeparator:Cz},slotProps:{root:B({},y==null?void 0:y.input,{ownerState:V}),sectionContent:{className:bi.sectionContent},sectionSeparator:({separatorPosition:le})=>({className:le==="before"?bi.sectionBefore:bi.sectionAfter})}}),h,p?p(B({},ae)):null,t.jsx(Pz,B({name:I,className:de.input,value:c,onChange:d,id:u,"aria-hidden":"true",tabIndex:-1,readOnly:T,required:ae.required,disabled:ae.disabled,onFocus:Ee},_,{ref:X})),oe&&t.jsx(Dz,{className:de.activeBar,ref:G,ownerState:{sectionOffsets:q.current}})]}))});function Tz(e){return an("MuiPickersOutlinedInput",e)}const os=B({},bi,dn("MuiPickersOutlinedInput",["root","notchedOutline","input"])),Az=["children","className","label","notched","shrink"],Rz=ke("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline"})(({theme:e})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}}),Qy=ke("span")(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit"})),_z=ke("legend",{shouldForwardProp:e=>Us(e)&&e!=="notched"})(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{inputHasLabel:!1},style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:{inputHasLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{inputHasLabel:!0,notched:!0},style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]}));function Oz(e){const{className:n,label:r,notched:s}=e,o=st(e,Az),a=Pd();return t.jsx(Rz,B({"aria-hidden":!0,className:n},o,{ownerState:a,children:t.jsx(_z,{ownerState:a,notched:s,children:r?t.jsx(Qy,{children:r}):t.jsx(Qy,{className:"notranslate",children:""})})}))}const kz=["label","autoFocus","ownerState","classes","notched"],Mz=ke(Dd,{name:"MuiPickersOutlinedInput",slot:"Root"})(({theme:e})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${os.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${os.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${os.focused} .${os.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${os.disabled}`]:{[`& .${os.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled},"*":{color:(e.vars||e).palette.action.disabled}},[`&.${os.error} .${os.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},variants:Object.keys((e.vars??e).palette).filter(r=>{var s;return((s=(e.vars??e).palette[r])==null?void 0:s.main)??!1}).map(r=>({props:{inputColor:r},style:{[`&.${os.focused}:not(.${os.error}) .${os.notchedOutline}`]:{borderColor:(e.vars||e).palette[r].main}}}))}}),Nz=ke(Ex,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer"})({padding:"16.5px 0",variants:[{props:{inputSize:"small"},style:{padding:"8.5px 0"}}]}),Lz=e=>{const r=Kt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Tz,e);return B({},e,r)},e1=g.forwardRef(function(n,r){const s=Yt({props:n,name:"MuiPickersOutlinedInput"}),{label:o,classes:a,notched:c}=s,d=st(s,kz),u=x0(),h=Lz(a);return t.jsx(Tx,B({slots:{root:Mz,input:Nz},renderSuffix:x=>t.jsx(Oz,{shrink:!!(c||x.adornedStart||x.focused||x.filled),notched:!!(c||x.adornedStart||x.focused||x.filled),className:h.notchedOutline,label:o!=null&&o!==""&&(u!=null&&u.required)?t.jsxs(g.Fragment,{children:[o,"","*"]}):o})},d,{label:o,classes:h,ref:r}))});e1.muiName="Input";function $z(e){return an("MuiPickersFilledInput",e)}const Oo=B({},bi,dn("MuiPickersFilledInput",["root","underline","input"])),Fz=["label","autoFocus","disableUnderline","hiddenLabel","classes"],Wz=ke(Dd,{name:"MuiPickersFilledInput",slot:"Root",shouldForwardProp:e=>m0(e)&&e!=="disableUnderline"})(({theme:e})=>{const n=e.palette.mode==="light",r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s}},[`&.${Oo.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s},[`&.${Oo.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:a},variants:[...Object.keys((e.vars??e).palette).filter(c=>(e.vars??e).palette[c].main).map(c=>{var d;return{props:{inputColor:c,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(d=(e.vars||e).palette[c])==null?void 0:d.main}`}}}}),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Oo.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Oo.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Oo.disabled}, .${Oo.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Oo.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:{hasStartAdornment:!0},style:{paddingLeft:12}},{props:{hasEndAdornment:!0},style:{paddingRight:12}}]}}),Bz=ke(Ex,{name:"MuiPickersFilledInput",slot:"sectionsContainer",shouldForwardProp:e=>m0(e)&&e!=="hiddenLabel"})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{inputSize:"small"},style:{paddingTop:21,paddingBottom:4}},{props:{hasStartAdornment:!0},style:{paddingLeft:0}},{props:{hasEndAdornment:!0},style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,inputSize:"small"},style:{paddingTop:8,paddingBottom:9}}]}),Vz=(e,n)=>{const{inputHasUnderline:r}=n,o=Kt({root:["root",r&&"underline"],input:["input"]},$z,e);return B({},e,o)},t1=g.forwardRef(function(n,r){const s=Yt({props:n,name:"MuiPickersFilledInput"}),{label:o,disableUnderline:a=!1,hiddenLabel:c=!1,classes:d}=s,u=st(s,Fz),h=Pd(),x=B({},h,{inputHasUnderline:!a}),p=Vz(d,x);return t.jsx(Tx,B({slots:{root:Wz,input:Bz},slotProps:{root:{disableUnderline:a},input:{hiddenLabel:c}}},u,{label:o,classes:p,ref:r,ownerState:x}))});t1.muiName="Input";function Uz(e){return an("MuiPickersFilledInput",e)}const ba=B({},bi,dn("MuiPickersInput",["root","underline","input"])),zz=["label","autoFocus","disableUnderline","ownerState","classes"],Hz=ke(Dd,{name:"MuiPickersInput",slot:"Root",shouldForwardProp:e=>Us(e)&&e!=="disableUnderline"})(({theme:e})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((e.vars??e).palette).filter(s=>(e.vars??e).palette[s].main).map(s=>({props:{inputColor:s},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[s].main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ba.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ba.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ba.disabled}, .${ba.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${ba.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),Yz=(e,n)=>{const{inputHasUnderline:r}=n,o=Kt({root:["root",!r&&"underline"],input:["input"]},Uz,e);return B({},e,o)},n1=g.forwardRef(function(n,r){const s=Yt({props:n,name:"MuiPickersInput"}),{label:o,disableUnderline:a=!1,classes:c}=s,d=st(s,zz),u=Pd(),h=B({},u,{inputHasUnderline:!a}),x=Yz(c,h);return t.jsx(Tx,B({slots:{root:Hz},slotProps:{root:{disableUnderline:a}}},d,{label:o,classes:x,ref:r}))});n1.muiName="Input";const Gz=["onFocus","onBlur","className","classes","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps","data-active-range-position"],qz={standard:n1,filled:t1,outlined:e1},Kz=ke(bt,{name:"MuiPickersTextField",slot:"Root"})({}),Jz=(e,n)=>{const{isFieldFocused:r,isFieldDisabled:s,isFieldRequired:o}=n;return Kt({root:["root",r&&!s&&"focused",s&&"disabled",o&&"required"]},fz,e)},r1=g.forwardRef(function(n,r){const s=Yt({props:n,name:"MuiPickersTextField"}),{onFocus:o,onBlur:a,className:c,classes:d,color:u="primary",disabled:h=!1,error:x=!1,variant:p="outlined",required:m=!1,InputProps:y,inputProps:b,inputRef:S,sectionListRef:j,elements:D,areAllSectionsEmpty:w,onClick:I,onKeyDown:T,onKeyUp:_,onPaste:R,onInput:O,endAdornment:A,startAdornment:L,tabIndex:W,contentEditable:H,focused:N,value:se,onChange:Z,fullWidth:G,id:q,name:K,helperText:X,FormHelperTextProps:ae,label:V,InputLabelProps:re,"data-active-range-position":Ee}=s,be=st(s,Gz),_e=g.useRef(null),de=tr(r,_e),te=yd(q),z=X&&te?`${te}-helper-text`:void 0,De=V&&te?`${te}-label`:void 0,oe=Ix({disabled:s.disabled,required:s.required,readOnly:y==null?void 0:y.readOnly}),le=g.useMemo(()=>B({},oe,{isFieldValueEmpty:w,isFieldFocused:N??!1,hasFieldError:x??!1,inputSize:s.size??"medium",inputColor:u??"primary",isInputInFullWidth:G??!1,hasStartAdornment:!!(L??(y==null?void 0:y.startAdornment)),hasEndAdornment:!!(A??(y==null?void 0:y.endAdornment)),inputHasLabel:!!V}),[oe,w,N,x,s.size,u,G,L,A,y==null?void 0:y.startAdornment,y==null?void 0:y.endAdornment,V]),ie=Jz(d,le),ne=qz[p],me={};return p==="outlined"&&(re&&typeof re.shrink<"u"&&(me.notched=re.shrink),me.label=V),t.jsx(ZS.Provider,{value:le,children:t.jsxs(Kz,B({className:Qt(ie.root,c),ref:de,focused:N,disabled:h,variant:p,error:x,color:u,fullWidth:G,required:m,ownerState:le},be,{children:[V!=null&&V!==""&&t.jsx(At,B({htmlFor:te,id:De},re,{children:V})),t.jsx(ne,B({elements:D,areAllSectionsEmpty:w,onClick:I,onKeyDown:T,onKeyUp:_,onInput:O,onPaste:R,onFocus:o,onBlur:a,endAdornment:A,startAdornment:L,tabIndex:W,contentEditable:H,value:se,onChange:Z,id:te,fullWidth:G,inputProps:b,inputRef:S,sectionListRef:j,label:V,name:K,role:"group","aria-labelledby":De,"aria-describedby":z,"aria-live":z?"polite":void 0,"data-active-range-position":Ee},me,y)),X&&t.jsx(UT,B({id:z},ae,{children:X}))]}))})}),Xz=["enableAccessibleFieldDOMStructure"],Qz=["InputProps","readOnly","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],Zz=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],e8=["ownerState"],t8=["ownerState"],n8=["ownerState"],r8=["ownerState"],s8=["InputProps","inputProps"],o8=e=>{let{enableAccessibleFieldDOMStructure:n}=e,r=st(e,Xz);if(n){const{InputProps:j,readOnly:D,onClear:w,clearable:I,clearButtonPosition:T,openPickerButtonPosition:_,openPickerAriaLabel:R}=r,O=st(r,Qz);return{clearable:I,onClear:w,clearButtonPosition:T,openPickerButtonPosition:_,openPickerAriaLabel:R,textFieldProps:B({},O,{InputProps:B({},j??{},{readOnly:D})})}}const{onPaste:s,onKeyDown:o,inputMode:a,readOnly:c,InputProps:d,inputProps:u,inputRef:h,onClear:x,clearable:p,clearButtonPosition:m,openPickerButtonPosition:y,openPickerAriaLabel:b}=r,S=st(r,Zz);return{clearable:p,onClear:x,clearButtonPosition:m,openPickerButtonPosition:y,openPickerAriaLabel:b,textFieldProps:B({},S,{InputProps:B({},d??{},{readOnly:c}),inputProps:B({},u??{},{inputMode:a,onPaste:s,onKeyDown:o,ref:h})})}},Ax=g.createContext({slots:{},slotProps:{},inputRef:void 0});function i8(e){var ae,V;const{slots:n,slotProps:r,fieldResponse:s,defaultOpenPickerIcon:o}=e,a=ps(),c=wx(),d=g.useContext(Ax),{textFieldProps:u,onClear:h,clearable:x,openPickerAriaLabel:p,clearButtonPosition:m="end",openPickerButtonPosition:y="end"}=o8(s),b=Ix(u),S=We(re=>{re.preventDefault(),c==null||c.setOpen(Ee=>!Ee)}),j=c?c.triggerStatus:"hidden",D=x?m:null,w=j!=="hidden"?y:null,I=(n==null?void 0:n.textField)??d.slots.textField??(s.enableAccessibleFieldDOMStructure===!1?rt:r1),T=(n==null?void 0:n.inputAdornment)??d.slots.inputAdornment??Qr,_=Nt({elementType:T,externalSlotProps:ic(d.slotProps.inputAdornment,r==null?void 0:r.inputAdornment),additionalProps:{position:"start"},ownerState:B({},b,{position:"start"})}),R=st(_,e8),O=Nt({elementType:T,externalSlotProps:r==null?void 0:r.inputAdornment,additionalProps:{position:"end"},ownerState:B({},b,{position:"end"})}),A=st(O,t8),L=d.slots.openPickerButton??Le,W=Nt({elementType:L,externalSlotProps:d.slotProps.openPickerButton,additionalProps:{disabled:j==="disabled",onClick:S,"aria-label":p,edge:u.variant!=="standard"?w:!1},ownerState:b}),H=st(W,n8),N=d.slots.openPickerIcon??o,se=Nt({elementType:N,externalSlotProps:d.slotProps.openPickerIcon,ownerState:b}),Z=(n==null?void 0:n.clearButton)??d.slots.clearButton??Le,G=Nt({elementType:Z,externalSlotProps:ic(d.slotProps.clearButton,r==null?void 0:r.clearButton),className:"clearButton",additionalProps:{title:a.fieldClearLabel,tabIndex:-1,onClick:h,disabled:s.disabled||s.readOnly,edge:u.variant!=="standard"&&D!==w?D:!1},ownerState:b}),q=st(G,r8),K=(n==null?void 0:n.clearIcon)??d.slots.clearIcon??RV,X=Nt({elementType:K,externalSlotProps:ic(d.slotProps.clearIcon,r==null?void 0:r.clearIcon),additionalProps:{fontSize:"small"},ownerState:b});return u.ref=tr(u.ref,c==null?void 0:c.rootRef),u.InputProps||(u.InputProps={}),c&&(u.InputProps.ref=c.triggerRef),!((ae=u.InputProps)!=null&&ae.startAdornment)&&(D==="start"||w==="start")&&(u.InputProps.startAdornment=t.jsxs(T,B({},R,{children:[w==="start"&&t.jsx(L,B({},H,{children:t.jsx(N,B({},se))})),D==="start"&&t.jsx(Z,B({},q,{children:t.jsx(K,B({},X))}))]}))),!((V=u.InputProps)!=null&&V.endAdornment)&&(D==="end"||w==="end")&&(u.InputProps.endAdornment=t.jsxs(T,B({},A,{children:[D==="end"&&t.jsx(Z,B({},q,{children:t.jsx(K,B({},X))})),w==="end"&&t.jsx(L,B({},H,{children:t.jsx(N,B({},se))}))]}))),D!=null&&(u.sx=[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(u.sx)?u.sx:[u.sx]]),t.jsx(I,B({},u))}function ic(e,n){return e?n?r=>B({},Fa(n,r),Fa(e,r)):e:n}function a8(e){const{ref:n,externalForwardedProps:r,slotProps:s}=e,o=g.useContext(Ax),a=wx(),c=Ix(r),{InputProps:d,inputProps:u}=r,h=st(r,s8),x=Nt({elementType:r1,externalSlotProps:ic(o.slotProps.textField,s==null?void 0:s.textField),externalForwardedProps:h,additionalProps:{ref:n,sx:a==null?void 0:a.rootSx,label:a==null?void 0:a.label,name:a==null?void 0:a.name,className:a==null?void 0:a.rootClassName,inputRef:o.inputRef},ownerState:c});return x.inputProps=B({},u,x.inputProps),x.InputProps=B({},d,x.InputProps),x}function s1(e){const{slots:n={},slotProps:r={},inputRef:s,children:o}=e,a=g.useMemo(()=>({inputRef:s,slots:{openPickerButton:n.openPickerButton,openPickerIcon:n.openPickerIcon,textField:n.textField,inputAdornment:n.inputAdornment,clearIcon:n.clearIcon,clearButton:n.clearButton},slotProps:{openPickerButton:r.openPickerButton,openPickerIcon:r.openPickerIcon,textField:r.textField,inputAdornment:r.inputAdornment,clearIcon:r.clearIcon,clearButton:r.clearButton}}),[s,n.openPickerButton,n.openPickerIcon,n.textField,n.inputAdornment,n.clearIcon,n.clearButton,r.openPickerButton,r.openPickerIcon,r.textField,r.inputAdornment,r.clearIcon,r.clearButton]);return t.jsx(Ax.Provider,{value:a,children:o})}const l8=e=>{const n=dz(e);return cz({manager:n,props:e})},c8=["slots","slotProps"],o1=g.forwardRef(function(n,r){const s=Yt({props:n,name:"MuiDateTimeField"}),{slots:o,slotProps:a}=s,c=st(s,c8),d=a8({slotProps:a,ref:r,externalForwardedProps:c}),u=l8(d);return t.jsx(i8,{slots:o,slotProps:a,fieldResponse:u,defaultOpenPickerIcon:EV})}),i1=({shouldDisableDate:e,shouldDisableMonth:n,shouldDisableYear:r,minDate:s,maxDate:o,disableFuture:a,disablePast:c,timezone:d})=>{const u=Ho();return g.useCallback(h=>Cx({adapter:u,value:h,timezone:d,props:{shouldDisableDate:e,shouldDisableMonth:n,shouldDisableYear:r,minDate:s,maxDate:o,disableFuture:a,disablePast:c}})!==null,[u,e,n,r,s,o,a,c,d])},d8=(e,n)=>(r,s)=>{switch(s.type){case"setVisibleDate":return B({},r,{slideDirection:s.direction,currentMonth:s.month,isMonthSwitchingAnimating:!n.isSameMonth(s.month,r.currentMonth)&&!e&&!s.skipAnimation,focusedDay:s.focusedDay});case"changeMonthTimezone":{const o=s.newTimezone;if(n.getTimezone(r.currentMonth)===o)return r;let a=n.setTimezone(r.currentMonth,o);return n.getMonth(a)!==n.getMonth(r.currentMonth)&&(a=n.setMonth(a,n.getMonth(r.currentMonth))),B({},r,{currentMonth:a})}case"finishMonthSwitchingAnimation":return B({},r,{isMonthSwitchingAnimating:!1});default:throw new Error("missing support")}},u8=e=>{const{value:n,referenceDate:r,disableFuture:s,disablePast:o,maxDate:a,minDate:c,onMonthChange:d,onYearChange:u,reduceAnimations:h,shouldDisableDate:x,timezone:p,getCurrentMonthFromVisibleDate:m}=e,y=Vt(),b=g.useRef(d8(!!h,y)).current,S=g.useMemo(()=>cr.getInitialReferenceValue({value:n,utils:y,timezone:p,props:e,referenceDate:r,granularity:ls.day}),[r,p]),[j,D]=g.useReducer(b,{isMonthSwitchingAnimating:!1,focusedDay:S,currentMonth:y.startOfMonth(S),slideDirection:"left"}),w=i1({shouldDisableDate:x,minDate:c,maxDate:a,disableFuture:s,disablePast:o,timezone:p});g.useEffect(()=>{D({type:"changeMonthTimezone",newTimezone:y.getTimezone(S)})},[S,y]);const I=We(({target:_,reason:R})=>{if(R==="cell-interaction"&&j.focusedDay!=null&&y.isSameDay(_,j.focusedDay))return;const O=R==="cell-interaction";let A,L;if(R==="cell-interaction")A=m(_,j.currentMonth),L=_;else if(A=y.isSameMonth(_,j.currentMonth)?j.currentMonth:y.startOfMonth(_),L=_,w(L)){const N=y.startOfMonth(_),se=y.endOfMonth(_);L=Va({utils:y,date:L,minDate:y.isBefore(c,N)?N:c,maxDate:y.isAfter(a,se)?se:a,disablePast:o,disableFuture:s,isDateDisabled:w,timezone:p})}const W=!y.isSameMonth(j.currentMonth,A),H=!y.isSameYear(j.currentMonth,A);W&&(d==null||d(A)),H&&(u==null||u(y.startOfYear(A))),D({type:"setVisibleDate",month:A,direction:y.isAfterDay(A,j.currentMonth)?"left":"right",focusedDay:j.focusedDay!=null&&L!=null&&y.isSameDay(L,j.focusedDay)?j.focusedDay:L,skipAnimation:O})}),T=g.useCallback(()=>{D({type:"finishMonthSwitchingAnimation"})},[]);return{referenceDate:S,calendarState:j,setVisibleDate:I,isDateDisabled:w,onMonthSwitchingAnimationEnd:T}},h8=e=>an("MuiPickersFadeTransitionGroup",e);dn("MuiPickersFadeTransitionGroup",["root"]);const f8=["children"],p8=e=>Kt({root:["root"]},h8,e),x8=ke(g0,{name:"MuiPickersFadeTransitionGroup",slot:"Root"})({display:"block",position:"relative"});function a1(e){const n=Yt({props:e,name:"MuiPickersFadeTransitionGroup"}),{className:r,reduceAnimations:s,transKey:o,classes:a}=n,{children:c}=n,d=st(n,f8),u=p8(a),h=xn();return s?c:t.jsx(x8,{className:Qt(u.root,r),ownerState:d,children:t.jsx(qc,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:h.transitions.duration.enteringScreen,enter:h.transitions.duration.enteringScreen,exit:0},children:c},o)})}const m8=e=>an("MuiPickersSlideTransition",e),Gr=dn("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),g8=["children","className","reduceAnimations","slideDirection","transKey","classes"],b8=(e,n)=>{const{slideDirection:r}=n,s={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${r}`],exitActive:[`slideExitActiveLeft-${r}`]};return Kt(s,m8,e)},y8=ke(g0,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,n)=>[n.root,{[`.${Gr["slideEnter-left"]}`]:n["slideEnter-left"]},{[`.${Gr["slideEnter-right"]}`]:n["slideEnter-right"]},{[`.${Gr.slideEnterActive}`]:n.slideEnterActive},{[`.${Gr.slideExit}`]:n.slideExit},{[`.${Gr["slideExitActiveLeft-left"]}`]:n["slideExitActiveLeft-left"]},{[`.${Gr["slideExitActiveLeft-right"]}`]:n["slideExitActiveLeft-right"]}]})(({theme:e})=>{const n=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Gr["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Gr["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Gr.slideEnterActive}`]:{transform:"translate(0%)",transition:n},[`& .${Gr.slideExit}`]:{transform:"translate(0%)"},[`& .${Gr["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:n,zIndex:0},[`& .${Gr["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:n,zIndex:0}}});function v8(e){const n=Yt({props:e,name:"MuiPickersSlideTransition"}),{children:r,className:s,reduceAnimations:o,slideDirection:a,transKey:c,classes:d}=n,u=st(n,g8),{ownerState:h}=Dn(),x=B({},h,{slideDirection:a}),p=b8(d,x),m=xn();if(o)return t.jsx("div",{className:Qt(p.root,s),children:r});const y={exit:p.exit,enterActive:p.enterActive,enter:p.enter,exitActive:p.exitActive};return t.jsx(y8,{className:Qt(p.root,s),childFactory:b=>g.cloneElement(b,{classNames:y}),role:"presentation",ownerState:x,children:t.jsx(zT,B({mountOnEnter:!0,unmountOnExit:!0,timeout:m.transitions.duration.complex,classNames:y},u,{children:r}),c)})}const j8=e=>an("MuiDayCalendar",e);dn("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const S8=["parentProps","day","focusedDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],w8=["ownerState"],C8=e=>Kt({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},j8,e),l1=(Ba+Sd*2)*6,P8=ke("div",{name:"MuiDayCalendar",slot:"Root"})({}),D8=ke("div",{name:"MuiDayCalendar",slot:"Header"})({display:"flex",justifyContent:"center",alignItems:"center"}),I8=ke(v,{name:"MuiDayCalendar",slot:"WeekDayLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),E8=ke(v,{name:"MuiDayCalendar",slot:"WeekNumberLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.disabled})),T8=ke(v,{name:"MuiDayCalendar",slot:"WeekNumber"})(({theme:e})=>B({},e.typography.caption,{width:Ba,height:Ba,padding:0,margin:`0 ${Sd}px`,color:(e.vars||e).palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),A8=ke("div",{name:"MuiDayCalendar",slot:"LoadingContainer"})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:l1}),R8=ke(v8,{name:"MuiDayCalendar",slot:"SlideTransition"})({minHeight:l1}),_8=ke("div",{name:"MuiDayCalendar",slot:"MonthContainer"})({overflow:"hidden"}),O8=ke("div",{name:"MuiDayCalendar",slot:"WeekContainer"})({margin:`${Sd}px 0`,display:"flex",justifyContent:"center"});function k8(e){let{parentProps:n,day:r,focusedDay:s,selectedDays:o,isDateDisabled:a,currentMonthNumber:c,isViewFocused:d}=e,u=st(e,S8);const{disabled:h,disableHighlightToday:x,isMonthSwitchingAnimating:p,showDaysOutsideCurrentMonth:m,slots:y,slotProps:b,timezone:S}=n,j=Vt(),D=zi(S),w=s!=null&&j.isSameDay(r,s),I=d&&w,T=o.some(Z=>j.isSameDay(Z,r)),_=j.isSameDay(r,D),R=g.useMemo(()=>h||a(r),[h,a,r]),O=g.useMemo(()=>j.getMonth(r)!==c,[j,r,c]),A=NS({day:r,selected:T,disabled:R,today:_,outsideCurrentMonth:O,disableMargin:void 0,disableHighlightToday:x,showDaysOutsideCurrentMonth:m}),L=(y==null?void 0:y.day)??BU,W=Nt({elementType:L,externalSlotProps:b==null?void 0:b.day,additionalProps:B({disableHighlightToday:x,showDaysOutsideCurrentMonth:m,role:"gridcell",isAnimating:p,"data-timestamp":j.toJsDate(r).valueOf()},u),ownerState:B({},A,{day:r,isDayDisabled:R,isDaySelected:T})}),H=st(W,w8),N=g.useMemo(()=>{const Z=j.startOfMonth(j.setMonth(r,c));return m?j.isSameDay(r,j.startOfWeek(Z)):j.isSameDay(r,Z)},[c,r,m,j]),se=g.useMemo(()=>{const Z=j.endOfMonth(j.setMonth(r,c));return m?j.isSameDay(r,j.endOfWeek(Z)):j.isSameDay(r,Z)},[c,r,m,j]);return t.jsx(L,B({},H,{day:r,disabled:R,autoFocus:!O&&I,today:_,outsideCurrentMonth:O,isFirstVisibleCell:N,isLastVisibleCell:se,selected:T,tabIndex:w?0:-1,"aria-selected":T,"aria-current":_?"date":void 0}))}function M8(e){const n=Yt({props:e,name:"MuiDayCalendar"}),r=Vt(),{onFocusedDayChange:s,className:o,classes:a,currentMonth:c,selectedDays:d,focusedDay:u,loading:h,onSelectedDaysChange:x,onMonthSwitchingAnimationEnd:p,readOnly:m,reduceAnimations:y,renderLoading:b=()=>t.jsx("span",{children:"..."}),slideDirection:S,TransitionProps:j,disablePast:D,disableFuture:w,minDate:I,maxDate:T,shouldDisableDate:_,shouldDisableMonth:R,shouldDisableYear:O,dayOfWeekFormatter:A=ie=>r.format(ie,"weekdayShort").charAt(0).toUpperCase(),hasFocus:L,onFocusedViewChange:W,gridLabelId:H,displayWeekNumber:N,fixedWeekNumber:se,timezone:Z}=n,G=zi(Z),q=C8(a),K=Cs(),X=i1({shouldDisableDate:_,shouldDisableMonth:R,shouldDisableYear:O,minDate:I,maxDate:T,disablePast:D,disableFuture:w,timezone:Z}),ae=ps(),V=We(ie=>{m||x(ie)}),re=ie=>{X(ie)||(s(ie),W==null||W(!0))},Ee=We((ie,ne)=>{switch(ie.key){case"ArrowUp":re(r.addDays(ne,-7)),ie.preventDefault();break;case"ArrowDown":re(r.addDays(ne,7)),ie.preventDefault();break;case"ArrowLeft":{const me=r.addDays(ne,K?1:-1),he=r.addMonths(ne,K?1:-1),Oe=Va({utils:r,date:me,minDate:K?me:r.startOfMonth(he),maxDate:K?r.endOfMonth(he):me,isDateDisabled:X,timezone:Z});re(Oe||me),ie.preventDefault();break}case"ArrowRight":{const me=r.addDays(ne,K?-1:1),he=r.addMonths(ne,K?-1:1),Oe=Va({utils:r,date:me,minDate:K?r.startOfMonth(he):me,maxDate:K?me:r.endOfMonth(he),isDateDisabled:X,timezone:Z});re(Oe||me),ie.preventDefault();break}case"Home":re(r.startOfWeek(ne)),ie.preventDefault();break;case"End":re(r.endOfWeek(ne)),ie.preventDefault();break;case"PageUp":re(r.addMonths(ne,1)),ie.preventDefault();break;case"PageDown":re(r.addMonths(ne,-1)),ie.preventDefault();break}}),be=We((ie,ne)=>re(ne)),_e=We((ie,ne)=>{u!=null&&r.isSameDay(u,ne)&&(W==null||W(!1))}),de=r.getMonth(c),te=r.getYear(c),z=g.useMemo(()=>d.filter(ie=>!!ie).map(ie=>r.startOfDay(ie)),[r,d]),De=`${te}-${de}`,oe=g.useMemo(()=>g.createRef(),[De]),le=g.useMemo(()=>{const ie=r.getWeekArray(c);let ne=r.addMonths(c,1);for(;se&&ie.length<se;){const me=r.getWeekArray(ne),he=r.isSameDay(ie[ie.length-1][0],me[0][0]);me.slice(he?1:0).forEach(Oe=>{ie.length<se&&ie.push(Oe)}),ne=r.addMonths(ne,1)}return ie},[c,se,r]);return t.jsxs(P8,{role:"grid","aria-labelledby":H,className:q.root,children:[t.jsxs(D8,{role:"row",className:q.header,children:[N&&t.jsx(E8,{variant:"caption",role:"columnheader","aria-label":ae.calendarWeekNumberHeaderLabel,className:q.weekNumberLabel,children:ae.calendarWeekNumberHeaderText}),XV(r,G).map((ie,ne)=>t.jsx(I8,{variant:"caption",role:"columnheader","aria-label":r.format(ie,"weekday"),className:q.weekDayLabel,children:A(ie)},ne.toString()))]}),h?t.jsx(A8,{className:q.loadingContainer,children:b()}):t.jsx(R8,B({transKey:De,onExited:p,reduceAnimations:y,slideDirection:S,className:Qt(o,q.slideTransition)},j,{nodeRef:oe,children:t.jsx(_8,{ref:oe,role:"rowgroup",className:q.monthContainer,children:le.map((ie,ne)=>t.jsxs(O8,{role:"row",className:q.weekContainer,"aria-rowindex":ne+1,children:[N&&t.jsx(T8,{className:q.weekNumber,role:"rowheader","aria-label":ae.calendarWeekNumberAriaLabelText(r.getWeekNumber(ie[0])),children:ae.calendarWeekNumberText(r.getWeekNumber(ie[0]))}),ie.map((me,he)=>t.jsx(k8,{parentProps:n,day:me,selectedDays:z,isViewFocused:L,focusedDay:u,onKeyDown:Ee,onFocus:be,onBlur:_e,onDaySelect:V,isDateDisabled:X,currentMonthNumber:de,"aria-colindex":he+1},me.toString()))]},`week-${ie[0]}`))})}))]})}function c1(e){return an("MuiMonthCalendar",e)}const ec=dn("MuiMonthCalendar",["root","button","disabled","selected"]),N8=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],L8=(e,n)=>{const r={button:["button",n.isMonthDisabled&&"disabled",n.isMonthSelected&&"selected"]};return Kt(r,c1,e)},$8=ke("button",{name:"MuiMonthCalendar",slot:"Button",overridesResolver:(e,n)=>[n.button,{[`&.${ec.disabled}`]:n.disabled},{[`&.${ec.selected}`]:n.selected}]})(({theme:e})=>B({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:fe(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:fe(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${ec.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${ec.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),F8=g.memo(function(n){const{autoFocus:r,classes:s,disabled:o,selected:a,value:c,onClick:d,onKeyDown:u,onFocus:h,onBlur:x,slots:p,slotProps:m}=n,y=st(n,N8),b=g.useRef(null),{ownerState:S}=Dn(),j=B({},S,{isMonthDisabled:o,isMonthSelected:a}),D=L8(s,j);Zr(()=>{var T;r&&((T=b.current)==null||T.focus())},[r]);const w=(p==null?void 0:p.monthButton)??$8,I=Nt({elementType:w,externalSlotProps:m==null?void 0:m.monthButton,externalForwardedProps:y,additionalProps:{disabled:o,ref:b,type:"button",role:"radio","aria-checked":a,onClick:T=>d(T,c),onKeyDown:T=>u(T,c),onFocus:T=>h(T,c),onBlur:T=>x(T,c)},ownerState:j,className:D.button});return t.jsx(w,B({},I))}),W8=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],B8=e=>Kt({root:["root"]},c1,e);function V8(e,n){const r=Yt({props:e,name:n}),s=Dx(r);return B({},r,s,{monthsPerRow:r.monthsPerRow??3})}const U8=ke("div",{name:"MuiMonthCalendar",slot:"Root",shouldForwardProp:e=>Us(e)&&e!=="monthsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:16,padding:"8px 0",width:Mi,boxSizing:"border-box",variants:[{props:{monthsPerRow:3},style:{columnGap:24}},{props:{monthsPerRow:4},style:{columnGap:0}}]}),z8=g.forwardRef(function(n,r){const s=V8(n,"MuiMonthCalendar"),{autoFocus:o,className:a,classes:c,value:d,defaultValue:u,referenceDate:h,disabled:x,disableFuture:p,disablePast:m,maxDate:y,minDate:b,onChange:S,shouldDisableMonth:j,readOnly:D,onMonthFocus:w,hasFocus:I,onFocusedViewChange:T,monthsPerRow:_,timezone:R,gridLabelId:O,slots:A,slotProps:L}=s,W=st(s,W8),{value:H,handleValueChange:N,timezone:se}=Yo({name:"MonthCalendar",timezone:R,value:d,defaultValue:u,referenceDate:h,onChange:S,valueManager:cr}),Z=zi(se),G=Cs(),q=Vt(),{ownerState:K}=Dn(),X=g.useMemo(()=>cr.getInitialReferenceValue({value:H,utils:q,props:s,timezone:se,referenceDate:h,granularity:ls.month}),[]),ae=B8(c),V=g.useMemo(()=>q.getMonth(Z),[q,Z]),re=g.useMemo(()=>H!=null?q.getMonth(H):null,[H,q]),[Ee,be]=g.useState(()=>re||q.getMonth(X)),[_e,de]=ki({name:"MonthCalendar",state:"hasFocus",controlled:I,default:o??!1}),te=We(me=>{de(me),T&&T(me)}),z=g.useCallback(me=>{const he=q.startOfMonth(m&&q.isAfter(Z,b)?Z:b),Oe=q.startOfMonth(p&&q.isBefore(Z,y)?Z:y),Re=q.startOfMonth(me);return q.isBefore(Re,he)||q.isAfter(Re,Oe)?!0:j?j(Re):!1},[p,m,y,b,Z,j,q]),De=We((me,he)=>{if(D)return;const Oe=q.setMonth(H??X,he);N(Oe)}),oe=We(me=>{z(q.setMonth(H??X,me))||(be(me),te(!0),w&&w(me))});g.useEffect(()=>{be(me=>re!==null&&me!==re?re:me)},[re]);const le=We((me,he)=>{switch(me.key){case"ArrowUp":oe((12+he-3)%12),me.preventDefault();break;case"ArrowDown":oe((12+he+3)%12),me.preventDefault();break;case"ArrowLeft":oe((12+he+(G?1:-1))%12),me.preventDefault();break;case"ArrowRight":oe((12+he+(G?-1:1))%12),me.preventDefault();break}}),ie=We((me,he)=>{oe(he)}),ne=We((me,he)=>{Ee===he&&te(!1)});return t.jsx(U8,B({ref:r,className:Qt(ae.root,a),ownerState:K,role:"radiogroup","aria-labelledby":O,monthsPerRow:_},W,{children:bx(q,H??X).map(me=>{const he=q.getMonth(me),Oe=q.format(me,"monthShort"),Re=q.format(me,"month"),Ge=he===re,ue=x||z(me);return t.jsx(F8,{selected:Ge,value:he,onClick:De,onKeyDown:le,autoFocus:_e&&he===Ee,disabled:ue,tabIndex:he===Ee&&!ue?0:-1,onFocus:ie,onBlur:ne,"aria-current":V===he?"date":void 0,"aria-label":Re,slots:A,slotProps:L,classes:c,children:Oe},Oe)})}))});function d1(e){return an("MuiYearCalendar",e)}const tc=dn("MuiYearCalendar",["root","button","disabled","selected"]),H8=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],Y8=(e,n)=>{const r={button:["button",n.isYearDisabled&&"disabled",n.isYearSelected&&"selected"]};return Kt(r,d1,e)},G8=ke("button",{name:"MuiYearCalendar",slot:"Button",overridesResolver:(e,n)=>[n.button,{[`&.${tc.disabled}`]:n.disabled},{[`&.${tc.selected}`]:n.selected}]})(({theme:e})=>B({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:fe(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:fe(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${tc.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${tc.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),q8=g.memo(function(n){const{autoFocus:r,classes:s,disabled:o,selected:a,value:c,onClick:d,onKeyDown:u,onFocus:h,onBlur:x,slots:p,slotProps:m}=n,y=st(n,H8),b=g.useRef(null),{ownerState:S}=Dn(),j=B({},S,{isYearDisabled:o,isYearSelected:a}),D=Y8(s,j);Zr(()=>{var T;r&&((T=b.current)==null||T.focus())},[r]);const w=(p==null?void 0:p.yearButton)??G8,I=Nt({elementType:w,externalSlotProps:m==null?void 0:m.yearButton,externalForwardedProps:y,additionalProps:{disabled:o,ref:b,type:"button",role:"radio","aria-checked":a,onClick:T=>d(T,c),onKeyDown:T=>u(T,c),onFocus:T=>h(T,c),onBlur:T=>x(T,c)},ownerState:j,className:D.button});return t.jsx(w,B({},I))}),K8=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"],J8=e=>Kt({root:["root"]},d1,e);function X8(e,n){const r=Yt({props:e,name:n}),s=Dx(r);return B({},r,s,{yearsPerRow:r.yearsPerRow??3,yearsOrder:r.yearsOrder??"asc"})}const Q8=ke("div",{name:"MuiYearCalendar",slot:"Root",shouldForwardProp:e=>Us(e)&&e!=="yearsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:12,padding:"6px 0",overflowY:"auto",height:"100%",width:Mi,maxHeight:qV,boxSizing:"border-box",position:"relative",variants:[{props:{yearsPerRow:3},style:{columnGap:24}},{props:{yearsPerRow:4},style:{columnGap:0,padding:"0 2px"}}]}),Z8=ke("div",{name:"MuiYearCalendar",slot:"ButtonFiller"})({height:36,width:72}),e9=g.forwardRef(function(n,r){const s=X8(n,"MuiYearCalendar"),{autoFocus:o,className:a,classes:c,value:d,defaultValue:u,referenceDate:h,disabled:x,disableFuture:p,disablePast:m,maxDate:y,minDate:b,onChange:S,readOnly:j,shouldDisableYear:D,onYearFocus:w,hasFocus:I,onFocusedViewChange:T,yearsOrder:_,yearsPerRow:R,timezone:O,gridLabelId:A,slots:L,slotProps:W}=s,H=st(s,K8),{value:N,handleValueChange:se,timezone:Z}=Yo({name:"YearCalendar",timezone:O,value:d,defaultValue:u,referenceDate:h,onChange:S,valueManager:cr}),G=zi(Z),q=Cs(),K=Vt(),{ownerState:X}=Dn(),ae=g.useMemo(()=>cr.getInitialReferenceValue({value:N,utils:K,props:s,timezone:Z,referenceDate:h,granularity:ls.year}),[]),V=J8(c),re=g.useMemo(()=>K.getYear(G),[K,G]),Ee=g.useMemo(()=>N!=null?K.getYear(N):null,[N,K]),[be,_e]=g.useState(()=>Ee||K.getYear(ae)),[de,te]=ki({name:"YearCalendar",state:"hasFocus",controlled:I,default:o??!1}),z=We(Y=>{te(Y),T&&T(Y)}),De=g.useCallback(Y=>{if(m&&K.isBeforeYear(Y,G)||p&&K.isAfterYear(Y,G)||b&&K.isBeforeYear(Y,b)||y&&K.isAfterYear(Y,y))return!0;if(!D)return!1;const ge=K.startOfYear(Y);return D(ge)},[p,m,y,b,G,D,K]),oe=We((Y,ge)=>{if(j)return;const Je=K.setYear(N??ae,ge);se(Je)}),le=We(Y=>{De(K.setYear(N??ae,Y))||(_e(Y),z(!0),w==null||w(Y))});g.useEffect(()=>{_e(Y=>Ee!==null&&Y!==Ee?Ee:Y)},[Ee]);const ie=_!=="desc"?R*1:R*-1,ne=q&&_==="asc"||!q&&_==="desc"?-1:1,me=We((Y,ge)=>{switch(Y.key){case"ArrowUp":le(ge-ie),Y.preventDefault();break;case"ArrowDown":le(ge+ie),Y.preventDefault();break;case"ArrowLeft":le(ge-ne),Y.preventDefault();break;case"ArrowRight":le(ge+ne),Y.preventDefault();break}}),he=We((Y,ge)=>{le(ge)}),Oe=We((Y,ge)=>{be===ge&&z(!1)}),Re=g.useRef(null),Ge=tr(r,Re);g.useEffect(()=>{if(o||Re.current===null)return;const Y=Re.current.querySelector('[tabindex="0"]');if(!Y)return;const ge=Y.offsetHeight,Je=Y.offsetTop,yt=Re.current.clientHeight,ln=Re.current.scrollTop,Ft=Je+ge;ge>yt||Je<ln||(Re.current.scrollTop=Ft-yt/2-ge/2)},[o]);const ue=K.getYearRange([b,y]);_==="desc"&&ue.reverse();let we=R-ue.length%R;return we===R&&(we=0),t.jsxs(Q8,B({ref:Ge,className:Qt(V.root,a),ownerState:X,role:"radiogroup","aria-labelledby":A,yearsPerRow:R},H,{children:[ue.map(Y=>{const ge=K.getYear(Y),Je=ge===Ee,yt=x||De(Y);return t.jsx(q8,{selected:Je,value:ge,onClick:oe,onKeyDown:me,autoFocus:de&&ge===be,disabled:yt,tabIndex:ge===be&&!yt?0:-1,onFocus:he,onBlur:Oe,"aria-current":re===ge?"date":void 0,slots:L,slotProps:W,classes:c,children:K.format(Y,"year")},K.format(Y,"year"))}),Array.from({length:we},(Y,ge)=>t.jsx(Z8,{},ge))]}))}),t9=e=>an("MuiPickersCalendarHeader",e),n9=dn("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),r9=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","classes","timezone","format"],s9=["ownerState"],o9=e=>Kt({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},t9,e),i9=ke("div",{name:"MuiPickersCalendarHeader",slot:"Root"})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),a9=ke("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer"})(({theme:e})=>B({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),l9=ke("div",{name:"MuiPickersCalendarHeader",slot:"Label"})({marginRight:6}),c9=ke(Le,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton"})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${n9.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),d9=ke(PV,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon"})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),u9=g.forwardRef(function(n,r){const s=ps(),o=Vt(),a=Yt({props:n,name:"MuiPickersCalendarHeader"}),{slots:c,slotProps:d,currentMonth:u,disabled:h,disableFuture:x,disablePast:p,maxDate:m,minDate:y,onMonthChange:b,onViewChange:S,view:j,reduceAnimations:D,views:w,labelId:I,className:T,classes:_,timezone:R,format:O=`${o.formats.month} ${o.formats.year}`}=a,A=st(a,r9),{ownerState:L}=Dn(),W=o9(_),H=(c==null?void 0:c.switchViewButton)??c9,N=Nt({elementType:H,externalSlotProps:d==null?void 0:d.switchViewButton,additionalProps:{size:"small","aria-label":s.calendarViewSwitchingButtonAriaLabel(j)},ownerState:L,className:W.switchViewButton}),se=(c==null?void 0:c.switchViewIcon)??d9,Z=Nt({elementType:se,externalSlotProps:d==null?void 0:d.switchViewIcon,ownerState:L,className:W.switchViewIcon}),G=st(Z,s9),q=()=>b(o.addMonths(u,1)),K=()=>b(o.addMonths(u,-1)),X=YV(u,{disableFuture:x,maxDate:m,timezone:R}),ae=GV(u,{disablePast:p,minDate:y,timezone:R}),V=()=>{if(!(w.length===1||!S||h))if(w.length===2)S(w.find(Ee=>Ee!==j)||w[0]);else{const Ee=w.indexOf(j)!==0?0:1;S(w[Ee])}};if(w.length===1&&w[0]==="year")return null;const re=o.formatByString(u,O);return t.jsxs(i9,B({},A,{ownerState:L,className:Qt(W.root,T),ref:r,children:[t.jsxs(a9,{role:"presentation",onClick:V,ownerState:L,"aria-live":"polite",className:W.labelContainer,children:[t.jsx(a1,{reduceAnimations:D,transKey:re,children:t.jsx(l9,{id:I,ownerState:L,className:W.label,children:re})}),w.length>1&&!h&&t.jsx(H,B({},N,{children:t.jsx(se,B({},G))}))]}),t.jsx(qc,{in:j==="day",appear:!D,enter:!D,children:t.jsx(WV,{slots:c,slotProps:d,onGoToPrevious:K,isPreviousDisabled:ae,previousLabel:s.previousMonth,onGoToNext:q,isNextDisabled:X,nextLabel:s.nextMonth})})]}))}),h9="@media (prefers-reduced-motion: reduce)",yi=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),Zy=yi&&yi[1]?parseInt(yi[1],10):null,e0=yi&&yi[2]?parseInt(yi[2],10):null,f9=Zy&&Zy<10||e0&&e0<13||!1;function u1(e){const n=zc(h9,{defaultMatches:!1});return e??(n||f9)}const p9=e=>an("MuiDateCalendar",e);dn("MuiDateCalendar",["root","viewTransitionContainer"]);const x9=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","classes","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"],m9=e=>Kt({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},p9,e);function g9(e,n){const r=Yt({props:e,name:n}),s=u1(r.reduceAnimations),o=Dx(r);return B({},r,o,{loading:r.loading??!1,openTo:r.openTo??"day",views:r.views??["year","day"],reduceAnimations:s,renderLoading:r.renderLoading??(()=>t.jsx("span",{children:"..."}))})}const b9=ke(gx,{name:"MuiDateCalendar",slot:"Root"})({display:"flex",flexDirection:"column",height:Ni}),y9=ke(a1,{name:"MuiDateCalendar",slot:"ViewTransitionContainer"})({}),v9=g.forwardRef(function(n,r){const s=Vt(),{ownerState:o}=Dn(),a=yd(),c=g9(n,"MuiDateCalendar"),{autoFocus:d,onViewChange:u,value:h,defaultValue:x,referenceDate:p,disableFuture:m,disablePast:y,onChange:b,onMonthChange:S,reduceAnimations:j,shouldDisableDate:D,shouldDisableMonth:w,shouldDisableYear:I,view:T,views:_,openTo:R,className:O,classes:A,disabled:L,readOnly:W,minDate:H,maxDate:N,disableHighlightToday:se,focusedView:Z,onFocusedViewChange:G,showDaysOutsideCurrentMonth:q,fixedWeekNumber:K,dayOfWeekFormatter:X,slots:ae,slotProps:V,loading:re,renderLoading:Ee,displayWeekNumber:be,yearsOrder:_e,yearsPerRow:de,monthsPerRow:te,timezone:z}=c,De=st(c,x9),{value:oe,handleValueChange:le,timezone:ie}=Yo({name:"DateCalendar",timezone:z,value:h,defaultValue:x,referenceDate:p,onChange:b,valueManager:cr}),{view:ne,setView:me,focusedView:he,setFocusedView:Oe,goToNextView:Re,setValueAndGoToNextView:Ge}=jd({view:T,views:_,openTo:R,onChange:le,onViewChange:u,autoFocus:d,focusedView:Z,onFocusedViewChange:G}),{referenceDate:ue,calendarState:we,setVisibleDate:Y,isDateDisabled:ge,onMonthSwitchingAnimationEnd:Je}=u8({value:oe,referenceDate:p,reduceAnimations:j,onMonthChange:S,minDate:H,maxDate:N,shouldDisableDate:D,disablePast:y,disableFuture:m,timezone:ie,getCurrentMonthFromVisibleDate:(St,En)=>s.isSameMonth(St,En)?En:s.startOfMonth(St)}),yt=L&&oe||H,ln=L&&oe||N,Ft=`${a}-grid-label`,Rt=he!==null,Jt=(ae==null?void 0:ae.calendarHeader)??u9,Mn=Nt({elementType:Jt,externalSlotProps:V==null?void 0:V.calendarHeader,additionalProps:{views:_,view:ne,currentMonth:we.currentMonth,onViewChange:me,onMonthChange:St=>Y({target:St,reason:"header-navigation"}),minDate:yt,maxDate:ln,disabled:L,disablePast:y,disableFuture:m,reduceAnimations:j,timezone:ie,labelId:Ft},ownerState:o}),dt=We(St=>{const En=s.startOfMonth(St),Vn=s.endOfMonth(St),Sr=ge(St)?Va({utils:s,date:St,minDate:s.isBefore(H,En)?En:H,maxDate:s.isAfter(N,Vn)?Vn:N,disablePast:y,disableFuture:m,isDateDisabled:ge,timezone:ie}):St;Sr?(Ge(Sr,"finish"),Y({target:Sr,reason:"cell-interaction"})):(Re(),Y({target:En,reason:"cell-interaction"}))}),pt=We(St=>{const En=s.startOfYear(St),Vn=s.endOfYear(St),Sr=ge(St)?Va({utils:s,date:St,minDate:s.isBefore(H,En)?En:H,maxDate:s.isAfter(N,Vn)?Vn:N,disablePast:y,disableFuture:m,isDateDisabled:ge,timezone:ie}):St;Sr?(Ge(Sr,"finish"),Y({target:Sr,reason:"cell-interaction"})):(Re(),Y({target:En,reason:"cell-interaction"}))}),_t=We(St=>le(St&&Wc(s,St,oe??ue),"finish",ne));g.useEffect(()=>{s.isValid(oe)&&Y({target:oe,reason:"controlled-value-change"})},[oe]);const Gt=m9(A),In={disablePast:y,disableFuture:m,maxDate:N,minDate:H},un={disableHighlightToday:se,readOnly:W,disabled:L,timezone:ie,gridLabelId:Ft,slots:ae,slotProps:V},Gn=g.useRef(ne);g.useEffect(()=>{Gn.current!==ne&&(he===Gn.current&&Oe(ne,!0),Gn.current=ne)},[he,Oe,ne]);const mn=g.useMemo(()=>[oe],[oe]);return t.jsxs(b9,B({ref:r,className:Qt(Gt.root,O),ownerState:o},De,{children:[t.jsx(Jt,B({},Mn,{slots:ae,slotProps:V})),t.jsx(y9,{reduceAnimations:j,className:Gt.viewTransitionContainer,transKey:ne,ownerState:o,children:t.jsxs("div",{children:[ne==="year"&&t.jsx(e9,B({},In,un,{value:oe,onChange:pt,shouldDisableYear:I,hasFocus:Rt,onFocusedViewChange:St=>Oe("year",St),yearsOrder:_e,yearsPerRow:de,referenceDate:ue})),ne==="month"&&t.jsx(z8,B({},In,un,{hasFocus:Rt,className:O,value:oe,onChange:dt,shouldDisableMonth:w,onFocusedViewChange:St=>Oe("month",St),monthsPerRow:te,referenceDate:ue})),ne==="day"&&t.jsx(M8,B({},we,In,un,{onMonthSwitchingAnimationEnd:Je,hasFocus:Rt,onFocusedDayChange:St=>Y({target:St,reason:"cell-interaction"}),reduceAnimations:j,selectedDays:mn,onSelectedDaysChange:_t,shouldDisableDate:D,shouldDisableMonth:w,shouldDisableYear:I,onFocusedViewChange:St=>Oe("day",St),showDaysOutsideCurrentMonth:q,fixedWeekNumber:K,dayOfWeekFormatter:X,displayWeekNumber:be,loading:re,renderLoading:Ee}))]})})]}))});function h1(e){return an("MuiPickersToolbar",e)}const j9=dn("MuiPickersToolbar",["root","title","content"]);function f1(){const{ownerState:e}=Dn(),n=Cs();return g.useMemo(()=>B({},e,{toolbarDirection:n?"rtl":"ltr"}),[e,n])}const S9=["children","className","classes","toolbarTitle","hidden","titleId","classes","landscapeDirection"],w9=e=>Kt({root:["root"],title:["title"],content:["content"]},h1,e),C9=ke("div",{name:"MuiPickersToolbar",slot:"Root"})(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:e.spacing(2,3),variants:[{props:{pickerOrientation:"landscape"},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),P9=ke("div",{name:"MuiPickersToolbar",slot:"Content",shouldForwardProp:e=>Us(e)&&e!=="landscapeDirection"})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{pickerOrientation:"landscape"},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{pickerOrientation:"landscape",landscapeDirection:"row"},style:{flexDirection:"row"}}]}),D9=g.forwardRef(function(n,r){const s=Yt({props:n,name:"MuiPickersToolbar"}),{children:o,className:a,classes:c,toolbarTitle:d,hidden:u,titleId:h,landscapeDirection:x}=s,p=st(s,S9),m=f1(),y=w9(c);return u?null:t.jsxs(C9,B({ref:r,className:Qt(y.root,a),ownerState:m},p,{children:[t.jsx(v,{color:"text.secondary",variant:"overline",id:h,className:y.title,children:d}),t.jsx(P9,{className:y.content,ownerState:m,landscapeDirection:x,children:o})]}))});function I9(e){return an("MuiPickerPopper",e)}dn("MuiPickerPopper",["root","paper"]);const E9=["PaperComponent","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],T9=e=>Kt({root:["root"],paper:["paper"]},I9,e),A9=ke(HT,{name:"MuiPickerPopper",slot:"Root"})(({theme:e})=>({zIndex:e.zIndex.modal})),R9=ke(ot,{name:"MuiPickerPopper",slot:"Paper"})({outline:0,transformOrigin:"top center",variants:[{props:({popperPlacement:e})=>["top","top-start","top-end"].includes(e),style:{transformOrigin:"bottom center"}}]});function _9(e,n){return n.documentElement.clientWidth<e.clientX||n.documentElement.clientHeight<e.clientY}function O9(e,n){const r=g.useRef(!1),s=g.useRef(!1),o=g.useRef(null),a=g.useRef(!1);g.useEffect(()=>{if(!e)return;function u(){a.current=!0}return document.addEventListener("mousedown",u,!0),document.addEventListener("touchstart",u,!0),()=>{document.removeEventListener("mousedown",u,!0),document.removeEventListener("touchstart",u,!0),a.current=!1}},[e]);const c=We(u=>{if(!a.current)return;const h=s.current;s.current=!1;const x=xh(o.current);if(!o.current||"clientX"in u&&_9(u,x))return;if(r.current){r.current=!1;return}let p;u.composedPath?p=u.composedPath().indexOf(o.current)>-1:p=!x.documentElement.contains(u.target)||o.current.contains(u.target),!p&&!h&&n(u)}),d=()=>{s.current=!0};return g.useEffect(()=>{if(e){const u=xh(o.current),h=()=>{r.current=!0};return u.addEventListener("touchstart",c),u.addEventListener("touchmove",h),()=>{u.removeEventListener("touchstart",c),u.removeEventListener("touchmove",h)}}},[e,c]),g.useEffect(()=>{if(e){const u=xh(o.current);return u.addEventListener("click",c),()=>{u.removeEventListener("click",c),s.current=!1}}},[e,c]),[o,d,d]}const k9=g.forwardRef((e,n)=>{const{PaperComponent:r,ownerState:s,children:o,paperSlotProps:a,paperClasses:c,onPaperClick:d,onPaperTouchStart:u}=e,h=st(e,E9),x=Nt({elementType:r,externalSlotProps:a,additionalProps:{tabIndex:-1,elevation:8,ref:n},className:c,ownerState:s});return t.jsx(r,B({},h,x,{onClick:p=>{var m;d(p),(m=x.onClick)==null||m.call(x,p)},onTouchStart:p=>{var m;u(p),(m=x.onTouchStart)==null||m.call(x,p)},ownerState:s,children:o}))});function M9(e){const n=Yt({props:e,name:"MuiPickerPopper"}),{children:r,placement:s="bottom-start",slots:o,slotProps:a,classes:c}=n,{open:d,popupRef:u,reduceAnimations:h}=bo(),{dismissViews:x,getCurrentViewMode:p,onPopperExited:m,triggerElement:y,viewContainerRole:b}=Dn();g.useEffect(()=>{function K(X){d&&X.key==="Escape"&&x()}return document.addEventListener("keydown",K),()=>{document.removeEventListener("keydown",K)}},[x,d]);const S=g.useRef(null);g.useEffect(()=>{b==="tooltip"||p()==="field"||(d?S.current=Hn(document):S.current&&S.current instanceof HTMLElement&&setTimeout(()=>{S.current instanceof HTMLElement&&S.current.focus()}))},[d,b,p]);const j=T9(c),{ownerState:D,rootRefObject:w}=Dn(),I=B({},D,{popperPlacement:s}),T=We(()=>{b==="tooltip"?pU(()=>{var K,X;(K=w.current)!=null&&K.contains(Hn(document))||(X=u.current)!=null&&X.contains(Hn(document))||x()}):x()}),[_,R,O]=O9(d,T),A=g.useRef(null),L=tr(A,u),W=tr(L,_),H=K=>{K.key==="Escape"&&(K.stopPropagation(),x())},N=(o==null?void 0:o.desktopTransition)??h?qc:YT,se=(o==null?void 0:o.desktopTrapFocus)??GT,Z=(o==null?void 0:o.desktopPaper)??R9,G=(o==null?void 0:o.popper)??A9,q=Nt({elementType:G,externalSlotProps:a==null?void 0:a.popper,additionalProps:{transition:!0,role:b??void 0,open:d,placement:s,anchorEl:y,onKeyDown:H},className:j.root,ownerState:I});return t.jsx(G,B({},q,{children:({TransitionProps:K})=>t.jsx(se,B({open:d,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:b==="tooltip",isEnabled:()=>!0},a==null?void 0:a.desktopTrapFocus,{children:t.jsx(N,B({},K,a==null?void 0:a.desktopTransition,{onExited:X=>{var ae,V,re;m==null||m(),(V=(ae=a==null?void 0:a.desktopTransition)==null?void 0:ae.onExited)==null||V.call(ae,X),(re=K==null?void 0:K.onExited)==null||re.call(K)},children:t.jsx(k9,{PaperComponent:Z,ownerState:I,ref:W,onPaperClick:R,onPaperTouchStart:O,paperClasses:j.paper,paperSlotProps:a==null?void 0:a.desktopPaper,children:r})}))}))}))}function t0(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}function N9(e,n){const[r,s]=g.useState(t0);return Zr(()=>{const o=()=>{s(t0())};return window.addEventListener("orientationchange",o),()=>{window.removeEventListener("orientationchange",o)}},[]),fU(e,["hours","minutes","seconds"])?"portrait":n??r}function L9(e){const{props:n,valueManager:r,validator:s}=e,{value:o,defaultValue:a,onChange:c,referenceDate:d,timezone:u,onAccept:h,closeOnSelect:x,open:p,onOpen:m,onClose:y}=n,{current:b}=g.useRef(a),{current:S}=g.useRef(o!==void 0),{current:j}=g.useRef(p!==void 0),D=Vt(),{timezone:w,value:I,handleValueChange:T}=Yo({name:"a picker component",timezone:u,value:o,defaultValue:b,referenceDate:d,onChange:c,valueManager:r}),[_,R]=g.useState(()=>({open:!1,lastExternalValue:I,clockShallowValue:void 0,lastCommittedValue:I,hasBeenModifiedSinceMount:!1})),{getValidationErrorForNewValue:O}=zS({props:n,validator:s,timezone:w,value:I,onError:n.onError}),A=We(N=>{const se=typeof N=="function"?N(_.open):N;j||R(Z=>B({},Z,{open:se})),se&&m&&m(),se||y==null||y()}),L=We((N,se)=>{const{changeImportance:Z="accept",skipPublicationIfPristine:G=!1,validationError:q,shortcut:K,shouldClose:X=Z==="accept"}=se??{};let ae,V;!G&&!S&&!_.hasBeenModifiedSinceMount?(ae=!0,V=Z==="accept"):(ae=!r.areValuesEqual(D,N,I),V=Z==="accept"&&!r.areValuesEqual(D,N,_.lastCommittedValue)),R(be=>B({},be,{clockShallowValue:ae?void 0:be.clockShallowValue,lastCommittedValue:V?I:be.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let re=null;const Ee=()=>(re||(re={validationError:q??O(N)},K&&(re.shortcut=K)),re);ae&&T(N,Ee()),V&&h&&h(N,Ee()),X&&A(!1)});I!==_.lastExternalValue&&R(N=>B({},N,{lastExternalValue:I,clockShallowValue:void 0,hasBeenModifiedSinceMount:!0}));const W=We((N,se="partial")=>{if(se==="shallow"){R(Z=>B({},Z,{clockShallowValue:N,hasBeenModifiedSinceMount:!0}));return}L(N,{changeImportance:se==="finish"&&x?"accept":"set"})});g.useEffect(()=>{if(j){if(p===void 0)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");R(N=>B({},N,{open:p}))}},[j,p]);const H=g.useMemo(()=>r.cleanValue(D,_.clockShallowValue===void 0?I:_.clockShallowValue),[D,r,_.clockShallowValue,I]);return{timezone:w,state:_,setValue:L,setValueFromView:W,setOpen:A,value:I,viewValue:H}}const $9=["className","sx"],p1=({ref:e,props:n,valueManager:r,valueType:s,variant:o,validator:a,onPopperExited:c,autoFocusView:d,rendererInterceptor:u,localeText:h,viewContainerRole:x,getStepNavigation:p})=>{const{views:m,view:y,openTo:b,onViewChange:S,viewRenderers:j,reduceAnimations:D,orientation:w,disableOpenPicker:I,closeOnSelect:T,disabled:_,readOnly:R,formatDensity:O,enableAccessibleFieldDOMStructure:A,selectedSections:L,onSelectedSectionsChange:W,format:H,label:N,autoFocus:se,name:Z}=n,{className:G,sx:q}=n,K=st(n,$9),X=yd(),ae=Vt(),V=Ho(),re=u1(D),Ee=N9(m,w),{current:be}=g.useRef(b??null),[_e,de]=g.useState(null),te=g.useRef(null),z=g.useRef(null),De=g.useRef(null),oe=tr(e,De),{timezone:le,state:ie,setOpen:ne,setValue:me,setValueFromView:he,value:Oe,viewValue:Re}=L9({props:n,valueManager:r,validator:a}),{view:Ge,setView:ue,defaultView:we,focusedView:Y,setFocusedView:ge,setValueAndGoToNextView:Je,goToNextStep:yt,hasNextStep:ln,hasSeveralSteps:Ft}=jd({view:y,views:m,openTo:b,onChange:he,onViewChange:S,autoFocus:d,getStepNavigation:p}),Rt=We(()=>me(r.emptyValue)),Jt=We(()=>me(r.getTodayValue(ae,le,s))),Mn=We(()=>me(Oe)),dt=We(()=>me(ie.lastCommittedValue,{skipPublicationIfPristine:!0})),pt=We(()=>{me(Oe,{skipPublicationIfPristine:!0})}),{hasUIView:_t,viewModeLookup:Gt,timeViewsCount:In}=g.useMemo(()=>m.reduce((gn,wr)=>{const nl=j[wr]==null?"field":"UI";return gn.viewModeLookup[wr]=nl,nl==="UI"&&(gn.hasUIView=!0,Wa(wr)&&(gn.timeViewsCount+=1)),gn},{hasUIView:!1,viewModeLookup:{},timeViewsCount:0}),[j,m]),un=Gt[Ge],Gn=We(()=>un),[mn,St]=g.useState(un==="UI"?Ge:null);mn!==Ge&&Gt[Ge]==="UI"&&St(Ge),Zr(()=>{un==="field"&&ie.open&&(ne(!1),setTimeout(()=>{var gn,wr;(gn=z==null?void 0:z.current)==null||gn.setSelectedSections(Ge),(wr=z==null?void 0:z.current)==null||wr.focusField(Ge)}))},[Ge]),Zr(()=>{if(!ie.open)return;let gn=Ge;un==="field"&&mn!=null&&(gn=mn),gn!==we&&Gt[gn]==="UI"&&Gt[we]==="UI"&&(gn=we),gn!==Ge&&ue(gn),ge(gn,!0)},[ie.open]);const En=g.useMemo(()=>({isPickerValueEmpty:r.areValuesEqual(ae,Oe,r.emptyValue),isPickerOpen:ie.open,isPickerDisabled:n.disabled??!1,isPickerReadOnly:n.readOnly??!1,pickerOrientation:Ee,pickerVariant:o}),[ae,r,Oe,ie.open,Ee,o,n.disabled,n.readOnly]),Vn=g.useMemo(()=>I||!_t?"hidden":_||R?"disabled":"enabled",[I,_t,_,R]),Sr=We(yt),vo=g.useMemo(()=>T&&!Ft?[]:["cancel","nextOrAccept"],[T,Ft]),nr=g.useMemo(()=>({setValue:me,setOpen:ne,clearValue:Rt,setValueToToday:Jt,acceptValueChanges:Mn,cancelValueChanges:dt,setView:ue,goToNextStep:Sr}),[me,ne,Rt,Jt,Mn,dt,ue,Sr]),Id=g.useMemo(()=>B({},nr,{value:Oe,timezone:le,open:ie.open,views:m,view:mn,initialView:be,disabled:_??!1,readOnly:R??!1,autoFocus:se??!1,variant:o,orientation:Ee,popupRef:te,reduceAnimations:re,triggerRef:de,triggerStatus:Vn,hasNextStep:ln,fieldFormat:H??"",name:Z,label:N,rootSx:q,rootRef:oe,rootClassName:G}),[nr,Oe,oe,o,Ee,re,_,R,H,G,Z,N,q,Vn,ln,le,ie.open,mn,m,be,se]),Ed=g.useMemo(()=>({dismissViews:pt,ownerState:En,hasUIView:_t,getCurrentViewMode:Gn,rootRefObject:De,labelId:X,triggerElement:_e,viewContainerRole:x,defaultActionBarActions:vo,onPopperExited:c}),[pt,En,_t,Gn,X,_e,x,vo,c]),Td=g.useMemo(()=>({formatDensity:O,enableAccessibleFieldDOMStructure:A,selectedSections:L,onSelectedSectionsChange:W,fieldRef:z}),[O,A,L,W,z]);return{providerProps:{localeText:h,contextValue:Id,privateContextValue:Ed,actionsContextValue:nr,fieldPrivateContextValue:Td,isValidContextValue:gn=>{const wr=a({adapter:V,value:gn,timezone:le,props:n});return!r.hasError(wr)}},renderCurrentView:()=>{if(mn==null)return null;const gn=j[mn];if(gn==null)return null;const wr=B({},K,{views:m,timezone:le,value:Re,onChange:Je,view:mn,onViewChange:ue,showViewSwitcher:In>1,timeViewsCount:In},x==="tooltip"?{focusedView:null,onFocusedViewChange:()=>{}}:{focusedView:Y,onFocusedViewChange:ge});return u?t.jsx(u,{viewRenderers:j,popperView:mn,rendererProps:wr}):gn(wr)},ownerState:En}};function x1(e){return an("MuiPickersLayout",e)}const is=dn("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),F9=["actions"],W9=ke(nn,{name:"MuiPickersLayout",slot:"ActionBar"})({});function B9(e){const{actions:n}=e,r=st(e,F9),s=ps(),{clearValue:o,setValueToToday:a,acceptValueChanges:c,cancelValueChanges:d,goToNextStep:u,hasNextStep:h}=bo();if(n==null||n.length===0)return null;const x=n==null?void 0:n.map(p=>{switch(p){case"clear":return t.jsx(xe,{onClick:o,children:s.clearButtonLabel},p);case"cancel":return t.jsx(xe,{onClick:d,children:s.cancelButtonLabel},p);case"accept":return t.jsx(xe,{onClick:c,children:s.okButtonLabel},p);case"today":return t.jsx(xe,{onClick:a,children:s.todayButtonLabel},p);case"next":return t.jsx(xe,{onClick:u,children:s.nextStepButtonLabel},p);case"nextOrAccept":return h?t.jsx(xe,{onClick:u,children:s.nextStepButtonLabel},p):t.jsx(xe,{onClick:c,children:s.okButtonLabel},p);default:return null}});return t.jsx(W9,B({},r,{children:x}))}const V9=g.memo(B9),U9=["items","changeImportance"],z9=["getValue"],H9=ke(vr,{name:"MuiPickersLayout",slot:"Shortcuts"})({});function Y9(e){const{items:n,changeImportance:r="accept"}=e,s=st(e,U9),{setValue:o}=JU(),a=OV();if(n==null||n.length===0)return null;const c=n.map(d=>{let{getValue:u}=d,h=st(d,z9);const x=u({isValid:a});return B({},h,{label:h.label,onClick:()=>{o(x,{changeImportance:r,shortcut:h})},disabled:!a(x)})});return t.jsx(H9,B({dense:!0,sx:[{maxHeight:Ni,maxWidth:200,overflow:"auto"},...Array.isArray(s.sx)?s.sx:[s.sx]]},s,{children:c.map(d=>t.jsx(er,{children:t.jsx(Ye,B({},d))},d.id??d.label))}))}const G9=["ownerState"];function q9(e){return e.view!==null}const K9=(e,n)=>{const{pickerOrientation:r}=n;return Kt({root:["root",r==="landscape"&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},x1,e)},m1=e=>{const{ownerState:n,defaultActionBarActions:r}=Dn(),{view:s}=bo(),o=Cs(),{children:a,slots:c,slotProps:d,classes:u}=e,h=g.useMemo(()=>B({},n,{layoutDirection:o?"rtl":"ltr"}),[n,o]),x=K9(u,h),p=(c==null?void 0:c.actionBar)??V9,m=Nt({elementType:p,externalSlotProps:d==null?void 0:d.actionBar,additionalProps:{actions:r},className:x.actionBar,ownerState:h}),y=st(m,G9),b=t.jsx(p,B({},y)),S=c==null?void 0:c.toolbar,j=Nt({elementType:S,externalSlotProps:d==null?void 0:d.toolbar,className:x.toolbar,ownerState:h}),D=q9(j)&&S?t.jsx(S,B({},j)):null,w=a,I=c==null?void 0:c.tabs,T=s&&I?t.jsx(I,B({className:x.tabs},d==null?void 0:d.tabs)):null,_=(c==null?void 0:c.shortcuts)??Y9,R=Nt({elementType:_,externalSlotProps:d==null?void 0:d.shortcuts,className:x.shortcuts,ownerState:h}),O=s&&_?t.jsx(_,B({},R)):null;return{toolbar:D,content:w,tabs:T,actionBar:b,shortcuts:O,ownerState:h}},J9=(e,n)=>{const{pickerOrientation:r}=n;return Kt({root:["root",r==="landscape"&&"landscape"],contentWrapper:["contentWrapper"]},x1,e)},g1=ke("div",{name:"MuiPickersLayout",slot:"Root"})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${is.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{pickerOrientation:"landscape"},style:{[`& .${is.toolbar}`]:{gridColumn:1,gridRow:"2 / 3"},[`.${is.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{pickerOrientation:"landscape",layoutDirection:"rtl"},style:{[`& .${is.toolbar}`]:{gridColumn:3}}},{props:{pickerOrientation:"portrait"},style:{[`& .${is.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${is.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{pickerOrientation:"portrait",layoutDirection:"rtl"},style:{[`& .${is.shortcuts}`]:{gridColumn:3}}}]}),b1=ke("div",{name:"MuiPickersLayout",slot:"ContentWrapper"})({gridColumn:"2 / 4",gridRow:2,display:"flex",flexDirection:"column"}),y1=g.forwardRef(function(n,r){const s=Yt({props:n,name:"MuiPickersLayout"}),{toolbar:o,content:a,tabs:c,actionBar:d,shortcuts:u,ownerState:h}=m1(s),{orientation:x,variant:p}=bo(),{sx:m,className:y,classes:b}=s,S=J9(b,h);return t.jsxs(g1,{ref:r,sx:m,className:Qt(S.root,y),ownerState:h,children:[x==="landscape"?u:o,x==="landscape"?o:u,t.jsx(b1,{className:S.contentWrapper,ownerState:h,children:p==="desktop"?t.jsxs(g.Fragment,{children:[a,c]}):t.jsxs(g.Fragment,{children:[c,a]})}),d]})});function v1(e){const{steps:n}=e;return HV({steps:n,isViewMatchingStep:(r,s)=>s.views==null||s.views.includes(r),onStepChange:({step:r,defaultView:s,setView:o,view:a,views:c})=>{const d=r.views==null?s:r.views.find(u=>c.includes(u));d!==a&&o(d)}})}const X9=["props","steps"],Q9=["ownerState"],Z9=e=>{var R;let{props:n,steps:r}=e,s=st(e,X9);const{slots:o,slotProps:a,label:c,inputRef:d,localeText:u}=n,h=v1({steps:r}),{providerProps:x,renderCurrentView:p,ownerState:m}=p1(B({},s,{props:n,localeText:u,autoFocusView:!0,viewContainerRole:"dialog",variant:"desktop",getStepNavigation:h})),y=x.privateContextValue.labelId,b=((R=a==null?void 0:a.toolbar)==null?void 0:R.hidden)??!1,S=o.field,j=Nt({elementType:S,externalSlotProps:a==null?void 0:a.field,additionalProps:B({},b&&{id:y}),ownerState:m}),D=st(j,Q9),w=o.layout??y1;let I=y;b&&(c?I=`${y}-label`:I=void 0);const T=B({},a,{toolbar:B({},a==null?void 0:a.toolbar,{titleId:y}),popper:B({"aria-labelledby":I},a==null?void 0:a.popper)});return{renderPicker:()=>t.jsx(PS,B({},x,{children:t.jsxs(s1,{slots:o,slotProps:T,inputRef:d,children:[t.jsx(S,B({},D)),t.jsx(M9,{slots:o,slotProps:T,children:t.jsx(w,B({},T==null?void 0:T.layout,{slots:o,slotProps:T,children:p()}))})]})}))}},vi=({view:e,onViewChange:n,views:r,focusedView:s,onFocusedViewChange:o,value:a,defaultValue:c,referenceDate:d,onChange:u,className:h,classes:x,disableFuture:p,disablePast:m,minDate:y,maxDate:b,shouldDisableDate:S,shouldDisableMonth:j,shouldDisableYear:D,reduceAnimations:w,onMonthChange:I,monthsPerRow:T,onYearChange:_,yearsOrder:R,yearsPerRow:O,slots:A,slotProps:L,loading:W,renderLoading:H,disableHighlightToday:N,readOnly:se,disabled:Z,showDaysOutsideCurrentMonth:G,dayOfWeekFormatter:q,sx:K,autoFocus:X,fixedWeekNumber:ae,displayWeekNumber:V,timezone:re})=>t.jsx(v9,{view:e,onViewChange:n,views:r.filter(Li),focusedView:s&&Li(s)?s:null,onFocusedViewChange:o,value:a,defaultValue:c,referenceDate:d,onChange:u,className:h,classes:x,disableFuture:p,disablePast:m,minDate:y,maxDate:b,shouldDisableDate:S,shouldDisableMonth:j,shouldDisableYear:D,reduceAnimations:w,onMonthChange:I,monthsPerRow:T,onYearChange:_,yearsOrder:R,yearsPerRow:O,slots:A,slotProps:L,loading:W,renderLoading:H,disableHighlightToday:N,readOnly:se,disabled:Z,showDaysOutsideCurrentMonth:G,dayOfWeekFormatter:q,sx:K,autoFocus:X,fixedWeekNumber:ae,displayWeekNumber:V,timezone:re}),eH=ke(en)({[`& .${ib.container}`]:{outline:0},[`& .${ib.paper}`]:{outline:0,minWidth:Mi}}),tH=ke(tn)({"&:first-of-type":{padding:0}});function nH(e){const{children:n,slots:r,slotProps:s}=e,{open:o}=bo(),{dismissViews:a,onPopperExited:c}=Dn(),d=(r==null?void 0:r.dialog)??eH,u=(r==null?void 0:r.mobileTransition)??qc;return t.jsx(d,B({open:o,onClose:()=>{a(),c==null||c()}},s==null?void 0:s.dialog,{TransitionComponent:u,TransitionProps:s==null?void 0:s.mobileTransition,PaperComponent:r==null?void 0:r.mobilePaper,PaperProps:s==null?void 0:s.mobilePaper,children:t.jsx(tH,{children:n})}))}const rH=["props","steps"],sH=["ownerState"],oH=e=>{var R;let{props:n,steps:r}=e,s=st(e,rH);const{slots:o,slotProps:a,label:c,inputRef:d,localeText:u}=n,h=v1({steps:r}),{providerProps:x,renderCurrentView:p,ownerState:m}=p1(B({},s,{props:n,localeText:u,autoFocusView:!0,viewContainerRole:"dialog",variant:"mobile",getStepNavigation:h})),y=x.privateContextValue.labelId,b=((R=a==null?void 0:a.toolbar)==null?void 0:R.hidden)??!1,S=o.field,j=Nt({elementType:S,externalSlotProps:a==null?void 0:a.field,additionalProps:B({},b&&{id:y}),ownerState:m}),D=st(j,sH),w=o.layout??y1;let I=y;b&&(c?I=`${y}-label`:I=void 0);const T=B({},a,{toolbar:B({},a==null?void 0:a.toolbar,{titleId:y}),mobilePaper:B({"aria-labelledby":I},a==null?void 0:a.mobilePaper)});return{renderPicker:()=>t.jsx(PS,B({},x,{children:t.jsxs(s1,{slots:o,slotProps:T,inputRef:d,children:[t.jsx(S,B({},D)),t.jsx(nH,{slots:o,slotProps:T,children:t.jsx(w,B({},T==null?void 0:T.layout,{slots:o,slotProps:T,children:p()}))})]})}))}};function iH(e){return an("MuiPickersToolbarText",e)}const aH=dn("MuiPickersToolbarText",["root"]),lH=["className","classes","selected","value"],cH=e=>Kt({root:["root"]},iH,e),dH=ke(v,{name:"MuiPickersToolbarText",slot:"Root"})(({theme:e})=>({transition:e.transitions.create("color"),color:(e.vars||e).palette.text.secondary,"&[data-selected]":{color:(e.vars||e).palette.text.primary}})),j1=g.forwardRef(function(n,r){const s=Yt({props:n,name:"MuiPickersToolbarText"}),{className:o,classes:a,selected:c,value:d}=s,u=st(s,lH),h=cH(a);return t.jsx(dH,B({ref:r,className:Qt(h.root,o),component:"span",ownerState:s},c&&{"data-selected":!0},u,{children:d}))}),uH=["align","className","classes","selected","typographyClassName","value","variant","width"],hH=e=>Kt({root:["root"]},h1,e),fH=ke(xe,{name:"MuiPickersToolbarButton",slot:"Root"})({padding:0,minWidth:16,textTransform:"none"}),no=g.forwardRef(function(n,r){const s=Yt({props:n,name:"MuiPickersToolbarButton"}),{align:o,className:a,classes:c,selected:d,typographyClassName:u,value:h,variant:x,width:p}=s,m=st(s,uH),y=hH(c);return t.jsx(fH,B({variant:"text",ref:r,className:Qt(y.root,a),ownerState:s},p?{sx:{width:p}}:{},m,{children:t.jsx(j1,{align:o,className:u,variant:x,value:h,selected:d})}))}),S1=({view:e,onViewChange:n,focusedView:r,onFocusedViewChange:s,views:o,value:a,defaultValue:c,referenceDate:d,onChange:u,className:h,classes:x,disableFuture:p,disablePast:m,minTime:y,maxTime:b,shouldDisableTime:S,minutesStep:j,ampm:D,slots:w,slotProps:I,readOnly:T,disabled:_,sx:R,autoFocus:O,disableIgnoringDatePartForTimeValidation:A,timeSteps:L,skipDisabled:W,timezone:H})=>t.jsx(SU,{view:e,onViewChange:n,focusedView:r&&Wa(r)?r:null,onFocusedViewChange:s,views:o.filter(Wa),value:a,defaultValue:c,referenceDate:d,onChange:u,className:h,classes:x,disableFuture:p,disablePast:m,minTime:y,maxTime:b,shouldDisableTime:S,minutesStep:j,ampm:D,slots:w,slotProps:I,readOnly:T,disabled:_,sx:R,autoFocus:O,disableIgnoringDatePartForTimeValidation:A,timeStep:L==null?void 0:L.minutes,skipDisabled:W,timezone:H}),Uc=({view:e,onViewChange:n,focusedView:r,onFocusedViewChange:s,views:o,value:a,defaultValue:c,referenceDate:d,onChange:u,className:h,classes:x,disableFuture:p,disablePast:m,minTime:y,maxTime:b,shouldDisableTime:S,minutesStep:j,ampm:D,slots:w,slotProps:I,readOnly:T,disabled:_,sx:R,autoFocus:O,disableIgnoringDatePartForTimeValidation:A,timeSteps:L,skipDisabled:W,timezone:H})=>t.jsx(kU,{view:e,onViewChange:n,focusedView:r&&hi(r)?r:null,onFocusedViewChange:s,views:o.filter(Wa),value:a,defaultValue:c,referenceDate:d,onChange:u,className:h,classes:x,disableFuture:p,disablePast:m,minTime:y,maxTime:b,shouldDisableTime:S,minutesStep:j,ampm:D,slots:w,slotProps:I,readOnly:T,disabled:_,sx:R,autoFocus:O,disableIgnoringDatePartForTimeValidation:A,timeSteps:L,skipDisabled:W,timezone:H}),pH=["views","format"],w1=(e,n,r)=>{let{views:s,format:o}=n,a=st(n,pH);if(o)return o;const c=[],d=[];if(s.forEach(x=>{Wa(x)?d.push(x):Li(x)&&c.push(x)}),d.length===0)return Wy(e,B({views:c},a));if(c.length===0)return Fy(e,B({views:d},a));const u=Fy(e,B({views:d},a));return`${Wy(e,B({views:c},a))} ${u}`},xH=(e,n,r)=>r?n.filter(s=>!hi(s)||s==="hours"):e?[...n,"meridiem"]:n,mH=(e,n)=>24*60/((e.hours??1)*(e.minutes??5))<=n;function gH({thresholdToRenderTimeInASingleColumn:e,ampm:n,timeSteps:r,views:s}){const o=e??24,a=B({hours:1,minutes:5,seconds:5},r),c=mH(a,o);return{thresholdToRenderTimeInASingleColumn:o,timeSteps:a,shouldRenderTimeInASingleColumn:c,views:xH(n,s,c)}}function bH(e){return an("MuiDateTimePickerTabs",e)}dn("MuiDateTimePickerTabs",["root"]);const yH=e=>Li(e)?"date":"time",vH=e=>e==="date"?"day":"hours",jH=e=>Kt({root:["root"]},bH,e),SH=ke(ho,{name:"MuiDateTimePickerTabs",slot:"Root"})(({theme:e})=>({boxShadow:`0 -1px 0 0 inset ${(e.vars||e).palette.divider}`,"&:last-child":{boxShadow:`0 1px 0 0 inset ${(e.vars||e).palette.divider}`,[`& .${qT.indicator}`]:{bottom:"auto",top:0}}})),wH=function(n){const r=Yt({props:n,name:"MuiDateTimePickerTabs"}),{dateIcon:s=t.jsx(TV,{}),timeIcon:o=t.jsx(AV,{}),hidden:a=typeof window>"u"||window.innerHeight<667,className:c,classes:d,sx:u}=r,h=ps(),{ownerState:x}=Dn(),{view:p,setView:m}=bo(),y=jH(d),b=(S,j)=>{m(vH(j))};return a?null:t.jsxs(SH,{ownerState:x,variant:"fullWidth",value:yH(p),onChange:b,className:Qt(c,y.root),sx:u,children:[t.jsx(Zn,{value:"date","aria-label":h.dateTableLabel,icon:t.jsx(g.Fragment,{children:s})}),t.jsx(Zn,{value:"time","aria-label":h.timeTableLabel,icon:t.jsx(g.Fragment,{children:o})})]})};function CH(e){return an("MuiDateTimePickerToolbar",e)}const mh=dn("MuiDateTimePickerToolbar",["root","dateContainer","timeContainer","timeDigitsContainer","separator","timeLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),PH=["ampm","ampmInClock","toolbarFormat","toolbarPlaceholder","toolbarTitle","className","classes"],DH=(e,n)=>{const{pickerOrientation:r,toolbarDirection:s}=n;return Kt({root:["root"],dateContainer:["dateContainer"],timeContainer:["timeContainer",s==="rtl"&&"timeLabelReverse"],timeDigitsContainer:["timeDigitsContainer",s==="rtl"&&"timeLabelReverse"],separator:["separator"],ampmSelection:["ampmSelection",r==="landscape"&&"ampmLandscape"],ampmLabel:["ampmLabel"]},CH,e)},IH=ke(D9,{name:"MuiDateTimePickerToolbar",slot:"Root",shouldForwardProp:e=>Us(e)&&e!=="toolbarVariant"})(({theme:e})=>({paddingLeft:16,paddingRight:16,justifyContent:"space-around",position:"relative",variants:[{props:{toolbarVariant:"desktop"},style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,[`& .${j9.content} .${aH.root}[data-selected]`]:{color:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightBold}}},{props:{toolbarVariant:"desktop",pickerOrientation:"landscape"},style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:{toolbarVariant:"desktop",pickerOrientation:"portrait"},style:{paddingLeft:24,paddingRight:0}}]})),EH=ke("div",{name:"MuiDateTimePickerToolbar",slot:"DateContainer"})({display:"flex",flexDirection:"column",alignItems:"flex-start"}),TH=ke("div",{name:"MuiDateTimePickerToolbar",slot:"TimeContainer",shouldForwardProp:e=>Us(e)&&e!=="toolbarVariant"})({display:"flex",flexDirection:"row",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop",pickerOrientation:"portrait"},style:{gap:9,marginRight:4,alignSelf:"flex-end"}},{props:({pickerOrientation:e,toolbarVariant:n})=>e==="landscape"&&n!=="desktop",style:{flexDirection:"column"}},{props:({pickerOrientation:e,toolbarVariant:n,toolbarDirection:r})=>e==="landscape"&&n!=="desktop"&&r==="rtl",style:{flexDirection:"column-reverse"}}]}),AH=ke("div",{name:"MuiDateTimePickerToolbar",slot:"TimeDigitsContainer",shouldForwardProp:e=>Us(e)&&e!=="toolbarVariant"})({display:"flex",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop"},style:{gap:1.5}}]}),n0=ke(j1,{name:"MuiDateTimePickerToolbar",slot:"Separator",shouldForwardProp:e=>Us(e)&&e!=="toolbarVariant"})({margin:"0 4px 0 2px",cursor:"default",variants:[{props:{toolbarVariant:"desktop"},style:{margin:0}}]}),RH=ke("div",{name:"MuiDateTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(e,n)=>[{[`.${mh.ampmLabel}`]:n.ampmLabel},{[`&.${mh.ampmLandscape}`]:n.ampmLandscape},n.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${mh.ampmLabel}`]:{fontSize:17},variants:[{props:{pickerOrientation:"landscape"},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",width:"100%"}}]}),_H=g.createContext(null);function OH(e){const n=Yt({props:e,name:"MuiDateTimePickerToolbar"}),{ampm:r,ampmInClock:s,toolbarFormat:o,toolbarPlaceholder:a="",toolbarTitle:c,className:d,classes:u}=n,h=st(n,PH),{value:x,setValue:p,disabled:m,readOnly:y,variant:b,orientation:S,view:j,setView:D,views:w}=bo(),I=ps(),T=f1(),_=DH(u,T),R=Vt(),O=g.useContext(_H),A=O?O.value:x,L=O?O.setValue:p,W=O?O.view:j,H=O?O.setView:D,{meridiemMode:N,handleMeridiemChange:se}=ES(A,r,V=>L(V,{changeImportance:"set"})),Z=O!=null&&O.forceDesktopVariant?"desktop":b,G=Z==="desktop",q=!!(r&&!s),K=c??I.dateTimePickerToolbarTitle,X=g.useMemo(()=>R.isValid(A)?o?R.formatByString(A,o):R.format(A,"shortDate"):a,[A,o,a,R]),ae=(V,re)=>R.isValid(A)?R.format(A,V):re;return t.jsxs(IH,B({className:Qt(_.root,d),toolbarTitle:K,toolbarVariant:Z},h,{ownerState:T,children:[t.jsxs(EH,{className:_.dateContainer,ownerState:T,children:[w.includes("year")&&t.jsx(no,{tabIndex:-1,variant:"subtitle1",onClick:()=>H("year"),selected:W==="year",value:ae("year","")}),w.includes("day")&&t.jsx(no,{tabIndex:-1,variant:G?"h5":"h4",onClick:()=>H("day"),selected:W==="day",value:X})]}),t.jsxs(TH,{className:_.timeContainer,ownerState:T,toolbarVariant:Z,children:[t.jsxs(AH,{className:_.timeDigitsContainer,ownerState:T,toolbarVariant:Z,children:[w.includes("hours")&&t.jsxs(g.Fragment,{children:[t.jsx(no,{variant:G?"h5":"h3",width:G&&S==="portrait"?ya:void 0,onClick:()=>H("hours"),selected:W==="hours",value:ae(r?"hours12h":"hours24h","--")}),t.jsx(n0,{variant:G?"h5":"h3",value:":",className:_.separator,ownerState:T,toolbarVariant:Z}),t.jsx(no,{variant:G?"h5":"h3",width:G&&S==="portrait"?ya:void 0,onClick:()=>H("minutes"),selected:W==="minutes"||!w.includes("minutes")&&W==="hours",value:ae("minutes","--"),disabled:!w.includes("minutes")})]}),w.includes("seconds")&&t.jsxs(g.Fragment,{children:[t.jsx(n0,{variant:G?"h5":"h3",value:":",className:_.separator,ownerState:T,toolbarVariant:Z}),t.jsx(no,{variant:G?"h5":"h3",width:G&&S==="portrait"?ya:void 0,onClick:()=>H("seconds"),selected:W==="seconds",value:ae("seconds","--")})]})]}),q&&!G&&t.jsxs(RH,{className:_.ampmSelection,ownerState:T,children:[t.jsx(no,{variant:"subtitle2",selected:N==="am",typographyClassName:_.ampmLabel,value:Da(R,"am"),onClick:y?void 0:()=>se("am"),disabled:m}),t.jsx(no,{variant:"subtitle2",selected:N==="pm",typographyClassName:_.ampmLabel,value:Da(R,"pm"),onClick:y?void 0:()=>se("pm"),disabled:m})]}),r&&G&&t.jsx(no,{variant:"h5",onClick:()=>H("meridiem"),selected:W==="meridiem",value:A&&N?Da(R,N):"--",width:ya})]})]}))}function C1(e,n){var y;const r=Vt(),s=Yt({props:e,name:n}),o=qS(s),a=s.ampm??r.is12HourCycleInCurrentLocale(),c=g.useMemo(()=>{var b;return((b=s.localeText)==null?void 0:b.toolbarTitle)==null?s.localeText:B({},s.localeText,{dateTimePickerToolbarTitle:s.localeText.toolbarTitle})},[s.localeText]),{openTo:d,views:u}=BV({views:s.views,openTo:s.openTo,defaultViews:["year","day","hours","minutes"],defaultOpenTo:"day"}),{shouldRenderTimeInASingleColumn:h,thresholdToRenderTimeInASingleColumn:x,views:p,timeSteps:m}=gH({thresholdToRenderTimeInASingleColumn:s.thresholdToRenderTimeInASingleColumn,ampm:a,timeSteps:s.timeSteps,views:u});return B({},s,o,{timeSteps:m,openTo:d,shouldRenderTimeInASingleColumn:h,thresholdToRenderTimeInASingleColumn:x,views:p,ampm:a,localeText:c,orientation:s.orientation??"portrait",slots:B({toolbar:OH,tabs:wH},s.slots),slotProps:B({},s.slotProps,{toolbar:B({ampm:a},(y=s.slotProps)==null?void 0:y.toolbar)})})}const kH=g.forwardRef(function(n,r){var b;const{toolbar:s,tabs:o,content:a,actionBar:c,shortcuts:d,ownerState:u}=m1(n),{orientation:h}=bo(),{sx:x,className:p,classes:m}=n,y=c&&(((b=c.props.actions)==null?void 0:b.length)??0)>0;return t.jsxs(g1,{ref:r,className:Qt(is.root,m==null?void 0:m.root,p),sx:[{[`& .${is.tabs}`]:{gridRow:4,gridColumn:"1 / 4"},[`& .${is.actionBar}`]:{gridRow:5}},...Array.isArray(x)?x:[x]],ownerState:u,children:[h==="landscape"?d:s,h==="landscape"?s:d,t.jsxs(b1,{className:Qt(is.contentWrapper,m==null?void 0:m.contentWrapper),ownerState:u,sx:{display:"grid"},children:[a,o,y&&t.jsx(Lt,{sx:{gridRow:3,gridColumn:"1 / 4"}})]}),c]})}),MH=["openTo","focusedView","timeViewsCount"],NH=function(n){var y,b;const{viewRenderers:r,popperView:s,rendererProps:o}=n,{openTo:a,focusedView:c,timeViewsCount:d}=o,u=st(o,MH),h=B({},u,{autoFocus:!1,focusedView:null,sx:[{[`&.${qh.root}`]:{borderBottom:0},[`&.${qh.root}, .${Kh.root}, &.${Gh.root}`]:{maxHeight:Ni}}]}),x=hi(s),p=x?"day":s,m=x?s:"hours";return t.jsxs(g.Fragment,{children:[(y=r[p])==null?void 0:y.call(r,B({},o,{view:x?"day":s,focusedView:c&&Li(c)?c:null,views:o.views.filter(Li),sx:[{gridColumn:1},...h.sx]})),d>0&&t.jsxs(g.Fragment,{children:[t.jsx(Lt,{orientation:"vertical",sx:{gridColumn:2}}),(b=r[m])==null?void 0:b.call(r,B({},h,{view:x?s:"hours",focusedView:c&&hi(c)?c:null,openTo:hi(a)?a:"hours",views:o.views.filter(hi),sx:[{gridColumn:3},...h.sx]}))]})]})},P1=g.forwardRef(function(n,r){var m,y,b;const s=Vt(),o=C1(n,"MuiDesktopDateTimePicker"),a=o.shouldRenderTimeInASingleColumn?S1:Uc,c=B({day:vi,month:vi,year:vi,hours:a,minutes:a,seconds:a,meridiem:a},o.viewRenderers),d=o.ampmInClock??!0,h=((m=c.hours)==null?void 0:m.name)===Uc.name?o.views:o.views.filter(S=>S!=="meridiem"),x=B({},o,{viewRenderers:c,format:w1(s,o),views:h,yearsPerRow:o.yearsPerRow??4,ampmInClock:d,slots:B({field:o1,layout:kH},o.slots),slotProps:B({},o.slotProps,{field:S=>{var j;return B({},Fa((j=o.slotProps)==null?void 0:j.field,S),WS(o))},toolbar:B({hidden:!0,ampmInClock:d},(y=o.slotProps)==null?void 0:y.toolbar),tabs:B({hidden:!0},(b=o.slotProps)==null?void 0:b.tabs)})}),{renderPicker:p}=Z9({ref:r,props:x,valueManager:cr,valueType:"date-time",validator:Cd,rendererInterceptor:NH,steps:null});return p()});P1.propTypes={ampm:ee.bool,ampmInClock:ee.bool,autoFocus:ee.bool,className:ee.string,closeOnSelect:ee.bool,dayOfWeekFormatter:ee.func,defaultValue:ee.object,disabled:ee.bool,disableFuture:ee.bool,disableHighlightToday:ee.bool,disableIgnoringDatePartForTimeValidation:ee.bool,disableOpenPicker:ee.bool,disablePast:ee.bool,displayWeekNumber:ee.bool,enableAccessibleFieldDOMStructure:ee.any,fixedWeekNumber:ee.number,format:ee.string,formatDensity:ee.oneOf(["dense","spacious"]),inputRef:mS,label:ee.node,loading:ee.bool,localeText:ee.object,maxDate:ee.object,maxDateTime:ee.object,maxTime:ee.object,minDate:ee.object,minDateTime:ee.object,minTime:ee.object,minutesStep:ee.number,monthsPerRow:ee.oneOf([3,4]),name:ee.string,onAccept:ee.func,onChange:ee.func,onClose:ee.func,onError:ee.func,onMonthChange:ee.func,onOpen:ee.func,onSelectedSectionsChange:ee.func,onViewChange:ee.func,onYearChange:ee.func,open:ee.bool,openTo:ee.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),orientation:ee.oneOf(["landscape","portrait"]),readOnly:ee.bool,reduceAnimations:ee.bool,referenceDate:ee.object,renderLoading:ee.func,selectedSections:ee.oneOfType([ee.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),ee.number]),shouldDisableDate:ee.func,shouldDisableMonth:ee.func,shouldDisableTime:ee.func,shouldDisableYear:ee.func,showDaysOutsideCurrentMonth:ee.bool,skipDisabled:ee.bool,slotProps:ee.object,slots:ee.object,sx:ee.oneOfType([ee.arrayOf(ee.oneOfType([ee.func,ee.object,ee.bool])),ee.func,ee.object]),thresholdToRenderTimeInASingleColumn:ee.number,timeSteps:ee.shape({hours:ee.number,minutes:ee.number,seconds:ee.number}),timezone:ee.string,value:ee.object,view:ee.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),viewRenderers:ee.shape({day:ee.func,hours:ee.func,meridiem:ee.func,minutes:ee.func,month:ee.func,seconds:ee.func,year:ee.func}),views:ee.arrayOf(ee.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:ee.oneOf(["asc","desc"]),yearsPerRow:ee.oneOf([3,4])};const LH=[{views:AS},{views:DS}],D1=g.forwardRef(function(n,r){var m,y,b,S,j,D;const s=Vt(),o=C1(n,"MuiMobileDateTimePicker"),a=o.shouldRenderTimeInASingleColumn?S1:Uc,c=B({day:vi,month:vi,year:vi,hours:a,minutes:a,seconds:a,meridiem:a},o.viewRenderers),d=o.ampmInClock??!1,h=((m=c.hours)==null?void 0:m.name)===Uc.name?o.views:o.views.filter(w=>w!=="meridiem"),x=B({},o,{viewRenderers:c,format:w1(s,o),views:h,ampmInClock:d,slots:B({field:o1},o.slots),slotProps:B({},o.slotProps,{field:w=>{var I;return B({},Fa((I=o.slotProps)==null?void 0:I.field,w),WS(o))},toolbar:B({hidden:!1,ampmInClock:d},(y=o.slotProps)==null?void 0:y.toolbar),tabs:B({hidden:!1},(b=o.slotProps)==null?void 0:b.tabs),layout:B({},(S=o.slotProps)==null?void 0:S.layout,{sx:mU([{[`& .${qh.root}`]:{width:Mi},[`& .${Kh.root}`]:{flex:1,maxHeight:Ni-1,[`.${Kh.item}`]:{width:"auto"}},[`& .${Gh.root}`]:{width:Mi,maxHeight:Ni,flex:1,[`.${Gh.item}`]:{justifyContent:"center"}}}],(D=(j=o.slotProps)==null?void 0:j.layout)==null?void 0:D.sx)})})}),{renderPicker:p}=oH({ref:r,props:x,valueManager:cr,valueType:"date-time",validator:Cd,steps:LH});return p()});D1.propTypes={ampm:ee.bool,ampmInClock:ee.bool,autoFocus:ee.bool,className:ee.string,closeOnSelect:ee.bool,dayOfWeekFormatter:ee.func,defaultValue:ee.object,disabled:ee.bool,disableFuture:ee.bool,disableHighlightToday:ee.bool,disableIgnoringDatePartForTimeValidation:ee.bool,disableOpenPicker:ee.bool,disablePast:ee.bool,displayWeekNumber:ee.bool,enableAccessibleFieldDOMStructure:ee.any,fixedWeekNumber:ee.number,format:ee.string,formatDensity:ee.oneOf(["dense","spacious"]),inputRef:mS,label:ee.node,loading:ee.bool,localeText:ee.object,maxDate:ee.object,maxDateTime:ee.object,maxTime:ee.object,minDate:ee.object,minDateTime:ee.object,minTime:ee.object,minutesStep:ee.number,monthsPerRow:ee.oneOf([3,4]),name:ee.string,onAccept:ee.func,onChange:ee.func,onClose:ee.func,onError:ee.func,onMonthChange:ee.func,onOpen:ee.func,onSelectedSectionsChange:ee.func,onViewChange:ee.func,onYearChange:ee.func,open:ee.bool,openTo:ee.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),orientation:ee.oneOf(["landscape","portrait"]),readOnly:ee.bool,reduceAnimations:ee.bool,referenceDate:ee.object,renderLoading:ee.func,selectedSections:ee.oneOfType([ee.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),ee.number]),shouldDisableDate:ee.func,shouldDisableMonth:ee.func,shouldDisableTime:ee.func,shouldDisableYear:ee.func,showDaysOutsideCurrentMonth:ee.bool,skipDisabled:ee.bool,slotProps:ee.object,slots:ee.object,sx:ee.oneOfType([ee.arrayOf(ee.oneOfType([ee.func,ee.object,ee.bool])),ee.func,ee.object]),thresholdToRenderTimeInASingleColumn:ee.number,timeSteps:ee.shape({hours:ee.number,minutes:ee.number,seconds:ee.number}),timezone:ee.string,value:ee.object,view:ee.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),viewRenderers:ee.shape({day:ee.func,hours:ee.func,meridiem:ee.func,minutes:ee.func,month:ee.func,seconds:ee.func,year:ee.func}),views:ee.arrayOf(ee.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:ee.oneOf(["asc","desc"]),yearsPerRow:ee.oneOf([3,4])};const $H=["desktopModeMediaQuery"],r0=g.forwardRef(function(n,r){const s=Yt({props:n,name:"MuiDateTimePicker"}),{desktopModeMediaQuery:o=xU}=s,a=st(s,$H);return zc(o,{defaultMatches:!0})?t.jsx(P1,B({ref:r},a)):t.jsx(D1,B({ref:r},a))}),I1=({initialData:e,onSubmit:n,submitButtonText:r="Submit",isEdit:s})=>{var j,D;const{profile:o,channelRelations:{hasChannel:a}}=Ps(),c=Ct(),[d,u]=g.useState({title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",startDate:(e==null?void 0:e.startDate)||new Date,endDate:(e==null?void 0:e.endDate)||new Date,channelId:(e==null?void 0:e.channelId)||"",options:(e==null?void 0:e.options)||[{text:""},{text:""}],media:(e==null?void 0:e.media)||[]}),[h,x]=g.useState(((j=e==null?void 0:e.media)==null?void 0:j.find(w=>w.type===Ub.COVER))||null);g.useEffect(()=>{o&&(!o.staffChannels||o.staffChannels.length)},[o]);const p=(w,I)=>{u(T=>({...T,[w]:I}))},m=(w,I)=>{const T=[...d.options];T[w]={text:I},p("options",T)},y=()=>{p("options",[...d.options,{text:""}])},b=w=>{if(d.options.length<=2)return;const I=d.options.filter((T,_)=>_!==w);p("options",I)},S=w=>{w.preventDefault();const I={...d,media:h?[h]:[]};n(I)};return a()?t.jsx(C,{component:"form",onSubmit:S,children:t.jsxs($,{container:!0,spacing:3,children:[t.jsx($,{item:!0,xs:12,children:t.jsxs(bt,{fullWidth:!0,disabled:s,children:[t.jsx(At,{id:"channel-select-label",children:"Channel"}),t.jsx(wt,{labelId:"channel-select-label",value:d.channelId,label:"Channel",onChange:w=>p("channelId",w.target.value),required:!0,children:(D=o==null?void 0:o.staffChannels)==null?void 0:D.map(w=>t.jsx(Ce,{value:w.channelId,children:w.channel.name},w.id))})]})}),t.jsx($,{item:!0,xs:12,children:t.jsx(rt,{fullWidth:!0,label:"Poll Title",value:d.title,onChange:w=>p("title",w.target.value),required:!0})}),t.jsx($,{item:!0,xs:12,children:t.jsx(rt,{fullWidth:!0,label:"Description",value:d.description,onChange:w=>p("description",w.target.value),multiline:!0,rows:4})}),t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(r0,{label:"Start Date",value:d.startDate,onChange:w=>p("startDate",w),sx:{width:"100%"}})}),t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(r0,{label:"End Date",value:d.endDate,onChange:w=>p("endDate",w),sx:{width:"100%"}})}),t.jsx($,{item:!0,xs:12,children:t.jsxs(ot,{sx:{p:3,mb:2},children:[t.jsx(v,{variant:"h6",sx:{mb:3},children:"Media"}),t.jsx(ye,{spacing:4,children:t.jsx(C,{children:t.jsx(Zv,{title:"Cover Media",description:"Upload an image or short video that will be displayed with your poll and in previews.",value:h?{id:h.id||"0",url:h.url,type:h.type,format:h.format}:null,onChange:w=>x(w?{id:w.id,url:w.url,type:w.type,format:w.format,pollId:""}:null),mediaTypeId:Ub.COVER,useNewsFormats:!1})})})]})}),t.jsx($,{item:!0,xs:12,children:t.jsxs(ot,{sx:{p:2,mb:2},children:[t.jsx(v,{variant:"h6",sx:{mb:2},children:"Poll Options"}),d.options.map((w,I)=>t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(rt,{fullWidth:!0,label:`Option ${I+1}`,value:w.text,onChange:T=>m(I,T.target.value),required:!0,sx:{mr:1}}),t.jsx(Le,{onClick:()=>b(I),disabled:d.options.length<=2,children:t.jsx(zo,{})})]},I)),t.jsx(xe,{startIcon:t.jsx(Hp,{}),onClick:y,variant:"outlined",size:"small",children:"Add Option"})]})}),t.jsx($,{item:!0,xs:12,children:t.jsx(xe,{type:"submit",variant:"contained",size:"large",fullWidth:!0,children:r})})]})}):t.jsx(C,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",p:3},children:t.jsx(zs,{title:"Channel Required",description:"You need to create a channel before you can start creating polls.",icon:t.jsx(Ka,{sx:{fontSize:48}}),action:{label:"Create Channel",onClick:()=>c(ve.STUDIO_CHANNEL_CREATE)}})})},FH=()=>{const{api:e}=Xe(),n=Ct(),{execute:r}=nt(),s=async o=>{if(!o)return;await r(()=>e==null?void 0:e.studioApi.createPoll(o),{showSuccessMessage:!0,successMessage:"Poll created successfully!"})&&n(`${ve.STUDIO_POLLS}`)};return t.jsxs(It,{sx:{maxWidth:800,mx:"auto",p:3},children:[t.jsx(v,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Create Poll"}),t.jsx(I1,{onSubmit:s,submitButtonText:"Create Poll"})]})},WH=()=>{const{id:e}=es(),n=Ct(),{api:r}=Xe(),[s,o]=g.useState(null),{execute:a}=nt(),{execute:c}=nt();g.useEffect(()=>{(async()=>{if(!e)return;const h=await a(()=>r==null?void 0:r.pollApi.get(e),{showErrorToast:!0});h&&o(h)})()},[e,r==null?void 0:r.pollApi,a]);const d=async u=>{e&&(await c(()=>r==null?void 0:r.pollApi.update(e,u),{showSuccessMessage:!0,successMessage:"Poll updated successfully!"}),n(ve.STUDIO_POLL_VIEW.replace(":id",e)))};return s?t.jsxs(It,{sx:{maxWidth:800,mx:"auto",p:3},children:[t.jsx(v,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Edit Poll"}),t.jsx(I1,{initialData:{title:s.title,description:s.description,startDate:s.startDate,endDate:s.endDate,channelId:s.channel.id,options:s.options.map(u=>({text:u.text,id:u.id}))},onSubmit:d,submitButtonText:"Update Poll"})]}):null},BH=({poll:e})=>{const n=xn(),r=e.statistics.totalVotes;return t.jsx(C,{children:e.options.map(s=>{const o=r>0?s.votes/r*100:0;return t.jsxs(C,{sx:{mb:2},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[t.jsx(v,{variant:"body1",children:s.text}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:[s.votes," votes (",o.toFixed(1),"%)"]})]}),t.jsx(Ci,{variant:"determinate",value:o,sx:{height:8,borderRadius:1,bgcolor:fe(n.palette.primary.main,.1),"& .MuiLinearProgress-bar":{borderRadius:1,bgcolor:n.palette.primary.main}}})]},s.id)})})};var Rx={},VH=Ze;Object.defineProperty(Rx,"__esModule",{value:!0});var E1=Rx.default=void 0,UH=VH(et()),zH=t;E1=Rx.default=(0,UH.default)((0,zH.jsx)("path",{d:"M18 13h-.68l-2 2h1.91L19 17H5l1.78-2h2.05l-2-2H6l-3 3v4c0 1.1.89 2 1.99 2H19c1.1 0 2-.89 2-2v-4zm-1-5.05-4.95 4.95-3.54-3.54 4.95-4.95zm-4.24-5.66L6.39 8.66c-.39.39-.39 1.02 0 1.41l4.95 4.95c.39.39 1.02.39 1.41 0l6.36-6.36c.39-.39.39-1.02 0-1.41L14.16 2.3c-.38-.4-1.01-.4-1.4-.01"}),"HowToVote");const HH=()=>t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsxs($,{container:!0,spacing:4,children:[t.jsx($,{item:!0,xs:12,children:t.jsxs(C,{sx:{mb:3},children:[t.jsx(ce,{variant:"text",width:"60%",height:40}),t.jsx(ce,{variant:"text",width:"40%",height:24})]})}),t.jsx($,{item:!0,xs:12,md:8,children:t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsx(ce,{variant:"text",width:"50%",height:32,sx:{mb:2}}),t.jsx(ye,{spacing:2,children:[1,2,3,4].map(e=>t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsx(ce,{variant:"text",width:"60%"}),t.jsx(ce,{variant:"text",width:"20%"})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:20,sx:{borderRadius:1}})]},e))})]})})}),t.jsx($,{item:!0,xs:12,md:4,children:t.jsx(ye,{spacing:3,children:[1,2].map(e=>t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsx(ce,{variant:"text",width:"50%",height:24}),t.jsx(ce,{variant:"text",width:"70%",height:40})]})},e))})})]})}),YH=()=>{var y;const{id:e}=es(),{api:n}=Xe(),{execute:r}=nt(),[s,o]=g.useState(null),[a,c]=g.useState(!0),[d,u]=g.useState(!1);g.useEffect(()=>{(async()=>{if(e){c(!0);const S=await r(()=>n==null?void 0:n.pollApi.get(e),{showErrorToast:!0});S&&o(S),c(!1)}})()},[e,r]);const h=async b=>{if(!e)return;if(await r(()=>n==null?void 0:n.pollApi.convertToNews(e,b),{showSuccessMessage:!0,successMessage:"Poll converted to news successfully!"})){const j=await r(()=>n==null?void 0:n.pollApi.get(e),{showErrorToast:!0});j&&o(j)}};if(a)return t.jsx(HH,{});if(!s)return t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsx(v,{variant:"h4",children:"Poll not found"})});const x=new Date>=new Date(s.startDate)&&new Date<=new Date(s.endDate),p=new Date>=new Date(s.startDate),m=!s.isConverted&&!((y=s.stats)!=null&&y.hasEnded);return t.jsxs(It,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs($,{container:!0,spacing:4,children:[t.jsxs($,{item:!0,xs:12,children:[t.jsxs(C,{sx:{mb:3},children:[t.jsx(v,{variant:"h4",gutterBottom:!0,children:s.title}),t.jsx(v,{variant:"body1",color:"text.secondary",children:s.description})]}),t.jsxs(C,{sx:{display:"flex",gap:1,mb:3,alignItems:"center",justifyContent:"space-between"},children:[t.jsxs(C,{sx:{display:"flex",gap:1},children:[t.jsx(Ye,{label:x?"Active":p?"Ended":"Scheduled",color:x?"success":p?"error":"warning"}),s.isTrending&&t.jsx(Ye,{icon:t.jsx(Ga,{}),label:"Trending",color:"primary"}),s.isConverted&&t.jsx(Ye,{icon:t.jsx(Ra,{}),label:"Converted to News",color:"info"})]}),m&&t.jsx(xe,{variant:"contained",startIcon:t.jsx(Ra,{}),onClick:()=>u(!0),size:"small",children:"Convert to News"})]})]}),t.jsx($,{item:!0,xs:12,md:8,children:t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Poll Results"}),t.jsx(BH,{poll:s})]})})}),t.jsx($,{item:!0,xs:12,md:4,children:t.jsxs(ye,{spacing:3,children:[t.jsx(ot,{elevation:0,sx:{p:2,bgcolor:"primary.light",color:"primary.contrastText",borderRadius:2},children:t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(E1,{fontSize:"large"}),t.jsxs(C,{children:[t.jsx(v,{variant:"overline",children:"Total Votes"}),t.jsx(v,{variant:"h4",children:s.statistics.totalVotes})]})]})}),t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Time Frame"}),t.jsxs(ye,{spacing:2,children:[t.jsxs(C,{children:[t.jsx(v,{variant:"caption",color:"text.secondary",children:"Start Date"}),t.jsx(v,{children:new Date(s.startDate).toLocaleString()})]}),t.jsxs(C,{children:[t.jsx(v,{variant:"caption",color:"text.secondary",children:"End Date"}),t.jsx(v,{children:new Date(s.endDate).toLocaleString()})]})]})]})})]})})]}),t.jsx(xS,{open:d,poll:s,onClose:()=>u(!1),onConvert:h})]})};function GH(e){const{children:n,value:r,index:s,...o}=e;return t.jsx("div",{role:"tabpanel",hidden:r!==s,id:`expense-order-tabpanel-${s}`,"aria-labelledby":`expense-order-tab-${s}`,...o,children:r===s&&t.jsx(C,{sx:{py:3},children:n})})}const qH=()=>{const e=Ct(),{api:n}=Xe(),[r,s]=g.useState(0),[o,a]=g.useState([]),[c,d]=g.useState(!0),{execute:u}=nt(),h=[{label:"All",status:void 0},{label:"Draft",status:Ke.DRAFT},{label:"Submitted",status:Ke.SUBMITTED},{label:"Approved",status:Ke.APPROVED},{label:"Paid",status:Ke.PAID},{label:"Rejected",status:Ke.REJECTED}],x=async D=>{d(!0);const w=await u(()=>n.expenseOrderApi.getMyExpenseOrders({page:1,limit:50},D),{showErrorToast:!0});w&&a(w.items),d(!1)};g.useEffect(()=>{x(h[r].status)},[r,u]);const p=(D,w)=>{s(w)},m=D=>{e(ve.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",D.id))},y=D=>{e(ve.STUDIO_EXPENSE_ORDER_EDIT.replace(":id",D.id))},b=async D=>{await u(()=>n.expenseOrderApi.submitExpenseOrder(D.id),{showSuccessMessage:!0,successMessage:"Expense order submitted successfully!"})&&x(h[r].status)},S=async D=>{await u(()=>n.expenseOrderApi.cancelExpenseOrder(D.id),{showSuccessMessage:!0,successMessage:"Expense order cancelled successfully!"})&&x(h[r].status)},j=()=>{e(ve.STUDIO_EXPENSE_ORDER_CREATE)};return t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[t.jsx(v,{variant:"h4",component:"h1",sx:{fontWeight:600},children:"Expense Orders"}),t.jsx(xe,{variant:"contained",startIcon:t.jsx(Fo,{}),onClick:j,children:"Create New"})]}),t.jsx(C,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:t.jsx(ho,{value:r,onChange:p,"aria-label":"expense order status tabs",children:h.map((D,w)=>t.jsx(Zn,{label:D.label},w))})}),h.map((D,w)=>t.jsx(GH,{value:r,index:w,children:c?t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(Wn,{})}):o.length===0?t.jsxs(C,{sx:{textAlign:"center",py:8},children:[t.jsx(v,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"No expense orders found"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:D.status?`No ${D.label.toLowerCase()} expense orders`:"You haven't created any expense orders yet"}),t.jsx(xe,{variant:"contained",startIcon:t.jsx(Fo,{}),onClick:j,children:"Create Your First Expense Order"})]}):t.jsx($,{container:!0,spacing:3,children:o.map(I=>t.jsx($,{item:!0,xs:12,md:6,lg:4,children:t.jsx(Np,{expenseOrder:I,onView:m,onEdit:y,onSubmit:b,onCancel:S,userRole:"journalist"})},I.id))})},w))]})},KH=()=>{var h;const e=Ct(),{api:n}=Xe(),{profile:r}=Ps(),{execute:s,loading:o}=nt(),a=((h=r==null?void 0:r.staffChannels)==null?void 0:h.map(x=>x.channel))||[],c=Jv(),d=async x=>{const p=await s(()=>n.expenseOrderApi.createExpenseOrder(x),{showSuccessMessage:!0,successMessage:"Expense order created successfully!"});p&&e(ve.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",p.id))},u=()=>{e(ve.STUDIO_EXPENSE_ORDERS)};return t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(xe,{startIcon:t.jsx($s,{}),onClick:u,sx:{mr:2},children:"Back"}),t.jsx(v,{variant:"h4",component:"h1",sx:{fontWeight:600},children:"Create Expense Order"})]}),a.length===0&&!o?t.jsxs(C,{sx:{textAlign:"center",py:8,bgcolor:"background.paper",borderRadius:1},children:[t.jsx(v,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"No Channels Available"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"You need to be a member of at least one channel to create expense orders."})]}):t.jsx(nj,{channels:a,expenseTypes:c,onSave:d,loading:o,isEdit:!1})]})},JH=()=>{var S;const e=Ct(),{id:n}=es(),{api:r}=Xe(),{profile:s}=Ps(),[o,a]=g.useState(null),[c,d]=g.useState(!0),{execute:u,loading:h}=nt(),x=((S=s==null?void 0:s.staffChannels)==null?void 0:S.map(j=>j.channel))||[],p=Jv();g.useEffect(()=>{(async()=>{if(n)try{d(!0);const D=await u(()=>r.expenseOrderApi.getExpenseOrder(n),{showErrorToast:!0});D&&a(D)}finally{d(!1)}})()},[n,u]);const m=async j=>{if(!n)return;const D=await u(()=>r.expenseOrderApi.updateExpenseOrder(n,j),{showSuccessMessage:!0,successMessage:"Expense order updated successfully!"});D&&(a(D),e(ve.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",D.id)))},y=async j=>{await u(()=>r.expenseOrderApi.submitExpenseOrder(j.id),{showSuccessMessage:!0,successMessage:"Expense order submitted successfully!"})&&e(ve.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",j.id))},b=()=>{e(o?ve.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",o.id):ve.STUDIO_EXPENSE_ORDERS)};return c?t.jsx(C,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:t.jsx(Wn,{})}):o?o.status!==Ke.DRAFT?t.jsx(C,{sx:{p:3},children:t.jsxs(C,{sx:{textAlign:"center",py:8,bgcolor:"background.paper",borderRadius:1},children:[t.jsx(v,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"Cannot Edit Expense Order"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"This expense order cannot be edited because it has already been submitted."}),t.jsx(xe,{startIcon:t.jsx($s,{}),onClick:b,children:"Back to Expense Order"})]})}):t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(xe,{startIcon:t.jsx($s,{}),onClick:b,sx:{mr:2},children:"Back"}),t.jsx(v,{variant:"h4",component:"h1",sx:{fontWeight:600},children:"Edit Expense Order"})]}),t.jsx(nj,{expenseOrder:o,channels:x,expenseTypes:p,onSave:m,onSubmit:y,loading:h,isEdit:!0})]}):t.jsx(C,{sx:{p:3},children:t.jsxs(C,{sx:{textAlign:"center",py:8,bgcolor:"background.paper",borderRadius:1},children:[t.jsx(v,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"Expense Order Not Found"}),t.jsx(xe,{startIcon:t.jsx($s,{}),onClick:b,children:"Back"})]})})},XH=()=>{const e=Ct(),{id:n}=es(),{api:r}=Xe(),[s,o]=g.useState(null),[a,c]=g.useState(!0),[d,u]=g.useState(!1),[h,x]=g.useState(null),[p,m]=g.useState(!1),[y,b]=g.useState(""),S=async()=>{if(n)try{c(!0),x(null);const A=await r.expenseOrderApi.getExpenseOrder(n);o(A)}catch(A){x(A.message||"Failed to fetch expense order")}finally{c(!1)}};g.useEffect(()=>{S()},[n]);const j=(A,L)=>new Intl.NumberFormat("en-US",{style:"currency",currency:L}).format(A),D=()=>{e(ve.STUDIO_EXPENSE_ORDERS)},w=()=>{s&&e(ve.STUDIO_EXPENSE_ORDER_EDIT.replace(":id",s.id))},I=async()=>{if(s){u(!0);try{await r.expenseOrderApi.submitExpenseOrder(s.id),await S()}catch(A){x(A.message||"Failed to submit expense order")}finally{u(!1)}}},T=async()=>{if(s){u(!0);try{await r.expenseOrderApi.cancelExpenseOrder(s.id,y),await S(),m(!1),b("")}catch(A){x(A.message||"Failed to cancel expense order")}finally{u(!1)}}};if(a)return t.jsx(C,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:t.jsx(Wn,{})});if(h||!s)return t.jsxs(C,{sx:{p:3},children:[t.jsx(ct,{severity:"error",children:h||"Expense order not found"}),t.jsx(xe,{startIcon:t.jsx($s,{}),onClick:D,sx:{mt:2},children:"Back to Expense Orders"})]});const _=s.status===Ke.DRAFT,R=s.status===Ke.DRAFT,O=[Ke.DRAFT,Ke.SUBMITTED].includes(s.status);return t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(xe,{startIcon:t.jsx($s,{}),onClick:D,sx:{mr:2},children:"Back"}),t.jsx(v,{variant:"h4",component:"h1",sx:{fontWeight:600,flex:1},children:"Expense Order Details"}),t.jsx(Mp,{status:s.status})]}),h&&t.jsx(ct,{severity:"error",sx:{mb:3},children:h}),t.jsxs($,{container:!0,spacing:3,children:[t.jsxs($,{item:!0,xs:12,md:8,children:[t.jsxs(ot,{sx:{p:3,mb:3},children:[t.jsx(v,{variant:"h5",sx:{mb:2,fontWeight:600},children:s.title}),t.jsx(v,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:s.description}),t.jsx(Lt,{sx:{my:3}}),t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Channel"}),t.jsx(v,{variant:"body1",sx:{fontWeight:500},children:s.channel.name})]}),t.jsxs($,{item:!0,xs:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Expense Type"}),t.jsx(v,{variant:"body1",sx:{fontWeight:500},children:s.type.name})]}),t.jsxs($,{item:!0,xs:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Amount"}),t.jsx(v,{variant:"h6",sx:{fontWeight:700,color:"primary.main"},children:j(s.amount,s.currency)})]}),t.jsxs($,{item:!0,xs:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(v,{variant:"body1",children:sp(new Date(s.createdAt),"PPP")})]})]}),s.receiptUrl&&t.jsxs(t.Fragment,{children:[t.jsx(Lt,{sx:{my:3}}),t.jsxs(C,{children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Receipt"}),t.jsxs(Yc,{href:s.receiptUrl,target:"_blank",rel:"noopener noreferrer",sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Fs,{fontSize:"small"}),"View Receipt"]})]})]}),s.notes&&t.jsxs(t.Fragment,{children:[t.jsx(Lt,{sx:{my:3}}),t.jsxs(C,{children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Notes"}),t.jsx(v,{variant:"body1",sx:{fontStyle:"italic"},children:s.notes})]})]})]}),t.jsxs(ot,{sx:{p:3},children:[t.jsx(v,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Actions"}),t.jsxs(C,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[_&&t.jsx(xe,{variant:"outlined",startIcon:t.jsx(hs,{}),onClick:w,disabled:d,children:"Edit"}),R&&t.jsx(xe,{variant:"contained",startIcon:t.jsx(Gc,{}),onClick:I,disabled:d,children:"Submit for Approval"}),O&&t.jsx(xe,{variant:"outlined",color:"error",startIcon:t.jsx(Ss,{}),onClick:()=>m(!0),disabled:d,children:"Cancel"})]})]})]}),t.jsxs($,{item:!0,xs:12,md:4,children:[t.jsxs(ot,{sx:{p:3,mb:3},children:[t.jsx(v,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Timeline"}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",gap:2},children:[t.jsxs(C,{children:[t.jsx(v,{variant:"body2",sx:{fontWeight:500},children:"Created"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:qr(new Date(s.createdAt),{addSuffix:!0})})]}),s.submittedAt&&t.jsxs(C,{children:[t.jsx(v,{variant:"body2",sx:{fontWeight:500},children:"Submitted"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:qr(new Date(s.submittedAt),{addSuffix:!0})})]}),s.approvedAt&&t.jsxs(C,{children:[t.jsx(v,{variant:"body2",sx:{fontWeight:500},children:s.status===Ke.APPROVED?"Approved":"Reviewed"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:qr(new Date(s.approvedAt),{addSuffix:!0})}),s.approver&&t.jsxs(v,{variant:"caption",display:"block",color:"text.secondary",children:["by ",s.approver.displayName]})]}),s.paidAt&&t.jsxs(C,{children:[t.jsx(v,{variant:"body2",sx:{fontWeight:500},children:"Paid"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:qr(new Date(s.paidAt),{addSuffix:!0})}),s.paymentReference&&t.jsxs(v,{variant:"caption",display:"block",color:"text.secondary",children:["Ref: ",s.paymentReference]})]})]})]}),s.rejectionReason&&t.jsxs(ot,{sx:{p:3,bgcolor:"error.lighter"},children:[t.jsx(v,{variant:"h6",sx:{mb:1,fontWeight:600,color:"error.main"},children:"Rejection Reason"}),t.jsx(v,{variant:"body2",color:"error.main",children:s.rejectionReason})]})]})]}),t.jsxs(en,{open:p,onClose:()=>m(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(sn,{children:"Cancel Expense Order"}),t.jsxs(tn,{children:[t.jsx(v,{variant:"body2",sx:{mb:2},children:"Are you sure you want to cancel this expense order? This action cannot be undone."}),t.jsx(rt,{fullWidth:!0,multiline:!0,rows:3,label:"Reason for cancellation (optional)",value:y,onChange:A=>b(A.target.value),placeholder:"Provide a reason for cancelling this expense order..."})]}),t.jsxs(nn,{children:[t.jsx(xe,{onClick:()=>m(!1),children:"Keep Order"}),t.jsx(xe,{onClick:T,color:"error",variant:"contained",disabled:d,children:"Cancel Order"})]})]})]})},s0=()=>{const[e,n]=g.useState(null),[r,s]=g.useState(!0),[o,a]=g.useState(null),c=Ct(),{api:d}=Xe(),{execute:u}=nt();g.useEffect(()=>{h()},[]);const h=async()=>{var b,S;s(!0),a(null);const[m,y]=await Promise.all([u(()=>d.subscriptionApi.getSubscriptionAnalytics({period:"30d"}),{showErrorToast:!0}),u(()=>d.subscriptionApi.getRevenueMetrics({period:"30d"}),{showErrorToast:!0})]);if(m&&y){let j=0;if((S=(b=y.metrics)==null?void 0:b[0])!=null&&S.channels){const w=y.metrics[0].channels;for(const I in w){const T=w[I];j+=T.revenue||0}}const D={totalUsers:12543,totalChannels:1247,totalSubscriptions:m.total_subscriptions,monthlyRevenue:j,activeSubscriptions:m.active_subscriptions,newUsersThisMonth:342};n(D)}s(!1)},x=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(m/100),p=[{title:"News Management",description:"Manage news articles and moderate content",icon:t.jsx(as,{sx:{fontSize:40}}),path:ve.ADMIN_NEWS,color:"#1976d2"},{title:"Poll Management",description:"Oversee polls and voting analytics",icon:t.jsx(as,{sx:{fontSize:40}}),path:ve.ADMIN_POLLS,color:"#7b1fa2"},{title:"User Management",description:"Manage users, roles, and permissions",icon:t.jsx(lo,{sx:{fontSize:40}}),path:ve.ADMIN_USERS,color:"#388e3c"},{title:"Channel Management",description:"Oversee channels and content moderation",icon:t.jsx(pc,{sx:{fontSize:40}}),path:ve.ADMIN_CHANNELS,color:"#f57c00"},{title:"Expense Orders",description:"Review and approve expense claims",icon:t.jsx(as,{sx:{fontSize:40}}),path:ve.ADMIN_EXPENSE_ORDERS,color:"#d32f2f"},{title:"Payout Management",description:"Process payouts and financial transactions",icon:t.jsx(as,{sx:{fontSize:40}}),path:ve.ADMIN_PAYOUTS,color:"#2e7d32"},{title:"Tag Management",description:"Moderate tags and manage taxonomy",icon:t.jsx(as,{sx:{fontSize:40}}),path:ve.ADMIN_TAGS,color:"#795548"},{title:"Subscription Management",description:"Monitor subscriptions and billing",icon:t.jsx(wi,{sx:{fontSize:40}}),path:ve.ADMIN_SUBSCRIPTIONS,color:"#ff5722"},{title:"Analytics",description:"Platform analytics and insights",icon:t.jsx(as,{sx:{fontSize:40}}),path:ve.ADMIN_ANALYTICS,color:"#9c27b0"},{title:"Settings",description:"Platform configuration and settings",icon:t.jsx(ac,{sx:{fontSize:40}}),path:ve.ADMIN_SETTINGS,color:"#5d4037"}];return t.jsxs(It,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(a0,{sx:{fontSize:32,mr:2}}),t.jsx(v,{variant:"h4",component:"h1",children:"Admin Dashboard"})]}),o&&t.jsx(ct,{severity:"error",sx:{mb:3},children:o}),t.jsxs($,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx($,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(KT,{sx:{fontSize:24,mr:1,color:"#1976d2"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Total Users"})]}),t.jsx(v,{variant:"h4",children:r?t.jsx(ce,{width:80}):e==null?void 0:e.totalUsers.toLocaleString()}),t.jsx(v,{variant:"body2",color:"textSecondary",children:r?t.jsx(ce,{width:120}):`+${e==null?void 0:e.newUsersThisMonth} this month`})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(pc,{sx:{fontSize:24,mr:1,color:"#388e3c"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Total Channels"})]}),t.jsx(v,{variant:"h4",children:r?t.jsx(ce,{width:80}):e==null?void 0:e.totalChannels.toLocaleString()})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(wi,{sx:{fontSize:24,mr:1,color:"#f57c00"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Active Subscriptions"})]}),t.jsx(v,{variant:"h4",children:r?t.jsx(ce,{width:80}):e==null?void 0:e.activeSubscriptions.toLocaleString()}),t.jsx(v,{variant:"body2",color:"textSecondary",children:r?t.jsx(ce,{width:120}):`${e==null?void 0:e.totalSubscriptions} total`})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Ws,{sx:{fontSize:24,mr:1,color:"#7b1fa2"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Monthly Revenue"})]}),t.jsx(v,{variant:"h4",children:r?t.jsx(ce,{width:100}):x((e==null?void 0:e.monthlyRevenue)||0)})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(us,{sx:{fontSize:24,mr:1,color:"#d32f2f"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Growth Rate"})]}),t.jsx(v,{variant:"h4",children:r?t.jsx(ce,{width:60}):"+12.5%"}),t.jsx(v,{variant:"body2",color:"textSecondary",children:"vs last month"})]})})})]}),t.jsx(v,{variant:"h5",gutterBottom:!0,sx:{mb:3},children:"Administration"}),t.jsx($,{container:!0,spacing:3,children:p.map(m=>t.jsx($,{item:!0,xs:12,sm:6,md:4,children:t.jsxs(Ne,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[t.jsxs(Fe,{sx:{flexGrow:1},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(C,{sx:{color:m.color,mr:2},children:m.icon}),t.jsx(v,{variant:"h6",component:"h2",children:m.title})]}),t.jsx(v,{variant:"body2",color:"textSecondary",children:m.description})]}),t.jsx(yh,{children:t.jsx(xe,{size:"small",variant:"contained",onClick:()=>c(m.path),sx:{backgroundColor:m.color},children:"Manage"})})]})},m.title))})]})},QH=()=>t.jsxs(It,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(lo,{sx:{fontSize:32,mr:2}}),t.jsx(v,{variant:"h4",component:"h1",children:"User Management"})]}),t.jsx(Ne,{children:t.jsxs(Fe,{sx:{textAlign:"center",py:8},children:[t.jsx(lo,{sx:{fontSize:64,color:"text.secondary",mb:2}}),t.jsx(v,{variant:"h6",gutterBottom:!0,children:"User Management Coming Soon"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"This section will include user management, roles, permissions, and user analytics."})]})})]}),ZH=()=>t.jsxs(It,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(pc,{sx:{fontSize:32,mr:2}}),t.jsx(v,{variant:"h4",component:"h1",children:"Channel Management"})]}),t.jsx(Ne,{children:t.jsxs(Fe,{sx:{textAlign:"center",py:8},children:[t.jsx(pc,{sx:{fontSize:64,color:"text.secondary",mb:2}}),t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Channel Management Coming Soon"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"This section will include channel moderation, content management, and channel analytics."})]})})]}),e7=()=>{const[e,n]=g.useState([]),[r,s]=g.useState(null),[o,a]=g.useState(!0),[c,d]=g.useState(!1),[u,h]=g.useState(null),[x,p]=g.useState(null),[m,y]=g.useState(""),[b,S]=g.useState({}),[j]=g.useState(Be),[D,w]=g.useState([]),[I,T]=g.useState(!1),[_,R]=g.useState("cancel"),[O,A]=g.useState(""),{api:L}=Xe(),{execute:W}=nt();g.useEffect(()=>{H(),N()},[b,j]);const H=async()=>{a(!0),h(null);const V=await W(()=>L.subscriptionApi.getAllSubscriptions(j,b),{showErrorToast:!0});V&&n(V.items||[]),a(!1)},N=async()=>{d(!0);const V=await W(()=>L.subscriptionApi.getSubscriptionAnalytics({period:"30d"}),{showErrorToast:!1});V&&s(V),d(!1)},se=()=>{m.trim()?S({...b}):H()},Z=(V,re)=>{S({...b,[V]:re||void 0})},G=async()=>{if(D.length===0)return;a(!0);const V={action:_,subscription_ids:D,reason:O||void 0},re=await W(()=>L.subscriptionApi.bulkUpdateSubscriptions(V),{showSuccessMessage:!0,successMessage:"Successfully updated subscriptions"});re&&(re.failed>0&&h(`Failed to update ${re.failed} subscriptions`),T(!1),w([]),A(""),await H()),a(!1)},q=async()=>{const V=await W(()=>L.subscriptionApi.exportSubscriptions(b,"csv"),{showErrorToast:!0});if(V){const re=window.URL.createObjectURL(V),Ee=document.createElement("a");Ee.href=re,Ee.download=`subscriptions-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(Ee),Ee.click(),window.URL.revokeObjectURL(re),document.body.removeChild(Ee)}},K=V=>Rc(V),X=V=>new Date(V).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),ae=(V,re)=>new Intl.NumberFormat("en-US",{style:"currency",currency:re.toUpperCase()}).format(V/100);return t.jsxs(It,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsx(v,{variant:"h4",gutterBottom:!0,children:"Subscription Management"}),r&&t.jsxs($,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Total Subscriptions"}),t.jsx(v,{variant:"h4",children:c?t.jsx(ce,{width:60}):r.total_subscriptions.toLocaleString()})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Active Subscriptions"}),t.jsx(v,{variant:"h4",children:c?t.jsx(ce,{width:60}):r.active_subscriptions.toLocaleString()})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"New This Month"}),t.jsx(v,{variant:"h4",children:c?t.jsx(ce,{width:60}):r.new_subscriptions.toLocaleString()})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Churn Rate"}),t.jsx(v,{variant:"h4",children:c?t.jsx(ce,{width:60}):`${(r.churn_rate*100).toFixed(1)}%`})]})})})]}),t.jsx(Ne,{sx:{mb:3},children:t.jsx(Fe,{children:t.jsxs(ye,{direction:"row",spacing:2,alignItems:"center",flexWrap:"wrap",children:[t.jsx(rt,{placeholder:"Search subscriptions...",value:m,onChange:V=>y(V.target.value),onKeyPress:V=>V.key==="Enter"&&se(),InputProps:{startAdornment:t.jsx(Ua,{sx:{mr:1,color:"text.secondary"}})},sx:{minWidth:250}}),t.jsxs(bt,{sx:{minWidth:120},children:[t.jsx(At,{children:"Status"}),t.jsxs(wt,{value:b.status||"",onChange:V=>Z("status",V.target.value),label:"Status",children:[t.jsx(Ce,{value:"",children:"All"}),t.jsx(Ce,{value:"active",children:"Active"}),t.jsx(Ce,{value:"canceled",children:"Canceled"}),t.jsx(Ce,{value:"expired",children:"Expired"}),t.jsx(Ce,{value:"suspended",children:"Suspended"})]})]}),t.jsx(xe,{variant:"outlined",startIcon:t.jsx(h0,{}),onClick:()=>S({}),children:"Clear Filters"}),t.jsx(xe,{variant:"outlined",startIcon:t.jsx(b0,{}),onClick:q,children:"Export"}),D.length>0&&t.jsxs(xe,{variant:"contained",startIcon:t.jsx(hs,{}),onClick:()=>T(!0),children:["Bulk Actions (",D.length,")"]})]})})}),u&&t.jsx(ct,{severity:"error",sx:{mb:2},onClose:()=>h(null),children:u}),x&&t.jsx(ct,{severity:"success",sx:{mb:2},onClose:()=>p(null),children:x}),t.jsx(Ne,{children:t.jsx(of,{component:ot,children:t.jsxs(af,{children:[t.jsx(lf,{children:t.jsxs(so,{children:[t.jsx(mt,{padding:"checkbox",children:t.jsx(xc,{indeterminate:D.length>0&&D.length<e.length,checked:e.length>0&&D.length===e.length,onChange:V=>{V.target.checked?w(e.map(re=>re.id)):w([])}})}),t.jsx(mt,{children:"User"}),t.jsx(mt,{children:"Channel"}),t.jsx(mt,{children:"Tier"}),t.jsx(mt,{children:"Status"}),t.jsx(mt,{children:"Started"}),t.jsx(mt,{children:"Expires"}),t.jsx(mt,{children:"Actions"})]})}),t.jsx(cf,{children:o?[...Array(5)].map((V,re)=>t.jsxs(so,{children:[t.jsx(mt,{children:t.jsx(ce,{})}),t.jsx(mt,{children:t.jsx(ce,{})}),t.jsx(mt,{children:t.jsx(ce,{})}),t.jsx(mt,{children:t.jsx(ce,{})}),t.jsx(mt,{children:t.jsx(ce,{})}),t.jsx(mt,{children:t.jsx(ce,{})}),t.jsx(mt,{children:t.jsx(ce,{})}),t.jsx(mt,{children:t.jsx(ce,{})})]},re)):e.map(V=>t.jsxs(so,{children:[t.jsx(mt,{padding:"checkbox",children:t.jsx(xc,{checked:D.includes(V.id),onChange:re=>{re.target.checked?w([...D,V.id]):w(D.filter(Ee=>Ee!==V.id))}})}),t.jsx(mt,{children:t.jsxs(C,{children:[t.jsx(v,{variant:"body2",fontWeight:"medium",children:V.user.displayName}),t.jsx(v,{variant:"caption",color:"text.secondary",children:V.user.email})]})}),t.jsx(mt,{children:t.jsx(v,{variant:"body2",children:V.channel.name})}),t.jsx(mt,{children:t.jsxs(C,{children:[t.jsx(v,{variant:"body2",children:V.tier.name}),t.jsx(v,{variant:"caption",color:"text.secondary",children:ae(V.tier.price,V.tier.currency)})]})}),t.jsx(mt,{children:t.jsx(Ye,{label:Ac(V.statusId),color:K(V.statusId),size:"small"})}),t.jsx(mt,{children:t.jsx(v,{variant:"body2",children:X(V.subscribedAt)})}),t.jsx(mt,{children:t.jsx(v,{variant:"body2",children:V.expiresAt?X(V.expiresAt):"Never"})}),t.jsx(mt,{children:t.jsx(xe,{size:"small",onClick:()=>{console.log("View subscription:",V.id)},children:"View"})})]},V.id))})]})})}),t.jsxs(en,{open:I,onClose:()=>T(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(sn,{children:"Bulk Action"}),t.jsxs(tn,{children:[t.jsxs(v,{gutterBottom:!0,children:["You are about to perform a bulk action on ",D.length," subscription(s)."]}),t.jsxs(bt,{fullWidth:!0,sx:{mb:2},children:[t.jsx(At,{children:"Action"}),t.jsxs(wt,{value:_,onChange:V=>R(V.target.value),label:"Action",children:[t.jsx(Ce,{value:"cancel",children:"Cancel Subscriptions"}),t.jsx(Ce,{value:"activate",children:"Activate Subscriptions"}),t.jsx(Ce,{value:"suspend",children:"Suspend Subscriptions"})]})]}),t.jsx(rt,{fullWidth:!0,label:"Reason (optional)",value:O,onChange:V=>A(V.target.value),multiline:!0,rows:3})]}),t.jsxs(nn,{children:[t.jsx(xe,{onClick:()=>T(!1),children:"Cancel"}),t.jsx(xe,{onClick:G,variant:"contained",color:"primary",children:"Confirm"})]})]})]})},t7=()=>{const[e,n]=g.useState(null),[r,s]=g.useState(!0),[o,a]=g.useState(null),[c,d]=g.useState("30d"),{api:u}=Xe(),{execute:h}=nt();g.useEffect(()=>{x()},[c]);const x=async()=>{s(!0),a(null);const j=await h(()=>u.subscriptionApi.getSubscriptionAnalytics({period:c}),{showErrorToast:!0});j&&n(j),s(!1)},p=j=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(j/100),m=j=>`${(j*100).toFixed(1)}%`,y=[{month:"Jan",new:120,canceled:45,active:1200},{month:"Feb",new:150,canceled:38,active:1312},{month:"Mar",new:180,canceled:52,active:1440},{month:"Apr",new:200,canceled:48,active:1592},{month:"May",new:165,canceled:55,active:1702},{month:"Jun",new:190,canceled:42,active:1850}],b=[{name:"Basic",value:35,revenue:15e3},{name:"Premium",value:45,revenue:35e3},{name:"Pro",value:20,revenue:25e3}],S=["#0088FE","#00C49F","#FFBB28","#FF8042"];return t.jsxs(It,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(as,{sx:{fontSize:32,mr:2}}),t.jsx(v,{variant:"h4",component:"h1",children:"Subscription Analytics"})]}),t.jsxs(bt,{sx:{minWidth:120},children:[t.jsx(At,{children:"Period"}),t.jsxs(wt,{value:c,onChange:j=>d(j.target.value),label:"Period",children:[t.jsx(Ce,{value:"7d",children:"Last 7 days"}),t.jsx(Ce,{value:"30d",children:"Last 30 days"}),t.jsx(Ce,{value:"90d",children:"Last 90 days"}),t.jsx(Ce,{value:"1y",children:"Last year"})]})]})]}),o&&t.jsx(ct,{severity:"error",sx:{mb:3},children:o}),t.jsxs($,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(lo,{sx:{fontSize:24,mr:1,color:"#1976d2"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Total Subscriptions"})]}),t.jsx(v,{variant:"h4",children:r?t.jsx(ce,{width:80}):e==null?void 0:e.total_subscriptions.toLocaleString()}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",mt:1},children:[t.jsx(us,{sx:{fontSize:16,color:"success.main",mr:.5}}),t.jsx(v,{variant:"body2",color:"success.main",children:"+12.5% vs last period"})]})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(us,{sx:{fontSize:24,mr:1,color:"#388e3c"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"New Subscriptions"})]}),t.jsx(v,{variant:"h4",children:r?t.jsx(ce,{width:80}):e==null?void 0:e.new_subscriptions.toLocaleString()}),t.jsx(v,{variant:"body2",color:"textSecondary",children:"This period"})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Ss,{sx:{fontSize:24,mr:1,color:"#f57c00"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Churn Rate"})]}),t.jsx(v,{variant:"h4",children:r?t.jsx(ce,{width:60}):m((e==null?void 0:e.churn_rate)||0)}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",mt:1},children:[t.jsx(l0,{sx:{fontSize:16,color:"success.main",mr:.5}}),t.jsx(v,{variant:"body2",color:"success.main",children:"-2.1% vs last period"})]})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Ws,{sx:{fontSize:24,mr:1,color:"#7b1fa2"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Total Revenue"})]}),t.jsx(v,{variant:"h4",children:r?t.jsx(ce,{width:100}):p(Object.values((e==null?void 0:e.revenue_by_currency)||{}).reduce((j,D)=>j+D,0))}),t.jsx(v,{variant:"body2",color:"textSecondary",children:"This period"})]})})})]}),t.jsxs($,{container:!0,spacing:3,children:[t.jsx($,{item:!0,xs:12,lg:8,children:t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Subscription Trends"}),t.jsx(C,{sx:{width:"100%",height:400},children:t.jsx(va,{children:t.jsxs(j0,{data:y,children:[t.jsx(mc,{strokeDasharray:"3 3"}),t.jsx(gc,{dataKey:"month"}),t.jsx(bc,{}),t.jsx(ja,{}),t.jsx(yc,{}),t.jsx(pi,{type:"monotone",dataKey:"new",stroke:"#8884d8",strokeWidth:2,name:"New Subscriptions"}),t.jsx(pi,{type:"monotone",dataKey:"canceled",stroke:"#82ca9d",strokeWidth:2,name:"Canceled"}),t.jsx(pi,{type:"monotone",dataKey:"active",stroke:"#ffc658",strokeWidth:2,name:"Active Total"})]})})})]})})}),t.jsx($,{item:!0,xs:12,lg:4,children:t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Revenue by Tier"}),t.jsx(C,{sx:{width:"100%",height:400},children:t.jsx(va,{children:t.jsxs(OA,{children:[t.jsx(kA,{data:b,cx:"50%",cy:"50%",labelLine:!1,label:({name:j,percent:D})=>`${j} ${(D*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:b.map((j,D)=>t.jsx(MA,{fill:S[D%S.length]},`cell-${D}`))}),t.jsx(ja,{formatter:(j,D)=>{var w;return[p(((w=b.find(I=>I.name===D))==null?void 0:w.revenue)||0),"Revenue"]}})]})})})]})})}),t.jsx($,{item:!0,xs:12,children:t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Monthly Revenue Breakdown"}),t.jsx(C,{sx:{width:"100%",height:400},children:t.jsx(va,{children:t.jsxs(S0,{data:y,children:[t.jsx(mc,{strokeDasharray:"3 3"}),t.jsx(gc,{dataKey:"month"}),t.jsx(bc,{}),t.jsx(ja,{formatter:j=>[p(Number(j)*100),"Revenue"]}),t.jsx(yc,{}),t.jsx(vc,{dataKey:"new",fill:"#8884d8",name:"New Subscriptions Revenue"}),t.jsx(vc,{dataKey:"active",fill:"#82ca9d",name:"Recurring Revenue"})]})})})]})})})]})]})},n7=()=>{const[e,n]=g.useState(!0),[r,s]=g.useState(null),[o,a]=g.useState("30d");g.useEffect(()=>{c()},[o]);const c=async()=>{try{n(!0),s(null),await new Promise(p=>setTimeout(p,1e3))}catch(p){s(p.message||"Failed to load revenue data")}finally{n(!1)}},d=p=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(p),u={totalRevenue:125e3,monthlyRecurring:98e3,oneTimePayments:27e3,averageRevenuePerUser:45.5,growthRate:12.5},h=[{month:"Jan",revenue:85e3,subscriptions:78e3,oneTime:7e3},{month:"Feb",revenue:92e3,subscriptions:84e3,oneTime:8e3},{month:"Mar",revenue:98e3,subscriptions:89e3,oneTime:9e3},{month:"Apr",revenue:105e3,subscriptions:95e3,oneTime:1e4},{month:"May",revenue:115e3,subscriptions:102e3,oneTime:13e3},{month:"Jun",revenue:125e3,subscriptions:112e3,oneTime:13e3}],x=[{name:"Tech News Daily",revenue:15e3,subscribers:1200},{name:"Global Politics",revenue:12500,subscribers:980},{name:"Science Weekly",revenue:11e3,subscribers:850},{name:"Business Insider",revenue:9500,subscribers:720},{name:"Sports Central",revenue:8200,subscribers:650}];return t.jsxs(It,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(Ws,{sx:{fontSize:32,mr:2}}),t.jsx(v,{variant:"h4",component:"h1",children:"Revenue Tracking"})]}),t.jsxs(bt,{sx:{minWidth:120},children:[t.jsx(At,{children:"Period"}),t.jsxs(wt,{value:o,onChange:p=>a(p.target.value),label:"Period",children:[t.jsx(Ce,{value:"7d",children:"Last 7 days"}),t.jsx(Ce,{value:"30d",children:"Last 30 days"}),t.jsx(Ce,{value:"90d",children:"Last 90 days"}),t.jsx(Ce,{value:"1y",children:"Last year"})]})]})]}),r&&t.jsx(ct,{severity:"error",sx:{mb:3},children:r}),t.jsxs($,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Ws,{sx:{fontSize:24,mr:1,color:"#1976d2"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Total Revenue"})]}),t.jsx(v,{variant:"h4",children:e?t.jsx(ce,{width:100}):d(u.totalRevenue)}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",mt:1},children:[t.jsx(us,{sx:{fontSize:16,color:"success.main",mr:.5}}),t.jsxs(v,{variant:"body2",color:"success.main",children:["+",u.growthRate,"% vs last period"]})]})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(bh,{sx:{fontSize:24,mr:1,color:"#388e3c"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Monthly Recurring"})]}),t.jsx(v,{variant:"h4",children:e?t.jsx(ce,{width:100}):d(u.monthlyRecurring)}),t.jsxs(v,{variant:"body2",color:"textSecondary",children:[(u.monthlyRecurring/u.totalRevenue*100).toFixed(1),"% of total"]})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(d0,{sx:{fontSize:24,mr:1,color:"#f57c00"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"One-time Payments"})]}),t.jsx(v,{variant:"h4",children:e?t.jsx(ce,{width:100}):d(u.oneTimePayments)}),t.jsxs(v,{variant:"body2",color:"textSecondary",children:[(u.oneTimePayments/u.totalRevenue*100).toFixed(1),"% of total"]})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(us,{sx:{fontSize:24,mr:1,color:"#7b1fa2"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"ARPU"})]}),t.jsx(v,{variant:"h4",children:e?t.jsx(ce,{width:80}):d(u.averageRevenuePerUser)}),t.jsx(v,{variant:"body2",color:"textSecondary",children:"Average Revenue Per User"})]})})})]}),t.jsxs($,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx($,{item:!0,xs:12,lg:8,children:t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Monthly Revenue Trend"}),t.jsx(C,{sx:{width:"100%",height:400},children:t.jsx(va,{children:t.jsxs(j0,{data:h,children:[t.jsx(mc,{strokeDasharray:"3 3"}),t.jsx(gc,{dataKey:"month"}),t.jsx(bc,{tickFormatter:p=>`$${(p/1e3).toFixed(0)}k`}),t.jsx(ja,{formatter:p=>[d(Number(p)),""]}),t.jsx(yc,{}),t.jsx(pi,{type:"monotone",dataKey:"revenue",stroke:"#1976d2",strokeWidth:3,name:"Total Revenue"}),t.jsx(pi,{type:"monotone",dataKey:"subscriptions",stroke:"#388e3c",strokeWidth:2,name:"Subscription Revenue"}),t.jsx(pi,{type:"monotone",dataKey:"oneTime",stroke:"#f57c00",strokeWidth:2,name:"One-time Payments"})]})})})]})})}),t.jsx($,{item:!0,xs:12,lg:4,children:t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Revenue Breakdown"}),t.jsx(C,{sx:{width:"100%",height:400},children:t.jsx(va,{children:t.jsxs(S0,{data:h.slice(-3),children:[t.jsx(mc,{strokeDasharray:"3 3"}),t.jsx(gc,{dataKey:"month"}),t.jsx(bc,{tickFormatter:p=>`$${(p/1e3).toFixed(0)}k`}),t.jsx(ja,{formatter:p=>[d(Number(p)),""]}),t.jsx(yc,{}),t.jsx(vc,{dataKey:"subscriptions",fill:"#388e3c",name:"Subscriptions"}),t.jsx(vc,{dataKey:"oneTime",fill:"#f57c00",name:"One-time"})]})})})]})})})]}),t.jsx(Ne,{children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Top Channels by Revenue"}),t.jsx(of,{component:ot,variant:"outlined",children:t.jsxs(af,{children:[t.jsx(lf,{children:t.jsxs(so,{children:[t.jsx(mt,{children:"Channel Name"}),t.jsx(mt,{align:"right",children:"Revenue"}),t.jsx(mt,{align:"right",children:"Subscribers"}),t.jsx(mt,{align:"right",children:"ARPU"})]})}),t.jsx(cf,{children:x.map((p,m)=>t.jsxs(so,{children:[t.jsx(mt,{component:"th",scope:"row",children:t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(C,{sx:{width:24,height:24,borderRadius:"50%",backgroundColor:m===0?"#ffd700":m===1?"#c0c0c0":m===2?"#cd7f32":"#e0e0e0",display:"flex",alignItems:"center",justifyContent:"center",mr:2,fontSize:"12px",fontWeight:"bold"},children:m+1}),p.name]})}),t.jsx(mt,{align:"right",children:d(p.revenue)}),t.jsx(mt,{align:"right",children:p.subscribers.toLocaleString()}),t.jsx(mt,{align:"right",children:d(p.revenue/p.subscribers)})]},p.name))})]})})]})})]})},r7=()=>t.jsxs(It,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(as,{sx:{fontSize:32,mr:2}}),t.jsx(v,{variant:"h4",component:"h1",children:"Platform Analytics"})]}),t.jsx(Ne,{children:t.jsxs(Fe,{sx:{textAlign:"center",py:8},children:[t.jsx(as,{sx:{fontSize:64,color:"text.secondary",mb:2}}),t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Platform Analytics Coming Soon"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"This section will include comprehensive platform analytics, user behavior, and performance metrics."})]})})]}),s7=()=>t.jsxs(It,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(ac,{sx:{fontSize:32,mr:2}}),t.jsx(v,{variant:"h4",component:"h1",children:"Admin Settings"})]}),t.jsx(Ne,{children:t.jsxs(Fe,{sx:{textAlign:"center",py:8},children:[t.jsx(ac,{sx:{fontSize:64,color:"text.secondary",mb:2}}),t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Admin Settings Coming Soon"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"This section will include platform configuration, system settings, and administrative preferences."})]})})]}),yo=({title:e,columns:n,rows:r,totalCount:s,loading:o=!1,error:a=null,selected:c,onSelectionChange:d,onEdit:u,onDelete:h,onAdd:x,onRefresh:p,onSearch:m,onSort:y,onPageChange:b,onRowsPerPageChange:S,page:j=0,rowsPerPage:D=25,searchQuery:w="",sortColumn:I="",sortDirection:T="asc",actions:_,filters:R,rowActions:O})=>{const[A,L]=g.useState(w),[W,H]=g.useState(!1),[N,se]=g.useState(null),[Z,G]=g.useState(null),q=de=>{if(de.target.checked){const te=r.map(z=>z.id);d(te)}else d([])},K=(de,te)=>{const z=c.indexOf(te);let De=[];z===-1?De=De.concat(c,te):z===0?De=De.concat(c.slice(1)):z===c.length-1?De=De.concat(c.slice(0,-1)):z>0&&(De=De.concat(c.slice(0,z),c.slice(z+1))),d(De)},X=de=>{de.key==="Enter"&&m&&m(A)},ae=de=>{L(de.target.value),de.target.value===""&&m&&m("")},V=de=>{if(!y)return;y(de,I===de&&T==="asc"?"desc":"asc")},re=(de,te)=>{se(de.currentTarget),G(te)},Ee=()=>{se(null),G(null)},be=()=>{const de=c.length>0?r.filter(te=>c.includes(te.id)):Z?[Z]:[];de.length>0&&h&&(h(de),H(!1),Ee(),d([]))},_e=de=>c.indexOf(de)!==-1;return t.jsxs(C,{children:[t.jsxs(ot,{sx:{width:"100%",mb:2},children:[t.jsxs(Ls,{sx:{pl:{sm:2},pr:{xs:1,sm:1},...c.length>0&&{bgcolor:"primary.main",color:"primary.contrastText"}},children:[c.length>0?t.jsxs(v,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[c.length," selected"]}):t.jsx(v,{sx:{flex:"1 1 100%"},variant:"h6",id:"tableTitle",component:"div",children:e}),c.length>0?t.jsx(ye,{direction:"row",spacing:1,children:h&&t.jsx(jt,{title:"Delete",children:t.jsx(Le,{color:"inherit",onClick:()=>H(!0),children:t.jsx(hc,{})})})}):t.jsxs(ye,{direction:"row",spacing:1,alignItems:"center",children:[m&&t.jsx(rt,{size:"small",placeholder:`Search ${e.toLowerCase()}...`,value:A,onChange:ae,onKeyPress:X,InputProps:{startAdornment:t.jsx(Qr,{position:"start",children:t.jsx(Ua,{})})},sx:{minWidth:250}}),R,p&&t.jsx(jt,{title:"Refresh",children:t.jsx(Le,{onClick:p,children:t.jsx(f0,{})})}),x&&t.jsx(xe,{variant:"contained",startIcon:t.jsx(Fo,{}),onClick:x,sx:{whiteSpace:"nowrap"},children:"Add New"}),_]})]}),a&&t.jsx(ct,{severity:"error",sx:{m:2},children:a}),t.jsx(of,{children:t.jsxs(af,{stickyHeader:!0,"aria-labelledby":"tableTitle",children:[t.jsx(lf,{children:t.jsxs(so,{children:[t.jsx(mt,{padding:"checkbox",children:t.jsx(xc,{color:"primary",indeterminate:c.length>0&&c.length<r.length,checked:r.length>0&&c.length===r.length,onChange:q,inputProps:{"aria-label":"select all items"}})}),n.map(de=>t.jsx(mt,{align:de.align,style:{minWidth:de.minWidth},sortDirection:I===de.id?T:!1,children:de.sortable&&y?t.jsx(JT,{active:I===de.id,direction:I===de.id?T:"asc",onClick:()=>V(de.id),children:de.label}):de.label},de.id)),t.jsx(mt,{align:"right",children:"Actions"})]})}),t.jsx(cf,{children:o?Array.from(new Array(D)).map((de,te)=>t.jsxs(so,{children:[t.jsx(mt,{padding:"checkbox",children:t.jsx(ce,{variant:"rectangular",width:24,height:24})}),n.map(z=>t.jsx(mt,{children:t.jsx(ce,{variant:"text"})},z.id)),t.jsx(mt,{children:t.jsx(ce,{variant:"rectangular",width:40,height:24})})]},te)):r.map(de=>{const te=_e(de.id);return t.jsxs(so,{hover:!0,onClick:z=>K(z,de.id),role:"checkbox","aria-checked":te,tabIndex:-1,selected:te,sx:{cursor:"pointer"},children:[t.jsx(mt,{padding:"checkbox",children:t.jsx(xc,{color:"primary",checked:te,inputProps:{"aria-labelledby":`enhanced-table-checkbox-${de.id}`}})}),n.map(z=>{const De=de[z.id];return t.jsx(mt,{align:z.align,children:z.format?z.format(De,de):De},z.id)}),t.jsx(mt,{align:"right",children:t.jsx(ye,{direction:"row",spacing:1,justifyContent:"flex-end",children:O?O(de):t.jsxs(t.Fragment,{children:[u&&t.jsx(jt,{title:"Edit",children:t.jsx(Le,{size:"small",onClick:z=>{z.stopPropagation(),u(de)},children:t.jsx(hs,{fontSize:"small"})})}),t.jsx(Le,{size:"small",onClick:z=>{z.stopPropagation(),re(z,de)},children:t.jsx(sf,{fontSize:"small"})})]})})})]},de.id)})})]})}),t.jsx(XT,{rowsPerPageOptions:[10,25,50,100],component:"div",count:s,rowsPerPage:D,page:j,onPageChange:(de,te)=>b==null?void 0:b(te),onRowsPerPageChange:de=>S==null?void 0:S(parseInt(de.target.value,10))})]}),t.jsxs(uo,{anchorEl:N,open:!!N,onClose:Ee,children:[u&&Z&&t.jsxs(Ce,{onClick:()=>{u(Z),Ee()},children:[t.jsx(hs,{sx:{mr:1},fontSize:"small"}),"Edit"]}),h&&t.jsxs(Ce,{onClick:()=>H(!0),children:[t.jsx(hc,{sx:{mr:1},fontSize:"small"}),"Delete"]})]}),t.jsxs(en,{open:W,onClose:()=>H(!1),children:[t.jsx(sn,{children:"Confirm Delete"}),t.jsx(tn,{children:t.jsxs(v,{children:["Are you sure you want to delete ",c.length>0?`${c.length} items`:"this item","? This action cannot be undone."]})}),t.jsxs(nn,{children:[t.jsx(xe,{onClick:()=>H(!1),children:"Cancel"}),t.jsx(xe,{onClick:be,color:"error",variant:"contained",children:"Delete"})]})]})]})},o7=()=>{var Ee;const{api:e}=Xe(),{execute:n}=nt(),[r,s]=g.useState([]),[o,a]=g.useState(0),[c,d]=g.useState(!1),[u,h]=g.useState(null),[x,p]=g.useState([]),[m,y]=g.useState(!1),[b,S]=g.useState(null),[j,D]=g.useState(0),[w,I]=g.useState(25),[T,_]=g.useState(""),[R,O]=g.useState(""),[A,L]=g.useState("createdAt"),[W,H]=g.useState("desc"),N=async()=>{var be;d(!0),h(null);try{const _e={page:j+1,limit:w,search:T||void 0,status:R||void 0,sort:A,order:W},de=await n(()=>e.newsApi.getNews(_e),{showErrorToast:!1});de&&(s(de.items||[]),a(((be=de.metadata)==null?void 0:be.total)||0))}catch{h("Failed to fetch news")}finally{d(!1)}};g.useEffect(()=>{N()},[j,w,T,R,A,W]);const se=be=>{S(be),y(!0)},Z=async be=>{const _e=be.map(de=>de.id);try{await Promise.all(_e.map(de=>n(()=>e.newsApi.delete(de)))),p([]),N()}catch{h("Failed to delete news items")}},G=async(be,_e)=>{try{await n(()=>e.newsApi.update(be.id,{status:_e.toString()})),N()}catch{h("Failed to update news status")}},q=async be=>{var _e;if(b)try{const de={title:be.title,content:be.content,status:(_e=be.status)==null?void 0:_e.toString()};await n(()=>e.newsApi.update(b.id,de)),y(!1),S(null),N()}catch{h("Failed to update news")}},K=be=>{switch(be){case kn.PUBLISHED:return"success";case kn.DRAFT:return"default";case kn.PENDING_REVIEW:return"warning";case kn.REJECTED:return"error";case kn.ARCHIVED:return"secondary";default:return"default"}},X=[{id:"title",label:"Title",minWidth:200,sortable:!0,format:(be,_e)=>t.jsxs(C,{children:[t.jsx(v,{variant:"body2",fontWeight:"medium",noWrap:!0,children:be}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["ID: ",_e.id]})]})},{id:"channel",label:"Channel",minWidth:150,format:(be,_e)=>{var de,te,z,De;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(wn,{src:(de=_e.channel)==null?void 0:de.photoUrl,sx:{width:24,height:24},children:(z=(te=_e.channel)==null?void 0:te.name)==null?void 0:z[0]}),t.jsx(v,{variant:"body2",noWrap:!0,children:((De=_e.channel)==null?void 0:De.name)||"Unknown"})]})}},{id:"status",label:"Status",minWidth:120,sortable:!0,format:be=>t.jsx(Ye,{label:be,color:K(be),size:"small"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:be=>t.jsx(v,{variant:"body2",children:new Date(be).toLocaleDateString()})},{id:"updatedAt",label:"Updated",minWidth:120,sortable:!0,format:be=>t.jsx(v,{variant:"body2",children:new Date(be).toLocaleDateString()})},{id:"views",label:"Views",minWidth:80,align:"right",sortable:!0,format:be=>t.jsx(v,{variant:"body2",children:(be==null?void 0:be.toLocaleString())||"0"})}],ae=Object.entries(kn).map(([be,_e])=>({value:_e,label:be.replace(/_/g," ").toLowerCase().replace(/\b\w/g,de=>de.toUpperCase())})),V=t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(At,{children:"Status"}),t.jsxs(wt,{value:R,label:"Status",onChange:be=>O(be.target.value),children:[t.jsx(Ce,{value:"",children:"All Status"}),ae.map(be=>t.jsx(Ce,{value:be.value,children:be.label},be.value))]})]}),re=be=>t.jsxs(ye,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View",children:t.jsx(Le,{size:"small",onClick:_e=>{_e.stopPropagation(),window.open(ve.APP_NEWS_VIEW.replace(":id",be.id),"_blank")},children:t.jsx(ws,{fontSize:"small"})})}),t.jsx(jt,{title:"Edit",children:t.jsx(Le,{size:"small",onClick:_e=>{_e.stopPropagation(),se(be)},children:t.jsx(hs,{fontSize:"small"})})}),be.status===kn.PUBLISHED?t.jsx(jt,{title:"Unpublish",children:t.jsx(Le,{size:"small",onClick:_e=>{_e.stopPropagation(),G(be,kn.DRAFT)},children:t.jsx(QT,{fontSize:"small"})})}):t.jsx(jt,{title:"Publish",children:t.jsx(Le,{size:"small",onClick:_e=>{_e.stopPropagation(),G(be,kn.PUBLISHED)},children:t.jsx(ZT,{fontSize:"small"})})})]});return t.jsxs(C,{children:[t.jsx(yo,{title:"News Management",columns:X,rows:r,totalCount:o,loading:c,error:u,selected:x,onSelectionChange:p,onEdit:se,onDelete:Z,onRefresh:N,onSearch:_,onSort:(be,_e)=>{L(be),H(_e)},onPageChange:D,onRowsPerPageChange:I,page:j,rowsPerPage:w,searchQuery:T,sortColumn:A,sortDirection:W,filters:V,rowActions:re}),t.jsxs(en,{open:m,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(sn,{children:"Edit News"}),t.jsx(tn,{children:b&&t.jsxs(ye,{spacing:3,sx:{pt:1},children:[t.jsx(rt,{label:"Title",fullWidth:!0,defaultValue:b.title,onChange:be=>S({...b,title:be.target.value})}),t.jsx(rt,{label:"Content",fullWidth:!0,multiline:!0,rows:3,defaultValue:b.content,onChange:be=>S({...b,content:be.target.value})}),t.jsxs(bt,{fullWidth:!0,children:[t.jsx(At,{children:"Status"}),t.jsx(wt,{value:b.status,label:"Status",onChange:be=>S({...b,status:parseInt(be.target.value.toString())}),children:ae.map(be=>t.jsx(Ce,{value:be.value,children:be.label},be.value))})]}),t.jsxs(C,{children:[t.jsxs(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["News ID: ",b.id]}),t.jsxs(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Created: ",new Date(b.createdAt).toLocaleString()]}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Channel: ",(Ee=b.channel)==null?void 0:Ee.name]})]})]})}),t.jsxs(nn,{children:[t.jsx(xe,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(xe,{onClick:()=>q(b),variant:"contained",children:"Save Changes"})]})]})]})},i7=()=>{var de,te,z,De;const{api:e}=Xe(),{execute:n}=nt(),[r,s]=g.useState([]),[o,a]=g.useState(0),[c,d]=g.useState(!1),[u,h]=g.useState(null),[x,p]=g.useState([]),[m,y]=g.useState(!1),[b,S]=g.useState(null),[j,D]=g.useState(0),[w,I]=g.useState(25),[T,_]=g.useState(""),[R,O]=g.useState(""),[A,L]=g.useState(""),[W,H]=g.useState(""),[N,se]=g.useState("createdAt"),[Z,G]=g.useState("desc"),q=g.useCallback(async()=>{var oe;d(!0),h(null);try{const le={};T&&(le.search=T),R&&(le.status=R),A==="true"&&(le.trending=!0),W==="true"&&(le.funded=!0),le.sort=N,le.order=Z;const ie=await n(()=>e.pollApi.getPolls(le,{page:j+1,limit:w}),{showErrorToast:!1});ie&&(s(ie.items||[]),a(((oe=ie.metadata)==null?void 0:oe.total)||0))}catch{h("Failed to fetch polls")}finally{d(!1)}},[j,w,T,R,A,W,N,Z,e.pollApi,n]);g.useEffect(()=>{q()},[q]);const K=oe=>{S(oe),y(!0)},X=async oe=>{const le=oe.map(ie=>ie.id);try{await Promise.all(le.map(ie=>n(()=>e.pollApi.delete(ie)))),p([]),q()}catch{h("Failed to delete polls")}},ae=async()=>{if(b)try{const oe={title:b.title,description:b.description,endDate:b.endDate};await n(()=>e.pollApi.update(b.id,oe)),y(!1),S(null),q()}catch{h("Failed to update poll")}},V=async oe=>{try{await n(()=>e.pollApi.convertToNews(oe.id,{title:oe.title,summary:oe.description})),q()}catch{h("Failed to convert poll to news")}},re=[{id:"title",label:"Title",minWidth:200,sortable:!0,format:(oe,le)=>t.jsxs(C,{children:[t.jsx(v,{variant:"body2",fontWeight:"medium",noWrap:!0,children:oe}),t.jsxs(ye,{direction:"row",spacing:1,alignItems:"center",sx:{mt:.5},children:[t.jsxs(v,{variant:"caption",color:"text.secondary",children:["ID: ",le.id]}),le.isTrending&&t.jsx(Ye,{label:"Trending",color:"warning",size:"small",icon:t.jsx(us,{}),sx:{height:16,"& .MuiChip-label":{fontSize:"0.6rem",px:.5}}})]})]})},{id:"channel",label:"Channel",minWidth:150,format:(oe,le)=>{var ie,ne,me,he;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(wn,{src:(ie=le.channel)==null?void 0:ie.photoUrl,sx:{width:24,height:24},children:(me=(ne=le.channel)==null?void 0:ne.name)==null?void 0:me[0]}),t.jsx(v,{variant:"body2",noWrap:!0,children:((he=le.channel)==null?void 0:he.name)||"Unknown"})]})}},{id:"creator",label:"Creator",minWidth:120,format:(oe,le)=>{var ie;return t.jsx(v,{variant:"body2",noWrap:!0,children:((ie=le.creator)==null?void 0:ie.displayName)||"Unknown"})}},{id:"voteCount",label:"Votes",minWidth:80,align:"right",sortable:!0,format:oe=>t.jsx(v,{variant:"body2",children:(oe==null?void 0:oe.toLocaleString())||"0"})},{id:"stats",label:"Stats",minWidth:120,format:(oe,le)=>{var ie,ne,me,he;return t.jsxs(ye,{spacing:.5,children:[t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Views: ",((ne=(ie=le.stats)==null?void 0:ie.viewCount)==null?void 0:ne.toLocaleString())||"0"]}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Funds: $",((he=(me=le.stats)==null?void 0:me.totalFunds)==null?void 0:he.toLocaleString())||"0"]})]})}},{id:"endDate",label:"End Date",minWidth:120,sortable:!0,format:oe=>t.jsx(v,{variant:"body2",children:oe?new Date(oe).toLocaleDateString():"No end date"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:oe=>t.jsx(v,{variant:"body2",children:new Date(oe).toLocaleDateString()})}],Ee=Object.entries(d$).map(([oe,le])=>({value:le,label:oe.replace(/_/g," ").toLowerCase().replace(/\b\w/g,ie=>ie.toUpperCase())})),be=t.jsxs(ye,{direction:"row",spacing:1,children:[t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(At,{children:"Status"}),t.jsxs(wt,{value:R,label:"Status",onChange:oe=>O(oe.target.value),children:[t.jsx(Ce,{value:"",children:"All Status"}),Ee.map(oe=>t.jsx(Ce,{value:oe.value,children:oe.label},oe.value))]})]}),t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(At,{children:"Trending"}),t.jsxs(wt,{value:A,label:"Trending",onChange:oe=>L(oe.target.value),children:[t.jsx(Ce,{value:"",children:"All"}),t.jsx(Ce,{value:"true",children:"Trending Only"}),t.jsx(Ce,{value:"false",children:"Non-Trending"})]})]}),t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(At,{children:"Funded"}),t.jsxs(wt,{value:W,label:"Funded",onChange:oe=>H(oe.target.value),children:[t.jsx(Ce,{value:"",children:"All"}),t.jsx(Ce,{value:"true",children:"Funded Only"}),t.jsx(Ce,{value:"false",children:"Not Funded"})]})]})]}),_e=oe=>t.jsxs(ye,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View",children:t.jsx(Le,{size:"small",onClick:le=>{le.stopPropagation(),window.open(ve.APP_POLL_VIEW.replace(":id",oe.id),"_blank")},children:t.jsx(ws,{fontSize:"small"})})}),t.jsx(jt,{title:"Edit",children:t.jsx(Le,{size:"small",onClick:le=>{le.stopPropagation(),K(oe)},children:t.jsx(hs,{fontSize:"small"})})}),t.jsx(jt,{title:"Convert to News",children:t.jsx(Le,{size:"small",onClick:le=>{le.stopPropagation(),V(oe)},children:t.jsx(eA,{fontSize:"small"})})})]});return t.jsxs(C,{children:[t.jsx(yo,{title:"Poll Management",columns:re,rows:r,totalCount:o,loading:c,error:u,selected:x,onSelectionChange:p,onEdit:K,onDelete:X,onRefresh:q,onSearch:_,onSort:(oe,le)=>{se(oe),G(le)},onPageChange:D,onRowsPerPageChange:I,page:j,rowsPerPage:w,searchQuery:T,sortColumn:N,sortDirection:Z,filters:be,rowActions:_e}),t.jsxs(en,{open:m,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(sn,{children:"Edit Poll"}),t.jsx(tn,{children:b&&t.jsxs(ye,{spacing:3,sx:{pt:1},children:[t.jsx(rt,{label:"Title",fullWidth:!0,defaultValue:b.title,onChange:oe=>S({...b,title:oe.target.value})}),t.jsx(rt,{label:"Description",fullWidth:!0,multiline:!0,rows:3,defaultValue:b.description,onChange:oe=>S({...b,description:oe.target.value})}),t.jsx(rt,{label:"End Date",type:"datetime-local",fullWidth:!0,defaultValue:b.endDate?new Date(b.endDate).toISOString().slice(0,16):"",onChange:oe=>S({...b,endDate:oe.target.value}),InputLabelProps:{shrink:!0}}),t.jsxs(lc,{children:[t.jsx(cc,{expandIcon:t.jsx(dc,{}),children:t.jsxs(v,{variant:"subtitle2",children:["Poll Options (",((de=b.options)==null?void 0:de.length)||0,")"]})}),t.jsx(uc,{children:t.jsx(ye,{spacing:2,children:(te=b.options)==null?void 0:te.map((oe,le)=>t.jsxs(C,{sx:{p:2,border:1,borderColor:"divider",borderRadius:1},children:[t.jsxs(v,{variant:"body2",fontWeight:"medium",children:["Option ",le+1,": ",oe.text]}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Votes: ",oe.voteCount]})]},oe.id))})})]}),t.jsxs(C,{children:[t.jsxs(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Poll ID: ",b.id]}),t.jsxs(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Created: ",new Date(b.createdAt).toLocaleString()]}),t.jsxs(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Channel: ",(z=b.channel)==null?void 0:z.name]}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Creator: ",(De=b.creator)==null?void 0:De.displayName]})]})]})}),t.jsxs(nn,{children:[t.jsx(xe,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(xe,{onClick:()=>ae(),variant:"contained",children:"Save Changes"})]})]})]})},a7=()=>{const{api:e}=Xe(),{execute:n}=nt(),[r,s]=g.useState([]),[o,a]=g.useState(0),[c,d]=g.useState(!1),[u,h]=g.useState(null),[x,p]=g.useState([]),[m,y]=g.useState(!1),[b,S]=g.useState(null),[j,D]=g.useState(0),[w,I]=g.useState(25),[T,_]=g.useState(""),[R,O]=g.useState(""),[A,L]=g.useState(""),[W,H]=g.useState(""),[N,se]=g.useState("created_at"),[Z,G]=g.useState("desc"),q=async()=>{var te;d(!0),h(null);try{const z={};T&&(z.search=T),R&&(z.status=R),A==="true"&&(z.trending=!0),W==="true"&&(z.verified=!0);const De=await n(()=>e.channelApi.getChannels(z,{page:j+1,limit:w}),{showErrorToast:!1});De&&(s(De.items||[]),a(((te=De.metadata)==null?void 0:te.total)||0))}catch{h("Failed to fetch channels")}finally{d(!1)}};g.useEffect(()=>{q()},[j,w,T,R,A,W,N,Z]);const K=te=>{S(te),y(!0)},X=async te=>{const z=te.map(De=>De.id);try{await Promise.all(z.map(De=>n(()=>e.channelApi.deleteChannel(De)))),p([]),q()}catch{h("Failed to delete channels")}},ae=async te=>{if(b)try{await n(()=>e.channelApi.updateChannel(b.id,te)),y(!1),S(null),q()}catch{h("Failed to update channel")}},V=te=>{switch(te){case 1:return"success";case 2:return"warning";case 3:return"error";case 4:return"default";default:return"default"}},re=te=>{switch(te){case 1:return"Active";case 2:return"Pending";case 3:return"Suspended";case 4:return"Inactive";default:return"Unknown"}},Ee=[{id:"name",label:"Channel",minWidth:200,sortable:!0,format:(te,z)=>t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(wn,{src:z.logoUrl,sx:{width:40,height:40},children:te==null?void 0:te[0]}),t.jsxs(C,{children:[t.jsx(v,{variant:"body2",fontWeight:"medium",noWrap:!0,children:te}),t.jsxs(v,{variant:"caption",color:"text.secondary",noWrap:!0,children:["@",z.handle,"  ID: ",z.id]})]})]})},{id:"description",label:"Description",minWidth:200,format:te=>t.jsx(v,{variant:"body2",noWrap:!0,sx:{maxWidth:200},children:te||"No description"})},{id:"status",label:"Status",minWidth:100,sortable:!0,format:te=>t.jsx(Ye,{label:re(te),color:V(te),size:"small"})},{id:"stats",label:"Stats",minWidth:150,format:(te,z)=>{var De,oe,le,ie,ne,me;return t.jsxs(ye,{spacing:.5,children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(lo,{sx:{fontSize:14},color:"action"}),t.jsxs(v,{variant:"caption",children:[((oe=(De=z.stats)==null?void 0:De.activeSubscriptionCount)==null?void 0:oe.toLocaleString())||"0"," subscribers"]})]}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx($o,{sx:{fontSize:14},color:"action"}),t.jsxs(v,{variant:"caption",children:[((ie=(le=z.stats)==null?void 0:le.newsCount)==null?void 0:ie.toLocaleString())||"0"," news"]})]}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(tf,{sx:{fontSize:14},color:"action"}),t.jsxs(v,{variant:"caption",children:[((me=(ne=z.stats)==null?void 0:ne.pollCount)==null?void 0:me.toLocaleString())||"0"," polls"]})]})]})}},{id:"tiers",label:"Tiers",minWidth:80,align:"center",format:(te,z)=>{var De,oe;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5,justifyContent:"center"},children:[t.jsx(rf,{sx:{fontSize:14},color:"action"}),t.jsx(v,{variant:"body2",children:((De=z.stats)==null?void 0:De.tierCount)||((oe=z.tiers)==null?void 0:oe.length)||"0"})]})}},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:te=>t.jsx(v,{variant:"body2",children:new Date(te).toLocaleDateString()})},{id:"updatedAt",label:"Updated",minWidth:120,sortable:!0,format:te=>t.jsx(v,{variant:"body2",children:new Date(te).toLocaleDateString()})}],be=[{value:1,label:"Active"},{value:2,label:"Pending"},{value:3,label:"Suspended"},{value:4,label:"Inactive"}],_e=t.jsxs(ye,{direction:"row",spacing:1,children:[t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(At,{children:"Status"}),t.jsxs(wt,{value:R,label:"Status",onChange:te=>O(te.target.value),children:[t.jsx(Ce,{value:"",children:"All Status"}),be.map(te=>t.jsx(Ce,{value:te.value,children:te.label},te.value))]})]}),t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(At,{children:"Trending"}),t.jsxs(wt,{value:A,label:"Trending",onChange:te=>L(te.target.value),children:[t.jsx(Ce,{value:"",children:"All"}),t.jsx(Ce,{value:"true",children:"Trending Only"}),t.jsx(Ce,{value:"false",children:"Non-Trending"})]})]}),t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(At,{children:"Verified"}),t.jsxs(wt,{value:W,label:"Verified",onChange:te=>H(te.target.value),children:[t.jsx(Ce,{value:"",children:"All"}),t.jsx(Ce,{value:"true",children:"Verified Only"}),t.jsx(Ce,{value:"false",children:"Not Verified"})]})]})]}),de=te=>t.jsxs(ye,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View",children:t.jsx(Le,{size:"small",onClick:z=>{z.stopPropagation(),window.open(ve.APP_CHANNEL_VIEW.replace(":channelId",te.id),"_blank")},children:t.jsx(ws,{fontSize:"small"})})}),t.jsx(jt,{title:"Edit",children:t.jsx(Le,{size:"small",onClick:z=>{z.stopPropagation(),K(te)},children:t.jsx(hs,{fontSize:"small"})})})]});return t.jsxs(C,{children:[t.jsx(yo,{title:"Channel Management",columns:Ee,rows:r,totalCount:o,loading:c,error:u,selected:x,onSelectionChange:p,onEdit:K,onDelete:X,onRefresh:q,onSearch:_,onSort:(te,z)=>{se(te),G(z)},onPageChange:D,onRowsPerPageChange:I,page:j,rowsPerPage:w,searchQuery:T,sortColumn:N,sortDirection:Z,filters:_e,rowActions:de}),t.jsxs(en,{open:m,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(sn,{children:"Edit Channel"}),t.jsx(tn,{children:b&&t.jsxs(ye,{spacing:3,sx:{pt:1},children:[t.jsxs($,{container:!0,spacing:2,children:[t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(rt,{label:"Channel Name",fullWidth:!0,defaultValue:b.name,onChange:te=>S({...b,name:te.target.value})})}),t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(rt,{label:"Handle",fullWidth:!0,defaultValue:b.handle,onChange:te=>S({...b,handle:te.target.value}),InputProps:{startAdornment:"@"}})})]}),t.jsx(rt,{label:"Description",fullWidth:!0,multiline:!0,rows:3,defaultValue:b.description,onChange:te=>S({...b,description:te.target.value})}),t.jsxs($,{container:!0,spacing:2,children:[t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(rt,{label:"Logo URL",fullWidth:!0,defaultValue:b.logoUrl,onChange:te=>S({...b,logoUrl:te.target.value})})}),t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(rt,{label:"Banner URL",fullWidth:!0,defaultValue:b.bannerUrl,onChange:te=>S({...b,bannerUrl:te.target.value})})})]}),t.jsxs(bt,{fullWidth:!0,children:[t.jsx(At,{children:"Status"}),t.jsx(wt,{value:b.status,label:"Status",onChange:te=>S({...b,status:te.target.value}),children:be.map(te=>t.jsx(Ce,{value:te.value,children:te.label},te.value))})]}),b.tiers&&b.tiers.length>0&&t.jsxs(lc,{children:[t.jsx(cc,{expandIcon:t.jsx(dc,{}),children:t.jsxs(v,{variant:"subtitle2",children:["Subscription Tiers (",b.tiers.length,")"]})}),t.jsx(uc,{children:t.jsx(ye,{spacing:2,children:b.tiers.map(te=>t.jsx(C,{sx:{p:2,border:1,borderColor:"divider",borderRadius:1},children:t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"body2",fontWeight:"medium",children:te.name}),t.jsx(v,{variant:"caption",color:"text.secondary",children:te.description})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsxs(v,{variant:"body2",children:["Price: ",te.currency," ",te.price]}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Order: ",te.order," ",te.isDefault&&"(Default)"]})]})]})},te.id))})})]}),t.jsxs(C,{children:[t.jsxs(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Channel ID: ",b.id]}),t.jsxs(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Creator ID: ",b.creatorId]}),t.jsxs(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Created: ",new Date(b.createdAt).toLocaleString()]}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Updated: ",new Date(b.updatedAt).toLocaleString()]})]})]})}),t.jsxs(nn,{children:[t.jsx(xe,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(xe,{onClick:()=>ae(b),variant:"contained",children:"Save Changes"})]})]})]})},l7=()=>{var ie,ne,me;const{api:e}=Xe(),{execute:n}=nt(),[r,s]=g.useState([]),[o,a]=g.useState(0),[c,d]=g.useState(!1),[u,h]=g.useState(null),[x,p]=g.useState([]),[m,y]=g.useState(!1),[b,S]=g.useState(null),[j,D]=g.useState(!1),[w,I]=g.useState(null),[T,_]=g.useState(""),[R,O]=g.useState(""),[A,L]=g.useState(0),[W,H]=g.useState(25),[N,se]=g.useState(""),[Z,G]=g.useState(""),[q]=g.useState(""),[K,X]=g.useState("created_at"),[ae,V]=g.useState("desc"),re=async()=>{var he;d(!0),h(null);try{const Oe={};Z&&(Oe.status=parseInt(Z)),q&&(Oe.channelId=q);const Re=await n(()=>e.expenseOrderApi.getAllExpenseOrders({page:A+1,limit:W},Oe),{showErrorToast:!1});Re&&(s(Re.items||[]),a(((he=Re.metadata)==null?void 0:he.total)||0))}catch{h("Failed to fetch expense orders")}finally{d(!1)}};g.useEffect(()=>{re()},[A,W,N,Z,q,K,ae]);const Ee=he=>{S(he),y(!0)},be=(he,Oe)=>{S(he),I(Oe),D(!0),_(""),O("")},_e=async()=>{if(!(!b||!w))try{let he;switch(w){case"approve":he=await n(()=>e.expenseOrderApi.approveExpenseOrder(b.id,{notes:T}),{showSuccessMessage:!0,successMessage:"Expense order approved successfully!"});break;case"reject":he=await n(()=>e.expenseOrderApi.rejectExpenseOrder(b.id,{rejectionReason:T,notes:T}),{showSuccessMessage:!0,successMessage:"Expense order rejected successfully!"});break;case"payment":he=await n(()=>e.expenseOrderApi.processPayment(b.id,{paymentReference:R}),{showSuccessMessage:!0,successMessage:"Payment processed successfully!"});break}he&&(D(!1),S(null),I(null),re())}catch(he){console.error(`Failed to ${w} expense order:`,he)}},de=he=>{switch(he){case Ke.DRAFT:return"default";case Ke.SUBMITTED:return"info";case Ke.UNDER_REVIEW:return"warning";case Ke.APPROVED:return"success";case Ke.REJECTED:return"error";case Ke.PAID:return"success";case Ke.CANCELLED:return"secondary";default:return"default"}},te=(he,Oe)=>new Intl.NumberFormat("en-US",{style:"currency",currency:Oe||"USD"}).format(he),z=[{id:"title",label:"Expense",minWidth:200,sortable:!0,format:(he,Oe)=>{var Re;return t.jsxs(C,{children:[t.jsx(v,{variant:"body2",fontWeight:"medium",noWrap:!0,children:he}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:[(Re=Oe.type)==null?void 0:Re.name,"  ID: ",Oe.id]})]})}},{id:"journalist",label:"Journalist",minWidth:150,format:(he,Oe)=>{var Re,Ge,ue;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(wn,{sx:{width:24,height:24},children:((Ge=(Re=Oe.journalist)==null?void 0:Re.displayName)==null?void 0:Ge[0])||"U"}),t.jsx(v,{variant:"body2",noWrap:!0,children:((ue=Oe.journalist)==null?void 0:ue.displayName)||"Unknown User"})]})}},{id:"channel",label:"Channel",minWidth:120,format:(he,Oe)=>{var Re;return t.jsx(v,{variant:"body2",noWrap:!0,children:((Re=Oe.channel)==null?void 0:Re.name)||"Unknown"})}},{id:"amount",label:"Amount",minWidth:100,align:"right",sortable:!0,format:(he,Oe)=>t.jsx(v,{variant:"body2",fontWeight:"medium",children:te(he,Oe.currency)})},{id:"status",label:"Status",minWidth:120,sortable:!0,format:he=>t.jsx(Ye,{label:wa[he],color:de(he),size:"small"})},{id:"submitted_at",label:"Submitted",minWidth:120,sortable:!0,format:he=>t.jsx(v,{variant:"body2",children:he?new Date(he).toLocaleDateString():"-"})},{id:"paid_at",label:"Paid",minWidth:120,sortable:!0,format:he=>t.jsx(v,{variant:"body2",children:he?new Date(he).toLocaleDateString():"-"})},{id:"created_at",label:"Created",minWidth:120,sortable:!0,format:he=>t.jsx(v,{variant:"body2",children:new Date(he).toLocaleDateString()})}],De=Object.entries(wa).map(([he,Oe])=>({value:he,label:Oe})),oe=t.jsx(ye,{direction:"row",spacing:1,children:t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(At,{children:"Status"}),t.jsxs(wt,{value:Z,label:"Status",onChange:he=>G(he.target.value),children:[t.jsx(Ce,{value:"",children:"All Status"}),De.map(he=>t.jsx(Ce,{value:he.value,children:he.label},he.value))]})]})}),le=he=>t.jsxs(ye,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View",children:t.jsx(Le,{size:"small",onClick:Oe=>{Oe.stopPropagation(),Ee(he)},children:t.jsx(ws,{fontSize:"small"})})}),he.receiptUrl&&t.jsx(jt,{title:"View Receipt",children:t.jsx(Le,{size:"small",onClick:Oe=>{Oe.stopPropagation(),window.open(he.receiptUrl,"_blank")},children:t.jsx(Fs,{fontSize:"small"})})}),he.status===Ke.UNDER_REVIEW&&t.jsxs(t.Fragment,{children:[t.jsx(jt,{title:"Approve",children:t.jsx(Le,{size:"small",onClick:Oe=>{Oe.stopPropagation(),be(he,"approve")},children:t.jsx($i,{fontSize:"small",color:"success"})})}),t.jsx(jt,{title:"Reject",children:t.jsx(Le,{size:"small",onClick:Oe=>{Oe.stopPropagation(),be(he,"reject")},children:t.jsx(Ss,{fontSize:"small",color:"error"})})})]}),he.status===Ke.APPROVED&&t.jsx(jt,{title:"Process Payment",children:t.jsx(Le,{size:"small",onClick:Oe=>{Oe.stopPropagation(),be(he,"payment")},children:t.jsx(Si,{fontSize:"small",color:"primary"})})})]});return t.jsxs(C,{children:[t.jsx(yo,{title:"Expense Order Management",columns:z,rows:r,totalCount:o,loading:c,error:u,selected:x,onSelectionChange:p,onEdit:Ee,onRefresh:re,onSearch:se,onSort:(he,Oe)=>{X(he),V(Oe)},onPageChange:L,onRowsPerPageChange:H,page:A,rowsPerPage:W,searchQuery:N,sortColumn:K,sortDirection:ae,filters:oe,rowActions:le}),t.jsxs(en,{open:m,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(sn,{children:"View Expense Order"}),t.jsx(tn,{children:b&&t.jsxs(ye,{spacing:3,sx:{pt:1},children:[t.jsx(Ne,{variant:"outlined",children:t.jsx(Fe,{children:t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Title"}),t.jsx(v,{variant:"body2",children:b.title})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Amount"}),t.jsx(v,{variant:"body2",fontWeight:"medium",children:te(b.amount,b.currency)})]}),t.jsxs($,{item:!0,xs:12,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Description"}),t.jsx(v,{variant:"body2",children:b.description})]})]})})}),t.jsx(Ne,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"subtitle2",gutterBottom:!0,children:"Details"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"caption",color:"text.secondary",children:"Journalist"}),t.jsx(v,{variant:"body2",children:((ie=b.journalist)==null?void 0:ie.displayName)||"Unknown User"})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"caption",color:"text.secondary",children:"Channel"}),t.jsx(v,{variant:"body2",children:(ne=b.channel)==null?void 0:ne.name})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"caption",color:"text.secondary",children:"Type"}),t.jsx(v,{variant:"body2",children:(me=b.type)==null?void 0:me.name})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"caption",color:"text.secondary",children:"Status"}),t.jsx(Ye,{label:wa[b.status],color:de(b.status),size:"small"})]})]})]})}),b.notes&&t.jsx(ct,{severity:"info",children:t.jsx(v,{variant:"body2",children:b.notes})}),b.rejectionReason&&t.jsx(ct,{severity:"error",children:t.jsx(v,{variant:"body2",children:b.rejectionReason})}),b.paymentReference&&t.jsx(ct,{severity:"success",children:t.jsxs(v,{variant:"body2",children:["Payment Reference: ",b.paymentReference]})})]})}),t.jsx(nn,{children:t.jsx(xe,{onClick:()=>y(!1),children:"Close"})})]}),t.jsxs(en,{open:j,onClose:()=>D(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsxs(sn,{children:[w==="approve"&&"Approve Expense Order",w==="reject"&&"Reject Expense Order",w==="payment"&&"Process Payment"]}),t.jsx(tn,{children:t.jsxs(ye,{spacing:2,sx:{pt:1},children:[w==="payment"&&t.jsx(rt,{label:"Payment Reference",fullWidth:!0,value:R,onChange:he=>O(he.target.value),placeholder:"Enter payment reference or transaction ID"}),t.jsx(rt,{label:w==="reject"?"Rejection Reason":"Notes",fullWidth:!0,multiline:!0,rows:3,value:T,onChange:he=>_(he.target.value),placeholder:w==="reject"?"Explain why this expense order is being rejected...":"Add any additional notes...",required:w==="reject"})]})}),t.jsxs(nn,{children:[t.jsx(xe,{onClick:()=>D(!1),children:"Cancel"}),t.jsxs(xe,{onClick:_e,variant:"contained",color:w==="approve"?"success":w==="reject"?"error":"primary",disabled:w==="reject"&&!T.trim(),children:[w==="approve"&&"Approve",w==="reject"&&"Reject",w==="payment"&&"Process Payment"]})]})]})]})},c7=()=>{var ne,me,he,Oe,Re,Ge;const[e,n]=g.useState([]),[r,s]=g.useState(0),[o,a]=g.useState(!1),[c,d]=g.useState(null),[u,h]=g.useState([]),[x,p]=g.useState(!1),[m,y]=g.useState(!1),[b,S]=g.useState(!1),[j,D]=g.useState(null),[w,I]=g.useState(""),[T,_]=g.useState(0),[R,O]=g.useState(25),[A,L]=g.useState(""),[W,H]=g.useState(""),[N,se]=g.useState("createdAt"),[Z,G]=g.useState("desc"),{api:q}=Xe(),{execute:K}=nt(),X=g.useCallback(async()=>{if(q!=null&&q.payoutApi){a(!0),d(null);try{const ue={limit:R,offset:T*R};W&&(ue.status=W);const we=await K(()=>q.payoutApi.getPayouts(ue));we&&(n(we.items||[]),s(we.total||0))}catch(ue){console.error("Failed to fetch payouts:",ue),d("Failed to fetch payouts"),n([]),s(0)}finally{a(!1)}}},[q,K,T,R,W]);g.useEffect(()=>{X()},[X]);const ae=ue=>{D(ue),p(!0)},V=ue=>{D(ue),y(!0)},re=async()=>{if(!(!j||!(q!=null&&q.payoutApi)))try{await K(()=>q.payoutApi.processPayout(j.id)),y(!1),D(null),X()}catch{d("Failed to process payout")}},Ee=async ue=>{if(q!=null&&q.payoutApi)try{await K(()=>q.payoutApi.retryPayout(ue.id)),X()}catch{d("Failed to retry payout")}},be=ue=>{D(ue),I(""),S(!0)},_e=async()=>{if(!(!j||!(q!=null&&q.payoutApi)))try{await K(()=>q.payoutApi.cancelPayout(j.id,{reason:w})),S(!1),D(null),I(""),X()}catch{d("Failed to cancel payout")}},de=ue=>{switch(ue){case"pending":return"warning";case"processing":return"info";case"completed":return"success";case"failed":return"error";case"cancelled":return"default";default:return"default"}},te=(ue,we)=>new Intl.NumberFormat("en-US",{style:"currency",currency:we||"USD"}).format(ue/100),z=ue=>ue?`${ue.firstName} ${ue.lastName}`:"Unknown",De=[{id:"expenseOrder",label:"Expense Order",minWidth:200,sortable:!0,format:(ue,we)=>{var Y,ge,Je;return t.jsxs(C,{children:[t.jsx(v,{variant:"body2",fontWeight:"medium",noWrap:!0,children:((Y=we.expenseOrder)==null?void 0:Y.title)||"N/A"}),t.jsxs(ye,{direction:"row",spacing:1,alignItems:"center",children:[t.jsx(Ye,{label:((Je=(ge=we.expenseOrder)==null?void 0:ge.type)==null?void 0:Je.name)||"Unknown",size:"small",variant:"outlined",sx:{height:16,"& .MuiChip-label":{fontSize:"0.6rem",px:.5}}}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["#",we.id.slice(0,8)]})]})]})}},{id:"channel",label:"Channel",minWidth:120,format:(ue,we)=>{var Y;return t.jsx(v,{variant:"body2",noWrap:!0,children:((Y=we.channel)==null?void 0:Y.name)||"N/A"})}},{id:"journalist",label:"Journalist",minWidth:140,format:(ue,we)=>{var Y,ge;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(wn,{sx:{width:24,height:24},children:((ge=(Y=we.journalist)==null?void 0:Y.firstName)==null?void 0:ge[0])||"U"}),t.jsx(v,{variant:"body2",noWrap:!0,children:z(we.journalist)})]})}},{id:"grossAmount",label:"Gross",minWidth:90,align:"right",sortable:!0,format:(ue,we)=>t.jsx(v,{variant:"body2",children:te(we.grossAmount,we.currency)})},{id:"platformFeeAmount",label:"Fee",minWidth:80,align:"right",format:(ue,we)=>t.jsxs(v,{variant:"body2",color:"text.secondary",children:["-",te(we.platformFeeAmount,we.currency)]})},{id:"netAmount",label:"Net Payout",minWidth:100,align:"right",sortable:!0,format:(ue,we)=>t.jsx(v,{variant:"body2",fontWeight:"medium",color:"primary",children:te(we.netAmount,we.currency)})},{id:"status",label:"Status",minWidth:120,sortable:!0,format:(ue,we)=>t.jsxs(ye,{spacing:.5,children:[t.jsx(Ye,{label:ue,color:de(ue),size:"small",sx:{textTransform:"capitalize"}}),we.errorMessage&&t.jsx(jt,{title:we.errorMessage,children:t.jsx(tA,{color:"error",sx:{fontSize:16}})}),we.retryCount>0&&t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Retry ",we.retryCount,"/",we.maxRetries]})]})},{id:"paymentReference",label:"Payment Ref",minWidth:120,format:ue=>t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.75rem"},children:ue?ue.slice(0,12)+"...":"-"})},{id:"createdAt",label:"Created",minWidth:110,sortable:!0,format:ue=>t.jsx(v,{variant:"body2",children:new Date(ue).toLocaleDateString()})}],oe=[{value:"pending",label:"Pending"},{value:"processing",label:"Processing"},{value:"completed",label:"Completed"},{value:"failed",label:"Failed"},{value:"cancelled",label:"Cancelled"}],le=t.jsx(ye,{direction:"row",spacing:1,children:t.jsxs(bt,{size:"small",sx:{minWidth:140},children:[t.jsx(At,{children:"Status"}),t.jsxs(wt,{value:W,label:"Status",onChange:ue=>H(ue.target.value),children:[t.jsx(Ce,{value:"",children:"All Status"}),oe.map(ue=>t.jsx(Ce,{value:ue.value,children:ue.label},ue.value))]})]})}),ie=ue=>t.jsxs(ye,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View Details",children:t.jsx(Le,{size:"small",onClick:we=>{we.stopPropagation(),ae(ue)},children:t.jsx(ws,{fontSize:"small"})})}),ue.status==="pending"&&t.jsx(jt,{title:"Process Payout",children:t.jsx(Le,{size:"small",onClick:we=>{we.stopPropagation(),V(ue)},children:t.jsx(Si,{fontSize:"small",color:"primary"})})}),ue.status==="failed"&&ue.retryCount<ue.maxRetries&&t.jsx(jt,{title:"Retry Payout",children:t.jsx(Le,{size:"small",onClick:we=>{we.stopPropagation(),Ee(ue)},children:t.jsx(nA,{fontSize:"small",color:"warning"})})}),(ue.status==="pending"||ue.status==="failed")&&t.jsx(jt,{title:"Cancel Payout",children:t.jsx(Le,{size:"small",onClick:we=>{we.stopPropagation(),be(ue)},children:t.jsx(Ss,{fontSize:"small",color:"error"})})}),ue.paymentReference&&t.jsx(jt,{title:"View Payment Details",children:t.jsx(Le,{size:"small",onClick:we=>{we.stopPropagation()},children:t.jsx(Fs,{fontSize:"small"})})})]});return t.jsxs(C,{children:[t.jsx(yo,{title:"Payout Management",columns:De,rows:e,totalCount:r,loading:o,error:c,selected:u,onSelectionChange:h,onRefresh:X,onSearch:L,onSort:(ue,we)=>{se(ue),G(we)},onPageChange:_,onRowsPerPageChange:O,page:T,rowsPerPage:R,searchQuery:A,sortColumn:N,sortDirection:Z,filters:le,rowActions:ie}),t.jsxs(en,{open:x,onClose:()=>p(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(sn,{children:"Payout Details"}),t.jsx(tn,{children:j&&t.jsxs(ye,{spacing:3,sx:{pt:1},children:[t.jsx(Ne,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Expense Order Information"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:12,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Title"}),t.jsx(v,{variant:"body2",children:((ne=j.expenseOrder)==null?void 0:ne.title)||"N/A"})]}),t.jsxs($,{item:!0,xs:12,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Description"}),t.jsx(v,{variant:"body2",children:((me=j.expenseOrder)==null?void 0:me.description)||"N/A"})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Type"}),t.jsx(Ye,{label:((Oe=(he=j.expenseOrder)==null?void 0:he.type)==null?void 0:Oe.name)||"Unknown",size:"small"})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Expense Order ID"}),t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.85rem"},children:j.expenseOrderId})]})]})]})}),t.jsx(Ne,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Payout Information"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Journalist"}),t.jsx(v,{variant:"body2",children:z(j.journalist)}),t.jsx(v,{variant:"caption",color:"text.secondary",children:(Re=j.journalist)==null?void 0:Re.email})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Channel"}),t.jsx(v,{variant:"body2",children:((Ge=j.channel)==null?void 0:Ge.name)||"N/A"})]}),t.jsxs($,{item:!0,xs:12,sm:4,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Gross Amount"}),t.jsx(v,{variant:"body2",children:te(j.grossAmount,j.currency)})]}),t.jsxs($,{item:!0,xs:12,sm:4,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Platform Fee"}),t.jsxs(v,{variant:"body2",color:"error",children:["-",te(j.platformFeeAmount,j.currency)]})]}),t.jsxs($,{item:!0,xs:12,sm:4,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Net Payout"}),t.jsx(v,{variant:"body2",fontWeight:"medium",color:"primary",children:te(j.netAmount,j.currency)})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Status"}),t.jsx(Ye,{label:j.status,color:de(j.status),size:"small",sx:{textTransform:"capitalize"}})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Payment Reference"}),t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.85rem"},children:j.paymentReference||"Not processed"})]})]})]})}),j.status==="failed"&&t.jsx(Ne,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Retry Information"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Retry Count"}),t.jsxs(v,{variant:"body2",children:[j.retryCount," / ",j.maxRetries]})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Next Retry"}),t.jsx(v,{variant:"body2",children:j.nextRetryAt?new Date(j.nextRetryAt).toLocaleString():"No retry scheduled"})]}),j.errorCategory&&t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Error Category"}),t.jsx(Ye,{label:j.errorCategory,size:"small",color:"error"})]})]})]})}),j.errorMessage&&t.jsx(ct,{severity:"error",children:t.jsx(v,{variant:"body2",children:j.errorMessage})}),t.jsx(Ne,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Timeline"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(v,{variant:"body2",children:new Date(j.createdAt).toLocaleString()})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Processed"}),t.jsx(v,{variant:"body2",children:j.processedAt?new Date(j.processedAt).toLocaleString():"Not processed"})]}),j.processedBy&&t.jsxs($,{item:!0,xs:12,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Processed By"}),t.jsx(v,{variant:"body2",children:j.processedBy})]})]})]})})]})}),t.jsx(nn,{children:t.jsx(xe,{onClick:()=>p(!1),children:"Close"})})]}),t.jsxs(en,{open:m,onClose:()=>y(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(sn,{children:"Process Payout"}),t.jsx(tn,{children:t.jsxs(ye,{spacing:2,sx:{pt:1},children:[j&&t.jsxs(ct,{severity:"warning",icon:t.jsx(Si,{}),children:[t.jsxs(v,{variant:"body2",children:["You are about to process a payout of"," ",t.jsx("strong",{children:te(j.netAmount,j.currency)})," ","to ",t.jsx("strong",{children:z(j.journalist)}),"."]}),t.jsxs(v,{variant:"body2",sx:{mt:1},children:["Platform fee: ",te(j.platformFeeAmount,j.currency)]})]}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"This action will initiate the payment process. The funds will be transferred to the journalist's payment method on file."})]})}),t.jsxs(nn,{children:[t.jsx(xe,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(xe,{onClick:re,variant:"contained",color:"primary",startIcon:t.jsx($i,{}),children:"Confirm & Process"})]})]}),t.jsxs(en,{open:b,onClose:()=>S(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(sn,{children:"Cancel Payout"}),t.jsx(tn,{children:t.jsxs(ye,{spacing:2,sx:{pt:1},children:[j&&t.jsx(ct,{severity:"error",children:t.jsxs(v,{variant:"body2",children:["You are about to cancel the payout for ",t.jsx("strong",{children:z(j.journalist)}),"."]})}),t.jsx(rt,{label:"Cancellation Reason",fullWidth:!0,multiline:!0,rows:3,value:w,onChange:ue=>I(ue.target.value),placeholder:"Provide a reason for cancelling this payout..."})]})}),t.jsxs(nn,{children:[t.jsx(xe,{onClick:()=>S(!1),children:"Close"}),t.jsx(xe,{onClick:_e,variant:"contained",color:"error",startIcon:t.jsx(Ss,{}),children:"Cancel Payout"})]})]})]})},d7=()=>{const{api:e}=Xe(),{execute:n}=nt(),[r,s]=g.useState([]),[o,a]=g.useState(0),[c,d]=g.useState(!1),[u,h]=g.useState(null),[x,p]=g.useState([]),[m,y]=g.useState(!1),[b,S]=g.useState(!1),[j,D]=g.useState(null),[w,I]=g.useState(null),[T,_]=g.useState(""),[R,O]=g.useState(0),[A,L]=g.useState(25),[W,H]=g.useState(""),[N,se]=g.useState(""),[Z]=g.useState(""),[G,q]=g.useState("created_at"),[K,X]=g.useState("desc"),ae=g.useCallback(async()=>{var le;d(!0),h(null);try{const ie={};W&&(ie.search=W),N&&(ie.status=N),Z&&(ie.channel_id=Z);const ne=await n(()=>e.subscriptionApi.getAllSubscriptions({page:R+1,limit:A},ie),{showErrorToast:!1});ne&&(s(ne.items||[]),a(((le=ne.metadata)==null?void 0:le.total)||0))}catch{h("Failed to fetch subscriptions")}finally{d(!1)}},[R,A,W,N,Z,e.subscriptionApi,n]);g.useEffect(()=>{ae()},[ae]);const V=le=>{D(le),y(!0)},re=(le,ie)=>{D(le),I(ie),S(!0),_("")},Ee=async()=>{if(!(!j||!w))try{const le=w==="activate"?"active":w==="suspend"?"suspended":"canceled";await n(()=>e.subscriptionApi.updateSubscriptionStatus(j.id,le,T)),S(!1),D(null),I(null),_(""),ae()}catch{h(`Failed to ${w} subscription`)}},be=async()=>{try{const le=N==="cancelled"?"canceled":N,ie=await n(()=>e.subscriptionApi.exportSubscriptions({status:le,channel_id:Z},"csv"));if(ie){const ne=window.URL.createObjectURL(ie),me=document.createElement("a");me.href=ne,me.download=`subscriptions-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(me),me.click(),window.URL.revokeObjectURL(ne),document.body.removeChild(me)}}catch{h("Failed to export subscriptions")}},_e=(le,ie)=>new Intl.NumberFormat("en-US",{style:"currency",currency:ie||"USD"}).format(le),de=le=>new Date(le).toLocaleDateString(),te=[{id:"user",label:"User",minWidth:180,format:(le,ie)=>{var ne,me;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(wn,{sx:{width:32,height:32},children:((ne=ie.user.displayName)==null?void 0:ne[0])||((me=ie.user.email)==null?void 0:me[0])}),t.jsxs(C,{children:[t.jsx(v,{variant:"body2",fontWeight:"medium",noWrap:!0,children:ie.user.displayName}),t.jsx(v,{variant:"caption",color:"text.secondary",noWrap:!0,children:ie.user.email})]})]})}},{id:"channel",label:"Channel",minWidth:120,format:(le,ie)=>t.jsx(v,{variant:"body2",noWrap:!0,children:ie.channel.name})},{id:"tier",label:"Tier",minWidth:150,format:(le,ie)=>t.jsxs(C,{children:[t.jsx(v,{variant:"body2",fontWeight:"medium",noWrap:!0,children:ie.tier.name}),t.jsx(v,{variant:"caption",color:"text.secondary",children:_e(ie.tier.price,ie.tier.currency)})]})},{id:"statusId",label:"Status",minWidth:100,sortable:!0,format:le=>t.jsx(Ye,{label:Ac(le),color:Rc(le),size:"small",sx:{textTransform:"capitalize"}})},{id:"subscribedAt",label:"Subscribed",minWidth:120,sortable:!0,format:le=>t.jsx(v,{variant:"body2",children:de(le)})},{id:"expiresAt",label:"Expires",minWidth:120,sortable:!0,format:le=>t.jsx(v,{variant:"body2",children:le?de(le):"Never"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:le=>t.jsx(v,{variant:"body2",children:de(le)})}],z=$$,De=t.jsx(ye,{direction:"row",spacing:1,children:t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(At,{children:"Status"}),t.jsxs(wt,{value:N,label:"Status",onChange:le=>se(le.target.value),children:[t.jsx(Ce,{value:"",children:"All Status"}),z.map(le=>t.jsx(Ce,{value:le.value,children:le.label},le.value))]})]})}),oe=le=>t.jsxs(ye,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View Details",children:t.jsx(Le,{size:"small",onClick:ie=>{ie.stopPropagation(),V(le)},children:t.jsx(ws,{fontSize:"small"})})}),le.statusId===pn.SUSPENDED&&t.jsx(jt,{title:"Activate",children:t.jsx(Le,{size:"small",onClick:ie=>{ie.stopPropagation(),re(le,"activate")},children:t.jsx($i,{fontSize:"small",color:"success"})})}),le.statusId===pn.ACTIVE&&t.jsx(jt,{title:"Suspend",children:t.jsx(Le,{size:"small",onClick:ie=>{ie.stopPropagation(),re(le,"suspend")},children:t.jsx(y0,{fontSize:"small",color:"warning"})})}),le.statusId!==pn.CANCELLED&&t.jsx(jt,{title:"Cancel",children:t.jsx(Le,{size:"small",onClick:ie=>{ie.stopPropagation(),re(le,"cancel")},children:t.jsx(Ss,{fontSize:"small",color:"error"})})})]});return t.jsxs(C,{children:[t.jsx(yo,{title:"Subscription Management",columns:te,rows:r,totalCount:o,loading:c,error:u,selected:x,onSelectionChange:p,onRefresh:ae,onSearch:H,onSort:(le,ie)=>{q(le),X(ie)},onPageChange:O,onRowsPerPageChange:L,page:R,rowsPerPage:A,searchQuery:W,sortColumn:G,sortDirection:K,filters:De,rowActions:oe,actions:t.jsxs(ye,{direction:"row",spacing:1,children:[t.jsx(xe,{variant:"outlined",startIcon:t.jsx(us,{}),onClick:()=>{},children:"Analytics"}),t.jsx(xe,{variant:"outlined",startIcon:t.jsx(b0,{}),onClick:be,children:"Export"})]})}),t.jsxs(en,{open:m,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(sn,{children:"Subscription Details"}),t.jsx(tn,{children:j&&t.jsxs(ye,{spacing:3,sx:{pt:1},children:[t.jsx(Ne,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"User Information"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Name"}),t.jsx(v,{variant:"body2",children:j.user.displayName})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Email"}),t.jsx(v,{variant:"body2",children:j.user.email})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"User ID"}),t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:j.user.id})]})]})]})}),t.jsx(Ne,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Subscription Information"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Channel"}),t.jsx(v,{variant:"body2",children:j.channel.name})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Tier"}),t.jsx(v,{variant:"body2",children:j.tier.name})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Price"}),t.jsx(v,{variant:"body2",fontWeight:"medium",children:_e(j.tier.price,j.tier.currency)})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Status"}),t.jsx(Ye,{label:Ac(j.statusId),color:Rc(j.statusId),size:"small",sx:{textTransform:"capitalize"}})]})]})]})}),t.jsx(Ne,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Timeline"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Subscribed"}),t.jsx(v,{variant:"body2",children:de(j.subscribedAt)})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Expires"}),t.jsx(v,{variant:"body2",children:j.expiresAt?de(j.expiresAt):"Never"})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(v,{variant:"body2",children:de(j.createdAt)})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Updated"}),t.jsx(v,{variant:"body2",children:de(j.updatedAt)})]})]})]})}),t.jsx(Ne,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"System Information"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Subscription ID"}),t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:j.id})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Channel ID"}),t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:j.channel.id})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Tier ID"}),t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:j.tier.id})]})]})]})})]})}),t.jsx(nn,{children:t.jsx(xe,{onClick:()=>y(!1),children:"Close"})})]}),t.jsxs(en,{open:b,onClose:()=>S(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsxs(sn,{children:[w==="activate"&&"Activate Subscription",w==="suspend"&&"Suspend Subscription",w==="cancel"&&"Cancel Subscription"]}),t.jsx(tn,{children:t.jsxs(ye,{spacing:2,sx:{pt:1},children:[j&&t.jsxs(ct,{severity:w==="activate"?"info":"warning",children:[w==="activate"&&`Activating subscription for ${j.user.displayName}`,w==="suspend"&&`Suspending subscription for ${j.user.displayName}`,w==="cancel"&&`Canceling subscription for ${j.user.displayName}`]}),t.jsx(rt,{label:"Reason",fullWidth:!0,multiline:!0,rows:3,value:T,onChange:le=>_(le.target.value),placeholder:`Explain why this subscription is being ${w}d...`,required:w!=="activate"})]})}),t.jsxs(nn,{children:[t.jsx(xe,{onClick:()=>S(!1),children:"Cancel"}),t.jsxs(xe,{onClick:Ee,variant:"contained",color:w==="activate"?"success":w==="suspend"?"warning":"error",disabled:(w==="suspend"||w==="cancel")&&!T.trim(),children:[w==="activate"&&"Activate",w==="suspend"&&"Suspend",w==="cancel"&&"Cancel"]})]})]})]})},u7=()=>{const{api:e}=Xe(),{execute:n}=nt(),[r,s]=g.useState([]),[o,a]=g.useState(0),[c,d]=g.useState(!1),[u,h]=g.useState(null),[x,p]=g.useState([]),[m,y]=g.useState(!1),[b,S]=g.useState(null),[j,D]=g.useState(0),[w,I]=g.useState(25),[T,_]=g.useState(""),[R,O]=g.useState(""),[A,L]=g.useState(""),[W,H]=g.useState("created_at"),[N,se]=g.useState("desc"),Z=async()=>{var z;d(!0),h(null);try{const De={page:j+1,limit:w,sort:W,order:N,search:T||void 0,status:R||void 0,role:A||void 0},oe=await n(()=>e.userApi.getAll(De),{showErrorToast:!1});oe&&(s(oe.items||[]),a(((z=oe.metadata)==null?void 0:z.total)||0))}catch{h("Failed to fetch users")}finally{d(!1)}};g.useEffect(()=>{Z()},[j,w,T,R,A,W,N]);const G=z=>{S(z),y(!0)},q=async z=>{const De=z.map(oe=>oe.id);try{await Promise.all(De.map(oe=>n(()=>e.userApi.delete(oe)))),p([]),Z()}catch{h("Failed to delete users")}},K=async z=>{if(b)try{await n(()=>e.userApi.update(b.id,z)),y(!1),S(null),Z()}catch{h("Failed to update user")}},X=z=>{switch(z){case Sn.SUPER_ADMIN:return"error";case Sn.ADMIN:return"error";case Sn.MODERATOR:return"warning";case Sn.JOURNALIST:return"primary";case Sn.EDITOR:return"info";case Sn.EVALUATOR:return"secondary";case Sn.FINANCE_MANAGER:return"success";case Sn.REGULAR_USER:return"default";case Sn.GUEST:return"default";default:return"default"}},ae=z=>{const De=Object.entries(Sn).find(([,oe])=>oe===z);return De?De[0].replace(/_/g," ").toLowerCase().replace(/\b\w/g,oe=>oe.toUpperCase()):"Unknown"},V=z=>{switch(z){case _r.ACTIVE:return"success";case _r.INACTIVE:return"default";case _r.PENDING:return"warning";case _r.BLOCKED:return"error";case _r.SUSPENDED:return"warning";case _r.BANNED:return"error";case _r.DELETED:return"secondary";case _r.NOT_VERIFIED:return"info";default:return"default"}},re=z=>{const De=Object.entries(_r).find(([,oe])=>oe===z);return De?De[0].replace(/_/g," ").toLowerCase().replace(/\b\w/g,oe=>oe.toUpperCase()):"Unknown"},Ee=[{id:"displayName",label:"User",minWidth:200,sortable:!0,format:(z,De)=>{var oe;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(wn,{src:De.photoUrl,sx:{width:40,height:40},children:(z==null?void 0:z[0])||((oe=De.email)==null?void 0:oe[0])}),t.jsxs(C,{children:[t.jsx(v,{variant:"body2",fontWeight:"medium",noWrap:!0,children:z}),t.jsx(v,{variant:"caption",color:"text.secondary",noWrap:!0,children:De.email})]})]})}},{id:"roleId",label:"Role",minWidth:120,sortable:!0,format:z=>t.jsx(Ye,{label:ae(z),color:X(z),size:"small",icon:z===Sn.SUPER_ADMIN||z===Sn.ADMIN?t.jsx(rA,{fontSize:"small"}):z===Sn.JOURNALIST||z===Sn.EDITOR?t.jsx(u0,{fontSize:"small"}):t.jsx(Zh,{fontSize:"small"})})},{id:"statusId",label:"Status",minWidth:120,sortable:!0,format:z=>t.jsx(Ye,{label:re(z),color:V(z),size:"small"})},{id:"lastLogin",label:"Last Login",minWidth:120,sortable:!0,format:z=>t.jsx(v,{variant:"body2",children:z?new Date(z).toLocaleDateString():"Never"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:z=>t.jsx(v,{variant:"body2",children:new Date(z).toLocaleDateString()})},{id:"updatedAt",label:"Updated",minWidth:120,sortable:!0,format:z=>t.jsx(v,{variant:"body2",children:new Date(z).toLocaleDateString()})}],be=Object.entries(_r).map(([z,De])=>({value:De,label:z.replace(/_/g," ").toLowerCase().replace(/\b\w/g,oe=>oe.toUpperCase())})),_e=Object.entries(Sn).map(([z,De])=>({value:De,label:z.replace(/_/g," ").toLowerCase().replace(/\b\w/g,oe=>oe.toUpperCase())})),de=t.jsxs(ye,{direction:"row",spacing:1,children:[t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(At,{children:"Status"}),t.jsxs(wt,{value:R,label:"Status",onChange:z=>O(z.target.value),children:[t.jsx(Ce,{value:"",children:"All Status"}),be.map(z=>t.jsx(Ce,{value:z.value,children:z.label},z.value))]})]}),t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(At,{children:"Role"}),t.jsxs(wt,{value:A,label:"Role",onChange:z=>L(z.target.value),children:[t.jsx(Ce,{value:"",children:"All Roles"}),_e.map(z=>t.jsx(Ce,{value:z.value,children:z.label},z.value))]})]})]}),te=z=>t.jsxs(ye,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View/Edit",children:t.jsx(Le,{size:"small",onClick:De=>{De.stopPropagation(),G(z)},children:t.jsx(ws,{fontSize:"small"})})}),z.statusId===_r.ACTIVE&&t.jsx(jt,{title:"Block User",children:t.jsx(Le,{size:"small",onClick:De=>{De.stopPropagation()},children:t.jsx(y0,{fontSize:"small",color:"warning"})})}),(z.statusId===_r.BLOCKED||z.statusId===_r.SUSPENDED)&&t.jsx(jt,{title:"Activate User",children:t.jsx(Le,{size:"small",onClick:De=>{De.stopPropagation()},children:t.jsx($i,{fontSize:"small",color:"success"})})})]});return t.jsxs(C,{children:[t.jsx(yo,{title:"User Management",columns:Ee,rows:r,totalCount:o,loading:c,error:u,selected:x,onSelectionChange:p,onEdit:G,onDelete:q,onRefresh:Z,onSearch:_,onSort:(z,De)=>{H(z),se(De)},onPageChange:D,onRowsPerPageChange:I,page:j,rowsPerPage:w,searchQuery:T,sortColumn:W,sortDirection:N,filters:de,rowActions:te}),t.jsxs(en,{open:m,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(sn,{children:"Edit User"}),t.jsx(tn,{children:b&&t.jsxs(ye,{spacing:3,sx:{pt:1},children:[t.jsx(Ne,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"User Information"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(rt,{label:"Display Name",fullWidth:!0,defaultValue:b.displayName,onChange:z=>S({...b,displayName:z.target.value})})}),t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(rt,{label:"Email",fullWidth:!0,defaultValue:b.email,onChange:z=>S({...b,email:z.target.value})})}),t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(rt,{label:"Photo URL",fullWidth:!0,defaultValue:b.photoUrl,onChange:z=>S({...b,photoUrl:z.target.value})})})]})]})}),t.jsx(Ne,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Role & Status"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsx($,{item:!0,xs:12,sm:6,children:t.jsxs(bt,{fullWidth:!0,children:[t.jsx(At,{children:"Role"}),t.jsx(wt,{value:b.roleId,label:"Role",onChange:z=>S({...b,roleId:z.target.value}),children:_e.map(z=>t.jsx(Ce,{value:z.value,children:z.label},z.value))})]})}),t.jsx($,{item:!0,xs:12,sm:6,children:t.jsxs(bt,{fullWidth:!0,children:[t.jsx(At,{children:"Status"}),t.jsx(wt,{value:b.statusId,label:"Status",onChange:z=>S({...b,statusId:z.target.value}),children:be.map(z=>t.jsx(Ce,{value:z.value,children:z.label},z.value))})]})})]})]})}),t.jsx(Ne,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"System Information"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"User ID"}),t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:b.id})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"External ID"}),t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:b.externalId})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(v,{variant:"body2",children:new Date(b.createdAt).toLocaleString()})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Last Login"}),t.jsx(v,{variant:"body2",children:b.lastLogin?new Date(b.lastLogin).toLocaleString():"Never"})]})]})]})}),b.channelSubscriptions&&b.channelSubscriptions.length>0&&t.jsx(Ne,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsxs(v,{variant:"h6",gutterBottom:!0,children:["Channel Subscriptions (",b.channelSubscriptions.length,")"]}),t.jsxs(ye,{spacing:1,children:[b.channelSubscriptions.slice(0,5).map((z,De)=>{var oe;return t.jsxs(C,{sx:{p:1,border:1,borderColor:"divider",borderRadius:1},children:[t.jsx(v,{variant:"body2",fontWeight:"medium",children:((oe=z.channel)==null?void 0:oe.name)||"Unknown Channel"}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Status: ",z.status,"  Started: ",new Date(z.subscribedAt).toLocaleDateString()]})]},De)}),b.channelSubscriptions.length>5&&t.jsxs(v,{variant:"caption",color:"text.secondary",children:["And ",b.channelSubscriptions.length-5," more..."]})]})]})})]})}),t.jsxs(nn,{children:[t.jsx(xe,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(xe,{onClick:()=>K(b),variant:"contained",children:"Save Changes"})]})]})]})},h7=()=>{var Ge,ue,we;const{api:e}=Xe(),{execute:n}=nt(),[r,s]=g.useState([]),[o,a]=g.useState(0),[c,d]=g.useState(!1),[u,h]=g.useState(null),[x,p]=g.useState([]),[m,y]=g.useState(!1),[b,S]=g.useState(null),[j,D]=g.useState(!1),[w,I]=g.useState(null),[T,_]=g.useState(0),[R,O]=g.useState(25),[A,L]=g.useState(""),[W,H]=g.useState(""),[N,se]=g.useState(""),[Z,G]=g.useState(""),[q,K]=g.useState(""),[X,ae]=g.useState("created_at"),[V,re]=g.useState("desc"),Ee=async()=>{var Y;d(!0),h(null);try{const ge={};A&&(ge.search=A),W&&(ge.status=W),N&&(ge.type=N),Z==="true"&&(ge.verified=!0),q==="true"&&(ge.trending=!0);const Je=await n(()=>e.tagApi.getTags(ge,{page:T+1,limit:R}),{showErrorToast:!1});Je&&(s(Je.items||[]),a(((Y=Je.metadata)==null?void 0:Y.total)||0))}catch{h("Failed to fetch tags")}finally{d(!1)}};g.useEffect(()=>{Ee()},[T,R,A,W,N,Z,q,X,V]);const be=Y=>{S(Y),y(!0)},_e=async Y=>{const ge=Y.map(Je=>Je.id);try{await Promise.all(ge.map(Je=>n(()=>e.tagApi.deleteTag(Je)))),p([]),Ee()}catch{h("Failed to delete tags")}},de=(Y,ge)=>{S(Y),I(ge),D(!0)},te=async()=>{if(!(!b||!w))try{w==="approve"?await n(()=>e.tagApi.approveTag(b.id)):await n(()=>e.tagApi.rejectTag(b.id)),D(!1),S(null),I(null),Ee()}catch{h(`Failed to ${w} tag`)}},z=async Y=>{if(b)try{await n(()=>e.tagApi.updateTag(b.id,Y)),y(!1),S(null),Ee()}catch{h("Failed to update tag")}},De=Y=>{switch(Y){case 1:return"warning";case 2:return"success";case 3:return"error";case 4:return"default";default:return"default"}},oe=Y=>{switch(Y){case 1:return"Pending";case 2:return"Approved";case 3:return"Rejected";case 4:return"Inactive";default:return"Unknown"}},le=Y=>{switch(Y){case 1:return"primary";case 2:return"secondary";case 3:return"info";case 4:return"success";default:return"default"}},ie=Y=>{switch(Y){case 1:return"News";case 2:return"Poll";case 3:return"Channel";case 4:return"General";default:return"Unknown"}},ne=[{id:"name",label:"Tag",minWidth:180,sortable:!0,format:(Y,ge)=>t.jsxs(C,{children:[t.jsxs(ye,{direction:"row",alignItems:"center",spacing:1,children:[t.jsx(nf,{fontSize:"small",color:"action"}),t.jsx(v,{variant:"body2",fontWeight:"medium",children:Y}),ge.isVerified&&t.jsx(sA,{fontSize:"small",color:"primary"}),ge.isTrending&&t.jsx(us,{fontSize:"small",color:"warning"})]}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["@",ge.slug,"  ID: ",ge.id]})]})},{id:"typeId",label:"Type",minWidth:100,sortable:!0,format:Y=>t.jsx(Ye,{label:ie(Y),color:le(Y),size:"small"})},{id:"statusId",label:"Status",minWidth:100,sortable:!0,format:Y=>t.jsx(Ye,{label:oe(Y),color:De(Y),size:"small"})},{id:"analytics",label:"Analytics",minWidth:150,format:(Y,ge)=>{var Je,yt,ln,Ft,Rt,Jt;return t.jsxs(ye,{spacing:.5,children:[t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Views: ",((yt=(Je=ge.analytics)==null?void 0:Je.viewCount)==null?void 0:yt.toLocaleString())||"0"]}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Usage: ",((Ft=(ln=ge.analytics)==null?void 0:ln.usageCount)==null?void 0:Ft.toLocaleString())||"0"]}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Searches: ",((Jt=(Rt=ge.analytics)==null?void 0:Rt.searchCount)==null?void 0:Jt.toLocaleString())||"0"]})]})}},{id:"createdBy",label:"Created By",minWidth:120,format:Y=>t.jsx(v,{variant:"body2",children:Y||"System"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:Y=>t.jsx(v,{variant:"body2",children:new Date(Y).toLocaleDateString()})},{id:"approvedAt",label:"Approved",minWidth:120,sortable:!0,format:Y=>t.jsx(v,{variant:"body2",children:Y?new Date(Y).toLocaleDateString():"-"})}],me=[{value:1,label:"Pending"},{value:2,label:"Approved"},{value:3,label:"Rejected"},{value:4,label:"Inactive"}],he=[{value:1,label:"News"},{value:2,label:"Poll"},{value:3,label:"Channel"},{value:4,label:"General"}],Oe=t.jsxs(ye,{direction:"row",spacing:1,children:[t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(At,{children:"Status"}),t.jsxs(wt,{value:W,label:"Status",onChange:Y=>H(Y.target.value),children:[t.jsx(Ce,{value:"",children:"All Status"}),me.map(Y=>t.jsx(Ce,{value:Y.value,children:Y.label},Y.value))]})]}),t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(At,{children:"Type"}),t.jsxs(wt,{value:N,label:"Type",onChange:Y=>se(Y.target.value),children:[t.jsx(Ce,{value:"",children:"All Types"}),he.map(Y=>t.jsx(Ce,{value:Y.value,children:Y.label},Y.value))]})]}),t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(At,{children:"Verified"}),t.jsxs(wt,{value:Z,label:"Verified",onChange:Y=>G(Y.target.value),children:[t.jsx(Ce,{value:"",children:"All"}),t.jsx(Ce,{value:"true",children:"Verified Only"}),t.jsx(Ce,{value:"false",children:"Not Verified"})]})]}),t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(At,{children:"Trending"}),t.jsxs(wt,{value:q,label:"Trending",onChange:Y=>K(Y.target.value),children:[t.jsx(Ce,{value:"",children:"All"}),t.jsx(Ce,{value:"true",children:"Trending Only"}),t.jsx(Ce,{value:"false",children:"Not Trending"})]})]})]}),Re=Y=>t.jsxs(ye,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View Details",children:t.jsx(Le,{size:"small",onClick:ge=>{ge.stopPropagation(),be(Y)},children:t.jsx(ws,{fontSize:"small"})})}),t.jsx(jt,{title:"Edit",children:t.jsx(Le,{size:"small",onClick:ge=>{ge.stopPropagation(),be(Y)},children:t.jsx(hs,{fontSize:"small"})})}),Y.statusId===1&&t.jsxs(t.Fragment,{children:[t.jsx(jt,{title:"Approve",children:t.jsx(Le,{size:"small",onClick:ge=>{ge.stopPropagation(),de(Y,"approve")},children:t.jsx($i,{fontSize:"small",color:"success"})})}),t.jsx(jt,{title:"Reject",children:t.jsx(Le,{size:"small",onClick:ge=>{ge.stopPropagation(),de(Y,"reject")},children:t.jsx(Ss,{fontSize:"small",color:"error"})})})]}),t.jsx(jt,{title:"View Analytics",children:t.jsx(Le,{size:"small",onClick:ge=>{ge.stopPropagation()},children:t.jsx(as,{fontSize:"small",color:"info"})})})]});return t.jsxs(C,{children:[t.jsx(yo,{title:"Tag Management",columns:ne,rows:r,totalCount:o,loading:c,error:u,selected:x,onSelectionChange:p,onEdit:be,onDelete:_e,onRefresh:Ee,onSearch:L,onSort:(Y,ge)=>{ae(Y),re(ge)},onPageChange:_,onRowsPerPageChange:O,page:T,rowsPerPage:R,searchQuery:A,sortColumn:X,sortDirection:V,filters:Oe,rowActions:Re,actions:t.jsx(xe,{variant:"outlined",startIcon:t.jsx(Ua,{}),onClick:()=>{},children:"Suggestions"})}),t.jsxs(en,{open:m,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(sn,{children:"Edit Tag"}),t.jsx(tn,{children:b&&t.jsxs(ye,{spacing:3,sx:{pt:1},children:[t.jsx(Ne,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Tag Information"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(rt,{label:"Tag Name",fullWidth:!0,defaultValue:b.name,onChange:Y=>S({...b,name:Y.target.value})})}),t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(rt,{label:"Slug",fullWidth:!0,defaultValue:b.slug,onChange:Y=>S({...b,slug:Y.target.value})})}),t.jsx($,{item:!0,xs:12,sm:6,children:t.jsxs(bt,{fullWidth:!0,children:[t.jsx(At,{children:"Type"}),t.jsx(wt,{value:b.typeId,label:"Type",onChange:Y=>S({...b,typeId:Y.target.value}),children:he.map(Y=>t.jsx(Ce,{value:Y.value,children:Y.label},Y.value))})]})}),t.jsx($,{item:!0,xs:12,sm:6,children:t.jsxs(bt,{fullWidth:!0,children:[t.jsx(At,{children:"Status"}),t.jsx(wt,{value:b.statusId,label:"Status",onChange:Y=>S({...b,statusId:Y.target.value}),children:me.map(Y=>t.jsx(Ce,{value:Y.value,children:Y.label},Y.value))})]})})]})]})}),t.jsx(Ne,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Tag Properties"}),t.jsxs(ye,{spacing:2,children:[t.jsx(Pi,{control:t.jsx(fc,{checked:b.isVerified,onChange:Y=>S({...b,isVerified:Y.target.checked})}),label:"Verified Tag"}),t.jsx(Pi,{control:t.jsx(fc,{checked:b.isTrending,onChange:Y=>S({...b,isTrending:Y.target.checked})}),label:"Trending Tag"})]})]})}),b.analytics&&t.jsx(Ne,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Analytics"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:12,sm:4,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"View Count"}),t.jsx(v,{variant:"h6",children:((Ge=b.analytics.viewCount)==null?void 0:Ge.toLocaleString())||"0"})]}),t.jsxs($,{item:!0,xs:12,sm:4,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Usage Count"}),t.jsx(v,{variant:"h6",children:((ue=b.analytics.usageCount)==null?void 0:ue.toLocaleString())||"0"})]}),t.jsxs($,{item:!0,xs:12,sm:4,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Search Count"}),t.jsx(v,{variant:"h6",children:((we=b.analytics.searchCount)==null?void 0:we.toLocaleString())||"0"})]})]}),b.analytics.lastTrendingAt&&t.jsxs(ct,{severity:"info",sx:{mt:2},children:["Last trending: ",new Date(b.analytics.lastTrendingAt).toLocaleString()]})]})}),t.jsx(Ne,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"System Information"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Tag ID"}),t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:b.id})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Created By"}),t.jsx(v,{variant:"body2",children:b.createdBy||"System"})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(v,{variant:"body2",children:new Date(b.createdAt).toLocaleString()})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Approved"}),t.jsx(v,{variant:"body2",children:b.approvedAt?`${new Date(b.approvedAt).toLocaleString()} by ${b.approvedBy||"System"}`:"Not approved"})]})]})]})})]})}),t.jsxs(nn,{children:[t.jsx(xe,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(xe,{onClick:()=>z(b),variant:"contained",children:"Save Changes"})]})]}),t.jsxs(en,{open:j,onClose:()=>D(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsxs(sn,{children:[w==="approve"&&"Approve Tag",w==="reject"&&"Reject Tag"]}),t.jsx(tn,{children:t.jsxs(ye,{spacing:2,sx:{pt:1},children:[b&&t.jsxs(ct,{severity:w==="approve"?"success":"warning",children:[w==="approve"&&`Approving tag "${b.name}"`,w==="reject"&&`Rejecting tag "${b.name}"`]}),t.jsx(v,{variant:"body2",color:"text.secondary",children:w==="approve"?"This tag will be made available for use across the platform.":"This tag will be rejected and won't be available for use."})]})}),t.jsxs(nn,{children:[t.jsx(xe,{onClick:()=>D(!1),children:"Cancel"}),t.jsxs(xe,{onClick:te,variant:"contained",color:w==="approve"?"success":"error",children:[w==="approve"&&"Approve",w==="reject"&&"Reject"]})]})]})]})},f7=()=>{const{isLoading:e,error:n}=ed();return e?t.jsx(SF,{}):n?t.jsx(wF,{error:n}):t.jsxs(gA,{children:[t.jsx(He,{path:ve.HOME,element:t.jsx(Ok,{})}),t.jsx(He,{path:ve.LOGIN,element:t.jsx(Ik,{})}),t.jsx(He,{path:ve.SIGNUP,element:t.jsx(Tk,{})}),t.jsx(He,{path:ve.POST_SIGNUP,element:t.jsx(Ak,{})}),t.jsxs(He,{path:`${ve.APP_ROOT}/*`,element:t.jsx(Xu,{children:t.jsx(FO,{})}),children:[t.jsxs(He,{path:`${Tn.ROOT}/*`,children:[t.jsx(He,{path:Tn.SUBPATHS.TRENDING,element:t.jsx(Oh,{filters:{trending:!0}},"trending")}),t.jsx(He,{path:Tn.SUBPATHS.MY_FEED,element:t.jsx(Oh,{filters:{feed:!0}},"feed")}),t.jsx(He,{path:Tn.SUBPATHS.DISCOVER,element:t.jsx(OL,{})}),t.jsx(He,{path:`${Tn.VIEW}`,element:t.jsx(TL,{})})]}),t.jsxs(He,{path:`${mr.ROOT}/*`,children:[t.jsx(He,{index:!0,element:t.jsx(HL,{})}),t.jsx(He,{path:`${mr.VIEW}`,element:t.jsx(m$,{})})]}),t.jsxs(He,{path:`${lr.ROOT}/*`,children:[t.jsx(He,{index:!0,element:t.jsx(g$,{})}),t.jsx(He,{path:`${lr.VIEW}`,element:t.jsx(T$,{})})]}),t.jsx(He,{path:`${ro.ROOT}/*`,children:t.jsx(He,{index:!0,element:t.jsx(B$,{})})}),t.jsxs(He,{path:`${gr.ROOT}/*`,children:[t.jsx(He,{index:!0,element:t.jsx(z$,{})}),t.jsx(He,{path:`${gr.VIEW}`,element:t.jsx(H$,{})})]}),t.jsx(He,{path:jc.ROOT,element:t.jsx(Gb,{})})]}),t.jsxs(He,{path:`${ve.STUDIO_ROOT}/*`,element:t.jsx(Xu,{children:t.jsx(mk,{})}),children:[t.jsxs(He,{path:`${Tn.ROOT}/*`,children:[t.jsx(He,{index:!0,element:t.jsx(pF,{})}),t.jsx(He,{path:`${Tn.CREATE}`,element:t.jsx(rF,{})}),t.jsx(He,{path:`${Tn.EDIT}/:id`,element:t.jsx(sF,{})}),t.jsx(He,{path:`${Tn.VIEW}`,element:t.jsx(iF,{})})]}),t.jsxs(He,{path:`${mr.ROOT}/*`,children:[t.jsx(He,{index:!0,element:t.jsx(mF,{})}),t.jsx(He,{path:`${mr.CREATE}`,element:t.jsx(gF,{})}),t.jsx(He,{path:`${mr.VIEW}`,element:t.jsx(jF,{})}),t.jsx(He,{path:`${mr.EDIT}/:id`,element:t.jsx(sV,{})})]}),t.jsxs(He,{path:`${lr.ROOT}/*`,children:[t.jsx(He,{index:!0,element:t.jsx(iV,{})}),t.jsx(He,{path:`${lr.CREATE}`,element:t.jsx(FH,{})}),t.jsx(He,{path:`${lr.EDIT}/:id`,element:t.jsx(WH,{})}),t.jsx(He,{path:`${lr.VIEW}`,element:t.jsx(YH,{})})]}),t.jsxs(He,{path:`${gr.ROOT}/*`,children:[t.jsx(He,{index:!0,element:t.jsx(qH,{})}),t.jsx(He,{path:`${gr.CREATE}`,element:t.jsx(KH,{})}),t.jsx(He,{path:`${gr.EDIT}/:id`,element:t.jsx(JH,{})}),t.jsx(He,{path:`${gr.VIEW}`,element:t.jsx(XH,{})})]}),t.jsx(He,{path:jc.ROOT,element:t.jsx(Gb,{})})]}),t.jsxs(He,{path:`${ve.ADMIN_ROOT}/*`,element:t.jsx(Xu,{children:t.jsx(jk,{})}),children:[t.jsx(He,{index:!0,element:t.jsx(s0,{})}),t.jsx(He,{path:Ot.DASHBOARD,element:t.jsx(s0,{})}),t.jsx(He,{path:Ot.NEWS,element:t.jsx(o7,{})}),t.jsx(He,{path:Ot.POLLS,element:t.jsx(i7,{})}),t.jsx(He,{path:Ot.CHANNELS,element:t.jsx(a7,{})}),t.jsx(He,{path:Ot.EXPENSE_ORDERS,element:t.jsx(l7,{})}),t.jsx(He,{path:Ot.PAYOUTS,element:t.jsx(c7,{})}),t.jsx(He,{path:Ot.TAGS,element:t.jsx(h7,{})}),t.jsx(He,{path:Ot.USERS,element:t.jsx(u7,{})}),t.jsxs(He,{path:`${Ot.SUBSCRIPTIONS}/*`,children:[t.jsx(He,{index:!0,element:t.jsx(d7,{})}),t.jsx(He,{path:xi.MANAGEMENT,element:t.jsx(e7,{})}),t.jsx(He,{path:xi.ANALYTICS,element:t.jsx(t7,{})}),t.jsx(He,{path:xi.REVENUE,element:t.jsx(n7,{})})]}),t.jsx(He,{path:Ot.ANALYTICS,element:t.jsx(r7,{})}),t.jsx(He,{path:Ot.SETTINGS,element:t.jsx(s7,{})}),t.jsx(He,{path:"users",element:t.jsx(QH,{})}),t.jsx(He,{path:"channels",element:t.jsx(ZH,{})})]}),t.jsx(He,{path:"*",element:t.jsx(bF,{})})]})},p7={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},x7={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",dayOfMonthFull:"do",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class m7{constructor(n){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib=void 0,this.locale=void 0,this.formats=void 0,this.formatTokenMap=p7,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=c=>typeof c>"u"?new Date:c===null?null:new Date(c),this.getInvalidDate=()=>new Date("Invalid Date"),this.getTimezone=()=>"default",this.setTimezone=c=>c,this.toJsDate=c=>c,this.getCurrentLocaleCode=()=>this.locale.code,this.is12HourCycleInCurrentLocale=()=>/a/.test(this.locale.formatLong.time({width:"short"})),this.expandFormat=c=>{const d=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return c.match(d).map(u=>{const h=u[0];if(h==="p"||h==="P"){const x=this.longFormatters[h];return x(u,this.locale.formatLong)}return u}).join("")},this.formatNumber=c=>c,this.getDayOfWeek=c=>c.getDay()+1;const{locale:r,formats:s,longFormatters:o,lib:a}=n;this.locale=r,this.formats=B({},x7,s),this.longFormatters=o,this.lib=a||"date-fns"}}class g7 extends m7{constructor({locale:n,formats:r}={}){super({locale:n??id,formats:r,longFormatters:Dc}),this.parse=(s,o)=>s===""?null:u5(s,o,new Date,{locale:this.locale}),this.isValid=s=>s==null?!1:uv(s),this.format=(s,o)=>this.formatByString(s,this.formats[o]),this.formatByString=(s,o)=>sp(s,o,{locale:this.locale}),this.isEqual=(s,o)=>s===null&&o===null?!0:s===null||o===null?!1:mN(s,o),this.isSameYear=(s,o)=>x5(s,o),this.isSameMonth=(s,o)=>p5(s,o),this.isSameDay=(s,o)=>oM(s,o),this.isSameHour=(s,o)=>f5(s,o),this.isAfter=(s,o)=>Zu(s,o),this.isAfterYear=(s,o)=>Zu(s,Tb(o)),this.isAfterDay=(s,o)=>Zu(s,Rh(o)),this.isBefore=(s,o)=>eh(s,o),this.isBeforeYear=(s,o)=>eh(s,this.startOfYear(o)),this.isBeforeDay=(s,o)=>eh(s,this.startOfDay(o)),this.isWithinRange=(s,[o,a])=>m5(s,{start:o,end:a}),this.startOfYear=s=>fv(s),this.startOfMonth=s=>fM(s),this.startOfWeek=s=>Vs(s,{locale:this.locale}),this.startOfDay=s=>Ea(s),this.endOfYear=s=>Tb(s),this.endOfMonth=s=>hv(s),this.endOfWeek=s=>pM(s,{locale:this.locale}),this.endOfDay=s=>Rh(s),this.addYears=(s,o)=>rM(s,o),this.addMonths=(s,o)=>lv(s,o),this.addWeeks=(s,o)=>nM(s,o),this.addDays=(s,o)=>od(s,o),this.addHours=(s,o)=>Jk(s,o),this.addMinutes=(s,o)=>eM(s,o),this.addSeconds=(s,o)=>tM(s,o),this.getYear=s=>xN(s),this.getMonth=s=>fN(s),this.getDate=s=>aN(s),this.getHours=s=>cN(s),this.getMinutes=s=>hN(s),this.getSeconds=s=>pN(s),this.getMilliseconds=s=>uN(s),this.setYear=(s,o)=>w5(s,o),this.setMonth=(s,o)=>g5(s,o),this.setDate=(s,o)=>b5(s,o),this.setHours=(s,o)=>y5(s,o),this.setMinutes=(s,o)=>j5(s,o),this.setSeconds=(s,o)=>S5(s,o),this.setMilliseconds=(s,o)=>v5(s,o),this.getDaysInMonth=s=>bv(s),this.getWeekArray=s=>{const o=this.startOfWeek(this.startOfMonth(s)),a=this.endOfWeek(this.endOfMonth(s));let c=0,d=o;const u=[];for(;this.isBefore(d,a);){const h=Math.floor(c/7);u[h]=u[h]||[],u[h].push(d),d=this.addDays(d,1),c+=1}return u},this.getWeekNumber=s=>rp(s,{locale:this.locale}),this.getYearRange=([s,o])=>{const a=this.startOfYear(s),c=this.endOfYear(o),d=[];let u=a;for(;this.isBefore(u,c);)d.push(u),u=this.addYears(u,1);return d}}}document.title="Meta Journo v1.1.0";vh.createRoot(document.getElementById("root")).render(t.jsx(Dt.StrictMode,{children:t.jsx(bA,{children:t.jsx(oO,{children:t.jsx(__,{children:t.jsx(O_,{children:t.jsx(ML,{children:t.jsx(XO,{children:t.jsx(N_,{children:t.jsx(gS,{dateAdapter:g7,children:t.jsx(f7,{})})})})})})})})})}));
