var iT=Object.defineProperty;var lT=(e,n,r)=>n in e?iT(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r;var Ee=(e,n,r)=>(lT(e,typeof n!="symbol"?n+"":n,r),r);import{d as rf,r as m,j as t,e as cT,u as dT,i as tt,S as p0,A as dt,B as C,L as jr,f as dr,h as en,k as Yt,D as Bt,T as j,l as Cn,c as li,s as Me,m as ot,n as uT,o as Ze,I as Qr,p as Fe,q as Gi,C as hT,t as us,U as sf,v as of,N as Wo,w as Yc,x as mn,y as qc,z as Fs,M as xo,E as Ce,F as wa,G as x0,H as fT,J as pT,K as Ke,O as Sh,Q as xT,V as m0,W as af,X as ho,Y as Bs,Z as Ca,_ as lf,$ as Pa,a0 as is,a1 as dc,a2 as he,a3 as Et,a4 as Kc,a5 as mT,a6 as gT,a7 as bT,a8 as F,a9 as $e,aa as Be,ab as ge,R as Dt,ac as fe,ad as yT,ae as vT,af as jT,ag as ST,ah as wT,ai as CT,aj as PT,ak as _n,al as IT,am as wh,an as Ia,ao as g0,ap as uc,aq as hc,ar as fc,as as cf,at as pc,au as Vs,av as jt,aw as Ps,ax as DT,ay as qt,az as tn,aA as Kt,aB as Xt,aC as ce,aD as mo,aE as tr,aF as hs,aG as Cs,aH as b0,aI as xc,aJ as y0,aK as Ch,aL as ET,aM as df,aN as TT,aO as Ws,aP as AT,aQ as RT,aR as _T,aS as OT,aT as v0,aU as ft,aV as kT,aW as MT,aX as Da,aY as db,aZ as NT,a_ as LT,a$ as Xc,b0 as fo,b1 as j0,b2 as $T,b3 as FT,b4 as wt,b5 as mt,b6 as WT,b7 as Yu,b8 as BT,b9 as VT,ba as mc,bb as UT,bc as zT,bd as S0,be as HT,bf as Wa,bg as GT,bh as U,bi as YT,bj as qT,bk as KT,P as ne,b as XT,a as nn,bl as at,bm as Ht,bn as go,bo as Is,bp as w0,bq as JT,br as C0,bs as Hs,bt as P0,bu as QT,bv as I0,bw as Jc,bx as ZT,by as eA,bz as tA,bA as nA,bB as ub,bC as rA,bD as sA,bE as gc,bF as D0,bG as uf,bH as hf,bI as ff,bJ as io,bK as yt,bL as bc,bM as pf,bN as oA,bO as aA,bP as iA,bQ as lA,bR as cA,bS as dA,bT as uA,bU as E0,bV as hA,bW as fA,bX as pA}from"./vendor-mui-C8IoGBw0.js";import{o as xA,s as mA,a as gA,c as bA,b as yA,i as vA,g as jA,G as SA,T as wA,F as CA,O as PA}from"./vendor-firebase-DaqPSQOy.js";import{u as zo,L as qn,a as Pt,O as xf,N as hb,b as T0,c as es,R as IA,d as qe,B as DA}from"./vendor-core-DxbnwfQO.js";import{T as EA,v as TA,G as AA,f as RA,m as _A,d as OA,s as kA,a as MA,P as NA,I as LA,F as $A,i as FA,n as WA}from"./vendor-editor-D13Gvn5f.js";import{i as BA,R as wi,L as A0,C as yc,X as vc,Y as jc,T as Ci,a as Sc,b as ma,P as VA,c as UA,d as zA,B as R0,e as wc}from"./vendor-charts-CTsDP8Qs.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();var Ph={},fb=rf;Ph.createRoot=fb.createRoot,Ph.hydrateRoot=fb.hydrateRoot;const Ge={HOME:"/",APP:"/app",STUDIO:"/studio",AUTH:"/auth",ADMIN:"/admin"},An={ROOT:"news",SUBPATHS:{TRENDING:"trending",MY_FEED:"feed",DISCOVER:"discover"},CREATE:"create",EDIT:"edit",VIEW:":id"},gr={ROOT:"channels",CREATE:"create",EDIT:"edit",VIEW:":id"},cr={ROOT:"polls",CREATE:"create",EDIT:"edit",VIEW:":id"},ao={ROOT:"account",PROFILE:"profile",PAYMENT_METHODS:"payment-methods",SUBSCRIPTIONS:"subscriptions"},br={ROOT:"expense-orders",CREATE:"create",EDIT:"edit",VIEW:":id"},Cc={ROOT:"search"},Ot={ROOT:"admin",DASHBOARD:"dashboard",USERS:"users",CHANNELS:"channels",NEWS:"news",POLLS:"polls",EXPENSE_ORDERS:"expense-orders",PAYOUTS:"payouts",TAGS:"tags",SUBSCRIPTIONS:"subscriptions",ANALYTICS:"analytics",SETTINGS:"settings"},ga={ROOT:"subscriptions",MANAGEMENT:"management",ANALYTICS:"analytics",REVENUE:"revenue"},Yl={ROOT:"users",LIST:"list",VIEW:":id",EDIT:":id/edit",ROLES:"roles"},ql={ROOT:"channels",LIST:"list",VIEW:":id",EDIT:":id/edit",ANALYTICS:"analytics"},Ye="/journalist-material-client/".replace(/\/$/,""),ye={HOME:`${Ye}${Ge.HOME}`,LOGIN:`${Ye}${Ge.AUTH}/login`,SIGNUP:`${Ye}${Ge.AUTH}/signup`,POST_SIGNUP:`${Ye}${Ge.AUTH}/welcome`,APP_ROOT:`${Ye}${Ge.APP}`,APP_NEWS:`${Ye}${Ge.APP}/${An.ROOT}`,APP_NEWS_TRENDING:`${Ye}${Ge.APP}/${An.ROOT}/trending`,APP_NEWS_MY_FEED:`${Ye}${Ge.APP}/${An.ROOT}/feed`,APP_NEWS_DISCOVER:`${Ye}${Ge.APP}/${An.ROOT}/discover`,APP_NEWS_VIEW:`${Ye}${Ge.APP}/${An.ROOT}/:id`,APP_CHANNELS:`${Ye}${Ge.APP}/${gr.ROOT}`,APP_CHANNEL_VIEW:`${Ye}${Ge.APP}/${gr.ROOT}/:channelId`,APP_POLL_LIST:`${Ye}${Ge.APP}/${cr.ROOT}`,APP_POLL_VIEW:`${Ye}${Ge.APP}/${cr.ROOT}/:id`,APP_EXPLORE:`${Ye}${Ge.APP}/explore`,APP_SUBSCRIPTIONS:`${Ye}${Ge.APP}/subscriptions`,APP_POLLS:`${Ye}${Ge.APP}/${cr.ROOT}`,APP_SEARCH:`${Ye}${Ge.APP}/${Cc.ROOT}`,APP_ACCOUNT:`${Ye}${Ge.APP}/${ao.ROOT}`,APP_ACCOUNT_PROFILE:`${Ye}${Ge.APP}/${ao.ROOT}/${ao.PROFILE}`,APP_ACCOUNT_PAYMENT_METHODS:`${Ye}${Ge.APP}/${ao.ROOT}/${ao.PAYMENT_METHODS}`,APP_ACCOUNT_SUBSCRIPTIONS:`${Ye}${Ge.APP}/${ao.ROOT}/${ao.SUBSCRIPTIONS}`,APP_EXPENSE_ORDERS:`${Ye}${Ge.APP}/${br.ROOT}`,APP_EXPENSE_ORDER_VIEW:`${Ye}${Ge.APP}/${br.ROOT}/:id`,STUDIO_ROOT:`${Ye}${Ge.STUDIO}`,STUDIO_NEWS:`${Ye}${Ge.STUDIO}/${An.ROOT}`,STUDIO_NEWS_CREATE:`${Ye}${Ge.STUDIO}/${An.ROOT}/${An.CREATE}`,STUDIO_NEWS_EDIT:`${Ye}${Ge.STUDIO}/${An.ROOT}/${An.EDIT}/:id`,STUDIO_NEWS_VIEW:`${Ye}${Ge.STUDIO}/${An.ROOT}/:id`,STUDIO_CHANNELS:`${Ye}${Ge.STUDIO}/${gr.ROOT}`,STUDIO_CHANNEL_CREATE:`${Ye}${Ge.STUDIO}/${gr.ROOT}/${gr.CREATE}`,STUDIO_CHANNEL_EDIT:`${Ye}${Ge.STUDIO}/${gr.ROOT}/${gr.EDIT}/:channelId`,STUDIO_CHANNEL_VIEW:`${Ye}${Ge.STUDIO}/${gr.ROOT}/:channelId`,STUDIO_POLLS:`${Ye}${Ge.STUDIO}/${cr.ROOT}`,STUDIO_POLL_CREATE:`${Ye}${Ge.STUDIO}/${cr.ROOT}/${cr.CREATE}`,STUDIO_POLL_EDIT:`${Ye}${Ge.STUDIO}/${cr.ROOT}/${cr.EDIT}/:id`,STUDIO_POLL_VIEW:`${Ye}${Ge.STUDIO}/${cr.ROOT}/:id`,STUDIO_SEARCH:`${Ye}${Ge.STUDIO}/${Cc.ROOT}`,STUDIO_EXPENSE_ORDERS:`${Ye}${Ge.STUDIO}/${br.ROOT}`,STUDIO_EXPENSE_ORDER_CREATE:`${Ye}${Ge.STUDIO}/${br.ROOT}/${br.CREATE}`,STUDIO_EXPENSE_ORDER_EDIT:`${Ye}${Ge.STUDIO}/${br.ROOT}/${br.EDIT}/:id`,STUDIO_EXPENSE_ORDER_VIEW:`${Ye}${Ge.STUDIO}/${br.ROOT}/:id`,ADMIN_ROOT:`${Ye}${Ge.ADMIN}`,ADMIN_DASHBOARD:`${Ye}${Ge.ADMIN}/${Ot.DASHBOARD}`,ADMIN_USERS:`${Ye}${Ge.ADMIN}/${Ot.USERS}`,ADMIN_USER_LIST:`${Ye}${Ge.ADMIN}/${Ot.USERS}/${Yl.LIST}`,ADMIN_USER_VIEW:`${Ye}${Ge.ADMIN}/${Ot.USERS}/${Yl.VIEW}`,ADMIN_USER_EDIT:`${Ye}${Ge.ADMIN}/${Ot.USERS}/${Yl.EDIT}`,ADMIN_USER_ROLES:`${Ye}${Ge.ADMIN}/${Ot.USERS}/${Yl.ROLES}`,ADMIN_CHANNELS:`${Ye}${Ge.ADMIN}/${Ot.CHANNELS}`,ADMIN_CHANNEL_LIST:`${Ye}${Ge.ADMIN}/${Ot.CHANNELS}/${ql.LIST}`,ADMIN_CHANNEL_VIEW:`${Ye}${Ge.ADMIN}/${Ot.CHANNELS}/${ql.VIEW}`,ADMIN_CHANNEL_EDIT:`${Ye}${Ge.ADMIN}/${Ot.CHANNELS}/${ql.EDIT}`,ADMIN_CHANNEL_ANALYTICS:`${Ye}${Ge.ADMIN}/${Ot.CHANNELS}/${ql.ANALYTICS}`,ADMIN_NEWS:`${Ye}${Ge.ADMIN}/${Ot.NEWS}`,ADMIN_POLLS:`${Ye}${Ge.ADMIN}/${Ot.POLLS}`,ADMIN_EXPENSE_ORDERS:`${Ye}${Ge.ADMIN}/${Ot.EXPENSE_ORDERS}`,ADMIN_PAYOUTS:`${Ye}${Ge.ADMIN}/${Ot.PAYOUTS}`,ADMIN_TAGS:`${Ye}${Ge.ADMIN}/${Ot.TAGS}`,ADMIN_SUBSCRIPTIONS:`${Ye}${Ge.ADMIN}/${Ot.SUBSCRIPTIONS}`,ADMIN_SUBSCRIPTION_MANAGEMENT:`${Ye}${Ge.ADMIN}/${Ot.SUBSCRIPTIONS}/${ga.MANAGEMENT}`,ADMIN_SUBSCRIPTION_ANALYTICS:`${Ye}${Ge.ADMIN}/${Ot.SUBSCRIPTIONS}/${ga.ANALYTICS}`,ADMIN_SUBSCRIPTION_REVENUE:`${Ye}${Ge.ADMIN}/${Ot.SUBSCRIPTIONS}/${ga.REVENUE}`,ADMIN_ANALYTICS:`${Ye}${Ge.ADMIN}/${Ot.ANALYTICS}`,ADMIN_SETTINGS:`${Ye}${Ge.ADMIN}/${Ot.SETTINGS}`};function _0(e,n){return function(){return e.apply(n,arguments)}}const{toString:HA}=Object.prototype,{getPrototypeOf:mf}=Object,Qc=(e=>n=>{const r=HA.call(n);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),fs=e=>(e=e.toLowerCase(),n=>Qc(n)===e),Zc=e=>n=>typeof n===e,{isArray:Ba}=Array,Ai=Zc("undefined");function GA(e){return e!==null&&!Ai(e)&&e.constructor!==null&&!Ai(e.constructor)&&Xr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const O0=fs("ArrayBuffer");function YA(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&O0(e.buffer),n}const qA=Zc("string"),Xr=Zc("function"),k0=Zc("number"),ed=e=>e!==null&&typeof e=="object",KA=e=>e===!0||e===!1,oc=e=>{if(Qc(e)!=="object")return!1;const n=mf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},XA=fs("Date"),JA=fs("File"),QA=fs("Blob"),ZA=fs("FileList"),eR=e=>ed(e)&&Xr(e.pipe),tR=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||Xr(e.append)&&((n=Qc(e))==="formdata"||n==="object"&&Xr(e.toString)&&e.toString()==="[object FormData]"))},nR=fs("URLSearchParams"),[rR,sR,oR,aR]=["ReadableStream","Request","Response","Headers"].map(fs),iR=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Yi(e,n,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,o;if(typeof e!="object"&&(e=[e]),Ba(e))for(s=0,o=e.length;s<o;s++)n.call(null,e[s],s,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),c=i.length;let d;for(s=0;s<c;s++)d=i[s],n.call(null,e[d],d,e)}}function M0(e,n){n=n.toLowerCase();const r=Object.keys(e);let s=r.length,o;for(;s-- >0;)if(o=r[s],n===o.toLowerCase())return o;return null}const N0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,L0=e=>!Ai(e)&&e!==N0;function Ih(){const{caseless:e}=L0(this)&&this||{},n={},r=(s,o)=>{const i=e&&M0(n,o)||o;oc(n[i])&&oc(s)?n[i]=Ih(n[i],s):oc(s)?n[i]=Ih({},s):Ba(s)?n[i]=s.slice():n[i]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Yi(arguments[s],r);return n}const lR=(e,n,r,{allOwnKeys:s}={})=>(Yi(n,(o,i)=>{r&&Xr(o)?e[i]=_0(o,r):e[i]=o},{allOwnKeys:s}),e),cR=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),dR=(e,n,r,s)=>{e.prototype=Object.create(n.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),r&&Object.assign(e.prototype,r)},uR=(e,n,r,s)=>{let o,i,c;const d={};if(n=n||{},e==null)return n;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)c=o[i],(!s||s(c,e,n))&&!d[c]&&(n[c]=e[c],d[c]=!0);e=r!==!1&&mf(e)}while(e&&(!r||r(e,n))&&e!==Object.prototype);return n},hR=(e,n,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=n.length;const s=e.indexOf(n,r);return s!==-1&&s===r},fR=e=>{if(!e)return null;if(Ba(e))return e;let n=e.length;if(!k0(n))return null;const r=new Array(n);for(;n-- >0;)r[n]=e[n];return r},pR=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&mf(Uint8Array)),xR=(e,n)=>{const s=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=s.next())&&!o.done;){const i=o.value;n.call(e,i[0],i[1])}},mR=(e,n)=>{let r;const s=[];for(;(r=e.exec(n))!==null;)s.push(r);return s},gR=fs("HTMLFormElement"),bR=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,o){return s.toUpperCase()+o}),pb=(({hasOwnProperty:e})=>(n,r)=>e.call(n,r))(Object.prototype),yR=fs("RegExp"),$0=(e,n)=>{const r=Object.getOwnPropertyDescriptors(e),s={};Yi(r,(o,i)=>{let c;(c=n(o,i,e))!==!1&&(s[i]=c||o)}),Object.defineProperties(e,s)},vR=e=>{$0(e,(n,r)=>{if(Xr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(Xr(s)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},jR=(e,n)=>{const r={},s=o=>{o.forEach(i=>{r[i]=!0})};return Ba(e)?s(e):s(String(e).split(n)),r},SR=()=>{},wR=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n,qu="abcdefghijklmnopqrstuvwxyz",xb="0123456789",F0={DIGIT:xb,ALPHA:qu,ALPHA_DIGIT:qu+qu.toUpperCase()+xb},CR=(e=16,n=F0.ALPHA_DIGIT)=>{let r="";const{length:s}=n;for(;e--;)r+=n[Math.random()*s|0];return r};function PR(e){return!!(e&&Xr(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const IR=e=>{const n=new Array(10),r=(s,o)=>{if(ed(s)){if(n.indexOf(s)>=0)return;if(!("toJSON"in s)){n[o]=s;const i=Ba(s)?[]:{};return Yi(s,(c,d)=>{const u=r(c,o+1);!Ai(u)&&(i[d]=u)}),n[o]=void 0,i}}return s};return r(e,0)},DR=fs("AsyncFunction"),ER=e=>e&&(ed(e)||Xr(e))&&Xr(e.then)&&Xr(e.catch),ve={isArray:Ba,isArrayBuffer:O0,isBuffer:GA,isFormData:tR,isArrayBufferView:YA,isString:qA,isNumber:k0,isBoolean:KA,isObject:ed,isPlainObject:oc,isReadableStream:rR,isRequest:sR,isResponse:oR,isHeaders:aR,isUndefined:Ai,isDate:XA,isFile:JA,isBlob:QA,isRegExp:yR,isFunction:Xr,isStream:eR,isURLSearchParams:nR,isTypedArray:pR,isFileList:ZA,forEach:Yi,merge:Ih,extend:lR,trim:iR,stripBOM:cR,inherits:dR,toFlatObject:uR,kindOf:Qc,kindOfTest:fs,endsWith:hR,toArray:fR,forEachEntry:xR,matchAll:mR,isHTMLForm:gR,hasOwnProperty:pb,hasOwnProp:pb,reduceDescriptors:$0,freezeMethods:vR,toObjectSet:jR,toCamelCase:bR,noop:SR,toFiniteNumber:wR,findKey:M0,global:N0,isContextDefined:L0,ALPHABET:F0,generateString:CR,isSpecCompliantForm:PR,toJSONObject:IR,isAsyncFn:DR,isThenable:ER};function xt(e,n,r,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),r&&(this.config=r),s&&(this.request=s),o&&(this.response=o)}ve.inherits(xt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const W0=xt.prototype,B0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{B0[e]={value:e}});Object.defineProperties(xt,B0);Object.defineProperty(W0,"isAxiosError",{value:!0});xt.from=(e,n,r,s,o,i)=>{const c=Object.create(W0);return ve.toFlatObject(e,c,function(u){return u!==Error.prototype},d=>d!=="isAxiosError"),xt.call(c,e.message,n,r,s,o),c.cause=e,c.name=e.name,i&&Object.assign(c,i),c};const TR=null;function Dh(e){return ve.isPlainObject(e)||ve.isArray(e)}function V0(e){return ve.endsWith(e,"[]")?e.slice(0,-2):e}function mb(e,n,r){return e?e.concat(n).map(function(o,i){return o=V0(o),!r&&i?"["+o+"]":o}).join(r?".":""):n}function AR(e){return ve.isArray(e)&&!e.some(Dh)}const RR=ve.toFlatObject(ve,{},null,function(n){return/^is[A-Z]/.test(n)});function td(e,n,r){if(!ve.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,r=ve.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,v){return!ve.isUndefined(v[S])});const s=r.metaTokens,o=r.visitor||x,i=r.dots,c=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(n);if(!ve.isFunction(o))throw new TypeError("visitor must be a function");function h(g){if(g===null)return"";if(ve.isDate(g))return g.toISOString();if(!u&&ve.isBlob(g))throw new xt("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(g)||ve.isTypedArray(g)?u&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function x(g,S,v){let I=g;if(g&&!v&&typeof g=="object"){if(ve.endsWith(S,"{}"))S=s?S:S.slice(0,-2),g=JSON.stringify(g);else if(ve.isArray(g)&&AR(g)||(ve.isFileList(g)||ve.endsWith(S,"[]"))&&(I=ve.toArray(g)))return S=V0(S),I.forEach(function(D,E){!(ve.isUndefined(D)||D===null)&&n.append(c===!0?mb([S],E,i):c===null?S:S+"[]",h(D))}),!1}return Dh(g)?!0:(n.append(mb(v,S,i),h(g)),!1)}const p=[],y=Object.assign(RR,{defaultVisitor:x,convertValue:h,isVisitable:Dh});function b(g,S){if(!ve.isUndefined(g)){if(p.indexOf(g)!==-1)throw Error("Circular reference detected in "+S.join("."));p.push(g),ve.forEach(g,function(I,w){(!(ve.isUndefined(I)||I===null)&&o.call(n,I,ve.isString(w)?w.trim():w,S,y))===!0&&b(I,S?S.concat(w):[w])}),p.pop()}}if(!ve.isObject(e))throw new TypeError("data must be an object");return b(e),n}function gb(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return n[s]})}function gf(e,n){this._pairs=[],e&&td(e,this,n)}const U0=gf.prototype;U0.append=function(n,r){this._pairs.push([n,r])};U0.toString=function(n){const r=n?function(s){return n.call(this,s,gb)}:gb;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function _R(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function z0(e,n,r){if(!n)return e;const s=r&&r.encode||_R,o=r&&r.serialize;let i;if(o?i=o(n,r):i=ve.isURLSearchParams(n)?n.toString():new gf(n,r).toString(s),i){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class bb{constructor(){this.handlers=[]}use(n,r,s){return this.handlers.push({fulfilled:n,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){ve.forEach(this.handlers,function(s){s!==null&&n(s)})}}const H0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},OR=typeof URLSearchParams<"u"?URLSearchParams:gf,kR=typeof FormData<"u"?FormData:null,MR=typeof Blob<"u"?Blob:null,NR={isBrowser:!0,classes:{URLSearchParams:OR,FormData:kR,Blob:MR},protocols:["http","https","file","blob","url","data"]},bf=typeof window<"u"&&typeof document<"u",LR=(e=>bf&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),$R=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",FR=bf&&window.location.href||"http://localhost",WR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bf,hasStandardBrowserEnv:LR,hasStandardBrowserWebWorkerEnv:$R,origin:FR},Symbol.toStringTag,{value:"Module"})),ds={...WR,...NR};function BR(e,n){return td(e,new ds.classes.URLSearchParams,Object.assign({visitor:function(r,s,o,i){return ds.isNode&&ve.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},n))}function VR(e){return ve.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function UR(e){const n={},r=Object.keys(e);let s;const o=r.length;let i;for(s=0;s<o;s++)i=r[s],n[i]=e[i];return n}function G0(e){function n(r,s,o,i){let c=r[i++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),u=i>=r.length;return c=!c&&ve.isArray(o)?o.length:c,u?(ve.hasOwnProp(o,c)?o[c]=[o[c],s]:o[c]=s,!d):((!o[c]||!ve.isObject(o[c]))&&(o[c]=[]),n(r,s,o[c],i)&&ve.isArray(o[c])&&(o[c]=UR(o[c])),!d)}if(ve.isFormData(e)&&ve.isFunction(e.entries)){const r={};return ve.forEachEntry(e,(s,o)=>{n(VR(s),o,r,0)}),r}return null}function zR(e,n,r){if(ve.isString(e))try{return(n||JSON.parse)(e),ve.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const qi={transitional:H0,adapter:["xhr","http","fetch"],transformRequest:[function(n,r){const s=r.getContentType()||"",o=s.indexOf("application/json")>-1,i=ve.isObject(n);if(i&&ve.isHTMLForm(n)&&(n=new FormData(n)),ve.isFormData(n))return o?JSON.stringify(G0(n)):n;if(ve.isArrayBuffer(n)||ve.isBuffer(n)||ve.isStream(n)||ve.isFile(n)||ve.isBlob(n)||ve.isReadableStream(n))return n;if(ve.isArrayBufferView(n))return n.buffer;if(ve.isURLSearchParams(n))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let d;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return BR(n,this.formSerializer).toString();if((d=ve.isFileList(n))||s.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return td(d?{"files[]":n}:n,u&&new u,this.formSerializer)}}return i||o?(r.setContentType("application/json",!1),zR(n)):n}],transformResponse:[function(n){const r=this.transitional||qi.transitional,s=r&&r.forcedJSONParsing,o=this.responseType==="json";if(ve.isResponse(n)||ve.isReadableStream(n))return n;if(n&&ve.isString(n)&&(s&&!this.responseType||o)){const c=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(n)}catch(d){if(c)throw d.name==="SyntaxError"?xt.from(d,xt.ERR_BAD_RESPONSE,this,null,this.response):d}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ds.classes.FormData,Blob:ds.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ve.forEach(["delete","get","head","post","put","patch"],e=>{qi.headers[e]={}});const HR=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),GR=e=>{const n={};let r,s,o;return e&&e.split(`
`).forEach(function(c){o=c.indexOf(":"),r=c.substring(0,o).trim().toLowerCase(),s=c.substring(o+1).trim(),!(!r||n[r]&&HR[r])&&(r==="set-cookie"?n[r]?n[r].push(s):n[r]=[s]:n[r]=n[r]?n[r]+", "+s:s)}),n},yb=Symbol("internals");function ci(e){return e&&String(e).trim().toLowerCase()}function ac(e){return e===!1||e==null?e:ve.isArray(e)?e.map(ac):String(e)}function YR(e){const n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)n[s[1]]=s[2];return n}const qR=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ku(e,n,r,s,o){if(ve.isFunction(s))return s.call(this,n,r);if(o&&(n=r),!!ve.isString(n)){if(ve.isString(s))return n.indexOf(s)!==-1;if(ve.isRegExp(s))return s.test(n)}}function KR(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,r,s)=>r.toUpperCase()+s)}function XR(e,n){const r=ve.toCamelCase(" "+n);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(o,i,c){return this[s].call(this,n,o,i,c)},configurable:!0})})}class Sr{constructor(n){n&&this.set(n)}set(n,r,s){const o=this;function i(d,u,h){const x=ci(u);if(!x)throw new Error("header name must be a non-empty string");const p=ve.findKey(o,x);(!p||o[p]===void 0||h===!0||h===void 0&&o[p]!==!1)&&(o[p||u]=ac(d))}const c=(d,u)=>ve.forEach(d,(h,x)=>i(h,x,u));if(ve.isPlainObject(n)||n instanceof this.constructor)c(n,r);else if(ve.isString(n)&&(n=n.trim())&&!qR(n))c(GR(n),r);else if(ve.isHeaders(n))for(const[d,u]of n.entries())i(u,d,s);else n!=null&&i(r,n,s);return this}get(n,r){if(n=ci(n),n){const s=ve.findKey(this,n);if(s){const o=this[s];if(!r)return o;if(r===!0)return YR(o);if(ve.isFunction(r))return r.call(this,o,s);if(ve.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,r){if(n=ci(n),n){const s=ve.findKey(this,n);return!!(s&&this[s]!==void 0&&(!r||Ku(this,this[s],s,r)))}return!1}delete(n,r){const s=this;let o=!1;function i(c){if(c=ci(c),c){const d=ve.findKey(s,c);d&&(!r||Ku(s,s[d],d,r))&&(delete s[d],o=!0)}}return ve.isArray(n)?n.forEach(i):i(n),o}clear(n){const r=Object.keys(this);let s=r.length,o=!1;for(;s--;){const i=r[s];(!n||Ku(this,this[i],i,n,!0))&&(delete this[i],o=!0)}return o}normalize(n){const r=this,s={};return ve.forEach(this,(o,i)=>{const c=ve.findKey(s,i);if(c){r[c]=ac(o),delete r[i];return}const d=n?KR(i):String(i).trim();d!==i&&delete r[i],r[d]=ac(o),s[d]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const r=Object.create(null);return ve.forEach(this,(s,o)=>{s!=null&&s!==!1&&(r[o]=n&&ve.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,r])=>n+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...r){const s=new this(n);return r.forEach(o=>s.set(o)),s}static accessor(n){const s=(this[yb]=this[yb]={accessors:{}}).accessors,o=this.prototype;function i(c){const d=ci(c);s[d]||(XR(o,c),s[d]=!0)}return ve.isArray(n)?n.forEach(i):i(n),this}}Sr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ve.reduceDescriptors(Sr.prototype,({value:e},n)=>{let r=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(s){this[r]=s}}});ve.freezeMethods(Sr);function Xu(e,n){const r=this||qi,s=n||r,o=Sr.from(s.headers);let i=s.data;return ve.forEach(e,function(d){i=d.call(r,i,o.normalize(),n?n.status:void 0)}),o.normalize(),i}function Y0(e){return!!(e&&e.__CANCEL__)}function Va(e,n,r){xt.call(this,e??"canceled",xt.ERR_CANCELED,n,r),this.name="CanceledError"}ve.inherits(Va,xt,{__CANCEL__:!0});function q0(e,n,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):n(new xt("Request failed with status code "+r.status,[xt.ERR_BAD_REQUEST,xt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function JR(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function QR(e,n){e=e||10;const r=new Array(e),s=new Array(e);let o=0,i=0,c;return n=n!==void 0?n:1e3,function(u){const h=Date.now(),x=s[i];c||(c=h),r[o]=u,s[o]=h;let p=i,y=0;for(;p!==o;)y+=r[p++],p=p%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),h-c<n)return;const b=x&&h-x;return b?Math.round(y*1e3/b):void 0}}function ZR(e,n){let r=0;const s=1e3/n;let o=null;return function(){const c=this===!0,d=Date.now();if(c||d-r>s)return o&&(clearTimeout(o),o=null),r=d,e.apply(null,arguments);o||(o=setTimeout(()=>(o=null,r=Date.now(),e.apply(null,arguments)),s-(d-r)))}}const Pc=(e,n,r=3)=>{let s=0;const o=QR(50,250);return ZR(i=>{const c=i.loaded,d=i.lengthComputable?i.total:void 0,u=c-s,h=o(u),x=c<=d;s=c;const p={loaded:c,total:d,progress:d?c/d:void 0,bytes:u,rate:h||void 0,estimated:h&&d&&x?(d-c)/h:void 0,event:i,lengthComputable:d!=null};p[n?"download":"upload"]=!0,e(p)},r)},e_=ds.hasStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let s;function o(i){let c=i;return n&&(r.setAttribute("href",c),c=r.href),r.setAttribute("href",c),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return s=o(window.location.href),function(c){const d=ve.isString(c)?o(c):c;return d.protocol===s.protocol&&d.host===s.host}}():function(){return function(){return!0}}(),t_=ds.hasStandardBrowserEnv?{write(e,n,r,s,o,i){const c=[e+"="+encodeURIComponent(n)];ve.isNumber(r)&&c.push("expires="+new Date(r).toGMTString()),ve.isString(s)&&c.push("path="+s),ve.isString(o)&&c.push("domain="+o),i===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function n_(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function r_(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function K0(e,n){return e&&!n_(n)?r_(e,n):n}const vb=e=>e instanceof Sr?{...e}:e;function Bo(e,n){n=n||{};const r={};function s(h,x,p){return ve.isPlainObject(h)&&ve.isPlainObject(x)?ve.merge.call({caseless:p},h,x):ve.isPlainObject(x)?ve.merge({},x):ve.isArray(x)?x.slice():x}function o(h,x,p){if(ve.isUndefined(x)){if(!ve.isUndefined(h))return s(void 0,h,p)}else return s(h,x,p)}function i(h,x){if(!ve.isUndefined(x))return s(void 0,x)}function c(h,x){if(ve.isUndefined(x)){if(!ve.isUndefined(h))return s(void 0,h)}else return s(void 0,x)}function d(h,x,p){if(p in n)return s(h,x);if(p in e)return s(void 0,h)}const u={url:i,method:i,data:i,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(h,x)=>o(vb(h),vb(x),!0)};return ve.forEach(Object.keys(Object.assign({},e,n)),function(x){const p=u[x]||o,y=p(e[x],n[x],x);ve.isUndefined(y)&&p!==d||(r[x]=y)}),r}const X0=e=>{const n=Bo({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:i,headers:c,auth:d}=n;n.headers=c=Sr.from(c),n.url=z0(K0(n.baseURL,n.url),e.params,e.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let u;if(ve.isFormData(r)){if(ds.hasStandardBrowserEnv||ds.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((u=c.getContentType())!==!1){const[h,...x]=u?u.split(";").map(p=>p.trim()).filter(Boolean):[];c.setContentType([h||"multipart/form-data",...x].join("; "))}}if(ds.hasStandardBrowserEnv&&(s&&ve.isFunction(s)&&(s=s(n)),s||s!==!1&&e_(n.url))){const h=o&&i&&t_.read(i);h&&c.set(o,h)}return n},s_=typeof XMLHttpRequest<"u",o_=s_&&function(e){return new Promise(function(r,s){const o=X0(e);let i=o.data;const c=Sr.from(o.headers).normalize();let{responseType:d}=o,u;function h(){o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let x=new XMLHttpRequest;x.open(o.method.toUpperCase(),o.url,!0),x.timeout=o.timeout;function p(){if(!x)return;const b=Sr.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),S={data:!d||d==="text"||d==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:b,config:e,request:x};q0(function(I){r(I),h()},function(I){s(I),h()},S),x=null}"onloadend"in x?x.onloadend=p:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(p)},x.onabort=function(){x&&(s(new xt("Request aborted",xt.ECONNABORTED,o,x)),x=null)},x.onerror=function(){s(new xt("Network Error",xt.ERR_NETWORK,o,x)),x=null},x.ontimeout=function(){let g=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const S=o.transitional||H0;o.timeoutErrorMessage&&(g=o.timeoutErrorMessage),s(new xt(g,S.clarifyTimeoutError?xt.ETIMEDOUT:xt.ECONNABORTED,o,x)),x=null},i===void 0&&c.setContentType(null),"setRequestHeader"in x&&ve.forEach(c.toJSON(),function(g,S){x.setRequestHeader(S,g)}),ve.isUndefined(o.withCredentials)||(x.withCredentials=!!o.withCredentials),d&&d!=="json"&&(x.responseType=o.responseType),typeof o.onDownloadProgress=="function"&&x.addEventListener("progress",Pc(o.onDownloadProgress,!0)),typeof o.onUploadProgress=="function"&&x.upload&&x.upload.addEventListener("progress",Pc(o.onUploadProgress)),(o.cancelToken||o.signal)&&(u=b=>{x&&(s(!b||b.type?new Va(null,e,x):b),x.abort(),x=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const y=JR(o.url);if(y&&ds.protocols.indexOf(y)===-1){s(new xt("Unsupported protocol "+y+":",xt.ERR_BAD_REQUEST,e));return}x.send(i||null)})},a_=(e,n)=>{let r=new AbortController,s;const o=function(u){if(!s){s=!0,c();const h=u instanceof Error?u:this.reason;r.abort(h instanceof xt?h:new Va(h instanceof Error?h.message:h))}};let i=n&&setTimeout(()=>{o(new xt(`timeout ${n} of ms exceeded`,xt.ETIMEDOUT))},n);const c=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u&&(u.removeEventListener?u.removeEventListener("abort",o):u.unsubscribe(o))}),e=null)};e.forEach(u=>u&&u.addEventListener&&u.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=c,[d,()=>{i&&clearTimeout(i),i=null}]},i_=function*(e,n){let r=e.byteLength;if(!n||r<n){yield e;return}let s=0,o;for(;s<r;)o=s+n,yield e.slice(s,o),s=o},l_=async function*(e,n,r){for await(const s of e)yield*i_(ArrayBuffer.isView(s)?s:await r(String(s)),n)},jb=(e,n,r,s,o)=>{const i=l_(e,n,o);let c=0;return new ReadableStream({type:"bytes",async pull(d){const{done:u,value:h}=await i.next();if(u){d.close(),s();return}let x=h.byteLength;r&&r(c+=x),d.enqueue(new Uint8Array(h))},cancel(d){return s(d),i.return()}},{highWaterMark:2})},Sb=(e,n)=>{const r=e!=null;return s=>setTimeout(()=>n({lengthComputable:r,total:e,loaded:s}))},nd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",J0=nd&&typeof ReadableStream=="function",Eh=nd&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),c_=J0&&(()=>{let e=!1;const n=new Request(ds.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n})(),wb=64*1024,Th=J0&&!!(()=>{try{return ve.isReadableStream(new Response("").body)}catch{}})(),Ic={stream:Th&&(e=>e.body)};nd&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!Ic[n]&&(Ic[n]=ve.isFunction(e[n])?r=>r[n]():(r,s)=>{throw new xt(`Response type '${n}' is not supported`,xt.ERR_NOT_SUPPORT,s)})})})(new Response);const d_=async e=>{if(e==null)return 0;if(ve.isBlob(e))return e.size;if(ve.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(ve.isArrayBufferView(e))return e.byteLength;if(ve.isURLSearchParams(e)&&(e=e+""),ve.isString(e))return(await Eh(e)).byteLength},u_=async(e,n)=>{const r=ve.toFiniteNumber(e.getContentLength());return r??d_(n)},h_=nd&&(async e=>{let{url:n,method:r,data:s,signal:o,cancelToken:i,timeout:c,onDownloadProgress:d,onUploadProgress:u,responseType:h,headers:x,withCredentials:p="same-origin",fetchOptions:y}=X0(e);h=h?(h+"").toLowerCase():"text";let[b,g]=o||i||c?a_([o,i],c):[],S,v;const I=()=>{!S&&setTimeout(()=>{b&&b.unsubscribe()}),S=!0};let w;try{if(u&&c_&&r!=="get"&&r!=="head"&&(w=await u_(x,s))!==0){let _=new Request(n,{method:"POST",body:s,duplex:"half"}),O;ve.isFormData(s)&&(O=_.headers.get("content-type"))&&x.setContentType(O),_.body&&(s=jb(_.body,wb,Sb(w,Pc(u)),null,Eh))}ve.isString(p)||(p=p?"cors":"omit"),v=new Request(n,{...y,signal:b,method:r.toUpperCase(),headers:x.normalize().toJSON(),body:s,duplex:"half",withCredentials:p});let D=await fetch(v);const E=Th&&(h==="stream"||h==="response");if(Th&&(d||E)){const _={};["status","statusText","headers"].forEach(R=>{_[R]=D[R]});const O=ve.toFiniteNumber(D.headers.get("content-length"));D=new Response(jb(D.body,wb,d&&Sb(O,Pc(d,!0)),E&&I,Eh),_)}h=h||"text";let A=await Ic[ve.findKey(Ic,h)||"text"](D,e);return!E&&I(),g&&g(),await new Promise((_,O)=>{q0(_,O,{data:A,headers:Sr.from(D.headers),status:D.status,statusText:D.statusText,config:e,request:v})})}catch(D){throw I(),D&&D.name==="TypeError"&&/fetch/i.test(D.message)?Object.assign(new xt("Network Error",xt.ERR_NETWORK,e,v),{cause:D.cause||D}):xt.from(D,D&&D.code,e,v)}}),Ah={http:TR,xhr:o_,fetch:h_};ve.forEach(Ah,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const Cb=e=>`- ${e}`,f_=e=>ve.isFunction(e)||e===null||e===!1,Q0={getAdapter:e=>{e=ve.isArray(e)?e:[e];const{length:n}=e;let r,s;const o={};for(let i=0;i<n;i++){r=e[i];let c;if(s=r,!f_(r)&&(s=Ah[(c=String(r)).toLowerCase()],s===void 0))throw new xt(`Unknown adapter '${c}'`);if(s)break;o[c||"#"+i]=s}if(!s){const i=Object.entries(o).map(([d,u])=>`adapter ${d} `+(u===!1?"is not supported by the environment":"is not available in the build"));let c=n?i.length>1?`since :
`+i.map(Cb).join(`
`):" "+Cb(i[0]):"as no adapter specified";throw new xt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s},adapters:Ah};function Ju(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Va(null,e)}function Pb(e){return Ju(e),e.headers=Sr.from(e.headers),e.data=Xu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Q0.getAdapter(e.adapter||qi.adapter)(e).then(function(s){return Ju(e),s.data=Xu.call(e,e.transformResponse,s),s.headers=Sr.from(s.headers),s},function(s){return Y0(s)||(Ju(e),s&&s.response&&(s.response.data=Xu.call(e,e.transformResponse,s.response),s.response.headers=Sr.from(s.response.headers))),Promise.reject(s)})}const Z0="1.7.2",yf={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{yf[e]=function(s){return typeof s===e||"a"+(n<1?"n ":" ")+e}});const Ib={};yf.transitional=function(n,r,s){function o(i,c){return"[Axios v"+Z0+"] Transitional option '"+i+"'"+c+(s?". "+s:"")}return(i,c,d)=>{if(n===!1)throw new xt(o(c," has been removed"+(r?" in "+r:"")),xt.ERR_DEPRECATED);return r&&!Ib[c]&&(Ib[c]=!0,console.warn(o(c," has been deprecated since v"+r+" and will be removed in the near future"))),n?n(i,c,d):!0}};function p_(e,n,r){if(typeof e!="object")throw new xt("options must be an object",xt.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let o=s.length;for(;o-- >0;){const i=s[o],c=n[i];if(c){const d=e[i],u=d===void 0||c(d,i,e);if(u!==!0)throw new xt("option "+i+" must be "+u,xt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new xt("Unknown option "+i,xt.ERR_BAD_OPTION)}}const Rh={assertOptions:p_,validators:yf},ro=Rh.validators;class Fo{constructor(n){this.defaults=n,this.interceptors={request:new bb,response:new bb}}async request(n,r){try{return await this._request(n,r)}catch(s){if(s instanceof Error){let o;Error.captureStackTrace?Error.captureStackTrace(o={}):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(n,r){typeof n=="string"?(r=r||{},r.url=n):r=n||{},r=Bo(this.defaults,r);const{transitional:s,paramsSerializer:o,headers:i}=r;s!==void 0&&Rh.assertOptions(s,{silentJSONParsing:ro.transitional(ro.boolean),forcedJSONParsing:ro.transitional(ro.boolean),clarifyTimeoutError:ro.transitional(ro.boolean)},!1),o!=null&&(ve.isFunction(o)?r.paramsSerializer={serialize:o}:Rh.assertOptions(o,{encode:ro.function,serialize:ro.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=i&&ve.merge(i.common,i[r.method]);i&&ve.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),r.headers=Sr.concat(c,i);const d=[];let u=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(r)===!1||(u=u&&S.synchronous,d.unshift(S.fulfilled,S.rejected))});const h=[];this.interceptors.response.forEach(function(S){h.push(S.fulfilled,S.rejected)});let x,p=0,y;if(!u){const g=[Pb.bind(this),void 0];for(g.unshift.apply(g,d),g.push.apply(g,h),y=g.length,x=Promise.resolve(r);p<y;)x=x.then(g[p++],g[p++]);return x}y=d.length;let b=r;for(p=0;p<y;){const g=d[p++],S=d[p++];try{b=g(b)}catch(v){S.call(this,v);break}}try{x=Pb.call(this,b)}catch(g){return Promise.reject(g)}for(p=0,y=h.length;p<y;)x=x.then(h[p++],h[p++]);return x}getUri(n){n=Bo(this.defaults,n);const r=K0(n.baseURL,n.url);return z0(r,n.params,n.paramsSerializer)}}ve.forEach(["delete","get","head","options"],function(n){Fo.prototype[n]=function(r,s){return this.request(Bo(s||{},{method:n,url:r,data:(s||{}).data}))}});ve.forEach(["post","put","patch"],function(n){function r(s){return function(i,c,d){return this.request(Bo(d||{},{method:n,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:c}))}}Fo.prototype[n]=r(),Fo.prototype[n+"Form"]=r(!0)});class vf{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const s=this;this.promise.then(o=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](o);s._listeners=null}),this.promise.then=o=>{let i;const c=new Promise(d=>{s.subscribe(d),i=d}).then(o);return c.cancel=function(){s.unsubscribe(i)},c},n(function(i,c,d){s.reason||(s.reason=new Va(i,c,d),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const r=this._listeners.indexOf(n);r!==-1&&this._listeners.splice(r,1)}static source(){let n;return{token:new vf(function(o){n=o}),cancel:n}}}function x_(e){return function(r){return e.apply(null,r)}}function m_(e){return ve.isObject(e)&&e.isAxiosError===!0}const _h={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_h).forEach(([e,n])=>{_h[n]=e});function ev(e){const n=new Fo(e),r=_0(Fo.prototype.request,n);return ve.extend(r,Fo.prototype,n,{allOwnKeys:!0}),ve.extend(r,n,null,{allOwnKeys:!0}),r.create=function(o){return ev(Bo(e,o))},r}const On=ev(qi);On.Axios=Fo;On.CanceledError=Va;On.CancelToken=vf;On.isCancel=Y0;On.VERSION=Z0;On.toFormData=td;On.AxiosError=xt;On.Cancel=On.CanceledError;On.all=function(n){return Promise.all(n)};On.spread=x_;On.isAxiosError=m_;On.mergeConfig=Bo;On.AxiosHeaders=Sr;On.formToJSON=e=>G0(ve.isHTMLForm(e)?new FormData(e):e);On.getAdapter=Q0.getAdapter;On.HttpStatusCode=_h;On.default=On;const g_="https://journalist-api--journalist-2bf9e.europe-west4.hosted.app/";class b_{constructor(){Ee(this,"instance");Ee(this,"handleAxiosError",n=>n.response?{status:n.response.status,data:n.response.data}:{status:500,data:"Network Error"});this.instance=On.create({baseURL:g_,headers:{"Content-Type":"application/json"}}),this.instance.interceptors.request.use(n=>n,n=>Promise.reject(n)),this.instance.interceptors.response.use(n=>n,n=>Promise.reject(n))}get axiosInstance(){return this.instance}}const Le={page:1,limit:20,order:"desc"};class gn{constructor(n,r){Ee(this,"axiosJ");Ee(this,"apiPath");Ee(this,"_list",async(n,r,s)=>{try{const o=new URLSearchParams(r),i=o.size===0?"":`?${o.toString()}`;return(await this.axiosJ.axiosInstance.get(`${n}${i}`,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Ee(this,"_listAll",async(n,r,s)=>{try{const o=new URLSearchParams(r),i=o.size===0?"":`?${o.toString()}`;return(await this.axiosJ.axiosInstance.get(`${n}${i}`,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Ee(this,"_get",async(n,r)=>{try{return(await this.axiosJ.axiosInstance.get(n,r)).data}catch(s){throw this.axiosJ.handleAxiosError(s)}});Ee(this,"_post",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.post(n,r,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Ee(this,"_patch",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.patch(n,r,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Ee(this,"_put",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.put(n,r,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Ee(this,"_remove",async(n,r)=>{try{return(await this.axiosJ.axiosInstance.delete(n,r)).data}catch(s){throw this.axiosJ.handleAxiosError(s)}});this.axiosJ=n,this.apiPath=r}}const Db="/api/admin";class y_ extends gn{constructor(n){super(n,`${Db}/news`)}async getAllNews(n={},r=Le){const s={...r,...n};return this._list(`${Db}/news`,s)}}const Eb="/api/admin";class v_ extends gn{constructor(n){super(n,`${Eb}/channels`)}async getAllChannels(n={},r=Le){const s={...r,...n};return this._list(`${Eb}/channels`,s)}}const Tb="/api/admin";class j_ extends gn{constructor(n){super(n,`${Tb}/polls`)}async getAllPolls(n={},r=Le){const s={...r,...n};return this._list(`${Tb}/polls`,s)}}const ys="/api/admin";class S_ extends gn{constructor(n){super(n,`${ys}/users`)}async getAllUsers(n={},r=Le){const s={...r,...n};return this._list(`${ys}/users`,s)}async getUserById(n){return this._get(`${ys}/users/${n}`)}async registerUser(n){return this._post(`${ys}/users/register`,n)}async updateUser(n,r){await this._put(`${ys}/users/${n}`,r)}async updateUserCustomClaims(n,r){await this._put(`${ys}/users/${n}/custom-claims`,{customClaims:r})}async suspendUser(n,r){await this._post(`${ys}/users/${n}/suspend`,r)}async unsuspendUser(n,r){await this._post(`${ys}/users/${n}/unsuspend`,r)}async deleteUser(n){await this._remove(`${ys}/users/${n}`)}async getUsersByRole(n,r=Le){return this._list(`${ys}/users/role/${n}`,r)}}const Ns="/api/admin";class w_ extends gn{constructor(n){super(n,`${Ns}/payouts`)}async getPayouts(n={},r=Le){const s={...r,...n};return this._list(`${Ns}/payouts`,s)}async getPendingPayouts(n=Le){return this._list(`${Ns}/payouts/pending`,n)}async getFailedPayouts(n=Le){return this._list(`${Ns}/payouts/failed`,n)}async getPayoutStats(n={}){return this._list(`${Ns}/payouts/stats`,n)}async getPayoutById(n){return this._get(`${Ns}/payouts/${n}`)}async processPayout(n,r={}){await this._post(`${Ns}/payouts/${n}/process`,r)}async retryPayout(n,r={}){await this._post(`${Ns}/payouts/${n}/retry`,r)}async cancelPayout(n){await this._post(`${Ns}/payouts/${n}/cancel`,{})}}const Qu="/api/admin";class C_ extends gn{constructor(n){super(n,`${Qu}/subscriptions`)}async getSubscriptions(n={},r=Le){const s={...r,...n};return this._list(`${Qu}/subscriptions`,s)}async getSubscriptionById(n){return this._get(`${Qu}/subscriptions/${n}`)}}const di="/api/admin";class P_ extends gn{constructor(n){super(n,`${di}/tags`)}async getTags(n=Le){return this._list(`${di}/tags`,n)}async createTag(n){return this._post(`${di}/tags`,n)}async updateTag(n,r){await this._put(`${di}/tags/${n}`,r)}async deleteTag(n){await this._remove(`${di}/tags/${n}`)}}const Kl="/api/admin";class I_ extends gn{constructor(n){super(n,`${Kl}/expense-orders`)}async getAllExpenseOrders(n={},r=Le){const s={...r,...n};return this._list(`${Kl}/expense-orders`,s)}async getExpenseOrder(n){return this._get(`${Kl}/expense-orders/${n}`)}async updateExpenseOrder(n,r){await this._put(`${Kl}/expense-orders/${n}`,r)}}class D_{constructor(n){Ee(this,"news");Ee(this,"channels");Ee(this,"polls");Ee(this,"users");Ee(this,"payouts");Ee(this,"subscriptions");Ee(this,"tags");Ee(this,"expenseOrders");this.news=new y_(n),this.channels=new v_(n),this.polls=new j_(n),this.users=new S_(n),this.payouts=new w_(n),this.subscriptions=new C_(n),this.tags=new P_(n),this.expenseOrders=new I_(n)}}const Zn="/api/channels",vs={TIER:"tiers",SUBSCRIPTIONS:"subscriptions"};class E_ extends gn{constructor(n){super(n,Zn)}async getChannels(n={},r=Le){const s={...r};return n.trending&&(s.trending="true"),n.popular&&(s.popular="true"),n.subscribed&&(s.subscribed="true"),n.followed&&(s.followed="true"),n.verified&&(s.verified="true"),n.creator&&(s.creator=n.creator),n.category&&(s.category=n.category),n.tags&&n.tags.length>0&&(s.tags=n.tags.join(",")),this._list(Zn,s)}async getAll(n=Le){return this.getChannels({},n)}async getTrending(n=Le){return this.getChannels({trending:!0},n)}async getPopular(n=Le){return this.getChannels({popular:!0},n)}async getSubscribed(n=Le){return this.getChannels({subscribed:!0},n)}async getFollowed(n=Le){return this.getChannels({followed:!0},n)}async getVerified(n=Le){return this.getChannels({verified:!0},n)}async createChannel(n){return this._post(Zn,n)}async getChannel(n){return this._get(`${Zn}/${n}`)}async getCreatorChannels(n,r=Le){return this.getChannels({creator:n},r)}async updateChannel(n,r){await this._put(`${Zn}/${n}`,r)}async deleteChannel(n){return this._remove(`${Zn}/${n}`)}async createTier(n,r){return this._post(`${Zn}/${n}/${vs.TIER}`,r)}async updateTier(n,r,s){await this._put(`${Zn}/${n}/${vs.TIER}/${r}`,s)}async updateTiers(n,r){const s=r.map(o=>{const{currency:i,channelId:c,isDefault:d,...u}=o;return u});return this._put(`${Zn}/${n}/${vs.TIER}`,s)}async getTiers(n){return this._list(`${Zn}/${n}/${vs.TIER}`)}async getTier(n,r){return this._get(`${Zn}/${n}/${vs.TIER}/${r}`)}async deleteTier(n,r){return this._remove(`${Zn}/${n}/${vs.TIER}/${r}`)}async subscribeToChannel(n,r={}){return this._post(`${Zn}/${n}/${vs.SUBSCRIPTIONS}`,r)}async unsubscribeFromChannel(n){await this._remove(`${Zn}/${n}/${vs.SUBSCRIPTIONS}`)}async getChannelSubscribers(n,r=Le){return this._list(`${Zn}/${n}/${vs.SUBSCRIPTIONS}`,r)}async getSubscriptionDetails(n,r){return this._get(`${Zn}/${n}/${vs.SUBSCRIPTIONS}/${r}`)}}const Ls="/api/news";class T_ extends gn{constructor(n){super(n,Ls)}async getNews(n={},r=Le){const s={...r};return n.feed&&(s.feed="true"),n.trending&&(s.trending="true"),n.subscribed&&(s.subscribed="true"),n.channel&&(s.channel=n.channel),n.creator&&(s.creator=n.creator),n.status&&(s.status=n.status),n.premium!==void 0&&(s.premium=n.premium.toString()),n.tags&&n.tags.length>0&&(s.tags=n.tags.join(",")),n.query&&(s.query=n.query),this._list(Ls,s)}async getAll(n=Le){return this.getNews({},n)}async getFeed(n=Le){return this.getNews({feed:!0},n)}async getTrending(n=Le){return this.getNews({trending:!0},n)}async getSubscribed(n=Le){return this.getNews({subscribed:!0},n)}async getPremium(n=Le){return this.getNews({premium:!0},n)}async getNewsByChannel(n,r=Le){return this.getNews({channel:n},r)}async getCreatorNews(n,r=Le){return this.getNews({creator:n},r)}async getNewsByTags(n,r=Le){return this.getNews({tags:n},r)}async getNewsByStatus(n,r=Le){return this.getNews({status:n},r)}async get(n){return this._get(`${Ls}/${n}`)}async getDetails(n){return this._get(`${Ls}/${n}/details`)}async createNews(n){return this._post(Ls,n)}async update(n,r){await this._put(`${Ls}/${n}`,r)}async delete(n){await this._remove(`${Ls}/${n}`)}async getNewsStats(n,r,s){return this._get(`${Ls}/${n}/stats?startDate=${r}&endDate=${s}`)}async getNewsTags(n=Le){return this._list(`${Ls}/tags`,n)}async create(n){return this.createNews(n)}}const Rr="/api/polls";class A_ extends gn{constructor(n){super(n,Rr)}async getPolls(n={},r=Le){const s={...r};return n.trending&&(s.trending="true"),n.funded&&(s.funded="true"),n.claimed&&(s.claimed="true"),n.subscribed&&(s.subscribed="true"),n.channel&&(s.channel=n.channel),n.creator&&(s.creator=n.creator),n.status&&(s.status=n.status),n.converted!==void 0&&(s.converted=n.converted.toString()),n.tags&&n.tags.length>0&&(s.tags=n.tags.join(",")),this._list(Rr,s)}async getAll(n=Le){return this.getPolls({},n)}async getTrending(n=Le){return this.getPolls({trending:!0},n)}async getFunded(n=Le){return this.getPolls({funded:!0},n)}async getClaimed(n=Le){return this.getPolls({claimed:!0},n)}async getSubscribed(n=Le){return this.getPolls({subscribed:!0},n)}async getPollsByChannel(n,r=Le){return this.getPolls({channel:n},r)}async getCreatorPolls(n,r=Le){return this.getPolls({creator:n},r)}async getPollsByTags(n,r=Le){return this.getPolls({tags:n},r)}async get(n){return this._get(`${Rr}/${n}`)}async create(n){return this._post(Rr,n)}async update(n,r){await this._put(`${Rr}/${n}`,r)}async delete(n){return this._remove(`${Rr}/${n}`)}async getResults(n){return this._get(`${Rr}/${n}/votes`)}async vote(n,r){return this._post(`${Rr}/${n}/votes`,r)}async getUserVote(n){return this._get(`${Rr}/${n}/votes/me`)}async checkVotingEligibility(n){return this._get(`${Rr}/${n}/votes/eligibility`)}async getFunding(n){return this._get(`${Rr}/${n}/funding`)}async claim(n){return this._post(`${Rr}/${n}/claims`,{})}async convertToNews(n,r){return this._post(`${Rr}/${n}/conversions`,r)}async getVoteResults(n){return this.getResults(n)}async getMyVote(n){return this.getUserVote(n)}}const ca="/api/users";class R_ extends gn{constructor(n){super(n,ca)}async getAll(n=Le){return this._list(ca,n)}async get(n){return this._get(`${ca}/${n}`)}async create(n){return this._post(ca,n)}async update(n,r){await this._put(`${ca}/${n}`,r)}async delete(n){return this._remove(`${ca}/${n}`)}}const Hn="/api/account";class __ extends gn{constructor(n){super(n,Hn)}async getProfile(){return this._get(`${Hn}/profile`)}async updateProfile(n){return this._put(`${Hn}/profile`,n)}async getPayoutMethods(){return this._list(`${Hn}/payout-methods`)}async getPayoutMethod(n){return this._get(`${Hn}/payout-methods/${n}`)}async getDefaultPayoutMethod(){return this._get(`${Hn}/payout-methods/default`)}async addPayoutMethod(n){return this._post(`${Hn}/payout-methods`,n)}async updatePayoutMethod(n,r){return this._put(`${Hn}/payout-methods/${n}`,r)}async deletePayoutMethod(n){return this._remove(`${Hn}/payout-methods/${n}`)}async setDefaultPayoutMethod(n){return this._patch(`${Hn}/payout-methods/${n}/default`,{})}async getAvailablePayoutMethods(){return this._get(`${Hn}/payout-methods/available`)}async getSubscriptions(){return this._list(`${Hn}/subscriptions`)}async subscribe(n,r){return this._post(`${Hn}/subscriptions/${n}`,r)}async cancelSubscription(n){return this._remove(`${Hn}/subscriptions/${n}`)}async getUserChannels(n=Le){return this._list(`${Hn}/channels`,n)}async exchangePayPalAuthCode(n){return this._post(`${Hn}/paypal/exchange-auth-code`,{authCode:n})}async savePayPalPayoutMethod(n){return this._post(`${Hn}/paypal/save-payout-method`,n)}}const mr="/api/expense-orders";class O_ extends gn{constructor(n){super(n,mr)}async createExpenseOrder(n){return this._post(mr,n)}async updateExpenseOrder(n,r){return this._put(`${mr}/${n}`,r)}async submitExpenseOrder(n,r){return this._post(`${mr}/${n}/submit`,r||{})}async cancelExpenseOrder(n,r){return this._post(`${mr}/${n}/cancel`,{reason:r})}async getMyExpenseOrders(n=Le,r){const s={...n};return r&&(s.status=r),this._list(`${mr}/my-orders`,s)}async getAllExpenseOrders(n=Le,r){const s={...n};return(r==null?void 0:r.status)!==void 0&&(s.status=r.status),r!=null&&r.channelId&&(s.channelId=r.channelId),r!=null&&r.journalistId&&(s.journalistId=r.journalistId),this._list("/api/admin/expense-orders",s)}async approveExpenseOrder(n,r){return this._post(`${mr}/${n}/approve`,r||{})}async rejectExpenseOrder(n,r){return this._post(`${mr}/${n}/reject`,r)}async processPayment(n,r){return this._post(`${mr}/${n}/process-payment`,r||{})}async getPendingExpenseOrders(n=Le){return this._list(`${mr}/pending`,n)}async getExpenseOrderStats(n,r,s){const o={};return n&&(o.channelId=n),r&&(o.startDate=r.toISOString()),s&&(o.endDate=s.toISOString()),this._get(`${mr}/stats`,{params:o})}async getExpenseOrder(n){return this._get(`${mr}/${n}`)}async getExpenseOrdersByJournalist(n,r=Le,s){const o={...r};return s&&(o.status=s),this._list(`${mr}/journalist/${n}`,o)}async getExpenseOrdersByChannel(n,r=Le,s){const o={...r};return s&&(o.status=s),this._list(`${mr}/channel/${n}`,o)}async getExpenseTypes(){return this._get("/api/expense-types")}}const Fn="/api/subscriptions";class k_ extends gn{constructor(n){super(n,Fn)}async getAllSubscriptions(n=Le,r={}){const s={...n,...r};return this._list(Fn,s)}async getSubscriptionById(n){return this._get(`${Fn}/${n}`)}async updateSubscriptionStatus(n,r,s){return this._patch(`${Fn}/${n}/status`,{status:r,reason:s})}async bulkUpdateSubscriptions(n){return this._post(`${Fn}/bulk-update`,n)}async getSubscriptionAnalytics(n={}){const r=new URLSearchParams(n).toString(),s=r?`${Fn}/analytics?${r}`:`${Fn}/analytics`;return this._get(s)}async getRevenueMetrics(n={}){const r=new URLSearchParams(n).toString(),s=r?`${Fn}/revenue?${r}`:`${Fn}/revenue`;return this._get(s)}async exportSubscriptions(n={},r="csv"){const s=new URLSearchParams({...n,format:r}).toString(),o=s?`${Fn}/export?${s}`:`${Fn}/export`;return this._get(o)}async cancelSubscription(n,r){await this.updateSubscriptionStatus(n,"canceled",r)}async activateSubscription(n,r){await this.updateSubscriptionStatus(n,"active",r)}async suspendSubscription(n,r){await this.updateSubscriptionStatus(n,"suspended",r)}async updateSubscriptionTier(n,r){return this._patch(`${Fn}/${n}/tier`,{tier_id:r})}async createDirectSubscription(n,r){return this._post(`${Fn}/channels/${n}/subscribe`,r)}async activatePayPalSubscription(n,r){return this._post(`${Fn}/channels/${n}/activate-paypal`,r)}async cancelUserSubscription(n){return this._remove(`${Fn}/${n}/cancel`)}async getMySubscriptions(n=Le,r={}){const s={...n,...r};return this._list(`${Fn}/my`,s)}async getSubscriptionStatus(n){return(await this._get(`${Fn}/${n}/status`)).status}async searchSubscriptions(n,r=Le){const s={...r,search:n};return this._list(`${Fn}/search`,s)}async getSubscriptionsByChannel(n,r=Le){return this.getAllSubscriptions(r,{channel_id:n})}async getSubscriptionsByUser(n,r=Le){return this.getAllSubscriptions(r,{user_id:n})}}const er="/api/tags";class M_ extends gn{constructor(n){super(n,er)}async getTags(n={},r=Le){const s={...r};return n.trending&&(s.trending="true"),n.popular&&(s.popular="true"),n.category&&(s.category=n.category),n.verified&&(s.verified="true"),this._list(er,s)}async getAll(n=Le){return this.getTags({},n)}async getTrending(n=Le){return this.getTags({trending:!0},n)}async getPopular(n=Le){return this.getTags({popular:!0},n)}async getVerified(n=Le){return this.getTags({verified:!0},n)}async getNewsTags(n=Le){return this.getTags({category:"news"},n)}async getPollTags(n=Le){return this.getTags({category:"polls"},n)}async getTagById(n){return this._get(`${er}/${n}`)}async getTagBySlug(n){return this._get(`${er}/slug/${n}`)}async createTag(n){return this._post(er,n)}async updateTag(n,r){return this._put(`${er}/${n}`,r)}async deleteTag(n){await this._remove(`${er}/${n}`)}async getTagNews(n,r=Le){return this._get(`${er}/${n}/news`,{params:r})}async getTagPolls(n,r=Le){return this._get(`${er}/${n}/polls`,{params:r})}async addTagToNews(n,r){return this._post(`${er}/${n}/news/${r}`,{})}async removeTagFromNews(n,r){return this._remove(`${er}/${n}/news/${r}`)}async addTagToPoll(n,r){return this._post(`${er}/${n}/polls/${r}`,{})}async removeTagFromPoll(n,r){return this._remove(`${er}/${n}/polls/${r}`)}async moderateTag(n,r){return this._patch(`${er}/${n}/moderate`,{statusId:r})}async approveTag(n){return this.moderateTag(n,2)}async rejectTag(n){return this.moderateTag(n,3)}async searchTags(n,r=Le){const s={...r,search:n};return this._list(er,s)}async getTagSuggestions(n,r=10){const s={prefix:n,limit:r};return this._get(`${er}/suggestions`,{params:s})}async get(n){return this.getTagById(n)}async create(n){return this.createTag(n)}async update(n,r){return this.updateTag(n,r)}async delete(n){return this.deleteTag(n)}}const $s="/api/search";class N_ extends gn{constructor(n){super(n,$s)}async search(n,r={},s=Le){const o={q:n,...s};return Object.entries(r).forEach(([i,c])=>{c!=null&&c!==""&&(Array.isArray(c)?o[i]=c.join(","):c instanceof Date?o[i]=c.toISOString():o[i]=c.toString())}),this._list($s,o)}async searchNews(n,r=Le){return this._list(`${$s}/news`,{q:n,...r})}async searchChannels(n,r=Le){return this._list(`${$s}/channels`,{q:n,...r})}async searchUsers(n,r=Le){return this._list(`${$s}/users`,{q:n,...r})}async searchPolls(n,r=Le){return this._list(`${$s}/polls`,{q:n,...r})}async searchTags(n,r=Le){return this._list(`${$s}/tags`,{q:n,...r})}async getSuggestions(n,r){const s={q:n};return r&&(s.type=r),this._get(`${$s}/suggestions`,{params:s})}async getStructuredSuggestions(n,r){const s={q:n};return r&&(s.type=r),this._get(`${$s}/suggestions/structured`,{params:s})}}const zr="/api/funding";class L_ extends gn{constructor(n){super(n,zr)}async getFund(n,r){var s;try{return this._get(`${zr}/${n}/${r}`)}catch(o){if(((s=o.response)==null?void 0:s.status)===404)return null;throw o}}async getFundSummary(n,r){var s;try{return this._get(`${zr}/${n}/${r}/summary`)}catch(o){if(((s=o.response)==null?void 0:s.status)===404)return null;throw o}}async createPayPalOrder(n,r,s){return this._post(`${zr}/${n}/${r}/create-paypal-order`,s)}async capturePayPalOrder(n,r,s){return this._post(`${zr}/${n}/${r}/capture-paypal-order`,s)}async getContributions(n,r,s=Le){return this._list(`${zr}/${n}/${r}/contributions`,s)}async getUserContributions(n=Le){return this._list(`${zr}/my-contributions`,n)}async getUserContributionsForContent(n,r){return this._get(`${zr}/${n}/${r}/my-contributions`)}async createFund(n,r,s){return this._post(`${zr}/${n}/${r}/fund`,s)}async updateFund(n,r,s){return this._put(`${zr}/${n}/${r}/fund`,s)}async getChannelFundingStats(n,r){return this._get(`${zr}/channels/${n}/stats`,{params:r})}async processPayout(n,r,s){return this._post(`${zr}/${n}/${r}/payout`,s)}}const ui="/api/payment-tokens";class $_ extends gn{constructor(n){super(n,ui)}async createPayPalTokenizationOrder(){return this._post(`${ui}/paypal/orders`,{})}async capturePayPalTokenizationOrder(n){return this._post(`${ui}/paypal/orders/${n}/capture`,{})}async getPaymentTokenDetails(n){return this._get(`${ui}/paypal/tokens/${n}`)}async deletePaymentToken(n){return this._remove(`${ui}/paypal/tokens/${n}`)}}const hi="/api/iyzico-tokens";class F_ extends gn{constructor(n){super(n,hi)}async initializeTokenization(n){return this._post(`${hi}/tokenization/init`,n)}async savePaymentMethod(n){return this._post(`${hi}/tokenization/save`,n)}async getStoredCards(){return this._get(`${hi}/cards`)}async deleteStoredCard(n){return this._remove(`${hi}/cards/${n}`)}}const Hr="/api/payouts";class W_ extends gn{constructor(n){super(n,Hr)}async getPayouts(n){return this._list(Hr,n||{})}async getPayoutById(n){return this._get(`${Hr}/${n}`)}async getPendingPayouts(n=Le){return this._list(`${Hr}/pending`,n)}async getFailedPayouts(n=Le){return this._list(`${Hr}/failed`,n)}async getPayoutsReadyForRetry(){return this._get(`${Hr}/ready-for-retry`)}async getPayoutsByJournalist(n,r=Le,s){const o={...r};return s&&(o.status=s),this._list(`${Hr}/journalist/${n}`,o)}async getPayoutsByChannel(n,r=Le){return this._list(`${Hr}/channel/${n}`,r)}async getPayoutStats(n){return this._get(`${Hr}/stats`,{params:n})}async processPayout(n){return this._post(`${Hr}/${n}/process`,{})}async retryPayout(n){return this._post(`${Hr}/${n}/retry`,{})}async cancelPayout(n,r){return this._post(`${Hr}/${n}/cancel`,r)}}class B_{constructor(n){Ee(this,"user");Ee(this,"poll");Ee(this,"news");Ee(this,"channel");Ee(this,"account");Ee(this,"expenseOrder");Ee(this,"subscription");Ee(this,"tag");Ee(this,"search");Ee(this,"funding");Ee(this,"paymentToken");Ee(this,"iyzicoToken");Ee(this,"payout");this.user=new R_(n),this.poll=new A_(n),this.news=new T_(n),this.channel=new E_(n),this.account=new __(n),this.expenseOrder=new O_(n),this.subscription=new k_(n),this.tag=new M_(n),this.search=new N_(n),this.funding=new L_(n),this.paymentToken=new $_(n),this.iyzicoToken=new F_(n),this.payout=new W_(n)}}const Xl="/api/auth";class V_ extends gn{constructor(n){super(n,Xl)}async signIn(n){return this._post(`${Xl}/sign-in`,n)}async signUp(n){return this._post(`${Xl}/sign-up`,n)}async verifyToken(n){return this._post(`${Xl}/verify-token`,n)}}const _o="/api/studio";class U_ extends gn{constructor(n){super(n,_o)}async createNews(n){return this._post(`${_o}/news`,n)}async createChannel(n){return this._post(`${_o}/channels`,n)}async createPoll(n){return this._post(`${_o}/polls`,n)}async getMyChannels(){return this._list(`${_o}/me/channels`)}async getMyContent(n="all",r=Le){const s={type:n,...r};return n==="all"?this._get(`${_o}/me/content`,{params:s}):this._list(`${_o}/me/content`,s)}async getMyRecentNews(n=Le){return this.getMyContent("news",n)}async getMyRecentPolls(n=Le){return this.getMyContent("polls",n)}async getMyRecentChannels(n=Le){return this.getMyContent("channels",n)}async getCreatorChannels(){return this.getMyChannels()}async getCreatorContent(n="all",r=Le){return this.getMyContent(n,r)}}class z_{constructor(){Ee(this,"axiosJ");Ee(this,"admin");Ee(this,"app");Ee(this,"auth");Ee(this,"studio");Ee(this,"setAuthHeader",n=>(n?this.axiosJ.axiosInstance.defaults.headers.common.Authorization=`Bearer ${n}`:delete this.axiosJ.axiosInstance.defaults.headers.common.Authorization,this));Ee(this,"setApis",()=>(this.admin=new D_(this.axiosJ),this.app=new B_(this.axiosJ),this.auth=new V_(this.axiosJ),this.studio=new U_(this.axiosJ),this));this.axiosJ=new b_}}const H_=50*60*1e3,G_=e=>{const[n,r]=m.useState(null),[s,o]=m.useState(!0),i=m.useRef(null),c=m.useRef(new Set);m.useEffect(()=>{const b=xA(e,g=>{r(g||null),o(!1)});return()=>b()},[e]),m.useEffect(()=>(i.current&&(clearInterval(i.current),i.current=null),n&&(n.getIdToken(!0).catch(b=>{console.error("Error refreshing token on mount:",b)}),i.current=setInterval(async()=>{try{await n.getIdToken(!0),console.log("Token refreshed automatically"),c.current.forEach(b=>{try{b()}catch(g){console.error("Error in token refresh callback:",g)}})}catch(b){console.error("Error during automatic token refresh:",b)}},H_)),()=>{i.current&&(clearInterval(i.current),i.current=null)}),[n]);const d=async(b=!1)=>{if(!n)return null;try{return await n.getIdToken(b)}catch(g){return console.error("Error getting token:",g),null}},u=async(b,g)=>{try{return await(await mA(e,b,g)).user.getIdToken()}catch(S){throw console.error("Sign in error:",S),S}},h=async b=>{try{return await(await gA(e,b)).user.getIdToken()}catch(g){throw console.error("Sign in with provider error:",g),g}},x=async(b,g)=>{try{return(await bA(e,b,g)).user}catch(S){throw console.error("Sign up error:",S),S}},p=async()=>{try{await yA(e),r(null)}catch(b){throw console.error("Sign out error:",b),b}},y=b=>(c.current.add(b),()=>{c.current.delete(b)});return{user:n,isAuthenticated:n!=null,isLoading:s,getToken:d,signIn:u,signInWithProvider:h,signUp:x,signOut:p,onTokenRefresh:y}},Y_={apiKey:"AIzaSyAsiLj2G16z35SAYVVo79_EJh3qy9X8zFE",authDomain:"journalist-2bf9e.firebaseapp.com",projectId:"journalist-2bf9e",storageBucket:"journalist-2bf9e.firebasestorage.app",messagingSenderId:"1048434393409",appId:"1:1048434393409:web:aca11459895da9872ca1c0",measurementId:"G-23KLS9XB70"},q_=vA(Y_),K_=jA(q_),tv=new SA;new wA;new CA;new PA("apple.com");function jf(){const e=m.createContext(null);function n(){const r=m.useContext(e);if(!r)throw new Error("Context must be used within provider");return r}return[e,n]}const[X_,Gs]=jf(),J_=({children:e})=>{const n=G_(K_);return t.jsx(X_.Provider,{value:n,children:e})},nv=m.createContext(null),Qe=()=>m.useContext(nv),Q_=({children:e})=>{const n=Gs();if(!n)throw new Error("ApiProvider must be used within AuthProvider. Please wrap ApiProvider with AuthProvider in your component tree.");const[r,s]=m.useState({api:new z_,isAuthenticated:!1,isLoading:!0}),o=m.useCallback(async(i=!1)=>{if(n.user){const c=await n.getToken(i);c&&s(d=>{const u=d.api.setAuthHeader(c).setApis();return{...d,api:u,isAuthenticated:!0,isLoading:!1}})}else s(c=>{const d=c.api.setAuthHeader(null).setApis();return{...c,api:d,isAuthenticated:!1,isLoading:!1}})},[n]);return m.useEffect(()=>{o(!1)},[n.user,n.isAuthenticated,o]),m.useEffect(()=>{console.log("Subscribing to Firebase token refresh events...");const i=n.onTokenRefresh(async()=>{try{console.log("Firebase token refreshed - updating API authorization header..."),await o(!1)}catch(c){console.error("Error updating API token after Firebase refresh:",c)}});return()=>{console.log("Unsubscribing from Firebase token refresh events..."),i()}},[n,o]),t.jsx(nv.Provider,{value:r,children:e})},[Z_,rd]=jf(),eO=({children:e})=>{const n=Gs(),{isLoading:r,isAuthenticated:s}=Qe(),[o,i]=m.useState({isLoading:!0,isAuthenticated:!1}),c=m.useCallback(async()=>{await n.signOut()},[n]);m.useEffect(()=>{if(!!n.isLoading||!!r){i({isLoading:!0,isAuthenticated:!1});return}i({isLoading:!1,isAuthenticated:!!n.user&&s})},[n.isLoading,n.user,r,s]);const d={...o,actions:{signOut:c}};return t.jsx(Z_.Provider,{value:d,children:e})};var Sf={},Zu={};const tO=cT(dT);var Ab;function nt(){return Ab||(Ab=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=tO}(Zu)),Zu}var nO=tt;Object.defineProperty(Sf,"__esModule",{value:!0});var sd=Sf.default=void 0,rO=nO(nt()),sO=t;sd=Sf.default=(0,rO.default)((0,sO.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");var wf={},oO=tt;Object.defineProperty(wf,"__esModule",{value:!0});var Cf=wf.default=void 0,aO=oO(nt()),iO=t;Cf=wf.default=(0,aO.default)((0,iO.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");var Pf={},lO=tt;Object.defineProperty(Pf,"__esModule",{value:!0});var Ki=Pf.default=void 0,cO=lO(nt()),dO=t;Ki=Pf.default=(0,cO.default)((0,dO.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp");var If={},uO=tt;Object.defineProperty(If,"__esModule",{value:!0});var rv=If.default=void 0,hO=uO(nt()),fO=t;rv=If.default=(0,hO.default)((0,fO.jsx)("path",{d:"M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m2.19 12.19L6 18l3.81-8.19L18 6z"}),"Explore");var Df={},pO=tt;Object.defineProperty(Df,"__esModule",{value:!0});var Ef=Df.default=void 0,xO=pO(nt()),Rb=t;Ef=Df.default=(0,xO.default)([(0,Rb.jsx)("circle",{cx:"6.18",cy:"17.82",r:"2.18"},"0"),(0,Rb.jsx)("path",{d:"M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56m0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9"},"1")],"RssFeed");var Tf={},mO=tt;Object.defineProperty(Tf,"__esModule",{value:!0});var Ea=Tf.default=void 0,gO=mO(nt()),bO=t;Ea=Tf.default=(0,gO.default)((0,bO.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");var Af={},yO=tt;Object.defineProperty(Af,"__esModule",{value:!0});var od=Af.default=void 0,vO=yO(nt()),jO=t;od=Af.default=(0,vO.default)((0,jO.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"}),"Poll");const sv=m.createContext(null),SO=()=>{const e=m.useContext(sv);if(!e)throw new Error("useNotification must be used within a NotificationProvider");return e},wO=({children:e})=>{const[n,r]=m.useState({open:!1,message:"",severity:"info",autoHideDuration:6e3}),s=m.useCallback((p,y="info",b=6e3)=>{r({open:!0,message:p,severity:y,autoHideDuration:b})},[]),o=m.useCallback(p=>{s(p,"success")},[s]),i=m.useCallback(p=>{s(p,"error")},[s]),c=m.useCallback(p=>{s(p,"warning")},[s]),d=m.useCallback(p=>{s(p,"info")},[s]),u=m.useCallback(p=>{if(p.length===0)return;const y=(S,v="")=>{const I=Object.values(S.constraints||{}),w=`${v}${S.property}: ${I.join(", ")}`;if(S.children&&S.children.length>0){const D=S.children.map(E=>y(E,"  "));return`${w}
${D.join(`
`)}`}return w},b=p.map(S=>y(S)),g=b.length===1?b[0]:`Validation errors:
${b.map(S=>` ${S}`).join(`
`)}`;s(g,"error",1e4)},[s]),h=m.useCallback(()=>{r(p=>({...p,open:!1}))},[]),x={showNotification:s,showSuccess:o,showError:i,showWarning:c,showInfo:d,showValidationErrors:u,hideNotification:h};return t.jsxs(sv.Provider,{value:x,children:[e,t.jsx(p0,{open:n.open,autoHideDuration:n.autoHideDuration,onClose:h,anchorOrigin:{vertical:"top",horizontal:"right"},children:t.jsx(dt,{onClose:h,severity:n.severity,variant:"filled",sx:{width:"100%",whiteSpace:"pre-line"},children:n.message})})]})},CO=e=>{var n,r,s;return((n=e==null?void 0:e.response)==null?void 0:n.status)===400&&((r=e.response.data)==null?void 0:r.status)==="error"&&((s=e.response.data)==null?void 0:s.errors)},PO=e=>{var n;return((n=e==null?void 0:e.response)==null?void 0:n.status)===401},IO=e=>{var n;return(((n=e==null?void 0:e.response)==null?void 0:n.status)||0)>=500},DO=e=>!(e!=null&&e.response),st=()=>{const[e,n]=m.useState(!1),[r,s]=m.useState(null),{showSuccess:o,showError:i,showValidationErrors:c}=SO(),d=m.useCallback(async(h,x={})=>{var S,v;const{showSuccessMessage:p=!1,successMessage:y="Operation completed successfully",showErrorToast:b=!0,customErrorHandler:g}=x;try{n(!0),s(null);const I=await h();return p&&o(y),I}catch(I){if(g&&g(I))return null;const w=I;let D="An error occurred",E=b;if(CO(w)){const A=(S=w.response)==null?void 0:S.data;D=A.message||"Validation failed",s(D),E&&c&&(c(A.errors),E=!1)}else if(PO(w))D="Unauthorized access. Please log in again.",s(D),E&&i(D);else if(IO(w))D="Server error. Please try again later.",s(D),E&&i(D);else if(DO(w))D="Network error. Please check your connection.",s(D),E&&i(D);else{const A=(v=w.response)==null?void 0:v.data;D=(A==null?void 0:A.message)||w.message||"An error occurred",s(D),E&&i(D)}return null}finally{n(!1)}},[o,i,c]),u=m.useCallback(()=>{s(null)},[]);return{loading:e,error:r,execute:d,clearError:u}},_b=({isOpen:e})=>{const n=zo(),{api:r}=Qe(),{execute:s}=st(),[o,i]=m.useState([]),c=[{path:`${ye.APP_NEWS_MY_FEED}`,icon:t.jsx(Ea,{}),label:"For you"},{path:`${ye.APP_NEWS_DISCOVER}`,icon:t.jsx(rv,{}),label:"Discover"},{path:`${ye.APP_POLLS}`,icon:t.jsx(od,{}),label:"Polls"},{path:`${ye.APP_CHANNELS}`,icon:t.jsx(Ef,{}),label:"Channels"}],d=[{path:`${ye.APP_NEWS_TRENDING}`,icon:t.jsx(Ki,{}),label:"Trending"}];return m.useEffect(()=>{e&&(async()=>{const h=await s(()=>r==null?void 0:r.app.channel.getChannels({},{page:1,limit:5}),{showErrorToast:!1});h&&i(h.items)})()},[e]),e?t.jsxs(C,{sx:{height:"100%",display:"flex",flexDirection:"column",overflow:"auto",p:2},children:[t.jsx(jr,{sx:{pt:0,pb:0},children:c.map(u=>t.jsxs(dr,{button:!0,component:qn,to:u.path,selected:n.pathname===u.path,sx:{borderRadius:1,mx:1,mb:.5,py:1,"&.Mui-selected":{backgroundColor:"action.selected",fontWeight:600},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(en,{sx:{minWidth:40},children:u.icon}),t.jsx(Yt,{primary:u.label,primaryTypographyProps:{fontWeight:n.pathname===u.path?600:400,fontSize:"0.95rem"}})]},u.path))}),t.jsx(Bt,{sx:{my:1}}),t.jsx(C,{sx:{px:2,py:1},children:t.jsx(j,{variant:"caption",sx:{fontWeight:600,color:"text.secondary",textTransform:"uppercase",fontSize:"0.75rem",letterSpacing:"0.5px"},children:"Categories"})}),t.jsx(jr,{sx:{pt:0,pb:1},children:d.map(u=>t.jsxs(dr,{button:!0,component:qn,to:u.path,sx:{borderRadius:1,mx:1,mb:.5,py:.75,"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(en,{sx:{minWidth:40},children:u.icon}),t.jsx(Yt,{primary:u.label,primaryTypographyProps:{fontSize:"0.9rem"}})]},u.path))}),t.jsx(Bt,{sx:{my:1}}),t.jsx(C,{sx:{px:2,py:1},children:t.jsx(j,{variant:"caption",sx:{fontWeight:600,color:"text.secondary",textTransform:"uppercase",fontSize:"0.75rem",letterSpacing:"0.5px"},children:"Popular"})}),t.jsx(jr,{sx:{pt:0,pb:1,flexGrow:1},children:o.map(u=>t.jsxs(dr,{button:!0,component:qn,to:`${ye.APP_CHANNELS}/${u.id}`,sx:{borderRadius:1,mx:1,mb:.5,py:1,"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(Cn,{src:u.logoUrl,sx:{width:32,height:32,mr:1.5},children:u.name.charAt(0).toUpperCase()}),t.jsx(C,{sx:{flexGrow:1,minWidth:0},children:t.jsx(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:t.jsx(j,{variant:"body2",sx:{fontWeight:500,fontSize:"0.875rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:u.name})})})]},u.id))})]}):t.jsx(C,{sx:{height:"100%",display:"flex",flexDirection:"column",py:1},children:t.jsx(jr,{sx:{flexGrow:1},children:c.map(u=>t.jsx(dr,{button:!0,component:qn,to:u.path,selected:n.pathname===u.path,sx:{borderRadius:1,mx:.5,justifyContent:"center",minHeight:48,"&.Mui-selected":{backgroundColor:"action.selected"}},children:t.jsx(en,{sx:{minWidth:"auto"},children:u.icon})},u.path))})})};var Rf={},EO=tt;Object.defineProperty(Rf,"__esModule",{value:!0});var ov=Rf.default=void 0,TO=EO(nt()),AO=t;ov=Rf.default=(0,TO.default)((0,AO.jsx)("path",{d:"M4 18h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1m0-5h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1M3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1"}),"MenuRounded");var _f={},RO=tt;Object.defineProperty(_f,"__esModule",{value:!0});var ad=_f.default=void 0,_O=RO(nt()),OO=t;ad=_f.default=(0,_O.default)((0,OO.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle");var Of={},kO=tt;Object.defineProperty(Of,"__esModule",{value:!0});var Xi=Of.default=void 0,MO=kO(nt()),NO=t;Xi=Of.default=(0,MO.default)((0,NO.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var kf={},LO=tt;Object.defineProperty(kf,"__esModule",{value:!0});var av=kf.default=void 0,$O=LO(nt()),FO=t;av=kf.default=(0,$O.default)((0,FO.jsx)("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8 12.5v-9l6 4.5z"}),"VideoLibrary");var Mf={},WO=tt;Object.defineProperty(Mf,"__esModule",{value:!0});var iv=Mf.default=void 0,BO=WO(nt()),VO=t;iv=Mf.default=(0,BO.default)((0,VO.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout");var Dc={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Dc.exports;(function(e,n){(function(){var r,s="4.17.21",o=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",d="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",h=500,x="__lodash_placeholder__",p=1,y=2,b=4,g=1,S=2,v=1,I=2,w=4,D=8,E=16,A=32,_=64,O=128,R=256,L=512,B=30,Y="...",$=800,H=16,X=1,K=2,q=3,Z=1/0,Q=9007199254740991,ie=17976931348623157e292,V=NaN,ee=4294967295,Pe=ee-1,pe=ee>>>1,Re=[["ary",O],["bind",v],["bindKey",I],["curry",D],["curryRight",E],["flip",L],["partial",A],["partialRight",_],["rearg",R]],le="[object Arguments]",re="[object Array]",je="[object AsyncFunction]",ke="[object Boolean]",be="[object Date]",ae="[object DOMException]",oe="[object Error]",se="[object Function]",xe="[object GeneratorFunction]",de="[object Map]",_e="[object Number]",Te="[object Null]",He="[object Object]",ue="[object Promise]",Se="[object Proxy]",G="[object RegExp]",N="[object Set]",Oe="[object String]",Ue="[object Symbol]",cn="[object Undefined]",$t="[object WeakMap]",Rt="[object WeakSet]",Qt="[object ArrayBuffer]",Ln="[object DataView]",ut="[object Float32Array]",gt="[object Float64Array]",_t="[object Int8Array]",Gt="[object Int16Array]",En="[object Int32Array]",hn="[object Uint8Array]",Xn="[object Uint8ClampedArray]",bn="[object Uint16Array]",Ct="[object Uint32Array]",Tn=/\b__p \+= '';/g,Vn=/\b(__p \+=) '' \+/g,wr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,So=/&(?:amp|lt|gt|quot|#39);/g,rr=/[&<>"']/g,Rd=RegExp(So.source),_d=RegExp(rr.source),Od=/<%-([\s\S]+?)%>/g,Lx=/<%([\s\S]+?)%>/g,kd=/<%=([\s\S]+?)%>/g,yn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Cr=/^\w*$/,sl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Md=/[\\^$.*+?()[\]{}|]/g,$w=RegExp(Md.source),Nd=/^\s+/,Fw=/\s/,Ww=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Bw=/\{\n\/\* \[wrapped with (.+)\] \*/,Vw=/,? & /,Uw=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,zw=/[()=,{}\[\]\/\s]/,Hw=/\\(\\)?/g,Gw=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$x=/\w*$/,Yw=/^[-+]0x[0-9a-f]+$/i,qw=/^0b[01]+$/i,Kw=/^\[object .+?Constructor\]$/,Xw=/^0o[0-7]+$/i,Jw=/^(?:0|[1-9]\d*)$/,Qw=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ol=/($^)/,Zw=/['\n\r\u2028\u2029\\]/g,al="\\ud800-\\udfff",e1="\\u0300-\\u036f",t1="\\ufe20-\\ufe2f",n1="\\u20d0-\\u20ff",Fx=e1+t1+n1,Wx="\\u2700-\\u27bf",Bx="a-z\\xdf-\\xf6\\xf8-\\xff",r1="\\xac\\xb1\\xd7\\xf7",s1="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",o1="\\u2000-\\u206f",a1=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Vx="A-Z\\xc0-\\xd6\\xd8-\\xde",Ux="\\ufe0e\\ufe0f",zx=r1+s1+o1+a1,Ld="[']",i1="["+al+"]",Hx="["+zx+"]",il="["+Fx+"]",Gx="\\d+",l1="["+Wx+"]",Yx="["+Bx+"]",qx="[^"+al+zx+Gx+Wx+Bx+Vx+"]",$d="\\ud83c[\\udffb-\\udfff]",c1="(?:"+il+"|"+$d+")",Kx="[^"+al+"]",Fd="(?:\\ud83c[\\udde6-\\uddff]){2}",Wd="[\\ud800-\\udbff][\\udc00-\\udfff]",Ko="["+Vx+"]",Xx="\\u200d",Jx="(?:"+Yx+"|"+qx+")",d1="(?:"+Ko+"|"+qx+")",Qx="(?:"+Ld+"(?:d|ll|m|re|s|t|ve))?",Zx="(?:"+Ld+"(?:D|LL|M|RE|S|T|VE))?",em=c1+"?",tm="["+Ux+"]?",u1="(?:"+Xx+"(?:"+[Kx,Fd,Wd].join("|")+")"+tm+em+")*",h1="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",f1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",nm=tm+em+u1,p1="(?:"+[l1,Fd,Wd].join("|")+")"+nm,x1="(?:"+[Kx+il+"?",il,Fd,Wd,i1].join("|")+")",m1=RegExp(Ld,"g"),g1=RegExp(il,"g"),Bd=RegExp($d+"(?="+$d+")|"+x1+nm,"g"),b1=RegExp([Ko+"?"+Yx+"+"+Qx+"(?="+[Hx,Ko,"$"].join("|")+")",d1+"+"+Zx+"(?="+[Hx,Ko+Jx,"$"].join("|")+")",Ko+"?"+Jx+"+"+Qx,Ko+"+"+Zx,f1,h1,Gx,p1].join("|"),"g"),y1=RegExp("["+Xx+al+Fx+Ux+"]"),v1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,j1=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],S1=-1,sn={};sn[ut]=sn[gt]=sn[_t]=sn[Gt]=sn[En]=sn[hn]=sn[Xn]=sn[bn]=sn[Ct]=!0,sn[le]=sn[re]=sn[Qt]=sn[ke]=sn[Ln]=sn[be]=sn[oe]=sn[se]=sn[de]=sn[_e]=sn[He]=sn[G]=sn[N]=sn[Oe]=sn[$t]=!1;var rn={};rn[le]=rn[re]=rn[Qt]=rn[Ln]=rn[ke]=rn[be]=rn[ut]=rn[gt]=rn[_t]=rn[Gt]=rn[En]=rn[de]=rn[_e]=rn[He]=rn[G]=rn[N]=rn[Oe]=rn[Ue]=rn[hn]=rn[Xn]=rn[bn]=rn[Ct]=!0,rn[oe]=rn[se]=rn[$t]=!1;var w1={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},C1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},P1={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},I1={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},D1=parseFloat,E1=parseInt,rm=typeof li=="object"&&li&&li.Object===Object&&li,T1=typeof self=="object"&&self&&self.Object===Object&&self,Un=rm||T1||Function("return this")(),Vd=n&&!n.nodeType&&n,wo=Vd&&!0&&e&&!e.nodeType&&e,sm=wo&&wo.exports===Vd,Ud=sm&&rm.process,Nr=function(){try{var J=wo&&wo.require&&wo.require("util").types;return J||Ud&&Ud.binding&&Ud.binding("util")}catch{}}(),om=Nr&&Nr.isArrayBuffer,am=Nr&&Nr.isDate,im=Nr&&Nr.isMap,lm=Nr&&Nr.isRegExp,cm=Nr&&Nr.isSet,dm=Nr&&Nr.isTypedArray;function Pr(J,we,me){switch(me.length){case 0:return J.call(we);case 1:return J.call(we,me[0]);case 2:return J.call(we,me[0],me[1]);case 3:return J.call(we,me[0],me[1],me[2])}return J.apply(we,me)}function A1(J,we,me,ze){for(var ht=-1,Mt=J==null?0:J.length;++ht<Mt;){var kn=J[ht];we(ze,kn,me(kn),J)}return ze}function Lr(J,we){for(var me=-1,ze=J==null?0:J.length;++me<ze&&we(J[me],me,J)!==!1;);return J}function R1(J,we){for(var me=J==null?0:J.length;me--&&we(J[me],me,J)!==!1;);return J}function um(J,we){for(var me=-1,ze=J==null?0:J.length;++me<ze;)if(!we(J[me],me,J))return!1;return!0}function qs(J,we){for(var me=-1,ze=J==null?0:J.length,ht=0,Mt=[];++me<ze;){var kn=J[me];we(kn,me,J)&&(Mt[ht++]=kn)}return Mt}function ll(J,we){var me=J==null?0:J.length;return!!me&&Xo(J,we,0)>-1}function zd(J,we,me){for(var ze=-1,ht=J==null?0:J.length;++ze<ht;)if(me(we,J[ze]))return!0;return!1}function dn(J,we){for(var me=-1,ze=J==null?0:J.length,ht=Array(ze);++me<ze;)ht[me]=we(J[me],me,J);return ht}function Ks(J,we){for(var me=-1,ze=we.length,ht=J.length;++me<ze;)J[ht+me]=we[me];return J}function Hd(J,we,me,ze){var ht=-1,Mt=J==null?0:J.length;for(ze&&Mt&&(me=J[++ht]);++ht<Mt;)me=we(me,J[ht],ht,J);return me}function _1(J,we,me,ze){var ht=J==null?0:J.length;for(ze&&ht&&(me=J[--ht]);ht--;)me=we(me,J[ht],ht,J);return me}function Gd(J,we){for(var me=-1,ze=J==null?0:J.length;++me<ze;)if(we(J[me],me,J))return!0;return!1}var O1=Yd("length");function k1(J){return J.split("")}function M1(J){return J.match(Uw)||[]}function hm(J,we,me){var ze;return me(J,function(ht,Mt,kn){if(we(ht,Mt,kn))return ze=Mt,!1}),ze}function cl(J,we,me,ze){for(var ht=J.length,Mt=me+(ze?1:-1);ze?Mt--:++Mt<ht;)if(we(J[Mt],Mt,J))return Mt;return-1}function Xo(J,we,me){return we===we?Y1(J,we,me):cl(J,fm,me)}function N1(J,we,me,ze){for(var ht=me-1,Mt=J.length;++ht<Mt;)if(ze(J[ht],we))return ht;return-1}function fm(J){return J!==J}function pm(J,we){var me=J==null?0:J.length;return me?Kd(J,we)/me:V}function Yd(J){return function(we){return we==null?r:we[J]}}function qd(J){return function(we){return J==null?r:J[we]}}function xm(J,we,me,ze,ht){return ht(J,function(Mt,kn,Zt){me=ze?(ze=!1,Mt):we(me,Mt,kn,Zt)}),me}function L1(J,we){var me=J.length;for(J.sort(we);me--;)J[me]=J[me].value;return J}function Kd(J,we){for(var me,ze=-1,ht=J.length;++ze<ht;){var Mt=we(J[ze]);Mt!==r&&(me=me===r?Mt:me+Mt)}return me}function Xd(J,we){for(var me=-1,ze=Array(J);++me<J;)ze[me]=we(me);return ze}function $1(J,we){return dn(we,function(me){return[me,J[me]]})}function mm(J){return J&&J.slice(0,vm(J)+1).replace(Nd,"")}function Ir(J){return function(we){return J(we)}}function Jd(J,we){return dn(we,function(me){return J[me]})}function Ya(J,we){return J.has(we)}function gm(J,we){for(var me=-1,ze=J.length;++me<ze&&Xo(we,J[me],0)>-1;);return me}function bm(J,we){for(var me=J.length;me--&&Xo(we,J[me],0)>-1;);return me}function F1(J,we){for(var me=J.length,ze=0;me--;)J[me]===we&&++ze;return ze}var W1=qd(w1),B1=qd(C1);function V1(J){return"\\"+I1[J]}function U1(J,we){return J==null?r:J[we]}function Jo(J){return y1.test(J)}function z1(J){return v1.test(J)}function H1(J){for(var we,me=[];!(we=J.next()).done;)me.push(we.value);return me}function Qd(J){var we=-1,me=Array(J.size);return J.forEach(function(ze,ht){me[++we]=[ht,ze]}),me}function ym(J,we){return function(me){return J(we(me))}}function Xs(J,we){for(var me=-1,ze=J.length,ht=0,Mt=[];++me<ze;){var kn=J[me];(kn===we||kn===x)&&(J[me]=x,Mt[ht++]=me)}return Mt}function dl(J){var we=-1,me=Array(J.size);return J.forEach(function(ze){me[++we]=ze}),me}function G1(J){var we=-1,me=Array(J.size);return J.forEach(function(ze){me[++we]=[ze,ze]}),me}function Y1(J,we,me){for(var ze=me-1,ht=J.length;++ze<ht;)if(J[ze]===we)return ze;return-1}function q1(J,we,me){for(var ze=me+1;ze--;)if(J[ze]===we)return ze;return ze}function Qo(J){return Jo(J)?X1(J):O1(J)}function ts(J){return Jo(J)?J1(J):k1(J)}function vm(J){for(var we=J.length;we--&&Fw.test(J.charAt(we)););return we}var K1=qd(P1);function X1(J){for(var we=Bd.lastIndex=0;Bd.test(J);)++we;return we}function J1(J){return J.match(Bd)||[]}function Q1(J){return J.match(b1)||[]}var Z1=function J(we){we=we==null?Un:Zo.defaults(Un.Object(),we,Zo.pick(Un,j1));var me=we.Array,ze=we.Date,ht=we.Error,Mt=we.Function,kn=we.Math,Zt=we.Object,Zd=we.RegExp,eC=we.String,$r=we.TypeError,ul=me.prototype,tC=Mt.prototype,ea=Zt.prototype,hl=we["__core-js_shared__"],fl=tC.toString,Ut=ea.hasOwnProperty,nC=0,jm=function(){var a=/[^.]+$/.exec(hl&&hl.keys&&hl.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),pl=ea.toString,rC=fl.call(Zt),sC=Un._,oC=Zd("^"+fl.call(Ut).replace(Md,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xl=sm?we.Buffer:r,Js=we.Symbol,ml=we.Uint8Array,Sm=xl?xl.allocUnsafe:r,gl=ym(Zt.getPrototypeOf,Zt),wm=Zt.create,Cm=ea.propertyIsEnumerable,bl=ul.splice,Pm=Js?Js.isConcatSpreadable:r,qa=Js?Js.iterator:r,Co=Js?Js.toStringTag:r,yl=function(){try{var a=To(Zt,"defineProperty");return a({},"",{}),a}catch{}}(),aC=we.clearTimeout!==Un.clearTimeout&&we.clearTimeout,iC=ze&&ze.now!==Un.Date.now&&ze.now,lC=we.setTimeout!==Un.setTimeout&&we.setTimeout,vl=kn.ceil,jl=kn.floor,eu=Zt.getOwnPropertySymbols,cC=xl?xl.isBuffer:r,Im=we.isFinite,dC=ul.join,uC=ym(Zt.keys,Zt),Mn=kn.max,Jn=kn.min,hC=ze.now,fC=we.parseInt,Dm=kn.random,pC=ul.reverse,tu=To(we,"DataView"),Ka=To(we,"Map"),nu=To(we,"Promise"),ta=To(we,"Set"),Xa=To(we,"WeakMap"),Ja=To(Zt,"create"),Sl=Xa&&new Xa,na={},xC=Ao(tu),mC=Ao(Ka),gC=Ao(nu),bC=Ao(ta),yC=Ao(Xa),wl=Js?Js.prototype:r,Qa=wl?wl.valueOf:r,Em=wl?wl.toString:r;function k(a){if(vn(a)&&!pt(a)&&!(a instanceof Tt)){if(a instanceof Fr)return a;if(Ut.call(a,"__wrapped__"))return Tg(a)}return new Fr(a)}var ra=function(){function a(){}return function(l){if(!fn(l))return{};if(wm)return wm(l);a.prototype=l;var f=new a;return a.prototype=r,f}}();function Cl(){}function Fr(a,l){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=r}k.templateSettings={escape:Od,evaluate:Lx,interpolate:kd,variable:"",imports:{_:k}},k.prototype=Cl.prototype,k.prototype.constructor=k,Fr.prototype=ra(Cl.prototype),Fr.prototype.constructor=Fr;function Tt(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ee,this.__views__=[]}function vC(){var a=new Tt(this.__wrapped__);return a.__actions__=hr(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=hr(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=hr(this.__views__),a}function jC(){if(this.__filtered__){var a=new Tt(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function SC(){var a=this.__wrapped__.value(),l=this.__dir__,f=pt(a),P=l<0,T=f?a.length:0,M=k2(0,T,this.__views__),W=M.start,z=M.end,te=z-W,Ie=P?z:W-1,De=this.__iteratees__,Ae=De.length,We=0,Xe=Jn(te,this.__takeCount__);if(!f||!P&&T==te&&Xe==te)return Qm(a,this.__actions__);var lt=[];e:for(;te--&&We<Xe;){Ie+=l;for(var vt=-1,ct=a[Ie];++vt<Ae;){var It=De[vt],At=It.iteratee,Tr=It.type,ar=At(ct);if(Tr==K)ct=ar;else if(!ar){if(Tr==X)continue e;break e}}lt[We++]=ct}return lt}Tt.prototype=ra(Cl.prototype),Tt.prototype.constructor=Tt;function Po(a){var l=-1,f=a==null?0:a.length;for(this.clear();++l<f;){var P=a[l];this.set(P[0],P[1])}}function wC(){this.__data__=Ja?Ja(null):{},this.size=0}function CC(a){var l=this.has(a)&&delete this.__data__[a];return this.size-=l?1:0,l}function PC(a){var l=this.__data__;if(Ja){var f=l[a];return f===u?r:f}return Ut.call(l,a)?l[a]:r}function IC(a){var l=this.__data__;return Ja?l[a]!==r:Ut.call(l,a)}function DC(a,l){var f=this.__data__;return this.size+=this.has(a)?0:1,f[a]=Ja&&l===r?u:l,this}Po.prototype.clear=wC,Po.prototype.delete=CC,Po.prototype.get=PC,Po.prototype.has=IC,Po.prototype.set=DC;function Ds(a){var l=-1,f=a==null?0:a.length;for(this.clear();++l<f;){var P=a[l];this.set(P[0],P[1])}}function EC(){this.__data__=[],this.size=0}function TC(a){var l=this.__data__,f=Pl(l,a);if(f<0)return!1;var P=l.length-1;return f==P?l.pop():bl.call(l,f,1),--this.size,!0}function AC(a){var l=this.__data__,f=Pl(l,a);return f<0?r:l[f][1]}function RC(a){return Pl(this.__data__,a)>-1}function _C(a,l){var f=this.__data__,P=Pl(f,a);return P<0?(++this.size,f.push([a,l])):f[P][1]=l,this}Ds.prototype.clear=EC,Ds.prototype.delete=TC,Ds.prototype.get=AC,Ds.prototype.has=RC,Ds.prototype.set=_C;function Es(a){var l=-1,f=a==null?0:a.length;for(this.clear();++l<f;){var P=a[l];this.set(P[0],P[1])}}function OC(){this.size=0,this.__data__={hash:new Po,map:new(Ka||Ds),string:new Po}}function kC(a){var l=Ll(this,a).delete(a);return this.size-=l?1:0,l}function MC(a){return Ll(this,a).get(a)}function NC(a){return Ll(this,a).has(a)}function LC(a,l){var f=Ll(this,a),P=f.size;return f.set(a,l),this.size+=f.size==P?0:1,this}Es.prototype.clear=OC,Es.prototype.delete=kC,Es.prototype.get=MC,Es.prototype.has=NC,Es.prototype.set=LC;function Io(a){var l=-1,f=a==null?0:a.length;for(this.__data__=new Es;++l<f;)this.add(a[l])}function $C(a){return this.__data__.set(a,u),this}function FC(a){return this.__data__.has(a)}Io.prototype.add=Io.prototype.push=$C,Io.prototype.has=FC;function ns(a){var l=this.__data__=new Ds(a);this.size=l.size}function WC(){this.__data__=new Ds,this.size=0}function BC(a){var l=this.__data__,f=l.delete(a);return this.size=l.size,f}function VC(a){return this.__data__.get(a)}function UC(a){return this.__data__.has(a)}function zC(a,l){var f=this.__data__;if(f instanceof Ds){var P=f.__data__;if(!Ka||P.length<o-1)return P.push([a,l]),this.size=++f.size,this;f=this.__data__=new Es(P)}return f.set(a,l),this.size=f.size,this}ns.prototype.clear=WC,ns.prototype.delete=BC,ns.prototype.get=VC,ns.prototype.has=UC,ns.prototype.set=zC;function Tm(a,l){var f=pt(a),P=!f&&Ro(a),T=!f&&!P&&no(a),M=!f&&!P&&!T&&ia(a),W=f||P||T||M,z=W?Xd(a.length,eC):[],te=z.length;for(var Ie in a)(l||Ut.call(a,Ie))&&!(W&&(Ie=="length"||T&&(Ie=="offset"||Ie=="parent")||M&&(Ie=="buffer"||Ie=="byteLength"||Ie=="byteOffset")||_s(Ie,te)))&&z.push(Ie);return z}function Am(a){var l=a.length;return l?a[fu(0,l-1)]:r}function HC(a,l){return $l(hr(a),Do(l,0,a.length))}function GC(a){return $l(hr(a))}function ru(a,l,f){(f!==r&&!rs(a[l],f)||f===r&&!(l in a))&&Ts(a,l,f)}function Za(a,l,f){var P=a[l];(!(Ut.call(a,l)&&rs(P,f))||f===r&&!(l in a))&&Ts(a,l,f)}function Pl(a,l){for(var f=a.length;f--;)if(rs(a[f][0],l))return f;return-1}function YC(a,l,f,P){return Qs(a,function(T,M,W){l(P,T,f(T),W)}),P}function Rm(a,l){return a&&gs(l,$n(l),a)}function qC(a,l){return a&&gs(l,pr(l),a)}function Ts(a,l,f){l=="__proto__"&&yl?yl(a,l,{configurable:!0,enumerable:!0,value:f,writable:!0}):a[l]=f}function su(a,l){for(var f=-1,P=l.length,T=me(P),M=a==null;++f<P;)T[f]=M?r:$u(a,l[f]);return T}function Do(a,l,f){return a===a&&(f!==r&&(a=a<=f?a:f),l!==r&&(a=a>=l?a:l)),a}function Wr(a,l,f,P,T,M){var W,z=l&p,te=l&y,Ie=l&b;if(f&&(W=T?f(a,P,T,M):f(a)),W!==r)return W;if(!fn(a))return a;var De=pt(a);if(De){if(W=N2(a),!z)return hr(a,W)}else{var Ae=Qn(a),We=Ae==se||Ae==xe;if(no(a))return tg(a,z);if(Ae==He||Ae==le||We&&!T){if(W=te||We?{}:vg(a),!z)return te?P2(a,qC(W,a)):C2(a,Rm(W,a))}else{if(!rn[Ae])return T?a:{};W=L2(a,Ae,z)}}M||(M=new ns);var Xe=M.get(a);if(Xe)return Xe;M.set(a,W),Kg(a)?a.forEach(function(ct){W.add(Wr(ct,l,f,ct,a,M))}):Yg(a)&&a.forEach(function(ct,It){W.set(It,Wr(ct,l,f,It,a,M))});var lt=Ie?te?Cu:wu:te?pr:$n,vt=De?r:lt(a);return Lr(vt||a,function(ct,It){vt&&(It=ct,ct=a[It]),Za(W,It,Wr(ct,l,f,It,a,M))}),W}function KC(a){var l=$n(a);return function(f){return _m(f,a,l)}}function _m(a,l,f){var P=f.length;if(a==null)return!P;for(a=Zt(a);P--;){var T=f[P],M=l[T],W=a[T];if(W===r&&!(T in a)||!M(W))return!1}return!0}function Om(a,l,f){if(typeof a!="function")throw new $r(c);return ai(function(){a.apply(r,f)},l)}function ei(a,l,f,P){var T=-1,M=ll,W=!0,z=a.length,te=[],Ie=l.length;if(!z)return te;f&&(l=dn(l,Ir(f))),P?(M=zd,W=!1):l.length>=o&&(M=Ya,W=!1,l=new Io(l));e:for(;++T<z;){var De=a[T],Ae=f==null?De:f(De);if(De=P||De!==0?De:0,W&&Ae===Ae){for(var We=Ie;We--;)if(l[We]===Ae)continue e;te.push(De)}else M(l,Ae,P)||te.push(De)}return te}var Qs=ag(ms),km=ag(au,!0);function XC(a,l){var f=!0;return Qs(a,function(P,T,M){return f=!!l(P,T,M),f}),f}function Il(a,l,f){for(var P=-1,T=a.length;++P<T;){var M=a[P],W=l(M);if(W!=null&&(z===r?W===W&&!Er(W):f(W,z)))var z=W,te=M}return te}function JC(a,l,f,P){var T=a.length;for(f=bt(f),f<0&&(f=-f>T?0:T+f),P=P===r||P>T?T:bt(P),P<0&&(P+=T),P=f>P?0:Jg(P);f<P;)a[f++]=l;return a}function Mm(a,l){var f=[];return Qs(a,function(P,T,M){l(P,T,M)&&f.push(P)}),f}function zn(a,l,f,P,T){var M=-1,W=a.length;for(f||(f=F2),T||(T=[]);++M<W;){var z=a[M];l>0&&f(z)?l>1?zn(z,l-1,f,P,T):Ks(T,z):P||(T[T.length]=z)}return T}var ou=ig(),Nm=ig(!0);function ms(a,l){return a&&ou(a,l,$n)}function au(a,l){return a&&Nm(a,l,$n)}function Dl(a,l){return qs(l,function(f){return Os(a[f])})}function Eo(a,l){l=eo(l,a);for(var f=0,P=l.length;a!=null&&f<P;)a=a[bs(l[f++])];return f&&f==P?a:r}function Lm(a,l,f){var P=l(a);return pt(a)?P:Ks(P,f(a))}function sr(a){return a==null?a===r?cn:Te:Co&&Co in Zt(a)?O2(a):G2(a)}function iu(a,l){return a>l}function QC(a,l){return a!=null&&Ut.call(a,l)}function ZC(a,l){return a!=null&&l in Zt(a)}function e2(a,l,f){return a>=Jn(l,f)&&a<Mn(l,f)}function lu(a,l,f){for(var P=f?zd:ll,T=a[0].length,M=a.length,W=M,z=me(M),te=1/0,Ie=[];W--;){var De=a[W];W&&l&&(De=dn(De,Ir(l))),te=Jn(De.length,te),z[W]=!f&&(l||T>=120&&De.length>=120)?new Io(W&&De):r}De=a[0];var Ae=-1,We=z[0];e:for(;++Ae<T&&Ie.length<te;){var Xe=De[Ae],lt=l?l(Xe):Xe;if(Xe=f||Xe!==0?Xe:0,!(We?Ya(We,lt):P(Ie,lt,f))){for(W=M;--W;){var vt=z[W];if(!(vt?Ya(vt,lt):P(a[W],lt,f)))continue e}We&&We.push(lt),Ie.push(Xe)}}return Ie}function t2(a,l,f,P){return ms(a,function(T,M,W){l(P,f(T),M,W)}),P}function ti(a,l,f){l=eo(l,a),a=Cg(a,l);var P=a==null?a:a[bs(Vr(l))];return P==null?r:Pr(P,a,f)}function $m(a){return vn(a)&&sr(a)==le}function n2(a){return vn(a)&&sr(a)==Qt}function r2(a){return vn(a)&&sr(a)==be}function ni(a,l,f,P,T){return a===l?!0:a==null||l==null||!vn(a)&&!vn(l)?a!==a&&l!==l:s2(a,l,f,P,ni,T)}function s2(a,l,f,P,T,M){var W=pt(a),z=pt(l),te=W?re:Qn(a),Ie=z?re:Qn(l);te=te==le?He:te,Ie=Ie==le?He:Ie;var De=te==He,Ae=Ie==He,We=te==Ie;if(We&&no(a)){if(!no(l))return!1;W=!0,De=!1}if(We&&!De)return M||(M=new ns),W||ia(a)?gg(a,l,f,P,T,M):R2(a,l,te,f,P,T,M);if(!(f&g)){var Xe=De&&Ut.call(a,"__wrapped__"),lt=Ae&&Ut.call(l,"__wrapped__");if(Xe||lt){var vt=Xe?a.value():a,ct=lt?l.value():l;return M||(M=new ns),T(vt,ct,f,P,M)}}return We?(M||(M=new ns),_2(a,l,f,P,T,M)):!1}function o2(a){return vn(a)&&Qn(a)==de}function cu(a,l,f,P){var T=f.length,M=T,W=!P;if(a==null)return!M;for(a=Zt(a);T--;){var z=f[T];if(W&&z[2]?z[1]!==a[z[0]]:!(z[0]in a))return!1}for(;++T<M;){z=f[T];var te=z[0],Ie=a[te],De=z[1];if(W&&z[2]){if(Ie===r&&!(te in a))return!1}else{var Ae=new ns;if(P)var We=P(Ie,De,te,a,l,Ae);if(!(We===r?ni(De,Ie,g|S,P,Ae):We))return!1}}return!0}function Fm(a){if(!fn(a)||B2(a))return!1;var l=Os(a)?oC:Kw;return l.test(Ao(a))}function a2(a){return vn(a)&&sr(a)==G}function i2(a){return vn(a)&&Qn(a)==N}function l2(a){return vn(a)&&zl(a.length)&&!!sn[sr(a)]}function Wm(a){return typeof a=="function"?a:a==null?xr:typeof a=="object"?pt(a)?Um(a[0],a[1]):Vm(a):lb(a)}function du(a){if(!oi(a))return uC(a);var l=[];for(var f in Zt(a))Ut.call(a,f)&&f!="constructor"&&l.push(f);return l}function c2(a){if(!fn(a))return H2(a);var l=oi(a),f=[];for(var P in a)P=="constructor"&&(l||!Ut.call(a,P))||f.push(P);return f}function uu(a,l){return a<l}function Bm(a,l){var f=-1,P=fr(a)?me(a.length):[];return Qs(a,function(T,M,W){P[++f]=l(T,M,W)}),P}function Vm(a){var l=Iu(a);return l.length==1&&l[0][2]?Sg(l[0][0],l[0][1]):function(f){return f===a||cu(f,a,l)}}function Um(a,l){return Eu(a)&&jg(l)?Sg(bs(a),l):function(f){var P=$u(f,a);return P===r&&P===l?Fu(f,a):ni(l,P,g|S)}}function El(a,l,f,P,T){a!==l&&ou(l,function(M,W){if(T||(T=new ns),fn(M))d2(a,l,W,f,El,P,T);else{var z=P?P(Au(a,W),M,W+"",a,l,T):r;z===r&&(z=M),ru(a,W,z)}},pr)}function d2(a,l,f,P,T,M,W){var z=Au(a,f),te=Au(l,f),Ie=W.get(te);if(Ie){ru(a,f,Ie);return}var De=M?M(z,te,f+"",a,l,W):r,Ae=De===r;if(Ae){var We=pt(te),Xe=!We&&no(te),lt=!We&&!Xe&&ia(te);De=te,We||Xe||lt?pt(z)?De=z:Sn(z)?De=hr(z):Xe?(Ae=!1,De=tg(te,!0)):lt?(Ae=!1,De=ng(te,!0)):De=[]:ii(te)||Ro(te)?(De=z,Ro(z)?De=Qg(z):(!fn(z)||Os(z))&&(De=vg(te))):Ae=!1}Ae&&(W.set(te,De),T(De,te,P,M,W),W.delete(te)),ru(a,f,De)}function zm(a,l){var f=a.length;if(f)return l+=l<0?f:0,_s(l,f)?a[l]:r}function Hm(a,l,f){l.length?l=dn(l,function(M){return pt(M)?function(W){return Eo(W,M.length===1?M[0]:M)}:M}):l=[xr];var P=-1;l=dn(l,Ir(it()));var T=Bm(a,function(M,W,z){var te=dn(l,function(Ie){return Ie(M)});return{criteria:te,index:++P,value:M}});return L1(T,function(M,W){return w2(M,W,f)})}function u2(a,l){return Gm(a,l,function(f,P){return Fu(a,P)})}function Gm(a,l,f){for(var P=-1,T=l.length,M={};++P<T;){var W=l[P],z=Eo(a,W);f(z,W)&&ri(M,eo(W,a),z)}return M}function h2(a){return function(l){return Eo(l,a)}}function hu(a,l,f,P){var T=P?N1:Xo,M=-1,W=l.length,z=a;for(a===l&&(l=hr(l)),f&&(z=dn(a,Ir(f)));++M<W;)for(var te=0,Ie=l[M],De=f?f(Ie):Ie;(te=T(z,De,te,P))>-1;)z!==a&&bl.call(z,te,1),bl.call(a,te,1);return a}function Ym(a,l){for(var f=a?l.length:0,P=f-1;f--;){var T=l[f];if(f==P||T!==M){var M=T;_s(T)?bl.call(a,T,1):mu(a,T)}}return a}function fu(a,l){return a+jl(Dm()*(l-a+1))}function f2(a,l,f,P){for(var T=-1,M=Mn(vl((l-a)/(f||1)),0),W=me(M);M--;)W[P?M:++T]=a,a+=f;return W}function pu(a,l){var f="";if(!a||l<1||l>Q)return f;do l%2&&(f+=a),l=jl(l/2),l&&(a+=a);while(l);return f}function St(a,l){return Ru(wg(a,l,xr),a+"")}function p2(a){return Am(la(a))}function x2(a,l){var f=la(a);return $l(f,Do(l,0,f.length))}function ri(a,l,f,P){if(!fn(a))return a;l=eo(l,a);for(var T=-1,M=l.length,W=M-1,z=a;z!=null&&++T<M;){var te=bs(l[T]),Ie=f;if(te==="__proto__"||te==="constructor"||te==="prototype")return a;if(T!=W){var De=z[te];Ie=P?P(De,te,z):r,Ie===r&&(Ie=fn(De)?De:_s(l[T+1])?[]:{})}Za(z,te,Ie),z=z[te]}return a}var qm=Sl?function(a,l){return Sl.set(a,l),a}:xr,m2=yl?function(a,l){return yl(a,"toString",{configurable:!0,enumerable:!1,value:Bu(l),writable:!0})}:xr;function g2(a){return $l(la(a))}function Br(a,l,f){var P=-1,T=a.length;l<0&&(l=-l>T?0:T+l),f=f>T?T:f,f<0&&(f+=T),T=l>f?0:f-l>>>0,l>>>=0;for(var M=me(T);++P<T;)M[P]=a[P+l];return M}function b2(a,l){var f;return Qs(a,function(P,T,M){return f=l(P,T,M),!f}),!!f}function Tl(a,l,f){var P=0,T=a==null?P:a.length;if(typeof l=="number"&&l===l&&T<=pe){for(;P<T;){var M=P+T>>>1,W=a[M];W!==null&&!Er(W)&&(f?W<=l:W<l)?P=M+1:T=M}return T}return xu(a,l,xr,f)}function xu(a,l,f,P){var T=0,M=a==null?0:a.length;if(M===0)return 0;l=f(l);for(var W=l!==l,z=l===null,te=Er(l),Ie=l===r;T<M;){var De=jl((T+M)/2),Ae=f(a[De]),We=Ae!==r,Xe=Ae===null,lt=Ae===Ae,vt=Er(Ae);if(W)var ct=P||lt;else Ie?ct=lt&&(P||We):z?ct=lt&&We&&(P||!Xe):te?ct=lt&&We&&!Xe&&(P||!vt):Xe||vt?ct=!1:ct=P?Ae<=l:Ae<l;ct?T=De+1:M=De}return Jn(M,Pe)}function Km(a,l){for(var f=-1,P=a.length,T=0,M=[];++f<P;){var W=a[f],z=l?l(W):W;if(!f||!rs(z,te)){var te=z;M[T++]=W===0?0:W}}return M}function Xm(a){return typeof a=="number"?a:Er(a)?V:+a}function Dr(a){if(typeof a=="string")return a;if(pt(a))return dn(a,Dr)+"";if(Er(a))return Em?Em.call(a):"";var l=a+"";return l=="0"&&1/a==-Z?"-0":l}function Zs(a,l,f){var P=-1,T=ll,M=a.length,W=!0,z=[],te=z;if(f)W=!1,T=zd;else if(M>=o){var Ie=l?null:T2(a);if(Ie)return dl(Ie);W=!1,T=Ya,te=new Io}else te=l?[]:z;e:for(;++P<M;){var De=a[P],Ae=l?l(De):De;if(De=f||De!==0?De:0,W&&Ae===Ae){for(var We=te.length;We--;)if(te[We]===Ae)continue e;l&&te.push(Ae),z.push(De)}else T(te,Ae,f)||(te!==z&&te.push(Ae),z.push(De))}return z}function mu(a,l){return l=eo(l,a),a=Cg(a,l),a==null||delete a[bs(Vr(l))]}function Jm(a,l,f,P){return ri(a,l,f(Eo(a,l)),P)}function Al(a,l,f,P){for(var T=a.length,M=P?T:-1;(P?M--:++M<T)&&l(a[M],M,a););return f?Br(a,P?0:M,P?M+1:T):Br(a,P?M+1:0,P?T:M)}function Qm(a,l){var f=a;return f instanceof Tt&&(f=f.value()),Hd(l,function(P,T){return T.func.apply(T.thisArg,Ks([P],T.args))},f)}function gu(a,l,f){var P=a.length;if(P<2)return P?Zs(a[0]):[];for(var T=-1,M=me(P);++T<P;)for(var W=a[T],z=-1;++z<P;)z!=T&&(M[T]=ei(M[T]||W,a[z],l,f));return Zs(zn(M,1),l,f)}function Zm(a,l,f){for(var P=-1,T=a.length,M=l.length,W={};++P<T;){var z=P<M?l[P]:r;f(W,a[P],z)}return W}function bu(a){return Sn(a)?a:[]}function yu(a){return typeof a=="function"?a:xr}function eo(a,l){return pt(a)?a:Eu(a,l)?[a]:Eg(Ft(a))}var y2=St;function to(a,l,f){var P=a.length;return f=f===r?P:f,!l&&f>=P?a:Br(a,l,f)}var eg=aC||function(a){return Un.clearTimeout(a)};function tg(a,l){if(l)return a.slice();var f=a.length,P=Sm?Sm(f):new a.constructor(f);return a.copy(P),P}function vu(a){var l=new a.constructor(a.byteLength);return new ml(l).set(new ml(a)),l}function v2(a,l){var f=l?vu(a.buffer):a.buffer;return new a.constructor(f,a.byteOffset,a.byteLength)}function j2(a){var l=new a.constructor(a.source,$x.exec(a));return l.lastIndex=a.lastIndex,l}function S2(a){return Qa?Zt(Qa.call(a)):{}}function ng(a,l){var f=l?vu(a.buffer):a.buffer;return new a.constructor(f,a.byteOffset,a.length)}function rg(a,l){if(a!==l){var f=a!==r,P=a===null,T=a===a,M=Er(a),W=l!==r,z=l===null,te=l===l,Ie=Er(l);if(!z&&!Ie&&!M&&a>l||M&&W&&te&&!z&&!Ie||P&&W&&te||!f&&te||!T)return 1;if(!P&&!M&&!Ie&&a<l||Ie&&f&&T&&!P&&!M||z&&f&&T||!W&&T||!te)return-1}return 0}function w2(a,l,f){for(var P=-1,T=a.criteria,M=l.criteria,W=T.length,z=f.length;++P<W;){var te=rg(T[P],M[P]);if(te){if(P>=z)return te;var Ie=f[P];return te*(Ie=="desc"?-1:1)}}return a.index-l.index}function sg(a,l,f,P){for(var T=-1,M=a.length,W=f.length,z=-1,te=l.length,Ie=Mn(M-W,0),De=me(te+Ie),Ae=!P;++z<te;)De[z]=l[z];for(;++T<W;)(Ae||T<M)&&(De[f[T]]=a[T]);for(;Ie--;)De[z++]=a[T++];return De}function og(a,l,f,P){for(var T=-1,M=a.length,W=-1,z=f.length,te=-1,Ie=l.length,De=Mn(M-z,0),Ae=me(De+Ie),We=!P;++T<De;)Ae[T]=a[T];for(var Xe=T;++te<Ie;)Ae[Xe+te]=l[te];for(;++W<z;)(We||T<M)&&(Ae[Xe+f[W]]=a[T++]);return Ae}function hr(a,l){var f=-1,P=a.length;for(l||(l=me(P));++f<P;)l[f]=a[f];return l}function gs(a,l,f,P){var T=!f;f||(f={});for(var M=-1,W=l.length;++M<W;){var z=l[M],te=P?P(f[z],a[z],z,f,a):r;te===r&&(te=a[z]),T?Ts(f,z,te):Za(f,z,te)}return f}function C2(a,l){return gs(a,Du(a),l)}function P2(a,l){return gs(a,bg(a),l)}function Rl(a,l){return function(f,P){var T=pt(f)?A1:YC,M=l?l():{};return T(f,a,it(P,2),M)}}function sa(a){return St(function(l,f){var P=-1,T=f.length,M=T>1?f[T-1]:r,W=T>2?f[2]:r;for(M=a.length>3&&typeof M=="function"?(T--,M):r,W&&or(f[0],f[1],W)&&(M=T<3?r:M,T=1),l=Zt(l);++P<T;){var z=f[P];z&&a(l,z,P,M)}return l})}function ag(a,l){return function(f,P){if(f==null)return f;if(!fr(f))return a(f,P);for(var T=f.length,M=l?T:-1,W=Zt(f);(l?M--:++M<T)&&P(W[M],M,W)!==!1;);return f}}function ig(a){return function(l,f,P){for(var T=-1,M=Zt(l),W=P(l),z=W.length;z--;){var te=W[a?z:++T];if(f(M[te],te,M)===!1)break}return l}}function I2(a,l,f){var P=l&v,T=si(a);function M(){var W=this&&this!==Un&&this instanceof M?T:a;return W.apply(P?f:this,arguments)}return M}function lg(a){return function(l){l=Ft(l);var f=Jo(l)?ts(l):r,P=f?f[0]:l.charAt(0),T=f?to(f,1).join(""):l.slice(1);return P[a]()+T}}function oa(a){return function(l){return Hd(ab(ob(l).replace(m1,"")),a,"")}}function si(a){return function(){var l=arguments;switch(l.length){case 0:return new a;case 1:return new a(l[0]);case 2:return new a(l[0],l[1]);case 3:return new a(l[0],l[1],l[2]);case 4:return new a(l[0],l[1],l[2],l[3]);case 5:return new a(l[0],l[1],l[2],l[3],l[4]);case 6:return new a(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new a(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var f=ra(a.prototype),P=a.apply(f,l);return fn(P)?P:f}}function D2(a,l,f){var P=si(a);function T(){for(var M=arguments.length,W=me(M),z=M,te=aa(T);z--;)W[z]=arguments[z];var Ie=M<3&&W[0]!==te&&W[M-1]!==te?[]:Xs(W,te);if(M-=Ie.length,M<f)return fg(a,l,_l,T.placeholder,r,W,Ie,r,r,f-M);var De=this&&this!==Un&&this instanceof T?P:a;return Pr(De,this,W)}return T}function cg(a){return function(l,f,P){var T=Zt(l);if(!fr(l)){var M=it(f,3);l=$n(l),f=function(z){return M(T[z],z,T)}}var W=a(l,f,P);return W>-1?T[M?l[W]:W]:r}}function dg(a){return Rs(function(l){var f=l.length,P=f,T=Fr.prototype.thru;for(a&&l.reverse();P--;){var M=l[P];if(typeof M!="function")throw new $r(c);if(T&&!W&&Nl(M)=="wrapper")var W=new Fr([],!0)}for(P=W?P:f;++P<f;){M=l[P];var z=Nl(M),te=z=="wrapper"?Pu(M):r;te&&Tu(te[0])&&te[1]==(O|D|A|R)&&!te[4].length&&te[9]==1?W=W[Nl(te[0])].apply(W,te[3]):W=M.length==1&&Tu(M)?W[z]():W.thru(M)}return function(){var Ie=arguments,De=Ie[0];if(W&&Ie.length==1&&pt(De))return W.plant(De).value();for(var Ae=0,We=f?l[Ae].apply(this,Ie):De;++Ae<f;)We=l[Ae].call(this,We);return We}})}function _l(a,l,f,P,T,M,W,z,te,Ie){var De=l&O,Ae=l&v,We=l&I,Xe=l&(D|E),lt=l&L,vt=We?r:si(a);function ct(){for(var It=arguments.length,At=me(It),Tr=It;Tr--;)At[Tr]=arguments[Tr];if(Xe)var ar=aa(ct),Ar=F1(At,ar);if(P&&(At=sg(At,P,T,Xe)),M&&(At=og(At,M,W,Xe)),It-=Ar,Xe&&It<Ie){var wn=Xs(At,ar);return fg(a,l,_l,ct.placeholder,f,At,wn,z,te,Ie-It)}var ss=Ae?f:this,Ms=We?ss[a]:a;return It=At.length,z?At=Y2(At,z):lt&&It>1&&At.reverse(),De&&te<It&&(At.length=te),this&&this!==Un&&this instanceof ct&&(Ms=vt||si(Ms)),Ms.apply(ss,At)}return ct}function ug(a,l){return function(f,P){return t2(f,a,l(P),{})}}function Ol(a,l){return function(f,P){var T;if(f===r&&P===r)return l;if(f!==r&&(T=f),P!==r){if(T===r)return P;typeof f=="string"||typeof P=="string"?(f=Dr(f),P=Dr(P)):(f=Xm(f),P=Xm(P)),T=a(f,P)}return T}}function ju(a){return Rs(function(l){return l=dn(l,Ir(it())),St(function(f){var P=this;return a(l,function(T){return Pr(T,P,f)})})})}function kl(a,l){l=l===r?" ":Dr(l);var f=l.length;if(f<2)return f?pu(l,a):l;var P=pu(l,vl(a/Qo(l)));return Jo(l)?to(ts(P),0,a).join(""):P.slice(0,a)}function E2(a,l,f,P){var T=l&v,M=si(a);function W(){for(var z=-1,te=arguments.length,Ie=-1,De=P.length,Ae=me(De+te),We=this&&this!==Un&&this instanceof W?M:a;++Ie<De;)Ae[Ie]=P[Ie];for(;te--;)Ae[Ie++]=arguments[++z];return Pr(We,T?f:this,Ae)}return W}function hg(a){return function(l,f,P){return P&&typeof P!="number"&&or(l,f,P)&&(f=P=r),l=ks(l),f===r?(f=l,l=0):f=ks(f),P=P===r?l<f?1:-1:ks(P),f2(l,f,P,a)}}function Ml(a){return function(l,f){return typeof l=="string"&&typeof f=="string"||(l=Ur(l),f=Ur(f)),a(l,f)}}function fg(a,l,f,P,T,M,W,z,te,Ie){var De=l&D,Ae=De?W:r,We=De?r:W,Xe=De?M:r,lt=De?r:M;l|=De?A:_,l&=~(De?_:A),l&w||(l&=~(v|I));var vt=[a,l,T,Xe,Ae,lt,We,z,te,Ie],ct=f.apply(r,vt);return Tu(a)&&Pg(ct,vt),ct.placeholder=P,Ig(ct,a,l)}function Su(a){var l=kn[a];return function(f,P){if(f=Ur(f),P=P==null?0:Jn(bt(P),292),P&&Im(f)){var T=(Ft(f)+"e").split("e"),M=l(T[0]+"e"+(+T[1]+P));return T=(Ft(M)+"e").split("e"),+(T[0]+"e"+(+T[1]-P))}return l(f)}}var T2=ta&&1/dl(new ta([,-0]))[1]==Z?function(a){return new ta(a)}:zu;function pg(a){return function(l){var f=Qn(l);return f==de?Qd(l):f==N?G1(l):$1(l,a(l))}}function As(a,l,f,P,T,M,W,z){var te=l&I;if(!te&&typeof a!="function")throw new $r(c);var Ie=P?P.length:0;if(Ie||(l&=~(A|_),P=T=r),W=W===r?W:Mn(bt(W),0),z=z===r?z:bt(z),Ie-=T?T.length:0,l&_){var De=P,Ae=T;P=T=r}var We=te?r:Pu(a),Xe=[a,l,f,P,T,De,Ae,M,W,z];if(We&&z2(Xe,We),a=Xe[0],l=Xe[1],f=Xe[2],P=Xe[3],T=Xe[4],z=Xe[9]=Xe[9]===r?te?0:a.length:Mn(Xe[9]-Ie,0),!z&&l&(D|E)&&(l&=~(D|E)),!l||l==v)var lt=I2(a,l,f);else l==D||l==E?lt=D2(a,l,z):(l==A||l==(v|A))&&!T.length?lt=E2(a,l,f,P):lt=_l.apply(r,Xe);var vt=We?qm:Pg;return Ig(vt(lt,Xe),a,l)}function xg(a,l,f,P){return a===r||rs(a,ea[f])&&!Ut.call(P,f)?l:a}function mg(a,l,f,P,T,M){return fn(a)&&fn(l)&&(M.set(l,a),El(a,l,r,mg,M),M.delete(l)),a}function A2(a){return ii(a)?r:a}function gg(a,l,f,P,T,M){var W=f&g,z=a.length,te=l.length;if(z!=te&&!(W&&te>z))return!1;var Ie=M.get(a),De=M.get(l);if(Ie&&De)return Ie==l&&De==a;var Ae=-1,We=!0,Xe=f&S?new Io:r;for(M.set(a,l),M.set(l,a);++Ae<z;){var lt=a[Ae],vt=l[Ae];if(P)var ct=W?P(vt,lt,Ae,l,a,M):P(lt,vt,Ae,a,l,M);if(ct!==r){if(ct)continue;We=!1;break}if(Xe){if(!Gd(l,function(It,At){if(!Ya(Xe,At)&&(lt===It||T(lt,It,f,P,M)))return Xe.push(At)})){We=!1;break}}else if(!(lt===vt||T(lt,vt,f,P,M))){We=!1;break}}return M.delete(a),M.delete(l),We}function R2(a,l,f,P,T,M,W){switch(f){case Ln:if(a.byteLength!=l.byteLength||a.byteOffset!=l.byteOffset)return!1;a=a.buffer,l=l.buffer;case Qt:return!(a.byteLength!=l.byteLength||!M(new ml(a),new ml(l)));case ke:case be:case _e:return rs(+a,+l);case oe:return a.name==l.name&&a.message==l.message;case G:case Oe:return a==l+"";case de:var z=Qd;case N:var te=P&g;if(z||(z=dl),a.size!=l.size&&!te)return!1;var Ie=W.get(a);if(Ie)return Ie==l;P|=S,W.set(a,l);var De=gg(z(a),z(l),P,T,M,W);return W.delete(a),De;case Ue:if(Qa)return Qa.call(a)==Qa.call(l)}return!1}function _2(a,l,f,P,T,M){var W=f&g,z=wu(a),te=z.length,Ie=wu(l),De=Ie.length;if(te!=De&&!W)return!1;for(var Ae=te;Ae--;){var We=z[Ae];if(!(W?We in l:Ut.call(l,We)))return!1}var Xe=M.get(a),lt=M.get(l);if(Xe&&lt)return Xe==l&&lt==a;var vt=!0;M.set(a,l),M.set(l,a);for(var ct=W;++Ae<te;){We=z[Ae];var It=a[We],At=l[We];if(P)var Tr=W?P(At,It,We,l,a,M):P(It,At,We,a,l,M);if(!(Tr===r?It===At||T(It,At,f,P,M):Tr)){vt=!1;break}ct||(ct=We=="constructor")}if(vt&&!ct){var ar=a.constructor,Ar=l.constructor;ar!=Ar&&"constructor"in a&&"constructor"in l&&!(typeof ar=="function"&&ar instanceof ar&&typeof Ar=="function"&&Ar instanceof Ar)&&(vt=!1)}return M.delete(a),M.delete(l),vt}function Rs(a){return Ru(wg(a,r,_g),a+"")}function wu(a){return Lm(a,$n,Du)}function Cu(a){return Lm(a,pr,bg)}var Pu=Sl?function(a){return Sl.get(a)}:zu;function Nl(a){for(var l=a.name+"",f=na[l],P=Ut.call(na,l)?f.length:0;P--;){var T=f[P],M=T.func;if(M==null||M==a)return T.name}return l}function aa(a){var l=Ut.call(k,"placeholder")?k:a;return l.placeholder}function it(){var a=k.iteratee||Vu;return a=a===Vu?Wm:a,arguments.length?a(arguments[0],arguments[1]):a}function Ll(a,l){var f=a.__data__;return W2(l)?f[typeof l=="string"?"string":"hash"]:f.map}function Iu(a){for(var l=$n(a),f=l.length;f--;){var P=l[f],T=a[P];l[f]=[P,T,jg(T)]}return l}function To(a,l){var f=U1(a,l);return Fm(f)?f:r}function O2(a){var l=Ut.call(a,Co),f=a[Co];try{a[Co]=r;var P=!0}catch{}var T=pl.call(a);return P&&(l?a[Co]=f:delete a[Co]),T}var Du=eu?function(a){return a==null?[]:(a=Zt(a),qs(eu(a),function(l){return Cm.call(a,l)}))}:Hu,bg=eu?function(a){for(var l=[];a;)Ks(l,Du(a)),a=gl(a);return l}:Hu,Qn=sr;(tu&&Qn(new tu(new ArrayBuffer(1)))!=Ln||Ka&&Qn(new Ka)!=de||nu&&Qn(nu.resolve())!=ue||ta&&Qn(new ta)!=N||Xa&&Qn(new Xa)!=$t)&&(Qn=function(a){var l=sr(a),f=l==He?a.constructor:r,P=f?Ao(f):"";if(P)switch(P){case xC:return Ln;case mC:return de;case gC:return ue;case bC:return N;case yC:return $t}return l});function k2(a,l,f){for(var P=-1,T=f.length;++P<T;){var M=f[P],W=M.size;switch(M.type){case"drop":a+=W;break;case"dropRight":l-=W;break;case"take":l=Jn(l,a+W);break;case"takeRight":a=Mn(a,l-W);break}}return{start:a,end:l}}function M2(a){var l=a.match(Bw);return l?l[1].split(Vw):[]}function yg(a,l,f){l=eo(l,a);for(var P=-1,T=l.length,M=!1;++P<T;){var W=bs(l[P]);if(!(M=a!=null&&f(a,W)))break;a=a[W]}return M||++P!=T?M:(T=a==null?0:a.length,!!T&&zl(T)&&_s(W,T)&&(pt(a)||Ro(a)))}function N2(a){var l=a.length,f=new a.constructor(l);return l&&typeof a[0]=="string"&&Ut.call(a,"index")&&(f.index=a.index,f.input=a.input),f}function vg(a){return typeof a.constructor=="function"&&!oi(a)?ra(gl(a)):{}}function L2(a,l,f){var P=a.constructor;switch(l){case Qt:return vu(a);case ke:case be:return new P(+a);case Ln:return v2(a,f);case ut:case gt:case _t:case Gt:case En:case hn:case Xn:case bn:case Ct:return ng(a,f);case de:return new P;case _e:case Oe:return new P(a);case G:return j2(a);case N:return new P;case Ue:return S2(a)}}function $2(a,l){var f=l.length;if(!f)return a;var P=f-1;return l[P]=(f>1?"& ":"")+l[P],l=l.join(f>2?", ":" "),a.replace(Ww,`{
/* [wrapped with `+l+`] */
`)}function F2(a){return pt(a)||Ro(a)||!!(Pm&&a&&a[Pm])}function _s(a,l){var f=typeof a;return l=l??Q,!!l&&(f=="number"||f!="symbol"&&Jw.test(a))&&a>-1&&a%1==0&&a<l}function or(a,l,f){if(!fn(f))return!1;var P=typeof l;return(P=="number"?fr(f)&&_s(l,f.length):P=="string"&&l in f)?rs(f[l],a):!1}function Eu(a,l){if(pt(a))return!1;var f=typeof a;return f=="number"||f=="symbol"||f=="boolean"||a==null||Er(a)?!0:Cr.test(a)||!yn.test(a)||l!=null&&a in Zt(l)}function W2(a){var l=typeof a;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?a!=="__proto__":a===null}function Tu(a){var l=Nl(a),f=k[l];if(typeof f!="function"||!(l in Tt.prototype))return!1;if(a===f)return!0;var P=Pu(f);return!!P&&a===P[0]}function B2(a){return!!jm&&jm in a}var V2=hl?Os:Gu;function oi(a){var l=a&&a.constructor,f=typeof l=="function"&&l.prototype||ea;return a===f}function jg(a){return a===a&&!fn(a)}function Sg(a,l){return function(f){return f==null?!1:f[a]===l&&(l!==r||a in Zt(f))}}function U2(a){var l=Vl(a,function(P){return f.size===h&&f.clear(),P}),f=l.cache;return l}function z2(a,l){var f=a[1],P=l[1],T=f|P,M=T<(v|I|O),W=P==O&&f==D||P==O&&f==R&&a[7].length<=l[8]||P==(O|R)&&l[7].length<=l[8]&&f==D;if(!(M||W))return a;P&v&&(a[2]=l[2],T|=f&v?0:w);var z=l[3];if(z){var te=a[3];a[3]=te?sg(te,z,l[4]):z,a[4]=te?Xs(a[3],x):l[4]}return z=l[5],z&&(te=a[5],a[5]=te?og(te,z,l[6]):z,a[6]=te?Xs(a[5],x):l[6]),z=l[7],z&&(a[7]=z),P&O&&(a[8]=a[8]==null?l[8]:Jn(a[8],l[8])),a[9]==null&&(a[9]=l[9]),a[0]=l[0],a[1]=T,a}function H2(a){var l=[];if(a!=null)for(var f in Zt(a))l.push(f);return l}function G2(a){return pl.call(a)}function wg(a,l,f){return l=Mn(l===r?a.length-1:l,0),function(){for(var P=arguments,T=-1,M=Mn(P.length-l,0),W=me(M);++T<M;)W[T]=P[l+T];T=-1;for(var z=me(l+1);++T<l;)z[T]=P[T];return z[l]=f(W),Pr(a,this,z)}}function Cg(a,l){return l.length<2?a:Eo(a,Br(l,0,-1))}function Y2(a,l){for(var f=a.length,P=Jn(l.length,f),T=hr(a);P--;){var M=l[P];a[P]=_s(M,f)?T[M]:r}return a}function Au(a,l){if(!(l==="constructor"&&typeof a[l]=="function")&&l!="__proto__")return a[l]}var Pg=Dg(qm),ai=lC||function(a,l){return Un.setTimeout(a,l)},Ru=Dg(m2);function Ig(a,l,f){var P=l+"";return Ru(a,$2(P,q2(M2(P),f)))}function Dg(a){var l=0,f=0;return function(){var P=hC(),T=H-(P-f);if(f=P,T>0){if(++l>=$)return arguments[0]}else l=0;return a.apply(r,arguments)}}function $l(a,l){var f=-1,P=a.length,T=P-1;for(l=l===r?P:l;++f<l;){var M=fu(f,T),W=a[M];a[M]=a[f],a[f]=W}return a.length=l,a}var Eg=U2(function(a){var l=[];return a.charCodeAt(0)===46&&l.push(""),a.replace(sl,function(f,P,T,M){l.push(T?M.replace(Hw,"$1"):P||f)}),l});function bs(a){if(typeof a=="string"||Er(a))return a;var l=a+"";return l=="0"&&1/a==-Z?"-0":l}function Ao(a){if(a!=null){try{return fl.call(a)}catch{}try{return a+""}catch{}}return""}function q2(a,l){return Lr(Re,function(f){var P="_."+f[0];l&f[1]&&!ll(a,P)&&a.push(P)}),a.sort()}function Tg(a){if(a instanceof Tt)return a.clone();var l=new Fr(a.__wrapped__,a.__chain__);return l.__actions__=hr(a.__actions__),l.__index__=a.__index__,l.__values__=a.__values__,l}function K2(a,l,f){(f?or(a,l,f):l===r)?l=1:l=Mn(bt(l),0);var P=a==null?0:a.length;if(!P||l<1)return[];for(var T=0,M=0,W=me(vl(P/l));T<P;)W[M++]=Br(a,T,T+=l);return W}function X2(a){for(var l=-1,f=a==null?0:a.length,P=0,T=[];++l<f;){var M=a[l];M&&(T[P++]=M)}return T}function J2(){var a=arguments.length;if(!a)return[];for(var l=me(a-1),f=arguments[0],P=a;P--;)l[P-1]=arguments[P];return Ks(pt(f)?hr(f):[f],zn(l,1))}var Q2=St(function(a,l){return Sn(a)?ei(a,zn(l,1,Sn,!0)):[]}),Z2=St(function(a,l){var f=Vr(l);return Sn(f)&&(f=r),Sn(a)?ei(a,zn(l,1,Sn,!0),it(f,2)):[]}),eP=St(function(a,l){var f=Vr(l);return Sn(f)&&(f=r),Sn(a)?ei(a,zn(l,1,Sn,!0),r,f):[]});function tP(a,l,f){var P=a==null?0:a.length;return P?(l=f||l===r?1:bt(l),Br(a,l<0?0:l,P)):[]}function nP(a,l,f){var P=a==null?0:a.length;return P?(l=f||l===r?1:bt(l),l=P-l,Br(a,0,l<0?0:l)):[]}function rP(a,l){return a&&a.length?Al(a,it(l,3),!0,!0):[]}function sP(a,l){return a&&a.length?Al(a,it(l,3),!0):[]}function oP(a,l,f,P){var T=a==null?0:a.length;return T?(f&&typeof f!="number"&&or(a,l,f)&&(f=0,P=T),JC(a,l,f,P)):[]}function Ag(a,l,f){var P=a==null?0:a.length;if(!P)return-1;var T=f==null?0:bt(f);return T<0&&(T=Mn(P+T,0)),cl(a,it(l,3),T)}function Rg(a,l,f){var P=a==null?0:a.length;if(!P)return-1;var T=P-1;return f!==r&&(T=bt(f),T=f<0?Mn(P+T,0):Jn(T,P-1)),cl(a,it(l,3),T,!0)}function _g(a){var l=a==null?0:a.length;return l?zn(a,1):[]}function aP(a){var l=a==null?0:a.length;return l?zn(a,Z):[]}function iP(a,l){var f=a==null?0:a.length;return f?(l=l===r?1:bt(l),zn(a,l)):[]}function lP(a){for(var l=-1,f=a==null?0:a.length,P={};++l<f;){var T=a[l];P[T[0]]=T[1]}return P}function Og(a){return a&&a.length?a[0]:r}function cP(a,l,f){var P=a==null?0:a.length;if(!P)return-1;var T=f==null?0:bt(f);return T<0&&(T=Mn(P+T,0)),Xo(a,l,T)}function dP(a){var l=a==null?0:a.length;return l?Br(a,0,-1):[]}var uP=St(function(a){var l=dn(a,bu);return l.length&&l[0]===a[0]?lu(l):[]}),hP=St(function(a){var l=Vr(a),f=dn(a,bu);return l===Vr(f)?l=r:f.pop(),f.length&&f[0]===a[0]?lu(f,it(l,2)):[]}),fP=St(function(a){var l=Vr(a),f=dn(a,bu);return l=typeof l=="function"?l:r,l&&f.pop(),f.length&&f[0]===a[0]?lu(f,r,l):[]});function pP(a,l){return a==null?"":dC.call(a,l)}function Vr(a){var l=a==null?0:a.length;return l?a[l-1]:r}function xP(a,l,f){var P=a==null?0:a.length;if(!P)return-1;var T=P;return f!==r&&(T=bt(f),T=T<0?Mn(P+T,0):Jn(T,P-1)),l===l?q1(a,l,T):cl(a,fm,T,!0)}function mP(a,l){return a&&a.length?zm(a,bt(l)):r}var gP=St(kg);function kg(a,l){return a&&a.length&&l&&l.length?hu(a,l):a}function bP(a,l,f){return a&&a.length&&l&&l.length?hu(a,l,it(f,2)):a}function yP(a,l,f){return a&&a.length&&l&&l.length?hu(a,l,r,f):a}var vP=Rs(function(a,l){var f=a==null?0:a.length,P=su(a,l);return Ym(a,dn(l,function(T){return _s(T,f)?+T:T}).sort(rg)),P});function jP(a,l){var f=[];if(!(a&&a.length))return f;var P=-1,T=[],M=a.length;for(l=it(l,3);++P<M;){var W=a[P];l(W,P,a)&&(f.push(W),T.push(P))}return Ym(a,T),f}function _u(a){return a==null?a:pC.call(a)}function SP(a,l,f){var P=a==null?0:a.length;return P?(f&&typeof f!="number"&&or(a,l,f)?(l=0,f=P):(l=l==null?0:bt(l),f=f===r?P:bt(f)),Br(a,l,f)):[]}function wP(a,l){return Tl(a,l)}function CP(a,l,f){return xu(a,l,it(f,2))}function PP(a,l){var f=a==null?0:a.length;if(f){var P=Tl(a,l);if(P<f&&rs(a[P],l))return P}return-1}function IP(a,l){return Tl(a,l,!0)}function DP(a,l,f){return xu(a,l,it(f,2),!0)}function EP(a,l){var f=a==null?0:a.length;if(f){var P=Tl(a,l,!0)-1;if(rs(a[P],l))return P}return-1}function TP(a){return a&&a.length?Km(a):[]}function AP(a,l){return a&&a.length?Km(a,it(l,2)):[]}function RP(a){var l=a==null?0:a.length;return l?Br(a,1,l):[]}function _P(a,l,f){return a&&a.length?(l=f||l===r?1:bt(l),Br(a,0,l<0?0:l)):[]}function OP(a,l,f){var P=a==null?0:a.length;return P?(l=f||l===r?1:bt(l),l=P-l,Br(a,l<0?0:l,P)):[]}function kP(a,l){return a&&a.length?Al(a,it(l,3),!1,!0):[]}function MP(a,l){return a&&a.length?Al(a,it(l,3)):[]}var NP=St(function(a){return Zs(zn(a,1,Sn,!0))}),LP=St(function(a){var l=Vr(a);return Sn(l)&&(l=r),Zs(zn(a,1,Sn,!0),it(l,2))}),$P=St(function(a){var l=Vr(a);return l=typeof l=="function"?l:r,Zs(zn(a,1,Sn,!0),r,l)});function FP(a){return a&&a.length?Zs(a):[]}function WP(a,l){return a&&a.length?Zs(a,it(l,2)):[]}function BP(a,l){return l=typeof l=="function"?l:r,a&&a.length?Zs(a,r,l):[]}function Ou(a){if(!(a&&a.length))return[];var l=0;return a=qs(a,function(f){if(Sn(f))return l=Mn(f.length,l),!0}),Xd(l,function(f){return dn(a,Yd(f))})}function Mg(a,l){if(!(a&&a.length))return[];var f=Ou(a);return l==null?f:dn(f,function(P){return Pr(l,r,P)})}var VP=St(function(a,l){return Sn(a)?ei(a,l):[]}),UP=St(function(a){return gu(qs(a,Sn))}),zP=St(function(a){var l=Vr(a);return Sn(l)&&(l=r),gu(qs(a,Sn),it(l,2))}),HP=St(function(a){var l=Vr(a);return l=typeof l=="function"?l:r,gu(qs(a,Sn),r,l)}),GP=St(Ou);function YP(a,l){return Zm(a||[],l||[],Za)}function qP(a,l){return Zm(a||[],l||[],ri)}var KP=St(function(a){var l=a.length,f=l>1?a[l-1]:r;return f=typeof f=="function"?(a.pop(),f):r,Mg(a,f)});function Ng(a){var l=k(a);return l.__chain__=!0,l}function XP(a,l){return l(a),a}function Fl(a,l){return l(a)}var JP=Rs(function(a){var l=a.length,f=l?a[0]:0,P=this.__wrapped__,T=function(M){return su(M,a)};return l>1||this.__actions__.length||!(P instanceof Tt)||!_s(f)?this.thru(T):(P=P.slice(f,+f+(l?1:0)),P.__actions__.push({func:Fl,args:[T],thisArg:r}),new Fr(P,this.__chain__).thru(function(M){return l&&!M.length&&M.push(r),M}))});function QP(){return Ng(this)}function ZP(){return new Fr(this.value(),this.__chain__)}function eI(){this.__values__===r&&(this.__values__=Xg(this.value()));var a=this.__index__>=this.__values__.length,l=a?r:this.__values__[this.__index__++];return{done:a,value:l}}function tI(){return this}function nI(a){for(var l,f=this;f instanceof Cl;){var P=Tg(f);P.__index__=0,P.__values__=r,l?T.__wrapped__=P:l=P;var T=P;f=f.__wrapped__}return T.__wrapped__=a,l}function rI(){var a=this.__wrapped__;if(a instanceof Tt){var l=a;return this.__actions__.length&&(l=new Tt(this)),l=l.reverse(),l.__actions__.push({func:Fl,args:[_u],thisArg:r}),new Fr(l,this.__chain__)}return this.thru(_u)}function sI(){return Qm(this.__wrapped__,this.__actions__)}var oI=Rl(function(a,l,f){Ut.call(a,f)?++a[f]:Ts(a,f,1)});function aI(a,l,f){var P=pt(a)?um:XC;return f&&or(a,l,f)&&(l=r),P(a,it(l,3))}function iI(a,l){var f=pt(a)?qs:Mm;return f(a,it(l,3))}var lI=cg(Ag),cI=cg(Rg);function dI(a,l){return zn(Wl(a,l),1)}function uI(a,l){return zn(Wl(a,l),Z)}function hI(a,l,f){return f=f===r?1:bt(f),zn(Wl(a,l),f)}function Lg(a,l){var f=pt(a)?Lr:Qs;return f(a,it(l,3))}function $g(a,l){var f=pt(a)?R1:km;return f(a,it(l,3))}var fI=Rl(function(a,l,f){Ut.call(a,f)?a[f].push(l):Ts(a,f,[l])});function pI(a,l,f,P){a=fr(a)?a:la(a),f=f&&!P?bt(f):0;var T=a.length;return f<0&&(f=Mn(T+f,0)),Hl(a)?f<=T&&a.indexOf(l,f)>-1:!!T&&Xo(a,l,f)>-1}var xI=St(function(a,l,f){var P=-1,T=typeof l=="function",M=fr(a)?me(a.length):[];return Qs(a,function(W){M[++P]=T?Pr(l,W,f):ti(W,l,f)}),M}),mI=Rl(function(a,l,f){Ts(a,f,l)});function Wl(a,l){var f=pt(a)?dn:Bm;return f(a,it(l,3))}function gI(a,l,f,P){return a==null?[]:(pt(l)||(l=l==null?[]:[l]),f=P?r:f,pt(f)||(f=f==null?[]:[f]),Hm(a,l,f))}var bI=Rl(function(a,l,f){a[f?0:1].push(l)},function(){return[[],[]]});function yI(a,l,f){var P=pt(a)?Hd:xm,T=arguments.length<3;return P(a,it(l,4),f,T,Qs)}function vI(a,l,f){var P=pt(a)?_1:xm,T=arguments.length<3;return P(a,it(l,4),f,T,km)}function jI(a,l){var f=pt(a)?qs:Mm;return f(a,Ul(it(l,3)))}function SI(a){var l=pt(a)?Am:p2;return l(a)}function wI(a,l,f){(f?or(a,l,f):l===r)?l=1:l=bt(l);var P=pt(a)?HC:x2;return P(a,l)}function CI(a){var l=pt(a)?GC:g2;return l(a)}function PI(a){if(a==null)return 0;if(fr(a))return Hl(a)?Qo(a):a.length;var l=Qn(a);return l==de||l==N?a.size:du(a).length}function II(a,l,f){var P=pt(a)?Gd:b2;return f&&or(a,l,f)&&(l=r),P(a,it(l,3))}var DI=St(function(a,l){if(a==null)return[];var f=l.length;return f>1&&or(a,l[0],l[1])?l=[]:f>2&&or(l[0],l[1],l[2])&&(l=[l[0]]),Hm(a,zn(l,1),[])}),Bl=iC||function(){return Un.Date.now()};function EI(a,l){if(typeof l!="function")throw new $r(c);return a=bt(a),function(){if(--a<1)return l.apply(this,arguments)}}function Fg(a,l,f){return l=f?r:l,l=a&&l==null?a.length:l,As(a,O,r,r,r,r,l)}function Wg(a,l){var f;if(typeof l!="function")throw new $r(c);return a=bt(a),function(){return--a>0&&(f=l.apply(this,arguments)),a<=1&&(l=r),f}}var ku=St(function(a,l,f){var P=v;if(f.length){var T=Xs(f,aa(ku));P|=A}return As(a,P,l,f,T)}),Bg=St(function(a,l,f){var P=v|I;if(f.length){var T=Xs(f,aa(Bg));P|=A}return As(l,P,a,f,T)});function Vg(a,l,f){l=f?r:l;var P=As(a,D,r,r,r,r,r,l);return P.placeholder=Vg.placeholder,P}function Ug(a,l,f){l=f?r:l;var P=As(a,E,r,r,r,r,r,l);return P.placeholder=Ug.placeholder,P}function zg(a,l,f){var P,T,M,W,z,te,Ie=0,De=!1,Ae=!1,We=!0;if(typeof a!="function")throw new $r(c);l=Ur(l)||0,fn(f)&&(De=!!f.leading,Ae="maxWait"in f,M=Ae?Mn(Ur(f.maxWait)||0,l):M,We="trailing"in f?!!f.trailing:We);function Xe(wn){var ss=P,Ms=T;return P=T=r,Ie=wn,W=a.apply(Ms,ss),W}function lt(wn){return Ie=wn,z=ai(It,l),De?Xe(wn):W}function vt(wn){var ss=wn-te,Ms=wn-Ie,cb=l-ss;return Ae?Jn(cb,M-Ms):cb}function ct(wn){var ss=wn-te,Ms=wn-Ie;return te===r||ss>=l||ss<0||Ae&&Ms>=M}function It(){var wn=Bl();if(ct(wn))return At(wn);z=ai(It,vt(wn))}function At(wn){return z=r,We&&P?Xe(wn):(P=T=r,W)}function Tr(){z!==r&&eg(z),Ie=0,P=te=T=z=r}function ar(){return z===r?W:At(Bl())}function Ar(){var wn=Bl(),ss=ct(wn);if(P=arguments,T=this,te=wn,ss){if(z===r)return lt(te);if(Ae)return eg(z),z=ai(It,l),Xe(te)}return z===r&&(z=ai(It,l)),W}return Ar.cancel=Tr,Ar.flush=ar,Ar}var TI=St(function(a,l){return Om(a,1,l)}),AI=St(function(a,l,f){return Om(a,Ur(l)||0,f)});function RI(a){return As(a,L)}function Vl(a,l){if(typeof a!="function"||l!=null&&typeof l!="function")throw new $r(c);var f=function(){var P=arguments,T=l?l.apply(this,P):P[0],M=f.cache;if(M.has(T))return M.get(T);var W=a.apply(this,P);return f.cache=M.set(T,W)||M,W};return f.cache=new(Vl.Cache||Es),f}Vl.Cache=Es;function Ul(a){if(typeof a!="function")throw new $r(c);return function(){var l=arguments;switch(l.length){case 0:return!a.call(this);case 1:return!a.call(this,l[0]);case 2:return!a.call(this,l[0],l[1]);case 3:return!a.call(this,l[0],l[1],l[2])}return!a.apply(this,l)}}function _I(a){return Wg(2,a)}var OI=y2(function(a,l){l=l.length==1&&pt(l[0])?dn(l[0],Ir(it())):dn(zn(l,1),Ir(it()));var f=l.length;return St(function(P){for(var T=-1,M=Jn(P.length,f);++T<M;)P[T]=l[T].call(this,P[T]);return Pr(a,this,P)})}),Mu=St(function(a,l){var f=Xs(l,aa(Mu));return As(a,A,r,l,f)}),Hg=St(function(a,l){var f=Xs(l,aa(Hg));return As(a,_,r,l,f)}),kI=Rs(function(a,l){return As(a,R,r,r,r,l)});function MI(a,l){if(typeof a!="function")throw new $r(c);return l=l===r?l:bt(l),St(a,l)}function NI(a,l){if(typeof a!="function")throw new $r(c);return l=l==null?0:Mn(bt(l),0),St(function(f){var P=f[l],T=to(f,0,l);return P&&Ks(T,P),Pr(a,this,T)})}function LI(a,l,f){var P=!0,T=!0;if(typeof a!="function")throw new $r(c);return fn(f)&&(P="leading"in f?!!f.leading:P,T="trailing"in f?!!f.trailing:T),zg(a,l,{leading:P,maxWait:l,trailing:T})}function $I(a){return Fg(a,1)}function FI(a,l){return Mu(yu(l),a)}function WI(){if(!arguments.length)return[];var a=arguments[0];return pt(a)?a:[a]}function BI(a){return Wr(a,b)}function VI(a,l){return l=typeof l=="function"?l:r,Wr(a,b,l)}function UI(a){return Wr(a,p|b)}function zI(a,l){return l=typeof l=="function"?l:r,Wr(a,p|b,l)}function HI(a,l){return l==null||_m(a,l,$n(l))}function rs(a,l){return a===l||a!==a&&l!==l}var GI=Ml(iu),YI=Ml(function(a,l){return a>=l}),Ro=$m(function(){return arguments}())?$m:function(a){return vn(a)&&Ut.call(a,"callee")&&!Cm.call(a,"callee")},pt=me.isArray,qI=om?Ir(om):n2;function fr(a){return a!=null&&zl(a.length)&&!Os(a)}function Sn(a){return vn(a)&&fr(a)}function KI(a){return a===!0||a===!1||vn(a)&&sr(a)==ke}var no=cC||Gu,XI=am?Ir(am):r2;function JI(a){return vn(a)&&a.nodeType===1&&!ii(a)}function QI(a){if(a==null)return!0;if(fr(a)&&(pt(a)||typeof a=="string"||typeof a.splice=="function"||no(a)||ia(a)||Ro(a)))return!a.length;var l=Qn(a);if(l==de||l==N)return!a.size;if(oi(a))return!du(a).length;for(var f in a)if(Ut.call(a,f))return!1;return!0}function ZI(a,l){return ni(a,l)}function eD(a,l,f){f=typeof f=="function"?f:r;var P=f?f(a,l):r;return P===r?ni(a,l,r,f):!!P}function Nu(a){if(!vn(a))return!1;var l=sr(a);return l==oe||l==ae||typeof a.message=="string"&&typeof a.name=="string"&&!ii(a)}function tD(a){return typeof a=="number"&&Im(a)}function Os(a){if(!fn(a))return!1;var l=sr(a);return l==se||l==xe||l==je||l==Se}function Gg(a){return typeof a=="number"&&a==bt(a)}function zl(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=Q}function fn(a){var l=typeof a;return a!=null&&(l=="object"||l=="function")}function vn(a){return a!=null&&typeof a=="object"}var Yg=im?Ir(im):o2;function nD(a,l){return a===l||cu(a,l,Iu(l))}function rD(a,l,f){return f=typeof f=="function"?f:r,cu(a,l,Iu(l),f)}function sD(a){return qg(a)&&a!=+a}function oD(a){if(V2(a))throw new ht(i);return Fm(a)}function aD(a){return a===null}function iD(a){return a==null}function qg(a){return typeof a=="number"||vn(a)&&sr(a)==_e}function ii(a){if(!vn(a)||sr(a)!=He)return!1;var l=gl(a);if(l===null)return!0;var f=Ut.call(l,"constructor")&&l.constructor;return typeof f=="function"&&f instanceof f&&fl.call(f)==rC}var Lu=lm?Ir(lm):a2;function lD(a){return Gg(a)&&a>=-Q&&a<=Q}var Kg=cm?Ir(cm):i2;function Hl(a){return typeof a=="string"||!pt(a)&&vn(a)&&sr(a)==Oe}function Er(a){return typeof a=="symbol"||vn(a)&&sr(a)==Ue}var ia=dm?Ir(dm):l2;function cD(a){return a===r}function dD(a){return vn(a)&&Qn(a)==$t}function uD(a){return vn(a)&&sr(a)==Rt}var hD=Ml(uu),fD=Ml(function(a,l){return a<=l});function Xg(a){if(!a)return[];if(fr(a))return Hl(a)?ts(a):hr(a);if(qa&&a[qa])return H1(a[qa]());var l=Qn(a),f=l==de?Qd:l==N?dl:la;return f(a)}function ks(a){if(!a)return a===0?a:0;if(a=Ur(a),a===Z||a===-Z){var l=a<0?-1:1;return l*ie}return a===a?a:0}function bt(a){var l=ks(a),f=l%1;return l===l?f?l-f:l:0}function Jg(a){return a?Do(bt(a),0,ee):0}function Ur(a){if(typeof a=="number")return a;if(Er(a))return V;if(fn(a)){var l=typeof a.valueOf=="function"?a.valueOf():a;a=fn(l)?l+"":l}if(typeof a!="string")return a===0?a:+a;a=mm(a);var f=qw.test(a);return f||Xw.test(a)?E1(a.slice(2),f?2:8):Yw.test(a)?V:+a}function Qg(a){return gs(a,pr(a))}function pD(a){return a?Do(bt(a),-Q,Q):a===0?a:0}function Ft(a){return a==null?"":Dr(a)}var xD=sa(function(a,l){if(oi(l)||fr(l)){gs(l,$n(l),a);return}for(var f in l)Ut.call(l,f)&&Za(a,f,l[f])}),Zg=sa(function(a,l){gs(l,pr(l),a)}),Gl=sa(function(a,l,f,P){gs(l,pr(l),a,P)}),mD=sa(function(a,l,f,P){gs(l,$n(l),a,P)}),gD=Rs(su);function bD(a,l){var f=ra(a);return l==null?f:Rm(f,l)}var yD=St(function(a,l){a=Zt(a);var f=-1,P=l.length,T=P>2?l[2]:r;for(T&&or(l[0],l[1],T)&&(P=1);++f<P;)for(var M=l[f],W=pr(M),z=-1,te=W.length;++z<te;){var Ie=W[z],De=a[Ie];(De===r||rs(De,ea[Ie])&&!Ut.call(a,Ie))&&(a[Ie]=M[Ie])}return a}),vD=St(function(a){return a.push(r,mg),Pr(eb,r,a)});function jD(a,l){return hm(a,it(l,3),ms)}function SD(a,l){return hm(a,it(l,3),au)}function wD(a,l){return a==null?a:ou(a,it(l,3),pr)}function CD(a,l){return a==null?a:Nm(a,it(l,3),pr)}function PD(a,l){return a&&ms(a,it(l,3))}function ID(a,l){return a&&au(a,it(l,3))}function DD(a){return a==null?[]:Dl(a,$n(a))}function ED(a){return a==null?[]:Dl(a,pr(a))}function $u(a,l,f){var P=a==null?r:Eo(a,l);return P===r?f:P}function TD(a,l){return a!=null&&yg(a,l,QC)}function Fu(a,l){return a!=null&&yg(a,l,ZC)}var AD=ug(function(a,l,f){l!=null&&typeof l.toString!="function"&&(l=pl.call(l)),a[l]=f},Bu(xr)),RD=ug(function(a,l,f){l!=null&&typeof l.toString!="function"&&(l=pl.call(l)),Ut.call(a,l)?a[l].push(f):a[l]=[f]},it),_D=St(ti);function $n(a){return fr(a)?Tm(a):du(a)}function pr(a){return fr(a)?Tm(a,!0):c2(a)}function OD(a,l){var f={};return l=it(l,3),ms(a,function(P,T,M){Ts(f,l(P,T,M),P)}),f}function kD(a,l){var f={};return l=it(l,3),ms(a,function(P,T,M){Ts(f,T,l(P,T,M))}),f}var MD=sa(function(a,l,f){El(a,l,f)}),eb=sa(function(a,l,f,P){El(a,l,f,P)}),ND=Rs(function(a,l){var f={};if(a==null)return f;var P=!1;l=dn(l,function(M){return M=eo(M,a),P||(P=M.length>1),M}),gs(a,Cu(a),f),P&&(f=Wr(f,p|y|b,A2));for(var T=l.length;T--;)mu(f,l[T]);return f});function LD(a,l){return tb(a,Ul(it(l)))}var $D=Rs(function(a,l){return a==null?{}:u2(a,l)});function tb(a,l){if(a==null)return{};var f=dn(Cu(a),function(P){return[P]});return l=it(l),Gm(a,f,function(P,T){return l(P,T[0])})}function FD(a,l,f){l=eo(l,a);var P=-1,T=l.length;for(T||(T=1,a=r);++P<T;){var M=a==null?r:a[bs(l[P])];M===r&&(P=T,M=f),a=Os(M)?M.call(a):M}return a}function WD(a,l,f){return a==null?a:ri(a,l,f)}function BD(a,l,f,P){return P=typeof P=="function"?P:r,a==null?a:ri(a,l,f,P)}var nb=pg($n),rb=pg(pr);function VD(a,l,f){var P=pt(a),T=P||no(a)||ia(a);if(l=it(l,4),f==null){var M=a&&a.constructor;T?f=P?new M:[]:fn(a)?f=Os(M)?ra(gl(a)):{}:f={}}return(T?Lr:ms)(a,function(W,z,te){return l(f,W,z,te)}),f}function UD(a,l){return a==null?!0:mu(a,l)}function zD(a,l,f){return a==null?a:Jm(a,l,yu(f))}function HD(a,l,f,P){return P=typeof P=="function"?P:r,a==null?a:Jm(a,l,yu(f),P)}function la(a){return a==null?[]:Jd(a,$n(a))}function GD(a){return a==null?[]:Jd(a,pr(a))}function YD(a,l,f){return f===r&&(f=l,l=r),f!==r&&(f=Ur(f),f=f===f?f:0),l!==r&&(l=Ur(l),l=l===l?l:0),Do(Ur(a),l,f)}function qD(a,l,f){return l=ks(l),f===r?(f=l,l=0):f=ks(f),a=Ur(a),e2(a,l,f)}function KD(a,l,f){if(f&&typeof f!="boolean"&&or(a,l,f)&&(l=f=r),f===r&&(typeof l=="boolean"?(f=l,l=r):typeof a=="boolean"&&(f=a,a=r)),a===r&&l===r?(a=0,l=1):(a=ks(a),l===r?(l=a,a=0):l=ks(l)),a>l){var P=a;a=l,l=P}if(f||a%1||l%1){var T=Dm();return Jn(a+T*(l-a+D1("1e-"+((T+"").length-1))),l)}return fu(a,l)}var XD=oa(function(a,l,f){return l=l.toLowerCase(),a+(f?sb(l):l)});function sb(a){return Wu(Ft(a).toLowerCase())}function ob(a){return a=Ft(a),a&&a.replace(Qw,W1).replace(g1,"")}function JD(a,l,f){a=Ft(a),l=Dr(l);var P=a.length;f=f===r?P:Do(bt(f),0,P);var T=f;return f-=l.length,f>=0&&a.slice(f,T)==l}function QD(a){return a=Ft(a),a&&_d.test(a)?a.replace(rr,B1):a}function ZD(a){return a=Ft(a),a&&$w.test(a)?a.replace(Md,"\\$&"):a}var eE=oa(function(a,l,f){return a+(f?"-":"")+l.toLowerCase()}),tE=oa(function(a,l,f){return a+(f?" ":"")+l.toLowerCase()}),nE=lg("toLowerCase");function rE(a,l,f){a=Ft(a),l=bt(l);var P=l?Qo(a):0;if(!l||P>=l)return a;var T=(l-P)/2;return kl(jl(T),f)+a+kl(vl(T),f)}function sE(a,l,f){a=Ft(a),l=bt(l);var P=l?Qo(a):0;return l&&P<l?a+kl(l-P,f):a}function oE(a,l,f){a=Ft(a),l=bt(l);var P=l?Qo(a):0;return l&&P<l?kl(l-P,f)+a:a}function aE(a,l,f){return f||l==null?l=0:l&&(l=+l),fC(Ft(a).replace(Nd,""),l||0)}function iE(a,l,f){return(f?or(a,l,f):l===r)?l=1:l=bt(l),pu(Ft(a),l)}function lE(){var a=arguments,l=Ft(a[0]);return a.length<3?l:l.replace(a[1],a[2])}var cE=oa(function(a,l,f){return a+(f?"_":"")+l.toLowerCase()});function dE(a,l,f){return f&&typeof f!="number"&&or(a,l,f)&&(l=f=r),f=f===r?ee:f>>>0,f?(a=Ft(a),a&&(typeof l=="string"||l!=null&&!Lu(l))&&(l=Dr(l),!l&&Jo(a))?to(ts(a),0,f):a.split(l,f)):[]}var uE=oa(function(a,l,f){return a+(f?" ":"")+Wu(l)});function hE(a,l,f){return a=Ft(a),f=f==null?0:Do(bt(f),0,a.length),l=Dr(l),a.slice(f,f+l.length)==l}function fE(a,l,f){var P=k.templateSettings;f&&or(a,l,f)&&(l=r),a=Ft(a),l=Gl({},l,P,xg);var T=Gl({},l.imports,P.imports,xg),M=$n(T),W=Jd(T,M),z,te,Ie=0,De=l.interpolate||ol,Ae="__p += '",We=Zd((l.escape||ol).source+"|"+De.source+"|"+(De===kd?Gw:ol).source+"|"+(l.evaluate||ol).source+"|$","g"),Xe="//# sourceURL="+(Ut.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++S1+"]")+`
`;a.replace(We,function(ct,It,At,Tr,ar,Ar){return At||(At=Tr),Ae+=a.slice(Ie,Ar).replace(Zw,V1),It&&(z=!0,Ae+=`' +
__e(`+It+`) +
'`),ar&&(te=!0,Ae+=`';
`+ar+`;
__p += '`),At&&(Ae+=`' +
((__t = (`+At+`)) == null ? '' : __t) +
'`),Ie=Ar+ct.length,ct}),Ae+=`';
`;var lt=Ut.call(l,"variable")&&l.variable;if(!lt)Ae=`with (obj) {
`+Ae+`
}
`;else if(zw.test(lt))throw new ht(d);Ae=(te?Ae.replace(Tn,""):Ae).replace(Vn,"$1").replace(wr,"$1;"),Ae="function("+(lt||"obj")+`) {
`+(lt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(z?", __e = _.escape":"")+(te?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ae+`return __p
}`;var vt=ib(function(){return Mt(M,Xe+"return "+Ae).apply(r,W)});if(vt.source=Ae,Nu(vt))throw vt;return vt}function pE(a){return Ft(a).toLowerCase()}function xE(a){return Ft(a).toUpperCase()}function mE(a,l,f){if(a=Ft(a),a&&(f||l===r))return mm(a);if(!a||!(l=Dr(l)))return a;var P=ts(a),T=ts(l),M=gm(P,T),W=bm(P,T)+1;return to(P,M,W).join("")}function gE(a,l,f){if(a=Ft(a),a&&(f||l===r))return a.slice(0,vm(a)+1);if(!a||!(l=Dr(l)))return a;var P=ts(a),T=bm(P,ts(l))+1;return to(P,0,T).join("")}function bE(a,l,f){if(a=Ft(a),a&&(f||l===r))return a.replace(Nd,"");if(!a||!(l=Dr(l)))return a;var P=ts(a),T=gm(P,ts(l));return to(P,T).join("")}function yE(a,l){var f=B,P=Y;if(fn(l)){var T="separator"in l?l.separator:T;f="length"in l?bt(l.length):f,P="omission"in l?Dr(l.omission):P}a=Ft(a);var M=a.length;if(Jo(a)){var W=ts(a);M=W.length}if(f>=M)return a;var z=f-Qo(P);if(z<1)return P;var te=W?to(W,0,z).join(""):a.slice(0,z);if(T===r)return te+P;if(W&&(z+=te.length-z),Lu(T)){if(a.slice(z).search(T)){var Ie,De=te;for(T.global||(T=Zd(T.source,Ft($x.exec(T))+"g")),T.lastIndex=0;Ie=T.exec(De);)var Ae=Ie.index;te=te.slice(0,Ae===r?z:Ae)}}else if(a.indexOf(Dr(T),z)!=z){var We=te.lastIndexOf(T);We>-1&&(te=te.slice(0,We))}return te+P}function vE(a){return a=Ft(a),a&&Rd.test(a)?a.replace(So,K1):a}var jE=oa(function(a,l,f){return a+(f?" ":"")+l.toUpperCase()}),Wu=lg("toUpperCase");function ab(a,l,f){return a=Ft(a),l=f?r:l,l===r?z1(a)?Q1(a):M1(a):a.match(l)||[]}var ib=St(function(a,l){try{return Pr(a,r,l)}catch(f){return Nu(f)?f:new ht(f)}}),SE=Rs(function(a,l){return Lr(l,function(f){f=bs(f),Ts(a,f,ku(a[f],a))}),a});function wE(a){var l=a==null?0:a.length,f=it();return a=l?dn(a,function(P){if(typeof P[1]!="function")throw new $r(c);return[f(P[0]),P[1]]}):[],St(function(P){for(var T=-1;++T<l;){var M=a[T];if(Pr(M[0],this,P))return Pr(M[1],this,P)}})}function CE(a){return KC(Wr(a,p))}function Bu(a){return function(){return a}}function PE(a,l){return a==null||a!==a?l:a}var IE=dg(),DE=dg(!0);function xr(a){return a}function Vu(a){return Wm(typeof a=="function"?a:Wr(a,p))}function EE(a){return Vm(Wr(a,p))}function TE(a,l){return Um(a,Wr(l,p))}var AE=St(function(a,l){return function(f){return ti(f,a,l)}}),RE=St(function(a,l){return function(f){return ti(a,f,l)}});function Uu(a,l,f){var P=$n(l),T=Dl(l,P);f==null&&!(fn(l)&&(T.length||!P.length))&&(f=l,l=a,a=this,T=Dl(l,$n(l)));var M=!(fn(f)&&"chain"in f)||!!f.chain,W=Os(a);return Lr(T,function(z){var te=l[z];a[z]=te,W&&(a.prototype[z]=function(){var Ie=this.__chain__;if(M||Ie){var De=a(this.__wrapped__),Ae=De.__actions__=hr(this.__actions__);return Ae.push({func:te,args:arguments,thisArg:a}),De.__chain__=Ie,De}return te.apply(a,Ks([this.value()],arguments))})}),a}function _E(){return Un._===this&&(Un._=sC),this}function zu(){}function OE(a){return a=bt(a),St(function(l){return zm(l,a)})}var kE=ju(dn),ME=ju(um),NE=ju(Gd);function lb(a){return Eu(a)?Yd(bs(a)):h2(a)}function LE(a){return function(l){return a==null?r:Eo(a,l)}}var $E=hg(),FE=hg(!0);function Hu(){return[]}function Gu(){return!1}function WE(){return{}}function BE(){return""}function VE(){return!0}function UE(a,l){if(a=bt(a),a<1||a>Q)return[];var f=ee,P=Jn(a,ee);l=it(l),a-=ee;for(var T=Xd(P,l);++f<a;)l(f);return T}function zE(a){return pt(a)?dn(a,bs):Er(a)?[a]:hr(Eg(Ft(a)))}function HE(a){var l=++nC;return Ft(a)+l}var GE=Ol(function(a,l){return a+l},0),YE=Su("ceil"),qE=Ol(function(a,l){return a/l},1),KE=Su("floor");function XE(a){return a&&a.length?Il(a,xr,iu):r}function JE(a,l){return a&&a.length?Il(a,it(l,2),iu):r}function QE(a){return pm(a,xr)}function ZE(a,l){return pm(a,it(l,2))}function eT(a){return a&&a.length?Il(a,xr,uu):r}function tT(a,l){return a&&a.length?Il(a,it(l,2),uu):r}var nT=Ol(function(a,l){return a*l},1),rT=Su("round"),sT=Ol(function(a,l){return a-l},0);function oT(a){return a&&a.length?Kd(a,xr):0}function aT(a,l){return a&&a.length?Kd(a,it(l,2)):0}return k.after=EI,k.ary=Fg,k.assign=xD,k.assignIn=Zg,k.assignInWith=Gl,k.assignWith=mD,k.at=gD,k.before=Wg,k.bind=ku,k.bindAll=SE,k.bindKey=Bg,k.castArray=WI,k.chain=Ng,k.chunk=K2,k.compact=X2,k.concat=J2,k.cond=wE,k.conforms=CE,k.constant=Bu,k.countBy=oI,k.create=bD,k.curry=Vg,k.curryRight=Ug,k.debounce=zg,k.defaults=yD,k.defaultsDeep=vD,k.defer=TI,k.delay=AI,k.difference=Q2,k.differenceBy=Z2,k.differenceWith=eP,k.drop=tP,k.dropRight=nP,k.dropRightWhile=rP,k.dropWhile=sP,k.fill=oP,k.filter=iI,k.flatMap=dI,k.flatMapDeep=uI,k.flatMapDepth=hI,k.flatten=_g,k.flattenDeep=aP,k.flattenDepth=iP,k.flip=RI,k.flow=IE,k.flowRight=DE,k.fromPairs=lP,k.functions=DD,k.functionsIn=ED,k.groupBy=fI,k.initial=dP,k.intersection=uP,k.intersectionBy=hP,k.intersectionWith=fP,k.invert=AD,k.invertBy=RD,k.invokeMap=xI,k.iteratee=Vu,k.keyBy=mI,k.keys=$n,k.keysIn=pr,k.map=Wl,k.mapKeys=OD,k.mapValues=kD,k.matches=EE,k.matchesProperty=TE,k.memoize=Vl,k.merge=MD,k.mergeWith=eb,k.method=AE,k.methodOf=RE,k.mixin=Uu,k.negate=Ul,k.nthArg=OE,k.omit=ND,k.omitBy=LD,k.once=_I,k.orderBy=gI,k.over=kE,k.overArgs=OI,k.overEvery=ME,k.overSome=NE,k.partial=Mu,k.partialRight=Hg,k.partition=bI,k.pick=$D,k.pickBy=tb,k.property=lb,k.propertyOf=LE,k.pull=gP,k.pullAll=kg,k.pullAllBy=bP,k.pullAllWith=yP,k.pullAt=vP,k.range=$E,k.rangeRight=FE,k.rearg=kI,k.reject=jI,k.remove=jP,k.rest=MI,k.reverse=_u,k.sampleSize=wI,k.set=WD,k.setWith=BD,k.shuffle=CI,k.slice=SP,k.sortBy=DI,k.sortedUniq=TP,k.sortedUniqBy=AP,k.split=dE,k.spread=NI,k.tail=RP,k.take=_P,k.takeRight=OP,k.takeRightWhile=kP,k.takeWhile=MP,k.tap=XP,k.throttle=LI,k.thru=Fl,k.toArray=Xg,k.toPairs=nb,k.toPairsIn=rb,k.toPath=zE,k.toPlainObject=Qg,k.transform=VD,k.unary=$I,k.union=NP,k.unionBy=LP,k.unionWith=$P,k.uniq=FP,k.uniqBy=WP,k.uniqWith=BP,k.unset=UD,k.unzip=Ou,k.unzipWith=Mg,k.update=zD,k.updateWith=HD,k.values=la,k.valuesIn=GD,k.without=VP,k.words=ab,k.wrap=FI,k.xor=UP,k.xorBy=zP,k.xorWith=HP,k.zip=GP,k.zipObject=YP,k.zipObjectDeep=qP,k.zipWith=KP,k.entries=nb,k.entriesIn=rb,k.extend=Zg,k.extendWith=Gl,Uu(k,k),k.add=GE,k.attempt=ib,k.camelCase=XD,k.capitalize=sb,k.ceil=YE,k.clamp=YD,k.clone=BI,k.cloneDeep=UI,k.cloneDeepWith=zI,k.cloneWith=VI,k.conformsTo=HI,k.deburr=ob,k.defaultTo=PE,k.divide=qE,k.endsWith=JD,k.eq=rs,k.escape=QD,k.escapeRegExp=ZD,k.every=aI,k.find=lI,k.findIndex=Ag,k.findKey=jD,k.findLast=cI,k.findLastIndex=Rg,k.findLastKey=SD,k.floor=KE,k.forEach=Lg,k.forEachRight=$g,k.forIn=wD,k.forInRight=CD,k.forOwn=PD,k.forOwnRight=ID,k.get=$u,k.gt=GI,k.gte=YI,k.has=TD,k.hasIn=Fu,k.head=Og,k.identity=xr,k.includes=pI,k.indexOf=cP,k.inRange=qD,k.invoke=_D,k.isArguments=Ro,k.isArray=pt,k.isArrayBuffer=qI,k.isArrayLike=fr,k.isArrayLikeObject=Sn,k.isBoolean=KI,k.isBuffer=no,k.isDate=XI,k.isElement=JI,k.isEmpty=QI,k.isEqual=ZI,k.isEqualWith=eD,k.isError=Nu,k.isFinite=tD,k.isFunction=Os,k.isInteger=Gg,k.isLength=zl,k.isMap=Yg,k.isMatch=nD,k.isMatchWith=rD,k.isNaN=sD,k.isNative=oD,k.isNil=iD,k.isNull=aD,k.isNumber=qg,k.isObject=fn,k.isObjectLike=vn,k.isPlainObject=ii,k.isRegExp=Lu,k.isSafeInteger=lD,k.isSet=Kg,k.isString=Hl,k.isSymbol=Er,k.isTypedArray=ia,k.isUndefined=cD,k.isWeakMap=dD,k.isWeakSet=uD,k.join=pP,k.kebabCase=eE,k.last=Vr,k.lastIndexOf=xP,k.lowerCase=tE,k.lowerFirst=nE,k.lt=hD,k.lte=fD,k.max=XE,k.maxBy=JE,k.mean=QE,k.meanBy=ZE,k.min=eT,k.minBy=tT,k.stubArray=Hu,k.stubFalse=Gu,k.stubObject=WE,k.stubString=BE,k.stubTrue=VE,k.multiply=nT,k.nth=mP,k.noConflict=_E,k.noop=zu,k.now=Bl,k.pad=rE,k.padEnd=sE,k.padStart=oE,k.parseInt=aE,k.random=KD,k.reduce=yI,k.reduceRight=vI,k.repeat=iE,k.replace=lE,k.result=FD,k.round=rT,k.runInContext=J,k.sample=SI,k.size=PI,k.snakeCase=cE,k.some=II,k.sortedIndex=wP,k.sortedIndexBy=CP,k.sortedIndexOf=PP,k.sortedLastIndex=IP,k.sortedLastIndexBy=DP,k.sortedLastIndexOf=EP,k.startCase=uE,k.startsWith=hE,k.subtract=sT,k.sum=oT,k.sumBy=aT,k.template=fE,k.times=UE,k.toFinite=ks,k.toInteger=bt,k.toLength=Jg,k.toLower=pE,k.toNumber=Ur,k.toSafeInteger=pD,k.toString=Ft,k.toUpper=xE,k.trim=mE,k.trimEnd=gE,k.trimStart=bE,k.truncate=yE,k.unescape=vE,k.uniqueId=HE,k.upperCase=jE,k.upperFirst=Wu,k.each=Lg,k.eachRight=$g,k.first=Og,Uu(k,function(){var a={};return ms(k,function(l,f){Ut.call(k.prototype,f)||(a[f]=l)}),a}(),{chain:!1}),k.VERSION=s,Lr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){k[a].placeholder=k}),Lr(["drop","take"],function(a,l){Tt.prototype[a]=function(f){f=f===r?1:Mn(bt(f),0);var P=this.__filtered__&&!l?new Tt(this):this.clone();return P.__filtered__?P.__takeCount__=Jn(f,P.__takeCount__):P.__views__.push({size:Jn(f,ee),type:a+(P.__dir__<0?"Right":"")}),P},Tt.prototype[a+"Right"]=function(f){return this.reverse()[a](f).reverse()}}),Lr(["filter","map","takeWhile"],function(a,l){var f=l+1,P=f==X||f==q;Tt.prototype[a]=function(T){var M=this.clone();return M.__iteratees__.push({iteratee:it(T,3),type:f}),M.__filtered__=M.__filtered__||P,M}}),Lr(["head","last"],function(a,l){var f="take"+(l?"Right":"");Tt.prototype[a]=function(){return this[f](1).value()[0]}}),Lr(["initial","tail"],function(a,l){var f="drop"+(l?"":"Right");Tt.prototype[a]=function(){return this.__filtered__?new Tt(this):this[f](1)}}),Tt.prototype.compact=function(){return this.filter(xr)},Tt.prototype.find=function(a){return this.filter(a).head()},Tt.prototype.findLast=function(a){return this.reverse().find(a)},Tt.prototype.invokeMap=St(function(a,l){return typeof a=="function"?new Tt(this):this.map(function(f){return ti(f,a,l)})}),Tt.prototype.reject=function(a){return this.filter(Ul(it(a)))},Tt.prototype.slice=function(a,l){a=bt(a);var f=this;return f.__filtered__&&(a>0||l<0)?new Tt(f):(a<0?f=f.takeRight(-a):a&&(f=f.drop(a)),l!==r&&(l=bt(l),f=l<0?f.dropRight(-l):f.take(l-a)),f)},Tt.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Tt.prototype.toArray=function(){return this.take(ee)},ms(Tt.prototype,function(a,l){var f=/^(?:filter|find|map|reject)|While$/.test(l),P=/^(?:head|last)$/.test(l),T=k[P?"take"+(l=="last"?"Right":""):l],M=P||/^find/.test(l);T&&(k.prototype[l]=function(){var W=this.__wrapped__,z=P?[1]:arguments,te=W instanceof Tt,Ie=z[0],De=te||pt(W),Ae=function(It){var At=T.apply(k,Ks([It],z));return P&&We?At[0]:At};De&&f&&typeof Ie=="function"&&Ie.length!=1&&(te=De=!1);var We=this.__chain__,Xe=!!this.__actions__.length,lt=M&&!We,vt=te&&!Xe;if(!M&&De){W=vt?W:new Tt(this);var ct=a.apply(W,z);return ct.__actions__.push({func:Fl,args:[Ae],thisArg:r}),new Fr(ct,We)}return lt&&vt?a.apply(this,z):(ct=this.thru(Ae),lt?P?ct.value()[0]:ct.value():ct)})}),Lr(["pop","push","shift","sort","splice","unshift"],function(a){var l=ul[a],f=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",P=/^(?:pop|shift)$/.test(a);k.prototype[a]=function(){var T=arguments;if(P&&!this.__chain__){var M=this.value();return l.apply(pt(M)?M:[],T)}return this[f](function(W){return l.apply(pt(W)?W:[],T)})}}),ms(Tt.prototype,function(a,l){var f=k[l];if(f){var P=f.name+"";Ut.call(na,P)||(na[P]=[]),na[P].push({name:l,func:f})}}),na[_l(r,I).name]=[{name:"wrapper",func:r}],Tt.prototype.clone=vC,Tt.prototype.reverse=jC,Tt.prototype.value=SC,k.prototype.at=JP,k.prototype.chain=QP,k.prototype.commit=ZP,k.prototype.next=eI,k.prototype.plant=nI,k.prototype.reverse=rI,k.prototype.toJSON=k.prototype.valueOf=k.prototype.value=sI,k.prototype.first=k.prototype.head,qa&&(k.prototype[qa]=tI),k},Zo=Z1();wo?((wo.exports=Zo)._=Zo,Vd._=Zo):Un._=Zo}).call(li)})(Dc,Dc.exports);var UO=Dc.exports;const da={ALL:0,NEWS:1,CHANNELS:2,USERS:3,POLLS:4,TAGS:5},eh={RELEVANCE:0,DATE:1,POPULARITY:2},lv={all:da.ALL,news:da.NEWS,channels:da.CHANNELS,users:da.USERS,polls:da.POLLS,tags:da.TAGS},cv={relevance:eh.RELEVANCE,date:eh.DATE,popularity:eh.POPULARITY},zO=()=>{const[e,n]=m.useState(null),[r,s]=m.useState(!1),{api:o}=Qe(),{execute:i}=st(),[c,d]=m.useState(null),u=m.useCallback(async(y,b={},g=1,S=20)=>{if(!y.trim()){d("Search query cannot be empty");return}s(!0),d(null);try{const v={};Object.entries(b).forEach(([D,E])=>{if(E!=null&&E!=="")if(D==="type"&&typeof E=="string"){const A=lv[E];A!==void 0&&(v.type=A)}else if(D==="sortBy"&&typeof E=="string"){const A=cv[E];A!==void 0&&(v.sortBy=A)}else v[D]=E});const I={page:g,limit:S},w=await i(()=>o==null?void 0:o.app.search.search(y,v,I),{showSuccessMessage:!1});n(w)}catch(v){console.error("Search error:",v),d(v.message||"Search failed")}finally{s(!1)}},[i]),h=m.useCallback(async(y,b)=>{if(!y.trim()||y.length<2)return[];try{return(await i(()=>o==null?void 0:o.app.search.getSuggestions(y,b),{showSuccessMessage:!1})).suggestions||[]}catch(g){return console.error("Suggestions error:",g),[]}},[i]),x=m.useCallback(async(y,b)=>{if(!y.trim()||y.length<2)return[];if(!(o!=null&&o.app.search))return console.error("Search API not available"),[];try{const g=await i(()=>o.app.search.getStructuredSuggestions(y,b),{showSuccessMessage:!1});return(g==null?void 0:g.suggestions)||[]}catch(g){return console.error("Structured suggestions error:",g),[]}},[i,o==null?void 0:o.app.search]),p=m.useCallback(()=>{n(null),d(null)},[]);return{searchResults:e,loading:r,error:c,performSearch:u,getSuggestions:h,getStructuredSuggestions:x,clearResults:p}},HO=Me(C,{shouldForwardProp:e=>e!=="isFocused"})(({theme:e,isFocused:n})=>({position:"relative",width:n?"600px":"480px",maxWidth:n?"600px":"480px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",[e.breakpoints.down("lg")]:{width:n?"560px":"460px",maxWidth:n?"560px":"460px"},[e.breakpoints.down("md")]:{width:n?"400px":"360px",maxWidth:n?"400px":"360px"},[e.breakpoints.down("sm")]:{width:n?"320px":"280px",maxWidth:n?"320px":"280px"}})),GO=Me(ot)(({theme:e})=>({borderRadius:e.spacing(3),backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.04)",border:"none",transition:"all 0.2s ease-in-out","&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.08)"},"&:focus-within":{backgroundColor:e.palette.background.paper,boxShadow:"0 4px 20px rgba(0,0,0,0.15)",border:`1px solid ${e.palette.primary.main}`}})),YO=Me(C)(({theme:e})=>({display:"flex",alignItems:"center",padding:e.spacing(1,2),cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover}})),Oh=({onSearch:e,onSuggestionSelect:n,placeholder:r="Search articles, channels, or journalists...",className:s,fullWidth:o=!1})=>{const[i,c]=m.useState(""),[d,u]=m.useState([]),[h,x]=m.useState(!1),[p,y]=m.useState(!1),[b,g]=m.useState(!1),{getStructuredSuggestions:S}=zO(),v=Pt(),I=m.useCallback(UO.debounce(async O=>{if(O.length<2){u([]);return}x(!0);try{const R=await S(O);u(R)}catch(R){console.error("Error fetching suggestions:",R),u([])}finally{x(!1)}},300),[]);m.useEffect(()=>{I(i)},[i,I]);const w=()=>{i.trim()&&(y(!1),e?e(i):v(`${ye.APP_SEARCH}?q=${encodeURIComponent(i.trim())}`))},D=O=>{if(y(!1),c(""),n){const R={id:O.id,text:O.text,type:O.type,metadata:O.metadata};n(R);return}switch(O.type){case"news":v(ye.APP_NEWS_VIEW.replace(":id",O.id));break;case"channel":v(ye.APP_CHANNEL_VIEW.replace(":channelId",O.id));break;case"poll":v(ye.APP_POLL_VIEW.replace(":id",O.id));break;case"user":v(`${ye.APP_SEARCH}?q=${encodeURIComponent(O.text)}&type=users`);break;case"tag":v(`${ye.APP_SEARCH}?q=${encodeURIComponent(O.text)}&type=tags`);break;default:v(`${ye.APP_SEARCH}?q=${encodeURIComponent(O.text)}`);break}},E=O=>{O.key==="Enter"&&w()},A=O=>{switch(O){case"news":return t.jsx(Wo,{fontSize:"small",color:"primary"});case"channel":return t.jsx(of,{fontSize:"small",color:"secondary"});case"user":return t.jsx(sf,{fontSize:"small",color:"action"});default:return t.jsx(us,{fontSize:"small",color:"disabled"})}},_=(O,R)=>m.createElement(YO,{...O,key:R.id},t.jsx(C,{sx:{mr:2},children:A(R.type)}),t.jsxs(C,{sx:{flexGrow:1},children:[t.jsx(j,{variant:"body2",fontWeight:"medium",children:R.text}),R.metadata&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:[R.metadata.channelName&&`in ${R.metadata.channelName}`,R.metadata.handle&&`@${R.metadata.handle}`,R.metadata.voteCount&&`${R.metadata.voteCount} votes`,R.metadata.usageCount&&`${R.metadata.usageCount} uses`,R.metadata.publishedAt&&`${new Date(R.metadata.publishedAt).toLocaleDateString()}`]})]}),t.jsx(j,{variant:"caption",color:"text.secondary",sx:{ml:1},children:R.type}));return t.jsx(HO,{className:s,isFocused:b,sx:{width:o?"100%":void 0},children:t.jsx(GO,{elevation:0,children:t.jsx(uT,{freeSolo:!0,options:d,loading:h,inputValue:i,onInputChange:(O,R)=>{c(R),y(R.length>=2)},getOptionLabel:O=>typeof O=="string"?O:O.text,filterOptions:O=>O,isOptionEqualToValue:(O,R)=>{if(typeof O=="string"||typeof R=="string"){const L=typeof O=="string"?O:O.text,B=typeof R=="string"?R:R.text;return L===B}return O.id===R.id},renderOption:(O,R)=>_(O,R),noOptionsText:h?"Loading...":"No suggestions found",open:p,onOpen:()=>y(!0),onClose:()=>{y(!1),g(!1)},ListboxProps:{style:{maxHeight:400}},renderInput:O=>t.jsx(Ze,{...O,variant:"outlined",placeholder:b?r:"Search...",onKeyPress:E,onFocus:()=>g(!0),onBlur:()=>{setTimeout(()=>{p||g(!1)},200)},size:"medium",InputProps:{...O.InputProps,startAdornment:t.jsx(Qr,{position:"start",children:t.jsx(Fe,{onClick:w,size:"small",sx:{color:"inherit"},children:t.jsx(Gi,{})})}),endAdornment:t.jsxs(t.Fragment,{children:[h&&t.jsx(j,{variant:"caption",sx:{mr:1},children:"Loading..."}),i&&t.jsx(Qr,{position:"end",children:t.jsx(Fe,{onClick:()=>c(""),size:"small",sx:{color:"inherit"},children:t.jsx(hT,{})})})]}),sx:{"& .MuiOutlinedInput-notchedOutline":{border:"none"},"&:hover .MuiOutlinedInput-notchedOutline":{border:"none"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiInputBase-input":{padding:"12px 8px",fontSize:"1rem"},"& .MuiInputBase-input::placeholder":{color:"inherit",opacity:.7}}}}),PaperComponent:({children:O,...R})=>t.jsx(ot,{...R,sx:{mt:.5,boxShadow:3,maxHeight:400,overflow:"auto",position:"absolute",width:"100%",zIndex:1300,borderRadius:3},children:O}),onChange:(O,R)=>{R&&typeof R=="object"&&D(R)}})})})},qO="journalist-material-client",KO="1.1.0",XO="module",JO="https://cantsdmr.github.io/journalist-material-client",QO={dev:"vite","dev:staging":"vite --mode staging",build:"tsc && vite build","build:dev":"tsc && vite build --mode dev","build:staging":"tsc && vite build --mode staging","build:prod":"tsc && vite build --mode production",lint:"eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0",preview:"vite preview","preview:staging":"vite preview --mode staging",predeploy:"npm run build:staging",deploy:"gh-pages -d dist"},ZO={"@editorjs/checklist":"^1.6.0","@editorjs/code":"^2.9.3","@editorjs/delimiter":"^1.4.2","@editorjs/editorjs":"^2.30.7","@editorjs/header":"^2.8.8","@editorjs/image":"^2.10.1","@editorjs/inline-code":"^1.5.1","@editorjs/link":"^2.6.2","@editorjs/list":"^2.0.2","@editorjs/marker":"^1.4.0","@editorjs/quote":"^2.7.6","@editorjs/table":"^2.4.3","@editorjs/warning":"^1.4.1","@emotion/react":"^11.11.4","@emotion/styled":"^11.11.5","@hello-pangea/dnd":"^17.0.0","@mui/icons-material":"^5.15.17","@mui/material":"^5.15.17","@mui/x-date-pickers":"^8.3.1","@paypal/react-paypal-js":"^8.9.2",axios:"^1.7.2","class-transformer":"^0.5.1","class-validator":"^0.14.2","date-fns":"^4.1.0",firebase:"^10.12.2",react:"^18.2.0","react-dom":"^18.2.0","react-infinite-scroll-component":"^6.1.0","react-router-dom":"^6.23.1",recharts:"^2.12.7"},ek={"@types/react":"^18.2.66","@types/react-dom":"^18.2.22","@typescript-eslint/eslint-plugin":"^7.2.0","@typescript-eslint/parser":"^7.2.0","@vitejs/plugin-react":"^4.2.1",eslint:"^8.57.0","eslint-plugin-react-hooks":"^4.6.0","eslint-plugin-react-refresh":"^0.4.6","gh-pages":"^6.3.0",typescript:"^5.2.2",vite:"^5.2.0"},tk={name:qO,private:!0,version:KO,type:XO,homepage:JO,scripts:QO,dependencies:ZO,devDependencies:ek},nk=tk.version,rk=()=>{const e=Yc("(max-width:600px)"),[n,r]=m.useState(!e),s=mn(),{isLoading:o}=rd(),[i,c]=m.useState(!1),[d,u]=m.useState(null),h=Pt(),x=Gs();m.useEffect(()=>{e&&r(!1)},[e]);const p=()=>{r(!n)},y=D=>{h(`${ye.APP_SEARCH}?q=${encodeURIComponent(D)}`),c(!1)},b=()=>{c(!i)},g=D=>{u(D.currentTarget)},S=()=>{u(null)},v=()=>{S(),h(ye.APP_ACCOUNT)},I=()=>{S(),h(ye.STUDIO_ROOT)},w=async()=>{S();try{await(x==null?void 0:x.signOut()),h(ye.LOGIN)}catch(D){console.error("Logout error:",D)}};return o?null:t.jsxs(C,{sx:{display:"flex",minHeight:"100vh",bgcolor:"background.default",overflow:"hidden"},children:[t.jsx(qc,{position:"fixed",elevation:0,sx:{zIndex:s.zIndex.drawer+1,bgcolor:"background.default",color:"text.primary",boxShadow:"none",borderBottom:"none"},children:t.jsx(Fs,{sx:{px:"8px"},children:i&&e?t.jsxs(C,{sx:{display:"flex",alignItems:"center",width:"100%",gap:1},children:[t.jsx(Fe,{color:"inherit",onClick:b,sx:{flexShrink:0},children:t.jsx(Cf,{})}),t.jsx(C,{sx:{flexGrow:1,mt:.5},children:t.jsx(Oh,{onSearch:y,placeholder:"Search",className:"app-search-bar"})})]}):t.jsxs(t.Fragment,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",position:"absolute",left:0},children:[t.jsx(Fe,{color:"inherit","aria-label":"toggle sidebar",onClick:p,sx:{minWidth:40,ml:.5,mr:1.5,"& .MuiSvgIcon-root":{fontSize:24,filter:"drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))"}},children:t.jsx(ov,{})}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsxs(j,{variant:"h6",sx:{fontWeight:700,display:"block",letterSpacing:".1rem",fontFamily:"'Inter', -apple-system, sans-serif"},children:[t.jsxs(C,{sx:{display:{xs:"none",sm:"block"}},children:[t.jsx("span",{style:{color:"#2196F3",textTransform:"uppercase",fontWeight:800},children:"Meta"}),t.jsx("span",{style:{color:"#1976D2",fontWeight:600},children:"Journo"})]}),t.jsxs(C,{sx:{display:{xs:"block",sm:"none"}},children:[t.jsx("span",{style:{color:"#2196F3",textTransform:"uppercase",fontWeight:800},children:"M"}),t.jsx("span",{style:{color:"#1976D2",fontWeight:600},children:"Journo"})]})]}),t.jsxs(j,{variant:"caption",sx:{opacity:.7,fontWeight:500,fontSize:"0.75rem",display:{xs:"none",sm:"block"}},children:["v",nk]})]})]}),t.jsx(C,{sx:{position:"absolute",left:"50%",transform:"translateX(-50%)",display:{xs:"none",md:"flex"}},children:t.jsx(Oh,{onSearch:y,placeholder:"Search articles, channels, journalists...",className:"app-search-bar"})}),t.jsx(C,{sx:{flexGrow:1}}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Fe,{onClick:b,color:"inherit",sx:{display:{xs:"flex",md:"none"}},children:t.jsx(sd,{})}),t.jsx(Fe,{onClick:g,color:"inherit","aria-controls":d?"profile-menu":void 0,"aria-haspopup":"true","aria-expanded":d?"true":void 0,children:t.jsx(ad,{})})]})]})})}),t.jsxs(xo,{id:"profile-menu",anchorEl:d,open:!!d,onClose:S,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{elevation:3,sx:{mt:1.5,minWidth:200,borderRadius:2,overflow:"visible","& .MuiMenuItem-root":{py:1.5,px:2}}},children:[t.jsxs(Ce,{onClick:v,children:[t.jsx(en,{children:t.jsx(Xi,{fontSize:"small"})}),t.jsx(Yt,{children:"Profile"})]}),t.jsxs(Ce,{onClick:I,children:[t.jsx(en,{children:t.jsx(av,{fontSize:"small"})}),t.jsx(Yt,{children:"Creator Studio"})]}),t.jsx(Bt,{}),t.jsxs(Ce,{onClick:w,children:[t.jsx(en,{children:t.jsx(iv,{fontSize:"small"})}),t.jsx(Yt,{children:"Logout"})]})]}),e?t.jsxs(wa,{variant:"temporary",open:n,onClose:p,ModalProps:{keepMounted:!0},PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{width:240,border:"none"}},children:[t.jsx(Fs,{}),t.jsx(C,{sx:{height:"calc(100% - 64px)",overflow:"auto"},children:t.jsx(_b,{isOpen:!0,toggleSidebar:p})})]}):t.jsxs(wa,{variant:"permanent",PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{width:n?240:72,flexShrink:0,"& .MuiDrawer-paper":{width:n?240:72,transition:"width 0.2s",overflowX:"hidden",border:"none",borderRight:"none"}},children:[t.jsx(Fs,{}),t.jsx(C,{sx:{height:"calc(100% - 64px)",overflow:"auto",overflowX:"hidden",width:"100%"},children:t.jsx(_b,{isOpen:n,toggleSidebar:p})})]}),t.jsx(C,{component:"main",sx:{flexGrow:1,pt:8,minHeight:"100vh",display:"flex",flexDirection:"column",bgcolor:"background.default",overflow:"hidden",width:"100%"},children:t.jsx(C,{sx:{flexGrow:1,py:3,px:{xs:2,sm:3},overflowY:"auto",overflowX:"hidden",width:"100%",marginLeft:0,marginRight:"auto"},children:t.jsx(xf,{})})})]})};var Nf={},sk=tt;Object.defineProperty(Nf,"__esModule",{value:!0});var Lf=Nf.default=void 0,ok=sk(nt()),ak=t;Lf=Nf.default=(0,ok.default)((0,ak.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");var $f={},ik=tt;Object.defineProperty($f,"__esModule",{value:!0});var Ff=$f.default=void 0,lk=ik(nt()),ck=t;Ff=$f.default=(0,lk.default)((0,ck.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6"}),"Brightness4");var Wf={},dk=tt;Object.defineProperty(Wf,"__esModule",{value:!0});var Bf=Wf.default=void 0,uk=dk(nt()),hk=t;Bf=Wf.default=(0,uk.default)((0,hk.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6m0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4"}),"Brightness7");const fk=x0({palette:{mode:"light",primary:{main:"#2196f3"},background:{default:"#ffffff",paper:"#f8f9fa"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)"}},typography:{fontFamily:"'Poppins', 'Inter', sans-serif",h6:{fontWeight:700,letterSpacing:.5}}}),pk=x0({palette:{mode:"dark",background:{default:"#121212",paper:"#1e1e1e"},text:{primary:"rgba(255, 255, 255, 0.87)",secondary:"rgba(255, 255, 255, 0.6)"}},typography:{fontFamily:"'Poppins', 'Inter', sans-serif",h6:{fontWeight:700,letterSpacing:.5}}}),dv=m.createContext({}),xk=({children:e})=>{const[n,r]=m.useState(window.matchMedia("(prefers-color-scheme: dark)").matches),s=()=>{r(!n)},o=m.useMemo(()=>n?pk:fk,[n]);return t.jsx(dv.Provider,{value:{isDarkMode:n,toggleTheme:s},children:t.jsxs(fT,{theme:o,children:[t.jsx(pT,{}),e]})})},Vf=()=>m.useContext(dv);var Uf={},mk=tt;Object.defineProperty(Uf,"__esModule",{value:!0});var uv=Uf.default=void 0,gk=mk(nt()),bk=t;uv=Uf.default=(0,gk.default)((0,bk.jsx)("path",{d:"m22 3-1.67 1.67L18.67 3 17 4.67 15.33 3l-1.66 1.67L12 3l-1.67 1.67L8.67 3 7 4.67 5.33 3 3.67 4.67 2 3v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2zM11 19H4v-6h7zm9 0h-7v-2h7zm0-4h-7v-2h7zm0-4H4V8h16z"}),"Newspaper");var zf={},yk=tt;Object.defineProperty(zf,"__esModule",{value:!0});var Hf=zf.default=void 0,vk=yk(nt()),Ob=t;Hf=zf.default=(0,vk.default)([(0,Ob.jsx)("path",{d:"M17 19.22H5V7h7V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-7h-2z"},"0"),(0,Ob.jsx)("path",{d:"M19 2h-2v3h-3c.01.01 0 2 0 2h3v2.99c.01.01 2 0 2 0V7h3V5h-3zM7 9h8v2H7zm0 3v2h8v-2h-3zm0 3h8v2H7z"},"1")],"PostAdd");var Gf={},jk=tt;Object.defineProperty(Gf,"__esModule",{value:!0});var Ji=Gf.default=void 0,Sk=jk(nt()),wk=t;Ji=Gf.default=(0,Sk.default)((0,wk.jsx)("path",{d:"M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2m0 14H3V5h18zm-5-7v2h-3v3h-2v-3H8v-2h3V7h2v3z"}),"AddToQueue");var Yf={},Ck=tt;Object.defineProperty(Yf,"__esModule",{value:!0});var qf=Yf.default=void 0,Pk=Ck(nt()),Ik=t;qf=Yf.default=(0,Pk.default)((0,Ik.jsx)("path",{d:"M22 5v2h-3v3h-2V7h-3V5h3V2h2v3zm-3 14H5V5h6V3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6h-2zm-4-6v4h2v-4zm-4 4h2V9h-2zm-2 0v-6H7v6z"}),"Addchart");var Kf={},Dk=tt;Object.defineProperty(Kf,"__esModule",{value:!0});var hv=Kf.default=void 0,Ek=Dk(nt()),Tk=t;hv=Kf.default=(0,Ek.default)((0,Tk.jsx)("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}),"Receipt");var Xf={},Ak=tt;Object.defineProperty(Xf,"__esModule",{value:!0});var id=Xf.default=void 0,Rk=Ak(nt()),_k=t;id=Xf.default=(0,Rk.default)((0,_k.jsx)("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney");const Ok=({mobileOpen:e,onDrawerToggle:n})=>{const r=zo(),s=window.innerWidth<=600,o={news:[{path:ye.STUDIO_NEWS,icon:t.jsx(uv,{}),label:"My News"},{path:ye.STUDIO_NEWS_CREATE,icon:t.jsx(Hf,{}),label:"Create News"}],channels:[{path:ye.STUDIO_CHANNELS,icon:t.jsx(Ef,{}),label:"My Channels"},{path:ye.STUDIO_CHANNEL_CREATE,icon:t.jsx(Ji,{}),label:"Create Channel"}],polls:[{path:ye.STUDIO_POLLS,icon:t.jsx(od,{}),label:"My Polls"},{path:ye.STUDIO_POLL_CREATE,icon:t.jsx(qf,{}),label:"Create Poll"}],payouts:[{path:ye.STUDIO_EXPENSE_ORDERS,icon:t.jsx(hv,{}),label:"My Payouts"},{path:ye.STUDIO_EXPENSE_ORDER_CREATE,icon:t.jsx(id,{}),label:"Request Payout"}]},i=t.jsxs(C,{children:[t.jsx(Fs,{}),t.jsxs(jr,{sx:{px:2},children:[t.jsx(j,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"News Management"}),o.news.map(c=>t.jsxs(dr,{button:!0,component:qn,to:c.path,selected:r.pathname===c.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(en,{sx:{minWidth:40,color:r.pathname===c.path?"primary.main":"inherit"},children:c.icon}),t.jsx(Yt,{primary:c.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===c.path?600:400}})]},c.path)),t.jsx(Bt,{sx:{my:2}}),t.jsx(j,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"Channel Management"}),o.channels.map(c=>t.jsxs(dr,{button:!0,component:qn,to:c.path,selected:r.pathname===c.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(en,{sx:{minWidth:40,color:r.pathname===c.path?"primary.main":"inherit"},children:c.icon}),t.jsx(Yt,{primary:c.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===c.path?600:400}})]},c.path))]}),t.jsx(Bt,{sx:{my:2}}),t.jsxs(jr,{sx:{px:2},children:[t.jsx(j,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"Poll Management"}),o.polls.map(c=>t.jsxs(dr,{button:!0,component:qn,to:c.path,selected:r.pathname===c.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(en,{sx:{minWidth:40,color:r.pathname===c.path?"primary.main":"inherit"},children:c.icon}),t.jsx(Yt,{primary:c.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===c.path?600:400}})]},c.path))]}),t.jsx(Bt,{sx:{my:2}}),t.jsxs(jr,{sx:{px:2},children:[t.jsx(j,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"Payout Management"}),o.payouts.map(c=>t.jsxs(dr,{button:!0,component:qn,to:c.path,selected:r.pathname===c.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(en,{sx:{minWidth:40,color:r.pathname===c.path?"primary.main":"inherit"},children:c.icon}),t.jsx(Yt,{primary:c.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===c.path?600:400}})]},c.path))]})]});return t.jsx(t.Fragment,{children:s?t.jsx(wa,{variant:"temporary",open:e,onClose:n,ModalProps:{keepMounted:!0},PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{width:240,border:"none"}},children:i}):t.jsx(wa,{variant:"permanent",PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,transition:"width 0.2s",overflowX:"hidden",border:"none",borderRight:"none"}},children:i})})},kk=()=>{const[e,n]=m.useState(!1),[r,s]=m.useState(null),o=Pt(),i=mn(),{isDarkMode:c,toggleTheme:d}=Vf(),{isLoading:u}=rd(),h=()=>{n(!e)},x=S=>{s(S.currentTarget)},p=()=>{s(null)},y=S=>{o(S),p()},b=S=>{o(`${ye.STUDIO_SEARCH}?q=${encodeURIComponent(S)}`)},g=S=>{o(`${ye.STUDIO_SEARCH}?q=${encodeURIComponent(S.text)}`)};return u?null:t.jsxs(C,{sx:{display:"flex",minHeight:"100vh",bgcolor:"background.default"},children:[t.jsx(qc,{position:"fixed",elevation:0,sx:{zIndex:i.zIndex.drawer+1,bgcolor:"background.default",color:"text.primary",boxShadow:"none",borderBottom:"none"},children:t.jsxs(Fs,{sx:{px:"8px"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",minWidth:200},children:[t.jsx(Fe,{color:"inherit","aria-label":"toggle sidebar",onClick:h,sx:{minWidth:40,ml:.5,mr:1.5,"& .MuiSvgIcon-root":{fontSize:24,filter:"drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))"}},children:t.jsx(Lf,{})}),t.jsxs(j,{variant:"h6",sx:{fontWeight:700,display:"block",letterSpacing:".1rem",fontFamily:"'Inter', -apple-system, sans-serif"},children:[t.jsx(C,{sx:{display:{xs:"none",sm:"block"}},children:"Creator Studio"}),t.jsx(C,{sx:{display:{xs:"block",sm:"none"}},children:"Studio"})]})]}),t.jsx(C,{sx:{flexGrow:1,display:"flex",justifyContent:"center"},children:t.jsx(Oh,{onSearch:b,onSuggestionSelect:g,placeholder:"Search your content and analytics...",className:"studio-search-bar"})}),t.jsx(Fe,{onClick:d,color:"inherit",children:c?t.jsx(Bf,{}):t.jsx(Ff,{})}),t.jsx(Fe,{onClick:()=>o(ye.APP_ROOT),color:"inherit",sx:{ml:2},children:t.jsx(Ea,{})}),t.jsx(Fe,{onClick:x,color:"inherit",sx:{ml:2},children:t.jsx(ad,{})}),t.jsx(xo,{anchorEl:r,open:!!r,onClose:p,PaperProps:{sx:{width:220}},children:[{path:ye.APP_ROOT,icon:t.jsx(Ea,{fontSize:"small"}),label:"Exit Studio"}].map(S=>t.jsxs(Ce,{onClick:()=>y(S.path),children:[t.jsx(en,{children:S.icon}),t.jsx(Yt,{children:S.label})]},S.path))})]})}),t.jsx(Ok,{mobileOpen:e,onDrawerToggle:h}),t.jsx(C,{component:"main",sx:{flexGrow:1,pt:8,width:0,minHeight:"100vh",display:"flex",flexDirection:"column",bgcolor:"background.default"},children:t.jsx(C,{sx:{flexGrow:1,py:3,px:{xs:2,sm:3},maxWidth:1200,mx:"auto",width:"100%"},children:t.jsx(xf,{})})})]})};var Jf={},Mk=tt;Object.defineProperty(Jf,"__esModule",{value:!0});var kh=Jf.default=void 0,Nk=Mk(nt()),Lk=t;kh=Jf.default=(0,Nk.default)((0,Lk.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security");const th=280,$k=({mobileOpen:e,onDrawerToggle:n})=>{const r=Pt(),s=zo(),o=[{text:"Dashboard",icon:t.jsx(m0,{}),path:ye.ADMIN_ROOT,exact:!0},{text:"News Management",icon:t.jsx(Wo,{}),path:ye.ADMIN_NEWS},{text:"Poll Management",icon:t.jsx(af,{}),path:ye.ADMIN_POLLS},{text:"Channel Management",icon:t.jsx(of,{}),path:ye.ADMIN_CHANNELS},{text:"User Management",icon:t.jsx(ho,{}),path:ye.ADMIN_USERS},{text:"Expense Orders",icon:t.jsx(Bs,{}),path:ye.ADMIN_EXPENSE_ORDERS},{text:"Payout Management",icon:t.jsx(Ca,{}),path:ye.ADMIN_PAYOUTS},{text:"Tag Management",icon:t.jsx(lf,{}),path:ye.ADMIN_TAGS},{text:"Subscriptions",icon:t.jsx(Pa,{}),path:ye.ADMIN_SUBSCRIPTIONS},{text:"Analytics",icon:t.jsx(is,{}),path:ye.ADMIN_ANALYTICS},{text:"Settings",icon:t.jsx(dc,{}),path:ye.ADMIN_SETTINGS}],i=u=>u.exact?s.pathname===u.path||s.pathname==="/admin"&&u.path===ye.ADMIN_ROOT:s.pathname.startsWith(u.path),c=u=>{r(u),e&&n()},d=t.jsxs(C,{children:[t.jsx(Fs,{sx:{px:3,py:2,bgcolor:"error.main",color:"error.contrastText"},children:t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[t.jsx(j,{variant:"h6",noWrap:!0,component:"div",sx:{fontWeight:700,flexGrow:1,fontFamily:"'Inter', -apple-system, sans-serif"},children:"Admin Panel"}),t.jsx(Ke,{label:"Admin",size:"small",sx:{bgcolor:"error.contrastText",color:"error.main",fontWeight:600}})]})}),t.jsx(Bt,{}),t.jsx(jr,{sx:{pt:2,px:2},children:o.map(u=>{const h=i(u);return t.jsx(dr,{disablePadding:!0,sx:{mb:.5},children:t.jsxs(Sh,{onClick:()=>c(u.path),sx:{borderRadius:2,px:2,py:1.5,minHeight:48,bgcolor:h?"error.main":"transparent",color:h?"error.contrastText":"text.primary","&:hover":{bgcolor:h?"error.dark":"action.hover"},"& .MuiListItemIcon-root":{color:h?"error.contrastText":"text.secondary",minWidth:36},transition:"all 0.2s ease-in-out"},children:[t.jsx(en,{children:u.icon}),t.jsx(Yt,{primary:u.text,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:h?600:500,fontFamily:"'Inter', -apple-system, sans-serif"}})]})},u.text)})}),t.jsx(Bt,{sx:{my:2}}),t.jsx(jr,{sx:{px:2},children:t.jsx(dr,{disablePadding:!0,children:t.jsxs(Sh,{onClick:()=>c(ye.APP_ROOT),sx:{borderRadius:2,px:2,py:1.5,minHeight:48,color:"text.secondary","&:hover":{bgcolor:"action.hover"}},children:[t.jsx(en,{sx:{color:"text.secondary",minWidth:36},children:t.jsx(xT,{})}),t.jsx(Yt,{primary:"Back to App",primaryTypographyProps:{fontSize:"0.875rem",fontWeight:500,fontFamily:"'Inter', -apple-system, sans-serif"}})]})})})]});return t.jsxs(C,{component:"nav",sx:{width:{sm:th},flexShrink:{sm:0}},children:[t.jsx(wa,{variant:"temporary",open:e,onClose:n,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:th,bgcolor:"background.paper",borderRight:"1px solid",borderRightColor:"divider"}},children:d}),t.jsx(wa,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:th,bgcolor:"background.paper",borderRight:"1px solid",borderRightColor:"divider"}},open:!0,children:d})]})},Fk=()=>{const[e,n]=m.useState(!1),[r,s]=m.useState(null),o=Pt(),i=mn(),{isDarkMode:c,toggleTheme:d}=Vf(),{isLoading:u}=rd(),h=()=>{n(!e)},x=b=>{s(b.currentTarget)},p=()=>{s(null)},y=b=>{o(b),p()};return u?null:t.jsxs(C,{sx:{display:"flex",minHeight:"100vh",bgcolor:"background.default"},children:[t.jsx(qc,{position:"fixed",elevation:0,sx:{zIndex:i.zIndex.drawer+1,bgcolor:"background.default",color:"text.primary",boxShadow:"none",borderBottom:"1px solid",borderBottomColor:"divider"},children:t.jsxs(Fs,{sx:{px:"8px"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",minWidth:200},children:[t.jsx(Fe,{color:"inherit","aria-label":"toggle sidebar",onClick:h,sx:{minWidth:40,ml:.5,mr:1.5,"& .MuiSvgIcon-root":{fontSize:24,filter:"drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))"}},children:t.jsx(Lf,{})}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(kh,{sx:{color:"error.main"}}),t.jsxs(j,{variant:"h6",sx:{fontWeight:700,display:"block",letterSpacing:".1rem",fontFamily:"'Inter', -apple-system, sans-serif",color:"error.main"},children:[t.jsx(C,{sx:{display:{xs:"none",sm:"block"}},children:"Admin Panel"}),t.jsx(C,{sx:{display:{xs:"block",sm:"none"}},children:"Admin"})]})]})]}),t.jsx(C,{sx:{flexGrow:1}}),t.jsx(Fe,{onClick:d,color:"inherit",children:c?t.jsx(Bf,{}):t.jsx(Ff,{})}),t.jsx(Fe,{onClick:()=>o(ye.APP_ROOT),color:"inherit",sx:{ml:2},children:t.jsx(Ea,{})}),t.jsx(Fe,{onClick:x,color:"inherit",sx:{ml:2},children:t.jsx(ad,{})}),t.jsx(xo,{anchorEl:r,open:!!r,onClose:p,PaperProps:{sx:{width:220}},children:[{path:ye.APP_ROOT,icon:t.jsx(Ea,{fontSize:"small"}),label:"Exit Admin"},{path:ye.STUDIO_ROOT,icon:t.jsx(kh,{fontSize:"small"}),label:"Creator Studio"}].map(b=>t.jsxs(Ce,{onClick:()=>y(b.path),children:[t.jsx(en,{children:b.icon}),t.jsx(Yt,{children:b.label})]},b.path))})]})}),t.jsx($k,{mobileOpen:e,onDrawerToggle:h}),t.jsx(C,{component:"main",sx:{flexGrow:1,pt:8,width:0,minHeight:"100vh",display:"flex",flexDirection:"column",bgcolor:"background.default"},children:t.jsx(C,{sx:{flexGrow:1,py:3,px:{xs:2,sm:3},maxWidth:1400,mx:"auto",width:"100%"},children:t.jsx(xf,{})})})]})},[Wk,ps]=jf(),Bk=({children:e})=>{const{api:n}=Qe(),{user:r}=Gs(),{execute:s}=st(),[o,i]=m.useState(null),[c,d]=m.useState(!1),[u,h]=m.useState(!1),[x,p]=m.useState(!1),y=m.useRef(r==null?void 0:r.uid);y.current=r==null?void 0:r.uid;const b=m.useCallback(async()=>{if(!y.current)return;d(!0),p(!1);const S=await s(()=>n.app.account.getProfile(),{showErrorToast:!1});S?i(S):p(!0),d(!1),h(!0)},[n,s]);m.useEffect(()=>{r||(i(null),d(!1),h(!1),p(!1))},[r]);const g={profile:o,isLoading:c,isInitialized:u,hasServerError:x,channelRelations:{getSubscription:S=>{var v;return((v=o==null?void 0:o.subscriptions)==null?void 0:v.find(I=>I.channelId===S))??null},getSubscriptions:()=>(o==null?void 0:o.subscriptions)??[],hasSubscription:S=>{var v;return((v=o==null?void 0:o.subscriptions)==null?void 0:v.some(I=>I.channelId===S))??!1},hasChannel:()=>{var S;return((S=o==null?void 0:o.staffChannels)==null?void 0:S.length)&&o.staffChannels.length>0},getSubscriptionTier:S=>{var v,I;return((I=(v=o==null?void 0:o.subscriptions)==null?void 0:v.find(w=>w.channelId===S))==null?void 0:I.tier)??null}},actions:{refreshProfile:b}};return t.jsx(Wk.Provider,{value:g,children:e})},nh=({children:e})=>{const n=Gs(),{isAuthenticated:r,isLoading:s}=Qe(),{isLoading:o,isInitialized:i,hasServerError:c,actions:d}=ps();return m.useEffect(()=>{r&&!i&&!o&&!c&&d.refreshProfile()},[r,i,o,c,d]),m.useEffect(()=>{c&&(n!=null&&n.user)&&n.signOut()},[c,n]),n.isLoading||s?null:n.user?!r||o||!i?null:c?t.jsx(hb,{to:ye.LOGIN}):t.jsx(t.Fragment,{children:e}):t.jsx(hb,{to:ye.LOGIN})};var Qf={},Vk=tt;Object.defineProperty(Qf,"__esModule",{value:!0});var Zf=Qf.default=void 0;Hk(m);var Uk=Vk(nt()),zk=t;function fv(e){if(typeof WeakMap!="function")return null;var n=new WeakMap,r=new WeakMap;return(fv=function(s){return s?r:n})(e)}function Hk(e,n){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=fv(n);if(r&&r.has(e))return r.get(e);var s={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var c=o?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(s,i,c):s[i]=e[i]}return s.default=e,r&&r.set(e,s),s}Zf=Qf.default=(0,Uk.default)((0,zk.jsx)("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"}),"Google");const Gk=Me(he)(({theme:e,bgcolor:n})=>({color:"#fff",backgroundColor:n,boxShadow:`0 2px 4px 0 ${n}80`,"&:hover":{backgroundColor:e.palette.augmentColor({color:{main:n}}).dark},"& .MuiButton-startIcon":{marginRight:e.spacing(1)}})),Yk=()=>{const[e,n]=m.useState(""),[r,s]=m.useState(""),[o,i]=m.useState(""),[c,d]=m.useState(!1),u=Gs(),{api:h}=Qe(),x=Pt(),{execute:p}=st(),y=async g=>{g.preventDefault(),i(""),d(!0);try{const S=await(u==null?void 0:u.signIn(e,r));S&&(await p(()=>h==null?void 0:h.auth.signIn({idToken:S}),{showSuccessMessage:!0,successMessage:"Successfully logged in!"})?x(ye.APP_NEWS_TRENDING):(await(u==null?void 0:u.signOut()),i("Failed to connect to server. Please try again.")))}catch(S){const v=S instanceof Error?S.message:"Failed to login with email and password";i(v)}finally{d(!1)}},b=async g=>{i(""),d(!0);try{const S=await(u==null?void 0:u.signInWithProvider(g));S&&(await p(()=>h==null?void 0:h.auth.signIn({idToken:S}),{showSuccessMessage:!0,successMessage:"Successfully logged in!"})?x(ye.APP_NEWS_TRENDING):(await(u==null?void 0:u.signOut()),i("Failed to connect to server. Please try again.")))}catch(S){const v=S instanceof Error?S.message:"Failed to login with Google";i(v)}finally{d(!1)}};return t.jsxs(Et,{maxWidth:"xs",sx:{mt:8},children:[t.jsx(C,{sx:{textAlign:"center",mb:4},children:t.jsx(j,{variant:"h4",gutterBottom:!0,children:"Welcome back!"})}),o&&t.jsx(dt,{severity:"error",sx:{mb:2},children:o}),t.jsxs(C,{component:"form",onSubmit:y,sx:{mb:2},children:[t.jsx(Ze,{label:"Email",variant:"outlined",fullWidth:!0,margin:"normal",type:"email",autoComplete:"email",value:e,onChange:g=>n(g.target.value),disabled:c}),t.jsx(Ze,{label:"Password",variant:"outlined",fullWidth:!0,type:"password",margin:"normal",autoComplete:"current-password",value:r,onChange:g=>s(g.target.value),disabled:c}),t.jsx(C,{sx:{textAlign:"right",mb:2},children:t.jsx(Kc,{href:"#",variant:"caption",children:"Did you forget your password?"})}),t.jsx(he,{type:"submit",variant:"outlined",color:"secondary",fullWidth:!0,sx:{mb:2},disabled:c,children:c?"Logging in...":"Log In"})]}),t.jsx(Bt,{sx:{my:2},children:"OR"}),t.jsx(C,{sx:{textAlign:"center",mb:2},children:t.jsx(j,{variant:"body2",gutterBottom:!0,children:"You can sign in or sign up our application with following providers"})}),t.jsx(C,{sx:{display:"flex",flexDirection:"column",gap:2},children:t.jsx(Gk,{variant:"contained",startIcon:t.jsx(Zf,{}),bgcolor:"#DB4437",onClick:()=>b(tv),disabled:c,children:"Sign in with Google"})}),t.jsx(Bt,{sx:{my:3}}),t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Don't have an account?"}),t.jsxs(C,{sx:{display:"flex",justifyContent:"center",gap:2},children:[t.jsx(he,{variant:"outlined",size:"small",onClick:()=>x(`${ye.SIGNUP}?role=journalist`),disabled:c,children:"Sign up as Journalist"}),t.jsx(he,{variant:"outlined",size:"small",onClick:()=>x(`${ye.SIGNUP}?role=reader`),disabled:c,children:"Sign up as Reader"})]})]})]})},Gn={ACTIVE:1,INACTIVE:2,PENDING:3,BLOCKED:4,SUSPENDED:5,BANNED:6,DELETED:7,NOT_VERIFIED:8},on={SUPER_ADMIN:1,ADMIN:2,MODERATOR:3,REGULAR_USER:4,GUEST:5,JOURNALIST:6,EDITOR:7,EVALUATOR:8,FINANCE_MANAGER:9},qk=Me(he)(({theme:e,bgcolor:n})=>({color:"#fff",backgroundColor:n,boxShadow:`0 2px 4px 0 ${n}80`,"&:hover":{backgroundColor:e.palette.augmentColor({color:{main:n}}).dark},"& .MuiButton-startIcon":{marginRight:e.spacing(1)}})),Kk=()=>{const[e]=T0(),[n,r]=m.useState({displayName:"",email:"",password:"",confirmPassword:""}),[s,o]=m.useState({}),[i,c]=m.useState(""),[d,u]=m.useState(!1),h=Gs(),{api:x}=Qe(),{execute:p}=st(),y=Pt(),b=e.get("role"),g=m.useMemo(()=>b==="journalist"?on.JOURNALIST:on.REGULAR_USER,[b]),S=m.useMemo(()=>b==="journalist"?{title:"Join as a Journalist",subtitle:"Create and share your stories with the world",benefits:["Publish articles and build your readership","Monetize your content","Access analytics and insights","Connect with your audience"]}:{title:"Join as a Reader",subtitle:"Discover and support independent journalism",benefits:["Access quality journalism","Support journalists you trust","Personalized news feed","Engage with content"]},[b]),v=m.useCallback(E=>A=>{const _=A.target.value;r(O=>({...O,[E]:_})),s[E]&&o(O=>({...O,[E]:void 0})),i&&c("")},[s,i]),I=m.useCallback(()=>{const E={};return n.displayName.trim()?n.displayName.trim().length<2?E.displayName="Display name must be at least 2 characters":n.displayName.trim().length>50&&(E.displayName="Display name must be less than 50 characters"):E.displayName="Display name is required",n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(E.email="Please enter a valid email address"):E.email="Email is required",n.password?n.password.length<6&&(E.password="Password must be at least 6 characters"):E.password="Password is required",n.confirmPassword?n.password!==n.confirmPassword&&(E.confirmPassword="Passwords do not match"):E.confirmPassword="Please confirm your password",o(E),Object.keys(E).length===0},[n]),w=m.useCallback(async E=>{if(E.preventDefault(),c(""),!!I()){u(!0);try{const A=await(h==null?void 0:h.signUp(n.email,n.password));A&&(await p(()=>x==null?void 0:x.auth.signUp({externalId:A.uid,email:A.email,displayName:n.displayName.trim(),photoUrl:A.photoURL??"",roleId:g}),{showSuccessMessage:!0,successMessage:"Account created successfully!"})?y(`${ye.POST_SIGNUP}?role=${b||"reader"}`):(await(h==null?void 0:h.signOut()),c("Failed to connect to server. Please try again.")))}catch(A){const _=A instanceof Error?A.message:"Failed to sign up with email and password";c(_)}finally{u(!1)}}},[n,h,x,p,I,g,y,b]),D=m.useCallback(async E=>{c(""),u(!0);try{const A=await(h==null?void 0:h.signInWithProvider(E));if(A&&(h!=null&&h.user))if(await p(()=>x==null?void 0:x.auth.signIn({idToken:A}),{showErrorToast:!1})){y(ye.APP_NEWS_TRENDING);return}else await p(()=>x==null?void 0:x.auth.signUp({externalId:h.user.uid,email:h.user.email||"",displayName:h.user.displayName||"",photoUrl:h.user.photoURL||"",roleId:g}),{showSuccessMessage:!0,successMessage:"Account created successfully!"})?y(`${ye.POST_SIGNUP}?role=${b||"reader"}`):(await(h==null?void 0:h.signOut()),c("Failed to connect to server. Please try again."))}catch(A){const _=A instanceof Error?A.message:"Failed to login with social provider";c(_)}finally{u(!1)}},[h,x,p,g,y,b]);return t.jsxs(Et,{maxWidth:"xs",sx:{mt:8},children:[t.jsxs(C,{sx:{textAlign:"center",mb:4},children:[t.jsx(j,{variant:"h4",gutterBottom:!0,children:S.title}),t.jsx(j,{variant:"body1",color:"text.secondary",sx:{mb:2},children:S.subtitle}),b&&t.jsx(Ke,{label:b==="journalist"?"Journalist Account":"Reader Account",color:"primary",variant:"outlined",sx:{mb:2}})]}),i&&t.jsx(dt,{severity:"error",sx:{mb:2},children:i}),t.jsxs(C,{component:"form",onSubmit:w,noValidate:!0,children:[t.jsx(Ze,{label:"Display Name",variant:"outlined",fullWidth:!0,margin:"normal",type:"text",autoComplete:"name",value:n.displayName,onChange:v("displayName"),error:!!s.displayName,helperText:s.displayName,disabled:d,required:!0}),t.jsx(Ze,{label:"Email",variant:"outlined",fullWidth:!0,margin:"normal",type:"email",autoComplete:"email",value:n.email,onChange:v("email"),error:!!s.email,helperText:s.email,disabled:d,required:!0}),t.jsx(Ze,{label:"Password",variant:"outlined",fullWidth:!0,type:"password",margin:"normal",autoComplete:"new-password",value:n.password,onChange:v("password"),error:!!s.password,helperText:s.password,disabled:d,required:!0}),t.jsx(Ze,{label:"Confirm Password",variant:"outlined",fullWidth:!0,type:"password",margin:"normal",autoComplete:"new-password",value:n.confirmPassword,onChange:v("confirmPassword"),error:!!s.confirmPassword,helperText:s.confirmPassword,disabled:d,required:!0}),t.jsx(he,{type:"submit",variant:"outlined",color:"secondary",fullWidth:!0,sx:{mt:3,mb:2},disabled:d,children:d?"Creating Account...":"Sign Up"})]}),t.jsx(Bt,{sx:{my:2},children:"OR"}),t.jsx(C,{sx:{textAlign:"center",mb:2},children:t.jsx(j,{variant:"body2",color:"text.secondary",children:"You can sign up with the following providers"})}),t.jsx(C,{sx:{display:"flex",flexDirection:"column",gap:2},children:t.jsx(qk,{variant:"contained",startIcon:t.jsx(Zf,{}),bgcolor:"#DB4437",onClick:()=>D(tv),disabled:d,children:"Sign up with Google"})})]})},Xk=()=>{const[e]=T0(),[n,r]=m.useState(0),[s,o]=m.useState(!1),[i,c]=m.useState({primaryRole:"",interests:[],experience:"",goals:[]}),d=Pt(),{api:u}=Qe(),{execute:h}=st(),x=e.get("role"),p=!!x,y=p?["Welcome","Your interests","Get started"]:["Welcome","Tell us about yourself","Your interests","Get started"];m.useEffect(()=>{x&&!i.primaryRole&&c(R=>({...R,primaryRole:x}))},[x,i.primaryRole]);const b=[{role:"journalist",title:"I want to write and publish",description:"Create articles, investigate stories, and build your readership",features:["Article editor","Story planning tools","Reader analytics","Revenue sharing"],userRole:on.JOURNALIST},{role:"editor",title:"I want to manage content",description:"Review, edit, and oversee publication workflows",features:["Editorial dashboard","Content review tools","Team management","Quality control"],userRole:on.EDITOR},{role:"reader",title:"I want to read and discover",description:"Follow journalists, discover stories, and engage with content",features:["Personalized feed","Bookmarking","Comment system","Newsletter subscriptions"],userRole:on.REGULAR_USER}],g=["Politics","Technology","Science","Sports","Business","Culture","Health","Environment","Entertainment","Education","Travel","Food"],S=(R,L)=>{c(B=>({...B,primaryRole:R})),I(L),r(1)},v=()=>{n>0&&r(n-1)},I=async R=>{o(!0),console.log("PostSignUpFlow: Updating user role to:",R),await h(()=>u==null?void 0:u.app.account.updateProfile({roleId:R}),{showSuccessMessage:!1,showErrorToast:!1}),console.log("PostSignUpFlow: User role update completed"),o(!1)},w=R=>{c(L=>({...L,interests:L.interests.includes(R)?L.interests.filter(B=>B!==R):[...L.interests,R]}))},D=async()=>{o(!0);try{localStorage.setItem("userInterests",JSON.stringify(i.interests)),d(ye.APP_NEWS_MY_FEED)}catch(R){console.error("Error saving profile:",R),d(ye.APP_NEWS_MY_FEED)}finally{o(!1)}},E=()=>{d(ye.APP_NEWS_MY_FEED)},A=()=>{if(p){const R=x==="journalist"?"Journalist":"Reader";return t.jsxs(C,{sx:{textAlign:"center",py:4},children:[t.jsxs(j,{variant:"h4",gutterBottom:!0,children:["Welcome, ",R,"! "]}),t.jsx(j,{variant:"body1",sx:{mb:4,maxWidth:600,mx:"auto"},children:x==="journalist"?"You're all set to start creating and publishing your stories. Let's personalize your experience.":"You're all set to discover and support independent journalism. Let's personalize your feed."}),t.jsxs(C,{sx:{textAlign:"center",mt:4},children:[t.jsx(he,{variant:"contained",size:"large",onClick:()=>r(1),sx:{px:4},children:"Continue"}),t.jsx(he,{variant:"text",onClick:E,sx:{display:"block",mt:2,mx:"auto",color:"text.secondary"},children:"Skip for now"})]})]})}return t.jsxs(C,{sx:{textAlign:"center",py:4},children:[t.jsx(j,{variant:"h4",gutterBottom:!0,children:"Welcome to the Journalist Platform! "}),t.jsx(j,{variant:"body1",sx:{mb:4,maxWidth:600,mx:"auto"},children:"Let's personalize your experience. What brings you here today?"}),t.jsx(j,{variant:"body2",sx:{mb:4,textAlign:"center",color:"text.secondary"},children:"Don't worry, you can always change this later in your settings."}),t.jsx(F,{container:!0,spacing:3,sx:{mt:2},children:b.map(R=>t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx($e,{sx:{cursor:"pointer","&:hover":{boxShadow:6},height:"100%",transition:"box-shadow 0.3s"},onClick:()=>S(R.role,R.userRole),children:t.jsxs(Be,{sx:{p:3,textAlign:"center"},children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:R.title}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:R.description}),t.jsx(C,{sx:{textAlign:"left"},children:R.features.map((L,B)=>t.jsxs(j,{variant:"caption",display:"block",sx:{mb:.5},children:[" ",L]},B))})]})})},R.role))}),t.jsx(C,{sx:{textAlign:"center",mt:4},children:t.jsx(he,{variant:"text",onClick:E,sx:{color:"text.secondary"},children:"Skip for now"})})]})},_=()=>t.jsxs(C,{sx:{py:4},children:[t.jsx(j,{variant:"h5",gutterBottom:!0,textAlign:"center",children:"What topics interest you most?"}),t.jsx(j,{variant:"body1",textAlign:"center",sx:{mb:4},children:"Select any that apply - we'll use this to personalize your experience"}),t.jsx(F,{container:!0,spacing:2,sx:{maxWidth:600,mx:"auto"},children:g.map(R=>t.jsx(F,{item:!0,xs:6,sm:4,children:t.jsx(he,{variant:i.interests.includes(R)?"contained":"outlined",fullWidth:!0,onClick:()=>w(R),sx:{py:1.5},children:R})},R))}),t.jsxs(C,{sx:{textAlign:"center",mt:4},children:[!p&&t.jsx(he,{variant:"outlined",onClick:v,sx:{mr:2},children:"Back"}),t.jsx(he,{variant:"contained",size:"large",onClick:()=>r(2),disabled:i.interests.length===0,children:"Continue"}),t.jsx(he,{variant:"text",onClick:E,sx:{display:"block",mt:2,mx:"auto",color:"text.secondary"},children:"Skip for now"})]})]}),O=()=>t.jsxs(C,{sx:{textAlign:"center",py:4},children:[t.jsx(j,{variant:"h5",gutterBottom:!0,children:"You're all set! "}),t.jsx(j,{variant:"body1",sx:{mb:4},children:"Based on your preferences, we've customized your experience. Ready to get started?"}),t.jsx(he,{variant:"contained",size:"large",onClick:D,disabled:s,sx:{px:4},children:s?"Setting up...":"Enter Platform"})]});return t.jsxs(Et,{maxWidth:"lg",sx:{mt:4,mb:8},children:[t.jsx(mT,{activeStep:n,sx:{mb:6},children:y.map(R=>t.jsx(gT,{children:t.jsx(bT,{children:R})},R))}),p?t.jsxs(t.Fragment,{children:[n===0&&A(),n===1&&_(),n===2&&O()]}):t.jsxs(t.Fragment,{children:[n===0&&A(),n===1&&_(),n===2&&O()]})]})},Jk="/journalist-material-client/assets/landing_page_compiled-BSuH_rh0.gif",Qk=()=>{const e=Gs(),[n,r]=m.useState(!1),s=async()=>{await(e==null?void 0:e.signOut()),r(!1)};return m.useEffect(()=>{r(!!(e!=null&&e.user))},[e==null?void 0:e.user]),t.jsxs(t.Fragment,{children:[t.jsx(C,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:0,"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:1}},children:t.jsx(C,{component:"img",src:Jk,alt:"Background",sx:{width:"100%",height:"100%",objectFit:"cover",position:"relative",zIndex:0}})}),t.jsx(qc,{position:"absolute",elevation:0,sx:{background:"rgba(255, 255, 255, 0.01)",zIndex:2},children:t.jsxs(Fs,{sx:{justifyContent:"space-between",flexDirection:{xs:"column",sm:"row"},gap:{xs:2,sm:0},py:{xs:2,sm:1.5},px:{xs:2,sm:4}},children:[t.jsx(C,{sx:{display:"flex",alignItems:"center",gap:1.5},children:t.jsxs(C,{sx:{position:"relative","&::after":{content:'""',position:"absolute",bottom:-4,left:0,width:"100%",height:"2px",background:"linear-gradient(90deg, #2196F3 0%, transparent 100%)",borderRadius:"2px"}},children:[t.jsx("span",{style:{color:"#1565C0",textTransform:"uppercase",fontWeight:800,fontSize:"1.6rem",letterSpacing:"1px"},children:"Meta"}),t.jsx("span",{style:{color:"#0D47A1",fontWeight:600,fontSize:"1.6rem"},children:"Journo"})]})}),t.jsx(C,{sx:{display:"flex",alignItems:"center",order:{xs:3,sm:3},width:{xs:"100%",sm:"auto"},justifyContent:{xs:"center",sm:"flex-end"},gap:2},children:n?t.jsxs(t.Fragment,{children:[t.jsx(he,{color:"primary",variant:"outlined",size:"large",component:qn,to:ye.APP_NEWS_MY_FEED,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"},px:4,py:1.2,borderRadius:"12px",borderWidth:"2px",textTransform:"none",fontWeight:600,transition:"all 0.3s ease","&:hover":{borderWidth:"2px",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(33, 150, 243, 0.2)"}},children:"My Feed"}),t.jsx(he,{color:"error",variant:"contained",size:"large",onClick:s,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"},px:4,py:1.2,borderRadius:"12px",textTransform:"none",fontWeight:600,background:"linear-gradient(135deg, #f44336 0%, #e53935 50%, #c62828 100%)",boxShadow:"0 8px 16px -4px rgba(244, 67, 54, 0.5)",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(135deg, #e53935 0%, #d32f2f 50%, #b71c1c 100%)",transform:"translateY(-2px)",boxShadow:"0 12px 20px -4px rgba(244, 67, 54, 0.6)"}},children:"Log out"})]}):t.jsxs(t.Fragment,{children:[t.jsx(he,{color:"primary",variant:"outlined",size:"large",component:qn,to:ye.LOGIN,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"},px:4,py:1.2,borderRadius:"12px",borderWidth:"2px",textTransform:"none",fontWeight:600,transition:"all 0.3s ease","&:hover":{borderWidth:"2px",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(33, 150, 243, 0.2)"}},children:"Log in"}),t.jsx(he,{color:"primary",variant:"contained",size:"large",component:qn,to:ye.SIGNUP,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"},px:4,py:1.2,borderRadius:"12px",textTransform:"none",fontWeight:600,background:"linear-gradient(135deg, #2196F3 0%, #1976D2 50%, #0D47A1 100%)",boxShadow:"0 8px 16px -4px rgba(33, 150, 243, 0.5)",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(135deg, #1E88E5 0%, #1565C0 50%, #0D47A1 100%)",transform:"translateY(-2px)",boxShadow:"0 12px 20px -4px rgba(33, 150, 243, 0.6)"}},children:"Get Started"})]})})]})})]})},Zk=()=>{const e=Pt(),n=()=>{e(`${ye.SIGNUP}?role=journalist`)},r=()=>{e(`${ye.SIGNUP}?role=reader`)},s=()=>{e(ye.APP_NEWS_TRENDING)};return t.jsxs(C,{sx:{minHeight:"100vh",bgcolor:"background.default"},children:[t.jsx(Qk,{}),t.jsx(C,{sx:{minHeight:"90vh",display:"flex",alignItems:"center",background:"transparent",position:"relative",overflow:"hidden"},children:t.jsx(Et,{maxWidth:"lg",children:t.jsx(F,{container:!0,justifyContent:"center",children:t.jsxs(F,{item:!0,xs:12,md:8,textAlign:"center",children:[t.jsxs(j,{variant:"h1",component:"h1",sx:{fontWeight:700,color:"white",fontSize:{xs:"2.5rem",sm:"3.2rem",md:"3.8rem"},mb:4,lineHeight:1.3,textShadow:"2px 2px 4px rgba(0,0,0,0.7)"},children:["Discover Journalism You Can Trust.",t.jsx("br",{}),"Fund Stories That Deserve Attention."]}),t.jsx(j,{variant:"h5",sx:{color:"rgba(255, 255, 255, 0.95)",mb:5,lineHeight:1.7,fontSize:{xs:"1.1rem",sm:"1.25rem"},fontWeight:400,textShadow:"1px 1px 2px rgba(0,0,0,0.7)"},children:"MetaJourno connects readers directly to independent journalists  no paywalls, no content hosting, just verified trust and transparent funding."}),t.jsxs(ge,{direction:{xs:"column",sm:"row"},spacing:3,justifyContent:"center",children:[t.jsx(he,{variant:"contained",size:"large",startIcon:t.jsx(Gi,{}),onClick:s,sx:{bgcolor:"white",color:"#1e3c72",px:4,py:1.5,fontSize:"1rem",fontWeight:600,borderRadius:1,textTransform:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.15)","&:hover":{bgcolor:"#f8f9fa",transform:"translateY(-1px)",boxShadow:"0 6px 20px rgba(0,0,0,0.2)"},transition:"all 0.2s ease"},children:"Browse Stories"}),t.jsx(he,{variant:"outlined",size:"large",startIcon:t.jsx(Wo,{}),onClick:n,sx:{borderColor:"rgba(255, 255, 255, 0.5)",color:"white",px:4,py:1.5,fontSize:"1rem",fontWeight:600,borderRadius:1,textTransform:"none","&:hover":{borderColor:"white",bgcolor:"rgba(255, 255, 255, 0.1)"},transition:"all 0.2s ease"},children:"Join as a Journalist"}),t.jsx(he,{variant:"contained",size:"large",startIcon:t.jsx(Wo,{}),onClick:r,sx:{bgcolor:"rgba(255, 255, 255, 0.15)",borderColor:"rgba(255, 255, 255, 0.5)",color:"white",px:4,py:1.5,fontSize:"1rem",fontWeight:600,borderRadius:1,textTransform:"none","&:hover":{bgcolor:"rgba(255, 255, 255, 0.25)",transform:"translateY(-1px)",boxShadow:"0 4px 12px rgba(255,255,255,0.2)"},transition:"all 0.2s ease"},children:"Join as a Reader"})]})]})})})})]})};var ep={},eM=tt;Object.defineProperty(ep,"__esModule",{value:!0});var tp=ep.default=void 0,tM=eM(nt()),nM=t;tp=ep.default=(0,tM.default)((0,nM.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Mh=function(e,n){return Mh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)s.hasOwnProperty(o)&&(r[o]=s[o])},Mh(e,n)};function rM(e,n){Mh(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var Pi=function(){return Pi=Object.assign||function(n){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},Pi.apply(this,arguments)};function sM(e,n,r,s){var o,i=!1,c=0;function d(){o&&clearTimeout(o)}function u(){d(),i=!0}typeof n!="boolean"&&(s=r,r=n,n=void 0);function h(){var x=this,p=Date.now()-c,y=arguments;if(i)return;function b(){c=Date.now(),r.apply(x,y)}function g(){o=void 0}s&&!o&&b(),d(),s===void 0&&p>e?b():n!==!0&&(o=setTimeout(s?g:b,s===void 0?e-p:e))}return h.cancel=u,h}var ba={Pixel:"Pixel",Percent:"Percent"},kb={unit:ba.Percent,value:.8};function Mb(e){return typeof e=="number"?{unit:ba.Percent,value:e*100}:typeof e=="string"?e.match(/^(\d*(\.\d+)?)px$/)?{unit:ba.Pixel,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:ba.Percent,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),kb):(console.warn("scrollThreshold should be string or number"),kb)}var Us=function(e){rM(n,e);function n(r){var s=e.call(this,r)||this;return s.lastScrollTop=0,s.actionTriggered=!1,s.startY=0,s.currentY=0,s.dragging=!1,s.maxPullDownDistance=0,s.getScrollableTarget=function(){return s.props.scrollableTarget instanceof HTMLElement?s.props.scrollableTarget:typeof s.props.scrollableTarget=="string"?document.getElementById(s.props.scrollableTarget):(s.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},s.onStart=function(o){s.lastScrollTop||(s.dragging=!0,o instanceof MouseEvent?s.startY=o.pageY:o instanceof TouchEvent&&(s.startY=o.touches[0].pageY),s.currentY=s.startY,s._infScroll&&(s._infScroll.style.willChange="transform",s._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},s.onMove=function(o){s.dragging&&(o instanceof MouseEvent?s.currentY=o.pageY:o instanceof TouchEvent&&(s.currentY=o.touches[0].pageY),!(s.currentY<s.startY)&&(s.currentY-s.startY>=Number(s.props.pullDownToRefreshThreshold)&&s.setState({pullToRefreshThresholdBreached:!0}),!(s.currentY-s.startY>s.maxPullDownDistance*1.5)&&s._infScroll&&(s._infScroll.style.overflow="visible",s._infScroll.style.transform="translate3d(0px, "+(s.currentY-s.startY)+"px, 0px)")))},s.onEnd=function(){s.startY=0,s.currentY=0,s.dragging=!1,s.state.pullToRefreshThresholdBreached&&(s.props.refreshFunction&&s.props.refreshFunction(),s.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){s._infScroll&&(s._infScroll.style.overflow="auto",s._infScroll.style.transform="none",s._infScroll.style.willChange="unset")})},s.onScrollListener=function(o){typeof s.props.onScroll=="function"&&setTimeout(function(){return s.props.onScroll&&s.props.onScroll(o)},0);var i=s.props.height||s._scrollableNode?o.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!s.actionTriggered){var c=s.props.inverse?s.isElementAtTop(i,s.props.scrollThreshold):s.isElementAtBottom(i,s.props.scrollThreshold);c&&s.props.hasMore&&(s.actionTriggered=!0,s.setState({showLoader:!0}),s.props.next&&s.props.next()),s.lastScrollTop=i.scrollTop}},s.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:r.dataLength},s.throttledOnScrollListener=sM(150,s.onScrollListener).bind(s),s.onStart=s.onStart.bind(s),s.onMove=s.onMove.bind(s),s.onEnd=s.onEnd.bind(s),s}return n.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},n.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},n.prototype.componentDidUpdate=function(r){this.props.dataLength!==r.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},n.getDerivedStateFromProps=function(r,s){var o=r.dataLength!==s.prevDataLength;return o?Pi(Pi({},s),{prevDataLength:r.dataLength}):null},n.prototype.isElementAtTop=function(r,s){s===void 0&&(s=.8);var o=r===document.body||r===document.documentElement?window.screen.availHeight:r.clientHeight,i=Mb(s);return i.unit===ba.Pixel?r.scrollTop<=i.value+o-r.scrollHeight+1:r.scrollTop<=i.value/100+o-r.scrollHeight+1},n.prototype.isElementAtBottom=function(r,s){s===void 0&&(s=.8);var o=r===document.body||r===document.documentElement?window.screen.availHeight:r.clientHeight,i=Mb(s);return i.unit===ba.Pixel?r.scrollTop+o>=r.scrollHeight-i.value:r.scrollTop+o>=i.value/100*r.scrollHeight},n.prototype.render=function(){var r=this,s=Pi({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),o=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),i=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return Dt.createElement("div",{style:i,className:"infinite-scroll-component__outerdiv"},Dt.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(c){return r._infScroll=c},style:s},this.props.pullDownToRefresh&&Dt.createElement("div",{style:{position:"relative"},ref:function(c){return r._pullDown=c}},Dt.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!o&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},n}(m.Component);const Nn={DRAFT:1,PENDING_REVIEW:2,PUBLISHED:3,REJECTED:4,ARCHIVED:5,DELETED:6},yr={INSTAGRAM:1,TWITTER:2,YOUTUBE:3,TIKTOK:4,FACEBOOK:5,LINKEDIN:6,OTHER:7},Qi={COVER:1,SUMMARY:2,AVATAR:3,TEASER:4,INTRO:5,OUTRO:6,OTHER:7},Ec={IMAGE:1,VIDEO:2,AUDIO:3,DOCUMENT:4,URL:5,ARTICLE:6,OTHER:7},ld="/journalist-material-client/assets/BG_journo-DMUT4Pey.png";var np={},oM=tt;Object.defineProperty(np,"__esModule",{value:!0});var rp=np.default=void 0,aM=oM(nt()),iM=t;rp=np.default=(0,aM.default)((0,iM.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"}),"FavoriteBorder");var sp={},lM=tt;Object.defineProperty(sp,"__esModule",{value:!0});var Ho=sp.default=void 0,cM=lM(nt()),dM=t;Ho=sp.default=(0,cM.default)((0,dM.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");var op={},uM=tt;Object.defineProperty(op,"__esModule",{value:!0});var ap=op.default=void 0,hM=uM(nt()),fM=t;ap=op.default=(0,hM.default)((0,fM.jsx)("path",{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48z"}),"Verified");const pv=6048e5,pM=864e5,xv=6e4,mv=36e5,xM=1e3,Jl=43200,Nb=1440,Lb=Symbol.for("constructDateFrom");function an(e,n){return typeof e=="function"?e(n):e&&typeof e=="object"&&Lb in e?e[Lb](n):e instanceof Date?new e.constructor(n):new Date(n)}function et(e,n){return an(n||e,e)}function cd(e,n,r){const s=et(e,r==null?void 0:r.in);return isNaN(n)?an((r==null?void 0:r.in)||e,NaN):(n&&s.setDate(s.getDate()+n),s)}function gv(e,n,r){const s=et(e,r==null?void 0:r.in);if(isNaN(n))return an(e,NaN);if(!n)return s;const o=s.getDate(),i=an(e,s.getTime());i.setMonth(s.getMonth()+n+1,0);const c=i.getDate();return o>=c?i:(s.setFullYear(i.getFullYear(),i.getMonth(),o),s)}function bv(e,n,r){return an(e,+et(e)+n)}function mM(e,n,r){return bv(e,n*mv)}let gM={};function bo(){return gM}function zs(e,n){var d,u,h,x;const r=bo(),s=(n==null?void 0:n.weekStartsOn)??((u=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((x=(h=r.locale)==null?void 0:h.options)==null?void 0:x.weekStartsOn)??0,o=et(e,n==null?void 0:n.in),i=o.getDay(),c=(i<s?7:0)+i-s;return o.setDate(o.getDate()-c),o.setHours(0,0,0,0),o}function Ta(e,n){return zs(e,{...n,weekStartsOn:1})}function yv(e,n){const r=et(e,n==null?void 0:n.in),s=r.getFullYear(),o=an(r,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const i=Ta(o),c=an(r,0);c.setFullYear(s,0,4),c.setHours(0,0,0,0);const d=Ta(c);return r.getTime()>=i.getTime()?s+1:r.getTime()>=d.getTime()?s:s-1}function Aa(e){const n=et(e),r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return r.setUTCFullYear(n.getFullYear()),+e-+r}function yo(e,...n){const r=an.bind(null,e||n.find(s=>typeof s=="object"));return n.map(r)}function Ri(e,n){const r=et(e,n==null?void 0:n.in);return r.setHours(0,0,0,0),r}function bM(e,n,r){const[s,o]=yo(r==null?void 0:r.in,e,n),i=Ri(s),c=Ri(o),d=+i-Aa(i),u=+c-Aa(c);return Math.round((d-u)/pM)}function yM(e,n){const r=yv(e,n),s=an(e,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),Ta(s)}function vM(e,n,r){const s=et(e,r==null?void 0:r.in);return s.setTime(s.getTime()+n*xv),s}function jM(e,n,r){return bv(e,n*1e3)}function SM(e,n,r){return cd(e,n*7,r)}function wM(e,n,r){return gv(e,n*12,r)}function ic(e,n){const r=+et(e)-+et(n);return r<0?-1:r>0?1:r}function CM(e){return an(e,Date.now())}function PM(e,n,r){const[s,o]=yo(r==null?void 0:r.in,e,n);return+Ri(s)==+Ri(o)}function IM(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function vv(e){return!(!IM(e)&&typeof e!="number"||isNaN(+et(e)))}function DM(e,n,r){const[s,o]=yo(r==null?void 0:r.in,e,n),i=s.getFullYear()-o.getFullYear(),c=s.getMonth()-o.getMonth();return i*12+c}function EM(e){return n=>{const s=(e?Math[e]:Math.trunc)(n);return s===0?0:s}}function TM(e,n){return+et(e)-+et(n)}function Nh(e,n){const r=et(e,n==null?void 0:n.in);return r.setHours(23,59,59,999),r}function jv(e,n){const r=et(e,n==null?void 0:n.in),s=r.getMonth();return r.setFullYear(r.getFullYear(),s+1,0),r.setHours(23,59,59,999),r}function AM(e,n){const r=et(e,n==null?void 0:n.in);return+Nh(r,n)==+jv(r,n)}function RM(e,n,r){const[s,o,i]=yo(r==null?void 0:r.in,e,e,n),c=ic(o,i),d=Math.abs(DM(o,i));if(d<1)return 0;o.getMonth()===1&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-c*d);let u=ic(o,i)===-c;AM(s)&&d===1&&ic(s,i)===1&&(u=!1);const h=c*(d-+u);return h===0?0:h}function _M(e,n,r){const s=TM(e,n)/1e3;return EM(r==null?void 0:r.roundingMethod)(s)}function OM(e,n){const r=et(e,n==null?void 0:n.in);return r.setDate(1),r.setHours(0,0,0,0),r}function $b(e,n){const r=et(e,n==null?void 0:n.in),s=r.getFullYear();return r.setFullYear(s+1,0,0),r.setHours(23,59,59,999),r}function Sv(e,n){const r=et(e,n==null?void 0:n.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function kM(e,n){var d,u,h,x;const r=bo(),s=(n==null?void 0:n.weekStartsOn)??((u=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((x=(h=r.locale)==null?void 0:h.options)==null?void 0:x.weekStartsOn)??0,o=et(e,n==null?void 0:n.in),i=o.getDay(),c=(i<s?-7:0)+6-(i-s);return o.setDate(o.getDate()+c),o.setHours(23,59,59,999),o}const MM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},NM=(e,n,r)=>{let s;const o=MM[e];return typeof o=="string"?s=o:n===1?s=o.one:s=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function rh(e){return(n={})=>{const r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const LM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$M={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},FM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},WM={date:rh({formats:LM,defaultWidth:"full"}),time:rh({formats:$M,defaultWidth:"full"}),dateTime:rh({formats:FM,defaultWidth:"full"})},BM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},VM=(e,n,r,s)=>BM[e];function fi(e){return(n,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let o;if(s==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,d=r!=null&&r.width?String(r.width):c;o=e.formattingValues[d]||e.formattingValues[c]}else{const c=e.defaultWidth,d=r!=null&&r.width?String(r.width):e.defaultWidth;o=e.values[d]||e.values[c]}const i=e.argumentCallback?e.argumentCallback(n):n;return o[i]}}const UM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},HM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},GM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},YM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},KM=(e,n)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},XM={ordinalNumber:KM,era:fi({values:UM,defaultWidth:"wide"}),quarter:fi({values:zM,defaultWidth:"wide",argumentCallback:e=>e-1}),month:fi({values:HM,defaultWidth:"wide"}),day:fi({values:GM,defaultWidth:"wide"}),dayPeriod:fi({values:YM,defaultWidth:"wide",formattingValues:qM,defaultFormattingWidth:"wide"})};function pi(e){return(n,r={})=>{const s=r.width,o=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=n.match(o);if(!i)return null;const c=i[0],d=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(d)?QM(d,p=>p.test(c)):JM(d,p=>p.test(c));let h;h=e.valueCallback?e.valueCallback(u):u,h=r.valueCallback?r.valueCallback(h):h;const x=n.slice(c.length);return{value:h,rest:x}}}function JM(e,n){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n(e[r]))return r}function QM(e,n){for(let r=0;r<e.length;r++)if(n(e[r]))return r}function ZM(e){return(n,r={})=>{const s=n.match(e.matchPattern);if(!s)return null;const o=s[0],i=n.match(e.parsePattern);if(!i)return null;let c=e.valueCallback?e.valueCallback(i[0]):i[0];c=r.valueCallback?r.valueCallback(c):c;const d=n.slice(o.length);return{value:c,rest:d}}}const eN=/^(\d+)(th|st|nd|rd)?/i,tN=/\d+/i,nN={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rN={any:[/^b/i,/^(a|c)/i]},sN={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},oN={any:[/1/i,/2/i,/3/i,/4/i]},aN={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},iN={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lN={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cN={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},dN={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},uN={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hN={ordinalNumber:ZM({matchPattern:eN,parsePattern:tN,valueCallback:e=>parseInt(e,10)}),era:pi({matchPatterns:nN,defaultMatchWidth:"wide",parsePatterns:rN,defaultParseWidth:"any"}),quarter:pi({matchPatterns:sN,defaultMatchWidth:"wide",parsePatterns:oN,defaultParseWidth:"any",valueCallback:e=>e+1}),month:pi({matchPatterns:aN,defaultMatchWidth:"wide",parsePatterns:iN,defaultParseWidth:"any"}),day:pi({matchPatterns:lN,defaultMatchWidth:"wide",parsePatterns:cN,defaultParseWidth:"any"}),dayPeriod:pi({matchPatterns:dN,defaultMatchWidth:"any",parsePatterns:uN,defaultParseWidth:"any"})},dd={code:"en-US",formatDistance:NM,formatLong:WM,formatRelative:VM,localize:XM,match:hN,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fN(e,n){const r=et(e,n==null?void 0:n.in);return bM(r,Sv(r))+1}function wv(e,n){const r=et(e,n==null?void 0:n.in),s=+Ta(r)-+yM(r);return Math.round(s/pv)+1}function ip(e,n){var x,p,y,b;const r=et(e,n==null?void 0:n.in),s=r.getFullYear(),o=bo(),i=(n==null?void 0:n.firstWeekContainsDate)??((p=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:p.firstWeekContainsDate)??o.firstWeekContainsDate??((b=(y=o.locale)==null?void 0:y.options)==null?void 0:b.firstWeekContainsDate)??1,c=an((n==null?void 0:n.in)||e,0);c.setFullYear(s+1,0,i),c.setHours(0,0,0,0);const d=zs(c,n),u=an((n==null?void 0:n.in)||e,0);u.setFullYear(s,0,i),u.setHours(0,0,0,0);const h=zs(u,n);return+r>=+d?s+1:+r>=+h?s:s-1}function pN(e,n){var d,u,h,x;const r=bo(),s=(n==null?void 0:n.firstWeekContainsDate)??((u=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((x=(h=r.locale)==null?void 0:h.options)==null?void 0:x.firstWeekContainsDate)??1,o=ip(e,n),i=an((n==null?void 0:n.in)||e,0);return i.setFullYear(o,0,s),i.setHours(0,0,0,0),zs(i,n)}function lp(e,n){const r=et(e,n==null?void 0:n.in),s=+zs(r,n)-+pN(r,n);return Math.round(s/pv)+1}function zt(e,n){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(n,"0");return r+s}const so={y(e,n){const r=e.getFullYear(),s=r>0?r:1-r;return zt(n==="yy"?s%100:s,n.length)},M(e,n){const r=e.getMonth();return n==="M"?String(r+1):zt(r+1,2)},d(e,n){return zt(e.getDate(),n.length)},a(e,n){const r=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,n){return zt(e.getHours()%12||12,n.length)},H(e,n){return zt(e.getHours(),n.length)},m(e,n){return zt(e.getMinutes(),n.length)},s(e,n){return zt(e.getSeconds(),n.length)},S(e,n){const r=n.length,s=e.getMilliseconds(),o=Math.trunc(s*Math.pow(10,r-3));return zt(o,n.length)}},ua={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Fb={G:function(e,n,r){const s=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){const s=e.getFullYear(),o=s>0?s:1-s;return r.ordinalNumber(o,{unit:"year"})}return so.y(e,n)},Y:function(e,n,r,s){const o=ip(e,s),i=o>0?o:1-o;if(n==="YY"){const c=i%100;return zt(c,2)}return n==="Yo"?r.ordinalNumber(i,{unit:"year"}):zt(i,n.length)},R:function(e,n){const r=yv(e);return zt(r,n.length)},u:function(e,n){const r=e.getFullYear();return zt(r,n.length)},Q:function(e,n,r){const s=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return zt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){const s=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return zt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){const s=e.getMonth();switch(n){case"M":case"MM":return so.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){const s=e.getMonth();switch(n){case"L":return String(s+1);case"LL":return zt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){const o=lp(e,s);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):zt(o,n.length)},I:function(e,n,r){const s=wv(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):zt(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):so.d(e,n)},D:function(e,n,r){const s=fN(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):zt(s,n.length)},E:function(e,n,r){const s=e.getDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){const o=e.getDay(),i=(o-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(i);case"ee":return zt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){const o=e.getDay(),i=(o-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(i);case"cc":return zt(i,n.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){const s=e.getDay(),o=s===0?7:s;switch(n){case"i":return String(o);case"ii":return zt(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){const o=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){const s=e.getHours();let o;switch(s===12?o=ua.noon:s===0?o=ua.midnight:o=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){const s=e.getHours();let o;switch(s>=17?o=ua.evening:s>=12?o=ua.afternoon:s>=4?o=ua.morning:o=ua.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return so.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):so.H(e,n)},K:function(e,n,r){const s=e.getHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):zt(s,n.length)},k:function(e,n,r){let s=e.getHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):zt(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):so.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):so.s(e,n)},S:function(e,n){return so.S(e,n)},X:function(e,n,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return Bb(s);case"XXXX":case"XX":return No(s);case"XXXXX":case"XXX":default:return No(s,":")}},x:function(e,n,r){const s=e.getTimezoneOffset();switch(n){case"x":return Bb(s);case"xxxx":case"xx":return No(s);case"xxxxx":case"xxx":default:return No(s,":")}},O:function(e,n,r){const s=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Wb(s,":");case"OOOO":default:return"GMT"+No(s,":")}},z:function(e,n,r){const s=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Wb(s,":");case"zzzz":default:return"GMT"+No(s,":")}},t:function(e,n,r){const s=Math.trunc(+e/1e3);return zt(s,n.length)},T:function(e,n,r){return zt(+e,n.length)}};function Wb(e,n=""){const r=e>0?"-":"+",s=Math.abs(e),o=Math.trunc(s/60),i=s%60;return i===0?r+String(o):r+String(o)+n+zt(i,2)}function Bb(e,n){return e%60===0?(e>0?"-":"+")+zt(Math.abs(e)/60,2):No(e,n)}function No(e,n=""){const r=e>0?"-":"+",s=Math.abs(e),o=zt(Math.trunc(s/60),2),i=zt(s%60,2);return r+o+n+i}const Vb=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Cv=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},xN=(e,n)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],o=r[2];if(!o)return Vb(e,n);let i;switch(s){case"P":i=n.dateTime({width:"short"});break;case"PP":i=n.dateTime({width:"medium"});break;case"PPP":i=n.dateTime({width:"long"});break;case"PPPP":default:i=n.dateTime({width:"full"});break}return i.replace("{{date}}",Vb(s,n)).replace("{{time}}",Cv(o,n))},Tc={p:Cv,P:xN},mN=/^D+$/,gN=/^Y+$/,bN=["D","DD","YY","YYYY"];function Pv(e){return mN.test(e)}function Iv(e){return gN.test(e)}function Lh(e,n,r){const s=yN(e,n,r);if(console.warn(s),bN.includes(e))throw new RangeError(s)}function yN(e,n,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const vN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,SN=/^'([^]*?)'?$/,wN=/''/g,CN=/[a-zA-Z]/;function cp(e,n,r){var x,p,y,b,g,S,v,I;const s=bo(),o=(r==null?void 0:r.locale)??s.locale??dd,i=(r==null?void 0:r.firstWeekContainsDate)??((p=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:p.firstWeekContainsDate)??s.firstWeekContainsDate??((b=(y=s.locale)==null?void 0:y.options)==null?void 0:b.firstWeekContainsDate)??1,c=(r==null?void 0:r.weekStartsOn)??((S=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:S.weekStartsOn)??s.weekStartsOn??((I=(v=s.locale)==null?void 0:v.options)==null?void 0:I.weekStartsOn)??0,d=et(e,r==null?void 0:r.in);if(!vv(d))throw new RangeError("Invalid time value");let u=n.match(jN).map(w=>{const D=w[0];if(D==="p"||D==="P"){const E=Tc[D];return E(w,o.formatLong)}return w}).join("").match(vN).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const D=w[0];if(D==="'")return{isToken:!1,value:PN(w)};if(Fb[D])return{isToken:!0,value:w};if(D.match(CN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");return{isToken:!1,value:w}});o.localize.preprocessor&&(u=o.localize.preprocessor(d,u));const h={firstWeekContainsDate:i,weekStartsOn:c,locale:o};return u.map(w=>{if(!w.isToken)return w.value;const D=w.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Iv(D)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Pv(D))&&Lh(D,n,String(e));const E=Fb[D[0]];return E(d,D,o.localize,h)}).join("")}function PN(e){const n=e.match(SN);return n?n[1].replace(wN,"'"):e}function IN(e,n,r){const s=bo(),o=(r==null?void 0:r.locale)??s.locale??dd,i=2520,c=ic(e,n);if(isNaN(c))throw new RangeError("Invalid time value");const d=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:c}),[u,h]=yo(r==null?void 0:r.in,...c>0?[n,e]:[e,n]),x=_M(h,u),p=(Aa(h)-Aa(u))/1e3,y=Math.round((x-p)/60);let b;if(y<2)return r!=null&&r.includeSeconds?x<5?o.formatDistance("lessThanXSeconds",5,d):x<10?o.formatDistance("lessThanXSeconds",10,d):x<20?o.formatDistance("lessThanXSeconds",20,d):x<40?o.formatDistance("halfAMinute",0,d):x<60?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",1,d):y===0?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",y,d);if(y<45)return o.formatDistance("xMinutes",y,d);if(y<90)return o.formatDistance("aboutXHours",1,d);if(y<Nb){const g=Math.round(y/60);return o.formatDistance("aboutXHours",g,d)}else{if(y<i)return o.formatDistance("xDays",1,d);if(y<Jl){const g=Math.round(y/Nb);return o.formatDistance("xDays",g,d)}else if(y<Jl*2)return b=Math.round(y/Jl),o.formatDistance("aboutXMonths",b,d)}if(b=RM(h,u),b<12){const g=Math.round(y/Jl);return o.formatDistance("xMonths",g,d)}else{const g=b%12,S=Math.trunc(b/12);return g<3?o.formatDistance("aboutXYears",S,d):g<9?o.formatDistance("overXYears",S,d):o.formatDistance("almostXYears",S+1,d)}}function qr(e,n){return IN(e,CM(e),n)}function DN(e,n){return et(e,n==null?void 0:n.in).getDate()}function Dv(e,n){const r=et(e,n==null?void 0:n.in),s=r.getFullYear(),o=r.getMonth(),i=an(r,0);return i.setFullYear(s,o+1,0),i.setHours(0,0,0,0),i.getDate()}function EN(){return Object.assign({},bo())}function TN(e,n){return et(e,n==null?void 0:n.in).getHours()}function AN(e,n){const r=et(e,n==null?void 0:n.in).getDay();return r===0?7:r}function RN(e){return et(e).getMilliseconds()}function _N(e,n){return et(e,n==null?void 0:n.in).getMinutes()}function ON(e,n){return et(e,n==null?void 0:n.in).getMonth()}function kN(e){return et(e).getSeconds()}function MN(e,n){return et(e,n==null?void 0:n.in).getFullYear()}function sh(e,n){return+et(e)>+et(n)}function oh(e,n){return+et(e)<+et(n)}function NN(e,n){return+et(e)==+et(n)}function LN(e,n){const r=$N(n)?new n(0):an(n,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function $N(e){var n;return typeof e=="function"&&((n=e.prototype)==null?void 0:n.constructor)===e}const FN=10;class Ev{constructor(){Ee(this,"subPriority",0)}validate(n,r){return!0}}class WN extends Ev{constructor(n,r,s,o,i){super(),this.value=n,this.validateValue=r,this.setValue=s,this.priority=o,i&&(this.subPriority=i)}validate(n,r){return this.validateValue(n,this.value,r)}set(n,r,s){return this.setValue(n,r,this.value,s)}}class BN extends Ev{constructor(r,s){super();Ee(this,"priority",FN);Ee(this,"subPriority",-1);this.context=r||(o=>an(s,o))}set(r,s){return s.timestampIsSet?r:an(r,LN(r,this.context))}}class Lt{run(n,r,s,o){const i=this.parse(n,r,s,o);return i?{setter:new WN(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(n,r,s){return!0}}class VN extends Lt{constructor(){super(...arguments);Ee(this,"priority",140);Ee(this,"incompatibleTokens",["R","u","t","T"])}parse(r,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"});case"GGGGG":return o.era(r,{width:"narrow"});case"GGGG":default:return o.era(r,{width:"wide"})||o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"})}}set(r,s,o){return s.era=o,r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}const Pn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},js={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function In(e,n){return e&&{value:n(e.value),rest:e.rest}}function pn(e,n){const r=n.match(e);return r?{value:parseInt(r[0],10),rest:n.slice(r[0].length)}:null}function Ss(e,n){const r=n.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:n.slice(1)};const s=r[1]==="+"?1:-1,o=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,c=r[5]?parseInt(r[5],10):0;return{value:s*(o*mv+i*xv+c*xM),rest:n.slice(r[0].length)}}function Tv(e){return pn(Pn.anyDigitsSigned,e)}function jn(e,n){switch(e){case 1:return pn(Pn.singleDigit,n);case 2:return pn(Pn.twoDigits,n);case 3:return pn(Pn.threeDigits,n);case 4:return pn(Pn.fourDigits,n);default:return pn(new RegExp("^\\d{1,"+e+"}"),n)}}function Ac(e,n){switch(e){case 1:return pn(Pn.singleDigitSigned,n);case 2:return pn(Pn.twoDigitsSigned,n);case 3:return pn(Pn.threeDigitsSigned,n);case 4:return pn(Pn.fourDigitsSigned,n);default:return pn(new RegExp("^-?\\d{1,"+e+"}"),n)}}function dp(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Av(e,n){const r=n>0,s=r?n:1-n;let o;if(s<=50)o=e||100;else{const i=s+50,c=Math.trunc(i/100)*100,d=e>=i%100;o=e+c-(d?100:0)}return r?o:1-o}function Rv(e){return e%400===0||e%4===0&&e%100!==0}class UN extends Lt{constructor(){super(...arguments);Ee(this,"priority",130);Ee(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,s,o){const i=c=>({year:c,isTwoDigitYear:s==="yy"});switch(s){case"y":return In(jn(4,r),i);case"yo":return In(o.ordinalNumber(r,{unit:"year"}),i);default:return In(jn(s.length,r),i)}}validate(r,s){return s.isTwoDigitYear||s.year>0}set(r,s,o){const i=r.getFullYear();if(o.isTwoDigitYear){const d=Av(o.year,i);return r.setFullYear(d,0,1),r.setHours(0,0,0,0),r}const c=!("era"in s)||s.era===1?o.year:1-o.year;return r.setFullYear(c,0,1),r.setHours(0,0,0,0),r}}class zN extends Lt{constructor(){super(...arguments);Ee(this,"priority",130);Ee(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,s,o){const i=c=>({year:c,isTwoDigitYear:s==="YY"});switch(s){case"Y":return In(jn(4,r),i);case"Yo":return In(o.ordinalNumber(r,{unit:"year"}),i);default:return In(jn(s.length,r),i)}}validate(r,s){return s.isTwoDigitYear||s.year>0}set(r,s,o,i){const c=ip(r,i);if(o.isTwoDigitYear){const u=Av(o.year,c);return r.setFullYear(u,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),zs(r,i)}const d=!("era"in s)||s.era===1?o.year:1-o.year;return r.setFullYear(d,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),zs(r,i)}}class HN extends Lt{constructor(){super(...arguments);Ee(this,"priority",130);Ee(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,s){return Ac(s==="R"?4:s.length,r)}set(r,s,o){const i=an(r,0);return i.setFullYear(o,0,4),i.setHours(0,0,0,0),Ta(i)}}class GN extends Lt{constructor(){super(...arguments);Ee(this,"priority",130);Ee(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,s){return Ac(s==="u"?4:s.length,r)}set(r,s,o){return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class YN extends Lt{constructor(){super(...arguments);Ee(this,"priority",120);Ee(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,s,o){switch(s){case"Q":case"QQ":return jn(s.length,r);case"Qo":return o.ordinalNumber(r,{unit:"quarter"});case"QQQ":return o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(r,{width:"wide",context:"formatting"})||o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=1&&s<=4}set(r,s,o){return r.setMonth((o-1)*3,1),r.setHours(0,0,0,0),r}}class qN extends Lt{constructor(){super(...arguments);Ee(this,"priority",120);Ee(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,s,o){switch(s){case"q":case"qq":return jn(s.length,r);case"qo":return o.ordinalNumber(r,{unit:"quarter"});case"qqq":return o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(r,{width:"wide",context:"standalone"})||o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=1&&s<=4}set(r,s,o){return r.setMonth((o-1)*3,1),r.setHours(0,0,0,0),r}}class KN extends Lt{constructor(){super(...arguments);Ee(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ee(this,"priority",110)}parse(r,s,o){const i=c=>c-1;switch(s){case"M":return In(pn(Pn.month,r),i);case"MM":return In(jn(2,r),i);case"Mo":return In(o.ordinalNumber(r,{unit:"month"}),i);case"MMM":return o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(r,{width:"wide",context:"formatting"})||o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=11}set(r,s,o){return r.setMonth(o,1),r.setHours(0,0,0,0),r}}class XN extends Lt{constructor(){super(...arguments);Ee(this,"priority",110);Ee(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,s,o){const i=c=>c-1;switch(s){case"L":return In(pn(Pn.month,r),i);case"LL":return In(jn(2,r),i);case"Lo":return In(o.ordinalNumber(r,{unit:"month"}),i);case"LLL":return o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(r,{width:"wide",context:"standalone"})||o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=0&&s<=11}set(r,s,o){return r.setMonth(o,1),r.setHours(0,0,0,0),r}}function JN(e,n,r){const s=et(e,r==null?void 0:r.in),o=lp(s,r)-n;return s.setDate(s.getDate()-o*7),et(s,r==null?void 0:r.in)}class QN extends Lt{constructor(){super(...arguments);Ee(this,"priority",100);Ee(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,s,o){switch(s){case"w":return pn(Pn.week,r);case"wo":return o.ordinalNumber(r,{unit:"week"});default:return jn(s.length,r)}}validate(r,s){return s>=1&&s<=53}set(r,s,o,i){return zs(JN(r,o,i),i)}}function ZN(e,n,r){const s=et(e,r==null?void 0:r.in),o=wv(s,r)-n;return s.setDate(s.getDate()-o*7),s}class eL extends Lt{constructor(){super(...arguments);Ee(this,"priority",100);Ee(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,s,o){switch(s){case"I":return pn(Pn.week,r);case"Io":return o.ordinalNumber(r,{unit:"week"});default:return jn(s.length,r)}}validate(r,s){return s>=1&&s<=53}set(r,s,o){return Ta(ZN(r,o))}}const tL=[31,28,31,30,31,30,31,31,30,31,30,31],nL=[31,29,31,30,31,30,31,31,30,31,30,31];class rL extends Lt{constructor(){super(...arguments);Ee(this,"priority",90);Ee(this,"subPriority",1);Ee(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,s,o){switch(s){case"d":return pn(Pn.date,r);case"do":return o.ordinalNumber(r,{unit:"date"});default:return jn(s.length,r)}}validate(r,s){const o=r.getFullYear(),i=Rv(o),c=r.getMonth();return i?s>=1&&s<=nL[c]:s>=1&&s<=tL[c]}set(r,s,o){return r.setDate(o),r.setHours(0,0,0,0),r}}class sL extends Lt{constructor(){super(...arguments);Ee(this,"priority",90);Ee(this,"subpriority",1);Ee(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,s,o){switch(s){case"D":case"DD":return pn(Pn.dayOfYear,r);case"Do":return o.ordinalNumber(r,{unit:"date"});default:return jn(s.length,r)}}validate(r,s){const o=r.getFullYear();return Rv(o)?s>=1&&s<=366:s>=1&&s<=365}set(r,s,o){return r.setMonth(0,o),r.setHours(0,0,0,0),r}}function up(e,n,r){var p,y,b,g;const s=bo(),o=(r==null?void 0:r.weekStartsOn)??((y=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:y.weekStartsOn)??s.weekStartsOn??((g=(b=s.locale)==null?void 0:b.options)==null?void 0:g.weekStartsOn)??0,i=et(e,r==null?void 0:r.in),c=i.getDay(),u=(n%7+7)%7,h=7-o,x=n<0||n>6?n-(c+h)%7:(u+h)%7-(c+h)%7;return cd(i,x,r)}class oL extends Lt{constructor(){super(...arguments);Ee(this,"priority",90);Ee(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=6}set(r,s,o,i){return r=up(r,o,i),r.setHours(0,0,0,0),r}}class aL extends Lt{constructor(){super(...arguments);Ee(this,"priority",90);Ee(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,s,o,i){const c=d=>{const u=Math.floor((d-1)/7)*7;return(d+i.weekStartsOn+6)%7+u};switch(s){case"e":case"ee":return In(jn(s.length,r),c);case"eo":return In(o.ordinalNumber(r,{unit:"day"}),c);case"eee":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeeee":return o.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=6}set(r,s,o,i){return r=up(r,o,i),r.setHours(0,0,0,0),r}}class iL extends Lt{constructor(){super(...arguments);Ee(this,"priority",90);Ee(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,s,o,i){const c=d=>{const u=Math.floor((d-1)/7)*7;return(d+i.weekStartsOn+6)%7+u};switch(s){case"c":case"cc":return In(jn(s.length,r),c);case"co":return In(o.ordinalNumber(r,{unit:"day"}),c);case"ccc":return o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"ccccc":return o.day(r,{width:"narrow",context:"standalone"});case"cccccc":return o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(r,{width:"wide",context:"standalone"})||o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=0&&s<=6}set(r,s,o,i){return r=up(r,o,i),r.setHours(0,0,0,0),r}}function lL(e,n,r){const s=et(e,r==null?void 0:r.in),o=AN(s,r),i=n-o;return cd(s,i,r)}class cL extends Lt{constructor(){super(...arguments);Ee(this,"priority",90);Ee(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,s,o){const i=c=>c===0?7:c;switch(s){case"i":case"ii":return jn(s.length,r);case"io":return o.ordinalNumber(r,{unit:"day"});case"iii":return In(o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return In(o.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return In(o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return In(o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,s){return s>=1&&s<=7}set(r,s,o){return r=lL(r,o),r.setHours(0,0,0,0),r}}class dL extends Lt{constructor(){super(...arguments);Ee(this,"priority",80);Ee(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,o){return r.setHours(dp(o),0,0,0),r}}class uL extends Lt{constructor(){super(...arguments);Ee(this,"priority",80);Ee(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,o){return r.setHours(dp(o),0,0,0),r}}class hL extends Lt{constructor(){super(...arguments);Ee(this,"priority",80);Ee(this,"incompatibleTokens",["a","b","t","T"])}parse(r,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,o){return r.setHours(dp(o),0,0,0),r}}class fL extends Lt{constructor(){super(...arguments);Ee(this,"priority",70);Ee(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,s,o){switch(s){case"h":return pn(Pn.hour12h,r);case"ho":return o.ordinalNumber(r,{unit:"hour"});default:return jn(s.length,r)}}validate(r,s){return s>=1&&s<=12}set(r,s,o){const i=r.getHours()>=12;return i&&o<12?r.setHours(o+12,0,0,0):!i&&o===12?r.setHours(0,0,0,0):r.setHours(o,0,0,0),r}}class pL extends Lt{constructor(){super(...arguments);Ee(this,"priority",70);Ee(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,s,o){switch(s){case"H":return pn(Pn.hour23h,r);case"Ho":return o.ordinalNumber(r,{unit:"hour"});default:return jn(s.length,r)}}validate(r,s){return s>=0&&s<=23}set(r,s,o){return r.setHours(o,0,0,0),r}}class xL extends Lt{constructor(){super(...arguments);Ee(this,"priority",70);Ee(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,s,o){switch(s){case"K":return pn(Pn.hour11h,r);case"Ko":return o.ordinalNumber(r,{unit:"hour"});default:return jn(s.length,r)}}validate(r,s){return s>=0&&s<=11}set(r,s,o){return r.getHours()>=12&&o<12?r.setHours(o+12,0,0,0):r.setHours(o,0,0,0),r}}class mL extends Lt{constructor(){super(...arguments);Ee(this,"priority",70);Ee(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,s,o){switch(s){case"k":return pn(Pn.hour24h,r);case"ko":return o.ordinalNumber(r,{unit:"hour"});default:return jn(s.length,r)}}validate(r,s){return s>=1&&s<=24}set(r,s,o){const i=o<=24?o%24:o;return r.setHours(i,0,0,0),r}}class gL extends Lt{constructor(){super(...arguments);Ee(this,"priority",60);Ee(this,"incompatibleTokens",["t","T"])}parse(r,s,o){switch(s){case"m":return pn(Pn.minute,r);case"mo":return o.ordinalNumber(r,{unit:"minute"});default:return jn(s.length,r)}}validate(r,s){return s>=0&&s<=59}set(r,s,o){return r.setMinutes(o,0,0),r}}class bL extends Lt{constructor(){super(...arguments);Ee(this,"priority",50);Ee(this,"incompatibleTokens",["t","T"])}parse(r,s,o){switch(s){case"s":return pn(Pn.second,r);case"so":return o.ordinalNumber(r,{unit:"second"});default:return jn(s.length,r)}}validate(r,s){return s>=0&&s<=59}set(r,s,o){return r.setSeconds(o,0),r}}class yL extends Lt{constructor(){super(...arguments);Ee(this,"priority",30);Ee(this,"incompatibleTokens",["t","T"])}parse(r,s){const o=i=>Math.trunc(i*Math.pow(10,-s.length+3));return In(jn(s.length,r),o)}set(r,s,o){return r.setMilliseconds(o),r}}class vL extends Lt{constructor(){super(...arguments);Ee(this,"priority",10);Ee(this,"incompatibleTokens",["t","T","x"])}parse(r,s){switch(s){case"X":return Ss(js.basicOptionalMinutes,r);case"XX":return Ss(js.basic,r);case"XXXX":return Ss(js.basicOptionalSeconds,r);case"XXXXX":return Ss(js.extendedOptionalSeconds,r);case"XXX":default:return Ss(js.extended,r)}}set(r,s,o){return s.timestampIsSet?r:an(r,r.getTime()-Aa(r)-o)}}class jL extends Lt{constructor(){super(...arguments);Ee(this,"priority",10);Ee(this,"incompatibleTokens",["t","T","X"])}parse(r,s){switch(s){case"x":return Ss(js.basicOptionalMinutes,r);case"xx":return Ss(js.basic,r);case"xxxx":return Ss(js.basicOptionalSeconds,r);case"xxxxx":return Ss(js.extendedOptionalSeconds,r);case"xxx":default:return Ss(js.extended,r)}}set(r,s,o){return s.timestampIsSet?r:an(r,r.getTime()-Aa(r)-o)}}class SL extends Lt{constructor(){super(...arguments);Ee(this,"priority",40);Ee(this,"incompatibleTokens","*")}parse(r){return Tv(r)}set(r,s,o){return[an(r,o*1e3),{timestampIsSet:!0}]}}class wL extends Lt{constructor(){super(...arguments);Ee(this,"priority",20);Ee(this,"incompatibleTokens","*")}parse(r){return Tv(r)}set(r,s,o){return[an(r,o),{timestampIsSet:!0}]}}const CL={G:new VN,y:new UN,Y:new zN,R:new HN,u:new GN,Q:new YN,q:new qN,M:new KN,L:new XN,w:new QN,I:new eL,d:new rL,D:new sL,E:new oL,e:new aL,c:new iL,i:new cL,a:new dL,b:new uL,B:new hL,h:new fL,H:new pL,K:new xL,k:new mL,m:new gL,s:new bL,S:new yL,X:new vL,x:new jL,t:new SL,T:new wL},PL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,IL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,DL=/^'([^]*?)'?$/,EL=/''/g,TL=/\S/,AL=/[a-zA-Z]/;function RL(e,n,r,s){var v,I,w,D,E,A,_,O;const o=()=>an((s==null?void 0:s.in)||r,NaN),i=EN(),c=(s==null?void 0:s.locale)??i.locale??dd,d=(s==null?void 0:s.firstWeekContainsDate)??((I=(v=s==null?void 0:s.locale)==null?void 0:v.options)==null?void 0:I.firstWeekContainsDate)??i.firstWeekContainsDate??((D=(w=i.locale)==null?void 0:w.options)==null?void 0:D.firstWeekContainsDate)??1,u=(s==null?void 0:s.weekStartsOn)??((A=(E=s==null?void 0:s.locale)==null?void 0:E.options)==null?void 0:A.weekStartsOn)??i.weekStartsOn??((O=(_=i.locale)==null?void 0:_.options)==null?void 0:O.weekStartsOn)??0;if(!n)return e?o():et(r,s==null?void 0:s.in);const h={firstWeekContainsDate:d,weekStartsOn:u,locale:c},x=[new BN(s==null?void 0:s.in,r)],p=n.match(IL).map(R=>{const L=R[0];if(L in Tc){const B=Tc[L];return B(R,c.formatLong)}return R}).join("").match(PL),y=[];for(let R of p){!(s!=null&&s.useAdditionalWeekYearTokens)&&Iv(R)&&Lh(R,n,e),!(s!=null&&s.useAdditionalDayOfYearTokens)&&Pv(R)&&Lh(R,n,e);const L=R[0],B=CL[L];if(B){const{incompatibleTokens:Y}=B;if(Array.isArray(Y)){const H=y.find(X=>Y.includes(X.token)||X.token===L);if(H)throw new RangeError(`The format string mustn't contain \`${H.fullToken}\` and \`${R}\` at the same time`)}else if(B.incompatibleTokens==="*"&&y.length>0)throw new RangeError(`The format string mustn't contain \`${R}\` and any other token at the same time`);y.push({token:L,fullToken:R});const $=B.run(e,R,c.match,h);if(!$)return o();x.push($.setter),e=$.rest}else{if(L.match(AL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");if(R==="''"?R="'":L==="'"&&(R=_L(R)),e.indexOf(R)===0)e=e.slice(R.length);else return o()}}if(e.length>0&&TL.test(e))return o();const b=x.map(R=>R.priority).sort((R,L)=>L-R).filter((R,L,B)=>B.indexOf(R)===L).map(R=>x.filter(L=>L.priority===R).sort((L,B)=>B.subPriority-L.subPriority)).map(R=>R[0]);let g=et(r,s==null?void 0:s.in);if(isNaN(+g))return o();const S={};for(const R of b){if(!R.validate(g,h))return o();const L=R.set(g,S,h);Array.isArray(L)?(g=L[0],Object.assign(S,L[1])):g=L}return g}function _L(e){return e.match(DL)[1].replace(EL,"'")}function Ub(e,n){const r=et(e,n==null?void 0:n.in);return r.setMinutes(0,0,0),r}function OL(e,n,r){const[s,o]=yo(r==null?void 0:r.in,e,n);return+Ub(s)==+Ub(o)}function kL(e,n,r){const[s,o]=yo(r==null?void 0:r.in,e,n);return s.getFullYear()===o.getFullYear()&&s.getMonth()===o.getMonth()}function ML(e,n,r){const[s,o]=yo(r==null?void 0:r.in,e,n);return s.getFullYear()===o.getFullYear()}function NL(e,n,r){const s=+et(e,r==null?void 0:r.in),[o,i]=[+et(n.start,r==null?void 0:r.in),+et(n.end,r==null?void 0:r.in)].sort((c,d)=>c-d);return s>=o&&s<=i}function LL(e,n,r){const s=et(e,r==null?void 0:r.in),o=s.getFullYear(),i=s.getDate(),c=an(e,0);c.setFullYear(o,n,15),c.setHours(0,0,0,0);const d=Dv(c);return s.setMonth(n,Math.min(i,d)),s}function $L(e,n,r){const s=et(e,r==null?void 0:r.in);return s.setDate(n),s}function FL(e,n,r){const s=et(e,r==null?void 0:r.in);return s.setHours(n),s}function WL(e,n,r){const s=et(e,r==null?void 0:r.in);return s.setMilliseconds(n),s}function BL(e,n,r){const s=et(e,r==null?void 0:r.in);return s.setMinutes(n),s}function VL(e,n,r){const s=et(e,r==null?void 0:r.in);return s.setSeconds(n),s}function UL(e,n,r){const s=et(e,r==null?void 0:r.in);return isNaN(+s)?an(e,NaN):(s.setFullYear(n),s)}const zb=({news:e,mode:n="scroll"})=>{var d,u;const r=Pt(),s=mn(),o=(d=e.media)==null?void 0:d.find(h=>h.type===Qi.COVER),i=h=>{h.target.closest(".action-button")||r(ye.APP_NEWS_VIEW.replace(":id",e.id))},c=h=>{h.stopPropagation(),r(ye.APP_CHANNEL_VIEW.replace(":channelId",e.channel.id))};return t.jsxs(C,{onClick:i,sx:{position:"relative",width:"100%",height:n==="grid"?"auto":"90vh",maxWidth:n==="scroll"?"480px":"100%",margin:n==="scroll"?"0 auto":0,aspectRatio:n==="grid"?"4/5":void 0,borderRadius:n==="grid"?3:4,overflow:"hidden",bgcolor:s.palette.mode==="dark"?"#000":"#111",boxShadow:"none",cursor:"pointer",transition:"opacity 0.2s ease","&:hover":{opacity:.95}},children:[t.jsxs(C,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:0},children:[(o==null?void 0:o.format)===Ec.VIDEO?t.jsx(C,{component:"video",src:o.url,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,sx:{width:"100%",height:"100%",objectFit:"cover",filter:"brightness(0.7)"}}):t.jsx(C,{component:"img",src:(o==null?void 0:o.url)||ld,alt:e.title,sx:{width:"100%",height:"100%",objectFit:"cover",filter:"brightness(0.7)"}}),t.jsx(C,{sx:{position:"absolute",top:0,left:0,right:0,height:"30%",background:"linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%)",zIndex:1}}),t.jsx(C,{sx:{position:"absolute",bottom:0,left:0,right:0,height:"70%",background:"linear-gradient(to top, rgba(0,0,0,0.95) 0%, rgba(0,0,0,0) 100%)",zIndex:1}})]}),t.jsx(C,{sx:{position:"relative",zIndex:2,height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",p:2.5},children:n==="grid"?t.jsxs(t.Fragment,{children:[t.jsx(C,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:((u=e.qualityMetrics)==null?void 0:u.overallQualityScore)&&t.jsx(Ke,{icon:t.jsx(ap,{sx:{fontSize:"0.875rem"}}),label:e.qualityMetrics.overallQualityScore.toFixed(1),size:"small",sx:{height:24,bgcolor:fe(s.palette.success.main,.9),color:"white",fontWeight:700,fontSize:"0.7rem",backdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}})}),t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{fontWeight:700,fontSize:"1.1rem",color:"white",textShadow:"0 2px 8px rgba(0,0,0,0.9)",mb:1.5,lineHeight:1.2,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.title}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:1},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(Ho,{sx:{fontSize:"1.1rem",mr:.5,color:"white",filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.5))"}}),t.jsx(j,{variant:"body2",sx:{fontWeight:700,fontSize:"0.875rem",color:"white",textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:"12K"})]}),t.jsx(Fe,{className:"action-button",size:"small",onClick:h=>{h.stopPropagation()},sx:{bgcolor:fe("#fff",.2),backdropFilter:"blur(10px)",color:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.3)","&:hover":{bgcolor:fe(s.palette.error.main,.8),transform:"scale(1.1)"},transition:"all 0.2s ease"},children:t.jsx(rp,{sx:{fontSize:"1rem"}})})]})]})]}):t.jsx(t.Fragment,{children:t.jsx(C,{sx:{display:"flex",height:"100%",position:"relative"},children:t.jsxs(C,{sx:{flex:1,display:"flex",flexDirection:"column",justifyContent:"flex-end"},children:[t.jsxs(C,{onClick:c,className:"action-button",sx:{display:"flex",alignItems:"center",mb:1.5,cursor:"pointer","&:hover":{"& .channel-avatar":{transform:"scale(1.1)"}}},children:[t.jsx(Cn,{src:e.channel.logoUrl,alt:e.channel.name,className:"channel-avatar",sx:{width:40,height:40,bgcolor:s.palette.primary.main,border:"2px solid white",boxShadow:"0 2px 8px rgba(0,0,0,0.3)",transition:"transform 0.2s ease"}}),t.jsxs(C,{sx:{ml:1.5},children:[t.jsx(j,{variant:"body2",sx:{fontWeight:700,fontSize:"0.95rem",color:"white",textShadow:"0 1px 3px rgba(0,0,0,0.8)"},children:e.channel.name}),t.jsx(j,{variant:"caption",sx:{fontSize:"0.75rem",color:"rgba(255,255,255,0.9)",textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:qr(new Date(e.publishedAt),{addSuffix:!0})})]})]}),t.jsx(j,{variant:"h6",sx:{fontWeight:800,fontSize:"1.2rem",color:"white",textShadow:"0 2px 8px rgba(0,0,0,0.9)",mb:.5,lineHeight:1.2,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.title}),t.jsx(j,{variant:"body2",sx:{fontSize:"0.875rem",color:"rgba(255,255,255,0.95)",textShadow:"0 1px 4px rgba(0,0,0,0.9)",lineHeight:1.4,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",mb:1.5},children:e.content}),e.tags&&e.tags.length>0&&t.jsx(ge,{direction:"row",spacing:.5,sx:{flexWrap:"wrap",gap:.5},children:e.tags.slice(0,3).map(h=>t.jsx(Ke,{label:`#${h.title}`,size:"small",sx:{height:22,fontSize:"0.7rem",fontWeight:600,bgcolor:fe("#fff",.15),backdropFilter:"blur(10px)",color:"white",border:"1px solid",borderColor:fe("#fff",.2),textShadow:"0 1px 2px rgba(0,0,0,0.5)","&:hover":{bgcolor:fe("#fff",.25)}}},h.id))})]})})})})]})};var hp={},zL=tt;Object.defineProperty(hp,"__esModule",{value:!0});var _v=hp.default=void 0,HL=zL(nt()),GL=t;_v=hp.default=(0,HL.default)((0,GL.jsx)("path",{d:"M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2m0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19z"}),"Inbox");const Ys=({title:e,description:n,icon:r=t.jsx(_v,{sx:{fontSize:48}}),action:s})=>t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:4,borderRadius:2,bgcolor:o=>o.palette.mode==="dark"?fe(o.palette.common.white,.05):fe(o.palette.common.black,.02),textAlign:"center"},children:[t.jsx(C,{sx:{color:"text.secondary",mb:2},children:r}),t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:1},children:e}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:s?3:0},children:n}),s&&t.jsx(he,{variant:"contained",onClick:s.onClick,sx:{textTransform:"none",fontWeight:600},children:s.label})]});var fp={},YL=tt;Object.defineProperty(fp,"__esModule",{value:!0});var ud=fp.default=void 0,qL=YL(nt()),KL=t;ud=fp.default=(0,qL.default)((0,KL.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share");const Hb=({count:e=2})=>t.jsx(ge,{spacing:2,sx:{mt:2},children:[...Array(e)].map((n,r)=>t.jsxs(C,{sx:{p:2,borderRadius:2,bgcolor:s=>s.palette.mode==="dark"?fe(s.palette.common.white,.05):fe(s.palette.common.black,.03)},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(C,{sx:{width:32,height:32,borderRadius:1,bgcolor:s=>s.palette.mode==="dark"?fe(s.palette.common.white,.1):fe(s.palette.common.black,.1),mr:1}}),t.jsx(C,{sx:{height:20,width:"30%",borderRadius:.5,bgcolor:"grey.300"}})]}),t.jsx(C,{sx:{height:24,width:"60%",mb:2,borderRadius:.5,bgcolor:"grey.300"}}),t.jsx(C,{sx:{height:100,width:"100%",borderRadius:1,bgcolor:"grey.200",mb:2}}),t.jsx(C,{sx:{height:16,width:"40%",borderRadius:.5,bgcolor:"grey.200"}})]},r))}),Ov=({filters:e={},emptyTitle:n="No news found",emptyDescription:r="No news articles available at the moment",itemsPerPage:s=12,mode:o="scroll"})=>{const[i,c]=m.useState([]),[d,u]=m.useState(!0),[h,x]=m.useState(1),[p,y]=m.useState(!0),{api:b}=Qe(),{execute:g}=st(),S=mn(),v=async(w=h)=>{try{u(!0);const D=await g(()=>b==null?void 0:b.app.news.getNews(e,{page:w,limit:s}),{showErrorToast:!0});D&&(c(w===1?D.items:E=>[...E,...D.items]),y(D.metadata.hasNext),x(D.metadata.currentPage))}finally{u(!1)}};m.useEffect(()=>{c([]),x(1),v(1)},[JSON.stringify(e)]);const I=()=>{!d&&p&&v(h+1)};return i.length===0&&!d?t.jsx(Ys,{title:n,description:r}):o==="grid"?t.jsx(C,{sx:{width:"100%"},children:d&&i.length===0?t.jsx(Hb,{}):t.jsx(Us,{dataLength:i.length,next:I,hasMore:p,loader:t.jsx(C,{}),endMessage:t.jsx(C,{sx:{textAlign:"center",py:4,color:"text.secondary",fontSize:"0.875rem"},children:"No more news to display"}),children:t.jsx(F,{container:!0,spacing:3,children:i.map(w=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(zb,{news:w,mode:"grid"})},w.id))})})}):t.jsx(C,{sx:{width:"100%",height:"100%",display:"flex",justifyContent:"center",overflowY:"scroll",scrollSnapType:"y mandatory",scrollBehavior:"smooth","&::-webkit-scrollbar":{display:"none"},msOverflowStyle:"none",scrollbarWidth:"none",px:{xs:2,sm:0}},children:t.jsx(C,{sx:{width:"100%",maxWidth:480},children:d&&i.length===0?t.jsx(Hb,{}):t.jsx(Us,{dataLength:i.length,next:I,hasMore:p,loader:t.jsx(C,{}),endMessage:t.jsx(C,{sx:{textAlign:"center",py:4,color:"text.secondary",fontSize:"0.875rem",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:"No more news to display"}),style:{overflow:"visible",paddingBottom:"64px"},children:i.map(w=>{var D;return t.jsxs(C,{sx:{position:"relative",scrollSnapAlign:"start",scrollSnapStop:"always",height:"calc(100vh - 64px)",display:"flex",alignItems:"center",justifyContent:"center"},children:[t.jsx(zb,{news:w}),t.jsxs(C,{sx:{position:"absolute",right:{xs:8,sm:-60},bottom:"5vh",display:"flex",flexDirection:"column",alignItems:"center",gap:2.5,zIndex:10},children:[((D=w.qualityMetrics)==null?void 0:D.overallQualityScore)&&t.jsx(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:t.jsx(Ke,{icon:t.jsx(ap,{sx:{fontSize:"0.875rem"}}),label:w.qualityMetrics.overallQualityScore.toFixed(1),size:"small",sx:{height:28,bgcolor:fe(S.palette.success.main,.9),color:"white",fontWeight:700,fontSize:"0.75rem",backdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}})}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[t.jsx(Fe,{className:"action-button",size:"medium",onClick:E=>{E.stopPropagation()},sx:{bgcolor:S.palette.mode==="dark"?fe("#fff",.2):fe("#000",.6),backdropFilter:"blur(10px)",color:"white",boxShadow:S.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)","&:hover":{bgcolor:fe(S.palette.error.main,.8),transform:"scale(1.1)"},transition:"all 0.2s ease",width:48,height:48},children:t.jsx(rp,{sx:{fontSize:"1.5rem"}})}),t.jsx(j,{variant:"caption",sx:{color:"white",fontWeight:700,fontSize:"0.75rem",mt:.5,textShadow:"0 1px 2px rgba(0,0,0,0.8)"}})]}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[t.jsx(Fe,{className:"action-button",size:"medium",onClick:E=>{E.stopPropagation()},sx:{bgcolor:S.palette.mode==="dark"?fe("#fff",.2):fe("#000",.6),backdropFilter:"blur(10px)",color:"white",boxShadow:S.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)","&:hover":{bgcolor:S.palette.mode==="dark"?fe("#fff",.3):fe("#000",.7),transform:"scale(1.1)"},transition:"all 0.2s ease",width:48,height:48},children:t.jsx(ud,{sx:{fontSize:"1.5rem"}})}),t.jsx(j,{variant:"caption",sx:{color:"white",fontWeight:700,fontSize:"0.75rem",mt:.5,textShadow:"0 1px 2px rgba(0,0,0,0.8)"}})]}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[t.jsx(C,{sx:{bgcolor:S.palette.mode==="dark"?fe("#fff",.2):fe("#000",.6),backdropFilter:"blur(10px)",borderRadius:"50%",width:48,height:48,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:S.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)"},children:t.jsx(Ho,{sx:{fontSize:"1.5rem",color:"white",filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.5))"}})}),t.jsx(j,{variant:"caption",sx:{color:"white",fontWeight:700,fontSize:"0.75rem",mt:.5,textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:"12K"})]})]})]},w.id)})})})})},XL=(e={})=>{if(e.feed)return{title:"Your Feed",description:"Latest news from your personalized feed",emptyTitle:"Your feed is empty",emptyDescription:"Follow some journalists to see their latest news here"};if(e.trending)return{title:"Trending News",description:"Discover the most popular news from our community",emptyTitle:"No trending news",emptyDescription:"There are no trending news articles at the moment"};if(e.subscribed)return{title:"Subscribed Channels",description:"Latest news from your subscribed channels",emptyTitle:"No news from subscriptions",emptyDescription:"Subscribe to channels to see their latest news here"};if(e.premium)return{title:"Premium News",description:"Exclusive premium content",emptyTitle:"No premium news",emptyDescription:"No premium news articles available at the moment"};if(e.channel)return{title:"Channel News",description:"News from this channel",emptyTitle:"No news in this channel",emptyDescription:"This channel has not published any news yet"};if(e.creator)return{title:"Creator News",description:"News from this creator",emptyTitle:"No news from this creator",emptyDescription:"This creator has not published any news yet"};if(e.tags&&e.tags.length>0){const n=e.tags.length===1?"tag":"tags";return{title:`News by ${n.charAt(0).toUpperCase()+n.slice(1)}`,description:`News tagged with: ${e.tags.join(", ")}`,emptyTitle:`No news with these ${n}`,emptyDescription:`No news articles found with the selected ${n}`}}return{title:"All News",description:"Latest news from our community",emptyTitle:"No news found",emptyDescription:"No news articles available at the moment"}},$h=({filters:e={},emptyTitle:n,emptyDescription:r,showSearch:s=!1,mode:o="scroll"})=>{const i=zo(),c=Pt(),[d,u]=m.useState(""),[h,x]=m.useState("");m.useEffect(()=>{const w=new URLSearchParams(i.search).get("q");if(w){const D=decodeURIComponent(w);u(D),x(D)}},[i.search]);const p=XL(e),y=n||p.emptyTitle,b=r||p.emptyDescription,g={...e,query:d||void 0},S=I=>{I.preventDefault();const w=h.trim();u(w);const D=new URLSearchParams(i.search);w?D.set("q",encodeURIComponent(w)):D.delete("q");const E=`${i.pathname}?${D.toString()}`;c(E,{replace:!0})},v=()=>{x(""),u("");const I=new URLSearchParams(i.search);I.delete("q");const w=`${i.pathname}?${I.toString()}`;c(w,{replace:!0})};return t.jsxs(C,{sx:{width:"100%",height:"100vh",overflow:"hidden",display:"flex",flexDirection:"column",...o==="scroll"&&{position:"fixed",top:64,left:0,right:0,bottom:0,margin:0,padding:0,zIndex:1}},children:[s&&o==="grid"&&t.jsx(C,{sx:{flexShrink:0,mb:2},children:t.jsx("form",{onSubmit:S,children:t.jsx(Ze,{fullWidth:!0,placeholder:"Search news by title or content...",value:h,onChange:I=>x(I.target.value),InputProps:{startAdornment:t.jsx(Qr,{position:"start",children:t.jsx(sd,{color:"action"})}),endAdornment:h&&t.jsx(Qr,{position:"end",children:t.jsx(Fe,{size:"small",onClick:v,edge:"end",children:t.jsx(tp,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"background.paper"}}})})}),t.jsx(C,{sx:{flex:1,overflow:"hidden"},children:t.jsx(Ov,{filters:g,emptyTitle:y,emptyDescription:b,mode:o})})]})},JL=e=>{switch(e){case yr.INSTAGRAM:return PT;case yr.TWITTER:return CT;case yr.YOUTUBE:return wT;case yr.TIKTOK:return ST;case yr.FACEBOOK:return jT;case yr.LINKEDIN:return vT;case yr.OTHER:default:return yT}},QL=e=>{switch(e){case yr.INSTAGRAM:return"#E4405F";case yr.TWITTER:return"#1DA1F2";case yr.YOUTUBE:return"#FF0000";case yr.TIKTOK:return"#000000";case yr.FACEBOOK:return"#1877F2";case yr.LINKEDIN:return"#0A66C2";default:return"#757575"}},ZL=e=>{var n;return((n=Object.entries(yr).find(([,r])=>r===e))==null?void 0:n[0])||"Other"};var pp={},e5=tt;Object.defineProperty(pp,"__esModule",{value:!0});var kv=pp.default=void 0,t5=e5(nt()),n5=t;kv=pp.default=(0,t5.default)((0,n5.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39"}),"Public");var xp={},r5=tt;Object.defineProperty(xp,"__esModule",{value:!0});var Mv=xp.default=void 0,s5=r5(nt()),o5=t;Mv=xp.default=(0,s5.default)((0,o5.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"Launch");const mp=({links:e})=>e.length?t.jsxs(ot,{variant:"outlined",sx:{p:2,bgcolor:"background.paper",borderRadius:2,width:"100%"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(kv,{sx:{mr:1,color:"primary.main"}}),t.jsx(j,{variant:"h6",component:"div",children:"Read More On"})]}),t.jsx(Bt,{sx:{mb:2}}),t.jsx(ge,{spacing:1.5,children:e.map(n=>t.jsx(Kc,{href:n.url,target:"_blank",rel:"noopener noreferrer",underline:"none",sx:{color:"inherit",display:"block","&:hover":{"& .MuiPaper-root":{bgcolor:"action.hover",borderColor:"primary.main"},"& .launch-icon":{color:"primary.main"}}},children:t.jsxs(ot,{variant:"outlined",sx:{p:1.5,display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.2s ease-in-out"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(C,{sx:{color:QL(n.platform),display:"flex",mr:1.5},children:Dt.createElement(JL(n.platform))}),t.jsx(j,{variant:"body2",children:ZL(n.platform)})]}),t.jsx(Mv,{fontSize:"small",className:"launch-icon",sx:{color:"text.secondary",transition:"color 0.2s ease-in-out"}})]})},n.id))})]}):null;var gp={},a5=tt;Object.defineProperty(gp,"__esModule",{value:!0});var Zi=gp.default=void 0,i5=a5(nt()),l5=t;Zi=gp.default=(0,i5.default)((0,l5.jsx)("path",{d:"M18 11v2h4v-2zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61M20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4M4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34"}),"Campaign");var bp={},c5=tt;Object.defineProperty(bp,"__esModule",{value:!0});var yp=bp.default=void 0,d5=c5(nt()),u5=t;yp=bp.default=(0,d5.default)((0,u5.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");const h5={header:{class:TA,config:{levels:[1,2,3,4],defaultLevel:2,placeholder:""}},list:{class:AA,inlineToolbar:!0,config:{placeholder:""}},checklist:{class:RA,inlineToolbar:!0,config:{placeholder:""}},quote:{class:_A,inlineToolbar:!0,config:{quotePlaceholder:"",captionPlaceholder:""}},code:OA,inlineCode:{class:kA},marker:{class:MA},image:{class:NA,config:{endpoints:{byFile:"/api/upload/image",byUrl:"/api/fetch/image"}}},linkTool:{class:LA,config:{endpoint:"/api/fetch/link"}},table:{class:$A,inlineToolbar:!0},warning:{class:FA,inlineToolbar:!0,config:{titlePlaceholder:"Title",messagePlaceholder:"Message"}},delimiter:WA},hd=({data:e,onChange:n,readOnly:r=!1,placeholder:s="Start writing your content...",borderColor:o})=>{const i=mn(),c=m.useRef(null),d=m.useRef(`editor-${Math.random().toString(36).slice(2,7)}`);return m.useEffect(()=>((async()=>{if(c.current){try{await c.current.isReady,await c.current.destroy()}catch(x){console.error("Editor cleanup failed:",x)}c.current=null}const h=new EA({holder:d.current,tools:h5,data:e,placeholder:s,readOnly:r,onChange:async x=>{const p=await x.saver.save();n==null||n(p)},autofocus:!1});c.current=h})().catch(console.error),()=>{c.current&&c.current.destroy&&c.current.isReady.then(()=>{var h;(h=c.current)!=null&&h.destroy&&c.current.destroy(),c.current=null}).catch(console.error)}),[]),t.jsx(C,{id:d.current,sx:{minHeight:300,border:"1px solid",borderColor:typeof o=="function"?o(i):o||i.palette.divider,borderRadius:1,p:2,"& .ce-toolbar__plus, & .ce-toolbar__settings-btn, & .cdx-button":{color:u=>u.palette.mode==="dark"?fe(u.palette.common.white,.7):fe(u.palette.common.black,.7),backgroundColor:"transparent"},"& .ce-toolbar__plus:hover, & .ce-toolbar__settings-btn:hover, & .cdx-button:hover":{backgroundColor:u=>u.palette.mode==="dark"?fe(u.palette.common.white,.1):fe(u.palette.common.black,.1)},"& ::selection":{backgroundColor:u=>u.palette.mode==="dark"?fe(u.palette.primary.main,.3):fe(u.palette.primary.main,.3),color:u=>u.palette.mode==="dark"?u.palette.common.white:u.palette.common.black},"& ::-moz-selection":{backgroundColor:u=>u.palette.mode==="dark"?fe(u.palette.primary.main,.3):fe(u.palette.primary.main,.3),color:u=>u.palette.mode==="dark"?u.palette.common.white:u.palette.common.black},"& .ce-block--selected":{backgroundColor:u=>u.palette.mode==="dark"?fe(u.palette.primary.main,.1):fe(u.palette.primary.main,.05),color:u=>u.palette.mode==="dark"?u.palette.common.white:u.palette.text.primary},"& .ce-block--selected .ce-block__content":{color:u=>u.palette.mode==="dark"?u.palette.common.white:u.palette.text.primary}}})},Nv=e=>{if(e)try{return JSON.parse(e)}catch{return{blocks:[{type:"paragraph",data:{text:e}}]}}};var Je=(e=>(e[e.DRAFT=1]="DRAFT",e[e.SUBMITTED=2]="SUBMITTED",e[e.UNDER_REVIEW=3]="UNDER_REVIEW",e[e.APPROVED=4]="APPROVED",e[e.REJECTED=5]="REJECTED",e[e.PAID=6]="PAID",e[e.CANCELLED=7]="CANCELLED",e))(Je||{});const Ii={1:"Draft",2:"Submitted",3:"Under Review",4:"Approved",5:"Rejected",6:"Paid",7:"Cancelled"},Gb={1:"#9e9e9e",2:"#2196f3",3:"#ff9800",4:"#4caf50",5:"#f44336",6:"#8bc34a",7:"#607d8b"},ha=(e,n="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:n,notation:"compact",maximumFractionDigits:2}).format(e),f5=({newsId:e,channelId:n,newsFund:r})=>{const{api:s}=Qe(),{execute:o}=st(),[i,c]=m.useState(!0),[d,u]=m.useState(null),[h,x]=m.useState([]),[p,y]=m.useState(null),[b,g]=m.useState(null);m.useEffect(()=>{(async()=>{var E,A,_;c(!0),g(null);try{const O=await o(()=>s==null?void 0:s.app.funding.getFundSummary("news",e),{showErrorToast:!1}),R=await o(()=>s==null?void 0:s.app.expenseOrder.getExpenseOrdersByChannel(n),{showErrorToast:!1});u(O||null),x((R==null?void 0:R.items)||[]);const L={totalFunding:((E=O==null?void 0:O.fund)==null?void 0:E.current_amount)||(r==null?void 0:r.amount)||0,totalExpenses:((A=R==null?void 0:R.items)==null?void 0:A.reduce((B,Y)=>Y.status===Je.PAID?B+Y.amount:B,0))||0,netAmount:0,fundingContributions:(O==null?void 0:O.total_contributors)||0,expenseCount:((_=R==null?void 0:R.items)==null?void 0:_.length)||0,payoutAmount:0};L.netAmount=L.totalFunding-L.totalExpenses,y(L)}catch(O){g("Failed to load transaction data"),console.error("Transaction data fetch error:",O)}finally{c(!1)}})()},[e,n,r,s,o]);const S=()=>{if(!p)return null;const D=p.totalFunding>0?Math.min(p.totalFunding/((r==null?void 0:r.goal_amount)||p.totalFunding)*100,100):0;return t.jsx($e,{elevation:2,children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(us,{color:"success",sx:{mr:1}}),t.jsx(j,{variant:"h6",color:"success.main",children:"Funding Received"})]}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(j,{variant:"h3",color:"success.main",gutterBottom:!0,children:ha(p.totalFunding)}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Total Raised"})]})}),t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(ge,{spacing:2,children:[t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsx(j,{variant:"body2",children:"Funding Progress"}),t.jsxs(j,{variant:"body2",children:[D.toFixed(1),"%"]})]}),t.jsx(Ia,{variant:"determinate",value:D,sx:{height:8,borderRadius:4},color:"success"})]}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Contributors: ",p.fundingContributions]}),(r==null?void 0:r.goal_amount)&&t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Goal: ",ha(r.goal_amount)]})]})]})})]})]})})},v=()=>{if(!p)return null;const D=h.filter(A=>A.status===Je.PAID),E=h.filter(A=>[Je.SUBMITTED,Je.UNDER_REVIEW,Je.APPROVED].includes(A.status));return t.jsx($e,{elevation:2,children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(g0,{color:"error",sx:{mr:1}}),t.jsx(j,{variant:"h6",color:"error.main",children:"Expenses & Payouts"})]}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(j,{variant:"h3",color:"error.main",gutterBottom:!0,children:ha(p.totalExpenses)}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Total Paid Out"})]})}),t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(ge,{spacing:2,children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsx(j,{variant:"body2",children:"Paid Expenses:"}),t.jsx(j,{variant:"body2",color:"success.main",children:D.length})]}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsx(j,{variant:"body2",children:"Pending Expenses:"}),t.jsx(j,{variant:"body2",color:"warning.main",children:E.length})]}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsx(j,{variant:"body2",children:"Total Expense Orders:"}),t.jsx(j,{variant:"body2",children:p.expenseCount})]})]})})]})]})})},I=()=>{if(!p)return null;const D=p.netAmount>=0;return t.jsxs(ot,{elevation:2,sx:{p:3,bgcolor:D?"success.light":"warning.light",color:D?"success.contrastText":"warning.contrastText",textAlign:"center"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:1},children:[t.jsx(wh,{sx:{mr:1,fontSize:"2rem"}}),t.jsx(j,{variant:"h4",component:"div",children:ha(Math.abs(p.netAmount))})]}),t.jsx(j,{variant:"subtitle1",children:D?"Net Surplus":"Net Deficit"}),t.jsx(j,{variant:"body2",sx:{mt:1,opacity:.8},children:D?"Available for future expenses or reinvestment":"Additional funding may be needed"})]})},w=()=>t.jsxs(C,{children:[t.jsxs(uc,{children:[t.jsx(hc,{expandIcon:t.jsx(fc,{}),children:t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(cf,{sx:{mr:1}}),t.jsx(j,{variant:"subtitle1",children:"Funding Contributions"}),d&&t.jsx(Ke,{label:`${d.contributions.length} contributions`,size:"small",sx:{ml:2}})]})}),t.jsx(pc,{children:d!=null&&d.contributions.length?t.jsxs(jr,{dense:!0,children:[d.contributions.slice(0,10).map(D=>{var E;return t.jsxs(dr,{children:[t.jsx(en,{children:t.jsx(Vs,{color:"success"})}),t.jsx(Yt,{primary:`${ha(D.amount)} ${D.currency}`,secondary:D.isAnonymous?"Anonymous contributor":((E=D.user)==null?void 0:E.name)||"Unknown contributor"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:new Date(D.createdAt).toLocaleDateString()})]},D.id)}),d.contributions.length>10&&t.jsx(dr,{children:t.jsx(Yt,{primary:t.jsxs(j,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:["+",d.contributions.length-10," more contributions"]})})})]}):t.jsx(dt,{severity:"info",children:"No funding contributions found for this news article."})})]}),t.jsxs(uc,{children:[t.jsx(hc,{expandIcon:t.jsx(fc,{}),children:t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(Ca,{sx:{mr:1}}),t.jsx(j,{variant:"subtitle1",children:"Expense Orders"}),h.length>0&&t.jsx(Ke,{label:`${h.length} expenses`,size:"small",sx:{ml:2}})]})}),t.jsx(pc,{children:h.length?t.jsx(jr,{dense:!0,children:h.map(D=>t.jsxs(dr,{children:[t.jsx(en,{children:t.jsx(Bs,{sx:{color:Gb[D.status]}})}),t.jsx(Yt,{primary:D.title,secondary:t.jsxs(C,{children:[t.jsxs(j,{variant:"caption",display:"block",children:[D.journalist.displayName,"  ",D.type.name]}),t.jsx(j,{variant:"caption",color:"text.secondary",children:new Date(D.createdAt).toLocaleDateString()})]})}),t.jsxs(C,{sx:{textAlign:"right"},children:[t.jsxs(j,{variant:"body2",fontWeight:"medium",children:[ha(D.amount)," ",D.currency]}),t.jsx(Ke,{label:Ii[D.status],size:"small",sx:{bgcolor:Gb[D.status],color:"white",fontSize:"0.7rem"}})]}),D.receiptUrl&&t.jsx(jt,{title:"View Receipt",children:t.jsx(Fe,{size:"small",onClick:()=>window.open(D.receiptUrl,"_blank"),children:t.jsx(Ps,{fontSize:"small"})})})]},D.id))}):t.jsx(dt,{severity:"info",children:"No expense orders found for this channel."})})]})]});return i?t.jsx($e,{elevation:2,children:t.jsxs(Be,{sx:{textAlign:"center",py:4},children:[t.jsx(_n,{}),t.jsx(j,{variant:"body2",sx:{mt:2},children:"Loading transaction data..."})]})}):b?t.jsx(dt,{severity:"error",sx:{mb:2},children:b}):!p||p.totalFunding===0&&p.totalExpenses===0?t.jsx(dt,{severity:"info",sx:{mb:2},children:t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(IT,{sx:{mr:1}}),"No transaction data available for this news article."]})}):t.jsxs(C,{sx:{mb:4},children:[t.jsxs(j,{variant:"h5",gutterBottom:!0,sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(wh,{sx:{mr:1}}),"Transaction Transparency"]}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,md:6,children:S()}),t.jsx(F,{item:!0,xs:12,md:6,children:v()}),t.jsx(F,{item:!0,xs:12,children:I()}),t.jsxs(F,{item:!0,xs:12,children:[t.jsx(Bt,{sx:{my:2}}),w()]})]})]})};var vp={},p5=tt;Object.defineProperty(vp,"__esModule",{value:!0});var _i=vp.default=void 0,x5=p5(nt()),m5=t;_i=vp.default=(0,x5.default)((0,m5.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock");var jp={},g5=tt;Object.defineProperty(jp,"__esModule",{value:!0});var fd=jp.default=void 0,b5=g5(nt()),y5=t;fd=jp.default=(0,b5.default)((0,y5.jsx)("path",{d:"M16 18v2H8v-2zM11 7.99V16h2V7.99h3L12 4 8 7.99z"}),"Upgrade");var Sp={},v5=tt;Object.defineProperty(Sp,"__esModule",{value:!0});var Ra=Sp.default=void 0,j5=v5(nt()),S5=t;Ra=Sp.default=(0,j5.default)((0,S5.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle");/*!
 * react-paypal-js v8.9.2 (2025-10-02T20:17:55.069Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vr;(function(e){e.INITIAL="initial",e.PENDING="pending",e.REJECTED="rejected",e.RESOLVED="resolved"})(vr||(vr={}));var lo;(function(e){e.LOADING_STATUS="setLoadingStatus",e.RESET_OPTIONS="resetOptions",e.SET_BRAINTREE_INSTANCE="braintreeInstance"})(lo||(lo={}));var Yb;(function(e){e.NUMBER="number",e.CVV="cvv",e.EXPIRATION_DATE="expirationDate",e.EXPIRATION_MONTH="expirationMonth",e.EXPIRATION_YEAR="expirationYear",e.POSTAL_CODE="postalCode"})(Yb||(Yb={}));var Rn=function(){return Rn=Object.assign||function(n){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},Rn.apply(this,arguments)};function Lv(e,n){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&n.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)n.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(r[s[o]]=e[s[o]]);return r}function qb(e,n,r){if(r||arguments.length===2)for(var s=0,o=n.length,i;s<o;s++)(i||!(s in n))&&(i||(i=Array.prototype.slice.call(n,0,s)),i[s]=n[s]);return e.concat(i||Array.prototype.slice.call(n))}var Oi="data-react-paypal-script-id",$o={DATA_CLIENT_TOKEN:"dataClientToken",DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource",DATA_USER_ID_TOKEN:"dataUserIdToken"},w5="Failed to load the PayPal JS SDK script.",$v="paypal",C5="usePayPalScriptReducer must be used within a PayPalScriptProvider";function P5(e){return e===void 0&&(e=$v),window[e]}function I5(e){for(var n="",r=0;r<e.length;r++){var s=e[r].charCodeAt(0)*r;e[r+1]&&(s+=e[r+1].charCodeAt(0)*(r-1)),n+=String.fromCharCode(97+Math.abs(s)%26)}return n}function D5(e){var n=e.reactComponentName,r=e.sdkComponentKey,s=e.sdkRequestedComponents,o=s===void 0?"":s,i=e.sdkDataNamespace,c=i===void 0?$v:i,d=r.charAt(0).toUpperCase().concat(r.substring(1)),u="Unable to render <".concat(n," /> because window.").concat(c,".").concat(d," is undefined."),h=typeof o=="string"?o:o.join(",");if(!h.includes(r)){var x=[h,r].filter(Boolean).join();u+=`
To fix the issue, add '`.concat(r,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(x,"'}}>`.")}return u}function Fv(e){var n=e,r=Oi;n[r];var s=Lv(n,[r+""]);return"react-paypal-js-".concat(I5(JSON.stringify(s)))}function E5(e){var n=self.document.querySelector("script[".concat(Oi,'="').concat(e,'"]'));n!=null&&n.parentNode&&n.parentNode.removeChild(n)}function T5(e,n){var r,s;switch(n.type){case lo.LOADING_STATUS:return typeof n.value=="object"?Rn(Rn({},e),{loadingStatus:n.value.state,loadingStatusErrorMessage:n.value.message}):Rn(Rn({},e),{loadingStatus:n.value});case lo.RESET_OPTIONS:return E5(e.options[Oi]),Rn(Rn({},e),{loadingStatus:vr.PENDING,options:Rn(Rn((r={},r[$o.DATA_SDK_INTEGRATION_SOURCE]=$o.DATA_LIBRARY_VALUE,r),n.value),(s={},s[Oi]="".concat(Fv(n.value)),s))});case lo.SET_BRAINTREE_INSTANCE:return Rn(Rn({},e),{braintreePayPalCheckoutInstance:n.value});default:return e}}var Wv=m.createContext(null);function A5(e){if(typeof(e==null?void 0:e.dispatch)=="function"&&e.dispatch.length!==0)return e;throw new Error(C5)}function R5(){var e=A5(m.useContext(Wv)),n=Rn(Rn({},e),{isInitial:e.loadingStatus===vr.INITIAL,isPending:e.loadingStatus===vr.PENDING,isResolved:e.loadingStatus===vr.RESOLVED,isRejected:e.loadingStatus===vr.REJECTED});return[n,e.dispatch]}m.createContext({});function _5(e){var n=m.useRef(new Proxy({},{get:function(r,s,o){return typeof r[s]=="function"?function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];return r[s].apply(r,i)}:Reflect.get(r,s,o)}}));return n.current=Object.assign(n.current,e),n.current}var pd=function(e){var n,r=e.className,s=r===void 0?"":r,o=e.disabled,i=o===void 0?!1:o,c=e.children,d=e.forceReRender,u=d===void 0?[]:d,h=Lv(e,["className","disabled","children","forceReRender"]),x=i?{opacity:.38}:{},p="".concat(s," ").concat(i?"paypal-buttons-disabled":"").trim(),y=m.useRef(null),b=m.useRef(null),g=_5(h),S=R5()[0],v=S.isResolved,I=S.options,w=m.useState(null),D=w[0],E=w[1],A=m.useState(!0),_=A[0],O=A[1],R=m.useState(null),L=R[1];function B(){b.current!==null&&b.current.close().catch(function(){})}return!((n=b.current)===null||n===void 0)&&n.updateProps&&b.current.updateProps({message:h.message}),m.useEffect(function(){if(v===!1)return B;var Y=P5(I.dataNamespace);if(Y===void 0||Y.Buttons===void 0)return L(function(){throw new Error(D5({reactComponentName:pd.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:I.components,sdkDataNamespace:I[$o.DATA_NAMESPACE]}))}),B;var $=function(H,X){E(X),typeof h.onInit=="function"&&h.onInit(H,X)};try{b.current=Y.Buttons(Rn(Rn({},g),{onInit:$}))}catch(H){return L(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(H))})}return b.current.isEligible()===!1?(O(!1),B):(y.current&&b.current.render(y.current).catch(function(H){y.current===null||y.current.children.length===0||L(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(H))})}),B)},qb(qb([v],u,!0),[h.fundingSource],!1)),m.useEffect(function(){D!==null&&(i===!0?D.disable().catch(function(){}):D.enable().catch(function(){}))},[i,D]),Dt.createElement(Dt.Fragment,null,_?Dt.createElement("div",{ref:y,style:x,className:p}):c)};pd.displayName="PayPalButtons";function O5(e,n){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&n.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)n.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(r[s[o]]=e[s[o]]);return r}function k5(e,n){var r=document.querySelector('script[src="'.concat(e,'"]'));if(r===null)return null;var s=Bv(e,n),o=r.cloneNode();if(delete o.dataset.uidAuto,Object.keys(o.dataset).length!==Object.keys(s.dataset).length)return null;var i=!0;return Object.keys(o.dataset).forEach(function(c){o.dataset[c]!==s.dataset[c]&&(i=!1)}),i?r:null}function M5(e){var n=e.url,r=e.attributes,s=e.onSuccess,o=e.onError,i=Bv(n,r);i.onerror=o,i.onload=s,document.head.insertBefore(i,document.head.firstElementChild)}function N5(e){var n=e.sdkBaseUrl,r=e.environment,s=O5(e,["sdkBaseUrl","environment"]),o=n||F5(r),i=s,c=Object.keys(i).filter(function(h){return typeof i[h]<"u"&&i[h]!==null&&i[h]!==""}).reduce(function(h,x){var p=i[x].toString();return x=L5(x),x.substring(0,4)==="data"||x==="crossorigin"?h.attributes[x]=p:h.queryParams[x]=p,h},{queryParams:{},attributes:{}}),d=c.queryParams,u=c.attributes;return d["merchant-id"]&&d["merchant-id"].indexOf(",")!==-1&&(u["data-merchant-id"]=d["merchant-id"],d["merchant-id"]="*"),{url:"".concat(o,"?").concat($5(d)),attributes:u}}function L5(e){var n=function(r,s){return(s?"-":"")+r.toLowerCase()};return e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,n)}function $5(e){var n="";return Object.keys(e).forEach(function(r){n.length!==0&&(n+="&"),n+=r+"="+e[r]}),n}function F5(e){return e==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function Bv(e,n){n===void 0&&(n={});var r=document.createElement("script");return r.src=e,Object.keys(n).forEach(function(s){r.setAttribute(s,n[s]),s==="data-csp-nonce"&&r.setAttribute("nonce",n["data-csp-nonce"])}),r}function W5(e,n){if(n===void 0&&(n=Promise),Vv(e,n),typeof document>"u")return n.resolve(null);var r=N5(e),s=r.url,o=r.attributes,i=o["data-namespace"]||"paypal",c=Kb(i);return o["data-js-sdk-library"]||(o["data-js-sdk-library"]="paypal-js"),k5(s,o)&&c?n.resolve(c):B5({url:s,attributes:o},n).then(function(){var d=Kb(i);if(d)return d;throw new Error("The window.".concat(i," global variable is not available."))})}function B5(e,n){n===void 0&&(n=Promise),Vv(e,n);var r=e.url,s=e.attributes;if(typeof r!="string"||r.length===0)throw new Error("Invalid url.");if(typeof s<"u"&&typeof s!="object")throw new Error("Expected attributes to be an object.");return new n(function(o,i){if(typeof document>"u")return o();M5({url:r,attributes:s,onSuccess:function(){return o()},onError:function(){var c=new Error('The script "'.concat(r,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return i(c)}})})}function Kb(e){return window[e]}function Vv(e,n){if(typeof e!="object"||e===null)throw new Error("Expected an options object.");var r=e.environment;if(r&&r!=="production"&&r!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof n<"u"&&typeof n!="function")throw new Error("Expected PromisePonyfill to be a function.")}var Uv=function(e){var n,r=e.options,s=r===void 0?{clientId:"test"}:r,o=e.children,i=e.deferLoading,c=i===void 0?!1:i,d=m.useReducer(T5,{options:Rn(Rn({},s),(n={},n[$o.DATA_JS_SDK_LIBRARY]=$o.DATA_LIBRARY_VALUE,n[$o.DATA_SDK_INTEGRATION_SOURCE]=$o.DATA_LIBRARY_VALUE,n[Oi]="".concat(Fv(s)),n)),loadingStatus:c?vr.INITIAL:vr.PENDING}),u=d[0],h=d[1];return m.useEffect(function(){if(c===!1&&u.loadingStatus===vr.INITIAL)return h({type:lo.LOADING_STATUS,value:vr.PENDING});if(u.loadingStatus===vr.PENDING){var x=!0;return W5(u.options).then(function(){x&&h({type:lo.LOADING_STATUS,value:vr.RESOLVED})}).catch(function(p){console.error("".concat(w5," ").concat(p)),x&&h({type:lo.LOADING_STATUS,value:{state:vr.REJECTED,message:String(p)}})}),function(){x=!1}}},[u.options,c,u.loadingStatus]),Dt.createElement(Wv.Provider,{value:Rn(Rn({},u),{dispatch:h})},o)};function Xb(){}m.createContext({cardFieldsForm:null,fields:{},registerField:Xb,unregisterField:Xb});const V5=({contentType:e,contentId:n,amount:r,currency:s,comment:o,onSuccess:i,onError:c,onCancel:d,disabled:u=!1})=>{const[h,x]=Dt.useState(!0),[p,y]=Dt.useState(null),{api:b}=Qe();return t.jsx(C,{sx:{minHeight:50},children:t.jsxs(Uv,{options:{clientId:"AUvVGkHGJD8OKekE_4XxFzzKL8a8yLtJ3ZG1woE3OobNy57zyofuPIiUo-zZag0O_L1KPB_u4TB0tuJp",currency:s.toUpperCase(),intent:"capture"},children:[h&&t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:2},children:t.jsx(_n,{size:24})}),t.jsx(pd,{style:{layout:"vertical",color:"gold",shape:"rect",label:"pay"},disabled:u||r<=0,onInit:()=>{x(!1)},createOrder:async()=>{var S;console.log("Creating PayPal order for funding:",{contentType:e,contentId:n,amount:r,currency:s});try{const v=await((S=b==null?void 0:b.app.funding)==null?void 0:S.createPayPalOrder(e,n,{amount:r,currency:s,comment:o}));if(!(v!=null&&v.orderId))throw new Error("Failed to create PayPal order");return y({orderId:v.orderId,contributionId:v.contributionId}),v.orderId}catch(v){throw console.error("Failed to create PayPal order:",v),c(new Error("Failed to create payment order. Please try again.")),v}},onApprove:async S=>{var v;if(console.log("PayPal order approved:",{orderID:S.orderID,contributionId:p==null?void 0:p.contributionId}),!p){c(new Error("Order data not found"));return}try{const I=await((v=b==null?void 0:b.app.funding)==null?void 0:v.capturePayPalOrder(e,n,{orderId:S.orderID,contributionId:p.contributionId}));i(I)}catch(I){console.error("Failed to capture PayPal order:",I),c(new Error("Failed to complete payment. Please contact support."))}},onCancel:()=>{console.log("PayPal payment cancelled by user"),y(null),d==null||d()},onError:S=>{console.error("PayPal payment error:",S),y(null),c(new Error(typeof S=="string"?S:"PayPal payment failed"))}})]})})},U5=({currentAmount:e,goalAmount:n,contributorCount:r,currency:s,showDetailed:o=!0})=>{const i=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:s,minimumFractionDigits:0,maximumFractionDigits:2}).format(u),c=n?Math.min(e/n*100,100):0,d=n?Math.max(n-e,0):0;return o?t.jsx($e,{variant:"outlined",sx:{backgroundColor:"background.paper"},children:t.jsxs(Be,{children:[t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,sm:n?4:6,children:t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(C,{sx:{display:"flex",justifyContent:"center",mb:1},children:t.jsx(Vs,{color:"primary",fontSize:"large"})}),t.jsx(j,{variant:"h4",fontWeight:"bold",color:"primary",children:i(e)}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Raised so far"})]})}),n&&t.jsx(F,{item:!0,xs:12,sm:4,children:t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(C,{sx:{display:"flex",justifyContent:"center",mb:1},children:t.jsx(DT,{color:"action",fontSize:"large"})}),t.jsx(j,{variant:"h4",fontWeight:"bold",children:i(n)}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Funding goal"})]})}),t.jsx(F,{item:!0,xs:12,sm:n?4:6,children:t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(C,{sx:{display:"flex",justifyContent:"center",mb:1},children:t.jsx(ho,{color:"action",fontSize:"large"})}),t.jsx(j,{variant:"h4",fontWeight:"bold",children:r}),t.jsx(j,{variant:"body2",color:"text.secondary",children:r===1?"Supporter":"Supporters"})]})})]}),n&&t.jsxs(C,{sx:{mt:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsxs(j,{variant:"body2",fontWeight:"medium",children:["Progress: ",c.toFixed(1),"%"]}),d>0&&t.jsxs(j,{variant:"body2",color:"text.secondary",children:[i(d)," to go"]})]}),t.jsx(Ia,{variant:"determinate",value:c,sx:{height:12,borderRadius:6,backgroundColor:"grey.200","& .MuiLinearProgress-bar":{borderRadius:6,background:c>=100?"linear-gradient(45deg, #4caf50 30%, #8bc34a 90%)":"linear-gradient(45deg, #2196f3 30%, #21cbf3 90%)"}}}),c>=100&&t.jsx(C,{sx:{mt:2,p:2,bgcolor:"success.light",borderRadius:1,textAlign:"center"},children:t.jsx(j,{variant:"body2",fontWeight:"medium",color:"success.dark",children:" Funding goal reached! Thank you to all supporters!"})})]})]})}):t.jsxs(C,{children:[n&&t.jsxs(t.Fragment,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Funded: ",i(e)]}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Goal: ",i(n)]})]}),t.jsx(Ia,{variant:"determinate",value:c,sx:{height:8,borderRadius:4,backgroundColor:"grey.200","& .MuiLinearProgress-bar":{borderRadius:4}}})]}),!n&&t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Vs,{fontSize:"small",color:"primary"}),t.jsxs(j,{variant:"body2",fontWeight:"medium",children:[i(e)," raised"]}),t.jsx(ho,{fontSize:"small",color:"action"}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:[r," supporters"]})]})]})},z5=[5,10,25,50,100],zv=({open:e,onClose:n,onSuccess:r,contentType:s,contentId:o,fundingData:i})=>{const[c,d]=m.useState("amount"),[u,h]=m.useState({amount:0,currency:i.currency,comment:""}),[x,p]=m.useState(!1),[y,b]=m.useState(null),g=()=>{d("amount"),h({amount:0,currency:i.currency,comment:""}),b(null),n()},S=L=>{h(B=>({...B,amount:L}))},v=()=>{if(c==="amount"){if(u.amount<=0){b("Please enter a valid contribution amount");return}b(null),d("payment")}},I=()=>{c==="payment"&&(d("amount"),b(null))},w=L=>{r(L),g()},D=L=>{b(L.message||"Payment failed. Please try again."),p(!1)},E=()=>{b("Payment cancelled. You can try again when ready."),p(!1)},A=()=>t.jsxs(ge,{spacing:3,children:[t.jsxs(C,{children:[t.jsxs(j,{variant:"h6",gutterBottom:!0,children:["Fund this ",s]}),t.jsx(j,{variant:"body2",color:"text.secondary",children:i.description||`Support this ${s} with your contribution`})]}),t.jsx(U5,{currentAmount:i.currentAmount,goalAmount:i.goalAmount,contributorCount:i.contributorCount,currency:i.currency}),t.jsx(Bt,{}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",gutterBottom:!0,children:"Choose contribution amount"}),t.jsx(ge,{direction:"row",spacing:1,flexWrap:"wrap",sx:{mb:2},children:z5.map(L=>t.jsx(Ke,{label:`${i.currency} ${L}`,onClick:()=>S(L),color:u.amount===L?"primary":"default",variant:u.amount===L?"filled":"outlined",sx:{mb:1}},L))}),t.jsx(Ze,{label:"Custom Amount",type:"number",value:u.amount||"",onChange:L=>h(B=>({...B,amount:Number(L.target.value)})),fullWidth:!0,InputProps:{startAdornment:t.jsx(Qr,{position:"start",children:i.currency})},inputProps:{min:1,step:.01}})]}),t.jsx(Ze,{label:"Comment (Optional)",multiline:!0,rows:3,value:u.comment,onChange:L=>h(B=>({...B,comment:L.target.value})),fullWidth:!0,placeholder:"Leave a message of support..."})]}),_=()=>t.jsxs(ge,{spacing:3,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Payment Details"}),t.jsxs(C,{sx:{p:2,bgcolor:"background.paper",borderRadius:1,border:"1px solid",borderColor:"divider"},children:[t.jsxs(j,{variant:"body1",fontWeight:"medium",children:["Contribution: ",i.currency," ",u.amount]}),u.comment&&t.jsxs(j,{variant:"body2",color:"text.secondary",sx:{mt:1},children:['"',u.comment,'"']})]})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",gutterBottom:!0,children:"Complete payment with PayPal"}),t.jsx(V5,{contentType:s,contentId:o,amount:u.amount,currency:u.currency,comment:u.comment,onSuccess:w,onError:D,onCancel:E,disabled:x})]})]}),O=()=>t.jsxs(C,{sx:{textAlign:"center",py:4},children:[t.jsx(Ia,{sx:{mb:3}}),t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Processing your contribution..."}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Please wait while we process your payment"})]}),R=()=>{switch(c){case"amount":return t.jsxs(t.Fragment,{children:[t.jsx(he,{onClick:g,disabled:x,children:"Cancel"}),t.jsx(he,{onClick:v,variant:"contained",disabled:x||u.amount<=0,children:"Continue"})]});case"payment":return t.jsx(t.Fragment,{children:t.jsx(he,{onClick:I,disabled:x,children:"Back"})});case"processing":return null;default:return null}};return t.jsxs(qt,{open:e,onClose:x?void 0:g,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[t.jsxs(tn,{sx:{fontWeight:600},children:["Fund ",i.title]}),t.jsxs(Kt,{children:[y&&t.jsx(dt,{severity:"error",sx:{mb:2},children:y}),c==="amount"&&A(),c==="payment"&&_(),c==="processing"&&O()]}),R()&&t.jsx(Xt,{sx:{px:3,pb:2},children:R()})]})};var wp={},H5=tt;Object.defineProperty(wp,"__esModule",{value:!0});var _a=wp.default=void 0,G5=H5(nt()),Y5=t;_a=wp.default=(0,G5.default)((0,Y5.jsx)("path",{d:"M1 11h4v11H1zm15-7.75C16.65 2.49 17.66 2 18.7 2 20.55 2 22 3.45 22 5.3c0 2.27-2.91 4.9-6 7.7-3.09-2.81-6-5.44-6-7.7C10 3.45 11.45 2 13.3 2c1.04 0 2.05.49 2.7 1.25M20 17h-7l-2.09-.73.33-.94L13 16h2.82c.65 0 1.18-.53 1.18-1.18 0-.49-.31-.93-.77-1.11L8.97 11H7v9.02L14 22l8.01-3c-.01-1.1-.9-2-2.01-2"}),"VolunteerActivism");const q5=()=>t.jsx(Et,{maxWidth:"lg",sx:{mt:4},children:t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsx(ce,{variant:"rectangular",width:"100%",height:300,sx:{borderRadius:2,mb:3}})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx($e,{children:t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[t.jsx(ce,{variant:"text",width:"60%",height:40}),t.jsx(ge,{direction:"row",spacing:1,children:[1,2,3].map(e=>t.jsx(ce,{variant:"circular",width:40,height:40},e))})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:300,sx:{mb:3,borderRadius:1}}),t.jsxs(ge,{spacing:2,sx:{mb:3},children:[t.jsx(ce,{variant:"text",width:"100%"}),t.jsx(ce,{variant:"text",width:"95%"}),t.jsx(ce,{variant:"text",width:"90%"}),t.jsx(ce,{variant:"text",width:"85%"}),t.jsx(ce,{variant:"text",width:"95%"})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:80,sx:{mb:3,borderRadius:1}}),t.jsx(ge,{direction:"row",spacing:1,children:[1,2,3,4].map(e=>t.jsx(ce,{variant:"rounded",width:80,height:32},e))})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx($e,{children:t.jsxs(Be,{children:[t.jsx(ce,{variant:"text",width:"50%",height:32,sx:{mb:2}}),t.jsx(ge,{spacing:2,children:[1,2,3,4,5].map(e=>t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[t.jsx(ce,{variant:"text",width:"40%"}),t.jsx(ce,{variant:"text",width:"20%"})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:8,sx:{borderRadius:1}})]},e))})]})})})]})}),K5=()=>{var A,_;const{id:e}=es(),{api:n}=Qe(),{execute:r}=st(),[s,o]=m.useState(null),[i,c]=m.useState(!0),[d,u]=m.useState(!1),[h,x]=m.useState(!1),[p,y]=m.useState(null),[b,g]=m.useState(!1);m.useEffect(()=>{(async()=>{if(e){c(!0);const R=await r(()=>n==null?void 0:n.app.news.get(e),{showErrorToast:!0});R&&(o(R),R.accessInfo&&!R.accessInfo.canAccess&&u(!0),S(e)),c(!1)}})()},[e,r]);const S=async O=>{try{g(!0);const R=await(n==null?void 0:n.app.funding.getFund("news",O));y(R)}catch(R){console.error("Failed to load fund data:",R)}finally{g(!1)}},v=async()=>{x(!0)},I=async O=>{e&&await S(e),console.log("Contribution successful:",O)},w=()=>!s||!p?null:{id:p.id,title:s.title,currentAmount:p.currentAmount/100,goalAmount:p.goalAmount?p.goalAmount/100:void 0,currency:p.currency,contributorCount:0,description:"Support quality journalism by funding this article"};if(i)return t.jsx(q5,{});if(!s)return t.jsx(Et,{maxWidth:"lg",sx:{mt:4},children:t.jsx(j,{variant:"h4",children:"Entry not found"})});const D=s.media.find(O=>O.type===Qi.COVER),E=O=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(O);return t.jsxs(Et,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsxs(C,{sx:{height:300,width:"100%",position:"relative",mb:3,borderRadius:2,overflow:"hidden"},children:[(D==null?void 0:D.format)===Ec.VIDEO?t.jsx(C,{component:"video",src:D.url,controls:!0,preload:"metadata",sx:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center",bgcolor:"black"}}):t.jsx(C,{component:"img",src:(D==null?void 0:D.url)||ld,alt:s.title,sx:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"}}),t.jsxs(C,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(transparent, rgba(0,0,0,0.7))",p:3,color:"white"},children:[t.jsx(j,{variant:"h4",component:"h1",gutterBottom:!0,children:s.title}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsxs(C,{component:qn,to:ye.APP_CHANNEL_VIEW.replace(":channelId",s.channelId),sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(255, 255, 255, 0.1)",color:"white",px:2,py:1,borderRadius:2,textDecoration:"none",transition:"all 0.2s ease-in-out",border:"1px solid rgba(255, 255, 255, 0.2)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.2)",transform:"translateY(-2px)"}},children:[t.jsx(Zi,{sx:{mr:1}}),t.jsx(j,{variant:"subtitle2",children:s.channel.name})]}),t.jsxs(C,{sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(0, 0, 0, 0.3)",px:2,py:1,borderRadius:2,border:"1px solid rgba(255, 255, 255, 0.1)"},children:[t.jsx(Xi,{sx:{mr:1,fontSize:"0.9rem"}}),t.jsx(j,{variant:"caption",children:s.creator.displayName})]})]}),t.jsx(j,{variant:"subtitle1",children:new Date(s.publishedAt).toLocaleDateString()})]})]})]})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx($e,{children:t.jsx(C,{sx:{p:3},children:d?t.jsxs(ot,{elevation:3,sx:{p:4,textAlign:"center",bgcolor:O=>fe(O.palette.warning.main,.05),border:O=>`2px solid ${fe(O.palette.warning.main,.3)}`,borderRadius:3},children:[t.jsx(C,{sx:{width:80,height:80,borderRadius:"50%",bgcolor:O=>fe(O.palette.warning.main,.1),display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",mb:2},children:t.jsx(_i,{sx:{fontSize:40,color:"warning.main"}})}),t.jsx(j,{variant:"h5",gutterBottom:!0,fontWeight:"bold",color:"warning.dark",children:"Premium Content"}),t.jsx(j,{variant:"body1",color:"text.secondary",sx:{mb:3,maxWidth:500,mx:"auto"},children:((A=s.accessInfo)==null?void 0:A.reason)||"Subscribe to unlock the full article and support quality journalism."}),((_=s.accessInfo)==null?void 0:_.requiredTierName)&&t.jsxs(dt,{severity:"info",sx:{mb:3,maxWidth:500,mx:"auto","& .MuiAlert-message":{width:"100%",textAlign:"center"}},children:["Required tier: ",t.jsx("strong",{children:s.accessInfo.requiredTierName})]}),t.jsxs(C,{sx:{mb:3,maxWidth:400,mx:"auto"},children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",sx:{mb:2},children:"Subscribe to unlock:"}),t.jsx(jr,{dense:!0,children:["Full article content","Quality metrics","Fund information","Social links","Transaction transparency"].map((O,R)=>t.jsxs(dr,{sx:{py:.5},children:[t.jsx(en,{sx:{minWidth:32},children:t.jsx(Ra,{color:"success",fontSize:"small"})}),t.jsx(Yt,{primary:O,primaryTypographyProps:{variant:"body2"}})]},R))})]}),t.jsx(he,{component:qn,to:ye.APP_CHANNEL_VIEW.replace(":channelId",s.channelId),variant:"contained",color:"warning",size:"large",startIcon:t.jsx(fd,{}),sx:{px:4,py:1.5,borderRadius:2,fontWeight:"bold",textTransform:"none",fontSize:"1rem"},children:"View Subscription Options"})]}):t.jsxs(t.Fragment,{children:[t.jsx(hd,{data:Nv(s.content),readOnly:!0,borderColor:O=>O.palette.mode==="dark"?fe(O.palette.common.white,.1):fe(O.palette.common.black,.1)}),t.jsx(C,{sx:{mt:2},children:s.tags.map(O=>t.jsx(Ke,{label:O.title,variant:"outlined",sx:{mr:1,mb:1}},O.id))})]})})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(ge,{spacing:3,children:[!d&&s.socialLinks&&s.socialLinks.length>0&&t.jsx(mp,{links:s.socialLinks}),!d&&s.qualityMetrics&&t.jsxs(ot,{elevation:0,sx:{p:2,bgcolor:"success.light",color:"success.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[t.jsx(yp,{fontSize:"large"}),t.jsxs(C,{children:[t.jsx(j,{variant:"overline",children:"Quality Score"}),t.jsxs(j,{variant:"h4",component:"div",children:[s.qualityMetrics.overallQualityScore.toFixed(1),"/10"]})]})]}),!d&&s.newsFund&&t.jsxs(ot,{elevation:0,sx:{p:2,bgcolor:"primary.light",color:"primary.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[t.jsx(id,{fontSize:"large"}),t.jsxs(C,{children:[t.jsx(j,{variant:"overline",children:"News Fund"}),t.jsx(j,{variant:"h4",component:"div",children:E(s.newsFund.amount)})]})]}),t.jsx(ot,{elevation:2,sx:{p:3,borderRadius:2,border:"2px solid",borderColor:"primary.main",bgcolor:O=>fe(O.palette.primary.main,.05)},children:t.jsxs(ge,{spacing:2,children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(_a,{color:"primary",fontSize:"large"}),t.jsx(j,{variant:"h6",fontWeight:"bold",color:"primary",children:"Fund this Article"})]}),p&&!b?t.jsxs(C,{children:[t.jsx(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Current Funding"}),t.jsxs(j,{variant:"h5",fontWeight:"bold",color:"primary.main",children:[p.currency," ",(p.currentAmount/100).toFixed(2)]}),p.goalAmount&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Goal: ",p.currency," ",(p.goalAmount/100).toFixed(2)]})]}):b?t.jsx(ce,{variant:"rectangular",height:60}):t.jsx(j,{variant:"body2",color:"text.secondary",children:"Be the first to fund this article"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Support quality journalism by contributing to this article"}),t.jsx(he,{variant:"contained",color:"primary",fullWidth:!0,size:"large",startIcon:t.jsx(_a,{}),onClick:v,disabled:!s,sx:{py:1.5,fontWeight:"bold",textTransform:"none",fontSize:"1rem"},children:"Fund Now"})]})})]})})]}),!d&&t.jsx(Et,{maxWidth:"lg",sx:{mt:4},children:t.jsx(f5,{newsId:s.id,channelId:s.channelId,newsFund:s.newsFund})}),s&&p&&t.jsx(zv,{open:h,onClose:()=>x(!1),onSuccess:I,contentType:"news",contentId:s.id,fundingData:w()})]})};var Cp={},X5=tt;Object.defineProperty(Cp,"__esModule",{value:!0});var Hv=Cp.default=void 0,J5=X5(nt()),Q5=t;Hv=Cp.default=(0,J5.default)((0,Q5.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");const Ql=Me(Ke)(({theme:e})=>({borderRadius:e.spacing(.75),height:28,fontWeight:500,fontSize:"0.75rem",padding:"0 8px",transition:"all 0.2s ease",border:"1px solid transparent","&.selected":{backgroundColor:e.palette.mode==="dark"?e.palette.common.white:e.palette.grey[900],color:e.palette.mode==="dark"?e.palette.grey[900]:e.palette.common.white,fontWeight:600,borderColor:e.palette.mode==="dark"?e.palette.common.white:e.palette.grey[900],"&:hover":{backgroundColor:e.palette.mode==="dark"?e.palette.grey[100]:e.palette.grey[800],borderColor:e.palette.mode==="dark"?e.palette.grey[100]:e.palette.grey[800]}},"&:not(.selected)":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.06)",color:e.palette.text.primary,"&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.1)",borderColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)"}}})),ah=Me(C)(({theme:e,horizontal:n})=>({display:"flex",flexDirection:n?"row":"column",gap:e.spacing(1),scrollBehavior:"smooth",...n&&{overflowX:"auto",overflowY:"hidden",paddingBottom:e.spacing(.5),scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},msOverflowStyle:"none"}})),Jb=Me(Fe)(({theme:e})=>({backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.06)",width:32,height:32,flexShrink:0,"&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.1)"}})),Rc=({selectedTags:e=[],onTagsChange:n,contentType:r,maxTags:s=10,className:o,horizontal:i=!1})=>{const[c,d]=m.useState([]),[u,h]=m.useState(!0),[x,p]=m.useState(!1),[y,b]=m.useState(!1),g=Dt.useRef(null),{api:S}=Qe(),{execute:v}=st();m.useEffect(()=>{(async()=>{if(S!=null&&S.app.tag){h(!0);try{const[_,O,R]=await Promise.all([v(()=>S.app.tag.getTags({category:r==="channels"?void 0:r}),{showErrorToast:!1}),v(()=>S.app.tag.getTags({trending:!0,category:r==="channels"?void 0:r}),{showErrorToast:!1}),v(()=>S.app.tag.getTags({popular:!0,category:r==="channels"?void 0:r}),{showErrorToast:!1})]),L=new Map;_!=null&&_.items&&_.items.forEach(Y=>{var $;L.set(Y.id,{...Y,count:(($=Y.analytics)==null?void 0:$.usageCount)||0})}),O!=null&&O.items&&O.items.forEach(Y=>{var H;const $=L.get(Y.id);$?L.set(Y.id,{...$,trending:!0}):L.set(Y.id,{...Y,count:((H=Y.analytics)==null?void 0:H.usageCount)||0,trending:!0})}),R!=null&&R.items&&R.items.forEach(Y=>{var H;const $=L.get(Y.id);$&&!$.trending?L.set(Y.id,{...$,popular:!0}):$||L.set(Y.id,{...Y,count:((H=Y.analytics)==null?void 0:H.usageCount)||0,popular:!0})});const B=Array.from(L.values()).sort((Y,$)=>($.count||0)-(Y.count||0)).slice(0,20);d(B)}catch(_){console.error("Failed to fetch tags:",_),d([])}finally{h(!1)}}})()},[r,S,v]);const I=A=>{const _=e.includes(A);n(_?e.filter(O=>O!==A):[A])},w=()=>{if(i&&g.current){const{scrollLeft:A,scrollWidth:_,clientWidth:O}=g.current;p(A>0),b(A+O<_-1)}};m.useEffect(()=>{if(i){w();const A=g.current;if(A)return A.addEventListener("scroll",w),window.addEventListener("resize",w),()=>{A.removeEventListener("scroll",w),window.removeEventListener("resize",w)}}},[c,u,i]);const D=()=>{g.current&&g.current.scrollBy({left:-200,behavior:"smooth"})},E=()=>{g.current&&g.current.scrollBy({left:200,behavior:"smooth"})};return u?t.jsx(C,{className:o,children:t.jsx(ah,{horizontal:i,children:[...Array(10)].map((A,_)=>t.jsx(ce,{variant:"rounded",width:i?100:"100%",height:28,sx:{borderRadius:.75,flexShrink:i?0:void 0}},_))})}):i?t.jsxs(C,{className:o,sx:{display:"flex",alignItems:"center",gap:1},children:[x&&t.jsx(Jb,{onClick:D,size:"small",children:t.jsx(Cf,{fontSize:"small"})}),t.jsxs(ah,{ref:g,horizontal:i,sx:{flex:1},children:[t.jsx(Ql,{label:"All",className:e.length===0?"selected":"",onClick:()=>n([]),clickable:!0,sx:{flexShrink:0}}),c.map(A=>{const _=e.includes(A.name);return t.jsx(Ql,{label:A.name,className:_?"selected":"",onClick:()=>I(A.name),clickable:!0,sx:{flexShrink:0}},A.id)})]}),y&&t.jsx(Jb,{onClick:E,size:"small",children:t.jsx(Hv,{fontSize:"small"})})]}):t.jsx(C,{className:o,children:t.jsxs(ah,{ref:g,horizontal:i,children:[t.jsx(Ql,{label:"All",className:e.length===0?"selected":"",onClick:()=>n([]),clickable:!0,sx:{width:"100%",justifyContent:"flex-start"}}),c.map(A=>{const _=e.includes(A.name);return t.jsx(Ql,{label:A.name,className:_?"selected":"",onClick:()=>I(A.name),clickable:!0,sx:{width:"100%",justifyContent:"flex-start"}},A.id)})]})})},Z5=()=>{const e=zo(),n=Pt(),[r,s]=m.useState([]);m.useEffect(()=>{const c=new URLSearchParams(e.search).get("tags");if(c){const d=c.split(",").map(u=>decodeURIComponent(u.trim()));s(d)}},[e.search]);const o=i=>{s(i);const c=new URLSearchParams(e.search);i.length>0?c.set("tags",i.map(u=>encodeURIComponent(u)).join(",")):c.delete("tags");const d=`${e.pathname}?${c.toString()}`;n(d,{replace:!0})};return t.jsxs(C,{sx:{width:"100%",overflow:"hidden",pb:4},children:[t.jsx(C,{sx:{mb:3},children:t.jsx(Rc,{selectedTags:r,onTagsChange:o,contentType:"news",maxTags:5,showCounts:!1,horizontal:!0})}),t.jsx(C,{children:t.jsx(Ov,{filters:r.length>0?{tags:r}:{},emptyTitle:"No news found",emptyDescription:"No news articles available at the moment",mode:"grid"})})]})};var Pp={},e$=tt;Object.defineProperty(Pp,"__esModule",{value:!0});var Ip=Pp.default=void 0,t$=e$(nt()),n$=t;Ip=Pp.default=(0,t$.default)((0,n$.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People");var Dp={},r$=tt;Object.defineProperty(Dp,"__esModule",{value:!0});var _c=Dp.default=void 0,s$=r$(nt()),o$=t;_c=Dp.default=(0,s$.default)((0,o$.jsx)("path",{d:"M9.68 13.69 12 11.93l2.31 1.76-.88-2.85L15.75 9h-2.84L12 6.19 11.09 9H8.25l2.31 1.84zM20 10c0-4.42-3.58-8-8-8s-8 3.58-8 8c0 2.03.76 3.87 2 5.28V23l6-2 6 2v-7.72c1.24-1.41 2-3.25 2-5.28m-8-6c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6 2.69-6 6-6"}),"WorkspacePremium");const a$=({channel:e,hasSubscription:n,subscriptionTier:r,onJoin:s,onCancel:o})=>{var p,y,b,g;const i=Pt(),c=n,d=r,u=(p=e.tiers)==null?void 0:p.find(S=>S.isDefault),h=()=>{i(ye.APP_CHANNEL_VIEW.replace(":channelId",e.id))},x=S=>{S.stopPropagation(),c?o(e.id):s(e.id,u==null?void 0:u.id)};return t.jsxs(C,{onClick:h,sx:{display:"flex",alignItems:"flex-start",gap:1.5,p:1.5,borderRadius:1.5,cursor:"pointer",transition:"all 0.2s ease-in-out",height:"100%",border:"1px solid",borderColor:"transparent","&:hover":{bgcolor:S=>S.palette.mode==="dark"?fe(S.palette.common.white,.05):fe(S.palette.common.black,.03),borderColor:"divider",transform:"translateX(4px)"}},children:[t.jsx(Cn,{src:e.logoUrl,sx:{width:48,height:48,borderRadius:1.5,bgcolor:"primary.main"}}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:.5},children:[t.jsx(j,{variant:"body1",sx:{fontWeight:600,color:"text.primary",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"0.9rem"},children:e.name}),c?t.jsx(Ke,{label:d==null?void 0:d.name,color:"primary",onDelete:x,size:"small",sx:{height:24}}):t.jsx(Fe,{size:"small",onClick:x,sx:{bgcolor:"primary.main",color:"white",width:32,height:32,"&:hover":{bgcolor:"primary.dark"}},children:t.jsx(_c,{sx:{fontSize:18}})})]}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:.5,display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",fontSize:"0.8rem"},children:e.description}),t.jsxs(ge,{direction:"row",spacing:2,sx:{color:"text.secondary",fontSize:"0.75rem"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(Ip,{sx:{fontSize:14}}),(b=(y=e.stats)==null?void 0:y.activeSubscriptionCount)==null?void 0:b.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1})]}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(_c,{sx:{fontSize:14}}),((g=e.stats)==null?void 0:g.tierCount)||0," Tiers"]})]})]})]})},i$=({count:e=2})=>t.jsx(ge,{spacing:2,sx:{mt:2},children:[...Array(e)].map((n,r)=>t.jsxs(C,{sx:{display:"flex",gap:2,p:2,borderRadius:2,bgcolor:s=>s.palette.mode==="dark"?fe(s.palette.common.white,.05):fe(s.palette.common.black,.03)},children:[t.jsx(C,{sx:{width:56,height:56,borderRadius:2,bgcolor:s=>s.palette.mode==="dark"?fe(s.palette.common.white,.1):fe(s.palette.common.black,.1)}}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsx(C,{sx:{height:24,width:"40%",mb:1,borderRadius:.5,bgcolor:"grey.300"}}),t.jsx(C,{sx:{height:16,width:"80%",mb:1,borderRadius:.5,bgcolor:"grey.200"}}),t.jsx(C,{sx:{height:16,width:"30%",borderRadius:.5,bgcolor:"grey.200"}})]})]},r))}),l$=({filters:e={},emptyTitle:n="No channels found",emptyDescription:r="No channels available at the moment",itemsPerPage:s=10,hasSubscription:o,getSubscriptionTier:i,onJoin:c,onCancel:d})=>{const[u,h]=m.useState([]),[x,p]=m.useState(!0),[y,b]=m.useState(1),[g,S]=m.useState(!0),{api:v}=Qe(),{execute:I}=st(),w=async(E=y)=>{try{p(!0);const A=await I(()=>v==null?void 0:v.app.channel.getChannels(e,{page:E,limit:s}),{showErrorToast:!0});A&&(h(E===1?A.items??[]:_=>[..._,...A.items??[]]),b(A.metadata.currentPage??1),S(A.metadata.hasNext===!0))}finally{p(!1)}};m.useEffect(()=>{h([]),b(1),w(1)},[JSON.stringify(e)]);const D=()=>{!x&&g&&w(y+1)};return u.length===0&&!x?t.jsx(Ys,{title:n,description:r}):t.jsx(C,{sx:{width:"100%"},children:x&&u.length===0?t.jsx(i$,{}):t.jsx(Us,{dataLength:u.length,next:D,hasMore:g,loader:t.jsx(C,{}),endMessage:t.jsx(C,{sx:{textAlign:"center",mt:4,color:"text.secondary",fontSize:"0.875rem"},children:"No more channels to display"}),children:t.jsx(F,{container:!0,spacing:3,children:u.map(E=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(a$,{channel:E,hasSubscription:(o==null?void 0:o(E.id))??!1,subscriptionTier:i==null?void 0:i(E.id),onJoin:c,onCancel:d})},E.id))})})})},c$=()=>{const e=zo(),n=Pt(),[r,s]=m.useState([]),{actions:o,channelRelations:i}=ps(),{api:c}=Qe();m.useEffect(()=>{const p=new URLSearchParams(e.search).get("tags");if(p){const y=p.split(",").map(b=>decodeURIComponent(b.trim()));s(y)}},[e.search]);const d=async(x,p)=>{var y,b,g;if(p)try{const S=await((y=c==null?void 0:c.app.subscription)==null?void 0:y.createDirectSubscription(x,{tierId:p,notificationLevel:1,paymentMethodId:"paypal_default"}));S!=null&&S.approvalUrl?window.open(S.approvalUrl,"paypal_payment","width=600,height=700,scrollbars=yes,resizable=yes")||alert("Popup blocked! Please allow popups and try again."):await o.refreshProfile()}catch(S){console.error("Subscription failed:",S);const v=((g=(b=S==null?void 0:S.response)==null?void 0:b.data)==null?void 0:g.message)||(S==null?void 0:S.message)||"";(v.includes("PAYMENT_METHOD_REQUIRED")||v.includes("PayPal payment method")||v.includes("No PayPal payment method found"))&&window.confirm("You need to add a PayPal payment method to subscribe to paid tiers. Would you like to add one now?")&&n("/app/account/payment-methods")}},u=async x=>{try{await(c==null?void 0:c.app.channel.unsubscribeFromChannel(x)),await o.refreshProfile()}catch(p){console.error("Error cancelling subscription:",p)}},h=x=>{s(x);const p=new URLSearchParams(e.search);x.length>0?p.set("tags",x.map(b=>encodeURIComponent(b)).join(",")):p.delete("tags");const y=`${e.pathname}?${p.toString()}`;n(y,{replace:!0})};return t.jsxs(C,{sx:{width:"100%",overflow:"hidden"},children:[t.jsxs(C,{sx:{mb:3},children:[t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600},children:"Discover Channels"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Find and subscribe to channels from your favorite journalists"})]}),t.jsx(C,{sx:{mb:3},children:t.jsx(Rc,{selectedTags:r,onTagsChange:h,contentType:"channels",maxTags:3,showCounts:!1,horizontal:!0})}),t.jsx(C,{children:t.jsx(l$,{filters:r.length>0?{tags:r}:{},emptyTitle:"No channels found",emptyDescription:"No channels available at the moment",hasSubscription:i.hasSubscription,getSubscriptionTier:i.getSubscriptionTier,onJoin:d,onCancel:u})})]})};var Ep={},d$=tt;Object.defineProperty(Ep,"__esModule",{value:!0});var Gv=Ep.default=void 0,u$=d$(nt()),h$=t;Gv=Ep.default=(0,u$.default)((0,h$.jsx)("path",{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27z"}),"Layers");var Tp={},f$=tt;Object.defineProperty(Tp,"__esModule",{value:!0});var Yv=Tp.default=void 0,p$=f$(nt()),x$=t;Yv=Tp.default=(0,p$.default)((0,x$.jsx)("path",{d:"M11 14H9c0-4.97 4.03-9 9-9v2c-3.87 0-7 3.13-7 7m7-3V9c-2.76 0-5 2.24-5 5h2c0-1.66 1.34-3 3-3M7 4c0-1.11-.89-2-2-2s-2 .89-2 2 .89 2 2 2 2-.89 2-2m4.45.5h-2C9.21 5.92 7.99 7 6.5 7h-3C2.67 7 2 7.67 2 8.5V11h6V8.74c1.86-.59 3.25-2.23 3.45-4.24M19 17c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2m1.5 1h-3c-1.49 0-2.71-1.08-2.95-2.5h-2c.2 2.01 1.59 3.65 3.45 4.24V22h6v-2.5c0-.83-.67-1.5-1.5-1.5"}),"ConnectWithoutContact");var Ap={},m$=tt;Object.defineProperty(Ap,"__esModule",{value:!0});var qv=Ap.default=void 0,g$=m$(nt()),b$=t;qv=Ap.default=(0,g$.default)((0,b$.jsx)("path",{d:"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2zm-9-2h10V8H12zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"AccountBalanceWallet");var Rp={},y$=tt;Object.defineProperty(Rp,"__esModule",{value:!0});var _p=Rp.default=void 0,v$=y$(nt()),j$=t;_p=Rp.default=(0,v$.default)((0,j$.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info");var Op={},S$=tt;Object.defineProperty(Op,"__esModule",{value:!0});var ki=Op.default=void 0,w$=S$(nt()),C$=t;ki=Op.default=(0,w$.default)((0,C$.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Article");var kp={},P$=tt;Object.defineProperty(kp,"__esModule",{value:!0});var Kv=kp.default=void 0,I$=P$(nt()),D$=t;Kv=kp.default=(0,I$.default)((0,D$.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email");const E$={ACTIVE:1,TRENDING:2,CLAIMED:3,CONVERTED:4,CLOSED:5,EXPIRED:6,FUNDED:7,CANCELLED:8,ARCHIVED:9},Qb={COVER:1,SUMMARY:2,AVATAR:3,TEASER:4,INTRO:5,OUTRO:6,OTHER:7},Fh={IMAGE:1,VIDEO:2,AUDIO:3,DOCUMENT:4,URL:5,ARTICLE:6,OTHER:7},Zb=({poll:e,onVote:n,userVote:r,showResults:s=!1,disabled:o=!1,showAsPreview:i=!1,mode:c="scroll"})=>{var v,I,w,D,E,A,_;const d=mn(),u=Pt(),[h,x]=m.useState(null),p=((v=e.stats)==null?void 0:v.totalVotes)||0,y=e.accessInfo&&!e.accessInfo.canAccess,b=e.media&&e.media.length>0?e.media[0]:null,g=O=>{o||x(O)},S=O=>{i&&!O.target.closest(".poll-option, .action-button")&&u(ye.APP_POLL_VIEW.replace(":id",String(e.id)))};return t.jsxs(C,{onClick:S,sx:{position:"relative",width:"100%",height:c==="grid"?"auto":"90vh",maxWidth:c==="scroll"?"480px":"100%",margin:c==="scroll"?"0 auto":0,aspectRatio:c==="grid"?"4/5":void 0,borderRadius:c==="grid"?3:4,overflow:"hidden",bgcolor:d.palette.mode==="dark"?"#000":"#111",boxShadow:"none",transition:"opacity 0.2s ease",cursor:i?"pointer":"default","&:hover":{opacity:i?.95:1}},children:[b&&t.jsxs(C,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:0},children:[b.format===Fh.VIDEO?t.jsx(C,{component:"video",src:b.url,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,sx:{width:"100%",height:"100%",objectFit:"cover",filter:"brightness(0.7)"}}):t.jsx(C,{component:"img",src:b.url,alt:b.caption||e.title,sx:{width:"100%",height:"100%",objectFit:"cover",filter:"brightness(0.7)"}}),t.jsx(C,{sx:{position:"absolute",top:0,left:0,right:0,height:"30%",background:"linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%)",zIndex:1}}),t.jsx(C,{sx:{position:"absolute",bottom:0,left:0,right:0,height:"60%",background:"linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0) 100%)",zIndex:1}})]}),!b&&t.jsx(C,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,background:`linear-gradient(135deg, ${fe(d.palette.primary.main,.8)} 0%, ${fe(d.palette.secondary.main,.8)} 100%)`,zIndex:0}}),t.jsxs(C,{sx:{position:"relative",zIndex:2,height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",p:2.5},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(Cn,{sx:{width:40,height:40,bgcolor:d.palette.primary.main,border:"2px solid white",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"},children:(w=(I=e.creator)==null?void 0:I.displayName)==null?void 0:w.charAt(0).toUpperCase()}),t.jsxs(C,{sx:{ml:1.5},children:[t.jsx(j,{variant:"body2",sx:{fontWeight:700,fontSize:"0.95rem",color:"white",textShadow:"0 1px 3px rgba(0,0,0,0.8)"},children:(D=e.creator)==null?void 0:D.displayName}),t.jsx(j,{variant:"caption",sx:{fontSize:"0.75rem",color:"rgba(255,255,255,0.9)",textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:qr(new Date(e.createdAt),{addSuffix:!0})})]})]}),t.jsxs(ge,{direction:"row",spacing:.5,children:[((E=e.accessInfo)==null?void 0:E.requiresPremium)&&t.jsx(Ke,{icon:t.jsx(_i,{sx:{fontSize:"0.875rem"}}),label:"Premium",size:"small",sx:{height:24,bgcolor:fe(d.palette.warning.main,.9),color:"white",fontWeight:700,fontSize:"0.7rem",backdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}}),e.isTrending&&t.jsx(Ke,{icon:t.jsx(Ki,{sx:{fontSize:"0.875rem"}}),label:"Trending",size:"small",sx:{height:24,bgcolor:fe(d.palette.error.main,.9),color:"white",fontWeight:700,fontSize:"0.7rem",backdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}})]})]}),t.jsxs(C,{children:[t.jsx(C,{sx:{mb:2},children:t.jsx(j,{variant:"h5",sx:{fontWeight:800,fontSize:"1.5rem",color:"white",textShadow:"0 2px 8px rgba(0,0,0,0.9)",lineHeight:1.2},children:e.title})}),y?t.jsxs(ot,{elevation:3,sx:{p:3,textAlign:"center",bgcolor:fe(d.palette.warning.main,.15),backdropFilter:"blur(20px)",border:`2px solid ${fe(d.palette.warning.main,.4)}`,borderRadius:3,mb:2},children:[t.jsx(C,{sx:{width:60,height:60,borderRadius:"50%",bgcolor:fe(d.palette.warning.main,.2),display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",mb:2},children:t.jsx(_i,{sx:{fontSize:30,color:"warning.light"}})}),t.jsx(j,{variant:"h6",gutterBottom:!0,fontWeight:"bold",color:"white",sx:{textShadow:"0 2px 4px rgba(0,0,0,0.8)"},children:"Premium Poll"}),t.jsx(j,{variant:"body2",color:"rgba(255,255,255,0.9)",sx:{mb:2,textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:((A=e.accessInfo)==null?void 0:A.reason)||"Subscribe to participate in this poll and view results."}),((_=e.accessInfo)==null?void 0:_.requiredTierName)&&t.jsx(Ke,{label:`Required: ${e.accessInfo.requiredTierName}`,size:"small",sx:{mb:2,bgcolor:fe(d.palette.info.main,.3),color:"white",fontWeight:600,backdropFilter:"blur(10px)",border:`1px solid ${fe(d.palette.info.light,.4)}`}}),t.jsx(he,{variant:"contained",color:"warning",size:"small",startIcon:t.jsx(fd,{}),onClick:O=>{O.stopPropagation(),u(ye.APP_CHANNEL_VIEW.replace(":channelId",e.channelId))},sx:{px:3,py:1,borderRadius:2,fontWeight:"bold",textTransform:"none",fontSize:"0.875rem",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},children:"Subscribe Now"})]}):t.jsx(ge,{spacing:1.5,sx:{mb:2},children:e.options.map(O=>{const R=O.voteCount||0,L=p>0?R/p*100:0,B=r===O.id,Y=h===O.id;return t.jsx(C,{className:"poll-option",onClick:$=>{$.preventDefault(),$.stopPropagation(),!s&&!o&&n&&n(String(e.id),O.id)},onMouseEnter:()=>g(O.id),onMouseLeave:()=>g(null),sx:{position:"relative",cursor:s||o?"default":"pointer",transition:"all 0.2s ease",transform:Y?"scale(1.03)":"scale(1)",opacity:o?.6:1},children:t.jsxs(C,{sx:{position:"relative",display:"flex",alignItems:"center",px:2,py:1.5,borderRadius:2,backdropFilter:"blur(20px)",bgcolor:B?fe(d.palette.primary.main,.85):Y?fe("#fff",.25):fe("#fff",.15),border:"1px solid",borderColor:B?fe(d.palette.primary.light,.5):fe("#fff",.3),boxShadow:B?"0 4px 20px rgba(0,0,0,0.4)":"0 2px 10px rgba(0,0,0,0.2)",overflow:"hidden",transition:"all 0.2s ease"},children:[s&&t.jsx(C,{sx:{position:"absolute",left:0,top:0,bottom:0,width:`${L}%`,bgcolor:fe(d.palette.primary.main,.4),transition:"width 0.5s ease",zIndex:0}}),t.jsx(C,{sx:{position:"relative",zIndex:1,width:20,height:20,minWidth:20,minHeight:20,flexShrink:0,borderRadius:"50%",border:"2px solid white",mr:1.5,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:B?"white":"transparent",transition:"all 0.2s ease",boxShadow:"0 1px 3px rgba(0,0,0,0.3)"},children:B&&t.jsx(C,{sx:{width:10,height:10,borderRadius:"50%",bgcolor:d.palette.primary.main}})}),t.jsx(j,{variant:"body1",sx:{position:"relative",zIndex:1,flex:1,fontWeight:B?700:600,fontSize:"1rem",color:"white",textShadow:"0 1px 3px rgba(0,0,0,0.8)",wordBreak:"break-word"},children:O.text}),s&&t.jsxs(j,{variant:"body2",sx:{position:"relative",zIndex:1,fontWeight:700,fontSize:"0.95rem",color:"white",textShadow:"0 1px 3px rgba(0,0,0,0.8)",flexShrink:0,ml:1},children:[L.toFixed(0),"%"]}),B&&!s&&t.jsx(Ra,{sx:{position:"relative",zIndex:1,ml:1,color:"white",fontSize:"1.25rem",flexShrink:0,filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.5))"}})]})},O.id)})}),e.tags&&e.tags.length>0&&t.jsx(ge,{direction:"row",spacing:.5,sx:{mt:1.5,flexWrap:"wrap",gap:.5},children:e.tags.slice(0,3).map(O=>t.jsx(Ke,{label:`#${O.name}`,size:"small",sx:{height:22,fontSize:"0.7rem",fontWeight:600,bgcolor:fe("#fff",.15),backdropFilter:"blur(10px)",color:"white",border:"1px solid",borderColor:fe("#fff",.2),textShadow:"0 1px 2px rgba(0,0,0,0.5)","&:hover":{bgcolor:fe("#fff",.25)}}},O.id))})]})]})]})};var Mp={},T$=tt;Object.defineProperty(Mp,"__esModule",{value:!0});var Xv=Mp.default=void 0,A$=T$(nt()),R$=t;Xv=Mp.default=(0,A$.default)((0,R$.jsx)("path",{d:"M1 21h4V9H1zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73z"}),"ThumbUp");const _$=({count:e=2})=>t.jsx(ge,{spacing:2,sx:{mt:2},children:[...Array(e)].map((n,r)=>t.jsxs(C,{sx:{p:2,borderRadius:2,bgcolor:s=>s.palette.mode==="dark"?fe(s.palette.common.white,.05):fe(s.palette.common.black,.03)},children:[t.jsx(C,{sx:{height:24,width:"40%",mb:2,borderRadius:.5,bgcolor:"grey.300"}}),t.jsx(ge,{spacing:2,children:[...Array(4)].map((s,o)=>t.jsx(C,{sx:{height:40,borderRadius:1,bgcolor:i=>i.palette.mode==="dark"?fe(i.palette.common.white,.1):fe(i.palette.common.black,.1)}},o))})]},r))}),Jv=({filters:e={},emptyTitle:n="No polls found",emptyDescription:r="No polls available at the moment",itemsPerPage:s=10,mode:o="scroll"})=>{const[i,c]=m.useState([]),[d,u]=m.useState(!0),[h,x]=m.useState(1),[p,y]=m.useState(!0),{api:b}=Qe(),{execute:g}=st(),S=mn(),v=async(w=h)=>{try{u(!0);const D=await g(()=>b==null?void 0:b.app.poll.getPolls(e,{page:w,limit:s}),{showErrorToast:!0});D&&(c(w===1?D.items:E=>[...E,...D.items]),x(D.metadata.currentPage),y(D.metadata.hasNext===!0))}finally{u(!1)}};m.useEffect(()=>{c([]),x(1),v(1)},[JSON.stringify(e)]);const I=()=>{!d&&p&&v(h+1)};return i.length===0&&!d?t.jsx(Ys,{title:n,description:r}):o==="grid"?t.jsx(C,{sx:{width:"100%"},children:t.jsx(Us,{dataLength:i.length,next:I,hasMore:p,loader:t.jsx(C,{}),children:t.jsx(F,{container:!0,spacing:3,children:i.map(w=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Zb,{poll:w,showAsPreview:!0,mode:"grid"})},w.id))})})}):t.jsx(C,{id:"polls-scroll-container",sx:{width:"100%",height:"100%",display:"flex",justifyContent:"center",overflowY:"scroll",scrollSnapType:"y mandatory",scrollBehavior:"smooth","&::-webkit-scrollbar":{display:"none"},msOverflowStyle:"none",scrollbarWidth:"none",px:{xs:2,sm:0}},children:t.jsx(C,{sx:{width:"100%",maxWidth:480},children:d&&i.length===0?t.jsx(_$,{}):t.jsx(Us,{dataLength:i.length,next:I,hasMore:p,loader:t.jsx(C,{}),scrollableTarget:"polls-scroll-container",endMessage:t.jsx(C,{sx:{textAlign:"center",py:4,color:"text.secondary",fontSize:"0.875rem",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:"No more polls to display"}),style:{overflow:"visible",paddingBottom:"64px"},children:i.map(w=>{var E,A,_;const D=((E=w.stats)==null?void 0:E.totalVotes)||0;return t.jsxs(C,{sx:{position:"relative",scrollSnapAlign:"start",scrollSnapStop:"always",height:"calc(100vh - 64px)",display:"flex",alignItems:"center",justifyContent:"center"},children:[t.jsx(Zb,{poll:w,showAsPreview:!0,mode:"scroll"}),t.jsxs(C,{sx:{position:"absolute",right:{xs:8,sm:-60},bottom:"5vh",display:"flex",flexDirection:"column",alignItems:"center",gap:2.5,zIndex:10},children:[w.isTrending&&t.jsx(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:t.jsx(Ke,{icon:t.jsx(Ki,{sx:{fontSize:"0.875rem"}}),label:"Trending",size:"small",sx:{height:28,bgcolor:fe(S.palette.error.main,.9),color:"white",fontWeight:700,fontSize:"0.75rem",backdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}})}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[t.jsx(Fe,{className:"action-button",size:"medium",onClick:O=>{O.stopPropagation()},sx:{bgcolor:S.palette.mode==="dark"?fe("#fff",.2):fe("#000",.6),backdropFilter:"blur(10px)",color:"white",boxShadow:S.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)","&:hover":{bgcolor:fe(S.palette.primary.main,.8),transform:"scale(1.1)"},transition:"all 0.2s ease",width:48,height:48},children:t.jsx(Xv,{sx:{fontSize:"1.5rem"}})}),t.jsx(j,{variant:"caption",sx:{color:"white",fontWeight:700,fontSize:"0.75rem",mt:.5,textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:D>999?`${(D/1e3).toFixed(1)}K`:D})]}),t.jsx(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:t.jsx(Fe,{className:"action-button",size:"medium",onClick:O=>{O.stopPropagation()},sx:{bgcolor:S.palette.mode==="dark"?fe("#fff",.2):fe("#000",.6),backdropFilter:"blur(10px)",color:"white",boxShadow:S.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)","&:hover":{bgcolor:S.palette.mode==="dark"?fe("#fff",.3):fe("#000",.7),transform:"scale(1.1)"},transition:"all 0.2s ease",width:48,height:48},children:t.jsx(ud,{sx:{fontSize:"1.5rem"}})})}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[t.jsx(C,{sx:{bgcolor:S.palette.mode==="dark"?fe("#fff",.2):fe("#000",.6),backdropFilter:"blur(10px)",borderRadius:"50%",width:48,height:48,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:S.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)"},children:t.jsx(Ho,{sx:{fontSize:"1.5rem",color:"white",filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.5))"}})}),t.jsx(j,{variant:"caption",sx:{color:"white",fontWeight:700,fontSize:"0.75rem",mt:.5,textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:((A=w.stats)==null?void 0:A.viewCount)>999?`${(w.stats.viewCount/1e3).toFixed(1)}K`:((_=w.stats)==null?void 0:_.viewCount)||0})]})]})]},w.id)})})})})},O$=({planId:e,channelId:n,tierName:r,tierId:s,onSuccess:o,onError:i,onCancel:c,disabled:d=!1})=>{const[u,h]=Dt.useState(!0),{api:x}=Qe(),p="AUvVGkHGJD8OKekE_4XxFzzKL8a8yLtJ3ZG1woE3OobNy57zyofuPIiUo-zZag0O_L1KPB_u4TB0tuJp";return e?t.jsx(C,{sx:{minHeight:50},children:t.jsxs(Uv,{options:{clientId:p,vault:!0,intent:"subscription",currency:"USD"},children:[u&&t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:2},children:t.jsx(_n,{size:24})}),t.jsx(pd,{style:{layout:"vertical",color:"gold",shape:"rect",label:"subscribe"},disabled:d,onInit:()=>{h(!1)},createSubscription:(y,b)=>(console.log("Creating PayPal subscription for plan:",e),b.subscription.create({plan_id:e,custom_id:`${n}_${s}`,application_context:{shipping_preference:"NO_SHIPPING",user_action:"SUBSCRIBE_NOW"}})),onApprove:async y=>{console.log("PayPal subscription approved:",{subscriptionID:y.subscriptionID,orderID:y.orderID,tierName:r});try{await(x==null?void 0:x.app.subscription.activatePayPalSubscription(n,{tierId:s,paypalSubscriptionId:y.subscriptionID})),o(r,s)}catch(b){console.error("Failed to activate subscription:",b),i(new Error("Failed to activate subscription. Please contact support."))}},onCancel:()=>{console.log("PayPal subscription cancelled by user"),c==null||c()},onError:y=>{console.error("PayPal subscription error:",y),i(new Error(typeof y=="string"?y:"PayPal subscription failed"))}})]})}):t.jsx(dt,{severity:"warning",sx:{borderRadius:2},children:"PayPal plan not configured for this tier. Please contact the channel owner."})},k$=()=>{var le,re,je,ke,be,ae,oe;const[e,n]=m.useState(null),[r,s]=m.useState(!0),[o,i]=m.useState(!1),[c,d]=m.useState([]),[u,h]=m.useState([]),[x,p]=m.useState(""),[y,b]=m.useState(""),[g,S]=m.useState(0),[v,I]=m.useState(!1),[w,D]=m.useState(null),{id:E}=es(),A=Pt(),{api:_}=Qe(),{profile:O,channelRelations:{hasSubscription:R,getSubscriptionTier:L},actions:{refreshProfile:B}}=ps(),{execute:Y}=st(),$=R(E??""),H=(le=L(E??""))==null?void 0:le.id;console.log("ViewChannel Debug:",{channelId:E,isMember:$,currentTierId:H,subscriptions:O==null?void 0:O.subscriptions,profileLoaded:!!O}),m.useEffect(()=>{(async()=>{if(!E)return;const xe=await Y(()=>_==null?void 0:_.app.channel.getChannel(E),{showErrorToast:!0});xe&&n(xe),s(!1)})()},[E,Y,_==null?void 0:_.app.channel]);const X=se=>{d(se)},K=se=>{h(se)},q=se=>{se.preventDefault(),p(y.trim())},Z=()=>{b(""),p("")},Q=async se=>{var de,_e;if(!e||!se)return;const xe=(de=e.tiers)==null?void 0:de.find(Te=>Te.id===se);if(xe&&xe.price===0){i(!0);try{await((_e=_==null?void 0:_.app.subscription)==null?void 0:_e.createDirectSubscription(e.id,{tierId:se}))&&await B(),i(!1)}catch(Te){console.error("Subscription failed:",Te),i(!1)}}},ie=se=>{se.price===0?Q(se.id):(D(se),I(!0))},V=async(se,xe)=>{console.log("PayPal subscription approved:",{tierName:se,tierId:xe}),await B(),I(!1),D(null)},ee=se=>{console.error("PayPal subscription error:",se),alert(`Subscription failed: ${se.message}`)},Pe=()=>{console.log("PayPal subscription cancelled")},pe=async se=>{var _e,Te,He;if(!e||!((_e=e.tiers)==null?void 0:_e.find(ue=>ue.id===se)))return;const de=(Te=O==null?void 0:O.subscriptions)==null?void 0:Te.find(ue=>ue.channelId===e.id);if(de)try{await((He=_==null?void 0:_.app.subscription)==null?void 0:He.cancelUserSubscription(de.id))}catch(ue){console.error("Failed to cancel existing subscription:",ue)}await Q(se)},Re=async()=>{var de;if(!e)return;const se=(de=O==null?void 0:O.subscriptions)==null?void 0:de.find(_e=>_e.channelId===e.id);if(!se){console.error("No active subscription found for this channel");return}await Y(()=>_==null?void 0:_.app.subscription.cancelUserSubscription(se.id),{showSuccessMessage:!0,successMessage:"Membership cancelled successfully!"})&&(console.log("Cancellation successful, refreshing profile..."),await B())};return r?t.jsx(C,{sx:{bgcolor:"background.default",minHeight:"100vh"},children:t.jsxs(Et,{maxWidth:"lg",children:[t.jsxs(C,{sx:{position:"relative",mb:8},children:[t.jsx(ce,{variant:"rectangular",sx:{height:{xs:150,md:200},borderRadius:3}}),t.jsx(C,{sx:{position:"absolute",bottom:-50,left:"50%",transform:"translateX(-50%)"},children:t.jsx(ce,{variant:"circular",sx:{width:{xs:100,md:128},height:{xs:100,md:128},border:"4px solid",borderColor:"background.paper"}})})]}),t.jsx(ot,{elevation:0,sx:{mb:4,p:4,borderRadius:3,border:"1px solid",borderColor:"divider"},children:t.jsxs(C,{sx:{textAlign:"center",pt:3},children:[t.jsx(ce,{variant:"text",width:"40%",sx:{mb:2,fontSize:"2.5rem"}}),t.jsxs(ge,{direction:"row",spacing:2,justifyContent:"center",sx:{mb:3},children:[t.jsx(ce,{variant:"rounded",width:150,height:32}),t.jsx(ce,{variant:"rounded",width:100,height:32})]}),t.jsx(ce,{variant:"text",width:"70%",sx:{mb:1}}),t.jsx(ce,{variant:"text",width:"60%",sx:{mb:4}}),t.jsx(ce,{variant:"rounded",width:180,height:48,sx:{borderRadius:50}})]})}),t.jsxs(C,{sx:{mb:6},children:[t.jsx(ce,{variant:"text",width:"40%",sx:{mb:4,fontSize:"2rem"}}),t.jsx(F,{container:!0,spacing:3,children:[...Array(3)].map((se,xe)=>t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs($e,{elevation:2,sx:{borderRadius:3,overflow:"hidden"},children:[t.jsx(ce,{variant:"rectangular",height:120}),t.jsxs(Be,{sx:{p:3},children:[t.jsx(ce,{variant:"text",width:"60%",sx:{mx:"auto",mb:2,fontSize:"2rem"}}),t.jsx(ce,{variant:"text",width:"80%",sx:{mb:1}}),t.jsx(ce,{variant:"text",width:"70%",sx:{mb:1}}),t.jsx(ce,{variant:"text",width:"75%",sx:{mb:3}}),t.jsx(ce,{variant:"rounded",height:48,sx:{borderRadius:50}})]})]})},xe))})]})]})}):e?t.jsxs(C,{sx:{bgcolor:"background.default",minHeight:"100vh"},children:[t.jsxs(Et,{maxWidth:"lg",children:[t.jsxs(C,{sx:{position:"relative",mb:8},children:[t.jsx(C,{sx:{height:{xs:150,md:200},backgroundImage:e!=null&&e.bannerUrl?`url(${e.bannerUrl})`:void 0,background:e!=null&&e.bannerUrl?void 0:se=>`linear-gradient(135deg, ${se.palette.primary.main} 0%, ${se.palette.primary.light} 100%)`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:3,position:"relative"}}),t.jsx(C,{sx:{position:"absolute",bottom:-50,left:"50%",transform:"translateX(-50%)"},children:t.jsx(Cn,{src:e.logoUrl,sx:{width:{xs:100,md:128},height:{xs:100,md:128},border:"4px solid",borderColor:"background.paper",boxShadow:3}})})]}),t.jsx(ot,{elevation:0,sx:{mb:4,p:{xs:3,md:4},borderRadius:3,border:"1px solid",borderColor:"divider"},children:t.jsxs(C,{sx:{textAlign:"center",pt:3},children:[t.jsx(j,{variant:"h3",gutterBottom:!0,sx:{fontWeight:700,fontSize:{xs:"2rem",md:"2.5rem"},color:"text.primary",mb:1},children:e.name}),t.jsxs(ge,{direction:"row",spacing:2,justifyContent:"center",sx:{mb:3},children:[t.jsx(Ke,{icon:t.jsx(Ip,{}),label:`${(je=(re=e.stats)==null?void 0:re.activeSubscriptionCount)==null?void 0:je.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1})} subscribers`,sx:{fontWeight:600,bgcolor:fe("#0b6cff",.1),color:"#0b6cff","& .MuiChip-icon":{color:"#0b6cff"}}}),t.jsx(Ke,{icon:t.jsx(Gv,{}),label:`${((ke=e.tiers)==null?void 0:ke.length)||0} tiers`,sx:{fontWeight:600,bgcolor:fe("#589aff",.1),color:"#589aff","& .MuiChip-icon":{color:"#589aff"}}})]}),t.jsx(j,{variant:"body1",sx:{mb:4,maxWidth:800,color:"text.secondary",lineHeight:1.8,fontSize:"1.1rem"},children:e.description}),t.jsx(he,{variant:$?"outlined":"contained",size:"large",onClick:()=>{var se,xe;return $?Re():Q((xe=(se=e==null?void 0:e.tiers)==null?void 0:se.find(de=>de.isDefault))==null?void 0:xe.id)},disabled:o,startIcon:o&&t.jsx(_n,{size:20,color:"inherit"}),sx:{px:4,py:1.5,borderRadius:50,fontSize:"1rem",fontWeight:600,textTransform:"none",boxShadow:$?"none":"0 4px 14px 0 rgba(11, 108, 255, 0.39)","&:hover":{boxShadow:$?"none":"0 6px 20px rgba(11, 108, 255, 0.5)"}},children:o?"Processing...":$?"Cancel Membership":"Join Channel"})]})}),t.jsxs(ot,{elevation:0,sx:{mb:4,borderRadius:3,border:"1px solid",borderColor:"divider",overflow:"hidden"},children:[t.jsxs(mo,{value:g,onChange:(se,xe)=>S(xe),variant:"scrollable",scrollButtons:"auto",sx:{borderBottom:1,borderColor:"divider","& .MuiTab-root":{textTransform:"none",fontWeight:600,fontSize:"1rem",minHeight:64}},children:[t.jsx(tr,{icon:t.jsx(ki,{}),iconPosition:"start",label:"News"}),t.jsx(tr,{icon:t.jsx(od,{}),iconPosition:"start",label:"Polls"}),t.jsx(tr,{icon:t.jsx(_a,{}),iconPosition:"start",label:"Contribute"}),t.jsx(tr,{icon:t.jsx(Yv,{}),iconPosition:"start",label:"Connect"}),t.jsx(tr,{icon:t.jsx(qv,{}),iconPosition:"start",label:"Budget"}),t.jsx(tr,{icon:t.jsx(_p,{}),iconPosition:"start",label:"About"})]}),t.jsxs(C,{sx:{p:4},children:[g===0&&t.jsxs(C,{children:[t.jsxs(C,{sx:{mb:3},children:[t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:1},children:"Channel News"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Latest news from this channel"}),t.jsx(Rc,{selectedTags:c,onTagsChange:X,contentType:"news",maxTags:5,showCounts:!1,horizontal:!0})]}),t.jsx($h,{filters:{channel:e==null?void 0:e.id,...c.length>0&&{tags:c}},emptyTitle:"No news published yet",emptyDescription:"This channel hasn't published any news articles yet",showSearch:!0,mode:"grid"})]}),g===1&&t.jsxs(C,{children:[t.jsxs(C,{sx:{mb:3},children:[t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:1},children:"Channel Polls"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Vote on polls from this channel"}),t.jsx(C,{sx:{mb:3},children:t.jsx("form",{onSubmit:q,children:t.jsx(Ze,{fullWidth:!0,placeholder:"Search polls by question or content...",value:y,onChange:se=>b(se.target.value),InputProps:{startAdornment:t.jsx(Qr,{position:"start",children:t.jsx(sd,{color:"action"})}),endAdornment:y&&t.jsx(Qr,{position:"end",children:t.jsx(Fe,{size:"small",onClick:Z,edge:"end",children:t.jsx(tp,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"background.paper"}}})})}),t.jsx(Rc,{selectedTags:u,onTagsChange:K,contentType:"polls",maxTags:5,showCounts:!1,horizontal:!0})]}),t.jsx(C,{children:t.jsx(Jv,{filters:{channel:e==null?void 0:e.id,...u.length>0&&{tags:u},...x&&{query:x}},emptyTitle:"No polls found",emptyDescription:"This channel hasn't created any polls yet",mode:"grid"})})]}),g===2&&t.jsx(C,{children:t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"Become a financial contributor"})}),g===3&&t.jsxs(C,{children:[t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"Connect with us"}),t.jsx(ge,{spacing:2,children:t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(Fe,{color:"primary",size:"small",children:t.jsx(Kv,{})}),t.jsx(j,{children:"Contact via membership"})]})})]}),g===4&&t.jsxs(C,{children:[t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"Budget"}),t.jsx(j,{color:"text.secondary",children:"Financial information will be displayed here"})]}),g===5&&t.jsxs(C,{children:[t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"About"}),t.jsxs(ge,{spacing:3,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"DESCRIPTION"}),t.jsx(j,{variant:"body1",sx:{lineHeight:1.8},children:e.description})]}),t.jsx(Bt,{}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"STATISTICS"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:6,md:3,children:t.jsxs(ot,{variant:"outlined",sx:{p:2,textAlign:"center"},children:[t.jsx(j,{variant:"h4",color:"primary",sx:{fontWeight:700},children:((be=e.stats)==null?void 0:be.activeSubscriptionCount)||0}),t.jsx(j,{variant:"caption",color:"text.secondary",children:"Subscribers"})]})}),t.jsx(F,{item:!0,xs:6,md:3,children:t.jsxs(ot,{variant:"outlined",sx:{p:2,textAlign:"center"},children:[t.jsx(j,{variant:"h4",color:"primary",sx:{fontWeight:700},children:((ae=e.tiers)==null?void 0:ae.length)||0}),t.jsx(j,{variant:"caption",color:"text.secondary",children:"Tiers"})]})})]})]})]})]})]})]}),g===2&&t.jsxs(C,{sx:{mb:6},children:[t.jsx(j,{variant:"h4",gutterBottom:!0,sx:{fontSize:{xs:"1.75rem",md:"2rem"},fontWeight:700,mb:4,textAlign:"center"},children:"Membership Tiers"}),t.jsx(F,{container:!0,spacing:3,children:(oe=e.tiers)==null?void 0:oe.map(se=>t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs($e,{elevation:H===se.id?8:2,sx:{height:"100%",display:"flex",flexDirection:"column",borderRadius:3,overflow:"hidden",transition:"all 0.3s ease",border:H===se.id?"2px solid #0b6cff":"1px solid #e0e0e0","&:hover":{transform:"translateY(-8px)",boxShadow:"0 12px 24px rgba(0,0,0,0.15)"}},children:[t.jsxs(C,{sx:{height:120,background:H===se.id?"linear-gradient(135deg, #0b6cff 0%, #589aff 100%)":"linear-gradient(135deg, #589aff 0%, #7bb0ff 100%)",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",p:3},children:[H===se.id&&t.jsx(Ke,{label:"CURRENT PLAN",size:"small",sx:{position:"absolute",top:12,right:12,bgcolor:"white",color:"#0b6cff",fontWeight:700,fontSize:"0.7rem"}}),!H&&se.isDefault&&t.jsx(Ke,{label:"POPULAR",size:"small",sx:{position:"absolute",top:12,right:12,bgcolor:"white",color:"#589aff",fontWeight:700,fontSize:"0.7rem"}}),t.jsx(j,{variant:"h5",sx:{color:"white",fontWeight:700,textAlign:"center"},children:se.name})]}),t.jsxs(Be,{sx:{flexGrow:1,p:3,display:"flex",flexDirection:"column"},children:[t.jsx(C,{sx:{mb:3,textAlign:"center"},children:t.jsxs(j,{variant:"h3",sx:{fontWeight:700,color:"text.primary",display:"flex",alignItems:"baseline",justifyContent:"center",gap:.5},children:[t.jsx(j,{component:"span",sx:{fontSize:"1.5rem",fontWeight:500},children:"$"}),se.price,t.jsx(j,{component:"span",sx:{fontSize:"1rem",fontWeight:400,color:"text.secondary"},children:"/month"})]})}),t.jsx(Bt,{sx:{mb:3}}),t.jsx(j,{variant:"body2",sx:{mb:3,color:"text.secondary",minHeight:60,lineHeight:1.7,flexGrow:1},children:se.description}),H===se.id?t.jsx(he,{variant:"outlined",fullWidth:!0,size:"large",disabled:!0,sx:{py:1.5,borderRadius:50,textTransform:"none",fontWeight:600,fontSize:"1rem"},children:"Current Plan"}):t.jsx(he,{variant:"contained",fullWidth:!0,size:"large",onClick:()=>$?pe(se.id):ie(se),disabled:o,sx:{py:1.5,borderRadius:50,textTransform:"none",fontWeight:600,fontSize:"1rem",boxShadow:"0 4px 12px rgba(11, 108, 255, 0.3)","&:hover":{boxShadow:"0 6px 16px rgba(11, 108, 255, 0.4)"}},startIcon:o&&t.jsx(_n,{size:20,color:"inherit"}),children:o?"Processing...":$?"Switch to This Plan":se.price===0?"Join Free":"Subscribe"})]})]})},se.id))})]})]}),t.jsxs(qt,{open:v,onClose:()=>I(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsxs(tn,{children:["Subscribe to ",w==null?void 0:w.name]}),t.jsx(Kt,{children:w&&t.jsxs(C,{children:[t.jsxs(C,{sx:{mb:3},children:[t.jsxs(j,{variant:"h5",sx:{fontWeight:600,mb:1},children:[new Intl.NumberFormat("en-US",{style:"currency",currency:w.currency.toUpperCase()}).format(w.price/100),t.jsx(j,{component:"span",variant:"body2",color:"text.secondary",children:"/month"})]}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:w.description})]}),t.jsx(Bt,{sx:{my:2}}),t.jsx(j,{variant:"subtitle2",sx:{mb:2,fontWeight:600},children:"Select Payment Method:"}),w.paymentConfigs&&w.paymentConfigs.length>0?t.jsx(C,{sx:{display:"flex",flexDirection:"column",gap:2},children:w.paymentConfigs.map(se=>{var xe;return((xe=se.provider)==null?void 0:xe.code)==="paypal"&&se.isActive?t.jsx(C,{children:t.jsx(O$,{planId:se.providerPlanId,channelId:e.id,tierName:w.name,tierId:w.id,onSuccess:V,onError:ee,onCancel:Pe,disabled:o})},se.id):null})}):t.jsx(j,{variant:"body2",color:"error",children:"No payment methods configured for this tier. Please contact the channel owner."})]})}),t.jsx(Xt,{children:t.jsx(he,{onClick:()=>I(!1),children:"Cancel"})})]})]}):t.jsx(C,{sx:{bgcolor:"background.default",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(Et,{maxWidth:"sm",children:t.jsxs(ot,{elevation:3,sx:{p:6,borderRadius:3,textAlign:"center"},children:[t.jsx(j,{variant:"h4",gutterBottom:!0,sx:{fontWeight:700,color:"text.primary"},children:"Channel not found"}),t.jsx(j,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"The channel you're looking for doesn't exist or has been removed."}),t.jsx(he,{variant:"contained",onClick:()=>A("/app"),sx:{borderRadius:50,px:4,py:1.5,textTransform:"none",fontWeight:600},children:"Go Home"})]})})})},M$=()=>t.jsx(C,{sx:{width:"100%",height:"100vh",overflow:"hidden",display:"flex",flexDirection:"column",position:"fixed",top:64,left:0,right:0,bottom:0,margin:0,padding:0,zIndex:1},children:t.jsx(C,{sx:{flex:1,overflow:"hidden"},children:t.jsx(Jv,{filters:{},emptyTitle:"No polls found",emptyDescription:"There are no polls available at the moment.",mode:"scroll"})})}),N$=({poll:e,onVote:n,userVote:r,showResults:s=!1,disabled:o=!1})=>{var x;const i=mn(),[c,d]=m.useState(null),u=((x=e.stats)==null?void 0:x.totalVotes)||0,h=p=>{o||d(p)};return t.jsx(C,{children:t.jsx(ge,{spacing:2,sx:{mb:2},children:e.options.map(p=>{const y=p.voteCount||0,b=u>0?y/u*100:0,g=r===p.id,S=c===p.id;return t.jsxs(C,{onClick:v=>{v.preventDefault(),v.stopPropagation(),!s&&!o&&n&&n(String(e.id),p.id)},onMouseEnter:()=>h(p.id),onMouseLeave:()=>h(null),sx:{position:"relative",cursor:s||o?"default":"pointer",transition:"all 0.2s ease",transform:S?"translateX(4px)":"none",opacity:o?.6:1},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:.5,px:2,py:1.5,border:"1px solid",borderColor:g?"primary.main":S?fe(i.palette.primary.main,.5):"divider",borderRadius:1,bgcolor:g?fe(i.palette.primary.main,.05):"transparent",transition:"all 0.2s ease","&:hover":!s&&!o&&{borderColor:"primary.main",boxShadow:`0 2px 8px ${fe(i.palette.primary.main,.15)}`}},children:[t.jsx(C,{sx:{width:24,height:24,minWidth:24,minHeight:24,flexShrink:0,borderRadius:"50%",border:"2px solid",borderColor:g?"primary.main":S?fe(i.palette.primary.main,.5):"divider",mr:2,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:g&&t.jsx(C,{sx:{width:12,height:12,borderRadius:"50%",bgcolor:"primary.main"}})}),t.jsx(j,{variant:"body1",sx:{flex:1,fontWeight:g?600:400,color:g?"primary.main":"text.primary",wordBreak:"break-word"},children:p.text}),s&&t.jsxs(C,{sx:{display:"flex",alignItems:"center",ml:2,minWidth:80,justifyContent:"flex-end",flexShrink:0},children:[t.jsxs(j,{variant:"body2",sx:{fontWeight:600,color:g?"primary.main":"text.secondary",mr:1},children:[b.toFixed(1),"%"]}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["(",y,")"]})]}),g&&!s&&t.jsx(Ra,{sx:{ml:1,color:"primary.main",fontSize:"1.2rem",flexShrink:0}})]}),s&&t.jsx(Ia,{variant:"determinate",value:b,sx:{height:8,borderRadius:4,bgcolor:fe(i.palette.primary.main,.1),"& .MuiLinearProgress-bar":{borderRadius:4,bgcolor:g?"primary.main":fe(i.palette.primary.main,.6)}}})]},p.id)})})})};var Np={},L$=tt;Object.defineProperty(Np,"__esModule",{value:!0});var Qv=Np.default=void 0,$$=L$(nt()),F$=t;Qv=Np.default=(0,$$.default)((0,F$.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2"}),"Bookmark");var Lp={},W$=tt;Object.defineProperty(Lp,"__esModule",{value:!0});var Zv=Lp.default=void 0,B$=W$(nt()),V$=t;Zv=Lp.default=(0,B$.default)((0,V$.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2m0 15-5-2.18L7 18V5h10z"}),"BookmarkBorder");var $p={},U$=tt;Object.defineProperty($p,"__esModule",{value:!0});var ej=$p.default=void 0,z$=U$(nt()),H$=t;ej=$p.default=(0,z$.default)((0,H$.jsx)("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4zM18 14H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"}),"Comment");const G$=()=>t.jsx(Et,{maxWidth:"lg",sx:{mt:4},children:t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx($e,{children:t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[t.jsx(ce,{variant:"text",width:"60%",height:40}),t.jsx(ge,{direction:"row",spacing:1,children:[1,2].map(e=>t.jsx(ce,{variant:"circular",width:40,height:40},e))})]}),t.jsxs(ge,{spacing:2,sx:{mb:3},children:[t.jsx(ce,{variant:"text",width:"100%"}),t.jsx(ce,{variant:"text",width:"95%"}),t.jsx(ce,{variant:"text",width:"90%"})]}),t.jsx(ge,{spacing:2,children:[1,2,3,4].map(e=>t.jsx(ce,{variant:"rectangular",height:60,sx:{borderRadius:1}},e))})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx($e,{children:t.jsxs(Be,{children:[t.jsx(ce,{variant:"text",width:"50%",height:32,sx:{mb:2}}),t.jsx(ge,{spacing:2,children:[1,2,3].map(e=>t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[t.jsx(ce,{variant:"text",width:"40%"}),t.jsx(ce,{variant:"text",width:"20%"})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:8,sx:{borderRadius:1}})]},e))})]})})})]})}),Y$=()=>{var X,K,q;const{id:e}=es(),{api:n}=Qe(),r=mn(),[s,o]=m.useState(null),[i,c]=m.useState(!0),[d,u]=m.useState(null),[h,x]=m.useState(!1),[p,y]=m.useState(null),[b,g]=m.useState(null),{execute:S}=st(),[v,I]=m.useState(!1),[w,D]=m.useState(null),[E,A]=m.useState(!1),_=(s==null?void 0:s.isPremium)&&(s==null?void 0:s.accessInfo)&&!s.accessInfo.canAccess,O=async Z=>{try{A(!0);const Q=await(n==null?void 0:n.app.funding.getFund("poll",Z));D(Q)}catch(Q){console.error("Failed to load fund data:",Q)}finally{A(!1)}};m.useEffect(()=>{(async()=>{if(!e)return;c(!0);const Q=await S(()=>n==null?void 0:n.app.poll.get(e),{showErrorToast:!0});if(Q){o(Q);const ie=await S(()=>n==null?void 0:n.app.poll.getUserVote(e),{showErrorToast:!1});ie!=null&&ie.optionId&&u(ie.optionId);const V=await S(()=>n==null?void 0:n.app.poll.checkVotingEligibility(e),{showErrorToast:!1});V&&g(V),O(e)}c(!1)})()},[e,S]);const R=async(Z,Q)=>{if(!(b!=null&&b.canVote)){y((b==null?void 0:b.reason)||"You cannot vote on this poll");return}if(await S(()=>n==null?void 0:n.app.poll.vote(Z,{optionId:Q}),{showSuccessMessage:!0,successMessage:"Vote recorded successfully!"})){u(Q);const V=await S(()=>n==null?void 0:n.app.poll.get(Z),{showErrorToast:!0});V&&o(V)}},L=()=>{navigator.share?navigator.share({title:s==null?void 0:s.title,text:s==null?void 0:s.description,url:window.location.href}).catch(console.error):navigator.clipboard.writeText(window.location.href)},B=()=>{x(!h)},Y=async()=>{I(!0)},$=async Z=>{e&&await O(e),console.log("Contribution successful:",Z)},H=()=>!s||!w?null:{id:w.id,title:s.title,currentAmount:w.currentAmount/100,goalAmount:w.goalAmount?w.goalAmount/100:void 0,currency:w.currency,contributorCount:0,description:"Support quality journalism by funding this poll"};return i?t.jsx(G$,{}):s?t.jsxs(Et,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsx(C,{sx:{mb:3},children:t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap"},children:[t.jsxs(C,{component:qn,to:ye.APP_CHANNEL_VIEW.replace(":channelId",s.channel.id),sx:{display:"inline-flex",alignItems:"center",bgcolor:"primary.main",color:"primary.contrastText",px:2,py:1,borderRadius:2,textDecoration:"none",transition:"all 0.2s ease-in-out","&:hover":{bgcolor:"primary.dark",transform:"translateY(-2px)"}},children:[t.jsx(Zi,{sx:{mr:1}}),t.jsx(j,{variant:"subtitle2",children:s.channel.name})]}),t.jsxs(C,{sx:{display:"inline-flex",alignItems:"center",bgcolor:"background.paper",px:2,py:1,borderRadius:2,border:"1px solid",borderColor:"divider"},children:[t.jsx(Xi,{sx:{mr:1,fontSize:"0.9rem"}}),t.jsx(j,{variant:"caption",children:s.creator.displayName})]})]}),t.jsxs(ge,{direction:"row",spacing:1,children:[t.jsx(Fe,{onClick:L,sx:{color:"text.secondary","&:hover":{bgcolor:fe(r.palette.primary.main,.05)}},children:t.jsx(ud,{})}),t.jsx(Fe,{onClick:B,sx:{color:h?"primary.main":"text.secondary","&:hover":{bgcolor:fe(r.palette.primary.main,.05)}},children:h?t.jsx(Qv,{}):t.jsx(Zv,{})})]})]})})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsxs($e,{children:[s.media&&s.media.length>0&&t.jsxs(C,{sx:{position:"relative",width:"100%",paddingTop:"56.25%",overflow:"hidden",borderRadius:"4px 4px 0 0"},children:[t.jsx(C,{component:s.media[0].format===2?"video":"img",src:s.media[0].url,alt:s.media[0].caption||s.title,controls:s.media[0].format===2,autoPlay:s.media[0].format===2,loop:s.media[0].format===2,muted:s.media[0].format===2,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}}),s.media[0].caption&&t.jsx(C,{sx:{position:"absolute",bottom:0,left:0,right:0,bgcolor:fe(r.palette.common.black,.7),color:"white",p:1,backdropFilter:"blur(4px)"},children:t.jsx(j,{variant:"caption",children:s.media[0].caption})})]}),t.jsxs(Be,{children:[t.jsx(j,{variant:"h4",gutterBottom:!0,sx:{fontWeight:700,mb:3},children:s.title}),b&&!b.canVote&&t.jsx(dt,{severity:d?"info":"warning",sx:{mb:3},icon:d?t.jsx(Ra,{}):void 0,children:b.reason||(d?"You have already voted on this poll":"You are not eligible to vote on this poll")}),t.jsx(N$,{poll:s,onVote:R,userVote:d,showResults:!!d,disabled:!(b!=null&&b.canVote)})]})]})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(ge,{spacing:3,children:[s.description&&t.jsxs(ot,{sx:{p:2},children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"About this Poll"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:s.description})]}),_?t.jsxs(ot,{elevation:3,sx:{p:3,textAlign:"center",bgcolor:Z=>fe(Z.palette.warning.main,.05),border:Z=>`2px solid ${fe(Z.palette.warning.main,.3)}`,borderRadius:3},children:[t.jsx(C,{sx:{width:60,height:60,borderRadius:"50%",bgcolor:Z=>fe(Z.palette.warning.main,.1),display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",mb:2},children:t.jsx(_i,{sx:{fontSize:30,color:"warning.main"}})}),t.jsx(j,{variant:"h6",gutterBottom:!0,fontWeight:"bold",color:"warning.dark",children:"Premium Poll Statistics"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:((X=s.accessInfo)==null?void 0:X.reason)||"Subscribe to view detailed poll statistics and results."}),((K=s.accessInfo)==null?void 0:K.requiredTierName)&&t.jsxs(dt,{severity:"info",sx:{mb:2},children:["Required tier: ",t.jsx("strong",{children:s.accessInfo.requiredTierName})]}),t.jsxs(C,{sx:{mb:2},children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Subscribe to unlock:"}),t.jsx(ge,{spacing:.5,alignItems:"flex-start",sx:{mx:"auto",display:"inline-flex"},children:["View vote counts","See poll results","Participate in voting","Access detailed statistics"].map((Z,Q)=>t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Ra,{color:"success",fontSize:"small"}),t.jsx(j,{variant:"body2",children:Z})]},Q))})]}),t.jsx(he,{component:qn,to:ye.APP_CHANNEL_VIEW.replace(":channelId",s.channelId),variant:"contained",color:"warning",size:"medium",startIcon:t.jsx(fd,{}),sx:{px:3,py:1.5,borderRadius:2,fontWeight:"bold",textTransform:"none",fontSize:"0.95rem"},children:"View Subscription Options"})]}):t.jsxs(ot,{sx:{p:2},children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Poll Statistics"}),t.jsxs(ge,{spacing:2,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Total Votes"}),t.jsx(j,{variant:"h4",children:((q=s.stats)==null?void 0:q.totalVotes)??0})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Time Remaining"}),t.jsx(j,{variant:"body1",children:s.endDate?qr(new Date(s.endDate),{addSuffix:!0}):"No end date"})]})]})]}),t.jsx(ot,{elevation:2,sx:{p:3,borderRadius:2,border:"2px solid",borderColor:"primary.main",bgcolor:Z=>fe(Z.palette.primary.main,.05)},children:t.jsxs(ge,{spacing:2,children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(_a,{color:"primary",fontSize:"large"}),t.jsx(j,{variant:"h6",fontWeight:"bold",color:"primary",children:"Fund this Poll"})]}),w&&!E?t.jsxs(C,{children:[t.jsx(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Current Funding"}),t.jsxs(j,{variant:"h5",fontWeight:"bold",color:"primary.main",children:[w.currency," ",(w.currentAmount/100).toFixed(2)]}),w.goalAmount&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Goal: ",w.currency," ",(w.goalAmount/100).toFixed(2)]})]}):E?t.jsx(ce,{variant:"rectangular",height:60}):t.jsx(j,{variant:"body2",color:"text.secondary",children:"Be the first to fund this poll"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Support quality journalism by contributing to this poll"}),t.jsx(he,{variant:"contained",color:"primary",fullWidth:!0,size:"large",startIcon:t.jsx(_a,{}),onClick:Y,disabled:!s,sx:{py:1.5,fontWeight:"bold",textTransform:"none",fontSize:"1rem"},children:"Fund Now"})]})}),t.jsxs(ot,{sx:{p:2},children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Comments"}),t.jsx(he,{startIcon:t.jsx(ej,{}),variant:"outlined",fullWidth:!0,sx:{mt:1,textTransform:"none",borderRadius:2},children:"Add a Comment"})]})]})})]}),s&&w&&t.jsx(zv,{open:v,onClose:()=>I(!1),onSuccess:$,contentType:"poll",contentId:s.id,fundingData:H()}),t.jsx(p0,{open:!!p,autoHideDuration:6e3,onClose:()=>y(null),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:t.jsx(dt,{onClose:()=>y(null),severity:"error",sx:{width:"100%"},children:p})})]}):t.jsx(Et,{maxWidth:"lg",sx:{mt:4},children:t.jsx(j,{variant:"h4",children:"Poll not found"})})},q$=()=>{const[e,n]=m.useState(null),[r,s]=m.useState(!0),[o,i]=m.useState(!1),[c,d]=m.useState(!1),[u,h]=m.useState(null),[x,p]=m.useState(null),[y,b]=m.useState({}),{api:g}=Qe(),{execute:S}=st();m.useEffect(()=>{v()},[]);const v=async()=>{s(!0),h(null);const A=await S(()=>g.app.account.getProfile(),{showErrorToast:!0});A&&(n(A),b({displayName:A.displayName,photoUrl:A.photoUrl})),s(!1)},I=()=>{d(!0),h(null),p(null)},w=()=>{d(!1),e&&b({displayName:e.displayName,photoUrl:e.photoUrl}),h(null),p(null)},D=async()=>{i(!0),h(null),p(null);const A=await S(()=>g.app.account.updateProfile(y),{showSuccessMessage:!0,successMessage:"Profile updated successfully"});A&&(n(A),d(!1)),i(!1)},E=A=>_=>{b(O=>({...O,[A]:_.target.value}))};return r?t.jsx(C,{sx:{p:3},children:t.jsxs(ge,{spacing:3,alignItems:"center",children:[t.jsx(ce,{variant:"circular",width:120,height:120}),t.jsx(ce,{variant:"text",width:"50%",height:40}),t.jsx(ce,{variant:"rectangular",width:"100%",height:56}),t.jsx(ce,{variant:"rectangular",width:"100%",height:56})]})}):e?t.jsx(C,{sx:{p:3},children:t.jsxs(ge,{spacing:3,children:[u&&t.jsx(dt,{severity:"error",children:u}),x&&t.jsx(dt,{severity:"success",children:x}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:2},children:[t.jsx(Cn,{src:y.photoUrl||e.photoUrl,sx:{width:120,height:120,mb:2}}),t.jsx(j,{variant:"h6",children:e.email}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Joined ",new Date(e.createdAt||"").toLocaleDateString()]})]}),t.jsx(Ze,{label:"Display Name",value:y.displayName||"",onChange:E("displayName"),disabled:!c,fullWidth:!0,variant:"outlined"}),t.jsx(Ze,{label:"Photo URL",value:y.photoUrl||"",onChange:E("photoUrl"),disabled:!c,fullWidth:!0,variant:"outlined",placeholder:"https://example.com/photo.jpg"}),t.jsx(C,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:c?t.jsxs(t.Fragment,{children:[t.jsx(he,{variant:"outlined",startIcon:t.jsx(Cs,{}),onClick:w,disabled:o,children:"Cancel"}),t.jsx(he,{variant:"contained",startIcon:o?t.jsx(_n,{size:20}):t.jsx(b0,{}),onClick:D,disabled:o,children:"Save Changes"})]}):t.jsx(he,{variant:"contained",startIcon:t.jsx(hs,{}),onClick:I,children:"Edit Profile"})})]})}):t.jsx(C,{sx:{p:3},children:t.jsx(dt,{severity:"error",children:"Failed to load profile"})})},_r={PAYPAL:"paypal",STRIPE:"stripe",IYZICO:"iyzico",BANK_TRANSFER:"bank_transfer",CREDIT_CARD:"credit_card",OTHER:"other"};var K$={VITE_API_URL:"https://journalist-api--journalist-2bf9e.europe-west4.hosted.app/",VITE_PAYPAL_CLIENT_ID:"AUvVGkHGJD8OKekE_4XxFzzKL8a8yLtJ3ZG1woE3OobNy57zyofuPIiUo-zZag0O_L1KPB_u4TB0tuJp",VITE_PAYPAL_MODE:"sandbox",VITE_ENV:"staging",VITE_PAYPAL_MERCHANT_ID:"4VNUQ7KFJXJG8",BASE_URL:"/journalist-material-client/",MODE:"staging",DEV:!1,PROD:!0,SSR:!1};const X$=({onSuccess:e,onError:n,disabled:r=!1})=>{const[s,o]=m.useState(!1),[i,c]=m.useState(!1),[d,u]=m.useState(null),h=m.useRef(null),{api:x}=Qe(),p="AUvVGkHGJD8OKekE_4XxFzzKL8a8yLtJ3ZG1woE3OobNy57zyofuPIiUo-zZag0O_L1KPB_u4TB0tuJp",y="4VNUQ7KFJXJG8",b=K$.VITE_PAYPAL_ENV||"sandbox";return m.useEffect(()=>{var S;if((S=window.paypal)!=null&&S.PayoutsAAC){o(!0);return}const g=document.createElement("script");return g.src="https://www.paypalobjects.com/payouts/js/payouts_aac.js",g.async=!0,g.onload=()=>{o(!0)},g.onerror=()=>{const v="Failed to load PayPal Payouts SDK";u(v),n(v)},document.head.appendChild(g),()=>{document.head.contains(g)&&document.head.removeChild(g)}},[n]),m.useEffect(()=>{var g;if(!(!s||r||!h.current||!((g=window.paypal)!=null&&g.PayoutsAAC))){h.current&&(h.current.innerHTML="");try{window.paypal.PayoutsAAC.render({env:b,clientId:{sandbox:p},merchantId:y,pageType:"login",onLogin:async S=>{if(S.err){console.error("PayPal AAC error:",S.err);const v="Failed to connect PayPal account";u(v),n(v),c(!1);return}try{c(!0),u(null);const v=S.body.code,I=await x.app.account.exchangePayPalAuthCode(v);if(!I.payerId||!I.email)throw new Error("Failed to retrieve payer information from PayPal");await x.app.account.savePayPalPayoutMethod({payerId:I.payerId,email:I.email}),e(I)}catch(v){const I=v.message||"Failed to save PayPal payout method";u(I),n(I)}finally{c(!1)}}},`#${h.current.id}`)}catch(S){console.error("Error rendering PayPal AAC:",S);const v="Failed to initialize PayPal connection";u(v),n(v)}}},[s,r,p,y,b,x,e,n]),s?t.jsxs(C,{sx:{textAlign:"center",py:3},children:[d&&t.jsx(dt,{severity:"error",sx:{mb:2},children:d}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Connect your PayPal account to receive payouts securely"}),t.jsx("div",{id:"paypal-payout-connect-container",ref:h,style:{minHeight:"50px"}}),i&&t.jsxs(C,{sx:{mt:2,display:"flex",alignItems:"center",justifyContent:"center",gap:1},children:[t.jsx(_n,{size:16}),t.jsx(j,{variant:"caption",color:"text.secondary",children:"Connecting to PayPal..."})]}),t.jsx(j,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:2},children:"Your PayPal email will be used to send you payouts"})]}):t.jsxs(C,{sx:{textAlign:"center",py:3},children:[t.jsx(_n,{size:24}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Loading PayPal..."})]})},J$=({onSuccess:e,onError:n,disabled:r=!1})=>{const[s,o]=m.useState(!1),[i,c]=m.useState(null),[d,u]=m.useState(null),[h,x]=m.useState(null),{api:p}=Qe();m.useEffect(()=>{(async()=>{try{const v=await p.app.account.getProfile();if(v!=null&&v.displayName&&(v!=null&&v.email)){const I=v.displayName.trim().split(" "),w=I[0]||"User",D=I.length>1?I.slice(1).join(" "):"Name";x({name:w,surname:D,email:v.email})}else c("Unable to retrieve user information. Please ensure your profile is complete.")}catch(v){console.error("Failed to fetch user info:",v),c("Failed to retrieve user information")}})()},[p]);const y=async()=>{try{return(await(await fetch("https://api.ipify.org?format=json")).json()).ip||"127.0.0.1"}catch{return"127.0.0.1"}},b=async()=>{if(!h){c("User information is not available");return}try{o(!0),c(null);const S=await y(),v=await p.app.iyzicoToken.initializeTokenization({name:h.name,surname:h.surname,email:h.email,ip:S});if(!v.sessionToken)throw new Error("Failed to initialize Iyzico session");if(u(v.sessionToken),v.checkoutFormContent){const I=window.open("","IyzicoCheckout","width=800,height=600");if(I){I.document.write(v.checkoutFormContent),I.document.close(),window.addEventListener("message",g,!1);const w=setInterval(()=>{I.closed&&(clearInterval(w),window.removeEventListener("message",g,!1),o(!1),c("Payment window was closed"))},1e3)}else throw new Error("Failed to open payment window. Please allow popups.")}else if(v.paymentPageUrl)window.open(v.paymentPageUrl,"IyzicoCheckout","width=800,height=600");else throw new Error("No checkout method provided by Iyzico")}catch(S){const v=S.message||"Failed to initialize Iyzico payment";c(v),n(v),o(!1)}},g=async S=>{if(S.origin===window.location.origin)if(S.data&&S.data.type==="IYZICO_CHECKOUT_SUCCESS")try{if(!d||!h)throw new Error("Session information is missing");const v=await y(),I=await p.app.iyzicoToken.savePaymentMethod({sessionToken:d,name:h.name,surname:h.surname,email:h.email,ip:v});window.removeEventListener("message",g,!1),o(!1),e(I)}catch(v){const I=v.message||"Failed to save Iyzico payment method";c(I),n(I),o(!1)}else if(S.data&&S.data.type==="IYZICO_CHECKOUT_ERROR"){window.removeEventListener("message",g,!1),o(!1);const v=S.data.message||"Payment failed";c(v),n(v)}else S.data&&S.data.type==="IYZICO_CHECKOUT_CANCEL"&&(window.removeEventListener("message",g,!1),o(!1),console.log("Iyzico payment cancelled by user"))};return h?t.jsxs(C,{sx:{textAlign:"center",py:3},children:[i&&t.jsx(dt,{severity:"error",sx:{mb:2},children:i}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Kartnz gvenli bir ekilde Iyzico ile kaydedin"}),t.jsx(he,{variant:"contained",onClick:b,disabled:r||s||!h,sx:{backgroundColor:"#1B4332",color:"white","&:hover":{backgroundColor:"#2D5A3D"},"&:disabled":{backgroundColor:"#ccc"},minHeight:"48px",minWidth:"200px",fontWeight:"bold"},children:s?"yzico ile Balanyor...":"yzico ile deme Ekle"}),s&&t.jsx(j,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:2},children:"Gvenli deme sayfasna ynlendiriliyorsunuz..."}),t.jsx(j,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:2},children:"Kart bilgileriniz Iyzico'nun gvenli sisteminde saklanr"}),t.jsx(j,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:1},children:"lem tamamlandktan sonra pop-up pencereyi kapatabilirsiniz"})]}):t.jsx(C,{sx:{textAlign:"center",py:2},children:t.jsx(j,{variant:"body2",color:"text.secondary",children:"Loading user information..."})})},Q$=()=>{const e=mn(),[n,r]=m.useState([]),[s,o]=m.useState([]),[i,c]=m.useState(!0),[d,u]=m.useState(null),[h,x]=m.useState(null),[p,y]=m.useState(!1),[b,g]=m.useState(null),[S,v]=m.useState(!1),[I,w]=m.useState(!1),{api:D}=Qe(),{execute:E}=st();m.useEffect(()=>{A()},[]);const A=async()=>{c(!0),u(null);const[V,ee]=await Promise.all([E(()=>D.app.account.getPayoutMethods(),{showErrorToast:!0}),E(()=>D.app.account.getAvailablePayoutMethods(),{showErrorToast:!1})]);V&&r(V.items??[]),ee&&o(ee),c(!1)},_=async V=>{u(null),await E(()=>D.app.account.setDefaultPayoutMethod(V.id),{showSuccessMessage:!0,successMessage:"Default payout method updated"})&&await A()},O=async()=>{if(!b)return;u(null),await E(()=>D.app.account.deletePayoutMethod(b.id),{showSuccessMessage:!0,successMessage:"Payout method deleted successfully"})&&(await A(),y(!1),g(null))},R=V=>{g(V),y(!0)},L=()=>{y(!1),g(null)},B=async()=>{await A(),x("Payout method added successfully")},Y=()=>{v(!0)},$=async()=>{try{v(!1),x("Connecting PayPal account..."),await A(),x("PayPal account connected successfully!")}catch(V){console.error("Error refreshing payout methods:",V),x("PayPal account connected successfully!")}},H=V=>{u(V),v(!1)},X=()=>{w(!0)},K=async()=>{w(!1),await B(),x("Iyzico card added successfully!")},q=V=>{u(V),w(!1)},Z=V=>{switch(V){case _r.PAYPAL:return t.jsx(Cn,{sx:{bgcolor:"#0070ba",width:40,height:40,fontSize:"12px",fontWeight:"bold",color:"white"},children:"PayPal"});case _r.IYZICO:return t.jsx(Cn,{sx:{bgcolor:"#00a650",width:40,height:40,fontSize:"11px",fontWeight:"bold",color:"white"},children:"iyzico"});default:return t.jsx(Cn,{sx:{bgcolor:e.palette.grey[400],width:40,height:40},children:t.jsx(y0,{})})}},Q=V=>{var Pe,pe,Re,le,re,je;switch((Pe=V.provider)==null?void 0:Pe.code){case _r.PAYPAL:return((pe=V.payoutDetails)==null?void 0:pe.email)||V.payoutIdentifier;case _r.IYZICO:{const ke=((Re=V.payoutDetails)==null?void 0:Re.cardAssociation)||"Card",be=((le=V.payoutDetails)==null?void 0:le.lastFourDigits)||"****";return`${ke}  ${be}`}case _r.BANK_TRANSFER:return((re=V.payoutDetails)==null?void 0:re.iban)||((je=V.payoutDetails)==null?void 0:je.accountNumber)||V.payoutIdentifier;default:return V.payoutIdentifier||"Payout method"}},ie=V=>s.some(ee=>ee.code===V);return i?t.jsx(C,{sx:{p:3},children:t.jsx(ge,{spacing:2,children:[...Array(3)].map((V,ee)=>t.jsx($e,{children:t.jsx(Be,{children:t.jsxs(ge,{direction:"row",spacing:2,alignItems:"center",children:[t.jsx(ce,{variant:"circular",width:40,height:40}),t.jsxs(C,{sx:{flex:1},children:[t.jsx(ce,{variant:"text",width:"60%"}),t.jsx(ce,{variant:"text",width:"40%"})]}),t.jsx(ce,{variant:"rectangular",width:100,height:32})]})})},ee))})}):t.jsxs(C,{children:[t.jsxs(ge,{spacing:3,children:[d&&t.jsx(dt,{severity:"error",sx:{mb:2},children:d}),h&&t.jsx(dt,{severity:"success",sx:{mb:2},children:h}),t.jsxs(C,{sx:{mb:3},children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:.5},children:"Payout Methods"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Manage your payout methods for receiving earnings"})]}),t.jsxs(ge,{spacing:0,divider:t.jsx(Bt,{}),sx:{border:"1px solid",borderColor:"divider",borderRadius:2,overflow:"hidden"},children:[ie(_r.PAYPAL)&&t.jsxs(C,{sx:{p:2.5,display:"flex",alignItems:"center",gap:2.5,transition:"background-color 0.2s","&:hover":{bgcolor:e.palette.mode==="dark"?"rgba(255,255,255,0.02)":"rgba(0,0,0,0.01)"}},children:[t.jsx(C,{sx:{flexShrink:0},children:t.jsx(Cn,{sx:{bgcolor:"#0070ba",width:40,height:40,fontSize:"12px",fontWeight:"bold",color:"white"},children:"PayPal"})}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[t.jsx(j,{variant:"body1",sx:{fontWeight:600},children:"PayPal"}),n.some(V=>{var ee;return((ee=V.provider)==null?void 0:ee.code)===_r.PAYPAL})&&t.jsx(Ke,{label:"Connected",size:"small",color:"success",sx:{height:20,fontSize:"0.7rem",fontWeight:600}})]}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.875rem"},children:"Connect your PayPal account securely"})]}),t.jsx(C,{sx:{flexShrink:0,width:100},children:t.jsx(he,{onClick:Y,size:"small",variant:"outlined",fullWidth:!0,sx:{borderRadius:1.5,textTransform:"none",fontSize:"0.8rem",fontWeight:500},children:n.some(V=>{var ee;return((ee=V.provider)==null?void 0:ee.code)===_r.PAYPAL})?"Add Another":"Connect"})})]}),ie(_r.IYZICO)&&t.jsxs(C,{sx:{p:2.5,display:"flex",alignItems:"center",gap:2.5,transition:"background-color 0.2s","&:hover":{bgcolor:e.palette.mode==="dark"?"rgba(255,255,255,0.02)":"rgba(0,0,0,0.01)"}},children:[t.jsx(C,{sx:{flexShrink:0},children:t.jsx(Cn,{sx:{bgcolor:"#00a650",width:40,height:40,fontSize:"11px",fontWeight:"bold",color:"white"},children:"iyzico"})}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[t.jsx(j,{variant:"body1",sx:{fontWeight:600},children:"Credit/Debit Card"}),n.some(V=>{var ee;return((ee=V.provider)==null?void 0:ee.code)===_r.IYZICO})&&t.jsx(Ke,{label:`${n.filter(V=>{var ee;return((ee=V.provider)==null?void 0:ee.code)===_r.IYZICO}).length} Card(s)`,size:"small",color:"success",sx:{height:20,fontSize:"0.7rem",fontWeight:600}})]}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.875rem"},children:"Gvenli kart deme sistemi"})]}),t.jsx(C,{sx:{flexShrink:0,width:100},children:t.jsx(he,{onClick:X,size:"small",variant:"outlined",fullWidth:!0,sx:{borderRadius:1.5,textTransform:"none",fontSize:"0.8rem",fontWeight:500},children:"Add Card"})})]}),!ie(_r.PAYPAL)&&!ie(_r.IYZICO)&&t.jsx(C,{sx:{p:3,textAlign:"center"},children:t.jsx(j,{variant:"body2",color:"text.secondary",children:"No payout methods are currently available in your region."})})]}),n.length>0&&t.jsxs(t.Fragment,{children:[t.jsxs(C,{sx:{mt:4,mb:2},children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:.5},children:"Connected Methods"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Your active payout methods"})]}),t.jsx(ge,{spacing:0,divider:t.jsx(Bt,{}),sx:{border:"1px solid",borderColor:"divider",borderRadius:2,overflow:"hidden"},children:n.map((V,ee)=>{var Pe,pe;return t.jsxs(C,{sx:{p:2.5,display:"flex",alignItems:"center",gap:2.5,bgcolor:ee%2===0?"transparent":e.palette.mode==="dark"?"rgba(255,255,255,0.02)":"rgba(0,0,0,0.01)",transition:"background-color 0.2s","&:hover":{bgcolor:e.palette.mode==="dark"?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.03)"}},children:[t.jsx(C,{sx:{flexShrink:0},children:Z(((Pe=V.provider)==null?void 0:Pe.code)||"")}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1.5,mb:.5},children:[t.jsx(j,{variant:"body1",sx:{fontWeight:600},children:((pe=V.provider)==null?void 0:pe.name)||"Payout Method"}),V.isDefault&&t.jsx(Ke,{label:"Default",size:"small",sx:{height:20,fontSize:"0.7rem",fontWeight:600,bgcolor:"primary.main",color:"primary.contrastText"}})]}),t.jsx(j,{variant:"body2",color:"text.primary",sx:{mb:.5,fontFamily:"monospace",fontSize:"0.875rem"},children:Q(V)}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[t.jsx(j,{variant:"caption",color:"text.secondary",sx:{fontWeight:500},children:V.currency.toUpperCase()}),V.lastUsedAt&&t.jsxs(t.Fragment,{children:[t.jsx(C,{sx:{width:3,height:3,bgcolor:"text.secondary",borderRadius:"50%",opacity:.5}}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Last used ",new Date(V.lastUsedAt).toLocaleDateString()]})]})]})]}),t.jsxs(C,{sx:{display:"flex",gap:1,flexShrink:0},children:[!V.isDefault&&t.jsx(he,{onClick:()=>_(V),size:"small",variant:"outlined",sx:{borderRadius:1.5,textTransform:"none",fontSize:"0.75rem",fontWeight:500,px:1.5,minWidth:"auto"},children:"Set default"}),t.jsx(Fe,{onClick:()=>R(V),size:"small",sx:{color:"text.secondary","&:hover":{color:"error.main",bgcolor:"error.main"}},children:t.jsx(xc,{fontSize:"small"})})]})]},V.id)})})]})]}),t.jsxs(qt,{open:p,onClose:L,children:[t.jsx(tn,{children:"Delete Payout Method"}),t.jsx(Kt,{children:t.jsxs(j,{children:["Are you sure you want to delete this payout method?",(b==null?void 0:b.isDefault)&&t.jsx(dt,{severity:"warning",sx:{mt:2},children:"This is your default payout method. You'll need to set another payout method as default."})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:L,children:"Cancel"}),t.jsx(he,{onClick:O,color:"error",variant:"contained",children:"Delete"})]})]}),t.jsxs(qt,{open:S,onClose:()=>v(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Connect PayPal Account for Payouts"}),t.jsx(Kt,{children:t.jsx(X$,{onSuccess:$,onError:H,disabled:!1})}),t.jsx(Xt,{children:t.jsx(he,{onClick:()=>v(!1),children:"Cancel"})})]}),t.jsxs(qt,{open:I,onClose:()=>w(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Kart Ekleme"}),t.jsx(Kt,{children:t.jsx(J$,{onSuccess:K,onError:q,disabled:!1})}),t.jsx(Xt,{children:t.jsx(he,{onClick:()=>w(!1),children:"ptal"})})]})]})},xn={ACTIVE:1,CANCELLED:2,EXPIRED:3,PENDING:4,SUSPENDED:5},Z$={[xn.ACTIVE]:"active",[xn.CANCELLED]:"cancelled",[xn.EXPIRED]:"expired",[xn.PENDING]:"pending",[xn.SUSPENDED]:"suspended"},tj={active:xn.ACTIVE,cancelled:xn.CANCELLED,expired:xn.EXPIRED,pending:xn.PENDING,suspended:xn.SUSPENDED};function eF(e){if(typeof e=="number")return Object.values(xn).includes(e)?e:xn.PENDING;const n=e.toLowerCase();return tj[n]||xn.PENDING}function nj(e){if(typeof e=="string"){const n=e.toLowerCase();return n in tj?n:"pending"}return Z$[e]||"pending"}function tF(e){return eF(e)===xn.ACTIVE}function Oc(e){const n=nj(e);switch(n){case"active":return"Active";case"cancelled":return"Cancelled";case"expired":return"Expired";case"pending":return"Pending";case"suspended":return"Suspended";default:return n.charAt(0).toUpperCase()+n.slice(1)}}function kc(e){switch(nj(e)){case"active":return"success";case"cancelled":return"warning";case"expired":return"error";case"pending":return"info";case"suspended":return"info";default:return"default"}}function nF(e){return tF(e)}const rF=[{id:xn.ACTIVE,value:"active",label:"Active"},{id:xn.CANCELLED,value:"cancelled",label:"Cancelled"},{id:xn.EXPIRED,value:"expired",label:"Expired"},{id:xn.PENDING,value:"pending",label:"Pending"},{id:xn.SUSPENDED,value:"suspended",label:"Suspended"}],sF=()=>{const[e,n]=m.useState([]),[r,s]=m.useState(!0),[o,i]=m.useState(null),[c,d]=m.useState(null),[u,h]=m.useState(!1),[x,p]=m.useState(null),[y,b]=m.useState(!1),{api:g}=Qe(),{execute:S}=st(),v=mn(),I=async()=>{s(!0),i(null);const H=await S(()=>g.app.account.getSubscriptions(),{showErrorToast:!0});H&&n(H.items??[]),s(!1)};m.useEffect(()=>{I()},[]);const w=async()=>{if(!x)return;b(!0),i(null),await S(()=>g.app.subscription.cancelUserSubscription(x.id),{showSuccessMessage:!0,successMessage:"Subscription canceled successfully"})&&(await I(),h(!1),p(null)),b(!1)},D=H=>{p(H),h(!0)},E=()=>{h(!1),p(null)},A=H=>kc(H),_=H=>Oc(H),O=H=>new Date(H).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),R=(H,X)=>new Intl.NumberFormat("en-US",{style:"currency",currency:X.toUpperCase()}).format(H/100),L=H=>nF(H.statusId),B=H=>{var X;return(X=H.paymentDetails)==null?void 0:X.some(K=>{var q;return((q=K.provider)==null?void 0:q.code)==="paypal"})};if(r)return t.jsx(C,{sx:{p:{xs:2,md:4}},children:t.jsxs(ge,{spacing:3,children:[t.jsxs(C,{children:[t.jsx(ce,{variant:"text",sx:{fontSize:"1.5rem",width:"200px",mb:1}}),t.jsx(ce,{variant:"text",sx:{fontSize:"0.875rem",width:"150px"}})]}),t.jsx(F,{container:!0,spacing:3,children:[...Array(3)].map((H,X)=>t.jsx(F,{item:!0,xs:12,lg:6,children:t.jsxs($e,{sx:{height:"100%"},children:[t.jsx(Be,{sx:{p:3},children:t.jsxs(ge,{direction:"row",spacing:3,children:[t.jsx(ce,{variant:"circular",width:64,height:64}),t.jsxs(C,{sx:{flex:1},children:[t.jsx(ce,{variant:"text",sx:{fontSize:"1.25rem",width:"70%",mb:1}}),t.jsx(ce,{variant:"text",sx:{width:"50%",mb:2}}),t.jsx(ge,{direction:"row",spacing:1,mb:2,children:t.jsx(ce,{variant:"rectangular",width:80,height:24,sx:{borderRadius:1}})}),t.jsxs(ge,{spacing:1,children:[t.jsx(ce,{variant:"text",sx:{width:"60%"}}),t.jsx(ce,{variant:"text",sx:{width:"40%"}})]})]})]})}),t.jsxs(Ch,{sx:{px:3,pb:3},children:[t.jsx(ce,{variant:"rectangular",width:100,height:36,sx:{borderRadius:1}}),t.jsx(ce,{variant:"rectangular",width:120,height:36,sx:{borderRadius:1,ml:1}})]})]})},X))})]})});const Y=e.filter(H=>H.statusId===xn.ACTIVE),$=e.reduce((H,X)=>H+X.tier.price/100,0);return t.jsx(C,{sx:{p:{xs:2,md:4}},children:t.jsxs(ge,{spacing:4,children:[o&&t.jsx(dt,{severity:"error",onClose:()=>i(null),sx:{borderRadius:2},children:o}),c&&t.jsx(dt,{severity:"success",onClose:()=>d(null),sx:{borderRadius:2},children:c}),t.jsxs(C,{children:[t.jsx(j,{variant:"h4",sx:{fontWeight:600,mb:1},children:"My Subscriptions"}),t.jsx(j,{variant:"body1",color:"text.secondary",children:"Manage your channel subscriptions and contributions"})]}),e.length>0&&t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ot,{sx:{p:3,borderRadius:3,background:`linear-gradient(135deg, ${v.palette.primary.main} 0%, ${v.palette.primary.dark} 100%)`,color:"white"},children:t.jsxs(ge,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h4",sx:{fontWeight:700,mb:.5},children:Y.length}),t.jsx(j,{variant:"body2",sx:{opacity:.9},children:"Active"})]}),t.jsx(us,{sx:{fontSize:40,opacity:.8}})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ot,{sx:{p:3,borderRadius:3,background:`linear-gradient(135deg, ${v.palette.success.main} 0%, ${v.palette.success.dark} 100%)`,color:"white"},children:t.jsxs(ge,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(C,{children:[t.jsxs(j,{variant:"h4",sx:{fontWeight:700,mb:.5},children:["$",$.toFixed(0)]}),t.jsx(j,{variant:"body2",sx:{opacity:.9},children:"Monthly Value"})]}),t.jsx(cf,{sx:{fontSize:40,opacity:.8}})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ot,{sx:{p:3,borderRadius:3,border:`1px solid ${v.palette.divider}`},children:t.jsxs(ge,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h4",sx:{fontWeight:700,mb:.5,color:"text.primary"},children:e.length}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Total"})]}),t.jsx(Pa,{sx:{fontSize:40,color:"text.secondary"}})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ot,{sx:{p:3,borderRadius:3,border:`1px solid ${v.palette.divider}`},children:t.jsxs(ge,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h4",sx:{fontWeight:700,mb:.5,color:"text.primary"},children:e.filter(H=>H.autoContribute).length}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Auto-contribute"})]}),t.jsx(ET,{sx:{fontSize:40,color:"text.secondary"}})]})})})]}),e.length===0?t.jsx(ot,{sx:{textAlign:"center",py:8,px:4,borderRadius:4,background:`linear-gradient(135deg, ${fe(v.palette.primary.main,.02)} 0%, ${fe(v.palette.primary.main,.05)} 100%)`,border:`1px solid ${fe(v.palette.primary.main,.1)}`},children:t.jsxs(C,{sx:{maxWidth:400,mx:"auto"},children:[t.jsx(Pa,{sx:{fontSize:80,color:"primary.main",opacity:.6,mb:3}}),t.jsx(j,{variant:"h5",sx:{fontWeight:600,mb:2},children:"No Subscriptions Yet"}),t.jsx(j,{variant:"body1",color:"text.secondary",sx:{mb:4,lineHeight:1.6},children:"Discover amazing channels and support creators by subscribing to their content. Your subscriptions will appear here."}),t.jsx(he,{variant:"contained",size:"large",href:"/app/channels",sx:{borderRadius:2,py:1.5,px:4,textTransform:"none",fontSize:"1rem",fontWeight:600},children:"Explore Channels"})]})}):t.jsx(F,{container:!0,spacing:3,children:e.map(H=>t.jsx(F,{item:!0,xs:12,lg:6,children:t.jsxs($e,{sx:{height:"100%",borderRadius:3,border:`1px solid ${v.palette.divider}`,transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:v.shadows[8]}},children:[t.jsx(Be,{sx:{p:3},children:t.jsxs(ge,{direction:"row",spacing:3,children:[t.jsx(Cn,{sx:{width:64,height:64,border:`2px solid ${v.palette.divider}`,fontSize:"1.5rem",fontWeight:600},src:`https://via.placeholder.com/64x64?text=${H.channel.name.charAt(0)}`,children:H.channel.name.charAt(0)}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsxs(ge,{direction:"row",alignItems:"flex-start",justifyContent:"space-between",mb:1,children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:H.channel.name}),t.jsx(Fe,{size:"small",sx:{ml:1},children:t.jsx(df,{fontSize:"small"})})]}),t.jsxs(ge,{direction:"row",alignItems:"center",spacing:2,mb:2,children:[t.jsx(j,{variant:"body2",color:"text.secondary",children:H.tier.name}),t.jsxs(j,{variant:"body2",sx:{fontWeight:600,color:"primary.main"},children:[R(H.tier.price,H.tier.currency),"/month"]})]}),t.jsxs(ge,{direction:"row",spacing:1,mb:2,flexWrap:"wrap",children:[t.jsx(Ke,{label:_(H.statusId),color:A(H.statusId),size:"small",sx:{borderRadius:1}}),B(H)&&t.jsx(Ke,{label:"PayPal",variant:"outlined",size:"small",sx:{borderRadius:1,borderColor:"#0070BA",color:"#0070BA",fontWeight:600}}),H.autoContribute&&t.jsx(Ke,{label:"Auto-contribute",variant:"outlined",size:"small",sx:{borderRadius:1}})]}),t.jsxs(ge,{spacing:.5,children:[t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Started: ",O(H.subscribedAt)]}),H.expiresAt&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Expires: ",O(H.expiresAt)]}),H.totalContributions>0&&t.jsxs(j,{variant:"caption",color:"success.main",children:["Total contributed: ",R(H.totalContributions,H.tier.currency)]})]})]})]})}),t.jsx(Bt,{}),t.jsxs(Ch,{sx:{p:3,pt:2},children:[t.jsx(he,{variant:"outlined",size:"small",href:`${ye.APP_CHANNEL_VIEW}`.replace(":id",H.channel.id),endIcon:t.jsx(TT,{}),sx:{borderRadius:1.5,textTransform:"none",fontWeight:500},children:"View Channel"}),L(H)&&t.jsx(he,{variant:"text",color:"error",size:"small",startIcon:t.jsx(Cs,{}),onClick:()=>D(H),sx:{borderRadius:1.5,textTransform:"none",fontWeight:500,ml:"auto"},children:"Cancel"})]})]})},H.id))}),t.jsxs(qt,{open:u,onClose:E,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:3,p:1}},children:[t.jsx(tn,{sx:{pb:1},children:t.jsx(j,{variant:"h5",sx:{fontWeight:600},children:"Cancel Subscription"})}),t.jsx(Kt,{sx:{pb:2},children:t.jsxs(ge,{spacing:2,children:[t.jsxs(j,{variant:"body1",children:["Are you sure you want to cancel your subscription to"," ",t.jsx(j,{component:"span",sx:{fontWeight:600,color:"primary.main"},children:x==null?void 0:x.channel.name}),"?"]}),x&&B(x)&&t.jsx(ot,{sx:{p:2,borderRadius:2,bgcolor:fe(v.palette.info.main,.05),border:`1px solid ${fe(v.palette.info.main,.2)}`},children:t.jsxs(j,{variant:"body2",color:"text.secondary",sx:{mb:1},children:[t.jsx(j,{component:"span",sx:{fontWeight:600,color:"info.main"},children:"PayPal Subscription:"})," ","This will cancel your PayPal subscription automatically. Your PayPal recurring payment will be stopped."]})}),t.jsx(ot,{sx:{p:2,borderRadius:2,bgcolor:fe(v.palette.warning.main,.05),border:`1px solid ${fe(v.palette.warning.main,.2)}`},children:t.jsxs(j,{variant:"body2",color:"text.secondary",children:["You will continue to have access until your current billing period ends",(x==null?void 0:x.expiresAt)&&t.jsxs(j,{component:"span",sx:{fontWeight:500},children:[" ","on ",O(x.expiresAt)]}),"."]})})]})}),t.jsxs(Xt,{sx:{p:3,pt:1},children:[t.jsx(he,{onClick:E,disabled:y,variant:"outlined",sx:{borderRadius:2,textTransform:"none",fontWeight:500,px:3},children:"Keep Subscription"}),t.jsx(he,{onClick:w,color:"error",variant:"contained",disabled:y,sx:{borderRadius:2,textTransform:"none",fontWeight:500,px:3},children:y?"Canceling...":"Cancel Subscription"})]})]})]})})},oF=()=>{const{isDarkMode:e,toggleTheme:n}=Vf(),[r,s]=m.useState(e?"dark":"light"),o=i=>{const c=i.target.value;s(c),(c==="dark"&&!e||c==="light"&&e)&&n()};return t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:.5},children:"Appearance"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Customize how MetaJourno looks on your device"}),t.jsx(ot,{elevation:0,sx:{p:3,border:"1px solid",borderColor:"divider",borderRadius:2},children:t.jsxs(ft,{component:"fieldset",children:[t.jsx(kT,{component:"legend",sx:{fontWeight:600,mb:2},children:"Theme mode"}),t.jsxs(MT,{value:r,onChange:o,children:[t.jsx(Da,{value:"light",control:t.jsx(db,{}),label:t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(NT,{fontSize:"small"}),t.jsxs(C,{children:[t.jsx(j,{variant:"body1",children:"Light"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:"Use light theme"})]})]}),sx:{mb:2,p:1.5,borderRadius:1,"&:hover":{bgcolor:"action.hover"}}}),t.jsx(Da,{value:"dark",control:t.jsx(db,{}),label:t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(LT,{fontSize:"small"}),t.jsxs(C,{children:[t.jsx(j,{variant:"body1",children:"Dark"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:"Use dark theme"})]})]}),sx:{p:1.5,borderRadius:1,"&:hover":{bgcolor:"action.hover"}}})]})]})})]})},ey=Me(Fe)(({theme:e})=>({position:"absolute",top:"50%",transform:"translateY(-50%)",zIndex:1,backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.04)",width:32,height:32,"&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.08)"}})),aF=()=>{const[e,n]=m.useState("profile"),{user:r}=Gs(),s=m.useRef(null),[o,i]=m.useState(!1),[c,d]=m.useState(!1),u=[{id:"profile",icon:t.jsx(RT,{}),label:"Profile",divider:!1},{id:"payment",icon:t.jsx(Ca,{}),label:"Payout Methods",divider:!1},{id:"subscriptions",icon:t.jsx(Pa,{}),label:"Subscriptions",divider:!0},{id:"appearance",icon:t.jsx(_T,{}),label:"Appearance",divider:!1},{id:"notifications",icon:t.jsx(OT,{}),label:"Notifications",divider:!1},{id:"security",icon:t.jsx(v0,{}),label:"Password and authentication",divider:!1}],h=()=>{var g;const b=(g=s.current)==null?void 0:g.querySelector(".MuiTabs-scroller");if(b){const{scrollLeft:S,scrollWidth:v,clientWidth:I}=b;i(S>0),d(S+I<v-1)}};m.useEffect(()=>{var g;h();const b=(g=s.current)==null?void 0:g.querySelector(".MuiTabs-scroller");if(b)return b.addEventListener("scroll",h),window.addEventListener("resize",h),()=>{b.removeEventListener("scroll",h),window.removeEventListener("resize",h)}},[]);const x=()=>{var g;const b=(g=s.current)==null?void 0:g.querySelector(".MuiTabs-scroller");b&&b.scrollBy({left:-200,behavior:"smooth"})},p=()=>{var g;const b=(g=s.current)==null?void 0:g.querySelector(".MuiTabs-scroller");b&&b.scrollBy({left:200,behavior:"smooth"})},y=()=>{switch(e){case"profile":return t.jsx(q$,{});case"payment":return t.jsx(Q$,{});case"subscriptions":return t.jsx(sF,{});case"appearance":return t.jsx(oF,{});case"notifications":return t.jsxs(C,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Notifications"}),t.jsx(j,{color:"text.secondary",children:"Notification settings coming soon..."})]});case"security":return t.jsxs(C,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Password and authentication"}),t.jsx(j,{color:"text.secondary",children:"Security settings coming soon..."})]});default:return null}};return t.jsxs(C,{sx:{width:"100%",overflow:"hidden"},children:[t.jsxs(C,{sx:{mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2,mb:1},children:[t.jsx(j,{variant:"h5",sx:{fontWeight:600},children:(r==null?void 0:r.displayName)||"Account"}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["(",(r==null?void 0:r.email)||"user",")"]})]}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Your personal account"})]}),t.jsxs(C,{sx:{position:"relative",mb:3},ref:s,children:[o&&t.jsx(ey,{onClick:x,sx:{left:0},children:t.jsx(Ws,{fontSize:"small"})}),t.jsx(mo,{value:e,onChange:(b,g)=>n(g),variant:"scrollable",scrollButtons:!1,sx:{borderBottom:1,borderColor:"divider","& .MuiTabs-scroller":{"&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",msOverflowStyle:"none"},"& .MuiTabs-indicator":{height:2,borderRadius:"2px 2px 0 0"},"& .MuiTab-root":{minWidth:"auto",px:2.5,py:1.5,textTransform:"none",fontSize:"0.875rem",fontWeight:500,color:"text.secondary","&.Mui-selected":{color:"primary.main",fontWeight:600}}},children:u.map(b=>t.jsx(tr,{value:b.id,label:b.label,icon:b.icon,iconPosition:"start",sx:{minHeight:48,gap:.75}},b.id))}),c&&t.jsx(ey,{onClick:p,sx:{right:0},children:t.jsx(AT,{fontSize:"small"})})]}),t.jsx(C,{children:y()})]})},Fp=({children:e,isHighlighted:n=!1,contentPadding:r=3,noHover:s=!1,contentSx:o,sx:i,...c})=>t.jsx($e,{elevation:n?2:0,sx:{height:"100%",position:"relative",borderRadius:2,border:"1px solid",borderColor:d=>n?"primary.main":d.palette.mode==="dark"?fe(d.palette.common.white,.1):fe(d.palette.common.black,.08),bgcolor:d=>n?fe(d.palette.primary.main,d.palette.mode==="dark"?.1:.05):"background.paper",transition:"all 0.2s ease-in-out",...!s&&{"&:hover":{borderColor:"primary.main",transform:"translateY(-2px)"}},...i},...c,children:t.jsx(Be,{sx:{p:r,"&:last-child":{pb:r},...o},children:e})}),Wp=({status:e,...n})=>{const r=s=>{switch(s){case Je.APPROVED:case Je.PAID:return"success";case Je.REJECTED:case Je.CANCELLED:return"error";case Je.SUBMITTED:case Je.UNDER_REVIEW:return"info";case Je.DRAFT:default:return"default"}};return t.jsx(Ke,{label:Ii[e],color:r(e),size:"small",variant:"filled",sx:{borderRadius:1,fontWeight:500,fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px",...n.sx},...n})},rj={TRAVEL:1,EQUIPMENT:2,ACCOMMODATION:3,FOOD:4,COMMUNICATION:5,LABOR:6,OTHER:7},sj={TRAVEL:"Travel",EQUIPMENT:"Equipment",ACCOMMODATION:"Accommodation",FOOD:"Food",COMMUNICATION:"Communication",LABOR:"Labor",OTHER:"Other"},iF=e=>{const n=Object.entries(rj).find(([r,s])=>s===e);return n?sj[n[0]]:"Unknown"},oj=()=>Object.entries(rj).map(([e,n])=>({id:n,name:sj[e]})),Bp=({expenseOrder:e,onView:n,onEdit:r,onSubmit:s,onCancel:o,onApprove:i,onReject:c,onProcessPayment:d,showActions:u=!0,userRole:h="journalist"})=>{const[x,p]=Dt.useState(null),y=!!x,b=O=>{p(O.currentTarget)},g=()=>{p(null)},S=(O,R)=>new Intl.NumberFormat("en-US",{style:"currency",currency:R}).format(O),v=e.status===Je.DRAFT,I=e.status===Je.DRAFT,w=[Je.DRAFT,Je.SUBMITTED].includes(e.status),D=[Je.SUBMITTED,Je.UNDER_REVIEW].includes(e.status),E=[Je.SUBMITTED,Je.UNDER_REVIEW].includes(e.status),A=e.status===Je.APPROVED,_=()=>{const O=[];return n&&O.push(t.jsxs(Ce,{onClick:()=>{n(e),g()},children:[t.jsx(Ps,{sx:{mr:1},fontSize:"small"}),"View Details"]},"view")),h==="journalist"?(v&&r&&O.push(t.jsxs(Ce,{onClick:()=>{r(e),g()},children:[t.jsx(hs,{sx:{mr:1},fontSize:"small"}),"Edit"]},"edit")),I&&s&&O.push(t.jsxs(Ce,{onClick:()=>{s(e),g()},children:[t.jsx(Xc,{sx:{mr:1},fontSize:"small"}),"Submit for Approval"]},"submit")),w&&o&&O.push(t.jsxs(Ce,{onClick:()=>{o(e),g()},sx:{color:"error.main"},children:[t.jsx(xc,{sx:{mr:1},fontSize:"small"}),"Cancel"]},"cancel"))):(h==="admin"||h==="finance-manager")&&(D&&i&&O.push(t.jsx(Ce,{onClick:()=>{i(e),g()},sx:{color:"success.main"},children:"Approve"},"approve")),E&&c&&O.push(t.jsx(Ce,{onClick:()=>{c(e),g()},sx:{color:"error.main"},children:"Reject"},"reject")),A&&d&&O.push(t.jsx(Ce,{onClick:()=>{d(e),g()},sx:{color:"primary.main"},children:"Process Payment"},"process-payment"))),O};return t.jsxs(Fp,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[t.jsxs(C,{sx:{flex:1},children:[t.jsx(j,{variant:"h6",component:"h3",sx:{mb:1,fontWeight:600},children:e.title}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:1},children:e.description}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:[e.channel.name,"  ",iF(e.type.id)]})]}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Wp,{status:e.status}),u&&t.jsx(Fe,{size:"small",onClick:b,children:t.jsx(df,{})})]})]}),t.jsx(Bt,{sx:{my:2}}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h5",component:"span",sx:{fontWeight:700,color:"primary.main"},children:S(e.amount,e.currency)}),e.receiptUrl&&t.jsx(jt,{title:"Receipt attached",children:t.jsx(Bs,{sx:{ml:1,color:"success.main"},fontSize:"small"})})]}),t.jsx(j,{variant:"caption",color:"text.secondary",children:qr(new Date(e.createdAt),{addSuffix:!0})})]}),e.notes&&t.jsx(C,{sx:{mt:2},children:t.jsxs(j,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:['"',e.notes,'"']})}),e.rejectionReason&&t.jsx(C,{sx:{mt:2,p:2,bgcolor:"error.lighter",borderRadius:1},children:t.jsxs(j,{variant:"body2",color:"error.main",sx:{fontWeight:500},children:["Rejection Reason: ",e.rejectionReason]})}),t.jsx(xo,{anchorEl:x,open:y,onClose:g,PaperProps:{sx:{minWidth:180}},children:_()})]})};function lF(e){const{children:n,value:r,index:s,...o}=e;return t.jsx("div",{role:"tabpanel",hidden:r!==s,id:`expense-order-tabpanel-${s}`,"aria-labelledby":`expense-order-tab-${s}`,...o,children:r===s&&t.jsx(C,{sx:{py:3},children:n})})}const cF=()=>{const e=Pt(),{api:n}=Qe(),[r,s]=m.useState(0),[o,i]=m.useState([]),[c,d]=m.useState(!0),{execute:u}=st(),h=[{label:"All",status:void 0},{label:"Draft",status:Je.DRAFT},{label:"Submitted",status:Je.SUBMITTED},{label:"Approved",status:Je.APPROVED},{label:"Paid",status:Je.PAID},{label:"Rejected",status:Je.REJECTED}],x=async I=>{d(!0);const w=await u(()=>n.app.expenseOrder.getMyExpenseOrders({page:1,limit:50},I),{showErrorToast:!0});w&&i(w.items),d(!1)};m.useEffect(()=>{x(h[r].status)},[r,u]);const p=(I,w)=>{s(w)},y=I=>{e(ye.APP_EXPENSE_ORDER_VIEW.replace(":id",I.id))},b=I=>{e(ye.STUDIO_EXPENSE_ORDER_EDIT.replace(":id",I.id))},g=async I=>{await u(()=>n.app.expenseOrder.submitExpenseOrder(I.id),{showSuccessMessage:!0,successMessage:"Expense order submitted successfully!"})&&x(h[r].status)},S=async I=>{await u(()=>n.app.expenseOrder.cancelExpenseOrder(I.id),{showSuccessMessage:!0,successMessage:"Expense order cancelled successfully!"})&&x(h[r].status)},v=()=>{e(ye.STUDIO_EXPENSE_ORDER_CREATE)};return t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[t.jsx(j,{variant:"h4",component:"h1",sx:{fontWeight:600},children:"My Expense Orders"}),t.jsx(he,{variant:"contained",startIcon:t.jsx(fo,{}),onClick:v,children:"Create New"})]}),t.jsx(C,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:t.jsx(mo,{value:r,onChange:p,"aria-label":"expense order status tabs",children:h.map((I,w)=>t.jsx(tr,{label:I.label},w))})}),h.map((I,w)=>t.jsx(lF,{value:r,index:w,children:c?t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(_n,{})}):o.length===0?t.jsxs(C,{sx:{textAlign:"center",py:8},children:[t.jsx(j,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"No expense orders found"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:I.status?`No ${I.label.toLowerCase()} expense orders`:"You haven't created any expense orders yet"}),t.jsx(he,{variant:"contained",startIcon:t.jsx(fo,{}),onClick:v,children:"Create Your First Expense Order"})]}):t.jsx(F,{container:!0,spacing:3,children:o.map(D=>t.jsx(F,{item:!0,xs:12,md:6,lg:4,children:t.jsx(Bp,{expenseOrder:D,onView:y,onEdit:b,onSubmit:g,onCancel:S,userRole:"journalist"})},D.id))})},w))]})},dF=()=>{const e=Pt(),{id:n}=es(),{api:r}=Qe(),[s,o]=m.useState(null),[i,c]=m.useState(!0),[d,u]=m.useState(!1),[h,x]=m.useState(null),{execute:p}=st(),y=async()=>{if(!n)return;c(!0),x(null);const A=await p(()=>r.app.expenseOrder.getExpenseOrder(n),{showErrorToast:!0});A&&o(A),c(!1)};m.useEffect(()=>{y()},[n]);const b=(A,_)=>new Intl.NumberFormat("en-US",{style:"currency",currency:_}).format(A),g=()=>{e(ye.APP_EXPENSE_ORDERS)},S=()=>{s&&e(ye.STUDIO_EXPENSE_ORDER_EDIT.replace(":id",s.id))},v=async()=>{if(!s)return;u(!0),await p(()=>r.app.expenseOrder.submitExpenseOrder(s.id),{showSuccessMessage:!0,successMessage:"Expense order submitted successfully!"})&&await y(),u(!1)},I=async()=>{if(!s)return;u(!0),await p(()=>r.app.expenseOrder.cancelExpenseOrder(s.id),{showSuccessMessage:!0,successMessage:"Expense order cancelled successfully!"})&&await y(),u(!1)};if(i)return t.jsx(C,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:t.jsx(_n,{})});if(h||!s)return t.jsxs(C,{sx:{p:3},children:[t.jsx(dt,{severity:"error",children:h||"Expense order not found"}),t.jsx(he,{startIcon:t.jsx(Ws,{}),onClick:g,sx:{mt:2},children:"Back to Expense Orders"})]});const w=s.status===Je.DRAFT,D=s.status===Je.DRAFT,E=[Je.DRAFT,Je.SUBMITTED].includes(s.status);return t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(he,{startIcon:t.jsx(Ws,{}),onClick:g,sx:{mr:2},children:"Back"}),t.jsx(j,{variant:"h4",component:"h1",sx:{fontWeight:600,flex:1},children:"Expense Order Details"}),t.jsx(Wp,{status:s.status})]}),h&&t.jsx(dt,{severity:"error",sx:{mb:3},children:h}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsxs(F,{item:!0,xs:12,md:8,children:[t.jsxs(ot,{sx:{p:3,mb:3},children:[t.jsx(j,{variant:"h5",sx:{mb:2,fontWeight:600},children:s.title}),t.jsx(j,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:s.description}),t.jsx(Bt,{sx:{my:3}}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Channel"}),t.jsx(j,{variant:"body1",sx:{fontWeight:500},children:s.channel.name})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Expense Type"}),t.jsx(j,{variant:"body1",sx:{fontWeight:500},children:s.type.name})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Amount"}),t.jsx(j,{variant:"h6",sx:{fontWeight:700,color:"primary.main"},children:b(s.amount,s.currency)})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(j,{variant:"body1",children:cp(new Date(s.createdAt),"PPP")})]})]}),s.receiptUrl&&t.jsxs(t.Fragment,{children:[t.jsx(Bt,{sx:{my:3}}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Receipt"}),t.jsxs(Kc,{href:s.receiptUrl,target:"_blank",rel:"noopener noreferrer",sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Bs,{fontSize:"small"}),"View Receipt"]})]})]}),s.notes&&t.jsxs(t.Fragment,{children:[t.jsx(Bt,{sx:{my:3}}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Notes"}),t.jsx(j,{variant:"body1",sx:{fontStyle:"italic"},children:s.notes})]})]})]}),t.jsxs(ot,{sx:{p:3},children:[t.jsx(j,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Actions"}),t.jsxs(C,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[w&&t.jsx(he,{variant:"outlined",startIcon:t.jsx(hs,{}),onClick:S,disabled:d,children:"Edit"}),D&&t.jsx(he,{variant:"contained",startIcon:t.jsx(Xc,{}),onClick:v,disabled:d,children:"Submit for Approval"}),E&&t.jsx(he,{variant:"outlined",color:"error",startIcon:t.jsx(Cs,{}),onClick:I,disabled:d,children:"Cancel"})]})]})]}),t.jsxs(F,{item:!0,xs:12,md:4,children:[t.jsxs(ot,{sx:{p:3,mb:3},children:[t.jsx(j,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Timeline"}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",gap:2},children:[t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:"Created"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:qr(new Date(s.createdAt),{addSuffix:!0})})]}),s.submittedAt&&t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:"Submitted"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:qr(new Date(s.submittedAt),{addSuffix:!0})})]}),s.approvedAt&&t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:s.status===Je.APPROVED?"Approved":"Reviewed"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:qr(new Date(s.approvedAt),{addSuffix:!0})}),s.approver&&t.jsxs(j,{variant:"caption",display:"block",color:"text.secondary",children:["by ",s.approver.displayName]})]}),s.paidAt&&t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:"Paid"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:qr(new Date(s.paidAt),{addSuffix:!0})}),s.paymentReference&&t.jsxs(j,{variant:"caption",display:"block",color:"text.secondary",children:["Ref: ",s.paymentReference]})]})]})]}),s.rejectionReason&&t.jsxs(ot,{sx:{p:3,bgcolor:"error.lighter"},children:[t.jsx(j,{variant:"h6",sx:{mb:1,fontWeight:600,color:"error.main"},children:"Rejection Reason"}),t.jsx(j,{variant:"body2",color:"error.main",children:s.rejectionReason})]})]})]})]})},uF=Me($e)(({theme:e})=>({marginBottom:e.spacing(2),cursor:"pointer",transition:"all 0.2s ease","&:hover":{boxShadow:e.shadows[4],transform:"translateY(-1px)"}})),ty=Me(Ke)(({theme:e})=>({margin:e.spacing(.5),fontSize:"0.75rem"})),ny=()=>{var Z;const e=zo(),n=Pt(),[r,s]=m.useState(1),[o,i]=m.useState(""),[c,d]=m.useState(!0),[u,h]=m.useState([]),[x,p]=m.useState(null),[y,b]=m.useState(!1),[g,S]=m.useState(null),[v,I]=m.useState({type:"all",sortBy:"relevance"}),[w,D]=m.useState(null),{api:E}=Qe(),{execute:A}=st(),_=20;m.useEffect(()=>{const Q=new URLSearchParams(e.search),ie=Q.get("q"),V=Q.get("type");if(ie){i(ie);const ee={...v};V&&V!=="all"&&(ee.type=V,I(ee)),L(ie,ee)}},[e.search]),m.useEffect(()=>{o&&(s(1),R(1))},[v]);const O=()=>{R(r+1)},R=async(Q=r)=>{if(o){b(!0),S(null);try{const ie={};Object.entries(v).forEach(([ee,Pe])=>{if(Pe!=null&&Pe!=="")if(ee==="type"&&typeof Pe=="string"){const pe=lv[Pe];pe!==void 0&&(ie.type=pe)}else if(ee==="sortBy"&&typeof Pe=="string"){const pe=cv[Pe];pe!==void 0&&(ie.sortBy=pe)}else ie[ee]=Pe});const V=await A(()=>E==null?void 0:E.app.search.search(o,ie,{page:Q,limit:_}),{showErrorToast:!0});V&&(h(Q===1?V.items??[]:ee=>[...ee,...V.items??[]]),s(V.metadata.currentPage??1),d(V.metadata.hasNext===!0),p(V))}catch(ie){console.error("Search error:",ie),S(ie.message||"Search failed")}finally{b(!1)}}},L=async(Q,ie)=>{I(ie||v),i(Q),s(1),h([]),d(!0),setTimeout(()=>{R(1)},0)},B=Q=>{const ie={...v,...Q};D(null),o&&L(o,ie)},Y=(Q,ie)=>{const V=encodeURIComponent(Q);switch(ie){case"news":n(`${ye.APP_NEWS}?tags=${V}`);break;case"channel":n(`${ye.APP_CHANNELS}?tags=${V}`);break;case"poll":n(`${ye.APP_POLLS}?tags=${V}`);break;default:n(`${ye.APP_NEWS}?tags=${V}`);break}},$=Q=>{var Pe,pe;const ie=()=>{switch(Q.type){case"news":return t.jsx(Wo,{color:"primary"});case"channel":return t.jsx(of,{color:"secondary"});case"user":return t.jsx(sf,{color:"action"});case"poll":return t.jsx(af,{color:"info"});case"tag":return t.jsx(lf,{color:"success"});default:return t.jsx(Wo,{color:"primary"})}},V=()=>{switch(Q.type){case"news":return"primary";case"channel":return"secondary";case"user":return"default";case"poll":return"info";case"tag":return"success";default:return"default"}},ee=()=>{switch(Q.type){case"news":n(ye.APP_NEWS_VIEW.replace(":id",Q.id));break;case"channel":n(ye.APP_CHANNEL_VIEW.replace(":channelId",Q.id));break;case"poll":n(ye.APP_POLL_VIEW.replace(":id",Q.id));break;case"tag":n(`${ye.APP_SEARCH}?q=${encodeURIComponent(Q.title)}`);break}};return t.jsx(uF,{onClick:ee,children:t.jsx(Be,{children:t.jsxs(C,{sx:{display:"flex",alignItems:"flex-start",gap:2},children:[t.jsx(C,{sx:{mt:.5},children:ie()}),t.jsxs(C,{sx:{flexGrow:1},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[t.jsx(j,{variant:"h6",component:"h3",sx:{fontWeight:600},children:Q.title}),t.jsx(Ke,{label:Q.type,size:"small",color:V(),variant:"outlined"})]}),Q.description&&t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:1,lineHeight:1.6},children:Q.description}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap",mb:1},children:[Q.channel&&t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Cn,{sx:{width:20,height:20},children:(pe=(Pe=Q==null?void 0:Q.channel)==null?void 0:Pe.name)==null?void 0:pe.charAt(0)}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["in ",t.jsx("strong",{children:Q.channel.name})," (@",Q.channel.handle,")"]})]}),Q.handle&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["@",Q.handle]}),Q.publishedAt&&t.jsx(j,{variant:"caption",color:"text.secondary",children:new Date(Q.publishedAt).toLocaleDateString()}),Q.startDate&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Start: ",new Date(Q.startDate).toLocaleDateString()]}),Q.endDate&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["End: ",new Date(Q.endDate).toLocaleDateString()]}),Q.voteCount!==void 0&&t.jsx(ty,{label:`${Q.voteCount} votes`,size:"small",variant:"outlined",color:"info"}),Q.usageCount!==void 0&&t.jsx(ty,{label:`${Q.usageCount} uses`,size:"small",variant:"outlined",color:"success"})]}),Q.tags&&Q.tags.length>0&&t.jsx(C,{sx:{display:"flex",gap:.5,flexWrap:"wrap",mb:1},children:Q.tags.slice(0,5).map((Re,le)=>t.jsx(Ke,{label:Re,size:"small",variant:"outlined",onClick:re=>{re.stopPropagation(),Y(Re,Q.type)},sx:{fontSize:"0.7rem",cursor:"pointer","&:hover":{backgroundColor:"primary.main",color:"primary.contrastText"}}},le))}),t.jsxs(C,{sx:{display:"flex",justifyContent:"flex-end",gap:1,pt:1},children:[t.jsx(jt,{title:"Bookmark",children:t.jsx(Fe,{size:"small",children:t.jsx(BT,{fontSize:"small"})})}),t.jsx(jt,{title:"Share",children:t.jsx(Fe,{size:"small",children:t.jsx(VT,{fontSize:"small"})})})]})]})]})})},Q.id)},H=()=>t.jsx(t.Fragment,{children:Array.from({length:5}).map((Q,ie)=>t.jsxs(ot,{sx:{p:2,mb:2},children:[t.jsx(ce,{variant:"text",width:"60%",height:32}),t.jsx(ce,{variant:"text",width:"100%",height:20,sx:{mt:1}}),t.jsx(ce,{variant:"text",width:"80%",height:20}),t.jsxs(C,{sx:{display:"flex",gap:1,mt:1},children:[t.jsx(ce,{variant:"rounded",width:60,height:24}),t.jsx(ce,{variant:"rounded",width:80,height:24})]})]},ie))}),X=!!w,K=Q=>{D(Q.currentTarget)},q=()=>{D(null)};return t.jsxs(Et,{maxWidth:"lg",sx:{py:3},children:[(u.length>0||y)&&o&&t.jsxs(C,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h5",sx:{mb:1},children:"Search Results"}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Found ",(((Z=x==null?void 0:x.metadata)==null?void 0:Z.total)||0).toLocaleString(),' results for "',o,'"']}),(v.type!=="all"||v.sortBy!=="relevance")&&t.jsxs(ge,{direction:"row",spacing:1,sx:{mt:2},children:[t.jsx(j,{variant:"caption",color:"text.secondary",children:"Active filters:"}),v.type!=="all"&&t.jsx(Ke,{label:`Type: ${v.type}`,size:"small",onDelete:()=>B({type:"all"})}),v.sortBy!=="relevance"&&t.jsx(Ke,{label:`Sort: ${v.sortBy}`,size:"small",onDelete:()=>B({sortBy:"relevance"})})]})]}),t.jsx(he,{variant:"outlined",startIcon:t.jsx(j0,{}),onClick:K,sx:{minWidth:120},children:"Filters"})]}),t.jsx($T,{open:X,anchorEl:w,onClose:q,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:t.jsxs(ot,{sx:{p:3,minWidth:280},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[t.jsx(j,{variant:"h6",children:"Filters"}),t.jsx(Fe,{size:"small",onClick:q,children:t.jsx(FT,{fontSize:"small"})})]}),t.jsxs(ft,{fullWidth:!0,sx:{mb:2},children:[t.jsx(wt,{children:"Content Type"}),t.jsxs(mt,{value:v.type||"all",label:"Content Type",onChange:Q=>B({type:Q.target.value}),children:[t.jsx(Ce,{value:"all",children:"All Content"}),t.jsx(Ce,{value:"news",children:"Articles"}),t.jsx(Ce,{value:"channels",children:"Channels"}),t.jsx(Ce,{value:"users",children:"Journalists"}),t.jsx(Ce,{value:"polls",children:"Polls"}),t.jsx(Ce,{value:"tags",children:"Tags"})]})]}),t.jsxs(ft,{fullWidth:!0,sx:{mb:2},children:[t.jsx(wt,{children:"Sort By"}),t.jsxs(mt,{value:v.sortBy||"relevance",label:"Sort By",onChange:Q=>B({sortBy:Q.target.value}),children:[t.jsx(Ce,{value:"relevance",children:"Relevance"}),t.jsx(Ce,{value:"date",children:"Date"}),t.jsx(Ce,{value:"popularity",children:"Popularity"})]})]}),t.jsx(j,{variant:"subtitle2",sx:{mb:1},children:"Time Period"}),t.jsxs(WT,{value:v.dateFrom?"custom":"all",exclusive:!0,onChange:(Q,ie)=>{if(ie==="all")B({dateFrom:void 0,dateTo:void 0});else if(ie){const V=new Date,Pe={day:1,week:7,month:30,year:365}[ie]||0,pe=new Date(V.getTime()-Pe*24*60*60*1e3);B({dateFrom:pe,dateTo:V})}},size:"small",sx:{mb:2,width:"100%"},children:[t.jsx(Yu,{value:"all",sx:{flex:1},children:"All"}),t.jsx(Yu,{value:"week",sx:{flex:1},children:"Week"}),t.jsx(Yu,{value:"month",sx:{flex:1},children:"Month"})]})]})}),g&&t.jsx(dt,{severity:"error",sx:{mb:3},children:g}),y&&u.length===0&&H(),u.length===0&&!y&&o?t.jsxs(ot,{sx:{p:4,textAlign:"center"},children:[t.jsx(j,{variant:"h6",color:"text.secondary",children:"No results found"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Try adjusting your search terms or filters"})]}):u.length>0?t.jsx(Us,{dataLength:u.length,next:O,hasMore:c,loader:t.jsx(C,{sx:{mt:2},children:H()}),endMessage:t.jsx(C,{sx:{textAlign:"center",mt:4,color:"text.secondary",fontSize:"0.875rem"},children:"No more results to display"}),children:u.map($)}):null,!y&&!x&&!g&&t.jsxs(ot,{sx:{p:6,textAlign:"center"},children:[t.jsx(j,{variant:"h5",color:"text.secondary",sx:{mb:2},children:"Start your search"}),t.jsx(j,{variant:"body1",color:"text.secondary",children:"Search for articles, channels, journalists, polls, or tags to get started"})]})]})};var Vp={},hF=tt;Object.defineProperty(Vp,"__esModule",{value:!0});var aj=Vp.default=void 0,fF=hF(nt()),pF=t;aj=Vp.default=(0,fF.default)((0,pF.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload");const Wh=({label:e,value:n,onChange:r})=>{const s=async o=>{var i;(i=o.target.files)==null||i[0]};return t.jsx(C,{sx:{width:"100%",height:200,border:"2px dashed",borderColor:"divider",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden"},children:n?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:n,alt:"Cover",style:{width:"100%",height:"100%",objectFit:"cover"}}),t.jsx(he,{onClick:()=>r(null),sx:{position:"absolute",bottom:8,right:8},children:"Remove"})]}):t.jsxs(he,{component:"label",startIcon:t.jsx(aj,{}),children:[e??"Upload Image",t.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:s})]})})};var Up={},xF=tt;Object.defineProperty(Up,"__esModule",{value:!0});var ij=Up.default=void 0,mF=xF(nt()),gF=t;ij=Up.default=(0,mF.default)((0,gF.jsx)("path",{d:"M14 2H6.01c-1.1 0-2 .89-2 2L4 20c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8zm-1 7V3.5L18.5 9zm1 5 2-1.06v4.12L14 16v1c0 .55-.45 1-1 1H9c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h4c.55 0 1 .45 1 1z"}),"VideoFile");var zp={},bF=tt;Object.defineProperty(zp,"__esModule",{value:!0});var Go=zp.default=void 0,yF=bF(nt()),vF=t;Go=zp.default=(0,yF.default)((0,vF.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");const jF=({label:e,value:n,onChange:r})=>{const s=async i=>{var d;const c=(d=i.target.files)==null?void 0:d[0];if(c){if(c.size>52428800){alert("Video file size must be less than 50MB");return}const u=URL.createObjectURL(c);r(u)}},o=()=>{n&&URL.revokeObjectURL(n),r(null)};return t.jsx(C,{sx:{width:"100%",height:250,border:"2px dashed",borderColor:"divider",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",bgcolor:"background.paper"},children:n?t.jsxs(t.Fragment,{children:[t.jsx("video",{src:n,controls:!0,style:{width:"100%",height:"100%",objectFit:"cover"},preload:"metadata"}),t.jsx(he,{onClick:o,startIcon:t.jsx(Go,{}),color:"error",variant:"contained",size:"small",sx:{position:"absolute",bottom:8,right:8,opacity:.9},children:"Remove"})]}):t.jsxs(C,{sx:{textAlign:"center",p:3},children:[t.jsxs(he,{component:"label",startIcon:t.jsx(ij,{}),variant:"outlined",size:"large",sx:{mb:2},children:[e??"Upload Video",t.jsx("input",{type:"file",hidden:!0,accept:"video/*",onChange:s})]}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Upload short videos (max 50MB)"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:"Supported formats: MP4, WebM, MOV"})]})})},lj=({value:e,onChange:n,mediaTypeId:r,title:s="Media",description:o="Upload an image or video",useNewsFormats:i=!0})=>{const[c,d]=m.useState(0),u=i?Ec.IMAGE:Fh.IMAGE,h=i?Ec.VIDEO:Fh.VIDEO,x=b=>{n(b?{id:"0",url:b,type:r,format:u}:null)},p=b=>{n(b?{id:"0",url:b,type:r,format:h}:null)},y=(b,g)=>{d(g),e&&n(null)};return t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:s}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:o}),t.jsx(C,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:t.jsxs(mo,{value:c,onChange:y,children:[t.jsx(tr,{label:"Image"}),t.jsx(tr,{label:"Video"})]})}),c===0&&t.jsx(Wh,{label:"Upload Image",value:(e==null?void 0:e.format)===u?e.url:null,onChange:x}),c===1&&t.jsx(jF,{label:"Upload Video",value:(e==null?void 0:e.format)===h?e.url:null,onChange:p})]})},cj=({initialData:e,onSubmit:n,submitButtonText:r,isEdit:s})=>{var E;const{profile:o,channelRelations:{hasChannel:i}}=ps(),c=Pt();m.useEffect(()=>{o&&(!o.staffChannels||o.staffChannels.length)},[o]);const[d,u]=m.useState(()=>({title:(e==null?void 0:e.title)||"",channelId:(e==null?void 0:e.channelId)||"",status:(e==null?void 0:e.status)||Nn.PUBLISHED,requiredTierId:(e==null?void 0:e.requiredTierId)||null,isPremium:(e==null?void 0:e.isPremium)||!1,content:(e==null?void 0:e.content)||""})),[h,x]=m.useState(!1),[p,y]=m.useState(((E=e==null?void 0:e.media)==null?void 0:E[0])||null),[b,g]=m.useState((e==null?void 0:e.socialLinks)||[]),[S,v]=m.useState(null),I=[],w=async A=>{A.preventDefault(),x(!0),v(null);try{const _={...d,media:p?[p]:[],socialLinks:b};await n(_)}catch(_){console.error("Failed to submit news:",_),v("Failed to submit news")}finally{x(!1)}},D=m.useCallback(A=>{u(_=>({..._,content:JSON.stringify(A)}))},[]);return i()?t.jsx("form",{onSubmit:w,children:t.jsxs(ge,{spacing:4,children:[S&&t.jsx(dt,{severity:"error",sx:{width:"100%"},children:S}),o&&!i()&&t.jsx(dt,{severity:"warning",action:t.jsx(he,{color:"inherit",size:"small",onClick:()=>c(ye.STUDIO_CHANNEL_CREATE),children:"Create Channel"}),children:"You need to create a channel before you can create news articles"}),i()?t.jsxs(t.Fragment,{children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{mb:3},children:"Media"}),t.jsx(ge,{spacing:4,children:t.jsx(C,{children:t.jsx(lj,{title:"Cover Media",description:"Upload an image or short video that will be displayed at the top of your news article and in previews.",value:p?{id:p.id||"0",url:p.url,type:p.type,format:p.format}:null,onChange:A=>y(A?{id:A.id,url:A.url,type:A.type,format:A.format,newsId:""}:null),mediaTypeId:Qi.COVER})})})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{mb:3},children:"Basic Info"}),t.jsxs(ge,{spacing:4,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Title"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Create a clear and engaging title for your news article. This will be the first thing readers see."}),t.jsx(Ze,{value:d.title,onChange:A=>u(_=>({..._,title:A.target.value})),required:!0,fullWidth:!0,placeholder:"Enter news title"})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Channel"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Select the channel where this news will be published. Choose the most relevant channel for your content."}),t.jsx(ft,{fullWidth:!0,disabled:s,children:t.jsx(mt,{value:d.channelId,onChange:A=>u(_=>({..._,channelId:A.target.value})),required:!0,children:o==null?void 0:o.staffChannels.map(A=>t.jsx(Ce,{value:A.channelId,children:A.channel.name},A.id))})})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Content"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Write your news article using the editor below. You can add text, images, and other media elements."}),t.jsx(hd,{data:d.content?JSON.parse(d.content):void 0,onChange:D,placeholder:"Start writing your news content...",borderColor:A=>A.palette.mode==="dark"?fe(A.palette.common.white,.23):fe(A.palette.common.black,.23)})]})]})]}),t.jsx(C,{children:t.jsx(mp,{links:b,onChange:g})}),t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{mb:3},children:"Publishing Options"}),t.jsxs(ge,{spacing:4,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Premium Content"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Mark this content as premium to restrict access to specific subscribers."}),t.jsx(Da,{control:t.jsx(mc,{checked:d.isPremium,onChange:A=>u(_=>({..._,isPremium:A.target.checked}))}),label:"Premium Content"})]}),d.isPremium&&t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Required Subscription Tier"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Select which subscription tier is required to access this content. Higher tiers will automatically have access to content from lower tiers."}),t.jsx(ft,{fullWidth:!0,children:t.jsx(mt,{value:d.requiredTierId||"",onChange:A=>u(_=>({..._,requiredTierId:A.target.value})),required:d.isPremium,children:I.map(A=>t.jsxs(Ce,{value:A.id,children:[A.name," - ",A.description]},A.id))})})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Status"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Set the visibility status of your news article."}),t.jsx(ft,{fullWidth:!0,children:t.jsxs(mt,{value:d.status,onChange:A=>{const _=Number(A.target.value);u(O=>({...O,status:_}))},children:[t.jsx(Ce,{value:Nn.DRAFT,children:"Draft - Save for later"}),t.jsx(Ce,{value:Nn.PUBLISHED,children:"Published - Visible to readers"}),t.jsx(Ce,{value:Nn.PENDING_REVIEW,children:"Pending Review - Submit for approval"}),t.jsx(Ce,{value:Nn.ARCHIVED,children:"Archived - No longer visible"})]})})]})]})]}),t.jsx(he,{type:"submit",variant:"contained",disabled:h||!i(),sx:{py:1.5,textTransform:"none",fontWeight:600},children:h?"Submitting...":r})]}):null]})}):t.jsx(C,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",p:3},children:t.jsx(Ys,{title:"Channel Required",description:"You need to create a channel before you can start publishing news articles.",icon:t.jsx(Ji,{sx:{fontSize:48}}),action:{label:"Create Channel",onClick:()=>c(ye.STUDIO_CHANNEL_CREATE)}})})},SF=()=>{const{api:e}=Qe(),n=Pt(),{execute:r}=st(),s=async o=>{const i=await r(()=>e==null?void 0:e.app.news.createNews(o),{showSuccessMessage:!0,successMessage:"News article created successfully!"});i&&n(ye.APP_NEWS_VIEW.replace(":id",i.id))};return t.jsxs(C,{sx:{p:3,maxWidth:800},children:[t.jsx(j,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Create News"}),t.jsx(cj,{onSubmit:s,submitButtonText:"Create News",isCreate:!0})]})},wF=()=>{const{id:e}=es(),n=Pt(),{api:r}=Qe(),[s,o]=m.useState(null),{execute:i}=st(),{execute:c}=st();m.useEffect(()=>{(async()=>{if(!e)return;const h=await i(()=>r==null?void 0:r.app.news.get(e),{showErrorToast:!0});h&&o(h)})()},[e,r==null?void 0:r.app.news,i]);const d=async u=>{e&&(await c(()=>r==null?void 0:r.app.news.update(e,u),{showSuccessMessage:!0,successMessage:"News article updated successfully!"}),n(`/news/${e}`))};return s?t.jsxs(Et,{sx:{maxWidth:800,mx:"auto",p:3},children:[t.jsx(j,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Update News"}),t.jsx(cj,{initialData:s,onSubmit:d,submitButtonText:"Update News",isEdit:!0})]}):null},CF=()=>t.jsx(Et,{maxWidth:"lg",sx:{mt:4},children:t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsx(ce,{variant:"rectangular",width:"100%",height:300,sx:{borderRadius:2,mb:3}})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx($e,{children:t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[t.jsx(ce,{variant:"text",width:"60%",height:40}),t.jsx(ge,{direction:"row",spacing:1,children:[1,2,3].map(e=>t.jsx(ce,{variant:"circular",width:40,height:40},e))})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:300,sx:{mb:3,borderRadius:1}}),t.jsxs(ge,{spacing:2,sx:{mb:3},children:[t.jsx(ce,{variant:"text",width:"100%"}),t.jsx(ce,{variant:"text",width:"95%"}),t.jsx(ce,{variant:"text",width:"90%"}),t.jsx(ce,{variant:"text",width:"85%"}),t.jsx(ce,{variant:"text",width:"95%"})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:80,sx:{mb:3,borderRadius:1}}),t.jsx(ge,{direction:"row",spacing:1,children:[1,2,3,4].map(e=>t.jsx(ce,{variant:"rounded",width:80,height:32},e))})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx($e,{children:t.jsxs(Be,{children:[t.jsx(ce,{variant:"text",width:"50%",height:32,sx:{mb:2}}),t.jsx(ge,{spacing:2,children:[1,2,3,4,5].map(e=>t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[t.jsx(ce,{variant:"text",width:"40%"}),t.jsx(ce,{variant:"text",width:"20%"})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:8,sx:{borderRadius:1}})]},e))})]})})})]})}),PF=()=>{const{id:e}=es(),{api:n}=Qe(),{execute:r}=st(),[s,o]=m.useState(null),[i,c]=m.useState(!0);if(m.useEffect(()=>{(async()=>{if(e){c(!0);const x=await r(()=>n==null?void 0:n.app.news.get(e),{showErrorToast:!0});x&&o(x),c(!1)}})()},[e,r]),i)return t.jsx(CF,{});if(!s)return t.jsx(Et,{maxWidth:"lg",sx:{mt:4},children:t.jsx(j,{variant:"h4",children:"Entry not found"})});const d=s.media.find(h=>h.type===Qi.COVER),u=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(h);return t.jsx(Et,{maxWidth:"lg",sx:{mt:4},children:t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsxs(C,{sx:{height:300,width:"100%",position:"relative",mb:3,borderRadius:2,overflow:"hidden"},children:[t.jsx(C,{component:"img",src:(d==null?void 0:d.url)||ld,alt:s.title,sx:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"}}),t.jsxs(C,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(transparent, rgba(0,0,0,0.7))",p:3,color:"white"},children:[t.jsx(j,{variant:"h4",component:"h1",gutterBottom:!0,children:s.title}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsxs(C,{component:qn,to:ye.APP_CHANNEL_VIEW.replace(":channelId",s.channel.id),sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(255, 255, 255, 0.1)",color:"white",px:2,py:1,borderRadius:2,textDecoration:"none",transition:"all 0.2s ease-in-out",border:"1px solid rgba(255, 255, 255, 0.2)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.2)",transform:"translateY(-2px)"}},children:[t.jsx(Zi,{sx:{mr:1}}),t.jsx(j,{variant:"subtitle2",children:s.channel.name})]}),t.jsxs(C,{sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(0, 0, 0, 0.3)",px:2,py:1,borderRadius:2,border:"1px solid rgba(255, 255, 255, 0.1)"},children:[t.jsx(Xi,{sx:{mr:1,fontSize:"0.9rem"}}),t.jsx(j,{variant:"caption",children:s.creator.displayName})]})]}),t.jsx(j,{variant:"subtitle1",children:new Date(s.publishedAt).toLocaleDateString()})]})]})]})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx($e,{children:t.jsxs(C,{sx:{p:3},children:[t.jsx(hd,{data:Nv(s.content),readOnly:!0,borderColor:h=>h.palette.mode==="dark"?fe(h.palette.common.white,.1):fe(h.palette.common.black,.1)}),t.jsx(C,{sx:{mt:2},children:s.tags.map(h=>t.jsx(Ke,{label:h.title,variant:"outlined",sx:{mr:1,mb:1}},h.id))})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(ge,{spacing:3,children:[t.jsx(mp,{links:s.socialLinks}),s.qualityMetrics&&t.jsxs(ot,{elevation:0,sx:{p:2,bgcolor:"success.light",color:"success.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[t.jsx(yp,{fontSize:"large"}),t.jsxs(C,{children:[t.jsx(j,{variant:"overline",children:"Quality Score"}),t.jsxs(j,{variant:"h4",component:"div",children:[s.qualityMetrics.overallQualityScore.toFixed(1),"/10"]})]})]}),s.newsFund&&t.jsxs(ot,{elevation:0,sx:{p:2,bgcolor:"primary.light",color:"primary.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[t.jsx(id,{fontSize:"large"}),t.jsxs(C,{children:[t.jsx(j,{variant:"overline",children:"News Fund"}),t.jsx(j,{variant:"h4",component:"div",children:u(s.newsFund.amount)})]})]})]})})]})})};var Hp={},IF=tt;Object.defineProperty(Hp,"__esModule",{value:!0});var xd=Hp.default=void 0,DF=IF(nt()),EF=t;xd=Hp.default=(0,DF.default)((0,EF.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert");var Gp={},TF=tt;Object.defineProperty(Gp,"__esModule",{value:!0});var el=Gp.default=void 0,AF=TF(nt()),RF=t;el=Gp.default=(0,AF.default)((0,RF.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");const Yp=({open:e,onClose:n,onConfirm:r,title:s,content:o,confirmText:i="Confirm",cancelText:c="Cancel",confirmColor:d="primary"})=>t.jsxs(qt,{open:e,onClose:n,PaperProps:{sx:{width:"100%",maxWidth:400,borderRadius:2}},children:[t.jsx(tn,{sx:{pb:1,fontWeight:600},children:s}),t.jsx(Kt,{children:t.jsx(UT,{sx:{color:"text.secondary",fontSize:"0.875rem"},children:o})}),t.jsxs(Xt,{sx:{px:3,pb:2},children:[t.jsx(he,{onClick:n,variant:"outlined",color:"inherit",sx:{textTransform:"none",fontWeight:600,minWidth:100},children:c}),t.jsx(he,{onClick:r,variant:"contained",color:d,autoFocus:!0,sx:{textTransform:"none",fontWeight:600,minWidth:100},children:i})]})]}),_F=({news:e,onRefresh:n})=>{var D,E,A;const[r,s]=m.useState(null),[o,i]=m.useState(!1),c=Pt(),{api:d}=Qe(),{execute:u}=st(),h=mn(),x=_=>{_.stopPropagation(),s(_.currentTarget)},p=()=>{s(null)},y=()=>{c(ye.APP_NEWS_VIEW.replace(":id",e.id)),p()},b=()=>{c(ye.STUDIO_NEWS_EDIT.replace(":id",e.id)),p()},g=()=>{i(!0),p()},S=async()=>{await u(()=>d==null?void 0:d.app.news.delete(e.id),{showSuccessMessage:!0,successMessage:"News article deleted successfully"})&&n(),i(!1)},v=(D=e.media)==null?void 0:D.find(_=>_.type===Qi.COVER),w=(()=>{const _=new Date;return new Date(e.publishedAt)>_?{label:"Scheduled",color:"warning"}:{label:"Published",color:"success"}})();return t.jsxs($e,{onClick:()=>c(ye.STUDIO_NEWS_VIEW.replace(":id",e.id)),sx:{height:"100%",display:"flex",flexDirection:"column",position:"relative",cursor:"pointer",bgcolor:_=>fe(_.palette.mode==="dark"?_.palette.common.white:_.palette.common.black,_.palette.mode==="dark"?.05:.03),transition:h.transitions.create(["background-color","box-shadow","transform"]),"&:hover":{bgcolor:_=>fe(_.palette.mode==="dark"?_.palette.common.white:_.palette.common.black,_.palette.mode==="dark"?.08:.05),transform:"translateY(-2px)",boxShadow:_=>`0 4px 12px ${fe(_.palette.primary.main,.1)}`}},children:[t.jsx(C,{sx:{height:{xs:120,sm:140},backgroundImage:`url(${(v==null?void 0:v.url)||ld})`,backgroundSize:"cover",backgroundPosition:"center",borderTopLeftRadius:1,borderTopRightRadius:1,position:"relative","&::after":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:_=>`linear-gradient(180deg, 
              ${fe(_.palette.background.default,0)} 0%, 
              ${fe(_.palette.background.default,.8)} 100%)`}},children:t.jsx(Fe,{onClick:x,sx:{position:"absolute",top:8,right:8,zIndex:1,color:"text.primary",bgcolor:_=>fe(_.palette.background.paper,.8),backdropFilter:"blur(4px)","&:hover":{bgcolor:_=>fe(_.palette.background.paper,.95)}},children:t.jsx(xd,{fontSize:"small"})})}),t.jsx(Be,{sx:{flexGrow:1,p:{xs:2,sm:2.5}},children:t.jsxs(ge,{spacing:{xs:1.5,sm:2},children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:.5,fontSize:{xs:"1rem",sm:"1.125rem"},display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",lineHeight:1.3},children:e.title}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:1},children:[t.jsx(Zi,{sx:{fontSize:"0.875rem",mr:.5,color:"text.secondary"}}),t.jsx(j,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem"},children:e.channel.name})]}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",fontSize:{xs:"0.875rem",sm:"0.875rem"},lineHeight:1.4},children:((E=e.content)==null?void 0:E.substring(0,100))+"..."})]}),t.jsxs(ge,{direction:"row",spacing:1,flexWrap:"wrap",sx:{gap:1},children:[t.jsx(Ke,{size:"small",label:w.label,color:w.color,sx:{height:24,fontSize:"0.75rem","& .MuiChip-label":{px:1}}}),t.jsx(Ke,{size:"small",label:new Date(e.publishedAt).toLocaleDateString(),sx:{height:24,fontSize:"0.75rem",bgcolor:_=>fe(_.palette.text.secondary,.1),color:"text.secondary","& .MuiChip-label":{px:1}}}),((A=e==null?void 0:e.tags)==null?void 0:A.length)>0&&t.jsx(Ke,{size:"small",label:`${e.tags.length} tags`,sx:{height:24,fontSize:"0.75rem",bgcolor:_=>fe(_.palette.secondary.main,_.palette.mode==="dark"?.15:.08),color:"secondary.main","& .MuiChip-label":{px:1}}})]})]})}),t.jsxs(xo,{anchorEl:r,open:!!r,onClose:p,onClick:_=>_.stopPropagation(),PaperProps:{sx:{width:200,mt:1}},children:[t.jsxs(Ce,{onClick:y,children:[t.jsx(en,{children:t.jsx(Ho,{fontSize:"small"})}),t.jsx(Yt,{primary:"View Article"})]}),t.jsxs(Ce,{onClick:b,children:[t.jsx(en,{children:t.jsx(el,{fontSize:"small"})}),t.jsx(Yt,{primary:"Edit Article"})]}),t.jsxs(Ce,{onClick:g,sx:{color:"error.main"},children:[t.jsx(en,{sx:{color:"inherit"},children:t.jsx(Go,{fontSize:"small"})}),t.jsx(Yt,{primary:"Delete Article"})]})]}),t.jsx(Yp,{open:o,title:"Delete News Article",content:"Are you sure you want to delete this news article? This action cannot be undone.",onConfirm:S,onClose:()=>i(!1),confirmText:"Delete",confirmColor:"error"})]})},OF=()=>{const[e,n]=m.useState([]),[r,s]=m.useState(1),[o,i]=m.useState(!0),[c,d]=m.useState(!0),{api:u}=Qe(),{profile:h}=ps(),x=Pt(),{execute:p}=st(),y=mn(),b=()=>{g(r+1)},g=async(v=r)=>{if(!h)return;const I=await p(()=>u==null?void 0:u.app.news.getCreatorNews(h.id,{page:v,limit:12}),{showErrorToast:!0});I&&(n(w=>v===1?(I==null?void 0:I.items)??[]:[...w,...(I==null?void 0:I.items)??[]]),s((I==null?void 0:I.metadata.currentPage)??1),i((I==null?void 0:I.metadata.hasNext)===!0)),d(!1)};m.useEffect(()=>{h&&g(1)},[h]);const S=()=>t.jsxs(C,{sx:{p:2,borderRadius:1,bgcolor:v=>fe(v.palette.mode==="dark"?v.palette.common.white:v.palette.common.black,v.palette.mode==="dark"?.05:.03),height:{xs:280,sm:320},transition:y.transitions.create(["background-color","height"])},children:[t.jsx(ce,{variant:"rectangular",sx:{borderRadius:1,height:{xs:120,sm:140},mb:2}}),t.jsxs(C,{sx:{p:1},children:[t.jsx(ce,{width:"90%",height:24,sx:{mb:1}}),t.jsx(ce,{width:"60%",height:16,sx:{mb:1}}),t.jsx(ce,{width:"95%",height:20,sx:{mb:1}}),t.jsx(ce,{width:"80%",height:20,sx:{mb:2}}),t.jsxs(C,{sx:{display:"flex",gap:1},children:[t.jsx(ce,{width:"25%",height:24}),t.jsx(ce,{width:"30%",height:24}),t.jsx(ce,{width:"20%",height:24})]})]})]});return t.jsxs(C,{sx:{px:{xs:2,sm:3,md:4},py:{xs:2,sm:3},maxWidth:"lg",mx:"auto",width:"100%"},children:[t.jsx(C,{sx:{mb:{xs:2,sm:3}},children:t.jsx(j,{variant:"h5",sx:{fontWeight:600,fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:c?t.jsx(ce,{width:150}):"My News"})}),c?t.jsx(F,{container:!0,spacing:2,children:[1,2,3,4].map(v=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(S,{})},v))}):e.length===0?t.jsx(Ys,{title:"No News Yet",description:"Start creating your first news article to share with your subscribers.",icon:t.jsx(Hf,{sx:{fontSize:{xs:40,sm:48}}}),action:{label:"Create News",onClick:()=>x(ye.STUDIO_NEWS_CREATE)}}):t.jsx(Us,{dataLength:e.length,next:b,hasMore:o,loader:t.jsx(F,{container:!0,spacing:2,sx:{mt:.5},children:[1,2,3].map(v=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(S,{})},v))}),children:t.jsx(F,{container:!0,spacing:2,children:e.map(v=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(_F,{news:v,onRefresh:()=>g(1)})},v.id))})})]})},kF=({channel:e,onRefresh:n})=>{var b;const r=Pt(),{api:s}=Qe(),{execute:o}=st(),[i,c]=m.useState(null),[d,u]=m.useState(!1),h=mn(),x=g=>{g.stopPropagation(),c(g.currentTarget)},p=()=>{c(null)},y=async()=>{await o(()=>s==null?void 0:s.app.channel.deleteChannel(e.id),{showSuccessMessage:!0,successMessage:"Channel deleted successfully"})&&n(),u(!1)};return t.jsxs(t.Fragment,{children:[t.jsxs($e,{onClick:()=>r(ye.STUDIO_CHANNEL_EDIT.replace(":channelId",e.id)),sx:{height:"100%",display:"flex",flexDirection:"column",position:"relative",cursor:"pointer",transition:h.transitions.create(["box-shadow","transform"],{duration:h.transitions.duration.shorter}),"&:hover":{transform:"translateY(-2px)",boxShadow:g=>`0 4px 12px ${fe(g.palette.primary.main,.1)}`}},children:[t.jsx(C,{sx:{height:{xs:100,sm:120},backgroundImage:`url(${(e==null?void 0:e.bannerUrl)||"https://via.placeholder.com/600x400"})`,backgroundSize:"cover",backgroundPosition:"center",borderTopLeftRadius:1,borderTopRightRadius:1,position:"relative","&::after":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:g=>`linear-gradient(180deg, 
                ${fe(g.palette.background.default,0)} 0%, 
                ${fe(g.palette.background.default,.8)} 100%)`}},children:t.jsx(Fe,{onClick:x,sx:{position:"absolute",top:8,right:8,zIndex:1,color:"text.primary",bgcolor:g=>fe(g.palette.background.paper,.8),backdropFilter:"blur(4px)","&:hover":{bgcolor:g=>fe(g.palette.background.paper,.95)}},children:t.jsx(xd,{fontSize:"small"})})}),t.jsx(Be,{sx:{flexGrow:1,p:{xs:2,sm:2.5}},children:t.jsxs(ge,{spacing:{xs:1.5,sm:2},children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:.5,fontSize:{xs:"1rem",sm:"1.125rem"}},children:e.name}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",fontSize:{xs:"0.875rem",sm:"0.875rem"},lineHeight:1.5},children:e.description})]}),t.jsxs(ge,{direction:"row",spacing:1,flexWrap:"wrap",sx:{gap:1},children:[t.jsx(Ke,{size:"small",label:`${(b=e==null?void 0:e.stats)==null?void 0:b.activeSubscriptionCount} subscribers`,sx:{height:24,fontSize:"0.75rem",bgcolor:g=>fe(g.palette.primary.main,g.palette.mode==="dark"?.15:.08),color:"primary.main","& .MuiChip-label":{px:1}}}),t.jsx(Ke,{size:"small",label:"10 news",sx:{height:24,fontSize:"0.75rem",bgcolor:g=>fe(g.palette.secondary.main,g.palette.mode==="dark"?.15:.08),color:"secondary.main","& .MuiChip-label":{px:1}}})]})]})})]}),t.jsxs(xo,{anchorEl:i,open:!!i,onClose:p,onClick:g=>g.stopPropagation(),PaperProps:{sx:{width:200,mt:1}},children:[t.jsxs(Ce,{onClick:()=>{r(ye.STUDIO_CHANNEL_EDIT.replace(":channelId",e.id)),p()},children:[t.jsx(en,{children:t.jsx(el,{fontSize:"small"})}),t.jsx(Yt,{primary:"Edit Channel"})]}),t.jsxs(Ce,{onClick:()=>{r(ye.APP_CHANNEL_VIEW.replace(":channelId",e.id)),p()},children:[t.jsx(en,{children:t.jsx(Ho,{fontSize:"small"})}),t.jsx(Yt,{primary:"View Public Page"})]}),t.jsxs(Ce,{onClick:()=>{u(!0),p()},sx:{color:"error.main"},children:[t.jsx(en,{sx:{color:"inherit"},children:t.jsx(Go,{fontSize:"small"})}),t.jsx(Yt,{primary:"Delete Channel"})]})]}),t.jsx(Yp,{open:d,onClose:()=>u(!1),onConfirm:y,title:"Delete Channel",content:"Are you sure you want to delete this channel? This action cannot be undone.",confirmText:"Delete",confirmColor:"error"})]})},MF=()=>{const[e,n]=m.useState([]),[r,s]=m.useState(1),[o,i]=m.useState(!0),[c,d]=m.useState(!0),{api:u}=Qe(),h=Pt(),x=mn(),{execute:p}=st(),y=()=>{b(r+1)},b=async(S=r)=>{const v=await p(()=>u==null?void 0:u.studio.getMyChannels(),{showErrorToast:!0});v&&(n(I=>S===1?(v==null?void 0:v.items)??[]:[...I,...(v==null?void 0:v.items)??[]]),s((v==null?void 0:v.metadata.currentPage)??1),i((v==null?void 0:v.metadata.hasNext)===!0)),d(!1)};m.useEffect(()=>{b(1)},[]);const g=()=>t.jsxs(C,{sx:{p:2,borderRadius:1,bgcolor:S=>fe(S.palette.mode==="dark"?S.palette.common.white:S.palette.common.black,S.palette.mode==="dark"?.05:.03),height:{xs:180,sm:200},transition:x.transitions.create(["background-color","height"])},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[t.jsx(ce,{variant:"circular",width:32,height:32,sx:{mr:1.5}}),t.jsxs(C,{sx:{width:"100%"},children:[t.jsx(ce,{width:"60%",height:20}),t.jsx(ce,{width:"40%",height:16})]})]}),t.jsx(ce,{variant:"rectangular",sx:{borderRadius:1,height:{xs:70,sm:80}}}),t.jsx(C,{sx:{mt:1.5},children:t.jsx(ce,{width:"30%",height:20})})]});return t.jsxs(C,{sx:{px:{xs:2,sm:3,md:4},py:{xs:2,sm:3},maxWidth:"lg",mx:"auto",width:"100%"},children:[t.jsx(C,{sx:{mb:{xs:2,sm:3}},children:t.jsx(j,{variant:"h5",sx:{fontWeight:600,fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:c?t.jsx(ce,{width:150}):"My Channels"})}),c?t.jsx(F,{container:!0,spacing:2,children:[1,2].map(S=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(g,{})},S))}):e.length===0?t.jsx(Ys,{title:"No Channels Yet",description:"Create your first channel to start publishing news and connecting with subscribers.",icon:t.jsx(Ji,{sx:{fontSize:{xs:40,sm:48}}}),action:{label:"Create Channel",onClick:()=>h(ye.STUDIO_CHANNEL_CREATE)}}):t.jsx(Us,{dataLength:e.length,next:y,hasMore:o,loader:t.jsx(F,{container:!0,spacing:2,sx:{mt:.5},children:[1,2].map(S=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(g,{})},S))}),children:t.jsx(F,{container:!0,spacing:2,children:e.map(S=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(kF,{channel:S,onRefresh:()=>b(1)})},S.id))})})]})},Zl={ACTIVE:1,INACTIVE:2,PRIVATE:3,SUSPENDED:4,DELETED:5},dj=({initialData:e,onSubmit:n,submitButtonText:r})=>{const[s,o]=m.useState(!1),[i,c]=m.useState(()=>({name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",handle:(e==null?void 0:e.handle)||"",status:(e==null?void 0:e.status)||Zl.ACTIVE,logoUrl:(e==null?void 0:e.logoUrl)||"",bannerUrl:(e==null?void 0:e.bannerUrl)||"",tags:(e==null?void 0:e.tags)||[]})),[d,u]=m.useState((e==null?void 0:e.logoUrl)||void 0),[h,x]=m.useState((e==null?void 0:e.bannerUrl)||void 0),p=async y=>{y.preventDefault(),o(!0);try{await n({...i,logoUrl:d||"",bannerUrl:h||"",tags:[]})}catch(b){console.error("Failed to submit channel:",b)}finally{o(!1)}};return t.jsx("form",{onSubmit:p,children:t.jsxs(ge,{spacing:4,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{mb:3},children:"Branding"}),t.jsxs(ge,{spacing:4,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Channel Logo"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"This image will appear next to your channel's content. Use a square image for best results."}),t.jsx(Wh,{label:"Upload Channel Logo",value:d,onChange:u})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Channel Banner"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"This image appears at the top of your channel page. Recommended size: 2048 x 1152 pixels."}),t.jsx(Wh,{label:"Upload Channel Banner",value:h,onChange:x})]})]})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{mb:3},children:"Basic Info"}),t.jsxs(ge,{spacing:4,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Channel Name"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Choose a name that represents your channel. You can change this later."}),t.jsx(Ze,{value:i.name,onChange:y=>c(b=>({...b,name:y.target.value})),required:!0,fullWidth:!0,placeholder:"Enter channel name"})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Channel Handle"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"This is the unique identifier for your channel. It will be used in the URL of your channel page."}),t.jsx(Ze,{value:i.handle,onChange:y=>c(b=>({...b,handle:y.target.value})),required:!0,fullWidth:!0,placeholder:"Enter channel handle"})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Description"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Tell viewers about your channel. This appears in search results and your channel page."}),t.jsx(Ze,{value:i.description,onChange:y=>c(b=>({...b,description:y.target.value})),multiline:!0,rows:4,fullWidth:!0,placeholder:"Tell your story..."})]})]})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{mb:3},children:"Channel Settings"}),t.jsx(ge,{spacing:4,children:t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Channel Visibility"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Control who can see and access your channel's content."}),t.jsx(ft,{fullWidth:!0,children:t.jsxs(mt,{value:i.status,onChange:y=>{const b=Number(y.target.value);c(g=>({...g,status:b}))},children:[t.jsx(Ce,{value:Zl.ACTIVE,children:"Public - Channel is visible to everyone"}),t.jsx(Ce,{value:Zl.PRIVATE,children:"Private - Only invited members can access"}),t.jsx(Ce,{value:Zl.INACTIVE,children:"Hidden - Channel is temporarily hidden from public view"})]})})]})})]}),t.jsx(he,{type:"submit",variant:"contained",disabled:s,sx:{py:1.5,textTransform:"none",fontWeight:600},children:s?"Submitting...":r})]})})},NF=()=>{const{api:e}=Qe(),n=Pt(),{execute:r}=st(),{actions:{refreshProfile:s}}=ps(),o=async i=>{if(!i)return;await r(()=>e==null?void 0:e.studio.createChannel(i),{showSuccessMessage:!0,successMessage:"Channel created successfully!"})&&(await s(),n(`${ye.STUDIO_CHANNELS}`))};return t.jsxs(Et,{sx:{maxWidth:800,mx:"auto",p:3},children:[t.jsx(j,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Create Channel"}),t.jsx(dj,{onSubmit:o,submitButtonText:"Create Channel"})]})},LF=()=>t.jsxs(Et,{maxWidth:"md",sx:{mt:4,textAlign:"center"},children:[t.jsx(j,{variant:"h3",gutterBottom:!0,children:"404 - Page Not Found"}),t.jsx(j,{variant:"h6",gutterBottom:!0,children:"The page you are looking for does not exist."}),t.jsx(C,{sx:{mt:4},children:t.jsx(he,{variant:"contained",color:"primary",component:qn,to:"/",children:"Go to Home"})})]}),uj=({expenseOrder:e,channels:n,expenseTypes:r,onSave:s,onSubmit:o,loading:i=!1,isEdit:c=!1})=>{const[d,u]=m.useState({channelId:(e==null?void 0:e.channel.id)||"",typeId:(e==null?void 0:e.type.id)||0,title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",amount:(e==null?void 0:e.amount)||0,currency:(e==null?void 0:e.currency)||"USD",receiptUrl:(e==null?void 0:e.receiptUrl)||"",notes:(e==null?void 0:e.notes)||""}),[h,x]=m.useState({}),[p,y]=m.useState(!1),b=()=>{const w={};return d.channelId||(w.channelId="Channel is required"),d.typeId||(w.typeId="Expense type is required"),d.title.trim()||(w.title="Title is required"),d.description.trim()||(w.description="Description is required"),d.amount<=0&&(w.amount="Amount must be greater than 0"),d.currency.trim()||(w.currency="Currency is required"),x(w),Object.keys(w).length===0},g=(w,D)=>{u(E=>({...E,[w]:D})),h[w]&&x(E=>({...E,[w]:""}))},S=async()=>{if(b())try{if(c){const w={title:d.title,description:d.description,amount:d.amount,currency:d.currency,typeId:Number(d.typeId),receiptUrl:d.receiptUrl,notes:d.notes};await s(w)}else{const w={channelId:d.channelId,typeId:Number(d.typeId),title:d.title,description:d.description,amount:d.amount,currency:d.currency,receiptUrl:d.receiptUrl,notes:d.notes};await s(w)}}catch(w){console.error("Error saving expense order:",w)}},v=async()=>{if(!(!e||!o)){y(!0);try{await o(e)}catch(w){console.error("Error submitting expense order:",w)}finally{y(!1)}}},I=c&&(e==null?void 0:e.status)===Je.DRAFT&&o;return t.jsxs(Fp,{children:[t.jsx(j,{variant:"h6",sx:{mb:3,fontWeight:600},children:c?"Edit Expense Order":"Create New Expense Order"}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(ft,{fullWidth:!0,error:!!h.channelId,children:[t.jsx(wt,{children:"Channel"}),t.jsx(mt,{value:d.channelId,label:"Channel",onChange:w=>g("channelId",w.target.value),disabled:c,children:n.map(w=>t.jsx(Ce,{value:w.id,children:w.name},w.id))}),h.channelId&&t.jsx(j,{variant:"caption",color:"error",sx:{mt:.5},children:h.channelId})]})}),t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(ft,{fullWidth:!0,error:!!h.typeId,children:[t.jsx(wt,{children:"Expense Type"}),t.jsx(mt,{value:d.typeId,label:"Expense Type",onChange:w=>g("typeId",w.target.value),children:r.map(w=>t.jsx(Ce,{value:w.id,children:w.name},w.id))}),h.typeId&&t.jsx(j,{variant:"caption",color:"error",sx:{mt:.5},children:h.typeId})]})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(Ze,{fullWidth:!0,label:"Title",value:d.title,onChange:w=>g("title",w.target.value),error:!!h.title,helperText:h.title,placeholder:"Enter expense title"})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(Ze,{fullWidth:!0,multiline:!0,rows:3,label:"Description",value:d.description,onChange:w=>g("description",w.target.value),error:!!h.description,helperText:h.description,placeholder:"Describe the expense in detail"})}),t.jsx(F,{item:!0,xs:12,md:6,children:t.jsx(Ze,{fullWidth:!0,type:"number",label:"Amount",value:d.amount,onChange:w=>g("amount",parseFloat(w.target.value)||0),error:!!h.amount,helperText:h.amount,InputProps:{startAdornment:t.jsx(Qr,{position:"start",children:"$"})}})}),t.jsx(F,{item:!0,xs:12,md:6,children:t.jsx(Ze,{fullWidth:!0,label:"Currency",value:d.currency,onChange:w=>g("currency",w.target.value.toUpperCase()),error:!!h.currency,helperText:h.currency,placeholder:"USD",inputProps:{maxLength:3}})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(Ze,{fullWidth:!0,label:"Receipt URL",value:d.receiptUrl,onChange:w=>g("receiptUrl",w.target.value),placeholder:"https://example.com/receipt.pdf",InputProps:{startAdornment:t.jsx(Qr,{position:"start",children:t.jsx(zT,{})})}})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(Ze,{fullWidth:!0,multiline:!0,rows:2,label:"Notes (Optional)",value:d.notes,onChange:w=>g("notes",w.target.value),placeholder:"Additional notes or comments"})}),t.jsx(F,{item:!0,xs:12,children:t.jsxs(C,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[t.jsx(he,{variant:"outlined",startIcon:i?t.jsx(_n,{size:16}):t.jsx(b0,{}),onClick:S,disabled:i||p,children:"Save as Draft"}),I&&t.jsx(he,{variant:"contained",startIcon:p?t.jsx(_n,{size:16}):t.jsx(Xc,{}),onClick:v,disabled:i||p,children:"Submit for Approval"})]})})]})]})},$F=({onCreateNew:e,onEdit:n,onView:r,userRole:s="journalist",channelId:o,showCreateButton:i=!0})=>{const{api:c}=Qe(),[d,u]=m.useState([]),[h,x]=m.useState(!0),[p,y]=m.useState(null),[b,g]=m.useState(""),[S,v]=m.useState(1),[I,w]=m.useState(1),[D,E]=m.useState(!1),A=async(X=1)=>{var K,q;try{x(X===1),y(null);let Z;const Q={page:X,limit:10};s==="journalist"?Z=await c.app.expenseOrder.getMyExpenseOrders(Q,b||void 0):o?Z=await c.app.expenseOrder.getExpenseOrdersByChannel(o,Q,b||void 0):Z=await c.app.expenseOrder.getPendingExpenseOrders(Q),u(Z.data),w(Math.ceil(Z.total/Z.limit)),v(X)}catch(Z){y(((q=(K=Z.response)==null?void 0:K.data)==null?void 0:q.message)||"Failed to load expense orders"),console.error("Error loading expense orders:",Z)}finally{x(!1),E(!1)}};m.useEffect(()=>{A(1)},[b,s,o]);const _=async()=>{E(!0),await A(S)},O=(X,K)=>{A(K)},R=async X=>{var K,q;try{await c.app.expenseOrder.submitExpenseOrder(X.id),await A(S)}catch(Z){console.error("Error submitting expense order:",Z),y(((q=(K=Z.response)==null?void 0:K.data)==null?void 0:q.message)||"Failed to submit expense order")}},L=async X=>{var K,q;try{await c.app.expenseOrder.cancelExpenseOrder(X.id,"Cancelled by user"),await A(S)}catch(Z){console.error("Error cancelling expense order:",Z),y(((q=(K=Z.response)==null?void 0:K.data)==null?void 0:q.message)||"Failed to cancel expense order")}},B=async X=>{var K,q;try{await c.app.expenseOrder.approveExpenseOrder(X.id),await A(S)}catch(Z){console.error("Error approving expense order:",Z),y(((q=(K=Z.response)==null?void 0:K.data)==null?void 0:q.message)||"Failed to approve expense order")}},Y=async X=>{var K,q;try{const Z=prompt("Please provide a reason for rejection:");Z&&(await c.app.expenseOrder.rejectExpenseOrder(X.id,{rejectionReason:Z}),await A(S))}catch(Z){console.error("Error rejecting expense order:",Z),y(((q=(K=Z.response)==null?void 0:K.data)==null?void 0:q.message)||"Failed to reject expense order")}},$=async X=>{var K,q;try{await c.app.expenseOrder.processPayment(X.id),await A(S)}catch(Z){console.error("Error processing payment:",Z),y(((q=(K=Z.response)==null?void 0:K.data)==null?void 0:q.message)||"Failed to process payment")}},H=()=>{switch(s){case"journalist":return"My Expense Orders";case"admin":case"finance-manager":return o?"Channel Expense Orders":"All Expense Orders";default:return"Expense Orders"}};return t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[t.jsx(j,{variant:"h5",sx:{fontWeight:600},children:H()}),t.jsxs(C,{sx:{display:"flex",gap:2,alignItems:"center"},children:[t.jsxs(ft,{size:"small",sx:{minWidth:150},children:[t.jsx(wt,{children:"Status Filter"}),t.jsxs(mt,{value:b,label:"Status Filter",onChange:X=>g(X.target.value),children:[t.jsx(Ce,{value:"",children:"All Statuses"}),t.jsx(Ce,{value:Je.DRAFT,children:"Draft"}),t.jsx(Ce,{value:Je.SUBMITTED,children:"Submitted"}),t.jsx(Ce,{value:Je.UNDER_REVIEW,children:"Under Review"}),t.jsx(Ce,{value:Je.APPROVED,children:"Approved"}),t.jsx(Ce,{value:Je.REJECTED,children:"Rejected"}),t.jsx(Ce,{value:Je.PAID,children:"Paid"}),t.jsx(Ce,{value:Je.CANCELLED,children:"Cancelled"})]})]}),t.jsx(he,{variant:"outlined",startIcon:D?t.jsx(_n,{size:16}):t.jsx(S0,{}),onClick:_,disabled:D,size:"small",children:"Refresh"}),i&&s==="journalist"&&e&&t.jsx(he,{variant:"contained",startIcon:t.jsx(fo,{}),onClick:e,children:"Create Expense Order"})]})]}),p&&t.jsx(dt,{severity:"error",sx:{mb:3},onClose:()=>y(null),children:p}),h?t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(_n,{})}):d.length===0?t.jsxs(C,{sx:{textAlign:"center",py:6},children:[t.jsx(j,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"No expense orders found"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:s==="journalist"?"You haven't created any expense orders yet.":"No expense orders match your current filter."}),i&&s==="journalist"&&e&&t.jsx(he,{variant:"contained",startIcon:t.jsx(fo,{}),onClick:e,children:"Create Your First Expense Order"})]}):t.jsxs(t.Fragment,{children:[t.jsx(F,{container:!0,spacing:3,children:d.map(X=>t.jsx(F,{item:!0,xs:12,md:6,lg:4,children:t.jsx(Bp,{expenseOrder:X,onView:r,onEdit:n,onSubmit:R,onCancel:L,onApprove:B,onReject:Y,onProcessPayment:$,userRole:s})},X.id))}),I>1&&t.jsx(C,{sx:{display:"flex",justifyContent:"center",mt:4},children:t.jsx(HT,{count:I,page:S,onChange:O,color:"primary",size:"large"})})]})]})},FF=({channelId:e,onCreateExpenseOrder:n,onViewExpenseOrder:r,userRole:s="journalist"})=>{const{api:o}=Qe(),i=mn(),[c,d]=m.useState(null),[u,h]=m.useState(null),[x,p]=m.useState(!0),[y,b]=m.useState(null);m.useEffect(()=>{g()},[e]);const g=async()=>{var w,D;try{p(!0),b(null);const E=await o.app.expenseOrder.getExpenseOrderStats(e);if(d(E),e){const A=await o.app.channel.getChannel(e);h(A)}}catch(E){b(((D=(w=E.response)==null?void 0:w.data)==null?void 0:D.message)||"Failed to load dashboard data"),console.error("Error loading dashboard data:",E)}finally{p(!1)}},S=(w,D="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:D}).format(w),v=w=>{switch(w){case"paid":return i.palette.success.main;case"approved":return i.palette.info.main;case"submitted":case"underReview":return i.palette.warning.main;case"rejected":case"cancelled":return i.palette.error.main;case"draft":default:return i.palette.grey[500]}},I=({title:w,value:D,icon:E,color:A,subtitle:_})=>t.jsx($e,{sx:{height:"100%",border:`1px solid ${fe(A,.2)}`,"&:hover":{boxShadow:i.shadows[4],transform:"translateY(-2px)",transition:"all 0.2s ease-in-out"}},children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(C,{sx:{p:1,borderRadius:2,bgcolor:fe(A,.1),color:A,mr:2},children:E}),t.jsx(j,{variant:"h6",sx:{fontWeight:600,color:"text.primary"},children:w})]}),t.jsx(j,{variant:"h4",sx:{fontWeight:700,color:A,mb:1},children:D}),_&&t.jsx(j,{variant:"body2",color:"text.secondary",children:_})]})});return x?t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:8},children:t.jsx(_n,{size:40})}):y?t.jsx(dt,{severity:"error",sx:{mb:3},children:y}):t.jsxs(C,{children:[t.jsxs(C,{sx:{mb:4},children:[t.jsx(j,{variant:"h4",sx:{fontWeight:700,mb:1},children:u?`${u.name} Payouts`:"Payout Dashboard"}),t.jsx(j,{variant:"body1",color:"text.secondary",children:s==="journalist"?"Manage your expense orders and track payments":"Overview of expense orders and payout statistics"})]}),c&&t.jsxs(t.Fragment,{children:[t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(I,{title:"Total Orders",value:c.total,icon:t.jsx(Bs,{}),color:i.palette.primary.main,subtitle:"All time"})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(I,{title:"Total Amount",value:S(c.totalAmount),icon:t.jsx(Vs,{}),color:i.palette.secondary.main,subtitle:"Requested"})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(I,{title:"Paid Amount",value:S(c.totalPaidAmount),icon:t.jsx(Wa,{}),color:i.palette.success.main,subtitle:"Completed payments"})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(I,{title:"Pending",value:c.submitted+c.underReview+c.approved,icon:t.jsx(GT,{}),color:i.palette.warning.main,subtitle:"Awaiting action"})})]}),t.jsx($e,{sx:{mb:4},children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:3},children:"Status Breakdown"}),t.jsx(F,{container:!0,spacing:2,children:[{label:"Draft",value:c.draft,status:"draft"},{label:"Submitted",value:c.submitted,status:"submitted"},{label:"Under Review",value:c.underReview,status:"underReview"},{label:"Approved",value:c.approved,status:"approved"},{label:"Paid",value:c.paid,status:"paid"},{label:"Rejected",value:c.rejected,status:"rejected"},{label:"Cancelled",value:c.cancelled,status:"cancelled"}].map(w=>t.jsx(F,{item:!0,xs:6,sm:4,md:3,lg:2,children:t.jsxs(C,{sx:{textAlign:"center",p:2},children:[t.jsx(j,{variant:"h5",sx:{fontWeight:700,color:v(w.status),mb:1},children:w.value}),t.jsx(Ke,{label:w.label,size:"small",sx:{bgcolor:fe(v(w.status),.1),color:v(w.status),fontWeight:500}})]})},w.status))})]})})]}),t.jsx($e,{children:t.jsx(Be,{children:t.jsx($F,{userRole:s,channelId:e,onCreateNew:n,onView:r?w=>r(w.id):void 0,showCreateButton:s==="journalist"})})}),s==="journalist"&&t.jsx(C,{sx:{mt:4,display:"flex",justifyContent:"center"},children:t.jsx(he,{variant:"contained",size:"large",startIcon:t.jsx(Bs,{}),onClick:n,sx:{px:4,py:1.5},children:"Create New Expense Order"})})]})},WF=()=>{var b,g,S,v,I;const[e,n]=m.useState(null),[r,s]=m.useState(!0),[o,i]=m.useState(0),{channelId:c}=es(),{api:d}=Qe(),u=Pt(),h=async()=>{try{if(c){const w=await(d==null?void 0:d.app.channel.getChannel(c));w&&n(w)}}catch(w){console.error("Failed to fetch channel:",w)}finally{s(!1)}};m.useEffect(()=>{h()},[]);const x=()=>{u("/studio/payouts")},p=w=>{u(`/studio/payouts/orders/${w}`)},y=(w,D)=>{i(D)};return r?t.jsxs(Et,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs(C,{sx:{textAlign:"center",mb:4},children:[t.jsx(ce,{variant:"circular",width:100,height:100,sx:{mx:"auto",mb:2}}),t.jsx(ce,{variant:"text",width:"60%",sx:{mx:"auto",mb:1}}),t.jsx(ce,{variant:"text",width:"40%",sx:{mx:"auto",mb:2}})]}),t.jsx(F,{container:!0,spacing:3,children:[...Array(3)].map((w,D)=>t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx($e,{children:t.jsxs(Be,{children:[t.jsx(ce,{variant:"text",width:"80%"}),t.jsx(ce,{variant:"text",width:"60%"}),t.jsx(ce,{variant:"rectangular",height:100,sx:{my:2}})]})})},D))})]}):e?t.jsxs(Et,{maxWidth:"lg",sx:{mt:4},children:[t.jsx(C,{sx:{position:"relative",mb:4,"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:200,backgroundImage:e!=null&&e.bannerUrl?`url(${e.bannerUrl})`:void 0,background:e!=null&&e.bannerUrl?void 0:w=>`linear-gradient(135deg, ${w.palette.primary.main} 0%, ${w.palette.primary.light} 100%)`,backgroundSize:"cover",backgroundPosition:"center",filter:"brightness(0.9)"}},children:t.jsxs(C,{sx:{position:"relative",pt:15,pb:4,textAlign:"center"},children:[t.jsx(Cn,{src:e.logoUrl,sx:{width:100,height:100,mx:"auto",mb:2,border:"3px solid white",boxShadow:2}}),t.jsx(j,{variant:"h4",gutterBottom:!0,children:e.name}),t.jsxs(j,{variant:"subtitle1",color:"text.secondary",gutterBottom:!0,children:[((g=(b=e.stats)==null?void 0:b.activeSubscriptionCount)==null?void 0:g.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1}))||0," followers  ",((v=(S=e.stats)==null?void 0:S.paidSubscriptionCount)==null?void 0:v.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1}))||0," subscribers"]}),t.jsx(j,{variant:"body1",sx:{mb:3},children:e.description}),t.jsx(Bt,{sx:{mb:4}})]})}),t.jsx(C,{sx:{mb:3},children:t.jsxs(mo,{value:o,onChange:y,"aria-label":"channel tabs",sx:{borderBottom:1,borderColor:"divider"},children:[t.jsx(tr,{label:"Subscription Tiers",id:"channel-tab-0","aria-controls":"channel-tabpanel-0"}),t.jsx(tr,{label:"Payouts",icon:t.jsx(Vs,{}),iconPosition:"start",id:"channel-tab-1","aria-controls":"channel-tabpanel-1"})]})}),t.jsx("div",{role:"tabpanel",hidden:o!==0,id:"channel-tabpanel-0","aria-labelledby":"channel-tab-0",children:o===0&&t.jsxs(C,{children:[t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Subscription Tiers"}),t.jsx(F,{container:!0,spacing:3,children:(I=e.tiers)==null?void 0:I.map(w=>t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(Fp,{children:[t.jsxs(C,{sx:{mb:3},children:[t.jsx(j,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,fontSize:"1rem"},children:w.name}),t.jsxs(j,{variant:"h4",sx:{fontWeight:700,fontSize:"2rem",display:"flex",alignItems:"baseline",gap:.5},children:[w.price!==void 0&&w.currency?new Intl.NumberFormat("en-US",{style:"currency",currency:w.currency.toUpperCase()}).format(w.price/100):`$${w.price||0}`,t.jsx(j,{component:"span",sx:{fontSize:"0.875rem",fontWeight:400,color:"text.secondary"},children:"/month"})]})]}),t.jsx(j,{variant:"body2",sx:{mb:3,color:"text.secondary",minHeight:60},children:w.description})]})},w.id))})]})}),t.jsx("div",{role:"tabpanel",hidden:o!==1,id:"channel-tabpanel-1","aria-labelledby":"channel-tab-1",children:o===1&&t.jsx(C,{children:t.jsx(FF,{channelId:c,onCreateExpenseOrder:x,onViewExpenseOrder:p,userRole:"journalist"})})})]}):t.jsx(Et,{maxWidth:"lg",sx:{mt:4},children:t.jsx(j,{variant:"h5",align:"center",children:"Channel not found"})})},BF=()=>t.jsx(C,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(_n,{})}),hj=({channel:e,onUpdate:n})=>{const r=async s=>{!s||!("name"in s)||await n(s)};return t.jsx(C,{sx:{maxWidth:800},children:t.jsx(dj,{initialData:e,onSubmit:r,submitButtonText:"Save"})})};var qp={},VF=tt;Object.defineProperty(qp,"__esModule",{value:!0});var fj=qp.default=void 0,UF=VF(nt()),zF=t;fj=qp.default=(0,UF.default)((0,zF.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"DragIndicator");var Kp={},HF=tt;Object.defineProperty(Kp,"__esModule",{value:!0});var Xp=Kp.default=void 0,GF=HF(nt()),YF=t;Xp=Kp.default=(0,GF.default)((0,YF.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");function lr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var qF=typeof Symbol=="function"&&Symbol.observable||"@@observable",ry=qF,ih=()=>Math.random().toString(36).substring(7).split("").join("."),KF={INIT:`@@redux/INIT${ih()}`,REPLACE:`@@redux/REPLACE${ih()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ih()}`},sy=KF;function XF(e){if(typeof e!="object"||e===null)return!1;let n=e;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n||Object.getPrototypeOf(e)===null}function pj(e,n,r){if(typeof e!="function")throw new Error(lr(2));if(typeof n=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(lr(0));if(typeof n=="function"&&typeof r>"u"&&(r=n,n=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(lr(1));return r(pj)(e,n)}let s=e,o=n,i=new Map,c=i,d=0,u=!1;function h(){c===i&&(c=new Map,i.forEach((v,I)=>{c.set(I,v)}))}function x(){if(u)throw new Error(lr(3));return o}function p(v){if(typeof v!="function")throw new Error(lr(4));if(u)throw new Error(lr(5));let I=!0;h();const w=d++;return c.set(w,v),function(){if(I){if(u)throw new Error(lr(6));I=!1,h(),c.delete(w),i=null}}}function y(v){if(!XF(v))throw new Error(lr(7));if(typeof v.type>"u")throw new Error(lr(8));if(typeof v.type!="string")throw new Error(lr(17));if(u)throw new Error(lr(9));try{u=!0,o=s(o,v)}finally{u=!1}return(i=c).forEach(w=>{w()}),v}function b(v){if(typeof v!="function")throw new Error(lr(10));s=v,y({type:sy.REPLACE})}function g(){const v=p;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(lr(11));function w(){const E=I;E.next&&E.next(x())}return w(),{unsubscribe:v(w)}},[ry](){return this}}}return y({type:sy.INIT}),{dispatch:y,subscribe:p,getState:x,replaceReducer:b,[ry]:g}}function oy(e,n){return function(...r){return n(e.apply(this,r))}}function ay(e,n){if(typeof e=="function")return oy(e,n);if(typeof e!="object"||e===null)throw new Error(lr(16));const r={};for(const s in e){const o=e[s];typeof o=="function"&&(r[s]=oy(o,n))}return r}function xj(...e){return e.length===0?n=>n:e.length===1?e[0]:e.reduce((n,r)=>(...s)=>n(r(...s)))}function JF(...e){return n=>(r,s)=>{const o=n(r,s);let i=()=>{throw new Error(lr(15))};const c={getState:o.getState,dispatch:(u,...h)=>i(u,...h)},d=e.map(u=>u(c));return i=xj(...d)(o.dispatch),{...o,dispatch:i}}}var QF={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tl=m;function ZF(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var e3=typeof Object.is=="function"?Object.is:ZF,t3=tl.useSyncExternalStore,n3=tl.useRef,r3=tl.useEffect,s3=tl.useMemo,o3=tl.useDebugValue;QF.useSyncExternalStoreWithSelector=function(e,n,r,s,o){var i=n3(null);if(i.current===null){var c={hasValue:!1,value:null};i.current=c}else c=i.current;i=s3(function(){function u(b){if(!h){if(h=!0,x=b,b=s(b),o!==void 0&&c.hasValue){var g=c.value;if(o(g,b))return p=g}return p=b}if(g=p,e3(x,b))return g;var S=s(b);return o!==void 0&&o(g,S)?(x=b,g):(x=b,p=S)}var h=!1,x,p,y=r===void 0?null:r;return[function(){return u(n())},y===null?void 0:function(){return u(y())}]},[n,r,s,o]);var d=t3(e,i[0],i[1]);return r3(function(){c.hasValue=!0,c.value=d},[d]),o3(d),d};var a3=m.version.startsWith("19"),i3=Symbol.for(a3?"react.transitional.element":"react.element"),l3=Symbol.for("react.portal"),c3=Symbol.for("react.fragment"),d3=Symbol.for("react.strict_mode"),u3=Symbol.for("react.profiler"),h3=Symbol.for("react.consumer"),f3=Symbol.for("react.context"),mj=Symbol.for("react.forward_ref"),p3=Symbol.for("react.suspense"),x3=Symbol.for("react.suspense_list"),Jp=Symbol.for("react.memo"),m3=Symbol.for("react.lazy"),g3=mj,b3=Jp;function y3(e){if(typeof e=="object"&&e!==null){const{$$typeof:n}=e;switch(n){case i3:switch(e=e.type,e){case c3:case u3:case d3:case p3:case x3:return e;default:switch(e=e&&e.$$typeof,e){case f3:case mj:case m3:case Jp:return e;case h3:return e;default:return n}}case l3:return n}}}function v3(e){return y3(e)===Jp}function j3(e,n,r,s,{areStatesEqual:o,areOwnPropsEqual:i,areStatePropsEqual:c}){let d=!1,u,h,x,p,y;function b(w,D){return u=w,h=D,x=e(u,h),p=n(s,h),y=r(x,p,h),d=!0,y}function g(){return x=e(u,h),n.dependsOnOwnProps&&(p=n(s,h)),y=r(x,p,h),y}function S(){return e.dependsOnOwnProps&&(x=e(u,h)),n.dependsOnOwnProps&&(p=n(s,h)),y=r(x,p,h),y}function v(){const w=e(u,h),D=!c(w,x);return x=w,D&&(y=r(x,p,h)),y}function I(w,D){const E=!i(D,h),A=!o(w,u,D,h);return u=w,h=D,E&&A?g():E?S():A?v():y}return function(D,E){return d?I(D,E):b(D,E)}}function S3(e,{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:s,...o}){const i=n(e,o),c=r(e,o),d=s(e,o);return j3(i,c,d,e,o)}function w3(e,n){const r={};for(const s in e){const o=e[s];typeof o=="function"&&(r[s]=(...i)=>n(o(...i)))}return r}function Bh(e){return function(r){const s=e(r);function o(){return s}return o.dependsOnOwnProps=!1,o}}function iy(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function gj(e,n){return function(s,{displayName:o}){const i=function(d,u){return i.dependsOnOwnProps?i.mapToProps(d,u):i.mapToProps(d,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(d,u){i.mapToProps=e,i.dependsOnOwnProps=iy(e);let h=i(d,u);return typeof h=="function"&&(i.mapToProps=h,i.dependsOnOwnProps=iy(h),h=i(d,u)),h},i}}function Qp(e,n){return(r,s)=>{throw new Error(`Invalid value of type ${typeof e} for ${n} argument when connecting component ${s.wrappedComponentName}.`)}}function C3(e){return e&&typeof e=="object"?Bh(n=>w3(e,n)):e?typeof e=="function"?gj(e):Qp(e,"mapDispatchToProps"):Bh(n=>({dispatch:n}))}function P3(e){return e?typeof e=="function"?gj(e):Qp(e,"mapStateToProps"):Bh(()=>({}))}function I3(e,n,r){return{...r,...e,...n}}function D3(e){return function(r,{displayName:s,areMergedPropsEqual:o}){let i=!1,c;return function(u,h,x){const p=e(u,h,x);return i?o(p,c)||(c=p):(i=!0,c=p),c}}}function E3(e){return e?typeof e=="function"?D3(e):Qp(e,"mergeProps"):()=>I3}function T3(e){e()}function A3(){let e=null,n=null;return{clear(){e=null,n=null},notify(){T3(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let s=e;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0;const o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!s||e===null||(s=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var ly={notify(){},get:()=>[]};function bj(e,n){let r,s=ly,o=0,i=!1;function c(S){x();const v=s.subscribe(S);let I=!1;return()=>{I||(I=!0,v(),p())}}function d(){s.notify()}function u(){g.onStateChange&&g.onStateChange()}function h(){return i}function x(){o++,r||(r=n?n.addNestedSub(u):e.subscribe(u),s=A3())}function p(){o--,r&&o===0&&(r(),r=void 0,s.clear(),s=ly)}function y(){i||(i=!0,x())}function b(){i&&(i=!1,p())}const g={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:u,isSubscribed:h,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>s};return g}var R3=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_3=R3(),O3=()=>typeof navigator<"u"&&navigator.product==="ReactNative",k3=O3(),M3=()=>_3||k3?m.useLayoutEffect:m.useEffect,Mc=M3();function cy(e,n){return e===n?e!==0||n!==0||1/e===1/n:e!==e&&n!==n}function lh(e,n){if(cy(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;const r=Object.keys(e),s=Object.keys(n);if(r.length!==s.length)return!1;for(let o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(n,r[o])||!cy(e[r[o]],n[r[o]]))return!1;return!0}var N3={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},L3={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},$3={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},yj={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},F3={[g3]:$3,[b3]:yj};function dy(e){return v3(e)?yj:F3[e.$$typeof]||N3}var W3=Object.defineProperty,B3=Object.getOwnPropertyNames,uy=Object.getOwnPropertySymbols,V3=Object.getOwnPropertyDescriptor,U3=Object.getPrototypeOf,hy=Object.prototype;function Vh(e,n){if(typeof n!="string"){if(hy){const i=U3(n);i&&i!==hy&&Vh(e,i)}let r=B3(n);uy&&(r=r.concat(uy(n)));const s=dy(e),o=dy(n);for(let i=0;i<r.length;++i){const c=r[i];if(!L3[c]&&!(o&&o[c])&&!(s&&s[c])){const d=V3(n,c);try{W3(e,c,d)}catch{}}}}return e}var ch=Symbol.for("react-redux-context"),dh=typeof globalThis<"u"?globalThis:{};function z3(){if(!m.createContext)return{};const e=dh[ch]??(dh[ch]=new Map);let n=e.get(m.createContext);return n||(n=m.createContext(null),e.set(m.createContext,n)),n}var vj=z3(),H3=[null,null];function G3(e,n,r){Mc(()=>e(...n),r)}function Y3(e,n,r,s,o,i){e.current=s,r.current=!1,o.current&&(o.current=null,i())}function q3(e,n,r,s,o,i,c,d,u,h,x){if(!e)return()=>{};let p=!1,y=null;const b=()=>{if(p||!d.current)return;const S=n.getState();let v,I;try{v=s(S,o.current)}catch(w){I=w,y=w}I||(y=null),v===i.current?c.current||h():(i.current=v,u.current=v,c.current=!0,x())};return r.onStateChange=b,r.trySubscribe(),b(),()=>{if(p=!0,r.tryUnsubscribe(),r.onStateChange=null,y)throw y}}function K3(e,n){return e===n}function X3(e,n,r,{pure:s,areStatesEqual:o=K3,areOwnPropsEqual:i=lh,areStatePropsEqual:c=lh,areMergedPropsEqual:d=lh,forwardRef:u=!1,context:h=vj}={}){const x=h,p=P3(e),y=C3(n),b=E3(r),g=!!e;return v=>{const I=v.displayName||v.name||"Component",w=`Connect(${I})`,D={shouldHandleStateChanges:g,displayName:w,wrappedComponentName:I,WrappedComponent:v,initMapStateToProps:p,initMapDispatchToProps:y,initMergeProps:b,areStatesEqual:o,areStatePropsEqual:c,areOwnPropsEqual:i,areMergedPropsEqual:d};function E(O){const[R,L,B]=m.useMemo(()=>{const{reactReduxForwardedRef:se,...xe}=O;return[O.context,se,xe]},[O]),Y=m.useMemo(()=>{let se=x;return R!=null&&R.Consumer,se},[R,x]),$=m.useContext(Y),H=!!O.store&&!!O.store.getState&&!!O.store.dispatch,X=!!$&&!!$.store,K=H?O.store:$.store,q=X?$.getServerState:K.getState,Z=m.useMemo(()=>S3(K.dispatch,D),[K]),[Q,ie]=m.useMemo(()=>{if(!g)return H3;const se=bj(K,H?void 0:$.subscription),xe=se.notifyNestedSubs.bind(se);return[se,xe]},[K,H,$]),V=m.useMemo(()=>H?$:{...$,subscription:Q},[H,$,Q]),ee=m.useRef(void 0),Pe=m.useRef(B),pe=m.useRef(void 0),Re=m.useRef(!1),le=m.useRef(!1),re=m.useRef(void 0);Mc(()=>(le.current=!0,()=>{le.current=!1}),[]);const je=m.useMemo(()=>()=>pe.current&&B===Pe.current?pe.current:Z(K.getState(),B),[K,B]),ke=m.useMemo(()=>xe=>Q?q3(g,K,Q,Z,Pe,ee,Re,le,pe,ie,xe):()=>{},[Q]);G3(Y3,[Pe,ee,Re,B,pe,ie]);let be;try{be=m.useSyncExternalStore(ke,je,q?()=>Z(q(),B):je)}catch(se){throw re.current&&(se.message+=`
The error may be correlated with this previous error:
${re.current.stack}

`),se}Mc(()=>{re.current=void 0,pe.current=void 0,ee.current=be});const ae=m.useMemo(()=>m.createElement(v,{...be,ref:L}),[L,v,be]);return m.useMemo(()=>g?m.createElement(Y.Provider,{value:V},ae):ae,[Y,ae,V])}const _=m.memo(E);if(_.WrappedComponent=v,_.displayName=E.displayName=w,u){const R=m.forwardRef(function(B,Y){return m.createElement(_,{...B,reactReduxForwardedRef:Y})});return R.displayName=w,R.WrappedComponent=v,Vh(R,v)}return Vh(_,v)}}var jj=X3;function J3(e){const{children:n,context:r,serverState:s,store:o}=e,i=m.useMemo(()=>{const u=bj(o);return{store:o,subscription:u,getServerState:s?()=>s:void 0}},[o,s]),c=m.useMemo(()=>o.getState(),[o]);Mc(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),c!==o.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,c]);const d=r||vj;return m.createElement(d.Provider,{value:i},n)}var Q3=J3;function Z3(e,n){if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}function Sj(e,n){var r=m.useState(function(){return{inputs:n,result:e()}})[0],s=m.useRef(!0),o=m.useRef(r),i=s.current||!!(n&&o.current.inputs&&Z3(n,o.current.inputs)),c=i?o.current:{inputs:n,result:e()};return m.useEffect(function(){s.current=!1,o.current=c},[c]),c.result}function e4(e,n){return Sj(function(){return e},n)}var kt=Sj,rt=e4,cs=function(n){var r=n.top,s=n.right,o=n.bottom,i=n.left,c=s-i,d=o-r,u={top:r,right:s,bottom:o,left:i,width:c,height:d,x:i,y:r,center:{x:(s+i)/2,y:(o+r)/2}};return u},Zp=function(n,r){return{top:n.top-r.top,left:n.left-r.left,bottom:n.bottom+r.bottom,right:n.right+r.right}},fy=function(n,r){return{top:n.top+r.top,left:n.left+r.left,bottom:n.bottom-r.bottom,right:n.right-r.right}},t4=function(n,r){return{top:n.top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x}},uh={top:0,right:0,bottom:0,left:0},ex=function(n){var r=n.borderBox,s=n.margin,o=s===void 0?uh:s,i=n.border,c=i===void 0?uh:i,d=n.padding,u=d===void 0?uh:d,h=cs(Zp(r,o)),x=cs(fy(r,c)),p=cs(fy(x,u));return{marginBox:h,borderBox:cs(r),paddingBox:x,contentBox:p,margin:o,border:c,padding:u}},Gr=function(n){var r=n.slice(0,-2),s=n.slice(-2);if(s!=="px")return 0;var o=Number(r);return isNaN(o)&&BA(),o},n4=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Nc=function(n,r){var s=n.borderBox,o=n.border,i=n.margin,c=n.padding,d=t4(s,r);return ex({borderBox:d,border:o,margin:i,padding:c})},Lc=function(n,r){return r===void 0&&(r=n4()),Nc(n,r)},wj=function(n,r){var s={top:Gr(r.marginTop),right:Gr(r.marginRight),bottom:Gr(r.marginBottom),left:Gr(r.marginLeft)},o={top:Gr(r.paddingTop),right:Gr(r.paddingRight),bottom:Gr(r.paddingBottom),left:Gr(r.paddingLeft)},i={top:Gr(r.borderTopWidth),right:Gr(r.borderRightWidth),bottom:Gr(r.borderBottomWidth),left:Gr(r.borderLeftWidth)};return ex({borderBox:n,margin:s,padding:o,border:i})},Cj=function(n){var r=n.getBoundingClientRect(),s=window.getComputedStyle(n);return wj(r,s)},py=Number.isNaN||function(n){return typeof n=="number"&&n!==n};function r4(e,n){return!!(e===n||py(e)&&py(n))}function s4(e,n){if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(!r4(e[r],n[r]))return!1;return!0}function Wn(e,n){n===void 0&&(n=s4);var r=null;function s(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(r&&r.lastThis===this&&n(o,r.lastArgs))return r.lastResult;var c=e.apply(this,o);return r={lastResult:c,lastArgs:o,lastThis:this},c}return s.clear=function(){r=null},s}var Mi=function(n){var r=[],s=null,o=function(){for(var c=arguments.length,d=new Array(c),u=0;u<c;u++)d[u]=arguments[u];r=d,!s&&(s=requestAnimationFrame(function(){s=null,n.apply(void 0,r)}))};return o.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},o};function Pj(e,n){}Pj.bind(null,"warn");Pj.bind(null,"error");function co(){}function o4(e,n){return{...e,...n}}function Kr(e,n,r){const s=n.map(o=>{const i=o4(r,o.options);return e.addEventListener(o.eventName,o.fn,i),function(){e.removeEventListener(o.eventName,o.fn,i)}});return function(){s.forEach(i=>{i()})}}const a4="Invariant failed";class $c extends Error{}$c.prototype.toString=function(){return this.message};function Ne(e,n){throw new $c(a4)}class i4 extends Dt.Component{constructor(...n){super(...n),this.callbacks=null,this.unbind=co,this.onWindowError=r=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),r.error instanceof $c&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=Kr(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(n){if(n instanceof $c){this.setState({});return}throw n}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const l4=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Fc=e=>e+1,c4=e=>`
  You have lifted an item in position ${Fc(e.source.index)}
`,Ij=(e,n)=>{const r=e.droppableId===n.droppableId,s=Fc(e.index),o=Fc(n.index);return r?`
      You have moved the item from position ${s}
      to position ${o}
    `:`
    You have moved the item from position ${s}
    in list ${e.droppableId}
    to list ${n.droppableId}
    in position ${o}
  `},Dj=(e,n,r)=>n.droppableId===r.droppableId?`
      The item ${e}
      has been combined with ${r.draggableId}`:`
      The item ${e}
      in list ${n.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,d4=e=>{const n=e.destination;if(n)return Ij(e.source,n);const r=e.combine;return r?Dj(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},xy=e=>`
  The item has returned to its starting position
  of ${Fc(e.index)}
`,u4=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${xy(e.source)}
    `;const n=e.destination,r=e.combine;return n?`
      You have dropped the item.
      ${Ij(e.source,n)}
    `:r?`
      You have dropped the item.
      ${Dj(e.draggableId,e.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${xy(e.source)}
  `},lc={dragHandleUsageInstructions:l4,onDragStart:c4,onDragUpdate:d4,onDragEnd:u4},Bn={x:0,y:0},Kn=(e,n)=>({x:e.x+n.x,y:e.y+n.y}),Or=(e,n)=>({x:e.x-n.x,y:e.y-n.y}),uo=(e,n)=>e.x===n.x&&e.y===n.y,Ua=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Vo=(e,n,r=0)=>e==="x"?{x:n,y:r}:{x:r,y:n},Ni=(e,n)=>Math.sqrt((n.x-e.x)**2+(n.y-e.y)**2),my=(e,n)=>Math.min(...n.map(r=>Ni(e,r))),Ej=e=>n=>({x:e(n.x),y:e(n.y)});var h4=(e,n)=>{const r=cs({top:Math.max(n.top,e.top),right:Math.min(n.right,e.right),bottom:Math.min(n.bottom,e.bottom),left:Math.max(n.left,e.left)});return r.width<=0||r.height<=0?null:r};const nl=(e,n)=>({top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}),gy=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],f4={top:0,right:0,bottom:0,left:0},p4=(e,n)=>n?nl(e,n.scroll.diff.displacement):e,x4=(e,n,r)=>r&&r.increasedBy?{...e,[n.end]:e[n.end]+r.increasedBy[n.line]}:e,m4=(e,n)=>n&&n.shouldClipSubject?h4(n.pageMarginBox,e):cs(e);var Oa=({page:e,withPlaceholder:n,axis:r,frame:s})=>{const o=p4(e.marginBox,s),i=x4(o,r,n),c=m4(i,s);return{page:e,withPlaceholder:n,active:c}},tx=(e,n)=>{e.frame||Ne();const r=e.frame,s=Or(n,r.scroll.initial),o=Ua(s),i={...r,scroll:{initial:r.scroll.initial,current:n,diff:{value:s,displacement:o},max:r.scroll.max}},c=Oa({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return{...e,frame:i,subject:c}};const Tj=Wn(e=>e.reduce((n,r)=>(n[r.descriptor.id]=r,n),{})),Aj=Wn(e=>e.reduce((n,r)=>(n[r.descriptor.id]=r,n),{})),md=Wn(e=>Object.values(e)),g4=Wn(e=>Object.values(e));var za=Wn((e,n)=>g4(n).filter(s=>e===s.descriptor.droppableId).sort((s,o)=>s.descriptor.index-o.descriptor.index));function nx(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function gd(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var bd=Wn((e,n)=>n.filter(r=>r.descriptor.id!==e.descriptor.id)),b4=({isMovingForward:e,draggable:n,destination:r,insideDestination:s,previousImpact:o})=>{if(!r.isCombineEnabled||!nx(o))return null;function c(b){const g={type:"COMBINE",combine:{draggableId:b,droppableId:r.descriptor.id}};return{...o,at:g}}const d=o.displaced.all,u=d.length?d[0]:null;if(e)return u?c(u):null;const h=bd(n,s);if(!u){if(!h.length)return null;const b=h[h.length-1];return c(b.descriptor.id)}const x=h.findIndex(b=>b.descriptor.id===u);x===-1&&Ne();const p=x-1;if(p<0)return null;const y=h[p];return c(y.descriptor.id)},Ha=(e,n)=>e.descriptor.droppableId===n.descriptor.id;const Rj={point:Bn,value:0},Li={invisible:{},visible:{},all:[]},y4={displaced:Li,displacedBy:Rj,at:null};var Jr=(e,n)=>r=>e<=r&&r<=n,_j=e=>{const n=Jr(e.top,e.bottom),r=Jr(e.left,e.right);return s=>{if(n(s.top)&&n(s.bottom)&&r(s.left)&&r(s.right))return!0;const i=n(s.top)||n(s.bottom),c=r(s.left)||r(s.right);if(i&&c)return!0;const u=s.top<e.top&&s.bottom>e.bottom,h=s.left<e.left&&s.right>e.right;return u&&h?!0:u&&c||h&&i}},v4=e=>{const n=Jr(e.top,e.bottom),r=Jr(e.left,e.right);return s=>n(s.top)&&n(s.bottom)&&r(s.left)&&r(s.right)};const rx={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Oj={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var j4=e=>n=>{const r=Jr(n.top,n.bottom),s=Jr(n.left,n.right);return o=>e===rx?r(o.top)&&r(o.bottom):s(o.left)&&s(o.right)};const S4=(e,n)=>{const r=n.frame?n.frame.scroll.diff.displacement:Bn;return nl(e,r)},w4=(e,n,r)=>n.subject.active?r(n.subject.active)(e):!1,C4=(e,n,r)=>r(n)(e),sx=({target:e,destination:n,viewport:r,withDroppableDisplacement:s,isVisibleThroughFrameFn:o})=>{const i=s?S4(e,n):e;return w4(i,n,o)&&C4(i,r,o)},P4=e=>sx({...e,isVisibleThroughFrameFn:_j}),kj=e=>sx({...e,isVisibleThroughFrameFn:v4}),I4=e=>sx({...e,isVisibleThroughFrameFn:j4(e.destination.axis)}),D4=(e,n,r)=>{if(typeof r=="boolean")return r;if(!n)return!0;const{invisible:s,visible:o}=n;if(s[e])return!1;const i=o[e];return i?i.shouldAnimate:!0};function E4(e,n){const r=e.page.marginBox,s={top:n.point.y,right:0,bottom:0,left:n.point.x};return cs(Zp(r,s))}function $i({afterDragging:e,destination:n,displacedBy:r,viewport:s,forceShouldAnimate:o,last:i}){return e.reduce(function(d,u){const h=E4(u,r),x=u.descriptor.id;if(d.all.push(x),!P4({target:h,destination:n,viewport:s,withDroppableDisplacement:!0}))return d.invisible[u.descriptor.id]=!0,d;const y=D4(x,i,o),b={draggableId:x,shouldAnimate:y};return d.visible[x]=b,d},{all:[],visible:{},invisible:{}})}function T4(e,n){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return n.inHomeList?r:r+1}function by({insideDestination:e,inHomeList:n,displacedBy:r,destination:s}){const o=T4(e,{inHomeList:n});return{displaced:Li,displacedBy:r,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:o}}}}function Wc({draggable:e,insideDestination:n,destination:r,viewport:s,displacedBy:o,last:i,index:c,forceShouldAnimate:d}){const u=Ha(e,r);if(c==null)return by({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});const h=n.find(g=>g.descriptor.index===c);if(!h)return by({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});const x=bd(e,n),p=n.indexOf(h),y=x.slice(p);return{displaced:$i({afterDragging:y,destination:r,displacedBy:o,last:i,viewport:s.frame,forceShouldAnimate:d}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:c}}}}function po(e,n){return!!n.effected[e]}var A4=({isMovingForward:e,destination:n,draggables:r,combine:s,afterCritical:o})=>{if(!n.isCombineEnabled)return null;const i=s.draggableId,d=r[i].descriptor.index;return po(i,o)?e?d:d-1:e?d+1:d},R4=({isMovingForward:e,isInHomeList:n,insideDestination:r,location:s})=>{if(!r.length)return null;const o=s.index,i=e?o+1:o-1,c=r[0].descriptor.index,d=r[r.length-1].descriptor.index,u=n?d:d+1;return i<c||i>u?null:i},_4=({isMovingForward:e,isInHomeList:n,draggable:r,draggables:s,destination:o,insideDestination:i,previousImpact:c,viewport:d,afterCritical:u})=>{const h=c.at;if(h||Ne(),h.type==="REORDER"){const p=R4({isMovingForward:e,isInHomeList:n,location:h.destination,insideDestination:i});return p==null?null:Wc({draggable:r,insideDestination:i,destination:o,viewport:d,last:c.displaced,displacedBy:c.displacedBy,index:p})}const x=A4({isMovingForward:e,destination:o,displaced:c.displaced,draggables:s,combine:h.combine,afterCritical:u});return x==null?null:Wc({draggable:r,insideDestination:i,destination:o,viewport:d,last:c.displaced,displacedBy:c.displacedBy,index:x})},O4=({displaced:e,afterCritical:n,combineWith:r,displacedBy:s})=>{const o=!!(e.visible[r]||e.invisible[r]);return po(r,n)?o?Bn:Ua(s.point):o?s.point:Bn},k4=({afterCritical:e,impact:n,draggables:r})=>{const s=gd(n);s||Ne();const o=s.draggableId,i=r[o].page.borderBox.center,c=O4({displaced:n.displaced,afterCritical:e,combineWith:o,displacedBy:n.displacedBy});return Kn(i,c)};const Mj=(e,n)=>n.margin[e.start]+n.borderBox[e.size]/2,M4=(e,n)=>n.margin[e.end]+n.borderBox[e.size]/2,ox=(e,n,r)=>n[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,yy=({axis:e,moveRelativeTo:n,isMoving:r})=>Vo(e.line,n.marginBox[e.end]+Mj(e,r),ox(e,n.marginBox,r)),vy=({axis:e,moveRelativeTo:n,isMoving:r})=>Vo(e.line,n.marginBox[e.start]-M4(e,r),ox(e,n.marginBox,r)),N4=({axis:e,moveInto:n,isMoving:r})=>Vo(e.line,n.contentBox[e.start]+Mj(e,r),ox(e,n.contentBox,r));var L4=({impact:e,draggable:n,draggables:r,droppable:s,afterCritical:o})=>{const i=za(s.descriptor.id,r),c=n.page,d=s.axis;if(!i.length)return N4({axis:d,moveInto:s.page,isMoving:c});const{displaced:u,displacedBy:h}=e,x=u.all[0];if(x){const y=r[x];if(po(x,o))return vy({axis:d,moveRelativeTo:y.page,isMoving:c});const b=Nc(y.page,h.point);return vy({axis:d,moveRelativeTo:b,isMoving:c})}const p=i[i.length-1];if(p.descriptor.id===n.descriptor.id)return c.borderBox.center;if(po(p.descriptor.id,o)){const y=Nc(p.page,Ua(o.displacedBy.point));return yy({axis:d,moveRelativeTo:y,isMoving:c})}return yy({axis:d,moveRelativeTo:p.page,isMoving:c})},Uh=(e,n)=>{const r=e.frame;return r?Kn(n,r.scroll.diff.displacement):n};const $4=({impact:e,draggable:n,droppable:r,draggables:s,afterCritical:o})=>{const i=n.page.borderBox.center,c=e.at;return!r||!c?i:c.type==="REORDER"?L4({impact:e,draggable:n,draggables:s,droppable:r,afterCritical:o}):k4({impact:e,draggables:s,afterCritical:o})};var yd=e=>{const n=$4(e),r=e.droppable;return r?Uh(r,n):n},Nj=(e,n)=>{const r=Or(n,e.scroll.initial),s=Ua(r);return{frame:cs({top:n.y,bottom:n.y+e.frame.height,left:n.x,right:n.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:n,diff:{value:r,displacement:s}}}};function jy(e,n){return e.map(r=>n[r])}function F4(e,n){for(let r=0;r<n.length;r++){const s=n[r].visible[e];if(s)return s}return null}var W4=({impact:e,viewport:n,destination:r,draggables:s,maxScrollChange:o})=>{const i=Nj(n,Kn(n.scroll.current,o)),c=r.frame?tx(r,Kn(r.frame.scroll.current,o)):r,d=e.displaced,u=$i({afterDragging:jy(d.all,s),destination:r,displacedBy:e.displacedBy,viewport:i.frame,last:d,forceShouldAnimate:!1}),h=$i({afterDragging:jy(d.all,s),destination:c,displacedBy:e.displacedBy,viewport:n.frame,last:d,forceShouldAnimate:!1}),x={},p={},y=[d,u,h];return d.all.forEach(g=>{const S=F4(g,y);if(S){p[g]=S;return}x[g]=!0}),{...e,displaced:{all:d.all,invisible:x,visible:p}}},B4=(e,n)=>Kn(e.scroll.diff.displacement,n),ax=({pageBorderBoxCenter:e,draggable:n,viewport:r})=>{const s=B4(r,e),o=Or(s,n.page.borderBox.center);return Kn(n.client.borderBox.center,o)},Lj=({draggable:e,destination:n,newPageBorderBoxCenter:r,viewport:s,withDroppableDisplacement:o,onlyOnMainAxis:i=!1})=>{const c=Or(r,e.page.borderBox.center),u={target:nl(e.page.borderBox,c),destination:n,withDroppableDisplacement:o,viewport:s};return i?I4(u):kj(u)},V4=({isMovingForward:e,draggable:n,destination:r,draggables:s,previousImpact:o,viewport:i,previousPageBorderBoxCenter:c,previousClientSelection:d,afterCritical:u})=>{if(!r.isEnabled)return null;const h=za(r.descriptor.id,s),x=Ha(n,r),p=b4({isMovingForward:e,draggable:n,destination:r,insideDestination:h,previousImpact:o})||_4({isMovingForward:e,isInHomeList:x,draggable:n,draggables:s,destination:r,insideDestination:h,previousImpact:o,viewport:i,afterCritical:u});if(!p)return null;const y=yd({impact:p,draggable:n,droppable:r,draggables:s,afterCritical:u});if(Lj({draggable:n,destination:r,newPageBorderBoxCenter:y,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:ax({pageBorderBoxCenter:y,draggable:n,viewport:i}),impact:p,scrollJumpRequest:null};const g=Or(y,c),S=W4({impact:p,viewport:i,destination:r,draggables:s,maxScrollChange:g});return{clientSelection:d,impact:S,scrollJumpRequest:g}};const ir=e=>{const n=e.subject.active;return n||Ne(),n};var U4=({isMovingForward:e,pageBorderBoxCenter:n,source:r,droppables:s,viewport:o})=>{const i=r.subject.active;if(!i)return null;const c=r.axis,d=Jr(i[c.start],i[c.end]),u=md(s).filter(x=>x!==r).filter(x=>x.isEnabled).filter(x=>!!x.subject.active).filter(x=>_j(o.frame)(ir(x))).filter(x=>{const p=ir(x);return e?i[c.crossAxisEnd]<p[c.crossAxisEnd]:p[c.crossAxisStart]<i[c.crossAxisStart]}).filter(x=>{const p=ir(x),y=Jr(p[c.start],p[c.end]);return d(p[c.start])||d(p[c.end])||y(i[c.start])||y(i[c.end])}).sort((x,p)=>{const y=ir(x)[c.crossAxisStart],b=ir(p)[c.crossAxisStart];return e?y-b:b-y}).filter((x,p,y)=>ir(x)[c.crossAxisStart]===ir(y[0])[c.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const h=u.filter(x=>Jr(ir(x)[c.start],ir(x)[c.end])(n[c.line]));return h.length===1?h[0]:h.length>1?h.sort((x,p)=>ir(x)[c.start]-ir(p)[c.start])[0]:u.sort((x,p)=>{const y=my(n,gy(ir(x))),b=my(n,gy(ir(p)));return y!==b?y-b:ir(x)[c.start]-ir(p)[c.start]})[0]};const Sy=(e,n)=>{const r=e.page.borderBox.center;return po(e.descriptor.id,n)?Or(r,n.displacedBy.point):r},z4=(e,n)=>{const r=e.page.borderBox;return po(e.descriptor.id,n)?nl(r,Ua(n.displacedBy.point)):r};var H4=({pageBorderBoxCenter:e,viewport:n,destination:r,insideDestination:s,afterCritical:o})=>s.filter(c=>kj({target:z4(c,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})).sort((c,d)=>{const u=Ni(e,Uh(r,Sy(c,o))),h=Ni(e,Uh(r,Sy(d,o)));return u<h?-1:h<u?1:c.descriptor.index-d.descriptor.index})[0]||null,rl=Wn(function(n,r){const s=r[n.line];return{value:s,point:Vo(n.line,s)}});const G4=(e,n,r)=>{const s=e.axis;if(e.descriptor.mode==="virtual")return Vo(s.line,n[s.line]);const o=e.subject.page.contentBox[s.size],u=za(e.descriptor.id,r).reduce((h,x)=>h+x.client.marginBox[s.size],0)+n[s.line]-o;return u<=0?null:Vo(s.line,u)},$j=(e,n)=>({...e,scroll:{...e.scroll,max:n}}),Fj=(e,n,r)=>{const s=e.frame;Ha(n,e)&&Ne(),e.subject.withPlaceholder&&Ne();const o=rl(e.axis,n.displaceBy).point,i=G4(e,o,r),c={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!s){const x=Oa({page:e.subject.page,withPlaceholder:c,axis:e.axis,frame:e.frame});return{...e,subject:x}}const d=i?Kn(s.scroll.max,i):s.scroll.max,u=$j(s,d),h=Oa({page:e.subject.page,withPlaceholder:c,axis:e.axis,frame:u});return{...e,subject:h,frame:u}},Y4=e=>{const n=e.subject.withPlaceholder;n||Ne();const r=e.frame;if(!r){const c=Oa({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:c}}const s=n.oldFrameMaxScroll;s||Ne();const o=$j(r,s),i=Oa({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return{...e,subject:i,frame:o}};var q4=({previousPageBorderBoxCenter:e,moveRelativeTo:n,insideDestination:r,draggable:s,draggables:o,destination:i,viewport:c,afterCritical:d})=>{if(!n){if(r.length)return null;const p={displaced:Li,displacedBy:Rj,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},y=yd({impact:p,draggable:s,droppable:i,draggables:o,afterCritical:d}),b=Ha(s,i)?i:Fj(i,s,o);return Lj({draggable:s,destination:b,newPageBorderBoxCenter:y,viewport:c.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const u=e[i.axis.line]<=n.page.borderBox.center[i.axis.line],h=(()=>{const p=n.descriptor.index;return n.descriptor.id===s.descriptor.id||u?p:p+1})(),x=rl(i.axis,s.displaceBy);return Wc({draggable:s,insideDestination:r,destination:i,viewport:c,displacedBy:x,last:Li,index:h})},K4=({isMovingForward:e,previousPageBorderBoxCenter:n,draggable:r,isOver:s,draggables:o,droppables:i,viewport:c,afterCritical:d})=>{const u=U4({isMovingForward:e,pageBorderBoxCenter:n,source:s,droppables:i,viewport:c});if(!u)return null;const h=za(u.descriptor.id,o),x=H4({pageBorderBoxCenter:n,viewport:c,destination:u,insideDestination:h,afterCritical:d}),p=q4({previousPageBorderBoxCenter:n,destination:u,draggable:r,draggables:o,moveRelativeTo:x,insideDestination:h,viewport:c,afterCritical:d});if(!p)return null;const y=yd({impact:p,draggable:r,droppable:u,draggables:o,afterCritical:d});return{clientSelection:ax({pageBorderBoxCenter:y,draggable:r,viewport:c}),impact:p,scrollJumpRequest:null}},kr=e=>{const n=e.at;return n?n.type==="REORDER"?n.destination.droppableId:n.combine.droppableId:null};const X4=(e,n)=>{const r=kr(e);return r?n[r]:null};var J4=({state:e,type:n})=>{const r=X4(e.impact,e.dimensions.droppables),s=!!r,o=e.dimensions.droppables[e.critical.droppable.id],i=r||o,c=i.axis.direction,d=c==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||c==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(d&&!s)return null;const u=n==="MOVE_DOWN"||n==="MOVE_RIGHT",h=e.dimensions.draggables[e.critical.draggable.id],x=e.current.page.borderBoxCenter,{draggables:p,droppables:y}=e.dimensions;return d?V4({isMovingForward:u,previousPageBorderBoxCenter:x,draggable:h,destination:i,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):K4({isMovingForward:u,previousPageBorderBoxCenter:x,draggable:h,isOver:i,draggables:p,droppables:y,viewport:e.viewport,afterCritical:e.afterCritical})};function Lo(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Wj(e){const n=Jr(e.top,e.bottom),r=Jr(e.left,e.right);return function(o){return n(o.y)&&r(o.x)}}function Q4(e,n){return e.left<n.right&&e.right>n.left&&e.top<n.bottom&&e.bottom>n.top}function Z4({pageBorderBox:e,draggable:n,candidates:r}){const s=n.page.borderBox.center,o=r.map(i=>{const c=i.axis,d=Vo(i.axis.line,e.center[c.line],i.page.borderBox.center[c.crossAxisLine]);return{id:i.descriptor.id,distance:Ni(s,d)}}).sort((i,c)=>c.distance-i.distance);return o[0]?o[0].id:null}function eW({pageBorderBox:e,draggable:n,droppables:r}){const s=md(r).filter(o=>{if(!o.isEnabled)return!1;const i=o.subject.active;if(!i||!Q4(e,i))return!1;if(Wj(i)(e.center))return!0;const c=o.axis,d=i.center[c.crossAxisLine],u=e[c.crossAxisStart],h=e[c.crossAxisEnd],x=Jr(i[c.crossAxisStart],i[c.crossAxisEnd]),p=x(u),y=x(h);return!p&&!y?!0:p?u<d:h>d});return s.length?s.length===1?s[0].descriptor.id:Z4({pageBorderBox:e,draggable:n,candidates:s}):null}const Bj=(e,n)=>cs(nl(e,n));var tW=(e,n)=>{const r=e.frame;return r?Bj(n,r.scroll.diff.value):n};function Vj({displaced:e,id:n}){return!!(e.visible[n]||e.invisible[n])}function nW({draggable:e,closest:n,inHomeList:r}){return n?r&&n.descriptor.index>e.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var rW=({pageBorderBoxWithDroppableScroll:e,draggable:n,destination:r,insideDestination:s,last:o,viewport:i,afterCritical:c})=>{const d=r.axis,u=rl(r.axis,n.displaceBy),h=u.value,x=e[d.start],p=e[d.end],b=bd(n,s).find(S=>{const v=S.descriptor.id,I=S.page.borderBox.center[d.line],w=po(v,c),D=Vj({displaced:o,id:v});return w?D?p<=I:x<I-h:D?p<=I+h:x<I})||null,g=nW({draggable:n,closest:b,inHomeList:Ha(n,r)});return Wc({draggable:n,insideDestination:s,destination:r,viewport:i,last:o,displacedBy:u,index:g})};const sW=4;var oW=({draggable:e,pageBorderBoxWithDroppableScroll:n,previousImpact:r,destination:s,insideDestination:o,afterCritical:i})=>{if(!s.isCombineEnabled)return null;const c=s.axis,d=rl(s.axis,e.displaceBy),u=d.value,h=n[c.start],x=n[c.end],y=bd(e,o).find(g=>{const S=g.descriptor.id,v=g.page.borderBox,w=v[c.size]/sW,D=po(S,i),E=Vj({displaced:r.displaced,id:S});return D?E?x>v[c.start]+w&&x<v[c.end]-w:h>v[c.start]-u+w&&h<v[c.end]-u-w:E?x>v[c.start]+u+w&&x<v[c.end]+u-w:h>v[c.start]+w&&h<v[c.end]-w});return y?{displacedBy:d,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:y.descriptor.id,droppableId:s.descriptor.id}}}:null},Uj=({pageOffset:e,draggable:n,draggables:r,droppables:s,previousImpact:o,viewport:i,afterCritical:c})=>{const d=Bj(n.page.borderBox,e),u=eW({pageBorderBox:d,draggable:n,droppables:s});if(!u)return y4;const h=s[u],x=za(h.descriptor.id,r),p=tW(h,d);return oW({pageBorderBoxWithDroppableScroll:p,draggable:n,previousImpact:o,destination:h,insideDestination:x,afterCritical:c})||rW({pageBorderBoxWithDroppableScroll:p,draggable:n,destination:h,insideDestination:x,last:o.displaced,viewport:i,afterCritical:c})},ix=(e,n)=>({...e,[n.descriptor.id]:n});const aW=({previousImpact:e,impact:n,droppables:r})=>{const s=kr(e),o=kr(n);if(!s||s===o)return r;const i=r[s];if(!i.subject.withPlaceholder)return r;const c=Y4(i);return ix(r,c)};var iW=({draggable:e,draggables:n,droppables:r,previousImpact:s,impact:o})=>{const i=aW({previousImpact:s,impact:o,droppables:r}),c=kr(o);if(!c)return i;const d=r[c];if(Ha(e,d)||d.subject.withPlaceholder)return i;const u=Fj(d,e,n);return ix(i,u)},Di=({state:e,clientSelection:n,dimensions:r,viewport:s,impact:o,scrollJumpRequest:i})=>{const c=s||e.viewport,d=r||e.dimensions,u=n||e.current.client.selection,h=Or(u,e.initial.client.selection),x={offset:h,selection:u,borderBoxCenter:Kn(e.initial.client.borderBoxCenter,h)},p={selection:Kn(x.selection,c.scroll.current),borderBoxCenter:Kn(x.borderBoxCenter,c.scroll.current),offset:Kn(x.offset,c.scroll.diff.value)},y={client:x,page:p};if(e.phase==="COLLECTING")return{...e,dimensions:d,viewport:c,current:y};const b=d.draggables[e.critical.draggable.id],g=o||Uj({pageOffset:p.offset,draggable:b,draggables:d.draggables,droppables:d.droppables,previousImpact:e.impact,viewport:c,afterCritical:e.afterCritical}),S=iW({draggable:b,impact:g,previousImpact:e.impact,draggables:d.draggables,droppables:d.droppables});return{...e,current:y,dimensions:{draggables:d.draggables,droppables:S},impact:g,viewport:c,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}};function lW(e,n){return e.map(r=>n[r])}var zj=({impact:e,viewport:n,draggables:r,destination:s,forceShouldAnimate:o})=>{const i=e.displaced,c=lW(i.all,r),d=$i({afterDragging:c,destination:s,displacedBy:e.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:i});return{...e,displaced:d}},Hj=({impact:e,draggable:n,droppable:r,draggables:s,viewport:o,afterCritical:i})=>{const c=yd({impact:e,draggable:n,draggables:s,droppable:r,afterCritical:i});return ax({pageBorderBoxCenter:c,draggable:n,viewport:o})},Gj=({state:e,dimensions:n,viewport:r})=>{e.movementMode!=="SNAP"&&Ne();const s=e.impact,o=r||e.viewport,i=n||e.dimensions,{draggables:c,droppables:d}=i,u=c[e.critical.draggable.id],h=kr(s);h||Ne();const x=d[h],p=zj({impact:s,viewport:o,destination:x,draggables:c}),y=Hj({impact:p,draggable:u,droppable:x,draggables:c,viewport:o,afterCritical:e.afterCritical});return Di({impact:p,clientSelection:y,state:e,dimensions:i,viewport:o})},cW=e=>({index:e.index,droppableId:e.droppableId}),Yj=({draggable:e,home:n,draggables:r,viewport:s})=>{const o=rl(n.axis,e.displaceBy),i=za(n.descriptor.id,r),c=i.indexOf(e);c===-1&&Ne();const d=i.slice(c+1),u=d.reduce((y,b)=>(y[b.descriptor.id]=!0,y),{}),h={inVirtualList:n.descriptor.mode==="virtual",displacedBy:o,effected:u};return{impact:{displaced:$i({afterDragging:d,destination:n,displacedBy:o,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:cW(e.descriptor)}},afterCritical:h}},dW=(e,n)=>({draggables:e.draggables,droppables:ix(e.droppables,n)}),uW=({draggable:e,offset:n,initialWindowScroll:r})=>{const s=Nc(e.client,n),o=Lc(s,r);return{...e,placeholder:{...e.placeholder,client:s},client:s,page:o}},hW=e=>{const n=e.frame;return n||Ne(),n},fW=({additions:e,updatedDroppables:n,viewport:r})=>{const s=r.scroll.diff.value;return e.map(o=>{const i=o.descriptor.droppableId,c=n[i],u=hW(c).scroll.diff.value,h=Kn(s,u);return uW({draggable:o,offset:h,initialWindowScroll:r.scroll.initial})})},pW=({state:e,published:n})=>{const r=n.modified.map(I=>{const w=e.dimensions.droppables[I.droppableId];return tx(w,I.scroll)}),s={...e.dimensions.droppables,...Tj(r)},o=Aj(fW({additions:n.additions,updatedDroppables:s,viewport:e.viewport})),i={...e.dimensions.draggables,...o};n.removals.forEach(I=>{delete i[I]});const c={droppables:s,draggables:i},d=kr(e.impact),u=d?c.droppables[d]:null,h=c.draggables[e.critical.draggable.id],x=c.droppables[e.critical.droppable.id],{impact:p,afterCritical:y}=Yj({draggable:h,home:x,draggables:i,viewport:e.viewport}),b=u&&u.isCombineEnabled?e.impact:p,g=Uj({pageOffset:e.current.page.offset,draggable:c.draggables[e.critical.draggable.id],draggables:c.draggables,droppables:c.droppables,previousImpact:b,viewport:e.viewport,afterCritical:y}),S={...e,phase:"DRAGGING",impact:g,onLiftImpact:p,dimensions:c,afterCritical:y,forceShouldAnimate:!1};return e.phase==="COLLECTING"?S:{...S,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const zh=e=>e.movementMode==="SNAP",hh=(e,n,r)=>{const s=dW(e.dimensions,n);return!zh(e)||r?Di({state:e,dimensions:s}):Gj({state:e,dimensions:s})};function fh(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const wy={phase:"IDLE",completed:null,shouldFlush:!1};var xW=(e=wy,n)=>{if(n.type==="FLUSH")return{...wy,shouldFlush:!0};if(n.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Ne();const{critical:r,clientSelection:s,viewport:o,dimensions:i,movementMode:c}=n.payload,d=i.draggables[r.draggable.id],u=i.droppables[r.droppable.id],h={selection:s,borderBoxCenter:d.client.borderBox.center,offset:Bn},x={client:h,page:{selection:Kn(h.selection,o.scroll.initial),borderBoxCenter:Kn(h.selection,o.scroll.initial),offset:Kn(h.selection,o.scroll.diff.value)}},p=md(i.droppables).every(S=>!S.isFixedOnPage),{impact:y,afterCritical:b}=Yj({draggable:d,home:u,draggables:i.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:c,dimensions:i,initial:x,current:x,isWindowScrollAllowed:p,impact:y,afterCritical:b,onLiftImpact:y,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if(n.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Ne(),{...e,phase:"COLLECTING"});if(n.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Ne(),pW({state:e,published:n.payload});if(n.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Lo(e)||Ne();const{client:r}=n.payload;return uo(r,e.current.client.selection)?e:Di({state:e,clientSelection:r,impact:zh(e)?e.impact:null})}if(n.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return fh(e);Lo(e)||Ne();const{id:r,newScroll:s}=n.payload,o=e.dimensions.droppables[r];if(!o)return e;const i=tx(o,s);return hh(e,i,!1)}if(n.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Lo(e)||Ne();const{id:r,isEnabled:s}=n.payload,o=e.dimensions.droppables[r];o||Ne(),o.isEnabled===s&&Ne();const i={...o,isEnabled:s};return hh(e,i,!0)}if(n.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Lo(e)||Ne();const{id:r,isCombineEnabled:s}=n.payload,o=e.dimensions.droppables[r];o||Ne(),o.isCombineEnabled===s&&Ne();const i={...o,isCombineEnabled:s};return hh(e,i,!0)}if(n.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Lo(e)||Ne(),e.isWindowScrollAllowed||Ne();const r=n.payload.newScroll;if(uo(e.viewport.scroll.current,r))return fh(e);const s=Nj(e.viewport,r);return zh(e)?Gj({state:e,viewport:s}):Di({state:e,viewport:s})}if(n.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Lo(e))return e;const r=n.payload.maxScroll;if(uo(r,e.viewport.scroll.max))return e;const s={...e.viewport,scroll:{...e.viewport.scroll,max:r}};return{...e,viewport:s}}if(n.type==="MOVE_UP"||n.type==="MOVE_DOWN"||n.type==="MOVE_LEFT"||n.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Ne();const r=J4({state:e,type:n.type});return r?Di({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if(n.type==="DROP_PENDING"){const r=n.payload.reason;return e.phase!=="COLLECTING"&&Ne(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(n.type==="DROP_ANIMATE"){const{completed:r,dropDuration:s,newHomeClientOffset:o}=n.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Ne(),{phase:"DROP_ANIMATING",completed:r,dropDuration:s,newHomeClientOffset:o,dimensions:e.dimensions}}if(n.type==="DROP_COMPLETE"){const{completed:r}=n.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return e};function Wt(e,n){return e instanceof Object&&"type"in e&&e.type===n}const mW=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),gW=e=>({type:"LIFT",payload:e}),bW=e=>({type:"INITIAL_PUBLISH",payload:e}),yW=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),vW=()=>({type:"COLLECTION_STARTING",payload:null}),jW=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),SW=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),wW=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),qj=e=>({type:"MOVE",payload:e}),CW=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),PW=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),IW=()=>({type:"MOVE_UP",payload:null}),DW=()=>({type:"MOVE_DOWN",payload:null}),EW=()=>({type:"MOVE_RIGHT",payload:null}),TW=()=>({type:"MOVE_LEFT",payload:null}),lx=()=>({type:"FLUSH",payload:null}),AW=e=>({type:"DROP_ANIMATE",payload:e}),cx=e=>({type:"DROP_COMPLETE",payload:e}),Kj=e=>({type:"DROP",payload:e}),RW=e=>({type:"DROP_PENDING",payload:e}),Xj=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var _W=e=>({getState:n,dispatch:r})=>s=>o=>{if(!Wt(o,"LIFT")){s(o);return}const{id:i,clientSelection:c,movementMode:d}=o.payload,u=n();u.phase==="DROP_ANIMATING"&&r(cx({completed:u.completed})),n().phase!=="IDLE"&&Ne(),r(lx()),r(mW({draggableId:i,movementMode:d}));const x={draggableId:i,scrollOptions:{shouldPublishImmediately:d==="SNAP"}},{critical:p,dimensions:y,viewport:b}=e.startPublishing(x);r(bW({critical:p,dimensions:y,clientSelection:c,movementMode:d,viewport:b}))},OW=e=>()=>n=>r=>{Wt(r,"INITIAL_PUBLISH")&&e.dragging(),Wt(r,"DROP_ANIMATE")&&e.dropping(r.payload.completed.result.reason),(Wt(r,"FLUSH")||Wt(r,"DROP_COMPLETE"))&&e.resting(),n(r)};const dx={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Fi={opacity:{drop:0,combining:.7},scale:{drop:.75}},Jj={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Oo=`${Jj.outOfTheWay}s ${dx.outOfTheWay}`,Ei={fluid:`opacity ${Oo}`,snap:`transform ${Oo}, opacity ${Oo}`,drop:e=>{const n=`${e}s ${dx.drop}`;return`transform ${n}, opacity ${n}`},outOfTheWay:`transform ${Oo}`,placeholder:`height ${Oo}, width ${Oo}, margin ${Oo}`},Cy=e=>uo(e,Bn)?void 0:`translate(${e.x}px, ${e.y}px)`,Hh={moveTo:Cy,drop:(e,n)=>{const r=Cy(e);if(r)return n?`${r} scale(${Fi.scale.drop})`:r}},{minDropTime:Gh,maxDropTime:Qj}=Jj,kW=Qj-Gh,Py=1500,MW=.6;var NW=({current:e,destination:n,reason:r})=>{const s=Ni(e,n);if(s<=0)return Gh;if(s>=Py)return Qj;const o=s/Py,i=Gh+kW*o,c=r==="CANCEL"?i*MW:i;return Number(c.toFixed(2))},LW=({impact:e,draggable:n,dimensions:r,viewport:s,afterCritical:o})=>{const{draggables:i,droppables:c}=r,d=kr(e),u=d?c[d]:null,h=c[n.descriptor.droppableId],x=Hj({impact:e,draggable:n,draggables:i,afterCritical:o,droppable:u||h,viewport:s});return Or(x,n.client.borderBox.center)},$W=({draggables:e,reason:n,lastImpact:r,home:s,viewport:o,onLiftImpact:i})=>!r.at||n!=="DROP"?{impact:zj({draggables:e,impact:i,destination:s,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:Li},didDropInsideDroppable:!0};const FW=({getState:e,dispatch:n})=>r=>s=>{if(!Wt(s,"DROP")){r(s);return}const o=e(),i=s.payload.reason;if(o.phase==="COLLECTING"){n(RW({reason:i}));return}if(o.phase==="IDLE")return;o.phase==="DROP_PENDING"&&o.isWaiting&&Ne(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||Ne();const d=o.critical,u=o.dimensions,h=u.draggables[o.critical.draggable.id],{impact:x,didDropInsideDroppable:p}=$W({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),y=p?nx(x):null,b=p?gd(x):null,g={index:d.draggable.index,droppableId:d.droppable.id},S={draggableId:h.descriptor.id,type:h.descriptor.type,source:g,reason:i,mode:o.movementMode,destination:y,combine:b},v=LW({impact:x,draggable:h,dimensions:u,viewport:o.viewport,afterCritical:o.afterCritical}),I={critical:o.critical,afterCritical:o.afterCritical,result:S,impact:x};if(!(!uo(o.current.client.offset,v)||!!S.combine)){n(cx({completed:I}));return}const D=NW({current:o.current.client.offset,destination:v,reason:i});n(AW({newHomeClientOffset:v,dropDuration:D,completed:I}))};var Zj=()=>({x:window.pageXOffset,y:window.pageYOffset});function WW(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:n=>{n.target!==window&&n.target!==window.document||e()}}}function BW({onWindowScroll:e}){function n(){e(Zj())}const r=Mi(n),s=WW(r);let o=co;function i(){return o!==co}function c(){i()&&Ne(),o=Kr(window,[s])}function d(){i()||Ne(),r.cancel(),o(),o=co}return{start:c,stop:d,isActive:i}}const VW=e=>Wt(e,"DROP_COMPLETE")||Wt(e,"DROP_ANIMATE")||Wt(e,"FLUSH"),UW=e=>{const n=BW({onWindowScroll:r=>{e.dispatch(CW({newScroll:r}))}});return r=>s=>{!n.isActive()&&Wt(s,"INITIAL_PUBLISH")&&n.start(),n.isActive()&&VW(s)&&n.stop(),r(s)}};var zW=e=>{let n=!1,r=!1;const s=setTimeout(()=>{r=!0}),o=i=>{n||r||(n=!0,e(i),clearTimeout(s))};return o.wasCalled=()=>n,o},HW=()=>{const e=[],n=o=>{const i=e.findIndex(d=>d.timerId===o);i===-1&&Ne();const[c]=e.splice(i,1);c.callback()};return{add:o=>{const i=setTimeout(()=>n(i)),c={timerId:i,callback:o};e.push(c)},flush:()=>{if(!e.length)return;const o=[...e];e.length=0,o.forEach(i=>{clearTimeout(i.timerId),i.callback()})}}};const GW=(e,n)=>e==null&&n==null?!0:e==null||n==null?!1:e.droppableId===n.droppableId&&e.index===n.index,YW=(e,n)=>e==null&&n==null?!0:e==null||n==null?!1:e.draggableId===n.draggableId&&e.droppableId===n.droppableId,qW=(e,n)=>{if(e===n)return!0;const r=e.draggable.id===n.draggable.id&&e.draggable.droppableId===n.draggable.droppableId&&e.draggable.type===n.draggable.type&&e.draggable.index===n.draggable.index,s=e.droppable.id===n.droppable.id&&e.droppable.type===n.droppable.type;return r&&s},xi=(e,n)=>{n()},ec=(e,n)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:n});function ph(e,n,r,s){if(!e){r(s(n));return}const o=zW(r);e(n,{announce:o}),o.wasCalled()||r(s(n))}var KW=(e,n)=>{const r=HW();let s=null;const o=(p,y)=>{s&&Ne(),xi("onBeforeCapture",()=>{const b=e().onBeforeCapture;b&&b({draggableId:p,mode:y})})},i=(p,y)=>{s&&Ne(),xi("onBeforeDragStart",()=>{const b=e().onBeforeDragStart;b&&b(ec(p,y))})},c=(p,y)=>{s&&Ne();const b=ec(p,y);s={mode:y,lastCritical:p,lastLocation:b.source,lastCombine:null},r.add(()=>{xi("onDragStart",()=>ph(e().onDragStart,b,n,lc.onDragStart))})},d=(p,y)=>{const b=nx(y),g=gd(y);s||Ne();const S=!qW(p,s.lastCritical);S&&(s.lastCritical=p);const v=!GW(s.lastLocation,b);v&&(s.lastLocation=b);const I=!YW(s.lastCombine,g);if(I&&(s.lastCombine=g),!S&&!v&&!I)return;const w={...ec(p,s.mode),combine:g,destination:b};r.add(()=>{xi("onDragUpdate",()=>ph(e().onDragUpdate,w,n,lc.onDragUpdate))})},u=()=>{s||Ne(),r.flush()},h=p=>{s||Ne(),s=null,xi("onDragEnd",()=>ph(e().onDragEnd,p,n,lc.onDragEnd))};return{beforeCapture:o,beforeStart:i,start:c,update:d,flush:u,drop:h,abort:()=>{if(!s)return;const p={...ec(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};h(p)}}},XW=(e,n)=>{const r=KW(e,n);return s=>o=>i=>{if(Wt(i,"BEFORE_INITIAL_CAPTURE")){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(Wt(i,"INITIAL_PUBLISH")){const d=i.payload.critical;r.beforeStart(d,i.payload.movementMode),o(i),r.start(d,i.payload.movementMode);return}if(Wt(i,"DROP_COMPLETE")){const d=i.payload.completed.result;r.flush(),o(i),r.drop(d);return}if(o(i),Wt(i,"FLUSH")){r.abort();return}const c=s.getState();c.phase==="DRAGGING"&&r.update(c.critical,c.impact)}};const JW=e=>n=>r=>{if(!Wt(r,"DROP_ANIMATION_FINISHED")){n(r);return}const s=e.getState();s.phase!=="DROP_ANIMATING"&&Ne(),e.dispatch(cx({completed:s.completed}))},QW=e=>{let n=null,r=null;function s(){r&&(cancelAnimationFrame(r),r=null),n&&(n(),n=null)}return o=>i=>{if((Wt(i,"FLUSH")||Wt(i,"DROP_COMPLETE")||Wt(i,"DROP_ANIMATION_FINISHED"))&&s(),o(i),!Wt(i,"DROP_ANIMATE"))return;const c={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(Xj())}};r=requestAnimationFrame(()=>{r=null,n=Kr(window,[c])})}};var ZW=e=>()=>n=>r=>{(Wt(r,"DROP_COMPLETE")||Wt(r,"FLUSH")||Wt(r,"DROP_ANIMATE"))&&e.stopPublishing(),n(r)},eB=e=>{let n=!1;return()=>r=>s=>{if(Wt(s,"INITIAL_PUBLISH")){n=!0,e.tryRecordFocus(s.payload.critical.draggable.id),r(s),e.tryRestoreFocusRecorded();return}if(r(s),!!n){if(Wt(s,"FLUSH")){n=!1,e.tryRestoreFocusRecorded();return}if(Wt(s,"DROP_COMPLETE")){n=!1;const o=s.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const tB=e=>Wt(e,"DROP_COMPLETE")||Wt(e,"DROP_ANIMATE")||Wt(e,"FLUSH");var nB=e=>n=>r=>s=>{if(tB(s)){e.stop(),r(s);return}if(Wt(s,"INITIAL_PUBLISH")){r(s);const o=n.getState();o.phase!=="DRAGGING"&&Ne(),e.start(o);return}r(s),e.scroll(n.getState())};const rB=e=>n=>r=>{if(n(r),!Wt(r,"PUBLISH_WHILE_DRAGGING"))return;const s=e.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||e.dispatch(Kj({reason:s.reason})))},sB=xj;var oB=({dimensionMarshal:e,focusMarshal:n,styleMarshal:r,getResponders:s,announce:o,autoScroller:i})=>pj(xW,sB(JF(OW(r),ZW(e),_W(e),FW,JW,QW,rB,nB(i),UW,eB(n),XW(s,o))));const xh=()=>({additions:{},removals:{},modified:{}});function aB({registry:e,callbacks:n}){let r=xh(),s=null;const o=()=>{s||(n.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:u,removals:h,modified:x}=r,p=Object.keys(u).map(g=>e.draggable.getById(g).getDimension(Bn)).sort((g,S)=>g.descriptor.index-S.descriptor.index),y=Object.keys(x).map(g=>{const v=e.droppable.getById(g).callbacks.getScrollWhileDragging();return{droppableId:g,scroll:v}}),b={additions:p,removals:Object.keys(h),modified:y};r=xh(),n.publish(b)}))};return{add:u=>{const h=u.descriptor.id;r.additions[h]=u,r.modified[u.descriptor.droppableId]=!0,r.removals[h]&&delete r.removals[h],o()},remove:u=>{const h=u.descriptor;r.removals[h.id]=!0,r.modified[h.droppableId]=!0,r.additions[h.id]&&delete r.additions[h.id],o()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,r=xh())}}}var eS=({scrollHeight:e,scrollWidth:n,height:r,width:s})=>{const o=Or({x:n,y:e},{x:s,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},tS=()=>{const e=document.documentElement;return e||Ne(),e},nS=()=>{const e=tS();return eS({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},iB=()=>{const e=Zj(),n=nS(),r=e.y,s=e.x,o=tS(),i=o.clientWidth,c=o.clientHeight,d=s+i,u=r+c;return{frame:cs({top:r,left:s,right:d,bottom:u}),scroll:{initial:e,current:e,max:n,diff:{value:Bn,displacement:Bn}}}},lB=({critical:e,scrollOptions:n,registry:r})=>{const s=iB(),o=s.scroll.current,i=e.droppable,c=r.droppable.getAllByType(i.type).map(x=>x.callbacks.getDimensionAndWatchScroll(o,n)),d=r.draggable.getAllByType(e.draggable.type).map(x=>x.getDimension(o));return{dimensions:{draggables:Aj(d),droppables:Tj(c)},critical:e,viewport:s}};function Iy(e,n,r){return!(r.descriptor.id===n.id||r.descriptor.type!==n.type||e.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var cB=(e,n)=>{let r=null;const s=aB({callbacks:{publish:n.publishWhileDragging,collectionStarting:n.collectionStarting},registry:e}),o=(y,b)=>{e.droppable.exists(y)||Ne(),r&&n.updateDroppableIsEnabled({id:y,isEnabled:b})},i=(y,b)=>{r&&(e.droppable.exists(y)||Ne(),n.updateDroppableIsCombineEnabled({id:y,isCombineEnabled:b}))},c=(y,b)=>{r&&(e.droppable.exists(y)||Ne(),n.updateDroppableScroll({id:y,newScroll:b}))},d=(y,b)=>{r&&e.droppable.getById(y).callbacks.scroll(b)},u=()=>{if(!r)return;s.stop();const y=r.critical.droppable;e.droppable.getAllByType(y.type).forEach(b=>b.callbacks.dragStopped()),r.unsubscribe(),r=null},h=y=>{r||Ne();const b=r.critical.draggable;y.type==="ADDITION"&&Iy(e,b,y.value)&&s.add(y.value),y.type==="REMOVAL"&&Iy(e,b,y.value)&&s.remove(y.value)};return{updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:i,scrollDroppable:d,updateDroppableScroll:c,startPublishing:y=>{r&&Ne();const b=e.draggable.getById(y.draggableId),g=e.droppable.getById(b.descriptor.droppableId),S={draggable:b.descriptor,droppable:g.descriptor},v=e.subscribe(h);return r={critical:S,unsubscribe:v},lB({critical:S,registry:e,scrollOptions:y.scrollOptions})},stopPublishing:u}},rS=(e,n)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===n?!1:e.completed.result.reason==="DROP",dB=e=>{window.scrollBy(e.x,e.y)};const uB=Wn(e=>md(e).filter(n=>!(!n.isEnabled||!n.frame))),hB=(e,n)=>uB(n).find(s=>(s.frame||Ne(),Wj(s.frame.pageMarginBox)(e)))||null;var fB=({center:e,destination:n,droppables:r})=>{if(n){const o=r[n];return o.frame?o:null}return hB(e,r)};const Wi={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var pB=(e,n,r=()=>Wi)=>{const s=r(),o=e[n.size]*s.startFromPercentage,i=e[n.size]*s.maxScrollAtPercentage;return{startScrollingFrom:o,maxScrollValueAt:i}},sS=({startOfRange:e,endOfRange:n,current:r})=>{const s=n-e;return s===0?0:(r-e)/s},ux=1,xB=(e,n,r=()=>Wi)=>{const s=r();if(e>n.startScrollingFrom)return 0;if(e<=n.maxScrollValueAt)return s.maxPixelScroll;if(e===n.startScrollingFrom)return ux;const i=1-sS({startOfRange:n.maxScrollValueAt,endOfRange:n.startScrollingFrom,current:e}),c=s.maxPixelScroll*s.ease(i);return Math.ceil(c)},mB=(e,n,r)=>{const s=r(),o=s.durationDampening.accelerateAt,i=s.durationDampening.stopDampeningAt,c=n,d=i,h=Date.now()-c;if(h>=i)return e;if(h<o)return ux;const x=sS({startOfRange:o,endOfRange:d,current:h}),p=e*s.ease(x);return Math.ceil(p)},Dy=({distanceToEdge:e,thresholds:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const i=xB(e,n,o);return i===0?0:s?Math.max(mB(i,r,o),ux):i},Ey=({container:e,distanceToEdges:n,dragStartTime:r,axis:s,shouldUseTimeDampening:o,getAutoScrollerOptions:i})=>{const c=pB(e,s,i);return n[s.end]<n[s.start]?Dy({distanceToEdge:n[s.end],thresholds:c,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i}):-1*Dy({distanceToEdge:n[s.start],thresholds:c,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i})},gB=({container:e,subject:n,proposedScroll:r})=>{const s=n.height>e.height,o=n.width>e.width;return!o&&!s?r:o&&s?null:{x:o?0:r.x,y:s?0:r.y}};const bB=Ej(e=>e===0?0:e);var oS=({dragStartTime:e,container:n,subject:r,center:s,shouldUseTimeDampening:o,getAutoScrollerOptions:i})=>{const c={top:s.y-n.top,right:n.right-s.x,bottom:n.bottom-s.y,left:s.x-n.left},d=Ey({container:n,distanceToEdges:c,dragStartTime:e,axis:rx,shouldUseTimeDampening:o,getAutoScrollerOptions:i}),u=Ey({container:n,distanceToEdges:c,dragStartTime:e,axis:Oj,shouldUseTimeDampening:o,getAutoScrollerOptions:i}),h=bB({x:u,y:d});if(uo(h,Bn))return null;const x=gB({container:n,subject:r,proposedScroll:h});return x?uo(x,Bn)?null:x:null};const yB=Ej(e=>e===0?0:e>0?1:-1),hx=(()=>{const e=(n,r)=>n<0?n:n>r?n-r:0;return({current:n,max:r,change:s})=>{const o=Kn(n,s),i={x:e(o.x,r.x),y:e(o.y,r.y)};return uo(i,Bn)?null:i}})(),aS=({max:e,current:n,change:r})=>{const s={x:Math.max(n.x,e.x),y:Math.max(n.y,e.y)},o=yB(r),i=hx({max:s,current:n,change:o});return!i||o.x!==0&&i.x===0||o.y!==0&&i.y===0},fx=(e,n)=>aS({current:e.scroll.current,max:e.scroll.max,change:n}),vB=(e,n)=>{if(!fx(e,n))return null;const r=e.scroll.max,s=e.scroll.current;return hx({current:s,max:r,change:n})},px=(e,n)=>{const r=e.frame;return r?aS({current:r.scroll.current,max:r.scroll.max,change:n}):!1},jB=(e,n)=>{const r=e.frame;return!r||!px(e,n)?null:hx({current:r.scroll.current,max:r.scroll.max,change:n})};var SB=({viewport:e,subject:n,center:r,dragStartTime:s,shouldUseTimeDampening:o,getAutoScrollerOptions:i})=>{const c=oS({dragStartTime:s,container:e.frame,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i});return c&&fx(e,c)?c:null},wB=({droppable:e,subject:n,center:r,dragStartTime:s,shouldUseTimeDampening:o,getAutoScrollerOptions:i})=>{const c=e.frame;if(!c)return null;const d=oS({dragStartTime:s,container:c.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i});return d&&px(e,d)?d:null},Ty=({state:e,dragStartTime:n,shouldUseTimeDampening:r,scrollWindow:s,scrollDroppable:o,getAutoScrollerOptions:i})=>{const c=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const p=e.viewport,y=SB({dragStartTime:n,viewport:p,subject:u,center:c,shouldUseTimeDampening:r,getAutoScrollerOptions:i});if(y){s(y);return}}const h=fB({center:c,destination:kr(e.impact),droppables:e.dimensions.droppables});if(!h)return;const x=wB({dragStartTime:n,droppable:h,subject:u,center:c,shouldUseTimeDampening:r,getAutoScrollerOptions:i});x&&o(h.descriptor.id,x)},CB=({scrollWindow:e,scrollDroppable:n,getAutoScrollerOptions:r=()=>Wi})=>{const s=Mi(e),o=Mi(n);let i=null;const c=h=>{i||Ne();const{shouldUseTimeDampening:x,dragStartTime:p}=i;Ty({state:h,scrollWindow:s,scrollDroppable:o,dragStartTime:p,shouldUseTimeDampening:x,getAutoScrollerOptions:r})};return{start:h=>{i&&Ne();const x=Date.now();let p=!1;const y=()=>{p=!0};Ty({state:h,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:y,scrollDroppable:y,getAutoScrollerOptions:r}),i={dragStartTime:x,shouldUseTimeDampening:p},p&&c(h)},stop:()=>{i&&(s.cancel(),o.cancel(),i=null)},scroll:c}},PB=({move:e,scrollDroppable:n,scrollWindow:r})=>{const s=(d,u)=>{const h=Kn(d.current.client.selection,u);e({client:h})},o=(d,u)=>{if(!px(d,u))return u;const h=jB(d,u);if(!h)return n(d.descriptor.id,u),null;const x=Or(u,h);return n(d.descriptor.id,x),Or(u,x)},i=(d,u,h)=>{if(!d||!fx(u,h))return h;const x=vB(u,h);if(!x)return r(h),null;const p=Or(h,x);return r(p),Or(h,p)};return d=>{const u=d.scrollJumpRequest;if(!u)return;const h=kr(d.impact);h||Ne();const x=o(d.dimensions.droppables[h],u);if(!x)return;const p=d.viewport,y=i(d.isWindowScrollAllowed,p,x);y&&s(d,y)}},IB=({scrollDroppable:e,scrollWindow:n,move:r,getAutoScrollerOptions:s})=>{const o=CB({scrollWindow:n,scrollDroppable:e,getAutoScrollerOptions:s}),i=PB({move:r,scrollWindow:n,scrollDroppable:e});return{scroll:u=>{if(!(s().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){o.scroll(u);return}u.scrollJumpRequest&&i(u)}},start:o.start,stop:o.stop}};const ka="data-rfd",Ma=(()=>{const e=`${ka}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Yh=(()=>{const e=`${ka}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),DB=(()=>{const e=`${ka}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Ay={contextId:`${ka}-scroll-container-context-id`},EB=e=>n=>`[${n}="${e}"]`,mi=(e,n)=>e.map(r=>{const s=r.styles[n];return s?`${r.selector} { ${s} }`:""}).join(" "),TB="pointer-events: none;";var AB=e=>{const n=EB(e),r=(()=>{const d=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:n(Ma.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:d,dragging:TB,dropAnimating:d}}})(),s=(()=>{const d=`
      transition: ${Ei.outOfTheWay};
    `;return{selector:n(Yh.contextId),styles:{dragging:d,dropAnimating:d,userCancel:d}}})(),o={selector:n(DB.contextId),styles:{always:"overflow-anchor: none;"}},c=[s,r,o,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:mi(c,"always"),resting:mi(c,"resting"),dragging:mi(c,"dragging"),dropAnimating:mi(c,"dropAnimating"),userCancel:mi(c,"userCancel")}};const Mr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?m.useLayoutEffect:m.useEffect,mh=()=>{const e=document.querySelector("head");return e||Ne(),e},Ry=e=>{const n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.type="text/css",n};function RB(e,n){const r=kt(()=>AB(e),[e]),s=m.useRef(null),o=m.useRef(null),i=rt(Wn(p=>{const y=o.current;y||Ne(),y.textContent=p}),[]),c=rt(p=>{const y=s.current;y||Ne(),y.textContent=p},[]);Mr(()=>{!s.current&&!o.current||Ne();const p=Ry(n),y=Ry(n);return s.current=p,o.current=y,p.setAttribute(`${ka}-always`,e),y.setAttribute(`${ka}-dynamic`,e),mh().appendChild(p),mh().appendChild(y),c(r.always),i(r.resting),()=>{const b=g=>{const S=g.current;S||Ne(),mh().removeChild(S),g.current=null};b(s),b(o)}},[n,c,i,r.always,r.resting,e]);const d=rt(()=>i(r.dragging),[i,r.dragging]),u=rt(p=>{if(p==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),h=rt(()=>{o.current&&i(r.resting)},[i,r.resting]);return kt(()=>({dragging:d,dropping:u,resting:h}),[d,u,h])}function iS(e,n){return Array.from(e.querySelectorAll(n))}var lS=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function vd(e){return e instanceof lS(e).HTMLElement}function _B(e,n){const r=`[${Ma.contextId}="${e}"]`,s=iS(document,r);if(!s.length)return null;const o=s.find(i=>i.getAttribute(Ma.draggableId)===n);return!o||!vd(o)?null:o}function OB(e){const n=m.useRef({}),r=m.useRef(null),s=m.useRef(null),o=m.useRef(!1),i=rt(function(y,b){const g={id:y,focus:b};return n.current[y]=g,function(){const v=n.current;v[y]!==g&&delete v[y]}},[]),c=rt(function(y){const b=_B(e,y);b&&b!==document.activeElement&&b.focus()},[e]),d=rt(function(y,b){r.current===y&&(r.current=b)},[]),u=rt(function(){s.current||o.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const y=r.current;y&&c(y)}))},[c]),h=rt(function(y){r.current=null;const b=document.activeElement;b&&b.getAttribute(Ma.draggableId)===y&&(r.current=y)},[]);return Mr(()=>(o.current=!0,function(){o.current=!1;const y=s.current;y&&cancelAnimationFrame(y)}),[]),kt(()=>({register:i,tryRecordFocus:h,tryRestoreFocusRecorded:u,tryShiftRecord:d}),[i,h,u,d])}function kB(){const e={draggables:{},droppables:{}},n=[];function r(p){return n.push(p),function(){const b=n.indexOf(p);b!==-1&&n.splice(b,1)}}function s(p){n.length&&n.forEach(y=>y(p))}function o(p){return e.draggables[p]||null}function i(p){const y=o(p);return y||Ne(),y}const c={register:p=>{e.draggables[p.descriptor.id]=p,s({type:"ADDITION",value:p})},update:(p,y)=>{const b=e.draggables[y.descriptor.id];b&&b.uniqueId===p.uniqueId&&(delete e.draggables[y.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:p=>{const y=p.descriptor.id,b=o(y);b&&p.uniqueId===b.uniqueId&&(delete e.draggables[y],e.droppables[p.descriptor.droppableId]&&s({type:"REMOVAL",value:p}))},getById:i,findById:o,exists:p=>!!o(p),getAllByType:p=>Object.values(e.draggables).filter(y=>y.descriptor.type===p)};function d(p){return e.droppables[p]||null}function u(p){const y=d(p);return y||Ne(),y}const h={register:p=>{e.droppables[p.descriptor.id]=p},unregister:p=>{const y=d(p.descriptor.id);y&&p.uniqueId===y.uniqueId&&delete e.droppables[p.descriptor.id]},getById:u,findById:d,exists:p=>!!d(p),getAllByType:p=>Object.values(e.droppables).filter(y=>y.descriptor.type===p)};function x(){e.draggables={},e.droppables={},n.length=0}return{draggable:c,droppable:h,subscribe:r,clean:x}}function MB(){const e=kt(kB,[]);return m.useEffect(()=>function(){e.clean()},[e]),e}var xx=Dt.createContext(null),Bc=()=>{const e=document.body;return e||Ne(),e};const NB={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},LB=e=>`rfd-announcement-${e}`;function $B(e){const n=kt(()=>LB(e),[e]),r=m.useRef(null);return m.useEffect(function(){const i=document.createElement("div");return r.current=i,i.id=n,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),U(i.style,NB),Bc().appendChild(i),function(){setTimeout(function(){const u=Bc();u.contains(i)&&u.removeChild(i),i===r.current&&(r.current=null)})}},[n]),rt(o=>{const i=r.current;if(i){i.textContent=o;return}},[])}const FB={separator:"::"};function mx(e,n=FB){const r=Dt.useId();return kt(()=>`${e}${n.separator}${r}`,[n.separator,e,r])}function WB({contextId:e,uniqueId:n}){return`rfd-hidden-text-${e}-${n}`}function BB({contextId:e,text:n}){const r=mx("hidden-text",{separator:"-"}),s=kt(()=>WB({contextId:e,uniqueId:r}),[r,e]);return m.useEffect(function(){const i=document.createElement("div");return i.id=s,i.textContent=n,i.style.display="none",Bc().appendChild(i),function(){const d=Bc();d.contains(i)&&d.removeChild(i)}},[s,n]),s}var jd=Dt.createContext(null);function cS(e){const n=m.useRef(e);return m.useEffect(()=>{n.current=e}),n}function VB(){let e=null;function n(){return!!e}function r(c){return c===e}function s(c){e&&Ne();const d={abandon:c};return e=d,d}function o(){e||Ne(),e=null}function i(){e&&(e.abandon(),o())}return{isClaimed:n,isActive:r,claim:s,release:o,tryAbandon:i}}function Bi(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const UB=9,zB=13,gx=27,dS=32,HB=33,GB=34,YB=35,qB=36,KB=37,XB=38,JB=39,QB=40,ZB={[zB]:!0,[UB]:!0};var uS=e=>{ZB[e.keyCode]&&e.preventDefault()};const Sd=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(s=>`on${s}`in document)||e})(),hS=0,_y=5;function e6(e,n){return Math.abs(n.x-e.x)>=_y||Math.abs(n.y-e.y)>=_y}const Oy={type:"IDLE"};function t6({cancel:e,completed:n,getPhase:r,setPhase:s}){return[{eventName:"mousemove",fn:o=>{const{button:i,clientX:c,clientY:d}=o;if(i!==hS)return;const u={x:c,y:d},h=r();if(h.type==="DRAGGING"){o.preventDefault(),h.actions.move(u);return}h.type!=="PENDING"&&Ne();const x=h.point;if(!e6(x,u))return;o.preventDefault();const p=h.actions.fluidLift(u);s({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:o=>{const i=r();if(i.type!=="DRAGGING"){e();return}o.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:o=>{r().type==="DRAGGING"&&o.preventDefault(),e()}},{eventName:"keydown",fn:o=>{if(r().type==="PENDING"){e();return}if(o.keyCode===gx){o.preventDefault(),e();return}uS(o)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:o=>{const i=r();if(i.type==="IDLE"&&Ne(),i.actions.shouldRespectForcePress()){e();return}o.preventDefault()}},{eventName:Sd,fn:e}]}function n6(e){const n=m.useRef(Oy),r=m.useRef(co),s=kt(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==hS||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const y=e.findClosestDraggableId(p);if(!y)return;const b=e.tryGetLock(y,c,{sourceEvent:p});if(!b)return;p.preventDefault();const g={x:p.clientX,y:p.clientY};r.current(),h(b,g)}}),[e]),o=kt(()=>({eventName:"webkitmouseforcewillbegin",fn:x=>{if(x.defaultPrevented)return;const p=e.findClosestDraggableId(x);if(!p)return;const y=e.findOptionsForDraggable(p);y&&(y.shouldRespectForcePress||e.canGetLock(p)&&x.preventDefault())}}),[e]),i=rt(function(){const p={passive:!1,capture:!0};r.current=Kr(window,[o,s],p)},[o,s]),c=rt(()=>{n.current.type!=="IDLE"&&(n.current=Oy,r.current(),i())},[i]),d=rt(()=>{const x=n.current;c(),x.type==="DRAGGING"&&x.actions.cancel({shouldBlockNextClick:!0}),x.type==="PENDING"&&x.actions.abort()},[c]),u=rt(function(){const p={capture:!0,passive:!1},y=t6({cancel:d,completed:c,getPhase:()=>n.current,setPhase:b=>{n.current=b}});r.current=Kr(window,y,p)},[d,c]),h=rt(function(p,y){n.current.type!=="IDLE"&&Ne(),n.current={type:"PENDING",point:y,actions:p},u()},[u]);Mr(function(){return i(),function(){r.current()}},[i])}function r6(){}const s6={[GB]:!0,[HB]:!0,[qB]:!0,[YB]:!0};function o6(e,n){function r(){n(),e.cancel()}function s(){n(),e.drop()}return[{eventName:"keydown",fn:o=>{if(o.keyCode===gx){o.preventDefault(),r();return}if(o.keyCode===dS){o.preventDefault(),s();return}if(o.keyCode===QB){o.preventDefault(),e.moveDown();return}if(o.keyCode===XB){o.preventDefault(),e.moveUp();return}if(o.keyCode===JB){o.preventDefault(),e.moveRight();return}if(o.keyCode===KB){o.preventDefault(),e.moveLeft();return}if(s6[o.keyCode]){o.preventDefault();return}uS(o)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Sd,fn:r}]}function a6(e){const n=m.useRef(r6),r=kt(()=>({eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==dS)return;const c=e.findClosestDraggableId(i);if(!c)return;const d=e.tryGetLock(c,x,{sourceEvent:i});if(!d)return;i.preventDefault();let u=!0;const h=d.snapLift();n.current();function x(){u||Ne(),u=!1,n.current(),s()}n.current=Kr(window,o6(h,x),{capture:!0,passive:!1})}}),[e]),s=rt(function(){const i={passive:!1,capture:!0};n.current=Kr(window,[r],i)},[r]);Mr(function(){return s(),function(){n.current()}},[s])}const gh={type:"IDLE"},i6=120,l6=.15;function c6({cancel:e,getPhase:n}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.keyCode===gx&&r.preventDefault(),e()}},{eventName:Sd,fn:e}]}function d6({cancel:e,completed:n,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const o=r();if(o.type!=="DRAGGING"){e();return}o.hasMoved=!0;const{clientX:i,clientY:c}=s.touches[0],d={x:i,y:c};s.preventDefault(),o.actions.move(d)}},{eventName:"touchend",fn:s=>{const o=r();if(o.type!=="DRAGGING"){e();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:s=>{if(r().type!=="DRAGGING"){e();return}s.preventDefault(),e()}},{eventName:"touchforcechange",fn:s=>{const o=r();o.type==="IDLE"&&Ne();const i=s.touches[0];if(!i||!(i.force>=l6))return;const d=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){d&&e();return}if(d){if(o.hasMoved){s.preventDefault();return}e();return}s.preventDefault()}},{eventName:Sd,fn:e}]}function u6(e){const n=m.useRef(gh),r=m.useRef(co),s=rt(function(){return n.current},[]),o=rt(function(b){n.current=b},[]),i=kt(()=>({eventName:"touchstart",fn:function(b){if(b.defaultPrevented)return;const g=e.findClosestDraggableId(b);if(!g)return;const S=e.tryGetLock(g,d,{sourceEvent:b});if(!S)return;const v=b.touches[0],{clientX:I,clientY:w}=v,D={x:I,y:w};r.current(),p(S,D)}}),[e]),c=rt(function(){const b={capture:!0,passive:!1};r.current=Kr(window,[i],b)},[i]),d=rt(()=>{const y=n.current;y.type!=="IDLE"&&(y.type==="PENDING"&&clearTimeout(y.longPressTimerId),o(gh),r.current(),c())},[c,o]),u=rt(()=>{const y=n.current;d(),y.type==="DRAGGING"&&y.actions.cancel({shouldBlockNextClick:!0}),y.type==="PENDING"&&y.actions.abort()},[d]),h=rt(function(){const b={capture:!0,passive:!1},g={cancel:u,completed:d,getPhase:s},S=Kr(window,d6(g),b),v=Kr(window,c6(g),b);r.current=function(){S(),v()}},[u,s,d]),x=rt(function(){const b=s();b.type!=="PENDING"&&Ne();const g=b.actions.fluidLift(b.point);o({type:"DRAGGING",actions:g,hasMoved:!1})},[s,o]),p=rt(function(b,g){s().type!=="IDLE"&&Ne();const S=setTimeout(x,i6);o({type:"PENDING",point:g,actions:b,longPressTimerId:S}),h()},[h,s,o,x]);Mr(function(){return c(),function(){r.current();const g=s();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),o(gh))}},[s,c,o]),Mr(function(){return Kr(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const h6=["input","button","textarea","select","option","optgroup","video","audio"];function fS(e,n){if(n==null)return!1;if(h6.includes(n.tagName.toLowerCase()))return!0;const s=n.getAttribute("contenteditable");return s==="true"||s===""?!0:n===e?!1:fS(e,n.parentElement)}function f6(e,n){const r=n.target;return vd(r)?fS(e,r):!1}var p6=e=>cs(e.getBoundingClientRect()).center;function x6(e){return e instanceof lS(e).Element}const m6=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||e})();function pS(e,n){return e==null?null:e[m6](n)?e:pS(e.parentElement,n)}function g6(e,n){return e.closest?e.closest(n):pS(e,n)}function b6(e){return`[${Ma.contextId}="${e}"]`}function y6(e,n){const r=n.target;if(!x6(r))return null;const s=b6(e),o=g6(r,s);return!o||!vd(o)?null:o}function v6(e,n){const r=y6(e,n);return r?r.getAttribute(Ma.draggableId):null}function j6(e,n){const r=`[${Yh.contextId}="${e}"]`,o=iS(document,r).find(i=>i.getAttribute(Yh.id)===n);return!o||!vd(o)?null:o}function S6(e){e.preventDefault()}function tc({expected:e,phase:n,isLockActive:r,shouldWarn:s}){return!(!r()||e!==n)}function xS({lockAPI:e,store:n,registry:r,draggableId:s}){if(e.isClaimed())return!1;const o=r.draggable.findById(s);return!(!o||!o.options.isEnabled||!rS(n.getState(),s))}function w6({lockAPI:e,contextId:n,store:r,registry:s,draggableId:o,forceSensorStop:i,sourceEvent:c}){if(!xS({lockAPI:e,store:r,registry:s,draggableId:o}))return null;const u=s.draggable.getById(o),h=j6(n,u.descriptor.id);if(!h||c&&!u.options.canDragInteractiveElements&&f6(h,c))return null;const x=e.claim(i||co);let p="PRE_DRAG";function y(){return u.options.shouldRespectForcePress}function b(){return e.isActive(x)}function g(A,_){tc({expected:A,phase:p,isLockActive:b,shouldWarn:!0})&&r.dispatch(_())}const S=g.bind(null,"DRAGGING");function v(A){function _(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(_(),Ne()),r.dispatch(gW(A.liftActionArgs)),p="DRAGGING";function O(R,L={shouldBlockNextClick:!1}){if(A.cleanup(),L.shouldBlockNextClick){const B=Kr(window,[{eventName:"click",fn:S6,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(B)}_(),r.dispatch(Kj({reason:R}))}return{isActive:()=>tc({expected:"DRAGGING",phase:p,isLockActive:b,shouldWarn:!1}),shouldRespectForcePress:y,drop:R=>O("DROP",R),cancel:R=>O("CANCEL",R),...A.actions}}function I(A){const _=Mi(R=>{S(()=>qj({client:R}))});return{...v({liftActionArgs:{id:o,clientSelection:A,movementMode:"FLUID"},cleanup:()=>_.cancel(),actions:{move:_}}),move:_}}function w(){const A={moveUp:()=>S(IW),moveRight:()=>S(EW),moveDown:()=>S(DW),moveLeft:()=>S(TW)};return v({liftActionArgs:{id:o,clientSelection:p6(h),movementMode:"SNAP"},cleanup:co,actions:A})}function D(){tc({expected:"PRE_DRAG",phase:p,isLockActive:b,shouldWarn:!0})&&e.release()}return{isActive:()=>tc({expected:"PRE_DRAG",phase:p,isLockActive:b,shouldWarn:!1}),shouldRespectForcePress:y,fluidLift:I,snapLift:w,abort:D}}const C6=[n6,a6,u6];function P6({contextId:e,store:n,registry:r,customSensors:s,enableDefaultSensors:o}){const i=[...o?C6:[],...s||[]],c=m.useState(()=>VB())[0],d=rt(function(v,I){Bi(v)&&!Bi(I)&&c.tryAbandon()},[c]);Mr(function(){let v=n.getState();return n.subscribe(()=>{const w=n.getState();d(v,w),v=w})},[c,n,d]),Mr(()=>c.tryAbandon,[c.tryAbandon]);const u=rt(S=>xS({lockAPI:c,registry:r,store:n,draggableId:S}),[c,r,n]),h=rt((S,v,I)=>w6({lockAPI:c,registry:r,contextId:e,store:n,draggableId:S,forceSensorStop:v||null,sourceEvent:I&&I.sourceEvent?I.sourceEvent:null}),[e,c,r,n]),x=rt(S=>v6(e,S),[e]),p=rt(S=>{const v=r.draggable.findById(S);return v?v.options:null},[r.draggable]),y=rt(function(){c.isClaimed()&&(c.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(lx()))},[c,n]),b=rt(()=>c.isClaimed(),[c]),g=kt(()=>({canGetLock:u,tryGetLock:h,findClosestDraggableId:x,findOptionsForDraggable:p,tryReleaseLock:y,isLockClaimed:b}),[u,h,x,p,y,b]);for(let S=0;S<i.length;S++)i[S](g)}const I6=e=>({onBeforeCapture:n=>{const r=()=>{e.onBeforeCapture&&e.onBeforeCapture(n)};rf.flushSync(r)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),D6=e=>({...Wi,...e.autoScrollerOptions,durationDampening:{...Wi.durationDampening,...e.autoScrollerOptions}});function gi(e){return e.current||Ne(),e.current}function E6(e){const{contextId:n,setCallbacks:r,sensors:s,nonce:o,dragHandleUsageInstructions:i}=e,c=m.useRef(null),d=cS(e),u=rt(()=>I6(d.current),[d]),h=rt(()=>D6(d.current),[d]),x=$B(n),p=BB({contextId:n,text:i}),y=RB(n,o),b=rt(B=>{gi(c).dispatch(B)},[]),g=kt(()=>ay({publishWhileDragging:yW,updateDroppableScroll:jW,updateDroppableIsEnabled:SW,updateDroppableIsCombineEnabled:wW,collectionStarting:vW},b),[b]),S=MB(),v=kt(()=>cB(S,g),[S,g]),I=kt(()=>IB({scrollWindow:dB,scrollDroppable:v.scrollDroppable,getAutoScrollerOptions:h,...ay({move:qj},b)}),[v.scrollDroppable,b,h]),w=OB(n),D=kt(()=>oB({announce:x,autoScroller:I,dimensionMarshal:v,focusMarshal:w,getResponders:u,styleMarshal:y}),[x,I,v,w,u,y]);c.current=D;const E=rt(()=>{const B=gi(c);B.getState().phase!=="IDLE"&&B.dispatch(lx())},[]),A=rt(()=>{const B=gi(c).getState();return B.phase==="DROP_ANIMATING"?!0:B.phase==="IDLE"?!1:B.isDragging},[]),_=kt(()=>({isDragging:A,tryAbort:E}),[A,E]);r(_);const O=rt(B=>rS(gi(c).getState(),B),[]),R=rt(()=>Lo(gi(c).getState()),[]),L=kt(()=>({marshal:v,focus:w,contextId:n,canLift:O,isMovementAllowed:R,dragHandleUsageInstructionsId:p,registry:S}),[n,v,p,w,O,R,S]);return P6({contextId:n,store:D,registry:S,customSensors:s||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),m.useEffect(()=>E,[E]),Dt.createElement(jd.Provider,{value:L},Dt.createElement(Q3,{context:xx,store:D},e.children))}function T6(){return Dt.useId()}function A6(e){const n=T6(),r=e.dragHandleUsageInstructions||lc.dragHandleUsageInstructions;return Dt.createElement(i4,null,s=>Dt.createElement(E6,{nonce:e.nonce,contextId:n,setCallbacks:s,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const ky={dragging:5e3,dropAnimating:4500},R6=(e,n)=>n?Ei.drop(n.duration):e?Ei.snap:Ei.fluid,_6=(e,n)=>{if(e)return n?Fi.opacity.drop:Fi.opacity.combining},O6=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function k6(e){const r=e.dimension.client,{offset:s,combineWith:o,dropping:i}=e,c=!!o,d=O6(e),u=!!i,h=u?Hh.drop(s,c):Hh.moveTo(s);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:R6(d,i),transform:h,opacity:_6(c,u),zIndex:u?ky.dropAnimating:ky.dragging,pointerEvents:"none"}}function M6(e){return{transform:Hh.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function N6(e){return e.type==="DRAGGING"?k6(e):M6(e)}function L6(e,n,r=Bn){const s=window.getComputedStyle(n),o=n.getBoundingClientRect(),i=wj(o,s),c=Lc(i,r),d={client:i,tagName:n.tagName.toLowerCase(),display:s.display},u={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:e,placeholder:d,displaceBy:u,client:i,page:c}}function $6(e){const n=mx("draggable"),{descriptor:r,registry:s,getDraggableRef:o,canDragInteractiveElements:i,shouldRespectForcePress:c,isEnabled:d}=e,u=kt(()=>({canDragInteractiveElements:i,shouldRespectForcePress:c,isEnabled:d}),[i,d,c]),h=rt(b=>{const g=o();return g||Ne(),L6(r,g,b)},[r,o]),x=kt(()=>({uniqueId:n,descriptor:r,options:u,getDimension:h}),[r,h,u,n]),p=m.useRef(x),y=m.useRef(!0);Mr(()=>(s.draggable.register(p.current),()=>s.draggable.unregister(p.current)),[s.draggable]),Mr(()=>{if(y.current){y.current=!1;return}const b=p.current;p.current=x,s.draggable.update(x,b)},[x,s.draggable])}var bx=Dt.createContext(null);function Vc(e){const n=m.useContext(e);return n||Ne(),n}function F6(e){e.preventDefault()}const W6=e=>{const n=m.useRef(null),r=rt((_=null)=>{n.current=_},[]),s=rt(()=>n.current,[]),{contextId:o,dragHandleUsageInstructionsId:i,registry:c}=Vc(jd),{type:d,droppableId:u}=Vc(bx),h=kt(()=>({id:e.draggableId,index:e.index,type:d,droppableId:u}),[e.draggableId,e.index,d,u]),{children:x,draggableId:p,isEnabled:y,shouldRespectForcePress:b,canDragInteractiveElements:g,isClone:S,mapped:v,dropAnimationFinished:I}=e;if(!S){const _=kt(()=>({descriptor:h,registry:c,getDraggableRef:s,canDragInteractiveElements:g,shouldRespectForcePress:b,isEnabled:y}),[h,c,s,g,b,y]);$6(_)}const w=kt(()=>y?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:F6}:null,[o,i,p,y]),D=rt(_=>{v.type==="DRAGGING"&&v.dropping&&_.propertyName==="transform"&&rf.flushSync(I)},[I,v]),E=kt(()=>{const _=N6(v),O=v.type==="DRAGGING"&&v.dropping?D:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":p,style:_,onTransitionEnd:O},dragHandleProps:w}},[o,w,p,v,D,r]),A=kt(()=>({draggableId:h.id,type:h.type,source:{index:h.index,droppableId:h.droppableId}}),[h.droppableId,h.id,h.index,h.type]);return Dt.createElement(Dt.Fragment,null,x(E,v.snapshot,A))};var mS=(e,n)=>e===n,gS=e=>{const{combine:n,destination:r}=e;return r?r.droppableId:n?n.droppableId:null};const B6=e=>e.combine?e.combine.draggableId:null,V6=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function U6(){const e=Wn((o,i)=>({x:o,y:i})),n=Wn((o,i,c=null,d=null,u=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!u,dropAnimation:u,mode:o,draggingOver:c,combineWith:d,combineTargetFor:null})),r=Wn((o,i,c,d,u=null,h=null,x=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:h,mode:i,offset:o,dimension:c,forceShouldAnimate:x,snapshot:n(i,d,u,h,null)}}));return(o,i)=>{if(Bi(o)){if(o.critical.draggable.id!==i.draggableId)return null;const c=o.current.client.offset,d=o.dimensions.draggables[i.draggableId],u=kr(o.impact),h=V6(o.impact),x=o.forceShouldAnimate;return r(e(c.x,c.y),o.movementMode,d,i.isClone,u,h,x)}if(o.phase==="DROP_ANIMATING"){const c=o.completed;if(c.result.draggableId!==i.draggableId)return null;const d=i.isClone,u=o.dimensions.draggables[i.draggableId],h=c.result,x=h.mode,p=gS(h),y=B6(h),g={duration:o.dropDuration,curve:dx.drop,moveTo:o.newHomeClientOffset,opacity:y?Fi.opacity.drop:null,scale:y?Fi.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:u,dropping:g,draggingOver:p,combineWith:y,mode:x,forceShouldAnimate:null,snapshot:n(x,d,p,y,g)}}}return null}}function bS(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const z6={mapped:{type:"SECONDARY",offset:Bn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:bS(null)}};function H6(){const e=Wn((c,d)=>({x:c,y:d})),n=Wn(bS),r=Wn((c,d=null,u)=>({mapped:{type:"SECONDARY",offset:c,combineTargetFor:d,shouldAnimateDisplacement:u,snapshot:n(d)}})),s=c=>c?r(Bn,c,!0):null,o=(c,d,u,h)=>{const x=u.displaced.visible[c],p=!!(h.inVirtualList&&h.effected[c]),y=gd(u),b=y&&y.draggableId===c?d:null;if(!x){if(!p)return s(b);if(u.displaced.invisible[c])return null;const v=Ua(h.displacedBy.point),I=e(v.x,v.y);return r(I,b,!0)}if(p)return s(b);const g=u.displacedBy.point,S=e(g.x,g.y);return r(S,b,x.shouldAnimate)};return(c,d)=>{if(Bi(c))return c.critical.draggable.id===d.draggableId?null:o(d.draggableId,c.critical.draggable.id,c.impact,c.afterCritical);if(c.phase==="DROP_ANIMATING"){const u=c.completed;return u.result.draggableId===d.draggableId?null:o(d.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const G6=()=>{const e=U6(),n=H6();return(s,o)=>e(s,o)||n(s,o)||z6},Y6={dropAnimationFinished:Xj},q6=jj(G6,Y6,null,{context:xx,areStatePropsEqual:mS})(W6);function yS(e){return Vc(bx).isUsingCloneFor===e.draggableId&&!e.isClone?null:Dt.createElement(q6,e)}function K6(e){const n=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,s=!!e.shouldRespectForcePress;return Dt.createElement(yS,U({},e,{isClone:!1,isEnabled:n,canDragInteractiveElements:r,shouldRespectForcePress:s}))}const vS=e=>n=>e===n,X6=vS("scroll"),J6=vS("auto"),My=(e,n)=>n(e.overflowX)||n(e.overflowY),Q6=e=>{const n=window.getComputedStyle(e),r={overflowX:n.overflowX,overflowY:n.overflowY};return My(r,X6)||My(r,J6)},Z6=()=>!1,jS=e=>e==null?null:e===document.body?Z6()?e:null:e===document.documentElement?null:Q6(e)?e:jS(e.parentElement);var qh=e=>({x:e.scrollLeft,y:e.scrollTop});const SS=e=>e?window.getComputedStyle(e).position==="fixed"?!0:SS(e.parentElement):!1;var eV=e=>{const n=jS(e),r=SS(e);return{closestScrollable:n,isFixedOnPage:r}},tV=({descriptor:e,isEnabled:n,isCombineEnabled:r,isFixedOnPage:s,direction:o,client:i,page:c,closest:d})=>{const u=(()=>{if(!d)return null;const{scrollSize:y,client:b}=d,g=eS({scrollHeight:y.scrollHeight,scrollWidth:y.scrollWidth,height:b.paddingBox.height,width:b.paddingBox.width});return{pageMarginBox:d.page.marginBox,frameClient:b,scrollSize:y,shouldClipSubject:d.shouldClipSubject,scroll:{initial:d.scroll,current:d.scroll,max:g,diff:{value:Bn,displacement:Bn}}}})(),h=o==="vertical"?rx:Oj,x=Oa({page:c,withPlaceholder:null,axis:h,frame:u});return{descriptor:e,isCombineEnabled:r,isFixedOnPage:s,axis:h,isEnabled:n,client:i,page:c,frame:u,subject:x}};const nV=(e,n)=>{const r=Cj(e);if(!n||e!==n)return r;const s=r.paddingBox.top-n.scrollTop,o=r.paddingBox.left-n.scrollLeft,i=s+n.scrollHeight,c=o+n.scrollWidth,u=Zp({top:s,right:c,bottom:i,left:o},r.border);return ex({borderBox:u,margin:r.margin,border:r.border,padding:r.padding})};var rV=({ref:e,descriptor:n,env:r,windowScroll:s,direction:o,isDropDisabled:i,isCombineEnabled:c,shouldClipSubject:d})=>{const u=r.closestScrollable,h=nV(e,u),x=Lc(h,s),p=(()=>{if(!u)return null;const b=Cj(u),g={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:b,page:Lc(b,s),scroll:qh(u),scrollSize:g,shouldClipSubject:d}})();return tV({descriptor:n,isEnabled:!i,isCombineEnabled:c,isFixedOnPage:r.isFixedOnPage,direction:o,client:h,page:x,closest:p})};const sV={passive:!1},oV={passive:!0};var Ny=e=>e.shouldPublishImmediately?sV:oV;const nc=e=>e&&e.env.closestScrollable||null;function aV(e){const n=m.useRef(null),r=Vc(jd),s=mx("droppable"),{registry:o,marshal:i}=r,c=cS(e),d=kt(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=m.useRef(d),h=kt(()=>Wn((E,A)=>{n.current||Ne();const _={x:E,y:A};i.updateDroppableScroll(d.id,_)}),[d.id,i]),x=rt(()=>{const E=n.current;return!E||!E.env.closestScrollable?Bn:qh(E.env.closestScrollable)},[]),p=rt(()=>{const E=x();h(E.x,E.y)},[x,h]),y=kt(()=>Mi(p),[p]),b=rt(()=>{const E=n.current,A=nc(E);if(E&&A||Ne(),E.scrollOptions.shouldPublishImmediately){p();return}y()},[y,p]),g=rt((E,A)=>{n.current&&Ne();const _=c.current,O=_.getDroppableRef();O||Ne();const R=eV(O),L={ref:O,descriptor:d,env:R,scrollOptions:A};n.current=L;const B=rV({ref:O,descriptor:d,env:R,windowScroll:E,direction:_.direction,isDropDisabled:_.isDropDisabled,isCombineEnabled:_.isCombineEnabled,shouldClipSubject:!_.ignoreContainerClipping}),Y=R.closestScrollable;return Y&&(Y.setAttribute(Ay.contextId,r.contextId),Y.addEventListener("scroll",b,Ny(L.scrollOptions))),B},[r.contextId,d,b,c]),S=rt(()=>{const E=n.current,A=nc(E);return E&&A||Ne(),qh(A)},[]),v=rt(()=>{const E=n.current;E||Ne();const A=nc(E);n.current=null,A&&(y.cancel(),A.removeAttribute(Ay.contextId),A.removeEventListener("scroll",b,Ny(E.scrollOptions)))},[b,y]),I=rt(E=>{const A=n.current;A||Ne();const _=nc(A);_||Ne(),_.scrollTop+=E.y,_.scrollLeft+=E.x},[]),w=kt(()=>({getDimensionAndWatchScroll:g,getScrollWhileDragging:S,dragStopped:v,scroll:I}),[v,g,S,I]),D=kt(()=>({uniqueId:s,descriptor:d,callbacks:w}),[w,d,s]);Mr(()=>(u.current=D.descriptor,o.droppable.register(D),()=>{n.current&&v(),o.droppable.unregister(D)}),[w,d,v,D,i,o.droppable]),Mr(()=>{n.current&&i.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),Mr(()=>{n.current&&i.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function bh(){}const Ly={width:0,height:0,margin:f4},iV=({isAnimatingOpenOnMount:e,placeholder:n,animate:r})=>e||r==="close"?Ly:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin},lV=({isAnimatingOpenOnMount:e,placeholder:n,animate:r})=>{const s=iV({isAnimatingOpenOnMount:e,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?Ei.placeholder:null}},cV=e=>{const n=m.useRef(null),r=rt(()=>{n.current&&(clearTimeout(n.current),n.current=null)},[]),{animate:s,onTransitionEnd:o,onClose:i,contextId:c}=e,[d,u]=m.useState(e.animate==="open");m.useEffect(()=>d?s!=="open"?(r(),u(!1),bh):n.current?bh:(n.current=setTimeout(()=>{n.current=null,u(!1)}),r):bh,[s,d,r]);const h=rt(p=>{p.propertyName==="height"&&(o(),s==="close"&&i())},[s,i,o]),x=lV({isAnimatingOpenOnMount:d,animate:e.animate,placeholder:e.placeholder});return Dt.createElement(e.placeholder.tagName,{style:x,"data-rfd-placeholder-context-id":c,onTransitionEnd:h,ref:e.innerRef})};var dV=Dt.memo(cV);class uV extends Dt.PureComponent{constructor(...n){super(...n),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(n,r){return n.shouldAnimate?n.on?{isVisible:!0,data:n.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!n.on,data:n.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const n={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(n)}}const hV=e=>{const n=m.useContext(jd);n||Ne();const{contextId:r,isMovementAllowed:s}=n,o=m.useRef(null),i=m.useRef(null),{children:c,droppableId:d,type:u,mode:h,direction:x,ignoreContainerClipping:p,isDropDisabled:y,isCombineEnabled:b,snapshot:g,useClone:S,updateViewportMaxScroll:v,getContainerForClone:I}=e,w=rt(()=>o.current,[]),D=rt((Y=null)=>{o.current=Y},[]);rt(()=>i.current,[]);const E=rt((Y=null)=>{i.current=Y},[]),A=rt(()=>{s()&&v({maxScroll:nS()})},[s,v]);aV({droppableId:d,type:u,mode:h,direction:x,isDropDisabled:y,isCombineEnabled:b,ignoreContainerClipping:p,getDroppableRef:w});const _=kt(()=>Dt.createElement(uV,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:Y,data:$,animate:H})=>Dt.createElement(dV,{placeholder:$,onClose:Y,innerRef:E,animate:H,contextId:r,onTransitionEnd:A})),[r,A,e.placeholder,e.shouldAnimatePlaceholder,E]),O=kt(()=>({innerRef:D,placeholder:_,droppableProps:{"data-rfd-droppable-id":d,"data-rfd-droppable-context-id":r}}),[r,d,_,D]),R=S?S.dragging.draggableId:null,L=kt(()=>({droppableId:d,type:u,isUsingCloneFor:R}),[d,R,u]);function B(){if(!S)return null;const{dragging:Y,render:$}=S,H=Dt.createElement(yS,{draggableId:Y.draggableId,index:Y.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(X,K)=>$(X,K,Y));return YT.createPortal(H,I())}return Dt.createElement(bx.Provider,{value:L},c(O,g),B())};function fV(){return document.body||Ne(),document.body}const $y={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:fV},wS=e=>{let n={...e},r;for(r in $y)e[r]===void 0&&(n={...n,[r]:$y[r]});return n},yh=(e,n)=>e===n.droppable.type,Fy=(e,n)=>n.draggables[e.draggable.id],pV=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n={...e,shouldAnimatePlaceholder:!1},r=Wn(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),s=Wn((i,c,d,u,h,x)=>{const p=h.descriptor.id;if(h.descriptor.droppableId===i){const g=x?{render:x,dragging:r(h.descriptor)}:null,S={isDraggingOver:d,draggingOverWith:d?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!1,snapshot:S,useClone:g}}if(!c)return n;if(!u)return e;const b={isDraggingOver:d,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!0,snapshot:b,useClone:null}});return(i,c)=>{const d=wS(c),u=d.droppableId,h=d.type,x=!d.isDropDisabled,p=d.renderClone;if(Bi(i)){const y=i.critical;if(!yh(h,y))return n;const b=Fy(y,i.dimensions),g=kr(i.impact)===u;return s(u,x,g,g,b,p)}if(i.phase==="DROP_ANIMATING"){const y=i.completed;if(!yh(h,y.critical))return n;const b=Fy(y.critical,i.dimensions);return s(u,x,gS(y.result)===u,kr(y.impact)===u,b,p)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const y=i.completed;if(!yh(h,y.critical))return n;const b=kr(y.impact)===u,g=!!(y.impact.at&&y.impact.at.type==="COMBINE"),S=y.critical.droppable.id===u;return b?g?e:n:S?e:n}return n}},xV={updateViewportMaxScroll:PW},mV=jj(pV,xV,(e,n,r)=>({...wS(r),...e,...n}),{context:xx,areStatePropsEqual:mS})(hV);var gV=mV;const bV=({tiers:e,isLoading:n=!1,onEdit:r,onDelete:s,onReorder:o,onCreateTier:i})=>{const[c,d]=m.useState(e);m.useEffect(()=>{d([...e].sort((h,x)=>h.order-x.order))},[e]);const u=async h=>{if(!h.destination)return;const x=h.source.index,p=h.destination.index;if(x===p)return;const y=[...c].sort((S,v)=>S.order-v.order),[b]=y.splice(x,1);y.splice(p,0,b);const g=y.map((S,v)=>({...S,order:v+1}));d(g),o(g)};return n?t.jsx(ge,{spacing:3,sx:{maxWidth:900},children:[1,2,3].map(h=>t.jsx(ot,{sx:{p:3},children:t.jsxs(ge,{spacing:2,children:[t.jsx(ce,{variant:"circular",width:32,height:32}),t.jsx(ce,{variant:"text",width:"60%",height:28}),t.jsx(ce,{variant:"text",width:"40%",height:40}),t.jsx(ce,{variant:"text",width:"80%",height:20}),t.jsxs(ge,{direction:"row",justifyContent:"flex-end",spacing:1,children:[t.jsx(ce,{variant:"circular",width:32,height:32}),t.jsx(ce,{variant:"circular",width:32,height:32})]})]})},h))}):e.length===0?t.jsx(Ys,{title:"Set Up Channel Subscriptions",description:"Create subscription tiers to offer exclusive perks and content to your subscribers",action:{label:"Create Your First Tier",onClick:i},icon:t.jsx(_c,{sx:{fontSize:48}})}):t.jsxs(ge,{spacing:4,children:[t.jsxs(ge,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsx(j,{variant:"h5",sx:{fontWeight:600},children:"Subscription Tiers"}),t.jsx(he,{variant:"contained",startIcon:t.jsx(Xp,{}),onClick:i,sx:{px:3,borderRadius:2,textTransform:"none"},children:"Create Tier"})]}),t.jsx(ot,{sx:{p:2,bgcolor:"primary.50",borderRadius:2,border:"1px solid",borderColor:"primary.100"},children:t.jsxs(ge,{direction:"row",spacing:2,alignItems:"center",children:[t.jsx(_p,{color:"primary"}),t.jsx(j,{variant:"body2",color:"primary.700",children:"Drag to reorder tiers. Members will see tiers in this order on your channel page."})]})}),t.jsx(A6,{onDragEnd:u,children:t.jsx(gV,{droppableId:"tiers",children:h=>t.jsxs(ge,{spacing:3,...h.droppableProps,ref:h.innerRef,sx:{maxWidth:800,width:"100%"},children:[c.map((x,p)=>t.jsx(K6,{draggableId:x.id,index:p,children:(y,b)=>t.jsx(C,{ref:y.innerRef,...y.draggableProps,children:t.jsx(C,{sx:{position:"relative"},children:t.jsxs(ot,{elevation:b.isDragging?8:2,sx:{p:3,transition:"all 0.2s ease",transform:b.isDragging?"scale(1.02)":"scale(1)",bgcolor:"background.paper",borderRadius:2,"&:hover":{boxShadow:4,"& .drag-handle":{opacity:1}}},children:[t.jsx(Ke,{label:x.order,color:"primary",size:"small",sx:{position:"absolute",top:-12,left:16,height:32,width:32,borderRadius:"50%",boxShadow:2,zIndex:1,"& .MuiChip-label":{px:0,fontSize:"1rem",fontWeight:"bold"}}}),t.jsx(C,{...y.dragHandleProps,className:"drag-handle",sx:{position:"absolute",top:0,left:0,right:0,height:"100%",display:"flex",alignItems:"center",justifyContent:"center",opacity:0,transition:"opacity 0.2s ease","&:hover":{cursor:"move","& .drag-icon":{transform:"scale(1.1)"}}},children:t.jsx(C,{className:"drag-icon",sx:{width:40,height:40,borderRadius:"50%",bgcolor:"action.hover",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s ease"},children:t.jsx(fj,{color:"action"})})}),t.jsxs(C,{sx:{flex:1},children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:x.name}),t.jsxs(j,{variant:"h4",gutterBottom:!0,children:["$",x.price,t.jsx(j,{component:"span",variant:"body2",sx:{ml:1},children:"/month"})]}),t.jsx(j,{variant:"body2",sx:{mb:2},children:x.description})]}),t.jsxs(ge,{direction:"row",spacing:1,justifyContent:"flex-end",children:[t.jsx(Fe,{onClick:()=>r(x.id),size:"small",children:t.jsx(el,{})}),t.jsx(Fe,{onClick:()=>s(x.id),size:"small",children:t.jsx(Go,{})})]})]})})})},x.id)),h.placeholder]})})})]})},yV=({open:e,onClose:n,onSubmit:r,initialData:s,tierCount:o,isEdit:i=!1})=>{const[c,d]=m.useState({name:"",description:"",price:0,benefits:[],order:i?s.order:o+1}),[u,h]=m.useState({}),[x,p]=m.useState(!1);m.useEffect(()=>{s&&d({name:s.name,description:s.description,price:s.price,benefits:s.benefits,order:i?s.order:o+1})},[s]),m.useEffect(()=>{d(S=>({...S,order:o+1}))},[o]);const y=()=>{const S={};return c.name||(S.name="Name is required"),c.description||(S.description="Description is required"),c.price<0&&(S.price="Price must be positive"),c.benefits||(S.benefits="Benefits are required"),h(S),Object.keys(S).length===0},b=S=>v=>{const I=S==="price"?Number(v.target.value):v.target.value;d(w=>({...w,[S]:I})),u[S]&&h(w=>({...w,[S]:void 0}))},g=async S=>{if(S.preventDefault(),!!y())try{p(!0),await r(c),n()}catch(v){console.error("Failed to submit tier:",v)}finally{p(!1)}};return t.jsxs(qt,{open:e,onClose:n,maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:i?"Edit Tier":"Create New Tier"}),t.jsxs("form",{onSubmit:g,children:[t.jsx(Kt,{children:t.jsxs(ge,{spacing:3,children:[t.jsx(Ze,{label:"Tier Name",value:c.name,onChange:b("name"),error:!!u.name,helperText:u.name,fullWidth:!0}),t.jsx(Ze,{label:"Description",value:c.description,onChange:b("description"),multiline:!0,rows:3,error:!!u.description,helperText:u.description,fullWidth:!0}),t.jsx(Ze,{type:"number",label:"Monthly Price",value:c.price,onChange:b("price"),InputProps:{startAdornment:t.jsx(Qr,{position:"start",children:"$"})},error:!!u.price,helperText:u.price,fullWidth:!0}),t.jsx(Ze,{label:"Benefits",value:c.benefits,onChange:b("benefits"),multiline:!0,rows:4,placeholder:"Enter benefits, one per line",error:!!u.benefits,helperText:u.benefits,fullWidth:!0})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:n,children:"Cancel"}),t.jsx(he,{type:"submit",variant:"contained",disabled:x,children:i?"Save Changes":"Create Tier"})]})]})]})},yx=m.memo(({channelId:e})=>{const{api:n}=Qe(),{execute:r}=st(),{execute:s}=st(),{execute:o}=st(),{execute:i}=st(),{execute:c}=st(),[d,u]=m.useState([]),[h,x]=m.useState(!0),[p,y]=m.useState(!1),[b,g]=m.useState(null),[S,v]=m.useState(!1),I=m.useCallback(async()=>{if(!e)return;x(!0);const R=await r(()=>n==null?void 0:n.app.channel.getTiers(e),{showErrorToast:!0});R&&u(R.items||[]),x(!1)},[e,r,n]);m.useEffect(()=>{I()},[I]);const w=R=>{const L=d.find(B=>B.id===R);L&&(g(L),y(!0))},D=()=>{y(!1),g(null)},E=async R=>{await s(()=>n==null?void 0:n.app.channel.createTier(e,R),{showSuccessMessage:!0,successMessage:"Tier created successfully"})&&(await I(),D())},A=async(R,L)=>{await o(()=>n==null?void 0:n.app.channel.updateTier(e,R,L),{showSuccessMessage:!0,successMessage:"Tier updated successfully"}),await I(),D()},_=async R=>{await c(()=>n==null?void 0:n.app.channel.deleteTier(e,R),{showSuccessMessage:!0,successMessage:"Tier deleted successfully"}),await I()},O=async R=>{try{v(!0),await i(()=>n==null?void 0:n.app.channel.updateTiers(e,R),{showSuccessMessage:!0,successMessage:"Tiers reordered successfully"}),u(R)}catch{}finally{v(!1)}};return t.jsxs(C,{sx:{p:3},children:[t.jsx(bV,{tiers:d,isLoading:h,onEdit:w,onDelete:_,onReorder:O,onCreateTier:()=>y(!0)}),t.jsx(yV,{open:p,onClose:D,onSubmit:b?R=>A(b.id,R):E,initialData:b,tierCount:d.length,isEdit:!!b}),t.jsx(qT,{sx:{color:"#fff",zIndex:R=>R.zIndex.drawer+1,backdropFilter:"blur(3px)"},open:S,children:t.jsx(_n,{color:"inherit"})})]})},(e,n)=>e.channelId===n.channelId);yx.displayName="TiersTab";const vV=({tabs:e,activeTab:n,onTabChange:r,isOpen:s,onClose:o,onOpen:i})=>t.jsx(KT,{anchor:"bottom",open:s,onClose:o,onOpen:i,disableSwipeToOpen:!1,PaperProps:{sx:{borderTopLeftRadius:16,borderTopRightRadius:16,maxHeight:"80vh"}},children:t.jsx(jr,{sx:{pt:1,pb:2},children:e.map(c=>t.jsx(Sh,{selected:n===c.id,onClick:()=>{r(c.id),o()},sx:{mx:1,borderRadius:1,mb:.5,"&.Mui-selected":{bgcolor:d=>fe(d.palette.primary.main,.1)}},children:t.jsx(Yt,{primary:c.label})},c.id))})}),jV=({tabs:e,activeTab:n,onTabChange:r})=>t.jsx(C,{sx:{borderBottom:1,borderColor:"divider"},children:t.jsx(mo,{value:n,onChange:(s,o)=>r(o),sx:{px:{md:3,lg:4}},children:e.map(s=>t.jsx(tr,{label:s.label,value:s.id,sx:{textTransform:"none",fontWeight:500,fontSize:"0.9375rem"}},s.id))})}),Wy=[{id:"basic",label:"Basic Info",component:hj},{id:"tiers",label:"Channel Tiers",component:yx}],SV=()=>{const{id:e}=es(),n=mn(),r=Yc(n.breakpoints.down("md")),{api:s}=Qe(),[o,i]=m.useState("basic"),[c,d]=m.useState(!1),[u,h]=m.useState(null),[x,p]=m.useState(!0),{execute:y}=st(),{execute:b}=st(),g=m.useCallback(async()=>{if(!e)return;p(!0);const w=await y(()=>s==null?void 0:s.app.channel.getChannel(e),{showErrorToast:!0});w&&h(w),p(!1)},[e,y,s]);m.useEffect(()=>{g()},[g]);const S=async w=>{e&&(await b(()=>s==null?void 0:s.app.channel.updateChannel(e,w),{showSuccessMessage:!0,successMessage:"Channel updated successfully"}),await g())},v=w=>{i(w)};if(!e||x||!u)return null;const I=()=>{switch(o){case"basic":return t.jsx(hj,{channel:u,onUpdate:S});case"tiers":return t.jsx(yx,{channelId:u.id});default:return null}};return t.jsx(C,{sx:{minHeight:"100%",bgcolor:"background.default"},children:r?t.jsxs(t.Fragment,{children:[t.jsx(C,{sx:{px:2,py:1.5},children:t.jsx(j,{variant:"h6",sx:{fontWeight:600},children:"Edit Channel"})}),I(),t.jsx(vV,{tabs:Wy,activeTab:o,onTabChange:v,isOpen:c,onClose:()=>d(!1),onOpen:()=>d(!0)})]}):t.jsxs(t.Fragment,{children:[t.jsx(jV,{tabs:Wy,activeTab:o,onTabChange:v}),t.jsx(C,{sx:{p:{md:3,lg:4}},children:I()})]})})},CS=({open:e,poll:n,onClose:r,onConvert:s,loading:o=!1})=>{var b,g;const{profile:i}=ps(),[c,d]=m.useState({title:"",channelId:"",status:Nn.PUBLISHED,isPremium:!1,requiredTierId:null,content:""}),[u,h]=m.useState(null),x=async()=>{if(!c.title.trim()){h("Title is required");return}if(!c.channelId){h("Channel is required");return}if(!c.content.trim()){h("Content is required");return}try{h(null),await s(c),p()}catch(S){h(S.message||"Failed to convert poll to news")}},p=()=>{d({title:"",channelId:"",status:Nn.PUBLISHED,isPremium:!1,requiredTierId:null,content:""}),h(null),r()},y=S=>{d(v=>({...v,content:JSON.stringify(S)}))};return Dt.useEffect(()=>{e&&n&&d(S=>{var v;return{...S,title:`News Article: ${n.title}`,channelId:((v=n.channel)==null?void 0:v.id)||"",content:n.description||""}})},[e,n]),n?t.jsxs(qt,{open:e,onClose:p,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{minHeight:"70vh"}},children:[t.jsxs(tn,{children:[t.jsx(j,{variant:"h6",children:"Convert Poll to News Article"}),t.jsxs(j,{variant:"body2",color:"text.secondary",sx:{mt:1},children:['Convert "',n.title,'" into a news article with poll results included']})]}),t.jsx(Kt,{children:t.jsxs(ge,{spacing:3,sx:{mt:1},children:[u&&t.jsx(dt,{severity:"error",onClose:()=>h(null),children:u}),t.jsxs(C,{sx:{p:2,borderRadius:2,bgcolor:S=>fe(S.palette.primary.main,.05),border:S=>`1px solid ${fe(S.palette.primary.main,.2)}`},children:[t.jsx(j,{variant:"subtitle2",gutterBottom:!0,children:"Poll Results (will be included in the article)"}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Total Votes: ",n.voteCount||0,"  Status: ",(b=n.stats)!=null&&b.hasEnded?"Ended":"Active"]})]}),t.jsx(Ze,{label:"Article Title",fullWidth:!0,required:!0,value:c.title,onChange:S=>d(v=>({...v,title:S.target.value})),helperText:"Create an engaging title for your news article"}),t.jsxs(ft,{fullWidth:!0,required:!0,children:[t.jsx(wt,{children:"Channel"}),t.jsx(mt,{value:c.channelId,label:"Channel",onChange:S=>d(v=>({...v,channelId:S.target.value})),children:(g=i==null?void 0:i.staffChannels)==null?void 0:g.map(S=>t.jsx(Ce,{value:S.channelId,children:S.channel.name},S.id))})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Article Content"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Write your news article. Poll results will be automatically appended."}),t.jsx(hd,{data:c.content?JSON.parse(c.content):void 0,onChange:y,placeholder:"Write your news article content here...",borderColor:S=>S.palette.mode==="dark"?fe(S.palette.common.white,.23):fe(S.palette.common.black,.23)})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:2},children:"Publishing Options"}),t.jsxs(ge,{spacing:2,children:[t.jsx(Da,{control:t.jsx(mc,{checked:c.isPremium,onChange:S=>d(v=>({...v,isPremium:S.target.checked}))}),label:"Premium Content"}),t.jsxs(ft,{fullWidth:!0,children:[t.jsx(wt,{children:"Status"}),t.jsxs(mt,{value:c.status,label:"Status",onChange:S=>d(v=>({...v,status:Number(S.target.value)})),children:[t.jsx(Ce,{value:Nn.DRAFT,children:"Draft"}),t.jsx(Ce,{value:Nn.PUBLISHED,children:"Published"}),t.jsx(Ce,{value:Nn.PENDING_REVIEW,children:"Pending Review"})]})]})]})]})]})}),t.jsxs(Xt,{sx:{p:3},children:[t.jsx(he,{onClick:p,disabled:o,children:"Cancel"}),t.jsx(he,{onClick:x,variant:"contained",disabled:o,children:o?"Converting...":"Convert to News"})]})]}):null},wV=({poll:e,onRefresh:n})=>{var O;const[r,s]=m.useState(null),[o,i]=m.useState(!1),[c,d]=m.useState(!1),u=Pt(),{api:h}=Qe(),{execute:x}=st(),p=mn(),y=R=>{s(R.currentTarget)},b=()=>{s(null)},g=()=>{u(`${ye.STUDIO_POLL_VIEW.replace(":id",e.id)}`),b()},S=()=>{u(`${ye.STUDIO_POLL_EDIT.replace(":id",e.id)}`),b()},v=()=>{i(!0),b()},I=()=>{d(!0),b()},w=async()=>{await x(()=>h==null?void 0:h.app.poll.delete(e.id),{showSuccessMessage:!0,successMessage:"Poll deleted successfully"})&&n(),i(!1)},D=async R=>{await x(()=>h==null?void 0:h.app.poll.convertToNews(e.id,R),{showSuccessMessage:!0,successMessage:"Poll converted to news successfully!"})&&n()},A=(()=>{const R=new Date,L=new Date(e.startDate),B=new Date(e.endDate);return R<L?{label:"Scheduled",color:"warning"}:R>B?{label:"Ended",color:"error"}:{label:"Active",color:"success"}})(),_=!e.isConverted&&!((O=e.stats)!=null&&O.hasEnded);return t.jsxs($e,{sx:{height:"100%",bgcolor:R=>fe(R.palette.mode==="dark"?R.palette.common.white:R.palette.common.black,R.palette.mode==="dark"?.05:.03),transition:p.transitions.create(["background-color","box-shadow"]),"&:hover":{bgcolor:R=>fe(R.palette.mode==="dark"?R.palette.common.white:R.palette.common.black,R.palette.mode==="dark"?.08:.05),boxShadow:1}},children:[t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[t.jsx(j,{variant:"h6",sx:{fontSize:"1rem",fontWeight:600,color:"text.primary"},children:e.title}),t.jsx(Fe,{size:"small",onClick:y,sx:{ml:1},children:t.jsx(xd,{})})]}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:e.description}),t.jsxs(ge,{direction:"row",spacing:1,alignItems:"center",children:[t.jsx(Ke,{label:A.label,size:"small",color:A.color}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:[e.totalVotes??0," votes"]})]})]}),t.jsxs(xo,{anchorEl:r,open:!!r,onClose:b,PaperProps:{sx:{width:200}},children:[t.jsxs(Ce,{onClick:g,children:[t.jsx(en,{children:t.jsx(Ho,{fontSize:"small"})}),t.jsx(Yt,{children:"View Poll"})]}),t.jsxs(Ce,{onClick:S,children:[t.jsx(en,{children:t.jsx(el,{fontSize:"small"})}),t.jsx(Yt,{children:"Edit Poll"})]}),_&&t.jsxs(Ce,{onClick:I,children:[t.jsx(en,{children:t.jsx(ki,{fontSize:"small"})}),t.jsx(Yt,{children:"Convert to News"})]}),t.jsxs(Ce,{onClick:v,children:[t.jsx(en,{children:t.jsx(Go,{fontSize:"small"})}),t.jsx(Yt,{children:"Delete Poll"})]})]}),t.jsx(Yp,{open:o,title:"Delete Poll",content:"Are you sure you want to delete this poll? This action cannot be undone.",onConfirm:w,onClose:()=>i(!1)}),t.jsx(CS,{open:c,poll:e,onClose:()=>d(!1),onConvert:D})]})},CV=()=>{const[e,n]=m.useState([]),[r,s]=m.useState(1),[o,i]=m.useState(!0),[c,d]=m.useState(!0),{api:u}=Qe(),{profile:h}=ps(),x=Pt(),p=mn(),{execute:y}=st(),b=()=>{g(r+1)},g=async(v=r)=>{if(!(h!=null&&h.id))return;const I=await y(()=>u==null?void 0:u.studio.getMyContent("polls"),{showErrorToast:!0});I&&(n(w=>v===1?(I==null?void 0:I.items)??[]:[...w,...(I==null?void 0:I.items)??[]]),s((I==null?void 0:I.metadata.currentPage)??1),i((I==null?void 0:I.metadata.hasNext)===!0)),d(!1)};m.useEffect(()=>{g(1)},[]);const S=()=>t.jsxs(C,{sx:{p:2,borderRadius:1,bgcolor:v=>fe(v.palette.mode==="dark"?v.palette.common.white:v.palette.common.black,v.palette.mode==="dark"?.05:.03),height:{xs:180,sm:200},transition:p.transitions.create(["background-color","height"])},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[t.jsx(ce,{variant:"circular",width:32,height:32,sx:{mr:1.5}}),t.jsxs(C,{sx:{width:"100%"},children:[t.jsx(ce,{width:"60%",height:20}),t.jsx(ce,{width:"40%",height:16})]})]}),t.jsx(ce,{variant:"rectangular",sx:{borderRadius:1,height:{xs:70,sm:80}}}),t.jsx(C,{sx:{mt:1.5},children:t.jsx(ce,{width:"30%",height:20})})]});return t.jsxs(C,{sx:{px:{xs:2,sm:3,md:4},py:{xs:2,sm:3},maxWidth:"lg",mx:"auto",width:"100%"},children:[t.jsx(C,{sx:{mb:{xs:2,sm:3}},children:t.jsx(j,{variant:"h5",sx:{fontWeight:600,fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:c?t.jsx(ce,{width:150}):"My Polls"})}),c?t.jsx(F,{container:!0,spacing:2,children:[1,2].map(v=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(S,{})},v))}):e.length===0?t.jsx(Ys,{title:"No Polls Yet",description:"Create your first poll to start gathering opinions from your audience.",icon:t.jsx(qf,{sx:{fontSize:{xs:40,sm:48}}}),action:{label:"Create Poll",onClick:()=>x(ye.STUDIO_POLL_CREATE)}}):t.jsx(Us,{dataLength:e.length,next:b,hasMore:o,loader:t.jsx(F,{container:!0,spacing:2,sx:{mt:.5},children:[1,2].map(v=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(S,{})},v))}),children:t.jsx(F,{container:!0,spacing:2,children:e.map(v=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(wV,{poll:v,onRefresh:()=>g(1)})},v.id))})})]})};function PV(e,...n){const r=new URL(`https://mui.com/production-error/?code=${e}`);return n.forEach(s=>r.searchParams.append("args[]",s)),`Minified MUI error #${e}; visit ${r} for the full message.`}const PS=ne.oneOfType([ne.func,ne.object]);function IV(e){if(typeof e!="string")throw new Error(PV(7));return e.charAt(0).toUpperCase()+e.slice(1)}function vh(e){return e&&e.ownerDocument||document}const Zr=typeof window<"u"?m.useLayoutEffect:m.useEffect;let By=0;function DV(e){const[n,r]=m.useState(e),s=e||n;return m.useEffect(()=>{n==null&&(By+=1,r(`mui-${By}`))},[n]),s}const EV={...XT},Vy=EV.useId;function wd(e){if(Vy!==void 0){const n=Vy();return e??n}return DV(e)}function Na(e){const{controlled:n,default:r,name:s,state:o="value"}=e,{current:i}=m.useRef(n!==void 0),[c,d]=m.useState(r),u=i?n:c,h=m.useCallback(x=>{i||d(x)},[]);return[u,h]}function Ve(e){const n=m.useRef(e);return Zr(()=>{n.current=e}),m.useRef((...r)=>(0,n.current)(...r)).current}function nr(...e){const n=m.useRef(void 0),r=m.useCallback(s=>{const o=e.map(i=>{if(i==null)return null;if(typeof i=="function"){const c=i,d=c(s);return typeof d=="function"?d:()=>{c(null)}}return i.current=s,()=>{i.current=null}});return()=>{o.forEach(i=>i==null?void 0:i())}},e);return m.useMemo(()=>e.every(s=>s==null)?null:s=>{n.current&&(n.current(),n.current=void 0),s!=null&&(n.current=r(s))},e)}const Uy={};function TV(e,n){const r=m.useRef(Uy);return r.current===Uy&&(r.current=e(n)),r}const AV=[];function RV(e){m.useEffect(e,AV)}class vx{constructor(){Ee(this,"currentId",null);Ee(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Ee(this,"disposeEffect",()=>this.clear)}static create(){return new vx}start(n,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},n)}}function ya(){const e=TV(vx.create).current;return RV(e.disposeEffect),e}const _V={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Jt(e,n,r=void 0){const s={};for(const o in e){const i=e[o];let c="",d=!0;for(let u=0;u<i.length;u+=1){const h=i[u];h&&(c+=(d===!0?"":" ")+n(h),d=!1,r&&r[h]&&(c+=" "+r[h]))}s[o]=c}return s}const zy=e=>e,OV=()=>{let e=zy;return{configure(n){e=n},generate(n){return e(n)},reset(){e=zy}}},kV=OV(),MV={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ln(e,n,r="Mui"){const s=MV[n];return s?`${r}-${s}`:`${kV.generate(e)}-${n}`}function un(e,n,r="Mui"){const s={};return n.forEach(o=>{s[o]=ln(e,o,r)}),s}function NV(e){return typeof e=="string"}function LV(e,n,r){return e===void 0||NV(e)?n:{...n,ownerState:{...n.ownerState,...r}}}function $V(e,n=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(s=>s.match(/^on[A-Z]/)&&typeof e[s]=="function"&&!n.includes(s)).forEach(s=>{r[s]=e[s]}),r}function Hy(e){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{n[r]=e[r]}),n}function FV(e){const{getSlotProps:n,additionalProps:r,externalSlotProps:s,externalForwardedProps:o,className:i}=e;if(!n){const b=nn(r==null?void 0:r.className,i,o==null?void 0:o.className,s==null?void 0:s.className),g={...r==null?void 0:r.style,...o==null?void 0:o.style,...s==null?void 0:s.style},S={...r,...o,...s};return b.length>0&&(S.className=b),Object.keys(g).length>0&&(S.style=g),{props:S,internalRef:void 0}}const c=$V({...o,...s}),d=Hy(s),u=Hy(o),h=n(c),x=nn(h==null?void 0:h.className,r==null?void 0:r.className,i,o==null?void 0:o.className,s==null?void 0:s.className),p={...h==null?void 0:h.style,...r==null?void 0:r.style,...o==null?void 0:o.style,...s==null?void 0:s.style},y={...h,...r,...u,...d};return x.length>0&&(y.className=x),Object.keys(p).length>0&&(y.style=p),{props:y,internalRef:h.ref}}function Vi(e,n,r){return typeof e=="function"?e(n,r):e}function Nt(e){var p;const{elementType:n,externalSlotProps:r,ownerState:s,skipResolvingSlotProps:o=!1,...i}=e,c=o?{}:Vi(r,s),{props:d,internalRef:u}=FV({...i,externalSlotProps:c}),h=nr(u,c==null?void 0:c.ref,(p=e.additionalProps)==null?void 0:p.ref);return LV(n,{...d,ref:h},s)}const WV=["localeText"],Kh=m.createContext(null),IS=function(n){const{localeText:r}=n,s=at(n,WV),{utils:o,localeText:i}=m.useContext(Kh)??{utils:void 0,localeText:void 0},c=Ht({props:s,name:"MuiLocalizationProvider"}),{children:d,dateAdapter:u,dateFormats:h,dateLibInstance:x,adapterLocale:p,localeText:y}=c,b=m.useMemo(()=>U({},y,i,r),[y,i,r]),g=m.useMemo(()=>{if(!u)return o||null;const I=new u({locale:p,formats:h,instance:x});if(!I.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/quickstart/#installation"].join(`
`));return I},[u,p,h,x,o]),S=m.useMemo(()=>g?{minDate:g.date("1900-01-01T00:00:00.000"),maxDate:g.date("2099-12-31T00:00:00.000")}:null,[g]),v=m.useMemo(()=>({utils:g,defaultDates:S,localeText:b}),[S,g,b]);return t.jsx(Kh.Provider,{value:v,children:d})},BV=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:U({},e)}}}}),DS={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",nextStepButtonLabel:"Next",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",timeRangePickerToolbarTitle:"Select time range",clockLabelText:(e,n)=>`Select ${e}. ${n?`Selected time is ${n}`:"No time selected"}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:e=>e?`Choose date, selected date is ${e}`:"Choose date",openTimePickerDialogue:e=>e?`Choose time, selected time is ${e}`:"Choose time",openRangePickerDialogue:e=>e?`Choose range, selected range is ${e}`:"Choose range",fieldClearLabel:"Clear",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},VV=DS;BV(DS);const Yo=()=>{const e=m.useContext(Kh);if(e===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const n=m.useMemo(()=>U({},VV,e.localeText),[e.localeText]);return m.useMemo(()=>U({},e,{localeText:n}),[e,n])},Vt=()=>Yo().utils,ES=()=>Yo().defaultDates,Ga=e=>{const n=Vt(),r=m.useRef(void 0);return r.current===void 0&&(r.current=n.date(void 0,e)),r.current},xs=()=>Yo().localeText,UV=go(t.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),zV=go(t.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),HV=go(t.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),GV=go(t.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");go(t.jsxs(m.Fragment,{children:[t.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),t.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");const YV=go(t.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange"),qV=go(t.jsxs(m.Fragment,{children:[t.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),t.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time"),KV=go(t.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function XV(e){return ln("MuiPickersArrowSwitcher",e)}un("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const TS=m.createContext(()=>!0);function JV(){return m.useContext(TS)}const AS=m.createContext(null);function RS(){return m.useContext(AS)}const jx=m.createContext(null),vo=()=>{const e=m.useContext(jx);if(e==null)throw new Error("MUI X: The `usePickerContext` hook can only be called inside the context of a Picker component");return e},_S=m.createContext(null),OS=m.createContext({ownerState:{isPickerDisabled:!1,isPickerReadOnly:!1,isPickerValueEmpty:!1,isPickerOpen:!1,pickerVariant:"desktop",pickerOrientation:"portrait"},rootRefObject:{current:null},labelId:void 0,dismissViews:()=>{},hasUIView:!0,getCurrentViewMode:()=>"UI",triggerElement:null,viewContainerRole:null,defaultActionBarActions:[],onPopperExited:void 0});function kS(e){const{contextValue:n,actionsContextValue:r,privateContextValue:s,fieldPrivateContextValue:o,isValidContextValue:i,localeText:c,children:d}=e;return t.jsx(jx.Provider,{value:n,children:t.jsx(_S.Provider,{value:r,children:t.jsx(OS.Provider,{value:s,children:t.jsx(AS.Provider,{value:o,children:t.jsx(TS.Provider,{value:i,children:t.jsx(IS,{localeText:c,children:d})})})})})})}const Dn=()=>m.useContext(OS),QV=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId","classes"],ZV=["ownerState"],eU=["ownerState"],tU=Me("div",{name:"MuiPickersArrowSwitcher",slot:"Root"})({display:"flex"}),nU=Me("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer"})(({theme:e})=>({width:e.spacing(3)})),Gy=Me(Fe,{name:"MuiPickersArrowSwitcher",slot:"Button"})({variants:[{props:{isButtonHidden:!0},style:{visibility:"hidden"}}]}),rU=e=>Jt({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},XV,e),sU=m.forwardRef(function(n,r){const s=Is(),o=Ht({props:n,name:"MuiPickersArrowSwitcher"}),{children:i,className:c,slots:d,slotProps:u,isNextDisabled:h,isNextHidden:x,onGoToNext:p,nextLabel:y,isPreviousDisabled:b,isPreviousHidden:g,onGoToPrevious:S,previousLabel:v,labelId:I,classes:w}=o,D=at(o,QV),{ownerState:E}=Dn(),A=rU(w),_={isDisabled:h,isHidden:x,goTo:p,label:y},O={isDisabled:b,isHidden:g,goTo:S,label:v},R=(d==null?void 0:d.previousIconButton)??Gy,L=Nt({elementType:R,externalSlotProps:u==null?void 0:u.previousIconButton,additionalProps:{size:"medium",title:O.label,"aria-label":O.label,disabled:O.isDisabled,edge:"end",onClick:O.goTo},ownerState:U({},E,{isButtonHidden:O.isHidden??!1}),className:nn(A.button,A.previousIconButton)}),B=(d==null?void 0:d.nextIconButton)??Gy,Y=Nt({elementType:B,externalSlotProps:u==null?void 0:u.nextIconButton,additionalProps:{size:"medium",title:_.label,"aria-label":_.label,disabled:_.isDisabled,edge:"start",onClick:_.goTo},ownerState:U({},E,{isButtonHidden:_.isHidden??!1}),className:nn(A.button,A.nextIconButton)}),$=(d==null?void 0:d.leftArrowIcon)??zV,H=Nt({elementType:$,externalSlotProps:u==null?void 0:u.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:E,className:A.leftArrowIcon}),X=at(H,ZV),K=(d==null?void 0:d.rightArrowIcon)??HV,q=Nt({elementType:K,externalSlotProps:u==null?void 0:u.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:E,className:A.rightArrowIcon}),Z=at(q,eU);return t.jsxs(tU,U({ref:r,className:nn(A.root,c),ownerState:E},D,{children:[t.jsx(R,U({},L,{children:s?t.jsx(K,U({},Z)):t.jsx($,U({},X))})),i?t.jsx(j,{variant:"subtitle1",component:"span",id:I,children:i}):t.jsx(nU,{className:A.spacer,ownerState:E}),t.jsx(B,U({},Y,{children:s?t.jsx($,U({},X)):t.jsx(K,U({},Z))}))]}))}),ws=(e,n)=>e.length!==n.length?!1:n.every(r=>e.includes(r)),oU=({openTo:e,defaultOpenTo:n,views:r,defaultViews:s})=>{const o=r??s;let i;if(e!=null)i=e;else if(o.includes(n))i=n;else if(o.length>0)i=o[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:o,openTo:i}},MS=["hours","minutes","seconds"],aU=["hours","minutes","seconds","meridiem"],Ui=e=>MS.includes(e),pa=e=>aU.includes(e),iU=(e,n)=>e?n.getHours(e)>=12?"pm":"am":null,Xh=(e,n,r)=>r&&(e>=12?"pm":"am")!==n?n==="am"?e-12:e+12:e,lU=(e,n,r,s)=>{const o=Xh(s.getHours(e),n,r);return s.setHours(e,o)},Yy=(e,n)=>n.getHours(e)*3600+n.getMinutes(e)*60+n.getSeconds(e),Cd=(e,n)=>(r,s)=>e?n.isAfter(r,s):Yy(r,n)>Yy(s,n),qy=(e,{format:n,views:r,ampm:s})=>{if(n!=null)return n;const o=e.formats;return ws(r,["hours"])?s?`${o.hours12h} ${o.meridiem}`:o.hours24h:ws(r,["minutes"])?o.minutes:ws(r,["seconds"])?o.seconds:ws(r,["minutes","seconds"])?`${o.minutes}:${o.seconds}`:ws(r,["hours","minutes","seconds"])?s?`${o.hours12h}:${o.minutes}:${o.seconds} ${o.meridiem}`:`${o.hours24h}:${o.minutes}:${o.seconds}`:s?`${o.hours12h}:${o.minutes} ${o.meridiem}`:`${o.hours24h}:${o.minutes}`},NS={hasNextStep:!1,hasSeveralSteps:!1,goToNextStep:()=>{},areViewsInSameStep:()=>!0};function cU(e){const{steps:n,isViewMatchingStep:r,onStepChange:s}=e;return o=>{if(n==null)return NS;const i=n.findIndex(d=>r(o.view,d)),c=i===-1||i===n.length-1?null:n[i+1];return{hasNextStep:c!=null,hasSeveralSteps:n.length>1,goToNextStep:()=>{c!=null&&s(U({},o,{step:c}))},areViewsInSameStep:(d,u)=>{const h=n.find(p=>r(d,p)),x=n.find(p=>r(u,p));return h===x}}}}function Pd({onChange:e,onViewChange:n,openTo:r,view:s,views:o,autoFocus:i,focusedView:c,onFocusedViewChange:d,getStepNavigation:u}){const h=m.useRef(r),x=m.useRef(o),p=m.useRef(o.includes(r)?r:o[0]),[y,b]=Na({name:"useViews",state:"view",controlled:s,default:p.current}),g=m.useRef(i?y:null),[S,v]=Na({name:"useViews",state:"focusedView",controlled:c,default:g.current}),I=u?u({setView:b,view:y,defaultView:p.current,views:o}):NS;m.useEffect(()=>{(h.current&&h.current!==r||x.current&&x.current.some(L=>!o.includes(L)))&&(b(o.includes(r)?r:o[0]),x.current=o,h.current=r)},[r,b,y,o]);const w=o.indexOf(y),D=o[w-1]??null,E=o[w+1]??null,A=Ve((L,B)=>{v(B?L:Y=>L===Y?null:Y),d==null||d(L,B)}),_=Ve(L=>{A(L,!0),L!==y&&(b(L),n&&n(L))}),O=Ve(()=>{E&&_(E)}),R=Ve((L,B,Y)=>{const $=B==="finish",H=Y?o.indexOf(Y)<o.length-1:!!E;e(L,$&&H?"partial":B,Y);let K=null;if(Y!=null&&Y!==y?K=Y:$&&(K=y),K==null)return;const q=o[o.indexOf(K)+1];q==null||!I.areViewsInSameStep(K,q)||_(q)});return U({},I,{view:y,setView:_,focusedView:S,setFocusedView:A,nextView:E,previousView:D,defaultView:o.includes(r)?r:o[0],goToNextView:O,setValueAndGoToNextView:R})}function dU(e,{disableFuture:n,maxDate:r,timezone:s}){const o=Vt();return m.useMemo(()=>{const i=o.date(void 0,s),c=o.startOfMonth(n&&o.isBefore(i,r)?i:r);return!o.isAfter(c,e)},[n,r,e,o,s])}function uU(e,{disablePast:n,minDate:r,timezone:s}){const o=Vt();return m.useMemo(()=>{const i=o.date(void 0,s),c=o.startOfMonth(n&&o.isAfter(i,r)?i:r);return!o.isBefore(c,e)},[n,r,e,o,s])}function LS(e,n,r,s){const o=Vt(),i=m.useMemo(()=>o.isValid(e)?e:null,[o,e]),c=iU(i,o),d=m.useCallback(u=>{const h=i==null?null:lU(i,u,!!n,o);r(h,s??"partial")},[n,i,r,s,o]);return{meridiemMode:c,handleMeridiemChange:d}}const zi=36,Id=2,La=320,hU=280,$a=336,$S=232,Si=48,Sx=Me("div")({overflow:"hidden",width:La,maxHeight:$a,display:"flex",flexDirection:"column",margin:"0 auto"}),Uc=(e,n,r)=>{let s=n;return s=e.setHours(s,e.getHours(r)),s=e.setMinutes(s,e.getMinutes(r)),s=e.setSeconds(s,e.getSeconds(r)),s=e.setMilliseconds(s,e.getMilliseconds(r)),s},Hi=({date:e,disableFuture:n,disablePast:r,maxDate:s,minDate:o,isDateDisabled:i,utils:c,timezone:d})=>{const u=Uc(c,c.date(void 0,d),e);r&&c.isBefore(o,u)&&(o=u),n&&c.isAfter(s,u)&&(s=u);let h=e,x=e;for(c.isBefore(e,o)&&(h=o,x=null),c.isAfter(e,s)&&(x&&(x=s),h=null);h||x;){if(h&&c.isAfter(h,s)&&(h=null),x&&c.isBefore(x,o)&&(x=null),h){if(!i(h))return h;h=c.addDays(h,1)}if(x){if(!i(x))return x;x=c.addDays(x,-1)}}return null},fU=(e,n)=>e.isValid(n)?n:null,zc=(e,n,r)=>n==null||!e.isValid(n)?r:n,pU=(e,n,r)=>!e.isValid(n)&&n!=null&&!e.isValid(r)&&r!=null?!0:e.isEqual(n,r),wx=(e,n)=>{const s=[e.startOfYear(n)];for(;s.length<12;){const o=s[s.length-1];s.push(e.addMonths(o,1))}return s},Cx=(e,n,r)=>r==="date"?e.startOfDay(e.date(void 0,n)):e.date(void 0,n),Ti=(e,n)=>{const r=e.setHours(e.date(),n==="am"?2:14);return e.format(r,"meridiem")},FS=["year","month","day"],Fa=e=>FS.includes(e),Ky=(e,{format:n,views:r},s)=>{if(n!=null)return n;const o=e.formats;return ws(r,["year"])?o.year:ws(r,["month"])?o.month:ws(r,["day"])?o.dayOfMonth:ws(r,["month","year"])?`${o.month} ${o.year}`:ws(r,["day","month"])?`${o.month} ${o.dayOfMonth}`:o.keyboardDate},xU=(e,n)=>{const r=e.startOfWeek(n);return[0,1,2,3,4,5,6].map(s=>e.addDays(r,s))},qo=({name:e,timezone:n,value:r,defaultValue:s,referenceDate:o,onChange:i,valueManager:c})=>{const d=Vt(),[u,h]=Na({name:e,state:"value",controlled:r,default:s??c.emptyValue}),x=m.useMemo(()=>c.getTimezone(d,u),[d,c,u]),p=Ve(S=>x==null?S:c.setTimezone(d,x,S)),y=m.useMemo(()=>n||x||(o?d.getTimezone(o):"default"),[n,x,o,d]),b=m.useMemo(()=>c.setTimezone(d,y,u),[c,d,y,u]),g=Ve((S,...v)=>{const I=p(S);h(I),i==null||i(I,...v)});return{value:b,handleValueChange:g,timezone:y}},ls={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},mU=e=>Math.max(...e.map(n=>ls[n.type]??1)),bi=(e,n,r)=>{if(n===ls.year)return e.startOfYear(r);if(n===ls.month)return e.startOfMonth(r);if(n===ls.day)return e.startOfDay(r);let s=r;return n<ls.minutes&&(s=e.setMinutes(s,0)),n<ls.seconds&&(s=e.setSeconds(s,0)),n<ls.milliseconds&&(s=e.setMilliseconds(s,0)),s},gU=({props:e,utils:n,granularity:r,timezone:s,getTodayDate:o})=>{let i=o?o():bi(n,r,Cx(n,s));e.minDate!=null&&n.isAfterDay(e.minDate,i)&&(i=bi(n,r,e.minDate)),e.maxDate!=null&&n.isBeforeDay(e.maxDate,i)&&(i=bi(n,r,e.maxDate));const c=Cd(e.disableIgnoringDatePartForTimeValidation??!1,n);return e.minTime!=null&&c(e.minTime,i)&&(i=bi(n,r,e.disableIgnoringDatePartForTimeValidation?e.minTime:Uc(n,i,e.minTime))),e.maxTime!=null&&c(i,e.maxTime)&&(i=bi(n,r,e.disableIgnoringDatePartForTimeValidation?e.maxTime:Uc(n,i,e.maxTime))),i},WS=(e,n)=>{const r=e.formatTokenMap[n];if(r==null)throw new Error([`MUI X: The token "${n}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof r=="string"?{type:r,contentType:r==="meridiem"?"letter":"digit",maxLength:void 0}:{type:r.sectionType,contentType:r.contentType,maxLength:r.maxLength}},Dd=(e,n)=>{const r=[],s=e.date(void 0,"default"),o=e.startOfWeek(s),i=e.endOfWeek(s);let c=o;for(;e.isBefore(c,i);)r.push(c),c=e.addDays(c,1);return r.map(d=>e.formatByString(d,n))},BS=(e,n,r,s)=>{switch(r){case"month":return wx(e,e.date(void 0,n)).map(o=>e.formatByString(o,s));case"weekDay":return Dd(e,s);case"meridiem":{const o=e.date(void 0,n);return[e.startOfDay(o),e.endOfDay(o)].map(i=>e.formatByString(i,s))}default:return[]}},Xy="s",bU=["0","1","2","3","4","5","6","7","8","9"],yU=e=>{const n=e.date(void 0);return e.formatByString(e.setSeconds(n,0),Xy)==="0"?bU:Array.from({length:10}).map((s,o)=>e.formatByString(e.setSeconds(n,o),Xy))},Uo=(e,n)=>{if(n[0]==="0")return e;const r=[];let s="";for(let o=0;o<e.length;o+=1){s+=e[o];const i=n.indexOf(s);i>-1&&(r.push(i.toString()),s="")}return r.join("")},Px=(e,n)=>n[0]==="0"?e:e.split("").map(r=>n[Number(r)]).join(""),Jy=(e,n)=>{const r=Uo(e,n);return r!==" "&&!Number.isNaN(Number(r))},Ix=(e,n)=>Number(e).toString().padStart(n,"0"),VS=(e,n,r,s,o)=>{if(o.type==="day"&&o.contentType==="digit-with-letter"){const c=e.setDate(r.longestMonth,n);return e.formatByString(c,o.format)}let i=n.toString();return o.hasLeadingZerosInInput&&(i=Ix(i,o.maxLength)),Px(i,s)},Dx=(e,n,r)=>{let s=e.value||e.placeholder;const o=n==="non-input"?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;return n==="non-input"&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(s=Number(Uo(s,r)).toString()),["input-rtl","input-ltr"].includes(n)&&e.contentType==="digit"&&!o&&s.length===1&&(s=`${s}`),n==="input-rtl"&&(s=`${s}`),s},Qy=(e,n,r,s)=>e.formatByString(e.parse(n,r),s),vU=(e,n)=>e.formatByString(e.date(void 0,"system"),n).length===4,US=(e,n,r,s)=>{if(n!=="digit")return!1;const o=e.date(void 0,"default");switch(r){case"year":return e.lib==="dayjs"&&s==="YY"?!0:e.formatByString(e.setYear(o,1),s).startsWith("0");case"month":return e.formatByString(e.startOfYear(o),s).length>1;case"day":return e.formatByString(e.startOfMonth(o),s).length>1;case"weekDay":return e.formatByString(e.startOfWeek(o),s).length>1;case"hours":return e.formatByString(e.setHours(o,1),s).length>1;case"minutes":return e.formatByString(e.setMinutes(o,1),s).length>1;case"seconds":return e.formatByString(e.setSeconds(o,1),s).length>1;default:throw new Error("Invalid section type")}},jU=(e,n,r)=>{const s=n.some(u=>u.type==="day"),o=[],i=[];for(let u=0;u<n.length;u+=1){const h=n[u];s&&h.type==="weekDay"||(o.push(h.format),i.push(Dx(h,"non-input",r)))}const c=o.join(" "),d=i.join(" ");return e.parse(d,c)},SU=e=>e.map(n=>`${n.startSeparator}${n.value||n.placeholder}${n.endSeparator}`).join(""),wU=(e,n,r)=>{const o=e.map(i=>{const c=Dx(i,r?"input-rtl":"input-ltr",n);return`${i.startSeparator}${c}${i.endSeparator}`}).join("");return r?`${o}`:o},CU=(e,n,r)=>{const s=e.date(void 0,r),o=e.endOfYear(s),i=e.endOfDay(s),{maxDaysInMonth:c,longestMonth:d}=wx(e,s).reduce((u,h)=>{const x=e.getDaysInMonth(h);return x>u.maxDaysInMonth?{maxDaysInMonth:x,longestMonth:h}:u},{maxDaysInMonth:0,longestMonth:null});return{year:({format:u})=>({minimum:0,maximum:vU(e,u)?9999:99}),month:()=>({minimum:1,maximum:e.getMonth(o)+1}),day:({currentDate:u})=>({minimum:1,maximum:e.isValid(u)?e.getDaysInMonth(u):c,longestMonth:d}),weekDay:({format:u,contentType:h})=>{if(h==="digit"){const x=Dd(e,u).map(Number);return{minimum:Math.min(...x),maximum:Math.max(...x)}}return{minimum:1,maximum:7}},hours:({format:u})=>{const h=e.getHours(i);return Uo(e.formatByString(e.endOfDay(s),u),n)!==h.toString()?{minimum:1,maximum:Number(Uo(e.formatByString(e.startOfDay(s),u),n))}:{minimum:0,maximum:h}},minutes:()=>({minimum:0,maximum:e.getMinutes(i)}),seconds:()=>({minimum:0,maximum:e.getSeconds(i)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},PU=(e,n,r,s)=>{switch(n.type){case"year":return e.setYear(s,e.getYear(r));case"month":return e.setMonth(s,e.getMonth(r));case"weekDay":{let o=e.formatByString(r,n.format);n.hasLeadingZerosInInput&&(o=Ix(o,n.maxLength));const i=Dd(e,n.format),c=i.indexOf(o),u=i.indexOf(n.value)-c;return e.addDays(r,u)}case"day":return e.setDate(s,e.getDate(r));case"meridiem":{const o=e.getHours(r)<12,i=e.getHours(s);return o&&i>=12?e.addHours(s,-12):!o&&i<12?e.addHours(s,12):s}case"hours":return e.setHours(s,e.getHours(r));case"minutes":return e.setMinutes(s,e.getMinutes(r));case"seconds":return e.setSeconds(s,e.getSeconds(r));default:return s}},Zy={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},e0=(e,n,r,s,o)=>[...r].sort((i,c)=>Zy[i.type]-Zy[c.type]).reduce((i,c)=>!o||c.modified?PU(e,c,n,i):i,s),IU=()=>navigator.userAgent.toLowerCase().includes("android"),DU=(e,n)=>{const r={};if(!n)return e.forEach((u,h)=>{const x=h===0?null:h-1,p=h===e.length-1?null:h+1;r[h]={leftIndex:x,rightIndex:p}}),{neighbors:r,startIndex:0,endIndex:e.length-1};const s={},o={};let i=0,c=0,d=e.length-1;for(;d>=0;){c=e.findIndex((u,h)=>{var x;return h>=i&&((x=u.endSeparator)==null?void 0:x.includes(" "))&&u.endSeparator!==" / "}),c===-1&&(c=e.length-1);for(let u=c;u>=i;u-=1)o[u]=d,s[d]=u,d-=1;i=c+1}return e.forEach((u,h)=>{const x=o[h],p=x===0?null:s[x-1],y=x===e.length-1?null:s[x+1];r[h]={leftIndex:p,rightIndex:y}}),{neighbors:r,startIndex:s[0],endIndex:s[e.length-1]}},Jh=(e,n)=>{if(e==null)return null;if(e==="all")return"all";if(typeof e=="string"){const r=n.findIndex(s=>s.type===e);return r===-1?null:r}return e},EU=["value","referenceDate"],ur={emptyValue:null,getTodayValue:Cx,getInitialReferenceValue:e=>{let{value:n,referenceDate:r}=e,s=at(e,EU);return s.utils.isValid(n)?n:r??gU(s)},cleanValue:fU,areValuesEqual:pU,isSameError:(e,n)=>e===n,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,n)=>e.isValid(n)?e.getTimezone(n):null,setTimezone:(e,n,r)=>r==null?null:e.setTimezone(r,n)},TU={updateReferenceValue:(e,n,r)=>e.isValid(n)?n:r,getSectionsFromValue:(e,n)=>n(e),getV7HiddenInputValueFromSections:SU,getV6InputValueFromSections:wU,parseValueStr:(e,n,r)=>r(e.trim(),n),getDateFromSection:e=>e,getDateSectionsFromValue:e=>e,updateDateInValue:(e,n,r)=>r,clearDateSections:e=>e.map(n=>U({},n,{value:""}))},zS=({value:e,referenceDate:n,utils:r,props:s,timezone:o})=>{const i=m.useMemo(()=>ur.getInitialReferenceValue({value:e,utils:r,props:s,referenceDate:n,granularity:ls.day,timezone:o,getTodayDate:()=>Cx(r,o,"date")}),[]);return e??i};function AU(e){return ln("MuiDigitalClock",e)}const Qh=un("MuiDigitalClock",["root","list","item"]);function RU(e,n){return Array.isArray(n)?n.every(r=>e.indexOf(r)!==-1):e.indexOf(n)!==-1}const _U=e=>{setTimeout(e,0)},Yn=(e=document)=>{const n=e.activeElement;return n?n.shadowRoot?Yn(n.shadowRoot):n:null},Hc=e=>Array.from(e.children).indexOf(Yn(document)),OU="@media (pointer: fine)";function kU(...e){return e.reduce((n,r)=>(Array.isArray(r)?n.push(...r):r!=null&&n.push(r),n),[])}const MU=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","views","skipDisabled","timezone"],NU=e=>Jt({root:["root"],list:["list"],item:["item"]},AU,e),LU=Me(Sx,{name:"MuiDigitalClock",slot:"Root"})({overflowY:"auto",width:"100%",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:$S,variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),$U=Me(w0,{name:"MuiDigitalClock",slot:"List"})({padding:0}),FU=Me(Ce,{name:"MuiDigitalClock",slot:"Item",shouldForwardProp:e=>e!=="itemValue"&&e!=="formattedValue"})(({theme:e})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:fe(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:fe(e.palette.primary.main,e.palette.action.focusOpacity)}})),WU=m.forwardRef(function(n,r){const s=Vt(),o=m.useRef(null),i=nr(r,o),c=m.useRef(null),d=Ht({props:n,name:"MuiDigitalClock"}),{ampm:u=s.is12HourCycleInCurrentLocale(),timeStep:h=30,autoFocus:x,slots:p,slotProps:y,value:b,defaultValue:g,referenceDate:S,disableIgnoringDatePartForTimeValidation:v=!1,maxTime:I,minTime:w,disableFuture:D,disablePast:E,minutesStep:A=1,shouldDisableTime:_,onChange:O,view:R,openTo:L,onViewChange:B,focusedView:Y,onFocusedViewChange:$,className:H,classes:X,disabled:K,readOnly:q,views:Z=["hours"],skipDisabled:Q=!1,timezone:ie}=d,V=at(d,MU),{value:ee,handleValueChange:Pe,timezone:pe}=qo({name:"DigitalClock",timezone:ie,value:b,defaultValue:g,referenceDate:S,onChange:O,valueManager:ur}),Re=xs(),le=Ga(pe),{ownerState:re}=Dn(),je=U({},re,{hasDigitalClockAlreadyBeenRendered:!!o.current}),ke=NU(X),be=(p==null?void 0:p.digitalClockItem)??FU,ae=Nt({elementType:be,externalSlotProps:y==null?void 0:y.digitalClockItem,ownerState:je,className:ke.item}),oe=zS({value:ee,referenceDate:S,utils:s,props:d,timezone:pe}),se=Ve(Se=>Pe(Se,"finish","hours")),{setValueAndGoToNextView:xe}=Pd({view:R,views:Z,openTo:L,onViewChange:B,onChange:se,focusedView:Y,onFocusedViewChange:$}),de=Ve(Se=>{xe(Se,"finish")});Zr(()=>{if(o.current===null)return;const Se=o.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!Se)return;const G=Se.offsetTop;(x||Y)&&Se.focus(),o.current.scrollTop=G-4});const _e=m.useCallback(Se=>{const G=Cd(v,s),N=()=>!(w&&G(w,Se)||I&&G(Se,I)||D&&G(Se,le)||E&&G(le,Se)),Oe=()=>s.getMinutes(Se)%A!==0?!1:_?!_(Se,"hours"):!0;return!N()||!Oe()},[v,s,w,I,D,le,E,A,_]),Te=m.useMemo(()=>{const Se=[];let N=s.startOfDay(oe);for(;s.isSameDay(oe,N);)Se.push(N),N=s.addMinutes(N,h);return Se},[oe,h,s]),He=Te.findIndex(Se=>s.isEqual(Se,oe)),ue=Se=>{switch(Se.key){case"PageUp":{const G=Hc(c.current)-5,N=c.current.children,Oe=Math.max(0,G),Ue=N[Oe];Ue&&Ue.focus(),Se.preventDefault();break}case"PageDown":{const G=Hc(c.current)+5,N=c.current.children,Oe=Math.min(N.length-1,G),Ue=N[Oe];Ue&&Ue.focus(),Se.preventDefault();break}}};return t.jsx(LU,U({ref:i,className:nn(ke.root,H),ownerState:je},V,{children:t.jsx($U,{ref:c,role:"listbox","aria-label":Re.timePickerToolbarTitle,className:ke.list,onKeyDown:ue,children:Te.map((Se,G)=>{const N=_e(Se);if(Q&&N)return null;const Oe=s.isEqual(Se,ee),Ue=s.format(Se,u?"fullTime12h":"fullTime24h"),$t=He===G||He===-1&&G===0?0:-1;return t.jsx(be,U({onClick:()=>!q&&de(Se),selected:Oe,disabled:K||N,disableRipple:q,role:"option","aria-disabled":q,"aria-selected":Oe,tabIndex:$t,itemValue:Se,formattedValue:Ue},ae,{children:Ue}),`${Se.valueOf()}-${Ue}`)})})}))});function BU(e){return ln("MuiMultiSectionDigitalClock",e)}const Zh=un("MuiMultiSectionDigitalClock",["root"]);function VU(e){return ln("MuiMultiSectionDigitalClockSection",e)}const ef=un("MuiMultiSectionDigitalClockSection",["root","item"]),UU=["autoFocus","onChange","className","classes","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],zU=e=>Jt({root:["root"],item:["item"]},VU,e),HU=Me(w0,{name:"MuiMultiSectionDigitalClockSection",slot:"Root"})(({theme:e})=>({maxHeight:$S,width:56,padding:0,overflow:"hidden",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(e.vars||e).palette.divider}`},"&::after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"},variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),GU=Me(Ce,{name:"MuiMultiSectionDigitalClockSection",slot:"Item"})(({theme:e})=>({padding:8,margin:"2px 4px",width:Si,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:fe(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:fe(e.palette.primary.main,e.palette.action.focusOpacity)}})),YU=m.forwardRef(function(n,r){const s=m.useRef(null),o=nr(r,s),i=m.useRef(null),c=Ht({props:n,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:d,onChange:u,className:h,classes:x,disabled:p,readOnly:y,items:b,active:g,slots:S,slotProps:v,skipDisabled:I}=c,w=at(c,UU),{ownerState:D}=Dn(),E=U({},D,{hasDigitalClockAlreadyBeenRendered:!!s.current}),A=zU(x),_=(S==null?void 0:S.digitalClockSectionItem)??GU;Zr(()=>{if(s.current===null)return;const L=s.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(g&&d&&L&&L.focus(),!L||i.current===L)return;i.current=L;const B=L.offsetTop;s.current.scrollTop=B-4});const O=b.findIndex(L=>L.isFocused(L.value)),R=L=>{switch(L.key){case"PageUp":{const B=Hc(s.current)-5,Y=s.current.children,$=Math.max(0,B),H=Y[$];H&&H.focus(),L.preventDefault();break}case"PageDown":{const B=Hc(s.current)+5,Y=s.current.children,$=Math.min(Y.length-1,B),H=Y[$];H&&H.focus(),L.preventDefault();break}}};return t.jsx(HU,U({ref:o,className:nn(A.root,h),ownerState:E,autoFocusItem:d&&g,role:"listbox",onKeyDown:R},w,{children:b.map((L,B)=>{var K;const Y=(K=L.isDisabled)==null?void 0:K.call(L,L.value),$=p||Y;if(I&&$)return null;const H=L.isSelected(L.value),X=O===B||O===-1&&B===0?0:-1;return t.jsx(_,U({onClick:()=>!y&&u(L.value),selected:H,disabled:$,disableRipple:y,role:"option","aria-disabled":y||$||void 0,"aria-label":L.ariaLabel,"aria-selected":H,tabIndex:X,className:A.item},v==null?void 0:v.digitalClockSectionItem,{children:L.label}),L.label)})}))}),qU=({now:e,value:n,utils:r,ampm:s,isDisabled:o,resolveAriaLabel:i,timeStep:c,valueOrReferenceDate:d})=>{const u=n?r.getHours(n):null,h=[],x=(b,g)=>{const S=g??u;return S===null?!1:s?b===12?S===12||S===0:S===b||S-12===b:S===b},p=b=>x(b,r.getHours(d)),y=s?11:23;for(let b=0;b<=y;b+=c){let g=r.format(r.setHours(e,b),s?"hours12h":"hours24h");const S=i(parseInt(g,10).toString());g=r.formatNumber(g),h.push({value:b,label:g,isSelected:x,isDisabled:o,isFocused:p,ariaLabel:S})}return h},t0=({value:e,utils:n,isDisabled:r,timeStep:s,resolveLabel:o,resolveAriaLabel:i,hasValue:c=!0})=>{const d=h=>e===null?!1:c&&e===h,u=h=>e===h;return[...Array.from({length:Math.ceil(60/s)},(h,x)=>{const p=s*x;return{value:p,label:n.formatNumber(o(p)),isDisabled:r,isSelected:d,isFocused:u,ariaLabel:i(p.toString())}})]},KU=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","skipDisabled","timezone"],XU=e=>Jt({root:["root"]},BU,e),JU=Me(Sx,{name:"MuiMultiSectionDigitalClock",slot:"Root"})(({theme:e})=>({flexDirection:"row",width:"100%",borderBottom:`1px solid ${(e.vars||e).palette.divider}`})),QU=m.forwardRef(function(n,r){const s=Vt(),o=Is(),i=Ht({props:n,name:"MuiMultiSectionDigitalClock"}),{ampm:c=s.is12HourCycleInCurrentLocale(),timeSteps:d,autoFocus:u,slots:h,slotProps:x,value:p,defaultValue:y,referenceDate:b,disableIgnoringDatePartForTimeValidation:g=!1,maxTime:S,minTime:v,disableFuture:I,disablePast:w,minutesStep:D=1,shouldDisableTime:E,onChange:A,view:_,views:O=["hours","minutes"],openTo:R,onViewChange:L,focusedView:B,onFocusedViewChange:Y,className:$,classes:H,disabled:X,readOnly:K,skipDisabled:q=!1,timezone:Z}=i,Q=at(i,KU),{value:ie,handleValueChange:V,timezone:ee}=qo({name:"MultiSectionDigitalClock",timezone:Z,value:p,defaultValue:y,referenceDate:b,onChange:A,valueManager:ur}),Pe=xs(),pe=Ga(ee),Re=m.useMemo(()=>U({hours:1,minutes:5,seconds:5},d),[d]),le=zS({value:ie,referenceDate:b,utils:s,props:i,timezone:ee}),re=Ve((G,N,Oe)=>V(G,N,Oe)),je=m.useMemo(()=>!c||!O.includes("hours")||O.includes("meridiem")?O:[...O,"meridiem"],[c,O]),{view:ke,setValueAndGoToNextView:be,focusedView:ae}=Pd({view:_,views:je,openTo:R,onViewChange:L,onChange:re,focusedView:B,onFocusedViewChange:Y}),oe=Ve(G=>{be(G,"finish","meridiem")}),{meridiemMode:se,handleMeridiemChange:xe}=LS(le,c,oe,"finish"),de=m.useCallback((G,N)=>{const Oe=Cd(g,s),Ue=N==="hours"||N==="minutes"&&je.includes("seconds"),cn=({start:Rt,end:Qt})=>!(v&&Oe(v,Qt)||S&&Oe(Rt,S)||I&&Oe(Rt,pe)||w&&Oe(pe,Ue?Qt:Rt)),$t=(Rt,Qt=1)=>{if(Rt%Qt!==0)return!1;if(E)switch(N){case"hours":return!E(s.setHours(le,Rt),"hours");case"minutes":return!E(s.setMinutes(le,Rt),"minutes");case"seconds":return!E(s.setSeconds(le,Rt),"seconds");default:return!1}return!0};switch(N){case"hours":{const Rt=Xh(G,se,c),Qt=s.setHours(le,Rt);if(s.getHours(Qt)!==Rt)return!0;const Ln=s.setSeconds(s.setMinutes(Qt,0),0),ut=s.setSeconds(s.setMinutes(Qt,59),59);return!cn({start:Ln,end:ut})||!$t(Rt)}case"minutes":{const Rt=s.setMinutes(le,G),Qt=s.setSeconds(Rt,0),Ln=s.setSeconds(Rt,59);return!cn({start:Qt,end:Ln})||!$t(G,D)}case"seconds":{const Rt=s.setSeconds(le,G);return!cn({start:Rt,end:Rt})||!$t(G)}default:throw new Error("not supported")}},[c,le,g,S,se,v,D,E,s,I,w,pe,je]),_e=m.useCallback(G=>{switch(G){case"hours":return{onChange:N=>{const Oe=Xh(N,se,c);be(s.setHours(le,Oe),"finish","hours")},items:qU({now:pe,value:ie,ampm:c,utils:s,isDisabled:N=>de(N,"hours"),timeStep:Re.hours,resolveAriaLabel:Pe.hoursClockNumberText,valueOrReferenceDate:le})};case"minutes":return{onChange:N=>{be(s.setMinutes(le,N),"finish","minutes")},items:t0({value:s.getMinutes(le),utils:s,isDisabled:N=>de(N,"minutes"),resolveLabel:N=>s.format(s.setMinutes(pe,N),"minutes"),timeStep:Re.minutes,hasValue:!!ie,resolveAriaLabel:Pe.minutesClockNumberText})};case"seconds":return{onChange:N=>{be(s.setSeconds(le,N),"finish","seconds")},items:t0({value:s.getSeconds(le),utils:s,isDisabled:N=>de(N,"seconds"),resolveLabel:N=>s.format(s.setSeconds(pe,N),"seconds"),timeStep:Re.seconds,hasValue:!!ie,resolveAriaLabel:Pe.secondsClockNumberText})};case"meridiem":{const N=Ti(s,"am"),Oe=Ti(s,"pm");return{onChange:xe,items:[{value:"am",label:N,isSelected:()=>!!ie&&se==="am",isFocused:()=>!!le&&se==="am",ariaLabel:N},{value:"pm",label:Oe,isSelected:()=>!!ie&&se==="pm",isFocused:()=>!!le&&se==="pm",ariaLabel:Oe}]}}default:throw new Error(`Unknown view: ${G} found.`)}},[pe,ie,c,s,Re.hours,Re.minutes,Re.seconds,Pe.hoursClockNumberText,Pe.minutesClockNumberText,Pe.secondsClockNumberText,se,be,le,de,xe]),Te=m.useMemo(()=>{if(!o)return je;const G=je.filter(N=>N!=="meridiem");return G.reverse(),je.includes("meridiem")&&G.push("meridiem"),G},[o,je]),He=m.useMemo(()=>je.reduce((G,N)=>U({},G,{[N]:_e(N)}),{}),[je,_e]),{ownerState:ue}=Dn(),Se=XU(H);return t.jsx(JU,U({ref:r,className:nn(Se.root,$),ownerState:ue,role:"group"},Q,{children:Te.map(G=>t.jsx(YU,{items:He[G].items,onChange:He[G].onChange,active:ke===G,autoFocus:u||ae===G,disabled:X,readOnly:K,slots:h,slotProps:x,skipDisabled:q,"aria-label":Pe.selectViewText(G)},G))}))});function ZU(e){return ln("MuiPickersDay",e)}const ko=un("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]);function HS(e){const{disabled:n,selected:r,today:s,outsideCurrentMonth:o,day:i,disableMargin:c,disableHighlightToday:d,showDaysOutsideCurrentMonth:u}=e,h=Vt(),{ownerState:x}=Dn();return m.useMemo(()=>U({},x,{day:i,isDaySelected:r??!1,isDayDisabled:n??!1,isDayCurrent:s??!1,isDayOutsideMonth:o??!1,isDayStartOfWeek:h.isSameDay(i,h.startOfWeek(i)),isDayEndOfWeek:h.isSameDay(i,h.endOfWeek(i)),disableMargin:c??!1,disableHighlightToday:d??!1,showDaysOutsideCurrentMonth:u??!1}),[h,x,i,r,n,s,o,c,d,u])}const ez=["autoFocus","className","classes","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","children","isFirstVisibleCell","isLastVisibleCell","day","selected","disabled","today","outsideCurrentMonth","disableMargin","disableHighlightToday","showDaysOutsideCurrentMonth"],tz=(e,n)=>{const{isDaySelected:r,isDayDisabled:s,isDayCurrent:o,isDayOutsideMonth:i,disableMargin:c,disableHighlightToday:d,showDaysOutsideCurrentMonth:u}=n,h=i&&!u;return Jt({root:["root",r&&!h&&"selected",s&&"disabled",!c&&"dayWithMargin",!d&&o&&"today",i&&u&&"dayOutsideMonth",h&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},ZU,e)},GS=({theme:e})=>U({},e.typography.caption,{width:zi,height:zi,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:fe(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:fe(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${ko.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${ko.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${ko.disabled}:not(.${ko.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${ko.disabled}&.${ko.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${Id}px`}},{props:{isDayOutsideMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(e.vars||e).palette.text.secondary}},{props:{disableHighlightToday:!1,isDayCurrent:!0},style:{[`&:not(.${ko.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}}]}),YS=(e,n)=>{const{ownerState:r}=e;return[n.root,!r.disableMargin&&n.dayWithMargin,!r.disableHighlightToday&&r.isDayCurrent&&n.today,!r.isDayOutsideMonth&&r.showDaysOutsideCurrentMonth&&n.dayOutsideMonth,r.isDayOutsideMonth&&!r.showDaysOutsideCurrentMonth&&n.hiddenDaySpacingFiller]},nz=Me(JT,{name:"MuiPickersDay",slot:"Root",overridesResolver:YS})(GS),rz=Me("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:YS})(({theme:e})=>U({},GS({theme:e}),{opacity:0,pointerEvents:"none"})),yi=()=>{},sz=m.forwardRef(function(n,r){const s=Ht({props:n,name:"MuiPickersDay"}),{autoFocus:o=!1,className:i,classes:c,isAnimating:d,onClick:u,onDaySelect:h,onFocus:x=yi,onBlur:p=yi,onKeyDown:y=yi,onMouseDown:b=yi,onMouseEnter:g=yi,children:S,day:v,selected:I,disabled:w,today:D,outsideCurrentMonth:E,disableMargin:A,disableHighlightToday:_,showDaysOutsideCurrentMonth:O}=s,R=at(s,ez),L=HS({day:v,selected:I,disabled:w,today:D,outsideCurrentMonth:E,disableMargin:A,disableHighlightToday:_,showDaysOutsideCurrentMonth:O}),B=tz(c,L),Y=Vt(),$=m.useRef(null),H=nr($,r);Zr(()=>{o&&!w&&!d&&!E&&$.current.focus()},[o,w,d,E]);const X=q=>{b(q),E&&q.preventDefault()},K=q=>{w||h(v),E&&q.currentTarget.focus(),u&&u(q)};return E&&!O?t.jsx(rz,{className:nn(B.root,B.hiddenDaySpacingFiller,i),ownerState:L,role:R.role}):t.jsx(nz,U({className:nn(B.root,i),ref:H,centerRipple:!0,disabled:w,tabIndex:I?0:-1,onKeyDown:q=>y(q,v),onFocus:q=>x(q,v),onBlur:q=>p(q,v),onMouseEnter:q=>g(q,v),onClick:K,onMouseDown:X},R,{ownerState:L,children:S||Y.format(v,"dayOfMonth")}))}),oz=m.memo(sz),tf=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],nf=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],qS=["minDateTime","maxDateTime"],az=[...tf,...nf,...qS],KS=e=>az.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{}),iz=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","unstableStartFieldRef","unstableEndFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator","autoFocus","focused"],XS=(e,n)=>m.useMemo(()=>{const r=U({},e),s={},o=i=>{r.hasOwnProperty(i)&&(s[i]=r[i],delete r[i])};return iz.forEach(o),n==="date"?tf.forEach(o):n==="time"?nf.forEach(o):n==="date-time"&&(tf.forEach(o),nf.forEach(o),qS.forEach(o)),{forwardedProps:r,internalProps:s}},[e,n]),lz=({utils:e,format:n})=>{let r=10,s=n,o=e.expandFormat(n);for(;o!==s;)if(s=o,o=e.expandFormat(s),r-=1,r<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the component.");return o},cz=({utils:e,expandedFormat:n})=>{const r=[],{start:s,end:o}=e.escapedCharacters,i=new RegExp(`(\\${s}[^\\${o}]*\\${o})+`,"g");let c=null;for(;c=i.exec(n);)r.push({start:c.index,end:i.lastIndex-1});return r},dz=(e,n,r,s)=>{switch(r.type){case"year":return n.fieldYearPlaceholder({digitAmount:e.formatByString(e.date(void 0,"default"),s).length,format:s});case"month":return n.fieldMonthPlaceholder({contentType:r.contentType,format:s});case"day":return n.fieldDayPlaceholder({format:s});case"weekDay":return n.fieldWeekDayPlaceholder({contentType:r.contentType,format:s});case"hours":return n.fieldHoursPlaceholder({format:s});case"minutes":return n.fieldMinutesPlaceholder({format:s});case"seconds":return n.fieldSecondsPlaceholder({format:s});case"meridiem":return n.fieldMeridiemPlaceholder({format:s});default:return s}},uz=({utils:e,date:n,shouldRespectLeadingZeros:r,localeText:s,localizedDigits:o,now:i,token:c,startSeparator:d})=>{if(c==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const u=WS(e,c),h=US(e,u.contentType,u.type,c),x=r?h:u.contentType==="digit",p=e.isValid(n);let y=p?e.formatByString(n,c):"",b=null;if(x)if(h)b=y===""?e.formatByString(i,c).length:y.length;else{if(u.maxLength==null)throw new Error(`MUI X: The token ${c} should have a 'maxLength' property on it's adapter`);b=u.maxLength,p&&(y=Px(Ix(Uo(y,o),b),o))}return U({},u,{format:c,maxLength:b,value:y,placeholder:dz(e,s,u,c),hasLeadingZerosInFormat:h,hasLeadingZerosInInput:x,startSeparator:d,endSeparator:"",modified:!1})},hz=e=>{var b;const{utils:n,expandedFormat:r,escapedParts:s}=e,o=n.date(void 0),i=[];let c="";const d=Object.keys(n.formatTokenMap).sort((g,S)=>S.length-g.length),u=/^([a-zA-Z]+)/,h=new RegExp(`^(${d.join("|")})*$`),x=new RegExp(`^(${d.join("|")})`),p=g=>s.find(S=>S.start<=g&&S.end>=g);let y=0;for(;y<r.length;){const g=p(y),S=g!=null,v=(b=u.exec(r.slice(y)))==null?void 0:b[1];if(!S&&v!=null&&h.test(v)){let I=v;for(;I.length>0;){const w=x.exec(I)[1];I=I.slice(w.length),i.push(uz(U({},e,{now:o,token:w,startSeparator:c}))),c=""}y+=v.length}else{const I=r[y];S&&(g==null?void 0:g.start)===y||(g==null?void 0:g.end)===y||(i.length===0?c+=I:(i[i.length-1].endSeparator+=I,i[i.length-1].isEndFormatSeparator=!0)),y+=1}}return i.length===0&&c.length>0&&i.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:c,endSeparator:"",modified:!1}),i},fz=({isRtl:e,formatDensity:n,sections:r})=>r.map(s=>{const o=i=>{let c=i;return e&&c!==null&&c.includes(" ")&&(c=`${c}`),n==="spacious"&&["/",".","-"].includes(c)&&(c=` ${c} `),c};return s.startSeparator=o(s.startSeparator),s.endSeparator=o(s.endSeparator),s}),n0=e=>{let n=lz(e);e.isRtl&&e.enableAccessibleFieldDOMStructure&&(n=n.split(" ").reverse().join(" "));const r=cz(U({},e,{expandedFormat:n})),s=hz(U({},e,{expandedFormat:n,escapedParts:r}));return fz(U({},e,{sections:s}))},Ex=()=>m.useContext(jx),pz=()=>{const e=m.useContext(_S);if(e==null)throw new Error(["MUI X: The `usePickerActionsContext` can only be called in fields that are used as a slot of a Picker component"].join(`
`));return e},fa=e=>e.saveQuery!=null,JS=({stateResponse:{localizedDigits:e,sectionsValueBoundaries:n,state:r,timezone:s,setCharacterQuery:o,setTempAndroidValueStr:i,updateSectionValue:c}})=>{const d=Vt(),u=({keyPressed:p,sectionIndex:y},b,g)=>{const S=p.toLowerCase(),v=r.sections[y];if(r.characterQuery!=null&&(!g||g(r.characterQuery.value))&&r.characterQuery.sectionIndex===y){const w=`${r.characterQuery.value}${S}`,D=b(w,v);if(!fa(D))return o({sectionIndex:y,value:w,sectionType:v.type}),D}const I=b(S,v);return fa(I)&&!I.saveQuery?(o(null),null):(o({sectionIndex:y,value:S,sectionType:v.type}),fa(I)?null:I)},h=p=>{const y=(S,v,I)=>{const w=v.filter(D=>D.toLowerCase().startsWith(I));return w.length===0?{saveQuery:!1}:{sectionValue:w[0],shouldGoToNextSection:w.length===1}},b=(S,v,I,w)=>{const D=E=>BS(d,s,v.type,E);if(v.contentType==="letter")return y(v.format,D(v.format),S);if(I&&w!=null&&WS(d,I).contentType==="letter"){const E=D(I),A=y(I,E,S);return fa(A)?{saveQuery:!1}:U({},A,{sectionValue:w(A.sectionValue,E)})}return{saveQuery:!1}};return u(p,(S,v)=>{switch(v.type){case"month":{const I=w=>Qy(d,w,d.formats.month,v.format);return b(S,v,d.formats.month,I)}case"weekDay":{const I=(w,D)=>D.indexOf(w).toString();return b(S,v,d.formats.weekday,I)}case"meridiem":return b(S,v);default:return{saveQuery:!1}}})},x=p=>{const y=(g,S)=>{const v=Uo(g,e),I=Number(v),w=n[S.type]({currentDate:null,format:S.format,contentType:S.contentType});if(I>w.maximum)return{saveQuery:!1};if(I<w.minimum)return{saveQuery:!0};const D=I*10>w.maximum||v.length===w.maximum.toString().length;return{sectionValue:VS(d,I,w,e,S),shouldGoToNextSection:D}};return u(p,(g,S)=>{if(S.contentType==="digit"||S.contentType==="digit-with-letter")return y(g,S);if(S.type==="month"){const v=US(d,"digit","month","MM"),I=y(g,{type:S.type,format:"MM",hasLeadingZerosInFormat:v,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(fa(I))return I;const w=Qy(d,I.sectionValue,"MM",S.format);return U({},I,{sectionValue:w})}if(S.type==="weekDay"){const v=y(g,S);if(fa(v))return v;const I=Dd(d,S.format)[Number(v.sectionValue)-1];return U({},v,{sectionValue:I})}return{saveQuery:!1}},g=>Jy(g,e))};return Ve(p=>{const y=r.sections[p.sectionIndex],g=Jy(p.keyPressed,e)?x(U({},p,{keyPressed:Px(p.keyPressed,e)})):h(p);if(g==null){i(null);return}c({section:y,newSectionValue:g.sectionValue,shouldGoToNextSection:g.shouldGoToNextSection})})},Tx=({props:e,value:n,timezone:r,adapter:s})=>{if(n===null)return null;const{shouldDisableDate:o,shouldDisableMonth:i,shouldDisableYear:c,disablePast:d,disableFuture:u,minDate:h,maxDate:x}=e,p=s.utils.date(void 0,r);switch(!0){case!s.utils.isValid(n):return"invalidDate";case!!(o&&o(n)):return"shouldDisableDate";case!!(i&&i(n)):return"shouldDisableMonth";case!!(c&&c(n)):return"shouldDisableYear";case!!(u&&s.utils.isAfterDay(n,p)):return"disableFuture";case!!(d&&s.utils.isBeforeDay(n,p)):return"disablePast";case!!(h&&s.utils.isBeforeDay(n,h)):return"minDate";case!!(x&&s.utils.isAfterDay(n,x)):return"maxDate";default:return null}};Tx.valueManager=ur;const QS=({adapter:e,value:n,timezone:r,props:s})=>{if(n===null)return null;const{minTime:o,maxTime:i,minutesStep:c,shouldDisableTime:d,disableIgnoringDatePartForTimeValidation:u=!1,disablePast:h,disableFuture:x}=s,p=e.utils.date(void 0,r),y=Cd(u,e.utils);switch(!0){case!e.utils.isValid(n):return"invalidDate";case!!(o&&y(o,n)):return"minTime";case!!(i&&y(n,i)):return"maxTime";case!!(x&&e.utils.isAfter(n,p)):return"disableFuture";case!!(h&&e.utils.isBefore(n,p)):return"disablePast";case!!(d&&d(n,"hours")):return"shouldDisableTime-hours";case!!(d&&d(n,"minutes")):return"shouldDisableTime-minutes";case!!(d&&d(n,"seconds")):return"shouldDisableTime-seconds";case!!(c&&e.utils.getMinutes(n)%c!==0):return"minutesStep";default:return null}};QS.valueManager=ur;const Ed=({adapter:e,value:n,timezone:r,props:s})=>{const o=Tx({adapter:e,value:n,timezone:r,props:s});return o!==null?o:QS({adapter:e,value:n,timezone:r,props:s})};Ed.valueManager=ur;function ZS(e){const{props:n,validator:r,value:s,timezone:o,onError:i}=e,c=Yo(),d=m.useRef(r.valueManager.defaultErrorState),u=r({adapter:c,value:s,timezone:o,props:n}),h=r.valueManager.hasError(u);m.useEffect(()=>{i&&!r.valueManager.isSameError(u,d.current)&&i(u,s),d.current=u},[r,i,u,s]);const x=Ve(p=>r({adapter:c,value:p,timezone:o,props:n}));return{validationError:u,hasValidationError:h,getValidationErrorForNewValue:x}}const xz=5e3,ew=e=>{var He;const n=Vt(),r=xs(),s=Yo(),o=Is(),{manager:{validator:i,valueType:c,internal_valueManager:d,internal_fieldValueManager:u},internalPropsWithDefaults:h,internalPropsWithDefaults:{value:x,defaultValue:p,referenceDate:y,onChange:b,format:g,formatDensity:S="dense",selectedSections:v,onSelectedSectionsChange:I,shouldRespectLeadingZeros:w=!1,timezone:D,enableAccessibleFieldDOMStructure:E=!0},forwardedProps:{error:A}}=e,{value:_,handleValueChange:O,timezone:R}=qo({name:"a field component",timezone:D,value:x,defaultValue:p,referenceDate:y,onChange:b,valueManager:d}),L=m.useRef(_);m.useEffect(()=>{L.current=_},[_]);const{hasValidationError:B}=ZS({props:h,validator:i,timezone:R,value:_,onError:h.onError}),Y=m.useMemo(()=>A!==void 0?A:B,[B,A]),$=m.useMemo(()=>yU(n),[n]),H=m.useMemo(()=>CU(n,$,R),[n,$,R]),X=m.useCallback(ue=>u.getSectionsFromValue(ue,Se=>n0({utils:n,localeText:r,localizedDigits:$,format:g,date:Se,formatDensity:S,shouldRespectLeadingZeros:w,enableAccessibleFieldDOMStructure:E,isRtl:o})),[u,g,r,$,o,w,n,S,E]),[K,q]=m.useState(()=>{const ue=X(_),Se={sections:ue,lastExternalValue:_,lastSectionsDependencies:{format:g,isRtl:o,locale:n.locale},tempValueStrAndroid:null,characterQuery:null},G=mU(ue),N=d.getInitialReferenceValue({referenceDate:y,value:_,utils:n,props:h,granularity:G,timezone:R});return U({},Se,{referenceValue:N})}),[Z,Q]=Na({controlled:v,default:null,name:"useField",state:"selectedSections"}),ie=ue=>{Q(ue),I==null||I(ue)},V=m.useMemo(()=>Jh(Z,K.sections),[Z,K.sections]),ee=V==="all"?0:V,Pe=m.useMemo(()=>DU(K.sections,o&&!E),[K.sections,o,E]),pe=m.useMemo(()=>K.sections.every(ue=>ue.value===""),[K.sections]),Re=ue=>{const Se={validationError:i({adapter:s,value:ue,timezone:R,props:h})};O(ue,Se)},le=(ue,Se)=>{const G=[...K.sections];return G[ue]=U({},G[ue],{value:Se,modified:!0}),G},re=m.useRef(null),je=ya(),ke=ue=>{ee!=null&&(re.current={sectionIndex:ee,value:ue},je.start(0,()=>{re.current=null}))},be=()=>{d.areValuesEqual(n,_,d.emptyValue)?q(ue=>U({},ue,{sections:ue.sections.map(Se=>U({},Se,{value:""})),tempValueStrAndroid:null,characterQuery:null})):(q(ue=>U({},ue,{characterQuery:null})),Re(d.emptyValue))},ae=()=>{if(ee==null)return;const ue=K.sections[ee];ue.value!==""&&(ke(""),u.getDateFromSection(_,ue)===null?q(Se=>U({},Se,{sections:le(ee,""),tempValueStrAndroid:null,characterQuery:null})):(q(Se=>U({},Se,{characterQuery:null})),Re(u.updateDateInValue(_,ue,null))))},oe=ue=>{const Se=(N,Oe)=>{const Ue=n.parse(N,g);if(!n.isValid(Ue))return null;const cn=n0({utils:n,localeText:r,localizedDigits:$,format:g,date:Ue,formatDensity:S,shouldRespectLeadingZeros:w,enableAccessibleFieldDOMStructure:E,isRtl:o});return e0(n,Ue,cn,Oe,!1)},G=u.parseValueStr(ue,K.referenceValue,Se);Re(G)},se=ya(),xe=({section:ue,newSectionValue:Se,shouldGoToNextSection:G})=>{je.clear(),se.clear();const N=u.getDateFromSection(_,ue);G&&ee<K.sections.length-1&&ie(ee+1);const Oe=le(ee,Se),Ue=u.getDateSectionsFromValue(Oe,ue),cn=jU(n,Ue,$);if(n.isValid(cn)){const $t=e0(n,cn,Ue,u.getDateFromSection(K.referenceValue,ue),!0);return N==null&&se.start(0,()=>{L.current===_&&q(Rt=>U({},Rt,{sections:u.clearDateSections(K.sections,ue),tempValueStrAndroid:null}))}),Re(u.updateDateInValue(_,ue,$t))}return Ue.every($t=>$t.value!=="")?(ke(Se),Re(u.updateDateInValue(_,ue,cn))):N!=null?(ke(Se),Re(u.updateDateInValue(_,ue,null))):q($t=>U({},$t,{sections:Oe,tempValueStrAndroid:null}))},de=ue=>q(Se=>U({},Se,{tempValueStrAndroid:ue})),_e=Ve(ue=>{q(Se=>U({},Se,{characterQuery:ue}))});if(_!==K.lastExternalValue){let ue;re.current!=null&&!n.isValid(u.getDateFromSection(_,K.sections[re.current.sectionIndex]))?ue=le(re.current.sectionIndex,re.current.value):ue=X(_),q(Se=>U({},Se,{lastExternalValue:_,sections:ue,sectionsDependencies:{format:g,isRtl:o,locale:n.locale},referenceValue:u.updateReferenceValue(n,_,Se.referenceValue),tempValueStrAndroid:null}))}if(o!==K.lastSectionsDependencies.isRtl||g!==K.lastSectionsDependencies.format||n.locale!==K.lastSectionsDependencies.locale){const ue=X(_);q(Se=>U({},Se,{lastSectionsDependencies:{format:g,isRtl:o,locale:n.locale},sections:ue,tempValueStrAndroid:null,characterQuery:null}))}K.characterQuery!=null&&!Y&&ee==null&&_e(null),K.characterQuery!=null&&((He=K.sections[K.characterQuery.sectionIndex])==null?void 0:He.type)!==K.characterQuery.sectionType&&_e(null),m.useEffect(()=>{re.current!=null&&(re.current=null)});const Te=ya();return m.useEffect(()=>(K.characterQuery!=null&&Te.start(xz,()=>_e(null)),()=>{}),[K.characterQuery,_e,Te]),m.useEffect(()=>{K.tempValueStrAndroid!=null&&ee!=null&&ae()},[K.sections]),{activeSectionIndex:ee,areAllSectionsEmpty:pe,error:Y,localizedDigits:$,parsedSelectedSections:V,sectionOrder:Pe,sectionsValueBoundaries:H,state:K,timezone:R,value:_,clearValue:be,clearActiveSection:ae,setCharacterQuery:_e,setSelectedSections:ie,setTempAndroidValueStr:de,updateSectionValue:xe,updateValueFromValueStr:oe,getSectionsFromValue:X}};function tw(e){const{manager:{internal_useApplyDefaultValuesToFieldInternalProps:n},internalProps:r,skipContextFieldRefAssignment:s}=e,o=Ex(),i=RS(),c=nr(r.unstableFieldRef,s?null:i==null?void 0:i.fieldRef),d=o==null?void 0:o.setValue,u=m.useCallback((x,p)=>d==null?void 0:d(x,{validationError:p.validationError,shouldClose:!1}),[d]),h=m.useMemo(()=>i!=null&&o!=null?U({value:o.value,onChange:u,timezone:o.timezone,disabled:o.disabled,readOnly:o.readOnly,autoFocus:o.autoFocus&&!o.open,focused:o.open?!0:void 0,format:o.fieldFormat,formatDensity:i.formatDensity,enableAccessibleFieldDOMStructure:i.enableAccessibleFieldDOMStructure,selectedSections:i.selectedSections,onSelectedSectionsChange:i.onSelectedSectionsChange,unstableFieldRef:c},r):r,[o,i,r,u,c]);return n(h)}function Ax(e){const{focused:n,domGetters:r,stateResponse:{parsedSelectedSections:s,state:o}}=e;if(!r.isReady())return;const i=document.getSelection();if(!i)return;if(s==null){i.rangeCount>0&&r.getRoot().contains(i.getRangeAt(0).startContainer)&&i.removeAllRanges(),n&&r.getRoot().blur();return}if(!r.getRoot().contains(Yn(document)))return;const c=new window.Range;let d;s==="all"?d=r.getRoot():o.sections[s].type==="empty"?d=r.getSectionContainer(s):d=r.getSectionContent(s),c.selectNodeContents(d),d.focus(),i.removeAllRanges(),i.addRange(c)}function nw(e){const n=Vt(),{manager:{internal_fieldValueManager:r},internalPropsWithDefaults:{minutesStep:s,disabled:o,readOnly:i},stateResponse:{state:c,value:d,activeSectionIndex:u,parsedSelectedSections:h,sectionsValueBoundaries:x,localizedDigits:p,timezone:y,sectionOrder:b,clearValue:g,clearActiveSection:S,setSelectedSections:v,updateSectionValue:I}}=e;return Ve(w=>{if(!o)switch(!0){case((w.ctrlKey||w.metaKey)&&String.fromCharCode(w.keyCode)==="A"&&!w.shiftKey&&!w.altKey):{w.preventDefault(),v("all");break}case w.key==="ArrowRight":{if(w.preventDefault(),h==null)v(b.startIndex);else if(h==="all")v(b.endIndex);else{const D=b.neighbors[h].rightIndex;D!==null&&v(D)}break}case w.key==="ArrowLeft":{if(w.preventDefault(),h==null)v(b.endIndex);else if(h==="all")v(b.startIndex);else{const D=b.neighbors[h].leftIndex;D!==null&&v(D)}break}case w.key==="Delete":{if(w.preventDefault(),i)break;h==null||h==="all"?g():S();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(w.key):{if(w.preventDefault(),i||u==null)break;h==="all"&&v(u);const D=c.sections[u],E=gz(n,y,D,w.key,x,p,r.getDateFromSection(d,D),{minutesStep:s});I({section:D,newSectionValue:E,shouldGoToNextSection:!1});break}}})}function mz(e){switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}}function gz(e,n,r,s,o,i,c,d){const u=mz(s),h=s==="Home",x=s==="End",p=r.value===""||h||x,y=()=>{const g=o[r.type]({currentDate:c,format:r.format,contentType:r.contentType}),S=w=>VS(e,w,g,i,r),v=r.type==="minutes"&&(d!=null&&d.minutesStep)?d.minutesStep:1;let I;if(p){if(r.type==="year"&&!x&&!h)return e.formatByString(e.date(void 0,n),r.format);u>0||h?I=g.minimum:I=g.maximum}else I=parseInt(Uo(r.value,i),10)+u*v;return I%v!==0&&((u<0||h)&&(I+=v-(v+I)%v),(u>0||x)&&(I-=I%v)),I>g.maximum?S(g.minimum+(I-g.maximum-1)%(g.maximum-g.minimum+1)):I<g.minimum?S(g.maximum-(g.minimum-I-1)%(g.maximum-g.minimum+1)):S(I)},b=()=>{const g=BS(e,n,r.type,r.format);if(g.length===0)return r.value;if(p)return u>0||h?g[0]:g[g.length-1];const I=((g.indexOf(r.value)+u)%g.length+g.length)%g.length;return g[I]};return r.contentType==="digit"||r.contentType==="digit-with-letter"?y():b()}function bz(e){const{manager:n,focused:r,setFocused:s,domGetters:o,stateResponse:i,applyCharacterEditing:c,internalPropsWithDefaults:d,stateResponse:{parsedSelectedSections:u,sectionOrder:h,state:x,clearValue:p,setCharacterQuery:y,setSelectedSections:b,updateValueFromValueStr:g},internalPropsWithDefaults:{disabled:S=!1,readOnly:v=!1}}=e,I=nw({manager:n,internalPropsWithDefaults:d,stateResponse:i}),w=ya(),D=Ve(R=>{S||!o.isReady()||(s(!0),u==="all"?w.start(0,()=>{const L=document.getSelection().getRangeAt(0).startOffset;if(L===0){b(h.startIndex);return}let B=0,Y=0;for(;Y<L&&B<x.sections.length;){const $=x.sections[B];B+=1,Y+=`${$.startSeparator}${$.value||$.placeholder}${$.endSeparator}`.length}b(B-1)}):r?o.getRoot().contains(R.target)||b(h.startIndex):(s(!0),b(h.startIndex)))}),E=Ve(R=>{if(!o.isReady()||u!=="all")return;const B=R.target.textContent??"";o.getRoot().innerHTML=x.sections.map(Y=>`${Y.startSeparator}${Y.value||Y.placeholder}${Y.endSeparator}`).join(""),Ax({focused:r,domGetters:o,stateResponse:i}),B.length===0||B.charCodeAt(0)===10?(p(),b("all")):B.length>1?g(B):(u==="all"&&b(0),c({keyPressed:B,sectionIndex:0}))}),A=Ve(R=>{if(v||u!=="all"){R.preventDefault();return}const L=R.clipboardData.getData("text");R.preventDefault(),y(null),g(L)}),_=Ve(()=>{if(r||S||!o.isReady())return;const R=Yn(document);s(!0),o.getSectionIndexFromDOMElement(R)!=null||b(h.startIndex)}),O=Ve(()=>{setTimeout(()=>{if(!o.isReady())return;const R=Yn(document);!o.getRoot().contains(R)&&(s(!1),b(null))})});return{onKeyDown:I,onBlur:O,onFocus:_,onClick:D,onPaste:A,onInput:E,contentEditable:u==="all",tabIndex:u===0?-1:0}}function yz(e){const{manager:{internal_fieldValueManager:n},stateResponse:{areAllSectionsEmpty:r,state:s,updateValueFromValueStr:o}}=e,i=Ve(d=>{o(d.target.value)});return{value:m.useMemo(()=>r?"":n.getV7HiddenInputValueFromSections(s.sections),[r,s.sections,n]),onChange:i}}function vz(e){const{stateResponse:{setSelectedSections:n},internalPropsWithDefaults:{disabled:r=!1}}=e,s=Ve(o=>i=>{r||i.isDefaultPrevented()||n(o)});return m.useCallback(o=>({"data-sectionindex":o,onClick:s(o)}),[s])}function jz(e){const n=Vt(),r=xs(),s=wd(),{focused:o,domGetters:i,stateResponse:c,applyCharacterEditing:d,manager:{internal_fieldValueManager:u},stateResponse:{parsedSelectedSections:h,sectionsValueBoundaries:x,state:p,value:y,clearActiveSection:b,setCharacterQuery:g,setSelectedSections:S,updateSectionValue:v,updateValueFromValueStr:I},internalPropsWithDefaults:{disabled:w=!1,readOnly:D=!1}}=e,E=h==="all",A=!E&&!w&&!D,_=Ve($=>{if(!i.isReady())return;const H=p.sections[$];i.getSectionContent($).innerHTML=H.value||H.placeholder,Ax({focused:o,domGetters:i,stateResponse:c})}),O=Ve($=>{if(!i.isReady())return;const H=$.target,X=H.textContent??"",K=i.getSectionIndexFromDOMElement(H),q=p.sections[K];if(D){_(K);return}if(X.length===0){if(q.value===""){_(K);return}const Z=$.nativeEvent.inputType;if(Z==="insertParagraph"||Z==="insertLineBreak"){_(K);return}_(K),b();return}d({keyPressed:X,sectionIndex:K}),_(K)}),R=Ve($=>{$.preventDefault()}),L=Ve($=>{if($.preventDefault(),D||w||typeof h!="number")return;const H=p.sections[h],X=$.clipboardData.getData("text"),K=/^[a-zA-Z]+$/.test(X),q=/^[0-9]+$/.test(X),Z=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(X);H.contentType==="letter"&&K||H.contentType==="digit"&&q||H.contentType==="digit-with-letter"&&Z?(g(null),v({section:H,newSectionValue:X,shouldGoToNextSection:!0})):!K&&!q&&(g(null),I(X))}),B=Ve($=>{$.preventDefault(),$.dataTransfer.dropEffect="none"}),Y=Ve($=>()=>{w||S($)});return m.useCallback(($,H)=>{const X=x[$.type]({currentDate:u.getDateFromSection(y,$),contentType:$.contentType,format:$.format});return{onInput:O,onPaste:L,onMouseUp:R,onDragOver:B,onFocus:Y(H),"aria-labelledby":`${s}-${$.type}`,"aria-readonly":D,"aria-valuenow":wz($,n),"aria-valuemin":X.minimum,"aria-valuemax":X.maximum,"aria-valuetext":$.value?Sz($,n):r.empty,"aria-label":r[$.type],"aria-disabled":w,tabIndex:E||H>0?-1:0,contentEditable:!E&&!w&&!D,role:"spinbutton",id:`${s}-${$.type}`,"data-range-position":$.dateName||void 0,spellCheck:A?!1:void 0,autoCapitalize:A?"off":void 0,autoCorrect:A?"off":void 0,children:$.value||$.placeholder,inputMode:$.contentType==="letter"?"text":"numeric"}},[x,s,E,w,D,A,r,n,O,L,R,B,Y,u,y])}function Sz(e,n){if(e.value)switch(e.type){case"month":{if(e.contentType==="digit")return n.format(n.setMonth(n.date(),Number(e.value)-1),"month");const r=n.parse(e.value,e.format);return r?n.format(r,"month"):void 0}case"day":return e.contentType==="digit"?n.format(n.setDate(n.startOfYear(n.date()),Number(e.value)),"dayOfMonthFull"):e.value;case"weekDay":return;default:return}}function wz(e,n){if(e.value)switch(e.type){case"weekDay":return e.contentType==="letter"?void 0:Number(e.value);case"meridiem":{const r=n.parse(`01:00 ${e.value}`,`${n.formats.hours12h}:${n.formats.minutes} ${e.format}`);return r?n.getHours(r)>=12?1:0:void 0}case"day":return e.contentType==="digit-with-letter"?parseInt(e.value,10):Number(e.value);case"month":{if(e.contentType==="digit")return Number(e.value);const r=n.parse(e.value,e.format);return r?n.getMonth(r)+1:void 0}default:return e.contentType!=="letter"?Number(e.value):void 0}}const Cz=e=>{const{props:n,manager:r,skipContextFieldRefAssignment:s,manager:{valueType:o,internal_useOpenPickerButtonAriaLabel:i}}=e,{internalProps:c,forwardedProps:d}=XS(n,o),u=tw({manager:r,internalProps:c,skipContextFieldRefAssignment:s}),{sectionListRef:h,onBlur:x,onClick:p,onFocus:y,onInput:b,onPaste:g,onKeyDown:S,onClear:v,clearable:I}=d,{disabled:w=!1,readOnly:D=!1,autoFocus:E=!1,focused:A,unstableFieldRef:_}=u,O=m.useRef(null),R=nr(h,O),L=m.useMemo(()=>({isReady:()=>O.current!=null,getRoot:()=>O.current.getRoot(),getSectionContainer:Te=>O.current.getSectionContainer(Te),getSectionContent:Te=>O.current.getSectionContent(Te),getSectionIndexFromDOMElement:Te=>O.current.getSectionIndexFromDOMElement(Te)}),[O]),B=ew({manager:r,internalPropsWithDefaults:u,forwardedProps:d}),{areAllSectionsEmpty:Y,error:$,parsedSelectedSections:H,sectionOrder:X,state:K,value:q,clearValue:Z,setSelectedSections:Q}=B,ie=JS({stateResponse:B}),V=i(q),[ee,Pe]=m.useState(!1);function pe(Te=0){if(w||!O.current||r0(O)!=null)return;const He=Jh(Te,K.sections);Pe(!0),O.current.getSectionContent(He).focus()}const Re=bz({manager:r,internalPropsWithDefaults:u,stateResponse:B,applyCharacterEditing:ie,focused:ee,setFocused:Pe,domGetters:L}),le=yz({manager:r,stateResponse:B}),re=vz({stateResponse:B,internalPropsWithDefaults:u}),je=jz({manager:r,stateResponse:B,applyCharacterEditing:ie,internalPropsWithDefaults:u,domGetters:L,focused:ee}),ke=Ve(Te=>{S==null||S(Te),Re.onKeyDown(Te)}),be=Ve(Te=>{x==null||x(Te),Re.onBlur(Te)}),ae=Ve(Te=>{y==null||y(Te),Re.onFocus(Te)}),oe=Ve(Te=>{Te.isDefaultPrevented()||(p==null||p(Te),Re.onClick(Te))}),se=Ve(Te=>{g==null||g(Te),Re.onPaste(Te)}),xe=Ve(Te=>{b==null||b(Te),Re.onInput(Te)}),de=Ve((Te,...He)=>{Te.preventDefault(),v==null||v(Te,...He),Z(),s0(O)?Q(X.startIndex):pe(0)}),_e=m.useMemo(()=>K.sections.map((Te,He)=>{const ue=je(Te,He);return{container:re(He),content:je(Te,He),before:{children:Te.startSeparator},after:{children:Te.endSeparator,"data-range-position":Te.isEndFormatSeparator?ue["data-range-position"]:void 0}}}),[K.sections,re,je]);return m.useEffect(()=>{if(O.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please add the `enableAccessibleFieldDOMStructure={false}` prop to your Picker or Field component:","","<DatePicker enableAccessibleFieldDOMStructure={false} slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));E&&!w&&O.current&&O.current.getSectionContent(X.startIndex).focus()},[]),Zr(()=>{if(!(!ee||!O.current)){if(H==="all")O.current.getRoot().focus();else if(typeof H=="number"){const Te=O.current.getSectionContent(H);Te&&Te.focus()}}},[H,ee]),Zr(()=>{Ax({focused:ee,domGetters:L,stateResponse:B})}),m.useImperativeHandle(_,()=>({getSections:()=>K.sections,getActiveSectionIndex:()=>r0(O),setSelectedSections:Te=>{if(w||!O.current)return;const He=Jh(Te,K.sections);Pe((He==="all"?0:He)!==null),Q(Te)},focusField:pe,isFieldFocused:()=>s0(O)})),U({},d,Re,{onBlur:be,onClick:oe,onFocus:ae,onInput:xe,onPaste:se,onKeyDown:ke,onClear:de},le,{error:$,clearable:!!(I&&!Y&&!D&&!w),focused:A??ee,sectionListRef:R,enableAccessibleFieldDOMStructure:!0,elements:_e,areAllSectionsEmpty:Y,disabled:w,readOnly:D,autoFocus:E,openPickerAriaLabel:V})};function r0(e){const n=Yn(document);return!n||!e.current||!e.current.getRoot().contains(n)?null:e.current.getSectionIndexFromDOMElement(n)}function s0(e){const n=Yn(document);return!!e.current&&e.current.getRoot().contains(n)}const xa=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),Pz=(e,n,r)=>{let s=0,o=r?1:0;const i=[];for(let c=0;c<e.length;c+=1){const d=e[c],u=Dx(d,r?"input-rtl":"input-ltr",n),h=`${d.startSeparator}${u}${d.endSeparator}`,x=xa(h).length,p=h.length,y=xa(u),b=o+(y===""?0:u.indexOf(y[0]))+d.startSeparator.length,g=b+y.length;i.push(U({},d,{start:s,end:s+x,startInInput:b,endInInput:g})),s+=x,o+=p}return i},Iz=e=>{const n=Is(),r=ya(),s=ya(),{props:o,manager:i,skipContextFieldRefAssignment:c,manager:{valueType:d,internal_valueManager:u,internal_fieldValueManager:h,internal_useOpenPickerButtonAriaLabel:x}}=e,{internalProps:p,forwardedProps:y}=XS(o,d),b=tw({manager:i,internalProps:p,skipContextFieldRefAssignment:c}),{onFocus:g,onClick:S,onPaste:v,onBlur:I,onKeyDown:w,onClear:D,clearable:E,inputRef:A,placeholder:_}=y,{readOnly:O=!1,disabled:R=!1,autoFocus:L=!1,focused:B,unstableFieldRef:Y}=b,$=m.useRef(null),H=nr(A,$),X=ew({manager:i,internalPropsWithDefaults:b,forwardedProps:y}),{activeSectionIndex:K,areAllSectionsEmpty:q,error:Z,localizedDigits:Q,parsedSelectedSections:ie,sectionOrder:V,state:ee,value:Pe,clearValue:pe,clearActiveSection:Re,setCharacterQuery:le,setSelectedSections:re,setTempAndroidValueStr:je,updateSectionValue:ke,updateValueFromValueStr:be,getSectionsFromValue:ae}=X,oe=JS({stateResponse:X}),se=x(Pe),xe=m.useMemo(()=>Pz(ee.sections,Q,n),[ee.sections,Q,n]);function de(){const ut=$.current.selectionStart??0;let gt;ut<=xe[0].startInInput||ut>=xe[xe.length-1].endInInput?gt=1:gt=xe.findIndex(Gt=>Gt.startInInput-Gt.startSeparator.length>ut);const _t=gt===-1?xe.length-1:gt-1;re(_t)}function _e(ut=0){var gt;Yn(document)!==$.current&&((gt=$.current)==null||gt.focus(),re(ut))}const Te=Ve(ut=>{g==null||g(ut);const gt=$.current;r.start(0,()=>{!gt||gt!==$.current||K==null&&(gt.value.length&&Number(gt.selectionEnd)-Number(gt.selectionStart)===gt.value.length?re("all"):de())})}),He=Ve((ut,...gt)=>{ut.isDefaultPrevented()||(S==null||S(ut,...gt),de())}),ue=Ve(ut=>{if(v==null||v(ut),ut.preventDefault(),O||R)return;const gt=ut.clipboardData.getData("text");if(typeof ie=="number"){const _t=ee.sections[ie],Gt=/^[a-zA-Z]+$/.test(gt),En=/^[0-9]+$/.test(gt),hn=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(gt);if(_t.contentType==="letter"&&Gt||_t.contentType==="digit"&&En||_t.contentType==="digit-with-letter"&&hn){le(null),ke({section:_t,newSectionValue:gt,shouldGoToNextSection:!0});return}if(Gt||En)return}le(null),be(gt)}),Se=Ve(ut=>{I==null||I(ut),re(null)}),G=Ve(ut=>{if(O)return;const gt=ut.target.value;if(gt===""){pe();return}const _t=ut.nativeEvent.data,Gt=_t&&_t.length>1,En=Gt?_t:gt,hn=xa(En);if(ie==="all"&&re(K),K==null||Gt){be(Gt?_t:hn);return}let Xn;if(ie==="all"&&hn.length===1)Xn=hn;else{const bn=xa(h.getV6InputValueFromSections(xe,Q,n));let Ct=-1,Tn=-1;for(let rr=0;rr<bn.length;rr+=1)Ct===-1&&bn[rr]!==hn[rr]&&(Ct=rr),Tn===-1&&bn[bn.length-rr-1]!==hn[hn.length-rr-1]&&(Tn=rr);const Vn=xe[K];if(Ct<Vn.start||bn.length-Tn-1>Vn.end)return;const So=hn.length-bn.length+Vn.end-xa(Vn.endSeparator||"").length;Xn=hn.slice(Vn.start+xa(Vn.startSeparator||"").length,So)}if(Xn.length===0){IU()&&je(En),Re();return}oe({keyPressed:Xn,sectionIndex:K})}),N=Ve((ut,...gt)=>{ut.preventDefault(),D==null||D(ut,...gt),pe(),o0($)?re(V.startIndex):_e(0)}),Oe=nw({manager:i,internalPropsWithDefaults:b,stateResponse:X}),Ue=Ve(ut=>{w==null||w(ut),Oe(ut)}),cn=m.useMemo(()=>_!==void 0?_:h.getV6InputValueFromSections(ae(u.emptyValue),Q,n),[_,h,ae,u.emptyValue,Q,n]),$t=m.useMemo(()=>ee.tempValueStrAndroid??h.getV6InputValueFromSections(ee.sections,Q,n),[ee.sections,h,ee.tempValueStrAndroid,Q,n]);m.useEffect(()=>{$.current&&$.current===Yn(document)&&re("all")},[]),Zr(()=>{function ut(){if(!$.current)return;if(ie==null){$.current.scrollLeft&&($.current.scrollLeft=0);return}if($.current!==Yn(document))return;const gt=$.current.scrollTop;if(ie==="all")$.current.select();else{const _t=xe[ie],Gt=_t.type==="empty"?_t.startInInput-_t.startSeparator.length:_t.startInInput,En=_t.type==="empty"?_t.endInInput+_t.endSeparator.length:_t.endInInput;(Gt!==$.current.selectionStart||En!==$.current.selectionEnd)&&$.current===Yn(document)&&$.current.setSelectionRange(Gt,En),s.start(0,()=>{$.current&&$.current===Yn(document)&&$.current.selectionStart===$.current.selectionEnd&&($.current.selectionStart!==Gt||$.current.selectionEnd!==En)&&ut()})}$.current.scrollTop=gt}ut()});const Rt=m.useMemo(()=>K==null||ee.sections[K].contentType==="letter"?"text":"numeric",[K,ee.sections]),Ln=!($.current&&$.current===Yn(document))&&q;return m.useImperativeHandle(Y,()=>({getSections:()=>ee.sections,getActiveSectionIndex:()=>{const ut=$.current.selectionStart??0,gt=$.current.selectionEnd??0;if(ut===0&&gt===0)return null;const _t=ut<=xe[0].startInInput?1:xe.findIndex(Gt=>Gt.startInInput-Gt.startSeparator.length>ut);return _t===-1?xe.length-1:_t-1},setSelectedSections:ut=>re(ut),focusField:_e,isFieldFocused:()=>o0($)})),U({},y,{error:Z,clearable:!!(E&&!q&&!O&&!R),onBlur:Se,onClick:He,onFocus:Te,onPaste:ue,onKeyDown:Ue,onClear:N,inputRef:H,enableAccessibleFieldDOMStructure:!1,placeholder:cn,inputMode:Rt,autoComplete:"off",value:Ln?"":$t,onChange:G,focused:B,disabled:R,readOnly:O,autoFocus:L,openPickerAriaLabel:se})};function o0(e){return e.current===Yn(document)}const Dz=e=>{const n=RS();return(e.props.enableAccessibleFieldDOMStructure??(n==null?void 0:n.enableAccessibleFieldDOMStructure)??!0?Cz:Iz)(e)};function Rx(e){const n=Vt(),r=ES();return m.useMemo(()=>({disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,minDate:zc(n,e.minDate,r.minDate),maxDate:zc(n,e.maxDate,r.maxDate)}),[e.minDate,e.maxDate,e.disableFuture,e.disablePast,n,r])}function Ez(e={}){const{enableAccessibleFieldDOMStructure:n=!0}=e;return m.useMemo(()=>({valueType:"date-time",validator:Ed,internal_valueManager:ur,internal_fieldValueManager:TU,internal_enableAccessibleFieldDOMStructure:n,internal_useApplyDefaultValuesToFieldInternalProps:Az,internal_useOpenPickerButtonAriaLabel:Tz}),[n])}function Tz(e){const n=Vt(),r=xs();return m.useMemo(()=>{const s=n.isValid(e)?n.format(e,"fullDate"):null;return r.openDatePickerDialogue(s)},[e,r,n])}function Az(e){const n=Vt(),r=rw(e),s=m.useMemo(()=>e.ampm??n.is12HourCycleInCurrentLocale(),[e.ampm,n]);return m.useMemo(()=>U({},e,r,{format:e.format??(s?n.formats.keyboardDateTime12h:n.formats.keyboardDateTime24h)}),[e,r,s,n])}function rw(e){const n=Vt(),r=ES();return m.useMemo(()=>({disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,disableIgnoringDatePartForTimeValidation:!!e.minDateTime||!!e.maxDateTime||!!e.disableFuture||!!e.disablePast,minDate:zc(n,e.minDateTime??e.minDate,r.minDate),maxDate:zc(n,e.maxDateTime??e.maxDate,r.maxDate),minTime:e.minDateTime??e.minTime,maxTime:e.maxDateTime??e.maxTime}),[e.minDateTime,e.maxDateTime,e.minTime,e.maxTime,e.minDate,e.maxDate,e.disableFuture,e.disablePast,n,r])}function _x(e){const{ownerState:n}=Dn(),r=Is();return m.useMemo(()=>U({},n,{isFieldDisabled:e.disabled??!1,isFieldReadOnly:e.readOnly??!1,isFieldRequired:e.required??!1,fieldDirection:r?"rtl":"ltr"}),[n,e.disabled,e.readOnly,e.required,r])}function Rz(e){return ln("MuiPickersTextField",e)}un("MuiPickersTextField",["root","focused","disabled","error","required"]);function _z(e){return ln("MuiPickersInputBase",e)}const va=un("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input","activeBar"]);function Oz(e){return ln("MuiPickersSectionList",e)}const vi=un("MuiPickersSectionList",["root","section","sectionContent"]),kz=["slots","slotProps","elements","sectionListRef","classes"],sw=Me("div",{name:"MuiPickersSectionList",slot:"Root"})({direction:"ltr /*! @noflip */",outline:"none"}),ow=Me("span",{name:"MuiPickersSectionList",slot:"Section"})({}),aw=Me("span",{name:"MuiPickersSectionList",slot:"SectionSeparator"})({whiteSpace:"pre"}),iw=Me("span",{name:"MuiPickersSectionList",slot:"SectionContent"})({outline:"none"}),Mz=e=>Jt({root:["root"],section:["section"],sectionContent:["sectionContent"]},Oz,e);function Nz(e){const{slots:n,slotProps:r,element:s,classes:o}=e,{ownerState:i}=Dn(),c=(n==null?void 0:n.section)??ow,d=Nt({elementType:c,externalSlotProps:r==null?void 0:r.section,externalForwardedProps:s.container,className:o.section,ownerState:i}),u=(n==null?void 0:n.sectionContent)??iw,h=Nt({elementType:u,externalSlotProps:r==null?void 0:r.sectionContent,externalForwardedProps:s.content,additionalProps:{suppressContentEditableWarning:!0},className:o.sectionContent,ownerState:i}),x=(n==null?void 0:n.sectionSeparator)??aw,p=Nt({elementType:x,externalSlotProps:r==null?void 0:r.sectionSeparator,externalForwardedProps:s.before,ownerState:U({},i,{separatorPosition:"before"})}),y=Nt({elementType:x,externalSlotProps:r==null?void 0:r.sectionSeparator,externalForwardedProps:s.after,ownerState:U({},i,{separatorPosition:"after"})});return t.jsxs(c,U({},d,{children:[t.jsx(x,U({},p)),t.jsx(u,U({},h)),t.jsx(x,U({},y))]}))}const Lz=m.forwardRef(function(n,r){const s=Ht({props:n,name:"MuiPickersSectionList"}),{slots:o,slotProps:i,elements:c,sectionListRef:d,classes:u}=s,h=at(s,kz),x=Mz(u),{ownerState:p}=Dn(),y=m.useRef(null),b=nr(r,y),g=I=>{if(!y.current)throw new Error(`MUI X: Cannot call sectionListRef.${I} before the mount of the component.`);return y.current};m.useImperativeHandle(d,()=>({getRoot(){return g("getRoot")},getSectionContainer(I){return g("getSectionContainer").querySelector(`.${vi.section}[data-sectionindex="${I}"]`)},getSectionContent(I){return g("getSectionContent").querySelector(`.${vi.section}[data-sectionindex="${I}"] .${vi.sectionContent}`)},getSectionIndexFromDOMElement(I){const w=g("getSectionIndexFromDOMElement");if(I==null||!w.contains(I))return null;let D=null;return I.classList.contains(vi.section)?D=I:I.classList.contains(vi.sectionContent)&&(D=I.parentElement),D==null?null:Number(D.dataset.sectionindex)}}));const S=(o==null?void 0:o.root)??sw,v=Nt({elementType:S,externalSlotProps:i==null?void 0:i.root,externalForwardedProps:h,additionalProps:{ref:b,suppressContentEditableWarning:!0},className:x.root,ownerState:p});return t.jsx(S,U({},v,{children:v.contentEditable?c.map(({content:I,before:w,after:D})=>`${w.children}${I.children}${D.children}`).join(""):t.jsx(m.Fragment,{children:c.map((I,w)=>t.jsx(Nz,{slots:o,slotProps:i,element:I,classes:x},w))})}))}),lw=m.createContext(null),Td=()=>{const e=m.useContext(lw);if(e==null)throw new Error(["MUI X: The `usePickerTextFieldOwnerState` can only be called in components that are used inside a PickerTextField component"].join(`
`));return e},$z=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef","onFocus","onBlur","classes","ownerState"],Fz=e=>Math.round(e*1e5)/1e5,Ad=Me("div",{name:"MuiPickersInputBase",slot:"Root"})(({theme:e})=>U({},e.typography.body1,{color:(e.vars||e).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${Fz(.15/16)}em`,variants:[{props:{isInputInFullWidth:!0},style:{width:"100%"}}]})),Ox=Me(sw,{name:"MuiPickersInputBase",slot:"SectionsContainer"})(({theme:e})=>({padding:"4px 0 5px",fontFamily:e.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{fieldDirection:"rtl"},style:{textAlign:"right /*! @noflip */"}},{props:{inputSize:"small"},style:{paddingTop:1}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0},style:{color:"currentColor",opacity:0}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!1},style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}}]})),Wz=Me(ow,{name:"MuiPickersInputBase",slot:"Section"})(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"inline-block",whiteSpace:"nowrap"})),Bz=Me(iw,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(e,n)=>n.content})(({theme:e})=>({fontFamily:e.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),Vz=Me(aw,{name:"MuiPickersInputBase",slot:"Separator"})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),Uz=Me("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(e,n)=>n.hiddenInput})(U({},_V)),zz=Me("div",{name:"MuiPickersInputBase",slot:"ActiveBar"})(({theme:e,ownerState:n})=>({display:"none",position:"absolute",height:2,bottom:2,borderTopLeftRadius:2,borderTopRightRadius:2,transition:e.transitions.create(["width","left"],{duration:e.transitions.duration.shortest}),backgroundColor:(e.vars||e).palette.primary.main,'[data-active-range-position="start"] &, [data-active-range-position="end"] &':{display:"block"},'[data-active-range-position="start"] &':{left:n.sectionOffsets[0]},'[data-active-range-position="end"] &':{left:n.sectionOffsets[1]}})),Hz=(e,n)=>{const{isFieldFocused:r,isFieldDisabled:s,isFieldReadOnly:o,hasFieldError:i,inputSize:c,isInputInFullWidth:d,inputColor:u,hasStartAdornment:h,hasEndAdornment:x}=n,p={root:["root",r&&!s&&"focused",s&&"disabled",o&&"readOnly",i&&"error",d&&"fullWidth",`color${IV(u)}`,c==="small"&&"inputSizeSmall",h&&"adornedStart",x&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"],activeBar:["activeBar"]};return Jt(p,_z,e)};function a0(e,n,r,s){var o;if(e.content.id){const i=(o=n.current)==null?void 0:o.querySelectorAll(`[data-sectionindex="${r}"] [data-range-position="${s}"]`);if(i)return Array.from(i).reduce((c,d)=>c+d.offsetWidth,0)}return 0}function Gz(e,n){var o,i,c,d,u;let r=0;if(((o=n.current)==null?void 0:o.getAttribute("data-active-range-position"))==="end")for(let h=e.length-1;h>=e.length/2;h-=1)r+=a0(e[h],n,h,"end");else for(let h=0;h<e.length/2;h+=1)r+=a0(e[h],n,h,"start");return{activeBarWidth:r,sectionOffsets:[((c=(i=n.current)==null?void 0:i.querySelector('[data-sectionindex="0"]'))==null?void 0:c.offsetLeft)||0,((u=(d=n.current)==null?void 0:d.querySelector(`[data-sectionindex="${e.length/2}"]`))==null?void 0:u.offsetLeft)||0]}}const kx=m.forwardRef(function(n,r){const s=Ht({props:n,name:"MuiPickersInputBase"}),{elements:o,areAllSectionsEmpty:i,value:c,onChange:d,id:u,endAdornment:h,startAdornment:x,renderSuffix:p,slots:y,slotProps:b,contentEditable:g,tabIndex:S,onInput:v,onPaste:I,onKeyDown:w,name:D,readOnly:E,inputProps:A,inputRef:_,sectionListRef:O,onFocus:R,onBlur:L,classes:B,ownerState:Y}=s,$=at(s,$z),H=Td(),X=m.useRef(null),K=m.useRef(null),q=m.useRef([]),Z=nr(r,X),Q=nr(A==null?void 0:A.ref,_),ie=C0();if(!ie)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const V=Y??H,ee=ae=>{var oe;(oe=ie.onFocus)==null||oe.call(ie,ae),R==null||R(ae)},Pe=ae=>{ee(ae)},pe=ae=>{var oe,se;if(w==null||w(ae),ae.key==="Enter"&&!ae.defaultMuiPrevented){if((oe=X.current)!=null&&oe.dataset.multiInput)return;const xe=(se=X.current)==null?void 0:se.closest("form"),de=xe==null?void 0:xe.querySelector('[type="submit"]');if(!xe||!de)return;ae.preventDefault(),xe.requestSubmit(de)}},Re=ae=>{var oe;(oe=ie.onBlur)==null||oe.call(ie,ae),L==null||L(ae)};m.useEffect(()=>{ie&&ie.setAdornedStart(!!x)},[ie,x]),m.useEffect(()=>{ie&&(i?ie.onEmpty():ie.onFilled())},[ie,i]);const le=Hz(B,V),re=(y==null?void 0:y.root)||Ad,je=Nt({elementType:re,externalSlotProps:b==null?void 0:b.root,externalForwardedProps:$,additionalProps:{"aria-invalid":ie.error,ref:Z},className:le.root,ownerState:V}),ke=(y==null?void 0:y.input)||Ox,be=o.some(ae=>ae.content["data-range-position"]!==void 0);return m.useEffect(()=>{if(!be||!V.isPickerOpen)return;const{activeBarWidth:ae,sectionOffsets:oe}=Gz(o,X);q.current=[oe[0],oe[1]],K.current&&(K.current.style.width=`${ae}px`)},[o,be,V.isPickerOpen]),t.jsxs(re,U({},je,{children:[x,t.jsx(Lz,{sectionListRef:O,elements:o,contentEditable:g,tabIndex:S,className:le.sectionsContainer,onFocus:ee,onBlur:Re,onInput:v,onPaste:I,onKeyDown:pe,slots:{root:ke,section:Wz,sectionContent:Bz,sectionSeparator:Vz},slotProps:{root:U({},b==null?void 0:b.input,{ownerState:V}),sectionContent:{className:va.sectionContent},sectionSeparator:({separatorPosition:ae})=>({className:ae==="before"?va.sectionBefore:va.sectionAfter})}}),h,p?p(U({},ie)):null,t.jsx(Uz,U({name:D,className:le.input,value:c,onChange:d,id:u,"aria-hidden":"true",tabIndex:-1,readOnly:E,required:ie.required,disabled:ie.disabled,onFocus:Pe},A,{ref:Q})),be&&t.jsx(zz,{className:le.activeBar,ref:K,ownerState:{sectionOffsets:q.current}})]}))});function Yz(e){return ln("MuiPickersOutlinedInput",e)}const os=U({},va,un("MuiPickersOutlinedInput",["root","notchedOutline","input"])),qz=["children","className","label","notched","shrink"],Kz=Me("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline"})(({theme:e})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}}),i0=Me("span")(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit"})),Xz=Me("legend",{shouldForwardProp:e=>Hs(e)&&e!=="notched"})(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{inputHasLabel:!1},style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:{inputHasLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{inputHasLabel:!0,notched:!0},style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]}));function Jz(e){const{className:n,label:r,notched:s}=e,o=at(e,qz),i=Td();return t.jsx(Kz,U({"aria-hidden":!0,className:n},o,{ownerState:i,children:t.jsx(Xz,{ownerState:i,notched:s,children:r?t.jsx(i0,{children:r}):t.jsx(i0,{className:"notranslate",children:""})})}))}const Qz=["label","autoFocus","ownerState","classes","notched"],Zz=Me(Ad,{name:"MuiPickersOutlinedInput",slot:"Root"})(({theme:e})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${os.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${os.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${os.focused} .${os.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${os.disabled}`]:{[`& .${os.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled},"*":{color:(e.vars||e).palette.action.disabled}},[`&.${os.error} .${os.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},variants:Object.keys((e.vars??e).palette).filter(r=>{var s;return((s=(e.vars??e).palette[r])==null?void 0:s.main)??!1}).map(r=>({props:{inputColor:r},style:{[`&.${os.focused}:not(.${os.error}) .${os.notchedOutline}`]:{borderColor:(e.vars||e).palette[r].main}}}))}}),e8=Me(Ox,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer"})({padding:"16.5px 0",variants:[{props:{inputSize:"small"},style:{padding:"8.5px 0"}}]}),t8=e=>{const r=Jt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Yz,e);return U({},e,r)},cw=m.forwardRef(function(n,r){const s=Ht({props:n,name:"MuiPickersOutlinedInput"}),{label:o,classes:i,notched:c}=s,d=at(s,Qz),u=C0(),h=t8(i);return t.jsx(kx,U({slots:{root:Zz,input:e8},renderSuffix:x=>t.jsx(Jz,{shrink:!!(c||x.adornedStart||x.focused||x.filled),notched:!!(c||x.adornedStart||x.focused||x.filled),className:h.notchedOutline,label:o!=null&&o!==""&&(u!=null&&u.required)?t.jsxs(m.Fragment,{children:[o,"","*"]}):o})},d,{label:o,classes:h,ref:r}))});cw.muiName="Input";function n8(e){return ln("MuiPickersFilledInput",e)}const Mo=U({},va,un("MuiPickersFilledInput",["root","underline","input"])),r8=["label","autoFocus","disableUnderline","hiddenLabel","classes"],s8=Me(Ad,{name:"MuiPickersFilledInput",slot:"Root",shouldForwardProp:e=>P0(e)&&e!=="disableUnderline"})(({theme:e})=>{const n=e.palette.mode==="light",r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s}},[`&.${Mo.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s},[`&.${Mo.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:i},variants:[...Object.keys((e.vars??e).palette).filter(c=>(e.vars??e).palette[c].main).map(c=>{var d;return{props:{inputColor:c,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(d=(e.vars||e).palette[c])==null?void 0:d.main}`}}}}),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Mo.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Mo.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Mo.disabled}, .${Mo.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Mo.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:{hasStartAdornment:!0},style:{paddingLeft:12}},{props:{hasEndAdornment:!0},style:{paddingRight:12}}]}}),o8=Me(Ox,{name:"MuiPickersFilledInput",slot:"sectionsContainer",shouldForwardProp:e=>P0(e)&&e!=="hiddenLabel"})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{inputSize:"small"},style:{paddingTop:21,paddingBottom:4}},{props:{hasStartAdornment:!0},style:{paddingLeft:0}},{props:{hasEndAdornment:!0},style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,inputSize:"small"},style:{paddingTop:8,paddingBottom:9}}]}),a8=(e,n)=>{const{inputHasUnderline:r}=n,o=Jt({root:["root",r&&"underline"],input:["input"]},n8,e);return U({},e,o)},dw=m.forwardRef(function(n,r){const s=Ht({props:n,name:"MuiPickersFilledInput"}),{label:o,disableUnderline:i=!1,hiddenLabel:c=!1,classes:d}=s,u=at(s,r8),h=Td(),x=U({},h,{inputHasUnderline:!i}),p=a8(d,x);return t.jsx(kx,U({slots:{root:s8,input:o8},slotProps:{root:{disableUnderline:i},input:{hiddenLabel:c}}},u,{label:o,classes:p,ref:r,ownerState:x}))});dw.muiName="Input";function i8(e){return ln("MuiPickersFilledInput",e)}const ji=U({},va,un("MuiPickersInput",["root","underline","input"])),l8=["label","autoFocus","disableUnderline","ownerState","classes"],c8=Me(Ad,{name:"MuiPickersInput",slot:"Root",shouldForwardProp:e=>Hs(e)&&e!=="disableUnderline"})(({theme:e})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((e.vars??e).palette).filter(s=>(e.vars??e).palette[s].main).map(s=>({props:{inputColor:s},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[s].main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ji.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ji.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ji.disabled}, .${ji.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${ji.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),d8=(e,n)=>{const{inputHasUnderline:r}=n,o=Jt({root:["root",!r&&"underline"],input:["input"]},i8,e);return U({},e,o)},uw=m.forwardRef(function(n,r){const s=Ht({props:n,name:"MuiPickersInput"}),{label:o,disableUnderline:i=!1,classes:c}=s,d=at(s,l8),u=Td(),h=U({},u,{inputHasUnderline:!i}),x=d8(c,h);return t.jsx(kx,U({slots:{root:c8},slotProps:{root:{disableUnderline:i}}},d,{label:o,classes:x,ref:r}))});uw.muiName="Input";const u8=["onFocus","onBlur","className","classes","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps","data-active-range-position"],h8={standard:uw,filled:dw,outlined:cw},f8=Me(ft,{name:"MuiPickersTextField",slot:"Root"})({}),p8=(e,n)=>{const{isFieldFocused:r,isFieldDisabled:s,isFieldRequired:o}=n;return Jt({root:["root",r&&!s&&"focused",s&&"disabled",o&&"required"]},Rz,e)},hw=m.forwardRef(function(n,r){const s=Ht({props:n,name:"MuiPickersTextField"}),{onFocus:o,onBlur:i,className:c,classes:d,color:u="primary",disabled:h=!1,error:x=!1,variant:p="outlined",required:y=!1,InputProps:b,inputProps:g,inputRef:S,sectionListRef:v,elements:I,areAllSectionsEmpty:w,onClick:D,onKeyDown:E,onKeyUp:A,onPaste:_,onInput:O,endAdornment:R,startAdornment:L,tabIndex:B,contentEditable:Y,focused:$,value:H,onChange:X,fullWidth:K,id:q,name:Z,helperText:Q,FormHelperTextProps:ie,label:V,InputLabelProps:ee,"data-active-range-position":Pe}=s,pe=at(s,u8),Re=m.useRef(null),le=nr(r,Re),re=wd(q),je=Q&&re?`${re}-helper-text`:void 0,ke=V&&re?`${re}-label`:void 0,be=_x({disabled:s.disabled,required:s.required,readOnly:b==null?void 0:b.readOnly}),ae=m.useMemo(()=>U({},be,{isFieldValueEmpty:w,isFieldFocused:$??!1,hasFieldError:x??!1,inputSize:s.size??"medium",inputColor:u??"primary",isInputInFullWidth:K??!1,hasStartAdornment:!!(L??(b==null?void 0:b.startAdornment)),hasEndAdornment:!!(R??(b==null?void 0:b.endAdornment)),inputHasLabel:!!V}),[be,w,$,x,s.size,u,K,L,R,b==null?void 0:b.startAdornment,b==null?void 0:b.endAdornment,V]),oe=p8(d,ae),se=h8[p],xe={};return p==="outlined"&&(ee&&typeof ee.shrink<"u"&&(xe.notched=ee.shrink),xe.label=V),t.jsx(lw.Provider,{value:ae,children:t.jsxs(f8,U({className:nn(oe.root,c),ref:le,focused:$,disabled:h,variant:p,error:x,color:u,fullWidth:K,required:y,ownerState:ae},pe,{children:[V!=null&&V!==""&&t.jsx(wt,U({htmlFor:re,id:ke},ee,{children:V})),t.jsx(se,U({elements:I,areAllSectionsEmpty:w,onClick:D,onKeyDown:E,onKeyUp:A,onInput:O,onPaste:_,onFocus:o,onBlur:i,endAdornment:R,startAdornment:L,tabIndex:B,contentEditable:Y,value:H,onChange:X,id:re,fullWidth:K,inputProps:g,inputRef:S,sectionListRef:v,label:V,name:Z,role:"group","aria-labelledby":ke,"aria-describedby":je,"aria-live":je?"polite":void 0,"data-active-range-position":Pe},xe,b)),Q&&t.jsx(QT,U({id:je},ie,{children:Q}))]}))})}),x8=["enableAccessibleFieldDOMStructure"],m8=["InputProps","readOnly","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],g8=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],b8=["ownerState"],y8=["ownerState"],v8=["ownerState"],j8=["ownerState"],S8=["InputProps","inputProps"],w8=e=>{let{enableAccessibleFieldDOMStructure:n}=e,r=at(e,x8);if(n){const{InputProps:v,readOnly:I,onClear:w,clearable:D,clearButtonPosition:E,openPickerButtonPosition:A,openPickerAriaLabel:_}=r,O=at(r,m8);return{clearable:D,onClear:w,clearButtonPosition:E,openPickerButtonPosition:A,openPickerAriaLabel:_,textFieldProps:U({},O,{InputProps:U({},v??{},{readOnly:I})})}}const{onPaste:s,onKeyDown:o,inputMode:i,readOnly:c,InputProps:d,inputProps:u,inputRef:h,onClear:x,clearable:p,clearButtonPosition:y,openPickerButtonPosition:b,openPickerAriaLabel:g}=r,S=at(r,g8);return{clearable:p,onClear:x,clearButtonPosition:y,openPickerButtonPosition:b,openPickerAriaLabel:g,textFieldProps:U({},S,{InputProps:U({},d??{},{readOnly:c}),inputProps:U({},u??{},{inputMode:i,onPaste:s,onKeyDown:o,ref:h})})}},Mx=m.createContext({slots:{},slotProps:{},inputRef:void 0});function C8(e){var ie,V;const{slots:n,slotProps:r,fieldResponse:s,defaultOpenPickerIcon:o}=e,i=xs(),c=Ex(),d=m.useContext(Mx),{textFieldProps:u,onClear:h,clearable:x,openPickerAriaLabel:p,clearButtonPosition:y="end",openPickerButtonPosition:b="end"}=w8(s),g=_x(u),S=Ve(ee=>{ee.preventDefault(),c==null||c.setOpen(Pe=>!Pe)}),v=c?c.triggerStatus:"hidden",I=x?y:null,w=v!=="hidden"?b:null,D=(n==null?void 0:n.textField)??d.slots.textField??(s.enableAccessibleFieldDOMStructure===!1?Ze:hw),E=(n==null?void 0:n.inputAdornment)??d.slots.inputAdornment??Qr,A=Nt({elementType:E,externalSlotProps:cc(d.slotProps.inputAdornment,r==null?void 0:r.inputAdornment),additionalProps:{position:"start"},ownerState:U({},g,{position:"start"})}),_=at(A,b8),O=Nt({elementType:E,externalSlotProps:r==null?void 0:r.inputAdornment,additionalProps:{position:"end"},ownerState:U({},g,{position:"end"})}),R=at(O,y8),L=d.slots.openPickerButton??Fe,B=Nt({elementType:L,externalSlotProps:d.slotProps.openPickerButton,additionalProps:{disabled:v==="disabled",onClick:S,"aria-label":p,edge:u.variant!=="standard"?w:!1},ownerState:g}),Y=at(B,v8),$=d.slots.openPickerIcon??o,H=Nt({elementType:$,externalSlotProps:d.slotProps.openPickerIcon,ownerState:g}),X=(n==null?void 0:n.clearButton)??d.slots.clearButton??Fe,K=Nt({elementType:X,externalSlotProps:cc(d.slotProps.clearButton,r==null?void 0:r.clearButton),className:"clearButton",additionalProps:{title:i.fieldClearLabel,tabIndex:-1,onClick:h,disabled:s.disabled||s.readOnly,edge:u.variant!=="standard"&&I!==w?I:!1},ownerState:g}),q=at(K,j8),Z=(n==null?void 0:n.clearIcon)??d.slots.clearIcon??KV,Q=Nt({elementType:Z,externalSlotProps:cc(d.slotProps.clearIcon,r==null?void 0:r.clearIcon),additionalProps:{fontSize:"small"},ownerState:g});return u.ref=nr(u.ref,c==null?void 0:c.rootRef),u.InputProps||(u.InputProps={}),c&&(u.InputProps.ref=c.triggerRef),!((ie=u.InputProps)!=null&&ie.startAdornment)&&(I==="start"||w==="start")&&(u.InputProps.startAdornment=t.jsxs(E,U({},_,{children:[w==="start"&&t.jsx(L,U({},Y,{children:t.jsx($,U({},H))})),I==="start"&&t.jsx(X,U({},q,{children:t.jsx(Z,U({},Q))}))]}))),!((V=u.InputProps)!=null&&V.endAdornment)&&(I==="end"||w==="end")&&(u.InputProps.endAdornment=t.jsxs(E,U({},R,{children:[I==="end"&&t.jsx(X,U({},q,{children:t.jsx(Z,U({},Q))})),w==="end"&&t.jsx(L,U({},Y,{children:t.jsx($,U({},H))}))]}))),I!=null&&(u.sx=[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(u.sx)?u.sx:[u.sx]]),t.jsx(D,U({},u))}function cc(e,n){return e?n?r=>U({},Vi(n,r),Vi(e,r)):e:n}function P8(e){const{ref:n,externalForwardedProps:r,slotProps:s}=e,o=m.useContext(Mx),i=Ex(),c=_x(r),{InputProps:d,inputProps:u}=r,h=at(r,S8),x=Nt({elementType:hw,externalSlotProps:cc(o.slotProps.textField,s==null?void 0:s.textField),externalForwardedProps:h,additionalProps:{ref:n,sx:i==null?void 0:i.rootSx,label:i==null?void 0:i.label,name:i==null?void 0:i.name,className:i==null?void 0:i.rootClassName,inputRef:o.inputRef},ownerState:c});return x.inputProps=U({},u,x.inputProps),x.InputProps=U({},d,x.InputProps),x}function fw(e){const{slots:n={},slotProps:r={},inputRef:s,children:o}=e,i=m.useMemo(()=>({inputRef:s,slots:{openPickerButton:n.openPickerButton,openPickerIcon:n.openPickerIcon,textField:n.textField,inputAdornment:n.inputAdornment,clearIcon:n.clearIcon,clearButton:n.clearButton},slotProps:{openPickerButton:r.openPickerButton,openPickerIcon:r.openPickerIcon,textField:r.textField,inputAdornment:r.inputAdornment,clearIcon:r.clearIcon,clearButton:r.clearButton}}),[s,n.openPickerButton,n.openPickerIcon,n.textField,n.inputAdornment,n.clearIcon,n.clearButton,r.openPickerButton,r.openPickerIcon,r.textField,r.inputAdornment,r.clearIcon,r.clearButton]);return t.jsx(Mx.Provider,{value:i,children:o})}const I8=e=>{const n=Ez(e);return Dz({manager:n,props:e})},D8=["slots","slotProps"],pw=m.forwardRef(function(n,r){const s=Ht({props:n,name:"MuiDateTimeField"}),{slots:o,slotProps:i}=s,c=at(s,D8),d=P8({slotProps:i,ref:r,externalForwardedProps:c}),u=I8(d);return t.jsx(C8,{slots:o,slotProps:i,fieldResponse:u,defaultOpenPickerIcon:GV})}),xw=({shouldDisableDate:e,shouldDisableMonth:n,shouldDisableYear:r,minDate:s,maxDate:o,disableFuture:i,disablePast:c,timezone:d})=>{const u=Yo();return m.useCallback(h=>Tx({adapter:u,value:h,timezone:d,props:{shouldDisableDate:e,shouldDisableMonth:n,shouldDisableYear:r,minDate:s,maxDate:o,disableFuture:i,disablePast:c}})!==null,[u,e,n,r,s,o,i,c,d])},E8=(e,n)=>(r,s)=>{switch(s.type){case"setVisibleDate":return U({},r,{slideDirection:s.direction,currentMonth:s.month,isMonthSwitchingAnimating:!n.isSameMonth(s.month,r.currentMonth)&&!e&&!s.skipAnimation,focusedDay:s.focusedDay});case"changeMonthTimezone":{const o=s.newTimezone;if(n.getTimezone(r.currentMonth)===o)return r;let i=n.setTimezone(r.currentMonth,o);return n.getMonth(i)!==n.getMonth(r.currentMonth)&&(i=n.setMonth(i,n.getMonth(r.currentMonth))),U({},r,{currentMonth:i})}case"finishMonthSwitchingAnimation":return U({},r,{isMonthSwitchingAnimating:!1});default:throw new Error("missing support")}},T8=e=>{const{value:n,referenceDate:r,disableFuture:s,disablePast:o,maxDate:i,minDate:c,onMonthChange:d,onYearChange:u,reduceAnimations:h,shouldDisableDate:x,timezone:p,getCurrentMonthFromVisibleDate:y}=e,b=Vt(),g=m.useRef(E8(!!h,b)).current,S=m.useMemo(()=>ur.getInitialReferenceValue({value:n,utils:b,timezone:p,props:e,referenceDate:r,granularity:ls.day}),[r,p]),[v,I]=m.useReducer(g,{isMonthSwitchingAnimating:!1,focusedDay:S,currentMonth:b.startOfMonth(S),slideDirection:"left"}),w=xw({shouldDisableDate:x,minDate:c,maxDate:i,disableFuture:s,disablePast:o,timezone:p});m.useEffect(()=>{I({type:"changeMonthTimezone",newTimezone:b.getTimezone(S)})},[S,b]);const D=Ve(({target:A,reason:_})=>{if(_==="cell-interaction"&&v.focusedDay!=null&&b.isSameDay(A,v.focusedDay))return;const O=_==="cell-interaction";let R,L;if(_==="cell-interaction")R=y(A,v.currentMonth),L=A;else if(R=b.isSameMonth(A,v.currentMonth)?v.currentMonth:b.startOfMonth(A),L=A,w(L)){const $=b.startOfMonth(A),H=b.endOfMonth(A);L=Hi({utils:b,date:L,minDate:b.isBefore(c,$)?$:c,maxDate:b.isAfter(i,H)?H:i,disablePast:o,disableFuture:s,isDateDisabled:w,timezone:p})}const B=!b.isSameMonth(v.currentMonth,R),Y=!b.isSameYear(v.currentMonth,R);B&&(d==null||d(R)),Y&&(u==null||u(b.startOfYear(R))),I({type:"setVisibleDate",month:R,direction:b.isAfterDay(R,v.currentMonth)?"left":"right",focusedDay:v.focusedDay!=null&&L!=null&&b.isSameDay(L,v.focusedDay)?v.focusedDay:L,skipAnimation:O})}),E=m.useCallback(()=>{I({type:"finishMonthSwitchingAnimation"})},[]);return{referenceDate:S,calendarState:v,setVisibleDate:D,isDateDisabled:w,onMonthSwitchingAnimationEnd:E}},A8=e=>ln("MuiPickersFadeTransitionGroup",e);un("MuiPickersFadeTransitionGroup",["root"]);const R8=["children"],_8=e=>Jt({root:["root"]},A8,e),O8=Me(I0,{name:"MuiPickersFadeTransitionGroup",slot:"Root"})({display:"block",position:"relative"});function mw(e){const n=Ht({props:e,name:"MuiPickersFadeTransitionGroup"}),{className:r,reduceAnimations:s,transKey:o,classes:i}=n,{children:c}=n,d=at(n,R8),u=_8(i),h=mn();return s?c:t.jsx(O8,{className:nn(u.root,r),ownerState:d,children:t.jsx(Jc,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:h.transitions.duration.enteringScreen,enter:h.transitions.duration.enteringScreen,exit:0},children:c},o)})}const k8=e=>ln("MuiPickersSlideTransition",e),Yr=un("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),M8=["children","className","reduceAnimations","slideDirection","transKey","classes"],N8=(e,n)=>{const{slideDirection:r}=n,s={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${r}`],exitActive:[`slideExitActiveLeft-${r}`]};return Jt(s,k8,e)},L8=Me(I0,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,n)=>[n.root,{[`.${Yr["slideEnter-left"]}`]:n["slideEnter-left"]},{[`.${Yr["slideEnter-right"]}`]:n["slideEnter-right"]},{[`.${Yr.slideEnterActive}`]:n.slideEnterActive},{[`.${Yr.slideExit}`]:n.slideExit},{[`.${Yr["slideExitActiveLeft-left"]}`]:n["slideExitActiveLeft-left"]},{[`.${Yr["slideExitActiveLeft-right"]}`]:n["slideExitActiveLeft-right"]}]})(({theme:e})=>{const n=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Yr["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Yr["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Yr.slideEnterActive}`]:{transform:"translate(0%)",transition:n},[`& .${Yr.slideExit}`]:{transform:"translate(0%)"},[`& .${Yr["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:n,zIndex:0},[`& .${Yr["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:n,zIndex:0}}});function $8(e){const n=Ht({props:e,name:"MuiPickersSlideTransition"}),{children:r,className:s,reduceAnimations:o,slideDirection:i,transKey:c,classes:d}=n,u=at(n,M8),{ownerState:h}=Dn(),x=U({},h,{slideDirection:i}),p=N8(d,x),y=mn();if(o)return t.jsx("div",{className:nn(p.root,s),children:r});const b={exit:p.exit,enterActive:p.enterActive,enter:p.enter,exitActive:p.exitActive};return t.jsx(L8,{className:nn(p.root,s),childFactory:g=>m.cloneElement(g,{classNames:b}),role:"presentation",ownerState:x,children:t.jsx(ZT,U({mountOnEnter:!0,unmountOnExit:!0,timeout:y.transitions.duration.complex,classNames:b},u,{children:r}),c)})}const F8=e=>ln("MuiDayCalendar",e);un("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const W8=["parentProps","day","focusedDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],B8=["ownerState"],V8=e=>Jt({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},F8,e),gw=(zi+Id*2)*6,U8=Me("div",{name:"MuiDayCalendar",slot:"Root"})({}),z8=Me("div",{name:"MuiDayCalendar",slot:"Header"})({display:"flex",justifyContent:"center",alignItems:"center"}),H8=Me(j,{name:"MuiDayCalendar",slot:"WeekDayLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),G8=Me(j,{name:"MuiDayCalendar",slot:"WeekNumberLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.disabled})),Y8=Me(j,{name:"MuiDayCalendar",slot:"WeekNumber"})(({theme:e})=>U({},e.typography.caption,{width:zi,height:zi,padding:0,margin:`0 ${Id}px`,color:(e.vars||e).palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),q8=Me("div",{name:"MuiDayCalendar",slot:"LoadingContainer"})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:gw}),K8=Me($8,{name:"MuiDayCalendar",slot:"SlideTransition"})({minHeight:gw}),X8=Me("div",{name:"MuiDayCalendar",slot:"MonthContainer"})({overflow:"hidden"}),J8=Me("div",{name:"MuiDayCalendar",slot:"WeekContainer"})({margin:`${Id}px 0`,display:"flex",justifyContent:"center"});function Q8(e){let{parentProps:n,day:r,focusedDay:s,selectedDays:o,isDateDisabled:i,currentMonthNumber:c,isViewFocused:d}=e,u=at(e,W8);const{disabled:h,disableHighlightToday:x,isMonthSwitchingAnimating:p,showDaysOutsideCurrentMonth:y,slots:b,slotProps:g,timezone:S}=n,v=Vt(),I=Ga(S),w=s!=null&&v.isSameDay(r,s),D=d&&w,E=o.some(X=>v.isSameDay(X,r)),A=v.isSameDay(r,I),_=m.useMemo(()=>h||i(r),[h,i,r]),O=m.useMemo(()=>v.getMonth(r)!==c,[v,r,c]),R=HS({day:r,selected:E,disabled:_,today:A,outsideCurrentMonth:O,disableMargin:void 0,disableHighlightToday:x,showDaysOutsideCurrentMonth:y}),L=(b==null?void 0:b.day)??oz,B=Nt({elementType:L,externalSlotProps:g==null?void 0:g.day,additionalProps:U({disableHighlightToday:x,showDaysOutsideCurrentMonth:y,role:"gridcell",isAnimating:p,"data-timestamp":v.toJsDate(r).valueOf()},u),ownerState:U({},R,{day:r,isDayDisabled:_,isDaySelected:E})}),Y=at(B,B8),$=m.useMemo(()=>{const X=v.startOfMonth(v.setMonth(r,c));return y?v.isSameDay(r,v.startOfWeek(X)):v.isSameDay(r,X)},[c,r,y,v]),H=m.useMemo(()=>{const X=v.endOfMonth(v.setMonth(r,c));return y?v.isSameDay(r,v.endOfWeek(X)):v.isSameDay(r,X)},[c,r,y,v]);return t.jsx(L,U({},Y,{day:r,disabled:_,autoFocus:!O&&D,today:A,outsideCurrentMonth:O,isFirstVisibleCell:$,isLastVisibleCell:H,selected:E,tabIndex:w?0:-1,"aria-selected":E,"aria-current":A?"date":void 0}))}function Z8(e){const n=Ht({props:e,name:"MuiDayCalendar"}),r=Vt(),{onFocusedDayChange:s,className:o,classes:i,currentMonth:c,selectedDays:d,focusedDay:u,loading:h,onSelectedDaysChange:x,onMonthSwitchingAnimationEnd:p,readOnly:y,reduceAnimations:b,renderLoading:g=()=>t.jsx("span",{children:"..."}),slideDirection:S,TransitionProps:v,disablePast:I,disableFuture:w,minDate:D,maxDate:E,shouldDisableDate:A,shouldDisableMonth:_,shouldDisableYear:O,dayOfWeekFormatter:R=oe=>r.format(oe,"weekdayShort").charAt(0).toUpperCase(),hasFocus:L,onFocusedViewChange:B,gridLabelId:Y,displayWeekNumber:$,fixedWeekNumber:H,timezone:X}=n,K=Ga(X),q=V8(i),Z=Is(),Q=xw({shouldDisableDate:A,shouldDisableMonth:_,shouldDisableYear:O,minDate:D,maxDate:E,disablePast:I,disableFuture:w,timezone:X}),ie=xs(),V=Ve(oe=>{y||x(oe)}),ee=oe=>{Q(oe)||(s(oe),B==null||B(!0))},Pe=Ve((oe,se)=>{switch(oe.key){case"ArrowUp":ee(r.addDays(se,-7)),oe.preventDefault();break;case"ArrowDown":ee(r.addDays(se,7)),oe.preventDefault();break;case"ArrowLeft":{const xe=r.addDays(se,Z?1:-1),de=r.addMonths(se,Z?1:-1),_e=Hi({utils:r,date:xe,minDate:Z?xe:r.startOfMonth(de),maxDate:Z?r.endOfMonth(de):xe,isDateDisabled:Q,timezone:X});ee(_e||xe),oe.preventDefault();break}case"ArrowRight":{const xe=r.addDays(se,Z?-1:1),de=r.addMonths(se,Z?-1:1),_e=Hi({utils:r,date:xe,minDate:Z?r.startOfMonth(de):xe,maxDate:Z?xe:r.endOfMonth(de),isDateDisabled:Q,timezone:X});ee(_e||xe),oe.preventDefault();break}case"Home":ee(r.startOfWeek(se)),oe.preventDefault();break;case"End":ee(r.endOfWeek(se)),oe.preventDefault();break;case"PageUp":ee(r.addMonths(se,1)),oe.preventDefault();break;case"PageDown":ee(r.addMonths(se,-1)),oe.preventDefault();break}}),pe=Ve((oe,se)=>ee(se)),Re=Ve((oe,se)=>{u!=null&&r.isSameDay(u,se)&&(B==null||B(!1))}),le=r.getMonth(c),re=r.getYear(c),je=m.useMemo(()=>d.filter(oe=>!!oe).map(oe=>r.startOfDay(oe)),[r,d]),ke=`${re}-${le}`,be=m.useMemo(()=>m.createRef(),[ke]),ae=m.useMemo(()=>{const oe=r.getWeekArray(c);let se=r.addMonths(c,1);for(;H&&oe.length<H;){const xe=r.getWeekArray(se),de=r.isSameDay(oe[oe.length-1][0],xe[0][0]);xe.slice(de?1:0).forEach(_e=>{oe.length<H&&oe.push(_e)}),se=r.addMonths(se,1)}return oe},[c,H,r]);return t.jsxs(U8,{role:"grid","aria-labelledby":Y,className:q.root,children:[t.jsxs(z8,{role:"row",className:q.header,children:[$&&t.jsx(G8,{variant:"caption",role:"columnheader","aria-label":ie.calendarWeekNumberHeaderLabel,className:q.weekNumberLabel,children:ie.calendarWeekNumberHeaderText}),xU(r,K).map((oe,se)=>t.jsx(H8,{variant:"caption",role:"columnheader","aria-label":r.format(oe,"weekday"),className:q.weekDayLabel,children:R(oe)},se.toString()))]}),h?t.jsx(q8,{className:q.loadingContainer,children:g()}):t.jsx(K8,U({transKey:ke,onExited:p,reduceAnimations:b,slideDirection:S,className:nn(o,q.slideTransition)},v,{nodeRef:be,children:t.jsx(X8,{ref:be,role:"rowgroup",className:q.monthContainer,children:ae.map((oe,se)=>t.jsxs(J8,{role:"row",className:q.weekContainer,"aria-rowindex":se+1,children:[$&&t.jsx(Y8,{className:q.weekNumber,role:"rowheader","aria-label":ie.calendarWeekNumberAriaLabelText(r.getWeekNumber(oe[0])),children:ie.calendarWeekNumberText(r.getWeekNumber(oe[0]))}),oe.map((xe,de)=>t.jsx(Q8,{parentProps:n,day:xe,selectedDays:je,isViewFocused:L,focusedDay:u,onKeyDown:Pe,onFocus:pe,onBlur:Re,onDaySelect:V,isDateDisabled:Q,currentMonthNumber:le,"aria-colindex":de+1},xe.toString()))]},`week-${oe[0]}`))})}))]})}function bw(e){return ln("MuiMonthCalendar",e)}const rc=un("MuiMonthCalendar",["root","button","disabled","selected"]),e9=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],t9=(e,n)=>{const r={button:["button",n.isMonthDisabled&&"disabled",n.isMonthSelected&&"selected"]};return Jt(r,bw,e)},n9=Me("button",{name:"MuiMonthCalendar",slot:"Button",overridesResolver:(e,n)=>[n.button,{[`&.${rc.disabled}`]:n.disabled},{[`&.${rc.selected}`]:n.selected}]})(({theme:e})=>U({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:fe(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:fe(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${rc.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${rc.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),r9=m.memo(function(n){const{autoFocus:r,classes:s,disabled:o,selected:i,value:c,onClick:d,onKeyDown:u,onFocus:h,onBlur:x,slots:p,slotProps:y}=n,b=at(n,e9),g=m.useRef(null),{ownerState:S}=Dn(),v=U({},S,{isMonthDisabled:o,isMonthSelected:i}),I=t9(s,v);Zr(()=>{var E;r&&((E=g.current)==null||E.focus())},[r]);const w=(p==null?void 0:p.monthButton)??n9,D=Nt({elementType:w,externalSlotProps:y==null?void 0:y.monthButton,externalForwardedProps:b,additionalProps:{disabled:o,ref:g,type:"button",role:"radio","aria-checked":i,onClick:E=>d(E,c),onKeyDown:E=>u(E,c),onFocus:E=>h(E,c),onBlur:E=>x(E,c)},ownerState:v,className:I.button});return t.jsx(w,U({},D))}),s9=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],o9=e=>Jt({root:["root"]},bw,e);function a9(e,n){const r=Ht({props:e,name:n}),s=Rx(r);return U({},r,s,{monthsPerRow:r.monthsPerRow??3})}const i9=Me("div",{name:"MuiMonthCalendar",slot:"Root",shouldForwardProp:e=>Hs(e)&&e!=="monthsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:16,padding:"8px 0",width:La,boxSizing:"border-box",variants:[{props:{monthsPerRow:3},style:{columnGap:24}},{props:{monthsPerRow:4},style:{columnGap:0}}]}),l9=m.forwardRef(function(n,r){const s=a9(n,"MuiMonthCalendar"),{autoFocus:o,className:i,classes:c,value:d,defaultValue:u,referenceDate:h,disabled:x,disableFuture:p,disablePast:y,maxDate:b,minDate:g,onChange:S,shouldDisableMonth:v,readOnly:I,onMonthFocus:w,hasFocus:D,onFocusedViewChange:E,monthsPerRow:A,timezone:_,gridLabelId:O,slots:R,slotProps:L}=s,B=at(s,s9),{value:Y,handleValueChange:$,timezone:H}=qo({name:"MonthCalendar",timezone:_,value:d,defaultValue:u,referenceDate:h,onChange:S,valueManager:ur}),X=Ga(H),K=Is(),q=Vt(),{ownerState:Z}=Dn(),Q=m.useMemo(()=>ur.getInitialReferenceValue({value:Y,utils:q,props:s,timezone:H,referenceDate:h,granularity:ls.month}),[]),ie=o9(c),V=m.useMemo(()=>q.getMonth(X),[q,X]),ee=m.useMemo(()=>Y!=null?q.getMonth(Y):null,[Y,q]),[Pe,pe]=m.useState(()=>ee||q.getMonth(Q)),[Re,le]=Na({name:"MonthCalendar",state:"hasFocus",controlled:D,default:o??!1}),re=Ve(xe=>{le(xe),E&&E(xe)}),je=m.useCallback(xe=>{const de=q.startOfMonth(y&&q.isAfter(X,g)?X:g),_e=q.startOfMonth(p&&q.isBefore(X,b)?X:b),Te=q.startOfMonth(xe);return q.isBefore(Te,de)||q.isAfter(Te,_e)?!0:v?v(Te):!1},[p,y,b,g,X,v,q]),ke=Ve((xe,de)=>{if(I)return;const _e=q.setMonth(Y??Q,de);$(_e)}),be=Ve(xe=>{je(q.setMonth(Y??Q,xe))||(pe(xe),re(!0),w&&w(xe))});m.useEffect(()=>{pe(xe=>ee!==null&&xe!==ee?ee:xe)},[ee]);const ae=Ve((xe,de)=>{switch(xe.key){case"ArrowUp":be((12+de-3)%12),xe.preventDefault();break;case"ArrowDown":be((12+de+3)%12),xe.preventDefault();break;case"ArrowLeft":be((12+de+(K?1:-1))%12),xe.preventDefault();break;case"ArrowRight":be((12+de+(K?-1:1))%12),xe.preventDefault();break}}),oe=Ve((xe,de)=>{be(de)}),se=Ve((xe,de)=>{Pe===de&&re(!1)});return t.jsx(i9,U({ref:r,className:nn(ie.root,i),ownerState:Z,role:"radiogroup","aria-labelledby":O,monthsPerRow:A},B,{children:wx(q,Y??Q).map(xe=>{const de=q.getMonth(xe),_e=q.format(xe,"monthShort"),Te=q.format(xe,"month"),He=de===ee,ue=x||je(xe);return t.jsx(r9,{selected:He,value:de,onClick:ke,onKeyDown:ae,autoFocus:Re&&de===Pe,disabled:ue,tabIndex:de===Pe&&!ue?0:-1,onFocus:oe,onBlur:se,"aria-current":V===de?"date":void 0,"aria-label":Te,slots:R,slotProps:L,classes:c,children:_e},_e)})}))});function yw(e){return ln("MuiYearCalendar",e)}const sc=un("MuiYearCalendar",["root","button","disabled","selected"]),c9=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],d9=(e,n)=>{const r={button:["button",n.isYearDisabled&&"disabled",n.isYearSelected&&"selected"]};return Jt(r,yw,e)},u9=Me("button",{name:"MuiYearCalendar",slot:"Button",overridesResolver:(e,n)=>[n.button,{[`&.${sc.disabled}`]:n.disabled},{[`&.${sc.selected}`]:n.selected}]})(({theme:e})=>U({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:fe(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:fe(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${sc.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${sc.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),h9=m.memo(function(n){const{autoFocus:r,classes:s,disabled:o,selected:i,value:c,onClick:d,onKeyDown:u,onFocus:h,onBlur:x,slots:p,slotProps:y}=n,b=at(n,c9),g=m.useRef(null),{ownerState:S}=Dn(),v=U({},S,{isYearDisabled:o,isYearSelected:i}),I=d9(s,v);Zr(()=>{var E;r&&((E=g.current)==null||E.focus())},[r]);const w=(p==null?void 0:p.yearButton)??u9,D=Nt({elementType:w,externalSlotProps:y==null?void 0:y.yearButton,externalForwardedProps:b,additionalProps:{disabled:o,ref:g,type:"button",role:"radio","aria-checked":i,onClick:E=>d(E,c),onKeyDown:E=>u(E,c),onFocus:E=>h(E,c),onBlur:E=>x(E,c)},ownerState:v,className:I.button});return t.jsx(w,U({},D))}),f9=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"],p9=e=>Jt({root:["root"]},yw,e);function x9(e,n){const r=Ht({props:e,name:n}),s=Rx(r);return U({},r,s,{yearsPerRow:r.yearsPerRow??3,yearsOrder:r.yearsOrder??"asc"})}const m9=Me("div",{name:"MuiYearCalendar",slot:"Root",shouldForwardProp:e=>Hs(e)&&e!=="yearsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:12,padding:"6px 0",overflowY:"auto",height:"100%",width:La,maxHeight:hU,boxSizing:"border-box",position:"relative",variants:[{props:{yearsPerRow:3},style:{columnGap:24}},{props:{yearsPerRow:4},style:{columnGap:0,padding:"0 2px"}}]}),g9=Me("div",{name:"MuiYearCalendar",slot:"ButtonFiller"})({height:36,width:72}),b9=m.forwardRef(function(n,r){const s=x9(n,"MuiYearCalendar"),{autoFocus:o,className:i,classes:c,value:d,defaultValue:u,referenceDate:h,disabled:x,disableFuture:p,disablePast:y,maxDate:b,minDate:g,onChange:S,readOnly:v,shouldDisableYear:I,onYearFocus:w,hasFocus:D,onFocusedViewChange:E,yearsOrder:A,yearsPerRow:_,timezone:O,gridLabelId:R,slots:L,slotProps:B}=s,Y=at(s,f9),{value:$,handleValueChange:H,timezone:X}=qo({name:"YearCalendar",timezone:O,value:d,defaultValue:u,referenceDate:h,onChange:S,valueManager:ur}),K=Ga(X),q=Is(),Z=Vt(),{ownerState:Q}=Dn(),ie=m.useMemo(()=>ur.getInitialReferenceValue({value:$,utils:Z,props:s,timezone:X,referenceDate:h,granularity:ls.year}),[]),V=p9(c),ee=m.useMemo(()=>Z.getYear(K),[Z,K]),Pe=m.useMemo(()=>$!=null?Z.getYear($):null,[$,Z]),[pe,Re]=m.useState(()=>Pe||Z.getYear(ie)),[le,re]=Na({name:"YearCalendar",state:"hasFocus",controlled:D,default:o??!1}),je=Ve(G=>{re(G),E&&E(G)}),ke=m.useCallback(G=>{if(y&&Z.isBeforeYear(G,K)||p&&Z.isAfterYear(G,K)||g&&Z.isBeforeYear(G,g)||b&&Z.isAfterYear(G,b))return!0;if(!I)return!1;const N=Z.startOfYear(G);return I(N)},[p,y,b,g,K,I,Z]),be=Ve((G,N)=>{if(v)return;const Oe=Z.setYear($??ie,N);H(Oe)}),ae=Ve(G=>{ke(Z.setYear($??ie,G))||(Re(G),je(!0),w==null||w(G))});m.useEffect(()=>{Re(G=>Pe!==null&&G!==Pe?Pe:G)},[Pe]);const oe=A!=="desc"?_*1:_*-1,se=q&&A==="asc"||!q&&A==="desc"?-1:1,xe=Ve((G,N)=>{switch(G.key){case"ArrowUp":ae(N-oe),G.preventDefault();break;case"ArrowDown":ae(N+oe),G.preventDefault();break;case"ArrowLeft":ae(N-se),G.preventDefault();break;case"ArrowRight":ae(N+se),G.preventDefault();break}}),de=Ve((G,N)=>{ae(N)}),_e=Ve((G,N)=>{pe===N&&je(!1)}),Te=m.useRef(null),He=nr(r,Te);m.useEffect(()=>{if(o||Te.current===null)return;const G=Te.current.querySelector('[tabindex="0"]');if(!G)return;const N=G.offsetHeight,Oe=G.offsetTop,Ue=Te.current.clientHeight,cn=Te.current.scrollTop,$t=Oe+N;N>Ue||Oe<cn||(Te.current.scrollTop=$t-Ue/2-N/2)},[o]);const ue=Z.getYearRange([g,b]);A==="desc"&&ue.reverse();let Se=_-ue.length%_;return Se===_&&(Se=0),t.jsxs(m9,U({ref:He,className:nn(V.root,i),ownerState:Q,role:"radiogroup","aria-labelledby":R,yearsPerRow:_},Y,{children:[ue.map(G=>{const N=Z.getYear(G),Oe=N===Pe,Ue=x||ke(G);return t.jsx(h9,{selected:Oe,value:N,onClick:be,onKeyDown:xe,autoFocus:le&&N===pe,disabled:Ue,tabIndex:N===pe&&!Ue?0:-1,onFocus:de,onBlur:_e,"aria-current":ee===N?"date":void 0,slots:L,slotProps:B,classes:c,children:Z.format(G,"year")},Z.format(G,"year"))}),Array.from({length:Se},(G,N)=>t.jsx(g9,{},N))]}))}),y9=e=>ln("MuiPickersCalendarHeader",e),v9=un("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),j9=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","classes","timezone","format"],S9=["ownerState"],w9=e=>Jt({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},y9,e),C9=Me("div",{name:"MuiPickersCalendarHeader",slot:"Root"})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),P9=Me("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer"})(({theme:e})=>U({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),I9=Me("div",{name:"MuiPickersCalendarHeader",slot:"Label"})({marginRight:6}),D9=Me(Fe,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton"})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${v9.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),E9=Me(UV,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon"})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),T9=m.forwardRef(function(n,r){const s=xs(),o=Vt(),i=Ht({props:n,name:"MuiPickersCalendarHeader"}),{slots:c,slotProps:d,currentMonth:u,disabled:h,disableFuture:x,disablePast:p,maxDate:y,minDate:b,onMonthChange:g,onViewChange:S,view:v,reduceAnimations:I,views:w,labelId:D,className:E,classes:A,timezone:_,format:O=`${o.formats.month} ${o.formats.year}`}=i,R=at(i,j9),{ownerState:L}=Dn(),B=w9(A),Y=(c==null?void 0:c.switchViewButton)??D9,$=Nt({elementType:Y,externalSlotProps:d==null?void 0:d.switchViewButton,additionalProps:{size:"small","aria-label":s.calendarViewSwitchingButtonAriaLabel(v)},ownerState:L,className:B.switchViewButton}),H=(c==null?void 0:c.switchViewIcon)??E9,X=Nt({elementType:H,externalSlotProps:d==null?void 0:d.switchViewIcon,ownerState:L,className:B.switchViewIcon}),K=at(X,S9),q=()=>g(o.addMonths(u,1)),Z=()=>g(o.addMonths(u,-1)),Q=dU(u,{disableFuture:x,maxDate:y,timezone:_}),ie=uU(u,{disablePast:p,minDate:b,timezone:_}),V=()=>{if(!(w.length===1||!S||h))if(w.length===2)S(w.find(Pe=>Pe!==v)||w[0]);else{const Pe=w.indexOf(v)!==0?0:1;S(w[Pe])}};if(w.length===1&&w[0]==="year")return null;const ee=o.formatByString(u,O);return t.jsxs(C9,U({},R,{ownerState:L,className:nn(B.root,E),ref:r,children:[t.jsxs(P9,{role:"presentation",onClick:V,ownerState:L,"aria-live":"polite",className:B.labelContainer,children:[t.jsx(mw,{reduceAnimations:I,transKey:ee,children:t.jsx(I9,{id:D,ownerState:L,className:B.label,children:ee})}),w.length>1&&!h&&t.jsx(Y,U({},$,{children:t.jsx(H,U({},K))}))]}),t.jsx(Jc,{in:v==="day",appear:!I,enter:!I,children:t.jsx(sU,{slots:c,slotProps:d,onGoToPrevious:Z,isPreviousDisabled:ie,previousLabel:s.previousMonth,onGoToNext:q,isNextDisabled:Q,nextLabel:s.nextMonth})})]}))}),A9="@media (prefers-reduced-motion: reduce)",ja=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),l0=ja&&ja[1]?parseInt(ja[1],10):null,c0=ja&&ja[2]?parseInt(ja[2],10):null,R9=l0&&l0<10||c0&&c0<13||!1;function vw(e){const n=Yc(A9,{defaultMatches:!1});return e??(n||R9)}const _9=e=>ln("MuiDateCalendar",e);un("MuiDateCalendar",["root","viewTransitionContainer"]);const O9=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","classes","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"],k9=e=>Jt({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},_9,e);function M9(e,n){const r=Ht({props:e,name:n}),s=vw(r.reduceAnimations),o=Rx(r);return U({},r,o,{loading:r.loading??!1,openTo:r.openTo??"day",views:r.views??["year","day"],reduceAnimations:s,renderLoading:r.renderLoading??(()=>t.jsx("span",{children:"..."}))})}const N9=Me(Sx,{name:"MuiDateCalendar",slot:"Root"})({display:"flex",flexDirection:"column",height:$a}),L9=Me(mw,{name:"MuiDateCalendar",slot:"ViewTransitionContainer"})({}),$9=m.forwardRef(function(n,r){const s=Vt(),{ownerState:o}=Dn(),i=wd(),c=M9(n,"MuiDateCalendar"),{autoFocus:d,onViewChange:u,value:h,defaultValue:x,referenceDate:p,disableFuture:y,disablePast:b,onChange:g,onMonthChange:S,reduceAnimations:v,shouldDisableDate:I,shouldDisableMonth:w,shouldDisableYear:D,view:E,views:A,openTo:_,className:O,classes:R,disabled:L,readOnly:B,minDate:Y,maxDate:$,disableHighlightToday:H,focusedView:X,onFocusedViewChange:K,showDaysOutsideCurrentMonth:q,fixedWeekNumber:Z,dayOfWeekFormatter:Q,slots:ie,slotProps:V,loading:ee,renderLoading:Pe,displayWeekNumber:pe,yearsOrder:Re,yearsPerRow:le,monthsPerRow:re,timezone:je}=c,ke=at(c,O9),{value:be,handleValueChange:ae,timezone:oe}=qo({name:"DateCalendar",timezone:je,value:h,defaultValue:x,referenceDate:p,onChange:g,valueManager:ur}),{view:se,setView:xe,focusedView:de,setFocusedView:_e,goToNextView:Te,setValueAndGoToNextView:He}=Pd({view:E,views:A,openTo:_,onChange:ae,onViewChange:u,autoFocus:d,focusedView:X,onFocusedViewChange:K}),{referenceDate:ue,calendarState:Se,setVisibleDate:G,isDateDisabled:N,onMonthSwitchingAnimationEnd:Oe}=T8({value:be,referenceDate:p,reduceAnimations:v,onMonthChange:S,minDate:Y,maxDate:$,shouldDisableDate:I,disablePast:b,disableFuture:y,timezone:oe,getCurrentMonthFromVisibleDate:(Ct,Tn)=>s.isSameMonth(Ct,Tn)?Tn:s.startOfMonth(Ct)}),Ue=L&&be||Y,cn=L&&be||$,$t=`${i}-grid-label`,Rt=de!==null,Qt=(ie==null?void 0:ie.calendarHeader)??T9,Ln=Nt({elementType:Qt,externalSlotProps:V==null?void 0:V.calendarHeader,additionalProps:{views:A,view:se,currentMonth:Se.currentMonth,onViewChange:xe,onMonthChange:Ct=>G({target:Ct,reason:"header-navigation"}),minDate:Ue,maxDate:cn,disabled:L,disablePast:b,disableFuture:y,reduceAnimations:v,timezone:oe,labelId:$t},ownerState:o}),ut=Ve(Ct=>{const Tn=s.startOfMonth(Ct),Vn=s.endOfMonth(Ct),wr=N(Ct)?Hi({utils:s,date:Ct,minDate:s.isBefore(Y,Tn)?Tn:Y,maxDate:s.isAfter($,Vn)?Vn:$,disablePast:b,disableFuture:y,isDateDisabled:N,timezone:oe}):Ct;wr?(He(wr,"finish"),G({target:wr,reason:"cell-interaction"})):(Te(),G({target:Tn,reason:"cell-interaction"}))}),gt=Ve(Ct=>{const Tn=s.startOfYear(Ct),Vn=s.endOfYear(Ct),wr=N(Ct)?Hi({utils:s,date:Ct,minDate:s.isBefore(Y,Tn)?Tn:Y,maxDate:s.isAfter($,Vn)?Vn:$,disablePast:b,disableFuture:y,isDateDisabled:N,timezone:oe}):Ct;wr?(He(wr,"finish"),G({target:wr,reason:"cell-interaction"})):(Te(),G({target:Tn,reason:"cell-interaction"}))}),_t=Ve(Ct=>ae(Ct&&Uc(s,Ct,be??ue),"finish",se));m.useEffect(()=>{s.isValid(be)&&G({target:be,reason:"controlled-value-change"})},[be]);const Gt=k9(R),En={disablePast:b,disableFuture:y,maxDate:$,minDate:Y},hn={disableHighlightToday:H,readOnly:B,disabled:L,timezone:oe,gridLabelId:$t,slots:ie,slotProps:V},Xn=m.useRef(se);m.useEffect(()=>{Xn.current!==se&&(de===Xn.current&&_e(se,!0),Xn.current=se)},[de,_e,se]);const bn=m.useMemo(()=>[be],[be]);return t.jsxs(N9,U({ref:r,className:nn(Gt.root,O),ownerState:o},ke,{children:[t.jsx(Qt,U({},Ln,{slots:ie,slotProps:V})),t.jsx(L9,{reduceAnimations:v,className:Gt.viewTransitionContainer,transKey:se,ownerState:o,children:t.jsxs("div",{children:[se==="year"&&t.jsx(b9,U({},En,hn,{value:be,onChange:gt,shouldDisableYear:D,hasFocus:Rt,onFocusedViewChange:Ct=>_e("year",Ct),yearsOrder:Re,yearsPerRow:le,referenceDate:ue})),se==="month"&&t.jsx(l9,U({},En,hn,{hasFocus:Rt,className:O,value:be,onChange:ut,shouldDisableMonth:w,onFocusedViewChange:Ct=>_e("month",Ct),monthsPerRow:re,referenceDate:ue})),se==="day"&&t.jsx(Z8,U({},Se,En,hn,{onMonthSwitchingAnimationEnd:Oe,hasFocus:Rt,onFocusedDayChange:Ct=>G({target:Ct,reason:"cell-interaction"}),reduceAnimations:v,selectedDays:bn,onSelectedDaysChange:_t,shouldDisableDate:I,shouldDisableMonth:w,shouldDisableYear:D,onFocusedViewChange:Ct=>_e("day",Ct),showDaysOutsideCurrentMonth:q,fixedWeekNumber:Z,dayOfWeekFormatter:Q,displayWeekNumber:pe,loading:ee,renderLoading:Pe}))]})})]}))});function jw(e){return ln("MuiPickersToolbar",e)}const F9=un("MuiPickersToolbar",["root","title","content"]);function Sw(){const{ownerState:e}=Dn(),n=Is();return m.useMemo(()=>U({},e,{toolbarDirection:n?"rtl":"ltr"}),[e,n])}const W9=["children","className","classes","toolbarTitle","hidden","titleId","classes","landscapeDirection"],B9=e=>Jt({root:["root"],title:["title"],content:["content"]},jw,e),V9=Me("div",{name:"MuiPickersToolbar",slot:"Root"})(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:e.spacing(2,3),variants:[{props:{pickerOrientation:"landscape"},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),U9=Me("div",{name:"MuiPickersToolbar",slot:"Content",shouldForwardProp:e=>Hs(e)&&e!=="landscapeDirection"})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{pickerOrientation:"landscape"},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{pickerOrientation:"landscape",landscapeDirection:"row"},style:{flexDirection:"row"}}]}),z9=m.forwardRef(function(n,r){const s=Ht({props:n,name:"MuiPickersToolbar"}),{children:o,className:i,classes:c,toolbarTitle:d,hidden:u,titleId:h,landscapeDirection:x}=s,p=at(s,W9),y=Sw(),b=B9(c);return u?null:t.jsxs(V9,U({ref:r,className:nn(b.root,i),ownerState:y},p,{children:[t.jsx(j,{color:"text.secondary",variant:"overline",id:h,className:b.title,children:d}),t.jsx(U9,{className:b.content,ownerState:y,landscapeDirection:x,children:o})]}))});function H9(e){return ln("MuiPickerPopper",e)}un("MuiPickerPopper",["root","paper"]);const G9=["PaperComponent","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],Y9=e=>Jt({root:["root"],paper:["paper"]},H9,e),q9=Me(eA,{name:"MuiPickerPopper",slot:"Root"})(({theme:e})=>({zIndex:e.zIndex.modal})),K9=Me(ot,{name:"MuiPickerPopper",slot:"Paper"})({outline:0,transformOrigin:"top center",variants:[{props:({popperPlacement:e})=>["top","top-start","top-end"].includes(e),style:{transformOrigin:"bottom center"}}]});function X9(e,n){return n.documentElement.clientWidth<e.clientX||n.documentElement.clientHeight<e.clientY}function J9(e,n){const r=m.useRef(!1),s=m.useRef(!1),o=m.useRef(null),i=m.useRef(!1);m.useEffect(()=>{if(!e)return;function u(){i.current=!0}return document.addEventListener("mousedown",u,!0),document.addEventListener("touchstart",u,!0),()=>{document.removeEventListener("mousedown",u,!0),document.removeEventListener("touchstart",u,!0),i.current=!1}},[e]);const c=Ve(u=>{if(!i.current)return;const h=s.current;s.current=!1;const x=vh(o.current);if(!o.current||"clientX"in u&&X9(u,x))return;if(r.current){r.current=!1;return}let p;u.composedPath?p=u.composedPath().indexOf(o.current)>-1:p=!x.documentElement.contains(u.target)||o.current.contains(u.target),!p&&!h&&n(u)}),d=()=>{s.current=!0};return m.useEffect(()=>{if(e){const u=vh(o.current),h=()=>{r.current=!0};return u.addEventListener("touchstart",c),u.addEventListener("touchmove",h),()=>{u.removeEventListener("touchstart",c),u.removeEventListener("touchmove",h)}}},[e,c]),m.useEffect(()=>{if(e){const u=vh(o.current);return u.addEventListener("click",c),()=>{u.removeEventListener("click",c),s.current=!1}}},[e,c]),[o,d,d]}const Q9=m.forwardRef((e,n)=>{const{PaperComponent:r,ownerState:s,children:o,paperSlotProps:i,paperClasses:c,onPaperClick:d,onPaperTouchStart:u}=e,h=at(e,G9),x=Nt({elementType:r,externalSlotProps:i,additionalProps:{tabIndex:-1,elevation:8,ref:n},className:c,ownerState:s});return t.jsx(r,U({},h,x,{onClick:p=>{var y;d(p),(y=x.onClick)==null||y.call(x,p)},onTouchStart:p=>{var y;u(p),(y=x.onTouchStart)==null||y.call(x,p)},ownerState:s,children:o}))});function Z9(e){const n=Ht({props:e,name:"MuiPickerPopper"}),{children:r,placement:s="bottom-start",slots:o,slotProps:i,classes:c}=n,{open:d,popupRef:u,reduceAnimations:h}=vo(),{dismissViews:x,getCurrentViewMode:p,onPopperExited:y,triggerElement:b,viewContainerRole:g}=Dn();m.useEffect(()=>{function Z(Q){d&&Q.key==="Escape"&&x()}return document.addEventListener("keydown",Z),()=>{document.removeEventListener("keydown",Z)}},[x,d]);const S=m.useRef(null);m.useEffect(()=>{g==="tooltip"||p()==="field"||(d?S.current=Yn(document):S.current&&S.current instanceof HTMLElement&&setTimeout(()=>{S.current instanceof HTMLElement&&S.current.focus()}))},[d,g,p]);const v=Y9(c),{ownerState:I,rootRefObject:w}=Dn(),D=U({},I,{popperPlacement:s}),E=Ve(()=>{g==="tooltip"?_U(()=>{var Z,Q;(Z=w.current)!=null&&Z.contains(Yn(document))||(Q=u.current)!=null&&Q.contains(Yn(document))||x()}):x()}),[A,_,O]=J9(d,E),R=m.useRef(null),L=nr(R,u),B=nr(L,A),Y=Z=>{Z.key==="Escape"&&(Z.stopPropagation(),x())},$=(o==null?void 0:o.desktopTransition)??h?Jc:tA,H=(o==null?void 0:o.desktopTrapFocus)??nA,X=(o==null?void 0:o.desktopPaper)??K9,K=(o==null?void 0:o.popper)??q9,q=Nt({elementType:K,externalSlotProps:i==null?void 0:i.popper,additionalProps:{transition:!0,role:g??void 0,open:d,placement:s,anchorEl:b,onKeyDown:Y},className:v.root,ownerState:D});return t.jsx(K,U({},q,{children:({TransitionProps:Z})=>t.jsx(H,U({open:d,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:g==="tooltip",isEnabled:()=>!0},i==null?void 0:i.desktopTrapFocus,{children:t.jsx($,U({},Z,i==null?void 0:i.desktopTransition,{onExited:Q=>{var ie,V,ee;y==null||y(),(V=(ie=i==null?void 0:i.desktopTransition)==null?void 0:ie.onExited)==null||V.call(ie,Q),(ee=Z==null?void 0:Z.onExited)==null||ee.call(Z)},children:t.jsx(Q9,{PaperComponent:X,ownerState:D,ref:B,onPaperClick:_,onPaperTouchStart:O,paperClasses:v.paper,paperSlotProps:i==null?void 0:i.desktopPaper,children:r})}))}))}))}function d0(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}function eH(e,n){const[r,s]=m.useState(d0);return Zr(()=>{const o=()=>{s(d0())};return window.addEventListener("orientationchange",o),()=>{window.removeEventListener("orientationchange",o)}},[]),RU(e,["hours","minutes","seconds"])?"portrait":n??r}function tH(e){const{props:n,valueManager:r,validator:s}=e,{value:o,defaultValue:i,onChange:c,referenceDate:d,timezone:u,onAccept:h,closeOnSelect:x,open:p,onOpen:y,onClose:b}=n,{current:g}=m.useRef(i),{current:S}=m.useRef(o!==void 0),{current:v}=m.useRef(p!==void 0),I=Vt(),{timezone:w,value:D,handleValueChange:E}=qo({name:"a picker component",timezone:u,value:o,defaultValue:g,referenceDate:d,onChange:c,valueManager:r}),[A,_]=m.useState(()=>({open:!1,lastExternalValue:D,clockShallowValue:void 0,lastCommittedValue:D,hasBeenModifiedSinceMount:!1})),{getValidationErrorForNewValue:O}=ZS({props:n,validator:s,timezone:w,value:D,onError:n.onError}),R=Ve($=>{const H=typeof $=="function"?$(A.open):$;v||_(X=>U({},X,{open:H})),H&&y&&y(),H||b==null||b()}),L=Ve(($,H)=>{const{changeImportance:X="accept",skipPublicationIfPristine:K=!1,validationError:q,shortcut:Z,shouldClose:Q=X==="accept"}=H??{};let ie,V;!K&&!S&&!A.hasBeenModifiedSinceMount?(ie=!0,V=X==="accept"):(ie=!r.areValuesEqual(I,$,D),V=X==="accept"&&!r.areValuesEqual(I,$,A.lastCommittedValue)),_(pe=>U({},pe,{clockShallowValue:ie?void 0:pe.clockShallowValue,lastCommittedValue:V?D:pe.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let ee=null;const Pe=()=>(ee||(ee={validationError:q??O($)},Z&&(ee.shortcut=Z)),ee);ie&&E($,Pe()),V&&h&&h($,Pe()),Q&&R(!1)});D!==A.lastExternalValue&&_($=>U({},$,{lastExternalValue:D,clockShallowValue:void 0,hasBeenModifiedSinceMount:!0}));const B=Ve(($,H="partial")=>{if(H==="shallow"){_(X=>U({},X,{clockShallowValue:$,hasBeenModifiedSinceMount:!0}));return}L($,{changeImportance:H==="finish"&&x?"accept":"set"})});m.useEffect(()=>{if(v){if(p===void 0)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");_($=>U({},$,{open:p}))}},[v,p]);const Y=m.useMemo(()=>r.cleanValue(I,A.clockShallowValue===void 0?D:A.clockShallowValue),[I,r,A.clockShallowValue,D]);return{timezone:w,state:A,setValue:L,setValueFromView:B,setOpen:R,value:D,viewValue:Y}}const nH=["className","sx"],ww=({ref:e,props:n,valueManager:r,valueType:s,variant:o,validator:i,onPopperExited:c,autoFocusView:d,rendererInterceptor:u,localeText:h,viewContainerRole:x,getStepNavigation:p})=>{const{views:y,view:b,openTo:g,onViewChange:S,viewRenderers:v,reduceAnimations:I,orientation:w,disableOpenPicker:D,closeOnSelect:E,disabled:A,readOnly:_,formatDensity:O,enableAccessibleFieldDOMStructure:R,selectedSections:L,onSelectedSectionsChange:B,format:Y,label:$,autoFocus:H,name:X}=n,{className:K,sx:q}=n,Z=at(n,nH),Q=wd(),ie=Vt(),V=Yo(),ee=vw(I),Pe=eH(y,w),{current:pe}=m.useRef(g??null),[Re,le]=m.useState(null),re=m.useRef(null),je=m.useRef(null),ke=m.useRef(null),be=nr(e,ke),{timezone:ae,state:oe,setOpen:se,setValue:xe,setValueFromView:de,value:_e,viewValue:Te}=tH({props:n,valueManager:r,validator:i}),{view:He,setView:ue,defaultView:Se,focusedView:G,setFocusedView:N,setValueAndGoToNextView:Oe,goToNextStep:Ue,hasNextStep:cn,hasSeveralSteps:$t}=Pd({view:b,views:y,openTo:g,onChange:de,onViewChange:S,autoFocus:d,getStepNavigation:p}),Rt=Ve(()=>xe(r.emptyValue)),Qt=Ve(()=>xe(r.getTodayValue(ie,ae,s))),Ln=Ve(()=>xe(_e)),ut=Ve(()=>xe(oe.lastCommittedValue,{skipPublicationIfPristine:!0})),gt=Ve(()=>{xe(_e,{skipPublicationIfPristine:!0})}),{hasUIView:_t,viewModeLookup:Gt,timeViewsCount:En}=m.useMemo(()=>y.reduce((yn,Cr)=>{const sl=v[Cr]==null?"field":"UI";return yn.viewModeLookup[Cr]=sl,sl==="UI"&&(yn.hasUIView=!0,Ui(Cr)&&(yn.timeViewsCount+=1)),yn},{hasUIView:!1,viewModeLookup:{},timeViewsCount:0}),[v,y]),hn=Gt[He],Xn=Ve(()=>hn),[bn,Ct]=m.useState(hn==="UI"?He:null);bn!==He&&Gt[He]==="UI"&&Ct(He),Zr(()=>{hn==="field"&&oe.open&&(se(!1),setTimeout(()=>{var yn,Cr;(yn=je==null?void 0:je.current)==null||yn.setSelectedSections(He),(Cr=je==null?void 0:je.current)==null||Cr.focusField(He)}))},[He]),Zr(()=>{if(!oe.open)return;let yn=He;hn==="field"&&bn!=null&&(yn=bn),yn!==Se&&Gt[yn]==="UI"&&Gt[Se]==="UI"&&(yn=Se),yn!==He&&ue(yn),N(yn,!0)},[oe.open]);const Tn=m.useMemo(()=>({isPickerValueEmpty:r.areValuesEqual(ie,_e,r.emptyValue),isPickerOpen:oe.open,isPickerDisabled:n.disabled??!1,isPickerReadOnly:n.readOnly??!1,pickerOrientation:Pe,pickerVariant:o}),[ie,r,_e,oe.open,Pe,o,n.disabled,n.readOnly]),Vn=m.useMemo(()=>D||!_t?"hidden":A||_?"disabled":"enabled",[D,_t,A,_]),wr=Ve(Ue),So=m.useMemo(()=>E&&!$t?[]:["cancel","nextOrAccept"],[E,$t]),rr=m.useMemo(()=>({setValue:xe,setOpen:se,clearValue:Rt,setValueToToday:Qt,acceptValueChanges:Ln,cancelValueChanges:ut,setView:ue,goToNextStep:wr}),[xe,se,Rt,Qt,Ln,ut,ue,wr]),Rd=m.useMemo(()=>U({},rr,{value:_e,timezone:ae,open:oe.open,views:y,view:bn,initialView:pe,disabled:A??!1,readOnly:_??!1,autoFocus:H??!1,variant:o,orientation:Pe,popupRef:re,reduceAnimations:ee,triggerRef:le,triggerStatus:Vn,hasNextStep:cn,fieldFormat:Y??"",name:X,label:$,rootSx:q,rootRef:be,rootClassName:K}),[rr,_e,be,o,Pe,ee,A,_,Y,K,X,$,q,Vn,cn,ae,oe.open,bn,y,pe,H]),_d=m.useMemo(()=>({dismissViews:gt,ownerState:Tn,hasUIView:_t,getCurrentViewMode:Xn,rootRefObject:ke,labelId:Q,triggerElement:Re,viewContainerRole:x,defaultActionBarActions:So,onPopperExited:c}),[gt,Tn,_t,Xn,Q,Re,x,So,c]),Od=m.useMemo(()=>({formatDensity:O,enableAccessibleFieldDOMStructure:R,selectedSections:L,onSelectedSectionsChange:B,fieldRef:je}),[O,R,L,B,je]);return{providerProps:{localeText:h,contextValue:Rd,privateContextValue:_d,actionsContextValue:rr,fieldPrivateContextValue:Od,isValidContextValue:yn=>{const Cr=i({adapter:V,value:yn,timezone:ae,props:n});return!r.hasError(Cr)}},renderCurrentView:()=>{if(bn==null)return null;const yn=v[bn];if(yn==null)return null;const Cr=U({},Z,{views:y,timezone:ae,value:Te,onChange:Oe,view:bn,onViewChange:ue,showViewSwitcher:En>1,timeViewsCount:En},x==="tooltip"?{focusedView:null,onFocusedViewChange:()=>{}}:{focusedView:G,onFocusedViewChange:N});return u?t.jsx(u,{viewRenderers:v,popperView:bn,rendererProps:Cr}):yn(Cr)},ownerState:Tn}};function Cw(e){return ln("MuiPickersLayout",e)}const as=un("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),rH=["actions"],sH=Me(Xt,{name:"MuiPickersLayout",slot:"ActionBar"})({});function oH(e){const{actions:n}=e,r=at(e,rH),s=xs(),{clearValue:o,setValueToToday:i,acceptValueChanges:c,cancelValueChanges:d,goToNextStep:u,hasNextStep:h}=vo();if(n==null||n.length===0)return null;const x=n==null?void 0:n.map(p=>{switch(p){case"clear":return t.jsx(he,{onClick:o,children:s.clearButtonLabel},p);case"cancel":return t.jsx(he,{onClick:d,children:s.cancelButtonLabel},p);case"accept":return t.jsx(he,{onClick:c,children:s.okButtonLabel},p);case"today":return t.jsx(he,{onClick:i,children:s.todayButtonLabel},p);case"next":return t.jsx(he,{onClick:u,children:s.nextStepButtonLabel},p);case"nextOrAccept":return h?t.jsx(he,{onClick:u,children:s.nextStepButtonLabel},p):t.jsx(he,{onClick:c,children:s.okButtonLabel},p);default:return null}});return t.jsx(sH,U({},r,{children:x}))}const aH=m.memo(oH),iH=["items","changeImportance"],lH=["getValue"],cH=Me(jr,{name:"MuiPickersLayout",slot:"Shortcuts"})({});function dH(e){const{items:n,changeImportance:r="accept"}=e,s=at(e,iH),{setValue:o}=pz(),i=JV();if(n==null||n.length===0)return null;const c=n.map(d=>{let{getValue:u}=d,h=at(d,lH);const x=u({isValid:i});return U({},h,{label:h.label,onClick:()=>{o(x,{changeImportance:r,shortcut:h})},disabled:!i(x)})});return t.jsx(cH,U({dense:!0,sx:[{maxHeight:$a,maxWidth:200,overflow:"auto"},...Array.isArray(s.sx)?s.sx:[s.sx]]},s,{children:c.map(d=>t.jsx(dr,{children:t.jsx(Ke,U({},d))},d.id??d.label))}))}const uH=["ownerState"];function hH(e){return e.view!==null}const fH=(e,n)=>{const{pickerOrientation:r}=n;return Jt({root:["root",r==="landscape"&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},Cw,e)},Pw=e=>{const{ownerState:n,defaultActionBarActions:r}=Dn(),{view:s}=vo(),o=Is(),{children:i,slots:c,slotProps:d,classes:u}=e,h=m.useMemo(()=>U({},n,{layoutDirection:o?"rtl":"ltr"}),[n,o]),x=fH(u,h),p=(c==null?void 0:c.actionBar)??aH,y=Nt({elementType:p,externalSlotProps:d==null?void 0:d.actionBar,additionalProps:{actions:r},className:x.actionBar,ownerState:h}),b=at(y,uH),g=t.jsx(p,U({},b)),S=c==null?void 0:c.toolbar,v=Nt({elementType:S,externalSlotProps:d==null?void 0:d.toolbar,className:x.toolbar,ownerState:h}),I=hH(v)&&S?t.jsx(S,U({},v)):null,w=i,D=c==null?void 0:c.tabs,E=s&&D?t.jsx(D,U({className:x.tabs},d==null?void 0:d.tabs)):null,A=(c==null?void 0:c.shortcuts)??dH,_=Nt({elementType:A,externalSlotProps:d==null?void 0:d.shortcuts,className:x.shortcuts,ownerState:h}),O=s&&A?t.jsx(A,U({},_)):null;return{toolbar:I,content:w,tabs:E,actionBar:g,shortcuts:O,ownerState:h}},pH=(e,n)=>{const{pickerOrientation:r}=n;return Jt({root:["root",r==="landscape"&&"landscape"],contentWrapper:["contentWrapper"]},Cw,e)},Iw=Me("div",{name:"MuiPickersLayout",slot:"Root"})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${as.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{pickerOrientation:"landscape"},style:{[`& .${as.toolbar}`]:{gridColumn:1,gridRow:"2 / 3"},[`.${as.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{pickerOrientation:"landscape",layoutDirection:"rtl"},style:{[`& .${as.toolbar}`]:{gridColumn:3}}},{props:{pickerOrientation:"portrait"},style:{[`& .${as.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${as.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{pickerOrientation:"portrait",layoutDirection:"rtl"},style:{[`& .${as.shortcuts}`]:{gridColumn:3}}}]}),Dw=Me("div",{name:"MuiPickersLayout",slot:"ContentWrapper"})({gridColumn:"2 / 4",gridRow:2,display:"flex",flexDirection:"column"}),Ew=m.forwardRef(function(n,r){const s=Ht({props:n,name:"MuiPickersLayout"}),{toolbar:o,content:i,tabs:c,actionBar:d,shortcuts:u,ownerState:h}=Pw(s),{orientation:x,variant:p}=vo(),{sx:y,className:b,classes:g}=s,S=pH(g,h);return t.jsxs(Iw,{ref:r,sx:y,className:nn(S.root,b),ownerState:h,children:[x==="landscape"?u:o,x==="landscape"?o:u,t.jsx(Dw,{className:S.contentWrapper,ownerState:h,children:p==="desktop"?t.jsxs(m.Fragment,{children:[i,c]}):t.jsxs(m.Fragment,{children:[c,i]})}),d]})});function Tw(e){const{steps:n}=e;return cU({steps:n,isViewMatchingStep:(r,s)=>s.views==null||s.views.includes(r),onStepChange:({step:r,defaultView:s,setView:o,view:i,views:c})=>{const d=r.views==null?s:r.views.find(u=>c.includes(u));d!==i&&o(d)}})}const xH=["props","steps"],mH=["ownerState"],gH=e=>{var _;let{props:n,steps:r}=e,s=at(e,xH);const{slots:o,slotProps:i,label:c,inputRef:d,localeText:u}=n,h=Tw({steps:r}),{providerProps:x,renderCurrentView:p,ownerState:y}=ww(U({},s,{props:n,localeText:u,autoFocusView:!0,viewContainerRole:"dialog",variant:"desktop",getStepNavigation:h})),b=x.privateContextValue.labelId,g=((_=i==null?void 0:i.toolbar)==null?void 0:_.hidden)??!1,S=o.field,v=Nt({elementType:S,externalSlotProps:i==null?void 0:i.field,additionalProps:U({},g&&{id:b}),ownerState:y}),I=at(v,mH),w=o.layout??Ew;let D=b;g&&(c?D=`${b}-label`:D=void 0);const E=U({},i,{toolbar:U({},i==null?void 0:i.toolbar,{titleId:b}),popper:U({"aria-labelledby":D},i==null?void 0:i.popper)});return{renderPicker:()=>t.jsx(kS,U({},x,{children:t.jsxs(fw,{slots:o,slotProps:E,inputRef:d,children:[t.jsx(S,U({},I)),t.jsx(Z9,{slots:o,slotProps:E,children:t.jsx(w,U({},E==null?void 0:E.layout,{slots:o,slotProps:E,children:p()}))})]})}))}},Sa=({view:e,onViewChange:n,views:r,focusedView:s,onFocusedViewChange:o,value:i,defaultValue:c,referenceDate:d,onChange:u,className:h,classes:x,disableFuture:p,disablePast:y,minDate:b,maxDate:g,shouldDisableDate:S,shouldDisableMonth:v,shouldDisableYear:I,reduceAnimations:w,onMonthChange:D,monthsPerRow:E,onYearChange:A,yearsOrder:_,yearsPerRow:O,slots:R,slotProps:L,loading:B,renderLoading:Y,disableHighlightToday:$,readOnly:H,disabled:X,showDaysOutsideCurrentMonth:K,dayOfWeekFormatter:q,sx:Z,autoFocus:Q,fixedWeekNumber:ie,displayWeekNumber:V,timezone:ee})=>t.jsx($9,{view:e,onViewChange:n,views:r.filter(Fa),focusedView:s&&Fa(s)?s:null,onFocusedViewChange:o,value:i,defaultValue:c,referenceDate:d,onChange:u,className:h,classes:x,disableFuture:p,disablePast:y,minDate:b,maxDate:g,shouldDisableDate:S,shouldDisableMonth:v,shouldDisableYear:I,reduceAnimations:w,onMonthChange:D,monthsPerRow:E,onYearChange:A,yearsOrder:_,yearsPerRow:O,slots:R,slotProps:L,loading:B,renderLoading:Y,disableHighlightToday:$,readOnly:H,disabled:X,showDaysOutsideCurrentMonth:K,dayOfWeekFormatter:q,sx:Z,autoFocus:Q,fixedWeekNumber:ie,displayWeekNumber:V,timezone:ee}),bH=Me(qt)({[`& .${ub.container}`]:{outline:0},[`& .${ub.paper}`]:{outline:0,minWidth:La}}),yH=Me(Kt)({"&:first-of-type":{padding:0}});function vH(e){const{children:n,slots:r,slotProps:s}=e,{open:o}=vo(),{dismissViews:i,onPopperExited:c}=Dn(),d=(r==null?void 0:r.dialog)??bH,u=(r==null?void 0:r.mobileTransition)??Jc;return t.jsx(d,U({open:o,onClose:()=>{i(),c==null||c()}},s==null?void 0:s.dialog,{TransitionComponent:u,TransitionProps:s==null?void 0:s.mobileTransition,PaperComponent:r==null?void 0:r.mobilePaper,PaperProps:s==null?void 0:s.mobilePaper,children:t.jsx(yH,{children:n})}))}const jH=["props","steps"],SH=["ownerState"],wH=e=>{var _;let{props:n,steps:r}=e,s=at(e,jH);const{slots:o,slotProps:i,label:c,inputRef:d,localeText:u}=n,h=Tw({steps:r}),{providerProps:x,renderCurrentView:p,ownerState:y}=ww(U({},s,{props:n,localeText:u,autoFocusView:!0,viewContainerRole:"dialog",variant:"mobile",getStepNavigation:h})),b=x.privateContextValue.labelId,g=((_=i==null?void 0:i.toolbar)==null?void 0:_.hidden)??!1,S=o.field,v=Nt({elementType:S,externalSlotProps:i==null?void 0:i.field,additionalProps:U({},g&&{id:b}),ownerState:y}),I=at(v,SH),w=o.layout??Ew;let D=b;g&&(c?D=`${b}-label`:D=void 0);const E=U({},i,{toolbar:U({},i==null?void 0:i.toolbar,{titleId:b}),mobilePaper:U({"aria-labelledby":D},i==null?void 0:i.mobilePaper)});return{renderPicker:()=>t.jsx(kS,U({},x,{children:t.jsxs(fw,{slots:o,slotProps:E,inputRef:d,children:[t.jsx(S,U({},I)),t.jsx(vH,{slots:o,slotProps:E,children:t.jsx(w,U({},E==null?void 0:E.layout,{slots:o,slotProps:E,children:p()}))})]})}))}};function CH(e){return ln("MuiPickersToolbarText",e)}const PH=un("MuiPickersToolbarText",["root"]),IH=["className","classes","selected","value"],DH=e=>Jt({root:["root"]},CH,e),EH=Me(j,{name:"MuiPickersToolbarText",slot:"Root"})(({theme:e})=>({transition:e.transitions.create("color"),color:(e.vars||e).palette.text.secondary,"&[data-selected]":{color:(e.vars||e).palette.text.primary}})),Aw=m.forwardRef(function(n,r){const s=Ht({props:n,name:"MuiPickersToolbarText"}),{className:o,classes:i,selected:c,value:d}=s,u=at(s,IH),h=DH(i);return t.jsx(EH,U({ref:r,className:nn(h.root,o),component:"span",ownerState:s},c&&{"data-selected":!0},u,{children:d}))}),TH=["align","className","classes","selected","typographyClassName","value","variant","width"],AH=e=>Jt({root:["root"]},jw,e),RH=Me(he,{name:"MuiPickersToolbarButton",slot:"Root"})({padding:0,minWidth:16,textTransform:"none"}),oo=m.forwardRef(function(n,r){const s=Ht({props:n,name:"MuiPickersToolbarButton"}),{align:o,className:i,classes:c,selected:d,typographyClassName:u,value:h,variant:x,width:p}=s,y=at(s,TH),b=AH(c);return t.jsx(RH,U({variant:"text",ref:r,className:nn(b.root,i),ownerState:s},p?{sx:{width:p}}:{},y,{children:t.jsx(Aw,{align:o,className:u,variant:x,value:h,selected:d})}))}),Rw=({view:e,onViewChange:n,focusedView:r,onFocusedViewChange:s,views:o,value:i,defaultValue:c,referenceDate:d,onChange:u,className:h,classes:x,disableFuture:p,disablePast:y,minTime:b,maxTime:g,shouldDisableTime:S,minutesStep:v,ampm:I,slots:w,slotProps:D,readOnly:E,disabled:A,sx:_,autoFocus:O,disableIgnoringDatePartForTimeValidation:R,timeSteps:L,skipDisabled:B,timezone:Y})=>t.jsx(WU,{view:e,onViewChange:n,focusedView:r&&Ui(r)?r:null,onFocusedViewChange:s,views:o.filter(Ui),value:i,defaultValue:c,referenceDate:d,onChange:u,className:h,classes:x,disableFuture:p,disablePast:y,minTime:b,maxTime:g,shouldDisableTime:S,minutesStep:v,ampm:I,slots:w,slotProps:D,readOnly:E,disabled:A,sx:_,autoFocus:O,disableIgnoringDatePartForTimeValidation:R,timeStep:L==null?void 0:L.minutes,skipDisabled:B,timezone:Y}),Gc=({view:e,onViewChange:n,focusedView:r,onFocusedViewChange:s,views:o,value:i,defaultValue:c,referenceDate:d,onChange:u,className:h,classes:x,disableFuture:p,disablePast:y,minTime:b,maxTime:g,shouldDisableTime:S,minutesStep:v,ampm:I,slots:w,slotProps:D,readOnly:E,disabled:A,sx:_,autoFocus:O,disableIgnoringDatePartForTimeValidation:R,timeSteps:L,skipDisabled:B,timezone:Y})=>t.jsx(QU,{view:e,onViewChange:n,focusedView:r&&pa(r)?r:null,onFocusedViewChange:s,views:o.filter(Ui),value:i,defaultValue:c,referenceDate:d,onChange:u,className:h,classes:x,disableFuture:p,disablePast:y,minTime:b,maxTime:g,shouldDisableTime:S,minutesStep:v,ampm:I,slots:w,slotProps:D,readOnly:E,disabled:A,sx:_,autoFocus:O,disableIgnoringDatePartForTimeValidation:R,timeSteps:L,skipDisabled:B,timezone:Y}),_H=["views","format"],_w=(e,n,r)=>{let{views:s,format:o}=n,i=at(n,_H);if(o)return o;const c=[],d=[];if(s.forEach(x=>{Ui(x)?d.push(x):Fa(x)&&c.push(x)}),d.length===0)return Ky(e,U({views:c},i));if(c.length===0)return qy(e,U({views:d},i));const u=qy(e,U({views:d},i));return`${Ky(e,U({views:c},i))} ${u}`},OH=(e,n,r)=>r?n.filter(s=>!pa(s)||s==="hours"):e?[...n,"meridiem"]:n,kH=(e,n)=>24*60/((e.hours??1)*(e.minutes??5))<=n;function MH({thresholdToRenderTimeInASingleColumn:e,ampm:n,timeSteps:r,views:s}){const o=e??24,i=U({hours:1,minutes:5,seconds:5},r),c=kH(i,o);return{thresholdToRenderTimeInASingleColumn:o,timeSteps:i,shouldRenderTimeInASingleColumn:c,views:OH(n,s,c)}}function NH(e){return ln("MuiDateTimePickerTabs",e)}un("MuiDateTimePickerTabs",["root"]);const LH=e=>Fa(e)?"date":"time",$H=e=>e==="date"?"day":"hours",FH=e=>Jt({root:["root"]},NH,e),WH=Me(mo,{name:"MuiDateTimePickerTabs",slot:"Root"})(({theme:e})=>({boxShadow:`0 -1px 0 0 inset ${(e.vars||e).palette.divider}`,"&:last-child":{boxShadow:`0 1px 0 0 inset ${(e.vars||e).palette.divider}`,[`& .${rA.indicator}`]:{bottom:"auto",top:0}}})),BH=function(n){const r=Ht({props:n,name:"MuiDateTimePickerTabs"}),{dateIcon:s=t.jsx(YV,{}),timeIcon:o=t.jsx(qV,{}),hidden:i=typeof window>"u"||window.innerHeight<667,className:c,classes:d,sx:u}=r,h=xs(),{ownerState:x}=Dn(),{view:p,setView:y}=vo(),b=FH(d),g=(S,v)=>{y($H(v))};return i?null:t.jsxs(WH,{ownerState:x,variant:"fullWidth",value:LH(p),onChange:g,className:nn(c,b.root),sx:u,children:[t.jsx(tr,{value:"date","aria-label":h.dateTableLabel,icon:t.jsx(m.Fragment,{children:s})}),t.jsx(tr,{value:"time","aria-label":h.timeTableLabel,icon:t.jsx(m.Fragment,{children:o})})]})};function VH(e){return ln("MuiDateTimePickerToolbar",e)}const jh=un("MuiDateTimePickerToolbar",["root","dateContainer","timeContainer","timeDigitsContainer","separator","timeLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),UH=["ampm","ampmInClock","toolbarFormat","toolbarPlaceholder","toolbarTitle","className","classes"],zH=(e,n)=>{const{pickerOrientation:r,toolbarDirection:s}=n;return Jt({root:["root"],dateContainer:["dateContainer"],timeContainer:["timeContainer",s==="rtl"&&"timeLabelReverse"],timeDigitsContainer:["timeDigitsContainer",s==="rtl"&&"timeLabelReverse"],separator:["separator"],ampmSelection:["ampmSelection",r==="landscape"&&"ampmLandscape"],ampmLabel:["ampmLabel"]},VH,e)},HH=Me(z9,{name:"MuiDateTimePickerToolbar",slot:"Root",shouldForwardProp:e=>Hs(e)&&e!=="toolbarVariant"})(({theme:e})=>({paddingLeft:16,paddingRight:16,justifyContent:"space-around",position:"relative",variants:[{props:{toolbarVariant:"desktop"},style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,[`& .${F9.content} .${PH.root}[data-selected]`]:{color:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightBold}}},{props:{toolbarVariant:"desktop",pickerOrientation:"landscape"},style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:{toolbarVariant:"desktop",pickerOrientation:"portrait"},style:{paddingLeft:24,paddingRight:0}}]})),GH=Me("div",{name:"MuiDateTimePickerToolbar",slot:"DateContainer"})({display:"flex",flexDirection:"column",alignItems:"flex-start"}),YH=Me("div",{name:"MuiDateTimePickerToolbar",slot:"TimeContainer",shouldForwardProp:e=>Hs(e)&&e!=="toolbarVariant"})({display:"flex",flexDirection:"row",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop",pickerOrientation:"portrait"},style:{gap:9,marginRight:4,alignSelf:"flex-end"}},{props:({pickerOrientation:e,toolbarVariant:n})=>e==="landscape"&&n!=="desktop",style:{flexDirection:"column"}},{props:({pickerOrientation:e,toolbarVariant:n,toolbarDirection:r})=>e==="landscape"&&n!=="desktop"&&r==="rtl",style:{flexDirection:"column-reverse"}}]}),qH=Me("div",{name:"MuiDateTimePickerToolbar",slot:"TimeDigitsContainer",shouldForwardProp:e=>Hs(e)&&e!=="toolbarVariant"})({display:"flex",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop"},style:{gap:1.5}}]}),u0=Me(Aw,{name:"MuiDateTimePickerToolbar",slot:"Separator",shouldForwardProp:e=>Hs(e)&&e!=="toolbarVariant"})({margin:"0 4px 0 2px",cursor:"default",variants:[{props:{toolbarVariant:"desktop"},style:{margin:0}}]}),KH=Me("div",{name:"MuiDateTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(e,n)=>[{[`.${jh.ampmLabel}`]:n.ampmLabel},{[`&.${jh.ampmLandscape}`]:n.ampmLandscape},n.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${jh.ampmLabel}`]:{fontSize:17},variants:[{props:{pickerOrientation:"landscape"},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",width:"100%"}}]}),XH=m.createContext(null);function JH(e){const n=Ht({props:e,name:"MuiDateTimePickerToolbar"}),{ampm:r,ampmInClock:s,toolbarFormat:o,toolbarPlaceholder:i="",toolbarTitle:c,className:d,classes:u}=n,h=at(n,UH),{value:x,setValue:p,disabled:y,readOnly:b,variant:g,orientation:S,view:v,setView:I,views:w}=vo(),D=xs(),E=Sw(),A=zH(u,E),_=Vt(),O=m.useContext(XH),R=O?O.value:x,L=O?O.setValue:p,B=O?O.view:v,Y=O?O.setView:I,{meridiemMode:$,handleMeridiemChange:H}=LS(R,r,V=>L(V,{changeImportance:"set"})),X=O!=null&&O.forceDesktopVariant?"desktop":g,K=X==="desktop",q=!!(r&&!s),Z=c??D.dateTimePickerToolbarTitle,Q=m.useMemo(()=>_.isValid(R)?o?_.formatByString(R,o):_.format(R,"shortDate"):i,[R,o,i,_]),ie=(V,ee)=>_.isValid(R)?_.format(R,V):ee;return t.jsxs(HH,U({className:nn(A.root,d),toolbarTitle:Z,toolbarVariant:X},h,{ownerState:E,children:[t.jsxs(GH,{className:A.dateContainer,ownerState:E,children:[w.includes("year")&&t.jsx(oo,{tabIndex:-1,variant:"subtitle1",onClick:()=>Y("year"),selected:B==="year",value:ie("year","")}),w.includes("day")&&t.jsx(oo,{tabIndex:-1,variant:K?"h5":"h4",onClick:()=>Y("day"),selected:B==="day",value:Q})]}),t.jsxs(YH,{className:A.timeContainer,ownerState:E,toolbarVariant:X,children:[t.jsxs(qH,{className:A.timeDigitsContainer,ownerState:E,toolbarVariant:X,children:[w.includes("hours")&&t.jsxs(m.Fragment,{children:[t.jsx(oo,{variant:K?"h5":"h3",width:K&&S==="portrait"?Si:void 0,onClick:()=>Y("hours"),selected:B==="hours",value:ie(r?"hours12h":"hours24h","--")}),t.jsx(u0,{variant:K?"h5":"h3",value:":",className:A.separator,ownerState:E,toolbarVariant:X}),t.jsx(oo,{variant:K?"h5":"h3",width:K&&S==="portrait"?Si:void 0,onClick:()=>Y("minutes"),selected:B==="minutes"||!w.includes("minutes")&&B==="hours",value:ie("minutes","--"),disabled:!w.includes("minutes")})]}),w.includes("seconds")&&t.jsxs(m.Fragment,{children:[t.jsx(u0,{variant:K?"h5":"h3",value:":",className:A.separator,ownerState:E,toolbarVariant:X}),t.jsx(oo,{variant:K?"h5":"h3",width:K&&S==="portrait"?Si:void 0,onClick:()=>Y("seconds"),selected:B==="seconds",value:ie("seconds","--")})]})]}),q&&!K&&t.jsxs(KH,{className:A.ampmSelection,ownerState:E,children:[t.jsx(oo,{variant:"subtitle2",selected:$==="am",typographyClassName:A.ampmLabel,value:Ti(_,"am"),onClick:b?void 0:()=>H("am"),disabled:y}),t.jsx(oo,{variant:"subtitle2",selected:$==="pm",typographyClassName:A.ampmLabel,value:Ti(_,"pm"),onClick:b?void 0:()=>H("pm"),disabled:y})]}),r&&K&&t.jsx(oo,{variant:"h5",onClick:()=>Y("meridiem"),selected:B==="meridiem",value:R&&$?Ti(_,$):"--",width:Si})]})]}))}function Ow(e,n){var b;const r=Vt(),s=Ht({props:e,name:n}),o=rw(s),i=s.ampm??r.is12HourCycleInCurrentLocale(),c=m.useMemo(()=>{var g;return((g=s.localeText)==null?void 0:g.toolbarTitle)==null?s.localeText:U({},s.localeText,{dateTimePickerToolbarTitle:s.localeText.toolbarTitle})},[s.localeText]),{openTo:d,views:u}=oU({views:s.views,openTo:s.openTo,defaultViews:["year","day","hours","minutes"],defaultOpenTo:"day"}),{shouldRenderTimeInASingleColumn:h,thresholdToRenderTimeInASingleColumn:x,views:p,timeSteps:y}=MH({thresholdToRenderTimeInASingleColumn:s.thresholdToRenderTimeInASingleColumn,ampm:i,timeSteps:s.timeSteps,views:u});return U({},s,o,{timeSteps:y,openTo:d,shouldRenderTimeInASingleColumn:h,thresholdToRenderTimeInASingleColumn:x,views:p,ampm:i,localeText:c,orientation:s.orientation??"portrait",slots:U({toolbar:JH,tabs:BH},s.slots),slotProps:U({},s.slotProps,{toolbar:U({ampm:i},(b=s.slotProps)==null?void 0:b.toolbar)})})}const QH=m.forwardRef(function(n,r){var g;const{toolbar:s,tabs:o,content:i,actionBar:c,shortcuts:d,ownerState:u}=Pw(n),{orientation:h}=vo(),{sx:x,className:p,classes:y}=n,b=c&&(((g=c.props.actions)==null?void 0:g.length)??0)>0;return t.jsxs(Iw,{ref:r,className:nn(as.root,y==null?void 0:y.root,p),sx:[{[`& .${as.tabs}`]:{gridRow:4,gridColumn:"1 / 4"},[`& .${as.actionBar}`]:{gridRow:5}},...Array.isArray(x)?x:[x]],ownerState:u,children:[h==="landscape"?d:s,h==="landscape"?s:d,t.jsxs(Dw,{className:nn(as.contentWrapper,y==null?void 0:y.contentWrapper),ownerState:u,sx:{display:"grid"},children:[i,o,b&&t.jsx(Bt,{sx:{gridRow:3,gridColumn:"1 / 4"}})]}),c]})}),ZH=["openTo","focusedView","timeViewsCount"],e7=function(n){var b,g;const{viewRenderers:r,popperView:s,rendererProps:o}=n,{openTo:i,focusedView:c,timeViewsCount:d}=o,u=at(o,ZH),h=U({},u,{autoFocus:!1,focusedView:null,sx:[{[`&.${Zh.root}`]:{borderBottom:0},[`&.${Zh.root}, .${ef.root}, &.${Qh.root}`]:{maxHeight:$a}}]}),x=pa(s),p=x?"day":s,y=x?s:"hours";return t.jsxs(m.Fragment,{children:[(b=r[p])==null?void 0:b.call(r,U({},o,{view:x?"day":s,focusedView:c&&Fa(c)?c:null,views:o.views.filter(Fa),sx:[{gridColumn:1},...h.sx]})),d>0&&t.jsxs(m.Fragment,{children:[t.jsx(Bt,{orientation:"vertical",sx:{gridColumn:2}}),(g=r[y])==null?void 0:g.call(r,U({},h,{view:x?s:"hours",focusedView:c&&pa(c)?c:null,openTo:pa(i)?i:"hours",views:o.views.filter(pa),sx:[{gridColumn:3},...h.sx]}))]})]})},kw=m.forwardRef(function(n,r){var y,b,g;const s=Vt(),o=Ow(n,"MuiDesktopDateTimePicker"),i=o.shouldRenderTimeInASingleColumn?Rw:Gc,c=U({day:Sa,month:Sa,year:Sa,hours:i,minutes:i,seconds:i,meridiem:i},o.viewRenderers),d=o.ampmInClock??!0,h=((y=c.hours)==null?void 0:y.name)===Gc.name?o.views:o.views.filter(S=>S!=="meridiem"),x=U({},o,{viewRenderers:c,format:_w(s,o),views:h,yearsPerRow:o.yearsPerRow??4,ampmInClock:d,slots:U({field:pw,layout:QH},o.slots),slotProps:U({},o.slotProps,{field:S=>{var v;return U({},Vi((v=o.slotProps)==null?void 0:v.field,S),KS(o))},toolbar:U({hidden:!0,ampmInClock:d},(b=o.slotProps)==null?void 0:b.toolbar),tabs:U({hidden:!0},(g=o.slotProps)==null?void 0:g.tabs)})}),{renderPicker:p}=gH({ref:r,props:x,valueManager:ur,valueType:"date-time",validator:Ed,rendererInterceptor:e7,steps:null});return p()});kw.propTypes={ampm:ne.bool,ampmInClock:ne.bool,autoFocus:ne.bool,className:ne.string,closeOnSelect:ne.bool,dayOfWeekFormatter:ne.func,defaultValue:ne.object,disabled:ne.bool,disableFuture:ne.bool,disableHighlightToday:ne.bool,disableIgnoringDatePartForTimeValidation:ne.bool,disableOpenPicker:ne.bool,disablePast:ne.bool,displayWeekNumber:ne.bool,enableAccessibleFieldDOMStructure:ne.any,fixedWeekNumber:ne.number,format:ne.string,formatDensity:ne.oneOf(["dense","spacious"]),inputRef:PS,label:ne.node,loading:ne.bool,localeText:ne.object,maxDate:ne.object,maxDateTime:ne.object,maxTime:ne.object,minDate:ne.object,minDateTime:ne.object,minTime:ne.object,minutesStep:ne.number,monthsPerRow:ne.oneOf([3,4]),name:ne.string,onAccept:ne.func,onChange:ne.func,onClose:ne.func,onError:ne.func,onMonthChange:ne.func,onOpen:ne.func,onSelectedSectionsChange:ne.func,onViewChange:ne.func,onYearChange:ne.func,open:ne.bool,openTo:ne.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),orientation:ne.oneOf(["landscape","portrait"]),readOnly:ne.bool,reduceAnimations:ne.bool,referenceDate:ne.object,renderLoading:ne.func,selectedSections:ne.oneOfType([ne.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),ne.number]),shouldDisableDate:ne.func,shouldDisableMonth:ne.func,shouldDisableTime:ne.func,shouldDisableYear:ne.func,showDaysOutsideCurrentMonth:ne.bool,skipDisabled:ne.bool,slotProps:ne.object,slots:ne.object,sx:ne.oneOfType([ne.arrayOf(ne.oneOfType([ne.func,ne.object,ne.bool])),ne.func,ne.object]),thresholdToRenderTimeInASingleColumn:ne.number,timeSteps:ne.shape({hours:ne.number,minutes:ne.number,seconds:ne.number}),timezone:ne.string,value:ne.object,view:ne.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),viewRenderers:ne.shape({day:ne.func,hours:ne.func,meridiem:ne.func,minutes:ne.func,month:ne.func,seconds:ne.func,year:ne.func}),views:ne.arrayOf(ne.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:ne.oneOf(["asc","desc"]),yearsPerRow:ne.oneOf([3,4])};const t7=[{views:FS},{views:MS}],Mw=m.forwardRef(function(n,r){var y,b,g,S,v,I;const s=Vt(),o=Ow(n,"MuiMobileDateTimePicker"),i=o.shouldRenderTimeInASingleColumn?Rw:Gc,c=U({day:Sa,month:Sa,year:Sa,hours:i,minutes:i,seconds:i,meridiem:i},o.viewRenderers),d=o.ampmInClock??!1,h=((y=c.hours)==null?void 0:y.name)===Gc.name?o.views:o.views.filter(w=>w!=="meridiem"),x=U({},o,{viewRenderers:c,format:_w(s,o),views:h,ampmInClock:d,slots:U({field:pw},o.slots),slotProps:U({},o.slotProps,{field:w=>{var D;return U({},Vi((D=o.slotProps)==null?void 0:D.field,w),KS(o))},toolbar:U({hidden:!1,ampmInClock:d},(b=o.slotProps)==null?void 0:b.toolbar),tabs:U({hidden:!1},(g=o.slotProps)==null?void 0:g.tabs),layout:U({},(S=o.slotProps)==null?void 0:S.layout,{sx:kU([{[`& .${Zh.root}`]:{width:La},[`& .${ef.root}`]:{flex:1,maxHeight:$a-1,[`.${ef.item}`]:{width:"auto"}},[`& .${Qh.root}`]:{width:La,maxHeight:$a,flex:1,[`.${Qh.item}`]:{justifyContent:"center"}}}],(I=(v=o.slotProps)==null?void 0:v.layout)==null?void 0:I.sx)})})}),{renderPicker:p}=wH({ref:r,props:x,valueManager:ur,valueType:"date-time",validator:Ed,steps:t7});return p()});Mw.propTypes={ampm:ne.bool,ampmInClock:ne.bool,autoFocus:ne.bool,className:ne.string,closeOnSelect:ne.bool,dayOfWeekFormatter:ne.func,defaultValue:ne.object,disabled:ne.bool,disableFuture:ne.bool,disableHighlightToday:ne.bool,disableIgnoringDatePartForTimeValidation:ne.bool,disableOpenPicker:ne.bool,disablePast:ne.bool,displayWeekNumber:ne.bool,enableAccessibleFieldDOMStructure:ne.any,fixedWeekNumber:ne.number,format:ne.string,formatDensity:ne.oneOf(["dense","spacious"]),inputRef:PS,label:ne.node,loading:ne.bool,localeText:ne.object,maxDate:ne.object,maxDateTime:ne.object,maxTime:ne.object,minDate:ne.object,minDateTime:ne.object,minTime:ne.object,minutesStep:ne.number,monthsPerRow:ne.oneOf([3,4]),name:ne.string,onAccept:ne.func,onChange:ne.func,onClose:ne.func,onError:ne.func,onMonthChange:ne.func,onOpen:ne.func,onSelectedSectionsChange:ne.func,onViewChange:ne.func,onYearChange:ne.func,open:ne.bool,openTo:ne.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),orientation:ne.oneOf(["landscape","portrait"]),readOnly:ne.bool,reduceAnimations:ne.bool,referenceDate:ne.object,renderLoading:ne.func,selectedSections:ne.oneOfType([ne.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),ne.number]),shouldDisableDate:ne.func,shouldDisableMonth:ne.func,shouldDisableTime:ne.func,shouldDisableYear:ne.func,showDaysOutsideCurrentMonth:ne.bool,skipDisabled:ne.bool,slotProps:ne.object,slots:ne.object,sx:ne.oneOfType([ne.arrayOf(ne.oneOfType([ne.func,ne.object,ne.bool])),ne.func,ne.object]),thresholdToRenderTimeInASingleColumn:ne.number,timeSteps:ne.shape({hours:ne.number,minutes:ne.number,seconds:ne.number}),timezone:ne.string,value:ne.object,view:ne.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),viewRenderers:ne.shape({day:ne.func,hours:ne.func,meridiem:ne.func,minutes:ne.func,month:ne.func,seconds:ne.func,year:ne.func}),views:ne.arrayOf(ne.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:ne.oneOf(["asc","desc"]),yearsPerRow:ne.oneOf([3,4])};const n7=["desktopModeMediaQuery"],h0=m.forwardRef(function(n,r){const s=Ht({props:n,name:"MuiDateTimePicker"}),{desktopModeMediaQuery:o=OU}=s,i=at(s,n7);return Yc(o,{defaultMatches:!0})?t.jsx(kw,U({ref:r},i)):t.jsx(Mw,U({ref:r},i))}),Nw=({initialData:e,onSubmit:n,submitButtonText:r="Submit",isEdit:s})=>{var v,I;const{profile:o,channelRelations:{hasChannel:i}}=ps(),c=Pt(),[d,u]=m.useState({title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",startDate:(e==null?void 0:e.startDate)||new Date,endDate:(e==null?void 0:e.endDate)||new Date,channelId:(e==null?void 0:e.channelId)||"",options:(e==null?void 0:e.options)||[{text:""},{text:""}],media:(e==null?void 0:e.media)||[]}),[h,x]=m.useState(((v=e==null?void 0:e.media)==null?void 0:v.find(w=>w.type===Qb.COVER))||null);m.useEffect(()=>{o&&(!o.staffChannels||o.staffChannels.length)},[o]);const p=(w,D)=>{u(E=>({...E,[w]:D}))},y=(w,D)=>{const E=[...d.options];E[w]={text:D},p("options",E)},b=()=>{p("options",[...d.options,{text:""}])},g=w=>{if(d.options.length<=2)return;const D=d.options.filter((E,A)=>A!==w);p("options",D)},S=w=>{w.preventDefault();const D={...d,media:h?[h]:[]};n(D)};return i()?t.jsx(C,{component:"form",onSubmit:S,children:t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,children:t.jsxs(ft,{fullWidth:!0,disabled:s,children:[t.jsx(wt,{id:"channel-select-label",children:"Channel"}),t.jsx(mt,{labelId:"channel-select-label",value:d.channelId,label:"Channel",onChange:w=>p("channelId",w.target.value),required:!0,children:(I=o==null?void 0:o.staffChannels)==null?void 0:I.map(w=>t.jsx(Ce,{value:w.channelId,children:w.channel.name},w.id))})]})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(Ze,{fullWidth:!0,label:"Poll Title",value:d.title,onChange:w=>p("title",w.target.value),required:!0})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(Ze,{fullWidth:!0,label:"Description",value:d.description,onChange:w=>p("description",w.target.value),multiline:!0,rows:4})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(h0,{label:"Start Date",value:d.startDate,onChange:w=>p("startDate",w),sx:{width:"100%"}})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(h0,{label:"End Date",value:d.endDate,onChange:w=>p("endDate",w),sx:{width:"100%"}})}),t.jsx(F,{item:!0,xs:12,children:t.jsxs(ot,{sx:{p:3,mb:2},children:[t.jsx(j,{variant:"h6",sx:{mb:3},children:"Media"}),t.jsx(ge,{spacing:4,children:t.jsx(C,{children:t.jsx(lj,{title:"Cover Media",description:"Upload an image or short video that will be displayed with your poll and in previews.",value:h?{id:h.id||"0",url:h.url,type:h.type,format:h.format}:null,onChange:w=>x(w?{id:w.id,url:w.url,type:w.type,format:w.format,pollId:""}:null),mediaTypeId:Qb.COVER,useNewsFormats:!1})})})]})}),t.jsx(F,{item:!0,xs:12,children:t.jsxs(ot,{sx:{p:2,mb:2},children:[t.jsx(j,{variant:"h6",sx:{mb:2},children:"Poll Options"}),d.options.map((w,D)=>t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Ze,{fullWidth:!0,label:`Option ${D+1}`,value:w.text,onChange:E=>y(D,E.target.value),required:!0,sx:{mr:1}}),t.jsx(Fe,{onClick:()=>g(D),disabled:d.options.length<=2,children:t.jsx(Go,{})})]},D)),t.jsx(he,{startIcon:t.jsx(Xp,{}),onClick:b,variant:"outlined",size:"small",children:"Add Option"})]})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(he,{type:"submit",variant:"contained",size:"large",fullWidth:!0,children:r})})]})}):t.jsx(C,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",p:3},children:t.jsx(Ys,{title:"Channel Required",description:"You need to create a channel before you can start creating polls.",icon:t.jsx(Ji,{sx:{fontSize:48}}),action:{label:"Create Channel",onClick:()=>c(ye.STUDIO_CHANNEL_CREATE)}})})},r7=()=>{const{api:e}=Qe(),n=Pt(),{execute:r}=st(),s=async o=>{if(!o)return;await r(()=>e==null?void 0:e.studio.createPoll(o),{showSuccessMessage:!0,successMessage:"Poll created successfully!"})&&n(`${ye.STUDIO_POLLS}`)};return t.jsxs(Et,{sx:{maxWidth:800,mx:"auto",p:3},children:[t.jsx(j,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Create Poll"}),t.jsx(Nw,{onSubmit:s,submitButtonText:"Create Poll"})]})},s7=()=>{const{id:e}=es(),n=Pt(),{api:r}=Qe(),[s,o]=m.useState(null),{execute:i}=st(),{execute:c}=st();m.useEffect(()=>{(async()=>{if(!e)return;const h=await i(()=>r==null?void 0:r.app.poll.get(e),{showErrorToast:!0});h&&o(h)})()},[e,r==null?void 0:r.app.poll,i]);const d=async u=>{e&&(await c(()=>r==null?void 0:r.app.poll.update(e,u),{showSuccessMessage:!0,successMessage:"Poll updated successfully!"}),n(ye.STUDIO_POLL_VIEW.replace(":id",e)))};return s?t.jsxs(Et,{sx:{maxWidth:800,mx:"auto",p:3},children:[t.jsx(j,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Edit Poll"}),t.jsx(Nw,{initialData:{title:s.title,description:s.description,startDate:s.startDate,endDate:s.endDate,channelId:s.channel.id,options:s.options.map(u=>({text:u.text,id:u.id}))},onSubmit:d,submitButtonText:"Update Poll"})]}):null},o7=({poll:e})=>{const n=mn(),r=e.statistics.totalVotes;return t.jsx(C,{children:e.options.map(s=>{const o=r>0?s.votes/r*100:0;return t.jsxs(C,{sx:{mb:2},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[t.jsx(j,{variant:"body1",children:s.text}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:[s.votes," votes (",o.toFixed(1),"%)"]})]}),t.jsx(Ia,{variant:"determinate",value:o,sx:{height:8,borderRadius:1,bgcolor:fe(n.palette.primary.main,.1),"& .MuiLinearProgress-bar":{borderRadius:1,bgcolor:n.palette.primary.main}}})]},s.id)})})};var Nx={},a7=tt;Object.defineProperty(Nx,"__esModule",{value:!0});var Lw=Nx.default=void 0,i7=a7(nt()),l7=t;Lw=Nx.default=(0,i7.default)((0,l7.jsx)("path",{d:"M18 13h-.68l-2 2h1.91L19 17H5l1.78-2h2.05l-2-2H6l-3 3v4c0 1.1.89 2 1.99 2H19c1.1 0 2-.89 2-2v-4zm-1-5.05-4.95 4.95-3.54-3.54 4.95-4.95zm-4.24-5.66L6.39 8.66c-.39.39-.39 1.02 0 1.41l4.95 4.95c.39.39 1.02.39 1.41 0l6.36-6.36c.39-.39.39-1.02 0-1.41L14.16 2.3c-.38-.4-1.01-.4-1.4-.01"}),"HowToVote");const c7=()=>t.jsx(Et,{maxWidth:"lg",sx:{mt:4},children:t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsxs(C,{sx:{mb:3},children:[t.jsx(ce,{variant:"text",width:"60%",height:40}),t.jsx(ce,{variant:"text",width:"40%",height:24})]})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx($e,{children:t.jsxs(Be,{children:[t.jsx(ce,{variant:"text",width:"50%",height:32,sx:{mb:2}}),t.jsx(ge,{spacing:2,children:[1,2,3,4].map(e=>t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsx(ce,{variant:"text",width:"60%"}),t.jsx(ce,{variant:"text",width:"20%"})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:20,sx:{borderRadius:1}})]},e))})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx(ge,{spacing:3,children:[1,2].map(e=>t.jsx($e,{children:t.jsxs(Be,{children:[t.jsx(ce,{variant:"text",width:"50%",height:24}),t.jsx(ce,{variant:"text",width:"70%",height:40})]})},e))})})]})}),d7=()=>{var b;const{id:e}=es(),{api:n}=Qe(),{execute:r}=st(),[s,o]=m.useState(null),[i,c]=m.useState(!0),[d,u]=m.useState(!1);m.useEffect(()=>{(async()=>{if(e){c(!0);const S=await r(()=>n==null?void 0:n.app.poll.get(e),{showErrorToast:!0});S&&o(S),c(!1)}})()},[e,r]);const h=async g=>{if(!e)return;if(await r(()=>n==null?void 0:n.app.poll.convertToNews(e,g),{showSuccessMessage:!0,successMessage:"Poll converted to news successfully!"})){const v=await r(()=>n==null?void 0:n.app.poll.get(e),{showErrorToast:!0});v&&o(v)}};if(i)return t.jsx(c7,{});if(!s)return t.jsx(Et,{maxWidth:"lg",sx:{mt:4},children:t.jsx(j,{variant:"h4",children:"Poll not found"})});const x=new Date>=new Date(s.startDate)&&new Date<=new Date(s.endDate),p=new Date>=new Date(s.startDate),y=!s.isConverted&&!((b=s.stats)!=null&&b.hasEnded);return t.jsxs(Et,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs(F,{container:!0,spacing:4,children:[t.jsxs(F,{item:!0,xs:12,children:[t.jsxs(C,{sx:{mb:3},children:[t.jsx(j,{variant:"h4",gutterBottom:!0,children:s.title}),t.jsx(j,{variant:"body1",color:"text.secondary",children:s.description})]}),t.jsxs(C,{sx:{display:"flex",gap:1,mb:3,alignItems:"center",justifyContent:"space-between"},children:[t.jsxs(C,{sx:{display:"flex",gap:1},children:[t.jsx(Ke,{label:x?"Active":p?"Ended":"Scheduled",color:x?"success":p?"error":"warning"}),s.isTrending&&t.jsx(Ke,{icon:t.jsx(Ki,{}),label:"Trending",color:"primary"}),s.isConverted&&t.jsx(Ke,{icon:t.jsx(ki,{}),label:"Converted to News",color:"info"})]}),y&&t.jsx(he,{variant:"contained",startIcon:t.jsx(ki,{}),onClick:()=>u(!0),size:"small",children:"Convert to News"})]})]}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx($e,{children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Poll Results"}),t.jsx(o7,{poll:s})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(ge,{spacing:3,children:[t.jsx(ot,{elevation:0,sx:{p:2,bgcolor:"primary.light",color:"primary.contrastText",borderRadius:2},children:t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(Lw,{fontSize:"large"}),t.jsxs(C,{children:[t.jsx(j,{variant:"overline",children:"Total Votes"}),t.jsx(j,{variant:"h4",children:s.statistics.totalVotes})]})]})}),t.jsx($e,{children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Time Frame"}),t.jsxs(ge,{spacing:2,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"caption",color:"text.secondary",children:"Start Date"}),t.jsx(j,{children:new Date(s.startDate).toLocaleString()})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"caption",color:"text.secondary",children:"End Date"}),t.jsx(j,{children:new Date(s.endDate).toLocaleString()})]})]})]})})]})})]}),t.jsx(CS,{open:d,poll:s,onClose:()=>u(!1),onConvert:h})]})};function u7(e){const{children:n,value:r,index:s,...o}=e;return t.jsx("div",{role:"tabpanel",hidden:r!==s,id:`expense-order-tabpanel-${s}`,"aria-labelledby":`expense-order-tab-${s}`,...o,children:r===s&&t.jsx(C,{sx:{py:3},children:n})})}const h7=()=>{const e=Pt(),{api:n}=Qe(),[r,s]=m.useState(0),[o,i]=m.useState([]),[c,d]=m.useState(!0),{execute:u}=st(),h=[{label:"All",status:void 0},{label:"Draft",status:Je.DRAFT},{label:"Submitted",status:Je.SUBMITTED},{label:"Approved",status:Je.APPROVED},{label:"Paid",status:Je.PAID},{label:"Rejected",status:Je.REJECTED}],x=async I=>{d(!0);const w=await u(()=>n.app.expenseOrder.getMyExpenseOrders({page:1,limit:50},I),{showErrorToast:!0});w&&i(w.items),d(!1)};m.useEffect(()=>{x(h[r].status)},[r,u]);const p=(I,w)=>{s(w)},y=I=>{e(ye.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",I.id))},b=I=>{e(ye.STUDIO_EXPENSE_ORDER_EDIT.replace(":id",I.id))},g=async I=>{await u(()=>n.app.expenseOrder.submitExpenseOrder(I.id),{showSuccessMessage:!0,successMessage:"Expense order submitted successfully!"})&&x(h[r].status)},S=async I=>{await u(()=>n.app.expenseOrder.cancelExpenseOrder(I.id),{showSuccessMessage:!0,successMessage:"Expense order cancelled successfully!"})&&x(h[r].status)},v=()=>{e(ye.STUDIO_EXPENSE_ORDER_CREATE)};return t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[t.jsx(j,{variant:"h4",component:"h1",sx:{fontWeight:600},children:"Expense Orders"}),t.jsx(he,{variant:"contained",startIcon:t.jsx(fo,{}),onClick:v,children:"Create New"})]}),t.jsx(C,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:t.jsx(mo,{value:r,onChange:p,"aria-label":"expense order status tabs",children:h.map((I,w)=>t.jsx(tr,{label:I.label},w))})}),h.map((I,w)=>t.jsx(u7,{value:r,index:w,children:c?t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(_n,{})}):o.length===0?t.jsxs(C,{sx:{textAlign:"center",py:8},children:[t.jsx(j,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"No expense orders found"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:I.status?`No ${I.label.toLowerCase()} expense orders`:"You haven't created any expense orders yet"}),t.jsx(he,{variant:"contained",startIcon:t.jsx(fo,{}),onClick:v,children:"Create Your First Expense Order"})]}):t.jsx(F,{container:!0,spacing:3,children:o.map(D=>t.jsx(F,{item:!0,xs:12,md:6,lg:4,children:t.jsx(Bp,{expenseOrder:D,onView:y,onEdit:b,onSubmit:g,onCancel:S,userRole:"journalist"})},D.id))})},w))]})},f7=()=>{var h;const e=Pt(),{api:n}=Qe(),{profile:r}=ps(),{execute:s,loading:o}=st(),i=((h=r==null?void 0:r.staffChannels)==null?void 0:h.map(x=>x.channel))||[],c=oj(),d=async x=>{const p=await s(()=>n.app.expenseOrder.createExpenseOrder(x),{showSuccessMessage:!0,successMessage:"Expense order created successfully!"});p&&e(ye.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",p.id))},u=()=>{e(ye.STUDIO_EXPENSE_ORDERS)};return t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(he,{startIcon:t.jsx(Ws,{}),onClick:u,sx:{mr:2},children:"Back"}),t.jsx(j,{variant:"h4",component:"h1",sx:{fontWeight:600},children:"Create Expense Order"})]}),i.length===0&&!o?t.jsxs(C,{sx:{textAlign:"center",py:8,bgcolor:"background.paper",borderRadius:1},children:[t.jsx(j,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"No Channels Available"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"You need to be a member of at least one channel to create expense orders."})]}):t.jsx(uj,{channels:i,expenseTypes:c,onSave:d,loading:o,isEdit:!1})]})},p7=()=>{var S;const e=Pt(),{id:n}=es(),{api:r}=Qe(),{profile:s}=ps(),[o,i]=m.useState(null),[c,d]=m.useState(!0),{execute:u,loading:h}=st(),x=((S=s==null?void 0:s.staffChannels)==null?void 0:S.map(v=>v.channel))||[],p=oj();m.useEffect(()=>{(async()=>{if(n)try{d(!0);const I=await u(()=>r.app.expenseOrder.getExpenseOrder(n),{showErrorToast:!0});I&&i(I)}finally{d(!1)}})()},[n,u]);const y=async v=>{if(!n)return;const I=await u(()=>r.app.expenseOrder.updateExpenseOrder(n,v),{showSuccessMessage:!0,successMessage:"Expense order updated successfully!"});I&&(i(I),e(ye.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",I.id)))},b=async v=>{await u(()=>r.app.expenseOrder.submitExpenseOrder(v.id),{showSuccessMessage:!0,successMessage:"Expense order submitted successfully!"})&&e(ye.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",v.id))},g=()=>{e(o?ye.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",o.id):ye.STUDIO_EXPENSE_ORDERS)};return c?t.jsx(C,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:t.jsx(_n,{})}):o?o.status!==Je.DRAFT?t.jsx(C,{sx:{p:3},children:t.jsxs(C,{sx:{textAlign:"center",py:8,bgcolor:"background.paper",borderRadius:1},children:[t.jsx(j,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"Cannot Edit Expense Order"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"This expense order cannot be edited because it has already been submitted."}),t.jsx(he,{startIcon:t.jsx(Ws,{}),onClick:g,children:"Back to Expense Order"})]})}):t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(he,{startIcon:t.jsx(Ws,{}),onClick:g,sx:{mr:2},children:"Back"}),t.jsx(j,{variant:"h4",component:"h1",sx:{fontWeight:600},children:"Edit Expense Order"})]}),t.jsx(uj,{expenseOrder:o,channels:x,expenseTypes:p,onSave:y,onSubmit:b,loading:h,isEdit:!0})]}):t.jsx(C,{sx:{p:3},children:t.jsxs(C,{sx:{textAlign:"center",py:8,bgcolor:"background.paper",borderRadius:1},children:[t.jsx(j,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"Expense Order Not Found"}),t.jsx(he,{startIcon:t.jsx(Ws,{}),onClick:g,children:"Back"})]})})},x7=()=>{const e=Pt(),{id:n}=es(),{api:r}=Qe(),[s,o]=m.useState(null),[i,c]=m.useState(!0),[d,u]=m.useState(!1),[h,x]=m.useState(null),[p,y]=m.useState(!1),[b,g]=m.useState(""),S=async()=>{if(n)try{c(!0),x(null);const R=await r.app.expenseOrder.getExpenseOrder(n);o(R)}catch(R){x(R.message||"Failed to fetch expense order")}finally{c(!1)}};m.useEffect(()=>{S()},[n]);const v=(R,L)=>new Intl.NumberFormat("en-US",{style:"currency",currency:L}).format(R),I=()=>{e(ye.STUDIO_EXPENSE_ORDERS)},w=()=>{s&&e(ye.STUDIO_EXPENSE_ORDER_EDIT.replace(":id",s.id))},D=async()=>{if(s){u(!0);try{await r.app.expenseOrder.submitExpenseOrder(s.id),await S()}catch(R){x(R.message||"Failed to submit expense order")}finally{u(!1)}}},E=async()=>{if(s){u(!0);try{await r.app.expenseOrder.cancelExpenseOrder(s.id,b),await S(),y(!1),g("")}catch(R){x(R.message||"Failed to cancel expense order")}finally{u(!1)}}};if(i)return t.jsx(C,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:t.jsx(_n,{})});if(h||!s)return t.jsxs(C,{sx:{p:3},children:[t.jsx(dt,{severity:"error",children:h||"Expense order not found"}),t.jsx(he,{startIcon:t.jsx(Ws,{}),onClick:I,sx:{mt:2},children:"Back to Expense Orders"})]});const A=s.status===Je.DRAFT,_=s.status===Je.DRAFT,O=[Je.DRAFT,Je.SUBMITTED].includes(s.status);return t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(he,{startIcon:t.jsx(Ws,{}),onClick:I,sx:{mr:2},children:"Back"}),t.jsx(j,{variant:"h4",component:"h1",sx:{fontWeight:600,flex:1},children:"Expense Order Details"}),t.jsx(Wp,{status:s.status})]}),h&&t.jsx(dt,{severity:"error",sx:{mb:3},children:h}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsxs(F,{item:!0,xs:12,md:8,children:[t.jsxs(ot,{sx:{p:3,mb:3},children:[t.jsx(j,{variant:"h5",sx:{mb:2,fontWeight:600},children:s.title}),t.jsx(j,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:s.description}),t.jsx(Bt,{sx:{my:3}}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Channel"}),t.jsx(j,{variant:"body1",sx:{fontWeight:500},children:s.channel.name})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Expense Type"}),t.jsx(j,{variant:"body1",sx:{fontWeight:500},children:s.type.name})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Amount"}),t.jsx(j,{variant:"h6",sx:{fontWeight:700,color:"primary.main"},children:v(s.amount,s.currency)})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(j,{variant:"body1",children:cp(new Date(s.createdAt),"PPP")})]})]}),s.receiptUrl&&t.jsxs(t.Fragment,{children:[t.jsx(Bt,{sx:{my:3}}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Receipt"}),t.jsxs(Kc,{href:s.receiptUrl,target:"_blank",rel:"noopener noreferrer",sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Bs,{fontSize:"small"}),"View Receipt"]})]})]}),s.notes&&t.jsxs(t.Fragment,{children:[t.jsx(Bt,{sx:{my:3}}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Notes"}),t.jsx(j,{variant:"body1",sx:{fontStyle:"italic"},children:s.notes})]})]})]}),t.jsxs(ot,{sx:{p:3},children:[t.jsx(j,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Actions"}),t.jsxs(C,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[A&&t.jsx(he,{variant:"outlined",startIcon:t.jsx(hs,{}),onClick:w,disabled:d,children:"Edit"}),_&&t.jsx(he,{variant:"contained",startIcon:t.jsx(Xc,{}),onClick:D,disabled:d,children:"Submit for Approval"}),O&&t.jsx(he,{variant:"outlined",color:"error",startIcon:t.jsx(Cs,{}),onClick:()=>y(!0),disabled:d,children:"Cancel"})]})]})]}),t.jsxs(F,{item:!0,xs:12,md:4,children:[t.jsxs(ot,{sx:{p:3,mb:3},children:[t.jsx(j,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Timeline"}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",gap:2},children:[t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:"Created"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:qr(new Date(s.createdAt),{addSuffix:!0})})]}),s.submittedAt&&t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:"Submitted"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:qr(new Date(s.submittedAt),{addSuffix:!0})})]}),s.approvedAt&&t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:s.status===Je.APPROVED?"Approved":"Reviewed"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:qr(new Date(s.approvedAt),{addSuffix:!0})}),s.approver&&t.jsxs(j,{variant:"caption",display:"block",color:"text.secondary",children:["by ",s.approver.displayName]})]}),s.paidAt&&t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:"Paid"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:qr(new Date(s.paidAt),{addSuffix:!0})}),s.paymentReference&&t.jsxs(j,{variant:"caption",display:"block",color:"text.secondary",children:["Ref: ",s.paymentReference]})]})]})]}),s.rejectionReason&&t.jsxs(ot,{sx:{p:3,bgcolor:"error.lighter"},children:[t.jsx(j,{variant:"h6",sx:{mb:1,fontWeight:600,color:"error.main"},children:"Rejection Reason"}),t.jsx(j,{variant:"body2",color:"error.main",children:s.rejectionReason})]})]})]}),t.jsxs(qt,{open:p,onClose:()=>y(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Cancel Expense Order"}),t.jsxs(Kt,{children:[t.jsx(j,{variant:"body2",sx:{mb:2},children:"Are you sure you want to cancel this expense order? This action cannot be undone."}),t.jsx(Ze,{fullWidth:!0,multiline:!0,rows:3,label:"Reason for cancellation (optional)",value:b,onChange:R=>g(R.target.value),placeholder:"Provide a reason for cancelling this expense order..."})]}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>y(!1),children:"Keep Order"}),t.jsx(he,{onClick:E,color:"error",variant:"contained",disabled:d,children:"Cancel Order"})]})]})]})},f0=()=>{const[e,n]=m.useState(null),[r,s]=m.useState(!0),[o,i]=m.useState(null),c=Pt(),{api:d}=Qe(),{execute:u}=st();m.useEffect(()=>{h()},[]);const h=async()=>{var g,S;s(!0),i(null);const[y,b]=await Promise.all([u(()=>d.app.subscription.getSubscriptionAnalytics({period:"30d"}),{showErrorToast:!0}),u(()=>d.app.subscription.getRevenueMetrics({period:"30d"}),{showErrorToast:!0})]);if(y&&b){let v=0;if((S=(g=b.metrics)==null?void 0:g[0])!=null&&S.channels){const w=b.metrics[0].channels;for(const D in w){const E=w[D];v+=E.revenue||0}}const I={totalUsers:12543,totalChannels:1247,totalSubscriptions:y.total_subscriptions,monthlyRevenue:v,activeSubscriptions:y.active_subscriptions,newUsersThisMonth:342};n(I)}s(!1)},x=y=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(y/100),p=[{title:"News Management",description:"Manage news articles and moderate content",icon:t.jsx(is,{sx:{fontSize:40}}),path:ye.ADMIN_NEWS,color:"#1976d2"},{title:"Poll Management",description:"Oversee polls and voting analytics",icon:t.jsx(is,{sx:{fontSize:40}}),path:ye.ADMIN_POLLS,color:"#7b1fa2"},{title:"User Management",description:"Manage users, roles, and permissions",icon:t.jsx(ho,{sx:{fontSize:40}}),path:ye.ADMIN_USERS,color:"#388e3c"},{title:"Channel Management",description:"Oversee channels and content moderation",icon:t.jsx(gc,{sx:{fontSize:40}}),path:ye.ADMIN_CHANNELS,color:"#f57c00"},{title:"Expense Orders",description:"Review and approve expense claims",icon:t.jsx(is,{sx:{fontSize:40}}),path:ye.ADMIN_EXPENSE_ORDERS,color:"#d32f2f"},{title:"Payout Management",description:"Process payouts and financial transactions",icon:t.jsx(is,{sx:{fontSize:40}}),path:ye.ADMIN_PAYOUTS,color:"#2e7d32"},{title:"Tag Management",description:"Moderate tags and manage taxonomy",icon:t.jsx(is,{sx:{fontSize:40}}),path:ye.ADMIN_TAGS,color:"#795548"},{title:"Subscription Management",description:"Monitor subscriptions and billing",icon:t.jsx(Pa,{sx:{fontSize:40}}),path:ye.ADMIN_SUBSCRIPTIONS,color:"#ff5722"},{title:"Analytics",description:"Platform analytics and insights",icon:t.jsx(is,{sx:{fontSize:40}}),path:ye.ADMIN_ANALYTICS,color:"#9c27b0"},{title:"Settings",description:"Platform configuration and settings",icon:t.jsx(dc,{sx:{fontSize:40}}),path:ye.ADMIN_SETTINGS,color:"#5d4037"}];return t.jsxs(Et,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(m0,{sx:{fontSize:32,mr:2}}),t.jsx(j,{variant:"h4",component:"h1",children:"Admin Dashboard"})]}),o&&t.jsx(dt,{severity:"error",sx:{mb:3},children:o}),t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx($e,{children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(sA,{sx:{fontSize:24,mr:1,color:"#1976d2"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Total Users"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(ce,{width:80}):e==null?void 0:e.totalUsers.toLocaleString()}),t.jsx(j,{variant:"body2",color:"textSecondary",children:r?t.jsx(ce,{width:120}):`+${e==null?void 0:e.newUsersThisMonth} this month`})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx($e,{children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(gc,{sx:{fontSize:24,mr:1,color:"#388e3c"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Total Channels"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(ce,{width:80}):e==null?void 0:e.totalChannels.toLocaleString()})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx($e,{children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Pa,{sx:{fontSize:24,mr:1,color:"#f57c00"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Active Subscriptions"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(ce,{width:80}):e==null?void 0:e.activeSubscriptions.toLocaleString()}),t.jsx(j,{variant:"body2",color:"textSecondary",children:r?t.jsx(ce,{width:120}):`${e==null?void 0:e.totalSubscriptions} total`})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx($e,{children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Vs,{sx:{fontSize:24,mr:1,color:"#7b1fa2"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Monthly Revenue"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(ce,{width:100}):x((e==null?void 0:e.monthlyRevenue)||0)})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx($e,{children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(us,{sx:{fontSize:24,mr:1,color:"#d32f2f"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Growth Rate"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(ce,{width:60}):"+12.5%"}),t.jsx(j,{variant:"body2",color:"textSecondary",children:"vs last month"})]})})})]}),t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{mb:3},children:"Administration"}),t.jsx(F,{container:!0,spacing:3,children:p.map(y=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsxs($e,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[t.jsxs(Be,{sx:{flexGrow:1},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(C,{sx:{color:y.color,mr:2},children:y.icon}),t.jsx(j,{variant:"h6",component:"h2",children:y.title})]}),t.jsx(j,{variant:"body2",color:"textSecondary",children:y.description})]}),t.jsx(Ch,{children:t.jsx(he,{size:"small",variant:"contained",onClick:()=>c(y.path),sx:{backgroundColor:y.color},children:"Manage"})})]})},y.title))})]})},m7=()=>t.jsxs(Et,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(ho,{sx:{fontSize:32,mr:2}}),t.jsx(j,{variant:"h4",component:"h1",children:"User Management"})]}),t.jsx($e,{children:t.jsxs(Be,{sx:{textAlign:"center",py:8},children:[t.jsx(ho,{sx:{fontSize:64,color:"text.secondary",mb:2}}),t.jsx(j,{variant:"h6",gutterBottom:!0,children:"User Management Coming Soon"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"This section will include user management, roles, permissions, and user analytics."})]})})]}),g7=()=>t.jsxs(Et,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(gc,{sx:{fontSize:32,mr:2}}),t.jsx(j,{variant:"h4",component:"h1",children:"Channel Management"})]}),t.jsx($e,{children:t.jsxs(Be,{sx:{textAlign:"center",py:8},children:[t.jsx(gc,{sx:{fontSize:64,color:"text.secondary",mb:2}}),t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Channel Management Coming Soon"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"This section will include channel moderation, content management, and channel analytics."})]})})]}),b7=()=>{const[e,n]=m.useState([]),[r,s]=m.useState(null),[o,i]=m.useState(!0),[c,d]=m.useState(!1),[u,h]=m.useState(null),[x,p]=m.useState(null),[y,b]=m.useState(""),[g,S]=m.useState({}),[v]=m.useState(Le),[I,w]=m.useState([]),[D,E]=m.useState(!1),[A,_]=m.useState("cancel"),[O,R]=m.useState(""),{api:L}=Qe(),{execute:B}=st();m.useEffect(()=>{Y(),$()},[g,v]);const Y=async()=>{i(!0),h(null);const V=await B(()=>L.app.subscription.getAllSubscriptions(v,g),{showErrorToast:!0});V&&n(V.items||[]),i(!1)},$=async()=>{d(!0);const V=await B(()=>L.app.subscription.getSubscriptionAnalytics({period:"30d"}),{showErrorToast:!1});V&&s(V),d(!1)},H=()=>{y.trim()?S({...g}):Y()},X=(V,ee)=>{S({...g,[V]:ee||void 0})},K=async()=>{if(I.length===0)return;i(!0);const V={action:A,subscription_ids:I,reason:O||void 0},ee=await B(()=>L.app.subscription.bulkUpdateSubscriptions(V),{showSuccessMessage:!0,successMessage:"Successfully updated subscriptions"});ee&&(ee.failed>0&&h(`Failed to update ${ee.failed} subscriptions`),E(!1),w([]),R(""),await Y()),i(!1)},q=async()=>{const V=await B(()=>L.app.subscription.exportSubscriptions(g,"csv"),{showErrorToast:!0});if(V){const ee=window.URL.createObjectURL(V),Pe=document.createElement("a");Pe.href=ee,Pe.download=`subscriptions-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(Pe),Pe.click(),window.URL.revokeObjectURL(ee),document.body.removeChild(Pe)}},Z=V=>kc(V),Q=V=>new Date(V).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),ie=(V,ee)=>new Intl.NumberFormat("en-US",{style:"currency",currency:ee.toUpperCase()}).format(V/100);return t.jsxs(Et,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsx(j,{variant:"h4",gutterBottom:!0,children:"Subscription Management"}),r&&t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx($e,{children:t.jsxs(Be,{children:[t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Total Subscriptions"}),t.jsx(j,{variant:"h4",children:c?t.jsx(ce,{width:60}):r.total_subscriptions.toLocaleString()})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx($e,{children:t.jsxs(Be,{children:[t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Active Subscriptions"}),t.jsx(j,{variant:"h4",children:c?t.jsx(ce,{width:60}):r.active_subscriptions.toLocaleString()})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx($e,{children:t.jsxs(Be,{children:[t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"New This Month"}),t.jsx(j,{variant:"h4",children:c?t.jsx(ce,{width:60}):r.new_subscriptions.toLocaleString()})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx($e,{children:t.jsxs(Be,{children:[t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Churn Rate"}),t.jsx(j,{variant:"h4",children:c?t.jsx(ce,{width:60}):`${(r.churn_rate*100).toFixed(1)}%`})]})})})]}),t.jsx($e,{sx:{mb:3},children:t.jsx(Be,{children:t.jsxs(ge,{direction:"row",spacing:2,alignItems:"center",flexWrap:"wrap",children:[t.jsx(Ze,{placeholder:"Search subscriptions...",value:y,onChange:V=>b(V.target.value),onKeyPress:V=>V.key==="Enter"&&H(),InputProps:{startAdornment:t.jsx(Gi,{sx:{mr:1,color:"text.secondary"}})},sx:{minWidth:250}}),t.jsxs(ft,{sx:{minWidth:120},children:[t.jsx(wt,{children:"Status"}),t.jsxs(mt,{value:g.status||"",onChange:V=>X("status",V.target.value),label:"Status",children:[t.jsx(Ce,{value:"",children:"All"}),t.jsx(Ce,{value:"active",children:"Active"}),t.jsx(Ce,{value:"canceled",children:"Canceled"}),t.jsx(Ce,{value:"expired",children:"Expired"}),t.jsx(Ce,{value:"suspended",children:"Suspended"})]})]}),t.jsx(he,{variant:"outlined",startIcon:t.jsx(j0,{}),onClick:()=>S({}),children:"Clear Filters"}),t.jsx(he,{variant:"outlined",startIcon:t.jsx(D0,{}),onClick:q,children:"Export"}),I.length>0&&t.jsxs(he,{variant:"contained",startIcon:t.jsx(hs,{}),onClick:()=>E(!0),children:["Bulk Actions (",I.length,")"]})]})})}),u&&t.jsx(dt,{severity:"error",sx:{mb:2},onClose:()=>h(null),children:u}),x&&t.jsx(dt,{severity:"success",sx:{mb:2},onClose:()=>p(null),children:x}),t.jsx($e,{children:t.jsx(uf,{component:ot,children:t.jsxs(hf,{children:[t.jsx(ff,{children:t.jsxs(io,{children:[t.jsx(yt,{padding:"checkbox",children:t.jsx(bc,{indeterminate:I.length>0&&I.length<e.length,checked:e.length>0&&I.length===e.length,onChange:V=>{V.target.checked?w(e.map(ee=>ee.id)):w([])}})}),t.jsx(yt,{children:"User"}),t.jsx(yt,{children:"Channel"}),t.jsx(yt,{children:"Tier"}),t.jsx(yt,{children:"Status"}),t.jsx(yt,{children:"Started"}),t.jsx(yt,{children:"Expires"}),t.jsx(yt,{children:"Actions"})]})}),t.jsx(pf,{children:o?[...Array(5)].map((V,ee)=>t.jsxs(io,{children:[t.jsx(yt,{children:t.jsx(ce,{})}),t.jsx(yt,{children:t.jsx(ce,{})}),t.jsx(yt,{children:t.jsx(ce,{})}),t.jsx(yt,{children:t.jsx(ce,{})}),t.jsx(yt,{children:t.jsx(ce,{})}),t.jsx(yt,{children:t.jsx(ce,{})}),t.jsx(yt,{children:t.jsx(ce,{})}),t.jsx(yt,{children:t.jsx(ce,{})})]},ee)):e.map(V=>t.jsxs(io,{children:[t.jsx(yt,{padding:"checkbox",children:t.jsx(bc,{checked:I.includes(V.id),onChange:ee=>{ee.target.checked?w([...I,V.id]):w(I.filter(Pe=>Pe!==V.id))}})}),t.jsx(yt,{children:t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",children:V.user.displayName}),t.jsx(j,{variant:"caption",color:"text.secondary",children:V.user.email})]})}),t.jsx(yt,{children:t.jsx(j,{variant:"body2",children:V.channel.name})}),t.jsx(yt,{children:t.jsxs(C,{children:[t.jsx(j,{variant:"body2",children:V.tier.name}),t.jsx(j,{variant:"caption",color:"text.secondary",children:ie(V.tier.price,V.tier.currency)})]})}),t.jsx(yt,{children:t.jsx(Ke,{label:Oc(V.statusId),color:Z(V.statusId),size:"small"})}),t.jsx(yt,{children:t.jsx(j,{variant:"body2",children:Q(V.subscribedAt)})}),t.jsx(yt,{children:t.jsx(j,{variant:"body2",children:V.expiresAt?Q(V.expiresAt):"Never"})}),t.jsx(yt,{children:t.jsx(he,{size:"small",onClick:()=>{console.log("View subscription:",V.id)},children:"View"})})]},V.id))})]})})}),t.jsxs(qt,{open:D,onClose:()=>E(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Bulk Action"}),t.jsxs(Kt,{children:[t.jsxs(j,{gutterBottom:!0,children:["You are about to perform a bulk action on ",I.length," subscription(s)."]}),t.jsxs(ft,{fullWidth:!0,sx:{mb:2},children:[t.jsx(wt,{children:"Action"}),t.jsxs(mt,{value:A,onChange:V=>_(V.target.value),label:"Action",children:[t.jsx(Ce,{value:"cancel",children:"Cancel Subscriptions"}),t.jsx(Ce,{value:"activate",children:"Activate Subscriptions"}),t.jsx(Ce,{value:"suspend",children:"Suspend Subscriptions"})]})]}),t.jsx(Ze,{fullWidth:!0,label:"Reason (optional)",value:O,onChange:V=>R(V.target.value),multiline:!0,rows:3})]}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>E(!1),children:"Cancel"}),t.jsx(he,{onClick:K,variant:"contained",color:"primary",children:"Confirm"})]})]})]})},y7=()=>{const[e,n]=m.useState(null),[r,s]=m.useState(!0),[o,i]=m.useState(null),[c,d]=m.useState("30d"),{api:u}=Qe(),{execute:h}=st();m.useEffect(()=>{x()},[c]);const x=async()=>{s(!0),i(null);const v=await h(()=>u.app.subscription.getSubscriptionAnalytics({period:c}),{showErrorToast:!0});v&&n(v),s(!1)},p=v=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(v/100),y=v=>`${(v*100).toFixed(1)}%`,b=[{month:"Jan",new:120,canceled:45,active:1200},{month:"Feb",new:150,canceled:38,active:1312},{month:"Mar",new:180,canceled:52,active:1440},{month:"Apr",new:200,canceled:48,active:1592},{month:"May",new:165,canceled:55,active:1702},{month:"Jun",new:190,canceled:42,active:1850}],g=[{name:"Basic",value:35,revenue:15e3},{name:"Premium",value:45,revenue:35e3},{name:"Pro",value:20,revenue:25e3}],S=["#0088FE","#00C49F","#FFBB28","#FF8042"];return t.jsxs(Et,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(is,{sx:{fontSize:32,mr:2}}),t.jsx(j,{variant:"h4",component:"h1",children:"Subscription Analytics"})]}),t.jsxs(ft,{sx:{minWidth:120},children:[t.jsx(wt,{children:"Period"}),t.jsxs(mt,{value:c,onChange:v=>d(v.target.value),label:"Period",children:[t.jsx(Ce,{value:"7d",children:"Last 7 days"}),t.jsx(Ce,{value:"30d",children:"Last 30 days"}),t.jsx(Ce,{value:"90d",children:"Last 90 days"}),t.jsx(Ce,{value:"1y",children:"Last year"})]})]})]}),o&&t.jsx(dt,{severity:"error",sx:{mb:3},children:o}),t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx($e,{children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(ho,{sx:{fontSize:24,mr:1,color:"#1976d2"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Total Subscriptions"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(ce,{width:80}):e==null?void 0:e.total_subscriptions.toLocaleString()}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",mt:1},children:[t.jsx(us,{sx:{fontSize:16,color:"success.main",mr:.5}}),t.jsx(j,{variant:"body2",color:"success.main",children:"+12.5% vs last period"})]})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx($e,{children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(us,{sx:{fontSize:24,mr:1,color:"#388e3c"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"New Subscriptions"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(ce,{width:80}):e==null?void 0:e.new_subscriptions.toLocaleString()}),t.jsx(j,{variant:"body2",color:"textSecondary",children:"This period"})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx($e,{children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Cs,{sx:{fontSize:24,mr:1,color:"#f57c00"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Churn Rate"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(ce,{width:60}):y((e==null?void 0:e.churn_rate)||0)}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",mt:1},children:[t.jsx(g0,{sx:{fontSize:16,color:"success.main",mr:.5}}),t.jsx(j,{variant:"body2",color:"success.main",children:"-2.1% vs last period"})]})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx($e,{children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Vs,{sx:{fontSize:24,mr:1,color:"#7b1fa2"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Total Revenue"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(ce,{width:100}):p(Object.values((e==null?void 0:e.revenue_by_currency)||{}).reduce((v,I)=>v+I,0))}),t.jsx(j,{variant:"body2",color:"textSecondary",children:"This period"})]})})})]}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,lg:8,children:t.jsx($e,{children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Subscription Trends"}),t.jsx(C,{sx:{width:"100%",height:400},children:t.jsx(wi,{children:t.jsxs(A0,{data:b,children:[t.jsx(yc,{strokeDasharray:"3 3"}),t.jsx(vc,{dataKey:"month"}),t.jsx(jc,{}),t.jsx(Ci,{}),t.jsx(Sc,{}),t.jsx(ma,{type:"monotone",dataKey:"new",stroke:"#8884d8",strokeWidth:2,name:"New Subscriptions"}),t.jsx(ma,{type:"monotone",dataKey:"canceled",stroke:"#82ca9d",strokeWidth:2,name:"Canceled"}),t.jsx(ma,{type:"monotone",dataKey:"active",stroke:"#ffc658",strokeWidth:2,name:"Active Total"})]})})})]})})}),t.jsx(F,{item:!0,xs:12,lg:4,children:t.jsx($e,{children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Revenue by Tier"}),t.jsx(C,{sx:{width:"100%",height:400},children:t.jsx(wi,{children:t.jsxs(VA,{children:[t.jsx(UA,{data:g,cx:"50%",cy:"50%",labelLine:!1,label:({name:v,percent:I})=>`${v} ${(I*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:g.map((v,I)=>t.jsx(zA,{fill:S[I%S.length]},`cell-${I}`))}),t.jsx(Ci,{formatter:(v,I)=>{var w;return[p(((w=g.find(D=>D.name===I))==null?void 0:w.revenue)||0),"Revenue"]}})]})})})]})})}),t.jsx(F,{item:!0,xs:12,children:t.jsx($e,{children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Monthly Revenue Breakdown"}),t.jsx(C,{sx:{width:"100%",height:400},children:t.jsx(wi,{children:t.jsxs(R0,{data:b,children:[t.jsx(yc,{strokeDasharray:"3 3"}),t.jsx(vc,{dataKey:"month"}),t.jsx(jc,{}),t.jsx(Ci,{formatter:v=>[p(Number(v)*100),"Revenue"]}),t.jsx(Sc,{}),t.jsx(wc,{dataKey:"new",fill:"#8884d8",name:"New Subscriptions Revenue"}),t.jsx(wc,{dataKey:"active",fill:"#82ca9d",name:"Recurring Revenue"})]})})})]})})})]})]})},v7=()=>{const[e,n]=m.useState(!0),[r,s]=m.useState(null),[o,i]=m.useState("30d");m.useEffect(()=>{c()},[o]);const c=async()=>{try{n(!0),s(null),await new Promise(p=>setTimeout(p,1e3))}catch(p){s(p.message||"Failed to load revenue data")}finally{n(!1)}},d=p=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(p),u={totalRevenue:125e3,monthlyRecurring:98e3,oneTimePayments:27e3,averageRevenuePerUser:45.5,growthRate:12.5},h=[{month:"Jan",revenue:85e3,subscriptions:78e3,oneTime:7e3},{month:"Feb",revenue:92e3,subscriptions:84e3,oneTime:8e3},{month:"Mar",revenue:98e3,subscriptions:89e3,oneTime:9e3},{month:"Apr",revenue:105e3,subscriptions:95e3,oneTime:1e4},{month:"May",revenue:115e3,subscriptions:102e3,oneTime:13e3},{month:"Jun",revenue:125e3,subscriptions:112e3,oneTime:13e3}],x=[{name:"Tech News Daily",revenue:15e3,subscribers:1200},{name:"Global Politics",revenue:12500,subscribers:980},{name:"Science Weekly",revenue:11e3,subscribers:850},{name:"Business Insider",revenue:9500,subscribers:720},{name:"Sports Central",revenue:8200,subscribers:650}];return t.jsxs(Et,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(Vs,{sx:{fontSize:32,mr:2}}),t.jsx(j,{variant:"h4",component:"h1",children:"Revenue Tracking"})]}),t.jsxs(ft,{sx:{minWidth:120},children:[t.jsx(wt,{children:"Period"}),t.jsxs(mt,{value:o,onChange:p=>i(p.target.value),label:"Period",children:[t.jsx(Ce,{value:"7d",children:"Last 7 days"}),t.jsx(Ce,{value:"30d",children:"Last 30 days"}),t.jsx(Ce,{value:"90d",children:"Last 90 days"}),t.jsx(Ce,{value:"1y",children:"Last year"})]})]})]}),r&&t.jsx(dt,{severity:"error",sx:{mb:3},children:r}),t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx($e,{children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Vs,{sx:{fontSize:24,mr:1,color:"#1976d2"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Total Revenue"})]}),t.jsx(j,{variant:"h4",children:e?t.jsx(ce,{width:100}):d(u.totalRevenue)}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",mt:1},children:[t.jsx(us,{sx:{fontSize:16,color:"success.main",mr:.5}}),t.jsxs(j,{variant:"body2",color:"success.main",children:["+",u.growthRate,"% vs last period"]})]})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx($e,{children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(wh,{sx:{fontSize:24,mr:1,color:"#388e3c"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Monthly Recurring"})]}),t.jsx(j,{variant:"h4",children:e?t.jsx(ce,{width:100}):d(u.monthlyRecurring)}),t.jsxs(j,{variant:"body2",color:"textSecondary",children:[(u.monthlyRecurring/u.totalRevenue*100).toFixed(1),"% of total"]})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx($e,{children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(y0,{sx:{fontSize:24,mr:1,color:"#f57c00"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"One-time Payments"})]}),t.jsx(j,{variant:"h4",children:e?t.jsx(ce,{width:100}):d(u.oneTimePayments)}),t.jsxs(j,{variant:"body2",color:"textSecondary",children:[(u.oneTimePayments/u.totalRevenue*100).toFixed(1),"% of total"]})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx($e,{children:t.jsxs(Be,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(us,{sx:{fontSize:24,mr:1,color:"#7b1fa2"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"ARPU"})]}),t.jsx(j,{variant:"h4",children:e?t.jsx(ce,{width:80}):d(u.averageRevenuePerUser)}),t.jsx(j,{variant:"body2",color:"textSecondary",children:"Average Revenue Per User"})]})})})]}),t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,lg:8,children:t.jsx($e,{children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Monthly Revenue Trend"}),t.jsx(C,{sx:{width:"100%",height:400},children:t.jsx(wi,{children:t.jsxs(A0,{data:h,children:[t.jsx(yc,{strokeDasharray:"3 3"}),t.jsx(vc,{dataKey:"month"}),t.jsx(jc,{tickFormatter:p=>`$${(p/1e3).toFixed(0)}k`}),t.jsx(Ci,{formatter:p=>[d(Number(p)),""]}),t.jsx(Sc,{}),t.jsx(ma,{type:"monotone",dataKey:"revenue",stroke:"#1976d2",strokeWidth:3,name:"Total Revenue"}),t.jsx(ma,{type:"monotone",dataKey:"subscriptions",stroke:"#388e3c",strokeWidth:2,name:"Subscription Revenue"}),t.jsx(ma,{type:"monotone",dataKey:"oneTime",stroke:"#f57c00",strokeWidth:2,name:"One-time Payments"})]})})})]})})}),t.jsx(F,{item:!0,xs:12,lg:4,children:t.jsx($e,{children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Revenue Breakdown"}),t.jsx(C,{sx:{width:"100%",height:400},children:t.jsx(wi,{children:t.jsxs(R0,{data:h.slice(-3),children:[t.jsx(yc,{strokeDasharray:"3 3"}),t.jsx(vc,{dataKey:"month"}),t.jsx(jc,{tickFormatter:p=>`$${(p/1e3).toFixed(0)}k`}),t.jsx(Ci,{formatter:p=>[d(Number(p)),""]}),t.jsx(Sc,{}),t.jsx(wc,{dataKey:"subscriptions",fill:"#388e3c",name:"Subscriptions"}),t.jsx(wc,{dataKey:"oneTime",fill:"#f57c00",name:"One-time"})]})})})]})})})]}),t.jsx($e,{children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Top Channels by Revenue"}),t.jsx(uf,{component:ot,variant:"outlined",children:t.jsxs(hf,{children:[t.jsx(ff,{children:t.jsxs(io,{children:[t.jsx(yt,{children:"Channel Name"}),t.jsx(yt,{align:"right",children:"Revenue"}),t.jsx(yt,{align:"right",children:"Subscribers"}),t.jsx(yt,{align:"right",children:"ARPU"})]})}),t.jsx(pf,{children:x.map((p,y)=>t.jsxs(io,{children:[t.jsx(yt,{component:"th",scope:"row",children:t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(C,{sx:{width:24,height:24,borderRadius:"50%",backgroundColor:y===0?"#ffd700":y===1?"#c0c0c0":y===2?"#cd7f32":"#e0e0e0",display:"flex",alignItems:"center",justifyContent:"center",mr:2,fontSize:"12px",fontWeight:"bold"},children:y+1}),p.name]})}),t.jsx(yt,{align:"right",children:d(p.revenue)}),t.jsx(yt,{align:"right",children:p.subscribers.toLocaleString()}),t.jsx(yt,{align:"right",children:d(p.revenue/p.subscribers)})]},p.name))})]})})]})})]})},j7=()=>t.jsxs(Et,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(is,{sx:{fontSize:32,mr:2}}),t.jsx(j,{variant:"h4",component:"h1",children:"Platform Analytics"})]}),t.jsx($e,{children:t.jsxs(Be,{sx:{textAlign:"center",py:8},children:[t.jsx(is,{sx:{fontSize:64,color:"text.secondary",mb:2}}),t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Platform Analytics Coming Soon"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"This section will include comprehensive platform analytics, user behavior, and performance metrics."})]})})]}),S7=()=>t.jsxs(Et,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(dc,{sx:{fontSize:32,mr:2}}),t.jsx(j,{variant:"h4",component:"h1",children:"Admin Settings"})]}),t.jsx($e,{children:t.jsxs(Be,{sx:{textAlign:"center",py:8},children:[t.jsx(dc,{sx:{fontSize:64,color:"text.secondary",mb:2}}),t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Admin Settings Coming Soon"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"This section will include platform configuration, system settings, and administrative preferences."})]})})]}),jo=({title:e,columns:n,rows:r,totalCount:s,loading:o=!1,error:i=null,selected:c,onSelectionChange:d,onEdit:u,onDelete:h,onAdd:x,onRefresh:p,onSearch:y,onSort:b,onPageChange:g,onRowsPerPageChange:S,page:v=0,rowsPerPage:I=25,searchQuery:w="",sortColumn:D="",sortDirection:E="asc",actions:A,filters:_,rowActions:O})=>{const[R,L]=m.useState(w),[B,Y]=m.useState(!1),[$,H]=m.useState(null),[X,K]=m.useState(null),q=le=>{if(le.target.checked){const re=r.map(je=>je.id);d(re)}else d([])},Z=(le,re)=>{const je=c.indexOf(re);let ke=[];je===-1?ke=ke.concat(c,re):je===0?ke=ke.concat(c.slice(1)):je===c.length-1?ke=ke.concat(c.slice(0,-1)):je>0&&(ke=ke.concat(c.slice(0,je),c.slice(je+1))),d(ke)},Q=le=>{le.key==="Enter"&&y&&y(R)},ie=le=>{L(le.target.value),le.target.value===""&&y&&y("")},V=le=>{if(!b)return;b(le,D===le&&E==="asc"?"desc":"asc")},ee=(le,re)=>{H(le.currentTarget),K(re)},Pe=()=>{H(null),K(null)},pe=()=>{const le=c.length>0?r.filter(re=>c.includes(re.id)):X?[X]:[];le.length>0&&h&&(h(le),Y(!1),Pe(),d([]))},Re=le=>c.indexOf(le)!==-1;return t.jsxs(C,{children:[t.jsxs(ot,{sx:{width:"100%",mb:2},children:[t.jsxs(Fs,{sx:{pl:{sm:2},pr:{xs:1,sm:1},...c.length>0&&{bgcolor:"primary.main",color:"primary.contrastText"}},children:[c.length>0?t.jsxs(j,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[c.length," selected"]}):t.jsx(j,{sx:{flex:"1 1 100%"},variant:"h6",id:"tableTitle",component:"div",children:e}),c.length>0?t.jsx(ge,{direction:"row",spacing:1,children:h&&t.jsx(jt,{title:"Delete",children:t.jsx(Fe,{color:"inherit",onClick:()=>Y(!0),children:t.jsx(xc,{})})})}):t.jsxs(ge,{direction:"row",spacing:1,alignItems:"center",children:[y&&t.jsx(Ze,{size:"small",placeholder:`Search ${e.toLowerCase()}...`,value:R,onChange:ie,onKeyPress:Q,InputProps:{startAdornment:t.jsx(Qr,{position:"start",children:t.jsx(Gi,{})})},sx:{minWidth:250}}),_,p&&t.jsx(jt,{title:"Refresh",children:t.jsx(Fe,{onClick:p,children:t.jsx(S0,{})})}),x&&t.jsx(he,{variant:"contained",startIcon:t.jsx(fo,{}),onClick:x,sx:{whiteSpace:"nowrap"},children:"Add New"}),A]})]}),i&&t.jsx(dt,{severity:"error",sx:{m:2},children:i}),t.jsx(uf,{children:t.jsxs(hf,{stickyHeader:!0,"aria-labelledby":"tableTitle",children:[t.jsx(ff,{children:t.jsxs(io,{children:[t.jsx(yt,{padding:"checkbox",children:t.jsx(bc,{color:"primary",indeterminate:c.length>0&&c.length<r.length,checked:r.length>0&&c.length===r.length,onChange:q,inputProps:{"aria-label":"select all items"}})}),n.map(le=>t.jsx(yt,{align:le.align,style:{minWidth:le.minWidth},sortDirection:D===le.id?E:!1,children:le.sortable&&b?t.jsx(oA,{active:D===le.id,direction:D===le.id?E:"asc",onClick:()=>V(le.id),children:le.label}):le.label},le.id)),t.jsx(yt,{align:"right",children:"Actions"})]})}),t.jsx(pf,{children:o?Array.from(new Array(I)).map((le,re)=>t.jsxs(io,{children:[t.jsx(yt,{padding:"checkbox",children:t.jsx(ce,{variant:"rectangular",width:24,height:24})}),n.map(je=>t.jsx(yt,{children:t.jsx(ce,{variant:"text"})},je.id)),t.jsx(yt,{children:t.jsx(ce,{variant:"rectangular",width:40,height:24})})]},re)):r.map(le=>{const re=Re(le.id);return t.jsxs(io,{hover:!0,onClick:je=>Z(je,le.id),role:"checkbox","aria-checked":re,tabIndex:-1,selected:re,sx:{cursor:"pointer"},children:[t.jsx(yt,{padding:"checkbox",children:t.jsx(bc,{color:"primary",checked:re,inputProps:{"aria-labelledby":`enhanced-table-checkbox-${le.id}`}})}),n.map(je=>{const ke=le[je.id];return t.jsx(yt,{align:je.align,children:je.format?je.format(ke,le):ke},je.id)}),t.jsx(yt,{align:"right",children:t.jsx(ge,{direction:"row",spacing:1,justifyContent:"flex-end",children:O?O(le):t.jsxs(t.Fragment,{children:[u&&t.jsx(jt,{title:"Edit",children:t.jsx(Fe,{size:"small",onClick:je=>{je.stopPropagation(),u(le)},children:t.jsx(hs,{fontSize:"small"})})}),t.jsx(Fe,{size:"small",onClick:je=>{je.stopPropagation(),ee(je,le)},children:t.jsx(df,{fontSize:"small"})})]})})})]},le.id)})})]})}),t.jsx(aA,{rowsPerPageOptions:[10,25,50,100],component:"div",count:s,rowsPerPage:I,page:v,onPageChange:(le,re)=>g==null?void 0:g(re),onRowsPerPageChange:le=>S==null?void 0:S(parseInt(le.target.value,10))})]}),t.jsxs(xo,{anchorEl:$,open:!!$,onClose:Pe,children:[u&&X&&t.jsxs(Ce,{onClick:()=>{u(X),Pe()},children:[t.jsx(hs,{sx:{mr:1},fontSize:"small"}),"Edit"]}),h&&t.jsxs(Ce,{onClick:()=>Y(!0),children:[t.jsx(xc,{sx:{mr:1},fontSize:"small"}),"Delete"]})]}),t.jsxs(qt,{open:B,onClose:()=>Y(!1),children:[t.jsx(tn,{children:"Confirm Delete"}),t.jsx(Kt,{children:t.jsxs(j,{children:["Are you sure you want to delete ",c.length>0?`${c.length} items`:"this item","? This action cannot be undone."]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>Y(!1),children:"Cancel"}),t.jsx(he,{onClick:pe,color:"error",variant:"contained",children:"Delete"})]})]})]})},w7=()=>{var Pe;const{api:e}=Qe(),{execute:n}=st(),[r,s]=m.useState([]),[o,i]=m.useState(0),[c,d]=m.useState(!1),[u,h]=m.useState(null),[x,p]=m.useState([]),[y,b]=m.useState(!1),[g,S]=m.useState(null),[v,I]=m.useState(0),[w,D]=m.useState(25),[E,A]=m.useState(""),[_,O]=m.useState(""),[R,L]=m.useState("createdAt"),[B,Y]=m.useState("desc"),$=async()=>{var pe;d(!0),h(null);try{const Re={page:v+1,limit:w,search:E||void 0,status:_||void 0,sort:R,order:B},le=await n(()=>e.admin.news.getAllNews(Re),{showErrorToast:!1});le&&(s(le.items||[]),i(((pe=le.metadata)==null?void 0:pe.total)||0))}catch{h("Failed to fetch news")}finally{d(!1)}};m.useEffect(()=>{$()},[v,w,E,_,R,B]);const H=pe=>{S(pe),b(!0)},X=async pe=>{const Re=pe.map(le=>le.id);try{await Promise.all(Re.map(le=>n(()=>e.app.news.delete(le)))),p([]),$()}catch{h("Failed to delete news items")}},K=async(pe,Re)=>{try{await n(()=>e.app.news.update(pe.id,{status:Re.toString()})),$()}catch{h("Failed to update news status")}},q=async pe=>{var Re;if(g)try{const le={title:pe.title,content:pe.content,status:(Re=pe.status)==null?void 0:Re.toString()};await n(()=>e.app.news.update(g.id,le)),b(!1),S(null),$()}catch{h("Failed to update news")}},Z=pe=>{switch(pe){case Nn.PUBLISHED:return"success";case Nn.DRAFT:return"default";case Nn.PENDING_REVIEW:return"warning";case Nn.REJECTED:return"error";case Nn.ARCHIVED:return"secondary";default:return"default"}},Q=[{id:"title",label:"Title",minWidth:200,sortable:!0,format:(pe,Re)=>t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:pe}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["ID: ",Re.id]})]})},{id:"channel",label:"Channel",minWidth:150,format:(pe,Re)=>{var le,re,je,ke;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Cn,{src:(le=Re.channel)==null?void 0:le.photoUrl,sx:{width:24,height:24},children:(je=(re=Re.channel)==null?void 0:re.name)==null?void 0:je[0]}),t.jsx(j,{variant:"body2",noWrap:!0,children:((ke=Re.channel)==null?void 0:ke.name)||"Unknown"})]})}},{id:"status",label:"Status",minWidth:120,sortable:!0,format:pe=>t.jsx(Ke,{label:pe,color:Z(pe),size:"small"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:pe=>t.jsx(j,{variant:"body2",children:new Date(pe).toLocaleDateString()})},{id:"updatedAt",label:"Updated",minWidth:120,sortable:!0,format:pe=>t.jsx(j,{variant:"body2",children:new Date(pe).toLocaleDateString()})},{id:"views",label:"Views",minWidth:80,align:"right",sortable:!0,format:pe=>t.jsx(j,{variant:"body2",children:(pe==null?void 0:pe.toLocaleString())||"0"})}],ie=Object.entries(Nn).map(([pe,Re])=>({value:Re,label:pe.replace(/_/g," ").toLowerCase().replace(/\b\w/g,le=>le.toUpperCase())})),V=t.jsxs(ft,{size:"small",sx:{minWidth:120},children:[t.jsx(wt,{children:"Status"}),t.jsxs(mt,{value:_,label:"Status",onChange:pe=>O(pe.target.value),children:[t.jsx(Ce,{value:"",children:"All Status"}),ie.map(pe=>t.jsx(Ce,{value:pe.value,children:pe.label},pe.value))]})]}),ee=pe=>t.jsxs(ge,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View",children:t.jsx(Fe,{size:"small",onClick:Re=>{Re.stopPropagation(),window.open(ye.APP_NEWS_VIEW.replace(":id",pe.id),"_blank")},children:t.jsx(Ps,{fontSize:"small"})})}),t.jsx(jt,{title:"Edit",children:t.jsx(Fe,{size:"small",onClick:Re=>{Re.stopPropagation(),H(pe)},children:t.jsx(hs,{fontSize:"small"})})}),pe.status===Nn.PUBLISHED?t.jsx(jt,{title:"Unpublish",children:t.jsx(Fe,{size:"small",onClick:Re=>{Re.stopPropagation(),K(pe,Nn.DRAFT)},children:t.jsx(iA,{fontSize:"small"})})}):t.jsx(jt,{title:"Publish",children:t.jsx(Fe,{size:"small",onClick:Re=>{Re.stopPropagation(),K(pe,Nn.PUBLISHED)},children:t.jsx(lA,{fontSize:"small"})})})]});return t.jsxs(C,{children:[t.jsx(jo,{title:"News Management",columns:Q,rows:r,totalCount:o,loading:c,error:u,selected:x,onSelectionChange:p,onEdit:H,onDelete:X,onRefresh:$,onSearch:A,onSort:(pe,Re)=>{L(pe),Y(Re)},onPageChange:I,onRowsPerPageChange:D,page:v,rowsPerPage:w,searchQuery:E,sortColumn:R,sortDirection:B,filters:V,rowActions:ee}),t.jsxs(qt,{open:y,onClose:()=>b(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"Edit News"}),t.jsx(Kt,{children:g&&t.jsxs(ge,{spacing:3,sx:{pt:1},children:[t.jsx(Ze,{label:"Title",fullWidth:!0,defaultValue:g.title,onChange:pe=>S({...g,title:pe.target.value})}),t.jsx(Ze,{label:"Content",fullWidth:!0,multiline:!0,rows:3,defaultValue:g.content,onChange:pe=>S({...g,content:pe.target.value})}),t.jsxs(ft,{fullWidth:!0,children:[t.jsx(wt,{children:"Status"}),t.jsx(mt,{value:g.status,label:"Status",onChange:pe=>S({...g,status:parseInt(pe.target.value.toString())}),children:ie.map(pe=>t.jsx(Ce,{value:pe.value,children:pe.label},pe.value))})]}),t.jsxs(C,{children:[t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["News ID: ",g.id]}),t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Created: ",new Date(g.createdAt).toLocaleString()]}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Channel: ",(Pe=g.channel)==null?void 0:Pe.name]})]})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>b(!1),children:"Cancel"}),t.jsx(he,{onClick:()=>q(g),variant:"contained",children:"Save Changes"})]})]})]})},C7=()=>{var le,re,je,ke;const{api:e}=Qe(),{execute:n}=st(),[r,s]=m.useState([]),[o,i]=m.useState(0),[c,d]=m.useState(!1),[u,h]=m.useState(null),[x,p]=m.useState([]),[y,b]=m.useState(!1),[g,S]=m.useState(null),[v,I]=m.useState(0),[w,D]=m.useState(25),[E,A]=m.useState(""),[_,O]=m.useState(""),[R,L]=m.useState(""),[B,Y]=m.useState(""),[$,H]=m.useState("createdAt"),[X,K]=m.useState("desc"),q=m.useCallback(async()=>{var be;d(!0),h(null);try{const ae={};E&&(ae.search=E),_&&(ae.status=_),R==="true"&&(ae.trending=!0),B==="true"&&(ae.funded=!0),ae.sort=$,ae.order=X;const oe=await n(()=>e.admin.polls.getAllPolls(ae,{page:v+1,limit:w}),{showErrorToast:!1});oe&&(s(oe.items||[]),i(((be=oe.metadata)==null?void 0:be.total)||0))}catch{h("Failed to fetch polls")}finally{d(!1)}},[v,w,E,_,R,B,$,X,e.admin.polls,n]);m.useEffect(()=>{q()},[q]);const Z=be=>{S(be),b(!0)},Q=async be=>{const ae=be.map(oe=>oe.id);try{await Promise.all(ae.map(oe=>n(()=>e.app.poll.delete(oe)))),p([]),q()}catch{h("Failed to delete polls")}},ie=async()=>{if(g)try{const be={title:g.title,description:g.description,endDate:g.endDate};await n(()=>e.app.poll.update(g.id,be)),b(!1),S(null),q()}catch{h("Failed to update poll")}},V=async be=>{try{await n(()=>e.app.poll.convertToNews(be.id,{title:be.title,summary:be.description})),q()}catch{h("Failed to convert poll to news")}},ee=[{id:"title",label:"Title",minWidth:200,sortable:!0,format:(be,ae)=>t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:be}),t.jsxs(ge,{direction:"row",spacing:1,alignItems:"center",sx:{mt:.5},children:[t.jsxs(j,{variant:"caption",color:"text.secondary",children:["ID: ",ae.id]}),ae.isTrending&&t.jsx(Ke,{label:"Trending",color:"warning",size:"small",icon:t.jsx(us,{}),sx:{height:16,"& .MuiChip-label":{fontSize:"0.6rem",px:.5}}})]})]})},{id:"channel",label:"Channel",minWidth:150,format:(be,ae)=>{var oe,se,xe,de;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Cn,{src:(oe=ae.channel)==null?void 0:oe.photoUrl,sx:{width:24,height:24},children:(xe=(se=ae.channel)==null?void 0:se.name)==null?void 0:xe[0]}),t.jsx(j,{variant:"body2",noWrap:!0,children:((de=ae.channel)==null?void 0:de.name)||"Unknown"})]})}},{id:"creator",label:"Creator",minWidth:120,format:(be,ae)=>{var oe;return t.jsx(j,{variant:"body2",noWrap:!0,children:((oe=ae.creator)==null?void 0:oe.displayName)||"Unknown"})}},{id:"voteCount",label:"Votes",minWidth:80,align:"right",sortable:!0,format:be=>t.jsx(j,{variant:"body2",children:(be==null?void 0:be.toLocaleString())||"0"})},{id:"stats",label:"Stats",minWidth:120,format:(be,ae)=>{var oe,se,xe,de;return t.jsxs(ge,{spacing:.5,children:[t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Views: ",((se=(oe=ae.stats)==null?void 0:oe.viewCount)==null?void 0:se.toLocaleString())||"0"]}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Funds: $",((de=(xe=ae.stats)==null?void 0:xe.totalFunds)==null?void 0:de.toLocaleString())||"0"]})]})}},{id:"endDate",label:"End Date",minWidth:120,sortable:!0,format:be=>t.jsx(j,{variant:"body2",children:be?new Date(be).toLocaleDateString():"No end date"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:be=>t.jsx(j,{variant:"body2",children:new Date(be).toLocaleDateString()})}],Pe=Object.entries(E$).map(([be,ae])=>({value:ae,label:be.replace(/_/g," ").toLowerCase().replace(/\b\w/g,oe=>oe.toUpperCase())})),pe=t.jsxs(ge,{direction:"row",spacing:1,children:[t.jsxs(ft,{size:"small",sx:{minWidth:120},children:[t.jsx(wt,{children:"Status"}),t.jsxs(mt,{value:_,label:"Status",onChange:be=>O(be.target.value),children:[t.jsx(Ce,{value:"",children:"All Status"}),Pe.map(be=>t.jsx(Ce,{value:be.value,children:be.label},be.value))]})]}),t.jsxs(ft,{size:"small",sx:{minWidth:120},children:[t.jsx(wt,{children:"Trending"}),t.jsxs(mt,{value:R,label:"Trending",onChange:be=>L(be.target.value),children:[t.jsx(Ce,{value:"",children:"All"}),t.jsx(Ce,{value:"true",children:"Trending Only"}),t.jsx(Ce,{value:"false",children:"Non-Trending"})]})]}),t.jsxs(ft,{size:"small",sx:{minWidth:120},children:[t.jsx(wt,{children:"Funded"}),t.jsxs(mt,{value:B,label:"Funded",onChange:be=>Y(be.target.value),children:[t.jsx(Ce,{value:"",children:"All"}),t.jsx(Ce,{value:"true",children:"Funded Only"}),t.jsx(Ce,{value:"false",children:"Not Funded"})]})]})]}),Re=be=>t.jsxs(ge,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View",children:t.jsx(Fe,{size:"small",onClick:ae=>{ae.stopPropagation(),window.open(ye.APP_POLL_VIEW.replace(":id",be.id),"_blank")},children:t.jsx(Ps,{fontSize:"small"})})}),t.jsx(jt,{title:"Edit",children:t.jsx(Fe,{size:"small",onClick:ae=>{ae.stopPropagation(),Z(be)},children:t.jsx(hs,{fontSize:"small"})})}),t.jsx(jt,{title:"Convert to News",children:t.jsx(Fe,{size:"small",onClick:ae=>{ae.stopPropagation(),V(be)},children:t.jsx(cA,{fontSize:"small"})})})]});return t.jsxs(C,{children:[t.jsx(jo,{title:"Poll Management",columns:ee,rows:r,totalCount:o,loading:c,error:u,selected:x,onSelectionChange:p,onEdit:Z,onDelete:Q,onRefresh:q,onSearch:A,onSort:(be,ae)=>{H(be),K(ae)},onPageChange:I,onRowsPerPageChange:D,page:v,rowsPerPage:w,searchQuery:E,sortColumn:$,sortDirection:X,filters:pe,rowActions:Re}),t.jsxs(qt,{open:y,onClose:()=>b(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"Edit Poll"}),t.jsx(Kt,{children:g&&t.jsxs(ge,{spacing:3,sx:{pt:1},children:[t.jsx(Ze,{label:"Title",fullWidth:!0,defaultValue:g.title,onChange:be=>S({...g,title:be.target.value})}),t.jsx(Ze,{label:"Description",fullWidth:!0,multiline:!0,rows:3,defaultValue:g.description,onChange:be=>S({...g,description:be.target.value})}),t.jsx(Ze,{label:"End Date",type:"datetime-local",fullWidth:!0,defaultValue:g.endDate?new Date(g.endDate).toISOString().slice(0,16):"",onChange:be=>S({...g,endDate:be.target.value}),InputLabelProps:{shrink:!0}}),t.jsxs(uc,{children:[t.jsx(hc,{expandIcon:t.jsx(fc,{}),children:t.jsxs(j,{variant:"subtitle2",children:["Poll Options (",((le=g.options)==null?void 0:le.length)||0,")"]})}),t.jsx(pc,{children:t.jsx(ge,{spacing:2,children:(re=g.options)==null?void 0:re.map((be,ae)=>t.jsxs(C,{sx:{p:2,border:1,borderColor:"divider",borderRadius:1},children:[t.jsxs(j,{variant:"body2",fontWeight:"medium",children:["Option ",ae+1,": ",be.text]}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Votes: ",be.voteCount]})]},be.id))})})]}),t.jsxs(C,{children:[t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Poll ID: ",g.id]}),t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Created: ",new Date(g.createdAt).toLocaleString()]}),t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Channel: ",(je=g.channel)==null?void 0:je.name]}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Creator: ",(ke=g.creator)==null?void 0:ke.displayName]})]})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>b(!1),children:"Cancel"}),t.jsx(he,{onClick:()=>ie(),variant:"contained",children:"Save Changes"})]})]})]})},P7=()=>{const{api:e}=Qe(),{execute:n}=st(),[r,s]=m.useState([]),[o,i]=m.useState(0),[c,d]=m.useState(!1),[u,h]=m.useState(null),[x,p]=m.useState([]),[y,b]=m.useState(!1),[g,S]=m.useState(null),[v,I]=m.useState(0),[w,D]=m.useState(25),[E,A]=m.useState(""),[_,O]=m.useState(""),[R,L]=m.useState(""),[B,Y]=m.useState(""),[$,H]=m.useState("created_at"),[X,K]=m.useState("desc"),q=async()=>{var re;d(!0),h(null);try{const je={};E&&(je.search=E),_&&(je.status=_),R==="true"&&(je.trending=!0),B==="true"&&(je.verified=!0);const ke=await n(()=>e.admin.channels.getAllChannels(je,{page:v+1,limit:w}),{showErrorToast:!1});ke&&(s(ke.items||[]),i(((re=ke.metadata)==null?void 0:re.total)||0))}catch{h("Failed to fetch channels")}finally{d(!1)}};m.useEffect(()=>{q()},[v,w,E,_,R,B,$,X]);const Z=re=>{S(re),b(!0)},Q=async re=>{const je=re.map(ke=>ke.id);try{await Promise.all(je.map(ke=>n(()=>e.app.channel.deleteChannel(ke)))),p([]),q()}catch{h("Failed to delete channels")}},ie=async re=>{if(g)try{await n(()=>e.app.channel.updateChannel(g.id,re)),b(!1),S(null),q()}catch{h("Failed to update channel")}},V=re=>{switch(re){case 1:return"success";case 2:return"warning";case 3:return"error";case 4:return"default";default:return"default"}},ee=re=>{switch(re){case 1:return"Active";case 2:return"Pending";case 3:return"Suspended";case 4:return"Inactive";default:return"Unknown"}},Pe=[{id:"name",label:"Channel",minWidth:200,sortable:!0,format:(re,je)=>t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(Cn,{src:je.logoUrl,sx:{width:40,height:40},children:re==null?void 0:re[0]}),t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:re}),t.jsxs(j,{variant:"caption",color:"text.secondary",noWrap:!0,children:["@",je.handle,"  ID: ",je.id]})]})]})},{id:"description",label:"Description",minWidth:200,format:re=>t.jsx(j,{variant:"body2",noWrap:!0,sx:{maxWidth:200},children:re||"No description"})},{id:"status",label:"Status",minWidth:100,sortable:!0,format:re=>t.jsx(Ke,{label:ee(re),color:V(re),size:"small"})},{id:"stats",label:"Stats",minWidth:150,format:(re,je)=>{var ke,be,ae,oe,se,xe;return t.jsxs(ge,{spacing:.5,children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(ho,{sx:{fontSize:14},color:"action"}),t.jsxs(j,{variant:"caption",children:[((be=(ke=je.stats)==null?void 0:ke.activeSubscriptionCount)==null?void 0:be.toLocaleString())||"0"," subscribers"]})]}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(Wo,{sx:{fontSize:14},color:"action"}),t.jsxs(j,{variant:"caption",children:[((oe=(ae=je.stats)==null?void 0:ae.newsCount)==null?void 0:oe.toLocaleString())||"0"," news"]})]}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(af,{sx:{fontSize:14},color:"action"}),t.jsxs(j,{variant:"caption",children:[((xe=(se=je.stats)==null?void 0:se.pollCount)==null?void 0:xe.toLocaleString())||"0"," polls"]})]})]})}},{id:"tiers",label:"Tiers",minWidth:80,align:"center",format:(re,je)=>{var ke,be;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5,justifyContent:"center"},children:[t.jsx(cf,{sx:{fontSize:14},color:"action"}),t.jsx(j,{variant:"body2",children:((ke=je.stats)==null?void 0:ke.tierCount)||((be=je.tiers)==null?void 0:be.length)||"0"})]})}},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:re=>t.jsx(j,{variant:"body2",children:new Date(re).toLocaleDateString()})},{id:"updatedAt",label:"Updated",minWidth:120,sortable:!0,format:re=>t.jsx(j,{variant:"body2",children:new Date(re).toLocaleDateString()})}],pe=[{value:1,label:"Active"},{value:2,label:"Pending"},{value:3,label:"Suspended"},{value:4,label:"Inactive"}],Re=t.jsxs(ge,{direction:"row",spacing:1,children:[t.jsxs(ft,{size:"small",sx:{minWidth:120},children:[t.jsx(wt,{children:"Status"}),t.jsxs(mt,{value:_,label:"Status",onChange:re=>O(re.target.value),children:[t.jsx(Ce,{value:"",children:"All Status"}),pe.map(re=>t.jsx(Ce,{value:re.value,children:re.label},re.value))]})]}),t.jsxs(ft,{size:"small",sx:{minWidth:120},children:[t.jsx(wt,{children:"Trending"}),t.jsxs(mt,{value:R,label:"Trending",onChange:re=>L(re.target.value),children:[t.jsx(Ce,{value:"",children:"All"}),t.jsx(Ce,{value:"true",children:"Trending Only"}),t.jsx(Ce,{value:"false",children:"Non-Trending"})]})]}),t.jsxs(ft,{size:"small",sx:{minWidth:120},children:[t.jsx(wt,{children:"Verified"}),t.jsxs(mt,{value:B,label:"Verified",onChange:re=>Y(re.target.value),children:[t.jsx(Ce,{value:"",children:"All"}),t.jsx(Ce,{value:"true",children:"Verified Only"}),t.jsx(Ce,{value:"false",children:"Not Verified"})]})]})]}),le=re=>t.jsxs(ge,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View",children:t.jsx(Fe,{size:"small",onClick:je=>{je.stopPropagation(),window.open(ye.APP_CHANNEL_VIEW.replace(":channelId",re.id),"_blank")},children:t.jsx(Ps,{fontSize:"small"})})}),t.jsx(jt,{title:"Edit",children:t.jsx(Fe,{size:"small",onClick:je=>{je.stopPropagation(),Z(re)},children:t.jsx(hs,{fontSize:"small"})})})]});return t.jsxs(C,{children:[t.jsx(jo,{title:"Channel Management",columns:Pe,rows:r,totalCount:o,loading:c,error:u,selected:x,onSelectionChange:p,onEdit:Z,onDelete:Q,onRefresh:q,onSearch:A,onSort:(re,je)=>{H(re),K(je)},onPageChange:I,onRowsPerPageChange:D,page:v,rowsPerPage:w,searchQuery:E,sortColumn:$,sortDirection:X,filters:Re,rowActions:le}),t.jsxs(qt,{open:y,onClose:()=>b(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"Edit Channel"}),t.jsx(Kt,{children:g&&t.jsxs(ge,{spacing:3,sx:{pt:1},children:[t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(Ze,{label:"Channel Name",fullWidth:!0,defaultValue:g.name,onChange:re=>S({...g,name:re.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(Ze,{label:"Handle",fullWidth:!0,defaultValue:g.handle,onChange:re=>S({...g,handle:re.target.value}),InputProps:{startAdornment:"@"}})})]}),t.jsx(Ze,{label:"Description",fullWidth:!0,multiline:!0,rows:3,defaultValue:g.description,onChange:re=>S({...g,description:re.target.value})}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(Ze,{label:"Logo URL",fullWidth:!0,defaultValue:g.logoUrl,onChange:re=>S({...g,logoUrl:re.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(Ze,{label:"Banner URL",fullWidth:!0,defaultValue:g.bannerUrl,onChange:re=>S({...g,bannerUrl:re.target.value})})})]}),t.jsxs(ft,{fullWidth:!0,children:[t.jsx(wt,{children:"Status"}),t.jsx(mt,{value:g.status,label:"Status",onChange:re=>S({...g,status:re.target.value}),children:pe.map(re=>t.jsx(Ce,{value:re.value,children:re.label},re.value))})]}),g.tiers&&g.tiers.length>0&&t.jsxs(uc,{children:[t.jsx(hc,{expandIcon:t.jsx(fc,{}),children:t.jsxs(j,{variant:"subtitle2",children:["Subscription Tiers (",g.tiers.length,")"]})}),t.jsx(pc,{children:t.jsx(ge,{spacing:2,children:g.tiers.map(re=>t.jsx(C,{sx:{p:2,border:1,borderColor:"divider",borderRadius:1},children:t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"body2",fontWeight:"medium",children:re.name}),t.jsx(j,{variant:"caption",color:"text.secondary",children:re.description})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsxs(j,{variant:"body2",children:["Price: ",re.currency," ",re.price]}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Order: ",re.order," ",re.isDefault&&"(Default)"]})]})]})},re.id))})})]}),t.jsxs(C,{children:[t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Channel ID: ",g.id]}),t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Creator ID: ",g.creatorId]}),t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Created: ",new Date(g.createdAt).toLocaleString()]}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Updated: ",new Date(g.updatedAt).toLocaleString()]})]})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>b(!1),children:"Cancel"}),t.jsx(he,{onClick:()=>ie(g),variant:"contained",children:"Save Changes"})]})]})]})},I7=()=>{var oe,se,xe;const{api:e}=Qe(),{execute:n}=st(),[r,s]=m.useState([]),[o,i]=m.useState(0),[c,d]=m.useState(!1),[u,h]=m.useState(null),[x,p]=m.useState([]),[y,b]=m.useState(!1),[g,S]=m.useState(null),[v,I]=m.useState(!1),[w,D]=m.useState(null),[E,A]=m.useState(""),[_,O]=m.useState(""),[R,L]=m.useState(0),[B,Y]=m.useState(25),[$,H]=m.useState(""),[X,K]=m.useState(""),[q]=m.useState(""),[Z,Q]=m.useState("created_at"),[ie,V]=m.useState("desc"),ee=async()=>{var de;d(!0),h(null);try{const _e={};X&&(_e.status=parseInt(X)),q&&(_e.channelId=q);const Te=await n(()=>e.app.expenseOrder.getAllExpenseOrders({page:R+1,limit:B},_e),{showErrorToast:!1});Te&&(s(Te.items||[]),i(((de=Te.metadata)==null?void 0:de.total)||0))}catch{h("Failed to fetch expense orders")}finally{d(!1)}};m.useEffect(()=>{ee()},[R,B,$,X,q,Z,ie]);const Pe=de=>{S(de),b(!0)},pe=(de,_e)=>{S(de),D(_e),I(!0),A(""),O("")},Re=async()=>{if(!(!g||!w))try{let de;switch(w){case"approve":de=await n(()=>e.app.expenseOrder.approveExpenseOrder(g.id,{notes:E}),{showSuccessMessage:!0,successMessage:"Expense order approved successfully!"});break;case"reject":de=await n(()=>e.app.expenseOrder.rejectExpenseOrder(g.id,{rejectionReason:E,notes:E}),{showSuccessMessage:!0,successMessage:"Expense order rejected successfully!"});break;case"payment":de=await n(()=>e.app.expenseOrder.processPayment(g.id,{paymentReference:_}),{showSuccessMessage:!0,successMessage:"Payment processed successfully!"});break}de&&(I(!1),S(null),D(null),ee())}catch(de){console.error(`Failed to ${w} expense order:`,de)}},le=de=>{switch(de){case Je.DRAFT:return"default";case Je.SUBMITTED:return"info";case Je.UNDER_REVIEW:return"warning";case Je.APPROVED:return"success";case Je.REJECTED:return"error";case Je.PAID:return"success";case Je.CANCELLED:return"secondary";default:return"default"}},re=(de,_e)=>new Intl.NumberFormat("en-US",{style:"currency",currency:_e||"USD"}).format(de),je=[{id:"title",label:"Expense",minWidth:200,sortable:!0,format:(de,_e)=>{var Te;return t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:de}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:[(Te=_e.type)==null?void 0:Te.name,"  ID: ",_e.id]})]})}},{id:"journalist",label:"Journalist",minWidth:150,format:(de,_e)=>{var Te,He,ue;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Cn,{sx:{width:24,height:24},children:((He=(Te=_e.journalist)==null?void 0:Te.displayName)==null?void 0:He[0])||"U"}),t.jsx(j,{variant:"body2",noWrap:!0,children:((ue=_e.journalist)==null?void 0:ue.displayName)||"Unknown User"})]})}},{id:"channel",label:"Channel",minWidth:120,format:(de,_e)=>{var Te;return t.jsx(j,{variant:"body2",noWrap:!0,children:((Te=_e.channel)==null?void 0:Te.name)||"Unknown"})}},{id:"amount",label:"Amount",minWidth:100,align:"right",sortable:!0,format:(de,_e)=>t.jsx(j,{variant:"body2",fontWeight:"medium",children:re(de,_e.currency)})},{id:"status",label:"Status",minWidth:120,sortable:!0,format:de=>t.jsx(Ke,{label:Ii[de],color:le(de),size:"small"})},{id:"submitted_at",label:"Submitted",minWidth:120,sortable:!0,format:de=>t.jsx(j,{variant:"body2",children:de?new Date(de).toLocaleDateString():"-"})},{id:"paid_at",label:"Paid",minWidth:120,sortable:!0,format:de=>t.jsx(j,{variant:"body2",children:de?new Date(de).toLocaleDateString():"-"})},{id:"created_at",label:"Created",minWidth:120,sortable:!0,format:de=>t.jsx(j,{variant:"body2",children:new Date(de).toLocaleDateString()})}],ke=Object.entries(Ii).map(([de,_e])=>({value:de,label:_e})),be=t.jsx(ge,{direction:"row",spacing:1,children:t.jsxs(ft,{size:"small",sx:{minWidth:120},children:[t.jsx(wt,{children:"Status"}),t.jsxs(mt,{value:X,label:"Status",onChange:de=>K(de.target.value),children:[t.jsx(Ce,{value:"",children:"All Status"}),ke.map(de=>t.jsx(Ce,{value:de.value,children:de.label},de.value))]})]})}),ae=de=>t.jsxs(ge,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View",children:t.jsx(Fe,{size:"small",onClick:_e=>{_e.stopPropagation(),Pe(de)},children:t.jsx(Ps,{fontSize:"small"})})}),de.receiptUrl&&t.jsx(jt,{title:"View Receipt",children:t.jsx(Fe,{size:"small",onClick:_e=>{_e.stopPropagation(),window.open(de.receiptUrl,"_blank")},children:t.jsx(Bs,{fontSize:"small"})})}),de.status===Je.UNDER_REVIEW&&t.jsxs(t.Fragment,{children:[t.jsx(jt,{title:"Approve",children:t.jsx(Fe,{size:"small",onClick:_e=>{_e.stopPropagation(),pe(de,"approve")},children:t.jsx(Wa,{fontSize:"small",color:"success"})})}),t.jsx(jt,{title:"Reject",children:t.jsx(Fe,{size:"small",onClick:_e=>{_e.stopPropagation(),pe(de,"reject")},children:t.jsx(Cs,{fontSize:"small",color:"error"})})})]}),de.status===Je.APPROVED&&t.jsx(jt,{title:"Process Payment",children:t.jsx(Fe,{size:"small",onClick:_e=>{_e.stopPropagation(),pe(de,"payment")},children:t.jsx(Ca,{fontSize:"small",color:"primary"})})})]});return t.jsxs(C,{children:[t.jsx(jo,{title:"Expense Order Management",columns:je,rows:r,totalCount:o,loading:c,error:u,selected:x,onSelectionChange:p,onEdit:Pe,onRefresh:ee,onSearch:H,onSort:(de,_e)=>{Q(de),V(_e)},onPageChange:L,onRowsPerPageChange:Y,page:R,rowsPerPage:B,searchQuery:$,sortColumn:Z,sortDirection:ie,filters:be,rowActions:ae}),t.jsxs(qt,{open:y,onClose:()=>b(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"View Expense Order"}),t.jsx(Kt,{children:g&&t.jsxs(ge,{spacing:3,sx:{pt:1},children:[t.jsx($e,{variant:"outlined",children:t.jsx(Be,{children:t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Title"}),t.jsx(j,{variant:"body2",children:g.title})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Amount"}),t.jsx(j,{variant:"body2",fontWeight:"medium",children:re(g.amount,g.currency)})]}),t.jsxs(F,{item:!0,xs:12,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Description"}),t.jsx(j,{variant:"body2",children:g.description})]})]})})}),t.jsx($e,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"subtitle2",gutterBottom:!0,children:"Details"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"caption",color:"text.secondary",children:"Journalist"}),t.jsx(j,{variant:"body2",children:((oe=g.journalist)==null?void 0:oe.displayName)||"Unknown User"})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"caption",color:"text.secondary",children:"Channel"}),t.jsx(j,{variant:"body2",children:(se=g.channel)==null?void 0:se.name})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"caption",color:"text.secondary",children:"Type"}),t.jsx(j,{variant:"body2",children:(xe=g.type)==null?void 0:xe.name})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"caption",color:"text.secondary",children:"Status"}),t.jsx(Ke,{label:Ii[g.status],color:le(g.status),size:"small"})]})]})]})}),g.notes&&t.jsx(dt,{severity:"info",children:t.jsx(j,{variant:"body2",children:g.notes})}),g.rejectionReason&&t.jsx(dt,{severity:"error",children:t.jsx(j,{variant:"body2",children:g.rejectionReason})}),g.paymentReference&&t.jsx(dt,{severity:"success",children:t.jsxs(j,{variant:"body2",children:["Payment Reference: ",g.paymentReference]})})]})}),t.jsx(Xt,{children:t.jsx(he,{onClick:()=>b(!1),children:"Close"})})]}),t.jsxs(qt,{open:v,onClose:()=>I(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsxs(tn,{children:[w==="approve"&&"Approve Expense Order",w==="reject"&&"Reject Expense Order",w==="payment"&&"Process Payment"]}),t.jsx(Kt,{children:t.jsxs(ge,{spacing:2,sx:{pt:1},children:[w==="payment"&&t.jsx(Ze,{label:"Payment Reference",fullWidth:!0,value:_,onChange:de=>O(de.target.value),placeholder:"Enter payment reference or transaction ID"}),t.jsx(Ze,{label:w==="reject"?"Rejection Reason":"Notes",fullWidth:!0,multiline:!0,rows:3,value:E,onChange:de=>A(de.target.value),placeholder:w==="reject"?"Explain why this expense order is being rejected...":"Add any additional notes...",required:w==="reject"})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>I(!1),children:"Cancel"}),t.jsxs(he,{onClick:Re,variant:"contained",color:w==="approve"?"success":w==="reject"?"error":"primary",disabled:w==="reject"&&!E.trim(),children:[w==="approve"&&"Approve",w==="reject"&&"Reject",w==="payment"&&"Process Payment"]})]})]})]})},D7=()=>{var se,xe,de,_e,Te,He;const[e,n]=m.useState([]),[r,s]=m.useState(0),[o,i]=m.useState(!1),[c,d]=m.useState(null),[u,h]=m.useState([]),[x,p]=m.useState(!1),[y,b]=m.useState(!1),[g,S]=m.useState(!1),[v,I]=m.useState(null),[w,D]=m.useState(""),[E,A]=m.useState(0),[_,O]=m.useState(25),[R,L]=m.useState(""),[B,Y]=m.useState(""),[$,H]=m.useState("createdAt"),[X,K]=m.useState("desc"),{api:q}=Qe(),{execute:Z}=st(),Q=m.useCallback(async()=>{if(q!=null&&q.app.payout){i(!0),d(null);try{const ue={limit:_,offset:E*_};B&&(ue.status=B);const Se=await Z(()=>q.app.payout.getPayouts(ue));Se&&(n(Se.items||[]),s(Se.total||0))}catch(ue){console.error("Failed to fetch payouts:",ue),d("Failed to fetch payouts"),n([]),s(0)}finally{i(!1)}}},[q,Z,E,_,B]);m.useEffect(()=>{Q()},[Q]);const ie=ue=>{I(ue),p(!0)},V=ue=>{I(ue),b(!0)},ee=async()=>{if(!(!v||!(q!=null&&q.app.payout)))try{await Z(()=>q.app.payout.processPayout(v.id)),b(!1),I(null),Q()}catch{d("Failed to process payout")}},Pe=async ue=>{if(q!=null&&q.app.payout)try{await Z(()=>q.app.payout.retryPayout(ue.id)),Q()}catch{d("Failed to retry payout")}},pe=ue=>{I(ue),D(""),S(!0)},Re=async()=>{if(!(!v||!(q!=null&&q.app.payout)))try{await Z(()=>q.app.payout.cancelPayout(v.id,{reason:w})),S(!1),I(null),D(""),Q()}catch{d("Failed to cancel payout")}},le=ue=>{switch(ue){case"pending":return"warning";case"processing":return"info";case"completed":return"success";case"failed":return"error";case"cancelled":return"default";default:return"default"}},re=(ue,Se)=>new Intl.NumberFormat("en-US",{style:"currency",currency:Se||"USD"}).format(ue/100),je=ue=>ue?`${ue.firstName} ${ue.lastName}`:"Unknown",ke=[{id:"expenseOrder",label:"Expense Order",minWidth:200,sortable:!0,format:(ue,Se)=>{var G,N,Oe;return t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:((G=Se.expenseOrder)==null?void 0:G.title)||"N/A"}),t.jsxs(ge,{direction:"row",spacing:1,alignItems:"center",children:[t.jsx(Ke,{label:((Oe=(N=Se.expenseOrder)==null?void 0:N.type)==null?void 0:Oe.name)||"Unknown",size:"small",variant:"outlined",sx:{height:16,"& .MuiChip-label":{fontSize:"0.6rem",px:.5}}}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["#",Se.id.slice(0,8)]})]})]})}},{id:"channel",label:"Channel",minWidth:120,format:(ue,Se)=>{var G;return t.jsx(j,{variant:"body2",noWrap:!0,children:((G=Se.channel)==null?void 0:G.name)||"N/A"})}},{id:"journalist",label:"Journalist",minWidth:140,format:(ue,Se)=>{var G,N;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Cn,{sx:{width:24,height:24},children:((N=(G=Se.journalist)==null?void 0:G.firstName)==null?void 0:N[0])||"U"}),t.jsx(j,{variant:"body2",noWrap:!0,children:je(Se.journalist)})]})}},{id:"grossAmount",label:"Gross",minWidth:90,align:"right",sortable:!0,format:(ue,Se)=>t.jsx(j,{variant:"body2",children:re(Se.grossAmount,Se.currency)})},{id:"platformFeeAmount",label:"Fee",minWidth:80,align:"right",format:(ue,Se)=>t.jsxs(j,{variant:"body2",color:"text.secondary",children:["-",re(Se.platformFeeAmount,Se.currency)]})},{id:"netAmount",label:"Net Payout",minWidth:100,align:"right",sortable:!0,format:(ue,Se)=>t.jsx(j,{variant:"body2",fontWeight:"medium",color:"primary",children:re(Se.netAmount,Se.currency)})},{id:"status",label:"Status",minWidth:120,sortable:!0,format:(ue,Se)=>t.jsxs(ge,{spacing:.5,children:[t.jsx(Ke,{label:ue,color:le(ue),size:"small",sx:{textTransform:"capitalize"}}),Se.errorMessage&&t.jsx(jt,{title:Se.errorMessage,children:t.jsx(dA,{color:"error",sx:{fontSize:16}})}),Se.retryCount>0&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Retry ",Se.retryCount,"/",Se.maxRetries]})]})},{id:"paymentReference",label:"Payment Ref",minWidth:120,format:ue=>t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.75rem"},children:ue?ue.slice(0,12)+"...":"-"})},{id:"createdAt",label:"Created",minWidth:110,sortable:!0,format:ue=>t.jsx(j,{variant:"body2",children:new Date(ue).toLocaleDateString()})}],be=[{value:"pending",label:"Pending"},{value:"processing",label:"Processing"},{value:"completed",label:"Completed"},{value:"failed",label:"Failed"},{value:"cancelled",label:"Cancelled"}],ae=t.jsx(ge,{direction:"row",spacing:1,children:t.jsxs(ft,{size:"small",sx:{minWidth:140},children:[t.jsx(wt,{children:"Status"}),t.jsxs(mt,{value:B,label:"Status",onChange:ue=>Y(ue.target.value),children:[t.jsx(Ce,{value:"",children:"All Status"}),be.map(ue=>t.jsx(Ce,{value:ue.value,children:ue.label},ue.value))]})]})}),oe=ue=>t.jsxs(ge,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View Details",children:t.jsx(Fe,{size:"small",onClick:Se=>{Se.stopPropagation(),ie(ue)},children:t.jsx(Ps,{fontSize:"small"})})}),ue.status==="pending"&&t.jsx(jt,{title:"Process Payout",children:t.jsx(Fe,{size:"small",onClick:Se=>{Se.stopPropagation(),V(ue)},children:t.jsx(Ca,{fontSize:"small",color:"primary"})})}),ue.status==="failed"&&ue.retryCount<ue.maxRetries&&t.jsx(jt,{title:"Retry Payout",children:t.jsx(Fe,{size:"small",onClick:Se=>{Se.stopPropagation(),Pe(ue)},children:t.jsx(uA,{fontSize:"small",color:"warning"})})}),(ue.status==="pending"||ue.status==="failed")&&t.jsx(jt,{title:"Cancel Payout",children:t.jsx(Fe,{size:"small",onClick:Se=>{Se.stopPropagation(),pe(ue)},children:t.jsx(Cs,{fontSize:"small",color:"error"})})}),ue.paymentReference&&t.jsx(jt,{title:"View Payment Details",children:t.jsx(Fe,{size:"small",onClick:Se=>{Se.stopPropagation()},children:t.jsx(Bs,{fontSize:"small"})})})]});return t.jsxs(C,{children:[t.jsx(jo,{title:"Payout Management",columns:ke,rows:e,totalCount:r,loading:o,error:c,selected:u,onSelectionChange:h,onRefresh:Q,onSearch:L,onSort:(ue,Se)=>{H(ue),K(Se)},onPageChange:A,onRowsPerPageChange:O,page:E,rowsPerPage:_,searchQuery:R,sortColumn:$,sortDirection:X,filters:ae,rowActions:oe}),t.jsxs(qt,{open:x,onClose:()=>p(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"Payout Details"}),t.jsx(Kt,{children:v&&t.jsxs(ge,{spacing:3,sx:{pt:1},children:[t.jsx($e,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Expense Order Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Title"}),t.jsx(j,{variant:"body2",children:((se=v.expenseOrder)==null?void 0:se.title)||"N/A"})]}),t.jsxs(F,{item:!0,xs:12,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Description"}),t.jsx(j,{variant:"body2",children:((xe=v.expenseOrder)==null?void 0:xe.description)||"N/A"})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Type"}),t.jsx(Ke,{label:((_e=(de=v.expenseOrder)==null?void 0:de.type)==null?void 0:_e.name)||"Unknown",size:"small"})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Expense Order ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.85rem"},children:v.expenseOrderId})]})]})]})}),t.jsx($e,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Payout Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Journalist"}),t.jsx(j,{variant:"body2",children:je(v.journalist)}),t.jsx(j,{variant:"caption",color:"text.secondary",children:(Te=v.journalist)==null?void 0:Te.email})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Channel"}),t.jsx(j,{variant:"body2",children:((He=v.channel)==null?void 0:He.name)||"N/A"})]}),t.jsxs(F,{item:!0,xs:12,sm:4,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Gross Amount"}),t.jsx(j,{variant:"body2",children:re(v.grossAmount,v.currency)})]}),t.jsxs(F,{item:!0,xs:12,sm:4,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Platform Fee"}),t.jsxs(j,{variant:"body2",color:"error",children:["-",re(v.platformFeeAmount,v.currency)]})]}),t.jsxs(F,{item:!0,xs:12,sm:4,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Net Payout"}),t.jsx(j,{variant:"body2",fontWeight:"medium",color:"primary",children:re(v.netAmount,v.currency)})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Status"}),t.jsx(Ke,{label:v.status,color:le(v.status),size:"small",sx:{textTransform:"capitalize"}})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Payment Reference"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.85rem"},children:v.paymentReference||"Not processed"})]})]})]})}),v.status==="failed"&&t.jsx($e,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Retry Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Retry Count"}),t.jsxs(j,{variant:"body2",children:[v.retryCount," / ",v.maxRetries]})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Next Retry"}),t.jsx(j,{variant:"body2",children:v.nextRetryAt?new Date(v.nextRetryAt).toLocaleString():"No retry scheduled"})]}),v.errorCategory&&t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Error Category"}),t.jsx(Ke,{label:v.errorCategory,size:"small",color:"error"})]})]})]})}),v.errorMessage&&t.jsx(dt,{severity:"error",children:t.jsx(j,{variant:"body2",children:v.errorMessage})}),t.jsx($e,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Timeline"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(j,{variant:"body2",children:new Date(v.createdAt).toLocaleString()})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Processed"}),t.jsx(j,{variant:"body2",children:v.processedAt?new Date(v.processedAt).toLocaleString():"Not processed"})]}),v.processedBy&&t.jsxs(F,{item:!0,xs:12,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Processed By"}),t.jsx(j,{variant:"body2",children:v.processedBy})]})]})]})})]})}),t.jsx(Xt,{children:t.jsx(he,{onClick:()=>p(!1),children:"Close"})})]}),t.jsxs(qt,{open:y,onClose:()=>b(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Process Payout"}),t.jsx(Kt,{children:t.jsxs(ge,{spacing:2,sx:{pt:1},children:[v&&t.jsxs(dt,{severity:"warning",icon:t.jsx(Ca,{}),children:[t.jsxs(j,{variant:"body2",children:["You are about to process a payout of"," ",t.jsx("strong",{children:re(v.netAmount,v.currency)})," ","to ",t.jsx("strong",{children:je(v.journalist)}),"."]}),t.jsxs(j,{variant:"body2",sx:{mt:1},children:["Platform fee: ",re(v.platformFeeAmount,v.currency)]})]}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"This action will initiate the payment process. The funds will be transferred to the journalist's payment method on file."})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>b(!1),children:"Cancel"}),t.jsx(he,{onClick:ee,variant:"contained",color:"primary",startIcon:t.jsx(Wa,{}),children:"Confirm & Process"})]})]}),t.jsxs(qt,{open:g,onClose:()=>S(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Cancel Payout"}),t.jsx(Kt,{children:t.jsxs(ge,{spacing:2,sx:{pt:1},children:[v&&t.jsx(dt,{severity:"error",children:t.jsxs(j,{variant:"body2",children:["You are about to cancel the payout for ",t.jsx("strong",{children:je(v.journalist)}),"."]})}),t.jsx(Ze,{label:"Cancellation Reason",fullWidth:!0,multiline:!0,rows:3,value:w,onChange:ue=>D(ue.target.value),placeholder:"Provide a reason for cancelling this payout..."})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>S(!1),children:"Close"}),t.jsx(he,{onClick:Re,variant:"contained",color:"error",startIcon:t.jsx(Cs,{}),children:"Cancel Payout"})]})]})]})},E7=()=>{const{api:e}=Qe(),{execute:n}=st(),[r,s]=m.useState([]),[o,i]=m.useState(0),[c,d]=m.useState(!1),[u,h]=m.useState(null),[x,p]=m.useState([]),[y,b]=m.useState(!1),[g,S]=m.useState(!1),[v,I]=m.useState(null),[w,D]=m.useState(null),[E,A]=m.useState(""),[_,O]=m.useState(0),[R,L]=m.useState(25),[B,Y]=m.useState(""),[$,H]=m.useState(""),[X]=m.useState(""),[K,q]=m.useState("created_at"),[Z,Q]=m.useState("desc"),ie=m.useCallback(async()=>{var ae;d(!0),h(null);try{const oe={};B&&(oe.search=B),$&&(oe.status=$),X&&(oe.channel_id=X);const se=await n(()=>e.app.subscription.getAllSubscriptions({page:_+1,limit:R},oe),{showErrorToast:!1});se&&(s(se.items||[]),i(((ae=se.metadata)==null?void 0:ae.total)||0))}catch{h("Failed to fetch subscriptions")}finally{d(!1)}},[_,R,B,$,X,e.app.subscription,n]);m.useEffect(()=>{ie()},[ie]);const V=ae=>{I(ae),b(!0)},ee=(ae,oe)=>{I(ae),D(oe),S(!0),A("")},Pe=async()=>{if(!(!v||!w))try{const ae=w==="activate"?"active":w==="suspend"?"suspended":"canceled";await n(()=>e.app.subscription.updateSubscriptionStatus(v.id,ae,E)),S(!1),I(null),D(null),A(""),ie()}catch{h(`Failed to ${w} subscription`)}},pe=async()=>{try{const ae=$==="cancelled"?"canceled":$,oe=await n(()=>e.app.subscription.exportSubscriptions({status:ae,channel_id:X},"csv"));if(oe){const se=window.URL.createObjectURL(oe),xe=document.createElement("a");xe.href=se,xe.download=`subscriptions-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(xe),xe.click(),window.URL.revokeObjectURL(se),document.body.removeChild(xe)}}catch{h("Failed to export subscriptions")}},Re=(ae,oe)=>new Intl.NumberFormat("en-US",{style:"currency",currency:oe||"USD"}).format(ae),le=ae=>new Date(ae).toLocaleDateString(),re=[{id:"user",label:"User",minWidth:180,format:(ae,oe)=>{var se,xe;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Cn,{sx:{width:32,height:32},children:((se=oe.user.displayName)==null?void 0:se[0])||((xe=oe.user.email)==null?void 0:xe[0])}),t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:oe.user.displayName}),t.jsx(j,{variant:"caption",color:"text.secondary",noWrap:!0,children:oe.user.email})]})]})}},{id:"channel",label:"Channel",minWidth:120,format:(ae,oe)=>t.jsx(j,{variant:"body2",noWrap:!0,children:oe.channel.name})},{id:"tier",label:"Tier",minWidth:150,format:(ae,oe)=>t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:oe.tier.name}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Re(oe.tier.price,oe.tier.currency)})]})},{id:"statusId",label:"Status",minWidth:100,sortable:!0,format:ae=>t.jsx(Ke,{label:Oc(ae),color:kc(ae),size:"small",sx:{textTransform:"capitalize"}})},{id:"subscribedAt",label:"Subscribed",minWidth:120,sortable:!0,format:ae=>t.jsx(j,{variant:"body2",children:le(ae)})},{id:"expiresAt",label:"Expires",minWidth:120,sortable:!0,format:ae=>t.jsx(j,{variant:"body2",children:ae?le(ae):"Never"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:ae=>t.jsx(j,{variant:"body2",children:le(ae)})}],je=rF,ke=t.jsx(ge,{direction:"row",spacing:1,children:t.jsxs(ft,{size:"small",sx:{minWidth:120},children:[t.jsx(wt,{children:"Status"}),t.jsxs(mt,{value:$,label:"Status",onChange:ae=>H(ae.target.value),children:[t.jsx(Ce,{value:"",children:"All Status"}),je.map(ae=>t.jsx(Ce,{value:ae.value,children:ae.label},ae.value))]})]})}),be=ae=>t.jsxs(ge,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View Details",children:t.jsx(Fe,{size:"small",onClick:oe=>{oe.stopPropagation(),V(ae)},children:t.jsx(Ps,{fontSize:"small"})})}),ae.statusId===xn.SUSPENDED&&t.jsx(jt,{title:"Activate",children:t.jsx(Fe,{size:"small",onClick:oe=>{oe.stopPropagation(),ee(ae,"activate")},children:t.jsx(Wa,{fontSize:"small",color:"success"})})}),ae.statusId===xn.ACTIVE&&t.jsx(jt,{title:"Suspend",children:t.jsx(Fe,{size:"small",onClick:oe=>{oe.stopPropagation(),ee(ae,"suspend")},children:t.jsx(E0,{fontSize:"small",color:"warning"})})}),ae.statusId!==xn.CANCELLED&&t.jsx(jt,{title:"Cancel",children:t.jsx(Fe,{size:"small",onClick:oe=>{oe.stopPropagation(),ee(ae,"cancel")},children:t.jsx(Cs,{fontSize:"small",color:"error"})})})]});return t.jsxs(C,{children:[t.jsx(jo,{title:"Subscription Management",columns:re,rows:r,totalCount:o,loading:c,error:u,selected:x,onSelectionChange:p,onRefresh:ie,onSearch:Y,onSort:(ae,oe)=>{q(ae),Q(oe)},onPageChange:O,onRowsPerPageChange:L,page:_,rowsPerPage:R,searchQuery:B,sortColumn:K,sortDirection:Z,filters:ke,rowActions:be,actions:t.jsxs(ge,{direction:"row",spacing:1,children:[t.jsx(he,{variant:"outlined",startIcon:t.jsx(us,{}),onClick:()=>{},children:"Analytics"}),t.jsx(he,{variant:"outlined",startIcon:t.jsx(D0,{}),onClick:pe,children:"Export"})]})}),t.jsxs(qt,{open:y,onClose:()=>b(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"Subscription Details"}),t.jsx(Kt,{children:v&&t.jsxs(ge,{spacing:3,sx:{pt:1},children:[t.jsx($e,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"User Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Name"}),t.jsx(j,{variant:"body2",children:v.user.displayName})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Email"}),t.jsx(j,{variant:"body2",children:v.user.email})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"User ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace"},children:v.user.id})]})]})]})}),t.jsx($e,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Subscription Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Channel"}),t.jsx(j,{variant:"body2",children:v.channel.name})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Tier"}),t.jsx(j,{variant:"body2",children:v.tier.name})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Price"}),t.jsx(j,{variant:"body2",fontWeight:"medium",children:Re(v.tier.price,v.tier.currency)})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Status"}),t.jsx(Ke,{label:Oc(v.statusId),color:kc(v.statusId),size:"small",sx:{textTransform:"capitalize"}})]})]})]})}),t.jsx($e,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Timeline"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Subscribed"}),t.jsx(j,{variant:"body2",children:le(v.subscribedAt)})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Expires"}),t.jsx(j,{variant:"body2",children:v.expiresAt?le(v.expiresAt):"Never"})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(j,{variant:"body2",children:le(v.createdAt)})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Updated"}),t.jsx(j,{variant:"body2",children:le(v.updatedAt)})]})]})]})}),t.jsx($e,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"System Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Subscription ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace"},children:v.id})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Channel ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace"},children:v.channel.id})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Tier ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace"},children:v.tier.id})]})]})]})})]})}),t.jsx(Xt,{children:t.jsx(he,{onClick:()=>b(!1),children:"Close"})})]}),t.jsxs(qt,{open:g,onClose:()=>S(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsxs(tn,{children:[w==="activate"&&"Activate Subscription",w==="suspend"&&"Suspend Subscription",w==="cancel"&&"Cancel Subscription"]}),t.jsx(Kt,{children:t.jsxs(ge,{spacing:2,sx:{pt:1},children:[v&&t.jsxs(dt,{severity:w==="activate"?"info":"warning",children:[w==="activate"&&`Activating subscription for ${v.user.displayName}`,w==="suspend"&&`Suspending subscription for ${v.user.displayName}`,w==="cancel"&&`Canceling subscription for ${v.user.displayName}`]}),t.jsx(Ze,{label:"Reason",fullWidth:!0,multiline:!0,rows:3,value:E,onChange:ae=>A(ae.target.value),placeholder:`Explain why this subscription is being ${w}d...`,required:w!=="activate"})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>S(!1),children:"Cancel"}),t.jsxs(he,{onClick:Pe,variant:"contained",color:w==="activate"?"success":w==="suspend"?"warning":"error",disabled:(w==="suspend"||w==="cancel")&&!E.trim(),children:[w==="activate"&&"Activate",w==="suspend"&&"Suspend",w==="cancel"&&"Cancel"]})]})]})]})},T7=()=>{const{api:e}=Qe(),{execute:n}=st(),[r,s]=m.useState([]),[o,i]=m.useState(0),[c,d]=m.useState(!1),[u,h]=m.useState(null),[x,p]=m.useState([]),[y,b]=m.useState(!1),[g,S]=m.useState(!1),[v,I]=m.useState(!1),[w,D]=m.useState(null),[E,A]=m.useState({email:"",externalId:"",displayName:"",photoUrl:"",roleId:on.REGULAR_USER,statusId:Gn.ACTIVE}),[_,O]=m.useState({system_role:on.REGULAR_USER,system_status:Gn.ACTIVE}),[R,L]=m.useState(0),[B,Y]=m.useState(25),[$,H]=m.useState(""),[X,K]=m.useState(""),[q,Z]=m.useState(""),[Q,ie]=m.useState("created_at"),[V,ee]=m.useState("desc"),Pe=async()=>{var N;d(!0),h(null);try{const Oe={page:R+1,limit:B,sort:Q,order:V,search:$||void 0,status:X||void 0,role:q||void 0},Ue=await n(()=>e.admin.users.getAllUsers(Oe),{showErrorToast:!1});Ue&&(s(Ue.items||[]),i(((N=Ue.metadata)==null?void 0:N.total)||0))}catch{h("Failed to fetch users")}finally{d(!1)}};m.useEffect(()=>{Pe()},[R,B,$,X,q,Q,V]);const pe=N=>{D(N),b(!0)},Re=async N=>{const Oe=N.map(Ue=>Ue.id);try{await Promise.all(Oe.map(Ue=>n(()=>e.admin.users.deleteUser(Ue)))),p([]),Pe()}catch{h("Failed to delete users")}},le=async N=>{if(w)try{await n(()=>e.admin.users.updateUser(w.id,N),{showSuccessMessage:!0,successMessage:"User updated successfully"}),b(!1),D(null),Pe()}catch{h("Failed to update user")}},re=async()=>{try{await n(()=>e.admin.users.registerUser(E),{showSuccessMessage:!0,successMessage:"User registered successfully"}),S(!1),A({email:"",externalId:"",displayName:"",photoUrl:"",roleId:on.REGULAR_USER,statusId:Gn.ACTIVE}),Pe()}catch{h("Failed to register user")}},je=async(N,Oe)=>{try{await n(()=>e.admin.users.suspendUser(N,{reason:Oe}),{showSuccessMessage:!0,successMessage:"User suspended successfully"}),Pe()}catch{h("Failed to suspend user")}},ke=async(N,Oe)=>{try{await n(()=>e.admin.users.unsuspendUser(N,{reason:Oe}),{showSuccessMessage:!0,successMessage:"User unsuspended successfully"}),Pe()}catch{h("Failed to unsuspend user")}},be=async()=>{if(w)try{await n(()=>e.admin.users.updateUserCustomClaims(w.id,_),{showSuccessMessage:!0,successMessage:"Custom claims updated successfully"}),I(!1),Pe()}catch{h("Failed to update custom claims")}},ae=N=>{D(N),O({system_role:N.roleId??on.REGULAR_USER,system_status:N.statusId??Gn.ACTIVE}),I(!0)},oe=N=>{switch(N){case on.SUPER_ADMIN:return"error";case on.ADMIN:return"error";case on.MODERATOR:return"warning";case on.JOURNALIST:return"primary";case on.EDITOR:return"info";case on.EVALUATOR:return"secondary";case on.FINANCE_MANAGER:return"success";case on.REGULAR_USER:return"default";case on.GUEST:return"default";default:return"default"}},se=N=>{const Oe=Object.entries(on).find(([,Ue])=>Ue===N);return Oe?Oe[0].replace(/_/g," ").toLowerCase().replace(/\b\w/g,Ue=>Ue.toUpperCase()):"Unknown"},xe=N=>{switch(N){case Gn.ACTIVE:return"success";case Gn.INACTIVE:return"default";case Gn.PENDING:return"warning";case Gn.BLOCKED:return"error";case Gn.SUSPENDED:return"warning";case Gn.BANNED:return"error";case Gn.DELETED:return"secondary";case Gn.NOT_VERIFIED:return"info";default:return"default"}},de=N=>{const Oe=Object.entries(Gn).find(([,Ue])=>Ue===N);return Oe?Oe[0].replace(/_/g," ").toLowerCase().replace(/\b\w/g,Ue=>Ue.toUpperCase()):"Unknown"},_e=[{id:"displayName",label:"User",minWidth:200,sortable:!0,format:(N,Oe)=>{var Ue;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(Cn,{src:Oe.photoUrl,sx:{width:40,height:40},children:(N==null?void 0:N[0])||((Ue=Oe.email)==null?void 0:Ue[0])}),t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:N}),t.jsx(j,{variant:"caption",color:"text.secondary",noWrap:!0,children:Oe.email})]})]})}},{id:"roleId",label:"Role",minWidth:120,sortable:!0,format:N=>t.jsx(Ke,{label:se(N),color:oe(N),size:"small",icon:N===on.SUPER_ADMIN||N===on.ADMIN?t.jsx(hA,{fontSize:"small"}):N===on.JOURNALIST||N===on.EDITOR?t.jsx(v0,{fontSize:"small"}):t.jsx(sf,{fontSize:"small"})})},{id:"statusId",label:"Status",minWidth:120,sortable:!0,format:N=>t.jsx(Ke,{label:de(N),color:xe(N),size:"small"})},{id:"lastLogin",label:"Last Login",minWidth:120,sortable:!0,format:N=>t.jsx(j,{variant:"body2",children:N?new Date(N).toLocaleDateString():"Never"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:N=>t.jsx(j,{variant:"body2",children:new Date(N).toLocaleDateString()})},{id:"updatedAt",label:"Updated",minWidth:120,sortable:!0,format:N=>t.jsx(j,{variant:"body2",children:new Date(N).toLocaleDateString()})}],Te=Object.entries(Gn).map(([N,Oe])=>({value:Oe,label:N.replace(/_/g," ").toLowerCase().replace(/\b\w/g,Ue=>Ue.toUpperCase())})),He=Object.entries(on).map(([N,Oe])=>({value:Oe,label:N.replace(/_/g," ").toLowerCase().replace(/\b\w/g,Ue=>Ue.toUpperCase())})),ue=t.jsxs(ge,{direction:"row",spacing:1,children:[t.jsxs(ft,{size:"small",sx:{minWidth:120},children:[t.jsx(wt,{children:"Status"}),t.jsxs(mt,{value:X,label:"Status",onChange:N=>K(N.target.value),children:[t.jsx(Ce,{value:"",children:"All Status"}),Te.map(N=>t.jsx(Ce,{value:N.value,children:N.label},N.value))]})]}),t.jsxs(ft,{size:"small",sx:{minWidth:120},children:[t.jsx(wt,{children:"Role"}),t.jsxs(mt,{value:q,label:"Role",onChange:N=>Z(N.target.value),children:[t.jsx(Ce,{value:"",children:"All Roles"}),He.map(N=>t.jsx(Ce,{value:N.value,children:N.label},N.value))]})]})]}),Se=N=>t.jsxs(ge,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View/Edit",children:t.jsx(Fe,{size:"small",onClick:Oe=>{Oe.stopPropagation(),pe(N)},children:t.jsx(Ps,{fontSize:"small"})})}),t.jsx(jt,{title:"Update Custom Claims",children:t.jsx(Fe,{size:"small",onClick:Oe=>{Oe.stopPropagation(),ae(N)},children:t.jsx(fA,{fontSize:"small",color:"info"})})}),N.statusId!==Gn.SUSPENDED&&N.statusId!==Gn.BANNED&&t.jsx(jt,{title:"Suspend User",children:t.jsx(Fe,{size:"small",onClick:Oe=>{Oe.stopPropagation(),je(N.id)},children:t.jsx(E0,{fontSize:"small",color:"warning"})})}),N.statusId===Gn.SUSPENDED&&t.jsx(jt,{title:"Unsuspend User",children:t.jsx(Fe,{size:"small",onClick:Oe=>{Oe.stopPropagation(),ke(N.id)},children:t.jsx(Wa,{fontSize:"small",color:"success"})})})]}),G=t.jsx(he,{variant:"contained",startIcon:t.jsx(fo,{}),onClick:()=>S(!0),children:"Register User"});return t.jsxs(C,{children:[t.jsx(jo,{title:"User Management",columns:_e,rows:r,totalCount:o,loading:c,error:u,selected:x,onSelectionChange:p,onEdit:pe,onDelete:Re,onRefresh:Pe,onSearch:H,onSort:(N,Oe)=>{ie(N),ee(Oe)},onPageChange:L,onRowsPerPageChange:Y,page:R,rowsPerPage:B,searchQuery:$,sortColumn:Q,sortDirection:V,filters:ue,rowActions:Se,actions:G}),t.jsxs(qt,{open:y,onClose:()=>b(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"Edit User"}),t.jsx(Kt,{children:w&&t.jsxs(ge,{spacing:3,sx:{pt:1},children:[t.jsx($e,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"User Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(Ze,{label:"Display Name",fullWidth:!0,value:w.displayName||"",onChange:N=>D({...w,displayName:N.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(Ze,{label:"Email",fullWidth:!0,value:w.email||"",onChange:N=>D({...w,email:N.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(Ze,{label:"Photo URL",fullWidth:!0,value:w.photoUrl||"",onChange:N=>D({...w,photoUrl:N.target.value})})})]})]})}),t.jsx($e,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Role & Status"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsxs(ft,{fullWidth:!0,children:[t.jsx(wt,{children:"Role"}),t.jsx(mt,{value:w.roleId,label:"Role",onChange:N=>D({...w,roleId:N.target.value}),children:He.map(N=>t.jsx(Ce,{value:N.value,children:N.label},N.value))})]})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsxs(ft,{fullWidth:!0,children:[t.jsx(wt,{children:"Status"}),t.jsx(mt,{value:w.statusId,label:"Status",onChange:N=>D({...w,statusId:N.target.value}),children:Te.map(N=>t.jsx(Ce,{value:N.value,children:N.label},N.value))})]})})]})]})}),t.jsx($e,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"System Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"User ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace"},children:w.id})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"External ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace"},children:w.externalId})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(j,{variant:"body2",children:new Date(w.createdAt).toLocaleString()})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Last Login"}),t.jsx(j,{variant:"body2",children:w.lastLogin?new Date(w.lastLogin).toLocaleString():"Never"})]})]})]})}),w.channelSubscriptions&&w.channelSubscriptions.length>0&&t.jsx($e,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsxs(j,{variant:"h6",gutterBottom:!0,children:["Channel Subscriptions (",w.channelSubscriptions.length,")"]}),t.jsxs(ge,{spacing:1,children:[w.channelSubscriptions.slice(0,5).map((N,Oe)=>{var Ue;return t.jsxs(C,{sx:{p:1,border:1,borderColor:"divider",borderRadius:1},children:[t.jsx(j,{variant:"body2",fontWeight:"medium",children:((Ue=N.channel)==null?void 0:Ue.name)||"Unknown Channel"}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Status: ",N.status,"  Started: ",new Date(N.subscribedAt).toLocaleDateString()]})]},Oe)}),w.channelSubscriptions.length>5&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["And ",w.channelSubscriptions.length-5," more..."]})]})]})})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>b(!1),children:"Cancel"}),t.jsx(he,{onClick:()=>le(w),variant:"contained",children:"Save Changes"})]})]}),t.jsxs(qt,{open:g,onClose:()=>S(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Register New User"}),t.jsx(Kt,{children:t.jsxs(ge,{spacing:2,sx:{pt:1},children:[t.jsx(Ze,{label:"Email",type:"email",fullWidth:!0,required:!0,value:E.email,onChange:N=>A({...E,email:N.target.value})}),t.jsx(Ze,{label:"External ID (Firebase UID)",fullWidth:!0,required:!0,value:E.externalId,onChange:N=>A({...E,externalId:N.target.value}),helperText:"The Firebase authentication UID for this user"}),t.jsx(Ze,{label:"Display Name",fullWidth:!0,required:!0,value:E.displayName,onChange:N=>A({...E,displayName:N.target.value})}),t.jsx(Ze,{label:"Photo URL",fullWidth:!0,value:E.photoUrl,onChange:N=>A({...E,photoUrl:N.target.value})}),t.jsxs(ft,{fullWidth:!0,children:[t.jsx(wt,{children:"Role"}),t.jsx(mt,{value:E.roleId,label:"Role",onChange:N=>A({...E,roleId:N.target.value}),children:He.map(N=>t.jsx(Ce,{value:N.value,children:N.label},N.value))})]}),t.jsxs(ft,{fullWidth:!0,children:[t.jsx(wt,{children:"Status"}),t.jsx(mt,{value:E.statusId,label:"Status",onChange:N=>A({...E,statusId:N.target.value}),children:Te.map(N=>t.jsx(Ce,{value:N.value,children:N.label},N.value))})]})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>S(!1),children:"Cancel"}),t.jsx(he,{onClick:re,variant:"contained",disabled:!E.email||!E.externalId||!E.displayName,children:"Register User"})]})]}),t.jsxs(qt,{open:v,onClose:()=>I(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Update Firebase Custom Claims"}),t.jsx(Kt,{children:w&&t.jsxs(ge,{spacing:2,sx:{pt:1},children:[t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Update Firebase custom claims for: ",t.jsx("strong",{children:w.displayName})," (",w.email,")"]}),t.jsxs(ft,{fullWidth:!0,children:[t.jsx(wt,{children:"System Role"}),t.jsx(mt,{value:_.system_role,label:"System Role",onChange:N=>O({..._,system_role:N.target.value}),children:He.map(N=>t.jsx(Ce,{value:N.value,children:N.label},N.value))})]}),t.jsxs(ft,{fullWidth:!0,children:[t.jsx(wt,{children:"System Status"}),t.jsx(mt,{value:_.system_status,label:"System Status",onChange:N=>O({..._,system_status:N.target.value}),children:Te.map(N=>t.jsx(Ce,{value:N.value,children:N.label},N.value))})]}),t.jsx(j,{variant:"caption",color:"warning.main",children:"Warning: This will update the user's Firebase authentication custom claims. The user may need to re-authenticate for changes to take effect."})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>I(!1),children:"Cancel"}),t.jsx(he,{onClick:be,variant:"contained",color:"warning",children:"Update Claims"})]})]})]})},A7=()=>{var He,ue,Se;const{api:e}=Qe(),{execute:n}=st(),[r,s]=m.useState([]),[o,i]=m.useState(0),[c,d]=m.useState(!1),[u,h]=m.useState(null),[x,p]=m.useState([]),[y,b]=m.useState(!1),[g,S]=m.useState(null),[v,I]=m.useState(!1),[w,D]=m.useState(null),[E,A]=m.useState(0),[_,O]=m.useState(25),[R,L]=m.useState(""),[B,Y]=m.useState(""),[$,H]=m.useState(""),[X,K]=m.useState(""),[q,Z]=m.useState(""),[Q,ie]=m.useState("created_at"),[V,ee]=m.useState("desc"),Pe=async()=>{var G;d(!0),h(null);try{const N={};R&&(N.search=R),B&&(N.status=B),$&&(N.type=$),X==="true"&&(N.verified=!0),q==="true"&&(N.trending=!0);const Oe=await n(()=>e.app.tag.getTags(N,{page:E+1,limit:_}),{showErrorToast:!1});Oe&&(s(Oe.items||[]),i(((G=Oe.metadata)==null?void 0:G.total)||0))}catch{h("Failed to fetch tags")}finally{d(!1)}};m.useEffect(()=>{Pe()},[E,_,R,B,$,X,q,Q,V]);const pe=G=>{S(G),b(!0)},Re=async G=>{const N=G.map(Oe=>Oe.id);try{await Promise.all(N.map(Oe=>n(()=>e.app.tag.deleteTag(Oe)))),p([]),Pe()}catch{h("Failed to delete tags")}},le=(G,N)=>{S(G),D(N),I(!0)},re=async()=>{if(!(!g||!w))try{w==="approve"?await n(()=>e.app.tag.approveTag(g.id)):await n(()=>e.app.tag.rejectTag(g.id)),I(!1),S(null),D(null),Pe()}catch{h(`Failed to ${w} tag`)}},je=async G=>{if(g)try{await n(()=>e.app.tag.updateTag(g.id,G)),b(!1),S(null),Pe()}catch{h("Failed to update tag")}},ke=G=>{switch(G){case 1:return"warning";case 2:return"success";case 3:return"error";case 4:return"default";default:return"default"}},be=G=>{switch(G){case 1:return"Pending";case 2:return"Approved";case 3:return"Rejected";case 4:return"Inactive";default:return"Unknown"}},ae=G=>{switch(G){case 1:return"primary";case 2:return"secondary";case 3:return"info";case 4:return"success";default:return"default"}},oe=G=>{switch(G){case 1:return"News";case 2:return"Poll";case 3:return"Channel";case 4:return"General";default:return"Unknown"}},se=[{id:"name",label:"Tag",minWidth:180,sortable:!0,format:(G,N)=>t.jsxs(C,{children:[t.jsxs(ge,{direction:"row",alignItems:"center",spacing:1,children:[t.jsx(lf,{fontSize:"small",color:"action"}),t.jsx(j,{variant:"body2",fontWeight:"medium",children:G}),N.isVerified&&t.jsx(pA,{fontSize:"small",color:"primary"}),N.isTrending&&t.jsx(us,{fontSize:"small",color:"warning"})]}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["@",N.slug,"  ID: ",N.id]})]})},{id:"typeId",label:"Type",minWidth:100,sortable:!0,format:G=>t.jsx(Ke,{label:oe(G),color:ae(G),size:"small"})},{id:"statusId",label:"Status",minWidth:100,sortable:!0,format:G=>t.jsx(Ke,{label:be(G),color:ke(G),size:"small"})},{id:"analytics",label:"Analytics",minWidth:150,format:(G,N)=>{var Oe,Ue,cn,$t,Rt,Qt;return t.jsxs(ge,{spacing:.5,children:[t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Views: ",((Ue=(Oe=N.analytics)==null?void 0:Oe.viewCount)==null?void 0:Ue.toLocaleString())||"0"]}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Usage: ",(($t=(cn=N.analytics)==null?void 0:cn.usageCount)==null?void 0:$t.toLocaleString())||"0"]}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Searches: ",((Qt=(Rt=N.analytics)==null?void 0:Rt.searchCount)==null?void 0:Qt.toLocaleString())||"0"]})]})}},{id:"createdBy",label:"Created By",minWidth:120,format:G=>t.jsx(j,{variant:"body2",children:G||"System"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:G=>t.jsx(j,{variant:"body2",children:new Date(G).toLocaleDateString()})},{id:"approvedAt",label:"Approved",minWidth:120,sortable:!0,format:G=>t.jsx(j,{variant:"body2",children:G?new Date(G).toLocaleDateString():"-"})}],xe=[{value:1,label:"Pending"},{value:2,label:"Approved"},{value:3,label:"Rejected"},{value:4,label:"Inactive"}],de=[{value:1,label:"News"},{value:2,label:"Poll"},{value:3,label:"Channel"},{value:4,label:"General"}],_e=t.jsxs(ge,{direction:"row",spacing:1,children:[t.jsxs(ft,{size:"small",sx:{minWidth:120},children:[t.jsx(wt,{children:"Status"}),t.jsxs(mt,{value:B,label:"Status",onChange:G=>Y(G.target.value),children:[t.jsx(Ce,{value:"",children:"All Status"}),xe.map(G=>t.jsx(Ce,{value:G.value,children:G.label},G.value))]})]}),t.jsxs(ft,{size:"small",sx:{minWidth:120},children:[t.jsx(wt,{children:"Type"}),t.jsxs(mt,{value:$,label:"Type",onChange:G=>H(G.target.value),children:[t.jsx(Ce,{value:"",children:"All Types"}),de.map(G=>t.jsx(Ce,{value:G.value,children:G.label},G.value))]})]}),t.jsxs(ft,{size:"small",sx:{minWidth:120},children:[t.jsx(wt,{children:"Verified"}),t.jsxs(mt,{value:X,label:"Verified",onChange:G=>K(G.target.value),children:[t.jsx(Ce,{value:"",children:"All"}),t.jsx(Ce,{value:"true",children:"Verified Only"}),t.jsx(Ce,{value:"false",children:"Not Verified"})]})]}),t.jsxs(ft,{size:"small",sx:{minWidth:120},children:[t.jsx(wt,{children:"Trending"}),t.jsxs(mt,{value:q,label:"Trending",onChange:G=>Z(G.target.value),children:[t.jsx(Ce,{value:"",children:"All"}),t.jsx(Ce,{value:"true",children:"Trending Only"}),t.jsx(Ce,{value:"false",children:"Not Trending"})]})]})]}),Te=G=>t.jsxs(ge,{direction:"row",spacing:.5,children:[t.jsx(jt,{title:"View Details",children:t.jsx(Fe,{size:"small",onClick:N=>{N.stopPropagation(),pe(G)},children:t.jsx(Ps,{fontSize:"small"})})}),t.jsx(jt,{title:"Edit",children:t.jsx(Fe,{size:"small",onClick:N=>{N.stopPropagation(),pe(G)},children:t.jsx(hs,{fontSize:"small"})})}),G.statusId===1&&t.jsxs(t.Fragment,{children:[t.jsx(jt,{title:"Approve",children:t.jsx(Fe,{size:"small",onClick:N=>{N.stopPropagation(),le(G,"approve")},children:t.jsx(Wa,{fontSize:"small",color:"success"})})}),t.jsx(jt,{title:"Reject",children:t.jsx(Fe,{size:"small",onClick:N=>{N.stopPropagation(),le(G,"reject")},children:t.jsx(Cs,{fontSize:"small",color:"error"})})})]}),t.jsx(jt,{title:"View Analytics",children:t.jsx(Fe,{size:"small",onClick:N=>{N.stopPropagation()},children:t.jsx(is,{fontSize:"small",color:"info"})})})]});return t.jsxs(C,{children:[t.jsx(jo,{title:"Tag Management",columns:se,rows:r,totalCount:o,loading:c,error:u,selected:x,onSelectionChange:p,onEdit:pe,onDelete:Re,onRefresh:Pe,onSearch:L,onSort:(G,N)=>{ie(G),ee(N)},onPageChange:A,onRowsPerPageChange:O,page:E,rowsPerPage:_,searchQuery:R,sortColumn:Q,sortDirection:V,filters:_e,rowActions:Te,actions:t.jsx(he,{variant:"outlined",startIcon:t.jsx(Gi,{}),onClick:()=>{},children:"Suggestions"})}),t.jsxs(qt,{open:y,onClose:()=>b(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"Edit Tag"}),t.jsx(Kt,{children:g&&t.jsxs(ge,{spacing:3,sx:{pt:1},children:[t.jsx($e,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Tag Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(Ze,{label:"Tag Name",fullWidth:!0,defaultValue:g.name,onChange:G=>S({...g,name:G.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(Ze,{label:"Slug",fullWidth:!0,defaultValue:g.slug,onChange:G=>S({...g,slug:G.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsxs(ft,{fullWidth:!0,children:[t.jsx(wt,{children:"Type"}),t.jsx(mt,{value:g.typeId,label:"Type",onChange:G=>S({...g,typeId:G.target.value}),children:de.map(G=>t.jsx(Ce,{value:G.value,children:G.label},G.value))})]})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsxs(ft,{fullWidth:!0,children:[t.jsx(wt,{children:"Status"}),t.jsx(mt,{value:g.statusId,label:"Status",onChange:G=>S({...g,statusId:G.target.value}),children:xe.map(G=>t.jsx(Ce,{value:G.value,children:G.label},G.value))})]})})]})]})}),t.jsx($e,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Tag Properties"}),t.jsxs(ge,{spacing:2,children:[t.jsx(Da,{control:t.jsx(mc,{checked:g.isVerified,onChange:G=>S({...g,isVerified:G.target.checked})}),label:"Verified Tag"}),t.jsx(Da,{control:t.jsx(mc,{checked:g.isTrending,onChange:G=>S({...g,isTrending:G.target.checked})}),label:"Trending Tag"})]})]})}),g.analytics&&t.jsx($e,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Analytics"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:4,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"View Count"}),t.jsx(j,{variant:"h6",children:((He=g.analytics.viewCount)==null?void 0:He.toLocaleString())||"0"})]}),t.jsxs(F,{item:!0,xs:12,sm:4,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Usage Count"}),t.jsx(j,{variant:"h6",children:((ue=g.analytics.usageCount)==null?void 0:ue.toLocaleString())||"0"})]}),t.jsxs(F,{item:!0,xs:12,sm:4,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Search Count"}),t.jsx(j,{variant:"h6",children:((Se=g.analytics.searchCount)==null?void 0:Se.toLocaleString())||"0"})]})]}),g.analytics.lastTrendingAt&&t.jsxs(dt,{severity:"info",sx:{mt:2},children:["Last trending: ",new Date(g.analytics.lastTrendingAt).toLocaleString()]})]})}),t.jsx($e,{variant:"outlined",children:t.jsxs(Be,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"System Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Tag ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace"},children:g.id})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Created By"}),t.jsx(j,{variant:"body2",children:g.createdBy||"System"})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(j,{variant:"body2",children:new Date(g.createdAt).toLocaleString()})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Approved"}),t.jsx(j,{variant:"body2",children:g.approvedAt?`${new Date(g.approvedAt).toLocaleString()} by ${g.approvedBy||"System"}`:"Not approved"})]})]})]})})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>b(!1),children:"Cancel"}),t.jsx(he,{onClick:()=>je(g),variant:"contained",children:"Save Changes"})]})]}),t.jsxs(qt,{open:v,onClose:()=>I(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsxs(tn,{children:[w==="approve"&&"Approve Tag",w==="reject"&&"Reject Tag"]}),t.jsx(Kt,{children:t.jsxs(ge,{spacing:2,sx:{pt:1},children:[g&&t.jsxs(dt,{severity:w==="approve"?"success":"warning",children:[w==="approve"&&`Approving tag "${g.name}"`,w==="reject"&&`Rejecting tag "${g.name}"`]}),t.jsx(j,{variant:"body2",color:"text.secondary",children:w==="approve"?"This tag will be made available for use across the platform.":"This tag will be rejected and won't be available for use."})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>I(!1),children:"Cancel"}),t.jsxs(he,{onClick:re,variant:"contained",color:w==="approve"?"success":"error",children:[w==="approve"&&"Approve",w==="reject"&&"Reject"]})]})]})]})},R7=()=>{const{isLoading:e}=rd();return e?t.jsx(BF,{}):t.jsxs(IA,{children:[t.jsx(qe,{path:ye.HOME,element:t.jsx(Zk,{})}),t.jsx(qe,{path:ye.LOGIN,element:t.jsx(Yk,{})}),t.jsx(qe,{path:ye.SIGNUP,element:t.jsx(Kk,{})}),t.jsx(qe,{path:ye.POST_SIGNUP,element:t.jsx(Xk,{})}),t.jsxs(qe,{path:`${ye.APP_ROOT}/*`,element:t.jsx(nh,{children:t.jsx(rk,{})}),children:[t.jsxs(qe,{path:`${An.ROOT}/*`,children:[t.jsx(qe,{path:An.SUBPATHS.TRENDING,element:t.jsx($h,{filters:{trending:!0}},"trending")}),t.jsx(qe,{path:An.SUBPATHS.MY_FEED,element:t.jsx($h,{filters:{feed:!0}},"feed")}),t.jsx(qe,{path:An.SUBPATHS.DISCOVER,element:t.jsx(Z5,{})}),t.jsx(qe,{path:`${An.VIEW}`,element:t.jsx(K5,{})})]}),t.jsxs(qe,{path:`${gr.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(c$,{})}),t.jsx(qe,{path:`${gr.VIEW}`,element:t.jsx(k$,{})})]}),t.jsxs(qe,{path:`${cr.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(M$,{})}),t.jsx(qe,{path:`${cr.VIEW}`,element:t.jsx(Y$,{})})]}),t.jsx(qe,{path:`${ao.ROOT}/*`,children:t.jsx(qe,{index:!0,element:t.jsx(aF,{})})}),t.jsxs(qe,{path:`${br.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(cF,{})}),t.jsx(qe,{path:`${br.VIEW}`,element:t.jsx(dF,{})})]}),t.jsx(qe,{path:Cc.ROOT,element:t.jsx(ny,{})})]}),t.jsxs(qe,{path:`${ye.STUDIO_ROOT}/*`,element:t.jsx(nh,{children:t.jsx(kk,{})}),children:[t.jsxs(qe,{path:`${An.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(OF,{})}),t.jsx(qe,{path:`${An.CREATE}`,element:t.jsx(SF,{})}),t.jsx(qe,{path:`${An.EDIT}/:id`,element:t.jsx(wF,{})}),t.jsx(qe,{path:`${An.VIEW}`,element:t.jsx(PF,{})})]}),t.jsxs(qe,{path:`${gr.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(MF,{})}),t.jsx(qe,{path:`${gr.CREATE}`,element:t.jsx(NF,{})}),t.jsx(qe,{path:`${gr.VIEW}`,element:t.jsx(WF,{})}),t.jsx(qe,{path:`${gr.EDIT}/:id`,element:t.jsx(SV,{})})]}),t.jsxs(qe,{path:`${cr.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(CV,{})}),t.jsx(qe,{path:`${cr.CREATE}`,element:t.jsx(r7,{})}),t.jsx(qe,{path:`${cr.EDIT}/:id`,element:t.jsx(s7,{})}),t.jsx(qe,{path:`${cr.VIEW}`,element:t.jsx(d7,{})})]}),t.jsxs(qe,{path:`${br.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(h7,{})}),t.jsx(qe,{path:`${br.CREATE}`,element:t.jsx(f7,{})}),t.jsx(qe,{path:`${br.EDIT}/:id`,element:t.jsx(p7,{})}),t.jsx(qe,{path:`${br.VIEW}`,element:t.jsx(x7,{})})]}),t.jsx(qe,{path:Cc.ROOT,element:t.jsx(ny,{})})]}),t.jsxs(qe,{path:`${ye.ADMIN_ROOT}/*`,element:t.jsx(nh,{children:t.jsx(Fk,{})}),children:[t.jsx(qe,{index:!0,element:t.jsx(f0,{})}),t.jsx(qe,{path:Ot.DASHBOARD,element:t.jsx(f0,{})}),t.jsx(qe,{path:Ot.NEWS,element:t.jsx(w7,{})}),t.jsx(qe,{path:Ot.POLLS,element:t.jsx(C7,{})}),t.jsx(qe,{path:Ot.CHANNELS,element:t.jsx(P7,{})}),t.jsx(qe,{path:Ot.EXPENSE_ORDERS,element:t.jsx(I7,{})}),t.jsx(qe,{path:Ot.PAYOUTS,element:t.jsx(D7,{})}),t.jsx(qe,{path:Ot.TAGS,element:t.jsx(A7,{})}),t.jsx(qe,{path:Ot.USERS,element:t.jsx(T7,{})}),t.jsxs(qe,{path:`${Ot.SUBSCRIPTIONS}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(E7,{})}),t.jsx(qe,{path:ga.MANAGEMENT,element:t.jsx(b7,{})}),t.jsx(qe,{path:ga.ANALYTICS,element:t.jsx(y7,{})}),t.jsx(qe,{path:ga.REVENUE,element:t.jsx(v7,{})})]}),t.jsx(qe,{path:Ot.ANALYTICS,element:t.jsx(j7,{})}),t.jsx(qe,{path:Ot.SETTINGS,element:t.jsx(S7,{})}),t.jsx(qe,{path:"users",element:t.jsx(m7,{})}),t.jsx(qe,{path:"channels",element:t.jsx(g7,{})})]}),t.jsx(qe,{path:"*",element:t.jsx(LF,{})})]})},_7={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},O7={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",dayOfMonthFull:"do",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class k7{constructor(n){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib=void 0,this.locale=void 0,this.formats=void 0,this.formatTokenMap=_7,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=c=>typeof c>"u"?new Date:c===null?null:new Date(c),this.getInvalidDate=()=>new Date("Invalid Date"),this.getTimezone=()=>"default",this.setTimezone=c=>c,this.toJsDate=c=>c,this.getCurrentLocaleCode=()=>this.locale.code,this.is12HourCycleInCurrentLocale=()=>/a/.test(this.locale.formatLong.time({width:"short"})),this.expandFormat=c=>{const d=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return c.match(d).map(u=>{const h=u[0];if(h==="p"||h==="P"){const x=this.longFormatters[h];return x(u,this.locale.formatLong)}return u}).join("")},this.formatNumber=c=>c,this.getDayOfWeek=c=>c.getDay()+1;const{locale:r,formats:s,longFormatters:o,lib:i}=n;this.locale=r,this.formats=U({},O7,s),this.longFormatters=o,this.lib=i||"date-fns"}}class M7 extends k7{constructor({locale:n,formats:r}={}){super({locale:n??dd,formats:r,longFormatters:Tc}),this.parse=(s,o)=>s===""?null:RL(s,o,new Date,{locale:this.locale}),this.isValid=s=>s==null?!1:vv(s),this.format=(s,o)=>this.formatByString(s,this.formats[o]),this.formatByString=(s,o)=>cp(s,o,{locale:this.locale}),this.isEqual=(s,o)=>s===null&&o===null?!0:s===null||o===null?!1:NN(s,o),this.isSameYear=(s,o)=>ML(s,o),this.isSameMonth=(s,o)=>kL(s,o),this.isSameDay=(s,o)=>PM(s,o),this.isSameHour=(s,o)=>OL(s,o),this.isAfter=(s,o)=>sh(s,o),this.isAfterYear=(s,o)=>sh(s,$b(o)),this.isAfterDay=(s,o)=>sh(s,Nh(o)),this.isBefore=(s,o)=>oh(s,o),this.isBeforeYear=(s,o)=>oh(s,this.startOfYear(o)),this.isBeforeDay=(s,o)=>oh(s,this.startOfDay(o)),this.isWithinRange=(s,[o,i])=>NL(s,{start:o,end:i}),this.startOfYear=s=>Sv(s),this.startOfMonth=s=>OM(s),this.startOfWeek=s=>zs(s,{locale:this.locale}),this.startOfDay=s=>Ri(s),this.endOfYear=s=>$b(s),this.endOfMonth=s=>jv(s),this.endOfWeek=s=>kM(s,{locale:this.locale}),this.endOfDay=s=>Nh(s),this.addYears=(s,o)=>wM(s,o),this.addMonths=(s,o)=>gv(s,o),this.addWeeks=(s,o)=>SM(s,o),this.addDays=(s,o)=>cd(s,o),this.addHours=(s,o)=>mM(s,o),this.addMinutes=(s,o)=>vM(s,o),this.addSeconds=(s,o)=>jM(s,o),this.getYear=s=>MN(s),this.getMonth=s=>ON(s),this.getDate=s=>DN(s),this.getHours=s=>TN(s),this.getMinutes=s=>_N(s),this.getSeconds=s=>kN(s),this.getMilliseconds=s=>RN(s),this.setYear=(s,o)=>UL(s,o),this.setMonth=(s,o)=>LL(s,o),this.setDate=(s,o)=>$L(s,o),this.setHours=(s,o)=>FL(s,o),this.setMinutes=(s,o)=>BL(s,o),this.setSeconds=(s,o)=>VL(s,o),this.setMilliseconds=(s,o)=>WL(s,o),this.getDaysInMonth=s=>Dv(s),this.getWeekArray=s=>{const o=this.startOfWeek(this.startOfMonth(s)),i=this.endOfWeek(this.endOfMonth(s));let c=0,d=o;const u=[];for(;this.isBefore(d,i);){const h=Math.floor(c/7);u[h]=u[h]||[],u[h].push(d),d=this.addDays(d,1),c+=1}return u},this.getWeekNumber=s=>lp(s,{locale:this.locale}),this.getYearRange=([s,o])=>{const i=this.startOfYear(s),c=this.endOfYear(o),d=[];let u=i;for(;this.isBefore(u,c);)d.push(u),u=this.addYears(u,1);return d}}}document.title="Meta Journo v1.1.0";Ph.createRoot(document.getElementById("root")).render(t.jsx(Dt.StrictMode,{children:t.jsx(DA,{children:t.jsx(wO,{children:t.jsx(J_,{children:t.jsx(Q_,{children:t.jsx(Bk,{children:t.jsx(xk,{children:t.jsx(eO,{children:t.jsx(IS,{dateAdapter:M7,children:t.jsx(R7,{})})})})})})})})})}));
