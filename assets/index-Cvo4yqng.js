var SI=Object.defineProperty;var CI=(e,n,r)=>n in e?SI(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r;var Ae=(e,n,r)=>(CI(e,typeof n!="symbol"?n+"":n,r),r);import{d as Bh,r as g,j as t,e as PI,u as DI,i as tt,S as Ly,A as ct,B as P,L as Er,f as ar,h as sn,k as Zt,D as Yt,T as v,l as jn,c as Xi,s as _e,m as lt,n as TI,o as st,I as ys,p as $e,q as _a,C as II,t as qr,U as Vh,v as Uh,N as _o,w as Mc,x as Mn,y as kc,z as Ms,E as gi,F as $y,G as EI,H as AI,M as $o,J as Se,K as Ze,O as ah,Q as RI,V as Fy,W as zh,X as so,Y as Ns,Z as Oa,_ as Hh,$ as bi,a0 as ss,a1 as Kl,a2 as ge,a3 as Pt,a4 as Nc,a5 as _I,a6 as OI,a7 as MI,a8 as F,a9 as ke,aa as Fe,ab as he,ac as Ie,ad as pt,R as Ft,ae as le,af as kI,ag as NI,ah as LI,ai as $I,aj as FI,ak as WI,al as BI,am as Yn,an as VI,ao as Xl,ap as Oo,aq as Wy,ar as Jl,as as Ql,at as Zl,au as Yh,av as ec,aw as vs,ax as js,ay as bs,az as By,aA as Mo,aB as lh,aC as tc,aD as UI,aE as on,aF as pn,aG as an,aH as ln,aI as zI,aJ as nc,aK as $s,aL as _n,aM as ls,aN as io,aO as Vy,aP as rc,aQ as HI,aR as Gh,aS as YI,aT as ks,aU as GI,aV as qI,aW as KI,aX as XI,aY as Uy,aZ as bt,a_ as JI,a$ as QI,b0 as ZI,b1 as Lc,b2 as zy,b3 as eE,b4 as tE,b5 as Tt,b6 as wt,b7 as nE,b8 as Mu,b9 as rE,ba as sE,bb as sc,bc as oE,bd as iE,be as Hy,bf as aE,bg as Ma,bh as lE,bi as U,bj as cE,bk as dE,bl as uE,P as ee,b as hE,a as Xt,bm as rt,bn as zt,bo as ao,bp as ws,bq as Yy,br as fE,bs as Gy,bt as Fs,bu as qy,bv as pE,bw as Ky,bx as $c,by as xE,bz as mE,bA as gE,bB as bE,bC as Vg,bD as yE,bE as vE,bF as oc,bG as Xy,bH as qh,bI as Kh,bJ as Xh,bK as to,bL as gt,bM as ic,bN as Jh,bO as jE,bP as wE,bQ as SE,bR as CE,bS as PE,bT as DE,bU as TE,bV as Jy,bW as IE,bX as EE}from"./vendor-mui-l_MtHS_6.js";import{o as AE,s as RE,a as _E,c as OE,b as ME,i as kE,g as NE,G as LE,T as $E,F as FE,O as WE}from"./vendor-firebase-DaqPSQOy.js";import{u as lo,L as On,a as It,O as Qh,N as BE,b as Xr,R as VE,c as He,B as UE}from"./vendor-core-sHml5HGc.js";import{T as zE,v as HE,G as YE,f as GE,m as qE,d as KE,s as XE,a as JE,P as QE,I as ZE,F as eA,i as tA,n as nA}from"./vendor-editor-D13Gvn5f.js";import{i as rA,R as da,L as Qy,C as ac,X as lc,Y as cc,T as ua,a as dc,b as di,P as sA,c as oA,d as iA,B as Zy,e as uc}from"./vendor-charts-COyZLMaA.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var ch={},Ug=Bh;ch.createRoot=Ug.createRoot,ch.hydrateRoot=Ug.hydrateRoot;const Ve={HOME:"/",APP:"/app",STUDIO:"/studio",AUTH:"/auth",ADMIN:"/admin"},Ln={ROOT:"news",SUBPATHS:{TRENDING:"trending",MY_FEED:"feed"},CREATE:"create",EDIT:"edit",VIEW:":id"},pr={ROOT:"channels",CREATE:"create",EDIT:"edit",VIEW:":id"},ir={ROOT:"polls",CREATE:"create",EDIT:"edit",VIEW:":id"},eo={ROOT:"account",PROFILE:"profile",PAYMENT_METHODS:"payment-methods",SUBSCRIPTIONS:"subscriptions"},xr={ROOT:"expense-orders",CREATE:"create",EDIT:"edit",VIEW:":id"},hc={ROOT:"search"},_t={ROOT:"admin",DASHBOARD:"dashboard",USERS:"users",CHANNELS:"channels",NEWS:"news",POLLS:"polls",EXPENSE_ORDERS:"expense-orders",PAYOUTS:"payouts",TAGS:"tags",SUBSCRIPTIONS:"subscriptions",ANALYTICS:"analytics",SETTINGS:"settings"},ui={ROOT:"subscriptions",MANAGEMENT:"management",ANALYTICS:"analytics",REVENUE:"revenue"},Ml={ROOT:"users",LIST:"list",VIEW:":id",EDIT:":id/edit",ROLES:"roles"},kl={ROOT:"channels",LIST:"list",VIEW:":id",EDIT:":id/edit",ANALYTICS:"analytics"},Ue="/journalist-material-client/".replace(/\/$/,""),je={HOME:`${Ue}${Ve.HOME}`,LOGIN:`${Ue}${Ve.AUTH}/login`,SIGNUP:`${Ue}${Ve.AUTH}/signup`,POST_SIGNUP:`${Ue}${Ve.AUTH}/welcome`,APP_ROOT:`${Ue}${Ve.APP}`,APP_NEWS:`${Ue}${Ve.APP}/${Ln.ROOT}`,APP_NEWS_TRENDING:`${Ue}${Ve.APP}/${Ln.ROOT}/trending`,APP_NEWS_MY_FEED:`${Ue}${Ve.APP}/${Ln.ROOT}/feed`,APP_NEWS_VIEW:`${Ue}${Ve.APP}/${Ln.ROOT}/:id`,APP_CHANNELS:`${Ue}${Ve.APP}/${pr.ROOT}`,APP_CHANNEL_VIEW:`${Ue}${Ve.APP}/${pr.ROOT}/:channelId`,APP_POLL_LIST:`${Ue}${Ve.APP}/${ir.ROOT}`,APP_POLL_VIEW:`${Ue}${Ve.APP}/${ir.ROOT}/:id`,APP_EXPLORE:`${Ue}${Ve.APP}/explore`,APP_SUBSCRIPTIONS:`${Ue}${Ve.APP}/subscriptions`,APP_POLLS:`${Ue}${Ve.APP}/${ir.ROOT}`,APP_SEARCH:`${Ue}${Ve.APP}/${hc.ROOT}`,APP_ACCOUNT:`${Ue}${Ve.APP}/${eo.ROOT}`,APP_ACCOUNT_PROFILE:`${Ue}${Ve.APP}/${eo.ROOT}/${eo.PROFILE}`,APP_ACCOUNT_PAYMENT_METHODS:`${Ue}${Ve.APP}/${eo.ROOT}/${eo.PAYMENT_METHODS}`,APP_ACCOUNT_SUBSCRIPTIONS:`${Ue}${Ve.APP}/${eo.ROOT}/${eo.SUBSCRIPTIONS}`,APP_EXPENSE_ORDERS:`${Ue}${Ve.APP}/${xr.ROOT}`,APP_EXPENSE_ORDER_VIEW:`${Ue}${Ve.APP}/${xr.ROOT}/:id`,STUDIO_ROOT:`${Ue}${Ve.STUDIO}`,STUDIO_NEWS:`${Ue}${Ve.STUDIO}/${Ln.ROOT}`,STUDIO_NEWS_CREATE:`${Ue}${Ve.STUDIO}/${Ln.ROOT}/${Ln.CREATE}`,STUDIO_NEWS_EDIT:`${Ue}${Ve.STUDIO}/${Ln.ROOT}/${Ln.EDIT}/:id`,STUDIO_NEWS_VIEW:`${Ue}${Ve.STUDIO}/${Ln.ROOT}/:id`,STUDIO_CHANNELS:`${Ue}${Ve.STUDIO}/${pr.ROOT}`,STUDIO_CHANNEL_CREATE:`${Ue}${Ve.STUDIO}/${pr.ROOT}/${pr.CREATE}`,STUDIO_CHANNEL_EDIT:`${Ue}${Ve.STUDIO}/${pr.ROOT}/${pr.EDIT}/:channelId`,STUDIO_CHANNEL_VIEW:`${Ue}${Ve.STUDIO}/${pr.ROOT}/:channelId`,STUDIO_POLLS:`${Ue}${Ve.STUDIO}/${ir.ROOT}`,STUDIO_POLL_CREATE:`${Ue}${Ve.STUDIO}/${ir.ROOT}/${ir.CREATE}`,STUDIO_POLL_EDIT:`${Ue}${Ve.STUDIO}/${ir.ROOT}/${ir.EDIT}/:id`,STUDIO_POLL_VIEW:`${Ue}${Ve.STUDIO}/${ir.ROOT}/:id`,STUDIO_SEARCH:`${Ue}${Ve.STUDIO}/${hc.ROOT}`,STUDIO_EXPENSE_ORDERS:`${Ue}${Ve.STUDIO}/${xr.ROOT}`,STUDIO_EXPENSE_ORDER_CREATE:`${Ue}${Ve.STUDIO}/${xr.ROOT}/${xr.CREATE}`,STUDIO_EXPENSE_ORDER_EDIT:`${Ue}${Ve.STUDIO}/${xr.ROOT}/${xr.EDIT}/:id`,STUDIO_EXPENSE_ORDER_VIEW:`${Ue}${Ve.STUDIO}/${xr.ROOT}/:id`,ADMIN_ROOT:`${Ue}${Ve.ADMIN}`,ADMIN_DASHBOARD:`${Ue}${Ve.ADMIN}/${_t.DASHBOARD}`,ADMIN_USERS:`${Ue}${Ve.ADMIN}/${_t.USERS}`,ADMIN_USER_LIST:`${Ue}${Ve.ADMIN}/${_t.USERS}/${Ml.LIST}`,ADMIN_USER_VIEW:`${Ue}${Ve.ADMIN}/${_t.USERS}/${Ml.VIEW}`,ADMIN_USER_EDIT:`${Ue}${Ve.ADMIN}/${_t.USERS}/${Ml.EDIT}`,ADMIN_USER_ROLES:`${Ue}${Ve.ADMIN}/${_t.USERS}/${Ml.ROLES}`,ADMIN_CHANNELS:`${Ue}${Ve.ADMIN}/${_t.CHANNELS}`,ADMIN_CHANNEL_LIST:`${Ue}${Ve.ADMIN}/${_t.CHANNELS}/${kl.LIST}`,ADMIN_CHANNEL_VIEW:`${Ue}${Ve.ADMIN}/${_t.CHANNELS}/${kl.VIEW}`,ADMIN_CHANNEL_EDIT:`${Ue}${Ve.ADMIN}/${_t.CHANNELS}/${kl.EDIT}`,ADMIN_CHANNEL_ANALYTICS:`${Ue}${Ve.ADMIN}/${_t.CHANNELS}/${kl.ANALYTICS}`,ADMIN_NEWS:`${Ue}${Ve.ADMIN}/${_t.NEWS}`,ADMIN_POLLS:`${Ue}${Ve.ADMIN}/${_t.POLLS}`,ADMIN_EXPENSE_ORDERS:`${Ue}${Ve.ADMIN}/${_t.EXPENSE_ORDERS}`,ADMIN_PAYOUTS:`${Ue}${Ve.ADMIN}/${_t.PAYOUTS}`,ADMIN_TAGS:`${Ue}${Ve.ADMIN}/${_t.TAGS}`,ADMIN_SUBSCRIPTIONS:`${Ue}${Ve.ADMIN}/${_t.SUBSCRIPTIONS}`,ADMIN_SUBSCRIPTION_MANAGEMENT:`${Ue}${Ve.ADMIN}/${_t.SUBSCRIPTIONS}/${ui.MANAGEMENT}`,ADMIN_SUBSCRIPTION_ANALYTICS:`${Ue}${Ve.ADMIN}/${_t.SUBSCRIPTIONS}/${ui.ANALYTICS}`,ADMIN_SUBSCRIPTION_REVENUE:`${Ue}${Ve.ADMIN}/${_t.SUBSCRIPTIONS}/${ui.REVENUE}`,ADMIN_ANALYTICS:`${Ue}${Ve.ADMIN}/${_t.ANALYTICS}`,ADMIN_SETTINGS:`${Ue}${Ve.ADMIN}/${_t.SETTINGS}`};function ev(e,n){return function(){return e.apply(n,arguments)}}const{toString:aA}=Object.prototype,{getPrototypeOf:Zh}=Object,Fc=(e=>n=>{const r=aA.call(n);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),cs=e=>(e=e.toLowerCase(),n=>Fc(n)===e),Wc=e=>n=>typeof n===e,{isArray:Ei}=Array,ga=Wc("undefined");function lA(e){return e!==null&&!ga(e)&&e.constructor!==null&&!ga(e.constructor)&&Yr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const tv=cs("ArrayBuffer");function cA(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&tv(e.buffer),n}const dA=Wc("string"),Yr=Wc("function"),nv=Wc("number"),Bc=e=>e!==null&&typeof e=="object",uA=e=>e===!0||e===!1,zl=e=>{if(Fc(e)!=="object")return!1;const n=Zh(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},hA=cs("Date"),fA=cs("File"),pA=cs("Blob"),xA=cs("FileList"),mA=e=>Bc(e)&&Yr(e.pipe),gA=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||Yr(e.append)&&((n=Fc(e))==="formdata"||n==="object"&&Yr(e.toString)&&e.toString()==="[object FormData]"))},bA=cs("URLSearchParams"),[yA,vA,jA,wA]=["ReadableStream","Request","Response","Headers"].map(cs),SA=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ka(e,n,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,o;if(typeof e!="object"&&(e=[e]),Ei(e))for(s=0,o=e.length;s<o;s++)n.call(null,e[s],s,e);else{const a=r?Object.getOwnPropertyNames(e):Object.keys(e),c=a.length;let d;for(s=0;s<c;s++)d=a[s],n.call(null,e[d],d,e)}}function rv(e,n){n=n.toLowerCase();const r=Object.keys(e);let s=r.length,o;for(;s-- >0;)if(o=r[s],n===o.toLowerCase())return o;return null}const sv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ov=e=>!ga(e)&&e!==sv;function dh(){const{caseless:e}=ov(this)&&this||{},n={},r=(s,o)=>{const a=e&&rv(n,o)||o;zl(n[a])&&zl(s)?n[a]=dh(n[a],s):zl(s)?n[a]=dh({},s):Ei(s)?n[a]=s.slice():n[a]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&ka(arguments[s],r);return n}const CA=(e,n,r,{allOwnKeys:s}={})=>(ka(n,(o,a)=>{r&&Yr(o)?e[a]=ev(o,r):e[a]=o},{allOwnKeys:s}),e),PA=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),DA=(e,n,r,s)=>{e.prototype=Object.create(n.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),r&&Object.assign(e.prototype,r)},TA=(e,n,r,s)=>{let o,a,c;const d={};if(n=n||{},e==null)return n;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)c=o[a],(!s||s(c,e,n))&&!d[c]&&(n[c]=e[c],d[c]=!0);e=r!==!1&&Zh(e)}while(e&&(!r||r(e,n))&&e!==Object.prototype);return n},IA=(e,n,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=n.length;const s=e.indexOf(n,r);return s!==-1&&s===r},EA=e=>{if(!e)return null;if(Ei(e))return e;let n=e.length;if(!nv(n))return null;const r=new Array(n);for(;n-- >0;)r[n]=e[n];return r},AA=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&Zh(Uint8Array)),RA=(e,n)=>{const s=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=s.next())&&!o.done;){const a=o.value;n.call(e,a[0],a[1])}},_A=(e,n)=>{let r;const s=[];for(;(r=e.exec(n))!==null;)s.push(r);return s},OA=cs("HTMLFormElement"),MA=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,o){return s.toUpperCase()+o}),zg=(({hasOwnProperty:e})=>(n,r)=>e.call(n,r))(Object.prototype),kA=cs("RegExp"),iv=(e,n)=>{const r=Object.getOwnPropertyDescriptors(e),s={};ka(r,(o,a)=>{let c;(c=n(o,a,e))!==!1&&(s[a]=c||o)}),Object.defineProperties(e,s)},NA=e=>{iv(e,(n,r)=>{if(Yr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(Yr(s)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},LA=(e,n)=>{const r={},s=o=>{o.forEach(a=>{r[a]=!0})};return Ei(e)?s(e):s(String(e).split(n)),r},$A=()=>{},FA=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n,ku="abcdefghijklmnopqrstuvwxyz",Hg="0123456789",av={DIGIT:Hg,ALPHA:ku,ALPHA_DIGIT:ku+ku.toUpperCase()+Hg},WA=(e=16,n=av.ALPHA_DIGIT)=>{let r="";const{length:s}=n;for(;e--;)r+=n[Math.random()*s|0];return r};function BA(e){return!!(e&&Yr(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const VA=e=>{const n=new Array(10),r=(s,o)=>{if(Bc(s)){if(n.indexOf(s)>=0)return;if(!("toJSON"in s)){n[o]=s;const a=Ei(s)?[]:{};return ka(s,(c,d)=>{const u=r(c,o+1);!ga(u)&&(a[d]=u)}),n[o]=void 0,a}}return s};return r(e,0)},UA=cs("AsyncFunction"),zA=e=>e&&(Bc(e)||Yr(e))&&Yr(e.then)&&Yr(e.catch),ye={isArray:Ei,isArrayBuffer:tv,isBuffer:lA,isFormData:gA,isArrayBufferView:cA,isString:dA,isNumber:nv,isBoolean:uA,isObject:Bc,isPlainObject:zl,isReadableStream:yA,isRequest:vA,isResponse:jA,isHeaders:wA,isUndefined:ga,isDate:hA,isFile:fA,isBlob:pA,isRegExp:kA,isFunction:Yr,isStream:mA,isURLSearchParams:bA,isTypedArray:AA,isFileList:xA,forEach:ka,merge:dh,extend:CA,trim:SA,stripBOM:PA,inherits:DA,toFlatObject:TA,kindOf:Fc,kindOfTest:cs,endsWith:IA,toArray:EA,forEachEntry:RA,matchAll:_A,isHTMLForm:OA,hasOwnProperty:zg,hasOwnProp:zg,reduceDescriptors:iv,freezeMethods:NA,toObjectSet:LA,toCamelCase:MA,noop:$A,toFiniteNumber:FA,findKey:rv,global:sv,isContextDefined:ov,ALPHABET:av,generateString:WA,isSpecCompliantForm:BA,toJSONObject:VA,isAsyncFn:UA,isThenable:zA};function ft(e,n,r,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),r&&(this.config=r),s&&(this.request=s),o&&(this.response=o)}ye.inherits(ft,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ye.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const lv=ft.prototype,cv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{cv[e]={value:e}});Object.defineProperties(ft,cv);Object.defineProperty(lv,"isAxiosError",{value:!0});ft.from=(e,n,r,s,o,a)=>{const c=Object.create(lv);return ye.toFlatObject(e,c,function(u){return u!==Error.prototype},d=>d!=="isAxiosError"),ft.call(c,e.message,n,r,s,o),c.cause=e,c.name=e.name,a&&Object.assign(c,a),c};const HA=null;function uh(e){return ye.isPlainObject(e)||ye.isArray(e)}function dv(e){return ye.endsWith(e,"[]")?e.slice(0,-2):e}function Yg(e,n,r){return e?e.concat(n).map(function(o,a){return o=dv(o),!r&&a?"["+o+"]":o}).join(r?".":""):n}function YA(e){return ye.isArray(e)&&!e.some(uh)}const GA=ye.toFlatObject(ye,{},null,function(n){return/^is[A-Z]/.test(n)});function Vc(e,n,r){if(!ye.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,r=ye.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,j){return!ye.isUndefined(j[w])});const s=r.metaTokens,o=r.visitor||p,a=r.dots,c=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&ye.isSpecCompliantForm(n);if(!ye.isFunction(o))throw new TypeError("visitor must be a function");function h(m){if(m===null)return"";if(ye.isDate(m))return m.toISOString();if(!u&&ye.isBlob(m))throw new ft("Blob is not supported. Use a Buffer instead.");return ye.isArrayBuffer(m)||ye.isTypedArray(m)?u&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function p(m,w,j){let D=m;if(m&&!j&&typeof m=="object"){if(ye.endsWith(w,"{}"))w=s?w:w.slice(0,-2),m=JSON.stringify(m);else if(ye.isArray(m)&&YA(m)||(ye.isFileList(m)||ye.endsWith(w,"[]"))&&(D=ye.toArray(m)))return w=dv(w),D.forEach(function(R,E){!(ye.isUndefined(R)||R===null)&&n.append(c===!0?Yg([w],E,a):c===null?w:w+"[]",h(R))}),!1}return uh(m)?!0:(n.append(Yg(j,w,a),h(m)),!1)}const x=[],b=Object.assign(GA,{defaultVisitor:p,convertValue:h,isVisitable:uh});function y(m,w){if(!ye.isUndefined(m)){if(x.indexOf(m)!==-1)throw Error("Circular reference detected in "+w.join("."));x.push(m),ye.forEach(m,function(D,C){(!(ye.isUndefined(D)||D===null)&&o.call(n,D,ye.isString(C)?C.trim():C,w,b))===!0&&y(D,w?w.concat(C):[C])}),x.pop()}}if(!ye.isObject(e))throw new TypeError("data must be an object");return y(e),n}function Gg(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return n[s]})}function ef(e,n){this._pairs=[],e&&Vc(e,this,n)}const uv=ef.prototype;uv.append=function(n,r){this._pairs.push([n,r])};uv.toString=function(n){const r=n?function(s){return n.call(this,s,Gg)}:Gg;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function qA(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function hv(e,n,r){if(!n)return e;const s=r&&r.encode||qA,o=r&&r.serialize;let a;if(o?a=o(n,r):a=ye.isURLSearchParams(n)?n.toString():new ef(n,r).toString(s),a){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class qg{constructor(){this.handlers=[]}use(n,r,s){return this.handlers.push({fulfilled:n,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){ye.forEach(this.handlers,function(s){s!==null&&n(s)})}}const fv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},KA=typeof URLSearchParams<"u"?URLSearchParams:ef,XA=typeof FormData<"u"?FormData:null,JA=typeof Blob<"u"?Blob:null,QA={isBrowser:!0,classes:{URLSearchParams:KA,FormData:XA,Blob:JA},protocols:["http","https","file","blob","url","data"]},tf=typeof window<"u"&&typeof document<"u",ZA=(e=>tf&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),eR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",tR=tf&&window.location.href||"http://localhost",nR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tf,hasStandardBrowserEnv:ZA,hasStandardBrowserWebWorkerEnv:eR,origin:tR},Symbol.toStringTag,{value:"Module"})),as={...nR,...QA};function rR(e,n){return Vc(e,new as.classes.URLSearchParams,Object.assign({visitor:function(r,s,o,a){return as.isNode&&ye.isBuffer(r)?(this.append(s,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},n))}function sR(e){return ye.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function oR(e){const n={},r=Object.keys(e);let s;const o=r.length;let a;for(s=0;s<o;s++)a=r[s],n[a]=e[a];return n}function pv(e){function n(r,s,o,a){let c=r[a++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),u=a>=r.length;return c=!c&&ye.isArray(o)?o.length:c,u?(ye.hasOwnProp(o,c)?o[c]=[o[c],s]:o[c]=s,!d):((!o[c]||!ye.isObject(o[c]))&&(o[c]=[]),n(r,s,o[c],a)&&ye.isArray(o[c])&&(o[c]=oR(o[c])),!d)}if(ye.isFormData(e)&&ye.isFunction(e.entries)){const r={};return ye.forEachEntry(e,(s,o)=>{n(sR(s),o,r,0)}),r}return null}function iR(e,n,r){if(ye.isString(e))try{return(n||JSON.parse)(e),ye.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const Na={transitional:fv,adapter:["xhr","http","fetch"],transformRequest:[function(n,r){const s=r.getContentType()||"",o=s.indexOf("application/json")>-1,a=ye.isObject(n);if(a&&ye.isHTMLForm(n)&&(n=new FormData(n)),ye.isFormData(n))return o?JSON.stringify(pv(n)):n;if(ye.isArrayBuffer(n)||ye.isBuffer(n)||ye.isStream(n)||ye.isFile(n)||ye.isBlob(n)||ye.isReadableStream(n))return n;if(ye.isArrayBufferView(n))return n.buffer;if(ye.isURLSearchParams(n))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let d;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return rR(n,this.formSerializer).toString();if((d=ye.isFileList(n))||s.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Vc(d?{"files[]":n}:n,u&&new u,this.formSerializer)}}return a||o?(r.setContentType("application/json",!1),iR(n)):n}],transformResponse:[function(n){const r=this.transitional||Na.transitional,s=r&&r.forcedJSONParsing,o=this.responseType==="json";if(ye.isResponse(n)||ye.isReadableStream(n))return n;if(n&&ye.isString(n)&&(s&&!this.responseType||o)){const c=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(n)}catch(d){if(c)throw d.name==="SyntaxError"?ft.from(d,ft.ERR_BAD_RESPONSE,this,null,this.response):d}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:as.classes.FormData,Blob:as.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ye.forEach(["delete","get","head","post","put","patch"],e=>{Na.headers[e]={}});const aR=ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lR=e=>{const n={};let r,s,o;return e&&e.split(`
`).forEach(function(c){o=c.indexOf(":"),r=c.substring(0,o).trim().toLowerCase(),s=c.substring(o+1).trim(),!(!r||n[r]&&aR[r])&&(r==="set-cookie"?n[r]?n[r].push(s):n[r]=[s]:n[r]=n[r]?n[r]+", "+s:s)}),n},Kg=Symbol("internals");function Ji(e){return e&&String(e).trim().toLowerCase()}function Hl(e){return e===!1||e==null?e:ye.isArray(e)?e.map(Hl):String(e)}function cR(e){const n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)n[s[1]]=s[2];return n}const dR=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Nu(e,n,r,s,o){if(ye.isFunction(s))return s.call(this,n,r);if(o&&(n=r),!!ye.isString(n)){if(ye.isString(s))return n.indexOf(s)!==-1;if(ye.isRegExp(s))return s.test(n)}}function uR(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,r,s)=>r.toUpperCase()+s)}function hR(e,n){const r=ye.toCamelCase(" "+n);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(o,a,c){return this[s].call(this,n,o,a,c)},configurable:!0})})}class gr{constructor(n){n&&this.set(n)}set(n,r,s){const o=this;function a(d,u,h){const p=Ji(u);if(!p)throw new Error("header name must be a non-empty string");const x=ye.findKey(o,p);(!x||o[x]===void 0||h===!0||h===void 0&&o[x]!==!1)&&(o[x||u]=Hl(d))}const c=(d,u)=>ye.forEach(d,(h,p)=>a(h,p,u));if(ye.isPlainObject(n)||n instanceof this.constructor)c(n,r);else if(ye.isString(n)&&(n=n.trim())&&!dR(n))c(lR(n),r);else if(ye.isHeaders(n))for(const[d,u]of n.entries())a(u,d,s);else n!=null&&a(r,n,s);return this}get(n,r){if(n=Ji(n),n){const s=ye.findKey(this,n);if(s){const o=this[s];if(!r)return o;if(r===!0)return cR(o);if(ye.isFunction(r))return r.call(this,o,s);if(ye.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,r){if(n=Ji(n),n){const s=ye.findKey(this,n);return!!(s&&this[s]!==void 0&&(!r||Nu(this,this[s],s,r)))}return!1}delete(n,r){const s=this;let o=!1;function a(c){if(c=Ji(c),c){const d=ye.findKey(s,c);d&&(!r||Nu(s,s[d],d,r))&&(delete s[d],o=!0)}}return ye.isArray(n)?n.forEach(a):a(n),o}clear(n){const r=Object.keys(this);let s=r.length,o=!1;for(;s--;){const a=r[s];(!n||Nu(this,this[a],a,n,!0))&&(delete this[a],o=!0)}return o}normalize(n){const r=this,s={};return ye.forEach(this,(o,a)=>{const c=ye.findKey(s,a);if(c){r[c]=Hl(o),delete r[a];return}const d=n?uR(a):String(a).trim();d!==a&&delete r[a],r[d]=Hl(o),s[d]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const r=Object.create(null);return ye.forEach(this,(s,o)=>{s!=null&&s!==!1&&(r[o]=n&&ye.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,r])=>n+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...r){const s=new this(n);return r.forEach(o=>s.set(o)),s}static accessor(n){const s=(this[Kg]=this[Kg]={accessors:{}}).accessors,o=this.prototype;function a(c){const d=Ji(c);s[d]||(hR(o,c),s[d]=!0)}return ye.isArray(n)?n.forEach(a):a(n),this}}gr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ye.reduceDescriptors(gr.prototype,({value:e},n)=>{let r=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(s){this[r]=s}}});ye.freezeMethods(gr);function Lu(e,n){const r=this||Na,s=n||r,o=gr.from(s.headers);let a=s.data;return ye.forEach(e,function(d){a=d.call(r,a,o.normalize(),n?n.status:void 0)}),o.normalize(),a}function xv(e){return!!(e&&e.__CANCEL__)}function Ai(e,n,r){ft.call(this,e??"canceled",ft.ERR_CANCELED,n,r),this.name="CanceledError"}ye.inherits(Ai,ft,{__CANCEL__:!0});function mv(e,n,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):n(new ft("Request failed with status code "+r.status,[ft.ERR_BAD_REQUEST,ft.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function fR(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function pR(e,n){e=e||10;const r=new Array(e),s=new Array(e);let o=0,a=0,c;return n=n!==void 0?n:1e3,function(u){const h=Date.now(),p=s[a];c||(c=h),r[o]=u,s[o]=h;let x=a,b=0;for(;x!==o;)b+=r[x++],x=x%e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),h-c<n)return;const y=p&&h-p;return y?Math.round(b*1e3/y):void 0}}function xR(e,n){let r=0;const s=1e3/n;let o=null;return function(){const c=this===!0,d=Date.now();if(c||d-r>s)return o&&(clearTimeout(o),o=null),r=d,e.apply(null,arguments);o||(o=setTimeout(()=>(o=null,r=Date.now(),e.apply(null,arguments)),s-(d-r)))}}const fc=(e,n,r=3)=>{let s=0;const o=pR(50,250);return xR(a=>{const c=a.loaded,d=a.lengthComputable?a.total:void 0,u=c-s,h=o(u),p=c<=d;s=c;const x={loaded:c,total:d,progress:d?c/d:void 0,bytes:u,rate:h||void 0,estimated:h&&d&&p?(d-c)/h:void 0,event:a,lengthComputable:d!=null};x[n?"download":"upload"]=!0,e(x)},r)},mR=as.hasStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let s;function o(a){let c=a;return n&&(r.setAttribute("href",c),c=r.href),r.setAttribute("href",c),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return s=o(window.location.href),function(c){const d=ye.isString(c)?o(c):c;return d.protocol===s.protocol&&d.host===s.host}}():function(){return function(){return!0}}(),gR=as.hasStandardBrowserEnv?{write(e,n,r,s,o,a){const c=[e+"="+encodeURIComponent(n)];ye.isNumber(r)&&c.push("expires="+new Date(r).toGMTString()),ye.isString(s)&&c.push("path="+s),ye.isString(o)&&c.push("domain="+o),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function bR(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function yR(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function gv(e,n){return e&&!bR(n)?yR(e,n):n}const Xg=e=>e instanceof gr?{...e}:e;function ko(e,n){n=n||{};const r={};function s(h,p,x){return ye.isPlainObject(h)&&ye.isPlainObject(p)?ye.merge.call({caseless:x},h,p):ye.isPlainObject(p)?ye.merge({},p):ye.isArray(p)?p.slice():p}function o(h,p,x){if(ye.isUndefined(p)){if(!ye.isUndefined(h))return s(void 0,h,x)}else return s(h,p,x)}function a(h,p){if(!ye.isUndefined(p))return s(void 0,p)}function c(h,p){if(ye.isUndefined(p)){if(!ye.isUndefined(h))return s(void 0,h)}else return s(void 0,p)}function d(h,p,x){if(x in n)return s(h,p);if(x in e)return s(void 0,h)}const u={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(h,p)=>o(Xg(h),Xg(p),!0)};return ye.forEach(Object.keys(Object.assign({},e,n)),function(p){const x=u[p]||o,b=x(e[p],n[p],p);ye.isUndefined(b)&&x!==d||(r[p]=b)}),r}const bv=e=>{const n=ko({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:a,headers:c,auth:d}=n;n.headers=c=gr.from(c),n.url=hv(gv(n.baseURL,n.url),e.params,e.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let u;if(ye.isFormData(r)){if(as.hasStandardBrowserEnv||as.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((u=c.getContentType())!==!1){const[h,...p]=u?u.split(";").map(x=>x.trim()).filter(Boolean):[];c.setContentType([h||"multipart/form-data",...p].join("; "))}}if(as.hasStandardBrowserEnv&&(s&&ye.isFunction(s)&&(s=s(n)),s||s!==!1&&mR(n.url))){const h=o&&a&&gR.read(a);h&&c.set(o,h)}return n},vR=typeof XMLHttpRequest<"u",jR=vR&&function(e){return new Promise(function(r,s){const o=bv(e);let a=o.data;const c=gr.from(o.headers).normalize();let{responseType:d}=o,u;function h(){o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let p=new XMLHttpRequest;p.open(o.method.toUpperCase(),o.url,!0),p.timeout=o.timeout;function x(){if(!p)return;const y=gr.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),w={data:!d||d==="text"||d==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:y,config:e,request:p};mv(function(D){r(D),h()},function(D){s(D),h()},w),p=null}"onloadend"in p?p.onloadend=x:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(x)},p.onabort=function(){p&&(s(new ft("Request aborted",ft.ECONNABORTED,o,p)),p=null)},p.onerror=function(){s(new ft("Network Error",ft.ERR_NETWORK,o,p)),p=null},p.ontimeout=function(){let m=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const w=o.transitional||fv;o.timeoutErrorMessage&&(m=o.timeoutErrorMessage),s(new ft(m,w.clarifyTimeoutError?ft.ETIMEDOUT:ft.ECONNABORTED,o,p)),p=null},a===void 0&&c.setContentType(null),"setRequestHeader"in p&&ye.forEach(c.toJSON(),function(m,w){p.setRequestHeader(w,m)}),ye.isUndefined(o.withCredentials)||(p.withCredentials=!!o.withCredentials),d&&d!=="json"&&(p.responseType=o.responseType),typeof o.onDownloadProgress=="function"&&p.addEventListener("progress",fc(o.onDownloadProgress,!0)),typeof o.onUploadProgress=="function"&&p.upload&&p.upload.addEventListener("progress",fc(o.onUploadProgress)),(o.cancelToken||o.signal)&&(u=y=>{p&&(s(!y||y.type?new Ai(null,e,p):y),p.abort(),p=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const b=fR(o.url);if(b&&as.protocols.indexOf(b)===-1){s(new ft("Unsupported protocol "+b+":",ft.ERR_BAD_REQUEST,e));return}p.send(a||null)})},wR=(e,n)=>{let r=new AbortController,s;const o=function(u){if(!s){s=!0,c();const h=u instanceof Error?u:this.reason;r.abort(h instanceof ft?h:new Ai(h instanceof Error?h.message:h))}};let a=n&&setTimeout(()=>{o(new ft(`timeout ${n} of ms exceeded`,ft.ETIMEDOUT))},n);const c=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(u=>{u&&(u.removeEventListener?u.removeEventListener("abort",o):u.unsubscribe(o))}),e=null)};e.forEach(u=>u&&u.addEventListener&&u.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=c,[d,()=>{a&&clearTimeout(a),a=null}]},SR=function*(e,n){let r=e.byteLength;if(!n||r<n){yield e;return}let s=0,o;for(;s<r;)o=s+n,yield e.slice(s,o),s=o},CR=async function*(e,n,r){for await(const s of e)yield*SR(ArrayBuffer.isView(s)?s:await r(String(s)),n)},Jg=(e,n,r,s,o)=>{const a=CR(e,n,o);let c=0;return new ReadableStream({type:"bytes",async pull(d){const{done:u,value:h}=await a.next();if(u){d.close(),s();return}let p=h.byteLength;r&&r(c+=p),d.enqueue(new Uint8Array(h))},cancel(d){return s(d),a.return()}},{highWaterMark:2})},Qg=(e,n)=>{const r=e!=null;return s=>setTimeout(()=>n({lengthComputable:r,total:e,loaded:s}))},Uc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",yv=Uc&&typeof ReadableStream=="function",hh=Uc&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),PR=yv&&(()=>{let e=!1;const n=new Request(as.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n})(),Zg=64*1024,fh=yv&&!!(()=>{try{return ye.isReadableStream(new Response("").body)}catch{}})(),pc={stream:fh&&(e=>e.body)};Uc&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!pc[n]&&(pc[n]=ye.isFunction(e[n])?r=>r[n]():(r,s)=>{throw new ft(`Response type '${n}' is not supported`,ft.ERR_NOT_SUPPORT,s)})})})(new Response);const DR=async e=>{if(e==null)return 0;if(ye.isBlob(e))return e.size;if(ye.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(ye.isArrayBufferView(e))return e.byteLength;if(ye.isURLSearchParams(e)&&(e=e+""),ye.isString(e))return(await hh(e)).byteLength},TR=async(e,n)=>{const r=ye.toFiniteNumber(e.getContentLength());return r??DR(n)},IR=Uc&&(async e=>{let{url:n,method:r,data:s,signal:o,cancelToken:a,timeout:c,onDownloadProgress:d,onUploadProgress:u,responseType:h,headers:p,withCredentials:x="same-origin",fetchOptions:b}=bv(e);h=h?(h+"").toLowerCase():"text";let[y,m]=o||a||c?wR([o,a],c):[],w,j;const D=()=>{!w&&setTimeout(()=>{y&&y.unsubscribe()}),w=!0};let C;try{if(u&&PR&&r!=="get"&&r!=="head"&&(C=await TR(p,s))!==0){let I=new Request(n,{method:"POST",body:s,duplex:"half"}),N;ye.isFormData(s)&&(N=I.headers.get("content-type"))&&p.setContentType(N),I.body&&(s=Jg(I.body,Zg,Qg(C,fc(u)),null,hh))}ye.isString(x)||(x=x?"cors":"omit"),j=new Request(n,{...b,signal:y,method:r.toUpperCase(),headers:p.normalize().toJSON(),body:s,duplex:"half",withCredentials:x});let R=await fetch(j);const E=fh&&(h==="stream"||h==="response");if(fh&&(d||E)){const I={};["status","statusText","headers"].forEach(O=>{I[O]=R[O]});const N=ye.toFiniteNumber(R.headers.get("content-length"));R=new Response(Jg(R.body,Zg,d&&Qg(N,fc(d,!0)),E&&D,hh),I)}h=h||"text";let T=await pc[ye.findKey(pc,h)||"text"](R,e);return!E&&D(),m&&m(),await new Promise((I,N)=>{mv(I,N,{data:T,headers:gr.from(R.headers),status:R.status,statusText:R.statusText,config:e,request:j})})}catch(R){throw D(),R&&R.name==="TypeError"&&/fetch/i.test(R.message)?Object.assign(new ft("Network Error",ft.ERR_NETWORK,e,j),{cause:R.cause||R}):ft.from(R,R&&R.code,e,j)}}),ph={http:HA,xhr:jR,fetch:IR};ye.forEach(ph,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const eb=e=>`- ${e}`,ER=e=>ye.isFunction(e)||e===null||e===!1,vv={getAdapter:e=>{e=ye.isArray(e)?e:[e];const{length:n}=e;let r,s;const o={};for(let a=0;a<n;a++){r=e[a];let c;if(s=r,!ER(r)&&(s=ph[(c=String(r)).toLowerCase()],s===void 0))throw new ft(`Unknown adapter '${c}'`);if(s)break;o[c||"#"+a]=s}if(!s){const a=Object.entries(o).map(([d,u])=>`adapter ${d} `+(u===!1?"is not supported by the environment":"is not available in the build"));let c=n?a.length>1?`since :
`+a.map(eb).join(`
`):" "+eb(a[0]):"as no adapter specified";throw new ft("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s},adapters:ph};function $u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ai(null,e)}function tb(e){return $u(e),e.headers=gr.from(e.headers),e.data=Lu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),vv.getAdapter(e.adapter||Na.adapter)(e).then(function(s){return $u(e),s.data=Lu.call(e,e.transformResponse,s),s.headers=gr.from(s.headers),s},function(s){return xv(s)||($u(e),s&&s.response&&(s.response.data=Lu.call(e,e.transformResponse,s.response),s.response.headers=gr.from(s.response.headers))),Promise.reject(s)})}const jv="1.7.2",nf={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{nf[e]=function(s){return typeof s===e||"a"+(n<1?"n ":" ")+e}});const nb={};nf.transitional=function(n,r,s){function o(a,c){return"[Axios v"+jv+"] Transitional option '"+a+"'"+c+(s?". "+s:"")}return(a,c,d)=>{if(n===!1)throw new ft(o(c," has been removed"+(r?" in "+r:"")),ft.ERR_DEPRECATED);return r&&!nb[c]&&(nb[c]=!0,console.warn(o(c," has been deprecated since v"+r+" and will be removed in the near future"))),n?n(a,c,d):!0}};function AR(e,n,r){if(typeof e!="object")throw new ft("options must be an object",ft.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let o=s.length;for(;o-- >0;){const a=s[o],c=n[a];if(c){const d=e[a],u=d===void 0||c(d,a,e);if(u!==!0)throw new ft("option "+a+" must be "+u,ft.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ft("Unknown option "+a,ft.ERR_BAD_OPTION)}}const xh={assertOptions:AR,validators:nf},Xs=xh.validators;class Ro{constructor(n){this.defaults=n,this.interceptors={request:new qg,response:new qg}}async request(n,r){try{return await this._request(n,r)}catch(s){if(s instanceof Error){let o;Error.captureStackTrace?Error.captureStackTrace(o={}):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(n,r){typeof n=="string"?(r=r||{},r.url=n):r=n||{},r=ko(this.defaults,r);const{transitional:s,paramsSerializer:o,headers:a}=r;s!==void 0&&xh.assertOptions(s,{silentJSONParsing:Xs.transitional(Xs.boolean),forcedJSONParsing:Xs.transitional(Xs.boolean),clarifyTimeoutError:Xs.transitional(Xs.boolean)},!1),o!=null&&(ye.isFunction(o)?r.paramsSerializer={serialize:o}:xh.assertOptions(o,{encode:Xs.function,serialize:Xs.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=a&&ye.merge(a.common,a[r.method]);a&&ye.forEach(["delete","get","head","post","put","patch","common"],m=>{delete a[m]}),r.headers=gr.concat(c,a);const d=[];let u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(r)===!1||(u=u&&w.synchronous,d.unshift(w.fulfilled,w.rejected))});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let p,x=0,b;if(!u){const m=[tb.bind(this),void 0];for(m.unshift.apply(m,d),m.push.apply(m,h),b=m.length,p=Promise.resolve(r);x<b;)p=p.then(m[x++],m[x++]);return p}b=d.length;let y=r;for(x=0;x<b;){const m=d[x++],w=d[x++];try{y=m(y)}catch(j){w.call(this,j);break}}try{p=tb.call(this,y)}catch(m){return Promise.reject(m)}for(x=0,b=h.length;x<b;)p=p.then(h[x++],h[x++]);return p}getUri(n){n=ko(this.defaults,n);const r=gv(n.baseURL,n.url);return hv(r,n.params,n.paramsSerializer)}}ye.forEach(["delete","get","head","options"],function(n){Ro.prototype[n]=function(r,s){return this.request(ko(s||{},{method:n,url:r,data:(s||{}).data}))}});ye.forEach(["post","put","patch"],function(n){function r(s){return function(a,c,d){return this.request(ko(d||{},{method:n,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}Ro.prototype[n]=r(),Ro.prototype[n+"Form"]=r(!0)});class rf{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const s=this;this.promise.then(o=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](o);s._listeners=null}),this.promise.then=o=>{let a;const c=new Promise(d=>{s.subscribe(d),a=d}).then(o);return c.cancel=function(){s.unsubscribe(a)},c},n(function(a,c,d){s.reason||(s.reason=new Ai(a,c,d),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const r=this._listeners.indexOf(n);r!==-1&&this._listeners.splice(r,1)}static source(){let n;return{token:new rf(function(o){n=o}),cancel:n}}}function RR(e){return function(r){return e.apply(null,r)}}function _R(e){return ye.isObject(e)&&e.isAxiosError===!0}const mh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mh).forEach(([e,n])=>{mh[n]=e});function wv(e){const n=new Ro(e),r=ev(Ro.prototype.request,n);return ye.extend(r,Ro.prototype,n,{allOwnKeys:!0}),ye.extend(r,n,null,{allOwnKeys:!0}),r.create=function(o){return wv(ko(e,o))},r}const Tn=wv(Na);Tn.Axios=Ro;Tn.CanceledError=Ai;Tn.CancelToken=rf;Tn.isCancel=xv;Tn.VERSION=jv;Tn.toFormData=Vc;Tn.AxiosError=ft;Tn.Cancel=Tn.CanceledError;Tn.all=function(n){return Promise.all(n)};Tn.spread=RR;Tn.isAxiosError=_R;Tn.mergeConfig=ko;Tn.AxiosHeaders=gr;Tn.formToJSON=e=>pv(ye.isHTMLForm(e)?new FormData(e):e);Tn.getAdapter=vv.getAdapter;Tn.HttpStatusCode=mh;Tn.default=Tn;const OR="https://oyster-app-4nnna.ondigitalocean.app";class MR{constructor(){Ae(this,"instance");Ae(this,"handleAxiosError",n=>n.response?{status:n.response.status,data:n.response.data}:{status:500,data:"Network Error"});this.instance=Tn.create({baseURL:OR,headers:{"Content-Type":"application/json"}}),this.instance.interceptors.request.use(n=>n,n=>Promise.reject(n)),this.instance.interceptors.response.use(n=>n,n=>Promise.reject(n))}get axiosInstance(){return this.instance}}const ze={page:1,limit:20,order:"desc"};class br{constructor(n,r){Ae(this,"axiosJ");Ae(this,"apiPath");Ae(this,"_list",async(n,r,s)=>{try{const o=new URLSearchParams(r),a=o.size===0?"":`?${o.toString()}`;return(await this.axiosJ.axiosInstance.get(`${n}${a}`,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Ae(this,"_listAll",async(n,r,s)=>{try{const o=new URLSearchParams(r),a=o.size===0?"":`?${o.toString()}`;return(await this.axiosJ.axiosInstance.get(`${n}${a}`,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Ae(this,"_get",async(n,r)=>{try{return(await this.axiosJ.axiosInstance.get(n,r)).data}catch(s){throw this.axiosJ.handleAxiosError(s)}});Ae(this,"_post",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.post(n,r,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Ae(this,"_patch",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.patch(n,r,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Ae(this,"_put",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.put(n,r,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Ae(this,"_remove",async(n,r)=>{try{return(await this.axiosJ.axiosInstance.delete(n,r)).data}catch(s){throw this.axiosJ.handleAxiosError(s)}});this.axiosJ=n,this.apiPath=r}}const Xn="/api/channels",ps={TIER:"tiers",SUBSCRIPTIONS:"subscriptions"};class kR extends br{constructor(n){super(n,Xn)}async getChannels(n={},r=ze){const s={...r};return n.trending&&(s.trending="true"),n.popular&&(s.popular="true"),n.subscribed&&(s.subscribed="true"),n.followed&&(s.followed="true"),n.verified&&(s.verified="true"),n.creator&&(s.creator=n.creator),n.category&&(s.category=n.category),n.tags&&n.tags.length>0&&(s.tags=n.tags.join(",")),this._list(Xn,s)}async getAll(n=ze){return this.getChannels({},n)}async getTrending(n=ze){return this.getChannels({trending:!0},n)}async getPopular(n=ze){return this.getChannels({popular:!0},n)}async getSubscribed(n=ze){return this.getChannels({subscribed:!0},n)}async getFollowed(n=ze){return this.getChannels({followed:!0},n)}async getVerified(n=ze){return this.getChannels({verified:!0},n)}async createChannel(n){return this._post(Xn,n)}async getChannel(n){return this._get(`${Xn}/${n}`)}async getCreatorChannels(n,r=ze){return this.getChannels({creator:n},r)}async updateChannel(n,r){await this._put(`${Xn}/${n}`,r)}async deleteChannel(n){return this._remove(`${Xn}/${n}`)}async createTier(n,r){return this._post(`${Xn}/${n}/${ps.TIER}`,r)}async updateTier(n,r,s){await this._put(`${Xn}/${n}/${ps.TIER}/${r}`,s)}async updateTiers(n,r){const s=r.map(o=>{const{currency:a,channelId:c,isDefault:d,...u}=o;return u});return this._put(`${Xn}/${n}/${ps.TIER}`,s)}async getTiers(n){return this._list(`${Xn}/${n}/${ps.TIER}`)}async getTier(n,r){return this._get(`${Xn}/${n}/${ps.TIER}/${r}`)}async deleteTier(n,r){return this._remove(`${Xn}/${n}/${ps.TIER}/${r}`)}async subscribeToChannel(n,r={}){return this._post(`${Xn}/${n}/${ps.SUBSCRIPTIONS}`,r)}async unsubscribeFromChannel(n){await this._remove(`${Xn}/${n}/${ps.SUBSCRIPTIONS}`)}async getChannelSubscribers(n,r=ze){return this._list(`${Xn}/${n}/${ps.SUBSCRIPTIONS}`,r)}async getSubscriptionDetails(n,r){return this._get(`${Xn}/${n}/${ps.SUBSCRIPTIONS}/${r}`)}}const Js="/api/news";class NR extends br{constructor(n){super(n,Js)}async getNews(n={},r=ze){const s={...r};return n.feed&&(s.feed="true"),n.trending&&(s.trending="true"),n.subscribed&&(s.subscribed="true"),n.channel&&(s.channel=n.channel),n.creator&&(s.creator=n.creator),n.status&&(s.status=n.status),n.premium!==void 0&&(s.premium=n.premium.toString()),n.tags&&n.tags.length>0&&(s.tags=n.tags.join(",")),n.query&&(s.query=n.query),this._list(Js,s)}async getAll(n=ze){return this.getNews({},n)}async getFeed(n=ze){return this.getNews({feed:!0},n)}async getTrending(n=ze){return this.getNews({trending:!0},n)}async getSubscribed(n=ze){return this.getNews({subscribed:!0},n)}async getPremium(n=ze){return this.getNews({premium:!0},n)}async getNewsByChannel(n,r=ze){return this.getNews({channel:n},r)}async getCreatorNews(n,r=ze){return this.getNews({creator:n},r)}async getNewsByTags(n,r=ze){return this.getNews({tags:n},r)}async getNewsByStatus(n,r=ze){return this.getNews({status:n},r)}async get(n){return this._get(`${Js}/${n}`)}async createNews(n){return this._post(Js,n)}async update(n,r){await this._put(`${Js}/${n}`,r)}async delete(n){await this._remove(`${Js}/${n}`)}async getNewsStats(n,r,s){return this._get(`${Js}/${n}/stats?startDate=${r}&endDate=${s}`)}async getNewsTags(n=ze){return this._list(`${Js}/tags`,n)}async create(n){return this.createNews(n)}}const Tr="/api/polls";class LR extends br{constructor(n){super(n,Tr)}async getPolls(n={},r=ze){const s={...r};return n.trending&&(s.trending="true"),n.funded&&(s.funded="true"),n.claimed&&(s.claimed="true"),n.subscribed&&(s.subscribed="true"),n.channel&&(s.channel=n.channel),n.creator&&(s.creator=n.creator),n.status&&(s.status=n.status),n.converted!==void 0&&(s.converted=n.converted.toString()),n.tags&&n.tags.length>0&&(s.tags=n.tags.join(",")),this._list(Tr,s)}async getAll(n=ze){return this.getPolls({},n)}async getTrending(n=ze){return this.getPolls({trending:!0},n)}async getFunded(n=ze){return this.getPolls({funded:!0},n)}async getClaimed(n=ze){return this.getPolls({claimed:!0},n)}async getSubscribed(n=ze){return this.getPolls({subscribed:!0},n)}async getPollsByChannel(n,r=ze){return this.getPolls({channel:n},r)}async getCreatorPolls(n,r=ze){return this.getPolls({creator:n},r)}async getPollsByTags(n,r=ze){return this.getPolls({tags:n},r)}async get(n){return this._get(`${Tr}/${n}`)}async create(n){return this._post(Tr,n)}async update(n,r){await this._put(`${Tr}/${n}`,r)}async delete(n){return this._remove(`${Tr}/${n}`)}async getResults(n){return this._get(`${Tr}/${n}/votes`)}async vote(n,r){return this._post(`${Tr}/${n}/votes`,r)}async getUserVote(n){return this._get(`${Tr}/${n}/votes/me`)}async checkVotingEligibility(n){return this._get(`${Tr}/${n}/votes/eligibility`)}async getFunding(n){return this._get(`${Tr}/${n}/funding`)}async claim(n){return this._post(`${Tr}/${n}/claims`,{})}async convertToNews(n,r){return this._post(`${Tr}/${n}/conversions`,r)}async getVoteResults(n){return this.getResults(n)}async getMyVote(n){return this.getUserVote(n)}}const ri="/api/users";class $R extends br{constructor(n){super(n,ri)}async getAll(n=ze){return this._list(ri,n)}async get(n){return this._get(`${ri}/${n}`)}async create(n){return this._post(ri,n)}async update(n,r){await this._put(`${ri}/${n}`,r)}async delete(n){return this._remove(`${ri}/${n}`)}}const Nl="/api/auth";class FR extends br{constructor(n){super(n,Nl)}async signIn(n){return this._post(`${Nl}/sign-in`,n)}async signUp(n){return this._post(`${Nl}/sign-up`,n)}async verifyToken(n){return this._post(`${Nl}/verify-token`,n)}}const Jn="/api/account";class WR extends br{constructor(n){super(n,Jn)}async getProfile(){return this._get(`${Jn}/profile`)}async updateProfile(n){return this._put(`${Jn}/profile`,n)}async getPaymentMethods(){return this._list(`${Jn}/payment-methods`)}async getPaymentMethod(n){return this._get(`${Jn}/payment-methods/${n}`)}async getDefaultPaymentMethod(){return this._get(`${Jn}/payment-methods/default`)}async addPaymentMethod(n){return this._post(`${Jn}/payment-methods`,n)}async updatePaymentMethod(n,r){return this._put(`${Jn}/payment-methods/${n}`,r)}async deletePaymentMethod(n){return this._remove(`${Jn}/payment-methods/${n}`)}async setDefaultPaymentMethod(n){return this._patch(`${Jn}/payment-methods/${n}/default`,{})}async getAvailablePaymentMethods(){return this._get(`${Jn}/payment-methods/available`)}async getSubscriptions(){return this._list(`${Jn}/subscriptions`)}async subscribe(n,r){return this._post(`${Jn}/subscriptions/${n}`,r)}async cancelSubscription(n){return this._remove(`${Jn}/subscriptions/${n}`)}async getUserChannels(n=ze){return this._list(`${Jn}/channels`,n)}async savePayPalPaymentMethod(n){return this._post(`${Jn}/payment-methods/paypal/tokens/save`,n)}}const fr="/api/expense-orders";class BR extends br{constructor(n){super(n,fr)}async createExpenseOrder(n){return this._post(fr,n)}async updateExpenseOrder(n,r){return this._put(`${fr}/${n}`,r)}async submitExpenseOrder(n,r){return this._post(`${fr}/${n}/submit`,r||{})}async cancelExpenseOrder(n,r){return this._post(`${fr}/${n}/cancel`,{reason:r})}async getMyExpenseOrders(n=ze,r){const s={...n};return r&&(s.status=r),this._list(`${fr}/my-orders`,s)}async approveExpenseOrder(n,r){return this._post(`${fr}/${n}/approve`,r||{})}async rejectExpenseOrder(n,r){return this._post(`${fr}/${n}/reject`,r)}async processPayment(n,r){return this._post(`${fr}/${n}/process-payment`,r||{})}async getPendingExpenseOrders(n=ze){return this._list(`${fr}/pending`,n)}async getExpenseOrderStats(n,r,s){const o={};return n&&(o.channelId=n),r&&(o.startDate=r.toISOString()),s&&(o.endDate=s.toISOString()),this._get(`${fr}/stats`,{params:o})}async getExpenseOrder(n){return this._get(`${fr}/${n}`)}async getExpenseOrdersByJournalist(n,r=ze,s){const o={...r};return s&&(o.status=s),this._list(`${fr}/journalist/${n}`,o)}async getExpenseOrdersByChannel(n,r=ze,s){const o={...r};return s&&(o.status=s),this._list(`${fr}/channel/${n}`,o)}async getExpenseTypes(){return this._get("/api/expense-types")}}const Un="/api/subscriptions";class VR extends br{constructor(n){super(n,Un)}async getAllSubscriptions(n=ze,r={}){const s={...n,...r};return this._list(Un,s)}async getSubscriptionById(n){return this._get(`${Un}/${n}`)}async updateSubscriptionStatus(n,r,s){return this._patch(`${Un}/${n}/status`,{status:r,reason:s})}async bulkUpdateSubscriptions(n){return this._post(`${Un}/bulk-update`,n)}async getSubscriptionAnalytics(n={}){const r=new URLSearchParams(n).toString(),s=r?`${Un}/analytics?${r}`:`${Un}/analytics`;return this._get(s)}async getRevenueMetrics(n={}){const r=new URLSearchParams(n).toString(),s=r?`${Un}/revenue?${r}`:`${Un}/revenue`;return this._get(s)}async exportSubscriptions(n={},r="csv"){const s=new URLSearchParams({...n,format:r}).toString(),o=s?`${Un}/export?${s}`:`${Un}/export`;return this._get(o)}async cancelSubscription(n,r){await this.updateSubscriptionStatus(n,"canceled",r)}async activateSubscription(n,r){await this.updateSubscriptionStatus(n,"active",r)}async suspendSubscription(n,r){await this.updateSubscriptionStatus(n,"suspended",r)}async updateSubscriptionTier(n,r){return this._patch(`${Un}/${n}/tier`,{tier_id:r})}async createDirectSubscription(n,r){return this._post(`${Un}/channels/${n}/subscribe`,r)}async cancelUserSubscription(n){return this._remove(`${Un}/${n}/cancel`)}async getMySubscriptions(n=ze,r={}){const s={...n,...r};return this._list(`${Un}/my`,s)}async getSubscriptionStatus(n){return(await this._get(`${Un}/${n}/status`)).status}async searchSubscriptions(n,r=ze){const s={...r,search:n};return this._list(`${Un}/search`,s)}async getSubscriptionsByChannel(n,r=ze){return this.getAllSubscriptions(r,{channel_id:n})}async getSubscriptionsByUser(n,r=ze){return this.getAllSubscriptions(r,{user_id:n})}}const Po="/api/studio";class UR extends br{constructor(n){super(n,Po)}async createNews(n){return this._post(`${Po}/news`,n)}async createChannel(n){return this._post(`${Po}/channels`,n)}async createPoll(n){return this._post(`${Po}/polls`,n)}async getMyChannels(){return this._list(`${Po}/me/channels`)}async getMyContent(n="all",r=ze){const s={type:n,...r};return n==="all"?this._get(`${Po}/me/content`,{params:s}):this._list(`${Po}/me/content`,s)}async getMyRecentNews(n=ze){return this.getMyContent("news",n)}async getMyRecentPolls(n=ze){return this.getMyContent("polls",n)}async getMyRecentChannels(n=ze){return this.getMyContent("channels",n)}async getCreatorChannels(){return this.getMyChannels()}async getCreatorContent(n="all",r=ze){return this.getMyContent(n,r)}}const Qn="/api/tags";class zR extends br{constructor(n){super(n,Qn)}async getTags(n={},r=ze){const s={...r};return n.trending&&(s.trending="true"),n.popular&&(s.popular="true"),n.category&&(s.category=n.category),n.verified&&(s.verified="true"),this._list(Qn,s)}async getAll(n=ze){return this.getTags({},n)}async getTrending(n=ze){return this.getTags({trending:!0},n)}async getPopular(n=ze){return this.getTags({popular:!0},n)}async getVerified(n=ze){return this.getTags({verified:!0},n)}async getNewsTags(n=ze){return this.getTags({category:"news"},n)}async getPollTags(n=ze){return this.getTags({category:"polls"},n)}async getTagById(n){return this._get(`${Qn}/${n}`)}async getTagBySlug(n){return this._get(`${Qn}/slug/${n}`)}async createTag(n){return this._post(Qn,n)}async updateTag(n,r){return this._put(`${Qn}/${n}`,r)}async deleteTag(n){await this._remove(`${Qn}/${n}`)}async getTagNews(n,r=ze){return this._get(`${Qn}/${n}/news`,{params:r})}async getTagPolls(n,r=ze){return this._get(`${Qn}/${n}/polls`,{params:r})}async addTagToNews(n,r){return this._post(`${Qn}/${n}/news/${r}`,{})}async removeTagFromNews(n,r){return this._remove(`${Qn}/${n}/news/${r}`)}async addTagToPoll(n,r){return this._post(`${Qn}/${n}/polls/${r}`,{})}async removeTagFromPoll(n,r){return this._remove(`${Qn}/${n}/polls/${r}`)}async moderateTag(n,r){return this._patch(`${Qn}/${n}/moderate`,{statusId:r})}async approveTag(n){return this.moderateTag(n,2)}async rejectTag(n){return this.moderateTag(n,3)}async searchTags(n,r=ze){const s={...r,search:n};return this._list(Qn,s)}async getTagSuggestions(n,r=10){const s={prefix:n,limit:r};return this._get(`${Qn}/suggestions`,{params:s})}async get(n){return this.getTagById(n)}async create(n){return this.createTag(n)}async update(n,r){return this.updateTag(n,r)}async delete(n){return this.deleteTag(n)}}const Os="/api/search";class HR extends br{constructor(n){super(n,Os)}async search(n,r={},s=ze){const o={q:n,...s};return Object.entries(r).forEach(([a,c])=>{c!=null&&c!==""&&(Array.isArray(c)?o[a]=c.join(","):c instanceof Date?o[a]=c.toISOString():o[a]=c.toString())}),this._list(Os,o)}async searchNews(n,r=ze){return this._list(`${Os}/news`,{q:n,...r})}async searchChannels(n,r=ze){return this._list(`${Os}/channels`,{q:n,...r})}async searchUsers(n,r=ze){return this._list(`${Os}/users`,{q:n,...r})}async searchPolls(n,r=ze){return this._list(`${Os}/polls`,{q:n,...r})}async searchTags(n,r=ze){return this._list(`${Os}/tags`,{q:n,...r})}async getSuggestions(n,r){const s={q:n};return r&&(s.type=r),this._get(`${Os}/suggestions`,{params:s})}async getStructuredSuggestions(n,r){const s={q:n};return r&&(s.type=r),this._get(`${Os}/suggestions/structured`,{params:s})}}const ts="/api/funding";class YR extends br{constructor(n){super(n,ts)}async getFund(n,r){var s;try{return this._get(`${ts}/${n}/${r}`)}catch(o){if(((s=o.response)==null?void 0:s.status)===404)return null;throw o}}async getFundSummary(n,r){var s;try{return this._get(`${ts}/${n}/${r}/summary`)}catch(o){if(((s=o.response)==null?void 0:s.status)===404)return null;throw o}}async createContribution(n,r,s){return this._post(`${ts}/${n}/${r}/contribute`,s)}async getContributions(n,r,s=ze){return this._list(`${ts}/${n}/${r}/contributions`,s)}async getUserContributions(n=ze){return this._list(`${ts}/my-contributions`,n)}async getUserContributionsForContent(n,r){return this._get(`${ts}/${n}/${r}/my-contributions`)}async createFund(n,r,s){return this._post(`${ts}/${n}/${r}/fund`,s)}async updateFund(n,r,s){return this._put(`${ts}/${n}/${r}/fund`,s)}async getChannelFundingStats(n,r){return this._get(`${ts}/channels/${n}/stats`,{params:r})}async processPayout(n,r,s){return this._post(`${ts}/${n}/${r}/payout`,s)}}const Qi="/api/payment-tokens";class GR extends br{constructor(n){super(n,Qi)}async createPayPalTokenizationOrder(){return this._post(`${Qi}/paypal/orders`,{})}async capturePayPalTokenizationOrder(n){return this._post(`${Qi}/paypal/orders/${n}/capture`,{})}async getPaymentTokenDetails(n){return this._get(`${Qi}/paypal/tokens/${n}`)}async deletePaymentToken(n){return this._remove(`${Qi}/paypal/tokens/${n}`)}}const Zi="/api/iyzico-tokens";class qR extends br{constructor(n){super(n,Zi)}async initializeTokenization(n){return this._post(`${Zi}/tokenization/init`,n)}async savePaymentMethod(n){return this._post(`${Zi}/tokenization/save`,n)}async getStoredCards(){return this._get(`${Zi}/cards`)}async deleteStoredCard(n){return this._remove(`${Zi}/cards/${n}`)}}class KR{constructor(){Ae(this,"axiosJ");Ae(this,"userApi");Ae(this,"authApi");Ae(this,"pollApi");Ae(this,"newsApi");Ae(this,"channelApi");Ae(this,"accountApi");Ae(this,"expenseOrderApi");Ae(this,"subscriptionApi");Ae(this,"studioApi");Ae(this,"tagApi");Ae(this,"searchApi");Ae(this,"fundingApi");Ae(this,"paymentTokenApi");Ae(this,"iyzicoTokenApi");Ae(this,"setAuthHeader",n=>(n?this.axiosJ.axiosInstance.defaults.headers.common.Authorization=`Bearer ${n}`:delete this.axiosJ.axiosInstance.defaults.headers.common.Authorization,this));Ae(this,"setApis",()=>(this.userApi=new $R(this.axiosJ),this.authApi=new FR(this.axiosJ),this.pollApi=new LR(this.axiosJ),this.newsApi=new NR(this.axiosJ),this.channelApi=new kR(this.axiosJ),this.accountApi=new WR(this.axiosJ),this.expenseOrderApi=new BR(this.axiosJ),this.subscriptionApi=new VR(this.axiosJ),this.studioApi=new UR(this.axiosJ),this.tagApi=new zR(this.axiosJ),this.searchApi=new HR(this.axiosJ),this.fundingApi=new YR(this.axiosJ),this.paymentTokenApi=new GR(this.axiosJ),this.iyzicoTokenApi=new qR(this.axiosJ),this));this.axiosJ=new MR}}const XR=e=>{const[n,r]=g.useState(null),[s,o]=g.useState(!0);g.useEffect(()=>{const p=AE(e,x=>{x&&r(x),o(!1)});return()=>p()},[e]);const a=async()=>n?n.getIdToken():null,c=async(p,x)=>{try{return await(await RE(e,p,x)).user.getIdToken()}catch(b){throw console.error("Sign in error:",b),b}},d=async p=>{try{return await(await _E(e,p)).user.getIdToken()}catch(x){throw console.error("Sign in with provider error:",x),x}},u=async(p,x)=>{try{return(await OE(e,p,x)).user}catch(b){throw console.error("Sign up error:",b),b}},h=async()=>{try{await ME(e),r(null)}catch(p){throw console.error("Sign out error:",p),p}};return{user:n,isAuthenticated:n!=null,isLoading:s,getToken:a,signIn:c,signInWithProvider:d,signUp:u,signOut:h}},JR={apiKey:"AIzaSyDirHpadNKqOVH-cb79ENk7tsaRMERKvsc",authDomain:"journalist-2bf9e.firebaseapp.com",projectId:"journalist-2bf9e",storageBucket:"journalist-2bf9e.appspot.com",messagingSenderId:"1048434393409",appId:"1:1048434393409:web:4ca6775d6918b5d52ca1c0"},QR=kE(JR),ZR=NE(QR),Sv=new LE;new $E;new FE;new WE("apple.com");function sf(){const e=g.createContext(null);function n(){const r=g.useContext(e);if(!r)throw new Error("Context must be used within provider");return r}return[e,n]}const[e_,Fo]=sf(),t_=({children:e})=>{const n=XR(ZR);return t.jsx(e_.Provider,{value:n,children:e})},Cv=g.createContext(null),Je=()=>g.useContext(Cv),n_=({children:e})=>{const[n,r]=g.useState({api:new KR,isAuthenticated:!1,isLoading:!0}),s=Fo();return g.useEffect(()=>{(async()=>{var a,c;if(s!=null&&s.user){const d=await s.getToken();if(d){const u=(a=n.api)==null?void 0:a.setAuthHeader(d).setApis();r({api:u,isAuthenticated:!0,isLoading:!1})}}else{const d=(c=n.api)==null?void 0:c.setAuthHeader(null).setApis();r({api:d,isAuthenticated:!1,isLoading:!1})}})()},[s==null?void 0:s.user,s==null?void 0:s.isAuthenticated]),t.jsx(Cv.Provider,{value:n,children:e})},[r_,zc]=sf(),s_=[je.HOME,je.LOGIN,je.SIGNUP],o_=({children:e})=>{const n=lo(),r=s_.includes(n.pathname),{isLoading:s,isAuthenticated:o}=Je(),[a,c]=g.useState({isLoading:!0,error:null});return g.useEffect(()=>{r?c(d=>({...d,isLoading:s})):o&&c(d=>({...d,isLoading:!1}))},[s,o,r]),t.jsx(r_.Provider,{value:a,children:e})};var of={},Fu={};const i_=PI(DI);var rb;function nt(){return rb||(rb=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=i_}(Fu)),Fu}var a_=tt;Object.defineProperty(of,"__esModule",{value:!0});var Hc=of.default=void 0,l_=a_(nt()),c_=t;Hc=of.default=(0,l_.default)((0,c_.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");var af={},d_=tt;Object.defineProperty(af,"__esModule",{value:!0});var lf=af.default=void 0,u_=d_(nt()),h_=t;lf=af.default=(0,u_.default)((0,h_.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");var cf={},f_=tt;Object.defineProperty(cf,"__esModule",{value:!0});var df=cf.default=void 0,p_=f_(nt()),x_=t;df=cf.default=(0,p_.default)((0,x_.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp");var uf={},m_=tt;Object.defineProperty(uf,"__esModule",{value:!0});var Pv=uf.default=void 0,g_=m_(nt()),b_=t;Pv=uf.default=(0,g_.default)((0,b_.jsx)("path",{d:"M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m2.19 12.19L6 18l3.81-8.19L18 6z"}),"Explore");var hf={},y_=tt;Object.defineProperty(hf,"__esModule",{value:!0});var yi=hf.default=void 0,v_=y_(nt()),j_=t;yi=hf.default=(0,v_.default)((0,j_.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");var ff={},w_=tt;Object.defineProperty(ff,"__esModule",{value:!0});var Yc=ff.default=void 0,S_=w_(nt()),C_=t;Yc=ff.default=(0,S_.default)((0,C_.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"}),"Poll");const Dv=g.createContext(null),P_=()=>{const e=g.useContext(Dv);if(!e)throw new Error("useNotification must be used within a NotificationProvider");return e},D_=({children:e})=>{const[n,r]=g.useState({open:!1,message:"",severity:"info",autoHideDuration:6e3}),s=g.useCallback((x,b="info",y=6e3)=>{r({open:!0,message:x,severity:b,autoHideDuration:y})},[]),o=g.useCallback(x=>{s(x,"success")},[s]),a=g.useCallback(x=>{s(x,"error")},[s]),c=g.useCallback(x=>{s(x,"warning")},[s]),d=g.useCallback(x=>{s(x,"info")},[s]),u=g.useCallback(x=>{if(x.length===0)return;const b=(w,j="")=>{const D=Object.values(w.constraints||{}),C=`${j}${w.property}: ${D.join(", ")}`;if(w.children&&w.children.length>0){const R=w.children.map(E=>b(E,"  "));return`${C}
${R.join(`
`)}`}return C},y=x.map(w=>b(w)),m=y.length===1?y[0]:`Validation errors:
${y.map(w=>` ${w}`).join(`
`)}`;s(m,"error",1e4)},[s]),h=g.useCallback(()=>{r(x=>({...x,open:!1}))},[]),p={showNotification:s,showSuccess:o,showError:a,showWarning:c,showInfo:d,showValidationErrors:u,hideNotification:h};return t.jsxs(Dv.Provider,{value:p,children:[e,t.jsx(Ly,{open:n.open,autoHideDuration:n.autoHideDuration,onClose:h,anchorOrigin:{vertical:"top",horizontal:"right"},children:t.jsx(ct,{onClose:h,severity:n.severity,variant:"filled",sx:{width:"100%",whiteSpace:"pre-line"},children:n.message})})]})},T_=e=>{var n,r,s;return((n=e==null?void 0:e.response)==null?void 0:n.status)===400&&((r=e.response.data)==null?void 0:r.status)==="error"&&((s=e.response.data)==null?void 0:s.errors)},I_=e=>{var n;return((n=e==null?void 0:e.response)==null?void 0:n.status)===401},E_=e=>{var n;return(((n=e==null?void 0:e.response)==null?void 0:n.status)||0)>=500},A_=e=>!(e!=null&&e.response),et=()=>{const[e,n]=g.useState(!1),[r,s]=g.useState(null),{showSuccess:o,showError:a,showValidationErrors:c}=P_(),d=g.useCallback(async(h,p={})=>{var w,j;const{showSuccessMessage:x=!1,successMessage:b="Operation completed successfully",showErrorToast:y=!0,customErrorHandler:m}=p;try{n(!0),s(null);const D=await h();return x&&o(b),D}catch(D){if(m&&m(D))return null;const C=D;let R="An error occurred",E=y;if(T_(C)){const T=(w=C.response)==null?void 0:w.data;R=T.message||"Validation failed",s(R),E&&c&&(c(T.errors),E=!1)}else if(I_(C))R="Unauthorized access. Please log in again.",s(R),E&&a(R);else if(E_(C))R="Server error. Please try again later.",s(R),E&&a(R);else if(A_(C))R="Network error. Please check your connection.",s(R),E&&a(R);else{const T=(j=C.response)==null?void 0:j.data;R=(T==null?void 0:T.message)||C.message||"An error occurred",s(R),E&&a(R)}return null}finally{n(!1)}},[o,a,c]),u=g.useCallback(()=>{s(null)},[]);return{loading:e,error:r,execute:d,clearError:u}},sb=({isOpen:e})=>{const n=lo(),{api:r}=Je(),{execute:s}=et(),[o,a]=g.useState([]),c=[{path:`${je.APP_NEWS_MY_FEED}`,icon:t.jsx(yi,{}),label:"For you"},{path:`${je.APP_CHANNELS}`,icon:t.jsx(Pv,{}),label:"Explore"}],d=[{path:`${je.APP_NEWS_TRENDING}`,icon:t.jsx(df,{}),label:"Trending"},{path:`${je.APP_POLLS}`,icon:t.jsx(Yc,{}),label:"Polls"}];return g.useEffect(()=>{e&&(async()=>{const h=await s(()=>r==null?void 0:r.channelApi.getChannels({},{page:1,limit:5}),{showErrorToast:!1});h&&a(h.items)})()},[e]),e?t.jsxs(P,{sx:{height:"100%",display:"flex",flexDirection:"column",overflow:"auto",p:2},children:[t.jsx(Er,{sx:{pt:0,pb:0},children:c.map(u=>t.jsxs(ar,{button:!0,component:On,to:u.path,selected:n.pathname===u.path,sx:{borderRadius:1,mx:1,mb:.5,py:1,"&.Mui-selected":{backgroundColor:"action.selected",fontWeight:600},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(sn,{sx:{minWidth:40},children:u.icon}),t.jsx(Zt,{primary:u.label,primaryTypographyProps:{fontWeight:n.pathname===u.path?600:400,fontSize:"0.95rem"}})]},u.path))}),t.jsx(Yt,{sx:{my:1}}),t.jsx(P,{sx:{px:2,py:1},children:t.jsx(v,{variant:"caption",sx:{fontWeight:600,color:"text.secondary",textTransform:"uppercase",fontSize:"0.75rem",letterSpacing:"0.5px"},children:"Explore categories"})}),t.jsx(Er,{sx:{pt:0,pb:1},children:d.map(u=>t.jsxs(ar,{button:!0,component:On,to:u.path,sx:{borderRadius:1,mx:1,mb:.5,py:.75,"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(sn,{sx:{minWidth:40},children:u.icon}),t.jsx(Zt,{primary:u.label,primaryTypographyProps:{fontSize:"0.9rem"}})]},u.path))}),t.jsx(Yt,{sx:{my:1}}),t.jsx(P,{sx:{px:2,py:1},children:t.jsx(v,{variant:"caption",sx:{fontWeight:600,color:"text.secondary",textTransform:"uppercase",fontSize:"0.75rem",letterSpacing:"0.5px"},children:"Popular"})}),t.jsx(Er,{sx:{pt:0,pb:1,flexGrow:1},children:o.map(u=>t.jsxs(ar,{button:!0,component:On,to:`${je.APP_CHANNELS}/${u.id}`,sx:{borderRadius:1,mx:1,mb:.5,py:1,"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(jn,{src:u.logoUrl,sx:{width:32,height:32,mr:1.5},children:u.name.charAt(0).toUpperCase()}),t.jsx(P,{sx:{flexGrow:1,minWidth:0},children:t.jsx(P,{sx:{display:"flex",alignItems:"center",gap:.5},children:t.jsx(v,{variant:"body2",sx:{fontWeight:500,fontSize:"0.875rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:u.name})})})]},u.id))})]}):t.jsx(P,{sx:{height:"100%",display:"flex",flexDirection:"column",py:1},children:t.jsx(Er,{sx:{flexGrow:1},children:c.map(u=>t.jsx(ar,{button:!0,component:On,to:u.path,selected:n.pathname===u.path,sx:{borderRadius:1,mx:.5,justifyContent:"center",minHeight:48,"&.Mui-selected":{backgroundColor:"action.selected"}},children:t.jsx(sn,{sx:{minWidth:"auto"},children:u.icon})},u.path))})})};var pf={},R_=tt;Object.defineProperty(pf,"__esModule",{value:!0});var Tv=pf.default=void 0,__=R_(nt()),O_=t;Tv=pf.default=(0,__.default)((0,O_.jsx)("path",{d:"M4 18h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1m0-5h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1M3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1"}),"MenuRounded");var xf={},M_=tt;Object.defineProperty(xf,"__esModule",{value:!0});var La=xf.default=void 0,k_=M_(nt()),N_=t;La=xf.default=(0,k_.default)((0,N_.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle");var xc={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */xc.exports;(function(e,n){(function(){var r,s="4.17.21",o=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",d="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",h=500,p="__lodash_placeholder__",x=1,b=2,y=4,m=1,w=2,j=1,D=2,C=4,R=8,E=16,T=32,I=64,N=128,O=256,$=512,B=30,H="...",k=800,ne=16,K=1,q=2,te=3,ie=1/0,se=9007199254740991,ae=17976931348623157e292,V=NaN,X=4294967295,we=X-1,ce=X>>>1,Ee=[["ary",N],["bind",j],["bindKey",D],["curry",R],["curryRight",E],["flip",$],["partial",T],["partialRight",I],["rearg",O]],de="[object Arguments]",re="[object Array]",L="[object AsyncFunction]",xe="[object Boolean]",oe="[object Date]",Y="[object DOMException]",G="[object Error]",fe="[object Function]",me="[object GeneratorFunction]",ue="[object Map]",Re="[object Number]",De="[object Null]",Ye="[object Object]",Me="[object Promise]",Ne="[object Proxy]",J="[object RegExp]",be="[object Set]",Qe="[object String]",vt="[object Symbol]",nn="[object Undefined]",Lt="[object WeakMap]",At="[object WeakSet]",qt="[object ArrayBuffer]",kn="[object DataView]",dt="[object Float32Array]",xt="[object Float64Array]",Rt="[object Int8Array]",Ht="[object Int16Array]",Pn="[object Int32Array]",dn="[object Uint8Array]",Gn="[object Uint8ClampedArray]",xn="[object Uint16Array]",St="[object Uint32Array]",Dn=/\b__p \+= '';/g,Wn=/\b(__p \+=) '' \+/g,yr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xo=/&(?:amp|lt|gt|quot|#39);/g,er=/[&<>"']/g,bd=RegExp(xo.source),yd=RegExp(er.source),vd=/<%-([\s\S]+?)%>/g,xx=/<%([\s\S]+?)%>/g,jd=/<%=([\s\S]+?)%>/g,mn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vr=/^\w*$/,Ha=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wd=/[\\^$.*+?()[\]{}|]/g,ew=RegExp(wd.source),Sd=/^\s+/,tw=/\s/,nw=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,rw=/\{\n\/\* \[wrapped with (.+)\] \*/,sw=/,? & /,ow=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,iw=/[()=,{}\[\]\/\s]/,aw=/\\(\\)?/g,lw=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,mx=/\w*$/,cw=/^[-+]0x[0-9a-f]+$/i,dw=/^0b[01]+$/i,uw=/^\[object .+?Constructor\]$/,hw=/^0o[0-7]+$/i,fw=/^(?:0|[1-9]\d*)$/,pw=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ya=/($^)/,xw=/['\n\r\u2028\u2029\\]/g,Ga="\\ud800-\\udfff",mw="\\u0300-\\u036f",gw="\\ufe20-\\ufe2f",bw="\\u20d0-\\u20ff",gx=mw+gw+bw,bx="\\u2700-\\u27bf",yx="a-z\\xdf-\\xf6\\xf8-\\xff",yw="\\xac\\xb1\\xd7\\xf7",vw="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",jw="\\u2000-\\u206f",ww=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",vx="A-Z\\xc0-\\xd6\\xd8-\\xde",jx="\\ufe0e\\ufe0f",wx=yw+vw+jw+ww,Cd="[']",Sw="["+Ga+"]",Sx="["+wx+"]",qa="["+gx+"]",Cx="\\d+",Cw="["+bx+"]",Px="["+yx+"]",Dx="[^"+Ga+wx+Cx+bx+yx+vx+"]",Pd="\\ud83c[\\udffb-\\udfff]",Pw="(?:"+qa+"|"+Pd+")",Tx="[^"+Ga+"]",Dd="(?:\\ud83c[\\udde6-\\uddff]){2}",Td="[\\ud800-\\udbff][\\udc00-\\udfff]",Uo="["+vx+"]",Ix="\\u200d",Ex="(?:"+Px+"|"+Dx+")",Dw="(?:"+Uo+"|"+Dx+")",Ax="(?:"+Cd+"(?:d|ll|m|re|s|t|ve))?",Rx="(?:"+Cd+"(?:D|LL|M|RE|S|T|VE))?",_x=Pw+"?",Ox="["+jx+"]?",Tw="(?:"+Ix+"(?:"+[Tx,Dd,Td].join("|")+")"+Ox+_x+")*",Iw="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ew="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Mx=Ox+_x+Tw,Aw="(?:"+[Cw,Dd,Td].join("|")+")"+Mx,Rw="(?:"+[Tx+qa+"?",qa,Dd,Td,Sw].join("|")+")",_w=RegExp(Cd,"g"),Ow=RegExp(qa,"g"),Id=RegExp(Pd+"(?="+Pd+")|"+Rw+Mx,"g"),Mw=RegExp([Uo+"?"+Px+"+"+Ax+"(?="+[Sx,Uo,"$"].join("|")+")",Dw+"+"+Rx+"(?="+[Sx,Uo+Ex,"$"].join("|")+")",Uo+"?"+Ex+"+"+Ax,Uo+"+"+Rx,Ew,Iw,Cx,Aw].join("|"),"g"),kw=RegExp("["+Ix+Ga+gx+jx+"]"),Nw=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Lw=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],$w=-1,Qt={};Qt[dt]=Qt[xt]=Qt[Rt]=Qt[Ht]=Qt[Pn]=Qt[dn]=Qt[Gn]=Qt[xn]=Qt[St]=!0,Qt[de]=Qt[re]=Qt[qt]=Qt[xe]=Qt[kn]=Qt[oe]=Qt[G]=Qt[fe]=Qt[ue]=Qt[Re]=Qt[Ye]=Qt[J]=Qt[be]=Qt[Qe]=Qt[Lt]=!1;var Jt={};Jt[de]=Jt[re]=Jt[qt]=Jt[kn]=Jt[xe]=Jt[oe]=Jt[dt]=Jt[xt]=Jt[Rt]=Jt[Ht]=Jt[Pn]=Jt[ue]=Jt[Re]=Jt[Ye]=Jt[J]=Jt[be]=Jt[Qe]=Jt[vt]=Jt[dn]=Jt[Gn]=Jt[xn]=Jt[St]=!0,Jt[G]=Jt[fe]=Jt[Lt]=!1;var Fw={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Ww={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Bw={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Vw={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Uw=parseFloat,zw=parseInt,kx=typeof Xi=="object"&&Xi&&Xi.Object===Object&&Xi,Hw=typeof self=="object"&&self&&self.Object===Object&&self,Bn=kx||Hw||Function("return this")(),Ed=n&&!n.nodeType&&n,mo=Ed&&!0&&e&&!e.nodeType&&e,Nx=mo&&mo.exports===Ed,Ad=Nx&&kx.process,Or=function(){try{var Q=mo&&mo.require&&mo.require("util").types;return Q||Ad&&Ad.binding&&Ad.binding("util")}catch{}}(),Lx=Or&&Or.isArrayBuffer,$x=Or&&Or.isDate,Fx=Or&&Or.isMap,Wx=Or&&Or.isRegExp,Bx=Or&&Or.isSet,Vx=Or&&Or.isTypedArray;function jr(Q,ve,pe){switch(pe.length){case 0:return Q.call(ve);case 1:return Q.call(ve,pe[0]);case 2:return Q.call(ve,pe[0],pe[1]);case 3:return Q.call(ve,pe[0],pe[1],pe[2])}return Q.apply(ve,pe)}function Yw(Q,ve,pe,Be){for(var ut=-1,Mt=Q==null?0:Q.length;++ut<Mt;){var In=Q[ut];ve(Be,In,pe(In),Q)}return Be}function Mr(Q,ve){for(var pe=-1,Be=Q==null?0:Q.length;++pe<Be&&ve(Q[pe],pe,Q)!==!1;);return Q}function Gw(Q,ve){for(var pe=Q==null?0:Q.length;pe--&&ve(Q[pe],pe,Q)!==!1;);return Q}function Ux(Q,ve){for(var pe=-1,Be=Q==null?0:Q.length;++pe<Be;)if(!ve(Q[pe],pe,Q))return!1;return!0}function Bs(Q,ve){for(var pe=-1,Be=Q==null?0:Q.length,ut=0,Mt=[];++pe<Be;){var In=Q[pe];ve(In,pe,Q)&&(Mt[ut++]=In)}return Mt}function Ka(Q,ve){var pe=Q==null?0:Q.length;return!!pe&&zo(Q,ve,0)>-1}function Rd(Q,ve,pe){for(var Be=-1,ut=Q==null?0:Q.length;++Be<ut;)if(pe(ve,Q[Be]))return!0;return!1}function rn(Q,ve){for(var pe=-1,Be=Q==null?0:Q.length,ut=Array(Be);++pe<Be;)ut[pe]=ve(Q[pe],pe,Q);return ut}function Vs(Q,ve){for(var pe=-1,Be=ve.length,ut=Q.length;++pe<Be;)Q[ut+pe]=ve[pe];return Q}function _d(Q,ve,pe,Be){var ut=-1,Mt=Q==null?0:Q.length;for(Be&&Mt&&(pe=Q[++ut]);++ut<Mt;)pe=ve(pe,Q[ut],ut,Q);return pe}function qw(Q,ve,pe,Be){var ut=Q==null?0:Q.length;for(Be&&ut&&(pe=Q[--ut]);ut--;)pe=ve(pe,Q[ut],ut,Q);return pe}function Od(Q,ve){for(var pe=-1,Be=Q==null?0:Q.length;++pe<Be;)if(ve(Q[pe],pe,Q))return!0;return!1}var Kw=Md("length");function Xw(Q){return Q.split("")}function Jw(Q){return Q.match(ow)||[]}function zx(Q,ve,pe){var Be;return pe(Q,function(ut,Mt,In){if(ve(ut,Mt,In))return Be=Mt,!1}),Be}function Xa(Q,ve,pe,Be){for(var ut=Q.length,Mt=pe+(Be?1:-1);Be?Mt--:++Mt<ut;)if(ve(Q[Mt],Mt,Q))return Mt;return-1}function zo(Q,ve,pe){return ve===ve?cS(Q,ve,pe):Xa(Q,Hx,pe)}function Qw(Q,ve,pe,Be){for(var ut=pe-1,Mt=Q.length;++ut<Mt;)if(Be(Q[ut],ve))return ut;return-1}function Hx(Q){return Q!==Q}function Yx(Q,ve){var pe=Q==null?0:Q.length;return pe?Nd(Q,ve)/pe:V}function Md(Q){return function(ve){return ve==null?r:ve[Q]}}function kd(Q){return function(ve){return Q==null?r:Q[ve]}}function Gx(Q,ve,pe,Be,ut){return ut(Q,function(Mt,In,Kt){pe=Be?(Be=!1,Mt):ve(pe,Mt,In,Kt)}),pe}function Zw(Q,ve){var pe=Q.length;for(Q.sort(ve);pe--;)Q[pe]=Q[pe].value;return Q}function Nd(Q,ve){for(var pe,Be=-1,ut=Q.length;++Be<ut;){var Mt=ve(Q[Be]);Mt!==r&&(pe=pe===r?Mt:pe+Mt)}return pe}function Ld(Q,ve){for(var pe=-1,Be=Array(Q);++pe<Q;)Be[pe]=ve(pe);return Be}function eS(Q,ve){return rn(ve,function(pe){return[pe,Q[pe]]})}function qx(Q){return Q&&Q.slice(0,Qx(Q)+1).replace(Sd,"")}function wr(Q){return function(ve){return Q(ve)}}function $d(Q,ve){return rn(ve,function(pe){return Q[pe]})}function ki(Q,ve){return Q.has(ve)}function Kx(Q,ve){for(var pe=-1,Be=Q.length;++pe<Be&&zo(ve,Q[pe],0)>-1;);return pe}function Xx(Q,ve){for(var pe=Q.length;pe--&&zo(ve,Q[pe],0)>-1;);return pe}function tS(Q,ve){for(var pe=Q.length,Be=0;pe--;)Q[pe]===ve&&++Be;return Be}var nS=kd(Fw),rS=kd(Ww);function sS(Q){return"\\"+Vw[Q]}function oS(Q,ve){return Q==null?r:Q[ve]}function Ho(Q){return kw.test(Q)}function iS(Q){return Nw.test(Q)}function aS(Q){for(var ve,pe=[];!(ve=Q.next()).done;)pe.push(ve.value);return pe}function Fd(Q){var ve=-1,pe=Array(Q.size);return Q.forEach(function(Be,ut){pe[++ve]=[ut,Be]}),pe}function Jx(Q,ve){return function(pe){return Q(ve(pe))}}function Us(Q,ve){for(var pe=-1,Be=Q.length,ut=0,Mt=[];++pe<Be;){var In=Q[pe];(In===ve||In===p)&&(Q[pe]=p,Mt[ut++]=pe)}return Mt}function Ja(Q){var ve=-1,pe=Array(Q.size);return Q.forEach(function(Be){pe[++ve]=Be}),pe}function lS(Q){var ve=-1,pe=Array(Q.size);return Q.forEach(function(Be){pe[++ve]=[Be,Be]}),pe}function cS(Q,ve,pe){for(var Be=pe-1,ut=Q.length;++Be<ut;)if(Q[Be]===ve)return Be;return-1}function dS(Q,ve,pe){for(var Be=pe+1;Be--;)if(Q[Be]===ve)return Be;return Be}function Yo(Q){return Ho(Q)?hS(Q):Kw(Q)}function Jr(Q){return Ho(Q)?fS(Q):Xw(Q)}function Qx(Q){for(var ve=Q.length;ve--&&tw.test(Q.charAt(ve)););return ve}var uS=kd(Bw);function hS(Q){for(var ve=Id.lastIndex=0;Id.test(Q);)++ve;return ve}function fS(Q){return Q.match(Id)||[]}function pS(Q){return Q.match(Mw)||[]}var xS=function Q(ve){ve=ve==null?Bn:Go.defaults(Bn.Object(),ve,Go.pick(Bn,Lw));var pe=ve.Array,Be=ve.Date,ut=ve.Error,Mt=ve.Function,In=ve.Math,Kt=ve.Object,Wd=ve.RegExp,mS=ve.String,kr=ve.TypeError,Qa=pe.prototype,gS=Mt.prototype,qo=Kt.prototype,Za=ve["__core-js_shared__"],el=gS.toString,Vt=qo.hasOwnProperty,bS=0,Zx=function(){var i=/[^.]+$/.exec(Za&&Za.keys&&Za.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),tl=qo.toString,yS=el.call(Kt),vS=Bn._,jS=Wd("^"+el.call(Vt).replace(wd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nl=Nx?ve.Buffer:r,zs=ve.Symbol,rl=ve.Uint8Array,em=nl?nl.allocUnsafe:r,sl=Jx(Kt.getPrototypeOf,Kt),tm=Kt.create,nm=qo.propertyIsEnumerable,ol=Qa.splice,rm=zs?zs.isConcatSpreadable:r,Ni=zs?zs.iterator:r,go=zs?zs.toStringTag:r,il=function(){try{var i=wo(Kt,"defineProperty");return i({},"",{}),i}catch{}}(),wS=ve.clearTimeout!==Bn.clearTimeout&&ve.clearTimeout,SS=Be&&Be.now!==Bn.Date.now&&Be.now,CS=ve.setTimeout!==Bn.setTimeout&&ve.setTimeout,al=In.ceil,ll=In.floor,Bd=Kt.getOwnPropertySymbols,PS=nl?nl.isBuffer:r,sm=ve.isFinite,DS=Qa.join,TS=Jx(Kt.keys,Kt),En=In.max,qn=In.min,IS=Be.now,ES=ve.parseInt,om=In.random,AS=Qa.reverse,Vd=wo(ve,"DataView"),Li=wo(ve,"Map"),Ud=wo(ve,"Promise"),Ko=wo(ve,"Set"),$i=wo(ve,"WeakMap"),Fi=wo(Kt,"create"),cl=$i&&new $i,Xo={},RS=So(Vd),_S=So(Li),OS=So(Ud),MS=So(Ko),kS=So($i),dl=zs?zs.prototype:r,Wi=dl?dl.valueOf:r,im=dl?dl.toString:r;function _(i){if(gn(i)&&!ht(i)&&!(i instanceof Dt)){if(i instanceof Nr)return i;if(Vt.call(i,"__wrapped__"))return ag(i)}return new Nr(i)}var Jo=function(){function i(){}return function(l){if(!un(l))return{};if(tm)return tm(l);i.prototype=l;var f=new i;return i.prototype=r,f}}();function ul(){}function Nr(i,l){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=r}_.templateSettings={escape:vd,evaluate:xx,interpolate:jd,variable:"",imports:{_}},_.prototype=ul.prototype,_.prototype.constructor=_,Nr.prototype=Jo(ul.prototype),Nr.prototype.constructor=Nr;function Dt(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=X,this.__views__=[]}function NS(){var i=new Dt(this.__wrapped__);return i.__actions__=cr(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=cr(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=cr(this.__views__),i}function LS(){if(this.__filtered__){var i=new Dt(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function $S(){var i=this.__wrapped__.value(),l=this.__dir__,f=ht(i),S=l<0,A=f?i.length:0,M=XC(0,A,this.__views__),W=M.start,z=M.end,Z=z-W,Ce=S?z:W-1,Pe=this.__iteratees__,Te=Pe.length,Le=0,Ge=qn(Z,this.__takeCount__);if(!f||!S&&A==Z&&Ge==Z)return Am(i,this.__actions__);var it=[];e:for(;Z--&&Le<Ge;){Ce+=l;for(var yt=-1,at=i[Ce];++yt<Te;){var Ct=Pe[yt],Et=Ct.iteratee,Pr=Ct.type,rr=Et(at);if(Pr==q)at=rr;else if(!rr){if(Pr==K)continue e;break e}}it[Le++]=at}return it}Dt.prototype=Jo(ul.prototype),Dt.prototype.constructor=Dt;function bo(i){var l=-1,f=i==null?0:i.length;for(this.clear();++l<f;){var S=i[l];this.set(S[0],S[1])}}function FS(){this.__data__=Fi?Fi(null):{},this.size=0}function WS(i){var l=this.has(i)&&delete this.__data__[i];return this.size-=l?1:0,l}function BS(i){var l=this.__data__;if(Fi){var f=l[i];return f===u?r:f}return Vt.call(l,i)?l[i]:r}function VS(i){var l=this.__data__;return Fi?l[i]!==r:Vt.call(l,i)}function US(i,l){var f=this.__data__;return this.size+=this.has(i)?0:1,f[i]=Fi&&l===r?u:l,this}bo.prototype.clear=FS,bo.prototype.delete=WS,bo.prototype.get=BS,bo.prototype.has=VS,bo.prototype.set=US;function Cs(i){var l=-1,f=i==null?0:i.length;for(this.clear();++l<f;){var S=i[l];this.set(S[0],S[1])}}function zS(){this.__data__=[],this.size=0}function HS(i){var l=this.__data__,f=hl(l,i);if(f<0)return!1;var S=l.length-1;return f==S?l.pop():ol.call(l,f,1),--this.size,!0}function YS(i){var l=this.__data__,f=hl(l,i);return f<0?r:l[f][1]}function GS(i){return hl(this.__data__,i)>-1}function qS(i,l){var f=this.__data__,S=hl(f,i);return S<0?(++this.size,f.push([i,l])):f[S][1]=l,this}Cs.prototype.clear=zS,Cs.prototype.delete=HS,Cs.prototype.get=YS,Cs.prototype.has=GS,Cs.prototype.set=qS;function Ps(i){var l=-1,f=i==null?0:i.length;for(this.clear();++l<f;){var S=i[l];this.set(S[0],S[1])}}function KS(){this.size=0,this.__data__={hash:new bo,map:new(Li||Cs),string:new bo}}function XS(i){var l=Cl(this,i).delete(i);return this.size-=l?1:0,l}function JS(i){return Cl(this,i).get(i)}function QS(i){return Cl(this,i).has(i)}function ZS(i,l){var f=Cl(this,i),S=f.size;return f.set(i,l),this.size+=f.size==S?0:1,this}Ps.prototype.clear=KS,Ps.prototype.delete=XS,Ps.prototype.get=JS,Ps.prototype.has=QS,Ps.prototype.set=ZS;function yo(i){var l=-1,f=i==null?0:i.length;for(this.__data__=new Ps;++l<f;)this.add(i[l])}function eC(i){return this.__data__.set(i,u),this}function tC(i){return this.__data__.has(i)}yo.prototype.add=yo.prototype.push=eC,yo.prototype.has=tC;function Qr(i){var l=this.__data__=new Cs(i);this.size=l.size}function nC(){this.__data__=new Cs,this.size=0}function rC(i){var l=this.__data__,f=l.delete(i);return this.size=l.size,f}function sC(i){return this.__data__.get(i)}function oC(i){return this.__data__.has(i)}function iC(i,l){var f=this.__data__;if(f instanceof Cs){var S=f.__data__;if(!Li||S.length<o-1)return S.push([i,l]),this.size=++f.size,this;f=this.__data__=new Ps(S)}return f.set(i,l),this.size=f.size,this}Qr.prototype.clear=nC,Qr.prototype.delete=rC,Qr.prototype.get=sC,Qr.prototype.has=oC,Qr.prototype.set=iC;function am(i,l){var f=ht(i),S=!f&&Co(i),A=!f&&!S&&Ks(i),M=!f&&!S&&!A&&ti(i),W=f||S||A||M,z=W?Ld(i.length,mS):[],Z=z.length;for(var Ce in i)(l||Vt.call(i,Ce))&&!(W&&(Ce=="length"||A&&(Ce=="offset"||Ce=="parent")||M&&(Ce=="buffer"||Ce=="byteLength"||Ce=="byteOffset")||Es(Ce,Z)))&&z.push(Ce);return z}function lm(i){var l=i.length;return l?i[eu(0,l-1)]:r}function aC(i,l){return Pl(cr(i),vo(l,0,i.length))}function lC(i){return Pl(cr(i))}function zd(i,l,f){(f!==r&&!Zr(i[l],f)||f===r&&!(l in i))&&Ds(i,l,f)}function Bi(i,l,f){var S=i[l];(!(Vt.call(i,l)&&Zr(S,f))||f===r&&!(l in i))&&Ds(i,l,f)}function hl(i,l){for(var f=i.length;f--;)if(Zr(i[f][0],l))return f;return-1}function cC(i,l,f,S){return Hs(i,function(A,M,W){l(S,A,f(A),W)}),S}function cm(i,l){return i&&hs(l,Nn(l),i)}function dC(i,l){return i&&hs(l,ur(l),i)}function Ds(i,l,f){l=="__proto__"&&il?il(i,l,{configurable:!0,enumerable:!0,value:f,writable:!0}):i[l]=f}function Hd(i,l){for(var f=-1,S=l.length,A=pe(S),M=i==null;++f<S;)A[f]=M?r:Pu(i,l[f]);return A}function vo(i,l,f){return i===i&&(f!==r&&(i=i<=f?i:f),l!==r&&(i=i>=l?i:l)),i}function Lr(i,l,f,S,A,M){var W,z=l&x,Z=l&b,Ce=l&y;if(f&&(W=A?f(i,S,A,M):f(i)),W!==r)return W;if(!un(i))return i;var Pe=ht(i);if(Pe){if(W=QC(i),!z)return cr(i,W)}else{var Te=Kn(i),Le=Te==fe||Te==me;if(Ks(i))return Om(i,z);if(Te==Ye||Te==de||Le&&!A){if(W=Z||Le?{}:Qm(i),!z)return Z?BC(i,dC(W,i)):WC(i,cm(W,i))}else{if(!Jt[Te])return A?i:{};W=ZC(i,Te,z)}}M||(M=new Qr);var Ge=M.get(i);if(Ge)return Ge;M.set(i,W),Tg(i)?i.forEach(function(at){W.add(Lr(at,l,f,at,i,M))}):Pg(i)&&i.forEach(function(at,Ct){W.set(Ct,Lr(at,l,f,Ct,i,M))});var it=Ce?Z?uu:du:Z?ur:Nn,yt=Pe?r:it(i);return Mr(yt||i,function(at,Ct){yt&&(Ct=at,at=i[Ct]),Bi(W,Ct,Lr(at,l,f,Ct,i,M))}),W}function uC(i){var l=Nn(i);return function(f){return dm(f,i,l)}}function dm(i,l,f){var S=f.length;if(i==null)return!S;for(i=Kt(i);S--;){var A=f[S],M=l[A],W=i[A];if(W===r&&!(A in i)||!M(W))return!1}return!0}function um(i,l,f){if(typeof i!="function")throw new kr(c);return qi(function(){i.apply(r,f)},l)}function Vi(i,l,f,S){var A=-1,M=Ka,W=!0,z=i.length,Z=[],Ce=l.length;if(!z)return Z;f&&(l=rn(l,wr(f))),S?(M=Rd,W=!1):l.length>=o&&(M=ki,W=!1,l=new yo(l));e:for(;++A<z;){var Pe=i[A],Te=f==null?Pe:f(Pe);if(Pe=S||Pe!==0?Pe:0,W&&Te===Te){for(var Le=Ce;Le--;)if(l[Le]===Te)continue e;Z.push(Pe)}else M(l,Te,S)||Z.push(Pe)}return Z}var Hs=$m(us),hm=$m(Gd,!0);function hC(i,l){var f=!0;return Hs(i,function(S,A,M){return f=!!l(S,A,M),f}),f}function fl(i,l,f){for(var S=-1,A=i.length;++S<A;){var M=i[S],W=l(M);if(W!=null&&(z===r?W===W&&!Cr(W):f(W,z)))var z=W,Z=M}return Z}function fC(i,l,f,S){var A=i.length;for(f=mt(f),f<0&&(f=-f>A?0:A+f),S=S===r||S>A?A:mt(S),S<0&&(S+=A),S=f>S?0:Eg(S);f<S;)i[f++]=l;return i}function fm(i,l){var f=[];return Hs(i,function(S,A,M){l(S,A,M)&&f.push(S)}),f}function Vn(i,l,f,S,A){var M=-1,W=i.length;for(f||(f=t2),A||(A=[]);++M<W;){var z=i[M];l>0&&f(z)?l>1?Vn(z,l-1,f,S,A):Vs(A,z):S||(A[A.length]=z)}return A}var Yd=Fm(),pm=Fm(!0);function us(i,l){return i&&Yd(i,l,Nn)}function Gd(i,l){return i&&pm(i,l,Nn)}function pl(i,l){return Bs(l,function(f){return As(i[f])})}function jo(i,l){l=Gs(l,i);for(var f=0,S=l.length;i!=null&&f<S;)i=i[fs(l[f++])];return f&&f==S?i:r}function xm(i,l,f){var S=l(i);return ht(i)?S:Vs(S,f(i))}function tr(i){return i==null?i===r?nn:De:go&&go in Kt(i)?KC(i):l2(i)}function qd(i,l){return i>l}function pC(i,l){return i!=null&&Vt.call(i,l)}function xC(i,l){return i!=null&&l in Kt(i)}function mC(i,l,f){return i>=qn(l,f)&&i<En(l,f)}function Kd(i,l,f){for(var S=f?Rd:Ka,A=i[0].length,M=i.length,W=M,z=pe(M),Z=1/0,Ce=[];W--;){var Pe=i[W];W&&l&&(Pe=rn(Pe,wr(l))),Z=qn(Pe.length,Z),z[W]=!f&&(l||A>=120&&Pe.length>=120)?new yo(W&&Pe):r}Pe=i[0];var Te=-1,Le=z[0];e:for(;++Te<A&&Ce.length<Z;){var Ge=Pe[Te],it=l?l(Ge):Ge;if(Ge=f||Ge!==0?Ge:0,!(Le?ki(Le,it):S(Ce,it,f))){for(W=M;--W;){var yt=z[W];if(!(yt?ki(yt,it):S(i[W],it,f)))continue e}Le&&Le.push(it),Ce.push(Ge)}}return Ce}function gC(i,l,f,S){return us(i,function(A,M,W){l(S,f(A),M,W)}),S}function Ui(i,l,f){l=Gs(l,i),i=ng(i,l);var S=i==null?i:i[fs(Fr(l))];return S==null?r:jr(S,i,f)}function mm(i){return gn(i)&&tr(i)==de}function bC(i){return gn(i)&&tr(i)==qt}function yC(i){return gn(i)&&tr(i)==oe}function zi(i,l,f,S,A){return i===l?!0:i==null||l==null||!gn(i)&&!gn(l)?i!==i&&l!==l:vC(i,l,f,S,zi,A)}function vC(i,l,f,S,A,M){var W=ht(i),z=ht(l),Z=W?re:Kn(i),Ce=z?re:Kn(l);Z=Z==de?Ye:Z,Ce=Ce==de?Ye:Ce;var Pe=Z==Ye,Te=Ce==Ye,Le=Z==Ce;if(Le&&Ks(i)){if(!Ks(l))return!1;W=!0,Pe=!1}if(Le&&!Pe)return M||(M=new Qr),W||ti(i)?Km(i,l,f,S,A,M):GC(i,l,Z,f,S,A,M);if(!(f&m)){var Ge=Pe&&Vt.call(i,"__wrapped__"),it=Te&&Vt.call(l,"__wrapped__");if(Ge||it){var yt=Ge?i.value():i,at=it?l.value():l;return M||(M=new Qr),A(yt,at,f,S,M)}}return Le?(M||(M=new Qr),qC(i,l,f,S,A,M)):!1}function jC(i){return gn(i)&&Kn(i)==ue}function Xd(i,l,f,S){var A=f.length,M=A,W=!S;if(i==null)return!M;for(i=Kt(i);A--;){var z=f[A];if(W&&z[2]?z[1]!==i[z[0]]:!(z[0]in i))return!1}for(;++A<M;){z=f[A];var Z=z[0],Ce=i[Z],Pe=z[1];if(W&&z[2]){if(Ce===r&&!(Z in i))return!1}else{var Te=new Qr;if(S)var Le=S(Ce,Pe,Z,i,l,Te);if(!(Le===r?zi(Pe,Ce,m|w,S,Te):Le))return!1}}return!0}function gm(i){if(!un(i)||r2(i))return!1;var l=As(i)?jS:uw;return l.test(So(i))}function wC(i){return gn(i)&&tr(i)==J}function SC(i){return gn(i)&&Kn(i)==be}function CC(i){return gn(i)&&Rl(i.length)&&!!Qt[tr(i)]}function bm(i){return typeof i=="function"?i:i==null?hr:typeof i=="object"?ht(i)?jm(i[0],i[1]):vm(i):Wg(i)}function Jd(i){if(!Gi(i))return TS(i);var l=[];for(var f in Kt(i))Vt.call(i,f)&&f!="constructor"&&l.push(f);return l}function PC(i){if(!un(i))return a2(i);var l=Gi(i),f=[];for(var S in i)S=="constructor"&&(l||!Vt.call(i,S))||f.push(S);return f}function Qd(i,l){return i<l}function ym(i,l){var f=-1,S=dr(i)?pe(i.length):[];return Hs(i,function(A,M,W){S[++f]=l(A,M,W)}),S}function vm(i){var l=fu(i);return l.length==1&&l[0][2]?eg(l[0][0],l[0][1]):function(f){return f===i||Xd(f,i,l)}}function jm(i,l){return xu(i)&&Zm(l)?eg(fs(i),l):function(f){var S=Pu(f,i);return S===r&&S===l?Du(f,i):zi(l,S,m|w)}}function xl(i,l,f,S,A){i!==l&&Yd(l,function(M,W){if(A||(A=new Qr),un(M))DC(i,l,W,f,xl,S,A);else{var z=S?S(gu(i,W),M,W+"",i,l,A):r;z===r&&(z=M),zd(i,W,z)}},ur)}function DC(i,l,f,S,A,M,W){var z=gu(i,f),Z=gu(l,f),Ce=W.get(Z);if(Ce){zd(i,f,Ce);return}var Pe=M?M(z,Z,f+"",i,l,W):r,Te=Pe===r;if(Te){var Le=ht(Z),Ge=!Le&&Ks(Z),it=!Le&&!Ge&&ti(Z);Pe=Z,Le||Ge||it?ht(z)?Pe=z:yn(z)?Pe=cr(z):Ge?(Te=!1,Pe=Om(Z,!0)):it?(Te=!1,Pe=Mm(Z,!0)):Pe=[]:Ki(Z)||Co(Z)?(Pe=z,Co(z)?Pe=Ag(z):(!un(z)||As(z))&&(Pe=Qm(Z))):Te=!1}Te&&(W.set(Z,Pe),A(Pe,Z,S,M,W),W.delete(Z)),zd(i,f,Pe)}function wm(i,l){var f=i.length;if(f)return l+=l<0?f:0,Es(l,f)?i[l]:r}function Sm(i,l,f){l.length?l=rn(l,function(M){return ht(M)?function(W){return jo(W,M.length===1?M[0]:M)}:M}):l=[hr];var S=-1;l=rn(l,wr(ot()));var A=ym(i,function(M,W,z){var Z=rn(l,function(Ce){return Ce(M)});return{criteria:Z,index:++S,value:M}});return Zw(A,function(M,W){return FC(M,W,f)})}function TC(i,l){return Cm(i,l,function(f,S){return Du(i,S)})}function Cm(i,l,f){for(var S=-1,A=l.length,M={};++S<A;){var W=l[S],z=jo(i,W);f(z,W)&&Hi(M,Gs(W,i),z)}return M}function IC(i){return function(l){return jo(l,i)}}function Zd(i,l,f,S){var A=S?Qw:zo,M=-1,W=l.length,z=i;for(i===l&&(l=cr(l)),f&&(z=rn(i,wr(f)));++M<W;)for(var Z=0,Ce=l[M],Pe=f?f(Ce):Ce;(Z=A(z,Pe,Z,S))>-1;)z!==i&&ol.call(z,Z,1),ol.call(i,Z,1);return i}function Pm(i,l){for(var f=i?l.length:0,S=f-1;f--;){var A=l[f];if(f==S||A!==M){var M=A;Es(A)?ol.call(i,A,1):ru(i,A)}}return i}function eu(i,l){return i+ll(om()*(l-i+1))}function EC(i,l,f,S){for(var A=-1,M=En(al((l-i)/(f||1)),0),W=pe(M);M--;)W[S?M:++A]=i,i+=f;return W}function tu(i,l){var f="";if(!i||l<1||l>se)return f;do l%2&&(f+=i),l=ll(l/2),l&&(i+=i);while(l);return f}function jt(i,l){return bu(tg(i,l,hr),i+"")}function AC(i){return lm(ni(i))}function RC(i,l){var f=ni(i);return Pl(f,vo(l,0,f.length))}function Hi(i,l,f,S){if(!un(i))return i;l=Gs(l,i);for(var A=-1,M=l.length,W=M-1,z=i;z!=null&&++A<M;){var Z=fs(l[A]),Ce=f;if(Z==="__proto__"||Z==="constructor"||Z==="prototype")return i;if(A!=W){var Pe=z[Z];Ce=S?S(Pe,Z,z):r,Ce===r&&(Ce=un(Pe)?Pe:Es(l[A+1])?[]:{})}Bi(z,Z,Ce),z=z[Z]}return i}var Dm=cl?function(i,l){return cl.set(i,l),i}:hr,_C=il?function(i,l){return il(i,"toString",{configurable:!0,enumerable:!1,value:Iu(l),writable:!0})}:hr;function OC(i){return Pl(ni(i))}function $r(i,l,f){var S=-1,A=i.length;l<0&&(l=-l>A?0:A+l),f=f>A?A:f,f<0&&(f+=A),A=l>f?0:f-l>>>0,l>>>=0;for(var M=pe(A);++S<A;)M[S]=i[S+l];return M}function MC(i,l){var f;return Hs(i,function(S,A,M){return f=l(S,A,M),!f}),!!f}function ml(i,l,f){var S=0,A=i==null?S:i.length;if(typeof l=="number"&&l===l&&A<=ce){for(;S<A;){var M=S+A>>>1,W=i[M];W!==null&&!Cr(W)&&(f?W<=l:W<l)?S=M+1:A=M}return A}return nu(i,l,hr,f)}function nu(i,l,f,S){var A=0,M=i==null?0:i.length;if(M===0)return 0;l=f(l);for(var W=l!==l,z=l===null,Z=Cr(l),Ce=l===r;A<M;){var Pe=ll((A+M)/2),Te=f(i[Pe]),Le=Te!==r,Ge=Te===null,it=Te===Te,yt=Cr(Te);if(W)var at=S||it;else Ce?at=it&&(S||Le):z?at=it&&Le&&(S||!Ge):Z?at=it&&Le&&!Ge&&(S||!yt):Ge||yt?at=!1:at=S?Te<=l:Te<l;at?A=Pe+1:M=Pe}return qn(M,we)}function Tm(i,l){for(var f=-1,S=i.length,A=0,M=[];++f<S;){var W=i[f],z=l?l(W):W;if(!f||!Zr(z,Z)){var Z=z;M[A++]=W===0?0:W}}return M}function Im(i){return typeof i=="number"?i:Cr(i)?V:+i}function Sr(i){if(typeof i=="string")return i;if(ht(i))return rn(i,Sr)+"";if(Cr(i))return im?im.call(i):"";var l=i+"";return l=="0"&&1/i==-ie?"-0":l}function Ys(i,l,f){var S=-1,A=Ka,M=i.length,W=!0,z=[],Z=z;if(f)W=!1,A=Rd;else if(M>=o){var Ce=l?null:HC(i);if(Ce)return Ja(Ce);W=!1,A=ki,Z=new yo}else Z=l?[]:z;e:for(;++S<M;){var Pe=i[S],Te=l?l(Pe):Pe;if(Pe=f||Pe!==0?Pe:0,W&&Te===Te){for(var Le=Z.length;Le--;)if(Z[Le]===Te)continue e;l&&Z.push(Te),z.push(Pe)}else A(Z,Te,f)||(Z!==z&&Z.push(Te),z.push(Pe))}return z}function ru(i,l){return l=Gs(l,i),i=ng(i,l),i==null||delete i[fs(Fr(l))]}function Em(i,l,f,S){return Hi(i,l,f(jo(i,l)),S)}function gl(i,l,f,S){for(var A=i.length,M=S?A:-1;(S?M--:++M<A)&&l(i[M],M,i););return f?$r(i,S?0:M,S?M+1:A):$r(i,S?M+1:0,S?A:M)}function Am(i,l){var f=i;return f instanceof Dt&&(f=f.value()),_d(l,function(S,A){return A.func.apply(A.thisArg,Vs([S],A.args))},f)}function su(i,l,f){var S=i.length;if(S<2)return S?Ys(i[0]):[];for(var A=-1,M=pe(S);++A<S;)for(var W=i[A],z=-1;++z<S;)z!=A&&(M[A]=Vi(M[A]||W,i[z],l,f));return Ys(Vn(M,1),l,f)}function Rm(i,l,f){for(var S=-1,A=i.length,M=l.length,W={};++S<A;){var z=S<M?l[S]:r;f(W,i[S],z)}return W}function ou(i){return yn(i)?i:[]}function iu(i){return typeof i=="function"?i:hr}function Gs(i,l){return ht(i)?i:xu(i,l)?[i]:ig($t(i))}var kC=jt;function qs(i,l,f){var S=i.length;return f=f===r?S:f,!l&&f>=S?i:$r(i,l,f)}var _m=wS||function(i){return Bn.clearTimeout(i)};function Om(i,l){if(l)return i.slice();var f=i.length,S=em?em(f):new i.constructor(f);return i.copy(S),S}function au(i){var l=new i.constructor(i.byteLength);return new rl(l).set(new rl(i)),l}function NC(i,l){var f=l?au(i.buffer):i.buffer;return new i.constructor(f,i.byteOffset,i.byteLength)}function LC(i){var l=new i.constructor(i.source,mx.exec(i));return l.lastIndex=i.lastIndex,l}function $C(i){return Wi?Kt(Wi.call(i)):{}}function Mm(i,l){var f=l?au(i.buffer):i.buffer;return new i.constructor(f,i.byteOffset,i.length)}function km(i,l){if(i!==l){var f=i!==r,S=i===null,A=i===i,M=Cr(i),W=l!==r,z=l===null,Z=l===l,Ce=Cr(l);if(!z&&!Ce&&!M&&i>l||M&&W&&Z&&!z&&!Ce||S&&W&&Z||!f&&Z||!A)return 1;if(!S&&!M&&!Ce&&i<l||Ce&&f&&A&&!S&&!M||z&&f&&A||!W&&A||!Z)return-1}return 0}function FC(i,l,f){for(var S=-1,A=i.criteria,M=l.criteria,W=A.length,z=f.length;++S<W;){var Z=km(A[S],M[S]);if(Z){if(S>=z)return Z;var Ce=f[S];return Z*(Ce=="desc"?-1:1)}}return i.index-l.index}function Nm(i,l,f,S){for(var A=-1,M=i.length,W=f.length,z=-1,Z=l.length,Ce=En(M-W,0),Pe=pe(Z+Ce),Te=!S;++z<Z;)Pe[z]=l[z];for(;++A<W;)(Te||A<M)&&(Pe[f[A]]=i[A]);for(;Ce--;)Pe[z++]=i[A++];return Pe}function Lm(i,l,f,S){for(var A=-1,M=i.length,W=-1,z=f.length,Z=-1,Ce=l.length,Pe=En(M-z,0),Te=pe(Pe+Ce),Le=!S;++A<Pe;)Te[A]=i[A];for(var Ge=A;++Z<Ce;)Te[Ge+Z]=l[Z];for(;++W<z;)(Le||A<M)&&(Te[Ge+f[W]]=i[A++]);return Te}function cr(i,l){var f=-1,S=i.length;for(l||(l=pe(S));++f<S;)l[f]=i[f];return l}function hs(i,l,f,S){var A=!f;f||(f={});for(var M=-1,W=l.length;++M<W;){var z=l[M],Z=S?S(f[z],i[z],z,f,i):r;Z===r&&(Z=i[z]),A?Ds(f,z,Z):Bi(f,z,Z)}return f}function WC(i,l){return hs(i,pu(i),l)}function BC(i,l){return hs(i,Xm(i),l)}function bl(i,l){return function(f,S){var A=ht(f)?Yw:cC,M=l?l():{};return A(f,i,ot(S,2),M)}}function Qo(i){return jt(function(l,f){var S=-1,A=f.length,M=A>1?f[A-1]:r,W=A>2?f[2]:r;for(M=i.length>3&&typeof M=="function"?(A--,M):r,W&&nr(f[0],f[1],W)&&(M=A<3?r:M,A=1),l=Kt(l);++S<A;){var z=f[S];z&&i(l,z,S,M)}return l})}function $m(i,l){return function(f,S){if(f==null)return f;if(!dr(f))return i(f,S);for(var A=f.length,M=l?A:-1,W=Kt(f);(l?M--:++M<A)&&S(W[M],M,W)!==!1;);return f}}function Fm(i){return function(l,f,S){for(var A=-1,M=Kt(l),W=S(l),z=W.length;z--;){var Z=W[i?z:++A];if(f(M[Z],Z,M)===!1)break}return l}}function VC(i,l,f){var S=l&j,A=Yi(i);function M(){var W=this&&this!==Bn&&this instanceof M?A:i;return W.apply(S?f:this,arguments)}return M}function Wm(i){return function(l){l=$t(l);var f=Ho(l)?Jr(l):r,S=f?f[0]:l.charAt(0),A=f?qs(f,1).join(""):l.slice(1);return S[i]()+A}}function Zo(i){return function(l){return _d($g(Lg(l).replace(_w,"")),i,"")}}function Yi(i){return function(){var l=arguments;switch(l.length){case 0:return new i;case 1:return new i(l[0]);case 2:return new i(l[0],l[1]);case 3:return new i(l[0],l[1],l[2]);case 4:return new i(l[0],l[1],l[2],l[3]);case 5:return new i(l[0],l[1],l[2],l[3],l[4]);case 6:return new i(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new i(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var f=Jo(i.prototype),S=i.apply(f,l);return un(S)?S:f}}function UC(i,l,f){var S=Yi(i);function A(){for(var M=arguments.length,W=pe(M),z=M,Z=ei(A);z--;)W[z]=arguments[z];var Ce=M<3&&W[0]!==Z&&W[M-1]!==Z?[]:Us(W,Z);if(M-=Ce.length,M<f)return Hm(i,l,yl,A.placeholder,r,W,Ce,r,r,f-M);var Pe=this&&this!==Bn&&this instanceof A?S:i;return jr(Pe,this,W)}return A}function Bm(i){return function(l,f,S){var A=Kt(l);if(!dr(l)){var M=ot(f,3);l=Nn(l),f=function(z){return M(A[z],z,A)}}var W=i(l,f,S);return W>-1?A[M?l[W]:W]:r}}function Vm(i){return Is(function(l){var f=l.length,S=f,A=Nr.prototype.thru;for(i&&l.reverse();S--;){var M=l[S];if(typeof M!="function")throw new kr(c);if(A&&!W&&Sl(M)=="wrapper")var W=new Nr([],!0)}for(S=W?S:f;++S<f;){M=l[S];var z=Sl(M),Z=z=="wrapper"?hu(M):r;Z&&mu(Z[0])&&Z[1]==(N|R|T|O)&&!Z[4].length&&Z[9]==1?W=W[Sl(Z[0])].apply(W,Z[3]):W=M.length==1&&mu(M)?W[z]():W.thru(M)}return function(){var Ce=arguments,Pe=Ce[0];if(W&&Ce.length==1&&ht(Pe))return W.plant(Pe).value();for(var Te=0,Le=f?l[Te].apply(this,Ce):Pe;++Te<f;)Le=l[Te].call(this,Le);return Le}})}function yl(i,l,f,S,A,M,W,z,Z,Ce){var Pe=l&N,Te=l&j,Le=l&D,Ge=l&(R|E),it=l&$,yt=Le?r:Yi(i);function at(){for(var Ct=arguments.length,Et=pe(Ct),Pr=Ct;Pr--;)Et[Pr]=arguments[Pr];if(Ge)var rr=ei(at),Dr=tS(Et,rr);if(S&&(Et=Nm(Et,S,A,Ge)),M&&(Et=Lm(Et,M,W,Ge)),Ct-=Dr,Ge&&Ct<Ce){var vn=Us(Et,rr);return Hm(i,l,yl,at.placeholder,f,Et,vn,z,Z,Ce-Ct)}var es=Te?f:this,_s=Le?es[i]:i;return Ct=Et.length,z?Et=c2(Et,z):it&&Ct>1&&Et.reverse(),Pe&&Z<Ct&&(Et.length=Z),this&&this!==Bn&&this instanceof at&&(_s=yt||Yi(_s)),_s.apply(es,Et)}return at}function Um(i,l){return function(f,S){return gC(f,i,l(S),{})}}function vl(i,l){return function(f,S){var A;if(f===r&&S===r)return l;if(f!==r&&(A=f),S!==r){if(A===r)return S;typeof f=="string"||typeof S=="string"?(f=Sr(f),S=Sr(S)):(f=Im(f),S=Im(S)),A=i(f,S)}return A}}function lu(i){return Is(function(l){return l=rn(l,wr(ot())),jt(function(f){var S=this;return i(l,function(A){return jr(A,S,f)})})})}function jl(i,l){l=l===r?" ":Sr(l);var f=l.length;if(f<2)return f?tu(l,i):l;var S=tu(l,al(i/Yo(l)));return Ho(l)?qs(Jr(S),0,i).join(""):S.slice(0,i)}function zC(i,l,f,S){var A=l&j,M=Yi(i);function W(){for(var z=-1,Z=arguments.length,Ce=-1,Pe=S.length,Te=pe(Pe+Z),Le=this&&this!==Bn&&this instanceof W?M:i;++Ce<Pe;)Te[Ce]=S[Ce];for(;Z--;)Te[Ce++]=arguments[++z];return jr(Le,A?f:this,Te)}return W}function zm(i){return function(l,f,S){return S&&typeof S!="number"&&nr(l,f,S)&&(f=S=r),l=Rs(l),f===r?(f=l,l=0):f=Rs(f),S=S===r?l<f?1:-1:Rs(S),EC(l,f,S,i)}}function wl(i){return function(l,f){return typeof l=="string"&&typeof f=="string"||(l=Wr(l),f=Wr(f)),i(l,f)}}function Hm(i,l,f,S,A,M,W,z,Z,Ce){var Pe=l&R,Te=Pe?W:r,Le=Pe?r:W,Ge=Pe?M:r,it=Pe?r:M;l|=Pe?T:I,l&=~(Pe?I:T),l&C||(l&=~(j|D));var yt=[i,l,A,Ge,Te,it,Le,z,Z,Ce],at=f.apply(r,yt);return mu(i)&&rg(at,yt),at.placeholder=S,sg(at,i,l)}function cu(i){var l=In[i];return function(f,S){if(f=Wr(f),S=S==null?0:qn(mt(S),292),S&&sm(f)){var A=($t(f)+"e").split("e"),M=l(A[0]+"e"+(+A[1]+S));return A=($t(M)+"e").split("e"),+(A[0]+"e"+(+A[1]-S))}return l(f)}}var HC=Ko&&1/Ja(new Ko([,-0]))[1]==ie?function(i){return new Ko(i)}:Ru;function Ym(i){return function(l){var f=Kn(l);return f==ue?Fd(l):f==be?lS(l):eS(l,i(l))}}function Ts(i,l,f,S,A,M,W,z){var Z=l&D;if(!Z&&typeof i!="function")throw new kr(c);var Ce=S?S.length:0;if(Ce||(l&=~(T|I),S=A=r),W=W===r?W:En(mt(W),0),z=z===r?z:mt(z),Ce-=A?A.length:0,l&I){var Pe=S,Te=A;S=A=r}var Le=Z?r:hu(i),Ge=[i,l,f,S,A,Pe,Te,M,W,z];if(Le&&i2(Ge,Le),i=Ge[0],l=Ge[1],f=Ge[2],S=Ge[3],A=Ge[4],z=Ge[9]=Ge[9]===r?Z?0:i.length:En(Ge[9]-Ce,0),!z&&l&(R|E)&&(l&=~(R|E)),!l||l==j)var it=VC(i,l,f);else l==R||l==E?it=UC(i,l,z):(l==T||l==(j|T))&&!A.length?it=zC(i,l,f,S):it=yl.apply(r,Ge);var yt=Le?Dm:rg;return sg(yt(it,Ge),i,l)}function Gm(i,l,f,S){return i===r||Zr(i,qo[f])&&!Vt.call(S,f)?l:i}function qm(i,l,f,S,A,M){return un(i)&&un(l)&&(M.set(l,i),xl(i,l,r,qm,M),M.delete(l)),i}function YC(i){return Ki(i)?r:i}function Km(i,l,f,S,A,M){var W=f&m,z=i.length,Z=l.length;if(z!=Z&&!(W&&Z>z))return!1;var Ce=M.get(i),Pe=M.get(l);if(Ce&&Pe)return Ce==l&&Pe==i;var Te=-1,Le=!0,Ge=f&w?new yo:r;for(M.set(i,l),M.set(l,i);++Te<z;){var it=i[Te],yt=l[Te];if(S)var at=W?S(yt,it,Te,l,i,M):S(it,yt,Te,i,l,M);if(at!==r){if(at)continue;Le=!1;break}if(Ge){if(!Od(l,function(Ct,Et){if(!ki(Ge,Et)&&(it===Ct||A(it,Ct,f,S,M)))return Ge.push(Et)})){Le=!1;break}}else if(!(it===yt||A(it,yt,f,S,M))){Le=!1;break}}return M.delete(i),M.delete(l),Le}function GC(i,l,f,S,A,M,W){switch(f){case kn:if(i.byteLength!=l.byteLength||i.byteOffset!=l.byteOffset)return!1;i=i.buffer,l=l.buffer;case qt:return!(i.byteLength!=l.byteLength||!M(new rl(i),new rl(l)));case xe:case oe:case Re:return Zr(+i,+l);case G:return i.name==l.name&&i.message==l.message;case J:case Qe:return i==l+"";case ue:var z=Fd;case be:var Z=S&m;if(z||(z=Ja),i.size!=l.size&&!Z)return!1;var Ce=W.get(i);if(Ce)return Ce==l;S|=w,W.set(i,l);var Pe=Km(z(i),z(l),S,A,M,W);return W.delete(i),Pe;case vt:if(Wi)return Wi.call(i)==Wi.call(l)}return!1}function qC(i,l,f,S,A,M){var W=f&m,z=du(i),Z=z.length,Ce=du(l),Pe=Ce.length;if(Z!=Pe&&!W)return!1;for(var Te=Z;Te--;){var Le=z[Te];if(!(W?Le in l:Vt.call(l,Le)))return!1}var Ge=M.get(i),it=M.get(l);if(Ge&&it)return Ge==l&&it==i;var yt=!0;M.set(i,l),M.set(l,i);for(var at=W;++Te<Z;){Le=z[Te];var Ct=i[Le],Et=l[Le];if(S)var Pr=W?S(Et,Ct,Le,l,i,M):S(Ct,Et,Le,i,l,M);if(!(Pr===r?Ct===Et||A(Ct,Et,f,S,M):Pr)){yt=!1;break}at||(at=Le=="constructor")}if(yt&&!at){var rr=i.constructor,Dr=l.constructor;rr!=Dr&&"constructor"in i&&"constructor"in l&&!(typeof rr=="function"&&rr instanceof rr&&typeof Dr=="function"&&Dr instanceof Dr)&&(yt=!1)}return M.delete(i),M.delete(l),yt}function Is(i){return bu(tg(i,r,dg),i+"")}function du(i){return xm(i,Nn,pu)}function uu(i){return xm(i,ur,Xm)}var hu=cl?function(i){return cl.get(i)}:Ru;function Sl(i){for(var l=i.name+"",f=Xo[l],S=Vt.call(Xo,l)?f.length:0;S--;){var A=f[S],M=A.func;if(M==null||M==i)return A.name}return l}function ei(i){var l=Vt.call(_,"placeholder")?_:i;return l.placeholder}function ot(){var i=_.iteratee||Eu;return i=i===Eu?bm:i,arguments.length?i(arguments[0],arguments[1]):i}function Cl(i,l){var f=i.__data__;return n2(l)?f[typeof l=="string"?"string":"hash"]:f.map}function fu(i){for(var l=Nn(i),f=l.length;f--;){var S=l[f],A=i[S];l[f]=[S,A,Zm(A)]}return l}function wo(i,l){var f=oS(i,l);return gm(f)?f:r}function KC(i){var l=Vt.call(i,go),f=i[go];try{i[go]=r;var S=!0}catch{}var A=tl.call(i);return S&&(l?i[go]=f:delete i[go]),A}var pu=Bd?function(i){return i==null?[]:(i=Kt(i),Bs(Bd(i),function(l){return nm.call(i,l)}))}:_u,Xm=Bd?function(i){for(var l=[];i;)Vs(l,pu(i)),i=sl(i);return l}:_u,Kn=tr;(Vd&&Kn(new Vd(new ArrayBuffer(1)))!=kn||Li&&Kn(new Li)!=ue||Ud&&Kn(Ud.resolve())!=Me||Ko&&Kn(new Ko)!=be||$i&&Kn(new $i)!=Lt)&&(Kn=function(i){var l=tr(i),f=l==Ye?i.constructor:r,S=f?So(f):"";if(S)switch(S){case RS:return kn;case _S:return ue;case OS:return Me;case MS:return be;case kS:return Lt}return l});function XC(i,l,f){for(var S=-1,A=f.length;++S<A;){var M=f[S],W=M.size;switch(M.type){case"drop":i+=W;break;case"dropRight":l-=W;break;case"take":l=qn(l,i+W);break;case"takeRight":i=En(i,l-W);break}}return{start:i,end:l}}function JC(i){var l=i.match(rw);return l?l[1].split(sw):[]}function Jm(i,l,f){l=Gs(l,i);for(var S=-1,A=l.length,M=!1;++S<A;){var W=fs(l[S]);if(!(M=i!=null&&f(i,W)))break;i=i[W]}return M||++S!=A?M:(A=i==null?0:i.length,!!A&&Rl(A)&&Es(W,A)&&(ht(i)||Co(i)))}function QC(i){var l=i.length,f=new i.constructor(l);return l&&typeof i[0]=="string"&&Vt.call(i,"index")&&(f.index=i.index,f.input=i.input),f}function Qm(i){return typeof i.constructor=="function"&&!Gi(i)?Jo(sl(i)):{}}function ZC(i,l,f){var S=i.constructor;switch(l){case qt:return au(i);case xe:case oe:return new S(+i);case kn:return NC(i,f);case dt:case xt:case Rt:case Ht:case Pn:case dn:case Gn:case xn:case St:return Mm(i,f);case ue:return new S;case Re:case Qe:return new S(i);case J:return LC(i);case be:return new S;case vt:return $C(i)}}function e2(i,l){var f=l.length;if(!f)return i;var S=f-1;return l[S]=(f>1?"& ":"")+l[S],l=l.join(f>2?", ":" "),i.replace(nw,`{
/* [wrapped with `+l+`] */
`)}function t2(i){return ht(i)||Co(i)||!!(rm&&i&&i[rm])}function Es(i,l){var f=typeof i;return l=l??se,!!l&&(f=="number"||f!="symbol"&&fw.test(i))&&i>-1&&i%1==0&&i<l}function nr(i,l,f){if(!un(f))return!1;var S=typeof l;return(S=="number"?dr(f)&&Es(l,f.length):S=="string"&&l in f)?Zr(f[l],i):!1}function xu(i,l){if(ht(i))return!1;var f=typeof i;return f=="number"||f=="symbol"||f=="boolean"||i==null||Cr(i)?!0:vr.test(i)||!mn.test(i)||l!=null&&i in Kt(l)}function n2(i){var l=typeof i;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?i!=="__proto__":i===null}function mu(i){var l=Sl(i),f=_[l];if(typeof f!="function"||!(l in Dt.prototype))return!1;if(i===f)return!0;var S=hu(f);return!!S&&i===S[0]}function r2(i){return!!Zx&&Zx in i}var s2=Za?As:Ou;function Gi(i){var l=i&&i.constructor,f=typeof l=="function"&&l.prototype||qo;return i===f}function Zm(i){return i===i&&!un(i)}function eg(i,l){return function(f){return f==null?!1:f[i]===l&&(l!==r||i in Kt(f))}}function o2(i){var l=El(i,function(S){return f.size===h&&f.clear(),S}),f=l.cache;return l}function i2(i,l){var f=i[1],S=l[1],A=f|S,M=A<(j|D|N),W=S==N&&f==R||S==N&&f==O&&i[7].length<=l[8]||S==(N|O)&&l[7].length<=l[8]&&f==R;if(!(M||W))return i;S&j&&(i[2]=l[2],A|=f&j?0:C);var z=l[3];if(z){var Z=i[3];i[3]=Z?Nm(Z,z,l[4]):z,i[4]=Z?Us(i[3],p):l[4]}return z=l[5],z&&(Z=i[5],i[5]=Z?Lm(Z,z,l[6]):z,i[6]=Z?Us(i[5],p):l[6]),z=l[7],z&&(i[7]=z),S&N&&(i[8]=i[8]==null?l[8]:qn(i[8],l[8])),i[9]==null&&(i[9]=l[9]),i[0]=l[0],i[1]=A,i}function a2(i){var l=[];if(i!=null)for(var f in Kt(i))l.push(f);return l}function l2(i){return tl.call(i)}function tg(i,l,f){return l=En(l===r?i.length-1:l,0),function(){for(var S=arguments,A=-1,M=En(S.length-l,0),W=pe(M);++A<M;)W[A]=S[l+A];A=-1;for(var z=pe(l+1);++A<l;)z[A]=S[A];return z[l]=f(W),jr(i,this,z)}}function ng(i,l){return l.length<2?i:jo(i,$r(l,0,-1))}function c2(i,l){for(var f=i.length,S=qn(l.length,f),A=cr(i);S--;){var M=l[S];i[S]=Es(M,f)?A[M]:r}return i}function gu(i,l){if(!(l==="constructor"&&typeof i[l]=="function")&&l!="__proto__")return i[l]}var rg=og(Dm),qi=CS||function(i,l){return Bn.setTimeout(i,l)},bu=og(_C);function sg(i,l,f){var S=l+"";return bu(i,e2(S,d2(JC(S),f)))}function og(i){var l=0,f=0;return function(){var S=IS(),A=ne-(S-f);if(f=S,A>0){if(++l>=k)return arguments[0]}else l=0;return i.apply(r,arguments)}}function Pl(i,l){var f=-1,S=i.length,A=S-1;for(l=l===r?S:l;++f<l;){var M=eu(f,A),W=i[M];i[M]=i[f],i[f]=W}return i.length=l,i}var ig=o2(function(i){var l=[];return i.charCodeAt(0)===46&&l.push(""),i.replace(Ha,function(f,S,A,M){l.push(A?M.replace(aw,"$1"):S||f)}),l});function fs(i){if(typeof i=="string"||Cr(i))return i;var l=i+"";return l=="0"&&1/i==-ie?"-0":l}function So(i){if(i!=null){try{return el.call(i)}catch{}try{return i+""}catch{}}return""}function d2(i,l){return Mr(Ee,function(f){var S="_."+f[0];l&f[1]&&!Ka(i,S)&&i.push(S)}),i.sort()}function ag(i){if(i instanceof Dt)return i.clone();var l=new Nr(i.__wrapped__,i.__chain__);return l.__actions__=cr(i.__actions__),l.__index__=i.__index__,l.__values__=i.__values__,l}function u2(i,l,f){(f?nr(i,l,f):l===r)?l=1:l=En(mt(l),0);var S=i==null?0:i.length;if(!S||l<1)return[];for(var A=0,M=0,W=pe(al(S/l));A<S;)W[M++]=$r(i,A,A+=l);return W}function h2(i){for(var l=-1,f=i==null?0:i.length,S=0,A=[];++l<f;){var M=i[l];M&&(A[S++]=M)}return A}function f2(){var i=arguments.length;if(!i)return[];for(var l=pe(i-1),f=arguments[0],S=i;S--;)l[S-1]=arguments[S];return Vs(ht(f)?cr(f):[f],Vn(l,1))}var p2=jt(function(i,l){return yn(i)?Vi(i,Vn(l,1,yn,!0)):[]}),x2=jt(function(i,l){var f=Fr(l);return yn(f)&&(f=r),yn(i)?Vi(i,Vn(l,1,yn,!0),ot(f,2)):[]}),m2=jt(function(i,l){var f=Fr(l);return yn(f)&&(f=r),yn(i)?Vi(i,Vn(l,1,yn,!0),r,f):[]});function g2(i,l,f){var S=i==null?0:i.length;return S?(l=f||l===r?1:mt(l),$r(i,l<0?0:l,S)):[]}function b2(i,l,f){var S=i==null?0:i.length;return S?(l=f||l===r?1:mt(l),l=S-l,$r(i,0,l<0?0:l)):[]}function y2(i,l){return i&&i.length?gl(i,ot(l,3),!0,!0):[]}function v2(i,l){return i&&i.length?gl(i,ot(l,3),!0):[]}function j2(i,l,f,S){var A=i==null?0:i.length;return A?(f&&typeof f!="number"&&nr(i,l,f)&&(f=0,S=A),fC(i,l,f,S)):[]}function lg(i,l,f){var S=i==null?0:i.length;if(!S)return-1;var A=f==null?0:mt(f);return A<0&&(A=En(S+A,0)),Xa(i,ot(l,3),A)}function cg(i,l,f){var S=i==null?0:i.length;if(!S)return-1;var A=S-1;return f!==r&&(A=mt(f),A=f<0?En(S+A,0):qn(A,S-1)),Xa(i,ot(l,3),A,!0)}function dg(i){var l=i==null?0:i.length;return l?Vn(i,1):[]}function w2(i){var l=i==null?0:i.length;return l?Vn(i,ie):[]}function S2(i,l){var f=i==null?0:i.length;return f?(l=l===r?1:mt(l),Vn(i,l)):[]}function C2(i){for(var l=-1,f=i==null?0:i.length,S={};++l<f;){var A=i[l];S[A[0]]=A[1]}return S}function ug(i){return i&&i.length?i[0]:r}function P2(i,l,f){var S=i==null?0:i.length;if(!S)return-1;var A=f==null?0:mt(f);return A<0&&(A=En(S+A,0)),zo(i,l,A)}function D2(i){var l=i==null?0:i.length;return l?$r(i,0,-1):[]}var T2=jt(function(i){var l=rn(i,ou);return l.length&&l[0]===i[0]?Kd(l):[]}),I2=jt(function(i){var l=Fr(i),f=rn(i,ou);return l===Fr(f)?l=r:f.pop(),f.length&&f[0]===i[0]?Kd(f,ot(l,2)):[]}),E2=jt(function(i){var l=Fr(i),f=rn(i,ou);return l=typeof l=="function"?l:r,l&&f.pop(),f.length&&f[0]===i[0]?Kd(f,r,l):[]});function A2(i,l){return i==null?"":DS.call(i,l)}function Fr(i){var l=i==null?0:i.length;return l?i[l-1]:r}function R2(i,l,f){var S=i==null?0:i.length;if(!S)return-1;var A=S;return f!==r&&(A=mt(f),A=A<0?En(S+A,0):qn(A,S-1)),l===l?dS(i,l,A):Xa(i,Hx,A,!0)}function _2(i,l){return i&&i.length?wm(i,mt(l)):r}var O2=jt(hg);function hg(i,l){return i&&i.length&&l&&l.length?Zd(i,l):i}function M2(i,l,f){return i&&i.length&&l&&l.length?Zd(i,l,ot(f,2)):i}function k2(i,l,f){return i&&i.length&&l&&l.length?Zd(i,l,r,f):i}var N2=Is(function(i,l){var f=i==null?0:i.length,S=Hd(i,l);return Pm(i,rn(l,function(A){return Es(A,f)?+A:A}).sort(km)),S});function L2(i,l){var f=[];if(!(i&&i.length))return f;var S=-1,A=[],M=i.length;for(l=ot(l,3);++S<M;){var W=i[S];l(W,S,i)&&(f.push(W),A.push(S))}return Pm(i,A),f}function yu(i){return i==null?i:AS.call(i)}function $2(i,l,f){var S=i==null?0:i.length;return S?(f&&typeof f!="number"&&nr(i,l,f)?(l=0,f=S):(l=l==null?0:mt(l),f=f===r?S:mt(f)),$r(i,l,f)):[]}function F2(i,l){return ml(i,l)}function W2(i,l,f){return nu(i,l,ot(f,2))}function B2(i,l){var f=i==null?0:i.length;if(f){var S=ml(i,l);if(S<f&&Zr(i[S],l))return S}return-1}function V2(i,l){return ml(i,l,!0)}function U2(i,l,f){return nu(i,l,ot(f,2),!0)}function z2(i,l){var f=i==null?0:i.length;if(f){var S=ml(i,l,!0)-1;if(Zr(i[S],l))return S}return-1}function H2(i){return i&&i.length?Tm(i):[]}function Y2(i,l){return i&&i.length?Tm(i,ot(l,2)):[]}function G2(i){var l=i==null?0:i.length;return l?$r(i,1,l):[]}function q2(i,l,f){return i&&i.length?(l=f||l===r?1:mt(l),$r(i,0,l<0?0:l)):[]}function K2(i,l,f){var S=i==null?0:i.length;return S?(l=f||l===r?1:mt(l),l=S-l,$r(i,l<0?0:l,S)):[]}function X2(i,l){return i&&i.length?gl(i,ot(l,3),!1,!0):[]}function J2(i,l){return i&&i.length?gl(i,ot(l,3)):[]}var Q2=jt(function(i){return Ys(Vn(i,1,yn,!0))}),Z2=jt(function(i){var l=Fr(i);return yn(l)&&(l=r),Ys(Vn(i,1,yn,!0),ot(l,2))}),eP=jt(function(i){var l=Fr(i);return l=typeof l=="function"?l:r,Ys(Vn(i,1,yn,!0),r,l)});function tP(i){return i&&i.length?Ys(i):[]}function nP(i,l){return i&&i.length?Ys(i,ot(l,2)):[]}function rP(i,l){return l=typeof l=="function"?l:r,i&&i.length?Ys(i,r,l):[]}function vu(i){if(!(i&&i.length))return[];var l=0;return i=Bs(i,function(f){if(yn(f))return l=En(f.length,l),!0}),Ld(l,function(f){return rn(i,Md(f))})}function fg(i,l){if(!(i&&i.length))return[];var f=vu(i);return l==null?f:rn(f,function(S){return jr(l,r,S)})}var sP=jt(function(i,l){return yn(i)?Vi(i,l):[]}),oP=jt(function(i){return su(Bs(i,yn))}),iP=jt(function(i){var l=Fr(i);return yn(l)&&(l=r),su(Bs(i,yn),ot(l,2))}),aP=jt(function(i){var l=Fr(i);return l=typeof l=="function"?l:r,su(Bs(i,yn),r,l)}),lP=jt(vu);function cP(i,l){return Rm(i||[],l||[],Bi)}function dP(i,l){return Rm(i||[],l||[],Hi)}var uP=jt(function(i){var l=i.length,f=l>1?i[l-1]:r;return f=typeof f=="function"?(i.pop(),f):r,fg(i,f)});function pg(i){var l=_(i);return l.__chain__=!0,l}function hP(i,l){return l(i),i}function Dl(i,l){return l(i)}var fP=Is(function(i){var l=i.length,f=l?i[0]:0,S=this.__wrapped__,A=function(M){return Hd(M,i)};return l>1||this.__actions__.length||!(S instanceof Dt)||!Es(f)?this.thru(A):(S=S.slice(f,+f+(l?1:0)),S.__actions__.push({func:Dl,args:[A],thisArg:r}),new Nr(S,this.__chain__).thru(function(M){return l&&!M.length&&M.push(r),M}))});function pP(){return pg(this)}function xP(){return new Nr(this.value(),this.__chain__)}function mP(){this.__values__===r&&(this.__values__=Ig(this.value()));var i=this.__index__>=this.__values__.length,l=i?r:this.__values__[this.__index__++];return{done:i,value:l}}function gP(){return this}function bP(i){for(var l,f=this;f instanceof ul;){var S=ag(f);S.__index__=0,S.__values__=r,l?A.__wrapped__=S:l=S;var A=S;f=f.__wrapped__}return A.__wrapped__=i,l}function yP(){var i=this.__wrapped__;if(i instanceof Dt){var l=i;return this.__actions__.length&&(l=new Dt(this)),l=l.reverse(),l.__actions__.push({func:Dl,args:[yu],thisArg:r}),new Nr(l,this.__chain__)}return this.thru(yu)}function vP(){return Am(this.__wrapped__,this.__actions__)}var jP=bl(function(i,l,f){Vt.call(i,f)?++i[f]:Ds(i,f,1)});function wP(i,l,f){var S=ht(i)?Ux:hC;return f&&nr(i,l,f)&&(l=r),S(i,ot(l,3))}function SP(i,l){var f=ht(i)?Bs:fm;return f(i,ot(l,3))}var CP=Bm(lg),PP=Bm(cg);function DP(i,l){return Vn(Tl(i,l),1)}function TP(i,l){return Vn(Tl(i,l),ie)}function IP(i,l,f){return f=f===r?1:mt(f),Vn(Tl(i,l),f)}function xg(i,l){var f=ht(i)?Mr:Hs;return f(i,ot(l,3))}function mg(i,l){var f=ht(i)?Gw:hm;return f(i,ot(l,3))}var EP=bl(function(i,l,f){Vt.call(i,f)?i[f].push(l):Ds(i,f,[l])});function AP(i,l,f,S){i=dr(i)?i:ni(i),f=f&&!S?mt(f):0;var A=i.length;return f<0&&(f=En(A+f,0)),_l(i)?f<=A&&i.indexOf(l,f)>-1:!!A&&zo(i,l,f)>-1}var RP=jt(function(i,l,f){var S=-1,A=typeof l=="function",M=dr(i)?pe(i.length):[];return Hs(i,function(W){M[++S]=A?jr(l,W,f):Ui(W,l,f)}),M}),_P=bl(function(i,l,f){Ds(i,f,l)});function Tl(i,l){var f=ht(i)?rn:ym;return f(i,ot(l,3))}function OP(i,l,f,S){return i==null?[]:(ht(l)||(l=l==null?[]:[l]),f=S?r:f,ht(f)||(f=f==null?[]:[f]),Sm(i,l,f))}var MP=bl(function(i,l,f){i[f?0:1].push(l)},function(){return[[],[]]});function kP(i,l,f){var S=ht(i)?_d:Gx,A=arguments.length<3;return S(i,ot(l,4),f,A,Hs)}function NP(i,l,f){var S=ht(i)?qw:Gx,A=arguments.length<3;return S(i,ot(l,4),f,A,hm)}function LP(i,l){var f=ht(i)?Bs:fm;return f(i,Al(ot(l,3)))}function $P(i){var l=ht(i)?lm:AC;return l(i)}function FP(i,l,f){(f?nr(i,l,f):l===r)?l=1:l=mt(l);var S=ht(i)?aC:RC;return S(i,l)}function WP(i){var l=ht(i)?lC:OC;return l(i)}function BP(i){if(i==null)return 0;if(dr(i))return _l(i)?Yo(i):i.length;var l=Kn(i);return l==ue||l==be?i.size:Jd(i).length}function VP(i,l,f){var S=ht(i)?Od:MC;return f&&nr(i,l,f)&&(l=r),S(i,ot(l,3))}var UP=jt(function(i,l){if(i==null)return[];var f=l.length;return f>1&&nr(i,l[0],l[1])?l=[]:f>2&&nr(l[0],l[1],l[2])&&(l=[l[0]]),Sm(i,Vn(l,1),[])}),Il=SS||function(){return Bn.Date.now()};function zP(i,l){if(typeof l!="function")throw new kr(c);return i=mt(i),function(){if(--i<1)return l.apply(this,arguments)}}function gg(i,l,f){return l=f?r:l,l=i&&l==null?i.length:l,Ts(i,N,r,r,r,r,l)}function bg(i,l){var f;if(typeof l!="function")throw new kr(c);return i=mt(i),function(){return--i>0&&(f=l.apply(this,arguments)),i<=1&&(l=r),f}}var ju=jt(function(i,l,f){var S=j;if(f.length){var A=Us(f,ei(ju));S|=T}return Ts(i,S,l,f,A)}),yg=jt(function(i,l,f){var S=j|D;if(f.length){var A=Us(f,ei(yg));S|=T}return Ts(l,S,i,f,A)});function vg(i,l,f){l=f?r:l;var S=Ts(i,R,r,r,r,r,r,l);return S.placeholder=vg.placeholder,S}function jg(i,l,f){l=f?r:l;var S=Ts(i,E,r,r,r,r,r,l);return S.placeholder=jg.placeholder,S}function wg(i,l,f){var S,A,M,W,z,Z,Ce=0,Pe=!1,Te=!1,Le=!0;if(typeof i!="function")throw new kr(c);l=Wr(l)||0,un(f)&&(Pe=!!f.leading,Te="maxWait"in f,M=Te?En(Wr(f.maxWait)||0,l):M,Le="trailing"in f?!!f.trailing:Le);function Ge(vn){var es=S,_s=A;return S=A=r,Ce=vn,W=i.apply(_s,es),W}function it(vn){return Ce=vn,z=qi(Ct,l),Pe?Ge(vn):W}function yt(vn){var es=vn-Z,_s=vn-Ce,Bg=l-es;return Te?qn(Bg,M-_s):Bg}function at(vn){var es=vn-Z,_s=vn-Ce;return Z===r||es>=l||es<0||Te&&_s>=M}function Ct(){var vn=Il();if(at(vn))return Et(vn);z=qi(Ct,yt(vn))}function Et(vn){return z=r,Le&&S?Ge(vn):(S=A=r,W)}function Pr(){z!==r&&_m(z),Ce=0,S=Z=A=z=r}function rr(){return z===r?W:Et(Il())}function Dr(){var vn=Il(),es=at(vn);if(S=arguments,A=this,Z=vn,es){if(z===r)return it(Z);if(Te)return _m(z),z=qi(Ct,l),Ge(Z)}return z===r&&(z=qi(Ct,l)),W}return Dr.cancel=Pr,Dr.flush=rr,Dr}var HP=jt(function(i,l){return um(i,1,l)}),YP=jt(function(i,l,f){return um(i,Wr(l)||0,f)});function GP(i){return Ts(i,$)}function El(i,l){if(typeof i!="function"||l!=null&&typeof l!="function")throw new kr(c);var f=function(){var S=arguments,A=l?l.apply(this,S):S[0],M=f.cache;if(M.has(A))return M.get(A);var W=i.apply(this,S);return f.cache=M.set(A,W)||M,W};return f.cache=new(El.Cache||Ps),f}El.Cache=Ps;function Al(i){if(typeof i!="function")throw new kr(c);return function(){var l=arguments;switch(l.length){case 0:return!i.call(this);case 1:return!i.call(this,l[0]);case 2:return!i.call(this,l[0],l[1]);case 3:return!i.call(this,l[0],l[1],l[2])}return!i.apply(this,l)}}function qP(i){return bg(2,i)}var KP=kC(function(i,l){l=l.length==1&&ht(l[0])?rn(l[0],wr(ot())):rn(Vn(l,1),wr(ot()));var f=l.length;return jt(function(S){for(var A=-1,M=qn(S.length,f);++A<M;)S[A]=l[A].call(this,S[A]);return jr(i,this,S)})}),wu=jt(function(i,l){var f=Us(l,ei(wu));return Ts(i,T,r,l,f)}),Sg=jt(function(i,l){var f=Us(l,ei(Sg));return Ts(i,I,r,l,f)}),XP=Is(function(i,l){return Ts(i,O,r,r,r,l)});function JP(i,l){if(typeof i!="function")throw new kr(c);return l=l===r?l:mt(l),jt(i,l)}function QP(i,l){if(typeof i!="function")throw new kr(c);return l=l==null?0:En(mt(l),0),jt(function(f){var S=f[l],A=qs(f,0,l);return S&&Vs(A,S),jr(i,this,A)})}function ZP(i,l,f){var S=!0,A=!0;if(typeof i!="function")throw new kr(c);return un(f)&&(S="leading"in f?!!f.leading:S,A="trailing"in f?!!f.trailing:A),wg(i,l,{leading:S,maxWait:l,trailing:A})}function eD(i){return gg(i,1)}function tD(i,l){return wu(iu(l),i)}function nD(){if(!arguments.length)return[];var i=arguments[0];return ht(i)?i:[i]}function rD(i){return Lr(i,y)}function sD(i,l){return l=typeof l=="function"?l:r,Lr(i,y,l)}function oD(i){return Lr(i,x|y)}function iD(i,l){return l=typeof l=="function"?l:r,Lr(i,x|y,l)}function aD(i,l){return l==null||dm(i,l,Nn(l))}function Zr(i,l){return i===l||i!==i&&l!==l}var lD=wl(qd),cD=wl(function(i,l){return i>=l}),Co=mm(function(){return arguments}())?mm:function(i){return gn(i)&&Vt.call(i,"callee")&&!nm.call(i,"callee")},ht=pe.isArray,dD=Lx?wr(Lx):bC;function dr(i){return i!=null&&Rl(i.length)&&!As(i)}function yn(i){return gn(i)&&dr(i)}function uD(i){return i===!0||i===!1||gn(i)&&tr(i)==xe}var Ks=PS||Ou,hD=$x?wr($x):yC;function fD(i){return gn(i)&&i.nodeType===1&&!Ki(i)}function pD(i){if(i==null)return!0;if(dr(i)&&(ht(i)||typeof i=="string"||typeof i.splice=="function"||Ks(i)||ti(i)||Co(i)))return!i.length;var l=Kn(i);if(l==ue||l==be)return!i.size;if(Gi(i))return!Jd(i).length;for(var f in i)if(Vt.call(i,f))return!1;return!0}function xD(i,l){return zi(i,l)}function mD(i,l,f){f=typeof f=="function"?f:r;var S=f?f(i,l):r;return S===r?zi(i,l,r,f):!!S}function Su(i){if(!gn(i))return!1;var l=tr(i);return l==G||l==Y||typeof i.message=="string"&&typeof i.name=="string"&&!Ki(i)}function gD(i){return typeof i=="number"&&sm(i)}function As(i){if(!un(i))return!1;var l=tr(i);return l==fe||l==me||l==L||l==Ne}function Cg(i){return typeof i=="number"&&i==mt(i)}function Rl(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=se}function un(i){var l=typeof i;return i!=null&&(l=="object"||l=="function")}function gn(i){return i!=null&&typeof i=="object"}var Pg=Fx?wr(Fx):jC;function bD(i,l){return i===l||Xd(i,l,fu(l))}function yD(i,l,f){return f=typeof f=="function"?f:r,Xd(i,l,fu(l),f)}function vD(i){return Dg(i)&&i!=+i}function jD(i){if(s2(i))throw new ut(a);return gm(i)}function wD(i){return i===null}function SD(i){return i==null}function Dg(i){return typeof i=="number"||gn(i)&&tr(i)==Re}function Ki(i){if(!gn(i)||tr(i)!=Ye)return!1;var l=sl(i);if(l===null)return!0;var f=Vt.call(l,"constructor")&&l.constructor;return typeof f=="function"&&f instanceof f&&el.call(f)==yS}var Cu=Wx?wr(Wx):wC;function CD(i){return Cg(i)&&i>=-se&&i<=se}var Tg=Bx?wr(Bx):SC;function _l(i){return typeof i=="string"||!ht(i)&&gn(i)&&tr(i)==Qe}function Cr(i){return typeof i=="symbol"||gn(i)&&tr(i)==vt}var ti=Vx?wr(Vx):CC;function PD(i){return i===r}function DD(i){return gn(i)&&Kn(i)==Lt}function TD(i){return gn(i)&&tr(i)==At}var ID=wl(Qd),ED=wl(function(i,l){return i<=l});function Ig(i){if(!i)return[];if(dr(i))return _l(i)?Jr(i):cr(i);if(Ni&&i[Ni])return aS(i[Ni]());var l=Kn(i),f=l==ue?Fd:l==be?Ja:ni;return f(i)}function Rs(i){if(!i)return i===0?i:0;if(i=Wr(i),i===ie||i===-ie){var l=i<0?-1:1;return l*ae}return i===i?i:0}function mt(i){var l=Rs(i),f=l%1;return l===l?f?l-f:l:0}function Eg(i){return i?vo(mt(i),0,X):0}function Wr(i){if(typeof i=="number")return i;if(Cr(i))return V;if(un(i)){var l=typeof i.valueOf=="function"?i.valueOf():i;i=un(l)?l+"":l}if(typeof i!="string")return i===0?i:+i;i=qx(i);var f=dw.test(i);return f||hw.test(i)?zw(i.slice(2),f?2:8):cw.test(i)?V:+i}function Ag(i){return hs(i,ur(i))}function AD(i){return i?vo(mt(i),-se,se):i===0?i:0}function $t(i){return i==null?"":Sr(i)}var RD=Qo(function(i,l){if(Gi(l)||dr(l)){hs(l,Nn(l),i);return}for(var f in l)Vt.call(l,f)&&Bi(i,f,l[f])}),Rg=Qo(function(i,l){hs(l,ur(l),i)}),Ol=Qo(function(i,l,f,S){hs(l,ur(l),i,S)}),_D=Qo(function(i,l,f,S){hs(l,Nn(l),i,S)}),OD=Is(Hd);function MD(i,l){var f=Jo(i);return l==null?f:cm(f,l)}var kD=jt(function(i,l){i=Kt(i);var f=-1,S=l.length,A=S>2?l[2]:r;for(A&&nr(l[0],l[1],A)&&(S=1);++f<S;)for(var M=l[f],W=ur(M),z=-1,Z=W.length;++z<Z;){var Ce=W[z],Pe=i[Ce];(Pe===r||Zr(Pe,qo[Ce])&&!Vt.call(i,Ce))&&(i[Ce]=M[Ce])}return i}),ND=jt(function(i){return i.push(r,qm),jr(_g,r,i)});function LD(i,l){return zx(i,ot(l,3),us)}function $D(i,l){return zx(i,ot(l,3),Gd)}function FD(i,l){return i==null?i:Yd(i,ot(l,3),ur)}function WD(i,l){return i==null?i:pm(i,ot(l,3),ur)}function BD(i,l){return i&&us(i,ot(l,3))}function VD(i,l){return i&&Gd(i,ot(l,3))}function UD(i){return i==null?[]:pl(i,Nn(i))}function zD(i){return i==null?[]:pl(i,ur(i))}function Pu(i,l,f){var S=i==null?r:jo(i,l);return S===r?f:S}function HD(i,l){return i!=null&&Jm(i,l,pC)}function Du(i,l){return i!=null&&Jm(i,l,xC)}var YD=Um(function(i,l,f){l!=null&&typeof l.toString!="function"&&(l=tl.call(l)),i[l]=f},Iu(hr)),GD=Um(function(i,l,f){l!=null&&typeof l.toString!="function"&&(l=tl.call(l)),Vt.call(i,l)?i[l].push(f):i[l]=[f]},ot),qD=jt(Ui);function Nn(i){return dr(i)?am(i):Jd(i)}function ur(i){return dr(i)?am(i,!0):PC(i)}function KD(i,l){var f={};return l=ot(l,3),us(i,function(S,A,M){Ds(f,l(S,A,M),S)}),f}function XD(i,l){var f={};return l=ot(l,3),us(i,function(S,A,M){Ds(f,A,l(S,A,M))}),f}var JD=Qo(function(i,l,f){xl(i,l,f)}),_g=Qo(function(i,l,f,S){xl(i,l,f,S)}),QD=Is(function(i,l){var f={};if(i==null)return f;var S=!1;l=rn(l,function(M){return M=Gs(M,i),S||(S=M.length>1),M}),hs(i,uu(i),f),S&&(f=Lr(f,x|b|y,YC));for(var A=l.length;A--;)ru(f,l[A]);return f});function ZD(i,l){return Og(i,Al(ot(l)))}var eT=Is(function(i,l){return i==null?{}:TC(i,l)});function Og(i,l){if(i==null)return{};var f=rn(uu(i),function(S){return[S]});return l=ot(l),Cm(i,f,function(S,A){return l(S,A[0])})}function tT(i,l,f){l=Gs(l,i);var S=-1,A=l.length;for(A||(A=1,i=r);++S<A;){var M=i==null?r:i[fs(l[S])];M===r&&(S=A,M=f),i=As(M)?M.call(i):M}return i}function nT(i,l,f){return i==null?i:Hi(i,l,f)}function rT(i,l,f,S){return S=typeof S=="function"?S:r,i==null?i:Hi(i,l,f,S)}var Mg=Ym(Nn),kg=Ym(ur);function sT(i,l,f){var S=ht(i),A=S||Ks(i)||ti(i);if(l=ot(l,4),f==null){var M=i&&i.constructor;A?f=S?new M:[]:un(i)?f=As(M)?Jo(sl(i)):{}:f={}}return(A?Mr:us)(i,function(W,z,Z){return l(f,W,z,Z)}),f}function oT(i,l){return i==null?!0:ru(i,l)}function iT(i,l,f){return i==null?i:Em(i,l,iu(f))}function aT(i,l,f,S){return S=typeof S=="function"?S:r,i==null?i:Em(i,l,iu(f),S)}function ni(i){return i==null?[]:$d(i,Nn(i))}function lT(i){return i==null?[]:$d(i,ur(i))}function cT(i,l,f){return f===r&&(f=l,l=r),f!==r&&(f=Wr(f),f=f===f?f:0),l!==r&&(l=Wr(l),l=l===l?l:0),vo(Wr(i),l,f)}function dT(i,l,f){return l=Rs(l),f===r?(f=l,l=0):f=Rs(f),i=Wr(i),mC(i,l,f)}function uT(i,l,f){if(f&&typeof f!="boolean"&&nr(i,l,f)&&(l=f=r),f===r&&(typeof l=="boolean"?(f=l,l=r):typeof i=="boolean"&&(f=i,i=r)),i===r&&l===r?(i=0,l=1):(i=Rs(i),l===r?(l=i,i=0):l=Rs(l)),i>l){var S=i;i=l,l=S}if(f||i%1||l%1){var A=om();return qn(i+A*(l-i+Uw("1e-"+((A+"").length-1))),l)}return eu(i,l)}var hT=Zo(function(i,l,f){return l=l.toLowerCase(),i+(f?Ng(l):l)});function Ng(i){return Tu($t(i).toLowerCase())}function Lg(i){return i=$t(i),i&&i.replace(pw,nS).replace(Ow,"")}function fT(i,l,f){i=$t(i),l=Sr(l);var S=i.length;f=f===r?S:vo(mt(f),0,S);var A=f;return f-=l.length,f>=0&&i.slice(f,A)==l}function pT(i){return i=$t(i),i&&yd.test(i)?i.replace(er,rS):i}function xT(i){return i=$t(i),i&&ew.test(i)?i.replace(wd,"\\$&"):i}var mT=Zo(function(i,l,f){return i+(f?"-":"")+l.toLowerCase()}),gT=Zo(function(i,l,f){return i+(f?" ":"")+l.toLowerCase()}),bT=Wm("toLowerCase");function yT(i,l,f){i=$t(i),l=mt(l);var S=l?Yo(i):0;if(!l||S>=l)return i;var A=(l-S)/2;return jl(ll(A),f)+i+jl(al(A),f)}function vT(i,l,f){i=$t(i),l=mt(l);var S=l?Yo(i):0;return l&&S<l?i+jl(l-S,f):i}function jT(i,l,f){i=$t(i),l=mt(l);var S=l?Yo(i):0;return l&&S<l?jl(l-S,f)+i:i}function wT(i,l,f){return f||l==null?l=0:l&&(l=+l),ES($t(i).replace(Sd,""),l||0)}function ST(i,l,f){return(f?nr(i,l,f):l===r)?l=1:l=mt(l),tu($t(i),l)}function CT(){var i=arguments,l=$t(i[0]);return i.length<3?l:l.replace(i[1],i[2])}var PT=Zo(function(i,l,f){return i+(f?"_":"")+l.toLowerCase()});function DT(i,l,f){return f&&typeof f!="number"&&nr(i,l,f)&&(l=f=r),f=f===r?X:f>>>0,f?(i=$t(i),i&&(typeof l=="string"||l!=null&&!Cu(l))&&(l=Sr(l),!l&&Ho(i))?qs(Jr(i),0,f):i.split(l,f)):[]}var TT=Zo(function(i,l,f){return i+(f?" ":"")+Tu(l)});function IT(i,l,f){return i=$t(i),f=f==null?0:vo(mt(f),0,i.length),l=Sr(l),i.slice(f,f+l.length)==l}function ET(i,l,f){var S=_.templateSettings;f&&nr(i,l,f)&&(l=r),i=$t(i),l=Ol({},l,S,Gm);var A=Ol({},l.imports,S.imports,Gm),M=Nn(A),W=$d(A,M),z,Z,Ce=0,Pe=l.interpolate||Ya,Te="__p += '",Le=Wd((l.escape||Ya).source+"|"+Pe.source+"|"+(Pe===jd?lw:Ya).source+"|"+(l.evaluate||Ya).source+"|$","g"),Ge="//# sourceURL="+(Vt.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++$w+"]")+`
`;i.replace(Le,function(at,Ct,Et,Pr,rr,Dr){return Et||(Et=Pr),Te+=i.slice(Ce,Dr).replace(xw,sS),Ct&&(z=!0,Te+=`' +
__e(`+Ct+`) +
'`),rr&&(Z=!0,Te+=`';
`+rr+`;
__p += '`),Et&&(Te+=`' +
((__t = (`+Et+`)) == null ? '' : __t) +
'`),Ce=Dr+at.length,at}),Te+=`';
`;var it=Vt.call(l,"variable")&&l.variable;if(!it)Te=`with (obj) {
`+Te+`
}
`;else if(iw.test(it))throw new ut(d);Te=(Z?Te.replace(Dn,""):Te).replace(Wn,"$1").replace(yr,"$1;"),Te="function("+(it||"obj")+`) {
`+(it?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(z?", __e = _.escape":"")+(Z?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Te+`return __p
}`;var yt=Fg(function(){return Mt(M,Ge+"return "+Te).apply(r,W)});if(yt.source=Te,Su(yt))throw yt;return yt}function AT(i){return $t(i).toLowerCase()}function RT(i){return $t(i).toUpperCase()}function _T(i,l,f){if(i=$t(i),i&&(f||l===r))return qx(i);if(!i||!(l=Sr(l)))return i;var S=Jr(i),A=Jr(l),M=Kx(S,A),W=Xx(S,A)+1;return qs(S,M,W).join("")}function OT(i,l,f){if(i=$t(i),i&&(f||l===r))return i.slice(0,Qx(i)+1);if(!i||!(l=Sr(l)))return i;var S=Jr(i),A=Xx(S,Jr(l))+1;return qs(S,0,A).join("")}function MT(i,l,f){if(i=$t(i),i&&(f||l===r))return i.replace(Sd,"");if(!i||!(l=Sr(l)))return i;var S=Jr(i),A=Kx(S,Jr(l));return qs(S,A).join("")}function kT(i,l){var f=B,S=H;if(un(l)){var A="separator"in l?l.separator:A;f="length"in l?mt(l.length):f,S="omission"in l?Sr(l.omission):S}i=$t(i);var M=i.length;if(Ho(i)){var W=Jr(i);M=W.length}if(f>=M)return i;var z=f-Yo(S);if(z<1)return S;var Z=W?qs(W,0,z).join(""):i.slice(0,z);if(A===r)return Z+S;if(W&&(z+=Z.length-z),Cu(A)){if(i.slice(z).search(A)){var Ce,Pe=Z;for(A.global||(A=Wd(A.source,$t(mx.exec(A))+"g")),A.lastIndex=0;Ce=A.exec(Pe);)var Te=Ce.index;Z=Z.slice(0,Te===r?z:Te)}}else if(i.indexOf(Sr(A),z)!=z){var Le=Z.lastIndexOf(A);Le>-1&&(Z=Z.slice(0,Le))}return Z+S}function NT(i){return i=$t(i),i&&bd.test(i)?i.replace(xo,uS):i}var LT=Zo(function(i,l,f){return i+(f?" ":"")+l.toUpperCase()}),Tu=Wm("toUpperCase");function $g(i,l,f){return i=$t(i),l=f?r:l,l===r?iS(i)?pS(i):Jw(i):i.match(l)||[]}var Fg=jt(function(i,l){try{return jr(i,r,l)}catch(f){return Su(f)?f:new ut(f)}}),$T=Is(function(i,l){return Mr(l,function(f){f=fs(f),Ds(i,f,ju(i[f],i))}),i});function FT(i){var l=i==null?0:i.length,f=ot();return i=l?rn(i,function(S){if(typeof S[1]!="function")throw new kr(c);return[f(S[0]),S[1]]}):[],jt(function(S){for(var A=-1;++A<l;){var M=i[A];if(jr(M[0],this,S))return jr(M[1],this,S)}})}function WT(i){return uC(Lr(i,x))}function Iu(i){return function(){return i}}function BT(i,l){return i==null||i!==i?l:i}var VT=Vm(),UT=Vm(!0);function hr(i){return i}function Eu(i){return bm(typeof i=="function"?i:Lr(i,x))}function zT(i){return vm(Lr(i,x))}function HT(i,l){return jm(i,Lr(l,x))}var YT=jt(function(i,l){return function(f){return Ui(f,i,l)}}),GT=jt(function(i,l){return function(f){return Ui(i,f,l)}});function Au(i,l,f){var S=Nn(l),A=pl(l,S);f==null&&!(un(l)&&(A.length||!S.length))&&(f=l,l=i,i=this,A=pl(l,Nn(l)));var M=!(un(f)&&"chain"in f)||!!f.chain,W=As(i);return Mr(A,function(z){var Z=l[z];i[z]=Z,W&&(i.prototype[z]=function(){var Ce=this.__chain__;if(M||Ce){var Pe=i(this.__wrapped__),Te=Pe.__actions__=cr(this.__actions__);return Te.push({func:Z,args:arguments,thisArg:i}),Pe.__chain__=Ce,Pe}return Z.apply(i,Vs([this.value()],arguments))})}),i}function qT(){return Bn._===this&&(Bn._=vS),this}function Ru(){}function KT(i){return i=mt(i),jt(function(l){return wm(l,i)})}var XT=lu(rn),JT=lu(Ux),QT=lu(Od);function Wg(i){return xu(i)?Md(fs(i)):IC(i)}function ZT(i){return function(l){return i==null?r:jo(i,l)}}var eI=zm(),tI=zm(!0);function _u(){return[]}function Ou(){return!1}function nI(){return{}}function rI(){return""}function sI(){return!0}function oI(i,l){if(i=mt(i),i<1||i>se)return[];var f=X,S=qn(i,X);l=ot(l),i-=X;for(var A=Ld(S,l);++f<i;)l(f);return A}function iI(i){return ht(i)?rn(i,fs):Cr(i)?[i]:cr(ig($t(i)))}function aI(i){var l=++bS;return $t(i)+l}var lI=vl(function(i,l){return i+l},0),cI=cu("ceil"),dI=vl(function(i,l){return i/l},1),uI=cu("floor");function hI(i){return i&&i.length?fl(i,hr,qd):r}function fI(i,l){return i&&i.length?fl(i,ot(l,2),qd):r}function pI(i){return Yx(i,hr)}function xI(i,l){return Yx(i,ot(l,2))}function mI(i){return i&&i.length?fl(i,hr,Qd):r}function gI(i,l){return i&&i.length?fl(i,ot(l,2),Qd):r}var bI=vl(function(i,l){return i*l},1),yI=cu("round"),vI=vl(function(i,l){return i-l},0);function jI(i){return i&&i.length?Nd(i,hr):0}function wI(i,l){return i&&i.length?Nd(i,ot(l,2)):0}return _.after=zP,_.ary=gg,_.assign=RD,_.assignIn=Rg,_.assignInWith=Ol,_.assignWith=_D,_.at=OD,_.before=bg,_.bind=ju,_.bindAll=$T,_.bindKey=yg,_.castArray=nD,_.chain=pg,_.chunk=u2,_.compact=h2,_.concat=f2,_.cond=FT,_.conforms=WT,_.constant=Iu,_.countBy=jP,_.create=MD,_.curry=vg,_.curryRight=jg,_.debounce=wg,_.defaults=kD,_.defaultsDeep=ND,_.defer=HP,_.delay=YP,_.difference=p2,_.differenceBy=x2,_.differenceWith=m2,_.drop=g2,_.dropRight=b2,_.dropRightWhile=y2,_.dropWhile=v2,_.fill=j2,_.filter=SP,_.flatMap=DP,_.flatMapDeep=TP,_.flatMapDepth=IP,_.flatten=dg,_.flattenDeep=w2,_.flattenDepth=S2,_.flip=GP,_.flow=VT,_.flowRight=UT,_.fromPairs=C2,_.functions=UD,_.functionsIn=zD,_.groupBy=EP,_.initial=D2,_.intersection=T2,_.intersectionBy=I2,_.intersectionWith=E2,_.invert=YD,_.invertBy=GD,_.invokeMap=RP,_.iteratee=Eu,_.keyBy=_P,_.keys=Nn,_.keysIn=ur,_.map=Tl,_.mapKeys=KD,_.mapValues=XD,_.matches=zT,_.matchesProperty=HT,_.memoize=El,_.merge=JD,_.mergeWith=_g,_.method=YT,_.methodOf=GT,_.mixin=Au,_.negate=Al,_.nthArg=KT,_.omit=QD,_.omitBy=ZD,_.once=qP,_.orderBy=OP,_.over=XT,_.overArgs=KP,_.overEvery=JT,_.overSome=QT,_.partial=wu,_.partialRight=Sg,_.partition=MP,_.pick=eT,_.pickBy=Og,_.property=Wg,_.propertyOf=ZT,_.pull=O2,_.pullAll=hg,_.pullAllBy=M2,_.pullAllWith=k2,_.pullAt=N2,_.range=eI,_.rangeRight=tI,_.rearg=XP,_.reject=LP,_.remove=L2,_.rest=JP,_.reverse=yu,_.sampleSize=FP,_.set=nT,_.setWith=rT,_.shuffle=WP,_.slice=$2,_.sortBy=UP,_.sortedUniq=H2,_.sortedUniqBy=Y2,_.split=DT,_.spread=QP,_.tail=G2,_.take=q2,_.takeRight=K2,_.takeRightWhile=X2,_.takeWhile=J2,_.tap=hP,_.throttle=ZP,_.thru=Dl,_.toArray=Ig,_.toPairs=Mg,_.toPairsIn=kg,_.toPath=iI,_.toPlainObject=Ag,_.transform=sT,_.unary=eD,_.union=Q2,_.unionBy=Z2,_.unionWith=eP,_.uniq=tP,_.uniqBy=nP,_.uniqWith=rP,_.unset=oT,_.unzip=vu,_.unzipWith=fg,_.update=iT,_.updateWith=aT,_.values=ni,_.valuesIn=lT,_.without=sP,_.words=$g,_.wrap=tD,_.xor=oP,_.xorBy=iP,_.xorWith=aP,_.zip=lP,_.zipObject=cP,_.zipObjectDeep=dP,_.zipWith=uP,_.entries=Mg,_.entriesIn=kg,_.extend=Rg,_.extendWith=Ol,Au(_,_),_.add=lI,_.attempt=Fg,_.camelCase=hT,_.capitalize=Ng,_.ceil=cI,_.clamp=cT,_.clone=rD,_.cloneDeep=oD,_.cloneDeepWith=iD,_.cloneWith=sD,_.conformsTo=aD,_.deburr=Lg,_.defaultTo=BT,_.divide=dI,_.endsWith=fT,_.eq=Zr,_.escape=pT,_.escapeRegExp=xT,_.every=wP,_.find=CP,_.findIndex=lg,_.findKey=LD,_.findLast=PP,_.findLastIndex=cg,_.findLastKey=$D,_.floor=uI,_.forEach=xg,_.forEachRight=mg,_.forIn=FD,_.forInRight=WD,_.forOwn=BD,_.forOwnRight=VD,_.get=Pu,_.gt=lD,_.gte=cD,_.has=HD,_.hasIn=Du,_.head=ug,_.identity=hr,_.includes=AP,_.indexOf=P2,_.inRange=dT,_.invoke=qD,_.isArguments=Co,_.isArray=ht,_.isArrayBuffer=dD,_.isArrayLike=dr,_.isArrayLikeObject=yn,_.isBoolean=uD,_.isBuffer=Ks,_.isDate=hD,_.isElement=fD,_.isEmpty=pD,_.isEqual=xD,_.isEqualWith=mD,_.isError=Su,_.isFinite=gD,_.isFunction=As,_.isInteger=Cg,_.isLength=Rl,_.isMap=Pg,_.isMatch=bD,_.isMatchWith=yD,_.isNaN=vD,_.isNative=jD,_.isNil=SD,_.isNull=wD,_.isNumber=Dg,_.isObject=un,_.isObjectLike=gn,_.isPlainObject=Ki,_.isRegExp=Cu,_.isSafeInteger=CD,_.isSet=Tg,_.isString=_l,_.isSymbol=Cr,_.isTypedArray=ti,_.isUndefined=PD,_.isWeakMap=DD,_.isWeakSet=TD,_.join=A2,_.kebabCase=mT,_.last=Fr,_.lastIndexOf=R2,_.lowerCase=gT,_.lowerFirst=bT,_.lt=ID,_.lte=ED,_.max=hI,_.maxBy=fI,_.mean=pI,_.meanBy=xI,_.min=mI,_.minBy=gI,_.stubArray=_u,_.stubFalse=Ou,_.stubObject=nI,_.stubString=rI,_.stubTrue=sI,_.multiply=bI,_.nth=_2,_.noConflict=qT,_.noop=Ru,_.now=Il,_.pad=yT,_.padEnd=vT,_.padStart=jT,_.parseInt=wT,_.random=uT,_.reduce=kP,_.reduceRight=NP,_.repeat=ST,_.replace=CT,_.result=tT,_.round=yI,_.runInContext=Q,_.sample=$P,_.size=BP,_.snakeCase=PT,_.some=VP,_.sortedIndex=F2,_.sortedIndexBy=W2,_.sortedIndexOf=B2,_.sortedLastIndex=V2,_.sortedLastIndexBy=U2,_.sortedLastIndexOf=z2,_.startCase=TT,_.startsWith=IT,_.subtract=vI,_.sum=jI,_.sumBy=wI,_.template=ET,_.times=oI,_.toFinite=Rs,_.toInteger=mt,_.toLength=Eg,_.toLower=AT,_.toNumber=Wr,_.toSafeInteger=AD,_.toString=$t,_.toUpper=RT,_.trim=_T,_.trimEnd=OT,_.trimStart=MT,_.truncate=kT,_.unescape=NT,_.uniqueId=aI,_.upperCase=LT,_.upperFirst=Tu,_.each=xg,_.eachRight=mg,_.first=ug,Au(_,function(){var i={};return us(_,function(l,f){Vt.call(_.prototype,f)||(i[f]=l)}),i}(),{chain:!1}),_.VERSION=s,Mr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){_[i].placeholder=_}),Mr(["drop","take"],function(i,l){Dt.prototype[i]=function(f){f=f===r?1:En(mt(f),0);var S=this.__filtered__&&!l?new Dt(this):this.clone();return S.__filtered__?S.__takeCount__=qn(f,S.__takeCount__):S.__views__.push({size:qn(f,X),type:i+(S.__dir__<0?"Right":"")}),S},Dt.prototype[i+"Right"]=function(f){return this.reverse()[i](f).reverse()}}),Mr(["filter","map","takeWhile"],function(i,l){var f=l+1,S=f==K||f==te;Dt.prototype[i]=function(A){var M=this.clone();return M.__iteratees__.push({iteratee:ot(A,3),type:f}),M.__filtered__=M.__filtered__||S,M}}),Mr(["head","last"],function(i,l){var f="take"+(l?"Right":"");Dt.prototype[i]=function(){return this[f](1).value()[0]}}),Mr(["initial","tail"],function(i,l){var f="drop"+(l?"":"Right");Dt.prototype[i]=function(){return this.__filtered__?new Dt(this):this[f](1)}}),Dt.prototype.compact=function(){return this.filter(hr)},Dt.prototype.find=function(i){return this.filter(i).head()},Dt.prototype.findLast=function(i){return this.reverse().find(i)},Dt.prototype.invokeMap=jt(function(i,l){return typeof i=="function"?new Dt(this):this.map(function(f){return Ui(f,i,l)})}),Dt.prototype.reject=function(i){return this.filter(Al(ot(i)))},Dt.prototype.slice=function(i,l){i=mt(i);var f=this;return f.__filtered__&&(i>0||l<0)?new Dt(f):(i<0?f=f.takeRight(-i):i&&(f=f.drop(i)),l!==r&&(l=mt(l),f=l<0?f.dropRight(-l):f.take(l-i)),f)},Dt.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},Dt.prototype.toArray=function(){return this.take(X)},us(Dt.prototype,function(i,l){var f=/^(?:filter|find|map|reject)|While$/.test(l),S=/^(?:head|last)$/.test(l),A=_[S?"take"+(l=="last"?"Right":""):l],M=S||/^find/.test(l);A&&(_.prototype[l]=function(){var W=this.__wrapped__,z=S?[1]:arguments,Z=W instanceof Dt,Ce=z[0],Pe=Z||ht(W),Te=function(Ct){var Et=A.apply(_,Vs([Ct],z));return S&&Le?Et[0]:Et};Pe&&f&&typeof Ce=="function"&&Ce.length!=1&&(Z=Pe=!1);var Le=this.__chain__,Ge=!!this.__actions__.length,it=M&&!Le,yt=Z&&!Ge;if(!M&&Pe){W=yt?W:new Dt(this);var at=i.apply(W,z);return at.__actions__.push({func:Dl,args:[Te],thisArg:r}),new Nr(at,Le)}return it&&yt?i.apply(this,z):(at=this.thru(Te),it?S?at.value()[0]:at.value():at)})}),Mr(["pop","push","shift","sort","splice","unshift"],function(i){var l=Qa[i],f=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",S=/^(?:pop|shift)$/.test(i);_.prototype[i]=function(){var A=arguments;if(S&&!this.__chain__){var M=this.value();return l.apply(ht(M)?M:[],A)}return this[f](function(W){return l.apply(ht(W)?W:[],A)})}}),us(Dt.prototype,function(i,l){var f=_[l];if(f){var S=f.name+"";Vt.call(Xo,S)||(Xo[S]=[]),Xo[S].push({name:l,func:f})}}),Xo[yl(r,D).name]=[{name:"wrapper",func:r}],Dt.prototype.clone=NS,Dt.prototype.reverse=LS,Dt.prototype.value=$S,_.prototype.at=fP,_.prototype.chain=pP,_.prototype.commit=xP,_.prototype.next=mP,_.prototype.plant=bP,_.prototype.reverse=yP,_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=vP,_.prototype.first=_.prototype.head,Ni&&(_.prototype[Ni]=gP),_},Go=xS();mo?((mo.exports=Go)._=Go,Ed._=Go):Bn._=Go}).call(Xi)})(xc,xc.exports);var L_=xc.exports;const si={ALL:0,NEWS:1,CHANNELS:2,USERS:3,POLLS:4,TAGS:5},Wu={RELEVANCE:0,DATE:1,POPULARITY:2},Iv={all:si.ALL,news:si.NEWS,channels:si.CHANNELS,users:si.USERS,polls:si.POLLS,tags:si.TAGS},Ev={relevance:Wu.RELEVANCE,date:Wu.DATE,popularity:Wu.POPULARITY},$_=()=>{const[e,n]=g.useState(null),[r,s]=g.useState(!1),{api:o}=Je(),{execute:a}=et(),[c,d]=g.useState(null),u=g.useCallback(async(b,y={},m=1,w=20)=>{if(!b.trim()){d("Search query cannot be empty");return}s(!0),d(null);try{const j={};Object.entries(y).forEach(([R,E])=>{if(E!=null&&E!=="")if(R==="type"&&typeof E=="string"){const T=Iv[E];T!==void 0&&(j.type=T)}else if(R==="sortBy"&&typeof E=="string"){const T=Ev[E];T!==void 0&&(j.sortBy=T)}else j[R]=E});const D={page:m,limit:w},C=await a(()=>o==null?void 0:o.searchApi.search(b,j,D),{showSuccessMessage:!1});n(C)}catch(j){console.error("Search error:",j),d(j.message||"Search failed")}finally{s(!1)}},[a]),h=g.useCallback(async(b,y)=>{if(!b.trim()||b.length<2)return[];try{return(await a(()=>o==null?void 0:o.searchApi.getSuggestions(b,y),{showSuccessMessage:!1})).suggestions||[]}catch(m){return console.error("Suggestions error:",m),[]}},[a]),p=g.useCallback(async(b,y)=>{if(!b.trim()||b.length<2)return[];if(!(o!=null&&o.searchApi))return console.error("Search API not available"),[];try{const m=await a(()=>o.searchApi.getStructuredSuggestions(b,y),{showSuccessMessage:!1});return(m==null?void 0:m.suggestions)||[]}catch(m){return console.error("Structured suggestions error:",m),[]}},[a,o==null?void 0:o.searchApi]),x=g.useCallback(()=>{n(null),d(null)},[]);return{searchResults:e,loading:r,error:c,performSearch:u,getSuggestions:h,getStructuredSuggestions:p,clearResults:x}},F_=_e(P)(({theme:e})=>({flexGrow:1,maxWidth:600,margin:"0 auto",position:"relative",[e.breakpoints.down("md")]:{maxWidth:400},[e.breakpoints.down("sm")]:{maxWidth:280}})),W_=_e(lt)(({theme:e})=>({borderRadius:e.spacing(3),backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.04)",border:"none",transition:"all 0.2s ease-in-out","&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.08)"},"&:focus-within":{backgroundColor:e.palette.background.paper,boxShadow:"0 4px 20px rgba(0,0,0,0.15)",border:`1px solid ${e.palette.primary.main}`}})),B_=_e(P)(({theme:e})=>({display:"flex",alignItems:"center",padding:e.spacing(1,2),cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover}})),gh=({onSearch:e,onSuggestionSelect:n,placeholder:r="Search articles, channels, or journalists...",className:s,fullWidth:o=!1})=>{const[a,c]=g.useState(""),[d,u]=g.useState([]),[h,p]=g.useState(!1),[x,b]=g.useState(!1),{getStructuredSuggestions:y}=$_(),m=It(),w=g.useCallback(L_.debounce(async T=>{if(T.length<2){u([]);return}p(!0);try{const I=await y(T);u(I)}catch(I){console.error("Error fetching suggestions:",I),u([])}finally{p(!1)}},300),[]);g.useEffect(()=>{w(a)},[a,w]);const j=()=>{a.trim()&&(b(!1),e?e(a):m(`${je.APP_SEARCH}?q=${encodeURIComponent(a.trim())}`))},D=T=>{if(b(!1),c(""),n){const I={id:T.id,text:T.text,type:T.type,metadata:T.metadata};n(I);return}switch(T.type){case"news":m(je.APP_NEWS_VIEW.replace(":id",T.id));break;case"channel":m(je.APP_CHANNEL_VIEW.replace(":channelId",T.id));break;case"poll":m(je.APP_POLL_VIEW.replace(":id",T.id));break;case"user":m(`${je.APP_SEARCH}?q=${encodeURIComponent(T.text)}&type=users`);break;case"tag":m(`${je.APP_SEARCH}?q=${encodeURIComponent(T.text)}&type=tags`);break;default:m(`${je.APP_SEARCH}?q=${encodeURIComponent(T.text)}`);break}},C=T=>{T.key==="Enter"&&j()},R=T=>{switch(T){case"news":return t.jsx(_o,{fontSize:"small",color:"primary"});case"channel":return t.jsx(Uh,{fontSize:"small",color:"secondary"});case"user":return t.jsx(Vh,{fontSize:"small",color:"action"});default:return t.jsx(qr,{fontSize:"small",color:"disabled"})}},E=(T,I)=>g.createElement(B_,{...T,key:I.id},t.jsx(P,{sx:{mr:2},children:R(I.type)}),t.jsxs(P,{sx:{flexGrow:1},children:[t.jsx(v,{variant:"body2",fontWeight:"medium",children:I.text}),I.metadata&&t.jsxs(v,{variant:"caption",color:"text.secondary",children:[I.metadata.channelName&&`in ${I.metadata.channelName}`,I.metadata.handle&&`@${I.metadata.handle}`,I.metadata.voteCount&&`${I.metadata.voteCount} votes`,I.metadata.usageCount&&`${I.metadata.usageCount} uses`,I.metadata.publishedAt&&`${new Date(I.metadata.publishedAt).toLocaleDateString()}`]})]}),t.jsx(v,{variant:"caption",color:"text.secondary",sx:{ml:1},children:I.type}));return t.jsx(F_,{className:s,sx:{width:o?"100%":void 0},children:t.jsx(W_,{elevation:0,children:t.jsx(TI,{freeSolo:!0,options:d,loading:h,inputValue:a,onInputChange:(T,I)=>{c(I),b(I.length>=2)},getOptionLabel:T=>typeof T=="string"?T:T.text,filterOptions:T=>T,isOptionEqualToValue:(T,I)=>{if(typeof T=="string"||typeof I=="string"){const N=typeof T=="string"?T:T.text,O=typeof I=="string"?I:I.text;return N===O}return T.id===I.id},renderOption:(T,I)=>E(T,I),noOptionsText:h?"Loading...":"No suggestions found",open:x,onOpen:()=>b(!0),onClose:()=>b(!1),ListboxProps:{style:{maxHeight:400}},renderInput:T=>t.jsx(st,{...T,variant:"outlined",placeholder:r,onKeyPress:C,size:"medium",InputProps:{...T.InputProps,startAdornment:t.jsx(ys,{position:"start",children:t.jsx($e,{onClick:j,size:"small",sx:{color:"inherit"},children:t.jsx(_a,{})})}),endAdornment:t.jsxs(t.Fragment,{children:[h&&t.jsx(v,{variant:"caption",sx:{mr:1},children:"Loading..."}),a&&t.jsx(ys,{position:"end",children:t.jsx($e,{onClick:()=>c(""),size:"small",sx:{color:"inherit"},children:t.jsx(II,{})})})]}),sx:{"& .MuiOutlinedInput-notchedOutline":{border:"none"},"&:hover .MuiOutlinedInput-notchedOutline":{border:"none"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiInputBase-input":{padding:"12px 8px",fontSize:"1rem"},"& .MuiInputBase-input::placeholder":{color:"inherit",opacity:.7}}}}),PaperComponent:({children:T,...I})=>t.jsx(lt,{...I,sx:{mt:.5,boxShadow:3,maxHeight:400,overflow:"auto",position:"absolute",width:"100%",zIndex:1300,borderRadius:3},children:T}),onChange:(T,I)=>{I&&typeof I=="object"&&D(I)}})})})},V_="journalist-material-client",U_="1.1.0",z_="module",H_="https://cantsdmr.github.io/journalist-material-client",Y_={dev:"vite","dev:staging":"vite --mode staging",build:"tsc && vite build","build:dev":"tsc && vite build --mode dev","build:staging":"tsc && vite build --mode staging","build:prod":"tsc && vite build --mode production",lint:"eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0",preview:"vite preview","preview:staging":"vite preview --mode staging",predeploy:"npm run build:staging",deploy:"gh-pages -d dist"},G_={"@editorjs/checklist":"^1.6.0","@editorjs/code":"^2.9.3","@editorjs/delimiter":"^1.4.2","@editorjs/editorjs":"^2.30.7","@editorjs/header":"^2.8.8","@editorjs/image":"^2.10.1","@editorjs/inline-code":"^1.5.1","@editorjs/link":"^2.6.2","@editorjs/list":"^2.0.2","@editorjs/marker":"^1.4.0","@editorjs/quote":"^2.7.6","@editorjs/table":"^2.4.3","@editorjs/warning":"^1.4.1","@emotion/react":"^11.11.4","@emotion/styled":"^11.11.5","@hello-pangea/dnd":"^17.0.0","@mui/icons-material":"^5.15.17","@mui/material":"^5.15.17","@mui/x-date-pickers":"^8.3.1",axios:"^1.7.2","class-transformer":"^0.5.1","class-validator":"^0.14.2","date-fns":"^4.1.0",firebase:"^10.12.2",react:"^18.2.0","react-dom":"^18.2.0","react-infinite-scroll-component":"^6.1.0","react-router-dom":"^6.23.1",recharts:"^2.12.7"},q_={"@types/react":"^18.2.66","@types/react-dom":"^18.2.22","@typescript-eslint/eslint-plugin":"^7.2.0","@typescript-eslint/parser":"^7.2.0","@vitejs/plugin-react":"^4.2.1",eslint:"^8.57.0","eslint-plugin-react-hooks":"^4.6.0","eslint-plugin-react-refresh":"^0.4.6","gh-pages":"^6.3.0",typescript:"^5.2.2",vite:"^5.2.0"},K_={name:V_,private:!0,version:U_,type:z_,homepage:H_,scripts:Y_,dependencies:G_,devDependencies:q_},X_=K_.version,J_=()=>{const e=Mc("(max-width:600px)"),[n,r]=g.useState(!e),s=Mn(),{isLoading:o}=zc(),[a,c]=g.useState(!1),d=It();g.useEffect(()=>{e&&r(!1)},[e]);const u=()=>{r(!n)},h=x=>{d(`${je.APP_SEARCH}?q=${encodeURIComponent(x)}`),c(!1)},p=()=>{c(!a)};return o?null:t.jsxs(P,{sx:{display:"flex",minHeight:"100vh",bgcolor:"background.default",overflow:"hidden"},children:[t.jsx(kc,{position:"fixed",elevation:0,sx:{zIndex:s.zIndex.drawer+1,bgcolor:"background.default",color:"text.primary",boxShadow:"none",borderBottom:"none"},children:t.jsx(Ms,{sx:{px:"8px"},children:a&&e?t.jsxs(P,{sx:{display:"flex",alignItems:"center",width:"100%",gap:1},children:[t.jsx($e,{color:"inherit",onClick:p,sx:{flexShrink:0},children:t.jsx(lf,{})}),t.jsx(P,{sx:{flexGrow:1,mt:.5},children:t.jsx(gh,{onSearch:h,placeholder:"Search",className:"app-search-bar"})})]}):t.jsxs(t.Fragment,{children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",minWidth:200},children:[t.jsx($e,{color:"inherit","aria-label":"toggle sidebar",onClick:u,sx:{minWidth:40,ml:.5,mr:1.5,"& .MuiSvgIcon-root":{fontSize:24,filter:"drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))"}},children:t.jsx(Tv,{})}),t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsxs(v,{variant:"h6",sx:{fontWeight:700,display:"block",letterSpacing:".1rem",fontFamily:"'Inter', -apple-system, sans-serif"},children:[t.jsxs(P,{sx:{display:{xs:"none",sm:"block"}},children:[t.jsx("span",{style:{color:"#2196F3",textTransform:"uppercase",fontWeight:800},children:"Meta"}),t.jsx("span",{style:{color:"#1976D2",fontWeight:600},children:"Journo"})]}),t.jsxs(P,{sx:{display:{xs:"block",sm:"none"}},children:[t.jsx("span",{style:{color:"#2196F3",textTransform:"uppercase",fontWeight:800},children:"M"}),t.jsx("span",{style:{color:"#1976D2",fontWeight:600},children:"Journo"})]})]}),t.jsxs(v,{variant:"caption",sx:{opacity:.7,fontWeight:500,fontSize:"0.75rem",display:{xs:"none",sm:"block"}},children:["v",X_]})]})]}),t.jsx(P,{sx:{flexGrow:1,display:{xs:"none",md:"flex"},justifyContent:"center"},children:t.jsx(gh,{onSearch:h,placeholder:"Search articles, channels, journalists...",className:"app-search-bar"})}),t.jsx(P,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}}}),t.jsx($e,{onClick:p,color:"inherit",sx:{display:{xs:"flex",md:"none"}},children:t.jsx(Hc,{})}),t.jsx($e,{onClick:()=>d(je.APP_ACCOUNT),color:"inherit",sx:{ml:1},children:t.jsx(La,{})})]})})}),e?t.jsxs(gi,{variant:"temporary",open:n,onClose:u,ModalProps:{keepMounted:!0},PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{width:240,border:"none"}},children:[t.jsx(Ms,{}),t.jsx(P,{sx:{height:"calc(100% - 64px)",overflow:"auto"},children:t.jsx(sb,{isOpen:!0,toggleSidebar:u})})]}):t.jsxs(gi,{variant:"permanent",PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{width:n?240:72,flexShrink:0,"& .MuiDrawer-paper":{width:n?240:72,transition:"width 0.2s",overflowX:"hidden",border:"none",borderRight:"none"}},children:[t.jsx(Ms,{}),t.jsx(P,{sx:{height:"calc(100% - 64px)",overflow:"auto",overflowX:"hidden",width:"100%"},children:t.jsx(sb,{isOpen:n,toggleSidebar:u})})]}),t.jsx(P,{component:"main",sx:{flexGrow:1,pt:8,minHeight:"100vh",display:"flex",flexDirection:"column",bgcolor:"background.default",overflow:"hidden",maxWidth:"100%"},children:t.jsx(P,{sx:{flexGrow:1,py:3,px:{xs:2,sm:3},overflowY:"auto",overflowX:"hidden",maxWidth:"100%"},children:t.jsx(Qh,{})})})]})};var mf={},Q_=tt;Object.defineProperty(mf,"__esModule",{value:!0});var gf=mf.default=void 0,Z_=Q_(nt()),eO=t;gf=mf.default=(0,Z_.default)((0,eO.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");var bf={},tO=tt;Object.defineProperty(bf,"__esModule",{value:!0});var yf=bf.default=void 0,nO=tO(nt()),rO=t;yf=bf.default=(0,nO.default)((0,rO.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6"}),"Brightness4");var vf={},sO=tt;Object.defineProperty(vf,"__esModule",{value:!0});var jf=vf.default=void 0,oO=sO(nt()),iO=t;jf=vf.default=(0,oO.default)((0,iO.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6m0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4"}),"Brightness7");const aO=$y({palette:{mode:"light",primary:{main:"#2196f3"},background:{default:"#ffffff",paper:"#f8f9fa"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)"}},typography:{fontFamily:"'Poppins', 'Inter', sans-serif",h6:{fontWeight:700,letterSpacing:.5}}}),lO=$y({palette:{mode:"dark",background:{default:"#121212",paper:"#1e1e1e"},text:{primary:"rgba(255, 255, 255, 0.87)",secondary:"rgba(255, 255, 255, 0.6)"}},typography:{fontFamily:"'Poppins', 'Inter', sans-serif",h6:{fontWeight:700,letterSpacing:.5}}}),Av=g.createContext({}),cO=({children:e})=>{const[n,r]=g.useState(window.matchMedia("(prefers-color-scheme: dark)").matches),s=()=>{r(!n)},o=g.useMemo(()=>n?lO:aO,[n]);return t.jsx(Av.Provider,{value:{isDarkMode:n,toggleTheme:s},children:t.jsxs(EI,{theme:o,children:[t.jsx(AI,{}),e]})})},wf=()=>g.useContext(Av);var Sf={},dO=tt;Object.defineProperty(Sf,"__esModule",{value:!0});var Rv=Sf.default=void 0,uO=dO(nt()),hO=t;Rv=Sf.default=(0,uO.default)((0,hO.jsx)("path",{d:"m22 3-1.67 1.67L18.67 3 17 4.67 15.33 3l-1.66 1.67L12 3l-1.67 1.67L8.67 3 7 4.67 5.33 3 3.67 4.67 2 3v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2zM11 19H4v-6h7zm9 0h-7v-2h7zm0-4h-7v-2h7zm0-4H4V8h16z"}),"Newspaper");var Cf={},fO=tt;Object.defineProperty(Cf,"__esModule",{value:!0});var Pf=Cf.default=void 0,pO=fO(nt()),ob=t;Pf=Cf.default=(0,pO.default)([(0,ob.jsx)("path",{d:"M17 19.22H5V7h7V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-7h-2z"},"0"),(0,ob.jsx)("path",{d:"M19 2h-2v3h-3c.01.01 0 2 0 2h3v2.99c.01.01 2 0 2 0V7h3V5h-3zM7 9h8v2H7zm0 3v2h8v-2h-3zm0 3h8v2H7z"},"1")],"PostAdd");var Df={},xO=tt;Object.defineProperty(Df,"__esModule",{value:!0});var _v=Df.default=void 0,mO=xO(nt()),ib=t;_v=Df.default=(0,mO.default)([(0,ib.jsx)("circle",{cx:"6.18",cy:"17.82",r:"2.18"},"0"),(0,ib.jsx)("path",{d:"M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56m0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9"},"1")],"RssFeed");var Tf={},gO=tt;Object.defineProperty(Tf,"__esModule",{value:!0});var $a=Tf.default=void 0,bO=gO(nt()),yO=t;$a=Tf.default=(0,bO.default)((0,yO.jsx)("path",{d:"M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2m0 14H3V5h18zm-5-7v2h-3v3h-2v-3H8v-2h3V7h2v3z"}),"AddToQueue");var If={},vO=tt;Object.defineProperty(If,"__esModule",{value:!0});var Ef=If.default=void 0,jO=vO(nt()),wO=t;Ef=If.default=(0,jO.default)((0,wO.jsx)("path",{d:"M22 5v2h-3v3h-2V7h-3V5h3V2h2v3zm-3 14H5V5h6V3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6h-2zm-4-6v4h2v-4zm-4 4h2V9h-2zm-2 0v-6H7v6z"}),"Addchart");var Af={},SO=tt;Object.defineProperty(Af,"__esModule",{value:!0});var Ov=Af.default=void 0,CO=SO(nt()),PO=t;Ov=Af.default=(0,CO.default)((0,PO.jsx)("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}),"Receipt");var Rf={},DO=tt;Object.defineProperty(Rf,"__esModule",{value:!0});var Gc=Rf.default=void 0,TO=DO(nt()),IO=t;Gc=Rf.default=(0,TO.default)((0,IO.jsx)("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney");const EO=({mobileOpen:e,onDrawerToggle:n})=>{const r=lo(),s=window.innerWidth<=600,o=[{path:je.STUDIO_SEARCH,icon:t.jsx(Hc,{}),label:"Search"}],a={news:[{path:je.STUDIO_NEWS,icon:t.jsx(Rv,{}),label:"My News"},{path:je.STUDIO_NEWS_CREATE,icon:t.jsx(Pf,{}),label:"Create News"}],channels:[{path:je.STUDIO_CHANNELS,icon:t.jsx(_v,{}),label:"My Channels"},{path:je.STUDIO_CHANNEL_CREATE,icon:t.jsx($a,{}),label:"Create Channel"}],polls:[{path:je.STUDIO_POLLS,icon:t.jsx(Yc,{}),label:"My Polls"},{path:je.STUDIO_POLL_CREATE,icon:t.jsx(Ef,{}),label:"Create Poll"}],payouts:[{path:je.STUDIO_EXPENSE_ORDERS,icon:t.jsx(Ov,{}),label:"My Payouts"},{path:je.STUDIO_EXPENSE_ORDER_CREATE,icon:t.jsx(Gc,{}),label:"Request Payout"}]},c=t.jsxs(P,{children:[t.jsx(Ms,{}),t.jsxs(Er,{sx:{px:2},children:[t.jsx(v,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"General"}),o.map(d=>t.jsxs(ar,{button:!0,component:On,to:d.path,selected:r.pathname===d.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(sn,{sx:{minWidth:40,color:r.pathname===d.path?"primary.main":"inherit"},children:d.icon}),t.jsx(Zt,{primary:d.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===d.path?600:400}})]},d.path)),t.jsx(Yt,{sx:{my:2}}),t.jsx(v,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"News Management"}),a.news.map(d=>t.jsxs(ar,{button:!0,component:On,to:d.path,selected:r.pathname===d.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(sn,{sx:{minWidth:40,color:r.pathname===d.path?"primary.main":"inherit"},children:d.icon}),t.jsx(Zt,{primary:d.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===d.path?600:400}})]},d.path)),t.jsx(Yt,{sx:{my:2}}),t.jsx(v,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"Channel Management"}),a.channels.map(d=>t.jsxs(ar,{button:!0,component:On,to:d.path,selected:r.pathname===d.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(sn,{sx:{minWidth:40,color:r.pathname===d.path?"primary.main":"inherit"},children:d.icon}),t.jsx(Zt,{primary:d.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===d.path?600:400}})]},d.path))]}),t.jsx(Yt,{sx:{my:2}}),t.jsxs(Er,{sx:{px:2},children:[t.jsx(v,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"Poll Management"}),a.polls.map(d=>t.jsxs(ar,{button:!0,component:On,to:d.path,selected:r.pathname===d.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(sn,{sx:{minWidth:40,color:r.pathname===d.path?"primary.main":"inherit"},children:d.icon}),t.jsx(Zt,{primary:d.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===d.path?600:400}})]},d.path))]}),t.jsx(Yt,{sx:{my:2}}),t.jsxs(Er,{sx:{px:2},children:[t.jsx(v,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"Payout Management"}),a.payouts.map(d=>t.jsxs(ar,{button:!0,component:On,to:d.path,selected:r.pathname===d.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(sn,{sx:{minWidth:40,color:r.pathname===d.path?"primary.main":"inherit"},children:d.icon}),t.jsx(Zt,{primary:d.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===d.path?600:400}})]},d.path))]})]});return t.jsx(t.Fragment,{children:s?t.jsx(gi,{variant:"temporary",open:e,onClose:n,ModalProps:{keepMounted:!0},PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{width:240,border:"none"}},children:c}):t.jsx(gi,{variant:"permanent",PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,transition:"width 0.2s",overflowX:"hidden",border:"none",borderRight:"none"}},children:c})})},AO=()=>{const[e,n]=g.useState(!1),[r,s]=g.useState(null),o=It(),a=Mn(),{isDarkMode:c,toggleTheme:d}=wf(),{isLoading:u}=zc(),h=()=>{n(!e)},p=w=>{s(w.currentTarget)},x=()=>{s(null)},b=w=>{o(w),x()},y=w=>{o(`${je.STUDIO_SEARCH}?q=${encodeURIComponent(w)}`)},m=w=>{o(`${je.STUDIO_SEARCH}?q=${encodeURIComponent(w.text)}`)};return u?null:t.jsxs(P,{sx:{display:"flex",minHeight:"100vh",bgcolor:"background.default"},children:[t.jsx(kc,{position:"fixed",elevation:0,sx:{zIndex:a.zIndex.drawer+1,bgcolor:"background.default",color:"text.primary",boxShadow:"none",borderBottom:"none"},children:t.jsxs(Ms,{sx:{px:"8px"},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",minWidth:200},children:[t.jsx($e,{color:"inherit","aria-label":"toggle sidebar",onClick:h,sx:{minWidth:40,ml:.5,mr:1.5,"& .MuiSvgIcon-root":{fontSize:24,filter:"drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))"}},children:t.jsx(gf,{})}),t.jsxs(v,{variant:"h6",sx:{fontWeight:700,display:"block",letterSpacing:".1rem",fontFamily:"'Inter', -apple-system, sans-serif"},children:[t.jsx(P,{sx:{display:{xs:"none",sm:"block"}},children:"Creator Studio"}),t.jsx(P,{sx:{display:{xs:"block",sm:"none"}},children:"Studio"})]})]}),t.jsx(P,{sx:{flexGrow:1,display:"flex",justifyContent:"center"},children:t.jsx(gh,{onSearch:y,onSuggestionSelect:m,placeholder:"Search your content and analytics...",className:"studio-search-bar"})}),t.jsx($e,{onClick:d,color:"inherit",children:c?t.jsx(jf,{}):t.jsx(yf,{})}),t.jsx($e,{onClick:()=>o(je.APP_ROOT),color:"inherit",sx:{ml:2},children:t.jsx(yi,{})}),t.jsx($e,{onClick:p,color:"inherit",sx:{ml:2},children:t.jsx(La,{})}),t.jsx($o,{anchorEl:r,open:!!r,onClose:x,PaperProps:{sx:{width:220}},children:[{path:je.APP_ROOT,icon:t.jsx(yi,{fontSize:"small"}),label:"Exit Studio"}].map(w=>t.jsxs(Se,{onClick:()=>b(w.path),children:[t.jsx(sn,{children:w.icon}),t.jsx(Zt,{children:w.label})]},w.path))})]})}),t.jsx(EO,{mobileOpen:e,onDrawerToggle:h}),t.jsx(P,{component:"main",sx:{flexGrow:1,pt:8,width:0,minHeight:"100vh",display:"flex",flexDirection:"column",bgcolor:"background.default"},children:t.jsx(P,{sx:{flexGrow:1,py:3,px:{xs:2,sm:3},maxWidth:1200,mx:"auto",width:"100%"},children:t.jsx(Qh,{})})})]})};var _f={},RO=tt;Object.defineProperty(_f,"__esModule",{value:!0});var bh=_f.default=void 0,_O=RO(nt()),OO=t;bh=_f.default=(0,_O.default)((0,OO.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security");const Bu=280,MO=({mobileOpen:e,onDrawerToggle:n})=>{const r=It(),s=lo(),o=[{text:"Dashboard",icon:t.jsx(Fy,{}),path:je.ADMIN_ROOT,exact:!0},{text:"News Management",icon:t.jsx(_o,{}),path:je.ADMIN_NEWS},{text:"Poll Management",icon:t.jsx(zh,{}),path:je.ADMIN_POLLS},{text:"Channel Management",icon:t.jsx(Uh,{}),path:je.ADMIN_CHANNELS},{text:"User Management",icon:t.jsx(so,{}),path:je.ADMIN_USERS},{text:"Expense Orders",icon:t.jsx(Ns,{}),path:je.ADMIN_EXPENSE_ORDERS},{text:"Payout Management",icon:t.jsx(Oa,{}),path:je.ADMIN_PAYOUTS},{text:"Tag Management",icon:t.jsx(Hh,{}),path:je.ADMIN_TAGS},{text:"Subscriptions",icon:t.jsx(bi,{}),path:je.ADMIN_SUBSCRIPTIONS},{text:"Analytics",icon:t.jsx(ss,{}),path:je.ADMIN_ANALYTICS},{text:"Settings",icon:t.jsx(Kl,{}),path:je.ADMIN_SETTINGS}],a=u=>u.exact?s.pathname===u.path||s.pathname==="/admin"&&u.path===je.ADMIN_ROOT:s.pathname.startsWith(u.path),c=u=>{r(u),e&&n()},d=t.jsxs(P,{children:[t.jsx(Ms,{sx:{px:3,py:2,bgcolor:"error.main",color:"error.contrastText"},children:t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[t.jsx(v,{variant:"h6",noWrap:!0,component:"div",sx:{fontWeight:700,flexGrow:1,fontFamily:"'Inter', -apple-system, sans-serif"},children:"Admin Panel"}),t.jsx(Ze,{label:"Admin",size:"small",sx:{bgcolor:"error.contrastText",color:"error.main",fontWeight:600}})]})}),t.jsx(Yt,{}),t.jsx(Er,{sx:{pt:2,px:2},children:o.map(u=>{const h=a(u);return t.jsx(ar,{disablePadding:!0,sx:{mb:.5},children:t.jsxs(ah,{onClick:()=>c(u.path),sx:{borderRadius:2,px:2,py:1.5,minHeight:48,bgcolor:h?"error.main":"transparent",color:h?"error.contrastText":"text.primary","&:hover":{bgcolor:h?"error.dark":"action.hover"},"& .MuiListItemIcon-root":{color:h?"error.contrastText":"text.secondary",minWidth:36},transition:"all 0.2s ease-in-out"},children:[t.jsx(sn,{children:u.icon}),t.jsx(Zt,{primary:u.text,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:h?600:500,fontFamily:"'Inter', -apple-system, sans-serif"}})]})},u.text)})}),t.jsx(Yt,{sx:{my:2}}),t.jsx(Er,{sx:{px:2},children:t.jsx(ar,{disablePadding:!0,children:t.jsxs(ah,{onClick:()=>c(je.APP_ROOT),sx:{borderRadius:2,px:2,py:1.5,minHeight:48,color:"text.secondary","&:hover":{bgcolor:"action.hover"}},children:[t.jsx(sn,{sx:{color:"text.secondary",minWidth:36},children:t.jsx(RI,{})}),t.jsx(Zt,{primary:"Back to App",primaryTypographyProps:{fontSize:"0.875rem",fontWeight:500,fontFamily:"'Inter', -apple-system, sans-serif"}})]})})})]});return t.jsxs(P,{component:"nav",sx:{width:{sm:Bu},flexShrink:{sm:0}},children:[t.jsx(gi,{variant:"temporary",open:e,onClose:n,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:Bu,bgcolor:"background.paper",borderRight:"1px solid",borderRightColor:"divider"}},children:d}),t.jsx(gi,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:Bu,bgcolor:"background.paper",borderRight:"1px solid",borderRightColor:"divider"}},open:!0,children:d})]})},kO=()=>{const[e,n]=g.useState(!1),[r,s]=g.useState(null),o=It(),a=Mn(),{isDarkMode:c,toggleTheme:d}=wf(),{isLoading:u}=zc(),h=()=>{n(!e)},p=y=>{s(y.currentTarget)},x=()=>{s(null)},b=y=>{o(y),x()};return u?null:t.jsxs(P,{sx:{display:"flex",minHeight:"100vh",bgcolor:"background.default"},children:[t.jsx(kc,{position:"fixed",elevation:0,sx:{zIndex:a.zIndex.drawer+1,bgcolor:"background.default",color:"text.primary",boxShadow:"none",borderBottom:"1px solid",borderBottomColor:"divider"},children:t.jsxs(Ms,{sx:{px:"8px"},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",minWidth:200},children:[t.jsx($e,{color:"inherit","aria-label":"toggle sidebar",onClick:h,sx:{minWidth:40,ml:.5,mr:1.5,"& .MuiSvgIcon-root":{fontSize:24,filter:"drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))"}},children:t.jsx(gf,{})}),t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(bh,{sx:{color:"error.main"}}),t.jsxs(v,{variant:"h6",sx:{fontWeight:700,display:"block",letterSpacing:".1rem",fontFamily:"'Inter', -apple-system, sans-serif",color:"error.main"},children:[t.jsx(P,{sx:{display:{xs:"none",sm:"block"}},children:"Admin Panel"}),t.jsx(P,{sx:{display:{xs:"block",sm:"none"}},children:"Admin"})]})]})]}),t.jsx(P,{sx:{flexGrow:1}}),t.jsx($e,{onClick:d,color:"inherit",children:c?t.jsx(jf,{}):t.jsx(yf,{})}),t.jsx($e,{onClick:()=>o(je.APP_ROOT),color:"inherit",sx:{ml:2},children:t.jsx(yi,{})}),t.jsx($e,{onClick:p,color:"inherit",sx:{ml:2},children:t.jsx(La,{})}),t.jsx($o,{anchorEl:r,open:!!r,onClose:x,PaperProps:{sx:{width:220}},children:[{path:je.APP_ROOT,icon:t.jsx(yi,{fontSize:"small"}),label:"Exit Admin"},{path:je.STUDIO_ROOT,icon:t.jsx(bh,{fontSize:"small"}),label:"Creator Studio"}].map(y=>t.jsxs(Se,{onClick:()=>b(y.path),children:[t.jsx(sn,{children:y.icon}),t.jsx(Zt,{children:y.label})]},y.path))})]})}),t.jsx(MO,{mobileOpen:e,onDrawerToggle:h}),t.jsx(P,{component:"main",sx:{flexGrow:1,pt:8,width:0,minHeight:"100vh",display:"flex",flexDirection:"column",bgcolor:"background.default"},children:t.jsx(P,{sx:{flexGrow:1,py:3,px:{xs:2,sm:3},maxWidth:1400,mx:"auto",width:"100%"},children:t.jsx(Qh,{})})})]})},Vu=({children:e})=>{const n=Fo();return n?n.user!=null?t.jsx(t.Fragment,{children:e}):t.jsx(BE,{to:je.LOGIN}):null};var Of={},NO=tt;Object.defineProperty(Of,"__esModule",{value:!0});var Mf=Of.default=void 0;FO(g);var LO=NO(nt()),$O=t;function Mv(e){if(typeof WeakMap!="function")return null;var n=new WeakMap,r=new WeakMap;return(Mv=function(s){return s?r:n})(e)}function FO(e,n){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=Mv(n);if(r&&r.has(e))return r.get(e);var s={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var c=o?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(s,a,c):s[a]=e[a]}return s.default=e,r&&r.set(e,s),s}Mf=Of.default=(0,LO.default)((0,$O.jsx)("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"}),"Google");const WO=_e(ge)(({theme:e,bgcolor:n})=>({color:"#fff",backgroundColor:n,boxShadow:`0 2px 4px 0 ${n}80`,"&:hover":{backgroundColor:e.palette.augmentColor({color:{main:n}}).dark},"& .MuiButton-startIcon":{marginRight:e.spacing(1)}})),BO=()=>{const[e,n]=g.useState(""),[r,s]=g.useState(""),[o,a]=g.useState(""),c=Fo(),{api:d}=Je(),u=It(),{execute:h}=et(),p=async b=>{b.preventDefault(),a("");try{const y=await(c==null?void 0:c.signIn(e,r));y&&await h(()=>d==null?void 0:d.authApi.signIn({idToken:y}),{showSuccessMessage:!0,successMessage:"Successfully logged in!"})}catch{a("Failed to login with email and password")}},x=async b=>{a("");try{const y=await(c==null?void 0:c.signInWithProvider(b));y&&await h(()=>d==null?void 0:d.authApi.signIn({idToken:y}),{showSuccessMessage:!0,successMessage:"Successfully logged in!"})}catch{a("Failed to login with Google")}};return g.useEffect(()=>{c!=null&&c.user&&u(je.APP_NEWS_TRENDING)},[(c==null?void 0:c.user)!=null]),t.jsxs(Pt,{maxWidth:"xs",sx:{mt:8},children:[t.jsx(P,{sx:{textAlign:"center",mb:4},children:t.jsx(v,{variant:"h4",gutterBottom:!0,children:"Welcome back!"})}),o&&t.jsx(v,{variant:"body2",color:"error",gutterBottom:!0,children:o}),t.jsxs(P,{component:"form",onSubmit:p,sx:{mb:2},children:[t.jsx(st,{label:"Email",variant:"outlined",fullWidth:!0,margin:"normal",value:e,onChange:b=>n(b.target.value)}),t.jsx(st,{label:"Password",variant:"outlined",fullWidth:!0,type:"password",margin:"normal",value:r,onChange:b=>s(b.target.value)}),t.jsx(P,{sx:{textAlign:"right",mb:2},children:t.jsx(Nc,{href:"#",variant:"caption",children:"Did you forget your password?"})}),t.jsx(ge,{type:"submit",variant:"outlined",color:"secondary",fullWidth:!0,sx:{mb:2},children:"Log In"})]}),t.jsx(Yt,{sx:{my:2},children:"OR"}),t.jsx(P,{sx:{textAlign:"center",mb:2},children:t.jsx(v,{variant:"body2",gutterBottom:!0,children:"You can sign in or sign up our application with following providers"})}),t.jsx(P,{sx:{display:"flex",flexDirection:"column",gap:2},children:t.jsx(WO,{variant:"contained",startIcon:t.jsx(Mf,{}),bgcolor:"#DB4437",onClick:x.bind(void 0,Sv),children:"Sign in with Google"})})]})},Ir={ACTIVE:1,INACTIVE:2,PENDING:3,BLOCKED:4,SUSPENDED:5,BANNED:6,DELETED:7,NOT_VERIFIED:8},An={SUPER_ADMIN:1,ADMIN:2,MODERATOR:3,REGULAR_USER:4,GUEST:5,JOURNALIST:6,EDITOR:7,EVALUATOR:8,FINANCE_MANAGER:9},VO=_e(ge)(({theme:e,bgcolor:n})=>({color:"#fff",backgroundColor:n,boxShadow:`0 2px 4px 0 ${n}80`,"&:hover":{backgroundColor:e.palette.augmentColor({color:{main:n}}).dark},"& .MuiButton-startIcon":{marginRight:e.spacing(1)}})),UO=()=>{const[e,n]=g.useState(""),[r,s]=g.useState(""),[o,a]=g.useState(""),[c,d]=g.useState(!1),u=Fo(),{api:h}=Je(),{execute:p}=et(),x=It(),b=async m=>{m.preventDefault(),a("");try{const w=await(u==null?void 0:u.signUp(e,r));w&&await p(()=>h==null?void 0:h.authApi.signUp({externalId:w.uid,email:w.email,displayName:w.displayName??"",photoUrl:w.photoURL??"",roleId:An.REGULAR_USER}),{showSuccessMessage:!0,successMessage:"Account created successfully!"})&&d(!0)}catch{a("Failed to sign up with email and password")}},y=async m=>{a("");try{const w=await(u==null?void 0:u.signInWithProvider(m));if(w){if(await p(()=>h==null?void 0:h.authApi.signIn({idToken:w}),{showErrorToast:!1}))return;d(!0)}}catch{a("Failed to login with social provider")}};return g.useEffect(()=>{u!=null&&u.user&&x(c?je.POST_SIGNUP:je.APP_NEWS_TRENDING)},[c,x]),t.jsxs(Pt,{maxWidth:"xs",sx:{mt:8},children:[t.jsx(P,{sx:{textAlign:"center",mb:4},children:t.jsx(v,{variant:"h4",gutterBottom:!0,children:"Join the community!"})}),o&&t.jsx(v,{variant:"body2",color:"error",gutterBottom:!0,children:o}),t.jsxs(P,{component:"form",onSubmit:b,sx:{mb:2},children:[t.jsx(st,{label:"Email",variant:"outlined",fullWidth:!0,margin:"normal",value:e,onChange:m=>n(m.target.value)}),t.jsx(st,{label:"Password",variant:"outlined",fullWidth:!0,type:"password",margin:"normal",value:r,onChange:m=>s(m.target.value)}),t.jsx("br",{}),t.jsx("br",{}),t.jsx(ge,{type:"submit",variant:"outlined",color:"secondary",fullWidth:!0,sx:{mb:2},children:"Sign Up"})]}),t.jsx(Yt,{sx:{my:2},children:"OR"}),t.jsx(P,{sx:{textAlign:"center",mb:2},children:t.jsx(v,{variant:"body2",gutterBottom:!0,children:"You can sign up our application with following providers"})}),t.jsx(P,{sx:{display:"flex",flexDirection:"column",gap:2},children:t.jsx(VO,{variant:"contained",startIcon:t.jsx(Mf,{}),bgcolor:"#DB4437",onClick:y.bind(void 0,Sv),children:"Sign up with Google"})})]})},zO=()=>{const[e,n]=g.useState(0),[r,s]=g.useState(!1),[o,a]=g.useState({primaryRole:"",interests:[],experience:"",goals:[]}),c=It(),{api:d}=Je(),{execute:u}=et(),h=["Welcome","Tell us about yourself","Your interests","Get started"],p=[{role:"journalist",title:"I want to write and publish",description:"Create articles, investigate stories, and build your readership",features:["Article editor","Story planning tools","Reader analytics","Revenue sharing"],userRole:An.JOURNALIST},{role:"editor",title:"I want to manage content",description:"Review, edit, and oversee publication workflows",features:["Editorial dashboard","Content review tools","Team management","Quality control"],userRole:An.EDITOR},{role:"reader",title:"I want to read and discover",description:"Follow journalists, discover stories, and engage with content",features:["Personalized feed","Bookmarking","Comment system","Newsletter subscriptions"],userRole:An.REGULAR_USER}],x=["Politics","Technology","Science","Sports","Business","Culture","Health","Environment","Entertainment","Education","Travel","Food"],b=(T,I)=>{a(N=>({...N,primaryRole:T})),m(I),n(1)},y=()=>{e>0&&n(e-1)},m=async T=>{s(!0),console.log("PostSignUpFlow: Updating user role to:",T),await u(()=>d==null?void 0:d.accountApi.updateProfile({roleId:T}),{showSuccessMessage:!1,showErrorToast:!1}),console.log("PostSignUpFlow: User role update completed"),s(!1)},w=T=>{a(I=>({...I,interests:I.interests.includes(T)?I.interests.filter(N=>N!==T):[...I.interests,T]}))},j=async()=>{s(!0);try{localStorage.setItem("userInterests",JSON.stringify(o.interests)),c(je.APP_NEWS_TRENDING)}catch(T){console.error("Error saving profile:",T),c(je.APP_NEWS_TRENDING)}finally{s(!1)}},D=()=>{c(je.APP_NEWS_TRENDING)},C=()=>t.jsxs(P,{sx:{textAlign:"center",py:4},children:[t.jsx(v,{variant:"h4",gutterBottom:!0,children:"Welcome to the Journalist Platform! "}),t.jsx(v,{variant:"body1",sx:{mb:4,maxWidth:600,mx:"auto"},children:"Let's personalize your experience. What brings you here today?"}),t.jsx(v,{variant:"body2",sx:{mb:4,textAlign:"center",color:"text.secondary"},children:"Don't worry, you can always change this later in your settings."}),t.jsx(F,{container:!0,spacing:3,sx:{mt:2},children:p.map(T=>t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx(ke,{sx:{cursor:"pointer","&:hover":{boxShadow:6},height:"100%",transition:"box-shadow 0.3s"},onClick:()=>b(T.role,T.userRole),children:t.jsxs(Fe,{sx:{p:3,textAlign:"center"},children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:T.title}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:T.description}),t.jsx(P,{sx:{textAlign:"left"},children:T.features.map((I,N)=>t.jsxs(v,{variant:"caption",display:"block",sx:{mb:.5},children:[" ",I]},N))})]})})},T.role))}),t.jsx(P,{sx:{textAlign:"center",mt:4},children:t.jsx(ge,{variant:"text",onClick:D,sx:{color:"text.secondary"},children:"Skip for now"})})]}),R=()=>t.jsxs(P,{sx:{py:4},children:[t.jsx(v,{variant:"h5",gutterBottom:!0,textAlign:"center",children:"What topics interest you most?"}),t.jsx(v,{variant:"body1",textAlign:"center",sx:{mb:4},children:"Select any that apply - we'll use this to personalize your experience"}),t.jsx(F,{container:!0,spacing:2,sx:{maxWidth:600,mx:"auto"},children:x.map(T=>t.jsx(F,{item:!0,xs:6,sm:4,children:t.jsx(ge,{variant:o.interests.includes(T)?"contained":"outlined",fullWidth:!0,onClick:()=>w(T),sx:{py:1.5},children:T})},T))}),t.jsxs(P,{sx:{textAlign:"center",mt:4},children:[t.jsx(ge,{variant:"outlined",onClick:y,sx:{mr:2},children:"Back"}),t.jsx(ge,{variant:"contained",size:"large",onClick:()=>n(2),disabled:o.interests.length===0,children:"Continue"})]})]}),E=()=>t.jsxs(P,{sx:{textAlign:"center",py:4},children:[t.jsx(v,{variant:"h5",gutterBottom:!0,children:"You're all set! "}),t.jsx(v,{variant:"body1",sx:{mb:4},children:"Based on your preferences, we've customized your experience. Ready to get started?"}),t.jsx(ge,{variant:"contained",size:"large",onClick:j,disabled:r,sx:{px:4},children:r?"Setting up...":"Enter Platform"})]});return t.jsxs(Pt,{maxWidth:"lg",sx:{mt:4,mb:8},children:[t.jsx(_I,{activeStep:e,sx:{mb:6},children:h.map(T=>t.jsx(OI,{children:t.jsx(MI,{children:T})},T))}),e===0&&C(),e===1&&R(),e===2&&E()]})},HO="/journalist-material-client/assets/landing_page_compiled-BSuH_rh0.gif",YO=()=>{const e=Fo(),[n,r]=g.useState(!1),s=async()=>{await(e==null?void 0:e.signOut()),r(!1)};return g.useEffect(()=>{r(!!(e!=null&&e.user))},[e==null?void 0:e.user]),t.jsxs(t.Fragment,{children:[t.jsx(P,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:0,"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:1}},children:t.jsx(P,{component:"img",src:HO,alt:"Background",sx:{width:"100%",height:"100%",objectFit:"cover",position:"relative",zIndex:0}})}),t.jsx(kc,{position:"absolute",elevation:0,sx:{background:"rgba(255, 255, 255, 0.01)",zIndex:2},children:t.jsxs(Ms,{sx:{justifyContent:"space-between",flexDirection:{xs:"column",sm:"row"},gap:{xs:2,sm:0},py:{xs:2,sm:1.5},px:{xs:2,sm:4}},children:[t.jsx(P,{sx:{display:"flex",alignItems:"center",gap:1.5},children:t.jsxs(P,{sx:{position:"relative","&::after":{content:'""',position:"absolute",bottom:-4,left:0,width:"100%",height:"2px",background:"linear-gradient(90deg, #2196F3 0%, transparent 100%)",borderRadius:"2px"}},children:[t.jsx("span",{style:{color:"#1565C0",textTransform:"uppercase",fontWeight:800,fontSize:"1.6rem",letterSpacing:"1px"},children:"Meta"}),t.jsx("span",{style:{color:"#0D47A1",fontWeight:600,fontSize:"1.6rem"},children:"Journo"})]})}),t.jsx(P,{sx:{display:"flex",alignItems:"center",order:{xs:3,sm:3},width:{xs:"100%",sm:"auto"},justifyContent:{xs:"center",sm:"flex-end"},gap:2},children:n?t.jsxs(t.Fragment,{children:[t.jsx(ge,{color:"primary",variant:"outlined",size:"large",component:On,to:je.APP_NEWS_MY_FEED,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"},px:4,py:1.2,borderRadius:"12px",borderWidth:"2px",textTransform:"none",fontWeight:600,transition:"all 0.3s ease","&:hover":{borderWidth:"2px",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(33, 150, 243, 0.2)"}},children:"My Feed"}),t.jsx(ge,{color:"error",variant:"contained",size:"large",onClick:s,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"},px:4,py:1.2,borderRadius:"12px",textTransform:"none",fontWeight:600,background:"linear-gradient(135deg, #f44336 0%, #e53935 50%, #c62828 100%)",boxShadow:"0 8px 16px -4px rgba(244, 67, 54, 0.5)",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(135deg, #e53935 0%, #d32f2f 50%, #b71c1c 100%)",transform:"translateY(-2px)",boxShadow:"0 12px 20px -4px rgba(244, 67, 54, 0.6)"}},children:"Log out"})]}):t.jsxs(t.Fragment,{children:[t.jsx(ge,{color:"primary",variant:"outlined",size:"large",component:On,to:je.LOGIN,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"},px:4,py:1.2,borderRadius:"12px",borderWidth:"2px",textTransform:"none",fontWeight:600,transition:"all 0.3s ease","&:hover":{borderWidth:"2px",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(33, 150, 243, 0.2)"}},children:"Log in"}),t.jsx(ge,{color:"primary",variant:"contained",size:"large",component:On,to:je.SIGNUP,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"},px:4,py:1.2,borderRadius:"12px",textTransform:"none",fontWeight:600,background:"linear-gradient(135deg, #2196F3 0%, #1976D2 50%, #0D47A1 100%)",boxShadow:"0 8px 16px -4px rgba(33, 150, 243, 0.5)",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(135deg, #1E88E5 0%, #1565C0 50%, #0D47A1 100%)",transform:"translateY(-2px)",boxShadow:"0 12px 20px -4px rgba(33, 150, 243, 0.6)"}},children:"Get Started"})]})})]})})]})},GO=()=>t.jsxs(P,{sx:{minHeight:"100vh",bgcolor:"background.default"},children:[t.jsx(YO,{}),t.jsx(P,{sx:{minHeight:"90vh",display:"flex",alignItems:"center",background:"transparent",position:"relative",overflow:"hidden"},children:t.jsx(Pt,{maxWidth:"lg",children:t.jsx(F,{container:!0,justifyContent:"center",children:t.jsxs(F,{item:!0,xs:12,md:8,textAlign:"center",children:[t.jsxs(v,{variant:"h1",component:"h1",sx:{fontWeight:700,color:"white",fontSize:{xs:"2.5rem",sm:"3.2rem",md:"3.8rem"},mb:4,lineHeight:1.3,textShadow:"2px 2px 4px rgba(0,0,0,0.7)"},children:["Discover Journalism You Can Trust.",t.jsx("br",{}),"Fund Stories That Deserve Attention."]}),t.jsx(v,{variant:"h5",sx:{color:"rgba(255, 255, 255, 0.95)",mb:5,lineHeight:1.7,fontSize:{xs:"1.1rem",sm:"1.25rem"},fontWeight:400,textShadow:"1px 1px 2px rgba(0,0,0,0.7)"},children:"MetaJourno connects readers directly to independent journalists  no paywalls, no content hosting, just verified trust and transparent funding."}),t.jsxs(he,{direction:{xs:"column",sm:"row"},spacing:3,justifyContent:"center",children:[t.jsx(ge,{variant:"contained",size:"large",startIcon:t.jsx(_a,{}),sx:{bgcolor:"white",color:"#1e3c72",px:4,py:1.5,fontSize:"1rem",fontWeight:600,borderRadius:1,textTransform:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.15)","&:hover":{bgcolor:"#f8f9fa",transform:"translateY(-1px)",boxShadow:"0 6px 20px rgba(0,0,0,0.2)"},transition:"all 0.2s ease"},children:"Browse Stories"}),t.jsx(ge,{variant:"outlined",size:"large",startIcon:t.jsx(_o,{}),sx:{borderColor:"rgba(255, 255, 255, 0.5)",color:"white",px:4,py:1.5,fontSize:"1rem",fontWeight:600,borderRadius:1,textTransform:"none","&:hover":{borderColor:"white",bgcolor:"rgba(255, 255, 255, 0.1)"},transition:"all 0.2s ease"},children:"Join as a Journalist"}),t.jsx(ge,{variant:"contained",size:"large",startIcon:t.jsx(_o,{}),sx:{borderColor:"rgba(255, 255, 255, 0.5)",color:"white",px:4,py:1.5,fontSize:"1rem",fontWeight:600,borderRadius:1,textTransform:"none","&:hover":{borderColor:"white",bgcolor:"rgba(255, 255, 255, 0.1)"},transition:"all 0.2s ease"},children:"Join as a Reader"})]})]})})})})]});var kf={},qO=tt;Object.defineProperty(kf,"__esModule",{value:!0});var kv=kf.default=void 0,KO=qO(nt()),XO=t;kv=kf.default=(0,KO.default)((0,XO.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");const Rn={DRAFT:1,PENDING_REVIEW:2,PUBLISHED:3,REJECTED:4,ARCHIVED:5,DELETED:6},mr={INSTAGRAM:1,TWITTER:2,YOUTUBE:3,TIKTOK:4,FACEBOOK:5,LINKEDIN:6,OTHER:7},Fa={COVER:1,SUMMARY:2,AVATAR:3,TEASER:4,INTRO:5,OUTRO:6,OTHER:7},mc={IMAGE:1,VIDEO:2,AUDIO:3,DOCUMENT:4,URL:5,ARTICLE:6,OTHER:7},qc="/journalist-material-client/assets/BG_journo-DMUT4Pey.png";var Nf={},JO=tt;Object.defineProperty(Nf,"__esModule",{value:!0});var Nv=Nf.default=void 0,QO=JO(nt()),ZO=t;Nv=Nf.default=(0,QO.default)((0,ZO.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"}),"FavoriteBorder");var Lf={},eM=tt;Object.defineProperty(Lf,"__esModule",{value:!0});var Kc=Lf.default=void 0,tM=eM(nt()),nM=t;Kc=Lf.default=(0,tM.default)((0,nM.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share");const rM=({news:e})=>{var o,a;const n=It(),r=(o=e.media)==null?void 0:o.find(c=>c.type===Fa.COVER),s=c=>{c.target.closest(".action-button")||n(je.APP_NEWS_VIEW.replace(":id",e.id))};return t.jsxs(P,{sx:{mb:2.5},children:[t.jsxs(P,{component:On,to:je.APP_CHANNEL_VIEW.replace(":channelId",e.channel.id),sx:{display:"inline-flex",alignItems:"center",color:"text.primary",textDecoration:"none",mb:1,px:.5,"&:hover":{color:"primary.main","& .channel-name":{color:"primary.main"}}},children:[t.jsx(jn,{src:e.channel.logoUrl,alt:e.channel.name,variant:"rounded",sx:{width:24,height:24,mr:1,bgcolor:"grey.200",borderRadius:1},children:t.jsx(La,{sx:{fontSize:16}})}),t.jsx(v,{variant:"body2",className:"channel-name",fontWeight:500,sx:{transition:"color 0.2s",fontSize:"0.8rem"},children:e.channel.name})]}),t.jsxs(ke,{onClick:s,sx:{display:"flex",flexDirection:"column",cursor:"pointer",bgcolor:"background.paper",borderRadius:1.5,overflow:"hidden",boxShadow:"none",border:"1px solid",borderColor:"divider",height:"100%","&:hover":{"& .news-thumbnail":{transform:"scale(1.05)"},"& .news-title":{color:"primary.main"},boxShadow:1},transition:"box-shadow 0.2s ease"},children:[t.jsxs(P,{sx:{position:"relative",width:"100%",paddingTop:"56.25%",overflow:"hidden",bgcolor:"grey.100"},children:[(r==null?void 0:r.format)===mc.VIDEO?t.jsx(P,{component:"video",src:r.url,preload:"metadata",className:"news-thumbnail",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.3s ease",display:"block",bgcolor:"black"}}):t.jsx(P,{component:"img",src:(r==null?void 0:r.url)||qc,alt:e.title,className:"news-thumbnail",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.3s ease",display:"block"}}),((a=e.qualityMetrics)==null?void 0:a.overallQualityScore)&&t.jsx(P,{sx:{position:"absolute",bottom:12,right:12,px:1,py:.5,borderRadius:1,bgcolor:Ie("#000",.75),color:"white",fontSize:"0.75rem",fontWeight:600},children:e.qualityMetrics.overallQualityScore.toFixed(1)})]}),t.jsxs(P,{sx:{p:1.5,flex:1,display:"flex",flexDirection:"column"},children:[t.jsx(v,{className:"news-title",variant:"h6",sx:{fontWeight:600,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",lineHeight:1.3,transition:"color 0.2s",mb:.5,fontSize:"0.9rem"},children:e.title}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",mb:1.5,lineHeight:1.4,fontSize:"0.8rem"},children:e.content}),t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:"auto"},children:[t.jsx(v,{variant:"caption",color:"text.secondary",sx:{fontWeight:500,fontSize:"0.7rem"},children:new Date(e.publishedAt).toLocaleDateString()}),t.jsxs(he,{direction:"row",spacing:.5,children:[t.jsx(pt,{title:"Like",children:t.jsx($e,{className:"action-button",size:"small",onClick:c=>{c.stopPropagation()},sx:{color:"text.secondary",padding:"4px","&:hover":{color:"error.main"}},children:t.jsx(Nv,{sx:{fontSize:18}})})}),t.jsx(pt,{title:"Share",children:t.jsx($e,{className:"action-button",size:"small",onClick:c=>{c.stopPropagation()},sx:{color:"text.secondary",padding:"4px","&:hover":{color:"primary.main"}},children:t.jsx(Kc,{sx:{fontSize:18}})})})]})]})]})]})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var yh=function(e,n){return yh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)s.hasOwnProperty(o)&&(r[o]=s[o])},yh(e,n)};function sM(e,n){yh(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var ha=function(){return ha=Object.assign||function(n){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},ha.apply(this,arguments)};function oM(e,n,r,s){var o,a=!1,c=0;function d(){o&&clearTimeout(o)}function u(){d(),a=!0}typeof n!="boolean"&&(s=r,r=n,n=void 0);function h(){var p=this,x=Date.now()-c,b=arguments;if(a)return;function y(){c=Date.now(),r.apply(p,b)}function m(){o=void 0}s&&!o&&y(),d(),s===void 0&&x>e?y():n!==!0&&(o=setTimeout(s?m:y,s===void 0?e-x:e))}return h.cancel=u,h}var hi={Pixel:"Pixel",Percent:"Percent"},ab={unit:hi.Percent,value:.8};function lb(e){return typeof e=="number"?{unit:hi.Percent,value:e*100}:typeof e=="string"?e.match(/^(\d*(\.\d+)?)px$/)?{unit:hi.Pixel,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:hi.Percent,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),ab):(console.warn("scrollThreshold should be string or number"),ab)}var co=function(e){sM(n,e);function n(r){var s=e.call(this,r)||this;return s.lastScrollTop=0,s.actionTriggered=!1,s.startY=0,s.currentY=0,s.dragging=!1,s.maxPullDownDistance=0,s.getScrollableTarget=function(){return s.props.scrollableTarget instanceof HTMLElement?s.props.scrollableTarget:typeof s.props.scrollableTarget=="string"?document.getElementById(s.props.scrollableTarget):(s.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},s.onStart=function(o){s.lastScrollTop||(s.dragging=!0,o instanceof MouseEvent?s.startY=o.pageY:o instanceof TouchEvent&&(s.startY=o.touches[0].pageY),s.currentY=s.startY,s._infScroll&&(s._infScroll.style.willChange="transform",s._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},s.onMove=function(o){s.dragging&&(o instanceof MouseEvent?s.currentY=o.pageY:o instanceof TouchEvent&&(s.currentY=o.touches[0].pageY),!(s.currentY<s.startY)&&(s.currentY-s.startY>=Number(s.props.pullDownToRefreshThreshold)&&s.setState({pullToRefreshThresholdBreached:!0}),!(s.currentY-s.startY>s.maxPullDownDistance*1.5)&&s._infScroll&&(s._infScroll.style.overflow="visible",s._infScroll.style.transform="translate3d(0px, "+(s.currentY-s.startY)+"px, 0px)")))},s.onEnd=function(){s.startY=0,s.currentY=0,s.dragging=!1,s.state.pullToRefreshThresholdBreached&&(s.props.refreshFunction&&s.props.refreshFunction(),s.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){s._infScroll&&(s._infScroll.style.overflow="auto",s._infScroll.style.transform="none",s._infScroll.style.willChange="unset")})},s.onScrollListener=function(o){typeof s.props.onScroll=="function"&&setTimeout(function(){return s.props.onScroll&&s.props.onScroll(o)},0);var a=s.props.height||s._scrollableNode?o.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!s.actionTriggered){var c=s.props.inverse?s.isElementAtTop(a,s.props.scrollThreshold):s.isElementAtBottom(a,s.props.scrollThreshold);c&&s.props.hasMore&&(s.actionTriggered=!0,s.setState({showLoader:!0}),s.props.next&&s.props.next()),s.lastScrollTop=a.scrollTop}},s.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:r.dataLength},s.throttledOnScrollListener=oM(150,s.onScrollListener).bind(s),s.onStart=s.onStart.bind(s),s.onMove=s.onMove.bind(s),s.onEnd=s.onEnd.bind(s),s}return n.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},n.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},n.prototype.componentDidUpdate=function(r){this.props.dataLength!==r.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},n.getDerivedStateFromProps=function(r,s){var o=r.dataLength!==s.prevDataLength;return o?ha(ha({},s),{prevDataLength:r.dataLength}):null},n.prototype.isElementAtTop=function(r,s){s===void 0&&(s=.8);var o=r===document.body||r===document.documentElement?window.screen.availHeight:r.clientHeight,a=lb(s);return a.unit===hi.Pixel?r.scrollTop<=a.value+o-r.scrollHeight+1:r.scrollTop<=a.value/100+o-r.scrollHeight+1},n.prototype.isElementAtBottom=function(r,s){s===void 0&&(s=.8);var o=r===document.body||r===document.documentElement?window.screen.availHeight:r.clientHeight,a=lb(s);return a.unit===hi.Pixel?r.scrollTop+o>=r.scrollHeight-a.value:r.scrollTop+o>=a.value/100*r.scrollHeight},n.prototype.render=function(){var r=this,s=ha({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),o=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),a=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return Ft.createElement("div",{style:a,className:"infinite-scroll-component__outerdiv"},Ft.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(c){return r._infScroll=c},style:s},this.props.pullDownToRefresh&&Ft.createElement("div",{style:{position:"relative"},ref:function(c){return r._pullDown=c}},Ft.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!o&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},n}(g.Component),$f={},iM=tt;Object.defineProperty($f,"__esModule",{value:!0});var Lv=$f.default=void 0,aM=iM(nt()),lM=t;Lv=$f.default=(0,aM.default)((0,lM.jsx)("path",{d:"M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2m0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19z"}),"Inbox");const Ws=({title:e,description:n,icon:r=t.jsx(Lv,{sx:{fontSize:48}}),action:s})=>t.jsxs(P,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:4,borderRadius:2,bgcolor:o=>o.palette.mode==="dark"?Ie(o.palette.common.white,.05):Ie(o.palette.common.black,.02),textAlign:"center"},children:[t.jsx(P,{sx:{color:"text.secondary",mb:2},children:r}),t.jsx(v,{variant:"h6",sx:{fontWeight:600,mb:1},children:e}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:s?3:0},children:n}),s&&t.jsx(ge,{variant:"contained",onClick:s.onClick,sx:{textTransform:"none",fontWeight:600},children:s.label})]});var Ff={},cM=tt;Object.defineProperty(Ff,"__esModule",{value:!0});var $v=Ff.default=void 0,dM=cM(nt()),uM=t;$v=Ff.default=(0,dM.default)((0,uM.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");const cb=_e(Ze)(({theme:e})=>({borderRadius:e.spacing(1),height:36,fontWeight:500,fontSize:"0.875rem",padding:"0 12px",transition:"all 0.2s ease","&.selected":{backgroundColor:e.palette.mode==="dark"?e.palette.grey[800]:e.palette.grey[900],color:(e.palette.mode==="dark",e.palette.common.white),"&:hover":{backgroundColor:e.palette.mode==="dark"?e.palette.grey[700]:e.palette.grey[800]}},"&:not(.selected)":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.06)",color:e.palette.text.primary,border:"none","&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.1)"}}})),db=_e(P)(({theme:e})=>({display:"flex",overflowX:"auto",overflowY:"hidden",gap:e.spacing(1),paddingBottom:e.spacing(.5),scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},msOverflowStyle:"none",scrollBehavior:"smooth"})),ub=_e($e)(({theme:e})=>({backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.06)",width:36,height:36,flexShrink:0,"&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.1)"}})),Xc=({selectedTags:e=[],onTagsChange:n,contentType:r,maxTags:s=10,className:o})=>{const[a,c]=g.useState([]),[d,u]=g.useState(!0),[h,p]=g.useState(!1),[x,b]=g.useState(!1),y=Ft.useRef(null),{api:m}=Je(),{execute:w}=et();g.useEffect(()=>{(async()=>{if(m!=null&&m.tagApi){u(!0);try{const[T,I,N]=await Promise.all([w(()=>m.tagApi.getTags({category:r==="channels"?void 0:r}),{showErrorToast:!1}),w(()=>m.tagApi.getTags({trending:!0,category:r==="channels"?void 0:r}),{showErrorToast:!1}),w(()=>m.tagApi.getTags({popular:!0,category:r==="channels"?void 0:r}),{showErrorToast:!1})]),O=new Map;T!=null&&T.items&&T.items.forEach(B=>{var H;O.set(B.id,{...B,count:((H=B.analytics)==null?void 0:H.usageCount)||0})}),I!=null&&I.items&&I.items.forEach(B=>{var k;const H=O.get(B.id);H?O.set(B.id,{...H,trending:!0}):O.set(B.id,{...B,count:((k=B.analytics)==null?void 0:k.usageCount)||0,trending:!0})}),N!=null&&N.items&&N.items.forEach(B=>{var k;const H=O.get(B.id);H&&!H.trending?O.set(B.id,{...H,popular:!0}):H||O.set(B.id,{...B,count:((k=B.analytics)==null?void 0:k.usageCount)||0,popular:!0})});const $=Array.from(O.values()).sort((B,H)=>(H.count||0)-(B.count||0)).slice(0,20);c($)}catch(T){console.error("Failed to fetch tags:",T),c([])}finally{u(!1)}}})()},[r,m,w]);const j=E=>{e.includes(E)?n(e.filter(I=>I!==E)):e.length<s&&n([...e,E])},D=()=>{if(y.current){const{scrollLeft:E,scrollWidth:T,clientWidth:I}=y.current;p(E>0),b(E+I<T-1)}};g.useEffect(()=>{D();const E=y.current;if(E)return E.addEventListener("scroll",D),window.addEventListener("resize",D),()=>{E.removeEventListener("scroll",D),window.removeEventListener("resize",D)}},[a,d]);const C=()=>{y.current&&y.current.scrollBy({left:-200,behavior:"smooth"})},R=()=>{y.current&&y.current.scrollBy({left:200,behavior:"smooth"})};return d?t.jsx(P,{className:o,sx:{display:"flex",alignItems:"center",gap:1},children:t.jsx(db,{sx:{flex:1},children:[...Array(10)].map((E,T)=>t.jsx(le,{variant:"rounded",width:100,height:36,sx:{borderRadius:1,flexShrink:0}},T))})}):t.jsxs(P,{className:o,sx:{display:"flex",alignItems:"center",gap:1},children:[h&&t.jsx(ub,{onClick:C,size:"small",children:t.jsx(lf,{fontSize:"small"})}),t.jsxs(db,{ref:y,sx:{flex:1},children:[t.jsx(cb,{label:"All",className:e.length===0?"selected":"",onClick:()=>n([]),clickable:!0,sx:{flexShrink:0}}),a.map(E=>{const T=e.includes(E.name);return t.jsx(cb,{label:E.name,className:T?"selected":"",onClick:()=>j(E.name),clickable:!0,sx:{flexShrink:0}},E.id)})]}),x&&t.jsx(ub,{onClick:R,size:"small",children:t.jsx($v,{fontSize:"small"})})]})},hM=()=>t.jsx(he,{spacing:2,sx:{mt:2},children:[...Array(2)].map((e,n)=>t.jsxs(P,{sx:{p:2,borderRadius:2,bgcolor:r=>r.palette.mode==="dark"?Ie(r.palette.common.white,.05):Ie(r.palette.common.black,.03)},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(P,{sx:{width:32,height:32,borderRadius:1,bgcolor:r=>r.palette.mode==="dark"?Ie(r.palette.common.white,.1):Ie(r.palette.common.black,.1),mr:1}}),t.jsx(P,{sx:{height:20,width:"30%",borderRadius:.5,bgcolor:"grey.300"}})]}),t.jsx(P,{sx:{height:24,width:"60%",mb:2,borderRadius:.5,bgcolor:"grey.300"}}),t.jsx(P,{sx:{height:100,width:"100%",borderRadius:1,bgcolor:"grey.200",mb:2}}),t.jsx(P,{sx:{height:16,width:"40%",borderRadius:.5,bgcolor:"grey.200"}})]},n))}),fM=(e={})=>{if(e.feed)return{title:"Your Feed",description:"Latest news from your personalized feed",emptyTitle:"Your feed is empty",emptyDescription:"Follow some journalists to see their latest news here"};if(e.trending)return{title:"Trending News",description:"Discover the most popular news from our community",emptyTitle:"No trending news",emptyDescription:"There are no trending news articles at the moment"};if(e.subscribed)return{title:"Subscribed Channels",description:"Latest news from your subscribed channels",emptyTitle:"No news from subscriptions",emptyDescription:"Subscribe to channels to see their latest news here"};if(e.premium)return{title:"Premium News",description:"Exclusive premium content",emptyTitle:"No premium news",emptyDescription:"No premium news articles available at the moment"};if(e.channel)return{title:"Channel News",description:"News from this channel",emptyTitle:"No news in this channel",emptyDescription:"This channel has not published any news yet"};if(e.creator)return{title:"Creator News",description:"News from this creator",emptyTitle:"No news from this creator",emptyDescription:"This creator has not published any news yet"};if(e.tags&&e.tags.length>0){const n=e.tags.length===1?"tag":"tags";return{title:`News by ${n.charAt(0).toUpperCase()+n.slice(1)}`,description:`News tagged with: ${e.tags.join(", ")}`,emptyTitle:`No news with these ${n}`,emptyDescription:`No news articles found with the selected ${n}`}}return{title:"All News",description:"Latest news from our community",emptyTitle:"No news found",emptyDescription:"No news articles available at the moment"}},vh=({filters:e={},title:n,description:r,emptyTitle:s,emptyDescription:o,showSearch:a=!1})=>{const c=lo(),d=It(),[u,h]=g.useState([]),[p,x]=g.useState(!0),[b,y]=g.useState(1),[m,w]=g.useState(!0),[j,D]=g.useState([]),[C,R]=g.useState(""),[E,T]=g.useState(""),{api:I}=Je(),{execute:N}=et();g.useEffect(()=>{const V=new URLSearchParams(c.search),X=V.get("tags"),we=V.get("q");if(X){const ce=X.split(",").map(Ee=>decodeURIComponent(Ee.trim()));D(ce)}else e.tags&&D(e.tags);if(we){const ce=decodeURIComponent(we);R(ce),T(ce)}},[c.search,e.tags]);const O=12,$=fM(e),B=n||$.title,H=r||$.description,k=s||$.emptyTitle,ne=o||$.emptyDescription,K={...e,tags:j.length>0?j:e.tags,query:C||void 0},q=async(V=b)=>{x(!0);const X=await N(()=>I==null?void 0:I.newsApi.getNews(K,{page:V,limit:O}),{showErrorToast:!0});X&&(h(V===1?X.items:we=>[...we,...X.items]),w(X.metadata.hasNext),y(X.metadata.currentPage)),x(!1)};g.useEffect(()=>{y(1),q(1)},[JSON.stringify(K)]);const te=()=>{!p&&m&&q(b+1)},ie=V=>{D(V);const X=new URLSearchParams(c.search);V.length>0?X.set("tags",V.map(ce=>encodeURIComponent(ce)).join(",")):X.delete("tags");const we=`${c.pathname}?${X.toString()}`;d(we,{replace:!0})},se=V=>{V.preventDefault();const X=E.trim();R(X);const we=new URLSearchParams(c.search);X?we.set("q",encodeURIComponent(X)):we.delete("q");const ce=`${c.pathname}?${we.toString()}`;d(ce,{replace:!0})},ae=()=>{T(""),R("");const V=new URLSearchParams(c.search);V.delete("q");const X=`${c.pathname}?${V.toString()}`;d(X,{replace:!0})};return t.jsxs(P,{sx:{width:"100%",overflow:"hidden"},children:[t.jsxs(P,{sx:{mb:3,maxWidth:800,mx:"auto"},children:[t.jsx(v,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600},children:B}),t.jsx(v,{variant:"body2",color:"text.secondary",children:H})]}),a&&t.jsx(P,{sx:{mb:3,maxWidth:800,mx:"auto"},children:t.jsx("form",{onSubmit:se,children:t.jsx(st,{fullWidth:!0,placeholder:"Search news by title or content...",value:E,onChange:V=>T(V.target.value),InputProps:{startAdornment:t.jsx(ys,{position:"start",children:t.jsx(Hc,{color:"action"})}),endAdornment:E&&t.jsx(ys,{position:"end",children:t.jsx($e,{size:"small",onClick:ae,edge:"end",children:t.jsx(kv,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"background.paper"}}})})}),t.jsx(P,{sx:{mb:3,maxWidth:800,mx:"auto"},children:t.jsx(Xc,{selectedTags:j,onTagsChange:ie,contentType:"news",maxTags:5,showCounts:!1})}),u.length===0&&!p?t.jsx(Ws,{title:k,description:ne}):t.jsx(P,{sx:{maxWidth:800,mx:"auto"},children:t.jsx(co,{dataLength:u.length,next:te,hasMore:m,loader:t.jsx(hM,{}),endMessage:t.jsx(P,{sx:{textAlign:"center",mt:4,color:"text.secondary",fontSize:"0.875rem"},children:"No more news to display"}),children:t.jsx(he,{spacing:2.5,children:u.map(V=>t.jsx(rM,{news:V},V.id))})})})]})},pM=e=>{switch(e){case mr.INSTAGRAM:return BI;case mr.TWITTER:return WI;case mr.YOUTUBE:return FI;case mr.TIKTOK:return $I;case mr.FACEBOOK:return LI;case mr.LINKEDIN:return NI;case mr.OTHER:default:return kI}},xM=e=>{switch(e){case mr.INSTAGRAM:return"#E4405F";case mr.TWITTER:return"#1DA1F2";case mr.YOUTUBE:return"#FF0000";case mr.TIKTOK:return"#000000";case mr.FACEBOOK:return"#1877F2";case mr.LINKEDIN:return"#0A66C2";default:return"#757575"}},mM=e=>{var n;return((n=Object.entries(mr).find(([,r])=>r===e))==null?void 0:n[0])||"Other"};var Wf={},gM=tt;Object.defineProperty(Wf,"__esModule",{value:!0});var Fv=Wf.default=void 0,bM=gM(nt()),yM=t;Fv=Wf.default=(0,bM.default)((0,yM.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39"}),"Public");var Bf={},vM=tt;Object.defineProperty(Bf,"__esModule",{value:!0});var Wv=Bf.default=void 0,jM=vM(nt()),wM=t;Wv=Bf.default=(0,jM.default)((0,wM.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"Launch");const Vf=({links:e})=>e.length?t.jsxs(lt,{variant:"outlined",sx:{p:2,bgcolor:"background.paper",borderRadius:2,width:"100%"},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Fv,{sx:{mr:1,color:"primary.main"}}),t.jsx(v,{variant:"h6",component:"div",children:"Read More On"})]}),t.jsx(Yt,{sx:{mb:2}}),t.jsx(he,{spacing:1.5,children:e.map(n=>t.jsx(Nc,{href:n.url,target:"_blank",rel:"noopener noreferrer",underline:"none",sx:{color:"inherit",display:"block","&:hover":{"& .MuiPaper-root":{bgcolor:"action.hover",borderColor:"primary.main"},"& .launch-icon":{color:"primary.main"}}},children:t.jsxs(lt,{variant:"outlined",sx:{p:1.5,display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.2s ease-in-out"},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(P,{sx:{color:xM(n.platform),display:"flex",mr:1.5},children:Ft.createElement(pM(n.platform))}),t.jsx(v,{variant:"body2",children:mM(n.platform)})]}),t.jsx(Wv,{fontSize:"small",className:"launch-icon",sx:{color:"text.secondary",transition:"color 0.2s ease-in-out"}})]})},n.id))})]}):null;var Uf={},SM=tt;Object.defineProperty(Uf,"__esModule",{value:!0});var Jc=Uf.default=void 0,CM=SM(nt()),PM=t;Jc=Uf.default=(0,CM.default)((0,PM.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var zf={},DM=tt;Object.defineProperty(zf,"__esModule",{value:!0});var Wa=zf.default=void 0,TM=DM(nt()),IM=t;Wa=zf.default=(0,TM.default)((0,IM.jsx)("path",{d:"M18 11v2h4v-2zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61M20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4M4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34"}),"Campaign");var Hf={},EM=tt;Object.defineProperty(Hf,"__esModule",{value:!0});var ba=Hf.default=void 0,AM=EM(nt()),RM=t;ba=Hf.default=(0,AM.default)((0,RM.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");const _M={header:{class:HE,config:{levels:[1,2,3,4],defaultLevel:2,placeholder:""}},list:{class:YE,inlineToolbar:!0,config:{placeholder:""}},checklist:{class:GE,inlineToolbar:!0,config:{placeholder:""}},quote:{class:qE,inlineToolbar:!0,config:{quotePlaceholder:"",captionPlaceholder:""}},code:KE,inlineCode:{class:XE},marker:{class:JE},image:{class:QE,config:{endpoints:{byFile:"/api/upload/image",byUrl:"/api/fetch/image"}}},linkTool:{class:ZE,config:{endpoint:"/api/fetch/link"}},table:{class:eA,inlineToolbar:!0},warning:{class:tA,inlineToolbar:!0,config:{titlePlaceholder:"Title",messagePlaceholder:"Message"}},delimiter:nA},Qc=({data:e,onChange:n,readOnly:r=!1,placeholder:s="Start writing your content...",borderColor:o})=>{const a=Mn(),c=g.useRef(null),d=g.useRef(`editor-${Math.random().toString(36).slice(2,7)}`);return g.useEffect(()=>((async()=>{if(c.current){try{await c.current.isReady,await c.current.destroy()}catch(p){console.error("Editor cleanup failed:",p)}c.current=null}const h=new zE({holder:d.current,tools:_M,data:e,placeholder:s,readOnly:r,onChange:async p=>{const x=await p.saver.save();n==null||n(x)},autofocus:!1});c.current=h})().catch(console.error),()=>{c.current&&c.current.destroy&&c.current.isReady.then(()=>{var h;(h=c.current)!=null&&h.destroy&&c.current.destroy(),c.current=null}).catch(console.error)}),[]),t.jsx(P,{id:d.current,sx:{minHeight:300,border:"1px solid",borderColor:typeof o=="function"?o(a):o||a.palette.divider,borderRadius:1,p:2,"& .ce-toolbar__plus, & .ce-toolbar__settings-btn, & .cdx-button":{color:u=>u.palette.mode==="dark"?Ie(u.palette.common.white,.7):Ie(u.palette.common.black,.7),backgroundColor:"transparent"},"& .ce-toolbar__plus:hover, & .ce-toolbar__settings-btn:hover, & .cdx-button:hover":{backgroundColor:u=>u.palette.mode==="dark"?Ie(u.palette.common.white,.1):Ie(u.palette.common.black,.1)},"& ::selection":{backgroundColor:u=>u.palette.mode==="dark"?Ie(u.palette.primary.main,.3):Ie(u.palette.primary.main,.3),color:u=>u.palette.mode==="dark"?u.palette.common.white:u.palette.common.black},"& ::-moz-selection":{backgroundColor:u=>u.palette.mode==="dark"?Ie(u.palette.primary.main,.3):Ie(u.palette.primary.main,.3),color:u=>u.palette.mode==="dark"?u.palette.common.white:u.palette.common.black},"& .ce-block--selected":{backgroundColor:u=>u.palette.mode==="dark"?Ie(u.palette.primary.main,.1):Ie(u.palette.primary.main,.05),color:u=>u.palette.mode==="dark"?u.palette.common.white:u.palette.text.primary},"& .ce-block--selected .ce-block__content":{color:u=>u.palette.mode==="dark"?u.palette.common.white:u.palette.text.primary}}})},Bv=e=>{if(e)try{return JSON.parse(e)}catch{return{blocks:[{type:"paragraph",data:{text:e}}]}}};var qe=(e=>(e[e.DRAFT=1]="DRAFT",e[e.SUBMITTED=2]="SUBMITTED",e[e.UNDER_REVIEW=3]="UNDER_REVIEW",e[e.APPROVED=4]="APPROVED",e[e.REJECTED=5]="REJECTED",e[e.PAID=6]="PAID",e[e.CANCELLED=7]="CANCELLED",e))(qe||{});const fa={1:"Draft",2:"Submitted",3:"Under Review",4:"Approved",5:"Rejected",6:"Paid",7:"Cancelled"},hb={1:"#9e9e9e",2:"#2196f3",3:"#ff9800",4:"#4caf50",5:"#f44336",6:"#8bc34a",7:"#607d8b"},oi=(e,n="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:n,notation:"compact",maximumFractionDigits:2}).format(e),OM=({newsId:e,channelId:n,newsFund:r})=>{const{api:s}=Je(),{execute:o}=et(),[a,c]=g.useState(!0),[d,u]=g.useState(null),[h,p]=g.useState([]),[x,b]=g.useState(null),[y,m]=g.useState(null);g.useEffect(()=>{(async()=>{var E,T,I;c(!0),m(null);try{const N=await o(()=>s==null?void 0:s.fundingApi.getFundSummary("news",e),{showErrorToast:!1}),O=await o(()=>s==null?void 0:s.expenseOrderApi.getExpenseOrdersByChannel(n),{showErrorToast:!1});u(N||null),p((O==null?void 0:O.items)||[]);const $={totalFunding:((E=N==null?void 0:N.fund)==null?void 0:E.current_amount)||(r==null?void 0:r.amount)||0,totalExpenses:((T=O==null?void 0:O.items)==null?void 0:T.reduce((B,H)=>H.status===qe.PAID?B+H.amount:B,0))||0,netAmount:0,fundingContributions:(N==null?void 0:N.total_contributors)||0,expenseCount:((I=O==null?void 0:O.items)==null?void 0:I.length)||0,payoutAmount:0};$.netAmount=$.totalFunding-$.totalExpenses,b($)}catch(N){m("Failed to load transaction data"),console.error("Transaction data fetch error:",N)}finally{c(!1)}})()},[e,n,r,s,o]);const w=()=>{if(!x)return null;const R=x.totalFunding>0?Math.min(x.totalFunding/((r==null?void 0:r.goal_amount)||x.totalFunding)*100,100):0;return t.jsx(ke,{elevation:2,children:t.jsxs(Fe,{children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(qr,{color:"success",sx:{mr:1}}),t.jsx(v,{variant:"h6",color:"success.main",children:"Funding Received"})]}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(P,{sx:{textAlign:"center"},children:[t.jsx(v,{variant:"h3",color:"success.main",gutterBottom:!0,children:oi(x.totalFunding)}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Total Raised"})]})}),t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(he,{spacing:2,children:[t.jsxs(P,{children:[t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsx(v,{variant:"body2",children:"Funding Progress"}),t.jsxs(v,{variant:"body2",children:[R.toFixed(1),"%"]})]}),t.jsx(Oo,{variant:"determinate",value:R,sx:{height:8,borderRadius:4},color:"success"})]}),t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Contributors: ",x.fundingContributions]}),(r==null?void 0:r.goal_amount)&&t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Goal: ",oi(r.goal_amount)]})]})]})})]})]})})},j=()=>{if(!x)return null;const R=h.filter(T=>T.status===qe.PAID),E=h.filter(T=>[qe.SUBMITTED,qe.UNDER_REVIEW,qe.APPROVED].includes(T.status));return t.jsx(ke,{elevation:2,children:t.jsxs(Fe,{children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Wy,{color:"error",sx:{mr:1}}),t.jsx(v,{variant:"h6",color:"error.main",children:"Expenses & Payouts"})]}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(P,{sx:{textAlign:"center"},children:[t.jsx(v,{variant:"h3",color:"error.main",gutterBottom:!0,children:oi(x.totalExpenses)}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Total Paid Out"})]})}),t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(he,{spacing:2,children:[t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsx(v,{variant:"body2",children:"Paid Expenses:"}),t.jsx(v,{variant:"body2",color:"success.main",children:R.length})]}),t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsx(v,{variant:"body2",children:"Pending Expenses:"}),t.jsx(v,{variant:"body2",color:"warning.main",children:E.length})]}),t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsx(v,{variant:"body2",children:"Total Expense Orders:"}),t.jsx(v,{variant:"body2",children:x.expenseCount})]})]})})]})]})})},D=()=>{if(!x)return null;const R=x.netAmount>=0;return t.jsxs(lt,{elevation:2,sx:{p:3,bgcolor:R?"success.light":"warning.light",color:R?"success.contrastText":"warning.contrastText",textAlign:"center"},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:1},children:[t.jsx(Xl,{sx:{mr:1,fontSize:"2rem"}}),t.jsx(v,{variant:"h4",component:"div",children:oi(Math.abs(x.netAmount))})]}),t.jsx(v,{variant:"subtitle1",children:R?"Net Surplus":"Net Deficit"}),t.jsx(v,{variant:"body2",sx:{mt:1,opacity:.8},children:R?"Available for future expenses or reinvestment":"Additional funding may be needed"})]})},C=()=>t.jsxs(P,{children:[t.jsxs(Jl,{children:[t.jsx(Ql,{expandIcon:t.jsx(Zl,{}),children:t.jsxs(P,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(Yh,{sx:{mr:1}}),t.jsx(v,{variant:"subtitle1",children:"Funding Contributions"}),d&&t.jsx(Ze,{label:`${d.contributions.length} contributions`,size:"small",sx:{ml:2}})]})}),t.jsx(ec,{children:d!=null&&d.contributions.length?t.jsxs(Er,{dense:!0,children:[d.contributions.slice(0,10).map(R=>{var E;return t.jsxs(ar,{children:[t.jsx(sn,{children:t.jsx(vs,{color:"success"})}),t.jsx(Zt,{primary:`${oi(R.amount)} ${R.currency}`,secondary:R.isAnonymous?"Anonymous contributor":((E=R.user)==null?void 0:E.name)||"Unknown contributor"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:new Date(R.createdAt).toLocaleDateString()})]},R.id)}),d.contributions.length>10&&t.jsx(ar,{children:t.jsx(Zt,{primary:t.jsxs(v,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:["+",d.contributions.length-10," more contributions"]})})})]}):t.jsx(ct,{severity:"info",children:"No funding contributions found for this news article."})})]}),t.jsxs(Jl,{children:[t.jsx(Ql,{expandIcon:t.jsx(Zl,{}),children:t.jsxs(P,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(Oa,{sx:{mr:1}}),t.jsx(v,{variant:"subtitle1",children:"Expense Orders"}),h.length>0&&t.jsx(Ze,{label:`${h.length} expenses`,size:"small",sx:{ml:2}})]})}),t.jsx(ec,{children:h.length?t.jsx(Er,{dense:!0,children:h.map(R=>t.jsxs(ar,{children:[t.jsx(sn,{children:t.jsx(Ns,{sx:{color:hb[R.status]}})}),t.jsx(Zt,{primary:R.title,secondary:t.jsxs(P,{children:[t.jsxs(v,{variant:"caption",display:"block",children:[R.journalist.displayName,"  ",R.type.name]}),t.jsx(v,{variant:"caption",color:"text.secondary",children:new Date(R.createdAt).toLocaleDateString()})]})}),t.jsxs(P,{sx:{textAlign:"right"},children:[t.jsxs(v,{variant:"body2",fontWeight:"medium",children:[oi(R.amount)," ",R.currency]}),t.jsx(Ze,{label:fa[R.status],size:"small",sx:{bgcolor:hb[R.status],color:"white",fontSize:"0.7rem"}})]}),R.receiptUrl&&t.jsx(pt,{title:"View Receipt",children:t.jsx($e,{size:"small",onClick:()=>window.open(R.receiptUrl,"_blank"),children:t.jsx(js,{fontSize:"small"})})})]},R.id))}):t.jsx(ct,{severity:"info",children:"No expense orders found for this channel."})})]})]});return a?t.jsx(ke,{elevation:2,children:t.jsxs(Fe,{sx:{textAlign:"center",py:4},children:[t.jsx(Yn,{}),t.jsx(v,{variant:"body2",sx:{mt:2},children:"Loading transaction data..."})]})}):y?t.jsx(ct,{severity:"error",sx:{mb:2},children:y}):!x||x.totalFunding===0&&x.totalExpenses===0?t.jsx(ct,{severity:"info",sx:{mb:2},children:t.jsxs(P,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(VI,{sx:{mr:1}}),"No transaction data available for this news article."]})}):t.jsxs(P,{sx:{mb:4},children:[t.jsxs(v,{variant:"h5",gutterBottom:!0,sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(Xl,{sx:{mr:1}}),"Transaction Transparency"]}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,md:6,children:w()}),t.jsx(F,{item:!0,xs:12,md:6,children:j()}),t.jsx(F,{item:!0,xs:12,children:D()}),t.jsxs(F,{item:!0,xs:12,children:[t.jsx(Yt,{sx:{my:2}}),C()]})]})]})},MM=()=>t.jsx(Pt,{maxWidth:"lg",sx:{mt:4},children:t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsx(le,{variant:"rectangular",width:"100%",height:300,sx:{borderRadius:2,mb:3}})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx(ke,{children:t.jsxs(P,{sx:{p:3},children:[t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[t.jsx(le,{variant:"text",width:"60%",height:40}),t.jsx(he,{direction:"row",spacing:1,children:[1,2,3].map(e=>t.jsx(le,{variant:"circular",width:40,height:40},e))})]}),t.jsx(le,{variant:"rectangular",width:"100%",height:300,sx:{mb:3,borderRadius:1}}),t.jsxs(he,{spacing:2,sx:{mb:3},children:[t.jsx(le,{variant:"text",width:"100%"}),t.jsx(le,{variant:"text",width:"95%"}),t.jsx(le,{variant:"text",width:"90%"}),t.jsx(le,{variant:"text",width:"85%"}),t.jsx(le,{variant:"text",width:"95%"})]}),t.jsx(le,{variant:"rectangular",width:"100%",height:80,sx:{mb:3,borderRadius:1}}),t.jsx(he,{direction:"row",spacing:1,children:[1,2,3,4].map(e=>t.jsx(le,{variant:"rounded",width:80,height:32},e))})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsx(le,{variant:"text",width:"50%",height:32,sx:{mb:2}}),t.jsx(he,{spacing:2,children:[1,2,3,4,5].map(e=>t.jsxs(P,{children:[t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[t.jsx(le,{variant:"text",width:"40%"}),t.jsx(le,{variant:"text",width:"20%"})]}),t.jsx(le,{variant:"rectangular",width:"100%",height:8,sx:{borderRadius:1}})]},e))})]})})})]})}),kM=()=>{const{id:e}=Xr(),{api:n}=Je(),{execute:r}=et(),[s,o]=g.useState(null),[a,c]=g.useState(!0);if(g.useEffect(()=>{(async()=>{if(e){c(!0);const p=await r(()=>n==null?void 0:n.newsApi.get(e),{showErrorToast:!0});p&&o(p),c(!1)}})()},[e,r]),a)return t.jsx(MM,{});if(!s)return t.jsx(Pt,{maxWidth:"lg",sx:{mt:4},children:t.jsx(v,{variant:"h4",children:"Entry not found"})});const d=s.media.find(h=>h.type===Fa.COVER),u=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(h);return t.jsxs(Pt,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsxs(P,{sx:{height:300,width:"100%",position:"relative",mb:3,borderRadius:2,overflow:"hidden"},children:[(d==null?void 0:d.format)===mc.VIDEO?t.jsx(P,{component:"video",src:d.url,controls:!0,preload:"metadata",sx:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center",bgcolor:"black"}}):t.jsx(P,{component:"img",src:(d==null?void 0:d.url)||qc,alt:s.title,sx:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"}}),t.jsxs(P,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(transparent, rgba(0,0,0,0.7))",p:3,color:"white"},children:[t.jsx(v,{variant:"h4",component:"h1",gutterBottom:!0,children:s.title}),t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsxs(P,{component:On,to:je.APP_CHANNEL_VIEW.replace(":channelId",s.channelId),sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(255, 255, 255, 0.1)",color:"white",px:2,py:1,borderRadius:2,textDecoration:"none",transition:"all 0.2s ease-in-out",border:"1px solid rgba(255, 255, 255, 0.2)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.2)",transform:"translateY(-2px)"}},children:[t.jsx(Wa,{sx:{mr:1}}),t.jsx(v,{variant:"subtitle2",children:s.channel.name})]}),t.jsxs(P,{sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(0, 0, 0, 0.3)",px:2,py:1,borderRadius:2,border:"1px solid rgba(255, 255, 255, 0.1)"},children:[t.jsx(Jc,{sx:{mr:1,fontSize:"0.9rem"}}),t.jsx(v,{variant:"caption",children:s.creator.displayName})]})]}),t.jsx(v,{variant:"subtitle1",children:new Date(s.publishedAt).toLocaleDateString()})]})]})]})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx(ke,{children:t.jsxs(P,{sx:{p:3},children:[t.jsx(Qc,{data:Bv(s.content),readOnly:!0,borderColor:h=>h.palette.mode==="dark"?Ie(h.palette.common.white,.1):Ie(h.palette.common.black,.1)}),t.jsx(P,{sx:{mt:2},children:s.tags.map(h=>t.jsx(Ze,{label:h.title,variant:"outlined",sx:{mr:1,mb:1}},h.id))})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(he,{spacing:3,children:[t.jsx(Vf,{links:s.socialLinks}),s.qualityMetrics&&t.jsxs(lt,{elevation:0,sx:{p:2,bgcolor:"success.light",color:"success.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[t.jsx(ba,{fontSize:"large"}),t.jsxs(P,{children:[t.jsx(v,{variant:"overline",children:"Quality Score"}),t.jsxs(v,{variant:"h4",component:"div",children:[s.qualityMetrics.overallQualityScore.toFixed(1),"/10"]})]})]}),s.newsFund&&t.jsxs(lt,{elevation:0,sx:{p:2,bgcolor:"primary.light",color:"primary.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[t.jsx(Gc,{fontSize:"large"}),t.jsxs(P,{children:[t.jsx(v,{variant:"overline",children:"News Fund"}),t.jsx(v,{variant:"h4",component:"div",children:u(s.newsFund.amount)})]})]})]})})]}),t.jsx(Pt,{maxWidth:"lg",sx:{mt:4},children:t.jsx(OM,{newsId:s.id,channelId:s.channelId,newsFund:s.newsFund})})]})};var Yf={},NM=tt;Object.defineProperty(Yf,"__esModule",{value:!0});var Gf=Yf.default=void 0,LM=NM(nt()),$M=t;Gf=Yf.default=(0,LM.default)((0,$M.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People");var qf={},FM=tt;Object.defineProperty(qf,"__esModule",{value:!0});var gc=qf.default=void 0,WM=FM(nt()),BM=t;gc=qf.default=(0,WM.default)((0,BM.jsx)("path",{d:"M9.68 13.69 12 11.93l2.31 1.76-.88-2.85L15.75 9h-2.84L12 6.19 11.09 9H8.25l2.31 1.84zM20 10c0-4.42-3.58-8-8-8s-8 3.58-8 8c0 2.03.76 3.87 2 5.28V23l6-2 6 2v-7.72c1.24-1.41 2-3.25 2-5.28m-8-6c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6 2.69-6 6-6"}),"WorkspacePremium");const VM=({channel:e,hasSubscription:n,subscriptionTier:r,onJoin:s,onCancel:o})=>{var x,b,y,m;const a=It(),c=n,d=r,u=(x=e.tiers)==null?void 0:x.find(w=>w.isDefault),h=()=>{a(je.APP_CHANNEL_VIEW.replace(":channelId",e.id))},p=w=>{w.stopPropagation(),c?o(e.id):s(e.id,u==null?void 0:u.id)};return t.jsxs(P,{onClick:h,sx:{display:"flex",alignItems:"flex-start",gap:1.5,p:1.5,borderRadius:1.5,cursor:"pointer",transition:"all 0.2s ease-in-out",height:"100%",border:"1px solid",borderColor:"transparent","&:hover":{bgcolor:w=>w.palette.mode==="dark"?Ie(w.palette.common.white,.05):Ie(w.palette.common.black,.03),borderColor:"divider",transform:"translateX(4px)"}},children:[t.jsx(jn,{src:e.logoUrl,sx:{width:48,height:48,borderRadius:1.5,bgcolor:"primary.main"}}),t.jsxs(P,{sx:{flex:1,minWidth:0},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:.5},children:[t.jsx(v,{variant:"body1",sx:{fontWeight:600,color:"text.primary",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"0.9rem"},children:e.name}),c?t.jsx(Ze,{label:d==null?void 0:d.name,color:"primary",onDelete:p,size:"small",sx:{height:24}}):t.jsx($e,{size:"small",onClick:p,sx:{bgcolor:"primary.main",color:"white",width:32,height:32,"&:hover":{bgcolor:"primary.dark"}},children:t.jsx(gc,{sx:{fontSize:18}})})]}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:.5,display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",fontSize:"0.8rem"},children:e.description}),t.jsxs(he,{direction:"row",spacing:2,sx:{color:"text.secondary",fontSize:"0.75rem"},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(Gf,{sx:{fontSize:14}}),(y=(b=e.stats)==null?void 0:b.activeSubscriptionCount)==null?void 0:y.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1})]}),t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(gc,{sx:{fontSize:14}}),((m=e.stats)==null?void 0:m.tierCount)||0," Tiers"]})]})]})]})},[UM,Ss]=sf(),zM=({children:e})=>{const{api:n,isAuthenticated:r}=Je(),{user:s}=Fo(),{execute:o}=et(),[a,c]=g.useState(null),[d,u]=g.useState(!1),h=async()=>{if(!(s!=null&&s.uid))return;u(!0);const x=await o(()=>n.accountApi.getProfile(),{showErrorToast:!1});x&&c(x),u(!1)};g.useEffect(()=>{r&&h()},[s==null?void 0:s.uid,r]);const p={profile:a,isLoading:d,channelRelations:{getSubscription:x=>{var b;return((b=a==null?void 0:a.subscriptions)==null?void 0:b.find(y=>y.channelId===x))??null},getSubscriptions:()=>(a==null?void 0:a.subscriptions)??[],hasSubscription:x=>{var b;return((b=a==null?void 0:a.subscriptions)==null?void 0:b.some(y=>y.channelId===x))??!1},hasChannel:()=>{var x;return((x=a==null?void 0:a.staffChannels)==null?void 0:x.length)&&a.staffChannels.length>0},getSubscriptionTier:x=>{var b,y;return((y=(b=a==null?void 0:a.subscriptions)==null?void 0:b.find(m=>m.channelId===x))==null?void 0:y.tier)??null}},actions:{refreshProfile:h}};return t.jsx(UM.Provider,{value:p,children:e})},HM=()=>{const e=lo(),n=It(),[r,s]=g.useState([]),[o,a]=g.useState(1),[c,d]=g.useState(10),[u,h]=g.useState(!0),[p,x]=g.useState([]),{api:b}=Je(),{actions:y,channelRelations:m}=Ss(),{execute:w}=et();g.useEffect(()=>{const I=new URLSearchParams(e.search).get("tags");if(I){const N=I.split(",").map(O=>decodeURIComponent(O.trim()));x(N)}},[e.search]);const j=()=>{D(o+1)},D=async(T=o)=>{const I=p.length>0?{tags:p}:{},N=await w(()=>b==null?void 0:b.channelApi.getChannels(I,{page:T,limit:c}),{showErrorToast:!0});N&&(s(T===1?N.items??[]:O=>[...O,...N.items??[]]),a(N.metadata.currentPage??1),d(N.metadata.limit??10),h(N.metadata.hasNext===!0))};g.useEffect(()=>{a(1),D(1)},[p]);const C=async(T,I)=>{var $,B,H,k;if(!I)return;const N=r.find(ne=>ne.id===T),O=($=N==null?void 0:N.tiers)==null?void 0:$.find(ne=>ne.id===I);if(O)try{const ne=await((B=b==null?void 0:b.subscriptionApi)==null?void 0:B.createDirectSubscription(T,{tierId:I,notificationLevel:1,paymentMethodId:O.price>0?"paypal_default":void 0}));ne!=null&&ne.approvalUrl?window.open(ne.approvalUrl,"paypal_payment","width=600,height=700,scrollbars=yes,resizable=yes")||alert("Popup blocked! Please allow popups and try again."):await y.refreshProfile()}catch(ne){console.error("Subscription failed:",ne);const K=((k=(H=ne==null?void 0:ne.response)==null?void 0:H.data)==null?void 0:k.message)||(ne==null?void 0:ne.message)||"";(K.includes("PAYMENT_METHOD_REQUIRED")||K.includes("PayPal payment method")||K.includes("No PayPal payment method found"))&&window.confirm("You need to add a PayPal payment method to subscribe to paid tiers. Would you like to add one now?")&&n("/app/account/payment-methods")}},R=async T=>{await w(()=>b==null?void 0:b.channelApi.unsubscribeFromChannel(T),{showSuccessMessage:!0,successMessage:"Membership cancelled successfully!"})&&await y.refreshProfile()},E=T=>{x(T);const I=new URLSearchParams(e.search);T.length>0?I.set("tags",T.map(O=>encodeURIComponent(O)).join(",")):I.delete("tags");const N=`${e.pathname}?${I.toString()}`;n(N,{replace:!0})};return t.jsxs(P,{sx:{width:"100%",overflow:"hidden"},children:[t.jsxs(P,{sx:{mb:3,maxWidth:800,mx:"auto"},children:[t.jsx(v,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600},children:"Discover Channels"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Find and subscribe to channels from your favorite journalists"})]}),t.jsx(P,{sx:{mb:3,maxWidth:800,mx:"auto"},children:t.jsx(Xc,{selectedTags:p,onTagsChange:E,contentType:"channels",maxTags:3,showCounts:!1})}),t.jsx(P,{sx:{maxWidth:800,mx:"auto"},children:t.jsx(co,{dataLength:r.length,next:j,hasMore:u,loader:t.jsx(he,{spacing:2,sx:{mt:2},children:[...Array(2)].map((T,I)=>t.jsxs(P,{sx:{display:"flex",gap:2,p:2,borderRadius:2,bgcolor:N=>N.palette.mode==="dark"?Ie(N.palette.common.white,.05):Ie(N.palette.common.black,.03)},children:[t.jsx(P,{sx:{width:56,height:56,borderRadius:2,bgcolor:N=>N.palette.mode==="dark"?Ie(N.palette.common.white,.1):Ie(N.palette.common.black,.1)}}),t.jsxs(P,{sx:{flex:1,minWidth:0},children:[t.jsx(P,{sx:{height:24,width:"40%",mb:1,borderRadius:.5,bgcolor:"grey.300"}}),t.jsx(P,{sx:{height:16,width:"80%",mb:1,borderRadius:.5,bgcolor:"grey.200"}}),t.jsx(P,{sx:{height:16,width:"30%",borderRadius:.5,bgcolor:"grey.200"}})]})]},I))}),endMessage:t.jsx(P,{sx:{textAlign:"center",mt:4,color:"text.secondary",fontSize:"0.875rem"},children:"No more channels to display"}),children:t.jsx(he,{spacing:2.5,children:r.map(T=>t.jsx(VM,{channel:T,hasSubscription:m.hasSubscription(T.id),subscriptionTier:m.getSubscriptionTier(T.id),onJoin:C,onCancel:R},T.id))})})})]})};var Kf={},YM=tt;Object.defineProperty(Kf,"__esModule",{value:!0});var Vv=Kf.default=void 0,GM=YM(nt()),qM=t;Vv=Kf.default=(0,GM.default)((0,qM.jsx)("path",{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27z"}),"Layers");var Xf={},KM=tt;Object.defineProperty(Xf,"__esModule",{value:!0});var Uv=Xf.default=void 0,XM=KM(nt()),JM=t;Uv=Xf.default=(0,XM.default)((0,JM.jsx)("path",{d:"M1 11h4v11H1zm15-7.75C16.65 2.49 17.66 2 18.7 2 20.55 2 22 3.45 22 5.3c0 2.27-2.91 4.9-6 7.7-3.09-2.81-6-5.44-6-7.7C10 3.45 11.45 2 13.3 2c1.04 0 2.05.49 2.7 1.25M20 17h-7l-2.09-.73.33-.94L13 16h2.82c.65 0 1.18-.53 1.18-1.18 0-.49-.31-.93-.77-1.11L8.97 11H7v9.02L14 22l8.01-3c-.01-1.1-.9-2-2.01-2"}),"VolunteerActivism");var Jf={},QM=tt;Object.defineProperty(Jf,"__esModule",{value:!0});var zv=Jf.default=void 0,ZM=QM(nt()),ek=t;zv=Jf.default=(0,ZM.default)((0,ek.jsx)("path",{d:"M11 14H9c0-4.97 4.03-9 9-9v2c-3.87 0-7 3.13-7 7m7-3V9c-2.76 0-5 2.24-5 5h2c0-1.66 1.34-3 3-3M7 4c0-1.11-.89-2-2-2s-2 .89-2 2 .89 2 2 2 2-.89 2-2m4.45.5h-2C9.21 5.92 7.99 7 6.5 7h-3C2.67 7 2 7.67 2 8.5V11h6V8.74c1.86-.59 3.25-2.23 3.45-4.24M19 17c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2m1.5 1h-3c-1.49 0-2.71-1.08-2.95-2.5h-2c.2 2.01 1.59 3.65 3.45 4.24V22h6v-2.5c0-.83-.67-1.5-1.5-1.5"}),"ConnectWithoutContact");var Qf={},tk=tt;Object.defineProperty(Qf,"__esModule",{value:!0});var Hv=Qf.default=void 0,nk=tk(nt()),rk=t;Hv=Qf.default=(0,nk.default)((0,rk.jsx)("path",{d:"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2zm-9-2h10V8H12zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"AccountBalanceWallet");var Zf={},sk=tt;Object.defineProperty(Zf,"__esModule",{value:!0});var ep=Zf.default=void 0,ok=sk(nt()),ik=t;ep=Zf.default=(0,ok.default)((0,ik.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info");var tp={},ak=tt;Object.defineProperty(tp,"__esModule",{value:!0});var ya=tp.default=void 0,lk=ak(nt()),ck=t;ya=tp.default=(0,lk.default)((0,ck.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Article");var np={},dk=tt;Object.defineProperty(np,"__esModule",{value:!0});var Yv=np.default=void 0,uk=dk(nt()),hk=t;Yv=np.default=(0,uk.default)((0,hk.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email");const Gv=6048e5,fk=864e5,qv=6e4,Kv=36e5,pk=1e3,Ll=43200,fb=1440,pb=Symbol.for("constructDateFrom");function en(e,n){return typeof e=="function"?e(n):e&&typeof e=="object"&&pb in e?e[pb](n):e instanceof Date?new e.constructor(n):new Date(n)}function Ke(e,n){return en(n||e,e)}function Zc(e,n,r){const s=Ke(e,r==null?void 0:r.in);return isNaN(n)?en((r==null?void 0:r.in)||e,NaN):(n&&s.setDate(s.getDate()+n),s)}function Xv(e,n,r){const s=Ke(e,r==null?void 0:r.in);if(isNaN(n))return en(e,NaN);if(!n)return s;const o=s.getDate(),a=en(e,s.getTime());a.setMonth(s.getMonth()+n+1,0);const c=a.getDate();return o>=c?a:(s.setFullYear(a.getFullYear(),a.getMonth(),o),s)}function Jv(e,n,r){return en(e,+Ke(e)+n)}function xk(e,n,r){return Jv(e,n*Kv)}let mk={};function uo(){return mk}function Ls(e,n){var d,u,h,p;const r=uo(),s=(n==null?void 0:n.weekStartsOn)??((u=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,o=Ke(e,n==null?void 0:n.in),a=o.getDay(),c=(a<s?7:0)+a-s;return o.setDate(o.getDate()-c),o.setHours(0,0,0,0),o}function vi(e,n){return Ls(e,{...n,weekStartsOn:1})}function Qv(e,n){const r=Ke(e,n==null?void 0:n.in),s=r.getFullYear(),o=en(r,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const a=vi(o),c=en(r,0);c.setFullYear(s,0,4),c.setHours(0,0,0,0);const d=vi(c);return r.getTime()>=a.getTime()?s+1:r.getTime()>=d.getTime()?s:s-1}function ji(e){const n=Ke(e),r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return r.setUTCFullYear(n.getFullYear()),+e-+r}function ho(e,...n){const r=en.bind(null,e||n.find(s=>typeof s=="object"));return n.map(r)}function va(e,n){const r=Ke(e,n==null?void 0:n.in);return r.setHours(0,0,0,0),r}function gk(e,n,r){const[s,o]=ho(r==null?void 0:r.in,e,n),a=va(s),c=va(o),d=+a-ji(a),u=+c-ji(c);return Math.round((d-u)/fk)}function bk(e,n){const r=Qv(e,n),s=en(e,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),vi(s)}function yk(e,n,r){const s=Ke(e,r==null?void 0:r.in);return s.setTime(s.getTime()+n*qv),s}function vk(e,n,r){return Jv(e,n*1e3)}function jk(e,n,r){return Zc(e,n*7,r)}function wk(e,n,r){return Xv(e,n*12,r)}function Yl(e,n){const r=+Ke(e)-+Ke(n);return r<0?-1:r>0?1:r}function Sk(e){return en(e,Date.now())}function Ck(e,n,r){const[s,o]=ho(r==null?void 0:r.in,e,n);return+va(s)==+va(o)}function Pk(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Zv(e){return!(!Pk(e)&&typeof e!="number"||isNaN(+Ke(e)))}function Dk(e,n,r){const[s,o]=ho(r==null?void 0:r.in,e,n),a=s.getFullYear()-o.getFullYear(),c=s.getMonth()-o.getMonth();return a*12+c}function Tk(e){return n=>{const s=(e?Math[e]:Math.trunc)(n);return s===0?0:s}}function Ik(e,n){return+Ke(e)-+Ke(n)}function jh(e,n){const r=Ke(e,n==null?void 0:n.in);return r.setHours(23,59,59,999),r}function e0(e,n){const r=Ke(e,n==null?void 0:n.in),s=r.getMonth();return r.setFullYear(r.getFullYear(),s+1,0),r.setHours(23,59,59,999),r}function Ek(e,n){const r=Ke(e,n==null?void 0:n.in);return+jh(r,n)==+e0(r,n)}function Ak(e,n,r){const[s,o,a]=ho(r==null?void 0:r.in,e,e,n),c=Yl(o,a),d=Math.abs(Dk(o,a));if(d<1)return 0;o.getMonth()===1&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-c*d);let u=Yl(o,a)===-c;Ek(s)&&d===1&&Yl(s,a)===1&&(u=!1);const h=c*(d-+u);return h===0?0:h}function Rk(e,n,r){const s=Ik(e,n)/1e3;return Tk(r==null?void 0:r.roundingMethod)(s)}function _k(e,n){const r=Ke(e,n==null?void 0:n.in);return r.setDate(1),r.setHours(0,0,0,0),r}function xb(e,n){const r=Ke(e,n==null?void 0:n.in),s=r.getFullYear();return r.setFullYear(s+1,0,0),r.setHours(23,59,59,999),r}function t0(e,n){const r=Ke(e,n==null?void 0:n.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Ok(e,n){var d,u,h,p;const r=uo(),s=(n==null?void 0:n.weekStartsOn)??((u=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,o=Ke(e,n==null?void 0:n.in),a=o.getDay(),c=(a<s?-7:0)+6-(a-s);return o.setDate(o.getDate()+c),o.setHours(23,59,59,999),o}const Mk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kk=(e,n,r)=>{let s;const o=Mk[e];return typeof o=="string"?s=o:n===1?s=o.one:s=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Uu(e){return(n={})=>{const r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Nk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Lk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$k={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fk={date:Uu({formats:Nk,defaultWidth:"full"}),time:Uu({formats:Lk,defaultWidth:"full"}),dateTime:Uu({formats:$k,defaultWidth:"full"})},Wk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Bk=(e,n,r,s)=>Wk[e];function ea(e){return(n,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let o;if(s==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,d=r!=null&&r.width?String(r.width):c;o=e.formattingValues[d]||e.formattingValues[c]}else{const c=e.defaultWidth,d=r!=null&&r.width?String(r.width):e.defaultWidth;o=e.values[d]||e.values[c]}const a=e.argumentCallback?e.argumentCallback(n):n;return o[a]}}const Vk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Uk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},zk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Hk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Yk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Gk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},qk=(e,n)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Kk={ordinalNumber:qk,era:ea({values:Vk,defaultWidth:"wide"}),quarter:ea({values:Uk,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ea({values:zk,defaultWidth:"wide"}),day:ea({values:Hk,defaultWidth:"wide"}),dayPeriod:ea({values:Yk,defaultWidth:"wide",formattingValues:Gk,defaultFormattingWidth:"wide"})};function ta(e){return(n,r={})=>{const s=r.width,o=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],a=n.match(o);if(!a)return null;const c=a[0],d=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(d)?Jk(d,x=>x.test(c)):Xk(d,x=>x.test(c));let h;h=e.valueCallback?e.valueCallback(u):u,h=r.valueCallback?r.valueCallback(h):h;const p=n.slice(c.length);return{value:h,rest:p}}}function Xk(e,n){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n(e[r]))return r}function Jk(e,n){for(let r=0;r<e.length;r++)if(n(e[r]))return r}function Qk(e){return(n,r={})=>{const s=n.match(e.matchPattern);if(!s)return null;const o=s[0],a=n.match(e.parsePattern);if(!a)return null;let c=e.valueCallback?e.valueCallback(a[0]):a[0];c=r.valueCallback?r.valueCallback(c):c;const d=n.slice(o.length);return{value:c,rest:d}}}const Zk=/^(\d+)(th|st|nd|rd)?/i,eN=/\d+/i,tN={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nN={any:[/^b/i,/^(a|c)/i]},rN={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sN={any:[/1/i,/2/i,/3/i,/4/i]},oN={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},iN={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aN={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lN={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cN={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dN={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},uN={ordinalNumber:Qk({matchPattern:Zk,parsePattern:eN,valueCallback:e=>parseInt(e,10)}),era:ta({matchPatterns:tN,defaultMatchWidth:"wide",parsePatterns:nN,defaultParseWidth:"any"}),quarter:ta({matchPatterns:rN,defaultMatchWidth:"wide",parsePatterns:sN,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ta({matchPatterns:oN,defaultMatchWidth:"wide",parsePatterns:iN,defaultParseWidth:"any"}),day:ta({matchPatterns:aN,defaultMatchWidth:"wide",parsePatterns:lN,defaultParseWidth:"any"}),dayPeriod:ta({matchPatterns:cN,defaultMatchWidth:"any",parsePatterns:dN,defaultParseWidth:"any"})},ed={code:"en-US",formatDistance:kk,formatLong:Fk,formatRelative:Bk,localize:Kk,match:uN,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hN(e,n){const r=Ke(e,n==null?void 0:n.in);return gk(r,t0(r))+1}function n0(e,n){const r=Ke(e,n==null?void 0:n.in),s=+vi(r)-+bk(r);return Math.round(s/Gv)+1}function rp(e,n){var p,x,b,y;const r=Ke(e,n==null?void 0:n.in),s=r.getFullYear(),o=uo(),a=(n==null?void 0:n.firstWeekContainsDate)??((x=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:x.firstWeekContainsDate)??o.firstWeekContainsDate??((y=(b=o.locale)==null?void 0:b.options)==null?void 0:y.firstWeekContainsDate)??1,c=en((n==null?void 0:n.in)||e,0);c.setFullYear(s+1,0,a),c.setHours(0,0,0,0);const d=Ls(c,n),u=en((n==null?void 0:n.in)||e,0);u.setFullYear(s,0,a),u.setHours(0,0,0,0);const h=Ls(u,n);return+r>=+d?s+1:+r>=+h?s:s-1}function fN(e,n){var d,u,h,p;const r=uo(),s=(n==null?void 0:n.firstWeekContainsDate)??((u=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=rp(e,n),a=en((n==null?void 0:n.in)||e,0);return a.setFullYear(o,0,s),a.setHours(0,0,0,0),Ls(a,n)}function sp(e,n){const r=Ke(e,n==null?void 0:n.in),s=+Ls(r,n)-+fN(r,n);return Math.round(s/Gv)+1}function Ut(e,n){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(n,"0");return r+s}const Qs={y(e,n){const r=e.getFullYear(),s=r>0?r:1-r;return Ut(n==="yy"?s%100:s,n.length)},M(e,n){const r=e.getMonth();return n==="M"?String(r+1):Ut(r+1,2)},d(e,n){return Ut(e.getDate(),n.length)},a(e,n){const r=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,n){return Ut(e.getHours()%12||12,n.length)},H(e,n){return Ut(e.getHours(),n.length)},m(e,n){return Ut(e.getMinutes(),n.length)},s(e,n){return Ut(e.getSeconds(),n.length)},S(e,n){const r=n.length,s=e.getMilliseconds(),o=Math.trunc(s*Math.pow(10,r-3));return Ut(o,n.length)}},ii={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mb={G:function(e,n,r){const s=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){const s=e.getFullYear(),o=s>0?s:1-s;return r.ordinalNumber(o,{unit:"year"})}return Qs.y(e,n)},Y:function(e,n,r,s){const o=rp(e,s),a=o>0?o:1-o;if(n==="YY"){const c=a%100;return Ut(c,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):Ut(a,n.length)},R:function(e,n){const r=Qv(e);return Ut(r,n.length)},u:function(e,n){const r=e.getFullYear();return Ut(r,n.length)},Q:function(e,n,r){const s=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return Ut(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){const s=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return Ut(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){const s=e.getMonth();switch(n){case"M":case"MM":return Qs.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){const s=e.getMonth();switch(n){case"L":return String(s+1);case"LL":return Ut(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){const o=sp(e,s);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):Ut(o,n.length)},I:function(e,n,r){const s=n0(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):Ut(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Qs.d(e,n)},D:function(e,n,r){const s=hN(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Ut(s,n.length)},E:function(e,n,r){const s=e.getDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){const o=e.getDay(),a=(o-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return Ut(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){const o=e.getDay(),a=(o-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return Ut(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){const s=e.getDay(),o=s===0?7:s;switch(n){case"i":return String(o);case"ii":return Ut(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){const o=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){const s=e.getHours();let o;switch(s===12?o=ii.noon:s===0?o=ii.midnight:o=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){const s=e.getHours();let o;switch(s>=17?o=ii.evening:s>=12?o=ii.afternoon:s>=4?o=ii.morning:o=ii.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Qs.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Qs.H(e,n)},K:function(e,n,r){const s=e.getHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Ut(s,n.length)},k:function(e,n,r){let s=e.getHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):Ut(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Qs.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Qs.s(e,n)},S:function(e,n){return Qs.S(e,n)},X:function(e,n,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return bb(s);case"XXXX":case"XX":return Eo(s);case"XXXXX":case"XXX":default:return Eo(s,":")}},x:function(e,n,r){const s=e.getTimezoneOffset();switch(n){case"x":return bb(s);case"xxxx":case"xx":return Eo(s);case"xxxxx":case"xxx":default:return Eo(s,":")}},O:function(e,n,r){const s=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+gb(s,":");case"OOOO":default:return"GMT"+Eo(s,":")}},z:function(e,n,r){const s=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+gb(s,":");case"zzzz":default:return"GMT"+Eo(s,":")}},t:function(e,n,r){const s=Math.trunc(+e/1e3);return Ut(s,n.length)},T:function(e,n,r){return Ut(+e,n.length)}};function gb(e,n=""){const r=e>0?"-":"+",s=Math.abs(e),o=Math.trunc(s/60),a=s%60;return a===0?r+String(o):r+String(o)+n+Ut(a,2)}function bb(e,n){return e%60===0?(e>0?"-":"+")+Ut(Math.abs(e)/60,2):Eo(e,n)}function Eo(e,n=""){const r=e>0?"-":"+",s=Math.abs(e),o=Ut(Math.trunc(s/60),2),a=Ut(s%60,2);return r+o+n+a}const yb=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},r0=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},pN=(e,n)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],o=r[2];if(!o)return yb(e,n);let a;switch(s){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",yb(s,n)).replace("{{time}}",r0(o,n))},bc={p:r0,P:pN},xN=/^D+$/,mN=/^Y+$/,gN=["D","DD","YY","YYYY"];function s0(e){return xN.test(e)}function o0(e){return mN.test(e)}function wh(e,n,r){const s=bN(e,n,r);if(console.warn(s),gN.includes(e))throw new RangeError(s)}function bN(e,n,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jN=/^'([^]*?)'?$/,wN=/''/g,SN=/[a-zA-Z]/;function op(e,n,r){var p,x,b,y,m,w,j,D;const s=uo(),o=(r==null?void 0:r.locale)??s.locale??ed,a=(r==null?void 0:r.firstWeekContainsDate)??((x=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:x.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(b=s.locale)==null?void 0:b.options)==null?void 0:y.firstWeekContainsDate)??1,c=(r==null?void 0:r.weekStartsOn)??((w=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:w.weekStartsOn)??s.weekStartsOn??((D=(j=s.locale)==null?void 0:j.options)==null?void 0:D.weekStartsOn)??0,d=Ke(e,r==null?void 0:r.in);if(!Zv(d))throw new RangeError("Invalid time value");let u=n.match(vN).map(C=>{const R=C[0];if(R==="p"||R==="P"){const E=bc[R];return E(C,o.formatLong)}return C}).join("").match(yN).map(C=>{if(C==="''")return{isToken:!1,value:"'"};const R=C[0];if(R==="'")return{isToken:!1,value:CN(C)};if(mb[R])return{isToken:!0,value:C};if(R.match(SN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return{isToken:!1,value:C}});o.localize.preprocessor&&(u=o.localize.preprocessor(d,u));const h={firstWeekContainsDate:a,weekStartsOn:c,locale:o};return u.map(C=>{if(!C.isToken)return C.value;const R=C.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&o0(R)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&s0(R))&&wh(R,n,String(e));const E=mb[R[0]];return E(d,R,o.localize,h)}).join("")}function CN(e){const n=e.match(jN);return n?n[1].replace(wN,"'"):e}function PN(e,n,r){const s=uo(),o=(r==null?void 0:r.locale)??s.locale??ed,a=2520,c=Yl(e,n);if(isNaN(c))throw new RangeError("Invalid time value");const d=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:c}),[u,h]=ho(r==null?void 0:r.in,...c>0?[n,e]:[e,n]),p=Rk(h,u),x=(ji(h)-ji(u))/1e3,b=Math.round((p-x)/60);let y;if(b<2)return r!=null&&r.includeSeconds?p<5?o.formatDistance("lessThanXSeconds",5,d):p<10?o.formatDistance("lessThanXSeconds",10,d):p<20?o.formatDistance("lessThanXSeconds",20,d):p<40?o.formatDistance("halfAMinute",0,d):p<60?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",1,d):b===0?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",b,d);if(b<45)return o.formatDistance("xMinutes",b,d);if(b<90)return o.formatDistance("aboutXHours",1,d);if(b<fb){const m=Math.round(b/60);return o.formatDistance("aboutXHours",m,d)}else{if(b<a)return o.formatDistance("xDays",1,d);if(b<Ll){const m=Math.round(b/fb);return o.formatDistance("xDays",m,d)}else if(b<Ll*2)return y=Math.round(b/Ll),o.formatDistance("aboutXMonths",y,d)}if(y=Ak(h,u),y<12){const m=Math.round(b/Ll);return o.formatDistance("xMonths",m,d)}else{const m=y%12,w=Math.trunc(y/12);return m<3?o.formatDistance("aboutXYears",w,d):m<9?o.formatDistance("overXYears",w,d):o.formatDistance("almostXYears",w+1,d)}}function zr(e,n){return PN(e,Sk(e),n)}function DN(e,n){return Ke(e,n==null?void 0:n.in).getDate()}function i0(e,n){const r=Ke(e,n==null?void 0:n.in),s=r.getFullYear(),o=r.getMonth(),a=en(r,0);return a.setFullYear(s,o+1,0),a.setHours(0,0,0,0),a.getDate()}function TN(){return Object.assign({},uo())}function IN(e,n){return Ke(e,n==null?void 0:n.in).getHours()}function EN(e,n){const r=Ke(e,n==null?void 0:n.in).getDay();return r===0?7:r}function AN(e){return Ke(e).getMilliseconds()}function RN(e,n){return Ke(e,n==null?void 0:n.in).getMinutes()}function _N(e,n){return Ke(e,n==null?void 0:n.in).getMonth()}function ON(e){return Ke(e).getSeconds()}function MN(e,n){return Ke(e,n==null?void 0:n.in).getFullYear()}function zu(e,n){return+Ke(e)>+Ke(n)}function Hu(e,n){return+Ke(e)<+Ke(n)}function kN(e,n){return+Ke(e)==+Ke(n)}function NN(e,n){const r=LN(n)?new n(0):en(n,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function LN(e){var n;return typeof e=="function"&&((n=e.prototype)==null?void 0:n.constructor)===e}const $N=10;class a0{constructor(){Ae(this,"subPriority",0)}validate(n,r){return!0}}class FN extends a0{constructor(n,r,s,o,a){super(),this.value=n,this.validateValue=r,this.setValue=s,this.priority=o,a&&(this.subPriority=a)}validate(n,r){return this.validateValue(n,this.value,r)}set(n,r,s){return this.setValue(n,r,this.value,s)}}class WN extends a0{constructor(r,s){super();Ae(this,"priority",$N);Ae(this,"subPriority",-1);this.context=r||(o=>en(s,o))}set(r,s){return s.timestampIsSet?r:en(r,NN(r,this.context))}}class Nt{run(n,r,s,o){const a=this.parse(n,r,s,o);return a?{setter:new FN(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(n,r,s){return!0}}class BN extends Nt{constructor(){super(...arguments);Ae(this,"priority",140);Ae(this,"incompatibleTokens",["R","u","t","T"])}parse(r,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"});case"GGGGG":return o.era(r,{width:"narrow"});case"GGGG":default:return o.era(r,{width:"wide"})||o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"})}}set(r,s,o){return s.era=o,r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}const wn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},xs={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Sn(e,n){return e&&{value:n(e.value),rest:e.rest}}function hn(e,n){const r=n.match(e);return r?{value:parseInt(r[0],10),rest:n.slice(r[0].length)}:null}function ms(e,n){const r=n.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:n.slice(1)};const s=r[1]==="+"?1:-1,o=r[2]?parseInt(r[2],10):0,a=r[3]?parseInt(r[3],10):0,c=r[5]?parseInt(r[5],10):0;return{value:s*(o*Kv+a*qv+c*pk),rest:n.slice(r[0].length)}}function l0(e){return hn(wn.anyDigitsSigned,e)}function bn(e,n){switch(e){case 1:return hn(wn.singleDigit,n);case 2:return hn(wn.twoDigits,n);case 3:return hn(wn.threeDigits,n);case 4:return hn(wn.fourDigits,n);default:return hn(new RegExp("^\\d{1,"+e+"}"),n)}}function yc(e,n){switch(e){case 1:return hn(wn.singleDigitSigned,n);case 2:return hn(wn.twoDigitsSigned,n);case 3:return hn(wn.threeDigitsSigned,n);case 4:return hn(wn.fourDigitsSigned,n);default:return hn(new RegExp("^-?\\d{1,"+e+"}"),n)}}function ip(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function c0(e,n){const r=n>0,s=r?n:1-n;let o;if(s<=50)o=e||100;else{const a=s+50,c=Math.trunc(a/100)*100,d=e>=a%100;o=e+c-(d?100:0)}return r?o:1-o}function d0(e){return e%400===0||e%4===0&&e%100!==0}class VN extends Nt{constructor(){super(...arguments);Ae(this,"priority",130);Ae(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,s,o){const a=c=>({year:c,isTwoDigitYear:s==="yy"});switch(s){case"y":return Sn(bn(4,r),a);case"yo":return Sn(o.ordinalNumber(r,{unit:"year"}),a);default:return Sn(bn(s.length,r),a)}}validate(r,s){return s.isTwoDigitYear||s.year>0}set(r,s,o){const a=r.getFullYear();if(o.isTwoDigitYear){const d=c0(o.year,a);return r.setFullYear(d,0,1),r.setHours(0,0,0,0),r}const c=!("era"in s)||s.era===1?o.year:1-o.year;return r.setFullYear(c,0,1),r.setHours(0,0,0,0),r}}class UN extends Nt{constructor(){super(...arguments);Ae(this,"priority",130);Ae(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,s,o){const a=c=>({year:c,isTwoDigitYear:s==="YY"});switch(s){case"Y":return Sn(bn(4,r),a);case"Yo":return Sn(o.ordinalNumber(r,{unit:"year"}),a);default:return Sn(bn(s.length,r),a)}}validate(r,s){return s.isTwoDigitYear||s.year>0}set(r,s,o,a){const c=rp(r,a);if(o.isTwoDigitYear){const u=c0(o.year,c);return r.setFullYear(u,0,a.firstWeekContainsDate),r.setHours(0,0,0,0),Ls(r,a)}const d=!("era"in s)||s.era===1?o.year:1-o.year;return r.setFullYear(d,0,a.firstWeekContainsDate),r.setHours(0,0,0,0),Ls(r,a)}}class zN extends Nt{constructor(){super(...arguments);Ae(this,"priority",130);Ae(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,s){return yc(s==="R"?4:s.length,r)}set(r,s,o){const a=en(r,0);return a.setFullYear(o,0,4),a.setHours(0,0,0,0),vi(a)}}class HN extends Nt{constructor(){super(...arguments);Ae(this,"priority",130);Ae(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,s){return yc(s==="u"?4:s.length,r)}set(r,s,o){return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class YN extends Nt{constructor(){super(...arguments);Ae(this,"priority",120);Ae(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,s,o){switch(s){case"Q":case"QQ":return bn(s.length,r);case"Qo":return o.ordinalNumber(r,{unit:"quarter"});case"QQQ":return o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(r,{width:"wide",context:"formatting"})||o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=1&&s<=4}set(r,s,o){return r.setMonth((o-1)*3,1),r.setHours(0,0,0,0),r}}class GN extends Nt{constructor(){super(...arguments);Ae(this,"priority",120);Ae(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,s,o){switch(s){case"q":case"qq":return bn(s.length,r);case"qo":return o.ordinalNumber(r,{unit:"quarter"});case"qqq":return o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(r,{width:"wide",context:"standalone"})||o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=1&&s<=4}set(r,s,o){return r.setMonth((o-1)*3,1),r.setHours(0,0,0,0),r}}class qN extends Nt{constructor(){super(...arguments);Ae(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ae(this,"priority",110)}parse(r,s,o){const a=c=>c-1;switch(s){case"M":return Sn(hn(wn.month,r),a);case"MM":return Sn(bn(2,r),a);case"Mo":return Sn(o.ordinalNumber(r,{unit:"month"}),a);case"MMM":return o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(r,{width:"wide",context:"formatting"})||o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=11}set(r,s,o){return r.setMonth(o,1),r.setHours(0,0,0,0),r}}class KN extends Nt{constructor(){super(...arguments);Ae(this,"priority",110);Ae(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,s,o){const a=c=>c-1;switch(s){case"L":return Sn(hn(wn.month,r),a);case"LL":return Sn(bn(2,r),a);case"Lo":return Sn(o.ordinalNumber(r,{unit:"month"}),a);case"LLL":return o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(r,{width:"wide",context:"standalone"})||o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=0&&s<=11}set(r,s,o){return r.setMonth(o,1),r.setHours(0,0,0,0),r}}function XN(e,n,r){const s=Ke(e,r==null?void 0:r.in),o=sp(s,r)-n;return s.setDate(s.getDate()-o*7),Ke(s,r==null?void 0:r.in)}class JN extends Nt{constructor(){super(...arguments);Ae(this,"priority",100);Ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,s,o){switch(s){case"w":return hn(wn.week,r);case"wo":return o.ordinalNumber(r,{unit:"week"});default:return bn(s.length,r)}}validate(r,s){return s>=1&&s<=53}set(r,s,o,a){return Ls(XN(r,o,a),a)}}function QN(e,n,r){const s=Ke(e,r==null?void 0:r.in),o=n0(s,r)-n;return s.setDate(s.getDate()-o*7),s}class ZN extends Nt{constructor(){super(...arguments);Ae(this,"priority",100);Ae(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,s,o){switch(s){case"I":return hn(wn.week,r);case"Io":return o.ordinalNumber(r,{unit:"week"});default:return bn(s.length,r)}}validate(r,s){return s>=1&&s<=53}set(r,s,o){return vi(QN(r,o))}}const eL=[31,28,31,30,31,30,31,31,30,31,30,31],tL=[31,29,31,30,31,30,31,31,30,31,30,31];class nL extends Nt{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"subPriority",1);Ae(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,s,o){switch(s){case"d":return hn(wn.date,r);case"do":return o.ordinalNumber(r,{unit:"date"});default:return bn(s.length,r)}}validate(r,s){const o=r.getFullYear(),a=d0(o),c=r.getMonth();return a?s>=1&&s<=tL[c]:s>=1&&s<=eL[c]}set(r,s,o){return r.setDate(o),r.setHours(0,0,0,0),r}}class rL extends Nt{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"subpriority",1);Ae(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,s,o){switch(s){case"D":case"DD":return hn(wn.dayOfYear,r);case"Do":return o.ordinalNumber(r,{unit:"date"});default:return bn(s.length,r)}}validate(r,s){const o=r.getFullYear();return d0(o)?s>=1&&s<=366:s>=1&&s<=365}set(r,s,o){return r.setMonth(0,o),r.setHours(0,0,0,0),r}}function ap(e,n,r){var x,b,y,m;const s=uo(),o=(r==null?void 0:r.weekStartsOn)??((b=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:b.weekStartsOn)??s.weekStartsOn??((m=(y=s.locale)==null?void 0:y.options)==null?void 0:m.weekStartsOn)??0,a=Ke(e,r==null?void 0:r.in),c=a.getDay(),u=(n%7+7)%7,h=7-o,p=n<0||n>6?n-(c+h)%7:(u+h)%7-(c+h)%7;return Zc(a,p,r)}class sL extends Nt{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=6}set(r,s,o,a){return r=ap(r,o,a),r.setHours(0,0,0,0),r}}class oL extends Nt{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,s,o,a){const c=d=>{const u=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+u};switch(s){case"e":case"ee":return Sn(bn(s.length,r),c);case"eo":return Sn(o.ordinalNumber(r,{unit:"day"}),c);case"eee":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeeee":return o.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=6}set(r,s,o,a){return r=ap(r,o,a),r.setHours(0,0,0,0),r}}class iL extends Nt{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,s,o,a){const c=d=>{const u=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+u};switch(s){case"c":case"cc":return Sn(bn(s.length,r),c);case"co":return Sn(o.ordinalNumber(r,{unit:"day"}),c);case"ccc":return o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"ccccc":return o.day(r,{width:"narrow",context:"standalone"});case"cccccc":return o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(r,{width:"wide",context:"standalone"})||o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=0&&s<=6}set(r,s,o,a){return r=ap(r,o,a),r.setHours(0,0,0,0),r}}function aL(e,n,r){const s=Ke(e,r==null?void 0:r.in),o=EN(s,r),a=n-o;return Zc(s,a,r)}class lL extends Nt{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,s,o){const a=c=>c===0?7:c;switch(s){case"i":case"ii":return bn(s.length,r);case"io":return o.ordinalNumber(r,{unit:"day"});case"iii":return Sn(o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),a);case"iiiii":return Sn(o.day(r,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Sn(o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Sn(o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),a)}}validate(r,s){return s>=1&&s<=7}set(r,s,o){return r=aL(r,o),r.setHours(0,0,0,0),r}}class cL extends Nt{constructor(){super(...arguments);Ae(this,"priority",80);Ae(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,o){return r.setHours(ip(o),0,0,0),r}}class dL extends Nt{constructor(){super(...arguments);Ae(this,"priority",80);Ae(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,o){return r.setHours(ip(o),0,0,0),r}}class uL extends Nt{constructor(){super(...arguments);Ae(this,"priority",80);Ae(this,"incompatibleTokens",["a","b","t","T"])}parse(r,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,o){return r.setHours(ip(o),0,0,0),r}}class hL extends Nt{constructor(){super(...arguments);Ae(this,"priority",70);Ae(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,s,o){switch(s){case"h":return hn(wn.hour12h,r);case"ho":return o.ordinalNumber(r,{unit:"hour"});default:return bn(s.length,r)}}validate(r,s){return s>=1&&s<=12}set(r,s,o){const a=r.getHours()>=12;return a&&o<12?r.setHours(o+12,0,0,0):!a&&o===12?r.setHours(0,0,0,0):r.setHours(o,0,0,0),r}}class fL extends Nt{constructor(){super(...arguments);Ae(this,"priority",70);Ae(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,s,o){switch(s){case"H":return hn(wn.hour23h,r);case"Ho":return o.ordinalNumber(r,{unit:"hour"});default:return bn(s.length,r)}}validate(r,s){return s>=0&&s<=23}set(r,s,o){return r.setHours(o,0,0,0),r}}class pL extends Nt{constructor(){super(...arguments);Ae(this,"priority",70);Ae(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,s,o){switch(s){case"K":return hn(wn.hour11h,r);case"Ko":return o.ordinalNumber(r,{unit:"hour"});default:return bn(s.length,r)}}validate(r,s){return s>=0&&s<=11}set(r,s,o){return r.getHours()>=12&&o<12?r.setHours(o+12,0,0,0):r.setHours(o,0,0,0),r}}class xL extends Nt{constructor(){super(...arguments);Ae(this,"priority",70);Ae(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,s,o){switch(s){case"k":return hn(wn.hour24h,r);case"ko":return o.ordinalNumber(r,{unit:"hour"});default:return bn(s.length,r)}}validate(r,s){return s>=1&&s<=24}set(r,s,o){const a=o<=24?o%24:o;return r.setHours(a,0,0,0),r}}class mL extends Nt{constructor(){super(...arguments);Ae(this,"priority",60);Ae(this,"incompatibleTokens",["t","T"])}parse(r,s,o){switch(s){case"m":return hn(wn.minute,r);case"mo":return o.ordinalNumber(r,{unit:"minute"});default:return bn(s.length,r)}}validate(r,s){return s>=0&&s<=59}set(r,s,o){return r.setMinutes(o,0,0),r}}class gL extends Nt{constructor(){super(...arguments);Ae(this,"priority",50);Ae(this,"incompatibleTokens",["t","T"])}parse(r,s,o){switch(s){case"s":return hn(wn.second,r);case"so":return o.ordinalNumber(r,{unit:"second"});default:return bn(s.length,r)}}validate(r,s){return s>=0&&s<=59}set(r,s,o){return r.setSeconds(o,0),r}}class bL extends Nt{constructor(){super(...arguments);Ae(this,"priority",30);Ae(this,"incompatibleTokens",["t","T"])}parse(r,s){const o=a=>Math.trunc(a*Math.pow(10,-s.length+3));return Sn(bn(s.length,r),o)}set(r,s,o){return r.setMilliseconds(o),r}}class yL extends Nt{constructor(){super(...arguments);Ae(this,"priority",10);Ae(this,"incompatibleTokens",["t","T","x"])}parse(r,s){switch(s){case"X":return ms(xs.basicOptionalMinutes,r);case"XX":return ms(xs.basic,r);case"XXXX":return ms(xs.basicOptionalSeconds,r);case"XXXXX":return ms(xs.extendedOptionalSeconds,r);case"XXX":default:return ms(xs.extended,r)}}set(r,s,o){return s.timestampIsSet?r:en(r,r.getTime()-ji(r)-o)}}class vL extends Nt{constructor(){super(...arguments);Ae(this,"priority",10);Ae(this,"incompatibleTokens",["t","T","X"])}parse(r,s){switch(s){case"x":return ms(xs.basicOptionalMinutes,r);case"xx":return ms(xs.basic,r);case"xxxx":return ms(xs.basicOptionalSeconds,r);case"xxxxx":return ms(xs.extendedOptionalSeconds,r);case"xxx":default:return ms(xs.extended,r)}}set(r,s,o){return s.timestampIsSet?r:en(r,r.getTime()-ji(r)-o)}}class jL extends Nt{constructor(){super(...arguments);Ae(this,"priority",40);Ae(this,"incompatibleTokens","*")}parse(r){return l0(r)}set(r,s,o){return[en(r,o*1e3),{timestampIsSet:!0}]}}class wL extends Nt{constructor(){super(...arguments);Ae(this,"priority",20);Ae(this,"incompatibleTokens","*")}parse(r){return l0(r)}set(r,s,o){return[en(r,o),{timestampIsSet:!0}]}}const SL={G:new BN,y:new VN,Y:new UN,R:new zN,u:new HN,Q:new YN,q:new GN,M:new qN,L:new KN,w:new JN,I:new ZN,d:new nL,D:new rL,E:new sL,e:new oL,c:new iL,i:new lL,a:new cL,b:new dL,B:new uL,h:new hL,H:new fL,K:new pL,k:new xL,m:new mL,s:new gL,S:new bL,X:new yL,x:new vL,t:new jL,T:new wL},CL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,PL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,DL=/^'([^]*?)'?$/,TL=/''/g,IL=/\S/,EL=/[a-zA-Z]/;function AL(e,n,r,s){var j,D,C,R,E,T,I,N;const o=()=>en((s==null?void 0:s.in)||r,NaN),a=TN(),c=(s==null?void 0:s.locale)??a.locale??ed,d=(s==null?void 0:s.firstWeekContainsDate)??((D=(j=s==null?void 0:s.locale)==null?void 0:j.options)==null?void 0:D.firstWeekContainsDate)??a.firstWeekContainsDate??((R=(C=a.locale)==null?void 0:C.options)==null?void 0:R.firstWeekContainsDate)??1,u=(s==null?void 0:s.weekStartsOn)??((T=(E=s==null?void 0:s.locale)==null?void 0:E.options)==null?void 0:T.weekStartsOn)??a.weekStartsOn??((N=(I=a.locale)==null?void 0:I.options)==null?void 0:N.weekStartsOn)??0;if(!n)return e?o():Ke(r,s==null?void 0:s.in);const h={firstWeekContainsDate:d,weekStartsOn:u,locale:c},p=[new WN(s==null?void 0:s.in,r)],x=n.match(PL).map(O=>{const $=O[0];if($ in bc){const B=bc[$];return B(O,c.formatLong)}return O}).join("").match(CL),b=[];for(let O of x){!(s!=null&&s.useAdditionalWeekYearTokens)&&o0(O)&&wh(O,n,e),!(s!=null&&s.useAdditionalDayOfYearTokens)&&s0(O)&&wh(O,n,e);const $=O[0],B=SL[$];if(B){const{incompatibleTokens:H}=B;if(Array.isArray(H)){const ne=b.find(K=>H.includes(K.token)||K.token===$);if(ne)throw new RangeError(`The format string mustn't contain \`${ne.fullToken}\` and \`${O}\` at the same time`)}else if(B.incompatibleTokens==="*"&&b.length>0)throw new RangeError(`The format string mustn't contain \`${O}\` and any other token at the same time`);b.push({token:$,fullToken:O});const k=B.run(e,O,c.match,h);if(!k)return o();p.push(k.setter),e=k.rest}else{if($.match(EL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$+"`");if(O==="''"?O="'":$==="'"&&(O=RL(O)),e.indexOf(O)===0)e=e.slice(O.length);else return o()}}if(e.length>0&&IL.test(e))return o();const y=p.map(O=>O.priority).sort((O,$)=>$-O).filter((O,$,B)=>B.indexOf(O)===$).map(O=>p.filter($=>$.priority===O).sort(($,B)=>B.subPriority-$.subPriority)).map(O=>O[0]);let m=Ke(r,s==null?void 0:s.in);if(isNaN(+m))return o();const w={};for(const O of y){if(!O.validate(m,h))return o();const $=O.set(m,w,h);Array.isArray($)?(m=$[0],Object.assign(w,$[1])):m=$}return m}function RL(e){return e.match(DL)[1].replace(TL,"'")}function vb(e,n){const r=Ke(e,n==null?void 0:n.in);return r.setMinutes(0,0,0),r}function _L(e,n,r){const[s,o]=ho(r==null?void 0:r.in,e,n);return+vb(s)==+vb(o)}function OL(e,n,r){const[s,o]=ho(r==null?void 0:r.in,e,n);return s.getFullYear()===o.getFullYear()&&s.getMonth()===o.getMonth()}function ML(e,n,r){const[s,o]=ho(r==null?void 0:r.in,e,n);return s.getFullYear()===o.getFullYear()}function kL(e,n,r){const s=+Ke(e,r==null?void 0:r.in),[o,a]=[+Ke(n.start,r==null?void 0:r.in),+Ke(n.end,r==null?void 0:r.in)].sort((c,d)=>c-d);return s>=o&&s<=a}function NL(e,n,r){const s=Ke(e,r==null?void 0:r.in),o=s.getFullYear(),a=s.getDate(),c=en(e,0);c.setFullYear(o,n,15),c.setHours(0,0,0,0);const d=i0(c);return s.setMonth(n,Math.min(a,d)),s}function LL(e,n,r){const s=Ke(e,r==null?void 0:r.in);return s.setDate(n),s}function $L(e,n,r){const s=Ke(e,r==null?void 0:r.in);return s.setHours(n),s}function FL(e,n,r){const s=Ke(e,r==null?void 0:r.in);return s.setMilliseconds(n),s}function WL(e,n,r){const s=Ke(e,r==null?void 0:r.in);return s.setMinutes(n),s}function BL(e,n,r){const s=Ke(e,r==null?void 0:r.in);return s.setSeconds(n),s}function VL(e,n,r){const s=Ke(e,r==null?void 0:r.in);return isNaN(+s)?en(e,NaN):(s.setFullYear(n),s)}var lp={},UL=tt;Object.defineProperty(lp,"__esModule",{value:!0});var u0=lp.default=void 0,zL=UL(nt()),HL=t;u0=lp.default=(0,zL.default)((0,HL.jsx)("path",{d:"M1 21h4V9H1zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73z"}),"ThumbUp");var cp={},YL=tt;Object.defineProperty(cp,"__esModule",{value:!0});var dp=cp.default=void 0,GL=YL(nt()),qL=t;dp=cp.default=(0,GL.default)((0,qL.jsx)("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4zM18 14H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"}),"Comment");var up={},KL=tt;Object.defineProperty(up,"__esModule",{value:!0});var h0=up.default=void 0,XL=KL(nt()),JL=t;h0=up.default=(0,XL.default)((0,JL.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle");const QL={ACTIVE:1,INACTIVE:2,COMPLETED:3,CANCELLED:4},jb={COVER:1,SUMMARY:2,AVATAR:3,TEASER:4,INTRO:5,OUTRO:6,OTHER:7},Sh={IMAGE:1,VIDEO:2,AUDIO:3,DOCUMENT:4,URL:5,ARTICLE:6,OTHER:7},ZL=({paymentMethods:e,selectedMethodId:n,onMethodSelect:r,currency:s,onAddPaymentMethod:o})=>{const a=h=>{switch(h){case 3:return t.jsx(Xl,{color:"primary"});case 4:return t.jsx(tc,{color:"primary"});default:return t.jsx(tc,{color:"primary"})}},c=h=>h?`**** **** **** ${h.slice(-4)}`:"",d=h=>{switch(h.type_id){case 3:return{title:"PayPal",subtitle:h.details.email||"PayPal Account",description:"PayPal account"};case 4:return{title:"Credit Card",subtitle:c(h.details.cardNumber),description:h.details.cardHolderName||"Credit Card"};default:return{title:h.type_name,subtitle:"Payment Method",description:""}}},u=e.filter(h=>h.currency===s);return e.length===0?t.jsxs(P,{children:[t.jsx(v,{variant:"subtitle1",gutterBottom:!0,children:"Payment Method"}),t.jsx(ct,{severity:"info",sx:{mb:2},children:"No payment methods found. Please add a payment method to continue."}),o&&t.jsx(ge,{variant:"outlined",startIcon:t.jsx(bs,{}),onClick:o,fullWidth:!0,children:"Add Payment Method"})]}):u.length===0?t.jsxs(P,{children:[t.jsx(v,{variant:"subtitle1",gutterBottom:!0,children:"Payment Method"}),t.jsxs(ct,{severity:"warning",sx:{mb:2},children:["No payment methods found for ",s,". Please add a payment method in ",s,"."]}),o&&t.jsxs(ge,{variant:"outlined",startIcon:t.jsx(bs,{}),onClick:o,fullWidth:!0,children:["Add ",s," Payment Method"]})]}):t.jsxs(P,{children:[t.jsx(v,{variant:"subtitle1",gutterBottom:!0,children:"Select Payment Method"}),t.jsx(By,{value:n,onChange:h=>r(h.target.value),children:t.jsx(he,{spacing:2,children:u.map(h=>{const p=d(h);return t.jsx(ke,{variant:"outlined",sx:{cursor:"pointer",border:n===h.id?2:1,borderColor:n===h.id?"primary.main":"divider","&:hover":{borderColor:"primary.main",backgroundColor:"action.hover"}},onClick:()=>r(h.id),children:t.jsxs(Fe,{sx:{py:2},children:[t.jsx(Mo,{value:h.id,control:t.jsx(lh,{}),label:"",sx:{m:0}}),t.jsxs(P,{sx:{display:"flex",alignItems:"center",ml:4,mt:-4},children:[t.jsx(P,{sx:{mr:2},children:a(h.type_id)}),t.jsxs(P,{sx:{flexGrow:1},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(v,{variant:"subtitle2",fontWeight:"medium",children:p.title}),h.is_default&&t.jsx(Ze,{label:"Default",size:"small",color:"primary",variant:"outlined"})]}),t.jsx(v,{variant:"body2",color:"text.secondary",children:p.subtitle}),p.description&&t.jsx(v,{variant:"caption",color:"text.secondary",children:p.description})]}),t.jsx(P,{sx:{textAlign:"right"},children:t.jsx(v,{variant:"caption",color:"text.secondary",children:h.currency})})]})]})},h.id)})})}),o&&t.jsx(ge,{variant:"outlined",startIcon:t.jsx(bs,{}),onClick:o,fullWidth:!0,sx:{mt:2},children:"Add Another Payment Method"})]})},e5=({currentAmount:e,goalAmount:n,contributorCount:r,currency:s,showDetailed:o=!0})=>{const a=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:s,minimumFractionDigits:0,maximumFractionDigits:2}).format(u),c=n?Math.min(e/n*100,100):0,d=n?Math.max(n-e,0):0;return o?t.jsx(ke,{variant:"outlined",sx:{backgroundColor:"background.paper"},children:t.jsxs(Fe,{children:[t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,sm:n?4:6,children:t.jsxs(P,{sx:{textAlign:"center"},children:[t.jsx(P,{sx:{display:"flex",justifyContent:"center",mb:1},children:t.jsx(vs,{color:"primary",fontSize:"large"})}),t.jsx(v,{variant:"h4",fontWeight:"bold",color:"primary",children:a(e)}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Raised so far"})]})}),n&&t.jsx(F,{item:!0,xs:12,sm:4,children:t.jsxs(P,{sx:{textAlign:"center"},children:[t.jsx(P,{sx:{display:"flex",justifyContent:"center",mb:1},children:t.jsx(UI,{color:"action",fontSize:"large"})}),t.jsx(v,{variant:"h4",fontWeight:"bold",children:a(n)}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Funding goal"})]})}),t.jsx(F,{item:!0,xs:12,sm:n?4:6,children:t.jsxs(P,{sx:{textAlign:"center"},children:[t.jsx(P,{sx:{display:"flex",justifyContent:"center",mb:1},children:t.jsx(so,{color:"action",fontSize:"large"})}),t.jsx(v,{variant:"h4",fontWeight:"bold",children:r}),t.jsx(v,{variant:"body2",color:"text.secondary",children:r===1?"Supporter":"Supporters"})]})})]}),n&&t.jsxs(P,{sx:{mt:3},children:[t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsxs(v,{variant:"body2",fontWeight:"medium",children:["Progress: ",c.toFixed(1),"%"]}),d>0&&t.jsxs(v,{variant:"body2",color:"text.secondary",children:[a(d)," to go"]})]}),t.jsx(Oo,{variant:"determinate",value:c,sx:{height:12,borderRadius:6,backgroundColor:"grey.200","& .MuiLinearProgress-bar":{borderRadius:6,background:c>=100?"linear-gradient(45deg, #4caf50 30%, #8bc34a 90%)":"linear-gradient(45deg, #2196f3 30%, #21cbf3 90%)"}}}),c>=100&&t.jsx(P,{sx:{mt:2,p:2,bgcolor:"success.light",borderRadius:1,textAlign:"center"},children:t.jsx(v,{variant:"body2",fontWeight:"medium",color:"success.dark",children:" Funding goal reached! Thank you to all supporters!"})})]})]})}):t.jsxs(P,{children:[n&&t.jsxs(t.Fragment,{children:[t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Funded: ",a(e)]}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Goal: ",a(n)]})]}),t.jsx(Oo,{variant:"determinate",value:c,sx:{height:8,borderRadius:4,backgroundColor:"grey.200","& .MuiLinearProgress-bar":{borderRadius:4}}})]}),!n&&t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(vs,{fontSize:"small",color:"primary"}),t.jsxs(v,{variant:"body2",fontWeight:"medium",children:[a(e)," raised"]}),t.jsx(so,{fontSize:"small",color:"action"}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:[r," supporters"]})]})]})},t5=[5,10,25,50,100],wb=({open:e,onClose:n,onSuccess:r,contentType:s,contentId:o,fundingData:a})=>{const[c,d]=g.useState("amount"),[u,h]=g.useState({amount:0,currency:a.currency,payment_method_id:"",comment:"",is_anonymous:!1}),[p,x]=g.useState(!1),[b,y]=g.useState(null),[m,w]=g.useState([]),{api:j}=Je();g.useEffect(()=>{e&&D()},[e]);const D=async()=>{try{const H=await j.accountApi.getPaymentMethods();w(H.items||[])}catch(H){console.error("Failed to load payment methods:",H)}},C=()=>{d("amount"),h({amount:0,currency:a.currency,payment_method_id:"",comment:"",is_anonymous:!1}),y(null),n()},R=H=>{h(k=>({...k,amount:H}))},E=()=>{if(c==="amount"){if(u.amount<=0){y("Please enter a valid contribution amount");return}if(m.length===0){y("No payment methods available. Please add a payment method first.");return}y(null),d("payment")}},T=()=>{c==="payment"&&(d("amount"),y(null))},I=async()=>{try{if(x(!0),d("processing"),y(null),!u.payment_method_id){y("Please select a payment method");return}const H=await j.fundingApi.createContribution(s,o,u);r(H),C()}catch(H){y(H.message||"Failed to process contribution"),d("payment")}finally{x(!1)}},N=()=>t.jsxs(he,{spacing:3,children:[t.jsxs(P,{children:[t.jsxs(v,{variant:"h6",gutterBottom:!0,children:["Fund this ",s]}),t.jsx(v,{variant:"body2",color:"text.secondary",children:a.description||`Support this ${s} with your contribution`})]}),t.jsx(e5,{currentAmount:a.currentAmount,goalAmount:a.goalAmount,contributorCount:a.contributorCount,currency:a.currency}),t.jsx(Yt,{}),t.jsxs(P,{children:[t.jsx(v,{variant:"subtitle1",gutterBottom:!0,children:"Choose contribution amount"}),t.jsx(he,{direction:"row",spacing:1,flexWrap:"wrap",sx:{mb:2},children:t5.map(H=>t.jsx(Ze,{label:`${a.currency} ${H}`,onClick:()=>R(H),color:u.amount===H?"primary":"default",variant:u.amount===H?"filled":"outlined",sx:{mb:1}},H))}),t.jsx(st,{label:"Custom Amount",type:"number",value:u.amount||"",onChange:H=>h(k=>({...k,amount:Number(H.target.value)})),fullWidth:!0,InputProps:{startAdornment:t.jsx(ys,{position:"start",children:a.currency})},inputProps:{min:1,step:.01}})]}),t.jsx(st,{label:"Comment (Optional)",multiline:!0,rows:3,value:u.comment,onChange:H=>h(k=>({...k,comment:H.target.value})),fullWidth:!0,placeholder:"Leave a message of support..."})]}),O=()=>t.jsxs(he,{spacing:3,children:[t.jsxs(P,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Payment Details"}),t.jsxs(P,{sx:{p:2,bgcolor:"background.paper",borderRadius:1,border:"1px solid",borderColor:"divider"},children:[t.jsxs(v,{variant:"body1",fontWeight:"medium",children:["Contribution: ",a.currency," ",u.amount]}),u.comment&&t.jsxs(v,{variant:"body2",color:"text.secondary",sx:{mt:1},children:['"',u.comment,'"']})]})]}),t.jsx(ZL,{paymentMethods:m,selectedMethodId:u.payment_method_id,onMethodSelect:H=>h(k=>({...k,payment_method_id:H})),currency:u.currency})]}),$=()=>t.jsxs(P,{sx:{textAlign:"center",py:4},children:[t.jsx(Oo,{sx:{mb:3}}),t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Processing your contribution..."}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Please wait while we process your payment"})]}),B=()=>{switch(c){case"amount":return t.jsxs(t.Fragment,{children:[t.jsx(ge,{onClick:C,disabled:p,children:"Cancel"}),t.jsx(ge,{onClick:E,variant:"contained",disabled:p||u.amount<=0,children:"Continue"})]});case"payment":return t.jsxs(t.Fragment,{children:[t.jsx(ge,{onClick:T,disabled:p,children:"Back"}),t.jsx(ge,{onClick:I,variant:"contained",disabled:p||!u.payment_method_id,children:p?"Processing...":`Contribute ${a.currency} ${u.amount}`})]});case"processing":return null;default:return null}};return t.jsxs(on,{open:e,onClose:p?void 0:C,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[t.jsxs(pn,{sx:{fontWeight:600},children:["Fund ",a.title]}),t.jsxs(an,{children:[b&&t.jsx(ct,{severity:"error",sx:{mb:2},children:b}),c==="amount"&&N(),c==="payment"&&O(),c==="processing"&&$()]}),B()&&t.jsx(ln,{sx:{px:3,pb:2},children:B()})]})},n5=({contentType:e,contentId:n,contentTitle:r,fundingData:s,onContributionSuccess:o,variant:a="button",buttonVariant:c="contained",icon:d="money",text:u,...h})=>{const[p,x]=g.useState(!1),b=j=>{x(!1),o&&o(j)},y=()=>{switch(d){case"heart":return t.jsx(zI,{});case"money":default:return t.jsx(vs,{})}},m=()=>{if(u)return u;switch(e){case"news":return"Fund Article";case"poll":return"Fund Poll";default:return"Fund"}},w={id:n,title:r,...s};return a==="icon"?t.jsxs(t.Fragment,{children:[t.jsx(pt,{title:m(),children:t.jsx($e,{onClick:()=>x(!0),color:"primary",...h,children:y()})}),t.jsx(wb,{open:p,onClose:()=>x(!1),onSuccess:b,contentType:e,contentId:n,fundingData:w})]}):t.jsxs(t.Fragment,{children:[t.jsx(ge,{startIcon:y(),onClick:()=>x(!0),variant:c,color:"primary",...h,children:m()}),t.jsx(wb,{open:p,onClose:()=>x(!1),onSuccess:b,contentType:e,contentId:n,fundingData:w})]})},hp=({poll:e,onVote:n,userVote:r,showResults:s=!1,disabled:o=!1})=>{var m,w,j,D,C;const a=Mn(),{api:c}=Je(),[d,u]=g.useState(null),h=((m=e.stats)==null?void 0:m.totalVotes)||0,[p,x]=g.useState({currentAmount:0,goalAmount:void 0,contributorCount:0,currency:"USD"});g.useEffect(()=>{(async()=>{try{const E=await c.fundingApi.getFund("poll",e.id.toString());if(E){const T=await c.fundingApi.getFundSummary("poll",e.id.toString());x({currentAmount:E.currentAmount/100,goalAmount:E.goalAmount?E.goalAmount/100:void 0,contributorCount:(T==null?void 0:T.totalContributors)||0,currency:E.currency})}}catch{console.debug("No funding data for poll:",e.id)}})()},[e.id,c.fundingApi]);const b=R=>{o||u(R)},y=()=>{(async()=>{try{const E=await c.fundingApi.getFund("poll",e.id.toString());if(E){const T=await c.fundingApi.getFundSummary("poll",e.id.toString());x({currentAmount:E.currentAmount/100,goalAmount:E.goalAmount?E.goalAmount/100:void 0,contributorCount:(T==null?void 0:T.totalContributors)||0,currency:E.currency})}}catch(E){console.error("Error reloading funding data:",E)}})()};return t.jsxs(ke,{sx:{maxWidth:"100%",borderRadius:1.5,boxShadow:"none",border:"1px solid",borderColor:"divider","&:hover":{boxShadow:1,transition:"box-shadow 0.2s ease"}},children:[t.jsxs(Fe,{sx:{p:1.5},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[t.jsx(jn,{sx:{mr:1,bgcolor:a.palette.primary.main,width:28,height:28,fontSize:"0.875rem"},children:(j=(w=e.creator)==null?void 0:w.displayName)==null?void 0:j.charAt(0).toUpperCase()}),t.jsxs(P,{children:[t.jsx(v,{variant:"body2",sx:{fontWeight:500,fontSize:"0.8rem"},children:(D=e.creator)==null?void 0:D.displayName}),t.jsx(v,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.7rem"},children:zr(new Date(e.createdAt),{addSuffix:!0})})]})]}),t.jsx(v,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,fontSize:"0.9rem",mb:.5},children:e.title}),e.description&&t.jsx(v,{variant:"body2",color:"text.secondary",paragraph:!0,sx:{mb:1.5,lineHeight:1.4,fontSize:"0.8rem"},children:e.description}),e.media&&e.media.length>0&&t.jsx(P,{sx:{mb:2},children:e.media.map(R=>t.jsxs(P,{sx:{borderRadius:1.5,overflow:"hidden",mb:1.5},children:[R.format===Sh.VIDEO?t.jsx(P,{component:"video",src:R.url,controls:!0,preload:"metadata",sx:{width:"100%",height:180,objectFit:"cover",objectPosition:"center",bgcolor:"black"}}):t.jsx(P,{component:"img",src:R.url,alt:R.caption||e.title,sx:{width:"100%",height:180,objectFit:"cover",objectPosition:"center"}}),R.caption&&t.jsx(v,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5,fontSize:"0.75rem"},children:R.caption})]},R.id))}),t.jsx(P,{sx:{mt:2,mb:2},children:e.options.map(R=>{const E=R.voteCount||0,T=h>0?E/h*100:0,I=r===R.id,N=d===R.id;return t.jsxs(P,{sx:{mb:2,position:"relative",cursor:s||o?"default":"pointer",transition:"all 0.2s ease",transform:N?"translateX(4px)":"none",opacity:o?.6:1,"&:hover":!s&&!o&&{bgcolor:Ie(a.palette.primary.main,.05),borderRadius:1}},onClick:O=>{O.preventDefault(),O.stopPropagation(),!s&&!o&&(n==null||n(e.id.toString(),R.id))},onMouseEnter:()=>b(R.id),onMouseLeave:()=>b(null),children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:.5,px:2,py:1.5,border:"1px solid",borderColor:I?"primary.main":N?Ie(a.palette.primary.main,.5):"divider",borderRadius:1,bgcolor:I?Ie(a.palette.primary.main,.05):"transparent",transition:"all 0.2s ease","&:hover":!s&&!o&&{borderColor:"primary.main",boxShadow:`0 2px 8px ${Ie(a.palette.primary.main,.15)}`}},children:[t.jsx(P,{sx:{width:24,height:24,borderRadius:"50%",border:"2px solid",borderColor:I?"primary.main":N?Ie(a.palette.primary.main,.5):"divider",mr:2,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:I&&t.jsx(P,{sx:{width:12,height:12,borderRadius:"50%",bgcolor:"primary.main"}})}),t.jsx(v,{variant:"body1",sx:{flexGrow:1,fontWeight:I?600:400,color:I?"primary.main":"text.primary"},children:R.text}),s&&t.jsxs(P,{sx:{display:"flex",alignItems:"center",ml:2,minWidth:80,justifyContent:"flex-end"},children:[t.jsxs(v,{variant:"body2",sx:{fontWeight:600,color:I?"primary.main":"text.secondary",mr:1},children:[T.toFixed(1),"%"]}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["(",E,")"]})]}),I&&!s&&t.jsx(h0,{sx:{ml:1,color:"primary.main",fontSize:"1.2rem"}})]}),s&&t.jsx(Oo,{variant:"determinate",value:T,sx:{height:8,borderRadius:4,bgcolor:Ie(a.palette.primary.main,.1),"& .MuiLinearProgress-bar":{borderRadius:4,bgcolor:I?"primary.main":Ie(a.palette.primary.main,.6)}}})]},R.id)})}),t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:2,pt:2,borderTop:"1px solid",borderColor:"divider"},children:[t.jsxs(he,{direction:"row",spacing:2,children:[t.jsx(pt,{title:"Total Votes",children:t.jsxs(P,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(u0,{sx:{fontSize:"1rem",mr:.5,color:"text.secondary"}}),t.jsx(v,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem"},children:h})]})}),t.jsx(pt,{title:"Views",children:t.jsxs(P,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(dp,{sx:{fontSize:"1rem",mr:.5,color:"text.secondary"}}),t.jsx(v,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem"},children:((C=e.stats)==null?void 0:C.viewCount)||0})]})})]}),t.jsxs(he,{direction:"row",spacing:.5,sx:{flexWrap:"wrap",justifyContent:"flex-end"},children:[e.isTrending&&t.jsx(Ze,{label:"Trending",color:"primary",size:"small",sx:{height:20,fontSize:"0.7rem",fontWeight:600,"& .MuiChip-label":{px:1}}}),e.tags.slice(0,2).map(R=>t.jsx(Ze,{label:R.name,size:"small",sx:{height:20,fontSize:"0.7rem",bgcolor:Ie(a.palette.primary.main,.1),color:"primary.main","& .MuiChip-label":{px:1}}},R.id))]})]})]}),t.jsxs(nc,{sx:{justifyContent:"space-between",px:2.5,py:1.5,borderTop:"1px solid",borderColor:"divider"},children:[t.jsx(v,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem"},children:zr(new Date(e.createdAt),{addSuffix:!0})}),t.jsxs(he,{direction:"row",spacing:1,children:[t.jsx(P,{onClick:R=>R.stopPropagation(),children:t.jsx(n5,{contentType:"poll",contentId:e.id.toString(),contentTitle:e.title,fundingData:p,onContributionSuccess:y,variant:"icon",icon:"heart",size:"small"})}),t.jsx($e,{size:"small",sx:{color:"text.secondary","&:hover":{bgcolor:Ie(a.palette.primary.main,.05)}},children:t.jsx(Kc,{fontSize:"small"})})]})]})]})},r5=()=>{var ce,Ee,de,re,L,xe,oe;const[e,n]=g.useState(null),[r,s]=g.useState(!0),[o,a]=g.useState(!1),[c,d]=g.useState([]),[u,h]=g.useState(!1),[p,x]=g.useState(1),[b,y]=g.useState(!0),[m,w]=g.useState([]),[j,D]=g.useState(null),[C,R]=g.useState("ready"),[E,T]=g.useState(0),{id:I}=Xr(),N=It(),{api:O}=Je(),{profile:$,channelRelations:{hasSubscription:B,getSubscriptionTier:H},actions:{refreshProfile:k}}=Ss(),{execute:ne}=et(),K=B(I??""),q=(ce=H(I??""))==null?void 0:ce.id,te=g.useCallback(async Y=>{var G,fe;try{return await((fe=(G=O==null?void 0:O.subscriptionApi)==null?void 0:G.getSubscriptionStatus)==null?void 0:fe.call(G,Y))==="active"?(D(null),await k(),!0):!1}catch(me){return console.error("Error polling subscription status:",me),!1}},[O,k]);g.useEffect(()=>{const Y=G=>{if(!(!G.origin.includes("paypal.com")&&!G.origin.includes("sandbox.paypal.com"))&&G.data.type==="payment_approval")if(G.data.status==="approved"&&j){const fe=setInterval(async()=>{await te(j.subscriptionId)&&clearInterval(fe)},2e3);setTimeout(()=>{clearInterval(fe),D(null)},6e4)}else G.data.status==="cancelled"&&(D(null),a(!1))};return window.addEventListener("message",Y),()=>window.removeEventListener("message",Y)},[j,te]),console.log("ViewChannel Debug:",{channelId:I,isMember:K,currentTierId:q,subscriptions:$==null?void 0:$.subscriptions,profileLoaded:!!$,pendingSubscription:j,planStatus:C}),g.useEffect(()=>{(async()=>{if(!I)return;const G=await ne(()=>O==null?void 0:O.channelApi.getChannel(I),{showErrorToast:!0});G&&n(G),s(!1)})()},[I,ne,O==null?void 0:O.channelApi]);const ie=g.useCallback(async(Y=p)=>{if(!(e!=null&&e.id))return;h(!0);const G={channel:e.id};m.length>0&&(G.tags=m);const fe=await ne(()=>O==null?void 0:O.pollApi.getPolls(G,{page:Y,limit:10}),{showErrorToast:!0});fe&&(d(Y===1?fe.items:me=>[...me,...fe.items]),x(fe.metadata.currentPage),y(fe.metadata.hasNext===!0)),h(!1)},[e==null?void 0:e.id,m,p,ne,O==null?void 0:O.pollApi]);g.useEffect(()=>{E===1&&(e!=null&&e.id)&&(x(1),ie(1))},[E,e==null?void 0:e.id,m,ie]);const se=()=>{!u&&b&&ie(p+1)},ae=Y=>{w(Y)},V=async Y=>{var fe,me,ue,Re;if(!e||!Y)return;const G=(fe=e.tiers)==null?void 0:fe.find(De=>De.id===Y);if(G){a(!0),R("checking");try{G.price>0&&R("creating");const De=await((me=O==null?void 0:O.subscriptionApi)==null?void 0:me.createDirectSubscription(e.id,{tierId:Y,notificationLevel:1,paymentMethodId:G.price>0?"paypal_default":void 0}));if(R("ready"),De!=null&&De.approvalUrl&&(De!=null&&De.subscription)){D({subscriptionId:De.subscription.id,approvalUrl:De.approvalUrl,tierName:G.name,tierId:G.id});const Ye=window.open(De.approvalUrl,"paypal_payment","width=600,height=700,scrollbars=yes,resizable=yes");if(!Ye){alert("Popup blocked! Please allow popups and try again."),D(null),a(!1);return}const Me=setInterval(()=>{Ye.closed&&(clearInterval(Me),setTimeout(async()=>{await te(De.subscription.id)||(D(null),a(!1))},3e3))},1e3)}else await k(),a(!1)}catch(De){console.error("Subscription failed:",De),R("ready"),a(!1);const Ye=((Re=(ue=De==null?void 0:De.response)==null?void 0:ue.data)==null?void 0:Re.message)||(De==null?void 0:De.message)||"";(Ye.includes("PAYMENT_METHOD_REQUIRED")||Ye.includes("PayPal payment method")||Ye.includes("No PayPal payment method found"))&&window.confirm("You need to add a PayPal payment method to subscribe to paid tiers. Would you like to add one now?")&&N("/app/account/payment-methods")}}},X=async Y=>{var me,ue,Re;if(!e||!((me=e.tiers)==null?void 0:me.find(De=>De.id===Y)))return;const fe=(ue=$==null?void 0:$.subscriptions)==null?void 0:ue.find(De=>De.channelId===e.id);if(fe)try{await((Re=O==null?void 0:O.subscriptionApi)==null?void 0:Re.cancelUserSubscription(fe.id))}catch(De){console.error("Failed to cancel existing subscription:",De)}await V(Y)},we=async()=>{if(!e)return;await ne(()=>O==null?void 0:O.channelApi.unsubscribeFromChannel(e.id),{showSuccessMessage:!0,successMessage:"Membership cancelled successfully!"})&&(console.log("Cancellation successful, refreshing profile..."),await k())};return r?t.jsx(P,{sx:{bgcolor:"background.default",minHeight:"100vh"},children:t.jsxs(Pt,{maxWidth:"lg",children:[t.jsxs(P,{sx:{position:"relative",mb:8},children:[t.jsx(le,{variant:"rectangular",sx:{height:{xs:150,md:200},borderRadius:3}}),t.jsx(P,{sx:{position:"absolute",bottom:-50,left:"50%",transform:"translateX(-50%)"},children:t.jsx(le,{variant:"circular",sx:{width:{xs:100,md:128},height:{xs:100,md:128},border:"4px solid",borderColor:"background.paper"}})})]}),t.jsx(lt,{elevation:0,sx:{mb:4,p:4,borderRadius:3,border:"1px solid",borderColor:"divider"},children:t.jsxs(P,{sx:{textAlign:"center",pt:3},children:[t.jsx(le,{variant:"text",width:"40%",sx:{mx:"auto",mb:2,fontSize:"2.5rem"}}),t.jsxs(he,{direction:"row",spacing:2,justifyContent:"center",sx:{mb:3},children:[t.jsx(le,{variant:"rounded",width:150,height:32}),t.jsx(le,{variant:"rounded",width:100,height:32})]}),t.jsx(le,{variant:"text",width:"70%",sx:{mx:"auto",mb:1}}),t.jsx(le,{variant:"text",width:"60%",sx:{mx:"auto",mb:4}}),t.jsx(le,{variant:"rounded",width:180,height:48,sx:{mx:"auto",borderRadius:50}})]})}),t.jsxs(P,{sx:{mb:6},children:[t.jsx(le,{variant:"text",width:"40%",sx:{mx:"auto",mb:4,fontSize:"2rem"}}),t.jsx(F,{container:!0,spacing:3,children:[...Array(3)].map((Y,G)=>t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(ke,{elevation:2,sx:{borderRadius:3,overflow:"hidden"},children:[t.jsx(le,{variant:"rectangular",height:120}),t.jsxs(Fe,{sx:{p:3},children:[t.jsx(le,{variant:"text",width:"60%",sx:{mx:"auto",mb:2,fontSize:"2rem"}}),t.jsx(le,{variant:"text",width:"80%",sx:{mb:1}}),t.jsx(le,{variant:"text",width:"70%",sx:{mb:1}}),t.jsx(le,{variant:"text",width:"75%",sx:{mb:3}}),t.jsx(le,{variant:"rounded",height:48,sx:{borderRadius:50}})]})]})},G))})]})]})}):e?t.jsx(P,{sx:{bgcolor:"background.default",minHeight:"100vh"},children:t.jsxs(Pt,{maxWidth:"lg",children:[t.jsxs(P,{sx:{position:"relative",mb:8},children:[t.jsx(P,{sx:{height:{xs:150,md:200},backgroundImage:e!=null&&e.bannerUrl?`url(${e.bannerUrl})`:void 0,background:e!=null&&e.bannerUrl?void 0:Y=>`linear-gradient(135deg, ${Y.palette.primary.main} 0%, ${Y.palette.primary.light} 100%)`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:3,position:"relative"}}),t.jsx(P,{sx:{position:"absolute",bottom:-50,left:"50%",transform:"translateX(-50%)"},children:t.jsx(jn,{src:e.logoUrl,sx:{width:{xs:100,md:128},height:{xs:100,md:128},border:"4px solid",borderColor:"background.paper",boxShadow:3}})})]}),t.jsxs(lt,{elevation:0,sx:{mb:4,p:{xs:3,md:4},borderRadius:3,border:"1px solid",borderColor:"divider"},children:[t.jsxs(P,{sx:{textAlign:"center",pt:3},children:[t.jsx(v,{variant:"h3",gutterBottom:!0,sx:{fontWeight:700,fontSize:{xs:"2rem",md:"2.5rem"},color:"text.primary",mb:1},children:e.name}),t.jsxs(he,{direction:"row",spacing:2,justifyContent:"center",sx:{mb:3},children:[t.jsx(Ze,{icon:t.jsx(Gf,{}),label:`${(de=(Ee=e.stats)==null?void 0:Ee.activeSubscriptionCount)==null?void 0:de.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1})} subscribers`,sx:{fontWeight:600,bgcolor:Ie("#0b6cff",.1),color:"#0b6cff","& .MuiChip-icon":{color:"#0b6cff"}}}),t.jsx(Ze,{icon:t.jsx(Vv,{}),label:`${((re=e.tiers)==null?void 0:re.length)||0} tiers`,sx:{fontWeight:600,bgcolor:Ie("#589aff",.1),color:"#589aff","& .MuiChip-icon":{color:"#589aff"}}})]}),t.jsx(v,{variant:"body1",sx:{mb:4,maxWidth:800,mx:"auto",color:"text.secondary",lineHeight:1.8,fontSize:"1.1rem"},children:e.description}),t.jsx(ge,{variant:K?"outlined":"contained",size:"large",onClick:()=>{var Y,G;return K?we():V((G=(Y=e==null?void 0:e.tiers)==null?void 0:Y.find(fe=>fe.isDefault))==null?void 0:G.id)},disabled:o,startIcon:o&&t.jsx(Yn,{size:20,color:"inherit"}),sx:{px:4,py:1.5,borderRadius:50,fontSize:"1rem",fontWeight:600,textTransform:"none",boxShadow:K?"none":"0 4px 14px 0 rgba(11, 108, 255, 0.39)","&:hover":{boxShadow:K?"none":"0 6px 20px rgba(11, 108, 255, 0.5)"}},children:o?"Processing...":K?"Cancel Membership":"Join Channel"})]}),C==="creating"&&t.jsx(ct,{severity:"info",sx:{mt:3,borderRadius:2},children:t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Yn,{size:16}),t.jsx(v,{variant:"body2",children:"Setting up PayPal subscription plan..."})]})}),j&&t.jsx(ct,{severity:"warning",sx:{mt:3,borderRadius:2},action:t.jsx(ge,{size:"small",onClick:()=>window.open(j.approvalUrl,"_blank"),children:"Complete Payment"}),children:t.jsxs(P,{children:[t.jsx(v,{variant:"body2",sx:{fontWeight:600},children:" Subscription Pending Approval"}),t.jsxs(v,{variant:"caption",sx:{display:"block",mt:.5},children:[j.tierName," - Waiting for PayPal approval"]}),t.jsx(Oo,{sx:{mt:1,borderRadius:1},color:"warning"})]})})]}),t.jsxs(lt,{elevation:0,sx:{mb:4,borderRadius:3,border:"1px solid",borderColor:"divider",overflow:"hidden"},children:[t.jsxs($s,{value:E,onChange:(Y,G)=>T(G),variant:"scrollable",scrollButtons:"auto",sx:{borderBottom:1,borderColor:"divider","& .MuiTab-root":{textTransform:"none",fontWeight:600,fontSize:"1rem",minHeight:64}},children:[t.jsx(_n,{icon:t.jsx(ya,{}),iconPosition:"start",label:"News"}),t.jsx(_n,{icon:t.jsx(Yc,{}),iconPosition:"start",label:"Polls"}),t.jsx(_n,{icon:t.jsx(Uv,{}),iconPosition:"start",label:"Contribute"}),t.jsx(_n,{icon:t.jsx(zv,{}),iconPosition:"start",label:"Connect"}),t.jsx(_n,{icon:t.jsx(Hv,{}),iconPosition:"start",label:"Budget"}),t.jsx(_n,{icon:t.jsx(ep,{}),iconPosition:"start",label:"About"})]}),t.jsxs(P,{sx:{p:4},children:[E===0&&t.jsx(P,{children:t.jsx(vh,{filters:{channel:e==null?void 0:e.id},title:"Channel News",description:"Latest news from this channel",emptyTitle:"No news published yet",emptyDescription:"This channel hasn't published any news articles yet",showSearch:!0})}),E===1&&t.jsxs(P,{children:[t.jsxs(P,{sx:{maxWidth:800,mx:"auto",mb:3},children:[t.jsx(v,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:1},children:"Channel Polls"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Vote on polls from this channel"}),t.jsx(Xc,{selectedTags:m,onTagsChange:ae,contentType:"polls",maxTags:4,showCounts:!1})]}),u&&c.length===0?t.jsx(he,{spacing:2,sx:{mt:2,maxWidth:800,mx:"auto"},children:[...Array(2)].map((Y,G)=>t.jsxs(P,{sx:{p:2,borderRadius:2,bgcolor:fe=>fe.palette.mode==="dark"?Ie(fe.palette.common.white,.05):Ie(fe.palette.common.black,.03)},children:[t.jsx(P,{sx:{height:24,width:"40%",mb:2,borderRadius:.5,bgcolor:"grey.300"}}),t.jsx(he,{spacing:2,children:[...Array(4)].map((fe,me)=>t.jsx(P,{sx:{height:40,borderRadius:1,bgcolor:ue=>ue.palette.mode==="dark"?Ie(ue.palette.common.white,.1):Ie(ue.palette.common.black,.1)}},me))})]},G))}):c.length===0?t.jsx(P,{sx:{maxWidth:800,mx:"auto"},children:t.jsx(Ws,{title:"No polls found",description:"This channel hasn't created any polls yet"})}):t.jsx(P,{sx:{maxWidth:800,mx:"auto"},children:t.jsx(co,{dataLength:c.length,next:se,hasMore:b,loader:t.jsx(he,{spacing:2,sx:{mt:2},children:[...Array(2)].map((Y,G)=>t.jsxs(P,{sx:{p:2,borderRadius:2,bgcolor:fe=>fe.palette.mode==="dark"?Ie(fe.palette.common.white,.05):Ie(fe.palette.common.black,.03)},children:[t.jsx(P,{sx:{height:24,width:"40%",mb:2,borderRadius:.5,bgcolor:"grey.300"}}),t.jsx(he,{spacing:2,children:[...Array(4)].map((fe,me)=>t.jsx(P,{sx:{height:40,borderRadius:1,bgcolor:ue=>ue.palette.mode==="dark"?Ie(ue.palette.common.white,.1):Ie(ue.palette.common.black,.1)}},me))})]},G))}),endMessage:t.jsx(P,{sx:{textAlign:"center",mt:4,color:"text.secondary",fontSize:"0.875rem"},children:"No more polls to display"}),children:t.jsx(he,{spacing:2.5,children:c.map(Y=>t.jsx(P,{component:On,to:je.APP_POLL_VIEW.replace(":id",Y.id),sx:{textDecoration:"none"},children:t.jsx(hp,{poll:Y})},Y.id))})})})]}),E===2&&t.jsx(P,{children:t.jsx(v,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"Become a financial contributor"})}),E===3&&t.jsxs(P,{children:[t.jsx(v,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"Connect with us"}),t.jsx(he,{spacing:2,children:t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx($e,{color:"primary",size:"small",children:t.jsx(Yv,{})}),t.jsx(v,{children:"Contact via membership"})]})})]}),E===4&&t.jsxs(P,{children:[t.jsx(v,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"Budget"}),t.jsx(v,{color:"text.secondary",children:"Financial information will be displayed here"})]}),E===5&&t.jsxs(P,{children:[t.jsx(v,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"About"}),t.jsxs(he,{spacing:3,children:[t.jsxs(P,{children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"DESCRIPTION"}),t.jsx(v,{variant:"body1",sx:{lineHeight:1.8},children:e.description})]}),t.jsx(Yt,{}),t.jsxs(P,{children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"STATISTICS"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:6,md:3,children:t.jsxs(lt,{variant:"outlined",sx:{p:2,textAlign:"center"},children:[t.jsx(v,{variant:"h4",color:"primary",sx:{fontWeight:700},children:((L=e.stats)==null?void 0:L.activeSubscriptionCount)||0}),t.jsx(v,{variant:"caption",color:"text.secondary",children:"Subscribers"})]})}),t.jsx(F,{item:!0,xs:6,md:3,children:t.jsxs(lt,{variant:"outlined",sx:{p:2,textAlign:"center"},children:[t.jsx(v,{variant:"h4",color:"primary",sx:{fontWeight:700},children:((xe=e.tiers)==null?void 0:xe.length)||0}),t.jsx(v,{variant:"caption",color:"text.secondary",children:"Tiers"})]})})]})]})]})]})]})]}),E===2&&t.jsxs(P,{sx:{mb:6},children:[t.jsx(v,{variant:"h4",gutterBottom:!0,sx:{fontSize:{xs:"1.75rem",md:"2rem"},fontWeight:700,mb:4,textAlign:"center"},children:"Membership Tiers"}),t.jsx(F,{container:!0,spacing:3,children:(oe=e.tiers)==null?void 0:oe.map(Y=>t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(ke,{elevation:q===Y.id?8:2,sx:{height:"100%",display:"flex",flexDirection:"column",borderRadius:3,overflow:"hidden",transition:"all 0.3s ease",border:q===Y.id?"2px solid #0b6cff":"1px solid #e0e0e0","&:hover":{transform:"translateY(-8px)",boxShadow:"0 12px 24px rgba(0,0,0,0.15)"}},children:[t.jsxs(P,{sx:{height:120,background:q===Y.id?"linear-gradient(135deg, #0b6cff 0%, #589aff 100%)":"linear-gradient(135deg, #589aff 0%, #7bb0ff 100%)",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",p:3},children:[q===Y.id&&t.jsx(Ze,{label:"CURRENT PLAN",size:"small",sx:{position:"absolute",top:12,right:12,bgcolor:"white",color:"#0b6cff",fontWeight:700,fontSize:"0.7rem"}}),!q&&Y.isDefault&&t.jsx(Ze,{label:"POPULAR",size:"small",sx:{position:"absolute",top:12,right:12,bgcolor:"white",color:"#589aff",fontWeight:700,fontSize:"0.7rem"}}),t.jsx(v,{variant:"h5",sx:{color:"white",fontWeight:700,textAlign:"center"},children:Y.name})]}),t.jsxs(Fe,{sx:{flexGrow:1,p:3,display:"flex",flexDirection:"column"},children:[t.jsx(P,{sx:{mb:3,textAlign:"center"},children:t.jsxs(v,{variant:"h3",sx:{fontWeight:700,color:"text.primary",display:"flex",alignItems:"baseline",justifyContent:"center",gap:.5},children:[t.jsx(v,{component:"span",sx:{fontSize:"1.5rem",fontWeight:500},children:"$"}),Y.price,t.jsx(v,{component:"span",sx:{fontSize:"1rem",fontWeight:400,color:"text.secondary"},children:"/month"})]})}),t.jsx(Yt,{sx:{mb:3}}),t.jsx(v,{variant:"body2",sx:{mb:3,color:"text.secondary",minHeight:60,lineHeight:1.7,flexGrow:1},children:Y.description}),t.jsx(ge,{variant:q===Y.id?"outlined":"contained",fullWidth:!0,size:"large",onClick:()=>K?X(Y.id):V(Y.id),disabled:q===Y.id||o,sx:{py:1.5,borderRadius:50,textTransform:"none",fontWeight:600,fontSize:"1rem",boxShadow:q===Y.id?"none":"0 4px 12px rgba(11, 108, 255, 0.3)","&:hover":{boxShadow:q===Y.id?"none":"0 6px 16px rgba(11, 108, 255, 0.4)"}},startIcon:o&&t.jsx(Yn,{size:20,color:"inherit"}),children:o?"Processing...":q===Y.id?"Current Plan":K?"Switch to This Plan":"Contribute"})]})]})},Y.id))})]})]})}):t.jsx(P,{sx:{bgcolor:"background.default",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(Pt,{maxWidth:"sm",children:t.jsxs(lt,{elevation:3,sx:{p:6,borderRadius:3,textAlign:"center"},children:[t.jsx(v,{variant:"h4",gutterBottom:!0,sx:{fontWeight:700,color:"text.primary"},children:"Channel not found"}),t.jsx(v,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"The channel you're looking for doesn't exist or has been removed."}),t.jsx(ge,{variant:"contained",onClick:()=>N("/app"),sx:{borderRadius:50,px:4,py:1.5,textTransform:"none",fontWeight:600},children:"Go Home"})]})})})},f0=()=>t.jsx(P,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(Yn,{})}),s5=()=>{const e=lo(),n=It(),[r,s]=g.useState("all"),[o,a]=g.useState([]),[c,d]=g.useState(!0),[u,h]=g.useState(1),[p]=g.useState(10),[x,b]=g.useState(!0),[y,m]=g.useState([]),{api:w}=Je(),{execute:j}=et();g.useEffect(()=>{const T=new URLSearchParams(e.search).get("tags");if(T){const I=T.split(",").map(N=>decodeURIComponent(N.trim()));m(I)}},[e.search]);const D=async(E=u)=>{const T={};switch(r){case"trending":T.trending=!0;break;case"funded":T.funded=!0;break}y.length>0&&(T.tags=y);const I=await j(()=>w.pollApi.getPolls(T,{page:E,limit:p}),{showErrorToast:!0});I&&(a(E===1?I.items:N=>[...N,...I.items]),h(I.metadata.currentPage),b(I.metadata.hasNext===!0)),d(!1)};g.useEffect(()=>{d(!0),h(1),D(1)},[r,y]);const C=()=>{D(u+1)},R=E=>{m(E);const T=new URLSearchParams(e.search);E.length>0?T.set("tags",E.map(N=>encodeURIComponent(N)).join(",")):T.delete("tags");const I=`${e.pathname}?${T.toString()}`;n(I,{replace:!0})};return c?t.jsx(f0,{}):t.jsxs(P,{sx:{width:"100%",overflow:"hidden"},children:[t.jsxs(P,{sx:{mb:3,maxWidth:800,mx:"auto"},children:[t.jsx(v,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600},children:"Community Polls"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Vote on polls from your favorite journalists and help shape their content"})]}),t.jsx(P,{sx:{borderBottom:1,borderColor:"divider",mb:3,maxWidth:800,mx:"auto"},children:t.jsxs($s,{value:r,onChange:(E,T)=>s(T),"aria-label":"poll categories",children:[t.jsx(_n,{label:"All Polls",value:"all"}),t.jsx(_n,{label:"Trending",value:"trending"}),t.jsx(_n,{label:"Funded",value:"funded"})]})}),t.jsx(P,{sx:{mb:3,maxWidth:800,mx:"auto"},children:t.jsx(Xc,{selectedTags:y,onTagsChange:R,contentType:"polls",maxTags:4,showCounts:!1})}),o.length===0?t.jsx(Ws,{title:"No polls found",description:"There are no polls available in this category at the moment."}):t.jsx(P,{sx:{maxWidth:800,mx:"auto"},children:t.jsx(co,{dataLength:o.length,next:C,hasMore:x,loader:t.jsx(he,{spacing:2,sx:{mt:2},children:[...Array(2)].map((E,T)=>t.jsxs(P,{sx:{p:2,borderRadius:2,bgcolor:I=>I.palette.mode==="dark"?Ie(I.palette.common.white,.05):Ie(I.palette.common.black,.03)},children:[t.jsx(P,{sx:{height:24,width:"40%",mb:2,borderRadius:.5,bgcolor:"grey.300"}}),t.jsx(he,{spacing:2,children:[...Array(4)].map((I,N)=>t.jsx(P,{sx:{height:40,borderRadius:1,bgcolor:O=>O.palette.mode==="dark"?Ie(O.palette.common.white,.1):Ie(O.palette.common.black,.1)}},N))})]},T))}),endMessage:t.jsx(P,{sx:{textAlign:"center",mt:4,color:"text.secondary",fontSize:"0.875rem"},children:"No more polls to display"}),children:t.jsx(he,{spacing:2.5,children:o.map(E=>t.jsx(P,{component:On,to:je.APP_POLL_VIEW.replace(":id",E.id),sx:{textDecoration:"none"},children:t.jsx(hp,{poll:E})},E.id))})})})]})};var fp={},o5=tt;Object.defineProperty(fp,"__esModule",{value:!0});var p0=fp.default=void 0,i5=o5(nt()),a5=t;p0=fp.default=(0,i5.default)((0,a5.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2"}),"Bookmark");var pp={},l5=tt;Object.defineProperty(pp,"__esModule",{value:!0});var x0=pp.default=void 0,c5=l5(nt()),d5=t;x0=pp.default=(0,c5.default)((0,d5.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2m0 15-5-2.18L7 18V5h10z"}),"BookmarkBorder");var xp={},u5=tt;Object.defineProperty(xp,"__esModule",{value:!0});var m0=xp.default=void 0,h5=u5(nt()),f5=t;m0=xp.default=(0,h5.default)((0,f5.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock");const p5=()=>t.jsx(Pt,{maxWidth:"lg",sx:{mt:4},children:t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx(ke,{children:t.jsxs(P,{sx:{p:3},children:[t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[t.jsx(le,{variant:"text",width:"60%",height:40}),t.jsx(he,{direction:"row",spacing:1,children:[1,2].map(e=>t.jsx(le,{variant:"circular",width:40,height:40},e))})]}),t.jsxs(he,{spacing:2,sx:{mb:3},children:[t.jsx(le,{variant:"text",width:"100%"}),t.jsx(le,{variant:"text",width:"95%"}),t.jsx(le,{variant:"text",width:"90%"})]}),t.jsx(he,{spacing:2,children:[1,2,3,4].map(e=>t.jsx(le,{variant:"rectangular",height:60,sx:{borderRadius:1}},e))})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsx(le,{variant:"text",width:"50%",height:32,sx:{mb:2}}),t.jsx(he,{spacing:2,children:[1,2,3].map(e=>t.jsxs(P,{children:[t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[t.jsx(le,{variant:"text",width:"40%"}),t.jsx(le,{variant:"text",width:"20%"})]}),t.jsx(le,{variant:"rectangular",width:"100%",height:8,sx:{borderRadius:1}})]},e))})]})})})]})}),x5=()=>{const{id:e}=Xr(),{api:n}=Je(),r=Mn(),[s,o]=g.useState(null),[a,c]=g.useState(!0),[d,u]=g.useState(null),[h,p]=g.useState(!1),[x,b]=g.useState(!1),[y,m]=g.useState(null),[w,j]=g.useState(null),{execute:D}=et();g.useEffect(()=>{(async()=>{if(!e)return;c(!0);const N=await D(()=>n==null?void 0:n.pollApi.get(e),{showErrorToast:!0});if(N){o(N);const O=await D(()=>n==null?void 0:n.pollApi.getUserVote(e),{showErrorToast:!1});O!=null&&O.optionId&&u(O.optionId);const $=await D(()=>n==null?void 0:n.pollApi.checkVotingEligibility(e),{showErrorToast:!1});$&&j($)}c(!1)})()},[e,D]);const C=async(I,N)=>{if(!(w!=null&&w.canVote)){m((w==null?void 0:w.reason)||"You cannot vote on this poll");return}if(await D(()=>n==null?void 0:n.pollApi.vote(I,{optionId:N}),{showSuccessMessage:!0,successMessage:"Vote recorded successfully!"})){u(N);const $=await D(()=>n==null?void 0:n.pollApi.get(I),{showErrorToast:!0});$&&o($)}},R=async I=>{const N=await D(()=>n==null?void 0:n.pollApi.get(I),{showErrorToast:!0});N&&(o(N),p(!0))},E=()=>{navigator.share?navigator.share({title:s==null?void 0:s.title,text:s==null?void 0:s.description,url:window.location.href}).catch(console.error):navigator.clipboard.writeText(window.location.href)},T=()=>{b(!x)};return a?t.jsx(p5,{}):s?t.jsxs(Pt,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsx(P,{sx:{mb:3},children:t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap"},children:[t.jsxs(P,{component:On,to:je.APP_CHANNEL_VIEW.replace(":channelId",s.channel.id),sx:{display:"inline-flex",alignItems:"center",bgcolor:"primary.main",color:"primary.contrastText",px:2,py:1,borderRadius:2,textDecoration:"none",transition:"all 0.2s ease-in-out","&:hover":{bgcolor:"primary.dark",transform:"translateY(-2px)"}},children:[t.jsx(Wa,{sx:{mr:1}}),t.jsx(v,{variant:"subtitle2",children:s.channel.name})]}),t.jsxs(P,{sx:{display:"inline-flex",alignItems:"center",bgcolor:"background.paper",px:2,py:1,borderRadius:2,border:"1px solid",borderColor:"divider"},children:[t.jsx(Jc,{sx:{mr:1,fontSize:"0.9rem"}}),t.jsx(v,{variant:"caption",children:s.creator.displayName})]}),s.requiredTier&&t.jsx(Ze,{icon:t.jsx(ba,{}),label:`${s.requiredTier.name} Required`,color:"warning",variant:"outlined",size:"small"})]}),t.jsxs(he,{direction:"row",spacing:1,children:[t.jsx($e,{onClick:E,sx:{color:"text.secondary","&:hover":{bgcolor:Ie(r.palette.primary.main,.05)}},children:t.jsx(Kc,{})}),t.jsx($e,{onClick:T,sx:{color:x?"primary.main":"text.secondary","&:hover":{bgcolor:Ie(r.palette.primary.main,.05)}},children:x?t.jsx(p0,{}):t.jsx(x0,{})})]})]})})}),t.jsxs(F,{item:!0,xs:12,md:8,children:[w&&!w.canVote&&t.jsx(ct,{severity:"warning",icon:t.jsx(m0,{}),sx:{mb:2},children:t.jsx(v,{variant:"body2",children:w.reason})}),t.jsx(hp,{poll:s,onVote:C,onViewResults:R,userVote:d,showResults:!!d||h,disabled:!(w!=null&&w.canVote)})]}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(he,{spacing:3,children:[s.description&&t.jsxs(lt,{sx:{p:2},children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"About this Poll"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:s.description})]}),s.requiredTier&&t.jsxs(lt,{sx:{p:2},children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Access Requirements"}),t.jsxs(he,{spacing:1,children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(ba,{color:"warning",fontSize:"small"}),t.jsx(v,{variant:"subtitle2",children:s.requiredTier.name})]}),s.requiredTier.description&&t.jsx(v,{variant:"body2",color:"text.secondary",children:s.requiredTier.description}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["This poll requires a ",s.requiredTier.name," subscription or higher to vote."]})]})]}),t.jsxs(lt,{sx:{p:2},children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Poll Statistics"}),t.jsxs(he,{spacing:2,children:[t.jsxs(P,{children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Total Votes"}),t.jsx(v,{variant:"h4",children:s.options.reduce((I,N)=>I+N.voteCount,0)})]}),t.jsxs(P,{children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Time Remaining"}),t.jsx(v,{variant:"body1",children:s.endDate?zr(new Date(s.endDate),{addSuffix:!0}):"No end date"})]})]})]}),t.jsxs(lt,{sx:{p:2},children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Comments"}),t.jsx(ge,{startIcon:t.jsx(dp,{}),variant:"outlined",fullWidth:!0,sx:{mt:1,textTransform:"none",borderRadius:2},children:"Add a Comment"})]})]})})]}),t.jsx(Ly,{open:!!y,autoHideDuration:6e3,onClose:()=>m(null),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:t.jsx(ct,{onClose:()=>m(null),severity:"error",sx:{width:"100%"},children:y})})]}):t.jsx(Pt,{maxWidth:"lg",sx:{mt:4},children:t.jsx(v,{variant:"h4",children:"Poll not found"})})},m5=()=>{const[e,n]=g.useState(null),[r,s]=g.useState(!0),[o,a]=g.useState(!1),[c,d]=g.useState(!1),[u,h]=g.useState(null),[p,x]=g.useState(null),[b,y]=g.useState({}),{api:m}=Je(),{execute:w}=et();g.useEffect(()=>{j()},[]);const j=async()=>{s(!0),h(null);const T=await w(()=>m.accountApi.getProfile(),{showErrorToast:!0});T&&(n(T),y({displayName:T.displayName,photoUrl:T.photoUrl})),s(!1)},D=()=>{d(!0),h(null),x(null)},C=()=>{d(!1),e&&y({displayName:e.displayName,photoUrl:e.photoUrl}),h(null),x(null)},R=async()=>{a(!0),h(null),x(null);const T=await w(()=>m.accountApi.updateProfile(b),{showSuccessMessage:!0,successMessage:"Profile updated successfully"});T&&(n(T),d(!1)),a(!1)},E=T=>I=>{y(N=>({...N,[T]:I.target.value}))};return r?t.jsx(P,{sx:{p:3},children:t.jsxs(he,{spacing:3,alignItems:"center",children:[t.jsx(le,{variant:"circular",width:120,height:120}),t.jsx(le,{variant:"text",width:"50%",height:40}),t.jsx(le,{variant:"rectangular",width:"100%",height:56}),t.jsx(le,{variant:"rectangular",width:"100%",height:56})]})}):e?t.jsx(P,{sx:{p:3},children:t.jsxs(he,{spacing:3,children:[u&&t.jsx(ct,{severity:"error",children:u}),p&&t.jsx(ct,{severity:"success",children:p}),t.jsxs(P,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:2},children:[t.jsx(jn,{src:b.photoUrl||e.photoUrl,sx:{width:120,height:120,mb:2}}),t.jsx(v,{variant:"h6",children:e.email}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Joined ",new Date(e.createdAt||"").toLocaleDateString()]})]}),t.jsx(st,{label:"Display Name",value:b.displayName||"",onChange:E("displayName"),disabled:!c,fullWidth:!0,variant:"outlined"}),t.jsx(st,{label:"Photo URL",value:b.photoUrl||"",onChange:E("photoUrl"),disabled:!c,fullWidth:!0,variant:"outlined",placeholder:"https://example.com/photo.jpg"}),t.jsx(P,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:c?t.jsxs(t.Fragment,{children:[t.jsx(ge,{variant:"outlined",startIcon:t.jsx(io,{}),onClick:C,disabled:o,children:"Cancel"}),t.jsx(ge,{variant:"contained",startIcon:o?t.jsx(Yn,{size:20}):t.jsx(Vy,{}),onClick:R,disabled:o,children:"Save Changes"})]}):t.jsx(ge,{variant:"contained",startIcon:t.jsx(ls,{}),onClick:D,children:"Edit Profile"})})]})}):t.jsx(P,{sx:{p:3},children:t.jsx(ct,{severity:"error",children:"Failed to load profile"})})},Br={CREDIT_CARD:1,BANK_TRANSFER:2,PAYPAL:3,IYZICO:4,OTHER:5};var g5={VITE_API_URL:"https://oyster-app-4nnna.ondigitalocean.app",VITE_ENV:"staging",BASE_URL:"/journalist-material-client/",MODE:"staging",DEV:!1,PROD:!0,SSR:!1};const b5=({onSuccess:e,onError:n,disabled:r=!1})=>{const[s,o]=g.useState(!1),[a,c]=g.useState(!1),[d,u]=g.useState(null),h=g.useRef(null),{api:p}=Je(),x=g5.VITE_PAYPAL_CLIENT_ID||"AUvVGkHGJD8OKekE_4XxFzzKL8a8yLtJ3ZG1woE3OobNy57zyofuPIiUo-zZag0O_L1KPB_u4TB0tuJp";return g.useEffect(()=>{if(window.paypal){o(!0);return}const b=document.createElement("script");return b.src=`https://www.paypal.com/sdk/js?client-id=${x}&components=buttons&vault=true`,b.async=!0,b.onload=()=>{o(!0)},b.onerror=()=>{u("Failed to load PayPal SDK"),n("Failed to load PayPal SDK")},document.head.appendChild(b),()=>{document.head.contains(b)&&document.head.removeChild(b)}},[x,n]),g.useEffect(()=>{!s||r||!h.current||(h.current&&(h.current.innerHTML=""),window.paypal&&window.paypal.Buttons&&window.paypal.Buttons({style:{layout:"horizontal",color:"blue",shape:"rect",label:"paypal",tagline:!1,height:40},createOrder:async()=>{try{return c(!0),u(null),(await p.paymentTokenApi.createPayPalTokenizationOrder()).id}catch(b){const y=b.message||"Failed to initialize PayPal connection";throw u(y),n(y),c(!1),b}},onApprove:async b=>{try{const y=await p.paymentTokenApi.capturePayPalTokenizationOrder(b.orderID);if(y.payment_token)await p.accountApi.savePayPalPaymentMethod({payment_token:y.payment_token,payer_id:b.payerID}),e(y);else throw new Error("No payment token received from PayPal")}catch(y){const m=y.message||"Failed to save PayPal payment method";u(m),n(m)}finally{c(!1)}},onError:b=>{console.error("PayPal button error:",b);const y="PayPal connection failed. Please try again.";u(y),n(y),c(!1)},onCancel:()=>{c(!1),console.log("PayPal connection cancelled by user")}}).render(h.current))},[s,r,p,e,n]),s?t.jsxs(P,{sx:{textAlign:"center",py:3},children:[d&&t.jsx(ct,{severity:"error",sx:{mb:2},children:d}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Connect your PayPal account securely using PayPal's secure tokenization"}),t.jsx("div",{ref:h}),a&&t.jsx(v,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:2},children:"Connecting to PayPal..."}),t.jsx(v,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:2},children:"Your payment information is stored securely with PayPal"})]}):t.jsx(P,{sx:{textAlign:"center",py:2},children:t.jsx(v,{variant:"body2",color:"text.secondary",children:"Loading PayPal..."})})},y5=({onSuccess:e,onError:n,disabled:r=!1})=>{const[s,o]=g.useState(!1),[a,c]=g.useState(null),[d,u]=g.useState(null),[h,p]=g.useState(null),{api:x}=Je();g.useEffect(()=>{(async()=>{try{const j=await x.accountApi.getProfile();if(j!=null&&j.displayName&&(j!=null&&j.email)){const D=j.displayName.trim().split(" "),C=D[0]||"User",R=D.length>1?D.slice(1).join(" "):"Name";p({name:C,surname:R,email:j.email})}else c("Unable to retrieve user information. Please ensure your profile is complete.")}catch(j){console.error("Failed to fetch user info:",j),c("Failed to retrieve user information")}})()},[x]);const b=async()=>{try{return(await(await fetch("https://api.ipify.org?format=json")).json()).ip||"127.0.0.1"}catch{return"127.0.0.1"}},y=async()=>{if(!h){c("User information is not available");return}try{o(!0),c(null);const w=await b(),j=await x.iyzicoTokenApi.initializeTokenization({name:h.name,surname:h.surname,email:h.email,ip:w});if(!j.sessionToken)throw new Error("Failed to initialize Iyzico session");if(u(j.sessionToken),j.checkoutFormContent){const D=window.open("","IyzicoCheckout","width=800,height=600");if(D){D.document.write(j.checkoutFormContent),D.document.close(),window.addEventListener("message",m,!1);const C=setInterval(()=>{D.closed&&(clearInterval(C),window.removeEventListener("message",m,!1),o(!1),c("Payment window was closed"))},1e3)}else throw new Error("Failed to open payment window. Please allow popups.")}else if(j.paymentPageUrl)window.open(j.paymentPageUrl,"IyzicoCheckout","width=800,height=600");else throw new Error("No checkout method provided by Iyzico")}catch(w){const j=w.message||"Failed to initialize Iyzico payment";c(j),n(j),o(!1)}},m=async w=>{if(w.origin===window.location.origin)if(w.data&&w.data.type==="IYZICO_CHECKOUT_SUCCESS")try{if(!d||!h)throw new Error("Session information is missing");const j=await b(),D=await x.iyzicoTokenApi.savePaymentMethod({sessionToken:d,name:h.name,surname:h.surname,email:h.email,ip:j});window.removeEventListener("message",m,!1),o(!1),e(D)}catch(j){const D=j.message||"Failed to save Iyzico payment method";c(D),n(D),o(!1)}else if(w.data&&w.data.type==="IYZICO_CHECKOUT_ERROR"){window.removeEventListener("message",m,!1),o(!1);const j=w.data.message||"Payment failed";c(j),n(j)}else w.data&&w.data.type==="IYZICO_CHECKOUT_CANCEL"&&(window.removeEventListener("message",m,!1),o(!1),console.log("Iyzico payment cancelled by user"))};return h?t.jsxs(P,{sx:{textAlign:"center",py:3},children:[a&&t.jsx(ct,{severity:"error",sx:{mb:2},children:a}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Kartnz gvenli bir ekilde Iyzico ile kaydedin"}),t.jsx(ge,{variant:"contained",onClick:y,disabled:r||s||!h,sx:{backgroundColor:"#1B4332",color:"white","&:hover":{backgroundColor:"#2D5A3D"},"&:disabled":{backgroundColor:"#ccc"},minHeight:"48px",minWidth:"200px",fontWeight:"bold"},children:s?"yzico ile Balanyor...":"yzico ile deme Ekle"}),s&&t.jsx(v,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:2},children:"Gvenli deme sayfasna ynlendiriliyorsunuz..."}),t.jsx(v,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:2},children:"Kart bilgileriniz Iyzico'nun gvenli sisteminde saklanr"}),t.jsx(v,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:1},children:"lem tamamlandktan sonra pop-up pencereyi kapatabilirsiniz"})]}):t.jsx(P,{sx:{textAlign:"center",py:2},children:t.jsx(v,{variant:"body2",color:"text.secondary",children:"Loading user information..."})})},v5=()=>{const e=Mn(),[n,r]=g.useState([]),[s,o]=g.useState([]),[a,c]=g.useState(!0),[d,u]=g.useState(null),[h,p]=g.useState(null),[x,b]=g.useState(!1),[y,m]=g.useState(null),[w,j]=g.useState(!1),[D,C]=g.useState(!1),{api:R}=Je(),{execute:E}=et();g.useEffect(()=>{T()},[]);const T=async()=>{c(!0),u(null);const[V,X]=await Promise.all([E(()=>R.accountApi.getPaymentMethods(),{showErrorToast:!0}),E(()=>R.accountApi.getAvailablePaymentMethods(),{showErrorToast:!1})]);V&&r(V.items??[]),X&&o(X),c(!1)},I=async V=>{u(null),await E(()=>R.accountApi.setDefaultPaymentMethod(V.id),{showSuccessMessage:!0,successMessage:"Default payment method updated"})&&await T()},N=async()=>{if(!y)return;u(null),await E(()=>R.accountApi.deletePaymentMethod(y.id),{showSuccessMessage:!0,successMessage:"Payment method deleted successfully"})&&(await T(),b(!1),m(null))},O=V=>{m(V),b(!0)},$=()=>{b(!1),m(null)},B=async()=>{await T(),p("Payment method added successfully")},H=()=>{j(!0)},k=async()=>{try{j(!1),p("Connecting PayPal account..."),await T(),p("PayPal account connected successfully!")}catch(V){console.error("Error refreshing payment methods:",V),p("PayPal account connected successfully!")}},ne=V=>{u(V),j(!1)},K=()=>{C(!0)},q=async()=>{C(!1),await B(),p("Iyzico card added successfully!")},te=V=>{u(V),C(!1)},ie=V=>{switch(V){case Br.PAYPAL:return t.jsx(jn,{sx:{bgcolor:"#0070ba",width:40,height:40,fontSize:"12px",fontWeight:"bold",color:"white"},children:"PayPal"});case Br.IYZICO:return t.jsx(jn,{sx:{bgcolor:"#00a650",width:40,height:40,fontSize:"11px",fontWeight:"bold",color:"white"},children:"iyzico"});default:return t.jsx(jn,{sx:{bgcolor:e.palette.grey[400],width:40,height:40},children:t.jsx(tc,{})})}},se=V=>{switch(V.typeId){case Br.PAYPAL:return V.details.email;case Br.IYZICO:{const X=V.details.cardAssociation||"Card",we=V.details.lastFourDigits||"****";return`${X}  ${we}`}default:return"Payment method"}},ae=V=>s.includes(V);return a?t.jsx(P,{sx:{p:3},children:t.jsx(he,{spacing:2,children:[...Array(3)].map((V,X)=>t.jsx(ke,{children:t.jsx(Fe,{children:t.jsxs(he,{direction:"row",spacing:2,alignItems:"center",children:[t.jsx(le,{variant:"circular",width:40,height:40}),t.jsxs(P,{sx:{flex:1},children:[t.jsx(le,{variant:"text",width:"60%"}),t.jsx(le,{variant:"text",width:"40%"})]}),t.jsx(le,{variant:"rectangular",width:100,height:32})]})})},X))})}):t.jsxs(P,{children:[t.jsxs(he,{spacing:3,children:[d&&t.jsx(ct,{severity:"error",sx:{mb:2},children:d}),h&&t.jsx(ct,{severity:"success",sx:{mb:2},children:h}),t.jsxs(P,{sx:{mb:3},children:[t.jsx(v,{variant:"h6",sx:{fontWeight:600,mb:.5},children:"Payment Methods"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Manage your payment methods for subscriptions"})]}),t.jsxs(he,{spacing:0,divider:t.jsx(Yt,{}),sx:{border:"1px solid",borderColor:"divider",borderRadius:2,overflow:"hidden"},children:[ae(Br.PAYPAL)&&t.jsxs(P,{sx:{p:2.5,display:"flex",alignItems:"center",gap:2.5,transition:"background-color 0.2s","&:hover":{bgcolor:e.palette.mode==="dark"?"rgba(255,255,255,0.02)":"rgba(0,0,0,0.01)"}},children:[t.jsx(P,{sx:{flexShrink:0},children:t.jsx(jn,{sx:{bgcolor:"#0070ba",width:40,height:40,fontSize:"12px",fontWeight:"bold",color:"white"},children:"PayPal"})}),t.jsxs(P,{sx:{flex:1,minWidth:0},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[t.jsx(v,{variant:"body1",sx:{fontWeight:600},children:"PayPal"}),n.some(V=>V.typeId===Br.PAYPAL)&&t.jsx(Ze,{label:"Connected",size:"small",color:"success",sx:{height:20,fontSize:"0.7rem",fontWeight:600}})]}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.875rem"},children:"Connect your PayPal account securely"})]}),t.jsx(P,{sx:{flexShrink:0,width:100},children:t.jsx(ge,{onClick:H,size:"small",variant:"outlined",fullWidth:!0,sx:{borderRadius:1.5,textTransform:"none",fontSize:"0.8rem",fontWeight:500},children:n.some(V=>V.typeId===Br.PAYPAL)?"Add Another":"Connect"})})]}),ae(Br.IYZICO)&&t.jsxs(P,{sx:{p:2.5,display:"flex",alignItems:"center",gap:2.5,transition:"background-color 0.2s","&:hover":{bgcolor:e.palette.mode==="dark"?"rgba(255,255,255,0.02)":"rgba(0,0,0,0.01)"}},children:[t.jsx(P,{sx:{flexShrink:0},children:t.jsx(jn,{sx:{bgcolor:"#00a650",width:40,height:40,fontSize:"11px",fontWeight:"bold",color:"white"},children:"iyzico"})}),t.jsxs(P,{sx:{flex:1,minWidth:0},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[t.jsx(v,{variant:"body1",sx:{fontWeight:600},children:"Credit/Debit Card"}),n.some(V=>V.typeId===Br.IYZICO)&&t.jsx(Ze,{label:`${n.filter(V=>V.typeId===Br.IYZICO).length} Card(s)`,size:"small",color:"success",sx:{height:20,fontSize:"0.7rem",fontWeight:600}})]}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.875rem"},children:"Gvenli kart deme sistemi"})]}),t.jsx(P,{sx:{flexShrink:0,width:100},children:t.jsx(ge,{onClick:K,size:"small",variant:"outlined",fullWidth:!0,sx:{borderRadius:1.5,textTransform:"none",fontSize:"0.8rem",fontWeight:500},children:"Add Card"})})]}),!ae(Br.PAYPAL)&&!ae(Br.IYZICO)&&t.jsx(P,{sx:{p:3,textAlign:"center"},children:t.jsx(v,{variant:"body2",color:"text.secondary",children:"No payment methods are currently available in your region."})})]}),n.length>0&&t.jsxs(t.Fragment,{children:[t.jsxs(P,{sx:{mt:4,mb:2},children:[t.jsx(v,{variant:"h6",sx:{fontWeight:600,mb:.5},children:"Connected Methods"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Your active payment methods"})]}),t.jsx(he,{spacing:0,divider:t.jsx(Yt,{}),sx:{border:"1px solid",borderColor:"divider",borderRadius:2,overflow:"hidden"},children:n.map((V,X)=>t.jsxs(P,{sx:{p:2.5,display:"flex",alignItems:"center",gap:2.5,bgcolor:X%2===0?"transparent":e.palette.mode==="dark"?"rgba(255,255,255,0.02)":"rgba(0,0,0,0.01)",transition:"background-color 0.2s","&:hover":{bgcolor:e.palette.mode==="dark"?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.03)"}},children:[t.jsx(P,{sx:{flexShrink:0},children:ie(V.typeId)}),t.jsxs(P,{sx:{flex:1,minWidth:0},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:1.5,mb:.5},children:[t.jsx(v,{variant:"body1",sx:{fontWeight:600},children:V.type.name}),V.isDefault&&t.jsx(Ze,{label:"Default",size:"small",sx:{height:20,fontSize:"0.7rem",fontWeight:600,bgcolor:"primary.main",color:"primary.contrastText"}})]}),t.jsx(v,{variant:"body2",color:"text.primary",sx:{mb:.5,fontFamily:"monospace",fontSize:"0.875rem"},children:se(V)}),t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[t.jsx(v,{variant:"caption",color:"text.secondary",sx:{fontWeight:500},children:V.currency.toUpperCase()}),V.lastUsedAt&&t.jsxs(t.Fragment,{children:[t.jsx(P,{sx:{width:3,height:3,bgcolor:"text.secondary",borderRadius:"50%",opacity:.5}}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Last used ",new Date(V.lastUsedAt).toLocaleDateString()]})]})]})]}),t.jsxs(P,{sx:{display:"flex",gap:1,flexShrink:0},children:[!V.isDefault&&t.jsx(ge,{onClick:()=>I(V),size:"small",variant:"outlined",sx:{borderRadius:1.5,textTransform:"none",fontSize:"0.75rem",fontWeight:500,px:1.5,minWidth:"auto"},children:"Set default"}),t.jsx($e,{onClick:()=>O(V),size:"small",sx:{color:"text.secondary","&:hover":{color:"error.main",bgcolor:"error.main"}},children:t.jsx(rc,{fontSize:"small"})})]})]},V.id))})]})]}),t.jsxs(on,{open:x,onClose:$,children:[t.jsx(pn,{children:"Delete Payment Method"}),t.jsx(an,{children:t.jsxs(v,{children:["Are you sure you want to delete this payment method?",(y==null?void 0:y.isDefault)&&t.jsx(ct,{severity:"warning",sx:{mt:2},children:"This is your default payment method. You'll need to set another payment method as default."})]})}),t.jsxs(ln,{children:[t.jsx(ge,{onClick:$,children:"Cancel"}),t.jsx(ge,{onClick:N,color:"error",variant:"contained",children:"Delete"})]})]}),t.jsxs(on,{open:w,onClose:()=>j(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(pn,{children:"Connect PayPal Account"}),t.jsx(an,{children:t.jsx(b5,{onSuccess:k,onError:ne,disabled:!1})}),t.jsx(ln,{children:t.jsx(ge,{onClick:()=>j(!1),children:"Cancel"})})]}),t.jsxs(on,{open:D,onClose:()=>C(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(pn,{children:"Kart Ekleme"}),t.jsx(an,{children:t.jsx(y5,{onSuccess:q,onError:te,disabled:!1})}),t.jsx(ln,{children:t.jsx(ge,{onClick:()=>C(!1),children:"ptal"})})]})]})},fn={ACTIVE:1,CANCELLED:2,EXPIRED:3,PENDING:4,SUSPENDED:5},j5={[fn.ACTIVE]:"active",[fn.CANCELLED]:"cancelled",[fn.EXPIRED]:"expired",[fn.PENDING]:"pending",[fn.SUSPENDED]:"suspended"},g0={active:fn.ACTIVE,cancelled:fn.CANCELLED,expired:fn.EXPIRED,pending:fn.PENDING,suspended:fn.SUSPENDED};function w5(e){if(typeof e=="number")return Object.values(fn).includes(e)?e:fn.PENDING;const n=e.toLowerCase();return g0[n]||fn.PENDING}function b0(e){if(typeof e=="string"){const n=e.toLowerCase();return n in g0?n:"pending"}return j5[e]||"pending"}function S5(e){return w5(e)===fn.ACTIVE}function vc(e){const n=b0(e);switch(n){case"active":return"Active";case"cancelled":return"Cancelled";case"expired":return"Expired";case"pending":return"Pending";case"suspended":return"Suspended";default:return n.charAt(0).toUpperCase()+n.slice(1)}}function jc(e){switch(b0(e)){case"active":return"success";case"cancelled":return"warning";case"expired":return"error";case"pending":return"info";case"suspended":return"info";default:return"default"}}function C5(e){return S5(e)}const P5=[{id:fn.ACTIVE,value:"active",label:"Active"},{id:fn.CANCELLED,value:"cancelled",label:"Cancelled"},{id:fn.EXPIRED,value:"expired",label:"Expired"},{id:fn.PENDING,value:"pending",label:"Pending"},{id:fn.SUSPENDED,value:"suspended",label:"Suspended"}],D5=()=>{const[e,n]=g.useState([]),[r,s]=g.useState(!0),[o,a]=g.useState(null),[c,d]=g.useState(null),[u,h]=g.useState(!1),[p,x]=g.useState(null),[b,y]=g.useState(!1),{api:m}=Je(),{execute:w}=et(),j=Mn(),D=async()=>{s(!0),a(null);const k=await w(()=>m.accountApi.getSubscriptions(),{showErrorToast:!0});k&&n(k.items??[]),s(!1)};g.useEffect(()=>{D()},[]);const C=async()=>{if(!p)return;y(!0),a(null),await w(()=>m.accountApi.cancelSubscription(p.id),{showSuccessMessage:!0,successMessage:"Subscription canceled successfully"})&&(await D(),h(!1),x(null)),y(!1)},R=k=>{x(k),h(!0)},E=()=>{h(!1),x(null)},T=k=>jc(k),I=k=>vc(k),N=k=>new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),O=(k,ne)=>new Intl.NumberFormat("en-US",{style:"currency",currency:ne.toUpperCase()}).format(k/100),$=k=>C5(k.statusId);if(r)return t.jsx(P,{sx:{p:{xs:2,md:4}},children:t.jsxs(he,{spacing:3,children:[t.jsxs(P,{children:[t.jsx(le,{variant:"text",sx:{fontSize:"1.5rem",width:"200px",mb:1}}),t.jsx(le,{variant:"text",sx:{fontSize:"0.875rem",width:"150px"}})]}),t.jsx(F,{container:!0,spacing:3,children:[...Array(3)].map((k,ne)=>t.jsx(F,{item:!0,xs:12,lg:6,children:t.jsxs(ke,{sx:{height:"100%"},children:[t.jsx(Fe,{sx:{p:3},children:t.jsxs(he,{direction:"row",spacing:3,children:[t.jsx(le,{variant:"circular",width:64,height:64}),t.jsxs(P,{sx:{flex:1},children:[t.jsx(le,{variant:"text",sx:{fontSize:"1.25rem",width:"70%",mb:1}}),t.jsx(le,{variant:"text",sx:{width:"50%",mb:2}}),t.jsx(he,{direction:"row",spacing:1,mb:2,children:t.jsx(le,{variant:"rectangular",width:80,height:24,sx:{borderRadius:1}})}),t.jsxs(he,{spacing:1,children:[t.jsx(le,{variant:"text",sx:{width:"60%"}}),t.jsx(le,{variant:"text",sx:{width:"40%"}})]})]})]})}),t.jsxs(nc,{sx:{px:3,pb:3},children:[t.jsx(le,{variant:"rectangular",width:100,height:36,sx:{borderRadius:1}}),t.jsx(le,{variant:"rectangular",width:120,height:36,sx:{borderRadius:1,ml:1}})]})]})},ne))})]})});const B=e.filter(k=>k.statusId===fn.ACTIVE),H=e.reduce((k,ne)=>k+ne.tier.price/100,0);return t.jsx(P,{sx:{p:{xs:2,md:4}},children:t.jsxs(he,{spacing:4,children:[o&&t.jsx(ct,{severity:"error",onClose:()=>a(null),sx:{borderRadius:2},children:o}),c&&t.jsx(ct,{severity:"success",onClose:()=>d(null),sx:{borderRadius:2},children:c}),t.jsxs(P,{children:[t.jsx(v,{variant:"h4",sx:{fontWeight:600,mb:1},children:"My Subscriptions"}),t.jsx(v,{variant:"body1",color:"text.secondary",children:"Manage your channel subscriptions and contributions"})]}),e.length>0&&t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(lt,{sx:{p:3,borderRadius:3,background:`linear-gradient(135deg, ${j.palette.primary.main} 0%, ${j.palette.primary.dark} 100%)`,color:"white"},children:t.jsxs(he,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(P,{children:[t.jsx(v,{variant:"h4",sx:{fontWeight:700,mb:.5},children:B.length}),t.jsx(v,{variant:"body2",sx:{opacity:.9},children:"Active"})]}),t.jsx(qr,{sx:{fontSize:40,opacity:.8}})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(lt,{sx:{p:3,borderRadius:3,background:`linear-gradient(135deg, ${j.palette.success.main} 0%, ${j.palette.success.dark} 100%)`,color:"white"},children:t.jsxs(he,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(P,{children:[t.jsxs(v,{variant:"h4",sx:{fontWeight:700,mb:.5},children:["$",H.toFixed(0)]}),t.jsx(v,{variant:"body2",sx:{opacity:.9},children:"Monthly Value"})]}),t.jsx(Yh,{sx:{fontSize:40,opacity:.8}})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(lt,{sx:{p:3,borderRadius:3,border:`1px solid ${j.palette.divider}`},children:t.jsxs(he,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(P,{children:[t.jsx(v,{variant:"h4",sx:{fontWeight:700,mb:.5,color:"text.primary"},children:e.length}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Total"})]}),t.jsx(bi,{sx:{fontSize:40,color:"text.secondary"}})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(lt,{sx:{p:3,borderRadius:3,border:`1px solid ${j.palette.divider}`},children:t.jsxs(he,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(P,{children:[t.jsx(v,{variant:"h4",sx:{fontWeight:700,mb:.5,color:"text.primary"},children:e.filter(k=>k.autoContribute).length}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Auto-contribute"})]}),t.jsx(HI,{sx:{fontSize:40,color:"text.secondary"}})]})})})]}),e.length===0?t.jsx(lt,{sx:{textAlign:"center",py:8,px:4,borderRadius:4,background:`linear-gradient(135deg, ${Ie(j.palette.primary.main,.02)} 0%, ${Ie(j.palette.primary.main,.05)} 100%)`,border:`1px solid ${Ie(j.palette.primary.main,.1)}`},children:t.jsxs(P,{sx:{maxWidth:400,mx:"auto"},children:[t.jsx(bi,{sx:{fontSize:80,color:"primary.main",opacity:.6,mb:3}}),t.jsx(v,{variant:"h5",sx:{fontWeight:600,mb:2},children:"No Subscriptions Yet"}),t.jsx(v,{variant:"body1",color:"text.secondary",sx:{mb:4,lineHeight:1.6},children:"Discover amazing channels and support creators by subscribing to their content. Your subscriptions will appear here."}),t.jsx(ge,{variant:"contained",size:"large",href:"/app/channels",sx:{borderRadius:2,py:1.5,px:4,textTransform:"none",fontSize:"1rem",fontWeight:600},children:"Explore Channels"})]})}):t.jsx(F,{container:!0,spacing:3,children:e.map(k=>t.jsx(F,{item:!0,xs:12,lg:6,children:t.jsxs(ke,{sx:{height:"100%",borderRadius:3,border:`1px solid ${j.palette.divider}`,transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:j.shadows[8]}},children:[t.jsx(Fe,{sx:{p:3},children:t.jsxs(he,{direction:"row",spacing:3,children:[t.jsx(jn,{sx:{width:64,height:64,border:`2px solid ${j.palette.divider}`,fontSize:"1.5rem",fontWeight:600},src:`https://via.placeholder.com/64x64?text=${k.channel.name.charAt(0)}`,children:k.channel.name.charAt(0)}),t.jsxs(P,{sx:{flex:1,minWidth:0},children:[t.jsxs(he,{direction:"row",alignItems:"flex-start",justifyContent:"space-between",mb:1,children:[t.jsx(v,{variant:"h6",sx:{fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:k.channel.name}),t.jsx($e,{size:"small",sx:{ml:1},children:t.jsx(Gh,{fontSize:"small"})})]}),t.jsxs(he,{direction:"row",alignItems:"center",spacing:2,mb:2,children:[t.jsx(v,{variant:"body2",color:"text.secondary",children:k.tier.name}),t.jsxs(v,{variant:"body2",sx:{fontWeight:600,color:"primary.main"},children:[O(k.tier.price,k.tier.currency),"/month"]})]}),t.jsxs(he,{direction:"row",spacing:1,mb:2,flexWrap:"wrap",children:[t.jsx(Ze,{label:I(k.statusId),color:T(k.statusId),size:"small",sx:{borderRadius:1}}),k.autoContribute&&t.jsx(Ze,{label:"Auto-contribute",variant:"outlined",size:"small",sx:{borderRadius:1}})]}),t.jsxs(he,{spacing:.5,children:[t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Started: ",N(k.subscribedAt)]}),k.expiresAt&&t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Expires: ",N(k.expiresAt)]}),k.totalContributions>0&&t.jsxs(v,{variant:"caption",color:"success.main",children:["Total contributed: ",O(k.totalContributions,k.tier.currency)]})]})]})]})}),t.jsx(Yt,{}),t.jsxs(nc,{sx:{p:3,pt:2},children:[t.jsx(ge,{variant:"outlined",size:"small",href:`${je.APP_CHANNEL_VIEW}`.replace(":id",k.channel.id),endIcon:t.jsx(YI,{}),sx:{borderRadius:1.5,textTransform:"none",fontWeight:500},children:"View Channel"}),$(k)&&t.jsx(ge,{variant:"text",color:"error",size:"small",startIcon:t.jsx(io,{}),onClick:()=>R(k),sx:{borderRadius:1.5,textTransform:"none",fontWeight:500,ml:"auto"},children:"Cancel"})]})]})},k.id))}),t.jsxs(on,{open:u,onClose:E,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:3,p:1}},children:[t.jsx(pn,{sx:{pb:1},children:t.jsx(v,{variant:"h5",sx:{fontWeight:600},children:"Cancel Subscription"})}),t.jsx(an,{sx:{pb:2},children:t.jsxs(he,{spacing:2,children:[t.jsxs(v,{variant:"body1",children:["Are you sure you want to cancel your subscription to"," ",t.jsx(v,{component:"span",sx:{fontWeight:600,color:"primary.main"},children:p==null?void 0:p.channel.name}),"?"]}),t.jsx(lt,{sx:{p:2,borderRadius:2,bgcolor:Ie(j.palette.warning.main,.05),border:`1px solid ${Ie(j.palette.warning.main,.2)}`},children:t.jsxs(v,{variant:"body2",color:"text.secondary",children:["You will continue to have access until your current billing period ends",(p==null?void 0:p.expiresAt)&&t.jsxs(v,{component:"span",sx:{fontWeight:500},children:[" ","on ",N(p.expiresAt)]}),"."]})})]})}),t.jsxs(ln,{sx:{p:3,pt:1},children:[t.jsx(ge,{onClick:E,disabled:b,variant:"outlined",sx:{borderRadius:2,textTransform:"none",fontWeight:500,px:3},children:"Keep Subscription"}),t.jsx(ge,{onClick:C,color:"error",variant:"contained",disabled:b,sx:{borderRadius:2,textTransform:"none",fontWeight:500,px:3},children:b?"Canceling...":"Cancel Subscription"})]})]})]})})},T5=()=>{const{isDarkMode:e,toggleTheme:n}=wf(),[r,s]=g.useState(e?"dark":"light"),o=a=>{const c=a.target.value;s(c),(c==="dark"&&!e||c==="light"&&e)&&n()};return t.jsxs(P,{children:[t.jsx(v,{variant:"h6",sx:{fontWeight:600,mb:.5},children:"Appearance"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Customize how MetaJourno looks on your device"}),t.jsx(lt,{elevation:0,sx:{p:3,border:"1px solid",borderColor:"divider",borderRadius:2},children:t.jsxs(bt,{component:"fieldset",children:[t.jsx(JI,{component:"legend",sx:{fontWeight:600,mb:2},children:"Theme mode"}),t.jsxs(By,{value:r,onChange:o,children:[t.jsx(Mo,{value:"light",control:t.jsx(lh,{}),label:t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(QI,{fontSize:"small"}),t.jsxs(P,{children:[t.jsx(v,{variant:"body1",children:"Light"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:"Use light theme"})]})]}),sx:{mb:2,p:1.5,borderRadius:1,"&:hover":{bgcolor:"action.hover"}}}),t.jsx(Mo,{value:"dark",control:t.jsx(lh,{}),label:t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(ZI,{fontSize:"small"}),t.jsxs(P,{children:[t.jsx(v,{variant:"body1",children:"Dark"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:"Use dark theme"})]})]}),sx:{p:1.5,borderRadius:1,"&:hover":{bgcolor:"action.hover"}}})]})]})})]})},Sb=_e($e)(({theme:e})=>({position:"absolute",top:"50%",transform:"translateY(-50%)",zIndex:1,backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.04)",width:32,height:32,"&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.08)"}})),I5=()=>{const[e,n]=g.useState("profile"),{user:r}=Fo(),s=g.useRef(null),[o,a]=g.useState(!1),[c,d]=g.useState(!1),u=[{id:"profile",icon:t.jsx(qI,{}),label:"Profile",divider:!1},{id:"payment",icon:t.jsx(Oa,{}),label:"Payment Methods",divider:!1},{id:"subscriptions",icon:t.jsx(bi,{}),label:"Subscriptions",divider:!0},{id:"appearance",icon:t.jsx(KI,{}),label:"Appearance",divider:!1},{id:"notifications",icon:t.jsx(XI,{}),label:"Notifications",divider:!1},{id:"security",icon:t.jsx(Uy,{}),label:"Password and authentication",divider:!1}],h=()=>{var m;const y=(m=s.current)==null?void 0:m.querySelector(".MuiTabs-scroller");if(y){const{scrollLeft:w,scrollWidth:j,clientWidth:D}=y;a(w>0),d(w+D<j-1)}};g.useEffect(()=>{var m;h();const y=(m=s.current)==null?void 0:m.querySelector(".MuiTabs-scroller");if(y)return y.addEventListener("scroll",h),window.addEventListener("resize",h),()=>{y.removeEventListener("scroll",h),window.removeEventListener("resize",h)}},[]);const p=()=>{var m;const y=(m=s.current)==null?void 0:m.querySelector(".MuiTabs-scroller");y&&y.scrollBy({left:-200,behavior:"smooth"})},x=()=>{var m;const y=(m=s.current)==null?void 0:m.querySelector(".MuiTabs-scroller");y&&y.scrollBy({left:200,behavior:"smooth"})},b=()=>{switch(e){case"profile":return t.jsx(m5,{});case"payment":return t.jsx(v5,{});case"subscriptions":return t.jsx(D5,{});case"appearance":return t.jsx(T5,{});case"notifications":return t.jsxs(P,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Notifications"}),t.jsx(v,{color:"text.secondary",children:"Notification settings coming soon..."})]});case"security":return t.jsxs(P,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Password and authentication"}),t.jsx(v,{color:"text.secondary",children:"Security settings coming soon..."})]});default:return null}};return t.jsxs(P,{sx:{width:"100%",overflow:"hidden"},children:[t.jsxs(P,{sx:{mb:4},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:2,mb:1},children:[t.jsx(v,{variant:"h5",sx:{fontWeight:600},children:(r==null?void 0:r.displayName)||"Account"}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:["(",(r==null?void 0:r.email)||"user",")"]})]}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Your personal account"})]}),t.jsxs(P,{sx:{position:"relative",mb:3},ref:s,children:[o&&t.jsx(Sb,{onClick:p,sx:{left:0},children:t.jsx(ks,{fontSize:"small"})}),t.jsx($s,{value:e,onChange:(y,m)=>n(m),variant:"scrollable",scrollButtons:!1,sx:{borderBottom:1,borderColor:"divider","& .MuiTabs-scroller":{"&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",msOverflowStyle:"none"},"& .MuiTabs-indicator":{height:2,borderRadius:"2px 2px 0 0"},"& .MuiTab-root":{minWidth:"auto",px:2.5,py:1.5,textTransform:"none",fontSize:"0.875rem",fontWeight:500,color:"text.secondary","&.Mui-selected":{color:"primary.main",fontWeight:600}}},children:u.map(y=>t.jsx(_n,{value:y.id,label:y.label,icon:y.icon,iconPosition:"start",sx:{minHeight:48,gap:.75}},y.id))}),c&&t.jsx(Sb,{onClick:x,sx:{right:0},children:t.jsx(GI,{fontSize:"small"})})]}),t.jsx(P,{children:b()})]})},mp=({children:e,isHighlighted:n=!1,contentPadding:r=3,noHover:s=!1,contentSx:o,sx:a,...c})=>t.jsx(ke,{elevation:n?2:0,sx:{height:"100%",position:"relative",borderRadius:2,border:"1px solid",borderColor:d=>n?"primary.main":d.palette.mode==="dark"?Ie(d.palette.common.white,.1):Ie(d.palette.common.black,.08),bgcolor:d=>n?Ie(d.palette.primary.main,d.palette.mode==="dark"?.1:.05):"background.paper",transition:"all 0.2s ease-in-out",...!s&&{"&:hover":{borderColor:"primary.main",transform:"translateY(-2px)"}},...a},...c,children:t.jsx(Fe,{sx:{p:r,"&:last-child":{pb:r},...o},children:e})}),gp=({status:e,...n})=>{const r=s=>{switch(s){case qe.APPROVED:case qe.PAID:return"success";case qe.REJECTED:case qe.CANCELLED:return"error";case qe.SUBMITTED:case qe.UNDER_REVIEW:return"info";case qe.DRAFT:default:return"default"}};return t.jsx(Ze,{label:fa[e],color:r(e),size:"small",variant:"filled",sx:{borderRadius:1,fontWeight:500,fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px",...n.sx},...n})},y0={TRAVEL:1,EQUIPMENT:2,ACCOMMODATION:3,FOOD:4,COMMUNICATION:5,LABOR:6,OTHER:7},v0={TRAVEL:"Travel",EQUIPMENT:"Equipment",ACCOMMODATION:"Accommodation",FOOD:"Food",COMMUNICATION:"Communication",LABOR:"Labor",OTHER:"Other"},E5=e=>{const n=Object.entries(y0).find(([r,s])=>s===e);return n?v0[n[0]]:"Unknown"},j0=()=>Object.entries(y0).map(([e,n])=>({id:n,name:v0[e]})),bp=({expenseOrder:e,onView:n,onEdit:r,onSubmit:s,onCancel:o,onApprove:a,onReject:c,onProcessPayment:d,showActions:u=!0,userRole:h="journalist"})=>{const[p,x]=Ft.useState(null),b=!!p,y=N=>{x(N.currentTarget)},m=()=>{x(null)},w=(N,O)=>new Intl.NumberFormat("en-US",{style:"currency",currency:O}).format(N),j=e.status===qe.DRAFT,D=e.status===qe.DRAFT,C=[qe.DRAFT,qe.SUBMITTED].includes(e.status),R=[qe.SUBMITTED,qe.UNDER_REVIEW].includes(e.status),E=[qe.SUBMITTED,qe.UNDER_REVIEW].includes(e.status),T=e.status===qe.APPROVED,I=()=>{const N=[];return n&&N.push(t.jsxs(Se,{onClick:()=>{n(e),m()},children:[t.jsx(js,{sx:{mr:1},fontSize:"small"}),"View Details"]},"view")),h==="journalist"?(j&&r&&N.push(t.jsxs(Se,{onClick:()=>{r(e),m()},children:[t.jsx(ls,{sx:{mr:1},fontSize:"small"}),"Edit"]},"edit")),D&&s&&N.push(t.jsxs(Se,{onClick:()=>{s(e),m()},children:[t.jsx(Lc,{sx:{mr:1},fontSize:"small"}),"Submit for Approval"]},"submit")),C&&o&&N.push(t.jsxs(Se,{onClick:()=>{o(e),m()},sx:{color:"error.main"},children:[t.jsx(rc,{sx:{mr:1},fontSize:"small"}),"Cancel"]},"cancel"))):(h==="admin"||h==="finance-manager")&&(R&&a&&N.push(t.jsx(Se,{onClick:()=>{a(e),m()},sx:{color:"success.main"},children:"Approve"},"approve")),E&&c&&N.push(t.jsx(Se,{onClick:()=>{c(e),m()},sx:{color:"error.main"},children:"Reject"},"reject")),T&&d&&N.push(t.jsx(Se,{onClick:()=>{d(e),m()},sx:{color:"primary.main"},children:"Process Payment"},"process-payment"))),N};return t.jsxs(mp,{children:[t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[t.jsxs(P,{sx:{flex:1},children:[t.jsx(v,{variant:"h6",component:"h3",sx:{mb:1,fontWeight:600},children:e.title}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:1},children:e.description}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:[e.channel.name,"  ",E5(e.type.id)]})]}),t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(gp,{status:e.status}),u&&t.jsx($e,{size:"small",onClick:y,children:t.jsx(Gh,{})})]})]}),t.jsx(Yt,{sx:{my:2}}),t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs(P,{children:[t.jsx(v,{variant:"h5",component:"span",sx:{fontWeight:700,color:"primary.main"},children:w(e.amount,e.currency)}),e.receiptUrl&&t.jsx(pt,{title:"Receipt attached",children:t.jsx(Ns,{sx:{ml:1,color:"success.main"},fontSize:"small"})})]}),t.jsx(v,{variant:"caption",color:"text.secondary",children:zr(new Date(e.createdAt),{addSuffix:!0})})]}),e.notes&&t.jsx(P,{sx:{mt:2},children:t.jsxs(v,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:['"',e.notes,'"']})}),e.rejectionReason&&t.jsx(P,{sx:{mt:2,p:2,bgcolor:"error.lighter",borderRadius:1},children:t.jsxs(v,{variant:"body2",color:"error.main",sx:{fontWeight:500},children:["Rejection Reason: ",e.rejectionReason]})}),t.jsx($o,{anchorEl:p,open:b,onClose:m,PaperProps:{sx:{minWidth:180}},children:I()})]})};function A5(e){const{children:n,value:r,index:s,...o}=e;return t.jsx("div",{role:"tabpanel",hidden:r!==s,id:`expense-order-tabpanel-${s}`,"aria-labelledby":`expense-order-tab-${s}`,...o,children:r===s&&t.jsx(P,{sx:{py:3},children:n})})}const R5=()=>{const e=It(),{api:n}=Je(),[r,s]=g.useState(0),[o,a]=g.useState([]),[c,d]=g.useState(!0),{execute:u}=et(),h=[{label:"All",status:void 0},{label:"Draft",status:qe.DRAFT},{label:"Submitted",status:qe.SUBMITTED},{label:"Approved",status:qe.APPROVED},{label:"Paid",status:qe.PAID},{label:"Rejected",status:qe.REJECTED}],p=async D=>{d(!0);const C=await u(()=>n.expenseOrderApi.getMyExpenseOrders({page:1,limit:50},D),{showErrorToast:!0});C&&a(C.items),d(!1)};g.useEffect(()=>{p(h[r].status)},[r,u]);const x=(D,C)=>{s(C)},b=D=>{e(je.APP_EXPENSE_ORDER_VIEW.replace(":id",D.id))},y=D=>{e(je.STUDIO_EXPENSE_ORDER_EDIT.replace(":id",D.id))},m=async D=>{await u(()=>n.expenseOrderApi.submitExpenseOrder(D.id),{showSuccessMessage:!0,successMessage:"Expense order submitted successfully!"})&&p(h[r].status)},w=async D=>{await u(()=>n.expenseOrderApi.cancelExpenseOrder(D.id),{showSuccessMessage:!0,successMessage:"Expense order cancelled successfully!"})&&p(h[r].status)},j=()=>{e(je.STUDIO_EXPENSE_ORDER_CREATE)};return t.jsxs(P,{sx:{p:3},children:[t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[t.jsx(v,{variant:"h4",component:"h1",sx:{fontWeight:600},children:"My Expense Orders"}),t.jsx(ge,{variant:"contained",startIcon:t.jsx(bs,{}),onClick:j,children:"Create New"})]}),t.jsx(P,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:t.jsx($s,{value:r,onChange:x,"aria-label":"expense order status tabs",children:h.map((D,C)=>t.jsx(_n,{label:D.label},C))})}),h.map((D,C)=>t.jsx(A5,{value:r,index:C,children:c?t.jsx(P,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(Yn,{})}):o.length===0?t.jsxs(P,{sx:{textAlign:"center",py:8},children:[t.jsx(v,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"No expense orders found"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:D.status?`No ${D.label.toLowerCase()} expense orders`:"You haven't created any expense orders yet"}),t.jsx(ge,{variant:"contained",startIcon:t.jsx(bs,{}),onClick:j,children:"Create Your First Expense Order"})]}):t.jsx(F,{container:!0,spacing:3,children:o.map(R=>t.jsx(F,{item:!0,xs:12,md:6,lg:4,children:t.jsx(bp,{expenseOrder:R,onView:b,onEdit:y,onSubmit:m,onCancel:w,userRole:"journalist"})},R.id))})},C))]})},_5=()=>{const e=It(),{id:n}=Xr(),{api:r}=Je(),[s,o]=g.useState(null),[a,c]=g.useState(!0),[d,u]=g.useState(!1),[h,p]=g.useState(null),{execute:x}=et(),b=async()=>{if(!n)return;c(!0),p(null);const T=await x(()=>r.expenseOrderApi.getExpenseOrder(n),{showErrorToast:!0});T&&o(T),c(!1)};g.useEffect(()=>{b()},[n]);const y=(T,I)=>new Intl.NumberFormat("en-US",{style:"currency",currency:I}).format(T),m=()=>{e(je.APP_EXPENSE_ORDERS)},w=()=>{s&&e(je.STUDIO_EXPENSE_ORDER_EDIT.replace(":id",s.id))},j=async()=>{if(!s)return;u(!0),await x(()=>r.expenseOrderApi.submitExpenseOrder(s.id),{showSuccessMessage:!0,successMessage:"Expense order submitted successfully!"})&&await b(),u(!1)},D=async()=>{if(!s)return;u(!0),await x(()=>r.expenseOrderApi.cancelExpenseOrder(s.id),{showSuccessMessage:!0,successMessage:"Expense order cancelled successfully!"})&&await b(),u(!1)};if(a)return t.jsx(P,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:t.jsx(Yn,{})});if(h||!s)return t.jsxs(P,{sx:{p:3},children:[t.jsx(ct,{severity:"error",children:h||"Expense order not found"}),t.jsx(ge,{startIcon:t.jsx(ks,{}),onClick:m,sx:{mt:2},children:"Back to Expense Orders"})]});const C=s.status===qe.DRAFT,R=s.status===qe.DRAFT,E=[qe.DRAFT,qe.SUBMITTED].includes(s.status);return t.jsxs(P,{sx:{p:3},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(ge,{startIcon:t.jsx(ks,{}),onClick:m,sx:{mr:2},children:"Back"}),t.jsx(v,{variant:"h4",component:"h1",sx:{fontWeight:600,flex:1},children:"Expense Order Details"}),t.jsx(gp,{status:s.status})]}),h&&t.jsx(ct,{severity:"error",sx:{mb:3},children:h}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsxs(F,{item:!0,xs:12,md:8,children:[t.jsxs(lt,{sx:{p:3,mb:3},children:[t.jsx(v,{variant:"h5",sx:{mb:2,fontWeight:600},children:s.title}),t.jsx(v,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:s.description}),t.jsx(Yt,{sx:{my:3}}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Channel"}),t.jsx(v,{variant:"body1",sx:{fontWeight:500},children:s.channel.name})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Expense Type"}),t.jsx(v,{variant:"body1",sx:{fontWeight:500},children:s.type.name})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Amount"}),t.jsx(v,{variant:"h6",sx:{fontWeight:700,color:"primary.main"},children:y(s.amount,s.currency)})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(v,{variant:"body1",children:op(new Date(s.createdAt),"PPP")})]})]}),s.receiptUrl&&t.jsxs(t.Fragment,{children:[t.jsx(Yt,{sx:{my:3}}),t.jsxs(P,{children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Receipt"}),t.jsxs(Nc,{href:s.receiptUrl,target:"_blank",rel:"noopener noreferrer",sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Ns,{fontSize:"small"}),"View Receipt"]})]})]}),s.notes&&t.jsxs(t.Fragment,{children:[t.jsx(Yt,{sx:{my:3}}),t.jsxs(P,{children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Notes"}),t.jsx(v,{variant:"body1",sx:{fontStyle:"italic"},children:s.notes})]})]})]}),t.jsxs(lt,{sx:{p:3},children:[t.jsx(v,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Actions"}),t.jsxs(P,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[C&&t.jsx(ge,{variant:"outlined",startIcon:t.jsx(ls,{}),onClick:w,disabled:d,children:"Edit"}),R&&t.jsx(ge,{variant:"contained",startIcon:t.jsx(Lc,{}),onClick:j,disabled:d,children:"Submit for Approval"}),E&&t.jsx(ge,{variant:"outlined",color:"error",startIcon:t.jsx(io,{}),onClick:D,disabled:d,children:"Cancel"})]})]})]}),t.jsxs(F,{item:!0,xs:12,md:4,children:[t.jsxs(lt,{sx:{p:3,mb:3},children:[t.jsx(v,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Timeline"}),t.jsxs(P,{sx:{display:"flex",flexDirection:"column",gap:2},children:[t.jsxs(P,{children:[t.jsx(v,{variant:"body2",sx:{fontWeight:500},children:"Created"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:zr(new Date(s.createdAt),{addSuffix:!0})})]}),s.submittedAt&&t.jsxs(P,{children:[t.jsx(v,{variant:"body2",sx:{fontWeight:500},children:"Submitted"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:zr(new Date(s.submittedAt),{addSuffix:!0})})]}),s.approvedAt&&t.jsxs(P,{children:[t.jsx(v,{variant:"body2",sx:{fontWeight:500},children:s.status===qe.APPROVED?"Approved":"Reviewed"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:zr(new Date(s.approvedAt),{addSuffix:!0})}),s.approver&&t.jsxs(v,{variant:"caption",display:"block",color:"text.secondary",children:["by ",s.approver.displayName]})]}),s.paidAt&&t.jsxs(P,{children:[t.jsx(v,{variant:"body2",sx:{fontWeight:500},children:"Paid"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:zr(new Date(s.paidAt),{addSuffix:!0})}),s.paymentReference&&t.jsxs(v,{variant:"caption",display:"block",color:"text.secondary",children:["Ref: ",s.paymentReference]})]})]})]}),s.rejectionReason&&t.jsxs(lt,{sx:{p:3,bgcolor:"error.lighter"},children:[t.jsx(v,{variant:"h6",sx:{mb:1,fontWeight:600,color:"error.main"},children:"Rejection Reason"}),t.jsx(v,{variant:"body2",color:"error.main",children:s.rejectionReason})]})]})]})]})},O5=_e(ke)(({theme:e})=>({marginBottom:e.spacing(2),cursor:"pointer",transition:"all 0.2s ease","&:hover":{boxShadow:e.shadows[4],transform:"translateY(-1px)"}})),Cb=_e(Ze)(({theme:e})=>({margin:e.spacing(.5),fontSize:"0.75rem"})),Pb=()=>{var ie;const e=lo(),n=It(),[r,s]=g.useState(1),[o,a]=g.useState(""),[c,d]=g.useState(!0),[u,h]=g.useState([]),[p,x]=g.useState(null),[b,y]=g.useState(!1),[m,w]=g.useState(null),[j,D]=g.useState({type:"all",sortBy:"relevance"}),[C,R]=g.useState(null),{api:E}=Je(),{execute:T}=et(),I=20;g.useEffect(()=>{const se=new URLSearchParams(e.search),ae=se.get("q"),V=se.get("type");if(ae){a(ae);const X={...j};V&&V!=="all"&&(X.type=V,D(X)),$(ae,X)}},[e.search]),g.useEffect(()=>{o&&(s(1),O(1))},[j]);const N=()=>{O(r+1)},O=async(se=r)=>{if(o){y(!0),w(null);try{const ae={};Object.entries(j).forEach(([X,we])=>{if(we!=null&&we!=="")if(X==="type"&&typeof we=="string"){const ce=Iv[we];ce!==void 0&&(ae.type=ce)}else if(X==="sortBy"&&typeof we=="string"){const ce=Ev[we];ce!==void 0&&(ae.sortBy=ce)}else ae[X]=we});const V=await T(()=>E==null?void 0:E.searchApi.search(o,ae,{page:se,limit:I}),{showErrorToast:!0});V&&(h(se===1?V.items??[]:X=>[...X,...V.items??[]]),s(V.metadata.currentPage??1),d(V.metadata.hasNext===!0),x(V))}catch(ae){console.error("Search error:",ae),w(ae.message||"Search failed")}finally{y(!1)}}},$=async(se,ae)=>{D(ae||j),a(se),s(1),h([]),d(!0),setTimeout(()=>{O(1)},0)},B=se=>{const ae={...j,...se};R(null),o&&$(o,ae)},H=(se,ae)=>{const V=encodeURIComponent(se);switch(ae){case"news":n(`${je.APP_NEWS}?tags=${V}`);break;case"channel":n(`${je.APP_CHANNELS}?tags=${V}`);break;case"poll":n(`${je.APP_POLLS}?tags=${V}`);break;default:n(`${je.APP_NEWS}?tags=${V}`);break}},k=se=>{var we,ce;const ae=()=>{switch(se.type){case"news":return t.jsx(_o,{color:"primary"});case"channel":return t.jsx(Uh,{color:"secondary"});case"user":return t.jsx(Vh,{color:"action"});case"poll":return t.jsx(zh,{color:"info"});case"tag":return t.jsx(Hh,{color:"success"});default:return t.jsx(_o,{color:"primary"})}},V=()=>{switch(se.type){case"news":return"primary";case"channel":return"secondary";case"user":return"default";case"poll":return"info";case"tag":return"success";default:return"default"}},X=()=>{switch(se.type){case"news":n(je.APP_NEWS_VIEW.replace(":id",se.id));break;case"channel":n(je.APP_CHANNEL_VIEW.replace(":channelId",se.id));break;case"poll":n(je.APP_POLL_VIEW.replace(":id",se.id));break;case"tag":n(`${je.APP_SEARCH}?q=${encodeURIComponent(se.title)}`);break}};return t.jsx(O5,{onClick:X,children:t.jsx(Fe,{children:t.jsxs(P,{sx:{display:"flex",alignItems:"flex-start",gap:2},children:[t.jsx(P,{sx:{mt:.5},children:ae()}),t.jsxs(P,{sx:{flexGrow:1},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[t.jsx(v,{variant:"h6",component:"h3",sx:{fontWeight:600},children:se.title}),t.jsx(Ze,{label:se.type,size:"small",color:V(),variant:"outlined"})]}),se.description&&t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:1,lineHeight:1.6},children:se.description}),t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap",mb:1},children:[se.channel&&t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(jn,{sx:{width:20,height:20},children:(ce=(we=se==null?void 0:se.channel)==null?void 0:we.name)==null?void 0:ce.charAt(0)}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["in ",t.jsx("strong",{children:se.channel.name})," (@",se.channel.handle,")"]})]}),se.handle&&t.jsxs(v,{variant:"caption",color:"text.secondary",children:["@",se.handle]}),se.publishedAt&&t.jsx(v,{variant:"caption",color:"text.secondary",children:new Date(se.publishedAt).toLocaleDateString()}),se.startDate&&t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Start: ",new Date(se.startDate).toLocaleDateString()]}),se.endDate&&t.jsxs(v,{variant:"caption",color:"text.secondary",children:["End: ",new Date(se.endDate).toLocaleDateString()]}),se.voteCount!==void 0&&t.jsx(Cb,{label:`${se.voteCount} votes`,size:"small",variant:"outlined",color:"info"}),se.usageCount!==void 0&&t.jsx(Cb,{label:`${se.usageCount} uses`,size:"small",variant:"outlined",color:"success"})]}),se.tags&&se.tags.length>0&&t.jsx(P,{sx:{display:"flex",gap:.5,flexWrap:"wrap",mb:1},children:se.tags.slice(0,5).map((Ee,de)=>t.jsx(Ze,{label:Ee,size:"small",variant:"outlined",onClick:re=>{re.stopPropagation(),H(Ee,se.type)},sx:{fontSize:"0.7rem",cursor:"pointer","&:hover":{backgroundColor:"primary.main",color:"primary.contrastText"}}},de))}),t.jsxs(P,{sx:{display:"flex",justifyContent:"flex-end",gap:1,pt:1},children:[t.jsx(pt,{title:"Bookmark",children:t.jsx($e,{size:"small",children:t.jsx(rE,{fontSize:"small"})})}),t.jsx(pt,{title:"Share",children:t.jsx($e,{size:"small",children:t.jsx(sE,{fontSize:"small"})})})]})]})]})})},se.id)},ne=()=>t.jsx(t.Fragment,{children:Array.from({length:5}).map((se,ae)=>t.jsxs(lt,{sx:{p:2,mb:2},children:[t.jsx(le,{variant:"text",width:"60%",height:32}),t.jsx(le,{variant:"text",width:"100%",height:20,sx:{mt:1}}),t.jsx(le,{variant:"text",width:"80%",height:20}),t.jsxs(P,{sx:{display:"flex",gap:1,mt:1},children:[t.jsx(le,{variant:"rounded",width:60,height:24}),t.jsx(le,{variant:"rounded",width:80,height:24})]})]},ae))}),K=!!C,q=se=>{R(se.currentTarget)},te=()=>{R(null)};return t.jsxs(Pt,{maxWidth:"lg",sx:{py:3},children:[(u.length>0||b)&&o&&t.jsxs(P,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[t.jsxs(P,{children:[t.jsx(v,{variant:"h5",sx:{mb:1},children:"Search Results"}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Found ",(((ie=p==null?void 0:p.metadata)==null?void 0:ie.total)||0).toLocaleString(),' results for "',o,'"']}),(j.type!=="all"||j.sortBy!=="relevance")&&t.jsxs(he,{direction:"row",spacing:1,sx:{mt:2},children:[t.jsx(v,{variant:"caption",color:"text.secondary",children:"Active filters:"}),j.type!=="all"&&t.jsx(Ze,{label:`Type: ${j.type}`,size:"small",onDelete:()=>B({type:"all"})}),j.sortBy!=="relevance"&&t.jsx(Ze,{label:`Sort: ${j.sortBy}`,size:"small",onDelete:()=>B({sortBy:"relevance"})})]})]}),t.jsx(ge,{variant:"outlined",startIcon:t.jsx(zy,{}),onClick:q,sx:{minWidth:120},children:"Filters"})]}),t.jsx(eE,{open:K,anchorEl:C,onClose:te,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:t.jsxs(lt,{sx:{p:3,minWidth:280},children:[t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[t.jsx(v,{variant:"h6",children:"Filters"}),t.jsx($e,{size:"small",onClick:te,children:t.jsx(tE,{fontSize:"small"})})]}),t.jsxs(bt,{fullWidth:!0,sx:{mb:2},children:[t.jsx(Tt,{children:"Content Type"}),t.jsxs(wt,{value:j.type||"all",label:"Content Type",onChange:se=>B({type:se.target.value}),children:[t.jsx(Se,{value:"all",children:"All Content"}),t.jsx(Se,{value:"news",children:"Articles"}),t.jsx(Se,{value:"channels",children:"Channels"}),t.jsx(Se,{value:"users",children:"Journalists"}),t.jsx(Se,{value:"polls",children:"Polls"}),t.jsx(Se,{value:"tags",children:"Tags"})]})]}),t.jsxs(bt,{fullWidth:!0,sx:{mb:2},children:[t.jsx(Tt,{children:"Sort By"}),t.jsxs(wt,{value:j.sortBy||"relevance",label:"Sort By",onChange:se=>B({sortBy:se.target.value}),children:[t.jsx(Se,{value:"relevance",children:"Relevance"}),t.jsx(Se,{value:"date",children:"Date"}),t.jsx(Se,{value:"popularity",children:"Popularity"})]})]}),t.jsx(v,{variant:"subtitle2",sx:{mb:1},children:"Time Period"}),t.jsxs(nE,{value:j.dateFrom?"custom":"all",exclusive:!0,onChange:(se,ae)=>{if(ae==="all")B({dateFrom:void 0,dateTo:void 0});else if(ae){const V=new Date,we={day:1,week:7,month:30,year:365}[ae]||0,ce=new Date(V.getTime()-we*24*60*60*1e3);B({dateFrom:ce,dateTo:V})}},size:"small",sx:{mb:2,width:"100%"},children:[t.jsx(Mu,{value:"all",sx:{flex:1},children:"All"}),t.jsx(Mu,{value:"week",sx:{flex:1},children:"Week"}),t.jsx(Mu,{value:"month",sx:{flex:1},children:"Month"})]})]})}),m&&t.jsx(ct,{severity:"error",sx:{mb:3},children:m}),b&&u.length===0&&ne(),u.length===0&&!b&&o?t.jsxs(lt,{sx:{p:4,textAlign:"center"},children:[t.jsx(v,{variant:"h6",color:"text.secondary",children:"No results found"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Try adjusting your search terms or filters"})]}):u.length>0?t.jsx(co,{dataLength:u.length,next:N,hasMore:c,loader:t.jsx(P,{sx:{mt:2},children:ne()}),endMessage:t.jsx(P,{sx:{textAlign:"center",mt:4,color:"text.secondary",fontSize:"0.875rem"},children:"No more results to display"}),children:u.map(k)}):null,!b&&!p&&!m&&t.jsxs(lt,{sx:{p:6,textAlign:"center"},children:[t.jsx(v,{variant:"h5",color:"text.secondary",sx:{mb:2},children:"Start your search"}),t.jsx(v,{variant:"body1",color:"text.secondary",children:"Search for articles, channels, journalists, polls, or tags to get started"})]})]})};var yp={},M5=tt;Object.defineProperty(yp,"__esModule",{value:!0});var w0=yp.default=void 0,k5=M5(nt()),N5=t;w0=yp.default=(0,k5.default)((0,N5.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload");const Ch=({label:e,value:n,onChange:r})=>{const s=async o=>{var a;(a=o.target.files)==null||a[0]};return t.jsx(P,{sx:{width:"100%",height:200,border:"2px dashed",borderColor:"divider",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden"},children:n?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:n,alt:"Cover",style:{width:"100%",height:"100%",objectFit:"cover"}}),t.jsx(ge,{onClick:()=>r(null),sx:{position:"absolute",bottom:8,right:8},children:"Remove"})]}):t.jsxs(ge,{component:"label",startIcon:t.jsx(w0,{}),children:[e??"Upload Image",t.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:s})]})})};var vp={},L5=tt;Object.defineProperty(vp,"__esModule",{value:!0});var S0=vp.default=void 0,$5=L5(nt()),F5=t;S0=vp.default=(0,$5.default)((0,F5.jsx)("path",{d:"M14 2H6.01c-1.1 0-2 .89-2 2L4 20c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8zm-1 7V3.5L18.5 9zm1 5 2-1.06v4.12L14 16v1c0 .55-.45 1-1 1H9c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h4c.55 0 1 .45 1 1z"}),"VideoFile");var jp={},W5=tt;Object.defineProperty(jp,"__esModule",{value:!0});var Wo=jp.default=void 0,B5=W5(nt()),V5=t;Wo=jp.default=(0,B5.default)((0,V5.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");const U5=({label:e,value:n,onChange:r})=>{const s=async a=>{var d;const c=(d=a.target.files)==null?void 0:d[0];if(c){if(c.size>52428800){alert("Video file size must be less than 50MB");return}const u=URL.createObjectURL(c);r(u)}},o=()=>{n&&URL.revokeObjectURL(n),r(null)};return t.jsx(P,{sx:{width:"100%",height:250,border:"2px dashed",borderColor:"divider",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",bgcolor:"background.paper"},children:n?t.jsxs(t.Fragment,{children:[t.jsx("video",{src:n,controls:!0,style:{width:"100%",height:"100%",objectFit:"cover"},preload:"metadata"}),t.jsx(ge,{onClick:o,startIcon:t.jsx(Wo,{}),color:"error",variant:"contained",size:"small",sx:{position:"absolute",bottom:8,right:8,opacity:.9},children:"Remove"})]}):t.jsxs(P,{sx:{textAlign:"center",p:3},children:[t.jsxs(ge,{component:"label",startIcon:t.jsx(S0,{}),variant:"outlined",size:"large",sx:{mb:2},children:[e??"Upload Video",t.jsx("input",{type:"file",hidden:!0,accept:"video/*",onChange:s})]}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Upload short videos (max 50MB)"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:"Supported formats: MP4, WebM, MOV"})]})})},C0=({value:e,onChange:n,mediaTypeId:r,title:s="Media",description:o="Upload an image or video",useNewsFormats:a=!0})=>{const[c,d]=g.useState(0),u=a?mc.IMAGE:Sh.IMAGE,h=a?mc.VIDEO:Sh.VIDEO,p=y=>{n(y?{id:"0",url:y,type:r,format:u}:null)},x=y=>{n(y?{id:"0",url:y,type:r,format:h}:null)},b=(y,m)=>{d(m),e&&n(null)};return t.jsxs(P,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:s}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:o}),t.jsx(P,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:t.jsxs($s,{value:c,onChange:b,children:[t.jsx(_n,{label:"Image"}),t.jsx(_n,{label:"Video"})]})}),c===0&&t.jsx(Ch,{label:"Upload Image",value:(e==null?void 0:e.format)===u?e.url:null,onChange:p}),c===1&&t.jsx(U5,{label:"Upload Video",value:(e==null?void 0:e.format)===h?e.url:null,onChange:x})]})},P0=({initialData:e,onSubmit:n,submitButtonText:r,isEdit:s})=>{var E;const{profile:o,channelRelations:{hasChannel:a}}=Ss(),c=It();g.useEffect(()=>{o&&(!o.staffChannels||o.staffChannels.length)},[o]);const[d,u]=g.useState(()=>({title:(e==null?void 0:e.title)||"",channelId:(e==null?void 0:e.channelId)||"",status:(e==null?void 0:e.status)||Rn.PUBLISHED,requiredTierId:(e==null?void 0:e.requiredTierId)||null,isPremium:(e==null?void 0:e.isPremium)||!1,content:(e==null?void 0:e.content)||""})),[h,p]=g.useState(!1),[x,b]=g.useState(((E=e==null?void 0:e.media)==null?void 0:E[0])||null),[y,m]=g.useState((e==null?void 0:e.socialLinks)||[]),[w,j]=g.useState(null),D=[],C=async T=>{T.preventDefault(),p(!0),j(null);try{const I={...d,media:x?[x]:[],socialLinks:y};await n(I)}catch(I){console.error("Failed to submit news:",I),j("Failed to submit news")}finally{p(!1)}},R=g.useCallback(T=>{u(I=>({...I,content:JSON.stringify(T)}))},[]);return a()?t.jsx("form",{onSubmit:C,children:t.jsxs(he,{spacing:4,children:[w&&t.jsx(ct,{severity:"error",sx:{width:"100%"},children:w}),o&&!a()&&t.jsx(ct,{severity:"warning",action:t.jsx(ge,{color:"inherit",size:"small",onClick:()=>c(je.STUDIO_CHANNEL_CREATE),children:"Create Channel"}),children:"You need to create a channel before you can create news articles"}),a()?t.jsxs(t.Fragment,{children:[t.jsxs(P,{children:[t.jsx(v,{variant:"h6",sx:{mb:3},children:"Media"}),t.jsx(he,{spacing:4,children:t.jsx(P,{children:t.jsx(C0,{title:"Cover Media",description:"Upload an image or short video that will be displayed at the top of your news article and in previews.",value:x?{id:x.id||"0",url:x.url,type:x.type,format:x.format}:null,onChange:T=>b(T?{id:T.id,url:T.url,type:T.type,format:T.format,newsId:""}:null),mediaTypeId:Fa.COVER})})})]}),t.jsxs(P,{children:[t.jsx(v,{variant:"h6",sx:{mb:3},children:"Basic Info"}),t.jsxs(he,{spacing:4,children:[t.jsxs(P,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Title"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Create a clear and engaging title for your news article. This will be the first thing readers see."}),t.jsx(st,{value:d.title,onChange:T=>u(I=>({...I,title:T.target.value})),required:!0,fullWidth:!0,placeholder:"Enter news title"})]}),t.jsxs(P,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Channel"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Select the channel where this news will be published. Choose the most relevant channel for your content."}),t.jsx(bt,{fullWidth:!0,disabled:s,children:t.jsx(wt,{value:d.channelId,onChange:T=>u(I=>({...I,channelId:T.target.value})),required:!0,children:o==null?void 0:o.staffChannels.map(T=>t.jsx(Se,{value:T.channelId,children:T.channel.name},T.id))})})]}),t.jsxs(P,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Content"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Write your news article using the editor below. You can add text, images, and other media elements."}),t.jsx(Qc,{data:d.content?JSON.parse(d.content):void 0,onChange:R,placeholder:"Start writing your news content...",borderColor:T=>T.palette.mode==="dark"?Ie(T.palette.common.white,.23):Ie(T.palette.common.black,.23)})]})]})]}),t.jsx(P,{children:t.jsx(Vf,{links:y,onChange:m})}),t.jsxs(P,{children:[t.jsx(v,{variant:"h6",sx:{mb:3},children:"Publishing Options"}),t.jsxs(he,{spacing:4,children:[t.jsxs(P,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Premium Content"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Mark this content as premium to restrict access to specific subscribers."}),t.jsx(Mo,{control:t.jsx(sc,{checked:d.isPremium,onChange:T=>u(I=>({...I,isPremium:T.target.checked}))}),label:"Premium Content"})]}),d.isPremium&&t.jsxs(P,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Required Subscription Tier"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Select which subscription tier is required to access this content. Higher tiers will automatically have access to content from lower tiers."}),t.jsx(bt,{fullWidth:!0,children:t.jsx(wt,{value:d.requiredTierId||"",onChange:T=>u(I=>({...I,requiredTierId:T.target.value})),required:d.isPremium,children:D.map(T=>t.jsxs(Se,{value:T.id,children:[T.name," - ",T.description]},T.id))})})]}),t.jsxs(P,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Status"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Set the visibility status of your news article."}),t.jsx(bt,{fullWidth:!0,children:t.jsxs(wt,{value:d.status,onChange:T=>{const I=Number(T.target.value);u(N=>({...N,status:I}))},children:[t.jsx(Se,{value:Rn.DRAFT,children:"Draft - Save for later"}),t.jsx(Se,{value:Rn.PUBLISHED,children:"Published - Visible to readers"}),t.jsx(Se,{value:Rn.PENDING_REVIEW,children:"Pending Review - Submit for approval"}),t.jsx(Se,{value:Rn.ARCHIVED,children:"Archived - No longer visible"})]})})]})]})]}),t.jsx(ge,{type:"submit",variant:"contained",disabled:h||!a(),sx:{py:1.5,textTransform:"none",fontWeight:600},children:h?"Submitting...":r})]}):null]})}):t.jsx(P,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",p:3},children:t.jsx(Ws,{title:"Channel Required",description:"You need to create a channel before you can start publishing news articles.",icon:t.jsx($a,{sx:{fontSize:48}}),action:{label:"Create Channel",onClick:()=>c(je.STUDIO_CHANNEL_CREATE)}})})},z5=()=>{const{api:e}=Je(),n=It(),{execute:r}=et(),s=async o=>{const a=await r(()=>e==null?void 0:e.newsApi.createNews(o),{showSuccessMessage:!0,successMessage:"News article created successfully!"});a&&n(je.APP_NEWS_VIEW.replace(":id",a.id))};return t.jsxs(P,{sx:{p:3,maxWidth:800},children:[t.jsx(v,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Create News"}),t.jsx(P0,{onSubmit:s,submitButtonText:"Create News",isCreate:!0})]})},H5=()=>{const{id:e}=Xr(),n=It(),{api:r}=Je(),[s,o]=g.useState(null),{execute:a}=et(),{execute:c}=et();g.useEffect(()=>{(async()=>{if(!e)return;const h=await a(()=>r==null?void 0:r.newsApi.get(e),{showErrorToast:!0});h&&o(h)})()},[e,r==null?void 0:r.newsApi,a]);const d=async u=>{e&&(await c(()=>r==null?void 0:r.newsApi.update(e,u),{showSuccessMessage:!0,successMessage:"News article updated successfully!"}),n(`/news/${e}`))};return s?t.jsxs(Pt,{sx:{maxWidth:800,mx:"auto",p:3},children:[t.jsx(v,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Update News"}),t.jsx(P0,{initialData:s,onSubmit:d,submitButtonText:"Update News",isEdit:!0})]}):null},Y5=()=>t.jsx(Pt,{maxWidth:"lg",sx:{mt:4},children:t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsx(le,{variant:"rectangular",width:"100%",height:300,sx:{borderRadius:2,mb:3}})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx(ke,{children:t.jsxs(P,{sx:{p:3},children:[t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[t.jsx(le,{variant:"text",width:"60%",height:40}),t.jsx(he,{direction:"row",spacing:1,children:[1,2,3].map(e=>t.jsx(le,{variant:"circular",width:40,height:40},e))})]}),t.jsx(le,{variant:"rectangular",width:"100%",height:300,sx:{mb:3,borderRadius:1}}),t.jsxs(he,{spacing:2,sx:{mb:3},children:[t.jsx(le,{variant:"text",width:"100%"}),t.jsx(le,{variant:"text",width:"95%"}),t.jsx(le,{variant:"text",width:"90%"}),t.jsx(le,{variant:"text",width:"85%"}),t.jsx(le,{variant:"text",width:"95%"})]}),t.jsx(le,{variant:"rectangular",width:"100%",height:80,sx:{mb:3,borderRadius:1}}),t.jsx(he,{direction:"row",spacing:1,children:[1,2,3,4].map(e=>t.jsx(le,{variant:"rounded",width:80,height:32},e))})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsx(le,{variant:"text",width:"50%",height:32,sx:{mb:2}}),t.jsx(he,{spacing:2,children:[1,2,3,4,5].map(e=>t.jsxs(P,{children:[t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[t.jsx(le,{variant:"text",width:"40%"}),t.jsx(le,{variant:"text",width:"20%"})]}),t.jsx(le,{variant:"rectangular",width:"100%",height:8,sx:{borderRadius:1}})]},e))})]})})})]})}),G5=()=>{const{id:e}=Xr(),{api:n}=Je(),{execute:r}=et(),[s,o]=g.useState(null),[a,c]=g.useState(!0);if(g.useEffect(()=>{(async()=>{if(e){c(!0);const p=await r(()=>n==null?void 0:n.newsApi.get(e),{showErrorToast:!0});p&&o(p),c(!1)}})()},[e,r]),a)return t.jsx(Y5,{});if(!s)return t.jsx(Pt,{maxWidth:"lg",sx:{mt:4},children:t.jsx(v,{variant:"h4",children:"Entry not found"})});const d=s.media.find(h=>h.type===Fa.COVER),u=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(h);return t.jsx(Pt,{maxWidth:"lg",sx:{mt:4},children:t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsxs(P,{sx:{height:300,width:"100%",position:"relative",mb:3,borderRadius:2,overflow:"hidden"},children:[t.jsx(P,{component:"img",src:(d==null?void 0:d.url)||qc,alt:s.title,sx:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"}}),t.jsxs(P,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(transparent, rgba(0,0,0,0.7))",p:3,color:"white"},children:[t.jsx(v,{variant:"h4",component:"h1",gutterBottom:!0,children:s.title}),t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsxs(P,{component:On,to:je.APP_CHANNEL_VIEW.replace(":channelId",s.channel.id),sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(255, 255, 255, 0.1)",color:"white",px:2,py:1,borderRadius:2,textDecoration:"none",transition:"all 0.2s ease-in-out",border:"1px solid rgba(255, 255, 255, 0.2)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.2)",transform:"translateY(-2px)"}},children:[t.jsx(Wa,{sx:{mr:1}}),t.jsx(v,{variant:"subtitle2",children:s.channel.name})]}),t.jsxs(P,{sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(0, 0, 0, 0.3)",px:2,py:1,borderRadius:2,border:"1px solid rgba(255, 255, 255, 0.1)"},children:[t.jsx(Jc,{sx:{mr:1,fontSize:"0.9rem"}}),t.jsx(v,{variant:"caption",children:s.creator.displayName})]})]}),t.jsx(v,{variant:"subtitle1",children:new Date(s.publishedAt).toLocaleDateString()})]})]})]})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx(ke,{children:t.jsxs(P,{sx:{p:3},children:[t.jsx(Qc,{data:Bv(s.content),readOnly:!0,borderColor:h=>h.palette.mode==="dark"?Ie(h.palette.common.white,.1):Ie(h.palette.common.black,.1)}),t.jsx(P,{sx:{mt:2},children:s.tags.map(h=>t.jsx(Ze,{label:h.title,variant:"outlined",sx:{mr:1,mb:1}},h.id))})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(he,{spacing:3,children:[t.jsx(Vf,{links:s.socialLinks}),s.qualityMetrics&&t.jsxs(lt,{elevation:0,sx:{p:2,bgcolor:"success.light",color:"success.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[t.jsx(ba,{fontSize:"large"}),t.jsxs(P,{children:[t.jsx(v,{variant:"overline",children:"Quality Score"}),t.jsxs(v,{variant:"h4",component:"div",children:[s.qualityMetrics.overallQualityScore.toFixed(1),"/10"]})]})]}),s.newsFund&&t.jsxs(lt,{elevation:0,sx:{p:2,bgcolor:"primary.light",color:"primary.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[t.jsx(Gc,{fontSize:"large"}),t.jsxs(P,{children:[t.jsx(v,{variant:"overline",children:"News Fund"}),t.jsx(v,{variant:"h4",component:"div",children:u(s.newsFund.amount)})]})]})]})})]})})};var wp={},q5=tt;Object.defineProperty(wp,"__esModule",{value:!0});var td=wp.default=void 0,K5=q5(nt()),X5=t;td=wp.default=(0,K5.default)((0,X5.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert");var Sp={},J5=tt;Object.defineProperty(Sp,"__esModule",{value:!0});var Ba=Sp.default=void 0,Q5=J5(nt()),Z5=t;Ba=Sp.default=(0,Q5.default)((0,Z5.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");var Cp={},e$=tt;Object.defineProperty(Cp,"__esModule",{value:!0});var nd=Cp.default=void 0,t$=e$(nt()),n$=t;nd=Cp.default=(0,t$.default)((0,n$.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");const Pp=({open:e,onClose:n,onConfirm:r,title:s,content:o,confirmText:a="Confirm",cancelText:c="Cancel",confirmColor:d="primary"})=>t.jsxs(on,{open:e,onClose:n,PaperProps:{sx:{width:"100%",maxWidth:400,borderRadius:2}},children:[t.jsx(pn,{sx:{pb:1,fontWeight:600},children:s}),t.jsx(an,{children:t.jsx(oE,{sx:{color:"text.secondary",fontSize:"0.875rem"},children:o})}),t.jsxs(ln,{sx:{px:3,pb:2},children:[t.jsx(ge,{onClick:n,variant:"outlined",color:"inherit",sx:{textTransform:"none",fontWeight:600,minWidth:100},children:c}),t.jsx(ge,{onClick:r,variant:"contained",color:d,autoFocus:!0,sx:{textTransform:"none",fontWeight:600,minWidth:100},children:a})]})]}),r$=({news:e,onRefresh:n})=>{var R,E,T;const[r,s]=g.useState(null),[o,a]=g.useState(!1),c=It(),{api:d}=Je(),{execute:u}=et(),h=Mn(),p=I=>{I.stopPropagation(),s(I.currentTarget)},x=()=>{s(null)},b=()=>{c(je.APP_NEWS_VIEW.replace(":id",e.id)),x()},y=()=>{c(je.STUDIO_NEWS_EDIT.replace(":id",e.id)),x()},m=()=>{a(!0),x()},w=async()=>{await u(()=>d==null?void 0:d.newsApi.delete(e.id),{showSuccessMessage:!0,successMessage:"News article deleted successfully"})&&n(),a(!1)},j=(R=e.media)==null?void 0:R.find(I=>I.type===Fa.COVER),C=(()=>{const I=new Date;return new Date(e.publishedAt)>I?{label:"Scheduled",color:"warning"}:{label:"Published",color:"success"}})();return t.jsxs(ke,{onClick:()=>c(je.STUDIO_NEWS_VIEW.replace(":id",e.id)),sx:{height:"100%",display:"flex",flexDirection:"column",position:"relative",cursor:"pointer",bgcolor:I=>Ie(I.palette.mode==="dark"?I.palette.common.white:I.palette.common.black,I.palette.mode==="dark"?.05:.03),transition:h.transitions.create(["background-color","box-shadow","transform"]),"&:hover":{bgcolor:I=>Ie(I.palette.mode==="dark"?I.palette.common.white:I.palette.common.black,I.palette.mode==="dark"?.08:.05),transform:"translateY(-2px)",boxShadow:I=>`0 4px 12px ${Ie(I.palette.primary.main,.1)}`}},children:[t.jsx(P,{sx:{height:{xs:120,sm:140},backgroundImage:`url(${(j==null?void 0:j.url)||qc})`,backgroundSize:"cover",backgroundPosition:"center",borderTopLeftRadius:1,borderTopRightRadius:1,position:"relative","&::after":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:I=>`linear-gradient(180deg, 
              ${Ie(I.palette.background.default,0)} 0%, 
              ${Ie(I.palette.background.default,.8)} 100%)`}},children:t.jsx($e,{onClick:p,sx:{position:"absolute",top:8,right:8,zIndex:1,color:"text.primary",bgcolor:I=>Ie(I.palette.background.paper,.8),backdropFilter:"blur(4px)","&:hover":{bgcolor:I=>Ie(I.palette.background.paper,.95)}},children:t.jsx(td,{fontSize:"small"})})}),t.jsx(Fe,{sx:{flexGrow:1,p:{xs:2,sm:2.5}},children:t.jsxs(he,{spacing:{xs:1.5,sm:2},children:[t.jsxs(P,{children:[t.jsx(v,{variant:"h6",sx:{fontWeight:600,mb:.5,fontSize:{xs:"1rem",sm:"1.125rem"},display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",lineHeight:1.3},children:e.title}),t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:1},children:[t.jsx(Wa,{sx:{fontSize:"0.875rem",mr:.5,color:"text.secondary"}}),t.jsx(v,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem"},children:e.channel.name})]}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",fontSize:{xs:"0.875rem",sm:"0.875rem"},lineHeight:1.4},children:((E=e.content)==null?void 0:E.substring(0,100))+"..."})]}),t.jsxs(he,{direction:"row",spacing:1,flexWrap:"wrap",sx:{gap:1},children:[t.jsx(Ze,{size:"small",label:C.label,color:C.color,sx:{height:24,fontSize:"0.75rem","& .MuiChip-label":{px:1}}}),t.jsx(Ze,{size:"small",label:new Date(e.publishedAt).toLocaleDateString(),sx:{height:24,fontSize:"0.75rem",bgcolor:I=>Ie(I.palette.text.secondary,.1),color:"text.secondary","& .MuiChip-label":{px:1}}}),((T=e==null?void 0:e.tags)==null?void 0:T.length)>0&&t.jsx(Ze,{size:"small",label:`${e.tags.length} tags`,sx:{height:24,fontSize:"0.75rem",bgcolor:I=>Ie(I.palette.secondary.main,I.palette.mode==="dark"?.15:.08),color:"secondary.main","& .MuiChip-label":{px:1}}})]})]})}),t.jsxs($o,{anchorEl:r,open:!!r,onClose:x,onClick:I=>I.stopPropagation(),PaperProps:{sx:{width:200,mt:1}},children:[t.jsxs(Se,{onClick:b,children:[t.jsx(sn,{children:t.jsx(nd,{fontSize:"small"})}),t.jsx(Zt,{primary:"View Article"})]}),t.jsxs(Se,{onClick:y,children:[t.jsx(sn,{children:t.jsx(Ba,{fontSize:"small"})}),t.jsx(Zt,{primary:"Edit Article"})]}),t.jsxs(Se,{onClick:m,sx:{color:"error.main"},children:[t.jsx(sn,{sx:{color:"inherit"},children:t.jsx(Wo,{fontSize:"small"})}),t.jsx(Zt,{primary:"Delete Article"})]})]}),t.jsx(Pp,{open:o,title:"Delete News Article",content:"Are you sure you want to delete this news article? This action cannot be undone.",onConfirm:w,onClose:()=>a(!1),confirmText:"Delete",confirmColor:"error"})]})},s$=()=>{const[e,n]=g.useState([]),[r,s]=g.useState(1),[o,a]=g.useState(!0),[c,d]=g.useState(!0),{api:u}=Je(),{profile:h}=Ss(),p=It(),{execute:x}=et(),b=Mn(),y=()=>{m(r+1)},m=async(j=r)=>{if(!h)return;const D=await x(()=>u==null?void 0:u.newsApi.getCreatorNews(h.id,{page:j,limit:12}),{showErrorToast:!0});D&&(n(C=>j===1?(D==null?void 0:D.items)??[]:[...C,...(D==null?void 0:D.items)??[]]),s((D==null?void 0:D.metadata.currentPage)??1),a((D==null?void 0:D.metadata.hasNext)===!0)),d(!1)};g.useEffect(()=>{h&&m(1)},[h]);const w=()=>t.jsxs(P,{sx:{p:2,borderRadius:1,bgcolor:j=>Ie(j.palette.mode==="dark"?j.palette.common.white:j.palette.common.black,j.palette.mode==="dark"?.05:.03),height:{xs:280,sm:320},transition:b.transitions.create(["background-color","height"])},children:[t.jsx(le,{variant:"rectangular",sx:{borderRadius:1,height:{xs:120,sm:140},mb:2}}),t.jsxs(P,{sx:{p:1},children:[t.jsx(le,{width:"90%",height:24,sx:{mb:1}}),t.jsx(le,{width:"60%",height:16,sx:{mb:1}}),t.jsx(le,{width:"95%",height:20,sx:{mb:1}}),t.jsx(le,{width:"80%",height:20,sx:{mb:2}}),t.jsxs(P,{sx:{display:"flex",gap:1},children:[t.jsx(le,{width:"25%",height:24}),t.jsx(le,{width:"30%",height:24}),t.jsx(le,{width:"20%",height:24})]})]})]});return t.jsxs(P,{sx:{px:{xs:2,sm:3,md:4},py:{xs:2,sm:3},maxWidth:"lg",mx:"auto",width:"100%"},children:[t.jsx(P,{sx:{mb:{xs:2,sm:3}},children:t.jsx(v,{variant:"h5",sx:{fontWeight:600,fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:c?t.jsx(le,{width:150}):"My News"})}),c?t.jsx(F,{container:!0,spacing:2,children:[1,2,3,4].map(j=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(w,{})},j))}):e.length===0?t.jsx(Ws,{title:"No News Yet",description:"Start creating your first news article to share with your subscribers.",icon:t.jsx(Pf,{sx:{fontSize:{xs:40,sm:48}}}),action:{label:"Create News",onClick:()=>p(je.STUDIO_NEWS_CREATE)}}):t.jsx(co,{dataLength:e.length,next:y,hasMore:o,loader:t.jsx(F,{container:!0,spacing:2,sx:{mt:.5},children:[1,2,3].map(j=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(w,{})},j))}),children:t.jsx(F,{container:!0,spacing:2,children:e.map(j=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(r$,{news:j,onRefresh:()=>m(1)})},j.id))})})]})},o$=({channel:e,onRefresh:n})=>{var y;const r=It(),{api:s}=Je(),{execute:o}=et(),[a,c]=g.useState(null),[d,u]=g.useState(!1),h=Mn(),p=m=>{m.stopPropagation(),c(m.currentTarget)},x=()=>{c(null)},b=async()=>{await o(()=>s==null?void 0:s.channelApi.deleteChannel(e.id),{showSuccessMessage:!0,successMessage:"Channel deleted successfully"})&&n(),u(!1)};return t.jsxs(t.Fragment,{children:[t.jsxs(ke,{onClick:()=>r(je.STUDIO_CHANNEL_EDIT.replace(":channelId",e.id)),sx:{height:"100%",display:"flex",flexDirection:"column",position:"relative",cursor:"pointer",transition:h.transitions.create(["box-shadow","transform"],{duration:h.transitions.duration.shorter}),"&:hover":{transform:"translateY(-2px)",boxShadow:m=>`0 4px 12px ${Ie(m.palette.primary.main,.1)}`}},children:[t.jsx(P,{sx:{height:{xs:100,sm:120},backgroundImage:`url(${(e==null?void 0:e.bannerUrl)||"https://via.placeholder.com/600x400"})`,backgroundSize:"cover",backgroundPosition:"center",borderTopLeftRadius:1,borderTopRightRadius:1,position:"relative","&::after":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:m=>`linear-gradient(180deg, 
                ${Ie(m.palette.background.default,0)} 0%, 
                ${Ie(m.palette.background.default,.8)} 100%)`}},children:t.jsx($e,{onClick:p,sx:{position:"absolute",top:8,right:8,zIndex:1,color:"text.primary",bgcolor:m=>Ie(m.palette.background.paper,.8),backdropFilter:"blur(4px)","&:hover":{bgcolor:m=>Ie(m.palette.background.paper,.95)}},children:t.jsx(td,{fontSize:"small"})})}),t.jsx(Fe,{sx:{flexGrow:1,p:{xs:2,sm:2.5}},children:t.jsxs(he,{spacing:{xs:1.5,sm:2},children:[t.jsxs(P,{children:[t.jsx(v,{variant:"h6",sx:{fontWeight:600,mb:.5,fontSize:{xs:"1rem",sm:"1.125rem"}},children:e.name}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",fontSize:{xs:"0.875rem",sm:"0.875rem"},lineHeight:1.5},children:e.description})]}),t.jsxs(he,{direction:"row",spacing:1,flexWrap:"wrap",sx:{gap:1},children:[t.jsx(Ze,{size:"small",label:`${(y=e==null?void 0:e.stats)==null?void 0:y.activeSubscriptionCount} subscribers`,sx:{height:24,fontSize:"0.75rem",bgcolor:m=>Ie(m.palette.primary.main,m.palette.mode==="dark"?.15:.08),color:"primary.main","& .MuiChip-label":{px:1}}}),t.jsx(Ze,{size:"small",label:"10 news",sx:{height:24,fontSize:"0.75rem",bgcolor:m=>Ie(m.palette.secondary.main,m.palette.mode==="dark"?.15:.08),color:"secondary.main","& .MuiChip-label":{px:1}}})]})]})})]}),t.jsxs($o,{anchorEl:a,open:!!a,onClose:x,onClick:m=>m.stopPropagation(),PaperProps:{sx:{width:200,mt:1}},children:[t.jsxs(Se,{onClick:()=>{r(je.STUDIO_CHANNEL_EDIT.replace(":channelId",e.id)),x()},children:[t.jsx(sn,{children:t.jsx(Ba,{fontSize:"small"})}),t.jsx(Zt,{primary:"Edit Channel"})]}),t.jsxs(Se,{onClick:()=>{r(je.APP_CHANNEL_VIEW.replace(":channelId",e.id)),x()},children:[t.jsx(sn,{children:t.jsx(nd,{fontSize:"small"})}),t.jsx(Zt,{primary:"View Public Page"})]}),t.jsxs(Se,{onClick:()=>{u(!0),x()},sx:{color:"error.main"},children:[t.jsx(sn,{sx:{color:"inherit"},children:t.jsx(Wo,{fontSize:"small"})}),t.jsx(Zt,{primary:"Delete Channel"})]})]}),t.jsx(Pp,{open:d,onClose:()=>u(!1),onConfirm:b,title:"Delete Channel",content:"Are you sure you want to delete this channel? This action cannot be undone.",confirmText:"Delete",confirmColor:"error"})]})},i$=()=>{const[e,n]=g.useState([]),[r,s]=g.useState(1),[o,a]=g.useState(!0),[c,d]=g.useState(!0),{api:u}=Je(),h=It(),p=Mn(),{execute:x}=et(),b=()=>{y(r+1)},y=async(w=r)=>{const j=await x(()=>u==null?void 0:u.studioApi.getMyChannels(),{showErrorToast:!0});j&&(n(D=>w===1?(j==null?void 0:j.items)??[]:[...D,...(j==null?void 0:j.items)??[]]),s((j==null?void 0:j.metadata.currentPage)??1),a((j==null?void 0:j.metadata.hasNext)===!0)),d(!1)};g.useEffect(()=>{y(1)},[]);const m=()=>t.jsxs(P,{sx:{p:2,borderRadius:1,bgcolor:w=>Ie(w.palette.mode==="dark"?w.palette.common.white:w.palette.common.black,w.palette.mode==="dark"?.05:.03),height:{xs:180,sm:200},transition:p.transitions.create(["background-color","height"])},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[t.jsx(le,{variant:"circular",width:32,height:32,sx:{mr:1.5}}),t.jsxs(P,{sx:{width:"100%"},children:[t.jsx(le,{width:"60%",height:20}),t.jsx(le,{width:"40%",height:16})]})]}),t.jsx(le,{variant:"rectangular",sx:{borderRadius:1,height:{xs:70,sm:80}}}),t.jsx(P,{sx:{mt:1.5},children:t.jsx(le,{width:"30%",height:20})})]});return t.jsxs(P,{sx:{px:{xs:2,sm:3,md:4},py:{xs:2,sm:3},maxWidth:"lg",mx:"auto",width:"100%"},children:[t.jsx(P,{sx:{mb:{xs:2,sm:3}},children:t.jsx(v,{variant:"h5",sx:{fontWeight:600,fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:c?t.jsx(le,{width:150}):"My Channels"})}),c?t.jsx(F,{container:!0,spacing:2,children:[1,2].map(w=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(m,{})},w))}):e.length===0?t.jsx(Ws,{title:"No Channels Yet",description:"Create your first channel to start publishing news and connecting with subscribers.",icon:t.jsx($a,{sx:{fontSize:{xs:40,sm:48}}}),action:{label:"Create Channel",onClick:()=>h(je.STUDIO_CHANNEL_CREATE)}}):t.jsx(co,{dataLength:e.length,next:b,hasMore:o,loader:t.jsx(F,{container:!0,spacing:2,sx:{mt:.5},children:[1,2].map(w=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(m,{})},w))}),children:t.jsx(F,{container:!0,spacing:2,children:e.map(w=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(o$,{channel:w,onRefresh:()=>y(1)})},w.id))})})]})},$l={ACTIVE:1,INACTIVE:2,PRIVATE:3,SUSPENDED:4,DELETED:5},D0=({initialData:e,onSubmit:n,submitButtonText:r})=>{const[s,o]=g.useState(!1),[a,c]=g.useState(()=>({name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",handle:(e==null?void 0:e.handle)||"",status:(e==null?void 0:e.status)||$l.ACTIVE,logoUrl:(e==null?void 0:e.logoUrl)||"",bannerUrl:(e==null?void 0:e.bannerUrl)||"",tags:(e==null?void 0:e.tags)||[]})),[d,u]=g.useState((e==null?void 0:e.logoUrl)||void 0),[h,p]=g.useState((e==null?void 0:e.bannerUrl)||void 0),x=async b=>{b.preventDefault(),o(!0);try{await n({...a,logoUrl:d||"",bannerUrl:h||"",tags:[]})}catch(y){console.error("Failed to submit channel:",y)}finally{o(!1)}};return t.jsx("form",{onSubmit:x,children:t.jsxs(he,{spacing:4,children:[t.jsxs(P,{children:[t.jsx(v,{variant:"h6",sx:{mb:3},children:"Branding"}),t.jsxs(he,{spacing:4,children:[t.jsxs(P,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Channel Logo"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"This image will appear next to your channel's content. Use a square image for best results."}),t.jsx(Ch,{label:"Upload Channel Logo",value:d,onChange:u})]}),t.jsxs(P,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Channel Banner"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"This image appears at the top of your channel page. Recommended size: 2048 x 1152 pixels."}),t.jsx(Ch,{label:"Upload Channel Banner",value:h,onChange:p})]})]})]}),t.jsxs(P,{children:[t.jsx(v,{variant:"h6",sx:{mb:3},children:"Basic Info"}),t.jsxs(he,{spacing:4,children:[t.jsxs(P,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Channel Name"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Choose a name that represents your channel. You can change this later."}),t.jsx(st,{value:a.name,onChange:b=>c(y=>({...y,name:b.target.value})),required:!0,fullWidth:!0,placeholder:"Enter channel name"})]}),t.jsxs(P,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Channel Handle"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"This is the unique identifier for your channel. It will be used in the URL of your channel page."}),t.jsx(st,{value:a.handle,onChange:b=>c(y=>({...y,handle:b.target.value})),required:!0,fullWidth:!0,placeholder:"Enter channel handle"})]}),t.jsxs(P,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Description"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Tell viewers about your channel. This appears in search results and your channel page."}),t.jsx(st,{value:a.description,onChange:b=>c(y=>({...y,description:b.target.value})),multiline:!0,rows:4,fullWidth:!0,placeholder:"Tell your story..."})]})]})]}),t.jsxs(P,{children:[t.jsx(v,{variant:"h6",sx:{mb:3},children:"Channel Settings"}),t.jsx(he,{spacing:4,children:t.jsxs(P,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Channel Visibility"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Control who can see and access your channel's content."}),t.jsx(bt,{fullWidth:!0,children:t.jsxs(wt,{value:a.status,onChange:b=>{const y=Number(b.target.value);c(m=>({...m,status:y}))},children:[t.jsx(Se,{value:$l.ACTIVE,children:"Public - Channel is visible to everyone"}),t.jsx(Se,{value:$l.PRIVATE,children:"Private - Only invited members can access"}),t.jsx(Se,{value:$l.INACTIVE,children:"Hidden - Channel is temporarily hidden from public view"})]})})]})})]}),t.jsx(ge,{type:"submit",variant:"contained",disabled:s,sx:{py:1.5,textTransform:"none",fontWeight:600},children:s?"Submitting...":r})]})})},a$=()=>{const{api:e}=Je(),n=It(),{execute:r}=et(),{actions:{refreshProfile:s}}=Ss(),o=async a=>{if(!a)return;await r(()=>e==null?void 0:e.studioApi.createChannel(a),{showSuccessMessage:!0,successMessage:"Channel created successfully!"})&&(await s(),n(`${je.STUDIO_CHANNELS}`))};return t.jsxs(Pt,{sx:{maxWidth:800,mx:"auto",p:3},children:[t.jsx(v,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Create Channel"}),t.jsx(D0,{onSubmit:o,submitButtonText:"Create Channel"})]})},l$=()=>t.jsxs(Pt,{maxWidth:"md",sx:{mt:4,textAlign:"center"},children:[t.jsx(v,{variant:"h3",gutterBottom:!0,children:"404 - Page Not Found"}),t.jsx(v,{variant:"h6",gutterBottom:!0,children:"The page you are looking for does not exist."}),t.jsx(P,{sx:{mt:4},children:t.jsx(ge,{variant:"contained",color:"primary",component:On,to:"/",children:"Go to Home"})})]}),T0=({expenseOrder:e,channels:n,expenseTypes:r,onSave:s,onSubmit:o,loading:a=!1,isEdit:c=!1})=>{const[d,u]=g.useState({channelId:(e==null?void 0:e.channel.id)||"",typeId:(e==null?void 0:e.type.id)||0,title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",amount:(e==null?void 0:e.amount)||0,currency:(e==null?void 0:e.currency)||"USD",receiptUrl:(e==null?void 0:e.receiptUrl)||"",notes:(e==null?void 0:e.notes)||""}),[h,p]=g.useState({}),[x,b]=g.useState(!1),y=()=>{const C={};return d.channelId||(C.channelId="Channel is required"),d.typeId||(C.typeId="Expense type is required"),d.title.trim()||(C.title="Title is required"),d.description.trim()||(C.description="Description is required"),d.amount<=0&&(C.amount="Amount must be greater than 0"),d.currency.trim()||(C.currency="Currency is required"),p(C),Object.keys(C).length===0},m=(C,R)=>{u(E=>({...E,[C]:R})),h[C]&&p(E=>({...E,[C]:""}))},w=async()=>{if(y())try{if(c){const C={title:d.title,description:d.description,amount:d.amount,currency:d.currency,typeId:Number(d.typeId),receiptUrl:d.receiptUrl,notes:d.notes};await s(C)}else{const C={channelId:d.channelId,typeId:Number(d.typeId),title:d.title,description:d.description,amount:d.amount,currency:d.currency,receiptUrl:d.receiptUrl,notes:d.notes};await s(C)}}catch(C){console.error("Error saving expense order:",C)}},j=async()=>{if(!(!e||!o)){b(!0);try{await o(e)}catch(C){console.error("Error submitting expense order:",C)}finally{b(!1)}}},D=c&&(e==null?void 0:e.status)===qe.DRAFT&&o;return t.jsxs(mp,{children:[t.jsx(v,{variant:"h6",sx:{mb:3,fontWeight:600},children:c?"Edit Expense Order":"Create New Expense Order"}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(bt,{fullWidth:!0,error:!!h.channelId,children:[t.jsx(Tt,{children:"Channel"}),t.jsx(wt,{value:d.channelId,label:"Channel",onChange:C=>m("channelId",C.target.value),disabled:c,children:n.map(C=>t.jsx(Se,{value:C.id,children:C.name},C.id))}),h.channelId&&t.jsx(v,{variant:"caption",color:"error",sx:{mt:.5},children:h.channelId})]})}),t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(bt,{fullWidth:!0,error:!!h.typeId,children:[t.jsx(Tt,{children:"Expense Type"}),t.jsx(wt,{value:d.typeId,label:"Expense Type",onChange:C=>m("typeId",C.target.value),children:r.map(C=>t.jsx(Se,{value:C.id,children:C.name},C.id))}),h.typeId&&t.jsx(v,{variant:"caption",color:"error",sx:{mt:.5},children:h.typeId})]})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(st,{fullWidth:!0,label:"Title",value:d.title,onChange:C=>m("title",C.target.value),error:!!h.title,helperText:h.title,placeholder:"Enter expense title"})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(st,{fullWidth:!0,multiline:!0,rows:3,label:"Description",value:d.description,onChange:C=>m("description",C.target.value),error:!!h.description,helperText:h.description,placeholder:"Describe the expense in detail"})}),t.jsx(F,{item:!0,xs:12,md:6,children:t.jsx(st,{fullWidth:!0,type:"number",label:"Amount",value:d.amount,onChange:C=>m("amount",parseFloat(C.target.value)||0),error:!!h.amount,helperText:h.amount,InputProps:{startAdornment:t.jsx(ys,{position:"start",children:"$"})}})}),t.jsx(F,{item:!0,xs:12,md:6,children:t.jsx(st,{fullWidth:!0,label:"Currency",value:d.currency,onChange:C=>m("currency",C.target.value.toUpperCase()),error:!!h.currency,helperText:h.currency,placeholder:"USD",inputProps:{maxLength:3}})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(st,{fullWidth:!0,label:"Receipt URL",value:d.receiptUrl,onChange:C=>m("receiptUrl",C.target.value),placeholder:"https://example.com/receipt.pdf",InputProps:{startAdornment:t.jsx(ys,{position:"start",children:t.jsx(iE,{})})}})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(st,{fullWidth:!0,multiline:!0,rows:2,label:"Notes (Optional)",value:d.notes,onChange:C=>m("notes",C.target.value),placeholder:"Additional notes or comments"})}),t.jsx(F,{item:!0,xs:12,children:t.jsxs(P,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[t.jsx(ge,{variant:"outlined",startIcon:a?t.jsx(Yn,{size:16}):t.jsx(Vy,{}),onClick:w,disabled:a||x,children:"Save as Draft"}),D&&t.jsx(ge,{variant:"contained",startIcon:x?t.jsx(Yn,{size:16}):t.jsx(Lc,{}),onClick:j,disabled:a||x,children:"Submit for Approval"})]})})]})]})},c$=({onCreateNew:e,onEdit:n,onView:r,userRole:s="journalist",channelId:o,showCreateButton:a=!0})=>{const{api:c}=Je(),[d,u]=g.useState([]),[h,p]=g.useState(!0),[x,b]=g.useState(null),[y,m]=g.useState(""),[w,j]=g.useState(1),[D,C]=g.useState(1),[R,E]=g.useState(!1),T=async(K=1)=>{var q,te;try{p(K===1),b(null);let ie;const se={page:K,limit:10};s==="journalist"?ie=await c.expenseOrderApi.getMyExpenseOrders(se,y||void 0):o?ie=await c.expenseOrderApi.getExpenseOrdersByChannel(o,se,y||void 0):ie=await c.expenseOrderApi.getPendingExpenseOrders(se),u(ie.data),C(Math.ceil(ie.total/ie.limit)),j(K)}catch(ie){b(((te=(q=ie.response)==null?void 0:q.data)==null?void 0:te.message)||"Failed to load expense orders"),console.error("Error loading expense orders:",ie)}finally{p(!1),E(!1)}};g.useEffect(()=>{T(1)},[y,s,o]);const I=async()=>{E(!0),await T(w)},N=(K,q)=>{T(q)},O=async K=>{var q,te;try{await c.expenseOrderApi.submitExpenseOrder(K.id),await T(w)}catch(ie){console.error("Error submitting expense order:",ie),b(((te=(q=ie.response)==null?void 0:q.data)==null?void 0:te.message)||"Failed to submit expense order")}},$=async K=>{var q,te;try{await c.expenseOrderApi.cancelExpenseOrder(K.id,"Cancelled by user"),await T(w)}catch(ie){console.error("Error cancelling expense order:",ie),b(((te=(q=ie.response)==null?void 0:q.data)==null?void 0:te.message)||"Failed to cancel expense order")}},B=async K=>{var q,te;try{await c.expenseOrderApi.approveExpenseOrder(K.id),await T(w)}catch(ie){console.error("Error approving expense order:",ie),b(((te=(q=ie.response)==null?void 0:q.data)==null?void 0:te.message)||"Failed to approve expense order")}},H=async K=>{var q,te;try{const ie=prompt("Please provide a reason for rejection:");ie&&(await c.expenseOrderApi.rejectExpenseOrder(K.id,{rejectionReason:ie}),await T(w))}catch(ie){console.error("Error rejecting expense order:",ie),b(((te=(q=ie.response)==null?void 0:q.data)==null?void 0:te.message)||"Failed to reject expense order")}},k=async K=>{var q,te;try{await c.expenseOrderApi.processPayment(K.id),await T(w)}catch(ie){console.error("Error processing payment:",ie),b(((te=(q=ie.response)==null?void 0:q.data)==null?void 0:te.message)||"Failed to process payment")}},ne=()=>{switch(s){case"journalist":return"My Expense Orders";case"admin":case"finance-manager":return o?"Channel Expense Orders":"All Expense Orders";default:return"Expense Orders"}};return t.jsxs(P,{children:[t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[t.jsx(v,{variant:"h5",sx:{fontWeight:600},children:ne()}),t.jsxs(P,{sx:{display:"flex",gap:2,alignItems:"center"},children:[t.jsxs(bt,{size:"small",sx:{minWidth:150},children:[t.jsx(Tt,{children:"Status Filter"}),t.jsxs(wt,{value:y,label:"Status Filter",onChange:K=>m(K.target.value),children:[t.jsx(Se,{value:"",children:"All Statuses"}),t.jsx(Se,{value:qe.DRAFT,children:"Draft"}),t.jsx(Se,{value:qe.SUBMITTED,children:"Submitted"}),t.jsx(Se,{value:qe.UNDER_REVIEW,children:"Under Review"}),t.jsx(Se,{value:qe.APPROVED,children:"Approved"}),t.jsx(Se,{value:qe.REJECTED,children:"Rejected"}),t.jsx(Se,{value:qe.PAID,children:"Paid"}),t.jsx(Se,{value:qe.CANCELLED,children:"Cancelled"})]})]}),t.jsx(ge,{variant:"outlined",startIcon:R?t.jsx(Yn,{size:16}):t.jsx(Hy,{}),onClick:I,disabled:R,size:"small",children:"Refresh"}),a&&s==="journalist"&&e&&t.jsx(ge,{variant:"contained",startIcon:t.jsx(bs,{}),onClick:e,children:"Create Expense Order"})]})]}),x&&t.jsx(ct,{severity:"error",sx:{mb:3},onClose:()=>b(null),children:x}),h?t.jsx(P,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(Yn,{})}):d.length===0?t.jsxs(P,{sx:{textAlign:"center",py:6},children:[t.jsx(v,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"No expense orders found"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:s==="journalist"?"You haven't created any expense orders yet.":"No expense orders match your current filter."}),a&&s==="journalist"&&e&&t.jsx(ge,{variant:"contained",startIcon:t.jsx(bs,{}),onClick:e,children:"Create Your First Expense Order"})]}):t.jsxs(t.Fragment,{children:[t.jsx(F,{container:!0,spacing:3,children:d.map(K=>t.jsx(F,{item:!0,xs:12,md:6,lg:4,children:t.jsx(bp,{expenseOrder:K,onView:r,onEdit:n,onSubmit:O,onCancel:$,onApprove:B,onReject:H,onProcessPayment:k,userRole:s})},K.id))}),D>1&&t.jsx(P,{sx:{display:"flex",justifyContent:"center",mt:4},children:t.jsx(aE,{count:D,page:w,onChange:N,color:"primary",size:"large"})})]})]})},d$=({channelId:e,onCreateExpenseOrder:n,onViewExpenseOrder:r,userRole:s="journalist"})=>{const{api:o}=Je(),a=Mn(),[c,d]=g.useState(null),[u,h]=g.useState(null),[p,x]=g.useState(!0),[b,y]=g.useState(null);g.useEffect(()=>{m()},[e]);const m=async()=>{var C,R;try{x(!0),y(null);const E=await o.expenseOrderApi.getExpenseOrderStats(e);if(d(E),e){const T=await o.channelApi.getChannel(e);h(T)}}catch(E){y(((R=(C=E.response)==null?void 0:C.data)==null?void 0:R.message)||"Failed to load dashboard data"),console.error("Error loading dashboard data:",E)}finally{x(!1)}},w=(C,R="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:R}).format(C),j=C=>{switch(C){case"paid":return a.palette.success.main;case"approved":return a.palette.info.main;case"submitted":case"underReview":return a.palette.warning.main;case"rejected":case"cancelled":return a.palette.error.main;case"draft":default:return a.palette.grey[500]}},D=({title:C,value:R,icon:E,color:T,subtitle:I})=>t.jsx(ke,{sx:{height:"100%",border:`1px solid ${Ie(T,.2)}`,"&:hover":{boxShadow:a.shadows[4],transform:"translateY(-2px)",transition:"all 0.2s ease-in-out"}},children:t.jsxs(Fe,{children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(P,{sx:{p:1,borderRadius:2,bgcolor:Ie(T,.1),color:T,mr:2},children:E}),t.jsx(v,{variant:"h6",sx:{fontWeight:600,color:"text.primary"},children:C})]}),t.jsx(v,{variant:"h4",sx:{fontWeight:700,color:T,mb:1},children:R}),I&&t.jsx(v,{variant:"body2",color:"text.secondary",children:I})]})});return p?t.jsx(P,{sx:{display:"flex",justifyContent:"center",py:8},children:t.jsx(Yn,{size:40})}):b?t.jsx(ct,{severity:"error",sx:{mb:3},children:b}):t.jsxs(P,{children:[t.jsxs(P,{sx:{mb:4},children:[t.jsx(v,{variant:"h4",sx:{fontWeight:700,mb:1},children:u?`${u.name} Payouts`:"Payout Dashboard"}),t.jsx(v,{variant:"body1",color:"text.secondary",children:s==="journalist"?"Manage your expense orders and track payments":"Overview of expense orders and payout statistics"})]}),c&&t.jsxs(t.Fragment,{children:[t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(D,{title:"Total Orders",value:c.total,icon:t.jsx(Ns,{}),color:a.palette.primary.main,subtitle:"All time"})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(D,{title:"Total Amount",value:w(c.totalAmount),icon:t.jsx(vs,{}),color:a.palette.secondary.main,subtitle:"Requested"})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(D,{title:"Paid Amount",value:w(c.totalPaidAmount),icon:t.jsx(Ma,{}),color:a.palette.success.main,subtitle:"Completed payments"})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(D,{title:"Pending",value:c.submitted+c.underReview+c.approved,icon:t.jsx(lE,{}),color:a.palette.warning.main,subtitle:"Awaiting action"})})]}),t.jsx(ke,{sx:{mb:4},children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",sx:{fontWeight:600,mb:3},children:"Status Breakdown"}),t.jsx(F,{container:!0,spacing:2,children:[{label:"Draft",value:c.draft,status:"draft"},{label:"Submitted",value:c.submitted,status:"submitted"},{label:"Under Review",value:c.underReview,status:"underReview"},{label:"Approved",value:c.approved,status:"approved"},{label:"Paid",value:c.paid,status:"paid"},{label:"Rejected",value:c.rejected,status:"rejected"},{label:"Cancelled",value:c.cancelled,status:"cancelled"}].map(C=>t.jsx(F,{item:!0,xs:6,sm:4,md:3,lg:2,children:t.jsxs(P,{sx:{textAlign:"center",p:2},children:[t.jsx(v,{variant:"h5",sx:{fontWeight:700,color:j(C.status),mb:1},children:C.value}),t.jsx(Ze,{label:C.label,size:"small",sx:{bgcolor:Ie(j(C.status),.1),color:j(C.status),fontWeight:500}})]})},C.status))})]})})]}),t.jsx(ke,{children:t.jsx(Fe,{children:t.jsx(c$,{userRole:s,channelId:e,onCreateNew:n,onView:r?C=>r(C.id):void 0,showCreateButton:s==="journalist"})})}),s==="journalist"&&t.jsx(P,{sx:{mt:4,display:"flex",justifyContent:"center"},children:t.jsx(ge,{variant:"contained",size:"large",startIcon:t.jsx(Ns,{}),onClick:n,sx:{px:4,py:1.5},children:"Create New Expense Order"})})]})},u$=()=>{var y,m,w;const[e,n]=g.useState(null),[r,s]=g.useState(!0),[o,a]=g.useState(0),{channelId:c}=Xr(),{api:d}=Je(),u=It(),h=async()=>{try{if(c){const j=await(d==null?void 0:d.channelApi.getChannel(c));j&&n(j)}}catch(j){console.error("Failed to fetch channel:",j)}finally{s(!1)}};g.useEffect(()=>{h()},[]);const p=()=>{u("/studio/payouts")},x=j=>{u(`/studio/payouts/orders/${j}`)},b=(j,D)=>{a(D)};return r?t.jsxs(Pt,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs(P,{sx:{textAlign:"center",mb:4},children:[t.jsx(le,{variant:"circular",width:100,height:100,sx:{mx:"auto",mb:2}}),t.jsx(le,{variant:"text",width:"60%",sx:{mx:"auto",mb:1}}),t.jsx(le,{variant:"text",width:"40%",sx:{mx:"auto",mb:2}})]}),t.jsx(F,{container:!0,spacing:3,children:[...Array(3)].map((j,D)=>t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsx(le,{variant:"text",width:"80%"}),t.jsx(le,{variant:"text",width:"60%"}),t.jsx(le,{variant:"rectangular",height:100,sx:{my:2}})]})})},D))})]}):e?t.jsxs(Pt,{maxWidth:"lg",sx:{mt:4},children:[t.jsx(P,{sx:{position:"relative",mb:4,"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:200,backgroundImage:`url(${(e==null?void 0:e.bannerUrl)||"https://via.placeholder.com/600x400"})`,backgroundSize:"cover",backgroundPosition:"center",filter:"brightness(0.9)"}},children:t.jsxs(P,{sx:{position:"relative",pt:15,pb:4,textAlign:"center"},children:[t.jsx(jn,{src:e.logoUrl,sx:{width:100,height:100,mx:"auto",mb:2,border:"3px solid white",boxShadow:2}}),t.jsx(v,{variant:"h4",gutterBottom:!0,children:e.name}),t.jsxs(v,{variant:"subtitle1",color:"text.secondary",gutterBottom:!0,children:[(y=e.stats)==null?void 0:y.activeSubscriptionCount.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1})," followers  ",(m=e.stats)==null?void 0:m.paidSubscriptionCount.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1})," subscribers"]}),t.jsx(v,{variant:"body1",sx:{mb:3},children:e.description}),t.jsx(Yt,{sx:{mb:4}})]})}),t.jsx(P,{sx:{mb:3},children:t.jsxs($s,{value:o,onChange:b,"aria-label":"channel tabs",sx:{borderBottom:1,borderColor:"divider"},children:[t.jsx(_n,{label:"Subscription Tiers",id:"channel-tab-0","aria-controls":"channel-tabpanel-0"}),t.jsx(_n,{label:"Payouts",icon:t.jsx(vs,{}),iconPosition:"start",id:"channel-tab-1","aria-controls":"channel-tabpanel-1"})]})}),t.jsx("div",{role:"tabpanel",hidden:o!==0,id:"channel-tabpanel-0","aria-labelledby":"channel-tab-0",children:o===0&&t.jsxs(P,{children:[t.jsx(v,{variant:"h5",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Subscription Tiers"}),t.jsx(F,{container:!0,spacing:3,children:(w=e.tiers)==null?void 0:w.map(j=>t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(mp,{children:[t.jsxs(P,{sx:{mb:3},children:[t.jsx(v,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,fontSize:"1rem"},children:j.name}),t.jsxs(v,{variant:"h4",sx:{fontWeight:700,fontSize:"2rem",display:"flex",alignItems:"baseline",gap:.5},children:["$",j.price,t.jsx(v,{component:"span",sx:{fontSize:"0.875rem",fontWeight:400,color:"text.secondary"},children:"/month"})]})]}),t.jsx(v,{variant:"body2",sx:{mb:3,color:"text.secondary",minHeight:60},children:j.description})]})},j.id))})]})}),t.jsx("div",{role:"tabpanel",hidden:o!==1,id:"channel-tabpanel-1","aria-labelledby":"channel-tab-1",children:o===1&&t.jsx(P,{children:t.jsx(d$,{channelId:c,onCreateExpenseOrder:p,onViewExpenseOrder:x,userRole:"journalist"})})})]}):t.jsx(Pt,{maxWidth:"lg",sx:{mt:4},children:t.jsx(v,{variant:"h5",align:"center",children:"Channel not found"})})},h$=({error:e})=>t.jsxs(P,{sx:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:2},children:[t.jsx(v,{variant:"h4",color:"error",children:"An error occurred"}),t.jsx(v,{color:"text.secondary",children:e.message})]}),I0=({channel:e,onUpdate:n})=>{const r=async s=>{!s||!("name"in s)||await n(s)};return t.jsx(P,{sx:{maxWidth:800},children:t.jsx(D0,{initialData:e,onSubmit:r,submitButtonText:"Save"})})};var Dp={},f$=tt;Object.defineProperty(Dp,"__esModule",{value:!0});var E0=Dp.default=void 0,p$=f$(nt()),x$=t;E0=Dp.default=(0,p$.default)((0,x$.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"DragIndicator");var Tp={},m$=tt;Object.defineProperty(Tp,"__esModule",{value:!0});var Ip=Tp.default=void 0,g$=m$(nt()),b$=t;Ip=Tp.default=(0,g$.default)((0,b$.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");function or(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var y$=typeof Symbol=="function"&&Symbol.observable||"@@observable",Db=y$,Yu=()=>Math.random().toString(36).substring(7).split("").join("."),v$={INIT:`@@redux/INIT${Yu()}`,REPLACE:`@@redux/REPLACE${Yu()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Yu()}`},Tb=v$;function j$(e){if(typeof e!="object"||e===null)return!1;let n=e;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n||Object.getPrototypeOf(e)===null}function A0(e,n,r){if(typeof e!="function")throw new Error(or(2));if(typeof n=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(or(0));if(typeof n=="function"&&typeof r>"u"&&(r=n,n=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(or(1));return r(A0)(e,n)}let s=e,o=n,a=new Map,c=a,d=0,u=!1;function h(){c===a&&(c=new Map,a.forEach((j,D)=>{c.set(D,j)}))}function p(){if(u)throw new Error(or(3));return o}function x(j){if(typeof j!="function")throw new Error(or(4));if(u)throw new Error(or(5));let D=!0;h();const C=d++;return c.set(C,j),function(){if(D){if(u)throw new Error(or(6));D=!1,h(),c.delete(C),a=null}}}function b(j){if(!j$(j))throw new Error(or(7));if(typeof j.type>"u")throw new Error(or(8));if(typeof j.type!="string")throw new Error(or(17));if(u)throw new Error(or(9));try{u=!0,o=s(o,j)}finally{u=!1}return(a=c).forEach(C=>{C()}),j}function y(j){if(typeof j!="function")throw new Error(or(10));s=j,b({type:Tb.REPLACE})}function m(){const j=x;return{subscribe(D){if(typeof D!="object"||D===null)throw new Error(or(11));function C(){const E=D;E.next&&E.next(p())}return C(),{unsubscribe:j(C)}},[Db](){return this}}}return b({type:Tb.INIT}),{dispatch:b,subscribe:x,getState:p,replaceReducer:y,[Db]:m}}function Ib(e,n){return function(...r){return n(e.apply(this,r))}}function Eb(e,n){if(typeof e=="function")return Ib(e,n);if(typeof e!="object"||e===null)throw new Error(or(16));const r={};for(const s in e){const o=e[s];typeof o=="function"&&(r[s]=Ib(o,n))}return r}function R0(...e){return e.length===0?n=>n:e.length===1?e[0]:e.reduce((n,r)=>(...s)=>n(r(...s)))}function w$(...e){return n=>(r,s)=>{const o=n(r,s);let a=()=>{throw new Error(or(15))};const c={getState:o.getState,dispatch:(u,...h)=>a(u,...h)},d=e.map(u=>u(c));return a=R0(...d)(o.dispatch),{...o,dispatch:a}}}var S$={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Va=g;function C$(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var P$=typeof Object.is=="function"?Object.is:C$,D$=Va.useSyncExternalStore,T$=Va.useRef,I$=Va.useEffect,E$=Va.useMemo,A$=Va.useDebugValue;S$.useSyncExternalStoreWithSelector=function(e,n,r,s,o){var a=T$(null);if(a.current===null){var c={hasValue:!1,value:null};a.current=c}else c=a.current;a=E$(function(){function u(y){if(!h){if(h=!0,p=y,y=s(y),o!==void 0&&c.hasValue){var m=c.value;if(o(m,y))return x=m}return x=y}if(m=x,P$(p,y))return m;var w=s(y);return o!==void 0&&o(m,w)?(p=y,m):(p=y,x=w)}var h=!1,p,x,b=r===void 0?null:r;return[function(){return u(n())},b===null?void 0:function(){return u(b())}]},[n,r,s,o]);var d=D$(e,a[0],a[1]);return I$(function(){c.hasValue=!0,c.value=d},[d]),A$(d),d};var R$=g.version.startsWith("19"),_$=Symbol.for(R$?"react.transitional.element":"react.element"),O$=Symbol.for("react.portal"),M$=Symbol.for("react.fragment"),k$=Symbol.for("react.strict_mode"),N$=Symbol.for("react.profiler"),L$=Symbol.for("react.consumer"),$$=Symbol.for("react.context"),_0=Symbol.for("react.forward_ref"),F$=Symbol.for("react.suspense"),W$=Symbol.for("react.suspense_list"),Ep=Symbol.for("react.memo"),B$=Symbol.for("react.lazy"),V$=_0,U$=Ep;function z$(e){if(typeof e=="object"&&e!==null){const{$$typeof:n}=e;switch(n){case _$:switch(e=e.type,e){case M$:case N$:case k$:case F$:case W$:return e;default:switch(e=e&&e.$$typeof,e){case $$:case _0:case B$:case Ep:return e;case L$:return e;default:return n}}case O$:return n}}}function H$(e){return z$(e)===Ep}function Y$(e,n,r,s,{areStatesEqual:o,areOwnPropsEqual:a,areStatePropsEqual:c}){let d=!1,u,h,p,x,b;function y(C,R){return u=C,h=R,p=e(u,h),x=n(s,h),b=r(p,x,h),d=!0,b}function m(){return p=e(u,h),n.dependsOnOwnProps&&(x=n(s,h)),b=r(p,x,h),b}function w(){return e.dependsOnOwnProps&&(p=e(u,h)),n.dependsOnOwnProps&&(x=n(s,h)),b=r(p,x,h),b}function j(){const C=e(u,h),R=!c(C,p);return p=C,R&&(b=r(p,x,h)),b}function D(C,R){const E=!a(R,h),T=!o(C,u,R,h);return u=C,h=R,E&&T?m():E?w():T?j():b}return function(R,E){return d?D(R,E):y(R,E)}}function G$(e,{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:s,...o}){const a=n(e,o),c=r(e,o),d=s(e,o);return Y$(a,c,d,e,o)}function q$(e,n){const r={};for(const s in e){const o=e[s];typeof o=="function"&&(r[s]=(...a)=>n(o(...a)))}return r}function Ph(e){return function(r){const s=e(r);function o(){return s}return o.dependsOnOwnProps=!1,o}}function Ab(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function O0(e,n){return function(s,{displayName:o}){const a=function(d,u){return a.dependsOnOwnProps?a.mapToProps(d,u):a.mapToProps(d,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(d,u){a.mapToProps=e,a.dependsOnOwnProps=Ab(e);let h=a(d,u);return typeof h=="function"&&(a.mapToProps=h,a.dependsOnOwnProps=Ab(h),h=a(d,u)),h},a}}function Ap(e,n){return(r,s)=>{throw new Error(`Invalid value of type ${typeof e} for ${n} argument when connecting component ${s.wrappedComponentName}.`)}}function K$(e){return e&&typeof e=="object"?Ph(n=>q$(e,n)):e?typeof e=="function"?O0(e):Ap(e,"mapDispatchToProps"):Ph(n=>({dispatch:n}))}function X$(e){return e?typeof e=="function"?O0(e):Ap(e,"mapStateToProps"):Ph(()=>({}))}function J$(e,n,r){return{...r,...e,...n}}function Q$(e){return function(r,{displayName:s,areMergedPropsEqual:o}){let a=!1,c;return function(u,h,p){const x=e(u,h,p);return a?o(x,c)||(c=x):(a=!0,c=x),c}}}function Z$(e){return e?typeof e=="function"?Q$(e):Ap(e,"mergeProps"):()=>J$}function eF(e){e()}function tF(){let e=null,n=null;return{clear(){e=null,n=null},notify(){eF(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let s=e;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0;const o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!s||e===null||(s=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var Rb={notify(){},get:()=>[]};function M0(e,n){let r,s=Rb,o=0,a=!1;function c(w){p();const j=s.subscribe(w);let D=!1;return()=>{D||(D=!0,j(),x())}}function d(){s.notify()}function u(){m.onStateChange&&m.onStateChange()}function h(){return a}function p(){o++,r||(r=n?n.addNestedSub(u):e.subscribe(u),s=tF())}function x(){o--,r&&o===0&&(r(),r=void 0,s.clear(),s=Rb)}function b(){a||(a=!0,p())}function y(){a&&(a=!1,x())}const m={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:u,isSubscribed:h,trySubscribe:b,tryUnsubscribe:y,getListeners:()=>s};return m}var nF=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rF=nF(),sF=()=>typeof navigator<"u"&&navigator.product==="ReactNative",oF=sF(),iF=()=>rF||oF?g.useLayoutEffect:g.useEffect,wc=iF();function _b(e,n){return e===n?e!==0||n!==0||1/e===1/n:e!==e&&n!==n}function Gu(e,n){if(_b(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;const r=Object.keys(e),s=Object.keys(n);if(r.length!==s.length)return!1;for(let o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(n,r[o])||!_b(e[r[o]],n[r[o]]))return!1;return!0}var aF={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},lF={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},cF={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},k0={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},dF={[V$]:cF,[U$]:k0};function Ob(e){return H$(e)?k0:dF[e.$$typeof]||aF}var uF=Object.defineProperty,hF=Object.getOwnPropertyNames,Mb=Object.getOwnPropertySymbols,fF=Object.getOwnPropertyDescriptor,pF=Object.getPrototypeOf,kb=Object.prototype;function Dh(e,n){if(typeof n!="string"){if(kb){const a=pF(n);a&&a!==kb&&Dh(e,a)}let r=hF(n);Mb&&(r=r.concat(Mb(n)));const s=Ob(e),o=Ob(n);for(let a=0;a<r.length;++a){const c=r[a];if(!lF[c]&&!(o&&o[c])&&!(s&&s[c])){const d=fF(n,c);try{uF(e,c,d)}catch{}}}}return e}var qu=Symbol.for("react-redux-context"),Ku=typeof globalThis<"u"?globalThis:{};function xF(){if(!g.createContext)return{};const e=Ku[qu]??(Ku[qu]=new Map);let n=e.get(g.createContext);return n||(n=g.createContext(null),e.set(g.createContext,n)),n}var N0=xF(),mF=[null,null];function gF(e,n,r){wc(()=>e(...n),r)}function bF(e,n,r,s,o,a){e.current=s,r.current=!1,o.current&&(o.current=null,a())}function yF(e,n,r,s,o,a,c,d,u,h,p){if(!e)return()=>{};let x=!1,b=null;const y=()=>{if(x||!d.current)return;const w=n.getState();let j,D;try{j=s(w,o.current)}catch(C){D=C,b=C}D||(b=null),j===a.current?c.current||h():(a.current=j,u.current=j,c.current=!0,p())};return r.onStateChange=y,r.trySubscribe(),y(),()=>{if(x=!0,r.tryUnsubscribe(),r.onStateChange=null,b)throw b}}function vF(e,n){return e===n}function jF(e,n,r,{pure:s,areStatesEqual:o=vF,areOwnPropsEqual:a=Gu,areStatePropsEqual:c=Gu,areMergedPropsEqual:d=Gu,forwardRef:u=!1,context:h=N0}={}){const p=h,x=X$(e),b=K$(n),y=Z$(r),m=!!e;return j=>{const D=j.displayName||j.name||"Component",C=`Connect(${D})`,R={shouldHandleStateChanges:m,displayName:C,wrappedComponentName:D,WrappedComponent:j,initMapStateToProps:x,initMapDispatchToProps:b,initMergeProps:y,areStatesEqual:o,areStatePropsEqual:c,areOwnPropsEqual:a,areMergedPropsEqual:d};function E(N){const[O,$,B]=g.useMemo(()=>{const{reactReduxForwardedRef:fe,...me}=N;return[N.context,fe,me]},[N]),H=g.useMemo(()=>{let fe=p;return O!=null&&O.Consumer,fe},[O,p]),k=g.useContext(H),ne=!!N.store&&!!N.store.getState&&!!N.store.dispatch,K=!!k&&!!k.store,q=ne?N.store:k.store,te=K?k.getServerState:q.getState,ie=g.useMemo(()=>G$(q.dispatch,R),[q]),[se,ae]=g.useMemo(()=>{if(!m)return mF;const fe=M0(q,ne?void 0:k.subscription),me=fe.notifyNestedSubs.bind(fe);return[fe,me]},[q,ne,k]),V=g.useMemo(()=>ne?k:{...k,subscription:se},[ne,k,se]),X=g.useRef(void 0),we=g.useRef(B),ce=g.useRef(void 0),Ee=g.useRef(!1),de=g.useRef(!1),re=g.useRef(void 0);wc(()=>(de.current=!0,()=>{de.current=!1}),[]);const L=g.useMemo(()=>()=>ce.current&&B===we.current?ce.current:ie(q.getState(),B),[q,B]),xe=g.useMemo(()=>me=>se?yF(m,q,se,ie,we,X,Ee,de,ce,ae,me):()=>{},[se]);gF(bF,[we,X,Ee,B,ce,ae]);let oe;try{oe=g.useSyncExternalStore(xe,L,te?()=>ie(te(),B):L)}catch(fe){throw re.current&&(fe.message+=`
The error may be correlated with this previous error:
${re.current.stack}

`),fe}wc(()=>{re.current=void 0,ce.current=void 0,X.current=oe});const Y=g.useMemo(()=>g.createElement(j,{...oe,ref:$}),[$,j,oe]);return g.useMemo(()=>m?g.createElement(H.Provider,{value:V},Y):Y,[H,Y,V])}const I=g.memo(E);if(I.WrappedComponent=j,I.displayName=E.displayName=C,u){const O=g.forwardRef(function(B,H){return g.createElement(I,{...B,reactReduxForwardedRef:H})});return O.displayName=C,O.WrappedComponent=j,Dh(O,j)}return Dh(I,j)}}var L0=jF;function wF(e){const{children:n,context:r,serverState:s,store:o}=e,a=g.useMemo(()=>{const u=M0(o);return{store:o,subscription:u,getServerState:s?()=>s:void 0}},[o,s]),c=g.useMemo(()=>o.getState(),[o]);wc(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),c!==o.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,c]);const d=r||N0;return g.createElement(d.Provider,{value:a},n)}var SF=wF;function CF(e,n){if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}function $0(e,n){var r=g.useState(function(){return{inputs:n,result:e()}})[0],s=g.useRef(!0),o=g.useRef(r),a=s.current||!!(n&&o.current.inputs&&CF(n,o.current.inputs)),c=a?o.current:{inputs:n,result:e()};return g.useEffect(function(){s.current=!1,o.current=c},[c]),c.result}function PF(e,n){return $0(function(){return e},n)}var Ot=$0,Xe=PF,is=function(n){var r=n.top,s=n.right,o=n.bottom,a=n.left,c=s-a,d=o-r,u={top:r,right:s,bottom:o,left:a,width:c,height:d,x:a,y:r,center:{x:(s+a)/2,y:(o+r)/2}};return u},Rp=function(n,r){return{top:n.top-r.top,left:n.left-r.left,bottom:n.bottom+r.bottom,right:n.right+r.right}},Nb=function(n,r){return{top:n.top+r.top,left:n.left+r.left,bottom:n.bottom-r.bottom,right:n.right-r.right}},DF=function(n,r){return{top:n.top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x}},Xu={top:0,right:0,bottom:0,left:0},_p=function(n){var r=n.borderBox,s=n.margin,o=s===void 0?Xu:s,a=n.border,c=a===void 0?Xu:a,d=n.padding,u=d===void 0?Xu:d,h=is(Rp(r,o)),p=is(Nb(r,c)),x=is(Nb(p,u));return{marginBox:h,borderBox:is(r),paddingBox:p,contentBox:x,margin:o,border:c,padding:u}},Vr=function(n){var r=n.slice(0,-2),s=n.slice(-2);if(s!=="px")return 0;var o=Number(r);return isNaN(o)&&rA(),o},TF=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Sc=function(n,r){var s=n.borderBox,o=n.border,a=n.margin,c=n.padding,d=DF(s,r);return _p({borderBox:d,border:o,margin:a,padding:c})},Cc=function(n,r){return r===void 0&&(r=TF()),Sc(n,r)},F0=function(n,r){var s={top:Vr(r.marginTop),right:Vr(r.marginRight),bottom:Vr(r.marginBottom),left:Vr(r.marginLeft)},o={top:Vr(r.paddingTop),right:Vr(r.paddingRight),bottom:Vr(r.paddingBottom),left:Vr(r.paddingLeft)},a={top:Vr(r.borderTopWidth),right:Vr(r.borderRightWidth),bottom:Vr(r.borderBottomWidth),left:Vr(r.borderLeftWidth)};return _p({borderBox:n,margin:s,padding:o,border:a})},W0=function(n){var r=n.getBoundingClientRect(),s=window.getComputedStyle(n);return F0(r,s)},Lb=Number.isNaN||function(n){return typeof n=="number"&&n!==n};function IF(e,n){return!!(e===n||Lb(e)&&Lb(n))}function EF(e,n){if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(!IF(e[r],n[r]))return!1;return!0}function $n(e,n){n===void 0&&(n=EF);var r=null;function s(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];if(r&&r.lastThis===this&&n(o,r.lastArgs))return r.lastResult;var c=e.apply(this,o);return r={lastResult:c,lastArgs:o,lastThis:this},c}return s.clear=function(){r=null},s}var ja=function(n){var r=[],s=null,o=function(){for(var c=arguments.length,d=new Array(c),u=0;u<c;u++)d[u]=arguments[u];r=d,!s&&(s=requestAnimationFrame(function(){s=null,n.apply(void 0,r)}))};return o.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},o};function B0(e,n){}B0.bind(null,"warn");B0.bind(null,"error");function no(){}function AF(e,n){return{...e,...n}}function Hr(e,n,r){const s=n.map(o=>{const a=AF(r,o.options);return e.addEventListener(o.eventName,o.fn,a),function(){e.removeEventListener(o.eventName,o.fn,a)}});return function(){s.forEach(a=>{a()})}}const RF="Invariant failed";class Pc extends Error{}Pc.prototype.toString=function(){return this.message};function Oe(e,n){throw new Pc(RF)}class _F extends Ft.Component{constructor(...n){super(...n),this.callbacks=null,this.unbind=no,this.onWindowError=r=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),r.error instanceof Pc&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=Hr(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(n){if(n instanceof Pc){this.setState({});return}throw n}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const OF=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Dc=e=>e+1,MF=e=>`
  You have lifted an item in position ${Dc(e.source.index)}
`,V0=(e,n)=>{const r=e.droppableId===n.droppableId,s=Dc(e.index),o=Dc(n.index);return r?`
      You have moved the item from position ${s}
      to position ${o}
    `:`
    You have moved the item from position ${s}
    in list ${e.droppableId}
    to list ${n.droppableId}
    in position ${o}
  `},U0=(e,n,r)=>n.droppableId===r.droppableId?`
      The item ${e}
      has been combined with ${r.draggableId}`:`
      The item ${e}
      in list ${n.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,kF=e=>{const n=e.destination;if(n)return V0(e.source,n);const r=e.combine;return r?U0(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},$b=e=>`
  The item has returned to its starting position
  of ${Dc(e.index)}
`,NF=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${$b(e.source)}
    `;const n=e.destination,r=e.combine;return n?`
      You have dropped the item.
      ${V0(e.source,n)}
    `:r?`
      You have dropped the item.
      ${U0(e.draggableId,e.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${$b(e.source)}
  `},Gl={dragHandleUsageInstructions:OF,onDragStart:MF,onDragUpdate:kF,onDragEnd:NF},Fn={x:0,y:0},Hn=(e,n)=>({x:e.x+n.x,y:e.y+n.y}),Ar=(e,n)=>({x:e.x-n.x,y:e.y-n.y}),ro=(e,n)=>e.x===n.x&&e.y===n.y,Ri=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),No=(e,n,r=0)=>e==="x"?{x:n,y:r}:{x:r,y:n},wa=(e,n)=>Math.sqrt((n.x-e.x)**2+(n.y-e.y)**2),Fb=(e,n)=>Math.min(...n.map(r=>wa(e,r))),z0=e=>n=>({x:e(n.x),y:e(n.y)});var LF=(e,n)=>{const r=is({top:Math.max(n.top,e.top),right:Math.min(n.right,e.right),bottom:Math.min(n.bottom,e.bottom),left:Math.max(n.left,e.left)});return r.width<=0||r.height<=0?null:r};const Ua=(e,n)=>({top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}),Wb=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],$F={top:0,right:0,bottom:0,left:0},FF=(e,n)=>n?Ua(e,n.scroll.diff.displacement):e,WF=(e,n,r)=>r&&r.increasedBy?{...e,[n.end]:e[n.end]+r.increasedBy[n.line]}:e,BF=(e,n)=>n&&n.shouldClipSubject?LF(n.pageMarginBox,e):is(e);var wi=({page:e,withPlaceholder:n,axis:r,frame:s})=>{const o=FF(e.marginBox,s),a=WF(o,r,n),c=BF(a,s);return{page:e,withPlaceholder:n,active:c}},Op=(e,n)=>{e.frame||Oe();const r=e.frame,s=Ar(n,r.scroll.initial),o=Ri(s),a={...r,scroll:{initial:r.scroll.initial,current:n,diff:{value:s,displacement:o},max:r.scroll.max}},c=wi({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:c}};const H0=$n(e=>e.reduce((n,r)=>(n[r.descriptor.id]=r,n),{})),Y0=$n(e=>e.reduce((n,r)=>(n[r.descriptor.id]=r,n),{})),rd=$n(e=>Object.values(e)),VF=$n(e=>Object.values(e));var _i=$n((e,n)=>VF(n).filter(s=>e===s.descriptor.droppableId).sort((s,o)=>s.descriptor.index-o.descriptor.index));function Mp(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function sd(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var od=$n((e,n)=>n.filter(r=>r.descriptor.id!==e.descriptor.id)),UF=({isMovingForward:e,draggable:n,destination:r,insideDestination:s,previousImpact:o})=>{if(!r.isCombineEnabled||!Mp(o))return null;function c(y){const m={type:"COMBINE",combine:{draggableId:y,droppableId:r.descriptor.id}};return{...o,at:m}}const d=o.displaced.all,u=d.length?d[0]:null;if(e)return u?c(u):null;const h=od(n,s);if(!u){if(!h.length)return null;const y=h[h.length-1];return c(y.descriptor.id)}const p=h.findIndex(y=>y.descriptor.id===u);p===-1&&Oe();const x=p-1;if(x<0)return null;const b=h[x];return c(b.descriptor.id)},Oi=(e,n)=>e.descriptor.droppableId===n.descriptor.id;const G0={point:Fn,value:0},Sa={invisible:{},visible:{},all:[]},zF={displaced:Sa,displacedBy:G0,at:null};var Gr=(e,n)=>r=>e<=r&&r<=n,q0=e=>{const n=Gr(e.top,e.bottom),r=Gr(e.left,e.right);return s=>{if(n(s.top)&&n(s.bottom)&&r(s.left)&&r(s.right))return!0;const a=n(s.top)||n(s.bottom),c=r(s.left)||r(s.right);if(a&&c)return!0;const u=s.top<e.top&&s.bottom>e.bottom,h=s.left<e.left&&s.right>e.right;return u&&h?!0:u&&c||h&&a}},HF=e=>{const n=Gr(e.top,e.bottom),r=Gr(e.left,e.right);return s=>n(s.top)&&n(s.bottom)&&r(s.left)&&r(s.right)};const kp={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},K0={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var YF=e=>n=>{const r=Gr(n.top,n.bottom),s=Gr(n.left,n.right);return o=>e===kp?r(o.top)&&r(o.bottom):s(o.left)&&s(o.right)};const GF=(e,n)=>{const r=n.frame?n.frame.scroll.diff.displacement:Fn;return Ua(e,r)},qF=(e,n,r)=>n.subject.active?r(n.subject.active)(e):!1,KF=(e,n,r)=>r(n)(e),Np=({target:e,destination:n,viewport:r,withDroppableDisplacement:s,isVisibleThroughFrameFn:o})=>{const a=s?GF(e,n):e;return qF(a,n,o)&&KF(a,r,o)},XF=e=>Np({...e,isVisibleThroughFrameFn:q0}),X0=e=>Np({...e,isVisibleThroughFrameFn:HF}),JF=e=>Np({...e,isVisibleThroughFrameFn:YF(e.destination.axis)}),QF=(e,n,r)=>{if(typeof r=="boolean")return r;if(!n)return!0;const{invisible:s,visible:o}=n;if(s[e])return!1;const a=o[e];return a?a.shouldAnimate:!0};function ZF(e,n){const r=e.page.marginBox,s={top:n.point.y,right:0,bottom:0,left:n.point.x};return is(Rp(r,s))}function Ca({afterDragging:e,destination:n,displacedBy:r,viewport:s,forceShouldAnimate:o,last:a}){return e.reduce(function(d,u){const h=ZF(u,r),p=u.descriptor.id;if(d.all.push(p),!XF({target:h,destination:n,viewport:s,withDroppableDisplacement:!0}))return d.invisible[u.descriptor.id]=!0,d;const b=QF(p,a,o),y={draggableId:p,shouldAnimate:b};return d.visible[p]=y,d},{all:[],visible:{},invisible:{}})}function e3(e,n){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return n.inHomeList?r:r+1}function Bb({insideDestination:e,inHomeList:n,displacedBy:r,destination:s}){const o=e3(e,{inHomeList:n});return{displaced:Sa,displacedBy:r,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:o}}}}function Tc({draggable:e,insideDestination:n,destination:r,viewport:s,displacedBy:o,last:a,index:c,forceShouldAnimate:d}){const u=Oi(e,r);if(c==null)return Bb({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});const h=n.find(m=>m.descriptor.index===c);if(!h)return Bb({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});const p=od(e,n),x=n.indexOf(h),b=p.slice(x);return{displaced:Ca({afterDragging:b,destination:r,displacedBy:o,last:a,viewport:s.frame,forceShouldAnimate:d}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:c}}}}function oo(e,n){return!!n.effected[e]}var t3=({isMovingForward:e,destination:n,draggables:r,combine:s,afterCritical:o})=>{if(!n.isCombineEnabled)return null;const a=s.draggableId,d=r[a].descriptor.index;return oo(a,o)?e?d:d-1:e?d+1:d},n3=({isMovingForward:e,isInHomeList:n,insideDestination:r,location:s})=>{if(!r.length)return null;const o=s.index,a=e?o+1:o-1,c=r[0].descriptor.index,d=r[r.length-1].descriptor.index,u=n?d:d+1;return a<c||a>u?null:a},r3=({isMovingForward:e,isInHomeList:n,draggable:r,draggables:s,destination:o,insideDestination:a,previousImpact:c,viewport:d,afterCritical:u})=>{const h=c.at;if(h||Oe(),h.type==="REORDER"){const x=n3({isMovingForward:e,isInHomeList:n,location:h.destination,insideDestination:a});return x==null?null:Tc({draggable:r,insideDestination:a,destination:o,viewport:d,last:c.displaced,displacedBy:c.displacedBy,index:x})}const p=t3({isMovingForward:e,destination:o,displaced:c.displaced,draggables:s,combine:h.combine,afterCritical:u});return p==null?null:Tc({draggable:r,insideDestination:a,destination:o,viewport:d,last:c.displaced,displacedBy:c.displacedBy,index:p})},s3=({displaced:e,afterCritical:n,combineWith:r,displacedBy:s})=>{const o=!!(e.visible[r]||e.invisible[r]);return oo(r,n)?o?Fn:Ri(s.point):o?s.point:Fn},o3=({afterCritical:e,impact:n,draggables:r})=>{const s=sd(n);s||Oe();const o=s.draggableId,a=r[o].page.borderBox.center,c=s3({displaced:n.displaced,afterCritical:e,combineWith:o,displacedBy:n.displacedBy});return Hn(a,c)};const J0=(e,n)=>n.margin[e.start]+n.borderBox[e.size]/2,i3=(e,n)=>n.margin[e.end]+n.borderBox[e.size]/2,Lp=(e,n,r)=>n[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,Vb=({axis:e,moveRelativeTo:n,isMoving:r})=>No(e.line,n.marginBox[e.end]+J0(e,r),Lp(e,n.marginBox,r)),Ub=({axis:e,moveRelativeTo:n,isMoving:r})=>No(e.line,n.marginBox[e.start]-i3(e,r),Lp(e,n.marginBox,r)),a3=({axis:e,moveInto:n,isMoving:r})=>No(e.line,n.contentBox[e.start]+J0(e,r),Lp(e,n.contentBox,r));var l3=({impact:e,draggable:n,draggables:r,droppable:s,afterCritical:o})=>{const a=_i(s.descriptor.id,r),c=n.page,d=s.axis;if(!a.length)return a3({axis:d,moveInto:s.page,isMoving:c});const{displaced:u,displacedBy:h}=e,p=u.all[0];if(p){const b=r[p];if(oo(p,o))return Ub({axis:d,moveRelativeTo:b.page,isMoving:c});const y=Sc(b.page,h.point);return Ub({axis:d,moveRelativeTo:y,isMoving:c})}const x=a[a.length-1];if(x.descriptor.id===n.descriptor.id)return c.borderBox.center;if(oo(x.descriptor.id,o)){const b=Sc(x.page,Ri(o.displacedBy.point));return Vb({axis:d,moveRelativeTo:b,isMoving:c})}return Vb({axis:d,moveRelativeTo:x.page,isMoving:c})},Th=(e,n)=>{const r=e.frame;return r?Hn(n,r.scroll.diff.displacement):n};const c3=({impact:e,draggable:n,droppable:r,draggables:s,afterCritical:o})=>{const a=n.page.borderBox.center,c=e.at;return!r||!c?a:c.type==="REORDER"?l3({impact:e,draggable:n,draggables:s,droppable:r,afterCritical:o}):o3({impact:e,draggables:s,afterCritical:o})};var id=e=>{const n=c3(e),r=e.droppable;return r?Th(r,n):n},Q0=(e,n)=>{const r=Ar(n,e.scroll.initial),s=Ri(r);return{frame:is({top:n.y,bottom:n.y+e.frame.height,left:n.x,right:n.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:n,diff:{value:r,displacement:s}}}};function zb(e,n){return e.map(r=>n[r])}function d3(e,n){for(let r=0;r<n.length;r++){const s=n[r].visible[e];if(s)return s}return null}var u3=({impact:e,viewport:n,destination:r,draggables:s,maxScrollChange:o})=>{const a=Q0(n,Hn(n.scroll.current,o)),c=r.frame?Op(r,Hn(r.frame.scroll.current,o)):r,d=e.displaced,u=Ca({afterDragging:zb(d.all,s),destination:r,displacedBy:e.displacedBy,viewport:a.frame,last:d,forceShouldAnimate:!1}),h=Ca({afterDragging:zb(d.all,s),destination:c,displacedBy:e.displacedBy,viewport:n.frame,last:d,forceShouldAnimate:!1}),p={},x={},b=[d,u,h];return d.all.forEach(m=>{const w=d3(m,b);if(w){x[m]=w;return}p[m]=!0}),{...e,displaced:{all:d.all,invisible:p,visible:x}}},h3=(e,n)=>Hn(e.scroll.diff.displacement,n),$p=({pageBorderBoxCenter:e,draggable:n,viewport:r})=>{const s=h3(r,e),o=Ar(s,n.page.borderBox.center);return Hn(n.client.borderBox.center,o)},Z0=({draggable:e,destination:n,newPageBorderBoxCenter:r,viewport:s,withDroppableDisplacement:o,onlyOnMainAxis:a=!1})=>{const c=Ar(r,e.page.borderBox.center),u={target:Ua(e.page.borderBox,c),destination:n,withDroppableDisplacement:o,viewport:s};return a?JF(u):X0(u)},f3=({isMovingForward:e,draggable:n,destination:r,draggables:s,previousImpact:o,viewport:a,previousPageBorderBoxCenter:c,previousClientSelection:d,afterCritical:u})=>{if(!r.isEnabled)return null;const h=_i(r.descriptor.id,s),p=Oi(n,r),x=UF({isMovingForward:e,draggable:n,destination:r,insideDestination:h,previousImpact:o})||r3({isMovingForward:e,isInHomeList:p,draggable:n,draggables:s,destination:r,insideDestination:h,previousImpact:o,viewport:a,afterCritical:u});if(!x)return null;const b=id({impact:x,draggable:n,droppable:r,draggables:s,afterCritical:u});if(Z0({draggable:n,destination:r,newPageBorderBoxCenter:b,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:$p({pageBorderBoxCenter:b,draggable:n,viewport:a}),impact:x,scrollJumpRequest:null};const m=Ar(b,c),w=u3({impact:x,viewport:a,destination:r,draggables:s,maxScrollChange:m});return{clientSelection:d,impact:w,scrollJumpRequest:m}};const sr=e=>{const n=e.subject.active;return n||Oe(),n};var p3=({isMovingForward:e,pageBorderBoxCenter:n,source:r,droppables:s,viewport:o})=>{const a=r.subject.active;if(!a)return null;const c=r.axis,d=Gr(a[c.start],a[c.end]),u=rd(s).filter(p=>p!==r).filter(p=>p.isEnabled).filter(p=>!!p.subject.active).filter(p=>q0(o.frame)(sr(p))).filter(p=>{const x=sr(p);return e?a[c.crossAxisEnd]<x[c.crossAxisEnd]:x[c.crossAxisStart]<a[c.crossAxisStart]}).filter(p=>{const x=sr(p),b=Gr(x[c.start],x[c.end]);return d(x[c.start])||d(x[c.end])||b(a[c.start])||b(a[c.end])}).sort((p,x)=>{const b=sr(p)[c.crossAxisStart],y=sr(x)[c.crossAxisStart];return e?b-y:y-b}).filter((p,x,b)=>sr(p)[c.crossAxisStart]===sr(b[0])[c.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const h=u.filter(p=>Gr(sr(p)[c.start],sr(p)[c.end])(n[c.line]));return h.length===1?h[0]:h.length>1?h.sort((p,x)=>sr(p)[c.start]-sr(x)[c.start])[0]:u.sort((p,x)=>{const b=Fb(n,Wb(sr(p))),y=Fb(n,Wb(sr(x)));return b!==y?b-y:sr(p)[c.start]-sr(x)[c.start]})[0]};const Hb=(e,n)=>{const r=e.page.borderBox.center;return oo(e.descriptor.id,n)?Ar(r,n.displacedBy.point):r},x3=(e,n)=>{const r=e.page.borderBox;return oo(e.descriptor.id,n)?Ua(r,Ri(n.displacedBy.point)):r};var m3=({pageBorderBoxCenter:e,viewport:n,destination:r,insideDestination:s,afterCritical:o})=>s.filter(c=>X0({target:x3(c,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})).sort((c,d)=>{const u=wa(e,Th(r,Hb(c,o))),h=wa(e,Th(r,Hb(d,o)));return u<h?-1:h<u?1:c.descriptor.index-d.descriptor.index})[0]||null,za=$n(function(n,r){const s=r[n.line];return{value:s,point:No(n.line,s)}});const g3=(e,n,r)=>{const s=e.axis;if(e.descriptor.mode==="virtual")return No(s.line,n[s.line]);const o=e.subject.page.contentBox[s.size],u=_i(e.descriptor.id,r).reduce((h,p)=>h+p.client.marginBox[s.size],0)+n[s.line]-o;return u<=0?null:No(s.line,u)},ej=(e,n)=>({...e,scroll:{...e.scroll,max:n}}),tj=(e,n,r)=>{const s=e.frame;Oi(n,e)&&Oe(),e.subject.withPlaceholder&&Oe();const o=za(e.axis,n.displaceBy).point,a=g3(e,o,r),c={placeholderSize:o,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!s){const p=wi({page:e.subject.page,withPlaceholder:c,axis:e.axis,frame:e.frame});return{...e,subject:p}}const d=a?Hn(s.scroll.max,a):s.scroll.max,u=ej(s,d),h=wi({page:e.subject.page,withPlaceholder:c,axis:e.axis,frame:u});return{...e,subject:h,frame:u}},b3=e=>{const n=e.subject.withPlaceholder;n||Oe();const r=e.frame;if(!r){const c=wi({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:c}}const s=n.oldFrameMaxScroll;s||Oe();const o=ej(r,s),a=wi({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return{...e,subject:a,frame:o}};var y3=({previousPageBorderBoxCenter:e,moveRelativeTo:n,insideDestination:r,draggable:s,draggables:o,destination:a,viewport:c,afterCritical:d})=>{if(!n){if(r.length)return null;const x={displaced:Sa,displacedBy:G0,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},b=id({impact:x,draggable:s,droppable:a,draggables:o,afterCritical:d}),y=Oi(s,a)?a:tj(a,s,o);return Z0({draggable:s,destination:y,newPageBorderBoxCenter:b,viewport:c.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?x:null}const u=e[a.axis.line]<=n.page.borderBox.center[a.axis.line],h=(()=>{const x=n.descriptor.index;return n.descriptor.id===s.descriptor.id||u?x:x+1})(),p=za(a.axis,s.displaceBy);return Tc({draggable:s,insideDestination:r,destination:a,viewport:c,displacedBy:p,last:Sa,index:h})},v3=({isMovingForward:e,previousPageBorderBoxCenter:n,draggable:r,isOver:s,draggables:o,droppables:a,viewport:c,afterCritical:d})=>{const u=p3({isMovingForward:e,pageBorderBoxCenter:n,source:s,droppables:a,viewport:c});if(!u)return null;const h=_i(u.descriptor.id,o),p=m3({pageBorderBoxCenter:n,viewport:c,destination:u,insideDestination:h,afterCritical:d}),x=y3({previousPageBorderBoxCenter:n,destination:u,draggable:r,draggables:o,moveRelativeTo:p,insideDestination:h,viewport:c,afterCritical:d});if(!x)return null;const b=id({impact:x,draggable:r,droppable:u,draggables:o,afterCritical:d});return{clientSelection:$p({pageBorderBoxCenter:b,draggable:r,viewport:c}),impact:x,scrollJumpRequest:null}},Rr=e=>{const n=e.at;return n?n.type==="REORDER"?n.destination.droppableId:n.combine.droppableId:null};const j3=(e,n)=>{const r=Rr(e);return r?n[r]:null};var w3=({state:e,type:n})=>{const r=j3(e.impact,e.dimensions.droppables),s=!!r,o=e.dimensions.droppables[e.critical.droppable.id],a=r||o,c=a.axis.direction,d=c==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||c==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(d&&!s)return null;const u=n==="MOVE_DOWN"||n==="MOVE_RIGHT",h=e.dimensions.draggables[e.critical.draggable.id],p=e.current.page.borderBoxCenter,{draggables:x,droppables:b}=e.dimensions;return d?f3({isMovingForward:u,previousPageBorderBoxCenter:p,draggable:h,destination:a,draggables:x,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):v3({isMovingForward:u,previousPageBorderBoxCenter:p,draggable:h,isOver:a,draggables:x,droppables:b,viewport:e.viewport,afterCritical:e.afterCritical})};function Ao(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function nj(e){const n=Gr(e.top,e.bottom),r=Gr(e.left,e.right);return function(o){return n(o.y)&&r(o.x)}}function S3(e,n){return e.left<n.right&&e.right>n.left&&e.top<n.bottom&&e.bottom>n.top}function C3({pageBorderBox:e,draggable:n,candidates:r}){const s=n.page.borderBox.center,o=r.map(a=>{const c=a.axis,d=No(a.axis.line,e.center[c.line],a.page.borderBox.center[c.crossAxisLine]);return{id:a.descriptor.id,distance:wa(s,d)}}).sort((a,c)=>c.distance-a.distance);return o[0]?o[0].id:null}function P3({pageBorderBox:e,draggable:n,droppables:r}){const s=rd(r).filter(o=>{if(!o.isEnabled)return!1;const a=o.subject.active;if(!a||!S3(e,a))return!1;if(nj(a)(e.center))return!0;const c=o.axis,d=a.center[c.crossAxisLine],u=e[c.crossAxisStart],h=e[c.crossAxisEnd],p=Gr(a[c.crossAxisStart],a[c.crossAxisEnd]),x=p(u),b=p(h);return!x&&!b?!0:x?u<d:h>d});return s.length?s.length===1?s[0].descriptor.id:C3({pageBorderBox:e,draggable:n,candidates:s}):null}const rj=(e,n)=>is(Ua(e,n));var D3=(e,n)=>{const r=e.frame;return r?rj(n,r.scroll.diff.value):n};function sj({displaced:e,id:n}){return!!(e.visible[n]||e.invisible[n])}function T3({draggable:e,closest:n,inHomeList:r}){return n?r&&n.descriptor.index>e.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var I3=({pageBorderBoxWithDroppableScroll:e,draggable:n,destination:r,insideDestination:s,last:o,viewport:a,afterCritical:c})=>{const d=r.axis,u=za(r.axis,n.displaceBy),h=u.value,p=e[d.start],x=e[d.end],y=od(n,s).find(w=>{const j=w.descriptor.id,D=w.page.borderBox.center[d.line],C=oo(j,c),R=sj({displaced:o,id:j});return C?R?x<=D:p<D-h:R?x<=D+h:p<D})||null,m=T3({draggable:n,closest:y,inHomeList:Oi(n,r)});return Tc({draggable:n,insideDestination:s,destination:r,viewport:a,last:o,displacedBy:u,index:m})};const E3=4;var A3=({draggable:e,pageBorderBoxWithDroppableScroll:n,previousImpact:r,destination:s,insideDestination:o,afterCritical:a})=>{if(!s.isCombineEnabled)return null;const c=s.axis,d=za(s.axis,e.displaceBy),u=d.value,h=n[c.start],p=n[c.end],b=od(e,o).find(m=>{const w=m.descriptor.id,j=m.page.borderBox,C=j[c.size]/E3,R=oo(w,a),E=sj({displaced:r.displaced,id:w});return R?E?p>j[c.start]+C&&p<j[c.end]-C:h>j[c.start]-u+C&&h<j[c.end]-u-C:E?p>j[c.start]+u+C&&p<j[c.end]+u-C:h>j[c.start]+C&&h<j[c.end]-C});return b?{displacedBy:d,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:b.descriptor.id,droppableId:s.descriptor.id}}}:null},oj=({pageOffset:e,draggable:n,draggables:r,droppables:s,previousImpact:o,viewport:a,afterCritical:c})=>{const d=rj(n.page.borderBox,e),u=P3({pageBorderBox:d,draggable:n,droppables:s});if(!u)return zF;const h=s[u],p=_i(h.descriptor.id,r),x=D3(h,d);return A3({pageBorderBoxWithDroppableScroll:x,draggable:n,previousImpact:o,destination:h,insideDestination:p,afterCritical:c})||I3({pageBorderBoxWithDroppableScroll:x,draggable:n,destination:h,insideDestination:p,last:o.displaced,viewport:a,afterCritical:c})},Fp=(e,n)=>({...e,[n.descriptor.id]:n});const R3=({previousImpact:e,impact:n,droppables:r})=>{const s=Rr(e),o=Rr(n);if(!s||s===o)return r;const a=r[s];if(!a.subject.withPlaceholder)return r;const c=b3(a);return Fp(r,c)};var _3=({draggable:e,draggables:n,droppables:r,previousImpact:s,impact:o})=>{const a=R3({previousImpact:s,impact:o,droppables:r}),c=Rr(o);if(!c)return a;const d=r[c];if(Oi(e,d)||d.subject.withPlaceholder)return a;const u=tj(d,e,n);return Fp(a,u)},pa=({state:e,clientSelection:n,dimensions:r,viewport:s,impact:o,scrollJumpRequest:a})=>{const c=s||e.viewport,d=r||e.dimensions,u=n||e.current.client.selection,h=Ar(u,e.initial.client.selection),p={offset:h,selection:u,borderBoxCenter:Hn(e.initial.client.borderBoxCenter,h)},x={selection:Hn(p.selection,c.scroll.current),borderBoxCenter:Hn(p.borderBoxCenter,c.scroll.current),offset:Hn(p.offset,c.scroll.diff.value)},b={client:p,page:x};if(e.phase==="COLLECTING")return{...e,dimensions:d,viewport:c,current:b};const y=d.draggables[e.critical.draggable.id],m=o||oj({pageOffset:x.offset,draggable:y,draggables:d.draggables,droppables:d.droppables,previousImpact:e.impact,viewport:c,afterCritical:e.afterCritical}),w=_3({draggable:y,impact:m,previousImpact:e.impact,draggables:d.draggables,droppables:d.droppables});return{...e,current:b,dimensions:{draggables:d.draggables,droppables:w},impact:m,viewport:c,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function O3(e,n){return e.map(r=>n[r])}var ij=({impact:e,viewport:n,draggables:r,destination:s,forceShouldAnimate:o})=>{const a=e.displaced,c=O3(a.all,r),d=Ca({afterDragging:c,destination:s,displacedBy:e.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:a});return{...e,displaced:d}},aj=({impact:e,draggable:n,droppable:r,draggables:s,viewport:o,afterCritical:a})=>{const c=id({impact:e,draggable:n,draggables:s,droppable:r,afterCritical:a});return $p({pageBorderBoxCenter:c,draggable:n,viewport:o})},lj=({state:e,dimensions:n,viewport:r})=>{e.movementMode!=="SNAP"&&Oe();const s=e.impact,o=r||e.viewport,a=n||e.dimensions,{draggables:c,droppables:d}=a,u=c[e.critical.draggable.id],h=Rr(s);h||Oe();const p=d[h],x=ij({impact:s,viewport:o,destination:p,draggables:c}),b=aj({impact:x,draggable:u,droppable:p,draggables:c,viewport:o,afterCritical:e.afterCritical});return pa({impact:x,clientSelection:b,state:e,dimensions:a,viewport:o})},M3=e=>({index:e.index,droppableId:e.droppableId}),cj=({draggable:e,home:n,draggables:r,viewport:s})=>{const o=za(n.axis,e.displaceBy),a=_i(n.descriptor.id,r),c=a.indexOf(e);c===-1&&Oe();const d=a.slice(c+1),u=d.reduce((b,y)=>(b[y.descriptor.id]=!0,b),{}),h={inVirtualList:n.descriptor.mode==="virtual",displacedBy:o,effected:u};return{impact:{displaced:Ca({afterDragging:d,destination:n,displacedBy:o,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:M3(e.descriptor)}},afterCritical:h}},k3=(e,n)=>({draggables:e.draggables,droppables:Fp(e.droppables,n)}),N3=({draggable:e,offset:n,initialWindowScroll:r})=>{const s=Sc(e.client,n),o=Cc(s,r);return{...e,placeholder:{...e.placeholder,client:s},client:s,page:o}},L3=e=>{const n=e.frame;return n||Oe(),n},$3=({additions:e,updatedDroppables:n,viewport:r})=>{const s=r.scroll.diff.value;return e.map(o=>{const a=o.descriptor.droppableId,c=n[a],u=L3(c).scroll.diff.value,h=Hn(s,u);return N3({draggable:o,offset:h,initialWindowScroll:r.scroll.initial})})},F3=({state:e,published:n})=>{const r=n.modified.map(D=>{const C=e.dimensions.droppables[D.droppableId];return Op(C,D.scroll)}),s={...e.dimensions.droppables,...H0(r)},o=Y0($3({additions:n.additions,updatedDroppables:s,viewport:e.viewport})),a={...e.dimensions.draggables,...o};n.removals.forEach(D=>{delete a[D]});const c={droppables:s,draggables:a},d=Rr(e.impact),u=d?c.droppables[d]:null,h=c.draggables[e.critical.draggable.id],p=c.droppables[e.critical.droppable.id],{impact:x,afterCritical:b}=cj({draggable:h,home:p,draggables:a,viewport:e.viewport}),y=u&&u.isCombineEnabled?e.impact:x,m=oj({pageOffset:e.current.page.offset,draggable:c.draggables[e.critical.draggable.id],draggables:c.draggables,droppables:c.droppables,previousImpact:y,viewport:e.viewport,afterCritical:b}),w={...e,phase:"DRAGGING",impact:m,onLiftImpact:x,dimensions:c,afterCritical:b,forceShouldAnimate:!1};return e.phase==="COLLECTING"?w:{...w,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const Ih=e=>e.movementMode==="SNAP",Ju=(e,n,r)=>{const s=k3(e.dimensions,n);return!Ih(e)||r?pa({state:e,dimensions:s}):lj({state:e,dimensions:s})};function Qu(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const Yb={phase:"IDLE",completed:null,shouldFlush:!1};var W3=(e=Yb,n)=>{if(n.type==="FLUSH")return{...Yb,shouldFlush:!0};if(n.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Oe();const{critical:r,clientSelection:s,viewport:o,dimensions:a,movementMode:c}=n.payload,d=a.draggables[r.draggable.id],u=a.droppables[r.droppable.id],h={selection:s,borderBoxCenter:d.client.borderBox.center,offset:Fn},p={client:h,page:{selection:Hn(h.selection,o.scroll.initial),borderBoxCenter:Hn(h.selection,o.scroll.initial),offset:Hn(h.selection,o.scroll.diff.value)}},x=rd(a.droppables).every(w=>!w.isFixedOnPage),{impact:b,afterCritical:y}=cj({draggable:d,home:u,draggables:a.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:c,dimensions:a,initial:p,current:p,isWindowScrollAllowed:x,impact:b,afterCritical:y,onLiftImpact:b,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if(n.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Oe(),{...e,phase:"COLLECTING"});if(n.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Oe(),F3({state:e,published:n.payload});if(n.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Ao(e)||Oe();const{client:r}=n.payload;return ro(r,e.current.client.selection)?e:pa({state:e,clientSelection:r,impact:Ih(e)?e.impact:null})}if(n.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Qu(e);Ao(e)||Oe();const{id:r,newScroll:s}=n.payload,o=e.dimensions.droppables[r];if(!o)return e;const a=Op(o,s);return Ju(e,a,!1)}if(n.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ao(e)||Oe();const{id:r,isEnabled:s}=n.payload,o=e.dimensions.droppables[r];o||Oe(),o.isEnabled===s&&Oe();const a={...o,isEnabled:s};return Ju(e,a,!0)}if(n.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ao(e)||Oe();const{id:r,isCombineEnabled:s}=n.payload,o=e.dimensions.droppables[r];o||Oe(),o.isCombineEnabled===s&&Oe();const a={...o,isCombineEnabled:s};return Ju(e,a,!0)}if(n.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Ao(e)||Oe(),e.isWindowScrollAllowed||Oe();const r=n.payload.newScroll;if(ro(e.viewport.scroll.current,r))return Qu(e);const s=Q0(e.viewport,r);return Ih(e)?lj({state:e,viewport:s}):pa({state:e,viewport:s})}if(n.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Ao(e))return e;const r=n.payload.maxScroll;if(ro(r,e.viewport.scroll.max))return e;const s={...e.viewport,scroll:{...e.viewport.scroll,max:r}};return{...e,viewport:s}}if(n.type==="MOVE_UP"||n.type==="MOVE_DOWN"||n.type==="MOVE_LEFT"||n.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Oe();const r=w3({state:e,type:n.type});return r?pa({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if(n.type==="DROP_PENDING"){const r=n.payload.reason;return e.phase!=="COLLECTING"&&Oe(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(n.type==="DROP_ANIMATE"){const{completed:r,dropDuration:s,newHomeClientOffset:o}=n.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Oe(),{phase:"DROP_ANIMATING",completed:r,dropDuration:s,newHomeClientOffset:o,dimensions:e.dimensions}}if(n.type==="DROP_COMPLETE"){const{completed:r}=n.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return e};function Wt(e,n){return e instanceof Object&&"type"in e&&e.type===n}const B3=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),V3=e=>({type:"LIFT",payload:e}),U3=e=>({type:"INITIAL_PUBLISH",payload:e}),z3=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),H3=()=>({type:"COLLECTION_STARTING",payload:null}),Y3=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),G3=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),q3=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),dj=e=>({type:"MOVE",payload:e}),K3=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),X3=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),J3=()=>({type:"MOVE_UP",payload:null}),Q3=()=>({type:"MOVE_DOWN",payload:null}),Z3=()=>({type:"MOVE_RIGHT",payload:null}),e4=()=>({type:"MOVE_LEFT",payload:null}),Wp=()=>({type:"FLUSH",payload:null}),t4=e=>({type:"DROP_ANIMATE",payload:e}),Bp=e=>({type:"DROP_COMPLETE",payload:e}),uj=e=>({type:"DROP",payload:e}),n4=e=>({type:"DROP_PENDING",payload:e}),hj=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var r4=e=>({getState:n,dispatch:r})=>s=>o=>{if(!Wt(o,"LIFT")){s(o);return}const{id:a,clientSelection:c,movementMode:d}=o.payload,u=n();u.phase==="DROP_ANIMATING"&&r(Bp({completed:u.completed})),n().phase!=="IDLE"&&Oe(),r(Wp()),r(B3({draggableId:a,movementMode:d}));const p={draggableId:a,scrollOptions:{shouldPublishImmediately:d==="SNAP"}},{critical:x,dimensions:b,viewport:y}=e.startPublishing(p);r(U3({critical:x,dimensions:b,clientSelection:c,movementMode:d,viewport:y}))},s4=e=>()=>n=>r=>{Wt(r,"INITIAL_PUBLISH")&&e.dragging(),Wt(r,"DROP_ANIMATE")&&e.dropping(r.payload.completed.result.reason),(Wt(r,"FLUSH")||Wt(r,"DROP_COMPLETE"))&&e.resting(),n(r)};const Vp={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Pa={opacity:{drop:0,combining:.7},scale:{drop:.75}},fj={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Do=`${fj.outOfTheWay}s ${Vp.outOfTheWay}`,xa={fluid:`opacity ${Do}`,snap:`transform ${Do}, opacity ${Do}`,drop:e=>{const n=`${e}s ${Vp.drop}`;return`transform ${n}, opacity ${n}`},outOfTheWay:`transform ${Do}`,placeholder:`height ${Do}, width ${Do}, margin ${Do}`},Gb=e=>ro(e,Fn)?void 0:`translate(${e.x}px, ${e.y}px)`,Eh={moveTo:Gb,drop:(e,n)=>{const r=Gb(e);if(r)return n?`${r} scale(${Pa.scale.drop})`:r}},{minDropTime:Ah,maxDropTime:pj}=fj,o4=pj-Ah,qb=1500,i4=.6;var a4=({current:e,destination:n,reason:r})=>{const s=wa(e,n);if(s<=0)return Ah;if(s>=qb)return pj;const o=s/qb,a=Ah+o4*o,c=r==="CANCEL"?a*i4:a;return Number(c.toFixed(2))},l4=({impact:e,draggable:n,dimensions:r,viewport:s,afterCritical:o})=>{const{draggables:a,droppables:c}=r,d=Rr(e),u=d?c[d]:null,h=c[n.descriptor.droppableId],p=aj({impact:e,draggable:n,draggables:a,afterCritical:o,droppable:u||h,viewport:s});return Ar(p,n.client.borderBox.center)},c4=({draggables:e,reason:n,lastImpact:r,home:s,viewport:o,onLiftImpact:a})=>!r.at||n!=="DROP"?{impact:ij({draggables:e,impact:a,destination:s,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:Sa},didDropInsideDroppable:!0};const d4=({getState:e,dispatch:n})=>r=>s=>{if(!Wt(s,"DROP")){r(s);return}const o=e(),a=s.payload.reason;if(o.phase==="COLLECTING"){n(n4({reason:a}));return}if(o.phase==="IDLE")return;o.phase==="DROP_PENDING"&&o.isWaiting&&Oe(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||Oe();const d=o.critical,u=o.dimensions,h=u.draggables[o.critical.draggable.id],{impact:p,didDropInsideDroppable:x}=c4({reason:a,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),b=x?Mp(p):null,y=x?sd(p):null,m={index:d.draggable.index,droppableId:d.droppable.id},w={draggableId:h.descriptor.id,type:h.descriptor.type,source:m,reason:a,mode:o.movementMode,destination:b,combine:y},j=l4({impact:p,draggable:h,dimensions:u,viewport:o.viewport,afterCritical:o.afterCritical}),D={critical:o.critical,afterCritical:o.afterCritical,result:w,impact:p};if(!(!ro(o.current.client.offset,j)||!!w.combine)){n(Bp({completed:D}));return}const R=a4({current:o.current.client.offset,destination:j,reason:a});n(t4({newHomeClientOffset:j,dropDuration:R,completed:D}))};var xj=()=>({x:window.pageXOffset,y:window.pageYOffset});function u4(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:n=>{n.target!==window&&n.target!==window.document||e()}}}function h4({onWindowScroll:e}){function n(){e(xj())}const r=ja(n),s=u4(r);let o=no;function a(){return o!==no}function c(){a()&&Oe(),o=Hr(window,[s])}function d(){a()||Oe(),r.cancel(),o(),o=no}return{start:c,stop:d,isActive:a}}const f4=e=>Wt(e,"DROP_COMPLETE")||Wt(e,"DROP_ANIMATE")||Wt(e,"FLUSH"),p4=e=>{const n=h4({onWindowScroll:r=>{e.dispatch(K3({newScroll:r}))}});return r=>s=>{!n.isActive()&&Wt(s,"INITIAL_PUBLISH")&&n.start(),n.isActive()&&f4(s)&&n.stop(),r(s)}};var x4=e=>{let n=!1,r=!1;const s=setTimeout(()=>{r=!0}),o=a=>{n||r||(n=!0,e(a),clearTimeout(s))};return o.wasCalled=()=>n,o},m4=()=>{const e=[],n=o=>{const a=e.findIndex(d=>d.timerId===o);a===-1&&Oe();const[c]=e.splice(a,1);c.callback()};return{add:o=>{const a=setTimeout(()=>n(a)),c={timerId:a,callback:o};e.push(c)},flush:()=>{if(!e.length)return;const o=[...e];e.length=0,o.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const g4=(e,n)=>e==null&&n==null?!0:e==null||n==null?!1:e.droppableId===n.droppableId&&e.index===n.index,b4=(e,n)=>e==null&&n==null?!0:e==null||n==null?!1:e.draggableId===n.draggableId&&e.droppableId===n.droppableId,y4=(e,n)=>{if(e===n)return!0;const r=e.draggable.id===n.draggable.id&&e.draggable.droppableId===n.draggable.droppableId&&e.draggable.type===n.draggable.type&&e.draggable.index===n.draggable.index,s=e.droppable.id===n.droppable.id&&e.droppable.type===n.droppable.type;return r&&s},na=(e,n)=>{n()},Fl=(e,n)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:n});function Zu(e,n,r,s){if(!e){r(s(n));return}const o=x4(r);e(n,{announce:o}),o.wasCalled()||r(s(n))}var v4=(e,n)=>{const r=m4();let s=null;const o=(x,b)=>{s&&Oe(),na("onBeforeCapture",()=>{const y=e().onBeforeCapture;y&&y({draggableId:x,mode:b})})},a=(x,b)=>{s&&Oe(),na("onBeforeDragStart",()=>{const y=e().onBeforeDragStart;y&&y(Fl(x,b))})},c=(x,b)=>{s&&Oe();const y=Fl(x,b);s={mode:b,lastCritical:x,lastLocation:y.source,lastCombine:null},r.add(()=>{na("onDragStart",()=>Zu(e().onDragStart,y,n,Gl.onDragStart))})},d=(x,b)=>{const y=Mp(b),m=sd(b);s||Oe();const w=!y4(x,s.lastCritical);w&&(s.lastCritical=x);const j=!g4(s.lastLocation,y);j&&(s.lastLocation=y);const D=!b4(s.lastCombine,m);if(D&&(s.lastCombine=m),!w&&!j&&!D)return;const C={...Fl(x,s.mode),combine:m,destination:y};r.add(()=>{na("onDragUpdate",()=>Zu(e().onDragUpdate,C,n,Gl.onDragUpdate))})},u=()=>{s||Oe(),r.flush()},h=x=>{s||Oe(),s=null,na("onDragEnd",()=>Zu(e().onDragEnd,x,n,Gl.onDragEnd))};return{beforeCapture:o,beforeStart:a,start:c,update:d,flush:u,drop:h,abort:()=>{if(!s)return;const x={...Fl(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};h(x)}}},j4=(e,n)=>{const r=v4(e,n);return s=>o=>a=>{if(Wt(a,"BEFORE_INITIAL_CAPTURE")){r.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Wt(a,"INITIAL_PUBLISH")){const d=a.payload.critical;r.beforeStart(d,a.payload.movementMode),o(a),r.start(d,a.payload.movementMode);return}if(Wt(a,"DROP_COMPLETE")){const d=a.payload.completed.result;r.flush(),o(a),r.drop(d);return}if(o(a),Wt(a,"FLUSH")){r.abort();return}const c=s.getState();c.phase==="DRAGGING"&&r.update(c.critical,c.impact)}};const w4=e=>n=>r=>{if(!Wt(r,"DROP_ANIMATION_FINISHED")){n(r);return}const s=e.getState();s.phase!=="DROP_ANIMATING"&&Oe(),e.dispatch(Bp({completed:s.completed}))},S4=e=>{let n=null,r=null;function s(){r&&(cancelAnimationFrame(r),r=null),n&&(n(),n=null)}return o=>a=>{if((Wt(a,"FLUSH")||Wt(a,"DROP_COMPLETE")||Wt(a,"DROP_ANIMATION_FINISHED"))&&s(),o(a),!Wt(a,"DROP_ANIMATE"))return;const c={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(hj())}};r=requestAnimationFrame(()=>{r=null,n=Hr(window,[c])})}};var C4=e=>()=>n=>r=>{(Wt(r,"DROP_COMPLETE")||Wt(r,"FLUSH")||Wt(r,"DROP_ANIMATE"))&&e.stopPublishing(),n(r)},P4=e=>{let n=!1;return()=>r=>s=>{if(Wt(s,"INITIAL_PUBLISH")){n=!0,e.tryRecordFocus(s.payload.critical.draggable.id),r(s),e.tryRestoreFocusRecorded();return}if(r(s),!!n){if(Wt(s,"FLUSH")){n=!1,e.tryRestoreFocusRecorded();return}if(Wt(s,"DROP_COMPLETE")){n=!1;const o=s.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const D4=e=>Wt(e,"DROP_COMPLETE")||Wt(e,"DROP_ANIMATE")||Wt(e,"FLUSH");var T4=e=>n=>r=>s=>{if(D4(s)){e.stop(),r(s);return}if(Wt(s,"INITIAL_PUBLISH")){r(s);const o=n.getState();o.phase!=="DRAGGING"&&Oe(),e.start(o);return}r(s),e.scroll(n.getState())};const I4=e=>n=>r=>{if(n(r),!Wt(r,"PUBLISH_WHILE_DRAGGING"))return;const s=e.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||e.dispatch(uj({reason:s.reason})))},E4=R0;var A4=({dimensionMarshal:e,focusMarshal:n,styleMarshal:r,getResponders:s,announce:o,autoScroller:a})=>A0(W3,E4(w$(s4(r),C4(e),r4(e),d4,w4,S4,I4,T4(a),p4,P4(n),j4(s,o))));const eh=()=>({additions:{},removals:{},modified:{}});function R4({registry:e,callbacks:n}){let r=eh(),s=null;const o=()=>{s||(n.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:u,removals:h,modified:p}=r,x=Object.keys(u).map(m=>e.draggable.getById(m).getDimension(Fn)).sort((m,w)=>m.descriptor.index-w.descriptor.index),b=Object.keys(p).map(m=>{const j=e.droppable.getById(m).callbacks.getScrollWhileDragging();return{droppableId:m,scroll:j}}),y={additions:x,removals:Object.keys(h),modified:b};r=eh(),n.publish(y)}))};return{add:u=>{const h=u.descriptor.id;r.additions[h]=u,r.modified[u.descriptor.droppableId]=!0,r.removals[h]&&delete r.removals[h],o()},remove:u=>{const h=u.descriptor;r.removals[h.id]=!0,r.modified[h.droppableId]=!0,r.additions[h.id]&&delete r.additions[h.id],o()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,r=eh())}}}var mj=({scrollHeight:e,scrollWidth:n,height:r,width:s})=>{const o=Ar({x:n,y:e},{x:s,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},gj=()=>{const e=document.documentElement;return e||Oe(),e},bj=()=>{const e=gj();return mj({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},_4=()=>{const e=xj(),n=bj(),r=e.y,s=e.x,o=gj(),a=o.clientWidth,c=o.clientHeight,d=s+a,u=r+c;return{frame:is({top:r,left:s,right:d,bottom:u}),scroll:{initial:e,current:e,max:n,diff:{value:Fn,displacement:Fn}}}},O4=({critical:e,scrollOptions:n,registry:r})=>{const s=_4(),o=s.scroll.current,a=e.droppable,c=r.droppable.getAllByType(a.type).map(p=>p.callbacks.getDimensionAndWatchScroll(o,n)),d=r.draggable.getAllByType(e.draggable.type).map(p=>p.getDimension(o));return{dimensions:{draggables:Y0(d),droppables:H0(c)},critical:e,viewport:s}};function Kb(e,n,r){return!(r.descriptor.id===n.id||r.descriptor.type!==n.type||e.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var M4=(e,n)=>{let r=null;const s=R4({callbacks:{publish:n.publishWhileDragging,collectionStarting:n.collectionStarting},registry:e}),o=(b,y)=>{e.droppable.exists(b)||Oe(),r&&n.updateDroppableIsEnabled({id:b,isEnabled:y})},a=(b,y)=>{r&&(e.droppable.exists(b)||Oe(),n.updateDroppableIsCombineEnabled({id:b,isCombineEnabled:y}))},c=(b,y)=>{r&&(e.droppable.exists(b)||Oe(),n.updateDroppableScroll({id:b,newScroll:y}))},d=(b,y)=>{r&&e.droppable.getById(b).callbacks.scroll(y)},u=()=>{if(!r)return;s.stop();const b=r.critical.droppable;e.droppable.getAllByType(b.type).forEach(y=>y.callbacks.dragStopped()),r.unsubscribe(),r=null},h=b=>{r||Oe();const y=r.critical.draggable;b.type==="ADDITION"&&Kb(e,y,b.value)&&s.add(b.value),b.type==="REMOVAL"&&Kb(e,y,b.value)&&s.remove(b.value)};return{updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:a,scrollDroppable:d,updateDroppableScroll:c,startPublishing:b=>{r&&Oe();const y=e.draggable.getById(b.draggableId),m=e.droppable.getById(y.descriptor.droppableId),w={draggable:y.descriptor,droppable:m.descriptor},j=e.subscribe(h);return r={critical:w,unsubscribe:j},O4({critical:w,registry:e,scrollOptions:b.scrollOptions})},stopPublishing:u}},yj=(e,n)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===n?!1:e.completed.result.reason==="DROP",k4=e=>{window.scrollBy(e.x,e.y)};const N4=$n(e=>rd(e).filter(n=>!(!n.isEnabled||!n.frame))),L4=(e,n)=>N4(n).find(s=>(s.frame||Oe(),nj(s.frame.pageMarginBox)(e)))||null;var $4=({center:e,destination:n,droppables:r})=>{if(n){const o=r[n];return o.frame?o:null}return L4(e,r)};const Da={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var F4=(e,n,r=()=>Da)=>{const s=r(),o=e[n.size]*s.startFromPercentage,a=e[n.size]*s.maxScrollAtPercentage;return{startScrollingFrom:o,maxScrollValueAt:a}},vj=({startOfRange:e,endOfRange:n,current:r})=>{const s=n-e;return s===0?0:(r-e)/s},Up=1,W4=(e,n,r=()=>Da)=>{const s=r();if(e>n.startScrollingFrom)return 0;if(e<=n.maxScrollValueAt)return s.maxPixelScroll;if(e===n.startScrollingFrom)return Up;const a=1-vj({startOfRange:n.maxScrollValueAt,endOfRange:n.startScrollingFrom,current:e}),c=s.maxPixelScroll*s.ease(a);return Math.ceil(c)},B4=(e,n,r)=>{const s=r(),o=s.durationDampening.accelerateAt,a=s.durationDampening.stopDampeningAt,c=n,d=a,h=Date.now()-c;if(h>=a)return e;if(h<o)return Up;const p=vj({startOfRange:o,endOfRange:d,current:h}),x=e*s.ease(p);return Math.ceil(x)},Xb=({distanceToEdge:e,thresholds:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const a=W4(e,n,o);return a===0?0:s?Math.max(B4(a,r,o),Up):a},Jb=({container:e,distanceToEdges:n,dragStartTime:r,axis:s,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const c=F4(e,s,a);return n[s.end]<n[s.start]?Xb({distanceToEdge:n[s.end],thresholds:c,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a}):-1*Xb({distanceToEdge:n[s.start],thresholds:c,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a})},V4=({container:e,subject:n,proposedScroll:r})=>{const s=n.height>e.height,o=n.width>e.width;return!o&&!s?r:o&&s?null:{x:o?0:r.x,y:s?0:r.y}};const U4=z0(e=>e===0?0:e);var jj=({dragStartTime:e,container:n,subject:r,center:s,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const c={top:s.y-n.top,right:n.right-s.x,bottom:n.bottom-s.y,left:s.x-n.left},d=Jb({container:n,distanceToEdges:c,dragStartTime:e,axis:kp,shouldUseTimeDampening:o,getAutoScrollerOptions:a}),u=Jb({container:n,distanceToEdges:c,dragStartTime:e,axis:K0,shouldUseTimeDampening:o,getAutoScrollerOptions:a}),h=U4({x:u,y:d});if(ro(h,Fn))return null;const p=V4({container:n,subject:r,proposedScroll:h});return p?ro(p,Fn)?null:p:null};const z4=z0(e=>e===0?0:e>0?1:-1),zp=(()=>{const e=(n,r)=>n<0?n:n>r?n-r:0;return({current:n,max:r,change:s})=>{const o=Hn(n,s),a={x:e(o.x,r.x),y:e(o.y,r.y)};return ro(a,Fn)?null:a}})(),wj=({max:e,current:n,change:r})=>{const s={x:Math.max(n.x,e.x),y:Math.max(n.y,e.y)},o=z4(r),a=zp({max:s,current:n,change:o});return!a||o.x!==0&&a.x===0||o.y!==0&&a.y===0},Hp=(e,n)=>wj({current:e.scroll.current,max:e.scroll.max,change:n}),H4=(e,n)=>{if(!Hp(e,n))return null;const r=e.scroll.max,s=e.scroll.current;return zp({current:s,max:r,change:n})},Yp=(e,n)=>{const r=e.frame;return r?wj({current:r.scroll.current,max:r.scroll.max,change:n}):!1},Y4=(e,n)=>{const r=e.frame;return!r||!Yp(e,n)?null:zp({current:r.scroll.current,max:r.scroll.max,change:n})};var G4=({viewport:e,subject:n,center:r,dragStartTime:s,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const c=jj({dragStartTime:s,container:e.frame,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a});return c&&Hp(e,c)?c:null},q4=({droppable:e,subject:n,center:r,dragStartTime:s,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const c=e.frame;if(!c)return null;const d=jj({dragStartTime:s,container:c.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a});return d&&Yp(e,d)?d:null},Qb=({state:e,dragStartTime:n,shouldUseTimeDampening:r,scrollWindow:s,scrollDroppable:o,getAutoScrollerOptions:a})=>{const c=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const x=e.viewport,b=G4({dragStartTime:n,viewport:x,subject:u,center:c,shouldUseTimeDampening:r,getAutoScrollerOptions:a});if(b){s(b);return}}const h=$4({center:c,destination:Rr(e.impact),droppables:e.dimensions.droppables});if(!h)return;const p=q4({dragStartTime:n,droppable:h,subject:u,center:c,shouldUseTimeDampening:r,getAutoScrollerOptions:a});p&&o(h.descriptor.id,p)},K4=({scrollWindow:e,scrollDroppable:n,getAutoScrollerOptions:r=()=>Da})=>{const s=ja(e),o=ja(n);let a=null;const c=h=>{a||Oe();const{shouldUseTimeDampening:p,dragStartTime:x}=a;Qb({state:h,scrollWindow:s,scrollDroppable:o,dragStartTime:x,shouldUseTimeDampening:p,getAutoScrollerOptions:r})};return{start:h=>{a&&Oe();const p=Date.now();let x=!1;const b=()=>{x=!0};Qb({state:h,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:b,scrollDroppable:b,getAutoScrollerOptions:r}),a={dragStartTime:p,shouldUseTimeDampening:x},x&&c(h)},stop:()=>{a&&(s.cancel(),o.cancel(),a=null)},scroll:c}},X4=({move:e,scrollDroppable:n,scrollWindow:r})=>{const s=(d,u)=>{const h=Hn(d.current.client.selection,u);e({client:h})},o=(d,u)=>{if(!Yp(d,u))return u;const h=Y4(d,u);if(!h)return n(d.descriptor.id,u),null;const p=Ar(u,h);return n(d.descriptor.id,p),Ar(u,p)},a=(d,u,h)=>{if(!d||!Hp(u,h))return h;const p=H4(u,h);if(!p)return r(h),null;const x=Ar(h,p);return r(x),Ar(h,x)};return d=>{const u=d.scrollJumpRequest;if(!u)return;const h=Rr(d.impact);h||Oe();const p=o(d.dimensions.droppables[h],u);if(!p)return;const x=d.viewport,b=a(d.isWindowScrollAllowed,x,p);b&&s(d,b)}},J4=({scrollDroppable:e,scrollWindow:n,move:r,getAutoScrollerOptions:s})=>{const o=K4({scrollWindow:n,scrollDroppable:e,getAutoScrollerOptions:s}),a=X4({move:r,scrollWindow:n,scrollDroppable:e});return{scroll:u=>{if(!(s().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){o.scroll(u);return}u.scrollJumpRequest&&a(u)}},start:o.start,stop:o.stop}};const Si="data-rfd",Ci=(()=>{const e=`${Si}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Rh=(()=>{const e=`${Si}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Q4=(()=>{const e=`${Si}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Zb={contextId:`${Si}-scroll-container-context-id`},Z4=e=>n=>`[${n}="${e}"]`,ra=(e,n)=>e.map(r=>{const s=r.styles[n];return s?`${r.selector} { ${s} }`:""}).join(" "),eW="pointer-events: none;";var tW=e=>{const n=Z4(e),r=(()=>{const d=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:n(Ci.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:d,dragging:eW,dropAnimating:d}}})(),s=(()=>{const d=`
      transition: ${xa.outOfTheWay};
    `;return{selector:n(Rh.contextId),styles:{dragging:d,dropAnimating:d,userCancel:d}}})(),o={selector:n(Q4.contextId),styles:{always:"overflow-anchor: none;"}},c=[s,r,o,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:ra(c,"always"),resting:ra(c,"resting"),dragging:ra(c,"dragging"),dropAnimating:ra(c,"dropAnimating"),userCancel:ra(c,"userCancel")}};const _r=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?g.useLayoutEffect:g.useEffect,th=()=>{const e=document.querySelector("head");return e||Oe(),e},ey=e=>{const n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.type="text/css",n};function nW(e,n){const r=Ot(()=>tW(e),[e]),s=g.useRef(null),o=g.useRef(null),a=Xe($n(x=>{const b=o.current;b||Oe(),b.textContent=x}),[]),c=Xe(x=>{const b=s.current;b||Oe(),b.textContent=x},[]);_r(()=>{!s.current&&!o.current||Oe();const x=ey(n),b=ey(n);return s.current=x,o.current=b,x.setAttribute(`${Si}-always`,e),b.setAttribute(`${Si}-dynamic`,e),th().appendChild(x),th().appendChild(b),c(r.always),a(r.resting),()=>{const y=m=>{const w=m.current;w||Oe(),th().removeChild(w),m.current=null};y(s),y(o)}},[n,c,a,r.always,r.resting,e]);const d=Xe(()=>a(r.dragging),[a,r.dragging]),u=Xe(x=>{if(x==="DROP"){a(r.dropAnimating);return}a(r.userCancel)},[a,r.dropAnimating,r.userCancel]),h=Xe(()=>{o.current&&a(r.resting)},[a,r.resting]);return Ot(()=>({dragging:d,dropping:u,resting:h}),[d,u,h])}function Sj(e,n){return Array.from(e.querySelectorAll(n))}var Cj=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function ad(e){return e instanceof Cj(e).HTMLElement}function rW(e,n){const r=`[${Ci.contextId}="${e}"]`,s=Sj(document,r);if(!s.length)return null;const o=s.find(a=>a.getAttribute(Ci.draggableId)===n);return!o||!ad(o)?null:o}function sW(e){const n=g.useRef({}),r=g.useRef(null),s=g.useRef(null),o=g.useRef(!1),a=Xe(function(b,y){const m={id:b,focus:y};return n.current[b]=m,function(){const j=n.current;j[b]!==m&&delete j[b]}},[]),c=Xe(function(b){const y=rW(e,b);y&&y!==document.activeElement&&y.focus()},[e]),d=Xe(function(b,y){r.current===b&&(r.current=y)},[]),u=Xe(function(){s.current||o.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const b=r.current;b&&c(b)}))},[c]),h=Xe(function(b){r.current=null;const y=document.activeElement;y&&y.getAttribute(Ci.draggableId)===b&&(r.current=b)},[]);return _r(()=>(o.current=!0,function(){o.current=!1;const b=s.current;b&&cancelAnimationFrame(b)}),[]),Ot(()=>({register:a,tryRecordFocus:h,tryRestoreFocusRecorded:u,tryShiftRecord:d}),[a,h,u,d])}function oW(){const e={draggables:{},droppables:{}},n=[];function r(x){return n.push(x),function(){const y=n.indexOf(x);y!==-1&&n.splice(y,1)}}function s(x){n.length&&n.forEach(b=>b(x))}function o(x){return e.draggables[x]||null}function a(x){const b=o(x);return b||Oe(),b}const c={register:x=>{e.draggables[x.descriptor.id]=x,s({type:"ADDITION",value:x})},update:(x,b)=>{const y=e.draggables[b.descriptor.id];y&&y.uniqueId===x.uniqueId&&(delete e.draggables[b.descriptor.id],e.draggables[x.descriptor.id]=x)},unregister:x=>{const b=x.descriptor.id,y=o(b);y&&x.uniqueId===y.uniqueId&&(delete e.draggables[b],e.droppables[x.descriptor.droppableId]&&s({type:"REMOVAL",value:x}))},getById:a,findById:o,exists:x=>!!o(x),getAllByType:x=>Object.values(e.draggables).filter(b=>b.descriptor.type===x)};function d(x){return e.droppables[x]||null}function u(x){const b=d(x);return b||Oe(),b}const h={register:x=>{e.droppables[x.descriptor.id]=x},unregister:x=>{const b=d(x.descriptor.id);b&&x.uniqueId===b.uniqueId&&delete e.droppables[x.descriptor.id]},getById:u,findById:d,exists:x=>!!d(x),getAllByType:x=>Object.values(e.droppables).filter(b=>b.descriptor.type===x)};function p(){e.draggables={},e.droppables={},n.length=0}return{draggable:c,droppable:h,subscribe:r,clean:p}}function iW(){const e=Ot(oW,[]);return g.useEffect(()=>function(){e.clean()},[e]),e}var Gp=Ft.createContext(null),Ic=()=>{const e=document.body;return e||Oe(),e};const aW={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},lW=e=>`rfd-announcement-${e}`;function cW(e){const n=Ot(()=>lW(e),[e]),r=g.useRef(null);return g.useEffect(function(){const a=document.createElement("div");return r.current=a,a.id=n,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),U(a.style,aW),Ic().appendChild(a),function(){setTimeout(function(){const u=Ic();u.contains(a)&&u.removeChild(a),a===r.current&&(r.current=null)})}},[n]),Xe(o=>{const a=r.current;if(a){a.textContent=o;return}},[])}const dW={separator:"::"};function qp(e,n=dW){const r=Ft.useId();return Ot(()=>`${e}${n.separator}${r}`,[n.separator,e,r])}function uW({contextId:e,uniqueId:n}){return`rfd-hidden-text-${e}-${n}`}function hW({contextId:e,text:n}){const r=qp("hidden-text",{separator:"-"}),s=Ot(()=>uW({contextId:e,uniqueId:r}),[r,e]);return g.useEffect(function(){const a=document.createElement("div");return a.id=s,a.textContent=n,a.style.display="none",Ic().appendChild(a),function(){const d=Ic();d.contains(a)&&d.removeChild(a)}},[s,n]),s}var ld=Ft.createContext(null);function Pj(e){const n=g.useRef(e);return g.useEffect(()=>{n.current=e}),n}function fW(){let e=null;function n(){return!!e}function r(c){return c===e}function s(c){e&&Oe();const d={abandon:c};return e=d,d}function o(){e||Oe(),e=null}function a(){e&&(e.abandon(),o())}return{isClaimed:n,isActive:r,claim:s,release:o,tryAbandon:a}}function Ta(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const pW=9,xW=13,Kp=27,Dj=32,mW=33,gW=34,bW=35,yW=36,vW=37,jW=38,wW=39,SW=40,CW={[xW]:!0,[pW]:!0};var Tj=e=>{CW[e.keyCode]&&e.preventDefault()};const cd=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(s=>`on${s}`in document)||e})(),Ij=0,ty=5;function PW(e,n){return Math.abs(n.x-e.x)>=ty||Math.abs(n.y-e.y)>=ty}const ny={type:"IDLE"};function DW({cancel:e,completed:n,getPhase:r,setPhase:s}){return[{eventName:"mousemove",fn:o=>{const{button:a,clientX:c,clientY:d}=o;if(a!==Ij)return;const u={x:c,y:d},h=r();if(h.type==="DRAGGING"){o.preventDefault(),h.actions.move(u);return}h.type!=="PENDING"&&Oe();const p=h.point;if(!PW(p,u))return;o.preventDefault();const x=h.actions.fluidLift(u);s({type:"DRAGGING",actions:x})}},{eventName:"mouseup",fn:o=>{const a=r();if(a.type!=="DRAGGING"){e();return}o.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:o=>{r().type==="DRAGGING"&&o.preventDefault(),e()}},{eventName:"keydown",fn:o=>{if(r().type==="PENDING"){e();return}if(o.keyCode===Kp){o.preventDefault(),e();return}Tj(o)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:o=>{const a=r();if(a.type==="IDLE"&&Oe(),a.actions.shouldRespectForcePress()){e();return}o.preventDefault()}},{eventName:cd,fn:e}]}function TW(e){const n=g.useRef(ny),r=g.useRef(no),s=Ot(()=>({eventName:"mousedown",fn:function(x){if(x.defaultPrevented||x.button!==Ij||x.ctrlKey||x.metaKey||x.shiftKey||x.altKey)return;const b=e.findClosestDraggableId(x);if(!b)return;const y=e.tryGetLock(b,c,{sourceEvent:x});if(!y)return;x.preventDefault();const m={x:x.clientX,y:x.clientY};r.current(),h(y,m)}}),[e]),o=Ot(()=>({eventName:"webkitmouseforcewillbegin",fn:p=>{if(p.defaultPrevented)return;const x=e.findClosestDraggableId(p);if(!x)return;const b=e.findOptionsForDraggable(x);b&&(b.shouldRespectForcePress||e.canGetLock(x)&&p.preventDefault())}}),[e]),a=Xe(function(){const x={passive:!1,capture:!0};r.current=Hr(window,[o,s],x)},[o,s]),c=Xe(()=>{n.current.type!=="IDLE"&&(n.current=ny,r.current(),a())},[a]),d=Xe(()=>{const p=n.current;c(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[c]),u=Xe(function(){const x={capture:!0,passive:!1},b=DW({cancel:d,completed:c,getPhase:()=>n.current,setPhase:y=>{n.current=y}});r.current=Hr(window,b,x)},[d,c]),h=Xe(function(x,b){n.current.type!=="IDLE"&&Oe(),n.current={type:"PENDING",point:b,actions:x},u()},[u]);_r(function(){return a(),function(){r.current()}},[a])}function IW(){}const EW={[gW]:!0,[mW]:!0,[yW]:!0,[bW]:!0};function AW(e,n){function r(){n(),e.cancel()}function s(){n(),e.drop()}return[{eventName:"keydown",fn:o=>{if(o.keyCode===Kp){o.preventDefault(),r();return}if(o.keyCode===Dj){o.preventDefault(),s();return}if(o.keyCode===SW){o.preventDefault(),e.moveDown();return}if(o.keyCode===jW){o.preventDefault(),e.moveUp();return}if(o.keyCode===wW){o.preventDefault(),e.moveRight();return}if(o.keyCode===vW){o.preventDefault(),e.moveLeft();return}if(EW[o.keyCode]){o.preventDefault();return}Tj(o)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:cd,fn:r}]}function RW(e){const n=g.useRef(IW),r=Ot(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==Dj)return;const c=e.findClosestDraggableId(a);if(!c)return;const d=e.tryGetLock(c,p,{sourceEvent:a});if(!d)return;a.preventDefault();let u=!0;const h=d.snapLift();n.current();function p(){u||Oe(),u=!1,n.current(),s()}n.current=Hr(window,AW(h,p),{capture:!0,passive:!1})}}),[e]),s=Xe(function(){const a={passive:!1,capture:!0};n.current=Hr(window,[r],a)},[r]);_r(function(){return s(),function(){n.current()}},[s])}const nh={type:"IDLE"},_W=120,OW=.15;function MW({cancel:e,getPhase:n}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.keyCode===Kp&&r.preventDefault(),e()}},{eventName:cd,fn:e}]}function kW({cancel:e,completed:n,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const o=r();if(o.type!=="DRAGGING"){e();return}o.hasMoved=!0;const{clientX:a,clientY:c}=s.touches[0],d={x:a,y:c};s.preventDefault(),o.actions.move(d)}},{eventName:"touchend",fn:s=>{const o=r();if(o.type!=="DRAGGING"){e();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:s=>{if(r().type!=="DRAGGING"){e();return}s.preventDefault(),e()}},{eventName:"touchforcechange",fn:s=>{const o=r();o.type==="IDLE"&&Oe();const a=s.touches[0];if(!a||!(a.force>=OW))return;const d=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){d&&e();return}if(d){if(o.hasMoved){s.preventDefault();return}e();return}s.preventDefault()}},{eventName:cd,fn:e}]}function NW(e){const n=g.useRef(nh),r=g.useRef(no),s=Xe(function(){return n.current},[]),o=Xe(function(y){n.current=y},[]),a=Ot(()=>({eventName:"touchstart",fn:function(y){if(y.defaultPrevented)return;const m=e.findClosestDraggableId(y);if(!m)return;const w=e.tryGetLock(m,d,{sourceEvent:y});if(!w)return;const j=y.touches[0],{clientX:D,clientY:C}=j,R={x:D,y:C};r.current(),x(w,R)}}),[e]),c=Xe(function(){const y={capture:!0,passive:!1};r.current=Hr(window,[a],y)},[a]),d=Xe(()=>{const b=n.current;b.type!=="IDLE"&&(b.type==="PENDING"&&clearTimeout(b.longPressTimerId),o(nh),r.current(),c())},[c,o]),u=Xe(()=>{const b=n.current;d(),b.type==="DRAGGING"&&b.actions.cancel({shouldBlockNextClick:!0}),b.type==="PENDING"&&b.actions.abort()},[d]),h=Xe(function(){const y={capture:!0,passive:!1},m={cancel:u,completed:d,getPhase:s},w=Hr(window,kW(m),y),j=Hr(window,MW(m),y);r.current=function(){w(),j()}},[u,s,d]),p=Xe(function(){const y=s();y.type!=="PENDING"&&Oe();const m=y.actions.fluidLift(y.point);o({type:"DRAGGING",actions:m,hasMoved:!1})},[s,o]),x=Xe(function(y,m){s().type!=="IDLE"&&Oe();const w=setTimeout(p,_W);o({type:"PENDING",point:m,actions:y,longPressTimerId:w}),h()},[h,s,o,p]);_r(function(){return c(),function(){r.current();const m=s();m.type==="PENDING"&&(clearTimeout(m.longPressTimerId),o(nh))}},[s,c,o]),_r(function(){return Hr(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const LW=["input","button","textarea","select","option","optgroup","video","audio"];function Ej(e,n){if(n==null)return!1;if(LW.includes(n.tagName.toLowerCase()))return!0;const s=n.getAttribute("contenteditable");return s==="true"||s===""?!0:n===e?!1:Ej(e,n.parentElement)}function $W(e,n){const r=n.target;return ad(r)?Ej(e,r):!1}var FW=e=>is(e.getBoundingClientRect()).center;function WW(e){return e instanceof Cj(e).Element}const BW=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||e})();function Aj(e,n){return e==null?null:e[BW](n)?e:Aj(e.parentElement,n)}function VW(e,n){return e.closest?e.closest(n):Aj(e,n)}function UW(e){return`[${Ci.contextId}="${e}"]`}function zW(e,n){const r=n.target;if(!WW(r))return null;const s=UW(e),o=VW(r,s);return!o||!ad(o)?null:o}function HW(e,n){const r=zW(e,n);return r?r.getAttribute(Ci.draggableId):null}function YW(e,n){const r=`[${Rh.contextId}="${e}"]`,o=Sj(document,r).find(a=>a.getAttribute(Rh.id)===n);return!o||!ad(o)?null:o}function GW(e){e.preventDefault()}function Wl({expected:e,phase:n,isLockActive:r,shouldWarn:s}){return!(!r()||e!==n)}function Rj({lockAPI:e,store:n,registry:r,draggableId:s}){if(e.isClaimed())return!1;const o=r.draggable.findById(s);return!(!o||!o.options.isEnabled||!yj(n.getState(),s))}function qW({lockAPI:e,contextId:n,store:r,registry:s,draggableId:o,forceSensorStop:a,sourceEvent:c}){if(!Rj({lockAPI:e,store:r,registry:s,draggableId:o}))return null;const u=s.draggable.getById(o),h=YW(n,u.descriptor.id);if(!h||c&&!u.options.canDragInteractiveElements&&$W(h,c))return null;const p=e.claim(a||no);let x="PRE_DRAG";function b(){return u.options.shouldRespectForcePress}function y(){return e.isActive(p)}function m(T,I){Wl({expected:T,phase:x,isLockActive:y,shouldWarn:!0})&&r.dispatch(I())}const w=m.bind(null,"DRAGGING");function j(T){function I(){e.release(),x="COMPLETED"}x!=="PRE_DRAG"&&(I(),Oe()),r.dispatch(V3(T.liftActionArgs)),x="DRAGGING";function N(O,$={shouldBlockNextClick:!1}){if(T.cleanup(),$.shouldBlockNextClick){const B=Hr(window,[{eventName:"click",fn:GW,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(B)}I(),r.dispatch(uj({reason:O}))}return{isActive:()=>Wl({expected:"DRAGGING",phase:x,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:b,drop:O=>N("DROP",O),cancel:O=>N("CANCEL",O),...T.actions}}function D(T){const I=ja(O=>{w(()=>dj({client:O}))});return{...j({liftActionArgs:{id:o,clientSelection:T,movementMode:"FLUID"},cleanup:()=>I.cancel(),actions:{move:I}}),move:I}}function C(){const T={moveUp:()=>w(J3),moveRight:()=>w(Z3),moveDown:()=>w(Q3),moveLeft:()=>w(e4)};return j({liftActionArgs:{id:o,clientSelection:FW(h),movementMode:"SNAP"},cleanup:no,actions:T})}function R(){Wl({expected:"PRE_DRAG",phase:x,isLockActive:y,shouldWarn:!0})&&e.release()}return{isActive:()=>Wl({expected:"PRE_DRAG",phase:x,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:b,fluidLift:D,snapLift:C,abort:R}}const KW=[TW,RW,NW];function XW({contextId:e,store:n,registry:r,customSensors:s,enableDefaultSensors:o}){const a=[...o?KW:[],...s||[]],c=g.useState(()=>fW())[0],d=Xe(function(j,D){Ta(j)&&!Ta(D)&&c.tryAbandon()},[c]);_r(function(){let j=n.getState();return n.subscribe(()=>{const C=n.getState();d(j,C),j=C})},[c,n,d]),_r(()=>c.tryAbandon,[c.tryAbandon]);const u=Xe(w=>Rj({lockAPI:c,registry:r,store:n,draggableId:w}),[c,r,n]),h=Xe((w,j,D)=>qW({lockAPI:c,registry:r,contextId:e,store:n,draggableId:w,forceSensorStop:j||null,sourceEvent:D&&D.sourceEvent?D.sourceEvent:null}),[e,c,r,n]),p=Xe(w=>HW(e,w),[e]),x=Xe(w=>{const j=r.draggable.findById(w);return j?j.options:null},[r.draggable]),b=Xe(function(){c.isClaimed()&&(c.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(Wp()))},[c,n]),y=Xe(()=>c.isClaimed(),[c]),m=Ot(()=>({canGetLock:u,tryGetLock:h,findClosestDraggableId:p,findOptionsForDraggable:x,tryReleaseLock:b,isLockClaimed:y}),[u,h,p,x,b,y]);for(let w=0;w<a.length;w++)a[w](m)}const JW=e=>({onBeforeCapture:n=>{const r=()=>{e.onBeforeCapture&&e.onBeforeCapture(n)};Bh.flushSync(r)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),QW=e=>({...Da,...e.autoScrollerOptions,durationDampening:{...Da.durationDampening,...e.autoScrollerOptions}});function sa(e){return e.current||Oe(),e.current}function ZW(e){const{contextId:n,setCallbacks:r,sensors:s,nonce:o,dragHandleUsageInstructions:a}=e,c=g.useRef(null),d=Pj(e),u=Xe(()=>JW(d.current),[d]),h=Xe(()=>QW(d.current),[d]),p=cW(n),x=hW({contextId:n,text:a}),b=nW(n,o),y=Xe(B=>{sa(c).dispatch(B)},[]),m=Ot(()=>Eb({publishWhileDragging:z3,updateDroppableScroll:Y3,updateDroppableIsEnabled:G3,updateDroppableIsCombineEnabled:q3,collectionStarting:H3},y),[y]),w=iW(),j=Ot(()=>M4(w,m),[w,m]),D=Ot(()=>J4({scrollWindow:k4,scrollDroppable:j.scrollDroppable,getAutoScrollerOptions:h,...Eb({move:dj},y)}),[j.scrollDroppable,y,h]),C=sW(n),R=Ot(()=>A4({announce:p,autoScroller:D,dimensionMarshal:j,focusMarshal:C,getResponders:u,styleMarshal:b}),[p,D,j,C,u,b]);c.current=R;const E=Xe(()=>{const B=sa(c);B.getState().phase!=="IDLE"&&B.dispatch(Wp())},[]),T=Xe(()=>{const B=sa(c).getState();return B.phase==="DROP_ANIMATING"?!0:B.phase==="IDLE"?!1:B.isDragging},[]),I=Ot(()=>({isDragging:T,tryAbort:E}),[T,E]);r(I);const N=Xe(B=>yj(sa(c).getState(),B),[]),O=Xe(()=>Ao(sa(c).getState()),[]),$=Ot(()=>({marshal:j,focus:C,contextId:n,canLift:N,isMovementAllowed:O,dragHandleUsageInstructionsId:x,registry:w}),[n,j,x,C,N,O,w]);return XW({contextId:n,store:R,registry:w,customSensors:s||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),g.useEffect(()=>E,[E]),Ft.createElement(ld.Provider,{value:$},Ft.createElement(SF,{context:Gp,store:R},e.children))}function eB(){return Ft.useId()}function tB(e){const n=eB(),r=e.dragHandleUsageInstructions||Gl.dragHandleUsageInstructions;return Ft.createElement(_F,null,s=>Ft.createElement(ZW,{nonce:e.nonce,contextId:n,setCallbacks:s,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const ry={dragging:5e3,dropAnimating:4500},nB=(e,n)=>n?xa.drop(n.duration):e?xa.snap:xa.fluid,rB=(e,n)=>{if(e)return n?Pa.opacity.drop:Pa.opacity.combining},sB=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function oB(e){const r=e.dimension.client,{offset:s,combineWith:o,dropping:a}=e,c=!!o,d=sB(e),u=!!a,h=u?Eh.drop(s,c):Eh.moveTo(s);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:nB(d,a),transform:h,opacity:rB(c,u),zIndex:u?ry.dropAnimating:ry.dragging,pointerEvents:"none"}}function iB(e){return{transform:Eh.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function aB(e){return e.type==="DRAGGING"?oB(e):iB(e)}function lB(e,n,r=Fn){const s=window.getComputedStyle(n),o=n.getBoundingClientRect(),a=F0(o,s),c=Cc(a,r),d={client:a,tagName:n.tagName.toLowerCase(),display:s.display},u={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:d,displaceBy:u,client:a,page:c}}function cB(e){const n=qp("draggable"),{descriptor:r,registry:s,getDraggableRef:o,canDragInteractiveElements:a,shouldRespectForcePress:c,isEnabled:d}=e,u=Ot(()=>({canDragInteractiveElements:a,shouldRespectForcePress:c,isEnabled:d}),[a,d,c]),h=Xe(y=>{const m=o();return m||Oe(),lB(r,m,y)},[r,o]),p=Ot(()=>({uniqueId:n,descriptor:r,options:u,getDimension:h}),[r,h,u,n]),x=g.useRef(p),b=g.useRef(!0);_r(()=>(s.draggable.register(x.current),()=>s.draggable.unregister(x.current)),[s.draggable]),_r(()=>{if(b.current){b.current=!1;return}const y=x.current;x.current=p,s.draggable.update(p,y)},[p,s.draggable])}var Xp=Ft.createContext(null);function Ec(e){const n=g.useContext(e);return n||Oe(),n}function dB(e){e.preventDefault()}const uB=e=>{const n=g.useRef(null),r=Xe((I=null)=>{n.current=I},[]),s=Xe(()=>n.current,[]),{contextId:o,dragHandleUsageInstructionsId:a,registry:c}=Ec(ld),{type:d,droppableId:u}=Ec(Xp),h=Ot(()=>({id:e.draggableId,index:e.index,type:d,droppableId:u}),[e.draggableId,e.index,d,u]),{children:p,draggableId:x,isEnabled:b,shouldRespectForcePress:y,canDragInteractiveElements:m,isClone:w,mapped:j,dropAnimationFinished:D}=e;if(!w){const I=Ot(()=>({descriptor:h,registry:c,getDraggableRef:s,canDragInteractiveElements:m,shouldRespectForcePress:y,isEnabled:b}),[h,c,s,m,y,b]);cB(I)}const C=Ot(()=>b?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":x,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:dB}:null,[o,a,x,b]),R=Xe(I=>{j.type==="DRAGGING"&&j.dropping&&I.propertyName==="transform"&&Bh.flushSync(D)},[D,j]),E=Ot(()=>{const I=aB(j),N=j.type==="DRAGGING"&&j.dropping?R:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":x,style:I,onTransitionEnd:N},dragHandleProps:C}},[o,C,x,j,R,r]),T=Ot(()=>({draggableId:h.id,type:h.type,source:{index:h.index,droppableId:h.droppableId}}),[h.droppableId,h.id,h.index,h.type]);return Ft.createElement(Ft.Fragment,null,p(E,j.snapshot,T))};var _j=(e,n)=>e===n,Oj=e=>{const{combine:n,destination:r}=e;return r?r.droppableId:n?n.droppableId:null};const hB=e=>e.combine?e.combine.draggableId:null,fB=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function pB(){const e=$n((o,a)=>({x:o,y:a})),n=$n((o,a,c=null,d=null,u=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!u,dropAnimation:u,mode:o,draggingOver:c,combineWith:d,combineTargetFor:null})),r=$n((o,a,c,d,u=null,h=null,p=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:h,mode:a,offset:o,dimension:c,forceShouldAnimate:p,snapshot:n(a,d,u,h,null)}}));return(o,a)=>{if(Ta(o)){if(o.critical.draggable.id!==a.draggableId)return null;const c=o.current.client.offset,d=o.dimensions.draggables[a.draggableId],u=Rr(o.impact),h=fB(o.impact),p=o.forceShouldAnimate;return r(e(c.x,c.y),o.movementMode,d,a.isClone,u,h,p)}if(o.phase==="DROP_ANIMATING"){const c=o.completed;if(c.result.draggableId!==a.draggableId)return null;const d=a.isClone,u=o.dimensions.draggables[a.draggableId],h=c.result,p=h.mode,x=Oj(h),b=hB(h),m={duration:o.dropDuration,curve:Vp.drop,moveTo:o.newHomeClientOffset,opacity:b?Pa.opacity.drop:null,scale:b?Pa.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:u,dropping:m,draggingOver:x,combineWith:b,mode:p,forceShouldAnimate:null,snapshot:n(p,d,x,b,m)}}}return null}}function Mj(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const xB={mapped:{type:"SECONDARY",offset:Fn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Mj(null)}};function mB(){const e=$n((c,d)=>({x:c,y:d})),n=$n(Mj),r=$n((c,d=null,u)=>({mapped:{type:"SECONDARY",offset:c,combineTargetFor:d,shouldAnimateDisplacement:u,snapshot:n(d)}})),s=c=>c?r(Fn,c,!0):null,o=(c,d,u,h)=>{const p=u.displaced.visible[c],x=!!(h.inVirtualList&&h.effected[c]),b=sd(u),y=b&&b.draggableId===c?d:null;if(!p){if(!x)return s(y);if(u.displaced.invisible[c])return null;const j=Ri(h.displacedBy.point),D=e(j.x,j.y);return r(D,y,!0)}if(x)return s(y);const m=u.displacedBy.point,w=e(m.x,m.y);return r(w,y,p.shouldAnimate)};return(c,d)=>{if(Ta(c))return c.critical.draggable.id===d.draggableId?null:o(d.draggableId,c.critical.draggable.id,c.impact,c.afterCritical);if(c.phase==="DROP_ANIMATING"){const u=c.completed;return u.result.draggableId===d.draggableId?null:o(d.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const gB=()=>{const e=pB(),n=mB();return(s,o)=>e(s,o)||n(s,o)||xB},bB={dropAnimationFinished:hj},yB=L0(gB,bB,null,{context:Gp,areStatePropsEqual:_j})(uB);function kj(e){return Ec(Xp).isUsingCloneFor===e.draggableId&&!e.isClone?null:Ft.createElement(yB,e)}function vB(e){const n=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,s=!!e.shouldRespectForcePress;return Ft.createElement(kj,U({},e,{isClone:!1,isEnabled:n,canDragInteractiveElements:r,shouldRespectForcePress:s}))}const Nj=e=>n=>e===n,jB=Nj("scroll"),wB=Nj("auto"),sy=(e,n)=>n(e.overflowX)||n(e.overflowY),SB=e=>{const n=window.getComputedStyle(e),r={overflowX:n.overflowX,overflowY:n.overflowY};return sy(r,jB)||sy(r,wB)},CB=()=>!1,Lj=e=>e==null?null:e===document.body?CB()?e:null:e===document.documentElement?null:SB(e)?e:Lj(e.parentElement);var _h=e=>({x:e.scrollLeft,y:e.scrollTop});const $j=e=>e?window.getComputedStyle(e).position==="fixed"?!0:$j(e.parentElement):!1;var PB=e=>{const n=Lj(e),r=$j(e);return{closestScrollable:n,isFixedOnPage:r}},DB=({descriptor:e,isEnabled:n,isCombineEnabled:r,isFixedOnPage:s,direction:o,client:a,page:c,closest:d})=>{const u=(()=>{if(!d)return null;const{scrollSize:b,client:y}=d,m=mj({scrollHeight:b.scrollHeight,scrollWidth:b.scrollWidth,height:y.paddingBox.height,width:y.paddingBox.width});return{pageMarginBox:d.page.marginBox,frameClient:y,scrollSize:b,shouldClipSubject:d.shouldClipSubject,scroll:{initial:d.scroll,current:d.scroll,max:m,diff:{value:Fn,displacement:Fn}}}})(),h=o==="vertical"?kp:K0,p=wi({page:c,withPlaceholder:null,axis:h,frame:u});return{descriptor:e,isCombineEnabled:r,isFixedOnPage:s,axis:h,isEnabled:n,client:a,page:c,frame:u,subject:p}};const TB=(e,n)=>{const r=W0(e);if(!n||e!==n)return r;const s=r.paddingBox.top-n.scrollTop,o=r.paddingBox.left-n.scrollLeft,a=s+n.scrollHeight,c=o+n.scrollWidth,u=Rp({top:s,right:c,bottom:a,left:o},r.border);return _p({borderBox:u,margin:r.margin,border:r.border,padding:r.padding})};var IB=({ref:e,descriptor:n,env:r,windowScroll:s,direction:o,isDropDisabled:a,isCombineEnabled:c,shouldClipSubject:d})=>{const u=r.closestScrollable,h=TB(e,u),p=Cc(h,s),x=(()=>{if(!u)return null;const y=W0(u),m={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:y,page:Cc(y,s),scroll:_h(u),scrollSize:m,shouldClipSubject:d}})();return DB({descriptor:n,isEnabled:!a,isCombineEnabled:c,isFixedOnPage:r.isFixedOnPage,direction:o,client:h,page:p,closest:x})};const EB={passive:!1},AB={passive:!0};var oy=e=>e.shouldPublishImmediately?EB:AB;const Bl=e=>e&&e.env.closestScrollable||null;function RB(e){const n=g.useRef(null),r=Ec(ld),s=qp("droppable"),{registry:o,marshal:a}=r,c=Pj(e),d=Ot(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=g.useRef(d),h=Ot(()=>$n((E,T)=>{n.current||Oe();const I={x:E,y:T};a.updateDroppableScroll(d.id,I)}),[d.id,a]),p=Xe(()=>{const E=n.current;return!E||!E.env.closestScrollable?Fn:_h(E.env.closestScrollable)},[]),x=Xe(()=>{const E=p();h(E.x,E.y)},[p,h]),b=Ot(()=>ja(x),[x]),y=Xe(()=>{const E=n.current,T=Bl(E);if(E&&T||Oe(),E.scrollOptions.shouldPublishImmediately){x();return}b()},[b,x]),m=Xe((E,T)=>{n.current&&Oe();const I=c.current,N=I.getDroppableRef();N||Oe();const O=PB(N),$={ref:N,descriptor:d,env:O,scrollOptions:T};n.current=$;const B=IB({ref:N,descriptor:d,env:O,windowScroll:E,direction:I.direction,isDropDisabled:I.isDropDisabled,isCombineEnabled:I.isCombineEnabled,shouldClipSubject:!I.ignoreContainerClipping}),H=O.closestScrollable;return H&&(H.setAttribute(Zb.contextId,r.contextId),H.addEventListener("scroll",y,oy($.scrollOptions))),B},[r.contextId,d,y,c]),w=Xe(()=>{const E=n.current,T=Bl(E);return E&&T||Oe(),_h(T)},[]),j=Xe(()=>{const E=n.current;E||Oe();const T=Bl(E);n.current=null,T&&(b.cancel(),T.removeAttribute(Zb.contextId),T.removeEventListener("scroll",y,oy(E.scrollOptions)))},[y,b]),D=Xe(E=>{const T=n.current;T||Oe();const I=Bl(T);I||Oe(),I.scrollTop+=E.y,I.scrollLeft+=E.x},[]),C=Ot(()=>({getDimensionAndWatchScroll:m,getScrollWhileDragging:w,dragStopped:j,scroll:D}),[j,m,w,D]),R=Ot(()=>({uniqueId:s,descriptor:d,callbacks:C}),[C,d,s]);_r(()=>(u.current=R.descriptor,o.droppable.register(R),()=>{n.current&&j(),o.droppable.unregister(R)}),[C,d,j,R,a,o.droppable]),_r(()=>{n.current&&a.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),_r(()=>{n.current&&a.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function rh(){}const iy={width:0,height:0,margin:$F},_B=({isAnimatingOpenOnMount:e,placeholder:n,animate:r})=>e||r==="close"?iy:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin},OB=({isAnimatingOpenOnMount:e,placeholder:n,animate:r})=>{const s=_B({isAnimatingOpenOnMount:e,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?xa.placeholder:null}},MB=e=>{const n=g.useRef(null),r=Xe(()=>{n.current&&(clearTimeout(n.current),n.current=null)},[]),{animate:s,onTransitionEnd:o,onClose:a,contextId:c}=e,[d,u]=g.useState(e.animate==="open");g.useEffect(()=>d?s!=="open"?(r(),u(!1),rh):n.current?rh:(n.current=setTimeout(()=>{n.current=null,u(!1)}),r):rh,[s,d,r]);const h=Xe(x=>{x.propertyName==="height"&&(o(),s==="close"&&a())},[s,a,o]),p=OB({isAnimatingOpenOnMount:d,animate:e.animate,placeholder:e.placeholder});return Ft.createElement(e.placeholder.tagName,{style:p,"data-rfd-placeholder-context-id":c,onTransitionEnd:h,ref:e.innerRef})};var kB=Ft.memo(MB);class NB extends Ft.PureComponent{constructor(...n){super(...n),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(n,r){return n.shouldAnimate?n.on?{isVisible:!0,data:n.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!n.on,data:n.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const n={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(n)}}const LB=e=>{const n=g.useContext(ld);n||Oe();const{contextId:r,isMovementAllowed:s}=n,o=g.useRef(null),a=g.useRef(null),{children:c,droppableId:d,type:u,mode:h,direction:p,ignoreContainerClipping:x,isDropDisabled:b,isCombineEnabled:y,snapshot:m,useClone:w,updateViewportMaxScroll:j,getContainerForClone:D}=e,C=Xe(()=>o.current,[]),R=Xe((H=null)=>{o.current=H},[]);Xe(()=>a.current,[]);const E=Xe((H=null)=>{a.current=H},[]),T=Xe(()=>{s()&&j({maxScroll:bj()})},[s,j]);RB({droppableId:d,type:u,mode:h,direction:p,isDropDisabled:b,isCombineEnabled:y,ignoreContainerClipping:x,getDroppableRef:C});const I=Ot(()=>Ft.createElement(NB,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:H,data:k,animate:ne})=>Ft.createElement(kB,{placeholder:k,onClose:H,innerRef:E,animate:ne,contextId:r,onTransitionEnd:T})),[r,T,e.placeholder,e.shouldAnimatePlaceholder,E]),N=Ot(()=>({innerRef:R,placeholder:I,droppableProps:{"data-rfd-droppable-id":d,"data-rfd-droppable-context-id":r}}),[r,d,I,R]),O=w?w.dragging.draggableId:null,$=Ot(()=>({droppableId:d,type:u,isUsingCloneFor:O}),[d,O,u]);function B(){if(!w)return null;const{dragging:H,render:k}=w,ne=Ft.createElement(kj,{draggableId:H.draggableId,index:H.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(K,q)=>k(K,q,H));return cE.createPortal(ne,D())}return Ft.createElement(Xp.Provider,{value:$},c(N,m),B())};function $B(){return document.body||Oe(),document.body}const ay={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:$B},Fj=e=>{let n={...e},r;for(r in ay)e[r]===void 0&&(n={...n,[r]:ay[r]});return n},sh=(e,n)=>e===n.droppable.type,ly=(e,n)=>n.draggables[e.draggable.id],FB=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n={...e,shouldAnimatePlaceholder:!1},r=$n(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),s=$n((a,c,d,u,h,p)=>{const x=h.descriptor.id;if(h.descriptor.droppableId===a){const m=p?{render:p,dragging:r(h.descriptor)}:null,w={isDraggingOver:d,draggingOverWith:d?x:null,draggingFromThisWith:x,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!1,snapshot:w,useClone:m}}if(!c)return n;if(!u)return e;const y={isDraggingOver:d,draggingOverWith:x,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}});return(a,c)=>{const d=Fj(c),u=d.droppableId,h=d.type,p=!d.isDropDisabled,x=d.renderClone;if(Ta(a)){const b=a.critical;if(!sh(h,b))return n;const y=ly(b,a.dimensions),m=Rr(a.impact)===u;return s(u,p,m,m,y,x)}if(a.phase==="DROP_ANIMATING"){const b=a.completed;if(!sh(h,b.critical))return n;const y=ly(b.critical,a.dimensions);return s(u,p,Oj(b.result)===u,Rr(b.impact)===u,y,x)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const b=a.completed;if(!sh(h,b.critical))return n;const y=Rr(b.impact)===u,m=!!(b.impact.at&&b.impact.at.type==="COMBINE"),w=b.critical.droppable.id===u;return y?m?e:n:w?e:n}return n}},WB={updateViewportMaxScroll:X3},BB=L0(FB,WB,(e,n,r)=>({...Fj(r),...e,...n}),{context:Gp,areStatePropsEqual:_j})(LB);var VB=BB;const UB=({tiers:e,isLoading:n=!1,onEdit:r,onDelete:s,onReorder:o,onCreateTier:a})=>{const[c,d]=g.useState(e);g.useEffect(()=>{d([...e].sort((h,p)=>h.order-p.order))},[e]);const u=async h=>{if(!h.destination)return;const p=h.source.index,x=h.destination.index;if(p===x)return;const b=[...c].sort((w,j)=>w.order-j.order),[y]=b.splice(p,1);b.splice(x,0,y);const m=b.map((w,j)=>({...w,order:j+1}));d(m),o(m)};return n?t.jsx(he,{spacing:3,sx:{maxWidth:900},children:[1,2,3].map(h=>t.jsx(lt,{sx:{p:3},children:t.jsxs(he,{spacing:2,children:[t.jsx(le,{variant:"circular",width:32,height:32}),t.jsx(le,{variant:"text",width:"60%",height:28}),t.jsx(le,{variant:"text",width:"40%",height:40}),t.jsx(le,{variant:"text",width:"80%",height:20}),t.jsxs(he,{direction:"row",justifyContent:"flex-end",spacing:1,children:[t.jsx(le,{variant:"circular",width:32,height:32}),t.jsx(le,{variant:"circular",width:32,height:32})]})]})},h))}):e.length===0?t.jsx(Ws,{title:"Set Up Channel Subscriptions",description:"Create subscription tiers to offer exclusive perks and content to your subscribers",action:{label:"Create Your First Tier",onClick:a},icon:t.jsx(gc,{sx:{fontSize:48}})}):t.jsxs(he,{spacing:4,children:[t.jsxs(he,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsx(v,{variant:"h5",sx:{fontWeight:600},children:"Subscription Tiers"}),t.jsx(ge,{variant:"contained",startIcon:t.jsx(Ip,{}),onClick:a,sx:{px:3,borderRadius:2,textTransform:"none"},children:"Create Tier"})]}),t.jsx(lt,{sx:{p:2,bgcolor:"primary.50",borderRadius:2,border:"1px solid",borderColor:"primary.100"},children:t.jsxs(he,{direction:"row",spacing:2,alignItems:"center",children:[t.jsx(ep,{color:"primary"}),t.jsx(v,{variant:"body2",color:"primary.700",children:"Drag to reorder tiers. Members will see tiers in this order on your channel page."})]})}),t.jsx(tB,{onDragEnd:u,children:t.jsx(VB,{droppableId:"tiers",children:h=>t.jsxs(he,{spacing:3,...h.droppableProps,ref:h.innerRef,sx:{maxWidth:800,width:"100%"},children:[c.map((p,x)=>t.jsx(vB,{draggableId:p.id,index:x,children:(b,y)=>t.jsx(P,{ref:b.innerRef,...b.draggableProps,children:t.jsx(P,{sx:{position:"relative"},children:t.jsxs(lt,{elevation:y.isDragging?8:2,sx:{p:3,transition:"all 0.2s ease",transform:y.isDragging?"scale(1.02)":"scale(1)",bgcolor:"background.paper",borderRadius:2,"&:hover":{boxShadow:4,"& .drag-handle":{opacity:1}}},children:[t.jsx(Ze,{label:p.order,color:"primary",size:"small",sx:{position:"absolute",top:-12,left:16,height:32,width:32,borderRadius:"50%",boxShadow:2,zIndex:1,"& .MuiChip-label":{px:0,fontSize:"1rem",fontWeight:"bold"}}}),t.jsx(P,{...b.dragHandleProps,className:"drag-handle",sx:{position:"absolute",top:0,left:0,right:0,height:"100%",display:"flex",alignItems:"center",justifyContent:"center",opacity:0,transition:"opacity 0.2s ease","&:hover":{cursor:"move","& .drag-icon":{transform:"scale(1.1)"}}},children:t.jsx(P,{className:"drag-icon",sx:{width:40,height:40,borderRadius:"50%",bgcolor:"action.hover",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s ease"},children:t.jsx(E0,{color:"action"})})}),t.jsxs(P,{sx:{flex:1},children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:p.name}),t.jsxs(v,{variant:"h4",gutterBottom:!0,children:["$",p.price,t.jsx(v,{component:"span",variant:"body2",sx:{ml:1},children:"/month"})]}),t.jsx(v,{variant:"body2",sx:{mb:2},children:p.description})]}),t.jsxs(he,{direction:"row",spacing:1,justifyContent:"flex-end",children:[t.jsx($e,{onClick:()=>r(p.id),size:"small",children:t.jsx(Ba,{})}),t.jsx($e,{onClick:()=>s(p.id),size:"small",children:t.jsx(Wo,{})})]})]})})})},p.id)),h.placeholder]})})})]})},zB=({open:e,onClose:n,onSubmit:r,initialData:s,tierCount:o,isEdit:a=!1})=>{const[c,d]=g.useState({name:"",description:"",price:0,benefits:[],order:a?s.order:o+1}),[u,h]=g.useState({}),[p,x]=g.useState(!1);g.useEffect(()=>{s&&d({name:s.name,description:s.description,price:s.price,benefits:s.benefits,order:a?s.order:o+1})},[s]),g.useEffect(()=>{d(w=>({...w,order:o+1}))},[o]);const b=()=>{const w={};return c.name||(w.name="Name is required"),c.description||(w.description="Description is required"),c.price<0&&(w.price="Price must be positive"),c.benefits||(w.benefits="Benefits are required"),h(w),Object.keys(w).length===0},y=w=>j=>{const D=w==="price"?Number(j.target.value):j.target.value;d(C=>({...C,[w]:D})),u[w]&&h(C=>({...C,[w]:void 0}))},m=async w=>{if(w.preventDefault(),!!b())try{x(!0),await r(c),n()}catch(j){console.error("Failed to submit tier:",j)}finally{x(!1)}};return t.jsxs(on,{open:e,onClose:n,maxWidth:"sm",fullWidth:!0,children:[t.jsx(pn,{children:a?"Edit Tier":"Create New Tier"}),t.jsxs("form",{onSubmit:m,children:[t.jsx(an,{children:t.jsxs(he,{spacing:3,children:[t.jsx(st,{label:"Tier Name",value:c.name,onChange:y("name"),error:!!u.name,helperText:u.name,fullWidth:!0}),t.jsx(st,{label:"Description",value:c.description,onChange:y("description"),multiline:!0,rows:3,error:!!u.description,helperText:u.description,fullWidth:!0}),t.jsx(st,{type:"number",label:"Monthly Price",value:c.price,onChange:y("price"),InputProps:{startAdornment:t.jsx(ys,{position:"start",children:"$"})},error:!!u.price,helperText:u.price,fullWidth:!0}),t.jsx(st,{label:"Benefits",value:c.benefits,onChange:y("benefits"),multiline:!0,rows:4,placeholder:"Enter benefits, one per line",error:!!u.benefits,helperText:u.benefits,fullWidth:!0})]})}),t.jsxs(ln,{children:[t.jsx(ge,{onClick:n,children:"Cancel"}),t.jsx(ge,{type:"submit",variant:"contained",disabled:p,children:a?"Save Changes":"Create Tier"})]})]})]})},Jp=g.memo(({channelId:e})=>{const{api:n}=Je(),{execute:r}=et(),{execute:s}=et(),{execute:o}=et(),{execute:a}=et(),{execute:c}=et(),[d,u]=g.useState([]),[h,p]=g.useState(!0),[x,b]=g.useState(!1),[y,m]=g.useState(null),[w,j]=g.useState(!1),D=g.useCallback(async()=>{if(!e)return;p(!0);const O=await r(()=>n==null?void 0:n.channelApi.getTiers(e),{showErrorToast:!0});O&&u(O.items||[]),p(!1)},[e,r,n]);g.useEffect(()=>{D()},[D]);const C=O=>{const $=d.find(B=>B.id===O);$&&(m($),b(!0))},R=()=>{b(!1),m(null)},E=async O=>{await s(()=>n==null?void 0:n.channelApi.createTier(e,O),{showSuccessMessage:!0,successMessage:"Tier created successfully"})&&(await D(),R())},T=async(O,$)=>{await o(()=>n==null?void 0:n.channelApi.updateTier(e,O,$),{showSuccessMessage:!0,successMessage:"Tier updated successfully"}),await D(),R()},I=async O=>{await c(()=>n==null?void 0:n.channelApi.deleteTier(e,O),{showSuccessMessage:!0,successMessage:"Tier deleted successfully"}),await D()},N=async O=>{try{j(!0),await a(()=>n==null?void 0:n.channelApi.updateTiers(e,O),{showSuccessMessage:!0,successMessage:"Tiers reordered successfully"}),u(O)}catch{}finally{j(!1)}};return t.jsxs(P,{sx:{p:3},children:[t.jsx(UB,{tiers:d,isLoading:h,onEdit:C,onDelete:I,onReorder:N,onCreateTier:()=>b(!0)}),t.jsx(zB,{open:x,onClose:R,onSubmit:y?O=>T(y.id,O):E,initialData:y,tierCount:d.length,isEdit:!!y}),t.jsx(dE,{sx:{color:"#fff",zIndex:O=>O.zIndex.drawer+1,backdropFilter:"blur(3px)"},open:w,children:t.jsx(Yn,{color:"inherit"})})]})},(e,n)=>e.channelId===n.channelId);Jp.displayName="TiersTab";const HB=({tabs:e,activeTab:n,onTabChange:r,isOpen:s,onClose:o,onOpen:a})=>t.jsx(uE,{anchor:"bottom",open:s,onClose:o,onOpen:a,disableSwipeToOpen:!1,PaperProps:{sx:{borderTopLeftRadius:16,borderTopRightRadius:16,maxHeight:"80vh"}},children:t.jsx(Er,{sx:{pt:1,pb:2},children:e.map(c=>t.jsx(ah,{selected:n===c.id,onClick:()=>{r(c.id),o()},sx:{mx:1,borderRadius:1,mb:.5,"&.Mui-selected":{bgcolor:d=>Ie(d.palette.primary.main,.1)}},children:t.jsx(Zt,{primary:c.label})},c.id))})}),YB=({tabs:e,activeTab:n,onTabChange:r})=>t.jsx(P,{sx:{borderBottom:1,borderColor:"divider"},children:t.jsx($s,{value:n,onChange:(s,o)=>r(o),sx:{px:{md:3,lg:4}},children:e.map(s=>t.jsx(_n,{label:s.label,value:s.id,sx:{textTransform:"none",fontWeight:500,fontSize:"0.9375rem"}},s.id))})}),cy=[{id:"basic",label:"Basic Info",component:I0},{id:"tiers",label:"Channel Tiers",component:Jp}],GB=()=>{const{id:e}=Xr(),n=Mn(),r=Mc(n.breakpoints.down("md")),{api:s}=Je(),[o,a]=g.useState("basic"),[c,d]=g.useState(!1),[u,h]=g.useState(null),[p,x]=g.useState(!0),{execute:b}=et(),{execute:y}=et(),m=g.useCallback(async()=>{if(!e)return;x(!0);const C=await b(()=>s==null?void 0:s.channelApi.getChannel(e),{showErrorToast:!0});C&&h(C),x(!1)},[e,b,s]);g.useEffect(()=>{m()},[m]);const w=async C=>{e&&(await y(()=>s==null?void 0:s.channelApi.updateChannel(e,C),{showSuccessMessage:!0,successMessage:"Channel updated successfully"}),await m())},j=C=>{a(C)};if(!e||p||!u)return null;const D=()=>{switch(o){case"basic":return t.jsx(I0,{channel:u,onUpdate:w});case"tiers":return t.jsx(Jp,{channelId:u.id});default:return null}};return t.jsx(P,{sx:{minHeight:"100%",bgcolor:"background.default"},children:r?t.jsxs(t.Fragment,{children:[t.jsx(P,{sx:{px:2,py:1.5},children:t.jsx(v,{variant:"h6",sx:{fontWeight:600},children:"Edit Channel"})}),D(),t.jsx(HB,{tabs:cy,activeTab:o,onTabChange:j,isOpen:c,onClose:()=>d(!1),onOpen:()=>d(!0)})]}):t.jsxs(t.Fragment,{children:[t.jsx(YB,{tabs:cy,activeTab:o,onTabChange:j}),t.jsx(P,{sx:{p:{md:3,lg:4}},children:D()})]})})},Wj=({open:e,poll:n,onClose:r,onConvert:s,loading:o=!1})=>{var y,m;const{profile:a}=Ss(),[c,d]=g.useState({title:"",channelId:"",status:Rn.PUBLISHED,isPremium:!1,requiredTierId:null,content:""}),[u,h]=g.useState(null),p=async()=>{if(!c.title.trim()){h("Title is required");return}if(!c.channelId){h("Channel is required");return}if(!c.content.trim()){h("Content is required");return}try{h(null),await s(c),x()}catch(w){h(w.message||"Failed to convert poll to news")}},x=()=>{d({title:"",channelId:"",status:Rn.PUBLISHED,isPremium:!1,requiredTierId:null,content:""}),h(null),r()},b=w=>{d(j=>({...j,content:JSON.stringify(w)}))};return Ft.useEffect(()=>{e&&n&&d(w=>{var j;return{...w,title:`News Article: ${n.title}`,channelId:((j=n.channel)==null?void 0:j.id)||"",content:n.description||""}})},[e,n]),n?t.jsxs(on,{open:e,onClose:x,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{minHeight:"70vh"}},children:[t.jsxs(pn,{children:[t.jsx(v,{variant:"h6",children:"Convert Poll to News Article"}),t.jsxs(v,{variant:"body2",color:"text.secondary",sx:{mt:1},children:['Convert "',n.title,'" into a news article with poll results included']})]}),t.jsx(an,{children:t.jsxs(he,{spacing:3,sx:{mt:1},children:[u&&t.jsx(ct,{severity:"error",onClose:()=>h(null),children:u}),t.jsxs(P,{sx:{p:2,borderRadius:2,bgcolor:w=>Ie(w.palette.primary.main,.05),border:w=>`1px solid ${Ie(w.palette.primary.main,.2)}`},children:[t.jsx(v,{variant:"subtitle2",gutterBottom:!0,children:"Poll Results (will be included in the article)"}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Total Votes: ",n.voteCount||0,"  Status: ",(y=n.stats)!=null&&y.hasEnded?"Ended":"Active"]})]}),t.jsx(st,{label:"Article Title",fullWidth:!0,required:!0,value:c.title,onChange:w=>d(j=>({...j,title:w.target.value})),helperText:"Create an engaging title for your news article"}),t.jsxs(bt,{fullWidth:!0,required:!0,children:[t.jsx(Tt,{children:"Channel"}),t.jsx(wt,{value:c.channelId,label:"Channel",onChange:w=>d(j=>({...j,channelId:w.target.value})),children:(m=a==null?void 0:a.staffChannels)==null?void 0:m.map(w=>t.jsx(Se,{value:w.channelId,children:w.channel.name},w.id))})]}),t.jsxs(P,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Article Content"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Write your news article. Poll results will be automatically appended."}),t.jsx(Qc,{data:c.content?JSON.parse(c.content):void 0,onChange:b,placeholder:"Write your news article content here...",borderColor:w=>w.palette.mode==="dark"?Ie(w.palette.common.white,.23):Ie(w.palette.common.black,.23)})]}),t.jsxs(P,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:2},children:"Publishing Options"}),t.jsxs(he,{spacing:2,children:[t.jsx(Mo,{control:t.jsx(sc,{checked:c.isPremium,onChange:w=>d(j=>({...j,isPremium:w.target.checked}))}),label:"Premium Content"}),t.jsxs(bt,{fullWidth:!0,children:[t.jsx(Tt,{children:"Status"}),t.jsxs(wt,{value:c.status,label:"Status",onChange:w=>d(j=>({...j,status:Number(w.target.value)})),children:[t.jsx(Se,{value:Rn.DRAFT,children:"Draft"}),t.jsx(Se,{value:Rn.PUBLISHED,children:"Published"}),t.jsx(Se,{value:Rn.PENDING_REVIEW,children:"Pending Review"})]})]})]})]})]})}),t.jsxs(ln,{sx:{p:3},children:[t.jsx(ge,{onClick:x,disabled:o,children:"Cancel"}),t.jsx(ge,{onClick:p,variant:"contained",disabled:o,children:o?"Converting...":"Convert to News"})]})]}):null},qB=({poll:e,onRefresh:n})=>{var N;const[r,s]=g.useState(null),[o,a]=g.useState(!1),[c,d]=g.useState(!1),u=It(),{api:h}=Je(),{execute:p}=et(),x=Mn(),b=O=>{s(O.currentTarget)},y=()=>{s(null)},m=()=>{u(`${je.STUDIO_POLL_VIEW.replace(":id",e.id)}`),y()},w=()=>{u(`${je.STUDIO_POLL_EDIT.replace(":id",e.id)}`),y()},j=()=>{a(!0),y()},D=()=>{d(!0),y()},C=async()=>{await p(()=>h==null?void 0:h.pollApi.delete(e.id),{showSuccessMessage:!0,successMessage:"Poll deleted successfully"})&&n(),a(!1)},R=async O=>{await p(()=>h==null?void 0:h.pollApi.convertToNews(e.id,O),{showSuccessMessage:!0,successMessage:"Poll converted to news successfully!"})&&n()},T=(()=>{const O=new Date,$=new Date(e.startDate),B=new Date(e.endDate);return O<$?{label:"Scheduled",color:"warning"}:O>B?{label:"Ended",color:"error"}:{label:"Active",color:"success"}})(),I=!e.isConverted&&!((N=e.stats)!=null&&N.hasEnded);return t.jsxs(ke,{sx:{height:"100%",bgcolor:O=>Ie(O.palette.mode==="dark"?O.palette.common.white:O.palette.common.black,O.palette.mode==="dark"?.05:.03),transition:x.transitions.create(["background-color","box-shadow"]),"&:hover":{bgcolor:O=>Ie(O.palette.mode==="dark"?O.palette.common.white:O.palette.common.black,O.palette.mode==="dark"?.08:.05),boxShadow:1}},children:[t.jsxs(Fe,{children:[t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[t.jsx(v,{variant:"h6",sx:{fontSize:"1rem",fontWeight:600,color:"text.primary"},children:e.title}),t.jsx($e,{size:"small",onClick:b,sx:{ml:1},children:t.jsx(td,{})})]}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:e.description}),t.jsxs(he,{direction:"row",spacing:1,alignItems:"center",children:[t.jsx(Ze,{label:T.label,size:"small",color:T.color}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:[e.totalVotes??0," votes"]})]})]}),t.jsxs($o,{anchorEl:r,open:!!r,onClose:y,PaperProps:{sx:{width:200}},children:[t.jsxs(Se,{onClick:m,children:[t.jsx(sn,{children:t.jsx(nd,{fontSize:"small"})}),t.jsx(Zt,{children:"View Poll"})]}),t.jsxs(Se,{onClick:w,children:[t.jsx(sn,{children:t.jsx(Ba,{fontSize:"small"})}),t.jsx(Zt,{children:"Edit Poll"})]}),I&&t.jsxs(Se,{onClick:D,children:[t.jsx(sn,{children:t.jsx(ya,{fontSize:"small"})}),t.jsx(Zt,{children:"Convert to News"})]}),t.jsxs(Se,{onClick:j,children:[t.jsx(sn,{children:t.jsx(Wo,{fontSize:"small"})}),t.jsx(Zt,{children:"Delete Poll"})]})]}),t.jsx(Pp,{open:o,title:"Delete Poll",content:"Are you sure you want to delete this poll? This action cannot be undone.",onConfirm:C,onClose:()=>a(!1)}),t.jsx(Wj,{open:c,poll:e,onClose:()=>d(!1),onConvert:R})]})},KB=()=>{const[e,n]=g.useState([]),[r,s]=g.useState(1),[o,a]=g.useState(!0),[c,d]=g.useState(!0),{api:u}=Je(),{profile:h}=Ss(),p=It(),x=Mn(),{execute:b}=et(),y=()=>{m(r+1)},m=async(j=r)=>{if(!(h!=null&&h.id))return;const D=await b(()=>u==null?void 0:u.studioApi.getMyContent("polls"),{showErrorToast:!0});D&&(n(C=>j===1?(D==null?void 0:D.items)??[]:[...C,...(D==null?void 0:D.items)??[]]),s((D==null?void 0:D.metadata.currentPage)??1),a((D==null?void 0:D.metadata.hasNext)===!0)),d(!1)};g.useEffect(()=>{m(1)},[]);const w=()=>t.jsxs(P,{sx:{p:2,borderRadius:1,bgcolor:j=>Ie(j.palette.mode==="dark"?j.palette.common.white:j.palette.common.black,j.palette.mode==="dark"?.05:.03),height:{xs:180,sm:200},transition:x.transitions.create(["background-color","height"])},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[t.jsx(le,{variant:"circular",width:32,height:32,sx:{mr:1.5}}),t.jsxs(P,{sx:{width:"100%"},children:[t.jsx(le,{width:"60%",height:20}),t.jsx(le,{width:"40%",height:16})]})]}),t.jsx(le,{variant:"rectangular",sx:{borderRadius:1,height:{xs:70,sm:80}}}),t.jsx(P,{sx:{mt:1.5},children:t.jsx(le,{width:"30%",height:20})})]});return t.jsxs(P,{sx:{px:{xs:2,sm:3,md:4},py:{xs:2,sm:3},maxWidth:"lg",mx:"auto",width:"100%"},children:[t.jsx(P,{sx:{mb:{xs:2,sm:3}},children:t.jsx(v,{variant:"h5",sx:{fontWeight:600,fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:c?t.jsx(le,{width:150}):"My Polls"})}),c?t.jsx(F,{container:!0,spacing:2,children:[1,2].map(j=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(w,{})},j))}):e.length===0?t.jsx(Ws,{title:"No Polls Yet",description:"Create your first poll to start gathering opinions from your audience.",icon:t.jsx(Ef,{sx:{fontSize:{xs:40,sm:48}}}),action:{label:"Create Poll",onClick:()=>p(je.STUDIO_POLL_CREATE)}}):t.jsx(co,{dataLength:e.length,next:y,hasMore:o,loader:t.jsx(F,{container:!0,spacing:2,sx:{mt:.5},children:[1,2].map(j=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(w,{})},j))}),children:t.jsx(F,{container:!0,spacing:2,children:e.map(j=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(qB,{poll:j,onRefresh:()=>m(1)})},j.id))})})]})};function XB(e,...n){const r=new URL(`https://mui.com/production-error/?code=${e}`);return n.forEach(s=>r.searchParams.append("args[]",s)),`Minified MUI error #${e}; visit ${r} for the full message.`}const Bj=ee.oneOfType([ee.func,ee.object]);function JB(e){if(typeof e!="string")throw new Error(XB(7));return e.charAt(0).toUpperCase()+e.slice(1)}function oh(e){return e&&e.ownerDocument||document}const Kr=typeof window<"u"?g.useLayoutEffect:g.useEffect;let dy=0;function QB(e){const[n,r]=g.useState(e),s=e||n;return g.useEffect(()=>{n==null&&(dy+=1,r(`mui-${dy}`))},[n]),s}const ZB={...hE},uy=ZB.useId;function dd(e){if(uy!==void 0){const n=uy();return e??n}return QB(e)}function Pi(e){const{controlled:n,default:r,name:s,state:o="value"}=e,{current:a}=g.useRef(n!==void 0),[c,d]=g.useState(r),u=a?n:c,h=g.useCallback(p=>{a||d(p)},[]);return[u,h]}function We(e){const n=g.useRef(e);return Kr(()=>{n.current=e}),g.useRef((...r)=>(0,n.current)(...r)).current}function Zn(...e){const n=g.useRef(void 0),r=g.useCallback(s=>{const o=e.map(a=>{if(a==null)return null;if(typeof a=="function"){const c=a,d=c(s);return typeof d=="function"?d:()=>{c(null)}}return a.current=s,()=>{a.current=null}});return()=>{o.forEach(a=>a==null?void 0:a())}},e);return g.useMemo(()=>e.every(s=>s==null)?null:s=>{n.current&&(n.current(),n.current=void 0),s!=null&&(n.current=r(s))},e)}const hy={};function e6(e,n){const r=g.useRef(hy);return r.current===hy&&(r.current=e(n)),r}const t6=[];function n6(e){g.useEffect(e,t6)}class Qp{constructor(){Ae(this,"currentId",null);Ae(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Ae(this,"disposeEffect",()=>this.clear)}static create(){return new Qp}start(n,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},n)}}function fi(){const e=e6(Qp.create).current;return n6(e.disposeEffect),e}const r6={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Gt(e,n,r=void 0){const s={};for(const o in e){const a=e[o];let c="",d=!0;for(let u=0;u<a.length;u+=1){const h=a[u];h&&(c+=(d===!0?"":" ")+n(h),d=!1,r&&r[h]&&(c+=" "+r[h]))}s[o]=c}return s}const fy=e=>e,s6=()=>{let e=fy;return{configure(n){e=n},generate(n){return e(n)},reset(){e=fy}}},o6=s6(),i6={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function tn(e,n,r="Mui"){const s=i6[n];return s?`${r}-${s}`:`${o6.generate(e)}-${n}`}function cn(e,n,r="Mui"){const s={};return n.forEach(o=>{s[o]=tn(e,o,r)}),s}function a6(e){return typeof e=="string"}function l6(e,n,r){return e===void 0||a6(e)?n:{...n,ownerState:{...n.ownerState,...r}}}function c6(e,n=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(s=>s.match(/^on[A-Z]/)&&typeof e[s]=="function"&&!n.includes(s)).forEach(s=>{r[s]=e[s]}),r}function py(e){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{n[r]=e[r]}),n}function d6(e){const{getSlotProps:n,additionalProps:r,externalSlotProps:s,externalForwardedProps:o,className:a}=e;if(!n){const y=Xt(r==null?void 0:r.className,a,o==null?void 0:o.className,s==null?void 0:s.className),m={...r==null?void 0:r.style,...o==null?void 0:o.style,...s==null?void 0:s.style},w={...r,...o,...s};return y.length>0&&(w.className=y),Object.keys(m).length>0&&(w.style=m),{props:w,internalRef:void 0}}const c=c6({...o,...s}),d=py(s),u=py(o),h=n(c),p=Xt(h==null?void 0:h.className,r==null?void 0:r.className,a,o==null?void 0:o.className,s==null?void 0:s.className),x={...h==null?void 0:h.style,...r==null?void 0:r.style,...o==null?void 0:o.style,...s==null?void 0:s.style},b={...h,...r,...u,...d};return p.length>0&&(b.className=p),Object.keys(x).length>0&&(b.style=x),{props:b,internalRef:h.ref}}function Ia(e,n,r){return typeof e=="function"?e(n,r):e}function kt(e){var x;const{elementType:n,externalSlotProps:r,ownerState:s,skipResolvingSlotProps:o=!1,...a}=e,c=o?{}:Ia(r,s),{props:d,internalRef:u}=d6({...a,externalSlotProps:c}),h=Zn(u,c==null?void 0:c.ref,(x=e.additionalProps)==null?void 0:x.ref);return l6(n,{...d,ref:h},s)}const u6=["localeText"],Oh=g.createContext(null),Vj=function(n){const{localeText:r}=n,s=rt(n,u6),{utils:o,localeText:a}=g.useContext(Oh)??{utils:void 0,localeText:void 0},c=zt({props:s,name:"MuiLocalizationProvider"}),{children:d,dateAdapter:u,dateFormats:h,dateLibInstance:p,adapterLocale:x,localeText:b}=c,y=g.useMemo(()=>U({},b,a,r),[b,a,r]),m=g.useMemo(()=>{if(!u)return o||null;const D=new u({locale:x,formats:h,instance:p});if(!D.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/quickstart/#installation"].join(`
`));return D},[u,x,h,p,o]),w=g.useMemo(()=>m?{minDate:m.date("1900-01-01T00:00:00.000"),maxDate:m.date("2099-12-31T00:00:00.000")}:null,[m]),j=g.useMemo(()=>({utils:m,defaultDates:w,localeText:y}),[w,m,y]);return t.jsx(Oh.Provider,{value:j,children:d})},h6=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:U({},e)}}}}),Uj={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",nextStepButtonLabel:"Next",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",timeRangePickerToolbarTitle:"Select time range",clockLabelText:(e,n)=>`Select ${e}. ${n?`Selected time is ${n}`:"No time selected"}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:e=>e?`Choose date, selected date is ${e}`:"Choose date",openTimePickerDialogue:e=>e?`Choose time, selected time is ${e}`:"Choose time",openRangePickerDialogue:e=>e?`Choose range, selected range is ${e}`:"Choose range",fieldClearLabel:"Clear",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},f6=Uj;h6(Uj);const Bo=()=>{const e=g.useContext(Oh);if(e===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const n=g.useMemo(()=>U({},f6,e.localeText),[e.localeText]);return g.useMemo(()=>U({},e,{localeText:n}),[e,n])},Bt=()=>Bo().utils,zj=()=>Bo().defaultDates,Mi=e=>{const n=Bt(),r=g.useRef(void 0);return r.current===void 0&&(r.current=n.date(void 0,e)),r.current},ds=()=>Bo().localeText,p6=ao(t.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),x6=ao(t.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),m6=ao(t.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),g6=ao(t.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");ao(t.jsxs(g.Fragment,{children:[t.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),t.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");const b6=ao(t.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange"),y6=ao(t.jsxs(g.Fragment,{children:[t.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),t.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time"),v6=ao(t.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function j6(e){return tn("MuiPickersArrowSwitcher",e)}cn("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const Hj=g.createContext(()=>!0);function w6(){return g.useContext(Hj)}const Yj=g.createContext(null);function Gj(){return g.useContext(Yj)}const Zp=g.createContext(null),fo=()=>{const e=g.useContext(Zp);if(e==null)throw new Error("MUI X: The `usePickerContext` hook can only be called inside the context of a Picker component");return e},qj=g.createContext(null),Kj=g.createContext({ownerState:{isPickerDisabled:!1,isPickerReadOnly:!1,isPickerValueEmpty:!1,isPickerOpen:!1,pickerVariant:"desktop",pickerOrientation:"portrait"},rootRefObject:{current:null},labelId:void 0,dismissViews:()=>{},hasUIView:!0,getCurrentViewMode:()=>"UI",triggerElement:null,viewContainerRole:null,defaultActionBarActions:[],onPopperExited:void 0});function Xj(e){const{contextValue:n,actionsContextValue:r,privateContextValue:s,fieldPrivateContextValue:o,isValidContextValue:a,localeText:c,children:d}=e;return t.jsx(Zp.Provider,{value:n,children:t.jsx(qj.Provider,{value:r,children:t.jsx(Kj.Provider,{value:s,children:t.jsx(Yj.Provider,{value:o,children:t.jsx(Hj.Provider,{value:a,children:t.jsx(Vj,{localeText:c,children:d})})})})})})}const Cn=()=>g.useContext(Kj),S6=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId","classes"],C6=["ownerState"],P6=["ownerState"],D6=_e("div",{name:"MuiPickersArrowSwitcher",slot:"Root"})({display:"flex"}),T6=_e("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer"})(({theme:e})=>({width:e.spacing(3)})),xy=_e($e,{name:"MuiPickersArrowSwitcher",slot:"Button"})({variants:[{props:{isButtonHidden:!0},style:{visibility:"hidden"}}]}),I6=e=>Gt({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},j6,e),E6=g.forwardRef(function(n,r){const s=ws(),o=zt({props:n,name:"MuiPickersArrowSwitcher"}),{children:a,className:c,slots:d,slotProps:u,isNextDisabled:h,isNextHidden:p,onGoToNext:x,nextLabel:b,isPreviousDisabled:y,isPreviousHidden:m,onGoToPrevious:w,previousLabel:j,labelId:D,classes:C}=o,R=rt(o,S6),{ownerState:E}=Cn(),T=I6(C),I={isDisabled:h,isHidden:p,goTo:x,label:b},N={isDisabled:y,isHidden:m,goTo:w,label:j},O=(d==null?void 0:d.previousIconButton)??xy,$=kt({elementType:O,externalSlotProps:u==null?void 0:u.previousIconButton,additionalProps:{size:"medium",title:N.label,"aria-label":N.label,disabled:N.isDisabled,edge:"end",onClick:N.goTo},ownerState:U({},E,{isButtonHidden:N.isHidden??!1}),className:Xt(T.button,T.previousIconButton)}),B=(d==null?void 0:d.nextIconButton)??xy,H=kt({elementType:B,externalSlotProps:u==null?void 0:u.nextIconButton,additionalProps:{size:"medium",title:I.label,"aria-label":I.label,disabled:I.isDisabled,edge:"start",onClick:I.goTo},ownerState:U({},E,{isButtonHidden:I.isHidden??!1}),className:Xt(T.button,T.nextIconButton)}),k=(d==null?void 0:d.leftArrowIcon)??x6,ne=kt({elementType:k,externalSlotProps:u==null?void 0:u.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:E,className:T.leftArrowIcon}),K=rt(ne,C6),q=(d==null?void 0:d.rightArrowIcon)??m6,te=kt({elementType:q,externalSlotProps:u==null?void 0:u.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:E,className:T.rightArrowIcon}),ie=rt(te,P6);return t.jsxs(D6,U({ref:r,className:Xt(T.root,c),ownerState:E},R,{children:[t.jsx(O,U({},$,{children:s?t.jsx(q,U({},ie)):t.jsx(k,U({},K))})),a?t.jsx(v,{variant:"subtitle1",component:"span",id:D,children:a}):t.jsx(T6,{className:T.spacer,ownerState:E}),t.jsx(B,U({},H,{children:s?t.jsx(k,U({},K)):t.jsx(q,U({},ie))}))]}))}),gs=(e,n)=>e.length!==n.length?!1:n.every(r=>e.includes(r)),A6=({openTo:e,defaultOpenTo:n,views:r,defaultViews:s})=>{const o=r??s;let a;if(e!=null)a=e;else if(o.includes(n))a=n;else if(o.length>0)a=o[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:o,openTo:a}},Jj=["hours","minutes","seconds"],R6=["hours","minutes","seconds","meridiem"],Ea=e=>Jj.includes(e),li=e=>R6.includes(e),_6=(e,n)=>e?n.getHours(e)>=12?"pm":"am":null,Mh=(e,n,r)=>r&&(e>=12?"pm":"am")!==n?n==="am"?e-12:e+12:e,O6=(e,n,r,s)=>{const o=Mh(s.getHours(e),n,r);return s.setHours(e,o)},my=(e,n)=>n.getHours(e)*3600+n.getMinutes(e)*60+n.getSeconds(e),ud=(e,n)=>(r,s)=>e?n.isAfter(r,s):my(r,n)>my(s,n),gy=(e,{format:n,views:r,ampm:s})=>{if(n!=null)return n;const o=e.formats;return gs(r,["hours"])?s?`${o.hours12h} ${o.meridiem}`:o.hours24h:gs(r,["minutes"])?o.minutes:gs(r,["seconds"])?o.seconds:gs(r,["minutes","seconds"])?`${o.minutes}:${o.seconds}`:gs(r,["hours","minutes","seconds"])?s?`${o.hours12h}:${o.minutes}:${o.seconds} ${o.meridiem}`:`${o.hours24h}:${o.minutes}:${o.seconds}`:s?`${o.hours12h}:${o.minutes} ${o.meridiem}`:`${o.hours24h}:${o.minutes}`},Qj={hasNextStep:!1,hasSeveralSteps:!1,goToNextStep:()=>{},areViewsInSameStep:()=>!0};function M6(e){const{steps:n,isViewMatchingStep:r,onStepChange:s}=e;return o=>{if(n==null)return Qj;const a=n.findIndex(d=>r(o.view,d)),c=a===-1||a===n.length-1?null:n[a+1];return{hasNextStep:c!=null,hasSeveralSteps:n.length>1,goToNextStep:()=>{c!=null&&s(U({},o,{step:c}))},areViewsInSameStep:(d,u)=>{const h=n.find(x=>r(d,x)),p=n.find(x=>r(u,x));return h===p}}}}function hd({onChange:e,onViewChange:n,openTo:r,view:s,views:o,autoFocus:a,focusedView:c,onFocusedViewChange:d,getStepNavigation:u}){const h=g.useRef(r),p=g.useRef(o),x=g.useRef(o.includes(r)?r:o[0]),[b,y]=Pi({name:"useViews",state:"view",controlled:s,default:x.current}),m=g.useRef(a?b:null),[w,j]=Pi({name:"useViews",state:"focusedView",controlled:c,default:m.current}),D=u?u({setView:y,view:b,defaultView:x.current,views:o}):Qj;g.useEffect(()=>{(h.current&&h.current!==r||p.current&&p.current.some($=>!o.includes($)))&&(y(o.includes(r)?r:o[0]),p.current=o,h.current=r)},[r,y,b,o]);const C=o.indexOf(b),R=o[C-1]??null,E=o[C+1]??null,T=We(($,B)=>{j(B?$:H=>$===H?null:H),d==null||d($,B)}),I=We($=>{T($,!0),$!==b&&(y($),n&&n($))}),N=We(()=>{E&&I(E)}),O=We(($,B,H)=>{const k=B==="finish",ne=H?o.indexOf(H)<o.length-1:!!E;e($,k&&ne?"partial":B,H);let q=null;if(H!=null&&H!==b?q=H:k&&(q=b),q==null)return;const te=o[o.indexOf(q)+1];te==null||!D.areViewsInSameStep(q,te)||I(te)});return U({},D,{view:b,setView:I,focusedView:w,setFocusedView:T,nextView:E,previousView:R,defaultView:o.includes(r)?r:o[0],goToNextView:N,setValueAndGoToNextView:O})}function k6(e,{disableFuture:n,maxDate:r,timezone:s}){const o=Bt();return g.useMemo(()=>{const a=o.date(void 0,s),c=o.startOfMonth(n&&o.isBefore(a,r)?a:r);return!o.isAfter(c,e)},[n,r,e,o,s])}function N6(e,{disablePast:n,minDate:r,timezone:s}){const o=Bt();return g.useMemo(()=>{const a=o.date(void 0,s),c=o.startOfMonth(n&&o.isAfter(a,r)?a:r);return!o.isBefore(c,e)},[n,r,e,o,s])}function Zj(e,n,r,s){const o=Bt(),a=g.useMemo(()=>o.isValid(e)?e:null,[o,e]),c=_6(a,o),d=g.useCallback(u=>{const h=a==null?null:O6(a,u,!!n,o);r(h,s??"partial")},[n,a,r,s,o]);return{meridiemMode:c,handleMeridiemChange:d}}const Aa=36,fd=2,Di=320,L6=280,Ti=336,e1=232,ca=48,ex=_e("div")({overflow:"hidden",width:Di,maxHeight:Ti,display:"flex",flexDirection:"column",margin:"0 auto"}),Ac=(e,n,r)=>{let s=n;return s=e.setHours(s,e.getHours(r)),s=e.setMinutes(s,e.getMinutes(r)),s=e.setSeconds(s,e.getSeconds(r)),s=e.setMilliseconds(s,e.getMilliseconds(r)),s},Ra=({date:e,disableFuture:n,disablePast:r,maxDate:s,minDate:o,isDateDisabled:a,utils:c,timezone:d})=>{const u=Ac(c,c.date(void 0,d),e);r&&c.isBefore(o,u)&&(o=u),n&&c.isAfter(s,u)&&(s=u);let h=e,p=e;for(c.isBefore(e,o)&&(h=o,p=null),c.isAfter(e,s)&&(p&&(p=s),h=null);h||p;){if(h&&c.isAfter(h,s)&&(h=null),p&&c.isBefore(p,o)&&(p=null),h){if(!a(h))return h;h=c.addDays(h,1)}if(p){if(!a(p))return p;p=c.addDays(p,-1)}}return null},$6=(e,n)=>e.isValid(n)?n:null,Rc=(e,n,r)=>n==null||!e.isValid(n)?r:n,F6=(e,n,r)=>!e.isValid(n)&&n!=null&&!e.isValid(r)&&r!=null?!0:e.isEqual(n,r),tx=(e,n)=>{const s=[e.startOfYear(n)];for(;s.length<12;){const o=s[s.length-1];s.push(e.addMonths(o,1))}return s},nx=(e,n,r)=>r==="date"?e.startOfDay(e.date(void 0,n)):e.date(void 0,n),ma=(e,n)=>{const r=e.setHours(e.date(),n==="am"?2:14);return e.format(r,"meridiem")},t1=["year","month","day"],Ii=e=>t1.includes(e),by=(e,{format:n,views:r},s)=>{if(n!=null)return n;const o=e.formats;return gs(r,["year"])?o.year:gs(r,["month"])?o.month:gs(r,["day"])?o.dayOfMonth:gs(r,["month","year"])?`${o.month} ${o.year}`:gs(r,["day","month"])?`${o.month} ${o.dayOfMonth}`:o.keyboardDate},W6=(e,n)=>{const r=e.startOfWeek(n);return[0,1,2,3,4,5,6].map(s=>e.addDays(r,s))},Vo=({name:e,timezone:n,value:r,defaultValue:s,referenceDate:o,onChange:a,valueManager:c})=>{const d=Bt(),[u,h]=Pi({name:e,state:"value",controlled:r,default:s??c.emptyValue}),p=g.useMemo(()=>c.getTimezone(d,u),[d,c,u]),x=We(w=>p==null?w:c.setTimezone(d,p,w)),b=g.useMemo(()=>n||p||(o?d.getTimezone(o):"default"),[n,p,o,d]),y=g.useMemo(()=>c.setTimezone(d,b,u),[c,d,b,u]),m=We((w,...j)=>{const D=x(w);h(D),a==null||a(D,...j)});return{value:y,handleValueChange:m,timezone:b}},os={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},B6=e=>Math.max(...e.map(n=>os[n.type]??1)),oa=(e,n,r)=>{if(n===os.year)return e.startOfYear(r);if(n===os.month)return e.startOfMonth(r);if(n===os.day)return e.startOfDay(r);let s=r;return n<os.minutes&&(s=e.setMinutes(s,0)),n<os.seconds&&(s=e.setSeconds(s,0)),n<os.milliseconds&&(s=e.setMilliseconds(s,0)),s},V6=({props:e,utils:n,granularity:r,timezone:s,getTodayDate:o})=>{let a=o?o():oa(n,r,nx(n,s));e.minDate!=null&&n.isAfterDay(e.minDate,a)&&(a=oa(n,r,e.minDate)),e.maxDate!=null&&n.isBeforeDay(e.maxDate,a)&&(a=oa(n,r,e.maxDate));const c=ud(e.disableIgnoringDatePartForTimeValidation??!1,n);return e.minTime!=null&&c(e.minTime,a)&&(a=oa(n,r,e.disableIgnoringDatePartForTimeValidation?e.minTime:Ac(n,a,e.minTime))),e.maxTime!=null&&c(a,e.maxTime)&&(a=oa(n,r,e.disableIgnoringDatePartForTimeValidation?e.maxTime:Ac(n,a,e.maxTime))),a},n1=(e,n)=>{const r=e.formatTokenMap[n];if(r==null)throw new Error([`MUI X: The token "${n}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof r=="string"?{type:r,contentType:r==="meridiem"?"letter":"digit",maxLength:void 0}:{type:r.sectionType,contentType:r.contentType,maxLength:r.maxLength}},pd=(e,n)=>{const r=[],s=e.date(void 0,"default"),o=e.startOfWeek(s),a=e.endOfWeek(s);let c=o;for(;e.isBefore(c,a);)r.push(c),c=e.addDays(c,1);return r.map(d=>e.formatByString(d,n))},r1=(e,n,r,s)=>{switch(r){case"month":return tx(e,e.date(void 0,n)).map(o=>e.formatByString(o,s));case"weekDay":return pd(e,s);case"meridiem":{const o=e.date(void 0,n);return[e.startOfDay(o),e.endOfDay(o)].map(a=>e.formatByString(a,s))}default:return[]}},yy="s",U6=["0","1","2","3","4","5","6","7","8","9"],z6=e=>{const n=e.date(void 0);return e.formatByString(e.setSeconds(n,0),yy)==="0"?U6:Array.from({length:10}).map((s,o)=>e.formatByString(e.setSeconds(n,o),yy))},Lo=(e,n)=>{if(n[0]==="0")return e;const r=[];let s="";for(let o=0;o<e.length;o+=1){s+=e[o];const a=n.indexOf(s);a>-1&&(r.push(a.toString()),s="")}return r.join("")},rx=(e,n)=>n[0]==="0"?e:e.split("").map(r=>n[Number(r)]).join(""),vy=(e,n)=>{const r=Lo(e,n);return r!==" "&&!Number.isNaN(Number(r))},sx=(e,n)=>Number(e).toString().padStart(n,"0"),s1=(e,n,r,s,o)=>{if(o.type==="day"&&o.contentType==="digit-with-letter"){const c=e.setDate(r.longestMonth,n);return e.formatByString(c,o.format)}let a=n.toString();return o.hasLeadingZerosInInput&&(a=sx(a,o.maxLength)),rx(a,s)},ox=(e,n,r)=>{let s=e.value||e.placeholder;const o=n==="non-input"?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;return n==="non-input"&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(s=Number(Lo(s,r)).toString()),["input-rtl","input-ltr"].includes(n)&&e.contentType==="digit"&&!o&&s.length===1&&(s=`${s}`),n==="input-rtl"&&(s=`${s}`),s},jy=(e,n,r,s)=>e.formatByString(e.parse(n,r),s),H6=(e,n)=>e.formatByString(e.date(void 0,"system"),n).length===4,o1=(e,n,r,s)=>{if(n!=="digit")return!1;const o=e.date(void 0,"default");switch(r){case"year":return e.lib==="dayjs"&&s==="YY"?!0:e.formatByString(e.setYear(o,1),s).startsWith("0");case"month":return e.formatByString(e.startOfYear(o),s).length>1;case"day":return e.formatByString(e.startOfMonth(o),s).length>1;case"weekDay":return e.formatByString(e.startOfWeek(o),s).length>1;case"hours":return e.formatByString(e.setHours(o,1),s).length>1;case"minutes":return e.formatByString(e.setMinutes(o,1),s).length>1;case"seconds":return e.formatByString(e.setSeconds(o,1),s).length>1;default:throw new Error("Invalid section type")}},Y6=(e,n,r)=>{const s=n.some(u=>u.type==="day"),o=[],a=[];for(let u=0;u<n.length;u+=1){const h=n[u];s&&h.type==="weekDay"||(o.push(h.format),a.push(ox(h,"non-input",r)))}const c=o.join(" "),d=a.join(" ");return e.parse(d,c)},G6=e=>e.map(n=>`${n.startSeparator}${n.value||n.placeholder}${n.endSeparator}`).join(""),q6=(e,n,r)=>{const o=e.map(a=>{const c=ox(a,r?"input-rtl":"input-ltr",n);return`${a.startSeparator}${c}${a.endSeparator}`}).join("");return r?`${o}`:o},K6=(e,n,r)=>{const s=e.date(void 0,r),o=e.endOfYear(s),a=e.endOfDay(s),{maxDaysInMonth:c,longestMonth:d}=tx(e,s).reduce((u,h)=>{const p=e.getDaysInMonth(h);return p>u.maxDaysInMonth?{maxDaysInMonth:p,longestMonth:h}:u},{maxDaysInMonth:0,longestMonth:null});return{year:({format:u})=>({minimum:0,maximum:H6(e,u)?9999:99}),month:()=>({minimum:1,maximum:e.getMonth(o)+1}),day:({currentDate:u})=>({minimum:1,maximum:e.isValid(u)?e.getDaysInMonth(u):c,longestMonth:d}),weekDay:({format:u,contentType:h})=>{if(h==="digit"){const p=pd(e,u).map(Number);return{minimum:Math.min(...p),maximum:Math.max(...p)}}return{minimum:1,maximum:7}},hours:({format:u})=>{const h=e.getHours(a);return Lo(e.formatByString(e.endOfDay(s),u),n)!==h.toString()?{minimum:1,maximum:Number(Lo(e.formatByString(e.startOfDay(s),u),n))}:{minimum:0,maximum:h}},minutes:()=>({minimum:0,maximum:e.getMinutes(a)}),seconds:()=>({minimum:0,maximum:e.getSeconds(a)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},X6=(e,n,r,s)=>{switch(n.type){case"year":return e.setYear(s,e.getYear(r));case"month":return e.setMonth(s,e.getMonth(r));case"weekDay":{let o=e.formatByString(r,n.format);n.hasLeadingZerosInInput&&(o=sx(o,n.maxLength));const a=pd(e,n.format),c=a.indexOf(o),u=a.indexOf(n.value)-c;return e.addDays(r,u)}case"day":return e.setDate(s,e.getDate(r));case"meridiem":{const o=e.getHours(r)<12,a=e.getHours(s);return o&&a>=12?e.addHours(s,-12):!o&&a<12?e.addHours(s,12):s}case"hours":return e.setHours(s,e.getHours(r));case"minutes":return e.setMinutes(s,e.getMinutes(r));case"seconds":return e.setSeconds(s,e.getSeconds(r));default:return s}},wy={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},Sy=(e,n,r,s,o)=>[...r].sort((a,c)=>wy[a.type]-wy[c.type]).reduce((a,c)=>!o||c.modified?X6(e,c,n,a):a,s),J6=()=>navigator.userAgent.toLowerCase().includes("android"),Q6=(e,n)=>{const r={};if(!n)return e.forEach((u,h)=>{const p=h===0?null:h-1,x=h===e.length-1?null:h+1;r[h]={leftIndex:p,rightIndex:x}}),{neighbors:r,startIndex:0,endIndex:e.length-1};const s={},o={};let a=0,c=0,d=e.length-1;for(;d>=0;){c=e.findIndex((u,h)=>{var p;return h>=a&&((p=u.endSeparator)==null?void 0:p.includes(" "))&&u.endSeparator!==" / "}),c===-1&&(c=e.length-1);for(let u=c;u>=a;u-=1)o[u]=d,s[d]=u,d-=1;a=c+1}return e.forEach((u,h)=>{const p=o[h],x=p===0?null:s[p-1],b=p===e.length-1?null:s[p+1];r[h]={leftIndex:x,rightIndex:b}}),{neighbors:r,startIndex:s[0],endIndex:s[e.length-1]}},kh=(e,n)=>{if(e==null)return null;if(e==="all")return"all";if(typeof e=="string"){const r=n.findIndex(s=>s.type===e);return r===-1?null:r}return e},Z6=["value","referenceDate"],lr={emptyValue:null,getTodayValue:nx,getInitialReferenceValue:e=>{let{value:n,referenceDate:r}=e,s=rt(e,Z6);return s.utils.isValid(n)?n:r??V6(s)},cleanValue:$6,areValuesEqual:F6,isSameError:(e,n)=>e===n,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,n)=>e.isValid(n)?e.getTimezone(n):null,setTimezone:(e,n,r)=>r==null?null:e.setTimezone(r,n)},eV={updateReferenceValue:(e,n,r)=>e.isValid(n)?n:r,getSectionsFromValue:(e,n)=>n(e),getV7HiddenInputValueFromSections:G6,getV6InputValueFromSections:q6,parseValueStr:(e,n,r)=>r(e.trim(),n),getDateFromSection:e=>e,getDateSectionsFromValue:e=>e,updateDateInValue:(e,n,r)=>r,clearDateSections:e=>e.map(n=>U({},n,{value:""}))},i1=({value:e,referenceDate:n,utils:r,props:s,timezone:o})=>{const a=g.useMemo(()=>lr.getInitialReferenceValue({value:e,utils:r,props:s,referenceDate:n,granularity:os.day,timezone:o,getTodayDate:()=>nx(r,o,"date")}),[]);return e??a};function tV(e){return tn("MuiDigitalClock",e)}const Nh=cn("MuiDigitalClock",["root","list","item"]);function nV(e,n){return Array.isArray(n)?n.every(r=>e.indexOf(r)!==-1):e.indexOf(n)!==-1}const rV=e=>{setTimeout(e,0)},zn=(e=document)=>{const n=e.activeElement;return n?n.shadowRoot?zn(n.shadowRoot):n:null},_c=e=>Array.from(e.children).indexOf(zn(document)),sV="@media (pointer: fine)";function oV(...e){return e.reduce((n,r)=>(Array.isArray(r)?n.push(...r):r!=null&&n.push(r),n),[])}const iV=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","views","skipDisabled","timezone"],aV=e=>Gt({root:["root"],list:["list"],item:["item"]},tV,e),lV=_e(ex,{name:"MuiDigitalClock",slot:"Root"})({overflowY:"auto",width:"100%",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:e1,variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),cV=_e(Yy,{name:"MuiDigitalClock",slot:"List"})({padding:0}),dV=_e(Se,{name:"MuiDigitalClock",slot:"Item",shouldForwardProp:e=>e!=="itemValue"&&e!=="formattedValue"})(({theme:e})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ie(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Ie(e.palette.primary.main,e.palette.action.focusOpacity)}})),uV=g.forwardRef(function(n,r){const s=Bt(),o=g.useRef(null),a=Zn(r,o),c=g.useRef(null),d=zt({props:n,name:"MuiDigitalClock"}),{ampm:u=s.is12HourCycleInCurrentLocale(),timeStep:h=30,autoFocus:p,slots:x,slotProps:b,value:y,defaultValue:m,referenceDate:w,disableIgnoringDatePartForTimeValidation:j=!1,maxTime:D,minTime:C,disableFuture:R,disablePast:E,minutesStep:T=1,shouldDisableTime:I,onChange:N,view:O,openTo:$,onViewChange:B,focusedView:H,onFocusedViewChange:k,className:ne,classes:K,disabled:q,readOnly:te,views:ie=["hours"],skipDisabled:se=!1,timezone:ae}=d,V=rt(d,iV),{value:X,handleValueChange:we,timezone:ce}=Vo({name:"DigitalClock",timezone:ae,value:y,defaultValue:m,referenceDate:w,onChange:N,valueManager:lr}),Ee=ds(),de=Mi(ce),{ownerState:re}=Cn(),L=U({},re,{hasDigitalClockAlreadyBeenRendered:!!o.current}),xe=aV(K),oe=(x==null?void 0:x.digitalClockItem)??dV,Y=kt({elementType:oe,externalSlotProps:b==null?void 0:b.digitalClockItem,ownerState:L,className:xe.item}),G=i1({value:X,referenceDate:w,utils:s,props:d,timezone:ce}),fe=We(Ne=>we(Ne,"finish","hours")),{setValueAndGoToNextView:me}=hd({view:O,views:ie,openTo:$,onViewChange:B,onChange:fe,focusedView:H,onFocusedViewChange:k}),ue=We(Ne=>{me(Ne,"finish")});Kr(()=>{if(o.current===null)return;const Ne=o.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!Ne)return;const J=Ne.offsetTop;(p||H)&&Ne.focus(),o.current.scrollTop=J-4});const Re=g.useCallback(Ne=>{const J=ud(j,s),be=()=>!(C&&J(C,Ne)||D&&J(Ne,D)||R&&J(Ne,de)||E&&J(de,Ne)),Qe=()=>s.getMinutes(Ne)%T!==0?!1:I?!I(Ne,"hours"):!0;return!be()||!Qe()},[j,s,C,D,R,de,E,T,I]),De=g.useMemo(()=>{const Ne=[];let be=s.startOfDay(G);for(;s.isSameDay(G,be);)Ne.push(be),be=s.addMinutes(be,h);return Ne},[G,h,s]),Ye=De.findIndex(Ne=>s.isEqual(Ne,G)),Me=Ne=>{switch(Ne.key){case"PageUp":{const J=_c(c.current)-5,be=c.current.children,Qe=Math.max(0,J),vt=be[Qe];vt&&vt.focus(),Ne.preventDefault();break}case"PageDown":{const J=_c(c.current)+5,be=c.current.children,Qe=Math.min(be.length-1,J),vt=be[Qe];vt&&vt.focus(),Ne.preventDefault();break}}};return t.jsx(lV,U({ref:a,className:Xt(xe.root,ne),ownerState:L},V,{children:t.jsx(cV,{ref:c,role:"listbox","aria-label":Ee.timePickerToolbarTitle,className:xe.list,onKeyDown:Me,children:De.map((Ne,J)=>{const be=Re(Ne);if(se&&be)return null;const Qe=s.isEqual(Ne,X),vt=s.format(Ne,u?"fullTime12h":"fullTime24h"),Lt=Ye===J||Ye===-1&&J===0?0:-1;return t.jsx(oe,U({onClick:()=>!te&&ue(Ne),selected:Qe,disabled:q||be,disableRipple:te,role:"option","aria-disabled":te,"aria-selected":Qe,tabIndex:Lt,itemValue:Ne,formattedValue:vt},Y,{children:vt}),`${Ne.valueOf()}-${vt}`)})})}))});function hV(e){return tn("MuiMultiSectionDigitalClock",e)}const Lh=cn("MuiMultiSectionDigitalClock",["root"]);function fV(e){return tn("MuiMultiSectionDigitalClockSection",e)}const $h=cn("MuiMultiSectionDigitalClockSection",["root","item"]),pV=["autoFocus","onChange","className","classes","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],xV=e=>Gt({root:["root"],item:["item"]},fV,e),mV=_e(Yy,{name:"MuiMultiSectionDigitalClockSection",slot:"Root"})(({theme:e})=>({maxHeight:e1,width:56,padding:0,overflow:"hidden",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(e.vars||e).palette.divider}`},"&::after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"},variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),gV=_e(Se,{name:"MuiMultiSectionDigitalClockSection",slot:"Item"})(({theme:e})=>({padding:8,margin:"2px 4px",width:ca,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ie(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Ie(e.palette.primary.main,e.palette.action.focusOpacity)}})),bV=g.forwardRef(function(n,r){const s=g.useRef(null),o=Zn(r,s),a=g.useRef(null),c=zt({props:n,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:d,onChange:u,className:h,classes:p,disabled:x,readOnly:b,items:y,active:m,slots:w,slotProps:j,skipDisabled:D}=c,C=rt(c,pV),{ownerState:R}=Cn(),E=U({},R,{hasDigitalClockAlreadyBeenRendered:!!s.current}),T=xV(p),I=(w==null?void 0:w.digitalClockSectionItem)??gV;Kr(()=>{if(s.current===null)return;const $=s.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(m&&d&&$&&$.focus(),!$||a.current===$)return;a.current=$;const B=$.offsetTop;s.current.scrollTop=B-4});const N=y.findIndex($=>$.isFocused($.value)),O=$=>{switch($.key){case"PageUp":{const B=_c(s.current)-5,H=s.current.children,k=Math.max(0,B),ne=H[k];ne&&ne.focus(),$.preventDefault();break}case"PageDown":{const B=_c(s.current)+5,H=s.current.children,k=Math.min(H.length-1,B),ne=H[k];ne&&ne.focus(),$.preventDefault();break}}};return t.jsx(mV,U({ref:o,className:Xt(T.root,h),ownerState:E,autoFocusItem:d&&m,role:"listbox",onKeyDown:O},C,{children:y.map(($,B)=>{var q;const H=(q=$.isDisabled)==null?void 0:q.call($,$.value),k=x||H;if(D&&k)return null;const ne=$.isSelected($.value),K=N===B||N===-1&&B===0?0:-1;return t.jsx(I,U({onClick:()=>!b&&u($.value),selected:ne,disabled:k,disableRipple:b,role:"option","aria-disabled":b||k||void 0,"aria-label":$.ariaLabel,"aria-selected":ne,tabIndex:K,className:T.item},j==null?void 0:j.digitalClockSectionItem,{children:$.label}),$.label)})}))}),yV=({now:e,value:n,utils:r,ampm:s,isDisabled:o,resolveAriaLabel:a,timeStep:c,valueOrReferenceDate:d})=>{const u=n?r.getHours(n):null,h=[],p=(y,m)=>{const w=m??u;return w===null?!1:s?y===12?w===12||w===0:w===y||w-12===y:w===y},x=y=>p(y,r.getHours(d)),b=s?11:23;for(let y=0;y<=b;y+=c){let m=r.format(r.setHours(e,y),s?"hours12h":"hours24h");const w=a(parseInt(m,10).toString());m=r.formatNumber(m),h.push({value:y,label:m,isSelected:p,isDisabled:o,isFocused:x,ariaLabel:w})}return h},Cy=({value:e,utils:n,isDisabled:r,timeStep:s,resolveLabel:o,resolveAriaLabel:a,hasValue:c=!0})=>{const d=h=>e===null?!1:c&&e===h,u=h=>e===h;return[...Array.from({length:Math.ceil(60/s)},(h,p)=>{const x=s*p;return{value:x,label:n.formatNumber(o(x)),isDisabled:r,isSelected:d,isFocused:u,ariaLabel:a(x.toString())}})]},vV=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","skipDisabled","timezone"],jV=e=>Gt({root:["root"]},hV,e),wV=_e(ex,{name:"MuiMultiSectionDigitalClock",slot:"Root"})(({theme:e})=>({flexDirection:"row",width:"100%",borderBottom:`1px solid ${(e.vars||e).palette.divider}`})),SV=g.forwardRef(function(n,r){const s=Bt(),o=ws(),a=zt({props:n,name:"MuiMultiSectionDigitalClock"}),{ampm:c=s.is12HourCycleInCurrentLocale(),timeSteps:d,autoFocus:u,slots:h,slotProps:p,value:x,defaultValue:b,referenceDate:y,disableIgnoringDatePartForTimeValidation:m=!1,maxTime:w,minTime:j,disableFuture:D,disablePast:C,minutesStep:R=1,shouldDisableTime:E,onChange:T,view:I,views:N=["hours","minutes"],openTo:O,onViewChange:$,focusedView:B,onFocusedViewChange:H,className:k,classes:ne,disabled:K,readOnly:q,skipDisabled:te=!1,timezone:ie}=a,se=rt(a,vV),{value:ae,handleValueChange:V,timezone:X}=Vo({name:"MultiSectionDigitalClock",timezone:ie,value:x,defaultValue:b,referenceDate:y,onChange:T,valueManager:lr}),we=ds(),ce=Mi(X),Ee=g.useMemo(()=>U({hours:1,minutes:5,seconds:5},d),[d]),de=i1({value:ae,referenceDate:y,utils:s,props:a,timezone:X}),re=We((J,be,Qe)=>V(J,be,Qe)),L=g.useMemo(()=>!c||!N.includes("hours")||N.includes("meridiem")?N:[...N,"meridiem"],[c,N]),{view:xe,setValueAndGoToNextView:oe,focusedView:Y}=hd({view:I,views:L,openTo:O,onViewChange:$,onChange:re,focusedView:B,onFocusedViewChange:H}),G=We(J=>{oe(J,"finish","meridiem")}),{meridiemMode:fe,handleMeridiemChange:me}=Zj(de,c,G,"finish"),ue=g.useCallback((J,be)=>{const Qe=ud(m,s),vt=be==="hours"||be==="minutes"&&L.includes("seconds"),nn=({start:At,end:qt})=>!(j&&Qe(j,qt)||w&&Qe(At,w)||D&&Qe(At,ce)||C&&Qe(ce,vt?qt:At)),Lt=(At,qt=1)=>{if(At%qt!==0)return!1;if(E)switch(be){case"hours":return!E(s.setHours(de,At),"hours");case"minutes":return!E(s.setMinutes(de,At),"minutes");case"seconds":return!E(s.setSeconds(de,At),"seconds");default:return!1}return!0};switch(be){case"hours":{const At=Mh(J,fe,c),qt=s.setHours(de,At);if(s.getHours(qt)!==At)return!0;const kn=s.setSeconds(s.setMinutes(qt,0),0),dt=s.setSeconds(s.setMinutes(qt,59),59);return!nn({start:kn,end:dt})||!Lt(At)}case"minutes":{const At=s.setMinutes(de,J),qt=s.setSeconds(At,0),kn=s.setSeconds(At,59);return!nn({start:qt,end:kn})||!Lt(J,R)}case"seconds":{const At=s.setSeconds(de,J);return!nn({start:At,end:At})||!Lt(J)}default:throw new Error("not supported")}},[c,de,m,w,fe,j,R,E,s,D,C,ce,L]),Re=g.useCallback(J=>{switch(J){case"hours":return{onChange:be=>{const Qe=Mh(be,fe,c);oe(s.setHours(de,Qe),"finish","hours")},items:yV({now:ce,value:ae,ampm:c,utils:s,isDisabled:be=>ue(be,"hours"),timeStep:Ee.hours,resolveAriaLabel:we.hoursClockNumberText,valueOrReferenceDate:de})};case"minutes":return{onChange:be=>{oe(s.setMinutes(de,be),"finish","minutes")},items:Cy({value:s.getMinutes(de),utils:s,isDisabled:be=>ue(be,"minutes"),resolveLabel:be=>s.format(s.setMinutes(ce,be),"minutes"),timeStep:Ee.minutes,hasValue:!!ae,resolveAriaLabel:we.minutesClockNumberText})};case"seconds":return{onChange:be=>{oe(s.setSeconds(de,be),"finish","seconds")},items:Cy({value:s.getSeconds(de),utils:s,isDisabled:be=>ue(be,"seconds"),resolveLabel:be=>s.format(s.setSeconds(ce,be),"seconds"),timeStep:Ee.seconds,hasValue:!!ae,resolveAriaLabel:we.secondsClockNumberText})};case"meridiem":{const be=ma(s,"am"),Qe=ma(s,"pm");return{onChange:me,items:[{value:"am",label:be,isSelected:()=>!!ae&&fe==="am",isFocused:()=>!!de&&fe==="am",ariaLabel:be},{value:"pm",label:Qe,isSelected:()=>!!ae&&fe==="pm",isFocused:()=>!!de&&fe==="pm",ariaLabel:Qe}]}}default:throw new Error(`Unknown view: ${J} found.`)}},[ce,ae,c,s,Ee.hours,Ee.minutes,Ee.seconds,we.hoursClockNumberText,we.minutesClockNumberText,we.secondsClockNumberText,fe,oe,de,ue,me]),De=g.useMemo(()=>{if(!o)return L;const J=L.filter(be=>be!=="meridiem");return J.reverse(),L.includes("meridiem")&&J.push("meridiem"),J},[o,L]),Ye=g.useMemo(()=>L.reduce((J,be)=>U({},J,{[be]:Re(be)}),{}),[L,Re]),{ownerState:Me}=Cn(),Ne=jV(ne);return t.jsx(wV,U({ref:r,className:Xt(Ne.root,k),ownerState:Me,role:"group"},se,{children:De.map(J=>t.jsx(bV,{items:Ye[J].items,onChange:Ye[J].onChange,active:xe===J,autoFocus:u||Y===J,disabled:K,readOnly:q,slots:h,slotProps:p,skipDisabled:te,"aria-label":we.selectViewText(J)},J))}))});function CV(e){return tn("MuiPickersDay",e)}const To=cn("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]);function a1(e){const{disabled:n,selected:r,today:s,outsideCurrentMonth:o,day:a,disableMargin:c,disableHighlightToday:d,showDaysOutsideCurrentMonth:u}=e,h=Bt(),{ownerState:p}=Cn();return g.useMemo(()=>U({},p,{day:a,isDaySelected:r??!1,isDayDisabled:n??!1,isDayCurrent:s??!1,isDayOutsideMonth:o??!1,isDayStartOfWeek:h.isSameDay(a,h.startOfWeek(a)),isDayEndOfWeek:h.isSameDay(a,h.endOfWeek(a)),disableMargin:c??!1,disableHighlightToday:d??!1,showDaysOutsideCurrentMonth:u??!1}),[h,p,a,r,n,s,o,c,d,u])}const PV=["autoFocus","className","classes","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","children","isFirstVisibleCell","isLastVisibleCell","day","selected","disabled","today","outsideCurrentMonth","disableMargin","disableHighlightToday","showDaysOutsideCurrentMonth"],DV=(e,n)=>{const{isDaySelected:r,isDayDisabled:s,isDayCurrent:o,isDayOutsideMonth:a,disableMargin:c,disableHighlightToday:d,showDaysOutsideCurrentMonth:u}=n,h=a&&!u;return Gt({root:["root",r&&!h&&"selected",s&&"disabled",!c&&"dayWithMargin",!d&&o&&"today",a&&u&&"dayOutsideMonth",h&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},CV,e)},l1=({theme:e})=>U({},e.typography.caption,{width:Aa,height:Aa,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ie(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Ie(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${To.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${To.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${To.disabled}:not(.${To.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${To.disabled}&.${To.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${fd}px`}},{props:{isDayOutsideMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(e.vars||e).palette.text.secondary}},{props:{disableHighlightToday:!1,isDayCurrent:!0},style:{[`&:not(.${To.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}}]}),c1=(e,n)=>{const{ownerState:r}=e;return[n.root,!r.disableMargin&&n.dayWithMargin,!r.disableHighlightToday&&r.isDayCurrent&&n.today,!r.isDayOutsideMonth&&r.showDaysOutsideCurrentMonth&&n.dayOutsideMonth,r.isDayOutsideMonth&&!r.showDaysOutsideCurrentMonth&&n.hiddenDaySpacingFiller]},TV=_e(fE,{name:"MuiPickersDay",slot:"Root",overridesResolver:c1})(l1),IV=_e("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:c1})(({theme:e})=>U({},l1({theme:e}),{opacity:0,pointerEvents:"none"})),ia=()=>{},EV=g.forwardRef(function(n,r){const s=zt({props:n,name:"MuiPickersDay"}),{autoFocus:o=!1,className:a,classes:c,isAnimating:d,onClick:u,onDaySelect:h,onFocus:p=ia,onBlur:x=ia,onKeyDown:b=ia,onMouseDown:y=ia,onMouseEnter:m=ia,children:w,day:j,selected:D,disabled:C,today:R,outsideCurrentMonth:E,disableMargin:T,disableHighlightToday:I,showDaysOutsideCurrentMonth:N}=s,O=rt(s,PV),$=a1({day:j,selected:D,disabled:C,today:R,outsideCurrentMonth:E,disableMargin:T,disableHighlightToday:I,showDaysOutsideCurrentMonth:N}),B=DV(c,$),H=Bt(),k=g.useRef(null),ne=Zn(k,r);Kr(()=>{o&&!C&&!d&&!E&&k.current.focus()},[o,C,d,E]);const K=te=>{y(te),E&&te.preventDefault()},q=te=>{C||h(j),E&&te.currentTarget.focus(),u&&u(te)};return E&&!N?t.jsx(IV,{className:Xt(B.root,B.hiddenDaySpacingFiller,a),ownerState:$,role:O.role}):t.jsx(TV,U({className:Xt(B.root,a),ref:ne,centerRipple:!0,disabled:C,tabIndex:D?0:-1,onKeyDown:te=>b(te,j),onFocus:te=>p(te,j),onBlur:te=>x(te,j),onMouseEnter:te=>m(te,j),onClick:q,onMouseDown:K},O,{ownerState:$,children:w||H.format(j,"dayOfMonth")}))}),AV=g.memo(EV),Fh=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],Wh=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],d1=["minDateTime","maxDateTime"],RV=[...Fh,...Wh,...d1],u1=e=>RV.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{}),_V=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","unstableStartFieldRef","unstableEndFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator","autoFocus","focused"],h1=(e,n)=>g.useMemo(()=>{const r=U({},e),s={},o=a=>{r.hasOwnProperty(a)&&(s[a]=r[a],delete r[a])};return _V.forEach(o),n==="date"?Fh.forEach(o):n==="time"?Wh.forEach(o):n==="date-time"&&(Fh.forEach(o),Wh.forEach(o),d1.forEach(o)),{forwardedProps:r,internalProps:s}},[e,n]),OV=({utils:e,format:n})=>{let r=10,s=n,o=e.expandFormat(n);for(;o!==s;)if(s=o,o=e.expandFormat(s),r-=1,r<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the component.");return o},MV=({utils:e,expandedFormat:n})=>{const r=[],{start:s,end:o}=e.escapedCharacters,a=new RegExp(`(\\${s}[^\\${o}]*\\${o})+`,"g");let c=null;for(;c=a.exec(n);)r.push({start:c.index,end:a.lastIndex-1});return r},kV=(e,n,r,s)=>{switch(r.type){case"year":return n.fieldYearPlaceholder({digitAmount:e.formatByString(e.date(void 0,"default"),s).length,format:s});case"month":return n.fieldMonthPlaceholder({contentType:r.contentType,format:s});case"day":return n.fieldDayPlaceholder({format:s});case"weekDay":return n.fieldWeekDayPlaceholder({contentType:r.contentType,format:s});case"hours":return n.fieldHoursPlaceholder({format:s});case"minutes":return n.fieldMinutesPlaceholder({format:s});case"seconds":return n.fieldSecondsPlaceholder({format:s});case"meridiem":return n.fieldMeridiemPlaceholder({format:s});default:return s}},NV=({utils:e,date:n,shouldRespectLeadingZeros:r,localeText:s,localizedDigits:o,now:a,token:c,startSeparator:d})=>{if(c==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const u=n1(e,c),h=o1(e,u.contentType,u.type,c),p=r?h:u.contentType==="digit",x=e.isValid(n);let b=x?e.formatByString(n,c):"",y=null;if(p)if(h)y=b===""?e.formatByString(a,c).length:b.length;else{if(u.maxLength==null)throw new Error(`MUI X: The token ${c} should have a 'maxLength' property on it's adapter`);y=u.maxLength,x&&(b=rx(sx(Lo(b,o),y),o))}return U({},u,{format:c,maxLength:y,value:b,placeholder:kV(e,s,u,c),hasLeadingZerosInFormat:h,hasLeadingZerosInInput:p,startSeparator:d,endSeparator:"",modified:!1})},LV=e=>{var y;const{utils:n,expandedFormat:r,escapedParts:s}=e,o=n.date(void 0),a=[];let c="";const d=Object.keys(n.formatTokenMap).sort((m,w)=>w.length-m.length),u=/^([a-zA-Z]+)/,h=new RegExp(`^(${d.join("|")})*$`),p=new RegExp(`^(${d.join("|")})`),x=m=>s.find(w=>w.start<=m&&w.end>=m);let b=0;for(;b<r.length;){const m=x(b),w=m!=null,j=(y=u.exec(r.slice(b)))==null?void 0:y[1];if(!w&&j!=null&&h.test(j)){let D=j;for(;D.length>0;){const C=p.exec(D)[1];D=D.slice(C.length),a.push(NV(U({},e,{now:o,token:C,startSeparator:c}))),c=""}b+=j.length}else{const D=r[b];w&&(m==null?void 0:m.start)===b||(m==null?void 0:m.end)===b||(a.length===0?c+=D:(a[a.length-1].endSeparator+=D,a[a.length-1].isEndFormatSeparator=!0)),b+=1}}return a.length===0&&c.length>0&&a.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:c,endSeparator:"",modified:!1}),a},$V=({isRtl:e,formatDensity:n,sections:r})=>r.map(s=>{const o=a=>{let c=a;return e&&c!==null&&c.includes(" ")&&(c=`${c}`),n==="spacious"&&["/",".","-"].includes(c)&&(c=` ${c} `),c};return s.startSeparator=o(s.startSeparator),s.endSeparator=o(s.endSeparator),s}),Py=e=>{let n=OV(e);e.isRtl&&e.enableAccessibleFieldDOMStructure&&(n=n.split(" ").reverse().join(" "));const r=MV(U({},e,{expandedFormat:n})),s=LV(U({},e,{expandedFormat:n,escapedParts:r}));return $V(U({},e,{sections:s}))},ix=()=>g.useContext(Zp),FV=()=>{const e=g.useContext(qj);if(e==null)throw new Error(["MUI X: The `usePickerActionsContext` can only be called in fields that are used as a slot of a Picker component"].join(`
`));return e},ai=e=>e.saveQuery!=null,f1=({stateResponse:{localizedDigits:e,sectionsValueBoundaries:n,state:r,timezone:s,setCharacterQuery:o,setTempAndroidValueStr:a,updateSectionValue:c}})=>{const d=Bt(),u=({keyPressed:x,sectionIndex:b},y,m)=>{const w=x.toLowerCase(),j=r.sections[b];if(r.characterQuery!=null&&(!m||m(r.characterQuery.value))&&r.characterQuery.sectionIndex===b){const C=`${r.characterQuery.value}${w}`,R=y(C,j);if(!ai(R))return o({sectionIndex:b,value:C,sectionType:j.type}),R}const D=y(w,j);return ai(D)&&!D.saveQuery?(o(null),null):(o({sectionIndex:b,value:w,sectionType:j.type}),ai(D)?null:D)},h=x=>{const b=(w,j,D)=>{const C=j.filter(R=>R.toLowerCase().startsWith(D));return C.length===0?{saveQuery:!1}:{sectionValue:C[0],shouldGoToNextSection:C.length===1}},y=(w,j,D,C)=>{const R=E=>r1(d,s,j.type,E);if(j.contentType==="letter")return b(j.format,R(j.format),w);if(D&&C!=null&&n1(d,D).contentType==="letter"){const E=R(D),T=b(D,E,w);return ai(T)?{saveQuery:!1}:U({},T,{sectionValue:C(T.sectionValue,E)})}return{saveQuery:!1}};return u(x,(w,j)=>{switch(j.type){case"month":{const D=C=>jy(d,C,d.formats.month,j.format);return y(w,j,d.formats.month,D)}case"weekDay":{const D=(C,R)=>R.indexOf(C).toString();return y(w,j,d.formats.weekday,D)}case"meridiem":return y(w,j);default:return{saveQuery:!1}}})},p=x=>{const b=(m,w)=>{const j=Lo(m,e),D=Number(j),C=n[w.type]({currentDate:null,format:w.format,contentType:w.contentType});if(D>C.maximum)return{saveQuery:!1};if(D<C.minimum)return{saveQuery:!0};const R=D*10>C.maximum||j.length===C.maximum.toString().length;return{sectionValue:s1(d,D,C,e,w),shouldGoToNextSection:R}};return u(x,(m,w)=>{if(w.contentType==="digit"||w.contentType==="digit-with-letter")return b(m,w);if(w.type==="month"){const j=o1(d,"digit","month","MM"),D=b(m,{type:w.type,format:"MM",hasLeadingZerosInFormat:j,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(ai(D))return D;const C=jy(d,D.sectionValue,"MM",w.format);return U({},D,{sectionValue:C})}if(w.type==="weekDay"){const j=b(m,w);if(ai(j))return j;const D=pd(d,w.format)[Number(j.sectionValue)-1];return U({},j,{sectionValue:D})}return{saveQuery:!1}},m=>vy(m,e))};return We(x=>{const b=r.sections[x.sectionIndex],m=vy(x.keyPressed,e)?p(U({},x,{keyPressed:rx(x.keyPressed,e)})):h(x);if(m==null){a(null);return}c({section:b,newSectionValue:m.sectionValue,shouldGoToNextSection:m.shouldGoToNextSection})})},ax=({props:e,value:n,timezone:r,adapter:s})=>{if(n===null)return null;const{shouldDisableDate:o,shouldDisableMonth:a,shouldDisableYear:c,disablePast:d,disableFuture:u,minDate:h,maxDate:p}=e,x=s.utils.date(void 0,r);switch(!0){case!s.utils.isValid(n):return"invalidDate";case!!(o&&o(n)):return"shouldDisableDate";case!!(a&&a(n)):return"shouldDisableMonth";case!!(c&&c(n)):return"shouldDisableYear";case!!(u&&s.utils.isAfterDay(n,x)):return"disableFuture";case!!(d&&s.utils.isBeforeDay(n,x)):return"disablePast";case!!(h&&s.utils.isBeforeDay(n,h)):return"minDate";case!!(p&&s.utils.isAfterDay(n,p)):return"maxDate";default:return null}};ax.valueManager=lr;const p1=({adapter:e,value:n,timezone:r,props:s})=>{if(n===null)return null;const{minTime:o,maxTime:a,minutesStep:c,shouldDisableTime:d,disableIgnoringDatePartForTimeValidation:u=!1,disablePast:h,disableFuture:p}=s,x=e.utils.date(void 0,r),b=ud(u,e.utils);switch(!0){case!e.utils.isValid(n):return"invalidDate";case!!(o&&b(o,n)):return"minTime";case!!(a&&b(n,a)):return"maxTime";case!!(p&&e.utils.isAfter(n,x)):return"disableFuture";case!!(h&&e.utils.isBefore(n,x)):return"disablePast";case!!(d&&d(n,"hours")):return"shouldDisableTime-hours";case!!(d&&d(n,"minutes")):return"shouldDisableTime-minutes";case!!(d&&d(n,"seconds")):return"shouldDisableTime-seconds";case!!(c&&e.utils.getMinutes(n)%c!==0):return"minutesStep";default:return null}};p1.valueManager=lr;const xd=({adapter:e,value:n,timezone:r,props:s})=>{const o=ax({adapter:e,value:n,timezone:r,props:s});return o!==null?o:p1({adapter:e,value:n,timezone:r,props:s})};xd.valueManager=lr;function x1(e){const{props:n,validator:r,value:s,timezone:o,onError:a}=e,c=Bo(),d=g.useRef(r.valueManager.defaultErrorState),u=r({adapter:c,value:s,timezone:o,props:n}),h=r.valueManager.hasError(u);g.useEffect(()=>{a&&!r.valueManager.isSameError(u,d.current)&&a(u,s),d.current=u},[r,a,u,s]);const p=We(x=>r({adapter:c,value:x,timezone:o,props:n}));return{validationError:u,hasValidationError:h,getValidationErrorForNewValue:p}}const WV=5e3,m1=e=>{var Ye;const n=Bt(),r=ds(),s=Bo(),o=ws(),{manager:{validator:a,valueType:c,internal_valueManager:d,internal_fieldValueManager:u},internalPropsWithDefaults:h,internalPropsWithDefaults:{value:p,defaultValue:x,referenceDate:b,onChange:y,format:m,formatDensity:w="dense",selectedSections:j,onSelectedSectionsChange:D,shouldRespectLeadingZeros:C=!1,timezone:R,enableAccessibleFieldDOMStructure:E=!0},forwardedProps:{error:T}}=e,{value:I,handleValueChange:N,timezone:O}=Vo({name:"a field component",timezone:R,value:p,defaultValue:x,referenceDate:b,onChange:y,valueManager:d}),$=g.useRef(I);g.useEffect(()=>{$.current=I},[I]);const{hasValidationError:B}=x1({props:h,validator:a,timezone:O,value:I,onError:h.onError}),H=g.useMemo(()=>T!==void 0?T:B,[B,T]),k=g.useMemo(()=>z6(n),[n]),ne=g.useMemo(()=>K6(n,k,O),[n,k,O]),K=g.useCallback(Me=>u.getSectionsFromValue(Me,Ne=>Py({utils:n,localeText:r,localizedDigits:k,format:m,date:Ne,formatDensity:w,shouldRespectLeadingZeros:C,enableAccessibleFieldDOMStructure:E,isRtl:o})),[u,m,r,k,o,C,n,w,E]),[q,te]=g.useState(()=>{const Me=K(I),Ne={sections:Me,lastExternalValue:I,lastSectionsDependencies:{format:m,isRtl:o,locale:n.locale},tempValueStrAndroid:null,characterQuery:null},J=B6(Me),be=d.getInitialReferenceValue({referenceDate:b,value:I,utils:n,props:h,granularity:J,timezone:O});return U({},Ne,{referenceValue:be})}),[ie,se]=Pi({controlled:j,default:null,name:"useField",state:"selectedSections"}),ae=Me=>{se(Me),D==null||D(Me)},V=g.useMemo(()=>kh(ie,q.sections),[ie,q.sections]),X=V==="all"?0:V,we=g.useMemo(()=>Q6(q.sections,o&&!E),[q.sections,o,E]),ce=g.useMemo(()=>q.sections.every(Me=>Me.value===""),[q.sections]),Ee=Me=>{const Ne={validationError:a({adapter:s,value:Me,timezone:O,props:h})};N(Me,Ne)},de=(Me,Ne)=>{const J=[...q.sections];return J[Me]=U({},J[Me],{value:Ne,modified:!0}),J},re=g.useRef(null),L=fi(),xe=Me=>{X!=null&&(re.current={sectionIndex:X,value:Me},L.start(0,()=>{re.current=null}))},oe=()=>{d.areValuesEqual(n,I,d.emptyValue)?te(Me=>U({},Me,{sections:Me.sections.map(Ne=>U({},Ne,{value:""})),tempValueStrAndroid:null,characterQuery:null})):(te(Me=>U({},Me,{characterQuery:null})),Ee(d.emptyValue))},Y=()=>{if(X==null)return;const Me=q.sections[X];Me.value!==""&&(xe(""),u.getDateFromSection(I,Me)===null?te(Ne=>U({},Ne,{sections:de(X,""),tempValueStrAndroid:null,characterQuery:null})):(te(Ne=>U({},Ne,{characterQuery:null})),Ee(u.updateDateInValue(I,Me,null))))},G=Me=>{const Ne=(be,Qe)=>{const vt=n.parse(be,m);if(!n.isValid(vt))return null;const nn=Py({utils:n,localeText:r,localizedDigits:k,format:m,date:vt,formatDensity:w,shouldRespectLeadingZeros:C,enableAccessibleFieldDOMStructure:E,isRtl:o});return Sy(n,vt,nn,Qe,!1)},J=u.parseValueStr(Me,q.referenceValue,Ne);Ee(J)},fe=fi(),me=({section:Me,newSectionValue:Ne,shouldGoToNextSection:J})=>{L.clear(),fe.clear();const be=u.getDateFromSection(I,Me);J&&X<q.sections.length-1&&ae(X+1);const Qe=de(X,Ne),vt=u.getDateSectionsFromValue(Qe,Me),nn=Y6(n,vt,k);if(n.isValid(nn)){const Lt=Sy(n,nn,vt,u.getDateFromSection(q.referenceValue,Me),!0);return be==null&&fe.start(0,()=>{$.current===I&&te(At=>U({},At,{sections:u.clearDateSections(q.sections,Me),tempValueStrAndroid:null}))}),Ee(u.updateDateInValue(I,Me,Lt))}return vt.every(Lt=>Lt.value!=="")?(xe(Ne),Ee(u.updateDateInValue(I,Me,nn))):be!=null?(xe(Ne),Ee(u.updateDateInValue(I,Me,null))):te(Lt=>U({},Lt,{sections:Qe,tempValueStrAndroid:null}))},ue=Me=>te(Ne=>U({},Ne,{tempValueStrAndroid:Me})),Re=We(Me=>{te(Ne=>U({},Ne,{characterQuery:Me}))});if(I!==q.lastExternalValue){let Me;re.current!=null&&!n.isValid(u.getDateFromSection(I,q.sections[re.current.sectionIndex]))?Me=de(re.current.sectionIndex,re.current.value):Me=K(I),te(Ne=>U({},Ne,{lastExternalValue:I,sections:Me,sectionsDependencies:{format:m,isRtl:o,locale:n.locale},referenceValue:u.updateReferenceValue(n,I,Ne.referenceValue),tempValueStrAndroid:null}))}if(o!==q.lastSectionsDependencies.isRtl||m!==q.lastSectionsDependencies.format||n.locale!==q.lastSectionsDependencies.locale){const Me=K(I);te(Ne=>U({},Ne,{lastSectionsDependencies:{format:m,isRtl:o,locale:n.locale},sections:Me,tempValueStrAndroid:null,characterQuery:null}))}q.characterQuery!=null&&!H&&X==null&&Re(null),q.characterQuery!=null&&((Ye=q.sections[q.characterQuery.sectionIndex])==null?void 0:Ye.type)!==q.characterQuery.sectionType&&Re(null),g.useEffect(()=>{re.current!=null&&(re.current=null)});const De=fi();return g.useEffect(()=>(q.characterQuery!=null&&De.start(WV,()=>Re(null)),()=>{}),[q.characterQuery,Re,De]),g.useEffect(()=>{q.tempValueStrAndroid!=null&&X!=null&&Y()},[q.sections]),{activeSectionIndex:X,areAllSectionsEmpty:ce,error:H,localizedDigits:k,parsedSelectedSections:V,sectionOrder:we,sectionsValueBoundaries:ne,state:q,timezone:O,value:I,clearValue:oe,clearActiveSection:Y,setCharacterQuery:Re,setSelectedSections:ae,setTempAndroidValueStr:ue,updateSectionValue:me,updateValueFromValueStr:G,getSectionsFromValue:K}};function g1(e){const{manager:{internal_useApplyDefaultValuesToFieldInternalProps:n},internalProps:r,skipContextFieldRefAssignment:s}=e,o=ix(),a=Gj(),c=Zn(r.unstableFieldRef,s?null:a==null?void 0:a.fieldRef),d=o==null?void 0:o.setValue,u=g.useCallback((p,x)=>d==null?void 0:d(p,{validationError:x.validationError,shouldClose:!1}),[d]),h=g.useMemo(()=>a!=null&&o!=null?U({value:o.value,onChange:u,timezone:o.timezone,disabled:o.disabled,readOnly:o.readOnly,autoFocus:o.autoFocus&&!o.open,focused:o.open?!0:void 0,format:o.fieldFormat,formatDensity:a.formatDensity,enableAccessibleFieldDOMStructure:a.enableAccessibleFieldDOMStructure,selectedSections:a.selectedSections,onSelectedSectionsChange:a.onSelectedSectionsChange,unstableFieldRef:c},r):r,[o,a,r,u,c]);return n(h)}function lx(e){const{focused:n,domGetters:r,stateResponse:{parsedSelectedSections:s,state:o}}=e;if(!r.isReady())return;const a=document.getSelection();if(!a)return;if(s==null){a.rangeCount>0&&r.getRoot().contains(a.getRangeAt(0).startContainer)&&a.removeAllRanges(),n&&r.getRoot().blur();return}if(!r.getRoot().contains(zn(document)))return;const c=new window.Range;let d;s==="all"?d=r.getRoot():o.sections[s].type==="empty"?d=r.getSectionContainer(s):d=r.getSectionContent(s),c.selectNodeContents(d),d.focus(),a.removeAllRanges(),a.addRange(c)}function b1(e){const n=Bt(),{manager:{internal_fieldValueManager:r},internalPropsWithDefaults:{minutesStep:s,disabled:o,readOnly:a},stateResponse:{state:c,value:d,activeSectionIndex:u,parsedSelectedSections:h,sectionsValueBoundaries:p,localizedDigits:x,timezone:b,sectionOrder:y,clearValue:m,clearActiveSection:w,setSelectedSections:j,updateSectionValue:D}}=e;return We(C=>{if(!o)switch(!0){case((C.ctrlKey||C.metaKey)&&String.fromCharCode(C.keyCode)==="A"&&!C.shiftKey&&!C.altKey):{C.preventDefault(),j("all");break}case C.key==="ArrowRight":{if(C.preventDefault(),h==null)j(y.startIndex);else if(h==="all")j(y.endIndex);else{const R=y.neighbors[h].rightIndex;R!==null&&j(R)}break}case C.key==="ArrowLeft":{if(C.preventDefault(),h==null)j(y.endIndex);else if(h==="all")j(y.startIndex);else{const R=y.neighbors[h].leftIndex;R!==null&&j(R)}break}case C.key==="Delete":{if(C.preventDefault(),a)break;h==null||h==="all"?m():w();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(C.key):{if(C.preventDefault(),a||u==null)break;h==="all"&&j(u);const R=c.sections[u],E=VV(n,b,R,C.key,p,x,r.getDateFromSection(d,R),{minutesStep:s});D({section:R,newSectionValue:E,shouldGoToNextSection:!1});break}}})}function BV(e){switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}}function VV(e,n,r,s,o,a,c,d){const u=BV(s),h=s==="Home",p=s==="End",x=r.value===""||h||p,b=()=>{const m=o[r.type]({currentDate:c,format:r.format,contentType:r.contentType}),w=C=>s1(e,C,m,a,r),j=r.type==="minutes"&&(d!=null&&d.minutesStep)?d.minutesStep:1;let D;if(x){if(r.type==="year"&&!p&&!h)return e.formatByString(e.date(void 0,n),r.format);u>0||h?D=m.minimum:D=m.maximum}else D=parseInt(Lo(r.value,a),10)+u*j;return D%j!==0&&((u<0||h)&&(D+=j-(j+D)%j),(u>0||p)&&(D-=D%j)),D>m.maximum?w(m.minimum+(D-m.maximum-1)%(m.maximum-m.minimum+1)):D<m.minimum?w(m.maximum-(m.minimum-D-1)%(m.maximum-m.minimum+1)):w(D)},y=()=>{const m=r1(e,n,r.type,r.format);if(m.length===0)return r.value;if(x)return u>0||h?m[0]:m[m.length-1];const D=((m.indexOf(r.value)+u)%m.length+m.length)%m.length;return m[D]};return r.contentType==="digit"||r.contentType==="digit-with-letter"?b():y()}function UV(e){const{manager:n,focused:r,setFocused:s,domGetters:o,stateResponse:a,applyCharacterEditing:c,internalPropsWithDefaults:d,stateResponse:{parsedSelectedSections:u,sectionOrder:h,state:p,clearValue:x,setCharacterQuery:b,setSelectedSections:y,updateValueFromValueStr:m},internalPropsWithDefaults:{disabled:w=!1,readOnly:j=!1}}=e,D=b1({manager:n,internalPropsWithDefaults:d,stateResponse:a}),C=fi(),R=We(O=>{w||!o.isReady()||(s(!0),u==="all"?C.start(0,()=>{const $=document.getSelection().getRangeAt(0).startOffset;if($===0){y(h.startIndex);return}let B=0,H=0;for(;H<$&&B<p.sections.length;){const k=p.sections[B];B+=1,H+=`${k.startSeparator}${k.value||k.placeholder}${k.endSeparator}`.length}y(B-1)}):r?o.getRoot().contains(O.target)||y(h.startIndex):(s(!0),y(h.startIndex)))}),E=We(O=>{if(!o.isReady()||u!=="all")return;const B=O.target.textContent??"";o.getRoot().innerHTML=p.sections.map(H=>`${H.startSeparator}${H.value||H.placeholder}${H.endSeparator}`).join(""),lx({focused:r,domGetters:o,stateResponse:a}),B.length===0||B.charCodeAt(0)===10?(x(),y("all")):B.length>1?m(B):(u==="all"&&y(0),c({keyPressed:B,sectionIndex:0}))}),T=We(O=>{if(j||u!=="all"){O.preventDefault();return}const $=O.clipboardData.getData("text");O.preventDefault(),b(null),m($)}),I=We(()=>{if(r||w||!o.isReady())return;const O=zn(document);s(!0),o.getSectionIndexFromDOMElement(O)!=null||y(h.startIndex)}),N=We(()=>{setTimeout(()=>{if(!o.isReady())return;const O=zn(document);!o.getRoot().contains(O)&&(s(!1),y(null))})});return{onKeyDown:D,onBlur:N,onFocus:I,onClick:R,onPaste:T,onInput:E,contentEditable:u==="all",tabIndex:u===0?-1:0}}function zV(e){const{manager:{internal_fieldValueManager:n},stateResponse:{areAllSectionsEmpty:r,state:s,updateValueFromValueStr:o}}=e,a=We(d=>{o(d.target.value)});return{value:g.useMemo(()=>r?"":n.getV7HiddenInputValueFromSections(s.sections),[r,s.sections,n]),onChange:a}}function HV(e){const{stateResponse:{setSelectedSections:n},internalPropsWithDefaults:{disabled:r=!1}}=e,s=We(o=>a=>{r||a.isDefaultPrevented()||n(o)});return g.useCallback(o=>({"data-sectionindex":o,onClick:s(o)}),[s])}function YV(e){const n=Bt(),r=ds(),s=dd(),{focused:o,domGetters:a,stateResponse:c,applyCharacterEditing:d,manager:{internal_fieldValueManager:u},stateResponse:{parsedSelectedSections:h,sectionsValueBoundaries:p,state:x,value:b,clearActiveSection:y,setCharacterQuery:m,setSelectedSections:w,updateSectionValue:j,updateValueFromValueStr:D},internalPropsWithDefaults:{disabled:C=!1,readOnly:R=!1}}=e,E=h==="all",T=!E&&!C&&!R,I=We(k=>{if(!a.isReady())return;const ne=x.sections[k];a.getSectionContent(k).innerHTML=ne.value||ne.placeholder,lx({focused:o,domGetters:a,stateResponse:c})}),N=We(k=>{if(!a.isReady())return;const ne=k.target,K=ne.textContent??"",q=a.getSectionIndexFromDOMElement(ne),te=x.sections[q];if(R){I(q);return}if(K.length===0){if(te.value===""){I(q);return}const ie=k.nativeEvent.inputType;if(ie==="insertParagraph"||ie==="insertLineBreak"){I(q);return}I(q),y();return}d({keyPressed:K,sectionIndex:q}),I(q)}),O=We(k=>{k.preventDefault()}),$=We(k=>{if(k.preventDefault(),R||C||typeof h!="number")return;const ne=x.sections[h],K=k.clipboardData.getData("text"),q=/^[a-zA-Z]+$/.test(K),te=/^[0-9]+$/.test(K),ie=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(K);ne.contentType==="letter"&&q||ne.contentType==="digit"&&te||ne.contentType==="digit-with-letter"&&ie?(m(null),j({section:ne,newSectionValue:K,shouldGoToNextSection:!0})):!q&&!te&&(m(null),D(K))}),B=We(k=>{k.preventDefault(),k.dataTransfer.dropEffect="none"}),H=We(k=>()=>{C||w(k)});return g.useCallback((k,ne)=>{const K=p[k.type]({currentDate:u.getDateFromSection(b,k),contentType:k.contentType,format:k.format});return{onInput:N,onPaste:$,onMouseUp:O,onDragOver:B,onFocus:H(ne),"aria-labelledby":`${s}-${k.type}`,"aria-readonly":R,"aria-valuenow":qV(k,n),"aria-valuemin":K.minimum,"aria-valuemax":K.maximum,"aria-valuetext":k.value?GV(k,n):r.empty,"aria-label":r[k.type],"aria-disabled":C,tabIndex:E||ne>0?-1:0,contentEditable:!E&&!C&&!R,role:"spinbutton",id:`${s}-${k.type}`,"data-range-position":k.dateName||void 0,spellCheck:T?!1:void 0,autoCapitalize:T?"off":void 0,autoCorrect:T?"off":void 0,children:k.value||k.placeholder,inputMode:k.contentType==="letter"?"text":"numeric"}},[p,s,E,C,R,T,r,n,N,$,O,B,H,u,b])}function GV(e,n){if(e.value)switch(e.type){case"month":{if(e.contentType==="digit")return n.format(n.setMonth(n.date(),Number(e.value)-1),"month");const r=n.parse(e.value,e.format);return r?n.format(r,"month"):void 0}case"day":return e.contentType==="digit"?n.format(n.setDate(n.startOfYear(n.date()),Number(e.value)),"dayOfMonthFull"):e.value;case"weekDay":return;default:return}}function qV(e,n){if(e.value)switch(e.type){case"weekDay":return e.contentType==="letter"?void 0:Number(e.value);case"meridiem":{const r=n.parse(`01:00 ${e.value}`,`${n.formats.hours12h}:${n.formats.minutes} ${e.format}`);return r?n.getHours(r)>=12?1:0:void 0}case"day":return e.contentType==="digit-with-letter"?parseInt(e.value,10):Number(e.value);case"month":{if(e.contentType==="digit")return Number(e.value);const r=n.parse(e.value,e.format);return r?n.getMonth(r)+1:void 0}default:return e.contentType!=="letter"?Number(e.value):void 0}}const KV=e=>{const{props:n,manager:r,skipContextFieldRefAssignment:s,manager:{valueType:o,internal_useOpenPickerButtonAriaLabel:a}}=e,{internalProps:c,forwardedProps:d}=h1(n,o),u=g1({manager:r,internalProps:c,skipContextFieldRefAssignment:s}),{sectionListRef:h,onBlur:p,onClick:x,onFocus:b,onInput:y,onPaste:m,onKeyDown:w,onClear:j,clearable:D}=d,{disabled:C=!1,readOnly:R=!1,autoFocus:E=!1,focused:T,unstableFieldRef:I}=u,N=g.useRef(null),O=Zn(h,N),$=g.useMemo(()=>({isReady:()=>N.current!=null,getRoot:()=>N.current.getRoot(),getSectionContainer:De=>N.current.getSectionContainer(De),getSectionContent:De=>N.current.getSectionContent(De),getSectionIndexFromDOMElement:De=>N.current.getSectionIndexFromDOMElement(De)}),[N]),B=m1({manager:r,internalPropsWithDefaults:u,forwardedProps:d}),{areAllSectionsEmpty:H,error:k,parsedSelectedSections:ne,sectionOrder:K,state:q,value:te,clearValue:ie,setSelectedSections:se}=B,ae=f1({stateResponse:B}),V=a(te),[X,we]=g.useState(!1);function ce(De=0){if(C||!N.current||Dy(N)!=null)return;const Ye=kh(De,q.sections);we(!0),N.current.getSectionContent(Ye).focus()}const Ee=UV({manager:r,internalPropsWithDefaults:u,stateResponse:B,applyCharacterEditing:ae,focused:X,setFocused:we,domGetters:$}),de=zV({manager:r,stateResponse:B}),re=HV({stateResponse:B,internalPropsWithDefaults:u}),L=YV({manager:r,stateResponse:B,applyCharacterEditing:ae,internalPropsWithDefaults:u,domGetters:$,focused:X}),xe=We(De=>{w==null||w(De),Ee.onKeyDown(De)}),oe=We(De=>{p==null||p(De),Ee.onBlur(De)}),Y=We(De=>{b==null||b(De),Ee.onFocus(De)}),G=We(De=>{De.isDefaultPrevented()||(x==null||x(De),Ee.onClick(De))}),fe=We(De=>{m==null||m(De),Ee.onPaste(De)}),me=We(De=>{y==null||y(De),Ee.onInput(De)}),ue=We((De,...Ye)=>{De.preventDefault(),j==null||j(De,...Ye),ie(),Ty(N)?se(K.startIndex):ce(0)}),Re=g.useMemo(()=>q.sections.map((De,Ye)=>{const Me=L(De,Ye);return{container:re(Ye),content:L(De,Ye),before:{children:De.startSeparator},after:{children:De.endSeparator,"data-range-position":De.isEndFormatSeparator?Me["data-range-position"]:void 0}}}),[q.sections,re,L]);return g.useEffect(()=>{if(N.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please add the `enableAccessibleFieldDOMStructure={false}` prop to your Picker or Field component:","","<DatePicker enableAccessibleFieldDOMStructure={false} slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));E&&!C&&N.current&&N.current.getSectionContent(K.startIndex).focus()},[]),Kr(()=>{if(!(!X||!N.current)){if(ne==="all")N.current.getRoot().focus();else if(typeof ne=="number"){const De=N.current.getSectionContent(ne);De&&De.focus()}}},[ne,X]),Kr(()=>{lx({focused:X,domGetters:$,stateResponse:B})}),g.useImperativeHandle(I,()=>({getSections:()=>q.sections,getActiveSectionIndex:()=>Dy(N),setSelectedSections:De=>{if(C||!N.current)return;const Ye=kh(De,q.sections);we((Ye==="all"?0:Ye)!==null),se(De)},focusField:ce,isFieldFocused:()=>Ty(N)})),U({},d,Ee,{onBlur:oe,onClick:G,onFocus:Y,onInput:me,onPaste:fe,onKeyDown:xe,onClear:ue},de,{error:k,clearable:!!(D&&!H&&!R&&!C),focused:T??X,sectionListRef:O,enableAccessibleFieldDOMStructure:!0,elements:Re,areAllSectionsEmpty:H,disabled:C,readOnly:R,autoFocus:E,openPickerAriaLabel:V})};function Dy(e){const n=zn(document);return!n||!e.current||!e.current.getRoot().contains(n)?null:e.current.getSectionIndexFromDOMElement(n)}function Ty(e){const n=zn(document);return!!e.current&&e.current.getRoot().contains(n)}const ci=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),XV=(e,n,r)=>{let s=0,o=r?1:0;const a=[];for(let c=0;c<e.length;c+=1){const d=e[c],u=ox(d,r?"input-rtl":"input-ltr",n),h=`${d.startSeparator}${u}${d.endSeparator}`,p=ci(h).length,x=h.length,b=ci(u),y=o+(b===""?0:u.indexOf(b[0]))+d.startSeparator.length,m=y+b.length;a.push(U({},d,{start:s,end:s+p,startInInput:y,endInInput:m})),s+=p,o+=x}return a},JV=e=>{const n=ws(),r=fi(),s=fi(),{props:o,manager:a,skipContextFieldRefAssignment:c,manager:{valueType:d,internal_valueManager:u,internal_fieldValueManager:h,internal_useOpenPickerButtonAriaLabel:p}}=e,{internalProps:x,forwardedProps:b}=h1(o,d),y=g1({manager:a,internalProps:x,skipContextFieldRefAssignment:c}),{onFocus:m,onClick:w,onPaste:j,onBlur:D,onKeyDown:C,onClear:R,clearable:E,inputRef:T,placeholder:I}=b,{readOnly:N=!1,disabled:O=!1,autoFocus:$=!1,focused:B,unstableFieldRef:H}=y,k=g.useRef(null),ne=Zn(T,k),K=m1({manager:a,internalPropsWithDefaults:y,forwardedProps:b}),{activeSectionIndex:q,areAllSectionsEmpty:te,error:ie,localizedDigits:se,parsedSelectedSections:ae,sectionOrder:V,state:X,value:we,clearValue:ce,clearActiveSection:Ee,setCharacterQuery:de,setSelectedSections:re,setTempAndroidValueStr:L,updateSectionValue:xe,updateValueFromValueStr:oe,getSectionsFromValue:Y}=K,G=f1({stateResponse:K}),fe=p(we),me=g.useMemo(()=>XV(X.sections,se,n),[X.sections,se,n]);function ue(){const dt=k.current.selectionStart??0;let xt;dt<=me[0].startInInput||dt>=me[me.length-1].endInInput?xt=1:xt=me.findIndex(Ht=>Ht.startInInput-Ht.startSeparator.length>dt);const Rt=xt===-1?me.length-1:xt-1;re(Rt)}function Re(dt=0){var xt;zn(document)!==k.current&&((xt=k.current)==null||xt.focus(),re(dt))}const De=We(dt=>{m==null||m(dt);const xt=k.current;r.start(0,()=>{!xt||xt!==k.current||q==null&&(xt.value.length&&Number(xt.selectionEnd)-Number(xt.selectionStart)===xt.value.length?re("all"):ue())})}),Ye=We((dt,...xt)=>{dt.isDefaultPrevented()||(w==null||w(dt,...xt),ue())}),Me=We(dt=>{if(j==null||j(dt),dt.preventDefault(),N||O)return;const xt=dt.clipboardData.getData("text");if(typeof ae=="number"){const Rt=X.sections[ae],Ht=/^[a-zA-Z]+$/.test(xt),Pn=/^[0-9]+$/.test(xt),dn=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(xt);if(Rt.contentType==="letter"&&Ht||Rt.contentType==="digit"&&Pn||Rt.contentType==="digit-with-letter"&&dn){de(null),xe({section:Rt,newSectionValue:xt,shouldGoToNextSection:!0});return}if(Ht||Pn)return}de(null),oe(xt)}),Ne=We(dt=>{D==null||D(dt),re(null)}),J=We(dt=>{if(N)return;const xt=dt.target.value;if(xt===""){ce();return}const Rt=dt.nativeEvent.data,Ht=Rt&&Rt.length>1,Pn=Ht?Rt:xt,dn=ci(Pn);if(ae==="all"&&re(q),q==null||Ht){oe(Ht?Rt:dn);return}let Gn;if(ae==="all"&&dn.length===1)Gn=dn;else{const xn=ci(h.getV6InputValueFromSections(me,se,n));let St=-1,Dn=-1;for(let er=0;er<xn.length;er+=1)St===-1&&xn[er]!==dn[er]&&(St=er),Dn===-1&&xn[xn.length-er-1]!==dn[dn.length-er-1]&&(Dn=er);const Wn=me[q];if(St<Wn.start||xn.length-Dn-1>Wn.end)return;const xo=dn.length-xn.length+Wn.end-ci(Wn.endSeparator||"").length;Gn=dn.slice(Wn.start+ci(Wn.startSeparator||"").length,xo)}if(Gn.length===0){J6()&&L(Pn),Ee();return}G({keyPressed:Gn,sectionIndex:q})}),be=We((dt,...xt)=>{dt.preventDefault(),R==null||R(dt,...xt),ce(),Iy(k)?re(V.startIndex):Re(0)}),Qe=b1({manager:a,internalPropsWithDefaults:y,stateResponse:K}),vt=We(dt=>{C==null||C(dt),Qe(dt)}),nn=g.useMemo(()=>I!==void 0?I:h.getV6InputValueFromSections(Y(u.emptyValue),se,n),[I,h,Y,u.emptyValue,se,n]),Lt=g.useMemo(()=>X.tempValueStrAndroid??h.getV6InputValueFromSections(X.sections,se,n),[X.sections,h,X.tempValueStrAndroid,se,n]);g.useEffect(()=>{k.current&&k.current===zn(document)&&re("all")},[]),Kr(()=>{function dt(){if(!k.current)return;if(ae==null){k.current.scrollLeft&&(k.current.scrollLeft=0);return}if(k.current!==zn(document))return;const xt=k.current.scrollTop;if(ae==="all")k.current.select();else{const Rt=me[ae],Ht=Rt.type==="empty"?Rt.startInInput-Rt.startSeparator.length:Rt.startInInput,Pn=Rt.type==="empty"?Rt.endInInput+Rt.endSeparator.length:Rt.endInInput;(Ht!==k.current.selectionStart||Pn!==k.current.selectionEnd)&&k.current===zn(document)&&k.current.setSelectionRange(Ht,Pn),s.start(0,()=>{k.current&&k.current===zn(document)&&k.current.selectionStart===k.current.selectionEnd&&(k.current.selectionStart!==Ht||k.current.selectionEnd!==Pn)&&dt()})}k.current.scrollTop=xt}dt()});const At=g.useMemo(()=>q==null||X.sections[q].contentType==="letter"?"text":"numeric",[q,X.sections]),kn=!(k.current&&k.current===zn(document))&&te;return g.useImperativeHandle(H,()=>({getSections:()=>X.sections,getActiveSectionIndex:()=>{const dt=k.current.selectionStart??0,xt=k.current.selectionEnd??0;if(dt===0&&xt===0)return null;const Rt=dt<=me[0].startInInput?1:me.findIndex(Ht=>Ht.startInInput-Ht.startSeparator.length>dt);return Rt===-1?me.length-1:Rt-1},setSelectedSections:dt=>re(dt),focusField:Re,isFieldFocused:()=>Iy(k)})),U({},b,{error:ie,clearable:!!(E&&!te&&!N&&!O),onBlur:Ne,onClick:Ye,onFocus:De,onPaste:Me,onKeyDown:vt,onClear:be,inputRef:ne,enableAccessibleFieldDOMStructure:!1,placeholder:nn,inputMode:At,autoComplete:"off",value:kn?"":Lt,onChange:J,focused:B,disabled:O,readOnly:N,autoFocus:$,openPickerAriaLabel:fe})};function Iy(e){return e.current===zn(document)}const QV=e=>{const n=Gj();return(e.props.enableAccessibleFieldDOMStructure??(n==null?void 0:n.enableAccessibleFieldDOMStructure)??!0?KV:JV)(e)};function cx(e){const n=Bt(),r=zj();return g.useMemo(()=>({disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,minDate:Rc(n,e.minDate,r.minDate),maxDate:Rc(n,e.maxDate,r.maxDate)}),[e.minDate,e.maxDate,e.disableFuture,e.disablePast,n,r])}function ZV(e={}){const{enableAccessibleFieldDOMStructure:n=!0}=e;return g.useMemo(()=>({valueType:"date-time",validator:xd,internal_valueManager:lr,internal_fieldValueManager:eV,internal_enableAccessibleFieldDOMStructure:n,internal_useApplyDefaultValuesToFieldInternalProps:tU,internal_useOpenPickerButtonAriaLabel:eU}),[n])}function eU(e){const n=Bt(),r=ds();return g.useMemo(()=>{const s=n.isValid(e)?n.format(e,"fullDate"):null;return r.openDatePickerDialogue(s)},[e,r,n])}function tU(e){const n=Bt(),r=y1(e),s=g.useMemo(()=>e.ampm??n.is12HourCycleInCurrentLocale(),[e.ampm,n]);return g.useMemo(()=>U({},e,r,{format:e.format??(s?n.formats.keyboardDateTime12h:n.formats.keyboardDateTime24h)}),[e,r,s,n])}function y1(e){const n=Bt(),r=zj();return g.useMemo(()=>({disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,disableIgnoringDatePartForTimeValidation:!!e.minDateTime||!!e.maxDateTime||!!e.disableFuture||!!e.disablePast,minDate:Rc(n,e.minDateTime??e.minDate,r.minDate),maxDate:Rc(n,e.maxDateTime??e.maxDate,r.maxDate),minTime:e.minDateTime??e.minTime,maxTime:e.maxDateTime??e.maxTime}),[e.minDateTime,e.maxDateTime,e.minTime,e.maxTime,e.minDate,e.maxDate,e.disableFuture,e.disablePast,n,r])}function dx(e){const{ownerState:n}=Cn(),r=ws();return g.useMemo(()=>U({},n,{isFieldDisabled:e.disabled??!1,isFieldReadOnly:e.readOnly??!1,isFieldRequired:e.required??!1,fieldDirection:r?"rtl":"ltr"}),[n,e.disabled,e.readOnly,e.required,r])}function nU(e){return tn("MuiPickersTextField",e)}cn("MuiPickersTextField",["root","focused","disabled","error","required"]);function rU(e){return tn("MuiPickersInputBase",e)}const pi=cn("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input","activeBar"]);function sU(e){return tn("MuiPickersSectionList",e)}const aa=cn("MuiPickersSectionList",["root","section","sectionContent"]),oU=["slots","slotProps","elements","sectionListRef","classes"],v1=_e("div",{name:"MuiPickersSectionList",slot:"Root"})({direction:"ltr /*! @noflip */",outline:"none"}),j1=_e("span",{name:"MuiPickersSectionList",slot:"Section"})({}),w1=_e("span",{name:"MuiPickersSectionList",slot:"SectionSeparator"})({whiteSpace:"pre"}),S1=_e("span",{name:"MuiPickersSectionList",slot:"SectionContent"})({outline:"none"}),iU=e=>Gt({root:["root"],section:["section"],sectionContent:["sectionContent"]},sU,e);function aU(e){const{slots:n,slotProps:r,element:s,classes:o}=e,{ownerState:a}=Cn(),c=(n==null?void 0:n.section)??j1,d=kt({elementType:c,externalSlotProps:r==null?void 0:r.section,externalForwardedProps:s.container,className:o.section,ownerState:a}),u=(n==null?void 0:n.sectionContent)??S1,h=kt({elementType:u,externalSlotProps:r==null?void 0:r.sectionContent,externalForwardedProps:s.content,additionalProps:{suppressContentEditableWarning:!0},className:o.sectionContent,ownerState:a}),p=(n==null?void 0:n.sectionSeparator)??w1,x=kt({elementType:p,externalSlotProps:r==null?void 0:r.sectionSeparator,externalForwardedProps:s.before,ownerState:U({},a,{separatorPosition:"before"})}),b=kt({elementType:p,externalSlotProps:r==null?void 0:r.sectionSeparator,externalForwardedProps:s.after,ownerState:U({},a,{separatorPosition:"after"})});return t.jsxs(c,U({},d,{children:[t.jsx(p,U({},x)),t.jsx(u,U({},h)),t.jsx(p,U({},b))]}))}const lU=g.forwardRef(function(n,r){const s=zt({props:n,name:"MuiPickersSectionList"}),{slots:o,slotProps:a,elements:c,sectionListRef:d,classes:u}=s,h=rt(s,oU),p=iU(u),{ownerState:x}=Cn(),b=g.useRef(null),y=Zn(r,b),m=D=>{if(!b.current)throw new Error(`MUI X: Cannot call sectionListRef.${D} before the mount of the component.`);return b.current};g.useImperativeHandle(d,()=>({getRoot(){return m("getRoot")},getSectionContainer(D){return m("getSectionContainer").querySelector(`.${aa.section}[data-sectionindex="${D}"]`)},getSectionContent(D){return m("getSectionContent").querySelector(`.${aa.section}[data-sectionindex="${D}"] .${aa.sectionContent}`)},getSectionIndexFromDOMElement(D){const C=m("getSectionIndexFromDOMElement");if(D==null||!C.contains(D))return null;let R=null;return D.classList.contains(aa.section)?R=D:D.classList.contains(aa.sectionContent)&&(R=D.parentElement),R==null?null:Number(R.dataset.sectionindex)}}));const w=(o==null?void 0:o.root)??v1,j=kt({elementType:w,externalSlotProps:a==null?void 0:a.root,externalForwardedProps:h,additionalProps:{ref:y,suppressContentEditableWarning:!0},className:p.root,ownerState:x});return t.jsx(w,U({},j,{children:j.contentEditable?c.map(({content:D,before:C,after:R})=>`${C.children}${D.children}${R.children}`).join(""):t.jsx(g.Fragment,{children:c.map((D,C)=>t.jsx(aU,{slots:o,slotProps:a,element:D,classes:p},C))})}))}),C1=g.createContext(null),md=()=>{const e=g.useContext(C1);if(e==null)throw new Error(["MUI X: The `usePickerTextFieldOwnerState` can only be called in components that are used inside a PickerTextField component"].join(`
`));return e},cU=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef","onFocus","onBlur","classes","ownerState"],dU=e=>Math.round(e*1e5)/1e5,gd=_e("div",{name:"MuiPickersInputBase",slot:"Root"})(({theme:e})=>U({},e.typography.body1,{color:(e.vars||e).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${dU(.15/16)}em`,variants:[{props:{isInputInFullWidth:!0},style:{width:"100%"}}]})),ux=_e(v1,{name:"MuiPickersInputBase",slot:"SectionsContainer"})(({theme:e})=>({padding:"4px 0 5px",fontFamily:e.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{fieldDirection:"rtl"},style:{textAlign:"right /*! @noflip */"}},{props:{inputSize:"small"},style:{paddingTop:1}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0},style:{color:"currentColor",opacity:0}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!1},style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}}]})),uU=_e(j1,{name:"MuiPickersInputBase",slot:"Section"})(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"inline-block",whiteSpace:"nowrap"})),hU=_e(S1,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(e,n)=>n.content})(({theme:e})=>({fontFamily:e.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),fU=_e(w1,{name:"MuiPickersInputBase",slot:"Separator"})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),pU=_e("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(e,n)=>n.hiddenInput})(U({},r6)),xU=_e("div",{name:"MuiPickersInputBase",slot:"ActiveBar"})(({theme:e,ownerState:n})=>({display:"none",position:"absolute",height:2,bottom:2,borderTopLeftRadius:2,borderTopRightRadius:2,transition:e.transitions.create(["width","left"],{duration:e.transitions.duration.shortest}),backgroundColor:(e.vars||e).palette.primary.main,'[data-active-range-position="start"] &, [data-active-range-position="end"] &':{display:"block"},'[data-active-range-position="start"] &':{left:n.sectionOffsets[0]},'[data-active-range-position="end"] &':{left:n.sectionOffsets[1]}})),mU=(e,n)=>{const{isFieldFocused:r,isFieldDisabled:s,isFieldReadOnly:o,hasFieldError:a,inputSize:c,isInputInFullWidth:d,inputColor:u,hasStartAdornment:h,hasEndAdornment:p}=n,x={root:["root",r&&!s&&"focused",s&&"disabled",o&&"readOnly",a&&"error",d&&"fullWidth",`color${JB(u)}`,c==="small"&&"inputSizeSmall",h&&"adornedStart",p&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"],activeBar:["activeBar"]};return Gt(x,rU,e)};function Ey(e,n,r,s){var o;if(e.content.id){const a=(o=n.current)==null?void 0:o.querySelectorAll(`[data-sectionindex="${r}"] [data-range-position="${s}"]`);if(a)return Array.from(a).reduce((c,d)=>c+d.offsetWidth,0)}return 0}function gU(e,n){var o,a,c,d,u;let r=0;if(((o=n.current)==null?void 0:o.getAttribute("data-active-range-position"))==="end")for(let h=e.length-1;h>=e.length/2;h-=1)r+=Ey(e[h],n,h,"end");else for(let h=0;h<e.length/2;h+=1)r+=Ey(e[h],n,h,"start");return{activeBarWidth:r,sectionOffsets:[((c=(a=n.current)==null?void 0:a.querySelector('[data-sectionindex="0"]'))==null?void 0:c.offsetLeft)||0,((u=(d=n.current)==null?void 0:d.querySelector(`[data-sectionindex="${e.length/2}"]`))==null?void 0:u.offsetLeft)||0]}}const hx=g.forwardRef(function(n,r){const s=zt({props:n,name:"MuiPickersInputBase"}),{elements:o,areAllSectionsEmpty:a,value:c,onChange:d,id:u,endAdornment:h,startAdornment:p,renderSuffix:x,slots:b,slotProps:y,contentEditable:m,tabIndex:w,onInput:j,onPaste:D,onKeyDown:C,name:R,readOnly:E,inputProps:T,inputRef:I,sectionListRef:N,onFocus:O,onBlur:$,classes:B,ownerState:H}=s,k=rt(s,cU),ne=md(),K=g.useRef(null),q=g.useRef(null),te=g.useRef([]),ie=Zn(r,K),se=Zn(T==null?void 0:T.ref,I),ae=Gy();if(!ae)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const V=H??ne,X=Y=>{var G;(G=ae.onFocus)==null||G.call(ae,Y),O==null||O(Y)},we=Y=>{X(Y)},ce=Y=>{var G,fe;if(C==null||C(Y),Y.key==="Enter"&&!Y.defaultMuiPrevented){if((G=K.current)!=null&&G.dataset.multiInput)return;const me=(fe=K.current)==null?void 0:fe.closest("form"),ue=me==null?void 0:me.querySelector('[type="submit"]');if(!me||!ue)return;Y.preventDefault(),me.requestSubmit(ue)}},Ee=Y=>{var G;(G=ae.onBlur)==null||G.call(ae,Y),$==null||$(Y)};g.useEffect(()=>{ae&&ae.setAdornedStart(!!p)},[ae,p]),g.useEffect(()=>{ae&&(a?ae.onEmpty():ae.onFilled())},[ae,a]);const de=mU(B,V),re=(b==null?void 0:b.root)||gd,L=kt({elementType:re,externalSlotProps:y==null?void 0:y.root,externalForwardedProps:k,additionalProps:{"aria-invalid":ae.error,ref:ie},className:de.root,ownerState:V}),xe=(b==null?void 0:b.input)||ux,oe=o.some(Y=>Y.content["data-range-position"]!==void 0);return g.useEffect(()=>{if(!oe||!V.isPickerOpen)return;const{activeBarWidth:Y,sectionOffsets:G}=gU(o,K);te.current=[G[0],G[1]],q.current&&(q.current.style.width=`${Y}px`)},[o,oe,V.isPickerOpen]),t.jsxs(re,U({},L,{children:[p,t.jsx(lU,{sectionListRef:N,elements:o,contentEditable:m,tabIndex:w,className:de.sectionsContainer,onFocus:X,onBlur:Ee,onInput:j,onPaste:D,onKeyDown:ce,slots:{root:xe,section:uU,sectionContent:hU,sectionSeparator:fU},slotProps:{root:U({},y==null?void 0:y.input,{ownerState:V}),sectionContent:{className:pi.sectionContent},sectionSeparator:({separatorPosition:Y})=>({className:Y==="before"?pi.sectionBefore:pi.sectionAfter})}}),h,x?x(U({},ae)):null,t.jsx(pU,U({name:R,className:de.input,value:c,onChange:d,id:u,"aria-hidden":"true",tabIndex:-1,readOnly:E,required:ae.required,disabled:ae.disabled,onFocus:we},T,{ref:se})),oe&&t.jsx(xU,{className:de.activeBar,ref:q,ownerState:{sectionOffsets:te.current}})]}))});function bU(e){return tn("MuiPickersOutlinedInput",e)}const ns=U({},pi,cn("MuiPickersOutlinedInput",["root","notchedOutline","input"])),yU=["children","className","label","notched","shrink"],vU=_e("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline"})(({theme:e})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}}),Ay=_e("span")(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit"})),jU=_e("legend",{shouldForwardProp:e=>Fs(e)&&e!=="notched"})(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{inputHasLabel:!1},style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:{inputHasLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{inputHasLabel:!0,notched:!0},style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]}));function wU(e){const{className:n,label:r,notched:s}=e,o=rt(e,yU),a=md();return t.jsx(vU,U({"aria-hidden":!0,className:n},o,{ownerState:a,children:t.jsx(jU,{ownerState:a,notched:s,children:r?t.jsx(Ay,{children:r}):t.jsx(Ay,{className:"notranslate",children:""})})}))}const SU=["label","autoFocus","ownerState","classes","notched"],CU=_e(gd,{name:"MuiPickersOutlinedInput",slot:"Root"})(({theme:e})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${ns.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${ns.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${ns.focused} .${ns.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${ns.disabled}`]:{[`& .${ns.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled},"*":{color:(e.vars||e).palette.action.disabled}},[`&.${ns.error} .${ns.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},variants:Object.keys((e.vars??e).palette).filter(r=>{var s;return((s=(e.vars??e).palette[r])==null?void 0:s.main)??!1}).map(r=>({props:{inputColor:r},style:{[`&.${ns.focused}:not(.${ns.error}) .${ns.notchedOutline}`]:{borderColor:(e.vars||e).palette[r].main}}}))}}),PU=_e(ux,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer"})({padding:"16.5px 0",variants:[{props:{inputSize:"small"},style:{padding:"8.5px 0"}}]}),DU=e=>{const r=Gt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},bU,e);return U({},e,r)},P1=g.forwardRef(function(n,r){const s=zt({props:n,name:"MuiPickersOutlinedInput"}),{label:o,classes:a,notched:c}=s,d=rt(s,SU),u=Gy(),h=DU(a);return t.jsx(hx,U({slots:{root:CU,input:PU},renderSuffix:p=>t.jsx(wU,{shrink:!!(c||p.adornedStart||p.focused||p.filled),notched:!!(c||p.adornedStart||p.focused||p.filled),className:h.notchedOutline,label:o!=null&&o!==""&&(u!=null&&u.required)?t.jsxs(g.Fragment,{children:[o,"","*"]}):o})},d,{label:o,classes:h,ref:r}))});P1.muiName="Input";function TU(e){return tn("MuiPickersFilledInput",e)}const Io=U({},pi,cn("MuiPickersFilledInput",["root","underline","input"])),IU=["label","autoFocus","disableUnderline","hiddenLabel","classes"],EU=_e(gd,{name:"MuiPickersFilledInput",slot:"Root",shouldForwardProp:e=>qy(e)&&e!=="disableUnderline"})(({theme:e})=>{const n=e.palette.mode==="light",r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s}},[`&.${Io.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s},[`&.${Io.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:a},variants:[...Object.keys((e.vars??e).palette).filter(c=>(e.vars??e).palette[c].main).map(c=>{var d;return{props:{inputColor:c,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(d=(e.vars||e).palette[c])==null?void 0:d.main}`}}}}),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Io.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Io.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Io.disabled}, .${Io.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Io.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:{hasStartAdornment:!0},style:{paddingLeft:12}},{props:{hasEndAdornment:!0},style:{paddingRight:12}}]}}),AU=_e(ux,{name:"MuiPickersFilledInput",slot:"sectionsContainer",shouldForwardProp:e=>qy(e)&&e!=="hiddenLabel"})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{inputSize:"small"},style:{paddingTop:21,paddingBottom:4}},{props:{hasStartAdornment:!0},style:{paddingLeft:0}},{props:{hasEndAdornment:!0},style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,inputSize:"small"},style:{paddingTop:8,paddingBottom:9}}]}),RU=(e,n)=>{const{inputHasUnderline:r}=n,o=Gt({root:["root",r&&"underline"],input:["input"]},TU,e);return U({},e,o)},D1=g.forwardRef(function(n,r){const s=zt({props:n,name:"MuiPickersFilledInput"}),{label:o,disableUnderline:a=!1,hiddenLabel:c=!1,classes:d}=s,u=rt(s,IU),h=md(),p=U({},h,{inputHasUnderline:!a}),x=RU(d,p);return t.jsx(hx,U({slots:{root:EU,input:AU},slotProps:{root:{disableUnderline:a},input:{hiddenLabel:c}}},u,{label:o,classes:x,ref:r,ownerState:p}))});D1.muiName="Input";function _U(e){return tn("MuiPickersFilledInput",e)}const la=U({},pi,cn("MuiPickersInput",["root","underline","input"])),OU=["label","autoFocus","disableUnderline","ownerState","classes"],MU=_e(gd,{name:"MuiPickersInput",slot:"Root",shouldForwardProp:e=>Fs(e)&&e!=="disableUnderline"})(({theme:e})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((e.vars??e).palette).filter(s=>(e.vars??e).palette[s].main).map(s=>({props:{inputColor:s},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[s].main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${la.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${la.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${la.disabled}, .${la.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${la.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),kU=(e,n)=>{const{inputHasUnderline:r}=n,o=Gt({root:["root",!r&&"underline"],input:["input"]},_U,e);return U({},e,o)},T1=g.forwardRef(function(n,r){const s=zt({props:n,name:"MuiPickersInput"}),{label:o,disableUnderline:a=!1,classes:c}=s,d=rt(s,OU),u=md(),h=U({},u,{inputHasUnderline:!a}),p=kU(c,h);return t.jsx(hx,U({slots:{root:MU},slotProps:{root:{disableUnderline:a}}},d,{label:o,classes:p,ref:r}))});T1.muiName="Input";const NU=["onFocus","onBlur","className","classes","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps","data-active-range-position"],LU={standard:T1,filled:D1,outlined:P1},$U=_e(bt,{name:"MuiPickersTextField",slot:"Root"})({}),FU=(e,n)=>{const{isFieldFocused:r,isFieldDisabled:s,isFieldRequired:o}=n;return Gt({root:["root",r&&!s&&"focused",s&&"disabled",o&&"required"]},nU,e)},I1=g.forwardRef(function(n,r){const s=zt({props:n,name:"MuiPickersTextField"}),{onFocus:o,onBlur:a,className:c,classes:d,color:u="primary",disabled:h=!1,error:p=!1,variant:x="outlined",required:b=!1,InputProps:y,inputProps:m,inputRef:w,sectionListRef:j,elements:D,areAllSectionsEmpty:C,onClick:R,onKeyDown:E,onKeyUp:T,onPaste:I,onInput:N,endAdornment:O,startAdornment:$,tabIndex:B,contentEditable:H,focused:k,value:ne,onChange:K,fullWidth:q,id:te,name:ie,helperText:se,FormHelperTextProps:ae,label:V,InputLabelProps:X,"data-active-range-position":we}=s,ce=rt(s,NU),Ee=g.useRef(null),de=Zn(r,Ee),re=dd(te),L=se&&re?`${re}-helper-text`:void 0,xe=V&&re?`${re}-label`:void 0,oe=dx({disabled:s.disabled,required:s.required,readOnly:y==null?void 0:y.readOnly}),Y=g.useMemo(()=>U({},oe,{isFieldValueEmpty:C,isFieldFocused:k??!1,hasFieldError:p??!1,inputSize:s.size??"medium",inputColor:u??"primary",isInputInFullWidth:q??!1,hasStartAdornment:!!($??(y==null?void 0:y.startAdornment)),hasEndAdornment:!!(O??(y==null?void 0:y.endAdornment)),inputHasLabel:!!V}),[oe,C,k,p,s.size,u,q,$,O,y==null?void 0:y.startAdornment,y==null?void 0:y.endAdornment,V]),G=FU(d,Y),fe=LU[x],me={};return x==="outlined"&&(X&&typeof X.shrink<"u"&&(me.notched=X.shrink),me.label=V),t.jsx(C1.Provider,{value:Y,children:t.jsxs($U,U({className:Xt(G.root,c),ref:de,focused:k,disabled:h,variant:x,error:p,color:u,fullWidth:q,required:b,ownerState:Y},ce,{children:[V!=null&&V!==""&&t.jsx(Tt,U({htmlFor:re,id:xe},X,{children:V})),t.jsx(fe,U({elements:D,areAllSectionsEmpty:C,onClick:R,onKeyDown:E,onKeyUp:T,onInput:N,onPaste:I,onFocus:o,onBlur:a,endAdornment:O,startAdornment:$,tabIndex:B,contentEditable:H,value:ne,onChange:K,id:re,fullWidth:q,inputProps:m,inputRef:w,sectionListRef:j,label:V,name:ie,role:"group","aria-labelledby":xe,"aria-describedby":L,"aria-live":L?"polite":void 0,"data-active-range-position":we},me,y)),se&&t.jsx(pE,U({id:L},ae,{children:se}))]}))})}),WU=["enableAccessibleFieldDOMStructure"],BU=["InputProps","readOnly","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],VU=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],UU=["ownerState"],zU=["ownerState"],HU=["ownerState"],YU=["ownerState"],GU=["InputProps","inputProps"],qU=e=>{let{enableAccessibleFieldDOMStructure:n}=e,r=rt(e,WU);if(n){const{InputProps:j,readOnly:D,onClear:C,clearable:R,clearButtonPosition:E,openPickerButtonPosition:T,openPickerAriaLabel:I}=r,N=rt(r,BU);return{clearable:R,onClear:C,clearButtonPosition:E,openPickerButtonPosition:T,openPickerAriaLabel:I,textFieldProps:U({},N,{InputProps:U({},j??{},{readOnly:D})})}}const{onPaste:s,onKeyDown:o,inputMode:a,readOnly:c,InputProps:d,inputProps:u,inputRef:h,onClear:p,clearable:x,clearButtonPosition:b,openPickerButtonPosition:y,openPickerAriaLabel:m}=r,w=rt(r,VU);return{clearable:x,onClear:p,clearButtonPosition:b,openPickerButtonPosition:y,openPickerAriaLabel:m,textFieldProps:U({},w,{InputProps:U({},d??{},{readOnly:c}),inputProps:U({},u??{},{inputMode:a,onPaste:s,onKeyDown:o,ref:h})})}},fx=g.createContext({slots:{},slotProps:{},inputRef:void 0});function KU(e){var ae,V;const{slots:n,slotProps:r,fieldResponse:s,defaultOpenPickerIcon:o}=e,a=ds(),c=ix(),d=g.useContext(fx),{textFieldProps:u,onClear:h,clearable:p,openPickerAriaLabel:x,clearButtonPosition:b="end",openPickerButtonPosition:y="end"}=qU(s),m=dx(u),w=We(X=>{X.preventDefault(),c==null||c.setOpen(we=>!we)}),j=c?c.triggerStatus:"hidden",D=p?b:null,C=j!=="hidden"?y:null,R=(n==null?void 0:n.textField)??d.slots.textField??(s.enableAccessibleFieldDOMStructure===!1?st:I1),E=(n==null?void 0:n.inputAdornment)??d.slots.inputAdornment??ys,T=kt({elementType:E,externalSlotProps:ql(d.slotProps.inputAdornment,r==null?void 0:r.inputAdornment),additionalProps:{position:"start"},ownerState:U({},m,{position:"start"})}),I=rt(T,UU),N=kt({elementType:E,externalSlotProps:r==null?void 0:r.inputAdornment,additionalProps:{position:"end"},ownerState:U({},m,{position:"end"})}),O=rt(N,zU),$=d.slots.openPickerButton??$e,B=kt({elementType:$,externalSlotProps:d.slotProps.openPickerButton,additionalProps:{disabled:j==="disabled",onClick:w,"aria-label":x,edge:u.variant!=="standard"?C:!1},ownerState:m}),H=rt(B,HU),k=d.slots.openPickerIcon??o,ne=kt({elementType:k,externalSlotProps:d.slotProps.openPickerIcon,ownerState:m}),K=(n==null?void 0:n.clearButton)??d.slots.clearButton??$e,q=kt({elementType:K,externalSlotProps:ql(d.slotProps.clearButton,r==null?void 0:r.clearButton),className:"clearButton",additionalProps:{title:a.fieldClearLabel,tabIndex:-1,onClick:h,disabled:s.disabled||s.readOnly,edge:u.variant!=="standard"&&D!==C?D:!1},ownerState:m}),te=rt(q,YU),ie=(n==null?void 0:n.clearIcon)??d.slots.clearIcon??v6,se=kt({elementType:ie,externalSlotProps:ql(d.slotProps.clearIcon,r==null?void 0:r.clearIcon),additionalProps:{fontSize:"small"},ownerState:m});return u.ref=Zn(u.ref,c==null?void 0:c.rootRef),u.InputProps||(u.InputProps={}),c&&(u.InputProps.ref=c.triggerRef),!((ae=u.InputProps)!=null&&ae.startAdornment)&&(D==="start"||C==="start")&&(u.InputProps.startAdornment=t.jsxs(E,U({},I,{children:[C==="start"&&t.jsx($,U({},H,{children:t.jsx(k,U({},ne))})),D==="start"&&t.jsx(K,U({},te,{children:t.jsx(ie,U({},se))}))]}))),!((V=u.InputProps)!=null&&V.endAdornment)&&(D==="end"||C==="end")&&(u.InputProps.endAdornment=t.jsxs(E,U({},O,{children:[D==="end"&&t.jsx(K,U({},te,{children:t.jsx(ie,U({},se))})),C==="end"&&t.jsx($,U({},H,{children:t.jsx(k,U({},ne))}))]}))),D!=null&&(u.sx=[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(u.sx)?u.sx:[u.sx]]),t.jsx(R,U({},u))}function ql(e,n){return e?n?r=>U({},Ia(n,r),Ia(e,r)):e:n}function XU(e){const{ref:n,externalForwardedProps:r,slotProps:s}=e,o=g.useContext(fx),a=ix(),c=dx(r),{InputProps:d,inputProps:u}=r,h=rt(r,GU),p=kt({elementType:I1,externalSlotProps:ql(o.slotProps.textField,s==null?void 0:s.textField),externalForwardedProps:h,additionalProps:{ref:n,sx:a==null?void 0:a.rootSx,label:a==null?void 0:a.label,name:a==null?void 0:a.name,className:a==null?void 0:a.rootClassName,inputRef:o.inputRef},ownerState:c});return p.inputProps=U({},u,p.inputProps),p.InputProps=U({},d,p.InputProps),p}function E1(e){const{slots:n={},slotProps:r={},inputRef:s,children:o}=e,a=g.useMemo(()=>({inputRef:s,slots:{openPickerButton:n.openPickerButton,openPickerIcon:n.openPickerIcon,textField:n.textField,inputAdornment:n.inputAdornment,clearIcon:n.clearIcon,clearButton:n.clearButton},slotProps:{openPickerButton:r.openPickerButton,openPickerIcon:r.openPickerIcon,textField:r.textField,inputAdornment:r.inputAdornment,clearIcon:r.clearIcon,clearButton:r.clearButton}}),[s,n.openPickerButton,n.openPickerIcon,n.textField,n.inputAdornment,n.clearIcon,n.clearButton,r.openPickerButton,r.openPickerIcon,r.textField,r.inputAdornment,r.clearIcon,r.clearButton]);return t.jsx(fx.Provider,{value:a,children:o})}const JU=e=>{const n=ZV(e);return QV({manager:n,props:e})},QU=["slots","slotProps"],A1=g.forwardRef(function(n,r){const s=zt({props:n,name:"MuiDateTimeField"}),{slots:o,slotProps:a}=s,c=rt(s,QU),d=XU({slotProps:a,ref:r,externalForwardedProps:c}),u=JU(d);return t.jsx(KU,{slots:o,slotProps:a,fieldResponse:u,defaultOpenPickerIcon:g6})}),R1=({shouldDisableDate:e,shouldDisableMonth:n,shouldDisableYear:r,minDate:s,maxDate:o,disableFuture:a,disablePast:c,timezone:d})=>{const u=Bo();return g.useCallback(h=>ax({adapter:u,value:h,timezone:d,props:{shouldDisableDate:e,shouldDisableMonth:n,shouldDisableYear:r,minDate:s,maxDate:o,disableFuture:a,disablePast:c}})!==null,[u,e,n,r,s,o,a,c,d])},ZU=(e,n)=>(r,s)=>{switch(s.type){case"setVisibleDate":return U({},r,{slideDirection:s.direction,currentMonth:s.month,isMonthSwitchingAnimating:!n.isSameMonth(s.month,r.currentMonth)&&!e&&!s.skipAnimation,focusedDay:s.focusedDay});case"changeMonthTimezone":{const o=s.newTimezone;if(n.getTimezone(r.currentMonth)===o)return r;let a=n.setTimezone(r.currentMonth,o);return n.getMonth(a)!==n.getMonth(r.currentMonth)&&(a=n.setMonth(a,n.getMonth(r.currentMonth))),U({},r,{currentMonth:a})}case"finishMonthSwitchingAnimation":return U({},r,{isMonthSwitchingAnimating:!1});default:throw new Error("missing support")}},ez=e=>{const{value:n,referenceDate:r,disableFuture:s,disablePast:o,maxDate:a,minDate:c,onMonthChange:d,onYearChange:u,reduceAnimations:h,shouldDisableDate:p,timezone:x,getCurrentMonthFromVisibleDate:b}=e,y=Bt(),m=g.useRef(ZU(!!h,y)).current,w=g.useMemo(()=>lr.getInitialReferenceValue({value:n,utils:y,timezone:x,props:e,referenceDate:r,granularity:os.day}),[r,x]),[j,D]=g.useReducer(m,{isMonthSwitchingAnimating:!1,focusedDay:w,currentMonth:y.startOfMonth(w),slideDirection:"left"}),C=R1({shouldDisableDate:p,minDate:c,maxDate:a,disableFuture:s,disablePast:o,timezone:x});g.useEffect(()=>{D({type:"changeMonthTimezone",newTimezone:y.getTimezone(w)})},[w,y]);const R=We(({target:T,reason:I})=>{if(I==="cell-interaction"&&j.focusedDay!=null&&y.isSameDay(T,j.focusedDay))return;const N=I==="cell-interaction";let O,$;if(I==="cell-interaction")O=b(T,j.currentMonth),$=T;else if(O=y.isSameMonth(T,j.currentMonth)?j.currentMonth:y.startOfMonth(T),$=T,C($)){const k=y.startOfMonth(T),ne=y.endOfMonth(T);$=Ra({utils:y,date:$,minDate:y.isBefore(c,k)?k:c,maxDate:y.isAfter(a,ne)?ne:a,disablePast:o,disableFuture:s,isDateDisabled:C,timezone:x})}const B=!y.isSameMonth(j.currentMonth,O),H=!y.isSameYear(j.currentMonth,O);B&&(d==null||d(O)),H&&(u==null||u(y.startOfYear(O))),D({type:"setVisibleDate",month:O,direction:y.isAfterDay(O,j.currentMonth)?"left":"right",focusedDay:j.focusedDay!=null&&$!=null&&y.isSameDay($,j.focusedDay)?j.focusedDay:$,skipAnimation:N})}),E=g.useCallback(()=>{D({type:"finishMonthSwitchingAnimation"})},[]);return{referenceDate:w,calendarState:j,setVisibleDate:R,isDateDisabled:C,onMonthSwitchingAnimationEnd:E}},tz=e=>tn("MuiPickersFadeTransitionGroup",e);cn("MuiPickersFadeTransitionGroup",["root"]);const nz=["children"],rz=e=>Gt({root:["root"]},tz,e),sz=_e(Ky,{name:"MuiPickersFadeTransitionGroup",slot:"Root"})({display:"block",position:"relative"});function _1(e){const n=zt({props:e,name:"MuiPickersFadeTransitionGroup"}),{className:r,reduceAnimations:s,transKey:o,classes:a}=n,{children:c}=n,d=rt(n,nz),u=rz(a),h=Mn();return s?c:t.jsx(sz,{className:Xt(u.root,r),ownerState:d,children:t.jsx($c,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:h.transitions.duration.enteringScreen,enter:h.transitions.duration.enteringScreen,exit:0},children:c},o)})}const oz=e=>tn("MuiPickersSlideTransition",e),Ur=cn("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),iz=["children","className","reduceAnimations","slideDirection","transKey","classes"],az=(e,n)=>{const{slideDirection:r}=n,s={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${r}`],exitActive:[`slideExitActiveLeft-${r}`]};return Gt(s,oz,e)},lz=_e(Ky,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,n)=>[n.root,{[`.${Ur["slideEnter-left"]}`]:n["slideEnter-left"]},{[`.${Ur["slideEnter-right"]}`]:n["slideEnter-right"]},{[`.${Ur.slideEnterActive}`]:n.slideEnterActive},{[`.${Ur.slideExit}`]:n.slideExit},{[`.${Ur["slideExitActiveLeft-left"]}`]:n["slideExitActiveLeft-left"]},{[`.${Ur["slideExitActiveLeft-right"]}`]:n["slideExitActiveLeft-right"]}]})(({theme:e})=>{const n=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Ur["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Ur["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Ur.slideEnterActive}`]:{transform:"translate(0%)",transition:n},[`& .${Ur.slideExit}`]:{transform:"translate(0%)"},[`& .${Ur["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:n,zIndex:0},[`& .${Ur["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:n,zIndex:0}}});function cz(e){const n=zt({props:e,name:"MuiPickersSlideTransition"}),{children:r,className:s,reduceAnimations:o,slideDirection:a,transKey:c,classes:d}=n,u=rt(n,iz),{ownerState:h}=Cn(),p=U({},h,{slideDirection:a}),x=az(d,p),b=Mn();if(o)return t.jsx("div",{className:Xt(x.root,s),children:r});const y={exit:x.exit,enterActive:x.enterActive,enter:x.enter,exitActive:x.exitActive};return t.jsx(lz,{className:Xt(x.root,s),childFactory:m=>g.cloneElement(m,{classNames:y}),role:"presentation",ownerState:p,children:t.jsx(xE,U({mountOnEnter:!0,unmountOnExit:!0,timeout:b.transitions.duration.complex,classNames:y},u,{children:r}),c)})}const dz=e=>tn("MuiDayCalendar",e);cn("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const uz=["parentProps","day","focusedDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],hz=["ownerState"],fz=e=>Gt({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},dz,e),O1=(Aa+fd*2)*6,pz=_e("div",{name:"MuiDayCalendar",slot:"Root"})({}),xz=_e("div",{name:"MuiDayCalendar",slot:"Header"})({display:"flex",justifyContent:"center",alignItems:"center"}),mz=_e(v,{name:"MuiDayCalendar",slot:"WeekDayLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),gz=_e(v,{name:"MuiDayCalendar",slot:"WeekNumberLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.disabled})),bz=_e(v,{name:"MuiDayCalendar",slot:"WeekNumber"})(({theme:e})=>U({},e.typography.caption,{width:Aa,height:Aa,padding:0,margin:`0 ${fd}px`,color:(e.vars||e).palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),yz=_e("div",{name:"MuiDayCalendar",slot:"LoadingContainer"})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:O1}),vz=_e(cz,{name:"MuiDayCalendar",slot:"SlideTransition"})({minHeight:O1}),jz=_e("div",{name:"MuiDayCalendar",slot:"MonthContainer"})({overflow:"hidden"}),wz=_e("div",{name:"MuiDayCalendar",slot:"WeekContainer"})({margin:`${fd}px 0`,display:"flex",justifyContent:"center"});function Sz(e){let{parentProps:n,day:r,focusedDay:s,selectedDays:o,isDateDisabled:a,currentMonthNumber:c,isViewFocused:d}=e,u=rt(e,uz);const{disabled:h,disableHighlightToday:p,isMonthSwitchingAnimating:x,showDaysOutsideCurrentMonth:b,slots:y,slotProps:m,timezone:w}=n,j=Bt(),D=Mi(w),C=s!=null&&j.isSameDay(r,s),R=d&&C,E=o.some(K=>j.isSameDay(K,r)),T=j.isSameDay(r,D),I=g.useMemo(()=>h||a(r),[h,a,r]),N=g.useMemo(()=>j.getMonth(r)!==c,[j,r,c]),O=a1({day:r,selected:E,disabled:I,today:T,outsideCurrentMonth:N,disableMargin:void 0,disableHighlightToday:p,showDaysOutsideCurrentMonth:b}),$=(y==null?void 0:y.day)??AV,B=kt({elementType:$,externalSlotProps:m==null?void 0:m.day,additionalProps:U({disableHighlightToday:p,showDaysOutsideCurrentMonth:b,role:"gridcell",isAnimating:x,"data-timestamp":j.toJsDate(r).valueOf()},u),ownerState:U({},O,{day:r,isDayDisabled:I,isDaySelected:E})}),H=rt(B,hz),k=g.useMemo(()=>{const K=j.startOfMonth(j.setMonth(r,c));return b?j.isSameDay(r,j.startOfWeek(K)):j.isSameDay(r,K)},[c,r,b,j]),ne=g.useMemo(()=>{const K=j.endOfMonth(j.setMonth(r,c));return b?j.isSameDay(r,j.endOfWeek(K)):j.isSameDay(r,K)},[c,r,b,j]);return t.jsx($,U({},H,{day:r,disabled:I,autoFocus:!N&&R,today:T,outsideCurrentMonth:N,isFirstVisibleCell:k,isLastVisibleCell:ne,selected:E,tabIndex:C?0:-1,"aria-selected":E,"aria-current":T?"date":void 0}))}function Cz(e){const n=zt({props:e,name:"MuiDayCalendar"}),r=Bt(),{onFocusedDayChange:s,className:o,classes:a,currentMonth:c,selectedDays:d,focusedDay:u,loading:h,onSelectedDaysChange:p,onMonthSwitchingAnimationEnd:x,readOnly:b,reduceAnimations:y,renderLoading:m=()=>t.jsx("span",{children:"..."}),slideDirection:w,TransitionProps:j,disablePast:D,disableFuture:C,minDate:R,maxDate:E,shouldDisableDate:T,shouldDisableMonth:I,shouldDisableYear:N,dayOfWeekFormatter:O=G=>r.format(G,"weekdayShort").charAt(0).toUpperCase(),hasFocus:$,onFocusedViewChange:B,gridLabelId:H,displayWeekNumber:k,fixedWeekNumber:ne,timezone:K}=n,q=Mi(K),te=fz(a),ie=ws(),se=R1({shouldDisableDate:T,shouldDisableMonth:I,shouldDisableYear:N,minDate:R,maxDate:E,disablePast:D,disableFuture:C,timezone:K}),ae=ds(),V=We(G=>{b||p(G)}),X=G=>{se(G)||(s(G),B==null||B(!0))},we=We((G,fe)=>{switch(G.key){case"ArrowUp":X(r.addDays(fe,-7)),G.preventDefault();break;case"ArrowDown":X(r.addDays(fe,7)),G.preventDefault();break;case"ArrowLeft":{const me=r.addDays(fe,ie?1:-1),ue=r.addMonths(fe,ie?1:-1),Re=Ra({utils:r,date:me,minDate:ie?me:r.startOfMonth(ue),maxDate:ie?r.endOfMonth(ue):me,isDateDisabled:se,timezone:K});X(Re||me),G.preventDefault();break}case"ArrowRight":{const me=r.addDays(fe,ie?-1:1),ue=r.addMonths(fe,ie?-1:1),Re=Ra({utils:r,date:me,minDate:ie?r.startOfMonth(ue):me,maxDate:ie?me:r.endOfMonth(ue),isDateDisabled:se,timezone:K});X(Re||me),G.preventDefault();break}case"Home":X(r.startOfWeek(fe)),G.preventDefault();break;case"End":X(r.endOfWeek(fe)),G.preventDefault();break;case"PageUp":X(r.addMonths(fe,1)),G.preventDefault();break;case"PageDown":X(r.addMonths(fe,-1)),G.preventDefault();break}}),ce=We((G,fe)=>X(fe)),Ee=We((G,fe)=>{u!=null&&r.isSameDay(u,fe)&&(B==null||B(!1))}),de=r.getMonth(c),re=r.getYear(c),L=g.useMemo(()=>d.filter(G=>!!G).map(G=>r.startOfDay(G)),[r,d]),xe=`${re}-${de}`,oe=g.useMemo(()=>g.createRef(),[xe]),Y=g.useMemo(()=>{const G=r.getWeekArray(c);let fe=r.addMonths(c,1);for(;ne&&G.length<ne;){const me=r.getWeekArray(fe),ue=r.isSameDay(G[G.length-1][0],me[0][0]);me.slice(ue?1:0).forEach(Re=>{G.length<ne&&G.push(Re)}),fe=r.addMonths(fe,1)}return G},[c,ne,r]);return t.jsxs(pz,{role:"grid","aria-labelledby":H,className:te.root,children:[t.jsxs(xz,{role:"row",className:te.header,children:[k&&t.jsx(gz,{variant:"caption",role:"columnheader","aria-label":ae.calendarWeekNumberHeaderLabel,className:te.weekNumberLabel,children:ae.calendarWeekNumberHeaderText}),W6(r,q).map((G,fe)=>t.jsx(mz,{variant:"caption",role:"columnheader","aria-label":r.format(G,"weekday"),className:te.weekDayLabel,children:O(G)},fe.toString()))]}),h?t.jsx(yz,{className:te.loadingContainer,children:m()}):t.jsx(vz,U({transKey:xe,onExited:x,reduceAnimations:y,slideDirection:w,className:Xt(o,te.slideTransition)},j,{nodeRef:oe,children:t.jsx(jz,{ref:oe,role:"rowgroup",className:te.monthContainer,children:Y.map((G,fe)=>t.jsxs(wz,{role:"row",className:te.weekContainer,"aria-rowindex":fe+1,children:[k&&t.jsx(bz,{className:te.weekNumber,role:"rowheader","aria-label":ae.calendarWeekNumberAriaLabelText(r.getWeekNumber(G[0])),children:ae.calendarWeekNumberText(r.getWeekNumber(G[0]))}),G.map((me,ue)=>t.jsx(Sz,{parentProps:n,day:me,selectedDays:L,isViewFocused:$,focusedDay:u,onKeyDown:we,onFocus:ce,onBlur:Ee,onDaySelect:V,isDateDisabled:se,currentMonthNumber:de,"aria-colindex":ue+1},me.toString()))]},`week-${G[0]}`))})}))]})}function M1(e){return tn("MuiMonthCalendar",e)}const Vl=cn("MuiMonthCalendar",["root","button","disabled","selected"]),Pz=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],Dz=(e,n)=>{const r={button:["button",n.isMonthDisabled&&"disabled",n.isMonthSelected&&"selected"]};return Gt(r,M1,e)},Tz=_e("button",{name:"MuiMonthCalendar",slot:"Button",overridesResolver:(e,n)=>[n.button,{[`&.${Vl.disabled}`]:n.disabled},{[`&.${Vl.selected}`]:n.selected}]})(({theme:e})=>U({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ie(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ie(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Vl.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${Vl.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),Iz=g.memo(function(n){const{autoFocus:r,classes:s,disabled:o,selected:a,value:c,onClick:d,onKeyDown:u,onFocus:h,onBlur:p,slots:x,slotProps:b}=n,y=rt(n,Pz),m=g.useRef(null),{ownerState:w}=Cn(),j=U({},w,{isMonthDisabled:o,isMonthSelected:a}),D=Dz(s,j);Kr(()=>{var E;r&&((E=m.current)==null||E.focus())},[r]);const C=(x==null?void 0:x.monthButton)??Tz,R=kt({elementType:C,externalSlotProps:b==null?void 0:b.monthButton,externalForwardedProps:y,additionalProps:{disabled:o,ref:m,type:"button",role:"radio","aria-checked":a,onClick:E=>d(E,c),onKeyDown:E=>u(E,c),onFocus:E=>h(E,c),onBlur:E=>p(E,c)},ownerState:j,className:D.button});return t.jsx(C,U({},R))}),Ez=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],Az=e=>Gt({root:["root"]},M1,e);function Rz(e,n){const r=zt({props:e,name:n}),s=cx(r);return U({},r,s,{monthsPerRow:r.monthsPerRow??3})}const _z=_e("div",{name:"MuiMonthCalendar",slot:"Root",shouldForwardProp:e=>Fs(e)&&e!=="monthsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:16,padding:"8px 0",width:Di,boxSizing:"border-box",variants:[{props:{monthsPerRow:3},style:{columnGap:24}},{props:{monthsPerRow:4},style:{columnGap:0}}]}),Oz=g.forwardRef(function(n,r){const s=Rz(n,"MuiMonthCalendar"),{autoFocus:o,className:a,classes:c,value:d,defaultValue:u,referenceDate:h,disabled:p,disableFuture:x,disablePast:b,maxDate:y,minDate:m,onChange:w,shouldDisableMonth:j,readOnly:D,onMonthFocus:C,hasFocus:R,onFocusedViewChange:E,monthsPerRow:T,timezone:I,gridLabelId:N,slots:O,slotProps:$}=s,B=rt(s,Ez),{value:H,handleValueChange:k,timezone:ne}=Vo({name:"MonthCalendar",timezone:I,value:d,defaultValue:u,referenceDate:h,onChange:w,valueManager:lr}),K=Mi(ne),q=ws(),te=Bt(),{ownerState:ie}=Cn(),se=g.useMemo(()=>lr.getInitialReferenceValue({value:H,utils:te,props:s,timezone:ne,referenceDate:h,granularity:os.month}),[]),ae=Az(c),V=g.useMemo(()=>te.getMonth(K),[te,K]),X=g.useMemo(()=>H!=null?te.getMonth(H):null,[H,te]),[we,ce]=g.useState(()=>X||te.getMonth(se)),[Ee,de]=Pi({name:"MonthCalendar",state:"hasFocus",controlled:R,default:o??!1}),re=We(me=>{de(me),E&&E(me)}),L=g.useCallback(me=>{const ue=te.startOfMonth(b&&te.isAfter(K,m)?K:m),Re=te.startOfMonth(x&&te.isBefore(K,y)?K:y),De=te.startOfMonth(me);return te.isBefore(De,ue)||te.isAfter(De,Re)?!0:j?j(De):!1},[x,b,y,m,K,j,te]),xe=We((me,ue)=>{if(D)return;const Re=te.setMonth(H??se,ue);k(Re)}),oe=We(me=>{L(te.setMonth(H??se,me))||(ce(me),re(!0),C&&C(me))});g.useEffect(()=>{ce(me=>X!==null&&me!==X?X:me)},[X]);const Y=We((me,ue)=>{switch(me.key){case"ArrowUp":oe((12+ue-3)%12),me.preventDefault();break;case"ArrowDown":oe((12+ue+3)%12),me.preventDefault();break;case"ArrowLeft":oe((12+ue+(q?1:-1))%12),me.preventDefault();break;case"ArrowRight":oe((12+ue+(q?-1:1))%12),me.preventDefault();break}}),G=We((me,ue)=>{oe(ue)}),fe=We((me,ue)=>{we===ue&&re(!1)});return t.jsx(_z,U({ref:r,className:Xt(ae.root,a),ownerState:ie,role:"radiogroup","aria-labelledby":N,monthsPerRow:T},B,{children:tx(te,H??se).map(me=>{const ue=te.getMonth(me),Re=te.format(me,"monthShort"),De=te.format(me,"month"),Ye=ue===X,Me=p||L(me);return t.jsx(Iz,{selected:Ye,value:ue,onClick:xe,onKeyDown:Y,autoFocus:Ee&&ue===we,disabled:Me,tabIndex:ue===we&&!Me?0:-1,onFocus:G,onBlur:fe,"aria-current":V===ue?"date":void 0,"aria-label":De,slots:O,slotProps:$,classes:c,children:Re},Re)})}))});function k1(e){return tn("MuiYearCalendar",e)}const Ul=cn("MuiYearCalendar",["root","button","disabled","selected"]),Mz=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],kz=(e,n)=>{const r={button:["button",n.isYearDisabled&&"disabled",n.isYearSelected&&"selected"]};return Gt(r,k1,e)},Nz=_e("button",{name:"MuiYearCalendar",slot:"Button",overridesResolver:(e,n)=>[n.button,{[`&.${Ul.disabled}`]:n.disabled},{[`&.${Ul.selected}`]:n.selected}]})(({theme:e})=>U({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:Ie(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ie(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Ul.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${Ul.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),Lz=g.memo(function(n){const{autoFocus:r,classes:s,disabled:o,selected:a,value:c,onClick:d,onKeyDown:u,onFocus:h,onBlur:p,slots:x,slotProps:b}=n,y=rt(n,Mz),m=g.useRef(null),{ownerState:w}=Cn(),j=U({},w,{isYearDisabled:o,isYearSelected:a}),D=kz(s,j);Kr(()=>{var E;r&&((E=m.current)==null||E.focus())},[r]);const C=(x==null?void 0:x.yearButton)??Nz,R=kt({elementType:C,externalSlotProps:b==null?void 0:b.yearButton,externalForwardedProps:y,additionalProps:{disabled:o,ref:m,type:"button",role:"radio","aria-checked":a,onClick:E=>d(E,c),onKeyDown:E=>u(E,c),onFocus:E=>h(E,c),onBlur:E=>p(E,c)},ownerState:j,className:D.button});return t.jsx(C,U({},R))}),$z=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"],Fz=e=>Gt({root:["root"]},k1,e);function Wz(e,n){const r=zt({props:e,name:n}),s=cx(r);return U({},r,s,{yearsPerRow:r.yearsPerRow??3,yearsOrder:r.yearsOrder??"asc"})}const Bz=_e("div",{name:"MuiYearCalendar",slot:"Root",shouldForwardProp:e=>Fs(e)&&e!=="yearsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:12,padding:"6px 0",overflowY:"auto",height:"100%",width:Di,maxHeight:L6,boxSizing:"border-box",position:"relative",variants:[{props:{yearsPerRow:3},style:{columnGap:24}},{props:{yearsPerRow:4},style:{columnGap:0,padding:"0 2px"}}]}),Vz=_e("div",{name:"MuiYearCalendar",slot:"ButtonFiller"})({height:36,width:72}),Uz=g.forwardRef(function(n,r){const s=Wz(n,"MuiYearCalendar"),{autoFocus:o,className:a,classes:c,value:d,defaultValue:u,referenceDate:h,disabled:p,disableFuture:x,disablePast:b,maxDate:y,minDate:m,onChange:w,readOnly:j,shouldDisableYear:D,onYearFocus:C,hasFocus:R,onFocusedViewChange:E,yearsOrder:T,yearsPerRow:I,timezone:N,gridLabelId:O,slots:$,slotProps:B}=s,H=rt(s,$z),{value:k,handleValueChange:ne,timezone:K}=Vo({name:"YearCalendar",timezone:N,value:d,defaultValue:u,referenceDate:h,onChange:w,valueManager:lr}),q=Mi(K),te=ws(),ie=Bt(),{ownerState:se}=Cn(),ae=g.useMemo(()=>lr.getInitialReferenceValue({value:k,utils:ie,props:s,timezone:K,referenceDate:h,granularity:os.year}),[]),V=Fz(c),X=g.useMemo(()=>ie.getYear(q),[ie,q]),we=g.useMemo(()=>k!=null?ie.getYear(k):null,[k,ie]),[ce,Ee]=g.useState(()=>we||ie.getYear(ae)),[de,re]=Pi({name:"YearCalendar",state:"hasFocus",controlled:R,default:o??!1}),L=We(J=>{re(J),E&&E(J)}),xe=g.useCallback(J=>{if(b&&ie.isBeforeYear(J,q)||x&&ie.isAfterYear(J,q)||m&&ie.isBeforeYear(J,m)||y&&ie.isAfterYear(J,y))return!0;if(!D)return!1;const be=ie.startOfYear(J);return D(be)},[x,b,y,m,q,D,ie]),oe=We((J,be)=>{if(j)return;const Qe=ie.setYear(k??ae,be);ne(Qe)}),Y=We(J=>{xe(ie.setYear(k??ae,J))||(Ee(J),L(!0),C==null||C(J))});g.useEffect(()=>{Ee(J=>we!==null&&J!==we?we:J)},[we]);const G=T!=="desc"?I*1:I*-1,fe=te&&T==="asc"||!te&&T==="desc"?-1:1,me=We((J,be)=>{switch(J.key){case"ArrowUp":Y(be-G),J.preventDefault();break;case"ArrowDown":Y(be+G),J.preventDefault();break;case"ArrowLeft":Y(be-fe),J.preventDefault();break;case"ArrowRight":Y(be+fe),J.preventDefault();break}}),ue=We((J,be)=>{Y(be)}),Re=We((J,be)=>{ce===be&&L(!1)}),De=g.useRef(null),Ye=Zn(r,De);g.useEffect(()=>{if(o||De.current===null)return;const J=De.current.querySelector('[tabindex="0"]');if(!J)return;const be=J.offsetHeight,Qe=J.offsetTop,vt=De.current.clientHeight,nn=De.current.scrollTop,Lt=Qe+be;be>vt||Qe<nn||(De.current.scrollTop=Lt-vt/2-be/2)},[o]);const Me=ie.getYearRange([m,y]);T==="desc"&&Me.reverse();let Ne=I-Me.length%I;return Ne===I&&(Ne=0),t.jsxs(Bz,U({ref:Ye,className:Xt(V.root,a),ownerState:se,role:"radiogroup","aria-labelledby":O,yearsPerRow:I},H,{children:[Me.map(J=>{const be=ie.getYear(J),Qe=be===we,vt=p||xe(J);return t.jsx(Lz,{selected:Qe,value:be,onClick:oe,onKeyDown:me,autoFocus:de&&be===ce,disabled:vt,tabIndex:be===ce&&!vt?0:-1,onFocus:ue,onBlur:Re,"aria-current":X===be?"date":void 0,slots:$,slotProps:B,classes:c,children:ie.format(J,"year")},ie.format(J,"year"))}),Array.from({length:Ne},(J,be)=>t.jsx(Vz,{},be))]}))}),zz=e=>tn("MuiPickersCalendarHeader",e),Hz=cn("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),Yz=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","classes","timezone","format"],Gz=["ownerState"],qz=e=>Gt({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},zz,e),Kz=_e("div",{name:"MuiPickersCalendarHeader",slot:"Root"})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),Xz=_e("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer"})(({theme:e})=>U({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),Jz=_e("div",{name:"MuiPickersCalendarHeader",slot:"Label"})({marginRight:6}),Qz=_e($e,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton"})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${Hz.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),Zz=_e(p6,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon"})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),eH=g.forwardRef(function(n,r){const s=ds(),o=Bt(),a=zt({props:n,name:"MuiPickersCalendarHeader"}),{slots:c,slotProps:d,currentMonth:u,disabled:h,disableFuture:p,disablePast:x,maxDate:b,minDate:y,onMonthChange:m,onViewChange:w,view:j,reduceAnimations:D,views:C,labelId:R,className:E,classes:T,timezone:I,format:N=`${o.formats.month} ${o.formats.year}`}=a,O=rt(a,Yz),{ownerState:$}=Cn(),B=qz(T),H=(c==null?void 0:c.switchViewButton)??Qz,k=kt({elementType:H,externalSlotProps:d==null?void 0:d.switchViewButton,additionalProps:{size:"small","aria-label":s.calendarViewSwitchingButtonAriaLabel(j)},ownerState:$,className:B.switchViewButton}),ne=(c==null?void 0:c.switchViewIcon)??Zz,K=kt({elementType:ne,externalSlotProps:d==null?void 0:d.switchViewIcon,ownerState:$,className:B.switchViewIcon}),q=rt(K,Gz),te=()=>m(o.addMonths(u,1)),ie=()=>m(o.addMonths(u,-1)),se=k6(u,{disableFuture:p,maxDate:b,timezone:I}),ae=N6(u,{disablePast:x,minDate:y,timezone:I}),V=()=>{if(!(C.length===1||!w||h))if(C.length===2)w(C.find(we=>we!==j)||C[0]);else{const we=C.indexOf(j)!==0?0:1;w(C[we])}};if(C.length===1&&C[0]==="year")return null;const X=o.formatByString(u,N);return t.jsxs(Kz,U({},O,{ownerState:$,className:Xt(B.root,E),ref:r,children:[t.jsxs(Xz,{role:"presentation",onClick:V,ownerState:$,"aria-live":"polite",className:B.labelContainer,children:[t.jsx(_1,{reduceAnimations:D,transKey:X,children:t.jsx(Jz,{id:R,ownerState:$,className:B.label,children:X})}),C.length>1&&!h&&t.jsx(H,U({},k,{children:t.jsx(ne,U({},q))}))]}),t.jsx($c,{in:j==="day",appear:!D,enter:!D,children:t.jsx(E6,{slots:c,slotProps:d,onGoToPrevious:ie,isPreviousDisabled:ae,previousLabel:s.previousMonth,onGoToNext:te,isNextDisabled:se,nextLabel:s.nextMonth})})]}))}),tH="@media (prefers-reduced-motion: reduce)",xi=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),Ry=xi&&xi[1]?parseInt(xi[1],10):null,_y=xi&&xi[2]?parseInt(xi[2],10):null,nH=Ry&&Ry<10||_y&&_y<13||!1;function N1(e){const n=Mc(tH,{defaultMatches:!1});return e??(n||nH)}const rH=e=>tn("MuiDateCalendar",e);cn("MuiDateCalendar",["root","viewTransitionContainer"]);const sH=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","classes","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"],oH=e=>Gt({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},rH,e);function iH(e,n){const r=zt({props:e,name:n}),s=N1(r.reduceAnimations),o=cx(r);return U({},r,o,{loading:r.loading??!1,openTo:r.openTo??"day",views:r.views??["year","day"],reduceAnimations:s,renderLoading:r.renderLoading??(()=>t.jsx("span",{children:"..."}))})}const aH=_e(ex,{name:"MuiDateCalendar",slot:"Root"})({display:"flex",flexDirection:"column",height:Ti}),lH=_e(_1,{name:"MuiDateCalendar",slot:"ViewTransitionContainer"})({}),cH=g.forwardRef(function(n,r){const s=Bt(),{ownerState:o}=Cn(),a=dd(),c=iH(n,"MuiDateCalendar"),{autoFocus:d,onViewChange:u,value:h,defaultValue:p,referenceDate:x,disableFuture:b,disablePast:y,onChange:m,onMonthChange:w,reduceAnimations:j,shouldDisableDate:D,shouldDisableMonth:C,shouldDisableYear:R,view:E,views:T,openTo:I,className:N,classes:O,disabled:$,readOnly:B,minDate:H,maxDate:k,disableHighlightToday:ne,focusedView:K,onFocusedViewChange:q,showDaysOutsideCurrentMonth:te,fixedWeekNumber:ie,dayOfWeekFormatter:se,slots:ae,slotProps:V,loading:X,renderLoading:we,displayWeekNumber:ce,yearsOrder:Ee,yearsPerRow:de,monthsPerRow:re,timezone:L}=c,xe=rt(c,sH),{value:oe,handleValueChange:Y,timezone:G}=Vo({name:"DateCalendar",timezone:L,value:h,defaultValue:p,referenceDate:x,onChange:m,valueManager:lr}),{view:fe,setView:me,focusedView:ue,setFocusedView:Re,goToNextView:De,setValueAndGoToNextView:Ye}=hd({view:E,views:T,openTo:I,onChange:Y,onViewChange:u,autoFocus:d,focusedView:K,onFocusedViewChange:q}),{referenceDate:Me,calendarState:Ne,setVisibleDate:J,isDateDisabled:be,onMonthSwitchingAnimationEnd:Qe}=ez({value:oe,referenceDate:x,reduceAnimations:j,onMonthChange:w,minDate:H,maxDate:k,shouldDisableDate:D,disablePast:y,disableFuture:b,timezone:G,getCurrentMonthFromVisibleDate:(St,Dn)=>s.isSameMonth(St,Dn)?Dn:s.startOfMonth(St)}),vt=$&&oe||H,nn=$&&oe||k,Lt=`${a}-grid-label`,At=ue!==null,qt=(ae==null?void 0:ae.calendarHeader)??eH,kn=kt({elementType:qt,externalSlotProps:V==null?void 0:V.calendarHeader,additionalProps:{views:T,view:fe,currentMonth:Ne.currentMonth,onViewChange:me,onMonthChange:St=>J({target:St,reason:"header-navigation"}),minDate:vt,maxDate:nn,disabled:$,disablePast:y,disableFuture:b,reduceAnimations:j,timezone:G,labelId:Lt},ownerState:o}),dt=We(St=>{const Dn=s.startOfMonth(St),Wn=s.endOfMonth(St),yr=be(St)?Ra({utils:s,date:St,minDate:s.isBefore(H,Dn)?Dn:H,maxDate:s.isAfter(k,Wn)?Wn:k,disablePast:y,disableFuture:b,isDateDisabled:be,timezone:G}):St;yr?(Ye(yr,"finish"),J({target:yr,reason:"cell-interaction"})):(De(),J({target:Dn,reason:"cell-interaction"}))}),xt=We(St=>{const Dn=s.startOfYear(St),Wn=s.endOfYear(St),yr=be(St)?Ra({utils:s,date:St,minDate:s.isBefore(H,Dn)?Dn:H,maxDate:s.isAfter(k,Wn)?Wn:k,disablePast:y,disableFuture:b,isDateDisabled:be,timezone:G}):St;yr?(Ye(yr,"finish"),J({target:yr,reason:"cell-interaction"})):(De(),J({target:Dn,reason:"cell-interaction"}))}),Rt=We(St=>Y(St&&Ac(s,St,oe??Me),"finish",fe));g.useEffect(()=>{s.isValid(oe)&&J({target:oe,reason:"controlled-value-change"})},[oe]);const Ht=oH(O),Pn={disablePast:y,disableFuture:b,maxDate:k,minDate:H},dn={disableHighlightToday:ne,readOnly:B,disabled:$,timezone:G,gridLabelId:Lt,slots:ae,slotProps:V},Gn=g.useRef(fe);g.useEffect(()=>{Gn.current!==fe&&(ue===Gn.current&&Re(fe,!0),Gn.current=fe)},[ue,Re,fe]);const xn=g.useMemo(()=>[oe],[oe]);return t.jsxs(aH,U({ref:r,className:Xt(Ht.root,N),ownerState:o},xe,{children:[t.jsx(qt,U({},kn,{slots:ae,slotProps:V})),t.jsx(lH,{reduceAnimations:j,className:Ht.viewTransitionContainer,transKey:fe,ownerState:o,children:t.jsxs("div",{children:[fe==="year"&&t.jsx(Uz,U({},Pn,dn,{value:oe,onChange:xt,shouldDisableYear:R,hasFocus:At,onFocusedViewChange:St=>Re("year",St),yearsOrder:Ee,yearsPerRow:de,referenceDate:Me})),fe==="month"&&t.jsx(Oz,U({},Pn,dn,{hasFocus:At,className:N,value:oe,onChange:dt,shouldDisableMonth:C,onFocusedViewChange:St=>Re("month",St),monthsPerRow:re,referenceDate:Me})),fe==="day"&&t.jsx(Cz,U({},Ne,Pn,dn,{onMonthSwitchingAnimationEnd:Qe,hasFocus:At,onFocusedDayChange:St=>J({target:St,reason:"cell-interaction"}),reduceAnimations:j,selectedDays:xn,onSelectedDaysChange:Rt,shouldDisableDate:D,shouldDisableMonth:C,shouldDisableYear:R,onFocusedViewChange:St=>Re("day",St),showDaysOutsideCurrentMonth:te,fixedWeekNumber:ie,dayOfWeekFormatter:se,displayWeekNumber:ce,loading:X,renderLoading:we}))]})})]}))});function L1(e){return tn("MuiPickersToolbar",e)}const dH=cn("MuiPickersToolbar",["root","title","content"]);function $1(){const{ownerState:e}=Cn(),n=ws();return g.useMemo(()=>U({},e,{toolbarDirection:n?"rtl":"ltr"}),[e,n])}const uH=["children","className","classes","toolbarTitle","hidden","titleId","classes","landscapeDirection"],hH=e=>Gt({root:["root"],title:["title"],content:["content"]},L1,e),fH=_e("div",{name:"MuiPickersToolbar",slot:"Root"})(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:e.spacing(2,3),variants:[{props:{pickerOrientation:"landscape"},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),pH=_e("div",{name:"MuiPickersToolbar",slot:"Content",shouldForwardProp:e=>Fs(e)&&e!=="landscapeDirection"})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{pickerOrientation:"landscape"},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{pickerOrientation:"landscape",landscapeDirection:"row"},style:{flexDirection:"row"}}]}),xH=g.forwardRef(function(n,r){const s=zt({props:n,name:"MuiPickersToolbar"}),{children:o,className:a,classes:c,toolbarTitle:d,hidden:u,titleId:h,landscapeDirection:p}=s,x=rt(s,uH),b=$1(),y=hH(c);return u?null:t.jsxs(fH,U({ref:r,className:Xt(y.root,a),ownerState:b},x,{children:[t.jsx(v,{color:"text.secondary",variant:"overline",id:h,className:y.title,children:d}),t.jsx(pH,{className:y.content,ownerState:b,landscapeDirection:p,children:o})]}))});function mH(e){return tn("MuiPickerPopper",e)}cn("MuiPickerPopper",["root","paper"]);const gH=["PaperComponent","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],bH=e=>Gt({root:["root"],paper:["paper"]},mH,e),yH=_e(mE,{name:"MuiPickerPopper",slot:"Root"})(({theme:e})=>({zIndex:e.zIndex.modal})),vH=_e(lt,{name:"MuiPickerPopper",slot:"Paper"})({outline:0,transformOrigin:"top center",variants:[{props:({popperPlacement:e})=>["top","top-start","top-end"].includes(e),style:{transformOrigin:"bottom center"}}]});function jH(e,n){return n.documentElement.clientWidth<e.clientX||n.documentElement.clientHeight<e.clientY}function wH(e,n){const r=g.useRef(!1),s=g.useRef(!1),o=g.useRef(null),a=g.useRef(!1);g.useEffect(()=>{if(!e)return;function u(){a.current=!0}return document.addEventListener("mousedown",u,!0),document.addEventListener("touchstart",u,!0),()=>{document.removeEventListener("mousedown",u,!0),document.removeEventListener("touchstart",u,!0),a.current=!1}},[e]);const c=We(u=>{if(!a.current)return;const h=s.current;s.current=!1;const p=oh(o.current);if(!o.current||"clientX"in u&&jH(u,p))return;if(r.current){r.current=!1;return}let x;u.composedPath?x=u.composedPath().indexOf(o.current)>-1:x=!p.documentElement.contains(u.target)||o.current.contains(u.target),!x&&!h&&n(u)}),d=()=>{s.current=!0};return g.useEffect(()=>{if(e){const u=oh(o.current),h=()=>{r.current=!0};return u.addEventListener("touchstart",c),u.addEventListener("touchmove",h),()=>{u.removeEventListener("touchstart",c),u.removeEventListener("touchmove",h)}}},[e,c]),g.useEffect(()=>{if(e){const u=oh(o.current);return u.addEventListener("click",c),()=>{u.removeEventListener("click",c),s.current=!1}}},[e,c]),[o,d,d]}const SH=g.forwardRef((e,n)=>{const{PaperComponent:r,ownerState:s,children:o,paperSlotProps:a,paperClasses:c,onPaperClick:d,onPaperTouchStart:u}=e,h=rt(e,gH),p=kt({elementType:r,externalSlotProps:a,additionalProps:{tabIndex:-1,elevation:8,ref:n},className:c,ownerState:s});return t.jsx(r,U({},h,p,{onClick:x=>{var b;d(x),(b=p.onClick)==null||b.call(p,x)},onTouchStart:x=>{var b;u(x),(b=p.onTouchStart)==null||b.call(p,x)},ownerState:s,children:o}))});function CH(e){const n=zt({props:e,name:"MuiPickerPopper"}),{children:r,placement:s="bottom-start",slots:o,slotProps:a,classes:c}=n,{open:d,popupRef:u,reduceAnimations:h}=fo(),{dismissViews:p,getCurrentViewMode:x,onPopperExited:b,triggerElement:y,viewContainerRole:m}=Cn();g.useEffect(()=>{function ie(se){d&&se.key==="Escape"&&p()}return document.addEventListener("keydown",ie),()=>{document.removeEventListener("keydown",ie)}},[p,d]);const w=g.useRef(null);g.useEffect(()=>{m==="tooltip"||x()==="field"||(d?w.current=zn(document):w.current&&w.current instanceof HTMLElement&&setTimeout(()=>{w.current instanceof HTMLElement&&w.current.focus()}))},[d,m,x]);const j=bH(c),{ownerState:D,rootRefObject:C}=Cn(),R=U({},D,{popperPlacement:s}),E=We(()=>{m==="tooltip"?rV(()=>{var ie,se;(ie=C.current)!=null&&ie.contains(zn(document))||(se=u.current)!=null&&se.contains(zn(document))||p()}):p()}),[T,I,N]=wH(d,E),O=g.useRef(null),$=Zn(O,u),B=Zn($,T),H=ie=>{ie.key==="Escape"&&(ie.stopPropagation(),p())},k=(o==null?void 0:o.desktopTransition)??h?$c:gE,ne=(o==null?void 0:o.desktopTrapFocus)??bE,K=(o==null?void 0:o.desktopPaper)??vH,q=(o==null?void 0:o.popper)??yH,te=kt({elementType:q,externalSlotProps:a==null?void 0:a.popper,additionalProps:{transition:!0,role:m??void 0,open:d,placement:s,anchorEl:y,onKeyDown:H},className:j.root,ownerState:R});return t.jsx(q,U({},te,{children:({TransitionProps:ie})=>t.jsx(ne,U({open:d,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:m==="tooltip",isEnabled:()=>!0},a==null?void 0:a.desktopTrapFocus,{children:t.jsx(k,U({},ie,a==null?void 0:a.desktopTransition,{onExited:se=>{var ae,V,X;b==null||b(),(V=(ae=a==null?void 0:a.desktopTransition)==null?void 0:ae.onExited)==null||V.call(ae,se),(X=ie==null?void 0:ie.onExited)==null||X.call(ie)},children:t.jsx(SH,{PaperComponent:K,ownerState:R,ref:B,onPaperClick:I,onPaperTouchStart:N,paperClasses:j.paper,paperSlotProps:a==null?void 0:a.desktopPaper,children:r})}))}))}))}function Oy(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}function PH(e,n){const[r,s]=g.useState(Oy);return Kr(()=>{const o=()=>{s(Oy())};return window.addEventListener("orientationchange",o),()=>{window.removeEventListener("orientationchange",o)}},[]),nV(e,["hours","minutes","seconds"])?"portrait":n??r}function DH(e){const{props:n,valueManager:r,validator:s}=e,{value:o,defaultValue:a,onChange:c,referenceDate:d,timezone:u,onAccept:h,closeOnSelect:p,open:x,onOpen:b,onClose:y}=n,{current:m}=g.useRef(a),{current:w}=g.useRef(o!==void 0),{current:j}=g.useRef(x!==void 0),D=Bt(),{timezone:C,value:R,handleValueChange:E}=Vo({name:"a picker component",timezone:u,value:o,defaultValue:m,referenceDate:d,onChange:c,valueManager:r}),[T,I]=g.useState(()=>({open:!1,lastExternalValue:R,clockShallowValue:void 0,lastCommittedValue:R,hasBeenModifiedSinceMount:!1})),{getValidationErrorForNewValue:N}=x1({props:n,validator:s,timezone:C,value:R,onError:n.onError}),O=We(k=>{const ne=typeof k=="function"?k(T.open):k;j||I(K=>U({},K,{open:ne})),ne&&b&&b(),ne||y==null||y()}),$=We((k,ne)=>{const{changeImportance:K="accept",skipPublicationIfPristine:q=!1,validationError:te,shortcut:ie,shouldClose:se=K==="accept"}=ne??{};let ae,V;!q&&!w&&!T.hasBeenModifiedSinceMount?(ae=!0,V=K==="accept"):(ae=!r.areValuesEqual(D,k,R),V=K==="accept"&&!r.areValuesEqual(D,k,T.lastCommittedValue)),I(ce=>U({},ce,{clockShallowValue:ae?void 0:ce.clockShallowValue,lastCommittedValue:V?R:ce.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let X=null;const we=()=>(X||(X={validationError:te??N(k)},ie&&(X.shortcut=ie)),X);ae&&E(k,we()),V&&h&&h(k,we()),se&&O(!1)});R!==T.lastExternalValue&&I(k=>U({},k,{lastExternalValue:R,clockShallowValue:void 0,hasBeenModifiedSinceMount:!0}));const B=We((k,ne="partial")=>{if(ne==="shallow"){I(K=>U({},K,{clockShallowValue:k,hasBeenModifiedSinceMount:!0}));return}$(k,{changeImportance:ne==="finish"&&p?"accept":"set"})});g.useEffect(()=>{if(j){if(x===void 0)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");I(k=>U({},k,{open:x}))}},[j,x]);const H=g.useMemo(()=>r.cleanValue(D,T.clockShallowValue===void 0?R:T.clockShallowValue),[D,r,T.clockShallowValue,R]);return{timezone:C,state:T,setValue:$,setValueFromView:B,setOpen:O,value:R,viewValue:H}}const TH=["className","sx"],F1=({ref:e,props:n,valueManager:r,valueType:s,variant:o,validator:a,onPopperExited:c,autoFocusView:d,rendererInterceptor:u,localeText:h,viewContainerRole:p,getStepNavigation:x})=>{const{views:b,view:y,openTo:m,onViewChange:w,viewRenderers:j,reduceAnimations:D,orientation:C,disableOpenPicker:R,closeOnSelect:E,disabled:T,readOnly:I,formatDensity:N,enableAccessibleFieldDOMStructure:O,selectedSections:$,onSelectedSectionsChange:B,format:H,label:k,autoFocus:ne,name:K}=n,{className:q,sx:te}=n,ie=rt(n,TH),se=dd(),ae=Bt(),V=Bo(),X=N1(D),we=PH(b,C),{current:ce}=g.useRef(m??null),[Ee,de]=g.useState(null),re=g.useRef(null),L=g.useRef(null),xe=g.useRef(null),oe=Zn(e,xe),{timezone:Y,state:G,setOpen:fe,setValue:me,setValueFromView:ue,value:Re,viewValue:De}=DH({props:n,valueManager:r,validator:a}),{view:Ye,setView:Me,defaultView:Ne,focusedView:J,setFocusedView:be,setValueAndGoToNextView:Qe,goToNextStep:vt,hasNextStep:nn,hasSeveralSteps:Lt}=hd({view:y,views:b,openTo:m,onChange:ue,onViewChange:w,autoFocus:d,getStepNavigation:x}),At=We(()=>me(r.emptyValue)),qt=We(()=>me(r.getTodayValue(ae,Y,s))),kn=We(()=>me(Re)),dt=We(()=>me(G.lastCommittedValue,{skipPublicationIfPristine:!0})),xt=We(()=>{me(Re,{skipPublicationIfPristine:!0})}),{hasUIView:Rt,viewModeLookup:Ht,timeViewsCount:Pn}=g.useMemo(()=>b.reduce((mn,vr)=>{const Ha=j[vr]==null?"field":"UI";return mn.viewModeLookup[vr]=Ha,Ha==="UI"&&(mn.hasUIView=!0,Ea(vr)&&(mn.timeViewsCount+=1)),mn},{hasUIView:!1,viewModeLookup:{},timeViewsCount:0}),[j,b]),dn=Ht[Ye],Gn=We(()=>dn),[xn,St]=g.useState(dn==="UI"?Ye:null);xn!==Ye&&Ht[Ye]==="UI"&&St(Ye),Kr(()=>{dn==="field"&&G.open&&(fe(!1),setTimeout(()=>{var mn,vr;(mn=L==null?void 0:L.current)==null||mn.setSelectedSections(Ye),(vr=L==null?void 0:L.current)==null||vr.focusField(Ye)}))},[Ye]),Kr(()=>{if(!G.open)return;let mn=Ye;dn==="field"&&xn!=null&&(mn=xn),mn!==Ne&&Ht[mn]==="UI"&&Ht[Ne]==="UI"&&(mn=Ne),mn!==Ye&&Me(mn),be(mn,!0)},[G.open]);const Dn=g.useMemo(()=>({isPickerValueEmpty:r.areValuesEqual(ae,Re,r.emptyValue),isPickerOpen:G.open,isPickerDisabled:n.disabled??!1,isPickerReadOnly:n.readOnly??!1,pickerOrientation:we,pickerVariant:o}),[ae,r,Re,G.open,we,o,n.disabled,n.readOnly]),Wn=g.useMemo(()=>R||!Rt?"hidden":T||I?"disabled":"enabled",[R,Rt,T,I]),yr=We(vt),xo=g.useMemo(()=>E&&!Lt?[]:["cancel","nextOrAccept"],[E,Lt]),er=g.useMemo(()=>({setValue:me,setOpen:fe,clearValue:At,setValueToToday:qt,acceptValueChanges:kn,cancelValueChanges:dt,setView:Me,goToNextStep:yr}),[me,fe,At,qt,kn,dt,Me,yr]),bd=g.useMemo(()=>U({},er,{value:Re,timezone:Y,open:G.open,views:b,view:xn,initialView:ce,disabled:T??!1,readOnly:I??!1,autoFocus:ne??!1,variant:o,orientation:we,popupRef:re,reduceAnimations:X,triggerRef:de,triggerStatus:Wn,hasNextStep:nn,fieldFormat:H??"",name:K,label:k,rootSx:te,rootRef:oe,rootClassName:q}),[er,Re,oe,o,we,X,T,I,H,q,K,k,te,Wn,nn,Y,G.open,xn,b,ce,ne]),yd=g.useMemo(()=>({dismissViews:xt,ownerState:Dn,hasUIView:Rt,getCurrentViewMode:Gn,rootRefObject:xe,labelId:se,triggerElement:Ee,viewContainerRole:p,defaultActionBarActions:xo,onPopperExited:c}),[xt,Dn,Rt,Gn,se,Ee,p,xo,c]),vd=g.useMemo(()=>({formatDensity:N,enableAccessibleFieldDOMStructure:O,selectedSections:$,onSelectedSectionsChange:B,fieldRef:L}),[N,O,$,B,L]);return{providerProps:{localeText:h,contextValue:bd,privateContextValue:yd,actionsContextValue:er,fieldPrivateContextValue:vd,isValidContextValue:mn=>{const vr=a({adapter:V,value:mn,timezone:Y,props:n});return!r.hasError(vr)}},renderCurrentView:()=>{if(xn==null)return null;const mn=j[xn];if(mn==null)return null;const vr=U({},ie,{views:b,timezone:Y,value:De,onChange:Qe,view:xn,onViewChange:Me,showViewSwitcher:Pn>1,timeViewsCount:Pn},p==="tooltip"?{focusedView:null,onFocusedViewChange:()=>{}}:{focusedView:J,onFocusedViewChange:be});return u?t.jsx(u,{viewRenderers:j,popperView:xn,rendererProps:vr}):mn(vr)},ownerState:Dn}};function W1(e){return tn("MuiPickersLayout",e)}const rs=cn("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),IH=["actions"],EH=_e(ln,{name:"MuiPickersLayout",slot:"ActionBar"})({});function AH(e){const{actions:n}=e,r=rt(e,IH),s=ds(),{clearValue:o,setValueToToday:a,acceptValueChanges:c,cancelValueChanges:d,goToNextStep:u,hasNextStep:h}=fo();if(n==null||n.length===0)return null;const p=n==null?void 0:n.map(x=>{switch(x){case"clear":return t.jsx(ge,{onClick:o,children:s.clearButtonLabel},x);case"cancel":return t.jsx(ge,{onClick:d,children:s.cancelButtonLabel},x);case"accept":return t.jsx(ge,{onClick:c,children:s.okButtonLabel},x);case"today":return t.jsx(ge,{onClick:a,children:s.todayButtonLabel},x);case"next":return t.jsx(ge,{onClick:u,children:s.nextStepButtonLabel},x);case"nextOrAccept":return h?t.jsx(ge,{onClick:u,children:s.nextStepButtonLabel},x):t.jsx(ge,{onClick:c,children:s.okButtonLabel},x);default:return null}});return t.jsx(EH,U({},r,{children:p}))}const RH=g.memo(AH),_H=["items","changeImportance"],OH=["getValue"],MH=_e(Er,{name:"MuiPickersLayout",slot:"Shortcuts"})({});function kH(e){const{items:n,changeImportance:r="accept"}=e,s=rt(e,_H),{setValue:o}=FV(),a=w6();if(n==null||n.length===0)return null;const c=n.map(d=>{let{getValue:u}=d,h=rt(d,OH);const p=u({isValid:a});return U({},h,{label:h.label,onClick:()=>{o(p,{changeImportance:r,shortcut:h})},disabled:!a(p)})});return t.jsx(MH,U({dense:!0,sx:[{maxHeight:Ti,maxWidth:200,overflow:"auto"},...Array.isArray(s.sx)?s.sx:[s.sx]]},s,{children:c.map(d=>t.jsx(ar,{children:t.jsx(Ze,U({},d))},d.id??d.label))}))}const NH=["ownerState"];function LH(e){return e.view!==null}const $H=(e,n)=>{const{pickerOrientation:r}=n;return Gt({root:["root",r==="landscape"&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},W1,e)},B1=e=>{const{ownerState:n,defaultActionBarActions:r}=Cn(),{view:s}=fo(),o=ws(),{children:a,slots:c,slotProps:d,classes:u}=e,h=g.useMemo(()=>U({},n,{layoutDirection:o?"rtl":"ltr"}),[n,o]),p=$H(u,h),x=(c==null?void 0:c.actionBar)??RH,b=kt({elementType:x,externalSlotProps:d==null?void 0:d.actionBar,additionalProps:{actions:r},className:p.actionBar,ownerState:h}),y=rt(b,NH),m=t.jsx(x,U({},y)),w=c==null?void 0:c.toolbar,j=kt({elementType:w,externalSlotProps:d==null?void 0:d.toolbar,className:p.toolbar,ownerState:h}),D=LH(j)&&w?t.jsx(w,U({},j)):null,C=a,R=c==null?void 0:c.tabs,E=s&&R?t.jsx(R,U({className:p.tabs},d==null?void 0:d.tabs)):null,T=(c==null?void 0:c.shortcuts)??kH,I=kt({elementType:T,externalSlotProps:d==null?void 0:d.shortcuts,className:p.shortcuts,ownerState:h}),N=s&&T?t.jsx(T,U({},I)):null;return{toolbar:D,content:C,tabs:E,actionBar:m,shortcuts:N,ownerState:h}},FH=(e,n)=>{const{pickerOrientation:r}=n;return Gt({root:["root",r==="landscape"&&"landscape"],contentWrapper:["contentWrapper"]},W1,e)},V1=_e("div",{name:"MuiPickersLayout",slot:"Root"})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${rs.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{pickerOrientation:"landscape"},style:{[`& .${rs.toolbar}`]:{gridColumn:1,gridRow:"2 / 3"},[`.${rs.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{pickerOrientation:"landscape",layoutDirection:"rtl"},style:{[`& .${rs.toolbar}`]:{gridColumn:3}}},{props:{pickerOrientation:"portrait"},style:{[`& .${rs.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${rs.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{pickerOrientation:"portrait",layoutDirection:"rtl"},style:{[`& .${rs.shortcuts}`]:{gridColumn:3}}}]}),U1=_e("div",{name:"MuiPickersLayout",slot:"ContentWrapper"})({gridColumn:"2 / 4",gridRow:2,display:"flex",flexDirection:"column"}),z1=g.forwardRef(function(n,r){const s=zt({props:n,name:"MuiPickersLayout"}),{toolbar:o,content:a,tabs:c,actionBar:d,shortcuts:u,ownerState:h}=B1(s),{orientation:p,variant:x}=fo(),{sx:b,className:y,classes:m}=s,w=FH(m,h);return t.jsxs(V1,{ref:r,sx:b,className:Xt(w.root,y),ownerState:h,children:[p==="landscape"?u:o,p==="landscape"?o:u,t.jsx(U1,{className:w.contentWrapper,ownerState:h,children:x==="desktop"?t.jsxs(g.Fragment,{children:[a,c]}):t.jsxs(g.Fragment,{children:[c,a]})}),d]})});function H1(e){const{steps:n}=e;return M6({steps:n,isViewMatchingStep:(r,s)=>s.views==null||s.views.includes(r),onStepChange:({step:r,defaultView:s,setView:o,view:a,views:c})=>{const d=r.views==null?s:r.views.find(u=>c.includes(u));d!==a&&o(d)}})}const WH=["props","steps"],BH=["ownerState"],VH=e=>{var I;let{props:n,steps:r}=e,s=rt(e,WH);const{slots:o,slotProps:a,label:c,inputRef:d,localeText:u}=n,h=H1({steps:r}),{providerProps:p,renderCurrentView:x,ownerState:b}=F1(U({},s,{props:n,localeText:u,autoFocusView:!0,viewContainerRole:"dialog",variant:"desktop",getStepNavigation:h})),y=p.privateContextValue.labelId,m=((I=a==null?void 0:a.toolbar)==null?void 0:I.hidden)??!1,w=o.field,j=kt({elementType:w,externalSlotProps:a==null?void 0:a.field,additionalProps:U({},m&&{id:y}),ownerState:b}),D=rt(j,BH),C=o.layout??z1;let R=y;m&&(c?R=`${y}-label`:R=void 0);const E=U({},a,{toolbar:U({},a==null?void 0:a.toolbar,{titleId:y}),popper:U({"aria-labelledby":R},a==null?void 0:a.popper)});return{renderPicker:()=>t.jsx(Xj,U({},p,{children:t.jsxs(E1,{slots:o,slotProps:E,inputRef:d,children:[t.jsx(w,U({},D)),t.jsx(CH,{slots:o,slotProps:E,children:t.jsx(C,U({},E==null?void 0:E.layout,{slots:o,slotProps:E,children:x()}))})]})}))}},mi=({view:e,onViewChange:n,views:r,focusedView:s,onFocusedViewChange:o,value:a,defaultValue:c,referenceDate:d,onChange:u,className:h,classes:p,disableFuture:x,disablePast:b,minDate:y,maxDate:m,shouldDisableDate:w,shouldDisableMonth:j,shouldDisableYear:D,reduceAnimations:C,onMonthChange:R,monthsPerRow:E,onYearChange:T,yearsOrder:I,yearsPerRow:N,slots:O,slotProps:$,loading:B,renderLoading:H,disableHighlightToday:k,readOnly:ne,disabled:K,showDaysOutsideCurrentMonth:q,dayOfWeekFormatter:te,sx:ie,autoFocus:se,fixedWeekNumber:ae,displayWeekNumber:V,timezone:X})=>t.jsx(cH,{view:e,onViewChange:n,views:r.filter(Ii),focusedView:s&&Ii(s)?s:null,onFocusedViewChange:o,value:a,defaultValue:c,referenceDate:d,onChange:u,className:h,classes:p,disableFuture:x,disablePast:b,minDate:y,maxDate:m,shouldDisableDate:w,shouldDisableMonth:j,shouldDisableYear:D,reduceAnimations:C,onMonthChange:R,monthsPerRow:E,onYearChange:T,yearsOrder:I,yearsPerRow:N,slots:O,slotProps:$,loading:B,renderLoading:H,disableHighlightToday:k,readOnly:ne,disabled:K,showDaysOutsideCurrentMonth:q,dayOfWeekFormatter:te,sx:ie,autoFocus:se,fixedWeekNumber:ae,displayWeekNumber:V,timezone:X}),UH=_e(on)({[`& .${Vg.container}`]:{outline:0},[`& .${Vg.paper}`]:{outline:0,minWidth:Di}}),zH=_e(an)({"&:first-of-type":{padding:0}});function HH(e){const{children:n,slots:r,slotProps:s}=e,{open:o}=fo(),{dismissViews:a,onPopperExited:c}=Cn(),d=(r==null?void 0:r.dialog)??UH,u=(r==null?void 0:r.mobileTransition)??$c;return t.jsx(d,U({open:o,onClose:()=>{a(),c==null||c()}},s==null?void 0:s.dialog,{TransitionComponent:u,TransitionProps:s==null?void 0:s.mobileTransition,PaperComponent:r==null?void 0:r.mobilePaper,PaperProps:s==null?void 0:s.mobilePaper,children:t.jsx(zH,{children:n})}))}const YH=["props","steps"],GH=["ownerState"],qH=e=>{var I;let{props:n,steps:r}=e,s=rt(e,YH);const{slots:o,slotProps:a,label:c,inputRef:d,localeText:u}=n,h=H1({steps:r}),{providerProps:p,renderCurrentView:x,ownerState:b}=F1(U({},s,{props:n,localeText:u,autoFocusView:!0,viewContainerRole:"dialog",variant:"mobile",getStepNavigation:h})),y=p.privateContextValue.labelId,m=((I=a==null?void 0:a.toolbar)==null?void 0:I.hidden)??!1,w=o.field,j=kt({elementType:w,externalSlotProps:a==null?void 0:a.field,additionalProps:U({},m&&{id:y}),ownerState:b}),D=rt(j,GH),C=o.layout??z1;let R=y;m&&(c?R=`${y}-label`:R=void 0);const E=U({},a,{toolbar:U({},a==null?void 0:a.toolbar,{titleId:y}),mobilePaper:U({"aria-labelledby":R},a==null?void 0:a.mobilePaper)});return{renderPicker:()=>t.jsx(Xj,U({},p,{children:t.jsxs(E1,{slots:o,slotProps:E,inputRef:d,children:[t.jsx(w,U({},D)),t.jsx(HH,{slots:o,slotProps:E,children:t.jsx(C,U({},E==null?void 0:E.layout,{slots:o,slotProps:E,children:x()}))})]})}))}};function KH(e){return tn("MuiPickersToolbarText",e)}const XH=cn("MuiPickersToolbarText",["root"]),JH=["className","classes","selected","value"],QH=e=>Gt({root:["root"]},KH,e),ZH=_e(v,{name:"MuiPickersToolbarText",slot:"Root"})(({theme:e})=>({transition:e.transitions.create("color"),color:(e.vars||e).palette.text.secondary,"&[data-selected]":{color:(e.vars||e).palette.text.primary}})),Y1=g.forwardRef(function(n,r){const s=zt({props:n,name:"MuiPickersToolbarText"}),{className:o,classes:a,selected:c,value:d}=s,u=rt(s,JH),h=QH(a);return t.jsx(ZH,U({ref:r,className:Xt(h.root,o),component:"span",ownerState:s},c&&{"data-selected":!0},u,{children:d}))}),e9=["align","className","classes","selected","typographyClassName","value","variant","width"],t9=e=>Gt({root:["root"]},L1,e),n9=_e(ge,{name:"MuiPickersToolbarButton",slot:"Root"})({padding:0,minWidth:16,textTransform:"none"}),Zs=g.forwardRef(function(n,r){const s=zt({props:n,name:"MuiPickersToolbarButton"}),{align:o,className:a,classes:c,selected:d,typographyClassName:u,value:h,variant:p,width:x}=s,b=rt(s,e9),y=t9(c);return t.jsx(n9,U({variant:"text",ref:r,className:Xt(y.root,a),ownerState:s},x?{sx:{width:x}}:{},b,{children:t.jsx(Y1,{align:o,className:u,variant:p,value:h,selected:d})}))}),G1=({view:e,onViewChange:n,focusedView:r,onFocusedViewChange:s,views:o,value:a,defaultValue:c,referenceDate:d,onChange:u,className:h,classes:p,disableFuture:x,disablePast:b,minTime:y,maxTime:m,shouldDisableTime:w,minutesStep:j,ampm:D,slots:C,slotProps:R,readOnly:E,disabled:T,sx:I,autoFocus:N,disableIgnoringDatePartForTimeValidation:O,timeSteps:$,skipDisabled:B,timezone:H})=>t.jsx(uV,{view:e,onViewChange:n,focusedView:r&&Ea(r)?r:null,onFocusedViewChange:s,views:o.filter(Ea),value:a,defaultValue:c,referenceDate:d,onChange:u,className:h,classes:p,disableFuture:x,disablePast:b,minTime:y,maxTime:m,shouldDisableTime:w,minutesStep:j,ampm:D,slots:C,slotProps:R,readOnly:E,disabled:T,sx:I,autoFocus:N,disableIgnoringDatePartForTimeValidation:O,timeStep:$==null?void 0:$.minutes,skipDisabled:B,timezone:H}),Oc=({view:e,onViewChange:n,focusedView:r,onFocusedViewChange:s,views:o,value:a,defaultValue:c,referenceDate:d,onChange:u,className:h,classes:p,disableFuture:x,disablePast:b,minTime:y,maxTime:m,shouldDisableTime:w,minutesStep:j,ampm:D,slots:C,slotProps:R,readOnly:E,disabled:T,sx:I,autoFocus:N,disableIgnoringDatePartForTimeValidation:O,timeSteps:$,skipDisabled:B,timezone:H})=>t.jsx(SV,{view:e,onViewChange:n,focusedView:r&&li(r)?r:null,onFocusedViewChange:s,views:o.filter(Ea),value:a,defaultValue:c,referenceDate:d,onChange:u,className:h,classes:p,disableFuture:x,disablePast:b,minTime:y,maxTime:m,shouldDisableTime:w,minutesStep:j,ampm:D,slots:C,slotProps:R,readOnly:E,disabled:T,sx:I,autoFocus:N,disableIgnoringDatePartForTimeValidation:O,timeSteps:$,skipDisabled:B,timezone:H}),r9=["views","format"],q1=(e,n,r)=>{let{views:s,format:o}=n,a=rt(n,r9);if(o)return o;const c=[],d=[];if(s.forEach(p=>{Ea(p)?d.push(p):Ii(p)&&c.push(p)}),d.length===0)return by(e,U({views:c},a));if(c.length===0)return gy(e,U({views:d},a));const u=gy(e,U({views:d},a));return`${by(e,U({views:c},a))} ${u}`},s9=(e,n,r)=>r?n.filter(s=>!li(s)||s==="hours"):e?[...n,"meridiem"]:n,o9=(e,n)=>24*60/((e.hours??1)*(e.minutes??5))<=n;function i9({thresholdToRenderTimeInASingleColumn:e,ampm:n,timeSteps:r,views:s}){const o=e??24,a=U({hours:1,minutes:5,seconds:5},r),c=o9(a,o);return{thresholdToRenderTimeInASingleColumn:o,timeSteps:a,shouldRenderTimeInASingleColumn:c,views:s9(n,s,c)}}function a9(e){return tn("MuiDateTimePickerTabs",e)}cn("MuiDateTimePickerTabs",["root"]);const l9=e=>Ii(e)?"date":"time",c9=e=>e==="date"?"day":"hours",d9=e=>Gt({root:["root"]},a9,e),u9=_e($s,{name:"MuiDateTimePickerTabs",slot:"Root"})(({theme:e})=>({boxShadow:`0 -1px 0 0 inset ${(e.vars||e).palette.divider}`,"&:last-child":{boxShadow:`0 1px 0 0 inset ${(e.vars||e).palette.divider}`,[`& .${yE.indicator}`]:{bottom:"auto",top:0}}})),h9=function(n){const r=zt({props:n,name:"MuiDateTimePickerTabs"}),{dateIcon:s=t.jsx(b6,{}),timeIcon:o=t.jsx(y6,{}),hidden:a=typeof window>"u"||window.innerHeight<667,className:c,classes:d,sx:u}=r,h=ds(),{ownerState:p}=Cn(),{view:x,setView:b}=fo(),y=d9(d),m=(w,j)=>{b(c9(j))};return a?null:t.jsxs(u9,{ownerState:p,variant:"fullWidth",value:l9(x),onChange:m,className:Xt(c,y.root),sx:u,children:[t.jsx(_n,{value:"date","aria-label":h.dateTableLabel,icon:t.jsx(g.Fragment,{children:s})}),t.jsx(_n,{value:"time","aria-label":h.timeTableLabel,icon:t.jsx(g.Fragment,{children:o})})]})};function f9(e){return tn("MuiDateTimePickerToolbar",e)}const ih=cn("MuiDateTimePickerToolbar",["root","dateContainer","timeContainer","timeDigitsContainer","separator","timeLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),p9=["ampm","ampmInClock","toolbarFormat","toolbarPlaceholder","toolbarTitle","className","classes"],x9=(e,n)=>{const{pickerOrientation:r,toolbarDirection:s}=n;return Gt({root:["root"],dateContainer:["dateContainer"],timeContainer:["timeContainer",s==="rtl"&&"timeLabelReverse"],timeDigitsContainer:["timeDigitsContainer",s==="rtl"&&"timeLabelReverse"],separator:["separator"],ampmSelection:["ampmSelection",r==="landscape"&&"ampmLandscape"],ampmLabel:["ampmLabel"]},f9,e)},m9=_e(xH,{name:"MuiDateTimePickerToolbar",slot:"Root",shouldForwardProp:e=>Fs(e)&&e!=="toolbarVariant"})(({theme:e})=>({paddingLeft:16,paddingRight:16,justifyContent:"space-around",position:"relative",variants:[{props:{toolbarVariant:"desktop"},style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,[`& .${dH.content} .${XH.root}[data-selected]`]:{color:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightBold}}},{props:{toolbarVariant:"desktop",pickerOrientation:"landscape"},style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:{toolbarVariant:"desktop",pickerOrientation:"portrait"},style:{paddingLeft:24,paddingRight:0}}]})),g9=_e("div",{name:"MuiDateTimePickerToolbar",slot:"DateContainer"})({display:"flex",flexDirection:"column",alignItems:"flex-start"}),b9=_e("div",{name:"MuiDateTimePickerToolbar",slot:"TimeContainer",shouldForwardProp:e=>Fs(e)&&e!=="toolbarVariant"})({display:"flex",flexDirection:"row",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop",pickerOrientation:"portrait"},style:{gap:9,marginRight:4,alignSelf:"flex-end"}},{props:({pickerOrientation:e,toolbarVariant:n})=>e==="landscape"&&n!=="desktop",style:{flexDirection:"column"}},{props:({pickerOrientation:e,toolbarVariant:n,toolbarDirection:r})=>e==="landscape"&&n!=="desktop"&&r==="rtl",style:{flexDirection:"column-reverse"}}]}),y9=_e("div",{name:"MuiDateTimePickerToolbar",slot:"TimeDigitsContainer",shouldForwardProp:e=>Fs(e)&&e!=="toolbarVariant"})({display:"flex",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop"},style:{gap:1.5}}]}),My=_e(Y1,{name:"MuiDateTimePickerToolbar",slot:"Separator",shouldForwardProp:e=>Fs(e)&&e!=="toolbarVariant"})({margin:"0 4px 0 2px",cursor:"default",variants:[{props:{toolbarVariant:"desktop"},style:{margin:0}}]}),v9=_e("div",{name:"MuiDateTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(e,n)=>[{[`.${ih.ampmLabel}`]:n.ampmLabel},{[`&.${ih.ampmLandscape}`]:n.ampmLandscape},n.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${ih.ampmLabel}`]:{fontSize:17},variants:[{props:{pickerOrientation:"landscape"},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",width:"100%"}}]}),j9=g.createContext(null);function w9(e){const n=zt({props:e,name:"MuiDateTimePickerToolbar"}),{ampm:r,ampmInClock:s,toolbarFormat:o,toolbarPlaceholder:a="",toolbarTitle:c,className:d,classes:u}=n,h=rt(n,p9),{value:p,setValue:x,disabled:b,readOnly:y,variant:m,orientation:w,view:j,setView:D,views:C}=fo(),R=ds(),E=$1(),T=x9(u,E),I=Bt(),N=g.useContext(j9),O=N?N.value:p,$=N?N.setValue:x,B=N?N.view:j,H=N?N.setView:D,{meridiemMode:k,handleMeridiemChange:ne}=Zj(O,r,V=>$(V,{changeImportance:"set"})),K=N!=null&&N.forceDesktopVariant?"desktop":m,q=K==="desktop",te=!!(r&&!s),ie=c??R.dateTimePickerToolbarTitle,se=g.useMemo(()=>I.isValid(O)?o?I.formatByString(O,o):I.format(O,"shortDate"):a,[O,o,a,I]),ae=(V,X)=>I.isValid(O)?I.format(O,V):X;return t.jsxs(m9,U({className:Xt(T.root,d),toolbarTitle:ie,toolbarVariant:K},h,{ownerState:E,children:[t.jsxs(g9,{className:T.dateContainer,ownerState:E,children:[C.includes("year")&&t.jsx(Zs,{tabIndex:-1,variant:"subtitle1",onClick:()=>H("year"),selected:B==="year",value:ae("year","")}),C.includes("day")&&t.jsx(Zs,{tabIndex:-1,variant:q?"h5":"h4",onClick:()=>H("day"),selected:B==="day",value:se})]}),t.jsxs(b9,{className:T.timeContainer,ownerState:E,toolbarVariant:K,children:[t.jsxs(y9,{className:T.timeDigitsContainer,ownerState:E,toolbarVariant:K,children:[C.includes("hours")&&t.jsxs(g.Fragment,{children:[t.jsx(Zs,{variant:q?"h5":"h3",width:q&&w==="portrait"?ca:void 0,onClick:()=>H("hours"),selected:B==="hours",value:ae(r?"hours12h":"hours24h","--")}),t.jsx(My,{variant:q?"h5":"h3",value:":",className:T.separator,ownerState:E,toolbarVariant:K}),t.jsx(Zs,{variant:q?"h5":"h3",width:q&&w==="portrait"?ca:void 0,onClick:()=>H("minutes"),selected:B==="minutes"||!C.includes("minutes")&&B==="hours",value:ae("minutes","--"),disabled:!C.includes("minutes")})]}),C.includes("seconds")&&t.jsxs(g.Fragment,{children:[t.jsx(My,{variant:q?"h5":"h3",value:":",className:T.separator,ownerState:E,toolbarVariant:K}),t.jsx(Zs,{variant:q?"h5":"h3",width:q&&w==="portrait"?ca:void 0,onClick:()=>H("seconds"),selected:B==="seconds",value:ae("seconds","--")})]})]}),te&&!q&&t.jsxs(v9,{className:T.ampmSelection,ownerState:E,children:[t.jsx(Zs,{variant:"subtitle2",selected:k==="am",typographyClassName:T.ampmLabel,value:ma(I,"am"),onClick:y?void 0:()=>ne("am"),disabled:b}),t.jsx(Zs,{variant:"subtitle2",selected:k==="pm",typographyClassName:T.ampmLabel,value:ma(I,"pm"),onClick:y?void 0:()=>ne("pm"),disabled:b})]}),r&&q&&t.jsx(Zs,{variant:"h5",onClick:()=>H("meridiem"),selected:B==="meridiem",value:O&&k?ma(I,k):"--",width:ca})]})]}))}function K1(e,n){var y;const r=Bt(),s=zt({props:e,name:n}),o=y1(s),a=s.ampm??r.is12HourCycleInCurrentLocale(),c=g.useMemo(()=>{var m;return((m=s.localeText)==null?void 0:m.toolbarTitle)==null?s.localeText:U({},s.localeText,{dateTimePickerToolbarTitle:s.localeText.toolbarTitle})},[s.localeText]),{openTo:d,views:u}=A6({views:s.views,openTo:s.openTo,defaultViews:["year","day","hours","minutes"],defaultOpenTo:"day"}),{shouldRenderTimeInASingleColumn:h,thresholdToRenderTimeInASingleColumn:p,views:x,timeSteps:b}=i9({thresholdToRenderTimeInASingleColumn:s.thresholdToRenderTimeInASingleColumn,ampm:a,timeSteps:s.timeSteps,views:u});return U({},s,o,{timeSteps:b,openTo:d,shouldRenderTimeInASingleColumn:h,thresholdToRenderTimeInASingleColumn:p,views:x,ampm:a,localeText:c,orientation:s.orientation??"portrait",slots:U({toolbar:w9,tabs:h9},s.slots),slotProps:U({},s.slotProps,{toolbar:U({ampm:a},(y=s.slotProps)==null?void 0:y.toolbar)})})}const S9=g.forwardRef(function(n,r){var m;const{toolbar:s,tabs:o,content:a,actionBar:c,shortcuts:d,ownerState:u}=B1(n),{orientation:h}=fo(),{sx:p,className:x,classes:b}=n,y=c&&(((m=c.props.actions)==null?void 0:m.length)??0)>0;return t.jsxs(V1,{ref:r,className:Xt(rs.root,b==null?void 0:b.root,x),sx:[{[`& .${rs.tabs}`]:{gridRow:4,gridColumn:"1 / 4"},[`& .${rs.actionBar}`]:{gridRow:5}},...Array.isArray(p)?p:[p]],ownerState:u,children:[h==="landscape"?d:s,h==="landscape"?s:d,t.jsxs(U1,{className:Xt(rs.contentWrapper,b==null?void 0:b.contentWrapper),ownerState:u,sx:{display:"grid"},children:[a,o,y&&t.jsx(Yt,{sx:{gridRow:3,gridColumn:"1 / 4"}})]}),c]})}),C9=["openTo","focusedView","timeViewsCount"],P9=function(n){var y,m;const{viewRenderers:r,popperView:s,rendererProps:o}=n,{openTo:a,focusedView:c,timeViewsCount:d}=o,u=rt(o,C9),h=U({},u,{autoFocus:!1,focusedView:null,sx:[{[`&.${Lh.root}`]:{borderBottom:0},[`&.${Lh.root}, .${$h.root}, &.${Nh.root}`]:{maxHeight:Ti}}]}),p=li(s),x=p?"day":s,b=p?s:"hours";return t.jsxs(g.Fragment,{children:[(y=r[x])==null?void 0:y.call(r,U({},o,{view:p?"day":s,focusedView:c&&Ii(c)?c:null,views:o.views.filter(Ii),sx:[{gridColumn:1},...h.sx]})),d>0&&t.jsxs(g.Fragment,{children:[t.jsx(Yt,{orientation:"vertical",sx:{gridColumn:2}}),(m=r[b])==null?void 0:m.call(r,U({},h,{view:p?s:"hours",focusedView:c&&li(c)?c:null,openTo:li(a)?a:"hours",views:o.views.filter(li),sx:[{gridColumn:3},...h.sx]}))]})]})},X1=g.forwardRef(function(n,r){var b,y,m;const s=Bt(),o=K1(n,"MuiDesktopDateTimePicker"),a=o.shouldRenderTimeInASingleColumn?G1:Oc,c=U({day:mi,month:mi,year:mi,hours:a,minutes:a,seconds:a,meridiem:a},o.viewRenderers),d=o.ampmInClock??!0,h=((b=c.hours)==null?void 0:b.name)===Oc.name?o.views:o.views.filter(w=>w!=="meridiem"),p=U({},o,{viewRenderers:c,format:q1(s,o),views:h,yearsPerRow:o.yearsPerRow??4,ampmInClock:d,slots:U({field:A1,layout:S9},o.slots),slotProps:U({},o.slotProps,{field:w=>{var j;return U({},Ia((j=o.slotProps)==null?void 0:j.field,w),u1(o))},toolbar:U({hidden:!0,ampmInClock:d},(y=o.slotProps)==null?void 0:y.toolbar),tabs:U({hidden:!0},(m=o.slotProps)==null?void 0:m.tabs)})}),{renderPicker:x}=VH({ref:r,props:p,valueManager:lr,valueType:"date-time",validator:xd,rendererInterceptor:P9,steps:null});return x()});X1.propTypes={ampm:ee.bool,ampmInClock:ee.bool,autoFocus:ee.bool,className:ee.string,closeOnSelect:ee.bool,dayOfWeekFormatter:ee.func,defaultValue:ee.object,disabled:ee.bool,disableFuture:ee.bool,disableHighlightToday:ee.bool,disableIgnoringDatePartForTimeValidation:ee.bool,disableOpenPicker:ee.bool,disablePast:ee.bool,displayWeekNumber:ee.bool,enableAccessibleFieldDOMStructure:ee.any,fixedWeekNumber:ee.number,format:ee.string,formatDensity:ee.oneOf(["dense","spacious"]),inputRef:Bj,label:ee.node,loading:ee.bool,localeText:ee.object,maxDate:ee.object,maxDateTime:ee.object,maxTime:ee.object,minDate:ee.object,minDateTime:ee.object,minTime:ee.object,minutesStep:ee.number,monthsPerRow:ee.oneOf([3,4]),name:ee.string,onAccept:ee.func,onChange:ee.func,onClose:ee.func,onError:ee.func,onMonthChange:ee.func,onOpen:ee.func,onSelectedSectionsChange:ee.func,onViewChange:ee.func,onYearChange:ee.func,open:ee.bool,openTo:ee.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),orientation:ee.oneOf(["landscape","portrait"]),readOnly:ee.bool,reduceAnimations:ee.bool,referenceDate:ee.object,renderLoading:ee.func,selectedSections:ee.oneOfType([ee.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),ee.number]),shouldDisableDate:ee.func,shouldDisableMonth:ee.func,shouldDisableTime:ee.func,shouldDisableYear:ee.func,showDaysOutsideCurrentMonth:ee.bool,skipDisabled:ee.bool,slotProps:ee.object,slots:ee.object,sx:ee.oneOfType([ee.arrayOf(ee.oneOfType([ee.func,ee.object,ee.bool])),ee.func,ee.object]),thresholdToRenderTimeInASingleColumn:ee.number,timeSteps:ee.shape({hours:ee.number,minutes:ee.number,seconds:ee.number}),timezone:ee.string,value:ee.object,view:ee.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),viewRenderers:ee.shape({day:ee.func,hours:ee.func,meridiem:ee.func,minutes:ee.func,month:ee.func,seconds:ee.func,year:ee.func}),views:ee.arrayOf(ee.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:ee.oneOf(["asc","desc"]),yearsPerRow:ee.oneOf([3,4])};const D9=[{views:t1},{views:Jj}],J1=g.forwardRef(function(n,r){var b,y,m,w,j,D;const s=Bt(),o=K1(n,"MuiMobileDateTimePicker"),a=o.shouldRenderTimeInASingleColumn?G1:Oc,c=U({day:mi,month:mi,year:mi,hours:a,minutes:a,seconds:a,meridiem:a},o.viewRenderers),d=o.ampmInClock??!1,h=((b=c.hours)==null?void 0:b.name)===Oc.name?o.views:o.views.filter(C=>C!=="meridiem"),p=U({},o,{viewRenderers:c,format:q1(s,o),views:h,ampmInClock:d,slots:U({field:A1},o.slots),slotProps:U({},o.slotProps,{field:C=>{var R;return U({},Ia((R=o.slotProps)==null?void 0:R.field,C),u1(o))},toolbar:U({hidden:!1,ampmInClock:d},(y=o.slotProps)==null?void 0:y.toolbar),tabs:U({hidden:!1},(m=o.slotProps)==null?void 0:m.tabs),layout:U({},(w=o.slotProps)==null?void 0:w.layout,{sx:oV([{[`& .${Lh.root}`]:{width:Di},[`& .${$h.root}`]:{flex:1,maxHeight:Ti-1,[`.${$h.item}`]:{width:"auto"}},[`& .${Nh.root}`]:{width:Di,maxHeight:Ti,flex:1,[`.${Nh.item}`]:{justifyContent:"center"}}}],(D=(j=o.slotProps)==null?void 0:j.layout)==null?void 0:D.sx)})})}),{renderPicker:x}=qH({ref:r,props:p,valueManager:lr,valueType:"date-time",validator:xd,steps:D9});return x()});J1.propTypes={ampm:ee.bool,ampmInClock:ee.bool,autoFocus:ee.bool,className:ee.string,closeOnSelect:ee.bool,dayOfWeekFormatter:ee.func,defaultValue:ee.object,disabled:ee.bool,disableFuture:ee.bool,disableHighlightToday:ee.bool,disableIgnoringDatePartForTimeValidation:ee.bool,disableOpenPicker:ee.bool,disablePast:ee.bool,displayWeekNumber:ee.bool,enableAccessibleFieldDOMStructure:ee.any,fixedWeekNumber:ee.number,format:ee.string,formatDensity:ee.oneOf(["dense","spacious"]),inputRef:Bj,label:ee.node,loading:ee.bool,localeText:ee.object,maxDate:ee.object,maxDateTime:ee.object,maxTime:ee.object,minDate:ee.object,minDateTime:ee.object,minTime:ee.object,minutesStep:ee.number,monthsPerRow:ee.oneOf([3,4]),name:ee.string,onAccept:ee.func,onChange:ee.func,onClose:ee.func,onError:ee.func,onMonthChange:ee.func,onOpen:ee.func,onSelectedSectionsChange:ee.func,onViewChange:ee.func,onYearChange:ee.func,open:ee.bool,openTo:ee.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),orientation:ee.oneOf(["landscape","portrait"]),readOnly:ee.bool,reduceAnimations:ee.bool,referenceDate:ee.object,renderLoading:ee.func,selectedSections:ee.oneOfType([ee.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),ee.number]),shouldDisableDate:ee.func,shouldDisableMonth:ee.func,shouldDisableTime:ee.func,shouldDisableYear:ee.func,showDaysOutsideCurrentMonth:ee.bool,skipDisabled:ee.bool,slotProps:ee.object,slots:ee.object,sx:ee.oneOfType([ee.arrayOf(ee.oneOfType([ee.func,ee.object,ee.bool])),ee.func,ee.object]),thresholdToRenderTimeInASingleColumn:ee.number,timeSteps:ee.shape({hours:ee.number,minutes:ee.number,seconds:ee.number}),timezone:ee.string,value:ee.object,view:ee.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),viewRenderers:ee.shape({day:ee.func,hours:ee.func,meridiem:ee.func,minutes:ee.func,month:ee.func,seconds:ee.func,year:ee.func}),views:ee.arrayOf(ee.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:ee.oneOf(["asc","desc"]),yearsPerRow:ee.oneOf([3,4])};const T9=["desktopModeMediaQuery"],ky=g.forwardRef(function(n,r){const s=zt({props:n,name:"MuiDateTimePicker"}),{desktopModeMediaQuery:o=sV}=s,a=rt(s,T9);return Mc(o,{defaultMatches:!0})?t.jsx(X1,U({ref:r},a)):t.jsx(J1,U({ref:r},a))}),Q1=({initialData:e,onSubmit:n,submitButtonText:r="Submit",isEdit:s})=>{var j,D;const{profile:o,channelRelations:{hasChannel:a}}=Ss(),c=It(),[d,u]=g.useState({title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",startDate:(e==null?void 0:e.startDate)||new Date,endDate:(e==null?void 0:e.endDate)||new Date,channelId:(e==null?void 0:e.channelId)||"",options:(e==null?void 0:e.options)||[{text:""},{text:""}],media:(e==null?void 0:e.media)||[]}),[h,p]=g.useState(((j=e==null?void 0:e.media)==null?void 0:j.find(C=>C.type===jb.COVER))||null);g.useEffect(()=>{o&&(!o.staffChannels||o.staffChannels.length)},[o]);const x=(C,R)=>{u(E=>({...E,[C]:R}))},b=(C,R)=>{const E=[...d.options];E[C]={text:R},x("options",E)},y=()=>{x("options",[...d.options,{text:""}])},m=C=>{if(d.options.length<=2)return;const R=d.options.filter((E,T)=>T!==C);x("options",R)},w=C=>{C.preventDefault();const R={...d,media:h?[h]:[]};n(R)};return a()?t.jsx(P,{component:"form",onSubmit:w,children:t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,children:t.jsxs(bt,{fullWidth:!0,disabled:s,children:[t.jsx(Tt,{id:"channel-select-label",children:"Channel"}),t.jsx(wt,{labelId:"channel-select-label",value:d.channelId,label:"Channel",onChange:C=>x("channelId",C.target.value),required:!0,children:(D=o==null?void 0:o.staffChannels)==null?void 0:D.map(C=>t.jsx(Se,{value:C.channelId,children:C.channel.name},C.id))})]})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(st,{fullWidth:!0,label:"Poll Title",value:d.title,onChange:C=>x("title",C.target.value),required:!0})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(st,{fullWidth:!0,label:"Description",value:d.description,onChange:C=>x("description",C.target.value),multiline:!0,rows:4})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(ky,{label:"Start Date",value:d.startDate,onChange:C=>x("startDate",C),sx:{width:"100%"}})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(ky,{label:"End Date",value:d.endDate,onChange:C=>x("endDate",C),sx:{width:"100%"}})}),t.jsx(F,{item:!0,xs:12,children:t.jsxs(lt,{sx:{p:3,mb:2},children:[t.jsx(v,{variant:"h6",sx:{mb:3},children:"Media"}),t.jsx(he,{spacing:4,children:t.jsx(P,{children:t.jsx(C0,{title:"Cover Media",description:"Upload an image or short video that will be displayed with your poll and in previews.",value:h?{id:h.id||"0",url:h.url,type:h.type,format:h.format}:null,onChange:C=>p(C?{id:C.id,url:C.url,type:C.type,format:C.format,pollId:""}:null),mediaTypeId:jb.COVER,useNewsFormats:!1})})})]})}),t.jsx(F,{item:!0,xs:12,children:t.jsxs(lt,{sx:{p:2,mb:2},children:[t.jsx(v,{variant:"h6",sx:{mb:2},children:"Poll Options"}),d.options.map((C,R)=>t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(st,{fullWidth:!0,label:`Option ${R+1}`,value:C.text,onChange:E=>b(R,E.target.value),required:!0,sx:{mr:1}}),t.jsx($e,{onClick:()=>m(R),disabled:d.options.length<=2,children:t.jsx(Wo,{})})]},R)),t.jsx(ge,{startIcon:t.jsx(Ip,{}),onClick:y,variant:"outlined",size:"small",children:"Add Option"})]})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(ge,{type:"submit",variant:"contained",size:"large",fullWidth:!0,children:r})})]})}):t.jsx(P,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",p:3},children:t.jsx(Ws,{title:"Channel Required",description:"You need to create a channel before you can start creating polls.",icon:t.jsx($a,{sx:{fontSize:48}}),action:{label:"Create Channel",onClick:()=>c(je.STUDIO_CHANNEL_CREATE)}})})},I9=()=>{const{api:e}=Je(),n=It(),{execute:r}=et(),s=async o=>{if(!o)return;await r(()=>e==null?void 0:e.studioApi.createPoll(o),{showSuccessMessage:!0,successMessage:"Poll created successfully!"})&&n(`${je.STUDIO_POLLS}`)};return t.jsxs(Pt,{sx:{maxWidth:800,mx:"auto",p:3},children:[t.jsx(v,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Create Poll"}),t.jsx(Q1,{onSubmit:s,submitButtonText:"Create Poll"})]})},E9=()=>{const{id:e}=Xr(),n=It(),{api:r}=Je(),[s,o]=g.useState(null),{execute:a}=et(),{execute:c}=et();g.useEffect(()=>{(async()=>{if(!e)return;const h=await a(()=>r==null?void 0:r.pollApi.get(e),{showErrorToast:!0});h&&o(h)})()},[e,r==null?void 0:r.pollApi,a]);const d=async u=>{e&&(await c(()=>r==null?void 0:r.pollApi.update(e,u),{showSuccessMessage:!0,successMessage:"Poll updated successfully!"}),n(je.STUDIO_POLL_VIEW.replace(":id",e)))};return s?t.jsxs(Pt,{sx:{maxWidth:800,mx:"auto",p:3},children:[t.jsx(v,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Edit Poll"}),t.jsx(Q1,{initialData:{title:s.title,description:s.description,startDate:s.startDate,endDate:s.endDate,channelId:s.channel.id,options:s.options.map(u=>({text:u.text,id:u.id}))},onSubmit:d,submitButtonText:"Update Poll"})]}):null},A9=({poll:e})=>{const n=Mn(),r=e.statistics.totalVotes;return t.jsx(P,{children:e.options.map(s=>{const o=r>0?s.votes/r*100:0;return t.jsxs(P,{sx:{mb:2},children:[t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[t.jsx(v,{variant:"body1",children:s.text}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:[s.votes," votes (",o.toFixed(1),"%)"]})]}),t.jsx(Oo,{variant:"determinate",value:o,sx:{height:8,borderRadius:1,bgcolor:Ie(n.palette.primary.main,.1),"& .MuiLinearProgress-bar":{borderRadius:1,bgcolor:n.palette.primary.main}}})]},s.id)})})};var px={},R9=tt;Object.defineProperty(px,"__esModule",{value:!0});var Z1=px.default=void 0,_9=R9(nt()),O9=t;Z1=px.default=(0,_9.default)((0,O9.jsx)("path",{d:"M18 13h-.68l-2 2h1.91L19 17H5l1.78-2h2.05l-2-2H6l-3 3v4c0 1.1.89 2 1.99 2H19c1.1 0 2-.89 2-2v-4zm-1-5.05-4.95 4.95-3.54-3.54 4.95-4.95zm-4.24-5.66L6.39 8.66c-.39.39-.39 1.02 0 1.41l4.95 4.95c.39.39 1.02.39 1.41 0l6.36-6.36c.39-.39.39-1.02 0-1.41L14.16 2.3c-.38-.4-1.01-.4-1.4-.01"}),"HowToVote");const M9=()=>t.jsx(Pt,{maxWidth:"lg",sx:{mt:4},children:t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsxs(P,{sx:{mb:3},children:[t.jsx(le,{variant:"text",width:"60%",height:40}),t.jsx(le,{variant:"text",width:"40%",height:24})]})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsx(le,{variant:"text",width:"50%",height:32,sx:{mb:2}}),t.jsx(he,{spacing:2,children:[1,2,3,4].map(e=>t.jsxs(P,{children:[t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsx(le,{variant:"text",width:"60%"}),t.jsx(le,{variant:"text",width:"20%"})]}),t.jsx(le,{variant:"rectangular",width:"100%",height:20,sx:{borderRadius:1}})]},e))})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx(he,{spacing:3,children:[1,2].map(e=>t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsx(le,{variant:"text",width:"50%",height:24}),t.jsx(le,{variant:"text",width:"70%",height:40})]})},e))})})]})}),k9=()=>{var y;const{id:e}=Xr(),{api:n}=Je(),{execute:r}=et(),[s,o]=g.useState(null),[a,c]=g.useState(!0),[d,u]=g.useState(!1);g.useEffect(()=>{(async()=>{if(e){c(!0);const w=await r(()=>n==null?void 0:n.pollApi.get(e),{showErrorToast:!0});w&&o(w),c(!1)}})()},[e,r]);const h=async m=>{if(!e)return;if(await r(()=>n==null?void 0:n.pollApi.convertToNews(e,m),{showSuccessMessage:!0,successMessage:"Poll converted to news successfully!"})){const j=await r(()=>n==null?void 0:n.pollApi.get(e),{showErrorToast:!0});j&&o(j)}};if(a)return t.jsx(M9,{});if(!s)return t.jsx(Pt,{maxWidth:"lg",sx:{mt:4},children:t.jsx(v,{variant:"h4",children:"Poll not found"})});const p=new Date>=new Date(s.startDate)&&new Date<=new Date(s.endDate),x=new Date>=new Date(s.startDate),b=!s.isConverted&&!((y=s.stats)!=null&&y.hasEnded);return t.jsxs(Pt,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs(F,{container:!0,spacing:4,children:[t.jsxs(F,{item:!0,xs:12,children:[t.jsxs(P,{sx:{mb:3},children:[t.jsx(v,{variant:"h4",gutterBottom:!0,children:s.title}),t.jsx(v,{variant:"body1",color:"text.secondary",children:s.description})]}),t.jsxs(P,{sx:{display:"flex",gap:1,mb:3,alignItems:"center",justifyContent:"space-between"},children:[t.jsxs(P,{sx:{display:"flex",gap:1},children:[t.jsx(Ze,{label:p?"Active":x?"Ended":"Scheduled",color:p?"success":x?"error":"warning"}),s.isTrending&&t.jsx(Ze,{icon:t.jsx(df,{}),label:"Trending",color:"primary"}),s.isConverted&&t.jsx(Ze,{icon:t.jsx(ya,{}),label:"Converted to News",color:"info"})]}),b&&t.jsx(ge,{variant:"contained",startIcon:t.jsx(ya,{}),onClick:()=>u(!0),size:"small",children:"Convert to News"})]})]}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Poll Results"}),t.jsx(A9,{poll:s})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(he,{spacing:3,children:[t.jsx(lt,{elevation:0,sx:{p:2,bgcolor:"primary.light",color:"primary.contrastText",borderRadius:2},children:t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(Z1,{fontSize:"large"}),t.jsxs(P,{children:[t.jsx(v,{variant:"overline",children:"Total Votes"}),t.jsx(v,{variant:"h4",children:s.statistics.totalVotes})]})]})}),t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Time Frame"}),t.jsxs(he,{spacing:2,children:[t.jsxs(P,{children:[t.jsx(v,{variant:"caption",color:"text.secondary",children:"Start Date"}),t.jsx(v,{children:new Date(s.startDate).toLocaleString()})]}),t.jsxs(P,{children:[t.jsx(v,{variant:"caption",color:"text.secondary",children:"End Date"}),t.jsx(v,{children:new Date(s.endDate).toLocaleString()})]})]})]})})]})})]}),t.jsx(Wj,{open:d,poll:s,onClose:()=>u(!1),onConvert:h})]})};function N9(e){const{children:n,value:r,index:s,...o}=e;return t.jsx("div",{role:"tabpanel",hidden:r!==s,id:`expense-order-tabpanel-${s}`,"aria-labelledby":`expense-order-tab-${s}`,...o,children:r===s&&t.jsx(P,{sx:{py:3},children:n})})}const L9=()=>{const e=It(),{api:n}=Je(),[r,s]=g.useState(0),[o,a]=g.useState([]),[c,d]=g.useState(!0),{execute:u}=et(),h=[{label:"All",status:void 0},{label:"Draft",status:qe.DRAFT},{label:"Submitted",status:qe.SUBMITTED},{label:"Approved",status:qe.APPROVED},{label:"Paid",status:qe.PAID},{label:"Rejected",status:qe.REJECTED}],p=async D=>{d(!0);const C=await u(()=>n.expenseOrderApi.getMyExpenseOrders({page:1,limit:50},D),{showErrorToast:!0});C&&a(C.items),d(!1)};g.useEffect(()=>{p(h[r].status)},[r,u]);const x=(D,C)=>{s(C)},b=D=>{e(je.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",D.id))},y=D=>{e(je.STUDIO_EXPENSE_ORDER_EDIT.replace(":id",D.id))},m=async D=>{await u(()=>n.expenseOrderApi.submitExpenseOrder(D.id),{showSuccessMessage:!0,successMessage:"Expense order submitted successfully!"})&&p(h[r].status)},w=async D=>{await u(()=>n.expenseOrderApi.cancelExpenseOrder(D.id),{showSuccessMessage:!0,successMessage:"Expense order cancelled successfully!"})&&p(h[r].status)},j=()=>{e(je.STUDIO_EXPENSE_ORDER_CREATE)};return t.jsxs(P,{sx:{p:3},children:[t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[t.jsx(v,{variant:"h4",component:"h1",sx:{fontWeight:600},children:"Expense Orders"}),t.jsx(ge,{variant:"contained",startIcon:t.jsx(bs,{}),onClick:j,children:"Create New"})]}),t.jsx(P,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:t.jsx($s,{value:r,onChange:x,"aria-label":"expense order status tabs",children:h.map((D,C)=>t.jsx(_n,{label:D.label},C))})}),h.map((D,C)=>t.jsx(N9,{value:r,index:C,children:c?t.jsx(P,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(Yn,{})}):o.length===0?t.jsxs(P,{sx:{textAlign:"center",py:8},children:[t.jsx(v,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"No expense orders found"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:D.status?`No ${D.label.toLowerCase()} expense orders`:"You haven't created any expense orders yet"}),t.jsx(ge,{variant:"contained",startIcon:t.jsx(bs,{}),onClick:j,children:"Create Your First Expense Order"})]}):t.jsx(F,{container:!0,spacing:3,children:o.map(R=>t.jsx(F,{item:!0,xs:12,md:6,lg:4,children:t.jsx(bp,{expenseOrder:R,onView:b,onEdit:y,onSubmit:m,onCancel:w,userRole:"journalist"})},R.id))})},C))]})},$9=()=>{var h;const e=It(),{api:n}=Je(),{profile:r}=Ss(),{execute:s,loading:o}=et(),a=((h=r==null?void 0:r.staffChannels)==null?void 0:h.map(p=>p.channel))||[],c=j0(),d=async p=>{const x=await s(()=>n.expenseOrderApi.createExpenseOrder(p),{showSuccessMessage:!0,successMessage:"Expense order created successfully!"});x&&e(je.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",x.id))},u=()=>{e(je.STUDIO_EXPENSE_ORDERS)};return t.jsxs(P,{sx:{p:3},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(ge,{startIcon:t.jsx(ks,{}),onClick:u,sx:{mr:2},children:"Back"}),t.jsx(v,{variant:"h4",component:"h1",sx:{fontWeight:600},children:"Create Expense Order"})]}),a.length===0&&!o?t.jsxs(P,{sx:{textAlign:"center",py:8,bgcolor:"background.paper",borderRadius:1},children:[t.jsx(v,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"No Channels Available"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"You need to be a member of at least one channel to create expense orders."})]}):t.jsx(T0,{channels:a,expenseTypes:c,onSave:d,loading:o,isEdit:!1})]})},F9=()=>{var w;const e=It(),{id:n}=Xr(),{api:r}=Je(),{profile:s}=Ss(),[o,a]=g.useState(null),[c,d]=g.useState(!0),{execute:u,loading:h}=et(),p=((w=s==null?void 0:s.staffChannels)==null?void 0:w.map(j=>j.channel))||[],x=j0();g.useEffect(()=>{(async()=>{if(n)try{d(!0);const D=await u(()=>r.expenseOrderApi.getExpenseOrder(n),{showErrorToast:!0});D&&a(D)}finally{d(!1)}})()},[n,u]);const b=async j=>{if(!n)return;const D=await u(()=>r.expenseOrderApi.updateExpenseOrder(n,j),{showSuccessMessage:!0,successMessage:"Expense order updated successfully!"});D&&(a(D),e(je.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",D.id)))},y=async j=>{await u(()=>r.expenseOrderApi.submitExpenseOrder(j.id),{showSuccessMessage:!0,successMessage:"Expense order submitted successfully!"})&&e(je.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",j.id))},m=()=>{e(o?je.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",o.id):je.STUDIO_EXPENSE_ORDERS)};return c?t.jsx(P,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:t.jsx(Yn,{})}):o?o.status!==qe.DRAFT?t.jsx(P,{sx:{p:3},children:t.jsxs(P,{sx:{textAlign:"center",py:8,bgcolor:"background.paper",borderRadius:1},children:[t.jsx(v,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"Cannot Edit Expense Order"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"This expense order cannot be edited because it has already been submitted."}),t.jsx(ge,{startIcon:t.jsx(ks,{}),onClick:m,children:"Back to Expense Order"})]})}):t.jsxs(P,{sx:{p:3},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(ge,{startIcon:t.jsx(ks,{}),onClick:m,sx:{mr:2},children:"Back"}),t.jsx(v,{variant:"h4",component:"h1",sx:{fontWeight:600},children:"Edit Expense Order"})]}),t.jsx(T0,{expenseOrder:o,channels:p,expenseTypes:x,onSave:b,onSubmit:y,loading:h,isEdit:!0})]}):t.jsx(P,{sx:{p:3},children:t.jsxs(P,{sx:{textAlign:"center",py:8,bgcolor:"background.paper",borderRadius:1},children:[t.jsx(v,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"Expense Order Not Found"}),t.jsx(ge,{startIcon:t.jsx(ks,{}),onClick:m,children:"Back"})]})})},W9=()=>{const e=It(),{id:n}=Xr(),{api:r}=Je(),[s,o]=g.useState(null),[a,c]=g.useState(!0),[d,u]=g.useState(!1),[h,p]=g.useState(null),[x,b]=g.useState(!1),[y,m]=g.useState(""),w=async()=>{if(n)try{c(!0),p(null);const O=await r.expenseOrderApi.getExpenseOrder(n);o(O)}catch(O){p(O.message||"Failed to fetch expense order")}finally{c(!1)}};g.useEffect(()=>{w()},[n]);const j=(O,$)=>new Intl.NumberFormat("en-US",{style:"currency",currency:$}).format(O),D=()=>{e(je.STUDIO_EXPENSE_ORDERS)},C=()=>{s&&e(je.STUDIO_EXPENSE_ORDER_EDIT.replace(":id",s.id))},R=async()=>{if(s){u(!0);try{await r.expenseOrderApi.submitExpenseOrder(s.id),await w()}catch(O){p(O.message||"Failed to submit expense order")}finally{u(!1)}}},E=async()=>{if(s){u(!0);try{await r.expenseOrderApi.cancelExpenseOrder(s.id,y),await w(),b(!1),m("")}catch(O){p(O.message||"Failed to cancel expense order")}finally{u(!1)}}};if(a)return t.jsx(P,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:t.jsx(Yn,{})});if(h||!s)return t.jsxs(P,{sx:{p:3},children:[t.jsx(ct,{severity:"error",children:h||"Expense order not found"}),t.jsx(ge,{startIcon:t.jsx(ks,{}),onClick:D,sx:{mt:2},children:"Back to Expense Orders"})]});const T=s.status===qe.DRAFT,I=s.status===qe.DRAFT,N=[qe.DRAFT,qe.SUBMITTED].includes(s.status);return t.jsxs(P,{sx:{p:3},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(ge,{startIcon:t.jsx(ks,{}),onClick:D,sx:{mr:2},children:"Back"}),t.jsx(v,{variant:"h4",component:"h1",sx:{fontWeight:600,flex:1},children:"Expense Order Details"}),t.jsx(gp,{status:s.status})]}),h&&t.jsx(ct,{severity:"error",sx:{mb:3},children:h}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsxs(F,{item:!0,xs:12,md:8,children:[t.jsxs(lt,{sx:{p:3,mb:3},children:[t.jsx(v,{variant:"h5",sx:{mb:2,fontWeight:600},children:s.title}),t.jsx(v,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:s.description}),t.jsx(Yt,{sx:{my:3}}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Channel"}),t.jsx(v,{variant:"body1",sx:{fontWeight:500},children:s.channel.name})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Expense Type"}),t.jsx(v,{variant:"body1",sx:{fontWeight:500},children:s.type.name})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Amount"}),t.jsx(v,{variant:"h6",sx:{fontWeight:700,color:"primary.main"},children:j(s.amount,s.currency)})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(v,{variant:"body1",children:op(new Date(s.createdAt),"PPP")})]})]}),s.receiptUrl&&t.jsxs(t.Fragment,{children:[t.jsx(Yt,{sx:{my:3}}),t.jsxs(P,{children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Receipt"}),t.jsxs(Nc,{href:s.receiptUrl,target:"_blank",rel:"noopener noreferrer",sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Ns,{fontSize:"small"}),"View Receipt"]})]})]}),s.notes&&t.jsxs(t.Fragment,{children:[t.jsx(Yt,{sx:{my:3}}),t.jsxs(P,{children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Notes"}),t.jsx(v,{variant:"body1",sx:{fontStyle:"italic"},children:s.notes})]})]})]}),t.jsxs(lt,{sx:{p:3},children:[t.jsx(v,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Actions"}),t.jsxs(P,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[T&&t.jsx(ge,{variant:"outlined",startIcon:t.jsx(ls,{}),onClick:C,disabled:d,children:"Edit"}),I&&t.jsx(ge,{variant:"contained",startIcon:t.jsx(Lc,{}),onClick:R,disabled:d,children:"Submit for Approval"}),N&&t.jsx(ge,{variant:"outlined",color:"error",startIcon:t.jsx(io,{}),onClick:()=>b(!0),disabled:d,children:"Cancel"})]})]})]}),t.jsxs(F,{item:!0,xs:12,md:4,children:[t.jsxs(lt,{sx:{p:3,mb:3},children:[t.jsx(v,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Timeline"}),t.jsxs(P,{sx:{display:"flex",flexDirection:"column",gap:2},children:[t.jsxs(P,{children:[t.jsx(v,{variant:"body2",sx:{fontWeight:500},children:"Created"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:zr(new Date(s.createdAt),{addSuffix:!0})})]}),s.submittedAt&&t.jsxs(P,{children:[t.jsx(v,{variant:"body2",sx:{fontWeight:500},children:"Submitted"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:zr(new Date(s.submittedAt),{addSuffix:!0})})]}),s.approvedAt&&t.jsxs(P,{children:[t.jsx(v,{variant:"body2",sx:{fontWeight:500},children:s.status===qe.APPROVED?"Approved":"Reviewed"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:zr(new Date(s.approvedAt),{addSuffix:!0})}),s.approver&&t.jsxs(v,{variant:"caption",display:"block",color:"text.secondary",children:["by ",s.approver.displayName]})]}),s.paidAt&&t.jsxs(P,{children:[t.jsx(v,{variant:"body2",sx:{fontWeight:500},children:"Paid"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:zr(new Date(s.paidAt),{addSuffix:!0})}),s.paymentReference&&t.jsxs(v,{variant:"caption",display:"block",color:"text.secondary",children:["Ref: ",s.paymentReference]})]})]})]}),s.rejectionReason&&t.jsxs(lt,{sx:{p:3,bgcolor:"error.lighter"},children:[t.jsx(v,{variant:"h6",sx:{mb:1,fontWeight:600,color:"error.main"},children:"Rejection Reason"}),t.jsx(v,{variant:"body2",color:"error.main",children:s.rejectionReason})]})]})]}),t.jsxs(on,{open:x,onClose:()=>b(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(pn,{children:"Cancel Expense Order"}),t.jsxs(an,{children:[t.jsx(v,{variant:"body2",sx:{mb:2},children:"Are you sure you want to cancel this expense order? This action cannot be undone."}),t.jsx(st,{fullWidth:!0,multiline:!0,rows:3,label:"Reason for cancellation (optional)",value:y,onChange:O=>m(O.target.value),placeholder:"Provide a reason for cancelling this expense order..."})]}),t.jsxs(ln,{children:[t.jsx(ge,{onClick:()=>b(!1),children:"Keep Order"}),t.jsx(ge,{onClick:E,color:"error",variant:"contained",disabled:d,children:"Cancel Order"})]})]})]})},Ny=()=>{const[e,n]=g.useState(null),[r,s]=g.useState(!0),[o,a]=g.useState(null),c=It(),{api:d}=Je(),{execute:u}=et();g.useEffect(()=>{h()},[]);const h=async()=>{var m,w;s(!0),a(null);const[b,y]=await Promise.all([u(()=>d.subscriptionApi.getSubscriptionAnalytics({period:"30d"}),{showErrorToast:!0}),u(()=>d.subscriptionApi.getRevenueMetrics({period:"30d"}),{showErrorToast:!0})]);if(b&&y){let j=0;if((w=(m=y.metrics)==null?void 0:m[0])!=null&&w.channels){const C=y.metrics[0].channels;for(const R in C){const E=C[R];j+=E.revenue||0}}const D={totalUsers:12543,totalChannels:1247,totalSubscriptions:b.total_subscriptions,monthlyRevenue:j,activeSubscriptions:b.active_subscriptions,newUsersThisMonth:342};n(D)}s(!1)},p=b=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(b/100),x=[{title:"News Management",description:"Manage news articles and moderate content",icon:t.jsx(ss,{sx:{fontSize:40}}),path:je.ADMIN_NEWS,color:"#1976d2"},{title:"Poll Management",description:"Oversee polls and voting analytics",icon:t.jsx(ss,{sx:{fontSize:40}}),path:je.ADMIN_POLLS,color:"#7b1fa2"},{title:"User Management",description:"Manage users, roles, and permissions",icon:t.jsx(so,{sx:{fontSize:40}}),path:je.ADMIN_USERS,color:"#388e3c"},{title:"Channel Management",description:"Oversee channels and content moderation",icon:t.jsx(oc,{sx:{fontSize:40}}),path:je.ADMIN_CHANNELS,color:"#f57c00"},{title:"Expense Orders",description:"Review and approve expense claims",icon:t.jsx(ss,{sx:{fontSize:40}}),path:je.ADMIN_EXPENSE_ORDERS,color:"#d32f2f"},{title:"Payout Management",description:"Process payouts and financial transactions",icon:t.jsx(ss,{sx:{fontSize:40}}),path:je.ADMIN_PAYOUTS,color:"#2e7d32"},{title:"Tag Management",description:"Moderate tags and manage taxonomy",icon:t.jsx(ss,{sx:{fontSize:40}}),path:je.ADMIN_TAGS,color:"#795548"},{title:"Subscription Management",description:"Monitor subscriptions and billing",icon:t.jsx(bi,{sx:{fontSize:40}}),path:je.ADMIN_SUBSCRIPTIONS,color:"#ff5722"},{title:"Analytics",description:"Platform analytics and insights",icon:t.jsx(ss,{sx:{fontSize:40}}),path:je.ADMIN_ANALYTICS,color:"#9c27b0"},{title:"Settings",description:"Platform configuration and settings",icon:t.jsx(Kl,{sx:{fontSize:40}}),path:je.ADMIN_SETTINGS,color:"#5d4037"}];return t.jsxs(Pt,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(Fy,{sx:{fontSize:32,mr:2}}),t.jsx(v,{variant:"h4",component:"h1",children:"Admin Dashboard"})]}),o&&t.jsx(ct,{severity:"error",sx:{mb:3},children:o}),t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(vE,{sx:{fontSize:24,mr:1,color:"#1976d2"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Total Users"})]}),t.jsx(v,{variant:"h4",children:r?t.jsx(le,{width:80}):e==null?void 0:e.totalUsers.toLocaleString()}),t.jsx(v,{variant:"body2",color:"textSecondary",children:r?t.jsx(le,{width:120}):`+${e==null?void 0:e.newUsersThisMonth} this month`})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(oc,{sx:{fontSize:24,mr:1,color:"#388e3c"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Total Channels"})]}),t.jsx(v,{variant:"h4",children:r?t.jsx(le,{width:80}):e==null?void 0:e.totalChannels.toLocaleString()})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(bi,{sx:{fontSize:24,mr:1,color:"#f57c00"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Active Subscriptions"})]}),t.jsx(v,{variant:"h4",children:r?t.jsx(le,{width:80}):e==null?void 0:e.activeSubscriptions.toLocaleString()}),t.jsx(v,{variant:"body2",color:"textSecondary",children:r?t.jsx(le,{width:120}):`${e==null?void 0:e.totalSubscriptions} total`})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(vs,{sx:{fontSize:24,mr:1,color:"#7b1fa2"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Monthly Revenue"})]}),t.jsx(v,{variant:"h4",children:r?t.jsx(le,{width:100}):p((e==null?void 0:e.monthlyRevenue)||0)})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(qr,{sx:{fontSize:24,mr:1,color:"#d32f2f"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Growth Rate"})]}),t.jsx(v,{variant:"h4",children:r?t.jsx(le,{width:60}):"+12.5%"}),t.jsx(v,{variant:"body2",color:"textSecondary",children:"vs last month"})]})})})]}),t.jsx(v,{variant:"h5",gutterBottom:!0,sx:{mb:3},children:"Administration"}),t.jsx(F,{container:!0,spacing:3,children:x.map(b=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsxs(ke,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[t.jsxs(Fe,{sx:{flexGrow:1},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(P,{sx:{color:b.color,mr:2},children:b.icon}),t.jsx(v,{variant:"h6",component:"h2",children:b.title})]}),t.jsx(v,{variant:"body2",color:"textSecondary",children:b.description})]}),t.jsx(nc,{children:t.jsx(ge,{size:"small",variant:"contained",onClick:()=>c(b.path),sx:{backgroundColor:b.color},children:"Manage"})})]})},b.title))})]})},B9=()=>t.jsxs(Pt,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(so,{sx:{fontSize:32,mr:2}}),t.jsx(v,{variant:"h4",component:"h1",children:"User Management"})]}),t.jsx(ke,{children:t.jsxs(Fe,{sx:{textAlign:"center",py:8},children:[t.jsx(so,{sx:{fontSize:64,color:"text.secondary",mb:2}}),t.jsx(v,{variant:"h6",gutterBottom:!0,children:"User Management Coming Soon"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"This section will include user management, roles, permissions, and user analytics."})]})})]}),V9=()=>t.jsxs(Pt,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(oc,{sx:{fontSize:32,mr:2}}),t.jsx(v,{variant:"h4",component:"h1",children:"Channel Management"})]}),t.jsx(ke,{children:t.jsxs(Fe,{sx:{textAlign:"center",py:8},children:[t.jsx(oc,{sx:{fontSize:64,color:"text.secondary",mb:2}}),t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Channel Management Coming Soon"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"This section will include channel moderation, content management, and channel analytics."})]})})]}),U9=()=>{const[e,n]=g.useState([]),[r,s]=g.useState(null),[o,a]=g.useState(!0),[c,d]=g.useState(!1),[u,h]=g.useState(null),[p,x]=g.useState(null),[b,y]=g.useState(""),[m,w]=g.useState({}),[j]=g.useState(ze),[D,C]=g.useState([]),[R,E]=g.useState(!1),[T,I]=g.useState("cancel"),[N,O]=g.useState(""),{api:$}=Je(),{execute:B}=et();g.useEffect(()=>{H(),k()},[m,j]);const H=async()=>{a(!0),h(null);const V=await B(()=>$.subscriptionApi.getAllSubscriptions(j,m),{showErrorToast:!0});V&&n(V.items||[]),a(!1)},k=async()=>{d(!0);const V=await B(()=>$.subscriptionApi.getSubscriptionAnalytics({period:"30d"}),{showErrorToast:!1});V&&s(V),d(!1)},ne=()=>{b.trim()?w({...m}):H()},K=(V,X)=>{w({...m,[V]:X||void 0})},q=async()=>{if(D.length===0)return;a(!0);const V={action:T,subscription_ids:D,reason:N||void 0},X=await B(()=>$.subscriptionApi.bulkUpdateSubscriptions(V),{showSuccessMessage:!0,successMessage:"Successfully updated subscriptions"});X&&(X.failed>0&&h(`Failed to update ${X.failed} subscriptions`),E(!1),C([]),O(""),await H()),a(!1)},te=async()=>{const V=await B(()=>$.subscriptionApi.exportSubscriptions(m,"csv"),{showErrorToast:!0});if(V){const X=window.URL.createObjectURL(V),we=document.createElement("a");we.href=X,we.download=`subscriptions-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(we),we.click(),window.URL.revokeObjectURL(X),document.body.removeChild(we)}},ie=V=>jc(V),se=V=>new Date(V).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),ae=(V,X)=>new Intl.NumberFormat("en-US",{style:"currency",currency:X.toUpperCase()}).format(V/100);return t.jsxs(Pt,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsx(v,{variant:"h4",gutterBottom:!0,children:"Subscription Management"}),r&&t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Total Subscriptions"}),t.jsx(v,{variant:"h4",children:c?t.jsx(le,{width:60}):r.total_subscriptions.toLocaleString()})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Active Subscriptions"}),t.jsx(v,{variant:"h4",children:c?t.jsx(le,{width:60}):r.active_subscriptions.toLocaleString()})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"New This Month"}),t.jsx(v,{variant:"h4",children:c?t.jsx(le,{width:60}):r.new_subscriptions.toLocaleString()})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Churn Rate"}),t.jsx(v,{variant:"h4",children:c?t.jsx(le,{width:60}):`${(r.churn_rate*100).toFixed(1)}%`})]})})})]}),t.jsx(ke,{sx:{mb:3},children:t.jsx(Fe,{children:t.jsxs(he,{direction:"row",spacing:2,alignItems:"center",flexWrap:"wrap",children:[t.jsx(st,{placeholder:"Search subscriptions...",value:b,onChange:V=>y(V.target.value),onKeyPress:V=>V.key==="Enter"&&ne(),InputProps:{startAdornment:t.jsx(_a,{sx:{mr:1,color:"text.secondary"}})},sx:{minWidth:250}}),t.jsxs(bt,{sx:{minWidth:120},children:[t.jsx(Tt,{children:"Status"}),t.jsxs(wt,{value:m.status||"",onChange:V=>K("status",V.target.value),label:"Status",children:[t.jsx(Se,{value:"",children:"All"}),t.jsx(Se,{value:"active",children:"Active"}),t.jsx(Se,{value:"canceled",children:"Canceled"}),t.jsx(Se,{value:"expired",children:"Expired"}),t.jsx(Se,{value:"suspended",children:"Suspended"})]})]}),t.jsx(ge,{variant:"outlined",startIcon:t.jsx(zy,{}),onClick:()=>w({}),children:"Clear Filters"}),t.jsx(ge,{variant:"outlined",startIcon:t.jsx(Xy,{}),onClick:te,children:"Export"}),D.length>0&&t.jsxs(ge,{variant:"contained",startIcon:t.jsx(ls,{}),onClick:()=>E(!0),children:["Bulk Actions (",D.length,")"]})]})})}),u&&t.jsx(ct,{severity:"error",sx:{mb:2},onClose:()=>h(null),children:u}),p&&t.jsx(ct,{severity:"success",sx:{mb:2},onClose:()=>x(null),children:p}),t.jsx(ke,{children:t.jsx(qh,{component:lt,children:t.jsxs(Kh,{children:[t.jsx(Xh,{children:t.jsxs(to,{children:[t.jsx(gt,{padding:"checkbox",children:t.jsx(ic,{indeterminate:D.length>0&&D.length<e.length,checked:e.length>0&&D.length===e.length,onChange:V=>{V.target.checked?C(e.map(X=>X.id)):C([])}})}),t.jsx(gt,{children:"User"}),t.jsx(gt,{children:"Channel"}),t.jsx(gt,{children:"Tier"}),t.jsx(gt,{children:"Status"}),t.jsx(gt,{children:"Started"}),t.jsx(gt,{children:"Expires"}),t.jsx(gt,{children:"Actions"})]})}),t.jsx(Jh,{children:o?[...Array(5)].map((V,X)=>t.jsxs(to,{children:[t.jsx(gt,{children:t.jsx(le,{})}),t.jsx(gt,{children:t.jsx(le,{})}),t.jsx(gt,{children:t.jsx(le,{})}),t.jsx(gt,{children:t.jsx(le,{})}),t.jsx(gt,{children:t.jsx(le,{})}),t.jsx(gt,{children:t.jsx(le,{})}),t.jsx(gt,{children:t.jsx(le,{})}),t.jsx(gt,{children:t.jsx(le,{})})]},X)):e.map(V=>t.jsxs(to,{children:[t.jsx(gt,{padding:"checkbox",children:t.jsx(ic,{checked:D.includes(V.id),onChange:X=>{X.target.checked?C([...D,V.id]):C(D.filter(we=>we!==V.id))}})}),t.jsx(gt,{children:t.jsxs(P,{children:[t.jsx(v,{variant:"body2",fontWeight:"medium",children:V.user.display_name}),t.jsx(v,{variant:"caption",color:"text.secondary",children:V.user.email})]})}),t.jsx(gt,{children:t.jsx(v,{variant:"body2",children:V.channel.name})}),t.jsx(gt,{children:t.jsxs(P,{children:[t.jsx(v,{variant:"body2",children:V.tier.name}),t.jsx(v,{variant:"caption",color:"text.secondary",children:ae(V.tier.price,V.tier.currency)})]})}),t.jsx(gt,{children:t.jsx(Ze,{label:vc(V.statusId),color:ie(V.statusId),size:"small"})}),t.jsx(gt,{children:t.jsx(v,{variant:"body2",children:se(V.startedAt)})}),t.jsx(gt,{children:t.jsx(v,{variant:"body2",children:V.expiresAt?se(V.expiresAt):"Never"})}),t.jsx(gt,{children:t.jsx(ge,{size:"small",onClick:()=>{console.log("View subscription:",V.id)},children:"View"})})]},V.id))})]})})}),t.jsxs(on,{open:R,onClose:()=>E(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(pn,{children:"Bulk Action"}),t.jsxs(an,{children:[t.jsxs(v,{gutterBottom:!0,children:["You are about to perform a bulk action on ",D.length," subscription(s)."]}),t.jsxs(bt,{fullWidth:!0,sx:{mb:2},children:[t.jsx(Tt,{children:"Action"}),t.jsxs(wt,{value:T,onChange:V=>I(V.target.value),label:"Action",children:[t.jsx(Se,{value:"cancel",children:"Cancel Subscriptions"}),t.jsx(Se,{value:"activate",children:"Activate Subscriptions"}),t.jsx(Se,{value:"suspend",children:"Suspend Subscriptions"})]})]}),t.jsx(st,{fullWidth:!0,label:"Reason (optional)",value:N,onChange:V=>O(V.target.value),multiline:!0,rows:3})]}),t.jsxs(ln,{children:[t.jsx(ge,{onClick:()=>E(!1),children:"Cancel"}),t.jsx(ge,{onClick:q,variant:"contained",color:"primary",children:"Confirm"})]})]})]})},z9=()=>{const[e,n]=g.useState(null),[r,s]=g.useState(!0),[o,a]=g.useState(null),[c,d]=g.useState("30d"),{api:u}=Je(),{execute:h}=et();g.useEffect(()=>{p()},[c]);const p=async()=>{s(!0),a(null);const j=await h(()=>u.subscriptionApi.getSubscriptionAnalytics({period:c}),{showErrorToast:!0});j&&n(j),s(!1)},x=j=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(j/100),b=j=>`${(j*100).toFixed(1)}%`,y=[{month:"Jan",new:120,canceled:45,active:1200},{month:"Feb",new:150,canceled:38,active:1312},{month:"Mar",new:180,canceled:52,active:1440},{month:"Apr",new:200,canceled:48,active:1592},{month:"May",new:165,canceled:55,active:1702},{month:"Jun",new:190,canceled:42,active:1850}],m=[{name:"Basic",value:35,revenue:15e3},{name:"Premium",value:45,revenue:35e3},{name:"Pro",value:20,revenue:25e3}],w=["#0088FE","#00C49F","#FFBB28","#FF8042"];return t.jsxs(Pt,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(ss,{sx:{fontSize:32,mr:2}}),t.jsx(v,{variant:"h4",component:"h1",children:"Subscription Analytics"})]}),t.jsxs(bt,{sx:{minWidth:120},children:[t.jsx(Tt,{children:"Period"}),t.jsxs(wt,{value:c,onChange:j=>d(j.target.value),label:"Period",children:[t.jsx(Se,{value:"7d",children:"Last 7 days"}),t.jsx(Se,{value:"30d",children:"Last 30 days"}),t.jsx(Se,{value:"90d",children:"Last 90 days"}),t.jsx(Se,{value:"1y",children:"Last year"})]})]})]}),o&&t.jsx(ct,{severity:"error",sx:{mb:3},children:o}),t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(so,{sx:{fontSize:24,mr:1,color:"#1976d2"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Total Subscriptions"})]}),t.jsx(v,{variant:"h4",children:r?t.jsx(le,{width:80}):e==null?void 0:e.total_subscriptions.toLocaleString()}),t.jsxs(P,{sx:{display:"flex",alignItems:"center",mt:1},children:[t.jsx(qr,{sx:{fontSize:16,color:"success.main",mr:.5}}),t.jsx(v,{variant:"body2",color:"success.main",children:"+12.5% vs last period"})]})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(qr,{sx:{fontSize:24,mr:1,color:"#388e3c"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"New Subscriptions"})]}),t.jsx(v,{variant:"h4",children:r?t.jsx(le,{width:80}):e==null?void 0:e.new_subscriptions.toLocaleString()}),t.jsx(v,{variant:"body2",color:"textSecondary",children:"This period"})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(io,{sx:{fontSize:24,mr:1,color:"#f57c00"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Churn Rate"})]}),t.jsx(v,{variant:"h4",children:r?t.jsx(le,{width:60}):b((e==null?void 0:e.churn_rate)||0)}),t.jsxs(P,{sx:{display:"flex",alignItems:"center",mt:1},children:[t.jsx(Wy,{sx:{fontSize:16,color:"success.main",mr:.5}}),t.jsx(v,{variant:"body2",color:"success.main",children:"-2.1% vs last period"})]})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(vs,{sx:{fontSize:24,mr:1,color:"#7b1fa2"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Total Revenue"})]}),t.jsx(v,{variant:"h4",children:r?t.jsx(le,{width:100}):x(Object.values((e==null?void 0:e.revenue_by_currency)||{}).reduce((j,D)=>j+D,0))}),t.jsx(v,{variant:"body2",color:"textSecondary",children:"This period"})]})})})]}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,lg:8,children:t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Subscription Trends"}),t.jsx(P,{sx:{width:"100%",height:400},children:t.jsx(da,{children:t.jsxs(Qy,{data:y,children:[t.jsx(ac,{strokeDasharray:"3 3"}),t.jsx(lc,{dataKey:"month"}),t.jsx(cc,{}),t.jsx(ua,{}),t.jsx(dc,{}),t.jsx(di,{type:"monotone",dataKey:"new",stroke:"#8884d8",strokeWidth:2,name:"New Subscriptions"}),t.jsx(di,{type:"monotone",dataKey:"canceled",stroke:"#82ca9d",strokeWidth:2,name:"Canceled"}),t.jsx(di,{type:"monotone",dataKey:"active",stroke:"#ffc658",strokeWidth:2,name:"Active Total"})]})})})]})})}),t.jsx(F,{item:!0,xs:12,lg:4,children:t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Revenue by Tier"}),t.jsx(P,{sx:{width:"100%",height:400},children:t.jsx(da,{children:t.jsxs(sA,{children:[t.jsx(oA,{data:m,cx:"50%",cy:"50%",labelLine:!1,label:({name:j,percent:D})=>`${j} ${(D*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:m.map((j,D)=>t.jsx(iA,{fill:w[D%w.length]},`cell-${D}`))}),t.jsx(ua,{formatter:(j,D)=>{var C;return[x(((C=m.find(R=>R.name===D))==null?void 0:C.revenue)||0),"Revenue"]}})]})})})]})})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Monthly Revenue Breakdown"}),t.jsx(P,{sx:{width:"100%",height:400},children:t.jsx(da,{children:t.jsxs(Zy,{data:y,children:[t.jsx(ac,{strokeDasharray:"3 3"}),t.jsx(lc,{dataKey:"month"}),t.jsx(cc,{}),t.jsx(ua,{formatter:j=>[x(Number(j)*100),"Revenue"]}),t.jsx(dc,{}),t.jsx(uc,{dataKey:"new",fill:"#8884d8",name:"New Subscriptions Revenue"}),t.jsx(uc,{dataKey:"active",fill:"#82ca9d",name:"Recurring Revenue"})]})})})]})})})]})]})},H9=()=>{const[e,n]=g.useState(!0),[r,s]=g.useState(null),[o,a]=g.useState("30d");g.useEffect(()=>{c()},[o]);const c=async()=>{try{n(!0),s(null),await new Promise(x=>setTimeout(x,1e3))}catch(x){s(x.message||"Failed to load revenue data")}finally{n(!1)}},d=x=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(x),u={totalRevenue:125e3,monthlyRecurring:98e3,oneTimePayments:27e3,averageRevenuePerUser:45.5,growthRate:12.5},h=[{month:"Jan",revenue:85e3,subscriptions:78e3,oneTime:7e3},{month:"Feb",revenue:92e3,subscriptions:84e3,oneTime:8e3},{month:"Mar",revenue:98e3,subscriptions:89e3,oneTime:9e3},{month:"Apr",revenue:105e3,subscriptions:95e3,oneTime:1e4},{month:"May",revenue:115e3,subscriptions:102e3,oneTime:13e3},{month:"Jun",revenue:125e3,subscriptions:112e3,oneTime:13e3}],p=[{name:"Tech News Daily",revenue:15e3,subscribers:1200},{name:"Global Politics",revenue:12500,subscribers:980},{name:"Science Weekly",revenue:11e3,subscribers:850},{name:"Business Insider",revenue:9500,subscribers:720},{name:"Sports Central",revenue:8200,subscribers:650}];return t.jsxs(Pt,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(P,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(vs,{sx:{fontSize:32,mr:2}}),t.jsx(v,{variant:"h4",component:"h1",children:"Revenue Tracking"})]}),t.jsxs(bt,{sx:{minWidth:120},children:[t.jsx(Tt,{children:"Period"}),t.jsxs(wt,{value:o,onChange:x=>a(x.target.value),label:"Period",children:[t.jsx(Se,{value:"7d",children:"Last 7 days"}),t.jsx(Se,{value:"30d",children:"Last 30 days"}),t.jsx(Se,{value:"90d",children:"Last 90 days"}),t.jsx(Se,{value:"1y",children:"Last year"})]})]})]}),r&&t.jsx(ct,{severity:"error",sx:{mb:3},children:r}),t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(vs,{sx:{fontSize:24,mr:1,color:"#1976d2"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Total Revenue"})]}),t.jsx(v,{variant:"h4",children:e?t.jsx(le,{width:100}):d(u.totalRevenue)}),t.jsxs(P,{sx:{display:"flex",alignItems:"center",mt:1},children:[t.jsx(qr,{sx:{fontSize:16,color:"success.main",mr:.5}}),t.jsxs(v,{variant:"body2",color:"success.main",children:["+",u.growthRate,"% vs last period"]})]})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Xl,{sx:{fontSize:24,mr:1,color:"#388e3c"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Monthly Recurring"})]}),t.jsx(v,{variant:"h4",children:e?t.jsx(le,{width:100}):d(u.monthlyRecurring)}),t.jsxs(v,{variant:"body2",color:"textSecondary",children:[(u.monthlyRecurring/u.totalRevenue*100).toFixed(1),"% of total"]})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(tc,{sx:{fontSize:24,mr:1,color:"#f57c00"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"One-time Payments"})]}),t.jsx(v,{variant:"h4",children:e?t.jsx(le,{width:100}):d(u.oneTimePayments)}),t.jsxs(v,{variant:"body2",color:"textSecondary",children:[(u.oneTimePayments/u.totalRevenue*100).toFixed(1),"% of total"]})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(qr,{sx:{fontSize:24,mr:1,color:"#7b1fa2"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"ARPU"})]}),t.jsx(v,{variant:"h4",children:e?t.jsx(le,{width:80}):d(u.averageRevenuePerUser)}),t.jsx(v,{variant:"body2",color:"textSecondary",children:"Average Revenue Per User"})]})})})]}),t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,lg:8,children:t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Monthly Revenue Trend"}),t.jsx(P,{sx:{width:"100%",height:400},children:t.jsx(da,{children:t.jsxs(Qy,{data:h,children:[t.jsx(ac,{strokeDasharray:"3 3"}),t.jsx(lc,{dataKey:"month"}),t.jsx(cc,{tickFormatter:x=>`$${(x/1e3).toFixed(0)}k`}),t.jsx(ua,{formatter:x=>[d(Number(x)),""]}),t.jsx(dc,{}),t.jsx(di,{type:"monotone",dataKey:"revenue",stroke:"#1976d2",strokeWidth:3,name:"Total Revenue"}),t.jsx(di,{type:"monotone",dataKey:"subscriptions",stroke:"#388e3c",strokeWidth:2,name:"Subscription Revenue"}),t.jsx(di,{type:"monotone",dataKey:"oneTime",stroke:"#f57c00",strokeWidth:2,name:"One-time Payments"})]})})})]})})}),t.jsx(F,{item:!0,xs:12,lg:4,children:t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Revenue Breakdown"}),t.jsx(P,{sx:{width:"100%",height:400},children:t.jsx(da,{children:t.jsxs(Zy,{data:h.slice(-3),children:[t.jsx(ac,{strokeDasharray:"3 3"}),t.jsx(lc,{dataKey:"month"}),t.jsx(cc,{tickFormatter:x=>`$${(x/1e3).toFixed(0)}k`}),t.jsx(ua,{formatter:x=>[d(Number(x)),""]}),t.jsx(dc,{}),t.jsx(uc,{dataKey:"subscriptions",fill:"#388e3c",name:"Subscriptions"}),t.jsx(uc,{dataKey:"oneTime",fill:"#f57c00",name:"One-time"})]})})})]})})})]}),t.jsx(ke,{children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Top Channels by Revenue"}),t.jsx(qh,{component:lt,variant:"outlined",children:t.jsxs(Kh,{children:[t.jsx(Xh,{children:t.jsxs(to,{children:[t.jsx(gt,{children:"Channel Name"}),t.jsx(gt,{align:"right",children:"Revenue"}),t.jsx(gt,{align:"right",children:"Subscribers"}),t.jsx(gt,{align:"right",children:"ARPU"})]})}),t.jsx(Jh,{children:p.map((x,b)=>t.jsxs(to,{children:[t.jsx(gt,{component:"th",scope:"row",children:t.jsxs(P,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(P,{sx:{width:24,height:24,borderRadius:"50%",backgroundColor:b===0?"#ffd700":b===1?"#c0c0c0":b===2?"#cd7f32":"#e0e0e0",display:"flex",alignItems:"center",justifyContent:"center",mr:2,fontSize:"12px",fontWeight:"bold"},children:b+1}),x.name]})}),t.jsx(gt,{align:"right",children:d(x.revenue)}),t.jsx(gt,{align:"right",children:x.subscribers.toLocaleString()}),t.jsx(gt,{align:"right",children:d(x.revenue/x.subscribers)})]},x.name))})]})})]})})]})},Y9=()=>t.jsxs(Pt,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(ss,{sx:{fontSize:32,mr:2}}),t.jsx(v,{variant:"h4",component:"h1",children:"Platform Analytics"})]}),t.jsx(ke,{children:t.jsxs(Fe,{sx:{textAlign:"center",py:8},children:[t.jsx(ss,{sx:{fontSize:64,color:"text.secondary",mb:2}}),t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Platform Analytics Coming Soon"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"This section will include comprehensive platform analytics, user behavior, and performance metrics."})]})})]}),G9=()=>t.jsxs(Pt,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(Kl,{sx:{fontSize:32,mr:2}}),t.jsx(v,{variant:"h4",component:"h1",children:"Admin Settings"})]}),t.jsx(ke,{children:t.jsxs(Fe,{sx:{textAlign:"center",py:8},children:[t.jsx(Kl,{sx:{fontSize:64,color:"text.secondary",mb:2}}),t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Admin Settings Coming Soon"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"This section will include platform configuration, system settings, and administrative preferences."})]})})]}),po=({title:e,columns:n,rows:r,totalCount:s,loading:o=!1,error:a=null,selected:c,onSelectionChange:d,onEdit:u,onDelete:h,onAdd:p,onRefresh:x,onSearch:b,onSort:y,onPageChange:m,onRowsPerPageChange:w,page:j=0,rowsPerPage:D=25,searchQuery:C="",sortColumn:R="",sortDirection:E="asc",actions:T,filters:I,rowActions:N})=>{const[O,$]=g.useState(C),[B,H]=g.useState(!1),[k,ne]=g.useState(null),[K,q]=g.useState(null),te=de=>{if(de.target.checked){const re=r.map(L=>L.id);d(re)}else d([])},ie=(de,re)=>{const L=c.indexOf(re);let xe=[];L===-1?xe=xe.concat(c,re):L===0?xe=xe.concat(c.slice(1)):L===c.length-1?xe=xe.concat(c.slice(0,-1)):L>0&&(xe=xe.concat(c.slice(0,L),c.slice(L+1))),d(xe)},se=de=>{de.key==="Enter"&&b&&b(O)},ae=de=>{$(de.target.value),de.target.value===""&&b&&b("")},V=de=>{if(!y)return;y(de,R===de&&E==="asc"?"desc":"asc")},X=(de,re)=>{ne(de.currentTarget),q(re)},we=()=>{ne(null),q(null)},ce=()=>{const de=c.length>0?r.filter(re=>c.includes(re.id)):K?[K]:[];de.length>0&&h&&(h(de),H(!1),we(),d([]))},Ee=de=>c.indexOf(de)!==-1;return t.jsxs(P,{children:[t.jsxs(lt,{sx:{width:"100%",mb:2},children:[t.jsxs(Ms,{sx:{pl:{sm:2},pr:{xs:1,sm:1},...c.length>0&&{bgcolor:"primary.main",color:"primary.contrastText"}},children:[c.length>0?t.jsxs(v,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[c.length," selected"]}):t.jsx(v,{sx:{flex:"1 1 100%"},variant:"h6",id:"tableTitle",component:"div",children:e}),c.length>0?t.jsx(he,{direction:"row",spacing:1,children:h&&t.jsx(pt,{title:"Delete",children:t.jsx($e,{color:"inherit",onClick:()=>H(!0),children:t.jsx(rc,{})})})}):t.jsxs(he,{direction:"row",spacing:1,alignItems:"center",children:[b&&t.jsx(st,{size:"small",placeholder:`Search ${e.toLowerCase()}...`,value:O,onChange:ae,onKeyPress:se,InputProps:{startAdornment:t.jsx(ys,{position:"start",children:t.jsx(_a,{})})},sx:{minWidth:250}}),I,x&&t.jsx(pt,{title:"Refresh",children:t.jsx($e,{onClick:x,children:t.jsx(Hy,{})})}),p&&t.jsx(ge,{variant:"contained",startIcon:t.jsx(bs,{}),onClick:p,sx:{whiteSpace:"nowrap"},children:"Add New"}),T]})]}),a&&t.jsx(ct,{severity:"error",sx:{m:2},children:a}),t.jsx(qh,{children:t.jsxs(Kh,{stickyHeader:!0,"aria-labelledby":"tableTitle",children:[t.jsx(Xh,{children:t.jsxs(to,{children:[t.jsx(gt,{padding:"checkbox",children:t.jsx(ic,{color:"primary",indeterminate:c.length>0&&c.length<r.length,checked:r.length>0&&c.length===r.length,onChange:te,inputProps:{"aria-label":"select all items"}})}),n.map(de=>t.jsx(gt,{align:de.align,style:{minWidth:de.minWidth},sortDirection:R===de.id?E:!1,children:de.sortable&&y?t.jsx(jE,{active:R===de.id,direction:R===de.id?E:"asc",onClick:()=>V(de.id),children:de.label}):de.label},de.id)),t.jsx(gt,{align:"right",children:"Actions"})]})}),t.jsx(Jh,{children:o?Array.from(new Array(D)).map((de,re)=>t.jsxs(to,{children:[t.jsx(gt,{padding:"checkbox",children:t.jsx(le,{variant:"rectangular",width:24,height:24})}),n.map(L=>t.jsx(gt,{children:t.jsx(le,{variant:"text"})},L.id)),t.jsx(gt,{children:t.jsx(le,{variant:"rectangular",width:40,height:24})})]},re)):r.map(de=>{const re=Ee(de.id);return t.jsxs(to,{hover:!0,onClick:L=>ie(L,de.id),role:"checkbox","aria-checked":re,tabIndex:-1,selected:re,sx:{cursor:"pointer"},children:[t.jsx(gt,{padding:"checkbox",children:t.jsx(ic,{color:"primary",checked:re,inputProps:{"aria-labelledby":`enhanced-table-checkbox-${de.id}`}})}),n.map(L=>{const xe=de[L.id];return t.jsx(gt,{align:L.align,children:L.format?L.format(xe,de):xe},L.id)}),t.jsx(gt,{align:"right",children:t.jsx(he,{direction:"row",spacing:1,justifyContent:"flex-end",children:N?N(de):t.jsxs(t.Fragment,{children:[u&&t.jsx(pt,{title:"Edit",children:t.jsx($e,{size:"small",onClick:L=>{L.stopPropagation(),u(de)},children:t.jsx(ls,{fontSize:"small"})})}),t.jsx($e,{size:"small",onClick:L=>{L.stopPropagation(),X(L,de)},children:t.jsx(Gh,{fontSize:"small"})})]})})})]},de.id)})})]})}),t.jsx(wE,{rowsPerPageOptions:[10,25,50,100],component:"div",count:s,rowsPerPage:D,page:j,onPageChange:(de,re)=>m==null?void 0:m(re),onRowsPerPageChange:de=>w==null?void 0:w(parseInt(de.target.value,10))})]}),t.jsxs($o,{anchorEl:k,open:!!k,onClose:we,children:[u&&K&&t.jsxs(Se,{onClick:()=>{u(K),we()},children:[t.jsx(ls,{sx:{mr:1},fontSize:"small"}),"Edit"]}),h&&t.jsxs(Se,{onClick:()=>H(!0),children:[t.jsx(rc,{sx:{mr:1},fontSize:"small"}),"Delete"]})]}),t.jsxs(on,{open:B,onClose:()=>H(!1),children:[t.jsx(pn,{children:"Confirm Delete"}),t.jsx(an,{children:t.jsxs(v,{children:["Are you sure you want to delete ",c.length>0?`${c.length} items`:"this item","? This action cannot be undone."]})}),t.jsxs(ln,{children:[t.jsx(ge,{onClick:()=>H(!1),children:"Cancel"}),t.jsx(ge,{onClick:ce,color:"error",variant:"contained",children:"Delete"})]})]})]})},q9=()=>{var we;const{api:e}=Je(),{execute:n}=et(),[r,s]=g.useState([]),[o,a]=g.useState(0),[c,d]=g.useState(!1),[u,h]=g.useState(null),[p,x]=g.useState([]),[b,y]=g.useState(!1),[m,w]=g.useState(null),[j,D]=g.useState(0),[C,R]=g.useState(25),[E,T]=g.useState(""),[I,N]=g.useState(""),[O,$]=g.useState("createdAt"),[B,H]=g.useState("desc"),k=async()=>{var ce;d(!0),h(null);try{const Ee={page:j+1,limit:C,search:E||void 0,status:I||void 0,sort:O,order:B},de=await n(()=>e.newsApi.getNews(Ee),{showErrorToast:!1});de&&(s(de.items||[]),a(((ce=de.metadata)==null?void 0:ce.total)||0))}catch{h("Failed to fetch news")}finally{d(!1)}};g.useEffect(()=>{k()},[j,C,E,I,O,B]);const ne=ce=>{w(ce),y(!0)},K=async ce=>{const Ee=ce.map(de=>de.id);try{await Promise.all(Ee.map(de=>n(()=>e.newsApi.delete(de)))),x([]),k()}catch{h("Failed to delete news items")}},q=async(ce,Ee)=>{try{await n(()=>e.newsApi.update(ce.id,{status:Ee.toString()})),k()}catch{h("Failed to update news status")}},te=async ce=>{var Ee;if(m)try{const de={title:ce.title,content:ce.content,status:(Ee=ce.status)==null?void 0:Ee.toString()};await n(()=>e.newsApi.update(m.id,de)),y(!1),w(null),k()}catch{h("Failed to update news")}},ie=ce=>{switch(ce){case Rn.PUBLISHED:return"success";case Rn.DRAFT:return"default";case Rn.PENDING_REVIEW:return"warning";case Rn.REJECTED:return"error";case Rn.ARCHIVED:return"secondary";default:return"default"}},se=[{id:"title",label:"Title",minWidth:200,sortable:!0,format:(ce,Ee)=>t.jsxs(P,{children:[t.jsx(v,{variant:"body2",fontWeight:"medium",noWrap:!0,children:ce}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["ID: ",Ee.id]})]})},{id:"channel",label:"Channel",minWidth:150,format:(ce,Ee)=>{var de,re,L,xe;return t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(jn,{src:(de=Ee.channel)==null?void 0:de.photoUrl,sx:{width:24,height:24},children:(L=(re=Ee.channel)==null?void 0:re.name)==null?void 0:L[0]}),t.jsx(v,{variant:"body2",noWrap:!0,children:((xe=Ee.channel)==null?void 0:xe.name)||"Unknown"})]})}},{id:"status",label:"Status",minWidth:120,sortable:!0,format:ce=>t.jsx(Ze,{label:ce,color:ie(ce),size:"small"})},{id:"created_at",label:"Created",minWidth:120,sortable:!0,format:ce=>t.jsx(v,{variant:"body2",children:new Date(ce).toLocaleDateString()})},{id:"updated_at",label:"Updated",minWidth:120,sortable:!0,format:ce=>t.jsx(v,{variant:"body2",children:new Date(ce).toLocaleDateString()})},{id:"views",label:"Views",minWidth:80,align:"right",sortable:!0,format:ce=>t.jsx(v,{variant:"body2",children:(ce==null?void 0:ce.toLocaleString())||"0"})}],ae=Object.entries(Rn).map(([ce,Ee])=>({value:Ee,label:ce.replace(/_/g," ").toLowerCase().replace(/\b\w/g,de=>de.toUpperCase())})),V=t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Status"}),t.jsxs(wt,{value:I,label:"Status",onChange:ce=>N(ce.target.value),children:[t.jsx(Se,{value:"",children:"All Status"}),ae.map(ce=>t.jsx(Se,{value:ce.value,children:ce.label},ce.value))]})]}),X=ce=>t.jsxs(he,{direction:"row",spacing:.5,children:[t.jsx(pt,{title:"View",children:t.jsx($e,{size:"small",onClick:Ee=>{Ee.stopPropagation(),window.open(`/news/${ce.id}`,"_blank")},children:t.jsx(js,{fontSize:"small"})})}),t.jsx(pt,{title:"Edit",children:t.jsx($e,{size:"small",onClick:Ee=>{Ee.stopPropagation(),ne(ce)},children:t.jsx(ls,{fontSize:"small"})})}),ce.status===Rn.PUBLISHED?t.jsx(pt,{title:"Unpublish",children:t.jsx($e,{size:"small",onClick:Ee=>{Ee.stopPropagation(),q(ce,Rn.DRAFT)},children:t.jsx(SE,{fontSize:"small"})})}):t.jsx(pt,{title:"Publish",children:t.jsx($e,{size:"small",onClick:Ee=>{Ee.stopPropagation(),q(ce,Rn.PUBLISHED)},children:t.jsx(CE,{fontSize:"small"})})})]});return t.jsxs(P,{children:[t.jsx(po,{title:"News Management",columns:se,rows:r,totalCount:o,loading:c,error:u,selected:p,onSelectionChange:x,onEdit:ne,onDelete:K,onRefresh:k,onSearch:T,onSort:(ce,Ee)=>{$(ce),H(Ee)},onPageChange:D,onRowsPerPageChange:R,page:j,rowsPerPage:C,searchQuery:E,sortColumn:O,sortDirection:B,filters:V,rowActions:X}),t.jsxs(on,{open:b,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(pn,{children:"Edit News"}),t.jsx(an,{children:m&&t.jsxs(he,{spacing:3,sx:{pt:1},children:[t.jsx(st,{label:"Title",fullWidth:!0,defaultValue:m.title,onChange:ce=>w({...m,title:ce.target.value})}),t.jsx(st,{label:"Content",fullWidth:!0,multiline:!0,rows:3,defaultValue:m.content,onChange:ce=>w({...m,content:ce.target.value})}),t.jsxs(bt,{fullWidth:!0,children:[t.jsx(Tt,{children:"Status"}),t.jsx(wt,{value:m.status,label:"Status",onChange:ce=>w({...m,status:parseInt(ce.target.value.toString())}),children:ae.map(ce=>t.jsx(Se,{value:ce.value,children:ce.label},ce.value))})]}),t.jsxs(P,{children:[t.jsxs(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["News ID: ",m.id]}),t.jsxs(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Created: ",new Date(m.createdAt).toLocaleString()]}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Channel: ",(we=m.channel)==null?void 0:we.name]})]})]})}),t.jsxs(ln,{children:[t.jsx(ge,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(ge,{onClick:()=>te(m),variant:"contained",children:"Save Changes"})]})]})]})},K9=()=>{var de,re,L,xe;const{api:e}=Je(),{execute:n}=et(),[r,s]=g.useState([]),[o,a]=g.useState(0),[c,d]=g.useState(!1),[u,h]=g.useState(null),[p,x]=g.useState([]),[b,y]=g.useState(!1),[m,w]=g.useState(null),[j,D]=g.useState(0),[C,R]=g.useState(25),[E,T]=g.useState(""),[I,N]=g.useState(""),[O,$]=g.useState(""),[B,H]=g.useState(""),[k,ne]=g.useState("created_at"),[K,q]=g.useState("desc"),te=g.useCallback(async()=>{var oe;d(!0),h(null);try{const Y={};E&&(Y.search=E),I&&(Y.status=I),O==="true"&&(Y.trending=!0),B==="true"&&(Y.funded=!0),Y.sort=k,Y.order=K;const G=await n(()=>e.pollApi.getPolls(Y,{page:j+1,limit:C}),{showErrorToast:!1});G&&(s(G.items||[]),a(((oe=G.metadata)==null?void 0:oe.total)||0))}catch{h("Failed to fetch polls")}finally{d(!1)}},[j,C,E,I,O,B,k,K,e.pollApi,n]);g.useEffect(()=>{te()},[te]);const ie=oe=>{w(oe),y(!0)},se=async oe=>{const Y=oe.map(G=>G.id);try{await Promise.all(Y.map(G=>n(()=>e.pollApi.delete(G)))),x([]),te()}catch{h("Failed to delete polls")}},ae=async()=>{if(m)try{const oe={title:m.title,description:m.description,endDate:m.endDate};await n(()=>e.pollApi.update(m.id,oe)),y(!1),w(null),te()}catch{h("Failed to update poll")}},V=async oe=>{try{await n(()=>e.pollApi.convertToNews(oe.id,{title:oe.title,summary:oe.description})),te()}catch{h("Failed to convert poll to news")}},X=[{id:"title",label:"Title",minWidth:200,sortable:!0,format:(oe,Y)=>t.jsxs(P,{children:[t.jsx(v,{variant:"body2",fontWeight:"medium",noWrap:!0,children:oe}),t.jsxs(he,{direction:"row",spacing:1,alignItems:"center",sx:{mt:.5},children:[t.jsxs(v,{variant:"caption",color:"text.secondary",children:["ID: ",Y.id]}),Y.isTrending&&t.jsx(Ze,{label:"Trending",color:"warning",size:"small",icon:t.jsx(qr,{}),sx:{height:16,"& .MuiChip-label":{fontSize:"0.6rem",px:.5}}})]})]})},{id:"channel",label:"Channel",minWidth:150,format:(oe,Y)=>{var G,fe,me,ue;return t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(jn,{src:(G=Y.channel)==null?void 0:G.photoUrl,sx:{width:24,height:24},children:(me=(fe=Y.channel)==null?void 0:fe.name)==null?void 0:me[0]}),t.jsx(v,{variant:"body2",noWrap:!0,children:((ue=Y.channel)==null?void 0:ue.name)||"Unknown"})]})}},{id:"creator",label:"Creator",minWidth:120,format:(oe,Y)=>{var G;return t.jsx(v,{variant:"body2",noWrap:!0,children:((G=Y.creator)==null?void 0:G.displayName)||"Unknown"})}},{id:"voteCount",label:"Votes",minWidth:80,align:"right",sortable:!0,format:oe=>t.jsx(v,{variant:"body2",children:(oe==null?void 0:oe.toLocaleString())||"0"})},{id:"stats",label:"Stats",minWidth:120,format:(oe,Y)=>{var G,fe,me,ue;return t.jsxs(he,{spacing:.5,children:[t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Views: ",((fe=(G=Y.stats)==null?void 0:G.viewCount)==null?void 0:fe.toLocaleString())||"0"]}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Funds: $",((ue=(me=Y.stats)==null?void 0:me.totalFunds)==null?void 0:ue.toLocaleString())||"0"]})]})}},{id:"endDate",label:"End Date",minWidth:120,sortable:!0,format:oe=>t.jsx(v,{variant:"body2",children:oe?new Date(oe).toLocaleDateString():"No end date"})},{id:"created_at",label:"Created",minWidth:120,sortable:!0,format:oe=>t.jsx(v,{variant:"body2",children:new Date(oe).toLocaleDateString()})}],we=Object.entries(QL).map(([oe,Y])=>({value:Y,label:oe.replace(/_/g," ").toLowerCase().replace(/\b\w/g,G=>G.toUpperCase())})),ce=t.jsxs(he,{direction:"row",spacing:1,children:[t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Status"}),t.jsxs(wt,{value:I,label:"Status",onChange:oe=>N(oe.target.value),children:[t.jsx(Se,{value:"",children:"All Status"}),we.map(oe=>t.jsx(Se,{value:oe.value,children:oe.label},oe.value))]})]}),t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Trending"}),t.jsxs(wt,{value:O,label:"Trending",onChange:oe=>$(oe.target.value),children:[t.jsx(Se,{value:"",children:"All"}),t.jsx(Se,{value:"true",children:"Trending Only"}),t.jsx(Se,{value:"false",children:"Non-Trending"})]})]}),t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Funded"}),t.jsxs(wt,{value:B,label:"Funded",onChange:oe=>H(oe.target.value),children:[t.jsx(Se,{value:"",children:"All"}),t.jsx(Se,{value:"true",children:"Funded Only"}),t.jsx(Se,{value:"false",children:"Not Funded"})]})]})]}),Ee=oe=>t.jsxs(he,{direction:"row",spacing:.5,children:[t.jsx(pt,{title:"View",children:t.jsx($e,{size:"small",onClick:Y=>{Y.stopPropagation(),window.open(`/polls/${oe.id}`,"_blank")},children:t.jsx(js,{fontSize:"small"})})}),t.jsx(pt,{title:"Edit",children:t.jsx($e,{size:"small",onClick:Y=>{Y.stopPropagation(),ie(oe)},children:t.jsx(ls,{fontSize:"small"})})}),t.jsx(pt,{title:"Convert to News",children:t.jsx($e,{size:"small",onClick:Y=>{Y.stopPropagation(),V(oe)},children:t.jsx(PE,{fontSize:"small"})})})]});return t.jsxs(P,{children:[t.jsx(po,{title:"Poll Management",columns:X,rows:r,totalCount:o,loading:c,error:u,selected:p,onSelectionChange:x,onEdit:ie,onDelete:se,onRefresh:te,onSearch:T,onSort:(oe,Y)=>{ne(oe),q(Y)},onPageChange:D,onRowsPerPageChange:R,page:j,rowsPerPage:C,searchQuery:E,sortColumn:k,sortDirection:K,filters:ce,rowActions:Ee}),t.jsxs(on,{open:b,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(pn,{children:"Edit Poll"}),t.jsx(an,{children:m&&t.jsxs(he,{spacing:3,sx:{pt:1},children:[t.jsx(st,{label:"Title",fullWidth:!0,defaultValue:m.title,onChange:oe=>w({...m,title:oe.target.value})}),t.jsx(st,{label:"Description",fullWidth:!0,multiline:!0,rows:3,defaultValue:m.description,onChange:oe=>w({...m,description:oe.target.value})}),t.jsx(st,{label:"End Date",type:"datetime-local",fullWidth:!0,defaultValue:m.endDate?new Date(m.endDate).toISOString().slice(0,16):"",onChange:oe=>w({...m,endDate:oe.target.value}),InputLabelProps:{shrink:!0}}),t.jsxs(Jl,{children:[t.jsx(Ql,{expandIcon:t.jsx(Zl,{}),children:t.jsxs(v,{variant:"subtitle2",children:["Poll Options (",((de=m.options)==null?void 0:de.length)||0,")"]})}),t.jsx(ec,{children:t.jsx(he,{spacing:2,children:(re=m.options)==null?void 0:re.map((oe,Y)=>t.jsxs(P,{sx:{p:2,border:1,borderColor:"divider",borderRadius:1},children:[t.jsxs(v,{variant:"body2",fontWeight:"medium",children:["Option ",Y+1,": ",oe.text]}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Votes: ",oe.voteCount]})]},oe.id))})})]}),t.jsxs(P,{children:[t.jsxs(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Poll ID: ",m.id]}),t.jsxs(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Created: ",new Date(m.createdAt).toLocaleString()]}),t.jsxs(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Channel: ",(L=m.channel)==null?void 0:L.name]}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Creator: ",(xe=m.creator)==null?void 0:xe.displayName]})]})]})}),t.jsxs(ln,{children:[t.jsx(ge,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(ge,{onClick:()=>ae(),variant:"contained",children:"Save Changes"})]})]})]})},X9=()=>{const{api:e}=Je(),{execute:n}=et(),[r,s]=g.useState([]),[o,a]=g.useState(0),[c,d]=g.useState(!1),[u,h]=g.useState(null),[p,x]=g.useState([]),[b,y]=g.useState(!1),[m,w]=g.useState(null),[j,D]=g.useState(0),[C,R]=g.useState(25),[E,T]=g.useState(""),[I,N]=g.useState(""),[O,$]=g.useState(""),[B,H]=g.useState(""),[k,ne]=g.useState("created_at"),[K,q]=g.useState("desc"),te=async()=>{var re;d(!0),h(null);try{const L={};E&&(L.search=E),I&&(L.status=I),O==="true"&&(L.trending=!0),B==="true"&&(L.verified=!0);const xe=await n(()=>e.channelApi.getChannels(L,{page:j+1,limit:C}),{showErrorToast:!1});xe&&(s(xe.items||[]),a(((re=xe.metadata)==null?void 0:re.total)||0))}catch{h("Failed to fetch channels")}finally{d(!1)}};g.useEffect(()=>{te()},[j,C,E,I,O,B,k,K]);const ie=re=>{w(re),y(!0)},se=async re=>{const L=re.map(xe=>xe.id);try{await Promise.all(L.map(xe=>n(()=>e.channelApi.deleteChannel(xe)))),x([]),te()}catch{h("Failed to delete channels")}},ae=async re=>{if(m)try{await n(()=>e.channelApi.updateChannel(m.id,re)),y(!1),w(null),te()}catch{h("Failed to update channel")}},V=re=>{switch(re){case 1:return"success";case 2:return"warning";case 3:return"error";case 4:return"default";default:return"default"}},X=re=>{switch(re){case 1:return"Active";case 2:return"Pending";case 3:return"Suspended";case 4:return"Inactive";default:return"Unknown"}},we=[{id:"name",label:"Channel",minWidth:200,sortable:!0,format:(re,L)=>t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(jn,{src:L.logoUrl,sx:{width:40,height:40},children:re==null?void 0:re[0]}),t.jsxs(P,{children:[t.jsx(v,{variant:"body2",fontWeight:"medium",noWrap:!0,children:re}),t.jsxs(v,{variant:"caption",color:"text.secondary",noWrap:!0,children:["@",L.handle,"  ID: ",L.id]})]})]})},{id:"description",label:"Description",minWidth:200,format:re=>t.jsx(v,{variant:"body2",noWrap:!0,sx:{maxWidth:200},children:re||"No description"})},{id:"status",label:"Status",minWidth:100,sortable:!0,format:re=>t.jsx(Ze,{label:X(re),color:V(re),size:"small"})},{id:"stats",label:"Stats",minWidth:150,format:(re,L)=>{var xe,oe,Y,G,fe,me;return t.jsxs(he,{spacing:.5,children:[t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(so,{sx:{fontSize:14},color:"action"}),t.jsxs(v,{variant:"caption",children:[((oe=(xe=L.stats)==null?void 0:xe.activeSubscriptionCount)==null?void 0:oe.toLocaleString())||"0"," subscribers"]})]}),t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(_o,{sx:{fontSize:14},color:"action"}),t.jsxs(v,{variant:"caption",children:[((G=(Y=L.stats)==null?void 0:Y.newsCount)==null?void 0:G.toLocaleString())||"0"," news"]})]}),t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(zh,{sx:{fontSize:14},color:"action"}),t.jsxs(v,{variant:"caption",children:[((me=(fe=L.stats)==null?void 0:fe.pollCount)==null?void 0:me.toLocaleString())||"0"," polls"]})]})]})}},{id:"tiers",label:"Tiers",minWidth:80,align:"center",format:(re,L)=>{var xe,oe;return t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:.5,justifyContent:"center"},children:[t.jsx(Yh,{sx:{fontSize:14},color:"action"}),t.jsx(v,{variant:"body2",children:((xe=L.stats)==null?void 0:xe.tierCount)||((oe=L.tiers)==null?void 0:oe.length)||"0"})]})}},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:re=>t.jsx(v,{variant:"body2",children:new Date(re).toLocaleDateString()})},{id:"updatedAt",label:"Updated",minWidth:120,sortable:!0,format:re=>t.jsx(v,{variant:"body2",children:new Date(re).toLocaleDateString()})}],ce=[{value:1,label:"Active"},{value:2,label:"Pending"},{value:3,label:"Suspended"},{value:4,label:"Inactive"}],Ee=t.jsxs(he,{direction:"row",spacing:1,children:[t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Status"}),t.jsxs(wt,{value:I,label:"Status",onChange:re=>N(re.target.value),children:[t.jsx(Se,{value:"",children:"All Status"}),ce.map(re=>t.jsx(Se,{value:re.value,children:re.label},re.value))]})]}),t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Trending"}),t.jsxs(wt,{value:O,label:"Trending",onChange:re=>$(re.target.value),children:[t.jsx(Se,{value:"",children:"All"}),t.jsx(Se,{value:"true",children:"Trending Only"}),t.jsx(Se,{value:"false",children:"Non-Trending"})]})]}),t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Verified"}),t.jsxs(wt,{value:B,label:"Verified",onChange:re=>H(re.target.value),children:[t.jsx(Se,{value:"",children:"All"}),t.jsx(Se,{value:"true",children:"Verified Only"}),t.jsx(Se,{value:"false",children:"Not Verified"})]})]})]}),de=re=>t.jsxs(he,{direction:"row",spacing:.5,children:[t.jsx(pt,{title:"View",children:t.jsx($e,{size:"small",onClick:L=>{L.stopPropagation(),window.open(`/channels/${re.id}`,"_blank")},children:t.jsx(js,{fontSize:"small"})})}),t.jsx(pt,{title:"Edit",children:t.jsx($e,{size:"small",onClick:L=>{L.stopPropagation(),ie(re)},children:t.jsx(ls,{fontSize:"small"})})})]});return t.jsxs(P,{children:[t.jsx(po,{title:"Channel Management",columns:we,rows:r,totalCount:o,loading:c,error:u,selected:p,onSelectionChange:x,onEdit:ie,onDelete:se,onRefresh:te,onSearch:T,onSort:(re,L)=>{ne(re),q(L)},onPageChange:D,onRowsPerPageChange:R,page:j,rowsPerPage:C,searchQuery:E,sortColumn:k,sortDirection:K,filters:Ee,rowActions:de}),t.jsxs(on,{open:b,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(pn,{children:"Edit Channel"}),t.jsx(an,{children:m&&t.jsxs(he,{spacing:3,sx:{pt:1},children:[t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(st,{label:"Channel Name",fullWidth:!0,defaultValue:m.name,onChange:re=>w({...m,name:re.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(st,{label:"Handle",fullWidth:!0,defaultValue:m.handle,onChange:re=>w({...m,handle:re.target.value}),InputProps:{startAdornment:"@"}})})]}),t.jsx(st,{label:"Description",fullWidth:!0,multiline:!0,rows:3,defaultValue:m.description,onChange:re=>w({...m,description:re.target.value})}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(st,{label:"Logo URL",fullWidth:!0,defaultValue:m.logoUrl,onChange:re=>w({...m,logoUrl:re.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(st,{label:"Banner URL",fullWidth:!0,defaultValue:m.bannerUrl,onChange:re=>w({...m,bannerUrl:re.target.value})})})]}),t.jsxs(bt,{fullWidth:!0,children:[t.jsx(Tt,{children:"Status"}),t.jsx(wt,{value:m.status,label:"Status",onChange:re=>w({...m,status:re.target.value}),children:ce.map(re=>t.jsx(Se,{value:re.value,children:re.label},re.value))})]}),m.tiers&&m.tiers.length>0&&t.jsxs(Jl,{children:[t.jsx(Ql,{expandIcon:t.jsx(Zl,{}),children:t.jsxs(v,{variant:"subtitle2",children:["Subscription Tiers (",m.tiers.length,")"]})}),t.jsx(ec,{children:t.jsx(he,{spacing:2,children:m.tiers.map(re=>t.jsx(P,{sx:{p:2,border:1,borderColor:"divider",borderRadius:1},children:t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"body2",fontWeight:"medium",children:re.name}),t.jsx(v,{variant:"caption",color:"text.secondary",children:re.description})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsxs(v,{variant:"body2",children:["Price: ",re.currency," ",re.price]}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Order: ",re.order," ",re.isDefault&&"(Default)"]})]})]})},re.id))})})]}),t.jsxs(P,{children:[t.jsxs(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Channel ID: ",m.id]}),t.jsxs(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Creator ID: ",m.creatorId]}),t.jsxs(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Created: ",new Date(m.createdAt).toLocaleString()]}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Updated: ",new Date(m.updatedAt).toLocaleString()]})]})]})}),t.jsxs(ln,{children:[t.jsx(ge,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(ge,{onClick:()=>ae(m),variant:"contained",children:"Save Changes"})]})]})]})},J9=()=>{var G,fe,me;const{api:e}=Je(),{execute:n}=et(),[r,s]=g.useState([]),[o,a]=g.useState(0),[c,d]=g.useState(!1),[u,h]=g.useState(null),[p,x]=g.useState([]),[b,y]=g.useState(!1),[m,w]=g.useState(null),[j,D]=g.useState(!1),[C,R]=g.useState(null),[E,T]=g.useState(""),[I,N]=g.useState(""),[O,$]=g.useState(0),[B,H]=g.useState(25),[k,ne]=g.useState(""),[K,q]=g.useState(""),[te]=g.useState(""),[ie,se]=g.useState("created_at"),[ae,V]=g.useState("desc"),X=async()=>{var ue;d(!0),h(null);try{const Re=await n(()=>e.expenseOrderApi.getMyExpenseOrders({page:O+1,limit:B},K?parseInt(K):void 0),{showErrorToast:!1});Re&&(s(Re.items||[]),a(((ue=Re.metadata)==null?void 0:ue.total)||0))}catch{h("Failed to fetch expense orders")}finally{d(!1)}};g.useEffect(()=>{X()},[O,B,k,K,te,ie,ae]);const we=ue=>{w(ue),y(!0)},ce=(ue,Re)=>{w(ue),R(Re),D(!0),T(""),N("")},Ee=async()=>{if(!(!m||!C))try{switch(C){case"approve":await n(()=>e.expenseOrderApi.approveExpenseOrder(m.id,{notes:E}));break;case"reject":await n(()=>e.expenseOrderApi.rejectExpenseOrder(m.id,{rejectionReason:E}));break;case"payment":await n(()=>e.expenseOrderApi.processPayment(m.id,{paymentReference:I}));break}D(!1),w(null),R(null),X()}catch{h(`Failed to ${C} expense order`)}},de=ue=>{switch(ue){case qe.DRAFT:return"default";case qe.SUBMITTED:return"info";case qe.UNDER_REVIEW:return"warning";case qe.APPROVED:return"success";case qe.REJECTED:return"error";case qe.PAID:return"success";case qe.CANCELLED:return"secondary";default:return"default"}},re=(ue,Re)=>new Intl.NumberFormat("en-US",{style:"currency",currency:Re||"USD"}).format(ue),L=[{id:"title",label:"Expense",minWidth:200,sortable:!0,format:(ue,Re)=>{var De;return t.jsxs(P,{children:[t.jsx(v,{variant:"body2",fontWeight:"medium",noWrap:!0,children:ue}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:[(De=Re.type)==null?void 0:De.name,"  ID: ",Re.id]})]})}},{id:"journalist",label:"Journalist",minWidth:150,format:(ue,Re)=>{var De,Ye,Me;return t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(jn,{sx:{width:24,height:24},children:((Ye=(De=Re.journalist)==null?void 0:De.displayName)==null?void 0:Ye[0])||"U"}),t.jsx(v,{variant:"body2",noWrap:!0,children:((Me=Re.journalist)==null?void 0:Me.displayName)||"Unknown User"})]})}},{id:"channel",label:"Channel",minWidth:120,format:(ue,Re)=>{var De;return t.jsx(v,{variant:"body2",noWrap:!0,children:((De=Re.channel)==null?void 0:De.name)||"Unknown"})}},{id:"amount",label:"Amount",minWidth:100,align:"right",sortable:!0,format:(ue,Re)=>t.jsx(v,{variant:"body2",fontWeight:"medium",children:re(ue,Re.currency)})},{id:"status",label:"Status",minWidth:120,sortable:!0,format:ue=>t.jsx(Ze,{label:fa[ue],color:de(ue),size:"small"})},{id:"submitted_at",label:"Submitted",minWidth:120,sortable:!0,format:ue=>t.jsx(v,{variant:"body2",children:ue?new Date(ue).toLocaleDateString():"-"})},{id:"paid_at",label:"Paid",minWidth:120,sortable:!0,format:ue=>t.jsx(v,{variant:"body2",children:ue?new Date(ue).toLocaleDateString():"-"})},{id:"created_at",label:"Created",minWidth:120,sortable:!0,format:ue=>t.jsx(v,{variant:"body2",children:new Date(ue).toLocaleDateString()})}],xe=Object.entries(fa).map(([ue,Re])=>({value:ue,label:Re})),oe=t.jsx(he,{direction:"row",spacing:1,children:t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Status"}),t.jsxs(wt,{value:K,label:"Status",onChange:ue=>q(ue.target.value),children:[t.jsx(Se,{value:"",children:"All Status"}),xe.map(ue=>t.jsx(Se,{value:ue.value,children:ue.label},ue.value))]})]})}),Y=ue=>t.jsxs(he,{direction:"row",spacing:.5,children:[t.jsx(pt,{title:"View",children:t.jsx($e,{size:"small",onClick:Re=>{Re.stopPropagation(),we(ue)},children:t.jsx(js,{fontSize:"small"})})}),ue.receiptUrl&&t.jsx(pt,{title:"View Receipt",children:t.jsx($e,{size:"small",onClick:Re=>{Re.stopPropagation(),window.open(ue.receiptUrl,"_blank")},children:t.jsx(Ns,{fontSize:"small"})})}),ue.status===qe.UNDER_REVIEW&&t.jsxs(t.Fragment,{children:[t.jsx(pt,{title:"Approve",children:t.jsx($e,{size:"small",onClick:Re=>{Re.stopPropagation(),ce(ue,"approve")},children:t.jsx(Ma,{fontSize:"small",color:"success"})})}),t.jsx(pt,{title:"Reject",children:t.jsx($e,{size:"small",onClick:Re=>{Re.stopPropagation(),ce(ue,"reject")},children:t.jsx(io,{fontSize:"small",color:"error"})})})]}),ue.status===qe.APPROVED&&t.jsx(pt,{title:"Process Payment",children:t.jsx($e,{size:"small",onClick:Re=>{Re.stopPropagation(),ce(ue,"payment")},children:t.jsx(Oa,{fontSize:"small",color:"primary"})})})]});return t.jsxs(P,{children:[t.jsx(po,{title:"Expense Order Management",columns:L,rows:r,totalCount:o,loading:c,error:u,selected:p,onSelectionChange:x,onEdit:we,onRefresh:X,onSearch:ne,onSort:(ue,Re)=>{se(ue),V(Re)},onPageChange:$,onRowsPerPageChange:H,page:O,rowsPerPage:B,searchQuery:k,sortColumn:ie,sortDirection:ae,filters:oe,rowActions:Y}),t.jsxs(on,{open:b,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(pn,{children:"View Expense Order"}),t.jsx(an,{children:m&&t.jsxs(he,{spacing:3,sx:{pt:1},children:[t.jsx(ke,{variant:"outlined",children:t.jsx(Fe,{children:t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Title"}),t.jsx(v,{variant:"body2",children:m.title})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Amount"}),t.jsx(v,{variant:"body2",fontWeight:"medium",children:re(m.amount,m.currency)})]}),t.jsxs(F,{item:!0,xs:12,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Description"}),t.jsx(v,{variant:"body2",children:m.description})]})]})})}),t.jsx(ke,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"subtitle2",gutterBottom:!0,children:"Details"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"caption",color:"text.secondary",children:"Journalist"}),t.jsx(v,{variant:"body2",children:((G=m.journalist)==null?void 0:G.displayName)||"Unknown User"})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"caption",color:"text.secondary",children:"Channel"}),t.jsx(v,{variant:"body2",children:(fe=m.channel)==null?void 0:fe.name})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"caption",color:"text.secondary",children:"Type"}),t.jsx(v,{variant:"body2",children:(me=m.type)==null?void 0:me.name})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"caption",color:"text.secondary",children:"Status"}),t.jsx(Ze,{label:fa[m.status],color:de(m.status),size:"small"})]})]})]})}),m.notes&&t.jsx(ct,{severity:"info",children:t.jsx(v,{variant:"body2",children:m.notes})}),m.rejectionReason&&t.jsx(ct,{severity:"error",children:t.jsx(v,{variant:"body2",children:m.rejectionReason})}),m.paymentReference&&t.jsx(ct,{severity:"success",children:t.jsxs(v,{variant:"body2",children:["Payment Reference: ",m.paymentReference]})})]})}),t.jsx(ln,{children:t.jsx(ge,{onClick:()=>y(!1),children:"Close"})})]}),t.jsxs(on,{open:j,onClose:()=>D(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsxs(pn,{children:[C==="approve"&&"Approve Expense Order",C==="reject"&&"Reject Expense Order",C==="payment"&&"Process Payment"]}),t.jsx(an,{children:t.jsxs(he,{spacing:2,sx:{pt:1},children:[C==="payment"&&t.jsx(st,{label:"Payment Reference",fullWidth:!0,value:I,onChange:ue=>N(ue.target.value),placeholder:"Enter payment reference or transaction ID"}),t.jsx(st,{label:C==="reject"?"Rejection Reason":"Notes",fullWidth:!0,multiline:!0,rows:3,value:E,onChange:ue=>T(ue.target.value),placeholder:C==="reject"?"Explain why this expense order is being rejected...":"Add any additional notes...",required:C==="reject"})]})}),t.jsxs(ln,{children:[t.jsx(ge,{onClick:()=>D(!1),children:"Cancel"}),t.jsxs(ge,{onClick:Ee,variant:"contained",color:C==="approve"?"success":C==="reject"?"error":"primary",disabled:C==="reject"&&!E.trim(),children:[C==="approve"&&"Approve",C==="reject"&&"Reject",C==="payment"&&"Process Payment"]})]})]})]})},Q9=()=>{const e=["pending","processing","completed","failed"],n=["news","poll"],r=["USD","EUR","GBP"];return Array.from({length:25},(s,o)=>({id:`payout_${o+1}`,fund_id:`fund_${o+1}`,channel_id:`channel_${o+1}`,channel_name:`Channel ${o+1}`,content_type:n[Math.floor(Math.random()*n.length)],content_id:`content_${o+1}`,content_title:`Content Title ${o+1}`,amount:Math.floor(Math.random()*1e4)+100,currency:r[Math.floor(Math.random()*r.length)],recipient_id:`user_${o+1}`,recipient_name:`Creator ${o+1}`,status:e[Math.floor(Math.random()*e.length)],transaction_id:Math.random()>.5?`txn_${Date.now()}_${o}`:void 0,created_at:new Date(Date.now()-Math.random()*30*24*60*60*1e3).toISOString(),processed_at:Math.random()>.5?new Date(Date.now()-Math.random()*10*24*60*60*1e3).toISOString():void 0,error_message:Math.random()>.8?"Payment method verification failed":void 0}))},Z9=()=>{const[e,n]=g.useState([]),[r,s]=g.useState(0),[o,a]=g.useState(!1),[c,d]=g.useState(null),[u,h]=g.useState([]),[p,x]=g.useState(!1),[b,y]=g.useState(!1),[m,w]=g.useState(null),[j,D]=g.useState(""),[C,R]=g.useState(0),[E,T]=g.useState(25),[I,N]=g.useState(""),[O,$]=g.useState(""),[B,H]=g.useState(""),[k,ne]=g.useState("created_at"),[K,q]=g.useState("desc"),te=async()=>{a(!0),d(null);try{let xe=Q9();I&&(xe=xe.filter(G=>G.channel_name.toLowerCase().includes(I.toLowerCase())||G.content_title.toLowerCase().includes(I.toLowerCase())||G.recipient_name.toLowerCase().includes(I.toLowerCase()))),O&&(xe=xe.filter(G=>G.status===O)),B&&(xe=xe.filter(G=>G.content_type===B)),xe.sort((G,fe)=>{const me=G[k]||"",ue=fe[k]||"",Re=me>ue?1:-1;return K==="asc"?Re:-Re});const oe=C*E,Y=xe.slice(oe,oe+E);n(Y),s(xe.length)}catch{d("Failed to fetch payouts")}finally{a(!1)}};g.useEffect(()=>{te()},[C,E,I,O,B,k,K]);const ie=L=>{w(L),x(!0)},se=L=>{w(L),y(!0),D("")},ae=async()=>{if(m)try{await new Promise(L=>setTimeout(L,1e3)),y(!1),w(null),D(""),te()}catch{d("Failed to process payout")}},V=L=>{switch(L){case"pending":return"warning";case"processing":return"info";case"completed":return"success";case"failed":return"error";default:return"default"}},X=(L,xe)=>new Intl.NumberFormat("en-US",{style:"currency",currency:xe||"USD"}).format(L/100),we=[{id:"content_title",label:"Content",minWidth:200,sortable:!0,format:(L,xe)=>t.jsxs(P,{children:[t.jsx(v,{variant:"body2",fontWeight:"medium",noWrap:!0,children:L}),t.jsxs(he,{direction:"row",spacing:1,alignItems:"center",children:[t.jsx(Ze,{label:xe.content_type,size:"small",variant:"outlined",sx:{height:16,"& .MuiChip-label":{fontSize:"0.6rem",px:.5}}}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["ID: ",xe.id]})]})]})},{id:"channel_name",label:"Channel",minWidth:120,format:L=>t.jsx(v,{variant:"body2",noWrap:!0,children:L})},{id:"recipient_name",label:"Recipient",minWidth:120,format:L=>t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(jn,{sx:{width:24,height:24},children:L==null?void 0:L[0]}),t.jsx(v,{variant:"body2",noWrap:!0,children:L})]})},{id:"amount",label:"Amount",minWidth:100,align:"right",sortable:!0,format:(L,xe)=>t.jsx(v,{variant:"body2",fontWeight:"medium",children:X(L,xe.currency)})},{id:"status",label:"Status",minWidth:120,sortable:!0,format:(L,xe)=>t.jsxs(he,{spacing:.5,children:[t.jsx(Ze,{label:L,color:V(L),size:"small",sx:{textTransform:"capitalize"}}),xe.error_message&&t.jsx(pt,{title:xe.error_message,children:t.jsx(DE,{color:"error",sx:{fontSize:16}})})]})},{id:"transaction_id",label:"Transaction ID",minWidth:150,format:L=>t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:L||"-"})},{id:"created_at",label:"Created",minWidth:120,sortable:!0,format:L=>t.jsx(v,{variant:"body2",children:new Date(L).toLocaleDateString()})},{id:"processed_at",label:"Processed",minWidth:120,sortable:!0,format:L=>t.jsx(v,{variant:"body2",children:L?new Date(L).toLocaleDateString():"-"})}],ce=[{value:"pending",label:"Pending"},{value:"processing",label:"Processing"},{value:"completed",label:"Completed"},{value:"failed",label:"Failed"}],Ee=[{value:"news",label:"News"},{value:"poll",label:"Poll"}],de=t.jsxs(he,{direction:"row",spacing:1,children:[t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Status"}),t.jsxs(wt,{value:O,label:"Status",onChange:L=>$(L.target.value),children:[t.jsx(Se,{value:"",children:"All Status"}),ce.map(L=>t.jsx(Se,{value:L.value,children:L.label},L.value))]})]}),t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Content Type"}),t.jsxs(wt,{value:B,label:"Content Type",onChange:L=>H(L.target.value),children:[t.jsx(Se,{value:"",children:"All Types"}),Ee.map(L=>t.jsx(Se,{value:L.value,children:L.label},L.value))]})]})]}),re=L=>t.jsxs(he,{direction:"row",spacing:.5,children:[t.jsx(pt,{title:"View Details",children:t.jsx($e,{size:"small",onClick:xe=>{xe.stopPropagation(),ie(L)},children:t.jsx(js,{fontSize:"small"})})}),L.status==="pending"&&t.jsx(pt,{title:"Process Payout",children:t.jsx($e,{size:"small",onClick:xe=>{xe.stopPropagation(),se(L)},children:t.jsx(TE,{fontSize:"small",color:"primary"})})}),L.transaction_id&&t.jsx(pt,{title:"View Transaction",children:t.jsx($e,{size:"small",onClick:xe=>{xe.stopPropagation()},children:t.jsx(Ns,{fontSize:"small"})})})]});return t.jsxs(P,{children:[t.jsx(po,{title:"Payout Management",columns:we,rows:e,totalCount:r,loading:o,error:c,selected:u,onSelectionChange:h,onRefresh:te,onSearch:N,onSort:(L,xe)=>{ne(L),q(xe)},onPageChange:R,onRowsPerPageChange:T,page:C,rowsPerPage:E,searchQuery:I,sortColumn:k,sortDirection:K,filters:de,rowActions:re,actions:t.jsx(ge,{variant:"outlined",startIcon:t.jsx(qr,{}),onClick:()=>{},children:"Statistics"})}),t.jsxs(on,{open:p,onClose:()=>x(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(pn,{children:"Payout Details"}),t.jsx(an,{children:m&&t.jsxs(he,{spacing:3,sx:{pt:1},children:[t.jsx(ke,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Content Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Title"}),t.jsx(v,{variant:"body2",children:m.content_title})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Type"}),t.jsx(Ze,{label:m.content_type,size:"small"})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Channel"}),t.jsx(v,{variant:"body2",children:m.channel_name})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Content ID"}),t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:m.content_id})]})]})]})}),t.jsx(ke,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Payout Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Recipient"}),t.jsx(v,{variant:"body2",children:m.recipient_name})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Amount"}),t.jsx(v,{variant:"body2",fontWeight:"medium",children:X(m.amount,m.currency)})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Status"}),t.jsx(Ze,{label:m.status,color:V(m.status),size:"small",sx:{textTransform:"capitalize"}})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Transaction ID"}),t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:m.transaction_id||"Not processed"})]})]})]})}),m.error_message&&t.jsx(ct,{severity:"error",children:t.jsx(v,{variant:"body2",children:m.error_message})}),t.jsx(ke,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Timeline"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(v,{variant:"body2",children:new Date(m.created_at).toLocaleString()})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Processed"}),t.jsx(v,{variant:"body2",children:m.processed_at?new Date(m.processed_at).toLocaleString():"Not processed"})]})]})]})})]})}),t.jsx(ln,{children:t.jsx(ge,{onClick:()=>x(!1),children:"Close"})})]}),t.jsxs(on,{open:b,onClose:()=>y(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(pn,{children:"Process Payout"}),t.jsx(an,{children:t.jsxs(he,{spacing:2,sx:{pt:1},children:[m&&t.jsxs(ct,{severity:"info",children:["Processing payout of ",X(m.amount,m.currency)," to ",m.recipient_name]}),t.jsx(st,{label:"Processing Notes",fullWidth:!0,multiline:!0,rows:3,value:j,onChange:L=>D(L.target.value),placeholder:"Add any notes about this payout processing..."})]})}),t.jsxs(ln,{children:[t.jsx(ge,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(ge,{onClick:ae,variant:"contained",color:"primary",startIcon:t.jsx(Oa,{}),children:"Process Payout"})]})]})]})},e8=()=>{const{api:e}=Je(),{execute:n}=et(),[r,s]=g.useState([]),[o,a]=g.useState(0),[c,d]=g.useState(!1),[u,h]=g.useState(null),[p,x]=g.useState([]),[b,y]=g.useState(!1),[m,w]=g.useState(!1),[j,D]=g.useState(null),[C,R]=g.useState(null),[E,T]=g.useState(""),[I,N]=g.useState(0),[O,$]=g.useState(25),[B,H]=g.useState(""),[k,ne]=g.useState(""),[K]=g.useState(""),[q,te]=g.useState("created_at"),[ie,se]=g.useState("desc"),ae=g.useCallback(async()=>{var Y;d(!0),h(null);try{const G={};B&&(G.search=B),k&&(G.status=k),K&&(G.channel_id=K);const fe=await n(()=>e.subscriptionApi.getAllSubscriptions({page:I+1,limit:O},G),{showErrorToast:!1});fe&&(s(fe.items||[]),a(((Y=fe.metadata)==null?void 0:Y.total)||0))}catch{h("Failed to fetch subscriptions")}finally{d(!1)}},[I,O,B,k,K,e.subscriptionApi,n]);g.useEffect(()=>{ae()},[ae]);const V=Y=>{D(Y),y(!0)},X=(Y,G)=>{D(Y),R(G),w(!0),T("")},we=async()=>{if(!(!j||!C))try{const Y=C==="activate"?"active":C==="suspend"?"suspended":"canceled";await n(()=>e.subscriptionApi.updateSubscriptionStatus(j.id,Y,E)),w(!1),D(null),R(null),T(""),ae()}catch{h(`Failed to ${C} subscription`)}},ce=async()=>{try{const Y=k==="cancelled"?"canceled":k,G=await n(()=>e.subscriptionApi.exportSubscriptions({status:Y,channel_id:K},"csv"));if(G){const fe=window.URL.createObjectURL(G),me=document.createElement("a");me.href=fe,me.download=`subscriptions-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(me),me.click(),window.URL.revokeObjectURL(fe),document.body.removeChild(me)}}catch{h("Failed to export subscriptions")}},Ee=(Y,G)=>new Intl.NumberFormat("en-US",{style:"currency",currency:G||"USD"}).format(Y),de=Y=>new Date(Y).toLocaleDateString(),re=[{id:"user",label:"User",minWidth:180,format:(Y,G)=>{var fe,me;return t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(jn,{sx:{width:32,height:32},children:((fe=G.user.display_name)==null?void 0:fe[0])||((me=G.user.email)==null?void 0:me[0])}),t.jsxs(P,{children:[t.jsx(v,{variant:"body2",fontWeight:"medium",noWrap:!0,children:G.user.display_name}),t.jsx(v,{variant:"caption",color:"text.secondary",noWrap:!0,children:G.user.email})]})]})}},{id:"channel",label:"Channel",minWidth:120,format:(Y,G)=>t.jsx(v,{variant:"body2",noWrap:!0,children:G.channel.name})},{id:"tier",label:"Tier",minWidth:150,format:(Y,G)=>t.jsxs(P,{children:[t.jsx(v,{variant:"body2",fontWeight:"medium",noWrap:!0,children:G.tier.name}),t.jsx(v,{variant:"caption",color:"text.secondary",children:Ee(G.tier.price,G.tier.currency)})]})},{id:"status",label:"Status",minWidth:100,sortable:!0,format:(Y,G)=>t.jsx(Ze,{label:vc(G.statusId),color:jc(G.statusId),size:"small",sx:{textTransform:"capitalize"}})},{id:"started_at",label:"Started",minWidth:120,sortable:!0,format:Y=>t.jsx(v,{variant:"body2",children:de(Y)})},{id:"expires_at",label:"Expires",minWidth:120,sortable:!0,format:Y=>t.jsx(v,{variant:"body2",children:Y?de(Y):"Never"})},{id:"created_at",label:"Created",minWidth:120,sortable:!0,format:Y=>t.jsx(v,{variant:"body2",children:de(Y)})}],L=P5,xe=t.jsx(he,{direction:"row",spacing:1,children:t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Status"}),t.jsxs(wt,{value:k,label:"Status",onChange:Y=>ne(Y.target.value),children:[t.jsx(Se,{value:"",children:"All Status"}),L.map(Y=>t.jsx(Se,{value:Y.value,children:Y.label},Y.value))]})]})}),oe=Y=>t.jsxs(he,{direction:"row",spacing:.5,children:[t.jsx(pt,{title:"View Details",children:t.jsx($e,{size:"small",onClick:G=>{G.stopPropagation(),V(Y)},children:t.jsx(js,{fontSize:"small"})})}),Y.statusId===fn.SUSPENDED&&t.jsx(pt,{title:"Activate",children:t.jsx($e,{size:"small",onClick:G=>{G.stopPropagation(),X(Y,"activate")},children:t.jsx(Ma,{fontSize:"small",color:"success"})})}),Y.statusId===fn.ACTIVE&&t.jsx(pt,{title:"Suspend",children:t.jsx($e,{size:"small",onClick:G=>{G.stopPropagation(),X(Y,"suspend")},children:t.jsx(Jy,{fontSize:"small",color:"warning"})})}),Y.statusId!==fn.CANCELLED&&t.jsx(pt,{title:"Cancel",children:t.jsx($e,{size:"small",onClick:G=>{G.stopPropagation(),X(Y,"cancel")},children:t.jsx(io,{fontSize:"small",color:"error"})})})]});return t.jsxs(P,{children:[t.jsx(po,{title:"Subscription Management",columns:re,rows:r,totalCount:o,loading:c,error:u,selected:p,onSelectionChange:x,onRefresh:ae,onSearch:H,onSort:(Y,G)=>{te(Y),se(G)},onPageChange:N,onRowsPerPageChange:$,page:I,rowsPerPage:O,searchQuery:B,sortColumn:q,sortDirection:ie,filters:xe,rowActions:oe,actions:t.jsxs(he,{direction:"row",spacing:1,children:[t.jsx(ge,{variant:"outlined",startIcon:t.jsx(qr,{}),onClick:()=>{},children:"Analytics"}),t.jsx(ge,{variant:"outlined",startIcon:t.jsx(Xy,{}),onClick:ce,children:"Export"})]})}),t.jsxs(on,{open:b,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(pn,{children:"Subscription Details"}),t.jsx(an,{children:j&&t.jsxs(he,{spacing:3,sx:{pt:1},children:[t.jsx(ke,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"User Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Name"}),t.jsx(v,{variant:"body2",children:j.user.display_name})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Email"}),t.jsx(v,{variant:"body2",children:j.user.email})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"User ID"}),t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:j.user.id})]})]})]})}),t.jsx(ke,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Subscription Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Channel"}),t.jsx(v,{variant:"body2",children:j.channel.name})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Tier"}),t.jsx(v,{variant:"body2",children:j.tier.name})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Price"}),t.jsx(v,{variant:"body2",fontWeight:"medium",children:Ee(j.tier.price,j.tier.currency)})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Status"}),t.jsx(Ze,{label:vc(j.statusId),color:jc(j.statusId),size:"small",sx:{textTransform:"capitalize"}})]})]})]})}),t.jsx(ke,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Timeline"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Started"}),t.jsx(v,{variant:"body2",children:de(j.startedAt)})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Expires"}),t.jsx(v,{variant:"body2",children:j.expiresAt?de(j.expiresAt):"Never"})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(v,{variant:"body2",children:de(j.createdAt)})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Updated"}),t.jsx(v,{variant:"body2",children:de(j.updatedAt)})]})]})]})}),t.jsx(ke,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"System Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Subscription ID"}),t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:j.id})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Channel ID"}),t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:j.channel.id})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Tier ID"}),t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:j.tier.id})]})]})]})})]})}),t.jsx(ln,{children:t.jsx(ge,{onClick:()=>y(!1),children:"Close"})})]}),t.jsxs(on,{open:m,onClose:()=>w(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsxs(pn,{children:[C==="activate"&&"Activate Subscription",C==="suspend"&&"Suspend Subscription",C==="cancel"&&"Cancel Subscription"]}),t.jsx(an,{children:t.jsxs(he,{spacing:2,sx:{pt:1},children:[j&&t.jsxs(ct,{severity:C==="activate"?"info":"warning",children:[C==="activate"&&`Activating subscription for ${j.user.display_name}`,C==="suspend"&&`Suspending subscription for ${j.user.display_name}`,C==="cancel"&&`Canceling subscription for ${j.user.display_name}`]}),t.jsx(st,{label:"Reason",fullWidth:!0,multiline:!0,rows:3,value:E,onChange:Y=>T(Y.target.value),placeholder:`Explain why this subscription is being ${C}d...`,required:C!=="activate"})]})}),t.jsxs(ln,{children:[t.jsx(ge,{onClick:()=>w(!1),children:"Cancel"}),t.jsxs(ge,{onClick:we,variant:"contained",color:C==="activate"?"success":C==="suspend"?"warning":"error",disabled:(C==="suspend"||C==="cancel")&&!E.trim(),children:[C==="activate"&&"Activate",C==="suspend"&&"Suspend",C==="cancel"&&"Cancel"]})]})]})]})},t8=()=>{const{api:e}=Je(),{execute:n}=et(),[r,s]=g.useState([]),[o,a]=g.useState(0),[c,d]=g.useState(!1),[u,h]=g.useState(null),[p,x]=g.useState([]),[b,y]=g.useState(!1),[m,w]=g.useState(null),[j,D]=g.useState(0),[C,R]=g.useState(25),[E,T]=g.useState(""),[I,N]=g.useState(""),[O,$]=g.useState(""),[B,H]=g.useState("created_at"),[k,ne]=g.useState("desc"),K=async()=>{var L;d(!0),h(null);try{const xe={page:j+1,limit:C,sort:B,order:k,search:E||void 0,status:I||void 0,role:O||void 0},oe=await n(()=>e.userApi.getAll(xe),{showErrorToast:!1});oe&&(s(oe.items||[]),a(((L=oe.metadata)==null?void 0:L.total)||0))}catch{h("Failed to fetch users")}finally{d(!1)}};g.useEffect(()=>{K()},[j,C,E,I,O,B,k]);const q=L=>{w(L),y(!0)},te=async L=>{const xe=L.map(oe=>oe.id);try{await Promise.all(xe.map(oe=>n(()=>e.userApi.delete(oe)))),x([]),K()}catch{h("Failed to delete users")}},ie=async L=>{if(m)try{await n(()=>e.userApi.update(m.id,L)),y(!1),w(null),K()}catch{h("Failed to update user")}},se=L=>{switch(L){case An.SUPER_ADMIN:return"error";case An.ADMIN:return"error";case An.MODERATOR:return"warning";case An.JOURNALIST:return"primary";case An.EDITOR:return"info";case An.EVALUATOR:return"secondary";case An.FINANCE_MANAGER:return"success";case An.REGULAR_USER:return"default";case An.GUEST:return"default";default:return"default"}},ae=L=>{const xe=Object.entries(An).find(([,oe])=>oe===L);return xe?xe[0].replace(/_/g," ").toLowerCase().replace(/\b\w/g,oe=>oe.toUpperCase()):"Unknown"},V=L=>{switch(L){case Ir.ACTIVE:return"success";case Ir.INACTIVE:return"default";case Ir.PENDING:return"warning";case Ir.BLOCKED:return"error";case Ir.SUSPENDED:return"warning";case Ir.BANNED:return"error";case Ir.DELETED:return"secondary";case Ir.NOT_VERIFIED:return"info";default:return"default"}},X=L=>{const xe=Object.entries(Ir).find(([,oe])=>oe===L);return xe?xe[0].replace(/_/g," ").toLowerCase().replace(/\b\w/g,oe=>oe.toUpperCase()):"Unknown"},we=[{id:"displayName",label:"User",minWidth:200,sortable:!0,format:(L,xe)=>{var oe;return t.jsxs(P,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(jn,{src:xe.photoUrl,sx:{width:40,height:40},children:(L==null?void 0:L[0])||((oe=xe.email)==null?void 0:oe[0])}),t.jsxs(P,{children:[t.jsx(v,{variant:"body2",fontWeight:"medium",noWrap:!0,children:L}),t.jsx(v,{variant:"caption",color:"text.secondary",noWrap:!0,children:xe.email})]})]})}},{id:"roleId",label:"Role",minWidth:120,sortable:!0,format:L=>t.jsx(Ze,{label:ae(L),color:se(L),size:"small",icon:L===An.SUPER_ADMIN||L===An.ADMIN?t.jsx(IE,{fontSize:"small"}):L===An.JOURNALIST||L===An.EDITOR?t.jsx(Uy,{fontSize:"small"}):t.jsx(Vh,{fontSize:"small"})})},{id:"statusId",label:"Status",minWidth:120,sortable:!0,format:L=>t.jsx(Ze,{label:X(L),color:V(L),size:"small"})},{id:"lastLogin",label:"Last Login",minWidth:120,sortable:!0,format:L=>t.jsx(v,{variant:"body2",children:L?new Date(L).toLocaleDateString():"Never"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:L=>t.jsx(v,{variant:"body2",children:new Date(L).toLocaleDateString()})},{id:"updatedAt",label:"Updated",minWidth:120,sortable:!0,format:L=>t.jsx(v,{variant:"body2",children:new Date(L).toLocaleDateString()})}],ce=Object.entries(Ir).map(([L,xe])=>({value:xe,label:L.replace(/_/g," ").toLowerCase().replace(/\b\w/g,oe=>oe.toUpperCase())})),Ee=Object.entries(An).map(([L,xe])=>({value:xe,label:L.replace(/_/g," ").toLowerCase().replace(/\b\w/g,oe=>oe.toUpperCase())})),de=t.jsxs(he,{direction:"row",spacing:1,children:[t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Status"}),t.jsxs(wt,{value:I,label:"Status",onChange:L=>N(L.target.value),children:[t.jsx(Se,{value:"",children:"All Status"}),ce.map(L=>t.jsx(Se,{value:L.value,children:L.label},L.value))]})]}),t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Role"}),t.jsxs(wt,{value:O,label:"Role",onChange:L=>$(L.target.value),children:[t.jsx(Se,{value:"",children:"All Roles"}),Ee.map(L=>t.jsx(Se,{value:L.value,children:L.label},L.value))]})]})]}),re=L=>t.jsxs(he,{direction:"row",spacing:.5,children:[t.jsx(pt,{title:"View/Edit",children:t.jsx($e,{size:"small",onClick:xe=>{xe.stopPropagation(),q(L)},children:t.jsx(js,{fontSize:"small"})})}),L.statusId===Ir.ACTIVE&&t.jsx(pt,{title:"Block User",children:t.jsx($e,{size:"small",onClick:xe=>{xe.stopPropagation()},children:t.jsx(Jy,{fontSize:"small",color:"warning"})})}),(L.statusId===Ir.BLOCKED||L.statusId===Ir.SUSPENDED)&&t.jsx(pt,{title:"Activate User",children:t.jsx($e,{size:"small",onClick:xe=>{xe.stopPropagation()},children:t.jsx(Ma,{fontSize:"small",color:"success"})})})]});return t.jsxs(P,{children:[t.jsx(po,{title:"User Management",columns:we,rows:r,totalCount:o,loading:c,error:u,selected:p,onSelectionChange:x,onEdit:q,onDelete:te,onRefresh:K,onSearch:T,onSort:(L,xe)=>{H(L),ne(xe)},onPageChange:D,onRowsPerPageChange:R,page:j,rowsPerPage:C,searchQuery:E,sortColumn:B,sortDirection:k,filters:de,rowActions:re}),t.jsxs(on,{open:b,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(pn,{children:"Edit User"}),t.jsx(an,{children:m&&t.jsxs(he,{spacing:3,sx:{pt:1},children:[t.jsx(ke,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"User Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(st,{label:"Display Name",fullWidth:!0,defaultValue:m.displayName,onChange:L=>w({...m,displayName:L.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(st,{label:"Email",fullWidth:!0,defaultValue:m.email,onChange:L=>w({...m,email:L.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(st,{label:"Photo URL",fullWidth:!0,defaultValue:m.photoUrl,onChange:L=>w({...m,photoUrl:L.target.value})})})]})]})}),t.jsx(ke,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Role & Status"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsxs(bt,{fullWidth:!0,children:[t.jsx(Tt,{children:"Role"}),t.jsx(wt,{value:m.roleId,label:"Role",onChange:L=>w({...m,roleId:L.target.value}),children:Ee.map(L=>t.jsx(Se,{value:L.value,children:L.label},L.value))})]})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsxs(bt,{fullWidth:!0,children:[t.jsx(Tt,{children:"Status"}),t.jsx(wt,{value:m.statusId,label:"Status",onChange:L=>w({...m,statusId:L.target.value}),children:ce.map(L=>t.jsx(Se,{value:L.value,children:L.label},L.value))})]})})]})]})}),t.jsx(ke,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"System Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"User ID"}),t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:m.id})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"External ID"}),t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:m.externalId})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(v,{variant:"body2",children:new Date(m.createdAt).toLocaleString()})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Last Login"}),t.jsx(v,{variant:"body2",children:m.lastLogin?new Date(m.lastLogin).toLocaleString():"Never"})]})]})]})}),m.channelSubscriptions&&m.channelSubscriptions.length>0&&t.jsx(ke,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsxs(v,{variant:"h6",gutterBottom:!0,children:["Channel Subscriptions (",m.channelSubscriptions.length,")"]}),t.jsxs(he,{spacing:1,children:[m.channelSubscriptions.slice(0,5).map((L,xe)=>{var oe;return t.jsxs(P,{sx:{p:1,border:1,borderColor:"divider",borderRadius:1},children:[t.jsx(v,{variant:"body2",fontWeight:"medium",children:((oe=L.channel)==null?void 0:oe.name)||"Unknown Channel"}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Status: ",L.status,"  Started: ",new Date(L.subscribedAt).toLocaleDateString()]})]},xe)}),m.channelSubscriptions.length>5&&t.jsxs(v,{variant:"caption",color:"text.secondary",children:["And ",m.channelSubscriptions.length-5," more..."]})]})]})})]})}),t.jsxs(ln,{children:[t.jsx(ge,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(ge,{onClick:()=>ie(m),variant:"contained",children:"Save Changes"})]})]})]})},n8=()=>{var Ye,Me,Ne;const{api:e}=Je(),{execute:n}=et(),[r,s]=g.useState([]),[o,a]=g.useState(0),[c,d]=g.useState(!1),[u,h]=g.useState(null),[p,x]=g.useState([]),[b,y]=g.useState(!1),[m,w]=g.useState(null),[j,D]=g.useState(!1),[C,R]=g.useState(null),[E,T]=g.useState(0),[I,N]=g.useState(25),[O,$]=g.useState(""),[B,H]=g.useState(""),[k,ne]=g.useState(""),[K,q]=g.useState(""),[te,ie]=g.useState(""),[se,ae]=g.useState("created_at"),[V,X]=g.useState("desc"),we=async()=>{var J;d(!0),h(null);try{const be={};O&&(be.search=O),B&&(be.status=B),k&&(be.type=k),K==="true"&&(be.verified=!0),te==="true"&&(be.trending=!0);const Qe=await n(()=>e.tagApi.getTags(be,{page:E+1,limit:I}),{showErrorToast:!1});Qe&&(s(Qe.items||[]),a(((J=Qe.metadata)==null?void 0:J.total)||0))}catch{h("Failed to fetch tags")}finally{d(!1)}};g.useEffect(()=>{we()},[E,I,O,B,k,K,te,se,V]);const ce=J=>{w(J),y(!0)},Ee=async J=>{const be=J.map(Qe=>Qe.id);try{await Promise.all(be.map(Qe=>n(()=>e.tagApi.deleteTag(Qe)))),x([]),we()}catch{h("Failed to delete tags")}},de=(J,be)=>{w(J),R(be),D(!0)},re=async()=>{if(!(!m||!C))try{C==="approve"?await n(()=>e.tagApi.approveTag(m.id)):await n(()=>e.tagApi.rejectTag(m.id)),D(!1),w(null),R(null),we()}catch{h(`Failed to ${C} tag`)}},L=async J=>{if(m)try{await n(()=>e.tagApi.updateTag(m.id,J)),y(!1),w(null),we()}catch{h("Failed to update tag")}},xe=J=>{switch(J){case 1:return"warning";case 2:return"success";case 3:return"error";case 4:return"default";default:return"default"}},oe=J=>{switch(J){case 1:return"Pending";case 2:return"Approved";case 3:return"Rejected";case 4:return"Inactive";default:return"Unknown"}},Y=J=>{switch(J){case 1:return"primary";case 2:return"secondary";case 3:return"info";case 4:return"success";default:return"default"}},G=J=>{switch(J){case 1:return"News";case 2:return"Poll";case 3:return"Channel";case 4:return"General";default:return"Unknown"}},fe=[{id:"name",label:"Tag",minWidth:180,sortable:!0,format:(J,be)=>t.jsxs(P,{children:[t.jsxs(he,{direction:"row",alignItems:"center",spacing:1,children:[t.jsx(Hh,{fontSize:"small",color:"action"}),t.jsx(v,{variant:"body2",fontWeight:"medium",children:J}),be.isVerified&&t.jsx(EE,{fontSize:"small",color:"primary"}),be.isTrending&&t.jsx(qr,{fontSize:"small",color:"warning"})]}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["@",be.slug,"  ID: ",be.id]})]})},{id:"typeId",label:"Type",minWidth:100,sortable:!0,format:J=>t.jsx(Ze,{label:G(J),color:Y(J),size:"small"})},{id:"statusId",label:"Status",minWidth:100,sortable:!0,format:J=>t.jsx(Ze,{label:oe(J),color:xe(J),size:"small"})},{id:"analytics",label:"Analytics",minWidth:150,format:(J,be)=>{var Qe,vt,nn,Lt,At,qt;return t.jsxs(he,{spacing:.5,children:[t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Views: ",((vt=(Qe=be.analytics)==null?void 0:Qe.viewCount)==null?void 0:vt.toLocaleString())||"0"]}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Usage: ",((Lt=(nn=be.analytics)==null?void 0:nn.usageCount)==null?void 0:Lt.toLocaleString())||"0"]}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Searches: ",((qt=(At=be.analytics)==null?void 0:At.searchCount)==null?void 0:qt.toLocaleString())||"0"]})]})}},{id:"createdBy",label:"Created By",minWidth:120,format:J=>t.jsx(v,{variant:"body2",children:J||"System"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:J=>t.jsx(v,{variant:"body2",children:new Date(J).toLocaleDateString()})},{id:"approvedAt",label:"Approved",minWidth:120,sortable:!0,format:J=>t.jsx(v,{variant:"body2",children:J?new Date(J).toLocaleDateString():"-"})}],me=[{value:1,label:"Pending"},{value:2,label:"Approved"},{value:3,label:"Rejected"},{value:4,label:"Inactive"}],ue=[{value:1,label:"News"},{value:2,label:"Poll"},{value:3,label:"Channel"},{value:4,label:"General"}],Re=t.jsxs(he,{direction:"row",spacing:1,children:[t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Status"}),t.jsxs(wt,{value:B,label:"Status",onChange:J=>H(J.target.value),children:[t.jsx(Se,{value:"",children:"All Status"}),me.map(J=>t.jsx(Se,{value:J.value,children:J.label},J.value))]})]}),t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Type"}),t.jsxs(wt,{value:k,label:"Type",onChange:J=>ne(J.target.value),children:[t.jsx(Se,{value:"",children:"All Types"}),ue.map(J=>t.jsx(Se,{value:J.value,children:J.label},J.value))]})]}),t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Verified"}),t.jsxs(wt,{value:K,label:"Verified",onChange:J=>q(J.target.value),children:[t.jsx(Se,{value:"",children:"All"}),t.jsx(Se,{value:"true",children:"Verified Only"}),t.jsx(Se,{value:"false",children:"Not Verified"})]})]}),t.jsxs(bt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Trending"}),t.jsxs(wt,{value:te,label:"Trending",onChange:J=>ie(J.target.value),children:[t.jsx(Se,{value:"",children:"All"}),t.jsx(Se,{value:"true",children:"Trending Only"}),t.jsx(Se,{value:"false",children:"Not Trending"})]})]})]}),De=J=>t.jsxs(he,{direction:"row",spacing:.5,children:[t.jsx(pt,{title:"View Details",children:t.jsx($e,{size:"small",onClick:be=>{be.stopPropagation(),ce(J)},children:t.jsx(js,{fontSize:"small"})})}),t.jsx(pt,{title:"Edit",children:t.jsx($e,{size:"small",onClick:be=>{be.stopPropagation(),ce(J)},children:t.jsx(ls,{fontSize:"small"})})}),J.statusId===1&&t.jsxs(t.Fragment,{children:[t.jsx(pt,{title:"Approve",children:t.jsx($e,{size:"small",onClick:be=>{be.stopPropagation(),de(J,"approve")},children:t.jsx(Ma,{fontSize:"small",color:"success"})})}),t.jsx(pt,{title:"Reject",children:t.jsx($e,{size:"small",onClick:be=>{be.stopPropagation(),de(J,"reject")},children:t.jsx(io,{fontSize:"small",color:"error"})})})]}),t.jsx(pt,{title:"View Analytics",children:t.jsx($e,{size:"small",onClick:be=>{be.stopPropagation()},children:t.jsx(ss,{fontSize:"small",color:"info"})})})]});return t.jsxs(P,{children:[t.jsx(po,{title:"Tag Management",columns:fe,rows:r,totalCount:o,loading:c,error:u,selected:p,onSelectionChange:x,onEdit:ce,onDelete:Ee,onRefresh:we,onSearch:$,onSort:(J,be)=>{ae(J),X(be)},onPageChange:T,onRowsPerPageChange:N,page:E,rowsPerPage:I,searchQuery:O,sortColumn:se,sortDirection:V,filters:Re,rowActions:De,actions:t.jsx(ge,{variant:"outlined",startIcon:t.jsx(_a,{}),onClick:()=>{},children:"Suggestions"})}),t.jsxs(on,{open:b,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(pn,{children:"Edit Tag"}),t.jsx(an,{children:m&&t.jsxs(he,{spacing:3,sx:{pt:1},children:[t.jsx(ke,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Tag Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(st,{label:"Tag Name",fullWidth:!0,defaultValue:m.name,onChange:J=>w({...m,name:J.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(st,{label:"Slug",fullWidth:!0,defaultValue:m.slug,onChange:J=>w({...m,slug:J.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsxs(bt,{fullWidth:!0,children:[t.jsx(Tt,{children:"Type"}),t.jsx(wt,{value:m.typeId,label:"Type",onChange:J=>w({...m,typeId:J.target.value}),children:ue.map(J=>t.jsx(Se,{value:J.value,children:J.label},J.value))})]})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsxs(bt,{fullWidth:!0,children:[t.jsx(Tt,{children:"Status"}),t.jsx(wt,{value:m.statusId,label:"Status",onChange:J=>w({...m,statusId:J.target.value}),children:me.map(J=>t.jsx(Se,{value:J.value,children:J.label},J.value))})]})})]})]})}),t.jsx(ke,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Tag Properties"}),t.jsxs(he,{spacing:2,children:[t.jsx(Mo,{control:t.jsx(sc,{checked:m.isVerified,onChange:J=>w({...m,isVerified:J.target.checked})}),label:"Verified Tag"}),t.jsx(Mo,{control:t.jsx(sc,{checked:m.isTrending,onChange:J=>w({...m,isTrending:J.target.checked})}),label:"Trending Tag"})]})]})}),m.analytics&&t.jsx(ke,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Analytics"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:4,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"View Count"}),t.jsx(v,{variant:"h6",children:((Ye=m.analytics.viewCount)==null?void 0:Ye.toLocaleString())||"0"})]}),t.jsxs(F,{item:!0,xs:12,sm:4,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Usage Count"}),t.jsx(v,{variant:"h6",children:((Me=m.analytics.usageCount)==null?void 0:Me.toLocaleString())||"0"})]}),t.jsxs(F,{item:!0,xs:12,sm:4,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Search Count"}),t.jsx(v,{variant:"h6",children:((Ne=m.analytics.searchCount)==null?void 0:Ne.toLocaleString())||"0"})]})]}),m.analytics.lastTrendingAt&&t.jsxs(ct,{severity:"info",sx:{mt:2},children:["Last trending: ",new Date(m.analytics.lastTrendingAt).toLocaleString()]})]})}),t.jsx(ke,{variant:"outlined",children:t.jsxs(Fe,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"System Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Tag ID"}),t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:m.id})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Created By"}),t.jsx(v,{variant:"body2",children:m.createdBy||"System"})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(v,{variant:"body2",children:new Date(m.createdAt).toLocaleString()})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Approved"}),t.jsx(v,{variant:"body2",children:m.approvedAt?`${new Date(m.approvedAt).toLocaleString()} by ${m.approvedBy||"System"}`:"Not approved"})]})]})]})})]})}),t.jsxs(ln,{children:[t.jsx(ge,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(ge,{onClick:()=>L(m),variant:"contained",children:"Save Changes"})]})]}),t.jsxs(on,{open:j,onClose:()=>D(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsxs(pn,{children:[C==="approve"&&"Approve Tag",C==="reject"&&"Reject Tag"]}),t.jsx(an,{children:t.jsxs(he,{spacing:2,sx:{pt:1},children:[m&&t.jsxs(ct,{severity:C==="approve"?"success":"warning",children:[C==="approve"&&`Approving tag "${m.name}"`,C==="reject"&&`Rejecting tag "${m.name}"`]}),t.jsx(v,{variant:"body2",color:"text.secondary",children:C==="approve"?"This tag will be made available for use across the platform.":"This tag will be rejected and won't be available for use."})]})}),t.jsxs(ln,{children:[t.jsx(ge,{onClick:()=>D(!1),children:"Cancel"}),t.jsxs(ge,{onClick:re,variant:"contained",color:C==="approve"?"success":"error",children:[C==="approve"&&"Approve",C==="reject"&&"Reject"]})]})]})]})},r8=()=>{const{isLoading:e,error:n}=zc();return e?t.jsx(f0,{}):n?t.jsx(h$,{error:n}):t.jsxs(VE,{children:[t.jsx(He,{path:je.HOME,element:t.jsx(GO,{})}),t.jsx(He,{path:je.LOGIN,element:t.jsx(BO,{})}),t.jsx(He,{path:je.SIGNUP,element:t.jsx(UO,{})}),t.jsx(He,{path:je.POST_SIGNUP,element:t.jsx(zO,{})}),t.jsxs(He,{path:`${je.APP_ROOT}/*`,element:t.jsx(Vu,{children:t.jsx(J_,{})}),children:[t.jsxs(He,{path:`${Ln.ROOT}/*`,children:[t.jsx(He,{path:Ln.SUBPATHS.TRENDING,element:t.jsx(vh,{filters:{trending:!0}},"trending")}),t.jsx(He,{path:Ln.SUBPATHS.MY_FEED,element:t.jsx(vh,{filters:{feed:!0}},"feed")}),t.jsx(He,{path:`${Ln.VIEW}`,element:t.jsx(kM,{})})]}),t.jsxs(He,{path:`${pr.ROOT}/*`,children:[t.jsx(He,{index:!0,element:t.jsx(HM,{})}),t.jsx(He,{path:`${pr.VIEW}`,element:t.jsx(r5,{})})]}),t.jsxs(He,{path:`${ir.ROOT}/*`,children:[t.jsx(He,{index:!0,element:t.jsx(s5,{})}),t.jsx(He,{path:`${ir.VIEW}`,element:t.jsx(x5,{})})]}),t.jsx(He,{path:`${eo.ROOT}/*`,children:t.jsx(He,{index:!0,element:t.jsx(I5,{})})}),t.jsxs(He,{path:`${xr.ROOT}/*`,children:[t.jsx(He,{index:!0,element:t.jsx(R5,{})}),t.jsx(He,{path:`${xr.VIEW}`,element:t.jsx(_5,{})})]}),t.jsx(He,{path:hc.ROOT,element:t.jsx(Pb,{})})]}),t.jsxs(He,{path:`${je.STUDIO_ROOT}/*`,element:t.jsx(Vu,{children:t.jsx(AO,{})}),children:[t.jsxs(He,{path:`${Ln.ROOT}/*`,children:[t.jsx(He,{index:!0,element:t.jsx(s$,{})}),t.jsx(He,{path:`${Ln.CREATE}`,element:t.jsx(z5,{})}),t.jsx(He,{path:`${Ln.EDIT}/:id`,element:t.jsx(H5,{})}),t.jsx(He,{path:`${Ln.VIEW}`,element:t.jsx(G5,{})})]}),t.jsxs(He,{path:`${pr.ROOT}/*`,children:[t.jsx(He,{index:!0,element:t.jsx(i$,{})}),t.jsx(He,{path:`${pr.CREATE}`,element:t.jsx(a$,{})}),t.jsx(He,{path:`${pr.VIEW}`,element:t.jsx(u$,{})}),t.jsx(He,{path:`${pr.EDIT}/:id`,element:t.jsx(GB,{})})]}),t.jsxs(He,{path:`${ir.ROOT}/*`,children:[t.jsx(He,{index:!0,element:t.jsx(KB,{})}),t.jsx(He,{path:`${ir.CREATE}`,element:t.jsx(I9,{})}),t.jsx(He,{path:`${ir.EDIT}/:id`,element:t.jsx(E9,{})}),t.jsx(He,{path:`${ir.VIEW}`,element:t.jsx(k9,{})})]}),t.jsxs(He,{path:`${xr.ROOT}/*`,children:[t.jsx(He,{index:!0,element:t.jsx(L9,{})}),t.jsx(He,{path:`${xr.CREATE}`,element:t.jsx($9,{})}),t.jsx(He,{path:`${xr.EDIT}/:id`,element:t.jsx(F9,{})}),t.jsx(He,{path:`${xr.VIEW}`,element:t.jsx(W9,{})})]}),t.jsx(He,{path:hc.ROOT,element:t.jsx(Pb,{})})]}),t.jsxs(He,{path:`${je.ADMIN_ROOT}/*`,element:t.jsx(Vu,{children:t.jsx(kO,{})}),children:[t.jsx(He,{index:!0,element:t.jsx(Ny,{})}),t.jsx(He,{path:_t.DASHBOARD,element:t.jsx(Ny,{})}),t.jsx(He,{path:_t.NEWS,element:t.jsx(q9,{})}),t.jsx(He,{path:_t.POLLS,element:t.jsx(K9,{})}),t.jsx(He,{path:_t.CHANNELS,element:t.jsx(X9,{})}),t.jsx(He,{path:_t.EXPENSE_ORDERS,element:t.jsx(J9,{})}),t.jsx(He,{path:_t.PAYOUTS,element:t.jsx(Z9,{})}),t.jsx(He,{path:_t.TAGS,element:t.jsx(n8,{})}),t.jsx(He,{path:_t.USERS,element:t.jsx(t8,{})}),t.jsxs(He,{path:`${_t.SUBSCRIPTIONS}/*`,children:[t.jsx(He,{index:!0,element:t.jsx(e8,{})}),t.jsx(He,{path:ui.MANAGEMENT,element:t.jsx(U9,{})}),t.jsx(He,{path:ui.ANALYTICS,element:t.jsx(z9,{})}),t.jsx(He,{path:ui.REVENUE,element:t.jsx(H9,{})})]}),t.jsx(He,{path:_t.ANALYTICS,element:t.jsx(Y9,{})}),t.jsx(He,{path:_t.SETTINGS,element:t.jsx(G9,{})}),t.jsx(He,{path:"users",element:t.jsx(B9,{})}),t.jsx(He,{path:"channels",element:t.jsx(V9,{})})]}),t.jsx(He,{path:"*",element:t.jsx(l$,{})})]})},s8={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},o8={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",dayOfMonthFull:"do",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class i8{constructor(n){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib=void 0,this.locale=void 0,this.formats=void 0,this.formatTokenMap=s8,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=c=>typeof c>"u"?new Date:c===null?null:new Date(c),this.getInvalidDate=()=>new Date("Invalid Date"),this.getTimezone=()=>"default",this.setTimezone=c=>c,this.toJsDate=c=>c,this.getCurrentLocaleCode=()=>this.locale.code,this.is12HourCycleInCurrentLocale=()=>/a/.test(this.locale.formatLong.time({width:"short"})),this.expandFormat=c=>{const d=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return c.match(d).map(u=>{const h=u[0];if(h==="p"||h==="P"){const p=this.longFormatters[h];return p(u,this.locale.formatLong)}return u}).join("")},this.formatNumber=c=>c,this.getDayOfWeek=c=>c.getDay()+1;const{locale:r,formats:s,longFormatters:o,lib:a}=n;this.locale=r,this.formats=U({},o8,s),this.longFormatters=o,this.lib=a||"date-fns"}}class a8 extends i8{constructor({locale:n,formats:r}={}){super({locale:n??ed,formats:r,longFormatters:bc}),this.parse=(s,o)=>s===""?null:AL(s,o,new Date,{locale:this.locale}),this.isValid=s=>s==null?!1:Zv(s),this.format=(s,o)=>this.formatByString(s,this.formats[o]),this.formatByString=(s,o)=>op(s,o,{locale:this.locale}),this.isEqual=(s,o)=>s===null&&o===null?!0:s===null||o===null?!1:kN(s,o),this.isSameYear=(s,o)=>ML(s,o),this.isSameMonth=(s,o)=>OL(s,o),this.isSameDay=(s,o)=>Ck(s,o),this.isSameHour=(s,o)=>_L(s,o),this.isAfter=(s,o)=>zu(s,o),this.isAfterYear=(s,o)=>zu(s,xb(o)),this.isAfterDay=(s,o)=>zu(s,jh(o)),this.isBefore=(s,o)=>Hu(s,o),this.isBeforeYear=(s,o)=>Hu(s,this.startOfYear(o)),this.isBeforeDay=(s,o)=>Hu(s,this.startOfDay(o)),this.isWithinRange=(s,[o,a])=>kL(s,{start:o,end:a}),this.startOfYear=s=>t0(s),this.startOfMonth=s=>_k(s),this.startOfWeek=s=>Ls(s,{locale:this.locale}),this.startOfDay=s=>va(s),this.endOfYear=s=>xb(s),this.endOfMonth=s=>e0(s),this.endOfWeek=s=>Ok(s,{locale:this.locale}),this.endOfDay=s=>jh(s),this.addYears=(s,o)=>wk(s,o),this.addMonths=(s,o)=>Xv(s,o),this.addWeeks=(s,o)=>jk(s,o),this.addDays=(s,o)=>Zc(s,o),this.addHours=(s,o)=>xk(s,o),this.addMinutes=(s,o)=>yk(s,o),this.addSeconds=(s,o)=>vk(s,o),this.getYear=s=>MN(s),this.getMonth=s=>_N(s),this.getDate=s=>DN(s),this.getHours=s=>IN(s),this.getMinutes=s=>RN(s),this.getSeconds=s=>ON(s),this.getMilliseconds=s=>AN(s),this.setYear=(s,o)=>VL(s,o),this.setMonth=(s,o)=>NL(s,o),this.setDate=(s,o)=>LL(s,o),this.setHours=(s,o)=>$L(s,o),this.setMinutes=(s,o)=>WL(s,o),this.setSeconds=(s,o)=>BL(s,o),this.setMilliseconds=(s,o)=>FL(s,o),this.getDaysInMonth=s=>i0(s),this.getWeekArray=s=>{const o=this.startOfWeek(this.startOfMonth(s)),a=this.endOfWeek(this.endOfMonth(s));let c=0,d=o;const u=[];for(;this.isBefore(d,a);){const h=Math.floor(c/7);u[h]=u[h]||[],u[h].push(d),d=this.addDays(d,1),c+=1}return u},this.getWeekNumber=s=>sp(s,{locale:this.locale}),this.getYearRange=([s,o])=>{const a=this.startOfYear(s),c=this.endOfYear(o),d=[];let u=a;for(;this.isBefore(u,c);)d.push(u),u=this.addYears(u,1);return d}}}document.title="Meta Journo v1.1.0";ch.createRoot(document.getElementById("root")).render(t.jsx(Ft.StrictMode,{children:t.jsx(UE,{children:t.jsx(D_,{children:t.jsx(t_,{children:t.jsx(n_,{children:t.jsx(zM,{children:t.jsx(cO,{children:t.jsx(o_,{children:t.jsx(Vj,{dateAdapter:a8,children:t.jsx(r8,{})})})})})})})})})}));
