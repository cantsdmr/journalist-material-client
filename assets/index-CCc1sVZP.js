var GA=Object.defineProperty;var YA=(e,n,r)=>n in e?GA(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r;var Te=(e,n,r)=>(YA(e,typeof n!="symbol"?n+"":n,r),r);import{d as Wf,r as x,j as t,e as qA,u as KA,i as Ke,S as Pv,A as dt,B as C,L as mr,f as or,h as qt,k as Wt,D as Mt,T as j,l as Sn,c as Ti,s as Me,m as ot,n as JA,o as nt,I as os,p as Ne,q as pl,C as XA,t as ys,U as Vf,v as Uf,N as ra,w as QA,R as Tt,x as cn,y as ZA,z as ml,E as sa,F as he,G as sn,H as Sd,J as Zs,M as Ro,K as je,O as Ev,Q as eR,V as tR,W as Qe,X as of,Y as nR,Z as Iv,_ as zf,$ as Io,a0 as eo,a1 as za,a2 as Hf,a3 as Ha,a4 as ms,a5 as Oc,a6 as It,a7 as wd,a8 as rR,a9 as sR,aa as oR,ab as F,ac as Fe,ad as Ve,ae as pe,af as ue,ag as aR,ah as iR,ai as lR,aj as cR,ak as dR,al as uR,am as hR,an as fR,ao as af,ap as Ga,aq as Dv,ar as Mc,as as Nc,at as Lc,au as Gf,av as $c,aw as to,ax as St,ay as Ls,az as pR,aA as Kt,aB as tn,aC as Jt,aD as Xt,aE as de,aF as $s,aG as Mn,aH as vs,aI as Ns,aJ as Yf,aK as Fc,aL as Tv,aM as lf,aN as mR,aO as qf,aP as xR,aQ as Ms,aR as Av,aS as gR,aT as ht,aU as bR,aV as yR,aW as Do,aX as uy,aY as vR,aZ as jR,a_ as Rv,a$ as Ya,b0 as SR,b1 as Cd,b2 as To,b3 as kv,b4 as wR,b5 as CR,b6 as Ct,b7 as xt,b8 as PR,b9 as Ph,ba as ER,bb as IR,bc as DR,bd as TR,be as _v,bf as AR,bg as ai,bh as RR,bi as U,bj as kR,bk as _R,bl as OR,P as re,b as MR,a as nn,bm as at,bn as Gt,bo as ko,bp as Fs,bq as Ov,br as NR,bs as Mv,bt as ro,bu as Nv,bv as LR,bw as Lv,bx as Pd,by as $R,bz as FR,bA as BR,bB as WR,bC as hy,bD as VR,bE as UR,bF as Bc,bG as $v,bH as Kf,bI as Jf,bJ as Xf,bK as wo,bL as vt,bM as Wc,bN as Qf,bO as zR,bP as HR,bQ as GR,bR as YR,bS as qR,bT as KR,bU as JR,bV as Fv,bW as XR,bX as QR,bY as ZR,bZ as ek}from"./vendor-mui-D4ATHO1M.js";import{o as tk,s as nk,a as rk,c as sk,b as ok,r as Vc,_ as Uc,C as zc,d as Zf,E as Bv,F as ak,e as ep,g as tp,f as ik,v as lk,i as ck,h as dk,j as Eh,k as uk,l as hk,G as fk,T as pk,m as mk,O as xk}from"./vendor-firebase-DMTI5dsU.js";import{u as da,L as Qn,a as Pt,O as np,N as fy,b as Wv,c as is,R as gk,d as qe,B as bk}from"./vendor-core-CW8ljA0_.js";import{T as yk,v as vk,G as jk,f as Sk,m as wk,d as Ck,s as Pk,a as Ek,P as Ik,I as Dk,F as Tk,i as Ak,n as Rk}from"./vendor-editor-D13Gvn5f.js";import{i as kk,R as zi,L as Vv,C as Hc,X as Gc,Y as Yc,T as Hi,a as qc,b as La,P as _k,c as Ok,d as Mk,B as Uv,e as Kc}from"./vendor-charts-D8eb3OYz.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();var cf={},py=Wf;cf.createRoot=py.createRoot,cf.hydrateRoot=py.hydrateRoot;const Ge={HOME:"/",APP:"/app",STUDIO:"/studio",AUTH:"/auth",ADMIN:"/admin"},_n={ROOT:"news",SUBPATHS:{TRENDING:"trending",MY_FEED:"feed",DISCOVER:"discover"},CREATE:"create",EDIT:"edit",VIEW:":id"},Sr={ROOT:"channels",CREATE:"create",EDIT:"edit",VIEW:":id"},pr={ROOT:"polls",CREATE:"create",EDIT:"edit",VIEW:":id"},fs={ROOT:"account",PROFILE:"profile",PAYMENT_METHODS:"payment-methods",SUBSCRIPTIONS:"subscriptions",SETTINGS:"settings"},wr={ROOT:"expense-orders",CREATE:"create",EDIT:"edit",VIEW:":id"},Jc={ROOT:"search"},zv={ROOT:"bookmarks"},_t={ROOT:"admin",DASHBOARD:"dashboard",USERS:"users",CHANNELS:"channels",NEWS:"news",POLLS:"polls",EXPENSE_ORDERS:"expense-orders",PAYOUTS:"payouts",TAGS:"tags",SUBSCRIPTIONS:"subscriptions",ANALYTICS:"analytics",SETTINGS:"settings"},$a={ROOT:"subscriptions",MANAGEMENT:"management",ANALYTICS:"analytics",REVENUE:"revenue"},xc={ROOT:"users",LIST:"list",VIEW:":id",EDIT:":id/edit",ROLES:"roles"},gc={ROOT:"channels",LIST:"list",VIEW:":id",EDIT:":id/edit",ANALYTICS:"analytics"},Ye="/journalist-material-client/".replace(/\/$/,""),ge={HOME:`${Ye}${Ge.HOME}`,LOGIN:`${Ye}${Ge.AUTH}/login`,SIGNUP:`${Ye}${Ge.AUTH}/signup`,POST_SIGNUP:`${Ye}${Ge.AUTH}/welcome`,APP_ROOT:`${Ye}${Ge.APP}`,APP_NEWS:`${Ye}${Ge.APP}/${_n.ROOT}`,APP_NEWS_TRENDING:`${Ye}${Ge.APP}/${_n.ROOT}/trending`,APP_NEWS_MY_FEED:`${Ye}${Ge.APP}/${_n.ROOT}/feed`,APP_NEWS_DISCOVER:`${Ye}${Ge.APP}/${_n.ROOT}/discover`,APP_NEWS_VIEW:`${Ye}${Ge.APP}/${_n.ROOT}/:id`,APP_CHANNELS:`${Ye}${Ge.APP}/${Sr.ROOT}`,APP_CHANNEL_VIEW:`${Ye}${Ge.APP}/${Sr.ROOT}/:channelId`,APP_POLL_LIST:`${Ye}${Ge.APP}/${pr.ROOT}`,APP_POLL_VIEW:`${Ye}${Ge.APP}/${pr.ROOT}/:id`,APP_EXPLORE:`${Ye}${Ge.APP}/explore`,APP_SUBSCRIPTIONS:`${Ye}${Ge.APP}/subscriptions`,APP_POLLS:`${Ye}${Ge.APP}/${pr.ROOT}`,APP_SEARCH:`${Ye}${Ge.APP}/${Jc.ROOT}`,APP_BOOKMARKS:`${Ye}${Ge.APP}/${zv.ROOT}`,APP_ACCOUNT:`${Ye}${Ge.APP}/${fs.ROOT}`,APP_ACCOUNT_PROFILE:`${Ye}${Ge.APP}/${fs.ROOT}/${fs.PROFILE}`,APP_ACCOUNT_PAYMENT_METHODS:`${Ye}${Ge.APP}/${fs.ROOT}/${fs.PAYMENT_METHODS}`,APP_ACCOUNT_SUBSCRIPTIONS:`${Ye}${Ge.APP}/${fs.ROOT}/${fs.SUBSCRIPTIONS}`,APP_ACCOUNT_SETTINGS:`${Ye}${Ge.APP}/${fs.ROOT}/${fs.SETTINGS}`,APP_EXPENSE_ORDERS:`${Ye}${Ge.APP}/${wr.ROOT}`,APP_EXPENSE_ORDER_VIEW:`${Ye}${Ge.APP}/${wr.ROOT}/:id`,STUDIO_ROOT:`${Ye}${Ge.STUDIO}`,STUDIO_NEWS:`${Ye}${Ge.STUDIO}/${_n.ROOT}`,STUDIO_NEWS_CREATE:`${Ye}${Ge.STUDIO}/${_n.ROOT}/${_n.CREATE}`,STUDIO_NEWS_EDIT:`${Ye}${Ge.STUDIO}/${_n.ROOT}/${_n.EDIT}/:id`,STUDIO_NEWS_VIEW:`${Ye}${Ge.STUDIO}/${_n.ROOT}/:id`,STUDIO_CHANNELS:`${Ye}${Ge.STUDIO}/${Sr.ROOT}`,STUDIO_CHANNEL_CREATE:`${Ye}${Ge.STUDIO}/${Sr.ROOT}/${Sr.CREATE}`,STUDIO_CHANNEL_EDIT:`${Ye}${Ge.STUDIO}/${Sr.ROOT}/${Sr.EDIT}/:channelId`,STUDIO_CHANNEL_VIEW:`${Ye}${Ge.STUDIO}/${Sr.ROOT}/:channelId`,STUDIO_POLLS:`${Ye}${Ge.STUDIO}/${pr.ROOT}`,STUDIO_POLL_CREATE:`${Ye}${Ge.STUDIO}/${pr.ROOT}/${pr.CREATE}`,STUDIO_POLL_EDIT:`${Ye}${Ge.STUDIO}/${pr.ROOT}/${pr.EDIT}/:id`,STUDIO_POLL_VIEW:`${Ye}${Ge.STUDIO}/${pr.ROOT}/:id`,STUDIO_SEARCH:`${Ye}${Ge.STUDIO}/${Jc.ROOT}`,STUDIO_EXPENSE_ORDERS:`${Ye}${Ge.STUDIO}/${wr.ROOT}`,STUDIO_EXPENSE_ORDER_CREATE:`${Ye}${Ge.STUDIO}/${wr.ROOT}/${wr.CREATE}`,STUDIO_EXPENSE_ORDER_EDIT:`${Ye}${Ge.STUDIO}/${wr.ROOT}/${wr.EDIT}/:id`,STUDIO_EXPENSE_ORDER_VIEW:`${Ye}${Ge.STUDIO}/${wr.ROOT}/:id`,ADMIN_ROOT:`${Ye}${Ge.ADMIN}`,ADMIN_DASHBOARD:`${Ye}${Ge.ADMIN}/${_t.DASHBOARD}`,ADMIN_USERS:`${Ye}${Ge.ADMIN}/${_t.USERS}`,ADMIN_USER_LIST:`${Ye}${Ge.ADMIN}/${_t.USERS}/${xc.LIST}`,ADMIN_USER_VIEW:`${Ye}${Ge.ADMIN}/${_t.USERS}/${xc.VIEW}`,ADMIN_USER_EDIT:`${Ye}${Ge.ADMIN}/${_t.USERS}/${xc.EDIT}`,ADMIN_USER_ROLES:`${Ye}${Ge.ADMIN}/${_t.USERS}/${xc.ROLES}`,ADMIN_CHANNELS:`${Ye}${Ge.ADMIN}/${_t.CHANNELS}`,ADMIN_CHANNEL_LIST:`${Ye}${Ge.ADMIN}/${_t.CHANNELS}/${gc.LIST}`,ADMIN_CHANNEL_VIEW:`${Ye}${Ge.ADMIN}/${_t.CHANNELS}/${gc.VIEW}`,ADMIN_CHANNEL_EDIT:`${Ye}${Ge.ADMIN}/${_t.CHANNELS}/${gc.EDIT}`,ADMIN_CHANNEL_ANALYTICS:`${Ye}${Ge.ADMIN}/${_t.CHANNELS}/${gc.ANALYTICS}`,ADMIN_NEWS:`${Ye}${Ge.ADMIN}/${_t.NEWS}`,ADMIN_POLLS:`${Ye}${Ge.ADMIN}/${_t.POLLS}`,ADMIN_EXPENSE_ORDERS:`${Ye}${Ge.ADMIN}/${_t.EXPENSE_ORDERS}`,ADMIN_PAYOUTS:`${Ye}${Ge.ADMIN}/${_t.PAYOUTS}`,ADMIN_TAGS:`${Ye}${Ge.ADMIN}/${_t.TAGS}`,ADMIN_SUBSCRIPTIONS:`${Ye}${Ge.ADMIN}/${_t.SUBSCRIPTIONS}`,ADMIN_SUBSCRIPTION_MANAGEMENT:`${Ye}${Ge.ADMIN}/${_t.SUBSCRIPTIONS}/${$a.MANAGEMENT}`,ADMIN_SUBSCRIPTION_ANALYTICS:`${Ye}${Ge.ADMIN}/${_t.SUBSCRIPTIONS}/${$a.ANALYTICS}`,ADMIN_SUBSCRIPTION_REVENUE:`${Ye}${Ge.ADMIN}/${_t.SUBSCRIPTIONS}/${$a.REVENUE}`,ADMIN_ANALYTICS:`${Ye}${Ge.ADMIN}/${_t.ANALYTICS}`,ADMIN_SETTINGS:`${Ye}${Ge.ADMIN}/${_t.SETTINGS}`};function Hv(e,n){return function(){return e.apply(n,arguments)}}const{toString:Nk}=Object.prototype,{getPrototypeOf:rp}=Object,Ed=(e=>n=>{const r=Nk.call(n);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ss=e=>(e=e.toLowerCase(),n=>Ed(n)===e),Id=e=>n=>typeof n===e,{isArray:ii}=Array,Ji=Id("undefined");function Lk(e){return e!==null&&!Ji(e)&&e.constructor!==null&&!Ji(e.constructor)&&rs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Gv=Ss("ArrayBuffer");function $k(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&Gv(e.buffer),n}const Fk=Id("string"),rs=Id("function"),Yv=Id("number"),Dd=e=>e!==null&&typeof e=="object",Bk=e=>e===!0||e===!1,Ic=e=>{if(Ed(e)!=="object")return!1;const n=rp(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Wk=Ss("Date"),Vk=Ss("File"),Uk=Ss("Blob"),zk=Ss("FileList"),Hk=e=>Dd(e)&&rs(e.pipe),Gk=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||rs(e.append)&&((n=Ed(e))==="formdata"||n==="object"&&rs(e.toString)&&e.toString()==="[object FormData]"))},Yk=Ss("URLSearchParams"),[qk,Kk,Jk,Xk]=["ReadableStream","Request","Response","Headers"].map(Ss),Qk=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xl(e,n,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,o;if(typeof e!="object"&&(e=[e]),ii(e))for(s=0,o=e.length;s<o;s++)n.call(null,e[s],s,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let d;for(s=0;s<l;s++)d=i[s],n.call(null,e[d],d,e)}}function qv(e,n){n=n.toLowerCase();const r=Object.keys(e);let s=r.length,o;for(;s-- >0;)if(o=r[s],n===o.toLowerCase())return o;return null}const Kv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Jv=e=>!Ji(e)&&e!==Kv;function df(){const{caseless:e}=Jv(this)&&this||{},n={},r=(s,o)=>{const i=e&&qv(n,o)||o;Ic(n[i])&&Ic(s)?n[i]=df(n[i],s):Ic(s)?n[i]=df({},s):ii(s)?n[i]=s.slice():n[i]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&xl(arguments[s],r);return n}const Zk=(e,n,r,{allOwnKeys:s}={})=>(xl(n,(o,i)=>{r&&rs(o)?e[i]=Hv(o,r):e[i]=o},{allOwnKeys:s}),e),e_=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),t_=(e,n,r,s)=>{e.prototype=Object.create(n.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),r&&Object.assign(e.prototype,r)},n_=(e,n,r,s)=>{let o,i,l;const d={};if(n=n||{},e==null)return n;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)l=o[i],(!s||s(l,e,n))&&!d[l]&&(n[l]=e[l],d[l]=!0);e=r!==!1&&rp(e)}while(e&&(!r||r(e,n))&&e!==Object.prototype);return n},r_=(e,n,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=n.length;const s=e.indexOf(n,r);return s!==-1&&s===r},s_=e=>{if(!e)return null;if(ii(e))return e;let n=e.length;if(!Yv(n))return null;const r=new Array(n);for(;n-- >0;)r[n]=e[n];return r},o_=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&rp(Uint8Array)),a_=(e,n)=>{const s=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=s.next())&&!o.done;){const i=o.value;n.call(e,i[0],i[1])}},i_=(e,n)=>{let r;const s=[];for(;(r=e.exec(n))!==null;)s.push(r);return s},l_=Ss("HTMLFormElement"),c_=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,o){return s.toUpperCase()+o}),my=(({hasOwnProperty:e})=>(n,r)=>e.call(n,r))(Object.prototype),d_=Ss("RegExp"),Xv=(e,n)=>{const r=Object.getOwnPropertyDescriptors(e),s={};xl(r,(o,i)=>{let l;(l=n(o,i,e))!==!1&&(s[i]=l||o)}),Object.defineProperties(e,s)},u_=e=>{Xv(e,(n,r)=>{if(rs(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(rs(s)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},h_=(e,n)=>{const r={},s=o=>{o.forEach(i=>{r[i]=!0})};return ii(e)?s(e):s(String(e).split(n)),r},f_=()=>{},p_=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n,Ih="abcdefghijklmnopqrstuvwxyz",xy="0123456789",Qv={DIGIT:xy,ALPHA:Ih,ALPHA_DIGIT:Ih+Ih.toUpperCase()+xy},m_=(e=16,n=Qv.ALPHA_DIGIT)=>{let r="";const{length:s}=n;for(;e--;)r+=n[Math.random()*s|0];return r};function x_(e){return!!(e&&rs(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const g_=e=>{const n=new Array(10),r=(s,o)=>{if(Dd(s)){if(n.indexOf(s)>=0)return;if(!("toJSON"in s)){n[o]=s;const i=ii(s)?[]:{};return xl(s,(l,d)=>{const u=r(l,o+1);!Ji(u)&&(i[d]=u)}),n[o]=void 0,i}}return s};return r(e,0)},b_=Ss("AsyncFunction"),y_=e=>e&&(Dd(e)||rs(e))&&rs(e.then)&&rs(e.catch),ve={isArray:ii,isArrayBuffer:Gv,isBuffer:Lk,isFormData:Gk,isArrayBufferView:$k,isString:Fk,isNumber:Yv,isBoolean:Bk,isObject:Dd,isPlainObject:Ic,isReadableStream:qk,isRequest:Kk,isResponse:Jk,isHeaders:Xk,isUndefined:Ji,isDate:Wk,isFile:Vk,isBlob:Uk,isRegExp:d_,isFunction:rs,isStream:Hk,isURLSearchParams:Yk,isTypedArray:o_,isFileList:zk,forEach:xl,merge:df,extend:Zk,trim:Qk,stripBOM:e_,inherits:t_,toFlatObject:n_,kindOf:Ed,kindOfTest:Ss,endsWith:r_,toArray:s_,forEachEntry:a_,matchAll:i_,isHTMLForm:l_,hasOwnProperty:my,hasOwnProp:my,reduceDescriptors:Xv,freezeMethods:u_,toObjectSet:h_,toCamelCase:c_,noop:f_,toFiniteNumber:p_,findKey:qv,global:Kv,isContextDefined:Jv,ALPHABET:Qv,generateString:m_,isSpecCompliantForm:x_,toJSONObject:g_,isAsyncFn:b_,isThenable:y_};function gt(e,n,r,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),r&&(this.config=r),s&&(this.request=s),o&&(this.response=o)}ve.inherits(gt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Zv=gt.prototype,ej={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ej[e]={value:e}});Object.defineProperties(gt,ej);Object.defineProperty(Zv,"isAxiosError",{value:!0});gt.from=(e,n,r,s,o,i)=>{const l=Object.create(Zv);return ve.toFlatObject(e,l,function(u){return u!==Error.prototype},d=>d!=="isAxiosError"),gt.call(l,e.message,n,r,s,o),l.cause=e,l.name=e.name,i&&Object.assign(l,i),l};const v_=null;function uf(e){return ve.isPlainObject(e)||ve.isArray(e)}function tj(e){return ve.endsWith(e,"[]")?e.slice(0,-2):e}function gy(e,n,r){return e?e.concat(n).map(function(o,i){return o=tj(o),!r&&i?"["+o+"]":o}).join(r?".":""):n}function j_(e){return ve.isArray(e)&&!e.some(uf)}const S_=ve.toFlatObject(ve,{},null,function(n){return/^is[A-Z]/.test(n)});function Td(e,n,r){if(!ve.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,r=ve.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,v){return!ve.isUndefined(v[S])});const s=r.metaTokens,o=r.visitor||f,i=r.dots,l=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(n);if(!ve.isFunction(o))throw new TypeError("visitor must be a function");function h(b){if(b===null)return"";if(ve.isDate(b))return b.toISOString();if(!u&&ve.isBlob(b))throw new gt("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(b)||ve.isTypedArray(b)?u&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function f(b,S,v){let E=b;if(b&&!v&&typeof b=="object"){if(ve.endsWith(S,"{}"))S=s?S:S.slice(0,-2),b=JSON.stringify(b);else if(ve.isArray(b)&&j_(b)||(ve.isFileList(b)||ve.endsWith(S,"[]"))&&(E=ve.toArray(b)))return S=tj(S),E.forEach(function(I,D){!(ve.isUndefined(I)||I===null)&&n.append(l===!0?gy([S],D,i):l===null?S:S+"[]",h(I))}),!1}return uf(b)?!0:(n.append(gy(v,S,i),h(b)),!1)}const m=[],g=Object.assign(S_,{defaultVisitor:f,convertValue:h,isVisitable:uf});function y(b,S){if(!ve.isUndefined(b)){if(m.indexOf(b)!==-1)throw Error("Circular reference detected in "+S.join("."));m.push(b),ve.forEach(b,function(E,w){(!(ve.isUndefined(E)||E===null)&&o.call(n,E,ve.isString(w)?w.trim():w,S,g))===!0&&y(E,S?S.concat(w):[w])}),m.pop()}}if(!ve.isObject(e))throw new TypeError("data must be an object");return y(e),n}function by(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return n[s]})}function sp(e,n){this._pairs=[],e&&Td(e,this,n)}const nj=sp.prototype;nj.append=function(n,r){this._pairs.push([n,r])};nj.toString=function(n){const r=n?function(s){return n.call(this,s,by)}:by;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function w_(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function rj(e,n,r){if(!n)return e;const s=r&&r.encode||w_,o=r&&r.serialize;let i;if(o?i=o(n,r):i=ve.isURLSearchParams(n)?n.toString():new sp(n,r).toString(s),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class yy{constructor(){this.handlers=[]}use(n,r,s){return this.handlers.push({fulfilled:n,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){ve.forEach(this.handlers,function(s){s!==null&&n(s)})}}const sj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},C_=typeof URLSearchParams<"u"?URLSearchParams:sp,P_=typeof FormData<"u"?FormData:null,E_=typeof Blob<"u"?Blob:null,I_={isBrowser:!0,classes:{URLSearchParams:C_,FormData:P_,Blob:E_},protocols:["http","https","file","blob","url","data"]},op=typeof window<"u"&&typeof document<"u",D_=(e=>op&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),T_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",A_=op&&window.location.href||"http://localhost",R_=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:op,hasStandardBrowserEnv:D_,hasStandardBrowserWebWorkerEnv:T_,origin:A_},Symbol.toStringTag,{value:"Module"})),bs={...R_,...I_};function k_(e,n){return Td(e,new bs.classes.URLSearchParams,Object.assign({visitor:function(r,s,o,i){return bs.isNode&&ve.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},n))}function __(e){return ve.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function O_(e){const n={},r=Object.keys(e);let s;const o=r.length;let i;for(s=0;s<o;s++)i=r[s],n[i]=e[i];return n}function oj(e){function n(r,s,o,i){let l=r[i++];if(l==="__proto__")return!0;const d=Number.isFinite(+l),u=i>=r.length;return l=!l&&ve.isArray(o)?o.length:l,u?(ve.hasOwnProp(o,l)?o[l]=[o[l],s]:o[l]=s,!d):((!o[l]||!ve.isObject(o[l]))&&(o[l]=[]),n(r,s,o[l],i)&&ve.isArray(o[l])&&(o[l]=O_(o[l])),!d)}if(ve.isFormData(e)&&ve.isFunction(e.entries)){const r={};return ve.forEachEntry(e,(s,o)=>{n(__(s),o,r,0)}),r}return null}function M_(e,n,r){if(ve.isString(e))try{return(n||JSON.parse)(e),ve.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const gl={transitional:sj,adapter:["xhr","http","fetch"],transformRequest:[function(n,r){const s=r.getContentType()||"",o=s.indexOf("application/json")>-1,i=ve.isObject(n);if(i&&ve.isHTMLForm(n)&&(n=new FormData(n)),ve.isFormData(n))return o?JSON.stringify(oj(n)):n;if(ve.isArrayBuffer(n)||ve.isBuffer(n)||ve.isStream(n)||ve.isFile(n)||ve.isBlob(n)||ve.isReadableStream(n))return n;if(ve.isArrayBufferView(n))return n.buffer;if(ve.isURLSearchParams(n))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let d;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return k_(n,this.formSerializer).toString();if((d=ve.isFileList(n))||s.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Td(d?{"files[]":n}:n,u&&new u,this.formSerializer)}}return i||o?(r.setContentType("application/json",!1),M_(n)):n}],transformResponse:[function(n){const r=this.transitional||gl.transitional,s=r&&r.forcedJSONParsing,o=this.responseType==="json";if(ve.isResponse(n)||ve.isReadableStream(n))return n;if(n&&ve.isString(n)&&(s&&!this.responseType||o)){const l=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(n)}catch(d){if(l)throw d.name==="SyntaxError"?gt.from(d,gt.ERR_BAD_RESPONSE,this,null,this.response):d}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bs.classes.FormData,Blob:bs.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ve.forEach(["delete","get","head","post","put","patch"],e=>{gl.headers[e]={}});const N_=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),L_=e=>{const n={};let r,s,o;return e&&e.split(`
`).forEach(function(l){o=l.indexOf(":"),r=l.substring(0,o).trim().toLowerCase(),s=l.substring(o+1).trim(),!(!r||n[r]&&N_[r])&&(r==="set-cookie"?n[r]?n[r].push(s):n[r]=[s]:n[r]=n[r]?n[r]+", "+s:s)}),n},vy=Symbol("internals");function Ai(e){return e&&String(e).trim().toLowerCase()}function Dc(e){return e===!1||e==null?e:ve.isArray(e)?e.map(Dc):String(e)}function $_(e){const n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)n[s[1]]=s[2];return n}const F_=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Dh(e,n,r,s,o){if(ve.isFunction(s))return s.call(this,n,r);if(o&&(n=r),!!ve.isString(n)){if(ve.isString(s))return n.indexOf(s)!==-1;if(ve.isRegExp(s))return s.test(n)}}function B_(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,r,s)=>r.toUpperCase()+s)}function W_(e,n){const r=ve.toCamelCase(" "+n);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(o,i,l){return this[s].call(this,n,o,i,l)},configurable:!0})})}class Er{constructor(n){n&&this.set(n)}set(n,r,s){const o=this;function i(d,u,h){const f=Ai(u);if(!f)throw new Error("header name must be a non-empty string");const m=ve.findKey(o,f);(!m||o[m]===void 0||h===!0||h===void 0&&o[m]!==!1)&&(o[m||u]=Dc(d))}const l=(d,u)=>ve.forEach(d,(h,f)=>i(h,f,u));if(ve.isPlainObject(n)||n instanceof this.constructor)l(n,r);else if(ve.isString(n)&&(n=n.trim())&&!F_(n))l(L_(n),r);else if(ve.isHeaders(n))for(const[d,u]of n.entries())i(u,d,s);else n!=null&&i(r,n,s);return this}get(n,r){if(n=Ai(n),n){const s=ve.findKey(this,n);if(s){const o=this[s];if(!r)return o;if(r===!0)return $_(o);if(ve.isFunction(r))return r.call(this,o,s);if(ve.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,r){if(n=Ai(n),n){const s=ve.findKey(this,n);return!!(s&&this[s]!==void 0&&(!r||Dh(this,this[s],s,r)))}return!1}delete(n,r){const s=this;let o=!1;function i(l){if(l=Ai(l),l){const d=ve.findKey(s,l);d&&(!r||Dh(s,s[d],d,r))&&(delete s[d],o=!0)}}return ve.isArray(n)?n.forEach(i):i(n),o}clear(n){const r=Object.keys(this);let s=r.length,o=!1;for(;s--;){const i=r[s];(!n||Dh(this,this[i],i,n,!0))&&(delete this[i],o=!0)}return o}normalize(n){const r=this,s={};return ve.forEach(this,(o,i)=>{const l=ve.findKey(s,i);if(l){r[l]=Dc(o),delete r[i];return}const d=n?B_(i):String(i).trim();d!==i&&delete r[i],r[d]=Dc(o),s[d]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const r=Object.create(null);return ve.forEach(this,(s,o)=>{s!=null&&s!==!1&&(r[o]=n&&ve.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,r])=>n+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...r){const s=new this(n);return r.forEach(o=>s.set(o)),s}static accessor(n){const s=(this[vy]=this[vy]={accessors:{}}).accessors,o=this.prototype;function i(l){const d=Ai(l);s[d]||(W_(o,l),s[d]=!0)}return ve.isArray(n)?n.forEach(i):i(n),this}}Er.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ve.reduceDescriptors(Er.prototype,({value:e},n)=>{let r=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(s){this[r]=s}}});ve.freezeMethods(Er);function Th(e,n){const r=this||gl,s=n||r,o=Er.from(s.headers);let i=s.data;return ve.forEach(e,function(d){i=d.call(r,i,o.normalize(),n?n.status:void 0)}),o.normalize(),i}function aj(e){return!!(e&&e.__CANCEL__)}function li(e,n,r){gt.call(this,e??"canceled",gt.ERR_CANCELED,n,r),this.name="CanceledError"}ve.inherits(li,gt,{__CANCEL__:!0});function ij(e,n,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):n(new gt("Request failed with status code "+r.status,[gt.ERR_BAD_REQUEST,gt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function V_(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function U_(e,n){e=e||10;const r=new Array(e),s=new Array(e);let o=0,i=0,l;return n=n!==void 0?n:1e3,function(u){const h=Date.now(),f=s[i];l||(l=h),r[o]=u,s[o]=h;let m=i,g=0;for(;m!==o;)g+=r[m++],m=m%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),h-l<n)return;const y=f&&h-f;return y?Math.round(g*1e3/y):void 0}}function z_(e,n){let r=0;const s=1e3/n;let o=null;return function(){const l=this===!0,d=Date.now();if(l||d-r>s)return o&&(clearTimeout(o),o=null),r=d,e.apply(null,arguments);o||(o=setTimeout(()=>(o=null,r=Date.now(),e.apply(null,arguments)),s-(d-r)))}}const Xc=(e,n,r=3)=>{let s=0;const o=U_(50,250);return z_(i=>{const l=i.loaded,d=i.lengthComputable?i.total:void 0,u=l-s,h=o(u),f=l<=d;s=l;const m={loaded:l,total:d,progress:d?l/d:void 0,bytes:u,rate:h||void 0,estimated:h&&d&&f?(d-l)/h:void 0,event:i,lengthComputable:d!=null};m[n?"download":"upload"]=!0,e(m)},r)},H_=bs.hasStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let s;function o(i){let l=i;return n&&(r.setAttribute("href",l),l=r.href),r.setAttribute("href",l),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return s=o(window.location.href),function(l){const d=ve.isString(l)?o(l):l;return d.protocol===s.protocol&&d.host===s.host}}():function(){return function(){return!0}}(),G_=bs.hasStandardBrowserEnv?{write(e,n,r,s,o,i){const l=[e+"="+encodeURIComponent(n)];ve.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),ve.isString(s)&&l.push("path="+s),ve.isString(o)&&l.push("domain="+o),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Y_(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function q_(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function lj(e,n){return e&&!Y_(n)?q_(e,n):n}const jy=e=>e instanceof Er?{...e}:e;function oa(e,n){n=n||{};const r={};function s(h,f,m){return ve.isPlainObject(h)&&ve.isPlainObject(f)?ve.merge.call({caseless:m},h,f):ve.isPlainObject(f)?ve.merge({},f):ve.isArray(f)?f.slice():f}function o(h,f,m){if(ve.isUndefined(f)){if(!ve.isUndefined(h))return s(void 0,h,m)}else return s(h,f,m)}function i(h,f){if(!ve.isUndefined(f))return s(void 0,f)}function l(h,f){if(ve.isUndefined(f)){if(!ve.isUndefined(h))return s(void 0,h)}else return s(void 0,f)}function d(h,f,m){if(m in n)return s(h,f);if(m in e)return s(void 0,h)}const u={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(h,f)=>o(jy(h),jy(f),!0)};return ve.forEach(Object.keys(Object.assign({},e,n)),function(f){const m=u[f]||o,g=m(e[f],n[f],f);ve.isUndefined(g)&&m!==d||(r[f]=g)}),r}const cj=e=>{const n=oa({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:i,headers:l,auth:d}=n;n.headers=l=Er.from(l),n.url=rj(lj(n.baseURL,n.url),e.params,e.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let u;if(ve.isFormData(r)){if(bs.hasStandardBrowserEnv||bs.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((u=l.getContentType())!==!1){const[h,...f]=u?u.split(";").map(m=>m.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...f].join("; "))}}if(bs.hasStandardBrowserEnv&&(s&&ve.isFunction(s)&&(s=s(n)),s||s!==!1&&H_(n.url))){const h=o&&i&&G_.read(i);h&&l.set(o,h)}return n},K_=typeof XMLHttpRequest<"u",J_=K_&&function(e){return new Promise(function(r,s){const o=cj(e);let i=o.data;const l=Er.from(o.headers).normalize();let{responseType:d}=o,u;function h(){o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let f=new XMLHttpRequest;f.open(o.method.toUpperCase(),o.url,!0),f.timeout=o.timeout;function m(){if(!f)return;const y=Er.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),S={data:!d||d==="text"||d==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:y,config:e,request:f};ij(function(E){r(E),h()},function(E){s(E),h()},S),f=null}"onloadend"in f?f.onloadend=m:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(m)},f.onabort=function(){f&&(s(new gt("Request aborted",gt.ECONNABORTED,o,f)),f=null)},f.onerror=function(){s(new gt("Network Error",gt.ERR_NETWORK,o,f)),f=null},f.ontimeout=function(){let b=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const S=o.transitional||sj;o.timeoutErrorMessage&&(b=o.timeoutErrorMessage),s(new gt(b,S.clarifyTimeoutError?gt.ETIMEDOUT:gt.ECONNABORTED,o,f)),f=null},i===void 0&&l.setContentType(null),"setRequestHeader"in f&&ve.forEach(l.toJSON(),function(b,S){f.setRequestHeader(S,b)}),ve.isUndefined(o.withCredentials)||(f.withCredentials=!!o.withCredentials),d&&d!=="json"&&(f.responseType=o.responseType),typeof o.onDownloadProgress=="function"&&f.addEventListener("progress",Xc(o.onDownloadProgress,!0)),typeof o.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",Xc(o.onUploadProgress)),(o.cancelToken||o.signal)&&(u=y=>{f&&(s(!y||y.type?new li(null,e,f):y),f.abort(),f=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const g=V_(o.url);if(g&&bs.protocols.indexOf(g)===-1){s(new gt("Unsupported protocol "+g+":",gt.ERR_BAD_REQUEST,e));return}f.send(i||null)})},X_=(e,n)=>{let r=new AbortController,s;const o=function(u){if(!s){s=!0,l();const h=u instanceof Error?u:this.reason;r.abort(h instanceof gt?h:new li(h instanceof Error?h.message:h))}};let i=n&&setTimeout(()=>{o(new gt(`timeout ${n} of ms exceeded`,gt.ETIMEDOUT))},n);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u&&(u.removeEventListener?u.removeEventListener("abort",o):u.unsubscribe(o))}),e=null)};e.forEach(u=>u&&u.addEventListener&&u.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=l,[d,()=>{i&&clearTimeout(i),i=null}]},Q_=function*(e,n){let r=e.byteLength;if(!n||r<n){yield e;return}let s=0,o;for(;s<r;)o=s+n,yield e.slice(s,o),s=o},Z_=async function*(e,n,r){for await(const s of e)yield*Q_(ArrayBuffer.isView(s)?s:await r(String(s)),n)},Sy=(e,n,r,s,o)=>{const i=Z_(e,n,o);let l=0;return new ReadableStream({type:"bytes",async pull(d){const{done:u,value:h}=await i.next();if(u){d.close(),s();return}let f=h.byteLength;r&&r(l+=f),d.enqueue(new Uint8Array(h))},cancel(d){return s(d),i.return()}},{highWaterMark:2})},wy=(e,n)=>{const r=e!=null;return s=>setTimeout(()=>n({lengthComputable:r,total:e,loaded:s}))},Ad=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",dj=Ad&&typeof ReadableStream=="function",hf=Ad&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),eO=dj&&(()=>{let e=!1;const n=new Request(bs.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n})(),Cy=64*1024,ff=dj&&!!(()=>{try{return ve.isReadableStream(new Response("").body)}catch{}})(),Qc={stream:ff&&(e=>e.body)};Ad&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!Qc[n]&&(Qc[n]=ve.isFunction(e[n])?r=>r[n]():(r,s)=>{throw new gt(`Response type '${n}' is not supported`,gt.ERR_NOT_SUPPORT,s)})})})(new Response);const tO=async e=>{if(e==null)return 0;if(ve.isBlob(e))return e.size;if(ve.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(ve.isArrayBufferView(e))return e.byteLength;if(ve.isURLSearchParams(e)&&(e=e+""),ve.isString(e))return(await hf(e)).byteLength},nO=async(e,n)=>{const r=ve.toFiniteNumber(e.getContentLength());return r??tO(n)},rO=Ad&&(async e=>{let{url:n,method:r,data:s,signal:o,cancelToken:i,timeout:l,onDownloadProgress:d,onUploadProgress:u,responseType:h,headers:f,withCredentials:m="same-origin",fetchOptions:g}=cj(e);h=h?(h+"").toLowerCase():"text";let[y,b]=o||i||l?X_([o,i],l):[],S,v;const E=()=>{!S&&setTimeout(()=>{y&&y.unsubscribe()}),S=!0};let w;try{if(u&&eO&&r!=="get"&&r!=="head"&&(w=await nO(f,s))!==0){let R=new Request(n,{method:"POST",body:s,duplex:"half"}),_;ve.isFormData(s)&&(_=R.headers.get("content-type"))&&f.setContentType(_),R.body&&(s=Sy(R.body,Cy,wy(w,Xc(u)),null,hf))}ve.isString(m)||(m=m?"cors":"omit"),v=new Request(n,{...g,signal:y,method:r.toUpperCase(),headers:f.normalize().toJSON(),body:s,duplex:"half",withCredentials:m});let I=await fetch(v);const D=ff&&(h==="stream"||h==="response");if(ff&&(d||D)){const R={};["status","statusText","headers"].forEach(k=>{R[k]=I[k]});const _=ve.toFiniteNumber(I.headers.get("content-length"));I=new Response(Sy(I.body,Cy,d&&wy(_,Xc(d,!0)),D&&E,hf),R)}h=h||"text";let T=await Qc[ve.findKey(Qc,h)||"text"](I,e);return!D&&E(),b&&b(),await new Promise((R,_)=>{ij(R,_,{data:T,headers:Er.from(I.headers),status:I.status,statusText:I.statusText,config:e,request:v})})}catch(I){throw E(),I&&I.name==="TypeError"&&/fetch/i.test(I.message)?Object.assign(new gt("Network Error",gt.ERR_NETWORK,e,v),{cause:I.cause||I}):gt.from(I,I&&I.code,e,v)}}),pf={http:v_,xhr:J_,fetch:rO};ve.forEach(pf,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const Py=e=>`- ${e}`,sO=e=>ve.isFunction(e)||e===null||e===!1,uj={getAdapter:e=>{e=ve.isArray(e)?e:[e];const{length:n}=e;let r,s;const o={};for(let i=0;i<n;i++){r=e[i];let l;if(s=r,!sO(r)&&(s=pf[(l=String(r)).toLowerCase()],s===void 0))throw new gt(`Unknown adapter '${l}'`);if(s)break;o[l||"#"+i]=s}if(!s){const i=Object.entries(o).map(([d,u])=>`adapter ${d} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?i.length>1?`since :
`+i.map(Py).join(`
`):" "+Py(i[0]):"as no adapter specified";throw new gt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:pf};function Ah(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new li(null,e)}function Ey(e){return Ah(e),e.headers=Er.from(e.headers),e.data=Th.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),uj.getAdapter(e.adapter||gl.adapter)(e).then(function(s){return Ah(e),s.data=Th.call(e,e.transformResponse,s),s.headers=Er.from(s.headers),s},function(s){return aj(s)||(Ah(e),s&&s.response&&(s.response.data=Th.call(e,e.transformResponse,s.response),s.response.headers=Er.from(s.response.headers))),Promise.reject(s)})}const hj="1.7.2",ap={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{ap[e]=function(s){return typeof s===e||"a"+(n<1?"n ":" ")+e}});const Iy={};ap.transitional=function(n,r,s){function o(i,l){return"[Axios v"+hj+"] Transitional option '"+i+"'"+l+(s?". "+s:"")}return(i,l,d)=>{if(n===!1)throw new gt(o(l," has been removed"+(r?" in "+r:"")),gt.ERR_DEPRECATED);return r&&!Iy[l]&&(Iy[l]=!0,console.warn(o(l," has been deprecated since v"+r+" and will be removed in the near future"))),n?n(i,l,d):!0}};function oO(e,n,r){if(typeof e!="object")throw new gt("options must be an object",gt.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let o=s.length;for(;o-- >0;){const i=s[o],l=n[i];if(l){const d=e[i],u=d===void 0||l(d,i,e);if(u!==!0)throw new gt("option "+i+" must be "+u,gt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new gt("Unknown option "+i,gt.ERR_BAD_OPTION)}}const mf={assertOptions:oO,validators:ap},mo=mf.validators;class na{constructor(n){this.defaults=n,this.interceptors={request:new yy,response:new yy}}async request(n,r){try{return await this._request(n,r)}catch(s){if(s instanceof Error){let o;Error.captureStackTrace?Error.captureStackTrace(o={}):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(n,r){typeof n=="string"?(r=r||{},r.url=n):r=n||{},r=oa(this.defaults,r);const{transitional:s,paramsSerializer:o,headers:i}=r;s!==void 0&&mf.assertOptions(s,{silentJSONParsing:mo.transitional(mo.boolean),forcedJSONParsing:mo.transitional(mo.boolean),clarifyTimeoutError:mo.transitional(mo.boolean)},!1),o!=null&&(ve.isFunction(o)?r.paramsSerializer={serialize:o}:mf.assertOptions(o,{encode:mo.function,serialize:mo.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=i&&ve.merge(i.common,i[r.method]);i&&ve.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),r.headers=Er.concat(l,i);const d=[];let u=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(r)===!1||(u=u&&S.synchronous,d.unshift(S.fulfilled,S.rejected))});const h=[];this.interceptors.response.forEach(function(S){h.push(S.fulfilled,S.rejected)});let f,m=0,g;if(!u){const b=[Ey.bind(this),void 0];for(b.unshift.apply(b,d),b.push.apply(b,h),g=b.length,f=Promise.resolve(r);m<g;)f=f.then(b[m++],b[m++]);return f}g=d.length;let y=r;for(m=0;m<g;){const b=d[m++],S=d[m++];try{y=b(y)}catch(v){S.call(this,v);break}}try{f=Ey.call(this,y)}catch(b){return Promise.reject(b)}for(m=0,g=h.length;m<g;)f=f.then(h[m++],h[m++]);return f}getUri(n){n=oa(this.defaults,n);const r=lj(n.baseURL,n.url);return rj(r,n.params,n.paramsSerializer)}}ve.forEach(["delete","get","head","options"],function(n){na.prototype[n]=function(r,s){return this.request(oa(s||{},{method:n,url:r,data:(s||{}).data}))}});ve.forEach(["post","put","patch"],function(n){function r(s){return function(i,l,d){return this.request(oa(d||{},{method:n,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}na.prototype[n]=r(),na.prototype[n+"Form"]=r(!0)});class ip{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const s=this;this.promise.then(o=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](o);s._listeners=null}),this.promise.then=o=>{let i;const l=new Promise(d=>{s.subscribe(d),i=d}).then(o);return l.cancel=function(){s.unsubscribe(i)},l},n(function(i,l,d){s.reason||(s.reason=new li(i,l,d),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const r=this._listeners.indexOf(n);r!==-1&&this._listeners.splice(r,1)}static source(){let n;return{token:new ip(function(o){n=o}),cancel:n}}}function aO(e){return function(r){return e.apply(null,r)}}function iO(e){return ve.isObject(e)&&e.isAxiosError===!0}const xf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xf).forEach(([e,n])=>{xf[n]=e});function fj(e){const n=new na(e),r=Hv(na.prototype.request,n);return ve.extend(r,na.prototype,n,{allOwnKeys:!0}),ve.extend(r,n,null,{allOwnKeys:!0}),r.create=function(o){return fj(oa(e,o))},r}const Ln=fj(gl);Ln.Axios=na;Ln.CanceledError=li;Ln.CancelToken=ip;Ln.isCancel=aj;Ln.VERSION=hj;Ln.toFormData=Td;Ln.AxiosError=gt;Ln.Cancel=Ln.CanceledError;Ln.all=function(n){return Promise.all(n)};Ln.spread=aO;Ln.isAxiosError=iO;Ln.mergeConfig=oa;Ln.AxiosHeaders=Er;Ln.formToJSON=e=>oj(ve.isHTMLForm(e)?new FormData(e):e);Ln.getAdapter=uj.getAdapter;Ln.HttpStatusCode=xf;Ln.default=Ln;const lO="https://journalist-api--journalist-2bf9e.europe-west4.hosted.app/";class cO{constructor(){Te(this,"instance");Te(this,"handleAxiosError",n=>n.response?{status:n.response.status,data:n.response.data}:{status:500,data:"Network Error"});this.instance=Ln.create({baseURL:lO,headers:{"Content-Type":"application/json"}}),this.instance.interceptors.request.use(n=>n,n=>Promise.reject(n)),this.instance.interceptors.response.use(n=>n,n=>Promise.reject(n))}get axiosInstance(){return this.instance}}const $e={page:1,limit:20,order:"desc"};class dn{constructor(n,r){Te(this,"axiosJ");Te(this,"apiPath");Te(this,"_list",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.get(n,{...s,params:r})).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Te(this,"_listAll",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.get(n,{...s,params:r})).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Te(this,"_listWithCursor",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.get(n,{...s,params:r})).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Te(this,"_get",async(n,r)=>{try{return(await this.axiosJ.axiosInstance.get(n,r)).data}catch(s){throw this.axiosJ.handleAxiosError(s)}});Te(this,"_post",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.post(n,r,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Te(this,"_patch",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.patch(n,r,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Te(this,"_put",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.put(n,r,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Te(this,"_remove",async(n,r)=>{try{return(await this.axiosJ.axiosInstance.delete(n,r)).data}catch(s){throw this.axiosJ.handleAxiosError(s)}});this.axiosJ=n,this.apiPath=r}}const Dy="/api/admin";class dO extends dn{constructor(n){super(n,`${Dy}/news`)}async getAllNews(n={},r=$e){const s={...r,...n};return this._list(`${Dy}/news`,s)}}const Ty="/api/admin";class uO extends dn{constructor(n){super(n,`${Ty}/channels`)}async getAllChannels(n={},r=$e){const s={...r,...n};return this._list(`${Ty}/channels`,s)}}const Ay="/api/admin";class hO extends dn{constructor(n){super(n,`${Ay}/polls`)}async getAllPolls(n={},r=$e){const s={...r,...n};return this._list(`${Ay}/polls`,s)}}const Ts="/api/admin";class fO extends dn{constructor(n){super(n,`${Ts}/users`)}async getAllUsers(n={},r=$e){const s={...r,...n};return this._list(`${Ts}/users`,s)}async getUserById(n){return this._get(`${Ts}/users/${n}`)}async registerUser(n){return this._post(`${Ts}/users/register`,n)}async updateUser(n,r){await this._put(`${Ts}/users/${n}`,r)}async updateUserCustomClaims(n,r){await this._put(`${Ts}/users/${n}/custom-claims`,{customClaims:r})}async suspendUser(n,r){await this._post(`${Ts}/users/${n}/suspend`,r)}async unsuspendUser(n,r){await this._post(`${Ts}/users/${n}/unsuspend`,r)}async deleteUser(n){await this._remove(`${Ts}/users/${n}`)}async getUsersByRole(n,r=$e){return this._list(`${Ts}/users/role/${n}`,r)}}const Ks="/api/admin";class pO extends dn{constructor(n){super(n,`${Ks}/payouts`)}async getPayouts(n={},r=$e){const s={...r,...n};return this._list(`${Ks}/payouts`,s)}async getPendingPayouts(n=$e){return this._list(`${Ks}/payouts/pending`,n)}async getFailedPayouts(n=$e){return this._list(`${Ks}/payouts/failed`,n)}async getPayoutStats(n={}){return this._list(`${Ks}/payouts/stats`,n)}async getPayoutById(n){return this._get(`${Ks}/payouts/${n}`)}async processPayout(n,r={}){await this._post(`${Ks}/payouts/${n}/process`,r)}async retryPayout(n,r={}){await this._post(`${Ks}/payouts/${n}/retry`,r)}async cancelPayout(n){await this._post(`${Ks}/payouts/${n}/cancel`,{})}}const Rh="/api/admin";class mO extends dn{constructor(n){super(n,`${Rh}/subscriptions`)}async getSubscriptions(n={},r=$e){const s={...r,...n};return this._list(`${Rh}/subscriptions`,s)}async getSubscriptionById(n){return this._get(`${Rh}/subscriptions/${n}`)}}const Ri="/api/admin";class xO extends dn{constructor(n){super(n,`${Ri}/tags`)}async getTags(n=$e){return this._list(`${Ri}/tags`,n)}async createTag(n){return this._post(`${Ri}/tags`,n)}async updateTag(n,r){await this._put(`${Ri}/tags/${n}`,r)}async deleteTag(n){await this._remove(`${Ri}/tags/${n}`)}}const bc="/api/admin";class gO extends dn{constructor(n){super(n,`${bc}/expense-orders`)}async getAllExpenseOrders(n={},r=$e){const s={...r,...n};return this._list(`${bc}/expense-orders`,s)}async getExpenseOrder(n){return this._get(`${bc}/expense-orders/${n}`)}async updateExpenseOrder(n,r){await this._put(`${bc}/expense-orders/${n}`,r)}}class bO{constructor(n){Te(this,"news");Te(this,"channels");Te(this,"polls");Te(this,"users");Te(this,"payouts");Te(this,"subscriptions");Te(this,"tags");Te(this,"expenseOrders");this.news=new dO(n),this.channels=new uO(n),this.polls=new hO(n),this.users=new fO(n),this.payouts=new pO(n),this.subscriptions=new mO(n),this.tags=new xO(n),this.expenseOrders=new gO(n)}}const rr="/api/channels",As={TIER:"tiers",SUBSCRIPTIONS:"subscriptions"};class yO extends dn{constructor(n){super(n,rr)}async getChannels(n={},r=$e){const s={...r};return n.trending&&(s.trending="true"),n.popular&&(s.popular="true"),n.subscribed&&(s.subscribed="true"),n.followed&&(s.followed="true"),n.verified&&(s.verified="true"),n.creator&&(s.creator=n.creator),n.category&&(s.category=n.category),n.tags&&n.tags.length>0&&(s.tags=n.tags.join(",")),this._list(rr,s)}async getAll(n=$e){return this.getChannels({},n)}async getTrending(n=$e){return this.getChannels({trending:!0},n)}async getPopular(n=$e){return this.getChannels({popular:!0},n)}async getSubscribed(n=$e){return this.getChannels({subscribed:!0},n)}async getFollowed(n=$e){return this.getChannels({followed:!0},n)}async getVerified(n=$e){return this.getChannels({verified:!0},n)}async createChannel(n){return this._post(rr,n)}async getChannel(n){return this._get(`${rr}/${n}`)}async getCreatorChannels(n,r=$e){return this.getChannels({creator:n},r)}async updateChannel(n,r){await this._put(`${rr}/${n}`,r)}async deleteChannel(n){return this._remove(`${rr}/${n}`)}async createTier(n,r){return this._post(`${rr}/${n}/${As.TIER}`,r)}async updateTier(n,r,s){await this._put(`${rr}/${n}/${As.TIER}/${r}`,s)}async updateTiers(n,r){const s=r.map(o=>{const{currency:i,channelId:l,isDefault:d,...u}=o;return u});return this._put(`${rr}/${n}/${As.TIER}`,s)}async getTiers(n){return this._list(`${rr}/${n}/${As.TIER}`)}async getTier(n,r){return this._get(`${rr}/${n}/${As.TIER}/${r}`)}async deleteTier(n,r){return this._remove(`${rr}/${n}/${As.TIER}/${r}`)}async subscribeToChannel(n,r={}){return this._post(`${rr}/${n}/${As.SUBSCRIPTIONS}`,r)}async unsubscribeFromChannel(n){await this._remove(`${rr}/${n}/${As.SUBSCRIPTIONS}`)}async getChannelSubscribers(n,r=$e){return this._list(`${rr}/${n}/${As.SUBSCRIPTIONS}`,r)}async getSubscriptionDetails(n,r){return this._get(`${rr}/${n}/${As.SUBSCRIPTIONS}/${r}`)}}const Js="/api/news";class vO extends dn{constructor(n){super(n,Js)}async getNews(n={},r=$e){const s={...r};return n.feed&&(s.feed="true"),n.trending&&(s.trending="true"),n.subscribed&&(s.subscribed="true"),n.channel&&(s.channel=n.channel),n.creator&&(s.creator=n.creator),n.status&&(s.status=n.status),n.premium!==void 0&&(s.premium=n.premium.toString()),n.tags&&n.tags.length>0&&(s.tags=n.tags.join(",")),n.query&&(s.query=n.query),this._list(Js,s)}async getAll(n=$e){return this.getNews({},n)}async getFeed(n=$e){return this.getNews({feed:!0},n)}async getTrending(n=$e){return this.getNews({trending:!0},n)}async getSubscribed(n=$e){return this.getNews({subscribed:!0},n)}async getPremium(n=$e){return this.getNews({premium:!0},n)}async getNewsByChannel(n,r=$e){return this.getNews({channel:n},r)}async getCreatorNews(n,r=$e){return this.getNews({creator:n},r)}async getNewsByTags(n,r=$e){return this.getNews({tags:n},r)}async getNewsByStatus(n,r=$e){return this.getNews({status:n},r)}async get(n){return this._get(`${Js}/${n}`)}async getDetails(n){return this._get(`${Js}/${n}/details`)}async createNews(n){return this._post(Js,n)}async update(n,r){await this._put(`${Js}/${n}`,r)}async delete(n){await this._remove(`${Js}/${n}`)}async getNewsStats(n,r,s){return this._get(`${Js}/${n}/stats?startDate=${r}&endDate=${s}`)}async getNewsTags(n=$e){return this._list(`${Js}/tags`,n)}async create(n){return this.createNews(n)}}const Mr="/api/polls";class jO extends dn{constructor(n){super(n,Mr)}async getPolls(n={},r=$e){const s={...r};return n.trending&&(s.trending="true"),n.funded&&(s.funded="true"),n.claimed&&(s.claimed="true"),n.subscribed&&(s.subscribed="true"),n.channel&&(s.channel=n.channel),n.creator&&(s.creator=n.creator),n.status&&(s.status=n.status),n.converted!==void 0&&(s.converted=n.converted.toString()),n.tags&&n.tags.length>0&&(s.tags=n.tags.join(",")),this._list(Mr,s)}async getAll(n=$e){return this.getPolls({},n)}async getTrending(n=$e){return this.getPolls({trending:!0},n)}async getFunded(n=$e){return this.getPolls({funded:!0},n)}async getClaimed(n=$e){return this.getPolls({claimed:!0},n)}async getSubscribed(n=$e){return this.getPolls({subscribed:!0},n)}async getPollsByChannel(n,r=$e){return this.getPolls({channel:n},r)}async getCreatorPolls(n,r=$e){return this.getPolls({creator:n},r)}async getPollsByTags(n,r=$e){return this.getPolls({tags:n},r)}async get(n){return this._get(`${Mr}/${n}`)}async create(n){return this._post(Mr,n)}async update(n,r){await this._put(`${Mr}/${n}`,r)}async delete(n){return this._remove(`${Mr}/${n}`)}async getResults(n){return this._get(`${Mr}/${n}/votes`)}async vote(n,r){return this._post(`${Mr}/${n}/votes`,r)}async getUserVote(n){return this._get(`${Mr}/${n}/votes/me`)}async checkVotingEligibility(n){return this._get(`${Mr}/${n}/votes/eligibility`)}async getFunding(n){return this._get(`${Mr}/${n}/funding`)}async claim(n){return this._post(`${Mr}/${n}/claims`,{})}async convertToNews(n,r){return this._post(`${Mr}/${n}/conversions`,r)}async getVoteResults(n){return this.getResults(n)}async getMyVote(n){return this.getUserVote(n)}}const Rs="/api/bookmarks";class SO extends dn{constructor(n){super(n,Rs)}async bookmarkNews(n){return this._post(`${Rs}/news/${n}`,{})}async unbookmarkNews(n){return this._remove(`${Rs}/news/${n}`)}async checkNewsBookmarkStatus(n){return this._get(`${Rs}/news/${n}/status`)}async getBookmarkedNews(n={}){return this._listWithCursor(`${Rs}/news`,n)}async bookmarkPoll(n){return this._post(`${Rs}/polls/${n}`,{})}async unbookmarkPoll(n){return this._remove(`${Rs}/polls/${n}`)}async checkPollBookmarkStatus(n){return this._get(`${Rs}/polls/${n}/status`)}async getBookmarkedPolls(n={}){return this._listWithCursor(`${Rs}/polls`,n)}async getBookmarks(n,r={}){const s={...r};return s.type=n,this._listWithCursor(Rs,s)}}const Aa="/api/users";class wO extends dn{constructor(n){super(n,Aa)}async getAll(n=$e){return this._list(Aa,n)}async get(n){return this._get(`${Aa}/${n}`)}async create(n){return this._post(Aa,n)}async update(n,r){await this._put(`${Aa}/${n}`,r)}async delete(n){return this._remove(`${Aa}/${n}`)}}const gn="/api/account";class CO extends dn{constructor(n){super(n,gn)}async getProfile(){return this._get(`${gn}/profile`)}async updateProfile(n){return this._put(`${gn}/profile`,n)}async getPayoutMethods(){return this._list(`${gn}/payout-methods`)}async getPayoutMethod(n){return this._get(`${gn}/payout-methods/${n}`)}async getDefaultPayoutMethod(){return this._get(`${gn}/payout-methods/default`)}async addPayoutMethod(n){return this._post(`${gn}/payout-methods`,n)}async updatePayoutMethod(n,r){return this._put(`${gn}/payout-methods/${n}`,r)}async deletePayoutMethod(n){return this._remove(`${gn}/payout-methods/${n}`)}async setDefaultPayoutMethod(n){return this._patch(`${gn}/payout-methods/${n}/default`,{})}async getAvailablePayoutMethods(){return this._get(`${gn}/payout-methods/available`)}async getSubscriptions(){return this._list(`${gn}/subscriptions`)}async subscribe(n,r){return this._post(`${gn}/subscriptions/${n}`,r)}async cancelSubscription(n){return this._remove(`${gn}/subscriptions/${n}`)}async getUserChannels(n=$e){return this._list(`${gn}/channels`,n)}async exchangePayPalAuthCode(n){return this._post(`${gn}/paypal/exchange-auth-code`,{authCode:n})}async savePayPalPayoutMethod(n){return this._post(`${gn}/paypal/save-payout-method`,n)}async getNotificationPreferences(){return this._get(`${gn}/notification-preferences`)}async getNotificationPreference(n){return this._get(`${gn}/notification-preferences/${n}`)}async updateNotificationPreference(n,r){return this._patch(`${gn}/notification-preferences/${n}`,r)}async bulkUpdateNotificationPreferences(n){return this._patch(`${gn}/notification-preferences/bulk`,{preferences:n})}async getUserPreference(){return this._get(`${gn}/preference`)}async updateUserPreference(n){return this._patch(`${gn}/preference`,n)}}const jr="/api/expense-orders";class PO extends dn{constructor(n){super(n,jr)}async createExpenseOrder(n){return this._post(jr,n)}async updateExpenseOrder(n,r){return this._put(`${jr}/${n}`,r)}async submitExpenseOrder(n,r){return this._post(`${jr}/${n}/submit`,r||{})}async cancelExpenseOrder(n,r){return this._post(`${jr}/${n}/cancel`,{reason:r})}async getMyExpenseOrders(n=$e,r){const s={...n};return r&&(s.status=r),this._list(`${jr}/my-orders`,s)}async getAllExpenseOrders(n=$e,r){const s={...n};return(r==null?void 0:r.status)!==void 0&&(s.status=r.status),r!=null&&r.channelId&&(s.channelId=r.channelId),r!=null&&r.journalistId&&(s.journalistId=r.journalistId),this._list("/api/admin/expense-orders",s)}async approveExpenseOrder(n,r){return this._post(`${jr}/${n}/approve`,r||{})}async rejectExpenseOrder(n,r){return this._post(`${jr}/${n}/reject`,r)}async processPayment(n,r){return this._post(`${jr}/${n}/process-payment`,r||{})}async getPendingExpenseOrders(n=$e){return this._list(`${jr}/pending`,n)}async getExpenseOrderStats(n,r,s){const o={};return n&&(o.channelId=n),r&&(o.startDate=r.toISOString()),s&&(o.endDate=s.toISOString()),this._get(`${jr}/stats`,{params:o})}async getExpenseOrder(n){return this._get(`${jr}/${n}`)}async getExpenseOrdersByJournalist(n,r=$e,s){const o={...r};return s&&(o.status=s),this._list(`${jr}/journalist/${n}`,o)}async getExpenseOrdersByChannel(n,r=$e,s){const o={...r};return s&&(o.status=s),this._list(`${jr}/channel/${n}`,o)}async getExpenseTypes(){return this._get("/api/expense-types")}}const Un="/api/subscriptions";class EO extends dn{constructor(n){super(n,Un)}async getAllSubscriptions(n=$e,r={}){const s={...n,...r};return this._list(Un,s)}async getSubscriptionById(n){return this._get(`${Un}/${n}`)}async updateSubscriptionStatus(n,r,s){return this._patch(`${Un}/${n}/status`,{status:r,reason:s})}async bulkUpdateSubscriptions(n){return this._post(`${Un}/bulk-update`,n)}async getSubscriptionAnalytics(n={}){const r=new URLSearchParams(n).toString(),s=r?`${Un}/analytics?${r}`:`${Un}/analytics`;return this._get(s)}async getRevenueMetrics(n={}){const r=new URLSearchParams(n).toString(),s=r?`${Un}/revenue?${r}`:`${Un}/revenue`;return this._get(s)}async exportSubscriptions(n={},r="csv"){const s=new URLSearchParams({...n,format:r}).toString(),o=s?`${Un}/export?${s}`:`${Un}/export`;return this._get(o)}async cancelSubscription(n,r){await this.updateSubscriptionStatus(n,"canceled",r)}async activateSubscription(n,r){await this.updateSubscriptionStatus(n,"active",r)}async suspendSubscription(n,r){await this.updateSubscriptionStatus(n,"suspended",r)}async updateSubscriptionTier(n,r){return this._patch(`${Un}/${n}/tier`,{tier_id:r})}async createDirectSubscription(n,r){return this._post(`${Un}/channels/${n}/subscribe`,r)}async activatePayPalSubscription(n,r){return this._post(`${Un}/channels/${n}/activate-paypal`,r)}async cancelUserSubscription(n){return this._remove(`${Un}/${n}/cancel`)}async getMySubscriptions(n=$e,r={}){const s={...n,...r};return this._list(`${Un}/my`,s)}async getSubscriptionStatus(n){return await this._get(`${Un}/${n}/status`)}async searchSubscriptions(n,r=$e){const s={...r,search:n};return this._list(`${Un}/search`,s)}async getSubscriptionsByChannel(n,r=$e){return this.getAllSubscriptions(r,{channel_id:n})}async getSubscriptionsByUser(n,r=$e){return this.getAllSubscriptions(r,{user_id:n})}}const sr="/api/tags";class IO extends dn{constructor(n){super(n,sr)}async getTags(n={},r=$e){const s={...r};return n.trending&&(s.trending="true"),n.popular&&(s.popular="true"),n.category&&(s.category=n.category),n.verified&&(s.verified="true"),this._list(sr,s)}async getAll(n=$e){return this.getTags({},n)}async getTrending(n=$e){return this.getTags({trending:!0},n)}async getPopular(n=$e){return this.getTags({popular:!0},n)}async getVerified(n=$e){return this.getTags({verified:!0},n)}async getNewsTags(n=$e){return this.getTags({category:"news"},n)}async getPollTags(n=$e){return this.getTags({category:"polls"},n)}async getTagById(n){return this._get(`${sr}/${n}`)}async getTagBySlug(n){return this._get(`${sr}/slug/${n}`)}async createTag(n){return this._post(sr,n)}async updateTag(n,r){return this._put(`${sr}/${n}`,r)}async deleteTag(n){await this._remove(`${sr}/${n}`)}async getTagNews(n,r=$e){return this._get(`${sr}/${n}/news`,{params:r})}async getTagPolls(n,r=$e){return this._get(`${sr}/${n}/polls`,{params:r})}async addTagToNews(n,r){return this._post(`${sr}/${n}/news/${r}`,{})}async removeTagFromNews(n,r){return this._remove(`${sr}/${n}/news/${r}`)}async addTagToPoll(n,r){return this._post(`${sr}/${n}/polls/${r}`,{})}async removeTagFromPoll(n,r){return this._remove(`${sr}/${n}/polls/${r}`)}async moderateTag(n,r){return this._patch(`${sr}/${n}/moderate`,{status:r})}async approveTag(n){return this.moderateTag(n,"APPROVED")}async rejectTag(n){return this.moderateTag(n,"REJECTED")}async searchTags(n,r=$e){const s={...r,search:n};return this._list(sr,s)}async getTagSuggestions(n,r=10){const s={prefix:n,limit:r};return this._get(`${sr}/suggestions`,{params:s})}async get(n){return this.getTagById(n)}async create(n){return this.createTag(n)}async update(n,r){return this.updateTag(n,r)}async delete(n){return this.deleteTag(n)}}const Xs="/api/search";class DO extends dn{constructor(n){super(n,Xs)}async search(n,r={},s=$e){const o={q:n,...s};return Object.entries(r).forEach(([i,l])=>{l!=null&&l!==""&&(Array.isArray(l)?o[i]=l.join(","):l instanceof Date?o[i]=l.toISOString():o[i]=l.toString())}),this._list(Xs,o)}async searchNews(n,r=$e){return this._list(`${Xs}/news`,{q:n,...r})}async searchChannels(n,r=$e){return this._list(`${Xs}/channels`,{q:n,...r})}async searchUsers(n,r=$e){return this._list(`${Xs}/users`,{q:n,...r})}async searchPolls(n,r=$e){return this._list(`${Xs}/polls`,{q:n,...r})}async searchTags(n,r=$e){return this._list(`${Xs}/tags`,{q:n,...r})}async getSuggestions(n,r){const s={q:n};return r&&(s.type=r),this._get(`${Xs}/suggestions`,{params:s})}async getStructuredSuggestions(n,r){const s={q:n};return r&&(s.type=r),this._get(`${Xs}/suggestions/structured`,{params:s})}}const Jr="/api/funding";class TO extends dn{constructor(n){super(n,Jr)}async getFund(n,r){var s;try{return this._get(`${Jr}/${n}/${r}`)}catch(o){if(((s=o.response)==null?void 0:s.status)===404)return null;throw o}}async getFundSummary(n,r){var s;try{return this._get(`${Jr}/${n}/${r}/summary`)}catch(o){if(((s=o.response)==null?void 0:s.status)===404)return null;throw o}}async createPayPalOrder(n,r,s){return this._post(`${Jr}/${n}/${r}/create-paypal-order`,s)}async capturePayPalOrder(n,r,s){return this._post(`${Jr}/${n}/${r}/capture-paypal-order`,s)}async getContributions(n,r,s=$e){return this._list(`${Jr}/${n}/${r}/contributions`,s)}async getUserContributions(n=$e){return this._list(`${Jr}/my-contributions`,n)}async getUserContributionsForContent(n,r){return this._get(`${Jr}/${n}/${r}/my-contributions`)}async createFund(n,r,s){return this._post(`${Jr}/${n}/${r}/fund`,s)}async updateFund(n,r,s){return this._put(`${Jr}/${n}/${r}/fund`,s)}async getChannelFundingStats(n,r){return this._get(`${Jr}/channels/${n}/stats`,{params:r})}async processPayout(n,r,s){return this._post(`${Jr}/${n}/${r}/payout`,s)}}const ki="/api/payment-tokens";class AO extends dn{constructor(n){super(n,ki)}async createPayPalTokenizationOrder(){return this._post(`${ki}/paypal/orders`,{})}async capturePayPalTokenizationOrder(n){return this._post(`${ki}/paypal/orders/${n}/capture`,{})}async getPaymentTokenDetails(n){return this._get(`${ki}/paypal/tokens/${n}`)}async deletePaymentToken(n){return this._remove(`${ki}/paypal/tokens/${n}`)}}const _i="/api/iyzico-tokens";class RO extends dn{constructor(n){super(n,_i)}async initializeTokenization(n){return this._post(`${_i}/tokenization/init`,n)}async savePaymentMethod(n){return this._post(`${_i}/tokenization/save`,n)}async getStoredCards(){return this._get(`${_i}/cards`)}async deleteStoredCard(n){return this._remove(`${_i}/cards/${n}`)}}const Xr="/api/payouts";class kO extends dn{constructor(n){super(n,Xr)}async getPayouts(n){return this._list(Xr,n||{})}async getPayoutById(n){return this._get(`${Xr}/${n}`)}async getPendingPayouts(n=$e){return this._list(`${Xr}/pending`,n)}async getFailedPayouts(n=$e){return this._list(`${Xr}/failed`,n)}async getPayoutsReadyForRetry(){return this._get(`${Xr}/ready-for-retry`)}async getPayoutsByJournalist(n,r=$e,s){const o={...r};return s&&(o.status=s),this._list(`${Xr}/journalist/${n}`,o)}async getPayoutsByChannel(n,r=$e){return this._list(`${Xr}/channel/${n}`,r)}async getPayoutStats(n){return this._get(`${Xr}/stats`,{params:n})}async processPayout(n){return this._post(`${Xr}/${n}/process`,{})}async retryPayout(n){return this._post(`${Xr}/${n}/retry`,{})}async cancelPayout(n,r){return this._post(`${Xr}/${n}/cancel`,r)}}const xo="/api/notifications",Ry="/api/notifications/device-tokens",_O="/api/notifications/feed";class OO extends dn{constructor(n){super(n,xo)}async getNotifications(n={},r=$e){const s={...r};return n.typeId!==void 0&&(s.typeId=n.typeId),n.categoryId!==void 0&&(s.categoryId=n.categoryId),n.isRead!==void 0&&(s.isRead=n.isRead),await this._list(xo,s)}async getNewNotificationsCount(){return await this._get(`${xo}/new-count`)}async markAsChecked(){await this._post(`${xo}/mark-checked`,{})}async markAsRead(n){await this._patch(`${xo}/${n}/read`,null)}async markAllAsRead(){await this._patch(`${xo}/mark-all-read`,null)}async deleteNotification(n){await this._remove(`${xo}/${n}`)}async registerDeviceToken(n){await this._post(Ry,{token:n})}async unregisterDeviceToken(n){await this._remove(`${Ry}/${n}`)}async getNotificationFeed(n={}){const r={};return n.typeId!==void 0&&(r.typeId=n.typeId),n.categoryId!==void 0&&(r.categoryId=n.categoryId),n.isRead!==void 0&&(r.isRead=n.isRead),n.limit!==void 0&&(r.limit=n.limit),n.after&&(r.after=n.after),n.before&&(r.before=n.before),await this._listWithCursor(_O,r)}async getNotificationTypeMetadata(){return(await this._get(`${xo}/types`)).notificationTypes}}class MO{constructor(n){Te(this,"user");Te(this,"poll");Te(this,"news");Te(this,"bookmark");Te(this,"channel");Te(this,"account");Te(this,"expenseOrder");Te(this,"subscription");Te(this,"tag");Te(this,"search");Te(this,"funding");Te(this,"paymentToken");Te(this,"iyzicoToken");Te(this,"payout");Te(this,"notification");this.user=new wO(n),this.poll=new jO(n),this.news=new vO(n),this.bookmark=new SO(n),this.channel=new yO(n),this.account=new CO(n),this.expenseOrder=new PO(n),this.subscription=new EO(n),this.tag=new IO(n),this.search=new DO(n),this.funding=new TO(n),this.paymentToken=new AO(n),this.iyzicoToken=new RO(n),this.payout=new kO(n),this.notification=new OO(n)}}const yc="/api/auth";class NO extends dn{constructor(n){super(n,yc)}async signIn(n){return this._post(`${yc}/sign-in`,n)}async signUp(n){return this._post(`${yc}/sign-up`,n)}async verifyToken(n){return this._post(`${yc}/verify-token`,n)}}const Yo="/api/studio";class LO extends dn{constructor(n){super(n,Yo)}async createNews(n){return this._post(`${Yo}/news`,n)}async createChannel(n){return this._post(`${Yo}/channels`,n)}async createPoll(n){return this._post(`${Yo}/polls`,n)}async getMyChannels(){return this._list(`${Yo}/me/channels`)}async getMyContent(n="all",r=$e){const s={type:n,...r};return n==="all"?this._get(`${Yo}/me/content`,{params:s}):this._list(`${Yo}/me/content`,s)}async getMyRecentNews(n=$e){return this.getMyContent("news",n)}async getMyRecentPolls(n=$e){return this.getMyContent("polls",n)}async getMyRecentChannels(n=$e){return this.getMyContent("channels",n)}async getCreatorChannels(){return this.getMyChannels()}async getCreatorContent(n="all",r=$e){return this.getMyContent(n,r)}}class $O{constructor(){Te(this,"axiosJ");Te(this,"admin");Te(this,"app");Te(this,"auth");Te(this,"studio");Te(this,"setAuthHeader",n=>(n?this.axiosJ.axiosInstance.defaults.headers.common.Authorization=`Bearer ${n}`:delete this.axiosJ.axiosInstance.defaults.headers.common.Authorization,this));Te(this,"setApis",()=>(this.admin=new bO(this.axiosJ),this.app=new MO(this.axiosJ),this.auth=new NO(this.axiosJ),this.studio=new LO(this.axiosJ),this));this.axiosJ=new cO}}const FO=50*60*1e3,BO=e=>{const[n,r]=x.useState(null),[s,o]=x.useState(!0),i=x.useRef(null),l=x.useRef(new Set);x.useEffect(()=>{const y=tk(e,b=>{r(b||null),o(!1)});return()=>y()},[e]),x.useEffect(()=>(i.current&&(clearInterval(i.current),i.current=null),n&&(i.current=setInterval(async()=>{try{l.current.forEach(y=>{try{y(),console.log("Token refresh callback called automatically")}catch(b){console.error("Error in token refresh callback:",b)}})}catch(y){console.error("Error during automatic token refresh:",y)}},FO)),()=>{i.current&&(clearInterval(i.current),i.current=null)}),[n]);const d=async(y=!1)=>{if(!n)return null;try{return await n.getIdToken(y)}catch(b){return console.error("Error getting token:",b),null}},u=async(y,b)=>{try{return await(await nk(e,y,b)).user.getIdToken()}catch(S){throw console.error("Sign in error:",S),S}},h=async y=>{try{return await(await rk(e,y)).user.getIdToken()}catch(b){throw console.error("Sign in with provider error:",b),b}},f=async(y,b)=>{try{return(await sk(e,y,b)).user}catch(S){throw console.error("Sign up error:",S),S}},m=async()=>{try{await ok(e),r(null)}catch(y){throw console.error("Sign out error:",y),y}},g=y=>(l.current.add(y),()=>{l.current.delete(y)});return{user:n,isAuthenticated:n!=null,isLoading:s,getToken:d,signIn:u,signInWithProvider:h,signUp:f,signOut:m,onTokenRefresh:g}},pj="@firebase/installations",lp="0.6.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=1e4,xj=`w:${lp}`,gj="FIS_v2",WO="https://firebaseinstallations.googleapis.com/v1",VO=60*60*1e3,UO="installations",zO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},aa=new Bv(UO,zO,HO);function bj(e){return e instanceof ak&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj({projectId:e}){return`${WO}/projects/${e}/installations`}function vj(e){return{token:e.token,requestStatus:2,expiresIn:YO(e.expiresIn),creationTime:Date.now()}}async function jj(e,n){const s=(await n.json()).error;return aa.create("request-failed",{requestName:e,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Sj({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function GO(e,{refreshToken:n}){const r=Sj(e);return r.append("Authorization",qO(n)),r}async function wj(e){const n=await e();return n.status>=500&&n.status<600?e():n}function YO(e){return Number(e.replace("s","000"))}function qO(e){return`${gj} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO({appConfig:e,heartbeatServiceProvider:n},{fid:r}){const s=yj(e),o=Sj(e),i=n.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&o.append("x-firebase-client",h)}const l={fid:r,authVersion:gj,appId:e.appId,sdkVersion:xj},d={method:"POST",headers:o,body:JSON.stringify(l)},u=await wj(()=>fetch(s,d));if(u.ok){const h=await u.json();return{fid:h.fid||r,registrationStatus:2,refreshToken:h.refreshToken,authToken:vj(h.authToken)}}else throw await jj("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(e){return new Promise(n=>{setTimeout(n,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=/^[cdef][\w-]{21}$/,gf="";function QO(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const r=ZO(e);return XO.test(r)?r:gf}catch{return gf}}function ZO(e){return JO(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=new Map;function Ej(e,n){const r=Rd(e);Ij(r,n),eM(r,n)}function Ij(e,n){const r=Pj.get(e);if(r)for(const s of r)s(n)}function eM(e,n){const r=tM();r&&r.postMessage({key:e,fid:n}),nM()}let ea=null;function tM(){return!ea&&"BroadcastChannel"in self&&(ea=new BroadcastChannel("[Firebase] FID Change"),ea.onmessage=e=>{Ij(e.data.key,e.data.fid)}),ea}function nM(){Pj.size===0&&ea&&(ea.close(),ea=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM="firebase-installations-database",sM=1,ia="firebase-installations-store";let kh=null;function cp(){return kh||(kh=ep(rM,sM,{upgrade:(e,n)=>{switch(n){case 0:e.createObjectStore(ia)}}})),kh}async function Zc(e,n){const r=Rd(e),o=(await cp()).transaction(ia,"readwrite"),i=o.objectStore(ia),l=await i.get(r);return await i.put(n,r),await o.done,(!l||l.fid!==n.fid)&&Ej(e,n.fid),n}async function Dj(e){const n=Rd(e),s=(await cp()).transaction(ia,"readwrite");await s.objectStore(ia).delete(n),await s.done}async function kd(e,n){const r=Rd(e),o=(await cp()).transaction(ia,"readwrite"),i=o.objectStore(ia),l=await i.get(r),d=n(l);return d===void 0?await i.delete(r):await i.put(d,r),await o.done,d&&(!l||l.fid!==d.fid)&&Ej(e,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dp(e){let n;const r=await kd(e.appConfig,s=>{const o=oM(s),i=aM(e,o);return n=i.registrationPromise,i.installationEntry});return r.fid===gf?{installationEntry:await n}:{installationEntry:r,registrationPromise:n}}function oM(e){const n=e||{fid:QO(),registrationStatus:0};return Tj(n)}function aM(e,n){if(n.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(aa.create("app-offline"));return{installationEntry:n,registrationPromise:o}}const r={fid:n.fid,registrationStatus:1,registrationTime:Date.now()},s=iM(e,r);return{installationEntry:r,registrationPromise:s}}else return n.registrationStatus===1?{installationEntry:n,registrationPromise:lM(e)}:{installationEntry:n}}async function iM(e,n){try{const r=await KO(e,n);return Zc(e.appConfig,r)}catch(r){throw bj(r)&&r.customData.serverCode===409?await Dj(e.appConfig):await Zc(e.appConfig,{fid:n.fid,registrationStatus:0}),r}}async function lM(e){let n=await ky(e.appConfig);for(;n.registrationStatus===1;)await Cj(100),n=await ky(e.appConfig);if(n.registrationStatus===0){const{installationEntry:r,registrationPromise:s}=await dp(e);return s||r}return n}function ky(e){return kd(e,n=>{if(!n)throw aa.create("installation-not-found");return Tj(n)})}function Tj(e){return cM(e)?{fid:e.fid,registrationStatus:0}:e}function cM(e){return e.registrationStatus===1&&e.registrationTime+mj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM({appConfig:e,heartbeatServiceProvider:n},r){const s=uM(e,r),o=GO(e,r),i=n.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&o.append("x-firebase-client",h)}const l={installation:{sdkVersion:xj,appId:e.appId}},d={method:"POST",headers:o,body:JSON.stringify(l)},u=await wj(()=>fetch(s,d));if(u.ok){const h=await u.json();return vj(h)}else throw await jj("Generate Auth Token",u)}function uM(e,{fid:n}){return`${yj(e)}/${n}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function up(e,n=!1){let r;const s=await kd(e.appConfig,i=>{if(!Aj(i))throw aa.create("not-registered");const l=i.authToken;if(!n&&pM(l))return i;if(l.requestStatus===1)return r=hM(e,n),i;{if(!navigator.onLine)throw aa.create("app-offline");const d=xM(i);return r=fM(e,d),d}});return r?await r:s.authToken}async function hM(e,n){let r=await _y(e.appConfig);for(;r.authToken.requestStatus===1;)await Cj(100),r=await _y(e.appConfig);const s=r.authToken;return s.requestStatus===0?up(e,n):s}function _y(e){return kd(e,n=>{if(!Aj(n))throw aa.create("not-registered");const r=n.authToken;return gM(r)?Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}):n})}async function fM(e,n){try{const r=await dM(e,n),s=Object.assign(Object.assign({},n),{authToken:r});return await Zc(e.appConfig,s),r}catch(r){if(bj(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await Dj(e.appConfig);else{const s=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}});await Zc(e.appConfig,s)}throw r}}function Aj(e){return e!==void 0&&e.registrationStatus===2}function pM(e){return e.requestStatus===2&&!mM(e)}function mM(e){const n=Date.now();return n<e.creationTime||e.creationTime+e.expiresIn<n+VO}function xM(e){const n={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:n})}function gM(e){return e.requestStatus===1&&e.requestTime+mj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(e){const n=e,{installationEntry:r,registrationPromise:s}=await dp(n);return s?s.catch(console.error):up(n).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yM(e,n=!1){const r=e;return await vM(r),(await up(r,n)).token}async function vM(e){const{registrationPromise:n}=await dp(e);n&&await n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(e){if(!e||!e.options)throw _h("App Configuration");if(!e.name)throw _h("App Name");const n=["projectId","apiKey","appId"];for(const r of n)if(!e.options[r])throw _h(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function _h(e){return aa.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj="installations",SM="installations-internal",wM=e=>{const n=e.getProvider("app").getImmediate(),r=jM(n),s=Zf(n,"heartbeat");return{app:n,appConfig:r,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},CM=e=>{const n=e.getProvider("app").getImmediate(),r=Zf(n,Rj).getImmediate();return{getId:()=>bM(r),getToken:o=>yM(r,o)}};function PM(){Uc(new zc(Rj,wM,"PUBLIC")),Uc(new zc(SM,CM,"PRIVATE"))}PM();Vc(pj,lp);Vc(pj,lp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM="/firebase-messaging-sw.js",IM="/firebase-cloud-messaging-push-scope",kj="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",DM="https://fcmregistrations.googleapis.com/v1",_j="google.c.a.c_id",TM="google.c.a.c_l",AM="google.c.a.ts",RM="google.c.a.e";var Oy;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Oy||(Oy={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Xi;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Xi||(Xi={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(e){const n=new Uint8Array(e);return btoa(String.fromCharCode(...n)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function kM(e){const n="=".repeat((4-e.length%4)%4),r=(e+n).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(r),o=new Uint8Array(s.length);for(let i=0;i<s.length;++i)o[i]=s.charCodeAt(i);return o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh="fcm_token_details_db",_M=5,My="fcm_token_object_Store";async function OM(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(Oh))return null;let n=null;return(await ep(Oh,_M,{upgrade:async(s,o,i,l)=>{var d;if(o<2||!s.objectStoreNames.contains(My))return;const u=l.objectStore(My),h=await u.index("fcmSenderId").get(e);if(await u.clear(),!!h){if(o===2){const f=h;if(!f.auth||!f.p256dh||!f.endpoint)return;n={token:f.fcmToken,createTime:(d=f.createTime)!==null&&d!==void 0?d:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:Qs(f.vapidKey)}}}else if(o===3){const f=h;n={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Qs(f.auth),p256dh:Qs(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Qs(f.vapidKey)}}}else if(o===4){const f=h;n={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Qs(f.auth),p256dh:Qs(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Qs(f.vapidKey)}}}}}})).close(),await Eh(Oh),await Eh("fcm_vapid_details_db"),await Eh("undefined"),MM(n)?n:null}function MM(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:n}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof n.auth=="string"&&n.auth.length>0&&typeof n.p256dh=="string"&&n.p256dh.length>0&&typeof n.endpoint=="string"&&n.endpoint.length>0&&typeof n.swScope=="string"&&n.swScope.length>0&&typeof n.vapidKey=="string"&&n.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="firebase-messaging-database",LM=1,Qi="firebase-messaging-store";let Mh=null;function Oj(){return Mh||(Mh=ep(NM,LM,{upgrade:(e,n)=>{switch(n){case 0:e.createObjectStore(Qi)}}})),Mh}async function $M(e){const n=Mj(e),s=await(await Oj()).transaction(Qi).objectStore(Qi).get(n);if(s)return s;{const o=await OM(e.appConfig.senderId);if(o)return await hp(e,o),o}}async function hp(e,n){const r=Mj(e),o=(await Oj()).transaction(Qi,"readwrite");return await o.objectStore(Qi).put(n,r),await o.done,n}function Mj({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},ar=new Bv("messaging","Messaging",FM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BM(e,n){const r=await pp(e),s=Nj(n),o={method:"POST",headers:r,body:JSON.stringify(s)};let i;try{i=await(await fetch(fp(e.appConfig),o)).json()}catch(l){throw ar.create("token-subscribe-failed",{errorInfo:l==null?void 0:l.toString()})}if(i.error){const l=i.error.message;throw ar.create("token-subscribe-failed",{errorInfo:l})}if(!i.token)throw ar.create("token-subscribe-no-token");return i.token}async function WM(e,n){const r=await pp(e),s=Nj(n.subscriptionOptions),o={method:"PATCH",headers:r,body:JSON.stringify(s)};let i;try{i=await(await fetch(`${fp(e.appConfig)}/${n.token}`,o)).json()}catch(l){throw ar.create("token-update-failed",{errorInfo:l==null?void 0:l.toString()})}if(i.error){const l=i.error.message;throw ar.create("token-update-failed",{errorInfo:l})}if(!i.token)throw ar.create("token-update-no-token");return i.token}async function VM(e,n){const s={method:"DELETE",headers:await pp(e)};try{const i=await(await fetch(`${fp(e.appConfig)}/${n}`,s)).json();if(i.error){const l=i.error.message;throw ar.create("token-unsubscribe-failed",{errorInfo:l})}}catch(o){throw ar.create("token-unsubscribe-failed",{errorInfo:o==null?void 0:o.toString()})}}function fp({projectId:e}){return`${DM}/projects/${e}/registrations`}async function pp({appConfig:e,installations:n}){const r=await n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function Nj({p256dh:e,auth:n,endpoint:r,vapidKey:s}){const o={web:{endpoint:r,auth:n,p256dh:e}};return s!==kj&&(o.web.applicationPubKey=s),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=7*24*60*60*1e3;async function zM(e){const n=await GM(e.swRegistration,e.vapidKey),r={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:n.endpoint,auth:Qs(n.getKey("auth")),p256dh:Qs(n.getKey("p256dh"))},s=await $M(e.firebaseDependencies);if(s){if(YM(s.subscriptionOptions,r))return Date.now()>=s.createTime+UM?HM(e,{token:s.token,createTime:Date.now(),subscriptionOptions:r}):s.token;try{await VM(e.firebaseDependencies,s.token)}catch(o){console.warn(o)}return Ny(e.firebaseDependencies,r)}else return Ny(e.firebaseDependencies,r)}async function HM(e,n){try{const r=await WM(e.firebaseDependencies,n),s=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()});return await hp(e.firebaseDependencies,s),r}catch(r){throw r}}async function Ny(e,n){const s={token:await BM(e,n),createTime:Date.now(),subscriptionOptions:n};return await hp(e,s),s.token}async function GM(e,n){const r=await e.pushManager.getSubscription();return r||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:kM(n)})}function YM(e,n){const r=n.vapidKey===e.vapidKey,s=n.endpoint===e.endpoint,o=n.auth===e.auth,i=n.p256dh===e.p256dh;return r&&s&&o&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(e){const n={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return qM(n,e),KM(n,e),JM(n,e),n}function qM(e,n){if(!n.notification)return;e.notification={};const r=n.notification.title;r&&(e.notification.title=r);const s=n.notification.body;s&&(e.notification.body=s);const o=n.notification.image;o&&(e.notification.image=o);const i=n.notification.icon;i&&(e.notification.icon=i)}function KM(e,n){n.data&&(e.data=n.data)}function JM(e,n){var r,s,o,i,l;if(!n.fcmOptions&&!(!((r=n.notification)===null||r===void 0)&&r.click_action))return;e.fcmOptions={};const d=(o=(s=n.fcmOptions)===null||s===void 0?void 0:s.link)!==null&&o!==void 0?o:(i=n.notification)===null||i===void 0?void 0:i.click_action;d&&(e.fcmOptions.link=d);const u=(l=n.fcmOptions)===null||l===void 0?void 0:l.analytics_label;u&&(e.fcmOptions.analyticsLabel=u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(e){return typeof e=="object"&&!!e&&_j in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lj("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");Lj("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function Lj(e,n){const r=[];for(let s=0;s<e.length;s++)r.push(e.charAt(s)),s<n.length&&r.push(n.charAt(s));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(e){if(!e||!e.options)throw Nh("App Configuration Object");if(!e.name)throw Nh("App Name");const n=["projectId","apiKey","appId","messagingSenderId"],{options:r}=e;for(const s of n)if(!r[s])throw Nh(s);return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function Nh(e){return ar.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(n,r,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=QM(n);this.firebaseDependencies={app:n,appConfig:o,installations:r,analyticsProvider:s}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(e){try{e.swRegistration=await navigator.serviceWorker.register(EM,{scope:IM}),e.swRegistration.update().catch(()=>{})}catch(n){throw ar.create("failed-service-worker-registration",{browserErrorMessage:n==null?void 0:n.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(e,n){if(!n&&!e.swRegistration&&await eN(e),!(!n&&e.swRegistration)){if(!(n instanceof ServiceWorkerRegistration))throw ar.create("invalid-sw-registration");e.swRegistration=n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(e,n){n?e.vapidKey=n:e.vapidKey||(e.vapidKey=kj)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $j(e,n){if(!navigator)throw ar.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw ar.create("permission-blocked");return await nN(e,n==null?void 0:n.vapidKey),await tN(e,n==null?void 0:n.serviceWorkerRegistration),zM(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(e,n,r){const s=sN(n);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:r[_j],message_name:r[TM],message_time:r[AM],message_device_time:Math.floor(Date.now()/1e3)})}function sN(e){switch(e){case Xi.NOTIFICATION_CLICKED:return"notification_open";case Xi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(e,n){const r=n.data;if(!r.isFirebaseMessaging)return;e.onMessageHandler&&r.messageType===Xi.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(Ly(r)):e.onMessageHandler.next(Ly(r)));const s=r.data;XM(s)&&s[RM]==="1"&&await rN(e,r.messageType,s)}const $y="@firebase/messaging",Fy="0.12.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=e=>{const n=new ZM(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>oN(n,r)),n},iN=e=>{const n=e.getProvider("messaging").getImmediate();return{getToken:s=>$j(n,s)}};function lN(){Uc(new zc("messaging",aN,"PUBLIC")),Uc(new zc("messaging-internal",iN,"PRIVATE")),Vc($y,Fy),Vc($y,Fy,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(){try{await lk()}catch{return!1}return typeof window<"u"&&ck()&&dk()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(e,n){if(!navigator)throw ar.create("only-available-in-window");return e.onMessageHandler=n,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(e=ik()){return cN().then(n=>{if(!n)throw ar.create("unsupported-browser")},n=>{throw ar.create("indexed-db-unsupported")}),Zf(tp(e),"messaging").getImmediate()}async function hN(e,n){return e=tp(e),$j(e,n)}function fN(e,n){return e=tp(e),dN(e,n)}lN();const pN={apiKey:"AIzaSyAsiLj2G16z35SAYVVo79_EJh3qy9X8zFE",authDomain:"journalist-2bf9e.firebaseapp.com",projectId:"journalist-2bf9e",storageBucket:"journalist-2bf9e.firebasestorage.app",messagingSenderId:"1048434393409",appId:"1:1048434393409:web:aca11459895da9872ca1c0",measurementId:"G-23KLS9XB70"},Fj=uk(pN),mN=hk(Fj),Bj=new fk;new pk;new mk;new xk("apple.com");let Oa=null;if(typeof window<"u"&&"serviceWorker"in navigator)try{Oa=uN(Fj)}catch(e){console.error("[Firebase] FCM initialization failed:",e)}function _d(){const e=x.createContext(null);function n(){const r=x.useContext(e);if(!r)throw new Error("Context must be used within provider");return r}return[e,n]}const[xN,ws]=_d(),gN=({children:e})=>{const n=BO(mN);return t.jsx(xN.Provider,{value:n,children:e})},Wj=x.createContext(null),Je=()=>x.useContext(Wj),bN=({children:e})=>{const n=ws();if(!n)throw new Error("ApiProvider must be used within AuthProvider. Please wrap ApiProvider with AuthProvider in your component tree.");const[r,s]=x.useState({api:new $O,isAuthenticated:!1,isLoading:!0}),o=x.useCallback(async(i=!1)=>{if(n.user){const l=await n.getToken(i);l&&s(d=>{const u=d.api.setAuthHeader(l).setApis();return{...d,api:u,isAuthenticated:!0,isLoading:!1}})}else s(l=>{const d=l.api.setAuthHeader(null).setApis();return{...l,api:d,isAuthenticated:!1,isLoading:!1}})},[n]);return x.useEffect(()=>{o(!1)},[n.user,n.isAuthenticated,o]),x.useEffect(()=>{console.log("Subscribing to Firebase token refresh events...");const i=n.onTokenRefresh(async()=>{try{console.log("Firebase token refreshed - updating API authorization header..."),await o(!1)}catch(l){console.error("Error updating API token after Firebase refresh:",l)}});return()=>{console.log("Unsubscribing from Firebase token refresh events..."),i()}},[n,o]),t.jsx(Wj.Provider,{value:r,children:e})},yN=" BKFcSPG4h0WTfkz1F5siTwfoHHaBsT-MjwVP1OcRvNjWGYY5ywTG0BARQpTmrprsfus4O8xHBc1Wlo8fIpC4eAQ ",vN=()=>{const[e,n]=x.useState(null),[r,s]=x.useState("default"),[o,i]=x.useState(null),{api:l}=Je(),d=x.useCallback(async()=>{try{if(!Oa){console.warn("[FCM] Messaging not supported in this browser");return}if(Notification.permission==="granted"){console.log("[FCM] Permission already granted"),s("granted"),await u();return}if(Notification.permission==="denied"){console.warn("[FCM] Permission denied by user"),s("denied"),i("Notification permission denied. Please enable it in browser settings.");return}const m=await Notification.requestPermission();s(m),m==="granted"?(console.log("[FCM] Permission granted"),await u()):(console.warn("[FCM] Permission not granted:",m),i("Notification permission not granted"))}catch(m){console.error("[FCM] Error requesting permission:",m),i("Failed to request notification permission")}},[]),u=x.useCallback(async()=>{try{if(!Oa){console.warn("[FCM] Messaging not initialized");return}const m=await navigator.serviceWorker.ready,g=await hN(Oa,{vapidKey:yN,serviceWorkerRegistration:m});g?(console.log("[FCM] Token obtained:",g.substring(0,20)+"..."),n(g),await h(g)):(console.warn("[FCM] No token obtained"),i("Failed to get FCM token"))}catch(m){console.error("[FCM] Error getting token:",m),i("Failed to get FCM token. Make sure VAPID key is configured.")}},[]),h=x.useCallback(async m=>{try{await l.app.notification.registerDeviceToken(m),console.log("[FCM] Token registered with backend")}catch(g){console.error("[FCM] Error registering token with backend:",g)}},[l]),f=x.useCallback(async()=>{if(e)try{await l.app.notification.unregisterDeviceToken(e),console.log("[FCM] Token unregistered from backend"),n(null)}catch(m){console.error("[FCM] Error unregistering token:",m)}},[l,e]);return x.useEffect(()=>{if(!Oa)return;const m=fN(Oa,g=>{var y,b,S,v;if(console.log("[FCM] Foreground message received:",g),Notification.permission==="granted"){const E=((y=g.notification)==null?void 0:y.title)||"New Notification",w={body:((b=g.notification)==null?void 0:b.body)||"",icon:((S=g.notification)==null?void 0:S.icon)||"/vite.svg",badge:"/vite.svg",data:g.data,tag:((v=g.data)==null?void 0:v.notificationId)||"default"};new Notification(E,w)}window.dispatchEvent(new CustomEvent("fcm-notification-received",{detail:g}))});return()=>{m()}},[]),x.useEffect(()=>{Notification.permission==="granted"&&!e&&u()},[]),{fcmToken:e,permission:r,error:o,requestPermission:d,unregisterToken:f}},[jN,ua]=_d(),SN=({children:e})=>{const n=ws(),{isLoading:r,isAuthenticated:s}=Je(),{requestPermission:o}=vN(),[i,l]=x.useState({isLoading:!0,isAuthenticated:!1}),d=x.useCallback(async()=>{await n.signOut()},[n]);x.useEffect(()=>{if(!!n.isLoading||!!r){l({isLoading:!0,isAuthenticated:!1});return}const m=!!n.user&&s;l({isLoading:!1,isAuthenticated:m}),m&&o()},[n.isLoading,n.user,r,s,o]);const u={...i,actions:{signOut:d}};return t.jsx(jN.Provider,{value:u,children:e})};var mp={},Lh={};const wN=qA(KA);var By;function Xe(){return By||(By=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=wN}(Lh)),Lh}var CN=Ke;Object.defineProperty(mp,"__esModule",{value:!0});var Od=mp.default=void 0,PN=CN(Xe()),EN=t;Od=mp.default=(0,PN.default)((0,EN.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");var xp={},IN=Ke;Object.defineProperty(xp,"__esModule",{value:!0});var gp=xp.default=void 0,DN=IN(Xe()),TN=t;gp=xp.default=(0,DN.default)((0,TN.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");var bp={},AN=Ke;Object.defineProperty(bp,"__esModule",{value:!0});var bl=bp.default=void 0,RN=AN(Xe()),kN=t;bl=bp.default=(0,RN.default)((0,kN.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp");var yp={},_N=Ke;Object.defineProperty(yp,"__esModule",{value:!0});var Vj=yp.default=void 0,ON=_N(Xe()),MN=t;Vj=yp.default=(0,ON.default)((0,MN.jsx)("path",{d:"M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m2.19 12.19L6 18l3.81-8.19L18 6z"}),"Explore");var vp={},NN=Ke;Object.defineProperty(vp,"__esModule",{value:!0});var jp=vp.default=void 0,LN=NN(Xe()),Wy=t;jp=vp.default=(0,LN.default)([(0,Wy.jsx)("circle",{cx:"6.18",cy:"17.82",r:"2.18"},"0"),(0,Wy.jsx)("path",{d:"M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56m0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9"},"1")],"RssFeed");var Sp={},$N=Ke;Object.defineProperty(Sp,"__esModule",{value:!0});var qa=Sp.default=void 0,FN=$N(Xe()),BN=t;qa=Sp.default=(0,FN.default)((0,BN.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");var wp={},WN=Ke;Object.defineProperty(wp,"__esModule",{value:!0});var Md=wp.default=void 0,VN=WN(Xe()),UN=t;Md=wp.default=(0,VN.default)((0,UN.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"}),"Poll");var Cp={},zN=Ke;Object.defineProperty(Cp,"__esModule",{value:!0});var ci=Cp.default=void 0,HN=zN(Xe()),GN=t;ci=Cp.default=(0,HN.default)((0,GN.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2"}),"Bookmark");const Uj=x.createContext(null),Pp=()=>{const e=x.useContext(Uj);if(!e)throw new Error("useNotification must be used within a NotificationProvider");return e},YN=({children:e})=>{const[n,r]=x.useState({open:!1,message:"",severity:"info",autoHideDuration:6e3}),s=x.useCallback((m,g="info",y=6e3)=>{r({open:!0,message:m,severity:g,autoHideDuration:y})},[]),o=x.useCallback(m=>{s(m,"success")},[s]),i=x.useCallback(m=>{s(m,"error")},[s]),l=x.useCallback(m=>{s(m,"warning")},[s]),d=x.useCallback(m=>{s(m,"info")},[s]),u=x.useCallback(m=>{if(m.length===0)return;const g=(S,v="")=>{const E=Object.values(S.constraints||{}),w=`${v}${S.property}: ${E.join(", ")}`;if(S.children&&S.children.length>0){const I=S.children.map(D=>g(D,"  "));return`${w}
${I.join(`
`)}`}return w},y=m.map(S=>g(S)),b=y.length===1?y[0]:`Validation errors:
${y.map(S=>` ${S}`).join(`
`)}`;s(b,"error",1e4)},[s]),h=x.useCallback(()=>{r(m=>({...m,open:!1}))},[]),f={showNotification:s,showSuccess:o,showError:i,showWarning:l,showInfo:d,showValidationErrors:u,hideNotification:h};return t.jsxs(Uj.Provider,{value:f,children:[e,t.jsx(Pv,{open:n.open,autoHideDuration:n.autoHideDuration,onClose:h,anchorOrigin:{vertical:"top",horizontal:"right"},children:t.jsx(dt,{onClose:h,severity:n.severity,variant:"filled",sx:{width:"100%",whiteSpace:"pre-line"},children:n.message})})]})},qN=e=>{var n,r,s;return((n=e==null?void 0:e.response)==null?void 0:n.status)===400&&((r=e.response.data)==null?void 0:r.status)==="error"&&((s=e.response.data)==null?void 0:s.errors)},KN=e=>{var n;return((n=e==null?void 0:e.response)==null?void 0:n.status)===401},JN=e=>{var n;return(((n=e==null?void 0:e.response)==null?void 0:n.status)||0)>=500},XN=e=>!(e!=null&&e.response),et=()=>{const[e,n]=x.useState(!1),[r,s]=x.useState(null),{showSuccess:o,showError:i,showValidationErrors:l}=Pp(),d=x.useCallback(async(h,f={})=>{var S,v;const{showSuccessMessage:m=!1,successMessage:g="Operation completed successfully",showErrorToast:y=!0,customErrorHandler:b}=f;try{n(!0),s(null);const E=await h();return m&&o(g),E}catch(E){if(b&&b(E))return null;const w=E;let I="An error occurred",D=y;if(qN(w)){const T=(S=w.response)==null?void 0:S.data;I=T.message||"Validation failed",s(I),D&&l&&(l(T.errors),D=!1)}else if(KN(w))I="Unauthorized access. Please log in again.",s(I),D&&i(I);else if(JN(w))I="Server error. Please try again later.",s(I),D&&i(I);else if(XN(w))I="Network error. Please check your connection.",s(I),D&&i(I);else{const T=(v=w.response)==null?void 0:v.data;I=(T==null?void 0:T.message)||w.message||"An error occurred",s(I),D&&i(I)}return null}finally{n(!1)}},[o,i,l]),u=x.useCallback(()=>{s(null)},[]);return{loading:e,error:r,execute:d,clearError:u}},Vy=({isOpen:e})=>{const n=da(),{api:r}=Je(),{execute:s}=et(),[o,i]=x.useState([]),l=[{path:`${ge.APP_NEWS_MY_FEED}`,icon:t.jsx(qa,{}),label:"For you"},{path:`${ge.APP_NEWS_DISCOVER}`,icon:t.jsx(Vj,{}),label:"Discover"},{path:`${ge.APP_POLLS}`,icon:t.jsx(Md,{}),label:"Polls"},{path:`${ge.APP_CHANNELS}`,icon:t.jsx(jp,{}),label:"Channels"},{path:`${ge.APP_BOOKMARKS}`,icon:t.jsx(ci,{}),label:"Bookmarks"}],d=[{path:`${ge.APP_NEWS_TRENDING}`,icon:t.jsx(bl,{}),label:"Trending"}];return x.useEffect(()=>{e&&(async()=>{const h=await s(()=>r==null?void 0:r.app.channel.getChannels({},{page:1,limit:5}),{showErrorToast:!1});h&&i(h.items)})()},[e]),e?t.jsxs(C,{sx:{height:"100%",display:"flex",flexDirection:"column",overflow:"auto",p:2},children:[t.jsx(mr,{sx:{pt:0,pb:0},children:l.map(u=>t.jsxs(or,{button:!0,component:Qn,to:u.path,selected:n.pathname===u.path,sx:{borderRadius:1,mx:1,mb:.5,py:1,"&.Mui-selected":{backgroundColor:"action.selected",fontWeight:600},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(qt,{sx:{minWidth:40},children:u.icon}),t.jsx(Wt,{primary:u.label,primaryTypographyProps:{fontWeight:n.pathname===u.path?600:400,fontSize:"0.95rem"}})]},u.path))}),t.jsx(Mt,{sx:{my:1}}),t.jsx(C,{sx:{px:2,py:1},children:t.jsx(j,{variant:"caption",sx:{fontWeight:600,color:"text.secondary",textTransform:"uppercase",fontSize:"0.75rem",letterSpacing:"0.5px"},children:"Categories"})}),t.jsx(mr,{sx:{pt:0,pb:1},children:d.map(u=>t.jsxs(or,{button:!0,component:Qn,to:u.path,sx:{borderRadius:1,mx:1,mb:.5,py:.75,"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(qt,{sx:{minWidth:40},children:u.icon}),t.jsx(Wt,{primary:u.label,primaryTypographyProps:{fontSize:"0.9rem"}})]},u.path))}),t.jsx(Mt,{sx:{my:1}}),t.jsx(C,{sx:{px:2,py:1},children:t.jsx(j,{variant:"caption",sx:{fontWeight:600,color:"text.secondary",textTransform:"uppercase",fontSize:"0.75rem",letterSpacing:"0.5px"},children:"Popular"})}),t.jsx(mr,{sx:{pt:0,pb:1,flexGrow:1},children:o.map(u=>t.jsxs(or,{button:!0,component:Qn,to:`${ge.APP_CHANNELS}/${u.id}`,sx:{borderRadius:1,mx:1,mb:.5,py:1,"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(Sn,{src:u.logoUrl,sx:{width:32,height:32,mr:1.5},children:u.name.charAt(0).toUpperCase()}),t.jsx(C,{sx:{flexGrow:1,minWidth:0},children:t.jsx(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:t.jsx(j,{variant:"body2",sx:{fontWeight:500,fontSize:"0.875rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:u.name})})})]},u.id))})]}):t.jsx(C,{sx:{height:"100%",display:"flex",flexDirection:"column",py:1},children:t.jsx(mr,{sx:{flexGrow:1},children:l.map(u=>t.jsx(or,{button:!0,component:Qn,to:u.path,selected:n.pathname===u.path,sx:{borderRadius:1,mx:.5,justifyContent:"center",minHeight:48,"&.Mui-selected":{backgroundColor:"action.selected"}},children:t.jsx(qt,{sx:{minWidth:"auto"},children:u.icon})},u.path))})})};var Ep={},QN=Ke;Object.defineProperty(Ep,"__esModule",{value:!0});var zj=Ep.default=void 0,ZN=QN(Xe()),eL=t;zj=Ep.default=(0,ZN.default)((0,eL.jsx)("path",{d:"M4 18h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1m0-5h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1M3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1"}),"MenuRounded");var Ip={},tL=Ke;Object.defineProperty(Ip,"__esModule",{value:!0});var Nd=Ip.default=void 0,nL=tL(Xe()),rL=t;Nd=Ip.default=(0,nL.default)((0,rL.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle");var Dp={},sL=Ke;Object.defineProperty(Dp,"__esModule",{value:!0});var yl=Dp.default=void 0,oL=sL(Xe()),aL=t;yl=Dp.default=(0,oL.default)((0,aL.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var Tp={},iL=Ke;Object.defineProperty(Tp,"__esModule",{value:!0});var Hj=Tp.default=void 0,lL=iL(Xe()),cL=t;Hj=Tp.default=(0,lL.default)((0,cL.jsx)("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8 12.5v-9l6 4.5z"}),"VideoLibrary");var Ap={},dL=Ke;Object.defineProperty(Ap,"__esModule",{value:!0});var Gj=Ap.default=void 0,uL=dL(Xe()),hL=t;Gj=Ap.default=(0,uL.default)((0,hL.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings");var Rp={},fL=Ke;Object.defineProperty(Rp,"__esModule",{value:!0});var Yj=Rp.default=void 0,pL=fL(Xe()),mL=t;Yj=Rp.default=(0,pL.default)((0,mL.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout");var ed={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */ed.exports;(function(e,n){(function(){var r,s="4.17.21",o=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",d="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",h=500,f="__lodash_placeholder__",m=1,g=2,y=4,b=1,S=2,v=1,E=2,w=4,I=8,D=16,T=32,R=64,_=128,k=256,N=512,$=30,G="...",L=800,H=16,K=1,J=2,q=3,Q=1/0,Y=9007199254740991,oe=17976931348623157e292,V=NaN,Z=4294967295,Ee=Z-1,be=Z>>>1,ae=[["ary",_],["bind",v],["bindKey",E],["curry",I],["curryRight",D],["flip",N],["partial",T],["partialRight",R],["rearg",k]],ee="[object Arguments]",Ce="[object Array]",Ae="[object AsyncFunction]",Be="[object Boolean]",ye="[object Date]",ie="[object DOMException]",le="[object Error]",se="[object Function]",xe="[object GeneratorFunction]",fe="[object Map]",ke="[object Number]",ne="[object Null]",_e="[object Object]",ce="[object Promise]",Se="[object Proxy]",Pe="[object RegExp]",W="[object Set]",Oe="[object String]",ze="[object Symbol]",Cn="[object Undefined]",Zt="[object WeakMap]",Nt="[object WeakSet]",hn="[object ArrayBuffer]",Wn="[object DataView]",ut="[object Float32Array]",bt="[object Float64Array]",kt="[object Int8Array]",Yt="[object Int16Array]",Rn="[object Int32Array]",mn="[object Uint8Array]",er="[object Uint8ClampedArray]",yn="[object Uint16Array]",Et="[object Uint32Array]",kn=/\b__p \+= '';/g,Gn=/\b(__p \+=) '' \+/g,Ir=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Lo=/&(?:amp|lt|gt|quot|#39);/g,lr=/[&<>"']/g,cu=RegExp(Lo.source),du=RegExp(lr.source),uu=/<%-([\s\S]+?)%>/g,$x=/<%([\s\S]+?)%>/g,hu=/<%=([\s\S]+?)%>/g,vn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dr=/^\w*$/,Il=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fu=/[\\^$.*+?()[\]{}|]/g,wC=RegExp(fu.source),pu=/^\s+/,CC=/\s/,PC=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,EC=/\{\n\/\* \[wrapped with (.+)\] \*/,IC=/,? & /,DC=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,TC=/[()=,{}\[\]\/\s]/,AC=/\\(\\)?/g,RC=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Fx=/\w*$/,kC=/^[-+]0x[0-9a-f]+$/i,_C=/^0b[01]+$/i,OC=/^\[object .+?Constructor\]$/,MC=/^0o[0-7]+$/i,NC=/^(?:0|[1-9]\d*)$/,LC=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Dl=/($^)/,$C=/['\n\r\u2028\u2029\\]/g,Tl="\\ud800-\\udfff",FC="\\u0300-\\u036f",BC="\\ufe20-\\ufe2f",WC="\\u20d0-\\u20ff",Bx=FC+BC+WC,Wx="\\u2700-\\u27bf",Vx="a-z\\xdf-\\xf6\\xf8-\\xff",VC="\\xac\\xb1\\xd7\\xf7",UC="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",zC="\\u2000-\\u206f",HC=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ux="A-Z\\xc0-\\xd6\\xd8-\\xde",zx="\\ufe0e\\ufe0f",Hx=VC+UC+zC+HC,mu="[']",GC="["+Tl+"]",Gx="["+Hx+"]",Al="["+Bx+"]",Yx="\\d+",YC="["+Wx+"]",qx="["+Vx+"]",Kx="[^"+Tl+Hx+Yx+Wx+Vx+Ux+"]",xu="\\ud83c[\\udffb-\\udfff]",qC="(?:"+Al+"|"+xu+")",Jx="[^"+Tl+"]",gu="(?:\\ud83c[\\udde6-\\uddff]){2}",bu="[\\ud800-\\udbff][\\udc00-\\udfff]",xa="["+Ux+"]",Xx="\\u200d",Qx="(?:"+qx+"|"+Kx+")",KC="(?:"+xa+"|"+Kx+")",Zx="(?:"+mu+"(?:d|ll|m|re|s|t|ve))?",eg="(?:"+mu+"(?:D|LL|M|RE|S|T|VE))?",tg=qC+"?",ng="["+zx+"]?",JC="(?:"+Xx+"(?:"+[Jx,gu,bu].join("|")+")"+ng+tg+")*",XC="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",QC="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",rg=ng+tg+JC,ZC="(?:"+[YC,gu,bu].join("|")+")"+rg,e2="(?:"+[Jx+Al+"?",Al,gu,bu,GC].join("|")+")",t2=RegExp(mu,"g"),n2=RegExp(Al,"g"),yu=RegExp(xu+"(?="+xu+")|"+e2+rg,"g"),r2=RegExp([xa+"?"+qx+"+"+Zx+"(?="+[Gx,xa,"$"].join("|")+")",KC+"+"+eg+"(?="+[Gx,xa+Qx,"$"].join("|")+")",xa+"?"+Qx+"+"+Zx,xa+"+"+eg,QC,XC,Yx,ZC].join("|"),"g"),s2=RegExp("["+Xx+Tl+Bx+zx+"]"),o2=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,a2=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],i2=-1,on={};on[ut]=on[bt]=on[kt]=on[Yt]=on[Rn]=on[mn]=on[er]=on[yn]=on[Et]=!0,on[ee]=on[Ce]=on[hn]=on[Be]=on[Wn]=on[ye]=on[le]=on[se]=on[fe]=on[ke]=on[_e]=on[Pe]=on[W]=on[Oe]=on[Zt]=!1;var rn={};rn[ee]=rn[Ce]=rn[hn]=rn[Wn]=rn[Be]=rn[ye]=rn[ut]=rn[bt]=rn[kt]=rn[Yt]=rn[Rn]=rn[fe]=rn[ke]=rn[_e]=rn[Pe]=rn[W]=rn[Oe]=rn[ze]=rn[mn]=rn[er]=rn[yn]=rn[Et]=!0,rn[le]=rn[se]=rn[Zt]=!1;var l2={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},c2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},d2={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},u2={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},h2=parseFloat,f2=parseInt,sg=typeof Ti=="object"&&Ti&&Ti.Object===Object&&Ti,p2=typeof self=="object"&&self&&self.Object===Object&&self,Yn=sg||p2||Function("return this")(),vu=n&&!n.nodeType&&n,$o=vu&&!0&&e&&!e.nodeType&&e,og=$o&&$o.exports===vu,ju=og&&sg.process,Vr=function(){try{var X=$o&&$o.require&&$o.require("util").types;return X||ju&&ju.binding&&ju.binding("util")}catch{}}(),ag=Vr&&Vr.isArrayBuffer,ig=Vr&&Vr.isDate,lg=Vr&&Vr.isMap,cg=Vr&&Vr.isRegExp,dg=Vr&&Vr.isSet,ug=Vr&&Vr.isTypedArray;function Tr(X,we,me){switch(me.length){case 0:return X.call(we);case 1:return X.call(we,me[0]);case 2:return X.call(we,me[0],me[1]);case 3:return X.call(we,me[0],me[1],me[2])}return X.apply(we,me)}function m2(X,we,me,He){for(var ft=-1,Lt=X==null?0:X.length;++ft<Lt;){var $n=X[ft];we(He,$n,me($n),X)}return He}function Ur(X,we){for(var me=-1,He=X==null?0:X.length;++me<He&&we(X[me],me,X)!==!1;);return X}function x2(X,we){for(var me=X==null?0:X.length;me--&&we(X[me],me,X)!==!1;);return X}function hg(X,we){for(var me=-1,He=X==null?0:X.length;++me<He;)if(!we(X[me],me,X))return!1;return!0}function oo(X,we){for(var me=-1,He=X==null?0:X.length,ft=0,Lt=[];++me<He;){var $n=X[me];we($n,me,X)&&(Lt[ft++]=$n)}return Lt}function Rl(X,we){var me=X==null?0:X.length;return!!me&&ga(X,we,0)>-1}function Su(X,we,me){for(var He=-1,ft=X==null?0:X.length;++He<ft;)if(me(we,X[He]))return!0;return!1}function fn(X,we){for(var me=-1,He=X==null?0:X.length,ft=Array(He);++me<He;)ft[me]=we(X[me],me,X);return ft}function ao(X,we){for(var me=-1,He=we.length,ft=X.length;++me<He;)X[ft+me]=we[me];return X}function wu(X,we,me,He){var ft=-1,Lt=X==null?0:X.length;for(He&&Lt&&(me=X[++ft]);++ft<Lt;)me=we(me,X[ft],ft,X);return me}function g2(X,we,me,He){var ft=X==null?0:X.length;for(He&&ft&&(me=X[--ft]);ft--;)me=we(me,X[ft],ft,X);return me}function Cu(X,we){for(var me=-1,He=X==null?0:X.length;++me<He;)if(we(X[me],me,X))return!0;return!1}var b2=Pu("length");function y2(X){return X.split("")}function v2(X){return X.match(DC)||[]}function fg(X,we,me){var He;return me(X,function(ft,Lt,$n){if(we(ft,Lt,$n))return He=Lt,!1}),He}function kl(X,we,me,He){for(var ft=X.length,Lt=me+(He?1:-1);He?Lt--:++Lt<ft;)if(we(X[Lt],Lt,X))return Lt;return-1}function ga(X,we,me){return we===we?k2(X,we,me):kl(X,pg,me)}function j2(X,we,me,He){for(var ft=me-1,Lt=X.length;++ft<Lt;)if(He(X[ft],we))return ft;return-1}function pg(X){return X!==X}function mg(X,we){var me=X==null?0:X.length;return me?Iu(X,we)/me:V}function Pu(X){return function(we){return we==null?r:we[X]}}function Eu(X){return function(we){return X==null?r:X[we]}}function xg(X,we,me,He,ft){return ft(X,function(Lt,$n,en){me=He?(He=!1,Lt):we(me,Lt,$n,en)}),me}function S2(X,we){var me=X.length;for(X.sort(we);me--;)X[me]=X[me].value;return X}function Iu(X,we){for(var me,He=-1,ft=X.length;++He<ft;){var Lt=we(X[He]);Lt!==r&&(me=me===r?Lt:me+Lt)}return me}function Du(X,we){for(var me=-1,He=Array(X);++me<X;)He[me]=we(me);return He}function w2(X,we){return fn(we,function(me){return[me,X[me]]})}function gg(X){return X&&X.slice(0,jg(X)+1).replace(pu,"")}function Ar(X){return function(we){return X(we)}}function Tu(X,we){return fn(we,function(me){return X[me]})}function pi(X,we){return X.has(we)}function bg(X,we){for(var me=-1,He=X.length;++me<He&&ga(we,X[me],0)>-1;);return me}function yg(X,we){for(var me=X.length;me--&&ga(we,X[me],0)>-1;);return me}function C2(X,we){for(var me=X.length,He=0;me--;)X[me]===we&&++He;return He}var P2=Eu(l2),E2=Eu(c2);function I2(X){return"\\"+u2[X]}function D2(X,we){return X==null?r:X[we]}function ba(X){return s2.test(X)}function T2(X){return o2.test(X)}function A2(X){for(var we,me=[];!(we=X.next()).done;)me.push(we.value);return me}function Au(X){var we=-1,me=Array(X.size);return X.forEach(function(He,ft){me[++we]=[ft,He]}),me}function vg(X,we){return function(me){return X(we(me))}}function io(X,we){for(var me=-1,He=X.length,ft=0,Lt=[];++me<He;){var $n=X[me];($n===we||$n===f)&&(X[me]=f,Lt[ft++]=me)}return Lt}function _l(X){var we=-1,me=Array(X.size);return X.forEach(function(He){me[++we]=He}),me}function R2(X){var we=-1,me=Array(X.size);return X.forEach(function(He){me[++we]=[He,He]}),me}function k2(X,we,me){for(var He=me-1,ft=X.length;++He<ft;)if(X[He]===we)return He;return-1}function _2(X,we,me){for(var He=me+1;He--;)if(X[He]===we)return He;return He}function ya(X){return ba(X)?M2(X):b2(X)}function ls(X){return ba(X)?N2(X):y2(X)}function jg(X){for(var we=X.length;we--&&CC.test(X.charAt(we)););return we}var O2=Eu(d2);function M2(X){for(var we=yu.lastIndex=0;yu.test(X);)++we;return we}function N2(X){return X.match(yu)||[]}function L2(X){return X.match(r2)||[]}var $2=function X(we){we=we==null?Yn:va.defaults(Yn.Object(),we,va.pick(Yn,a2));var me=we.Array,He=we.Date,ft=we.Error,Lt=we.Function,$n=we.Math,en=we.Object,Ru=we.RegExp,F2=we.String,zr=we.TypeError,Ol=me.prototype,B2=Lt.prototype,ja=en.prototype,Ml=we["__core-js_shared__"],Nl=B2.toString,zt=ja.hasOwnProperty,W2=0,Sg=function(){var a=/[^.]+$/.exec(Ml&&Ml.keys&&Ml.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Ll=ja.toString,V2=Nl.call(en),U2=Yn._,z2=Ru("^"+Nl.call(zt).replace(fu,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$l=og?we.Buffer:r,lo=we.Symbol,Fl=we.Uint8Array,wg=$l?$l.allocUnsafe:r,Bl=vg(en.getPrototypeOf,en),Cg=en.create,Pg=ja.propertyIsEnumerable,Wl=Ol.splice,Eg=lo?lo.isConcatSpreadable:r,mi=lo?lo.iterator:r,Fo=lo?lo.toStringTag:r,Vl=function(){try{var a=zo(en,"defineProperty");return a({},"",{}),a}catch{}}(),H2=we.clearTimeout!==Yn.clearTimeout&&we.clearTimeout,G2=He&&He.now!==Yn.Date.now&&He.now,Y2=we.setTimeout!==Yn.setTimeout&&we.setTimeout,Ul=$n.ceil,zl=$n.floor,ku=en.getOwnPropertySymbols,q2=$l?$l.isBuffer:r,Ig=we.isFinite,K2=Ol.join,J2=vg(en.keys,en),Fn=$n.max,tr=$n.min,X2=He.now,Q2=we.parseInt,Dg=$n.random,Z2=Ol.reverse,_u=zo(we,"DataView"),xi=zo(we,"Map"),Ou=zo(we,"Promise"),Sa=zo(we,"Set"),gi=zo(we,"WeakMap"),bi=zo(en,"create"),Hl=gi&&new gi,wa={},eP=Ho(_u),tP=Ho(xi),nP=Ho(Ou),rP=Ho(Sa),sP=Ho(gi),Gl=lo?lo.prototype:r,yi=Gl?Gl.valueOf:r,Tg=Gl?Gl.toString:r;function O(a){if(jn(a)&&!pt(a)&&!(a instanceof At)){if(a instanceof Hr)return a;if(zt.call(a,"__wrapped__"))return Ab(a)}return new Hr(a)}var Ca=function(){function a(){}return function(c){if(!xn(c))return{};if(Cg)return Cg(c);a.prototype=c;var p=new a;return a.prototype=r,p}}();function Yl(){}function Hr(a,c){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=r}O.templateSettings={escape:uu,evaluate:$x,interpolate:hu,variable:"",imports:{_:O}},O.prototype=Yl.prototype,O.prototype.constructor=O,Hr.prototype=Ca(Yl.prototype),Hr.prototype.constructor=Hr;function At(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Z,this.__views__=[]}function oP(){var a=new At(this.__wrapped__);return a.__actions__=gr(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=gr(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=gr(this.__views__),a}function aP(){if(this.__filtered__){var a=new At(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function iP(){var a=this.__wrapped__.value(),c=this.__dir__,p=pt(a),P=c<0,A=p?a.length:0,M=yE(0,A,this.__views__),B=M.start,z=M.end,te=z-B,Ie=P?z:B-1,De=this.__iteratees__,Re=De.length,We=0,Ze=tr(te,this.__takeCount__);if(!p||!P&&A==te&&Ze==te)return Zg(a,this.__actions__);var lt=[];e:for(;te--&&We<Ze;){Ie+=c;for(var jt=-1,ct=a[Ie];++jt<Re;){var Dt=De[jt],Rt=Dt.iteratee,_r=Dt.type,ur=Rt(ct);if(_r==J)ct=ur;else if(!ur){if(_r==K)continue e;break e}}lt[We++]=ct}return lt}At.prototype=Ca(Yl.prototype),At.prototype.constructor=At;function Bo(a){var c=-1,p=a==null?0:a.length;for(this.clear();++c<p;){var P=a[c];this.set(P[0],P[1])}}function lP(){this.__data__=bi?bi(null):{},this.size=0}function cP(a){var c=this.has(a)&&delete this.__data__[a];return this.size-=c?1:0,c}function dP(a){var c=this.__data__;if(bi){var p=c[a];return p===u?r:p}return zt.call(c,a)?c[a]:r}function uP(a){var c=this.__data__;return bi?c[a]!==r:zt.call(c,a)}function hP(a,c){var p=this.__data__;return this.size+=this.has(a)?0:1,p[a]=bi&&c===r?u:c,this}Bo.prototype.clear=lP,Bo.prototype.delete=cP,Bo.prototype.get=dP,Bo.prototype.has=uP,Bo.prototype.set=hP;function Bs(a){var c=-1,p=a==null?0:a.length;for(this.clear();++c<p;){var P=a[c];this.set(P[0],P[1])}}function fP(){this.__data__=[],this.size=0}function pP(a){var c=this.__data__,p=ql(c,a);if(p<0)return!1;var P=c.length-1;return p==P?c.pop():Wl.call(c,p,1),--this.size,!0}function mP(a){var c=this.__data__,p=ql(c,a);return p<0?r:c[p][1]}function xP(a){return ql(this.__data__,a)>-1}function gP(a,c){var p=this.__data__,P=ql(p,a);return P<0?(++this.size,p.push([a,c])):p[P][1]=c,this}Bs.prototype.clear=fP,Bs.prototype.delete=pP,Bs.prototype.get=mP,Bs.prototype.has=xP,Bs.prototype.set=gP;function Ws(a){var c=-1,p=a==null?0:a.length;for(this.clear();++c<p;){var P=a[c];this.set(P[0],P[1])}}function bP(){this.size=0,this.__data__={hash:new Bo,map:new(xi||Bs),string:new Bo}}function yP(a){var c=ac(this,a).delete(a);return this.size-=c?1:0,c}function vP(a){return ac(this,a).get(a)}function jP(a){return ac(this,a).has(a)}function SP(a,c){var p=ac(this,a),P=p.size;return p.set(a,c),this.size+=p.size==P?0:1,this}Ws.prototype.clear=bP,Ws.prototype.delete=yP,Ws.prototype.get=vP,Ws.prototype.has=jP,Ws.prototype.set=SP;function Wo(a){var c=-1,p=a==null?0:a.length;for(this.__data__=new Ws;++c<p;)this.add(a[c])}function wP(a){return this.__data__.set(a,u),this}function CP(a){return this.__data__.has(a)}Wo.prototype.add=Wo.prototype.push=wP,Wo.prototype.has=CP;function cs(a){var c=this.__data__=new Bs(a);this.size=c.size}function PP(){this.__data__=new Bs,this.size=0}function EP(a){var c=this.__data__,p=c.delete(a);return this.size=c.size,p}function IP(a){return this.__data__.get(a)}function DP(a){return this.__data__.has(a)}function TP(a,c){var p=this.__data__;if(p instanceof Bs){var P=p.__data__;if(!xi||P.length<o-1)return P.push([a,c]),this.size=++p.size,this;p=this.__data__=new Ws(P)}return p.set(a,c),this.size=p.size,this}cs.prototype.clear=PP,cs.prototype.delete=EP,cs.prototype.get=IP,cs.prototype.has=DP,cs.prototype.set=TP;function Ag(a,c){var p=pt(a),P=!p&&Go(a),A=!p&&!P&&po(a),M=!p&&!P&&!A&&Da(a),B=p||P||A||M,z=B?Du(a.length,F2):[],te=z.length;for(var Ie in a)(c||zt.call(a,Ie))&&!(B&&(Ie=="length"||A&&(Ie=="offset"||Ie=="parent")||M&&(Ie=="buffer"||Ie=="byteLength"||Ie=="byteOffset")||Hs(Ie,te)))&&z.push(Ie);return z}function Rg(a){var c=a.length;return c?a[Hu(0,c-1)]:r}function AP(a,c){return ic(gr(a),Vo(c,0,a.length))}function RP(a){return ic(gr(a))}function Mu(a,c,p){(p!==r&&!ds(a[c],p)||p===r&&!(c in a))&&Vs(a,c,p)}function vi(a,c,p){var P=a[c];(!(zt.call(a,c)&&ds(P,p))||p===r&&!(c in a))&&Vs(a,c,p)}function ql(a,c){for(var p=a.length;p--;)if(ds(a[p][0],c))return p;return-1}function kP(a,c,p,P){return co(a,function(A,M,B){c(P,A,p(A),B)}),P}function kg(a,c){return a&&Is(c,Vn(c),a)}function _P(a,c){return a&&Is(c,yr(c),a)}function Vs(a,c,p){c=="__proto__"&&Vl?Vl(a,c,{configurable:!0,enumerable:!0,value:p,writable:!0}):a[c]=p}function Nu(a,c){for(var p=-1,P=c.length,A=me(P),M=a==null;++p<P;)A[p]=M?r:xh(a,c[p]);return A}function Vo(a,c,p){return a===a&&(p!==r&&(a=a<=p?a:p),c!==r&&(a=a>=c?a:c)),a}function Gr(a,c,p,P,A,M){var B,z=c&m,te=c&g,Ie=c&y;if(p&&(B=A?p(a,P,A,M):p(a)),B!==r)return B;if(!xn(a))return a;var De=pt(a);if(De){if(B=jE(a),!z)return gr(a,B)}else{var Re=nr(a),We=Re==se||Re==xe;if(po(a))return nb(a,z);if(Re==_e||Re==ee||We&&!A){if(B=te||We?{}:jb(a),!z)return te?dE(a,_P(B,a)):cE(a,kg(B,a))}else{if(!rn[Re])return A?a:{};B=SE(a,Re,z)}}M||(M=new cs);var Ze=M.get(a);if(Ze)return Ze;M.set(a,B),Jb(a)?a.forEach(function(ct){B.add(Gr(ct,c,p,ct,a,M))}):qb(a)&&a.forEach(function(ct,Dt){B.set(Dt,Gr(ct,c,p,Dt,a,M))});var lt=Ie?te?nh:th:te?yr:Vn,jt=De?r:lt(a);return Ur(jt||a,function(ct,Dt){jt&&(Dt=ct,ct=a[Dt]),vi(B,Dt,Gr(ct,c,p,Dt,a,M))}),B}function OP(a){var c=Vn(a);return function(p){return _g(p,a,c)}}function _g(a,c,p){var P=p.length;if(a==null)return!P;for(a=en(a);P--;){var A=p[P],M=c[A],B=a[A];if(B===r&&!(A in a)||!M(B))return!1}return!0}function Og(a,c,p){if(typeof a!="function")throw new zr(l);return Ii(function(){a.apply(r,p)},c)}function ji(a,c,p,P){var A=-1,M=Rl,B=!0,z=a.length,te=[],Ie=c.length;if(!z)return te;p&&(c=fn(c,Ar(p))),P?(M=Su,B=!1):c.length>=o&&(M=pi,B=!1,c=new Wo(c));e:for(;++A<z;){var De=a[A],Re=p==null?De:p(De);if(De=P||De!==0?De:0,B&&Re===Re){for(var We=Ie;We--;)if(c[We]===Re)continue e;te.push(De)}else M(c,Re,P)||te.push(De)}return te}var co=ib(Es),Mg=ib($u,!0);function MP(a,c){var p=!0;return co(a,function(P,A,M){return p=!!c(P,A,M),p}),p}function Kl(a,c,p){for(var P=-1,A=a.length;++P<A;){var M=a[P],B=c(M);if(B!=null&&(z===r?B===B&&!kr(B):p(B,z)))var z=B,te=M}return te}function NP(a,c,p,P){var A=a.length;for(p=yt(p),p<0&&(p=-p>A?0:A+p),P=P===r||P>A?A:yt(P),P<0&&(P+=A),P=p>P?0:Qb(P);p<P;)a[p++]=c;return a}function Ng(a,c){var p=[];return co(a,function(P,A,M){c(P,A,M)&&p.push(P)}),p}function qn(a,c,p,P,A){var M=-1,B=a.length;for(p||(p=CE),A||(A=[]);++M<B;){var z=a[M];c>0&&p(z)?c>1?qn(z,c-1,p,P,A):ao(A,z):P||(A[A.length]=z)}return A}var Lu=lb(),Lg=lb(!0);function Es(a,c){return a&&Lu(a,c,Vn)}function $u(a,c){return a&&Lg(a,c,Vn)}function Jl(a,c){return oo(c,function(p){return Gs(a[p])})}function Uo(a,c){c=ho(c,a);for(var p=0,P=c.length;a!=null&&p<P;)a=a[Ds(c[p++])];return p&&p==P?a:r}function $g(a,c,p){var P=c(a);return pt(a)?P:ao(P,p(a))}function cr(a){return a==null?a===r?Cn:ne:Fo&&Fo in en(a)?bE(a):RE(a)}function Fu(a,c){return a>c}function LP(a,c){return a!=null&&zt.call(a,c)}function $P(a,c){return a!=null&&c in en(a)}function FP(a,c,p){return a>=tr(c,p)&&a<Fn(c,p)}function Bu(a,c,p){for(var P=p?Su:Rl,A=a[0].length,M=a.length,B=M,z=me(M),te=1/0,Ie=[];B--;){var De=a[B];B&&c&&(De=fn(De,Ar(c))),te=tr(De.length,te),z[B]=!p&&(c||A>=120&&De.length>=120)?new Wo(B&&De):r}De=a[0];var Re=-1,We=z[0];e:for(;++Re<A&&Ie.length<te;){var Ze=De[Re],lt=c?c(Ze):Ze;if(Ze=p||Ze!==0?Ze:0,!(We?pi(We,lt):P(Ie,lt,p))){for(B=M;--B;){var jt=z[B];if(!(jt?pi(jt,lt):P(a[B],lt,p)))continue e}We&&We.push(lt),Ie.push(Ze)}}return Ie}function BP(a,c,p,P){return Es(a,function(A,M,B){c(P,p(A),M,B)}),P}function Si(a,c,p){c=ho(c,a),a=Pb(a,c);var P=a==null?a:a[Ds(qr(c))];return P==null?r:Tr(P,a,p)}function Fg(a){return jn(a)&&cr(a)==ee}function WP(a){return jn(a)&&cr(a)==hn}function VP(a){return jn(a)&&cr(a)==ye}function wi(a,c,p,P,A){return a===c?!0:a==null||c==null||!jn(a)&&!jn(c)?a!==a&&c!==c:UP(a,c,p,P,wi,A)}function UP(a,c,p,P,A,M){var B=pt(a),z=pt(c),te=B?Ce:nr(a),Ie=z?Ce:nr(c);te=te==ee?_e:te,Ie=Ie==ee?_e:Ie;var De=te==_e,Re=Ie==_e,We=te==Ie;if(We&&po(a)){if(!po(c))return!1;B=!0,De=!1}if(We&&!De)return M||(M=new cs),B||Da(a)?bb(a,c,p,P,A,M):xE(a,c,te,p,P,A,M);if(!(p&b)){var Ze=De&&zt.call(a,"__wrapped__"),lt=Re&&zt.call(c,"__wrapped__");if(Ze||lt){var jt=Ze?a.value():a,ct=lt?c.value():c;return M||(M=new cs),A(jt,ct,p,P,M)}}return We?(M||(M=new cs),gE(a,c,p,P,A,M)):!1}function zP(a){return jn(a)&&nr(a)==fe}function Wu(a,c,p,P){var A=p.length,M=A,B=!P;if(a==null)return!M;for(a=en(a);A--;){var z=p[A];if(B&&z[2]?z[1]!==a[z[0]]:!(z[0]in a))return!1}for(;++A<M;){z=p[A];var te=z[0],Ie=a[te],De=z[1];if(B&&z[2]){if(Ie===r&&!(te in a))return!1}else{var Re=new cs;if(P)var We=P(Ie,De,te,a,c,Re);if(!(We===r?wi(De,Ie,b|S,P,Re):We))return!1}}return!0}function Bg(a){if(!xn(a)||EE(a))return!1;var c=Gs(a)?z2:OC;return c.test(Ho(a))}function HP(a){return jn(a)&&cr(a)==Pe}function GP(a){return jn(a)&&nr(a)==W}function YP(a){return jn(a)&&fc(a.length)&&!!on[cr(a)]}function Wg(a){return typeof a=="function"?a:a==null?vr:typeof a=="object"?pt(a)?zg(a[0],a[1]):Ug(a):cy(a)}function Vu(a){if(!Ei(a))return J2(a);var c=[];for(var p in en(a))zt.call(a,p)&&p!="constructor"&&c.push(p);return c}function qP(a){if(!xn(a))return AE(a);var c=Ei(a),p=[];for(var P in a)P=="constructor"&&(c||!zt.call(a,P))||p.push(P);return p}function Uu(a,c){return a<c}function Vg(a,c){var p=-1,P=br(a)?me(a.length):[];return co(a,function(A,M,B){P[++p]=c(A,M,B)}),P}function Ug(a){var c=sh(a);return c.length==1&&c[0][2]?wb(c[0][0],c[0][1]):function(p){return p===a||Wu(p,a,c)}}function zg(a,c){return ah(a)&&Sb(c)?wb(Ds(a),c):function(p){var P=xh(p,a);return P===r&&P===c?gh(p,a):wi(c,P,b|S)}}function Xl(a,c,p,P,A){a!==c&&Lu(c,function(M,B){if(A||(A=new cs),xn(M))KP(a,c,B,p,Xl,P,A);else{var z=P?P(lh(a,B),M,B+"",a,c,A):r;z===r&&(z=M),Mu(a,B,z)}},yr)}function KP(a,c,p,P,A,M,B){var z=lh(a,p),te=lh(c,p),Ie=B.get(te);if(Ie){Mu(a,p,Ie);return}var De=M?M(z,te,p+"",a,c,B):r,Re=De===r;if(Re){var We=pt(te),Ze=!We&&po(te),lt=!We&&!Ze&&Da(te);De=te,We||Ze||lt?pt(z)?De=z:Pn(z)?De=gr(z):Ze?(Re=!1,De=nb(te,!0)):lt?(Re=!1,De=rb(te,!0)):De=[]:Di(te)||Go(te)?(De=z,Go(z)?De=Zb(z):(!xn(z)||Gs(z))&&(De=jb(te))):Re=!1}Re&&(B.set(te,De),A(De,te,P,M,B),B.delete(te)),Mu(a,p,De)}function Hg(a,c){var p=a.length;if(p)return c+=c<0?p:0,Hs(c,p)?a[c]:r}function Gg(a,c,p){c.length?c=fn(c,function(M){return pt(M)?function(B){return Uo(B,M.length===1?M[0]:M)}:M}):c=[vr];var P=-1;c=fn(c,Ar(it()));var A=Vg(a,function(M,B,z){var te=fn(c,function(Ie){return Ie(M)});return{criteria:te,index:++P,value:M}});return S2(A,function(M,B){return lE(M,B,p)})}function JP(a,c){return Yg(a,c,function(p,P){return gh(a,P)})}function Yg(a,c,p){for(var P=-1,A=c.length,M={};++P<A;){var B=c[P],z=Uo(a,B);p(z,B)&&Ci(M,ho(B,a),z)}return M}function XP(a){return function(c){return Uo(c,a)}}function zu(a,c,p,P){var A=P?j2:ga,M=-1,B=c.length,z=a;for(a===c&&(c=gr(c)),p&&(z=fn(a,Ar(p)));++M<B;)for(var te=0,Ie=c[M],De=p?p(Ie):Ie;(te=A(z,De,te,P))>-1;)z!==a&&Wl.call(z,te,1),Wl.call(a,te,1);return a}function qg(a,c){for(var p=a?c.length:0,P=p-1;p--;){var A=c[p];if(p==P||A!==M){var M=A;Hs(A)?Wl.call(a,A,1):qu(a,A)}}return a}function Hu(a,c){return a+zl(Dg()*(c-a+1))}function QP(a,c,p,P){for(var A=-1,M=Fn(Ul((c-a)/(p||1)),0),B=me(M);M--;)B[P?M:++A]=a,a+=p;return B}function Gu(a,c){var p="";if(!a||c<1||c>Y)return p;do c%2&&(p+=a),c=zl(c/2),c&&(a+=a);while(c);return p}function wt(a,c){return ch(Cb(a,c,vr),a+"")}function ZP(a){return Rg(Ta(a))}function eE(a,c){var p=Ta(a);return ic(p,Vo(c,0,p.length))}function Ci(a,c,p,P){if(!xn(a))return a;c=ho(c,a);for(var A=-1,M=c.length,B=M-1,z=a;z!=null&&++A<M;){var te=Ds(c[A]),Ie=p;if(te==="__proto__"||te==="constructor"||te==="prototype")return a;if(A!=B){var De=z[te];Ie=P?P(De,te,z):r,Ie===r&&(Ie=xn(De)?De:Hs(c[A+1])?[]:{})}vi(z,te,Ie),z=z[te]}return a}var Kg=Hl?function(a,c){return Hl.set(a,c),a}:vr,tE=Vl?function(a,c){return Vl(a,"toString",{configurable:!0,enumerable:!1,value:yh(c),writable:!0})}:vr;function nE(a){return ic(Ta(a))}function Yr(a,c,p){var P=-1,A=a.length;c<0&&(c=-c>A?0:A+c),p=p>A?A:p,p<0&&(p+=A),A=c>p?0:p-c>>>0,c>>>=0;for(var M=me(A);++P<A;)M[P]=a[P+c];return M}function rE(a,c){var p;return co(a,function(P,A,M){return p=c(P,A,M),!p}),!!p}function Ql(a,c,p){var P=0,A=a==null?P:a.length;if(typeof c=="number"&&c===c&&A<=be){for(;P<A;){var M=P+A>>>1,B=a[M];B!==null&&!kr(B)&&(p?B<=c:B<c)?P=M+1:A=M}return A}return Yu(a,c,vr,p)}function Yu(a,c,p,P){var A=0,M=a==null?0:a.length;if(M===0)return 0;c=p(c);for(var B=c!==c,z=c===null,te=kr(c),Ie=c===r;A<M;){var De=zl((A+M)/2),Re=p(a[De]),We=Re!==r,Ze=Re===null,lt=Re===Re,jt=kr(Re);if(B)var ct=P||lt;else Ie?ct=lt&&(P||We):z?ct=lt&&We&&(P||!Ze):te?ct=lt&&We&&!Ze&&(P||!jt):Ze||jt?ct=!1:ct=P?Re<=c:Re<c;ct?A=De+1:M=De}return tr(M,Ee)}function Jg(a,c){for(var p=-1,P=a.length,A=0,M=[];++p<P;){var B=a[p],z=c?c(B):B;if(!p||!ds(z,te)){var te=z;M[A++]=B===0?0:B}}return M}function Xg(a){return typeof a=="number"?a:kr(a)?V:+a}function Rr(a){if(typeof a=="string")return a;if(pt(a))return fn(a,Rr)+"";if(kr(a))return Tg?Tg.call(a):"";var c=a+"";return c=="0"&&1/a==-Q?"-0":c}function uo(a,c,p){var P=-1,A=Rl,M=a.length,B=!0,z=[],te=z;if(p)B=!1,A=Su;else if(M>=o){var Ie=c?null:pE(a);if(Ie)return _l(Ie);B=!1,A=pi,te=new Wo}else te=c?[]:z;e:for(;++P<M;){var De=a[P],Re=c?c(De):De;if(De=p||De!==0?De:0,B&&Re===Re){for(var We=te.length;We--;)if(te[We]===Re)continue e;c&&te.push(Re),z.push(De)}else A(te,Re,p)||(te!==z&&te.push(Re),z.push(De))}return z}function qu(a,c){return c=ho(c,a),a=Pb(a,c),a==null||delete a[Ds(qr(c))]}function Qg(a,c,p,P){return Ci(a,c,p(Uo(a,c)),P)}function Zl(a,c,p,P){for(var A=a.length,M=P?A:-1;(P?M--:++M<A)&&c(a[M],M,a););return p?Yr(a,P?0:M,P?M+1:A):Yr(a,P?M+1:0,P?A:M)}function Zg(a,c){var p=a;return p instanceof At&&(p=p.value()),wu(c,function(P,A){return A.func.apply(A.thisArg,ao([P],A.args))},p)}function Ku(a,c,p){var P=a.length;if(P<2)return P?uo(a[0]):[];for(var A=-1,M=me(P);++A<P;)for(var B=a[A],z=-1;++z<P;)z!=A&&(M[A]=ji(M[A]||B,a[z],c,p));return uo(qn(M,1),c,p)}function eb(a,c,p){for(var P=-1,A=a.length,M=c.length,B={};++P<A;){var z=P<M?c[P]:r;p(B,a[P],z)}return B}function Ju(a){return Pn(a)?a:[]}function Xu(a){return typeof a=="function"?a:vr}function ho(a,c){return pt(a)?a:ah(a,c)?[a]:Tb(Bt(a))}var sE=wt;function fo(a,c,p){var P=a.length;return p=p===r?P:p,!c&&p>=P?a:Yr(a,c,p)}var tb=H2||function(a){return Yn.clearTimeout(a)};function nb(a,c){if(c)return a.slice();var p=a.length,P=wg?wg(p):new a.constructor(p);return a.copy(P),P}function Qu(a){var c=new a.constructor(a.byteLength);return new Fl(c).set(new Fl(a)),c}function oE(a,c){var p=c?Qu(a.buffer):a.buffer;return new a.constructor(p,a.byteOffset,a.byteLength)}function aE(a){var c=new a.constructor(a.source,Fx.exec(a));return c.lastIndex=a.lastIndex,c}function iE(a){return yi?en(yi.call(a)):{}}function rb(a,c){var p=c?Qu(a.buffer):a.buffer;return new a.constructor(p,a.byteOffset,a.length)}function sb(a,c){if(a!==c){var p=a!==r,P=a===null,A=a===a,M=kr(a),B=c!==r,z=c===null,te=c===c,Ie=kr(c);if(!z&&!Ie&&!M&&a>c||M&&B&&te&&!z&&!Ie||P&&B&&te||!p&&te||!A)return 1;if(!P&&!M&&!Ie&&a<c||Ie&&p&&A&&!P&&!M||z&&p&&A||!B&&A||!te)return-1}return 0}function lE(a,c,p){for(var P=-1,A=a.criteria,M=c.criteria,B=A.length,z=p.length;++P<B;){var te=sb(A[P],M[P]);if(te){if(P>=z)return te;var Ie=p[P];return te*(Ie=="desc"?-1:1)}}return a.index-c.index}function ob(a,c,p,P){for(var A=-1,M=a.length,B=p.length,z=-1,te=c.length,Ie=Fn(M-B,0),De=me(te+Ie),Re=!P;++z<te;)De[z]=c[z];for(;++A<B;)(Re||A<M)&&(De[p[A]]=a[A]);for(;Ie--;)De[z++]=a[A++];return De}function ab(a,c,p,P){for(var A=-1,M=a.length,B=-1,z=p.length,te=-1,Ie=c.length,De=Fn(M-z,0),Re=me(De+Ie),We=!P;++A<De;)Re[A]=a[A];for(var Ze=A;++te<Ie;)Re[Ze+te]=c[te];for(;++B<z;)(We||A<M)&&(Re[Ze+p[B]]=a[A++]);return Re}function gr(a,c){var p=-1,P=a.length;for(c||(c=me(P));++p<P;)c[p]=a[p];return c}function Is(a,c,p,P){var A=!p;p||(p={});for(var M=-1,B=c.length;++M<B;){var z=c[M],te=P?P(p[z],a[z],z,p,a):r;te===r&&(te=a[z]),A?Vs(p,z,te):vi(p,z,te)}return p}function cE(a,c){return Is(a,oh(a),c)}function dE(a,c){return Is(a,yb(a),c)}function ec(a,c){return function(p,P){var A=pt(p)?m2:kP,M=c?c():{};return A(p,a,it(P,2),M)}}function Pa(a){return wt(function(c,p){var P=-1,A=p.length,M=A>1?p[A-1]:r,B=A>2?p[2]:r;for(M=a.length>3&&typeof M=="function"?(A--,M):r,B&&dr(p[0],p[1],B)&&(M=A<3?r:M,A=1),c=en(c);++P<A;){var z=p[P];z&&a(c,z,P,M)}return c})}function ib(a,c){return function(p,P){if(p==null)return p;if(!br(p))return a(p,P);for(var A=p.length,M=c?A:-1,B=en(p);(c?M--:++M<A)&&P(B[M],M,B)!==!1;);return p}}function lb(a){return function(c,p,P){for(var A=-1,M=en(c),B=P(c),z=B.length;z--;){var te=B[a?z:++A];if(p(M[te],te,M)===!1)break}return c}}function uE(a,c,p){var P=c&v,A=Pi(a);function M(){var B=this&&this!==Yn&&this instanceof M?A:a;return B.apply(P?p:this,arguments)}return M}function cb(a){return function(c){c=Bt(c);var p=ba(c)?ls(c):r,P=p?p[0]:c.charAt(0),A=p?fo(p,1).join(""):c.slice(1);return P[a]()+A}}function Ea(a){return function(c){return wu(iy(ay(c).replace(t2,"")),a,"")}}function Pi(a){return function(){var c=arguments;switch(c.length){case 0:return new a;case 1:return new a(c[0]);case 2:return new a(c[0],c[1]);case 3:return new a(c[0],c[1],c[2]);case 4:return new a(c[0],c[1],c[2],c[3]);case 5:return new a(c[0],c[1],c[2],c[3],c[4]);case 6:return new a(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new a(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var p=Ca(a.prototype),P=a.apply(p,c);return xn(P)?P:p}}function hE(a,c,p){var P=Pi(a);function A(){for(var M=arguments.length,B=me(M),z=M,te=Ia(A);z--;)B[z]=arguments[z];var Ie=M<3&&B[0]!==te&&B[M-1]!==te?[]:io(B,te);if(M-=Ie.length,M<p)return pb(a,c,tc,A.placeholder,r,B,Ie,r,r,p-M);var De=this&&this!==Yn&&this instanceof A?P:a;return Tr(De,this,B)}return A}function db(a){return function(c,p,P){var A=en(c);if(!br(c)){var M=it(p,3);c=Vn(c),p=function(z){return M(A[z],z,A)}}var B=a(c,p,P);return B>-1?A[M?c[B]:B]:r}}function ub(a){return zs(function(c){var p=c.length,P=p,A=Hr.prototype.thru;for(a&&c.reverse();P--;){var M=c[P];if(typeof M!="function")throw new zr(l);if(A&&!B&&oc(M)=="wrapper")var B=new Hr([],!0)}for(P=B?P:p;++P<p;){M=c[P];var z=oc(M),te=z=="wrapper"?rh(M):r;te&&ih(te[0])&&te[1]==(_|I|T|k)&&!te[4].length&&te[9]==1?B=B[oc(te[0])].apply(B,te[3]):B=M.length==1&&ih(M)?B[z]():B.thru(M)}return function(){var Ie=arguments,De=Ie[0];if(B&&Ie.length==1&&pt(De))return B.plant(De).value();for(var Re=0,We=p?c[Re].apply(this,Ie):De;++Re<p;)We=c[Re].call(this,We);return We}})}function tc(a,c,p,P,A,M,B,z,te,Ie){var De=c&_,Re=c&v,We=c&E,Ze=c&(I|D),lt=c&N,jt=We?r:Pi(a);function ct(){for(var Dt=arguments.length,Rt=me(Dt),_r=Dt;_r--;)Rt[_r]=arguments[_r];if(Ze)var ur=Ia(ct),Or=C2(Rt,ur);if(P&&(Rt=ob(Rt,P,A,Ze)),M&&(Rt=ab(Rt,M,B,Ze)),Dt-=Or,Ze&&Dt<Ie){var En=io(Rt,ur);return pb(a,c,tc,ct.placeholder,p,Rt,En,z,te,Ie-Dt)}var us=Re?p:this,qs=We?us[a]:a;return Dt=Rt.length,z?Rt=kE(Rt,z):lt&&Dt>1&&Rt.reverse(),De&&te<Dt&&(Rt.length=te),this&&this!==Yn&&this instanceof ct&&(qs=jt||Pi(qs)),qs.apply(us,Rt)}return ct}function hb(a,c){return function(p,P){return BP(p,a,c(P),{})}}function nc(a,c){return function(p,P){var A;if(p===r&&P===r)return c;if(p!==r&&(A=p),P!==r){if(A===r)return P;typeof p=="string"||typeof P=="string"?(p=Rr(p),P=Rr(P)):(p=Xg(p),P=Xg(P)),A=a(p,P)}return A}}function Zu(a){return zs(function(c){return c=fn(c,Ar(it())),wt(function(p){var P=this;return a(c,function(A){return Tr(A,P,p)})})})}function rc(a,c){c=c===r?" ":Rr(c);var p=c.length;if(p<2)return p?Gu(c,a):c;var P=Gu(c,Ul(a/ya(c)));return ba(c)?fo(ls(P),0,a).join(""):P.slice(0,a)}function fE(a,c,p,P){var A=c&v,M=Pi(a);function B(){for(var z=-1,te=arguments.length,Ie=-1,De=P.length,Re=me(De+te),We=this&&this!==Yn&&this instanceof B?M:a;++Ie<De;)Re[Ie]=P[Ie];for(;te--;)Re[Ie++]=arguments[++z];return Tr(We,A?p:this,Re)}return B}function fb(a){return function(c,p,P){return P&&typeof P!="number"&&dr(c,p,P)&&(p=P=r),c=Ys(c),p===r?(p=c,c=0):p=Ys(p),P=P===r?c<p?1:-1:Ys(P),QP(c,p,P,a)}}function sc(a){return function(c,p){return typeof c=="string"&&typeof p=="string"||(c=Kr(c),p=Kr(p)),a(c,p)}}function pb(a,c,p,P,A,M,B,z,te,Ie){var De=c&I,Re=De?B:r,We=De?r:B,Ze=De?M:r,lt=De?r:M;c|=De?T:R,c&=~(De?R:T),c&w||(c&=~(v|E));var jt=[a,c,A,Ze,Re,lt,We,z,te,Ie],ct=p.apply(r,jt);return ih(a)&&Eb(ct,jt),ct.placeholder=P,Ib(ct,a,c)}function eh(a){var c=$n[a];return function(p,P){if(p=Kr(p),P=P==null?0:tr(yt(P),292),P&&Ig(p)){var A=(Bt(p)+"e").split("e"),M=c(A[0]+"e"+(+A[1]+P));return A=(Bt(M)+"e").split("e"),+(A[0]+"e"+(+A[1]-P))}return c(p)}}var pE=Sa&&1/_l(new Sa([,-0]))[1]==Q?function(a){return new Sa(a)}:Sh;function mb(a){return function(c){var p=nr(c);return p==fe?Au(c):p==W?R2(c):w2(c,a(c))}}function Us(a,c,p,P,A,M,B,z){var te=c&E;if(!te&&typeof a!="function")throw new zr(l);var Ie=P?P.length:0;if(Ie||(c&=~(T|R),P=A=r),B=B===r?B:Fn(yt(B),0),z=z===r?z:yt(z),Ie-=A?A.length:0,c&R){var De=P,Re=A;P=A=r}var We=te?r:rh(a),Ze=[a,c,p,P,A,De,Re,M,B,z];if(We&&TE(Ze,We),a=Ze[0],c=Ze[1],p=Ze[2],P=Ze[3],A=Ze[4],z=Ze[9]=Ze[9]===r?te?0:a.length:Fn(Ze[9]-Ie,0),!z&&c&(I|D)&&(c&=~(I|D)),!c||c==v)var lt=uE(a,c,p);else c==I||c==D?lt=hE(a,c,z):(c==T||c==(v|T))&&!A.length?lt=fE(a,c,p,P):lt=tc.apply(r,Ze);var jt=We?Kg:Eb;return Ib(jt(lt,Ze),a,c)}function xb(a,c,p,P){return a===r||ds(a,ja[p])&&!zt.call(P,p)?c:a}function gb(a,c,p,P,A,M){return xn(a)&&xn(c)&&(M.set(c,a),Xl(a,c,r,gb,M),M.delete(c)),a}function mE(a){return Di(a)?r:a}function bb(a,c,p,P,A,M){var B=p&b,z=a.length,te=c.length;if(z!=te&&!(B&&te>z))return!1;var Ie=M.get(a),De=M.get(c);if(Ie&&De)return Ie==c&&De==a;var Re=-1,We=!0,Ze=p&S?new Wo:r;for(M.set(a,c),M.set(c,a);++Re<z;){var lt=a[Re],jt=c[Re];if(P)var ct=B?P(jt,lt,Re,c,a,M):P(lt,jt,Re,a,c,M);if(ct!==r){if(ct)continue;We=!1;break}if(Ze){if(!Cu(c,function(Dt,Rt){if(!pi(Ze,Rt)&&(lt===Dt||A(lt,Dt,p,P,M)))return Ze.push(Rt)})){We=!1;break}}else if(!(lt===jt||A(lt,jt,p,P,M))){We=!1;break}}return M.delete(a),M.delete(c),We}function xE(a,c,p,P,A,M,B){switch(p){case Wn:if(a.byteLength!=c.byteLength||a.byteOffset!=c.byteOffset)return!1;a=a.buffer,c=c.buffer;case hn:return!(a.byteLength!=c.byteLength||!M(new Fl(a),new Fl(c)));case Be:case ye:case ke:return ds(+a,+c);case le:return a.name==c.name&&a.message==c.message;case Pe:case Oe:return a==c+"";case fe:var z=Au;case W:var te=P&b;if(z||(z=_l),a.size!=c.size&&!te)return!1;var Ie=B.get(a);if(Ie)return Ie==c;P|=S,B.set(a,c);var De=bb(z(a),z(c),P,A,M,B);return B.delete(a),De;case ze:if(yi)return yi.call(a)==yi.call(c)}return!1}function gE(a,c,p,P,A,M){var B=p&b,z=th(a),te=z.length,Ie=th(c),De=Ie.length;if(te!=De&&!B)return!1;for(var Re=te;Re--;){var We=z[Re];if(!(B?We in c:zt.call(c,We)))return!1}var Ze=M.get(a),lt=M.get(c);if(Ze&&lt)return Ze==c&&lt==a;var jt=!0;M.set(a,c),M.set(c,a);for(var ct=B;++Re<te;){We=z[Re];var Dt=a[We],Rt=c[We];if(P)var _r=B?P(Rt,Dt,We,c,a,M):P(Dt,Rt,We,a,c,M);if(!(_r===r?Dt===Rt||A(Dt,Rt,p,P,M):_r)){jt=!1;break}ct||(ct=We=="constructor")}if(jt&&!ct){var ur=a.constructor,Or=c.constructor;ur!=Or&&"constructor"in a&&"constructor"in c&&!(typeof ur=="function"&&ur instanceof ur&&typeof Or=="function"&&Or instanceof Or)&&(jt=!1)}return M.delete(a),M.delete(c),jt}function zs(a){return ch(Cb(a,r,_b),a+"")}function th(a){return $g(a,Vn,oh)}function nh(a){return $g(a,yr,yb)}var rh=Hl?function(a){return Hl.get(a)}:Sh;function oc(a){for(var c=a.name+"",p=wa[c],P=zt.call(wa,c)?p.length:0;P--;){var A=p[P],M=A.func;if(M==null||M==a)return A.name}return c}function Ia(a){var c=zt.call(O,"placeholder")?O:a;return c.placeholder}function it(){var a=O.iteratee||vh;return a=a===vh?Wg:a,arguments.length?a(arguments[0],arguments[1]):a}function ac(a,c){var p=a.__data__;return PE(c)?p[typeof c=="string"?"string":"hash"]:p.map}function sh(a){for(var c=Vn(a),p=c.length;p--;){var P=c[p],A=a[P];c[p]=[P,A,Sb(A)]}return c}function zo(a,c){var p=D2(a,c);return Bg(p)?p:r}function bE(a){var c=zt.call(a,Fo),p=a[Fo];try{a[Fo]=r;var P=!0}catch{}var A=Ll.call(a);return P&&(c?a[Fo]=p:delete a[Fo]),A}var oh=ku?function(a){return a==null?[]:(a=en(a),oo(ku(a),function(c){return Pg.call(a,c)}))}:wh,yb=ku?function(a){for(var c=[];a;)ao(c,oh(a)),a=Bl(a);return c}:wh,nr=cr;(_u&&nr(new _u(new ArrayBuffer(1)))!=Wn||xi&&nr(new xi)!=fe||Ou&&nr(Ou.resolve())!=ce||Sa&&nr(new Sa)!=W||gi&&nr(new gi)!=Zt)&&(nr=function(a){var c=cr(a),p=c==_e?a.constructor:r,P=p?Ho(p):"";if(P)switch(P){case eP:return Wn;case tP:return fe;case nP:return ce;case rP:return W;case sP:return Zt}return c});function yE(a,c,p){for(var P=-1,A=p.length;++P<A;){var M=p[P],B=M.size;switch(M.type){case"drop":a+=B;break;case"dropRight":c-=B;break;case"take":c=tr(c,a+B);break;case"takeRight":a=Fn(a,c-B);break}}return{start:a,end:c}}function vE(a){var c=a.match(EC);return c?c[1].split(IC):[]}function vb(a,c,p){c=ho(c,a);for(var P=-1,A=c.length,M=!1;++P<A;){var B=Ds(c[P]);if(!(M=a!=null&&p(a,B)))break;a=a[B]}return M||++P!=A?M:(A=a==null?0:a.length,!!A&&fc(A)&&Hs(B,A)&&(pt(a)||Go(a)))}function jE(a){var c=a.length,p=new a.constructor(c);return c&&typeof a[0]=="string"&&zt.call(a,"index")&&(p.index=a.index,p.input=a.input),p}function jb(a){return typeof a.constructor=="function"&&!Ei(a)?Ca(Bl(a)):{}}function SE(a,c,p){var P=a.constructor;switch(c){case hn:return Qu(a);case Be:case ye:return new P(+a);case Wn:return oE(a,p);case ut:case bt:case kt:case Yt:case Rn:case mn:case er:case yn:case Et:return rb(a,p);case fe:return new P;case ke:case Oe:return new P(a);case Pe:return aE(a);case W:return new P;case ze:return iE(a)}}function wE(a,c){var p=c.length;if(!p)return a;var P=p-1;return c[P]=(p>1?"& ":"")+c[P],c=c.join(p>2?", ":" "),a.replace(PC,`{
/* [wrapped with `+c+`] */
`)}function CE(a){return pt(a)||Go(a)||!!(Eg&&a&&a[Eg])}function Hs(a,c){var p=typeof a;return c=c??Y,!!c&&(p=="number"||p!="symbol"&&NC.test(a))&&a>-1&&a%1==0&&a<c}function dr(a,c,p){if(!xn(p))return!1;var P=typeof c;return(P=="number"?br(p)&&Hs(c,p.length):P=="string"&&c in p)?ds(p[c],a):!1}function ah(a,c){if(pt(a))return!1;var p=typeof a;return p=="number"||p=="symbol"||p=="boolean"||a==null||kr(a)?!0:Dr.test(a)||!vn.test(a)||c!=null&&a in en(c)}function PE(a){var c=typeof a;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?a!=="__proto__":a===null}function ih(a){var c=oc(a),p=O[c];if(typeof p!="function"||!(c in At.prototype))return!1;if(a===p)return!0;var P=rh(p);return!!P&&a===P[0]}function EE(a){return!!Sg&&Sg in a}var IE=Ml?Gs:Ch;function Ei(a){var c=a&&a.constructor,p=typeof c=="function"&&c.prototype||ja;return a===p}function Sb(a){return a===a&&!xn(a)}function wb(a,c){return function(p){return p==null?!1:p[a]===c&&(c!==r||a in en(p))}}function DE(a){var c=uc(a,function(P){return p.size===h&&p.clear(),P}),p=c.cache;return c}function TE(a,c){var p=a[1],P=c[1],A=p|P,M=A<(v|E|_),B=P==_&&p==I||P==_&&p==k&&a[7].length<=c[8]||P==(_|k)&&c[7].length<=c[8]&&p==I;if(!(M||B))return a;P&v&&(a[2]=c[2],A|=p&v?0:w);var z=c[3];if(z){var te=a[3];a[3]=te?ob(te,z,c[4]):z,a[4]=te?io(a[3],f):c[4]}return z=c[5],z&&(te=a[5],a[5]=te?ab(te,z,c[6]):z,a[6]=te?io(a[5],f):c[6]),z=c[7],z&&(a[7]=z),P&_&&(a[8]=a[8]==null?c[8]:tr(a[8],c[8])),a[9]==null&&(a[9]=c[9]),a[0]=c[0],a[1]=A,a}function AE(a){var c=[];if(a!=null)for(var p in en(a))c.push(p);return c}function RE(a){return Ll.call(a)}function Cb(a,c,p){return c=Fn(c===r?a.length-1:c,0),function(){for(var P=arguments,A=-1,M=Fn(P.length-c,0),B=me(M);++A<M;)B[A]=P[c+A];A=-1;for(var z=me(c+1);++A<c;)z[A]=P[A];return z[c]=p(B),Tr(a,this,z)}}function Pb(a,c){return c.length<2?a:Uo(a,Yr(c,0,-1))}function kE(a,c){for(var p=a.length,P=tr(c.length,p),A=gr(a);P--;){var M=c[P];a[P]=Hs(M,p)?A[M]:r}return a}function lh(a,c){if(!(c==="constructor"&&typeof a[c]=="function")&&c!="__proto__")return a[c]}var Eb=Db(Kg),Ii=Y2||function(a,c){return Yn.setTimeout(a,c)},ch=Db(tE);function Ib(a,c,p){var P=c+"";return ch(a,wE(P,_E(vE(P),p)))}function Db(a){var c=0,p=0;return function(){var P=X2(),A=H-(P-p);if(p=P,A>0){if(++c>=L)return arguments[0]}else c=0;return a.apply(r,arguments)}}function ic(a,c){var p=-1,P=a.length,A=P-1;for(c=c===r?P:c;++p<c;){var M=Hu(p,A),B=a[M];a[M]=a[p],a[p]=B}return a.length=c,a}var Tb=DE(function(a){var c=[];return a.charCodeAt(0)===46&&c.push(""),a.replace(Il,function(p,P,A,M){c.push(A?M.replace(AC,"$1"):P||p)}),c});function Ds(a){if(typeof a=="string"||kr(a))return a;var c=a+"";return c=="0"&&1/a==-Q?"-0":c}function Ho(a){if(a!=null){try{return Nl.call(a)}catch{}try{return a+""}catch{}}return""}function _E(a,c){return Ur(ae,function(p){var P="_."+p[0];c&p[1]&&!Rl(a,P)&&a.push(P)}),a.sort()}function Ab(a){if(a instanceof At)return a.clone();var c=new Hr(a.__wrapped__,a.__chain__);return c.__actions__=gr(a.__actions__),c.__index__=a.__index__,c.__values__=a.__values__,c}function OE(a,c,p){(p?dr(a,c,p):c===r)?c=1:c=Fn(yt(c),0);var P=a==null?0:a.length;if(!P||c<1)return[];for(var A=0,M=0,B=me(Ul(P/c));A<P;)B[M++]=Yr(a,A,A+=c);return B}function ME(a){for(var c=-1,p=a==null?0:a.length,P=0,A=[];++c<p;){var M=a[c];M&&(A[P++]=M)}return A}function NE(){var a=arguments.length;if(!a)return[];for(var c=me(a-1),p=arguments[0],P=a;P--;)c[P-1]=arguments[P];return ao(pt(p)?gr(p):[p],qn(c,1))}var LE=wt(function(a,c){return Pn(a)?ji(a,qn(c,1,Pn,!0)):[]}),$E=wt(function(a,c){var p=qr(c);return Pn(p)&&(p=r),Pn(a)?ji(a,qn(c,1,Pn,!0),it(p,2)):[]}),FE=wt(function(a,c){var p=qr(c);return Pn(p)&&(p=r),Pn(a)?ji(a,qn(c,1,Pn,!0),r,p):[]});function BE(a,c,p){var P=a==null?0:a.length;return P?(c=p||c===r?1:yt(c),Yr(a,c<0?0:c,P)):[]}function WE(a,c,p){var P=a==null?0:a.length;return P?(c=p||c===r?1:yt(c),c=P-c,Yr(a,0,c<0?0:c)):[]}function VE(a,c){return a&&a.length?Zl(a,it(c,3),!0,!0):[]}function UE(a,c){return a&&a.length?Zl(a,it(c,3),!0):[]}function zE(a,c,p,P){var A=a==null?0:a.length;return A?(p&&typeof p!="number"&&dr(a,c,p)&&(p=0,P=A),NP(a,c,p,P)):[]}function Rb(a,c,p){var P=a==null?0:a.length;if(!P)return-1;var A=p==null?0:yt(p);return A<0&&(A=Fn(P+A,0)),kl(a,it(c,3),A)}function kb(a,c,p){var P=a==null?0:a.length;if(!P)return-1;var A=P-1;return p!==r&&(A=yt(p),A=p<0?Fn(P+A,0):tr(A,P-1)),kl(a,it(c,3),A,!0)}function _b(a){var c=a==null?0:a.length;return c?qn(a,1):[]}function HE(a){var c=a==null?0:a.length;return c?qn(a,Q):[]}function GE(a,c){var p=a==null?0:a.length;return p?(c=c===r?1:yt(c),qn(a,c)):[]}function YE(a){for(var c=-1,p=a==null?0:a.length,P={};++c<p;){var A=a[c];P[A[0]]=A[1]}return P}function Ob(a){return a&&a.length?a[0]:r}function qE(a,c,p){var P=a==null?0:a.length;if(!P)return-1;var A=p==null?0:yt(p);return A<0&&(A=Fn(P+A,0)),ga(a,c,A)}function KE(a){var c=a==null?0:a.length;return c?Yr(a,0,-1):[]}var JE=wt(function(a){var c=fn(a,Ju);return c.length&&c[0]===a[0]?Bu(c):[]}),XE=wt(function(a){var c=qr(a),p=fn(a,Ju);return c===qr(p)?c=r:p.pop(),p.length&&p[0]===a[0]?Bu(p,it(c,2)):[]}),QE=wt(function(a){var c=qr(a),p=fn(a,Ju);return c=typeof c=="function"?c:r,c&&p.pop(),p.length&&p[0]===a[0]?Bu(p,r,c):[]});function ZE(a,c){return a==null?"":K2.call(a,c)}function qr(a){var c=a==null?0:a.length;return c?a[c-1]:r}function eI(a,c,p){var P=a==null?0:a.length;if(!P)return-1;var A=P;return p!==r&&(A=yt(p),A=A<0?Fn(P+A,0):tr(A,P-1)),c===c?_2(a,c,A):kl(a,pg,A,!0)}function tI(a,c){return a&&a.length?Hg(a,yt(c)):r}var nI=wt(Mb);function Mb(a,c){return a&&a.length&&c&&c.length?zu(a,c):a}function rI(a,c,p){return a&&a.length&&c&&c.length?zu(a,c,it(p,2)):a}function sI(a,c,p){return a&&a.length&&c&&c.length?zu(a,c,r,p):a}var oI=zs(function(a,c){var p=a==null?0:a.length,P=Nu(a,c);return qg(a,fn(c,function(A){return Hs(A,p)?+A:A}).sort(sb)),P});function aI(a,c){var p=[];if(!(a&&a.length))return p;var P=-1,A=[],M=a.length;for(c=it(c,3);++P<M;){var B=a[P];c(B,P,a)&&(p.push(B),A.push(P))}return qg(a,A),p}function dh(a){return a==null?a:Z2.call(a)}function iI(a,c,p){var P=a==null?0:a.length;return P?(p&&typeof p!="number"&&dr(a,c,p)?(c=0,p=P):(c=c==null?0:yt(c),p=p===r?P:yt(p)),Yr(a,c,p)):[]}function lI(a,c){return Ql(a,c)}function cI(a,c,p){return Yu(a,c,it(p,2))}function dI(a,c){var p=a==null?0:a.length;if(p){var P=Ql(a,c);if(P<p&&ds(a[P],c))return P}return-1}function uI(a,c){return Ql(a,c,!0)}function hI(a,c,p){return Yu(a,c,it(p,2),!0)}function fI(a,c){var p=a==null?0:a.length;if(p){var P=Ql(a,c,!0)-1;if(ds(a[P],c))return P}return-1}function pI(a){return a&&a.length?Jg(a):[]}function mI(a,c){return a&&a.length?Jg(a,it(c,2)):[]}function xI(a){var c=a==null?0:a.length;return c?Yr(a,1,c):[]}function gI(a,c,p){return a&&a.length?(c=p||c===r?1:yt(c),Yr(a,0,c<0?0:c)):[]}function bI(a,c,p){var P=a==null?0:a.length;return P?(c=p||c===r?1:yt(c),c=P-c,Yr(a,c<0?0:c,P)):[]}function yI(a,c){return a&&a.length?Zl(a,it(c,3),!1,!0):[]}function vI(a,c){return a&&a.length?Zl(a,it(c,3)):[]}var jI=wt(function(a){return uo(qn(a,1,Pn,!0))}),SI=wt(function(a){var c=qr(a);return Pn(c)&&(c=r),uo(qn(a,1,Pn,!0),it(c,2))}),wI=wt(function(a){var c=qr(a);return c=typeof c=="function"?c:r,uo(qn(a,1,Pn,!0),r,c)});function CI(a){return a&&a.length?uo(a):[]}function PI(a,c){return a&&a.length?uo(a,it(c,2)):[]}function EI(a,c){return c=typeof c=="function"?c:r,a&&a.length?uo(a,r,c):[]}function uh(a){if(!(a&&a.length))return[];var c=0;return a=oo(a,function(p){if(Pn(p))return c=Fn(p.length,c),!0}),Du(c,function(p){return fn(a,Pu(p))})}function Nb(a,c){if(!(a&&a.length))return[];var p=uh(a);return c==null?p:fn(p,function(P){return Tr(c,r,P)})}var II=wt(function(a,c){return Pn(a)?ji(a,c):[]}),DI=wt(function(a){return Ku(oo(a,Pn))}),TI=wt(function(a){var c=qr(a);return Pn(c)&&(c=r),Ku(oo(a,Pn),it(c,2))}),AI=wt(function(a){var c=qr(a);return c=typeof c=="function"?c:r,Ku(oo(a,Pn),r,c)}),RI=wt(uh);function kI(a,c){return eb(a||[],c||[],vi)}function _I(a,c){return eb(a||[],c||[],Ci)}var OI=wt(function(a){var c=a.length,p=c>1?a[c-1]:r;return p=typeof p=="function"?(a.pop(),p):r,Nb(a,p)});function Lb(a){var c=O(a);return c.__chain__=!0,c}function MI(a,c){return c(a),a}function lc(a,c){return c(a)}var NI=zs(function(a){var c=a.length,p=c?a[0]:0,P=this.__wrapped__,A=function(M){return Nu(M,a)};return c>1||this.__actions__.length||!(P instanceof At)||!Hs(p)?this.thru(A):(P=P.slice(p,+p+(c?1:0)),P.__actions__.push({func:lc,args:[A],thisArg:r}),new Hr(P,this.__chain__).thru(function(M){return c&&!M.length&&M.push(r),M}))});function LI(){return Lb(this)}function $I(){return new Hr(this.value(),this.__chain__)}function FI(){this.__values__===r&&(this.__values__=Xb(this.value()));var a=this.__index__>=this.__values__.length,c=a?r:this.__values__[this.__index__++];return{done:a,value:c}}function BI(){return this}function WI(a){for(var c,p=this;p instanceof Yl;){var P=Ab(p);P.__index__=0,P.__values__=r,c?A.__wrapped__=P:c=P;var A=P;p=p.__wrapped__}return A.__wrapped__=a,c}function VI(){var a=this.__wrapped__;if(a instanceof At){var c=a;return this.__actions__.length&&(c=new At(this)),c=c.reverse(),c.__actions__.push({func:lc,args:[dh],thisArg:r}),new Hr(c,this.__chain__)}return this.thru(dh)}function UI(){return Zg(this.__wrapped__,this.__actions__)}var zI=ec(function(a,c,p){zt.call(a,p)?++a[p]:Vs(a,p,1)});function HI(a,c,p){var P=pt(a)?hg:MP;return p&&dr(a,c,p)&&(c=r),P(a,it(c,3))}function GI(a,c){var p=pt(a)?oo:Ng;return p(a,it(c,3))}var YI=db(Rb),qI=db(kb);function KI(a,c){return qn(cc(a,c),1)}function JI(a,c){return qn(cc(a,c),Q)}function XI(a,c,p){return p=p===r?1:yt(p),qn(cc(a,c),p)}function $b(a,c){var p=pt(a)?Ur:co;return p(a,it(c,3))}function Fb(a,c){var p=pt(a)?x2:Mg;return p(a,it(c,3))}var QI=ec(function(a,c,p){zt.call(a,p)?a[p].push(c):Vs(a,p,[c])});function ZI(a,c,p,P){a=br(a)?a:Ta(a),p=p&&!P?yt(p):0;var A=a.length;return p<0&&(p=Fn(A+p,0)),pc(a)?p<=A&&a.indexOf(c,p)>-1:!!A&&ga(a,c,p)>-1}var eD=wt(function(a,c,p){var P=-1,A=typeof c=="function",M=br(a)?me(a.length):[];return co(a,function(B){M[++P]=A?Tr(c,B,p):Si(B,c,p)}),M}),tD=ec(function(a,c,p){Vs(a,p,c)});function cc(a,c){var p=pt(a)?fn:Vg;return p(a,it(c,3))}function nD(a,c,p,P){return a==null?[]:(pt(c)||(c=c==null?[]:[c]),p=P?r:p,pt(p)||(p=p==null?[]:[p]),Gg(a,c,p))}var rD=ec(function(a,c,p){a[p?0:1].push(c)},function(){return[[],[]]});function sD(a,c,p){var P=pt(a)?wu:xg,A=arguments.length<3;return P(a,it(c,4),p,A,co)}function oD(a,c,p){var P=pt(a)?g2:xg,A=arguments.length<3;return P(a,it(c,4),p,A,Mg)}function aD(a,c){var p=pt(a)?oo:Ng;return p(a,hc(it(c,3)))}function iD(a){var c=pt(a)?Rg:ZP;return c(a)}function lD(a,c,p){(p?dr(a,c,p):c===r)?c=1:c=yt(c);var P=pt(a)?AP:eE;return P(a,c)}function cD(a){var c=pt(a)?RP:nE;return c(a)}function dD(a){if(a==null)return 0;if(br(a))return pc(a)?ya(a):a.length;var c=nr(a);return c==fe||c==W?a.size:Vu(a).length}function uD(a,c,p){var P=pt(a)?Cu:rE;return p&&dr(a,c,p)&&(c=r),P(a,it(c,3))}var hD=wt(function(a,c){if(a==null)return[];var p=c.length;return p>1&&dr(a,c[0],c[1])?c=[]:p>2&&dr(c[0],c[1],c[2])&&(c=[c[0]]),Gg(a,qn(c,1),[])}),dc=G2||function(){return Yn.Date.now()};function fD(a,c){if(typeof c!="function")throw new zr(l);return a=yt(a),function(){if(--a<1)return c.apply(this,arguments)}}function Bb(a,c,p){return c=p?r:c,c=a&&c==null?a.length:c,Us(a,_,r,r,r,r,c)}function Wb(a,c){var p;if(typeof c!="function")throw new zr(l);return a=yt(a),function(){return--a>0&&(p=c.apply(this,arguments)),a<=1&&(c=r),p}}var hh=wt(function(a,c,p){var P=v;if(p.length){var A=io(p,Ia(hh));P|=T}return Us(a,P,c,p,A)}),Vb=wt(function(a,c,p){var P=v|E;if(p.length){var A=io(p,Ia(Vb));P|=T}return Us(c,P,a,p,A)});function Ub(a,c,p){c=p?r:c;var P=Us(a,I,r,r,r,r,r,c);return P.placeholder=Ub.placeholder,P}function zb(a,c,p){c=p?r:c;var P=Us(a,D,r,r,r,r,r,c);return P.placeholder=zb.placeholder,P}function Hb(a,c,p){var P,A,M,B,z,te,Ie=0,De=!1,Re=!1,We=!0;if(typeof a!="function")throw new zr(l);c=Kr(c)||0,xn(p)&&(De=!!p.leading,Re="maxWait"in p,M=Re?Fn(Kr(p.maxWait)||0,c):M,We="trailing"in p?!!p.trailing:We);function Ze(En){var us=P,qs=A;return P=A=r,Ie=En,B=a.apply(qs,us),B}function lt(En){return Ie=En,z=Ii(Dt,c),De?Ze(En):B}function jt(En){var us=En-te,qs=En-Ie,dy=c-us;return Re?tr(dy,M-qs):dy}function ct(En){var us=En-te,qs=En-Ie;return te===r||us>=c||us<0||Re&&qs>=M}function Dt(){var En=dc();if(ct(En))return Rt(En);z=Ii(Dt,jt(En))}function Rt(En){return z=r,We&&P?Ze(En):(P=A=r,B)}function _r(){z!==r&&tb(z),Ie=0,P=te=A=z=r}function ur(){return z===r?B:Rt(dc())}function Or(){var En=dc(),us=ct(En);if(P=arguments,A=this,te=En,us){if(z===r)return lt(te);if(Re)return tb(z),z=Ii(Dt,c),Ze(te)}return z===r&&(z=Ii(Dt,c)),B}return Or.cancel=_r,Or.flush=ur,Or}var pD=wt(function(a,c){return Og(a,1,c)}),mD=wt(function(a,c,p){return Og(a,Kr(c)||0,p)});function xD(a){return Us(a,N)}function uc(a,c){if(typeof a!="function"||c!=null&&typeof c!="function")throw new zr(l);var p=function(){var P=arguments,A=c?c.apply(this,P):P[0],M=p.cache;if(M.has(A))return M.get(A);var B=a.apply(this,P);return p.cache=M.set(A,B)||M,B};return p.cache=new(uc.Cache||Ws),p}uc.Cache=Ws;function hc(a){if(typeof a!="function")throw new zr(l);return function(){var c=arguments;switch(c.length){case 0:return!a.call(this);case 1:return!a.call(this,c[0]);case 2:return!a.call(this,c[0],c[1]);case 3:return!a.call(this,c[0],c[1],c[2])}return!a.apply(this,c)}}function gD(a){return Wb(2,a)}var bD=sE(function(a,c){c=c.length==1&&pt(c[0])?fn(c[0],Ar(it())):fn(qn(c,1),Ar(it()));var p=c.length;return wt(function(P){for(var A=-1,M=tr(P.length,p);++A<M;)P[A]=c[A].call(this,P[A]);return Tr(a,this,P)})}),fh=wt(function(a,c){var p=io(c,Ia(fh));return Us(a,T,r,c,p)}),Gb=wt(function(a,c){var p=io(c,Ia(Gb));return Us(a,R,r,c,p)}),yD=zs(function(a,c){return Us(a,k,r,r,r,c)});function vD(a,c){if(typeof a!="function")throw new zr(l);return c=c===r?c:yt(c),wt(a,c)}function jD(a,c){if(typeof a!="function")throw new zr(l);return c=c==null?0:Fn(yt(c),0),wt(function(p){var P=p[c],A=fo(p,0,c);return P&&ao(A,P),Tr(a,this,A)})}function SD(a,c,p){var P=!0,A=!0;if(typeof a!="function")throw new zr(l);return xn(p)&&(P="leading"in p?!!p.leading:P,A="trailing"in p?!!p.trailing:A),Hb(a,c,{leading:P,maxWait:c,trailing:A})}function wD(a){return Bb(a,1)}function CD(a,c){return fh(Xu(c),a)}function PD(){if(!arguments.length)return[];var a=arguments[0];return pt(a)?a:[a]}function ED(a){return Gr(a,y)}function ID(a,c){return c=typeof c=="function"?c:r,Gr(a,y,c)}function DD(a){return Gr(a,m|y)}function TD(a,c){return c=typeof c=="function"?c:r,Gr(a,m|y,c)}function AD(a,c){return c==null||_g(a,c,Vn(c))}function ds(a,c){return a===c||a!==a&&c!==c}var RD=sc(Fu),kD=sc(function(a,c){return a>=c}),Go=Fg(function(){return arguments}())?Fg:function(a){return jn(a)&&zt.call(a,"callee")&&!Pg.call(a,"callee")},pt=me.isArray,_D=ag?Ar(ag):WP;function br(a){return a!=null&&fc(a.length)&&!Gs(a)}function Pn(a){return jn(a)&&br(a)}function OD(a){return a===!0||a===!1||jn(a)&&cr(a)==Be}var po=q2||Ch,MD=ig?Ar(ig):VP;function ND(a){return jn(a)&&a.nodeType===1&&!Di(a)}function LD(a){if(a==null)return!0;if(br(a)&&(pt(a)||typeof a=="string"||typeof a.splice=="function"||po(a)||Da(a)||Go(a)))return!a.length;var c=nr(a);if(c==fe||c==W)return!a.size;if(Ei(a))return!Vu(a).length;for(var p in a)if(zt.call(a,p))return!1;return!0}function $D(a,c){return wi(a,c)}function FD(a,c,p){p=typeof p=="function"?p:r;var P=p?p(a,c):r;return P===r?wi(a,c,r,p):!!P}function ph(a){if(!jn(a))return!1;var c=cr(a);return c==le||c==ie||typeof a.message=="string"&&typeof a.name=="string"&&!Di(a)}function BD(a){return typeof a=="number"&&Ig(a)}function Gs(a){if(!xn(a))return!1;var c=cr(a);return c==se||c==xe||c==Ae||c==Se}function Yb(a){return typeof a=="number"&&a==yt(a)}function fc(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=Y}function xn(a){var c=typeof a;return a!=null&&(c=="object"||c=="function")}function jn(a){return a!=null&&typeof a=="object"}var qb=lg?Ar(lg):zP;function WD(a,c){return a===c||Wu(a,c,sh(c))}function VD(a,c,p){return p=typeof p=="function"?p:r,Wu(a,c,sh(c),p)}function UD(a){return Kb(a)&&a!=+a}function zD(a){if(IE(a))throw new ft(i);return Bg(a)}function HD(a){return a===null}function GD(a){return a==null}function Kb(a){return typeof a=="number"||jn(a)&&cr(a)==ke}function Di(a){if(!jn(a)||cr(a)!=_e)return!1;var c=Bl(a);if(c===null)return!0;var p=zt.call(c,"constructor")&&c.constructor;return typeof p=="function"&&p instanceof p&&Nl.call(p)==V2}var mh=cg?Ar(cg):HP;function YD(a){return Yb(a)&&a>=-Y&&a<=Y}var Jb=dg?Ar(dg):GP;function pc(a){return typeof a=="string"||!pt(a)&&jn(a)&&cr(a)==Oe}function kr(a){return typeof a=="symbol"||jn(a)&&cr(a)==ze}var Da=ug?Ar(ug):YP;function qD(a){return a===r}function KD(a){return jn(a)&&nr(a)==Zt}function JD(a){return jn(a)&&cr(a)==Nt}var XD=sc(Uu),QD=sc(function(a,c){return a<=c});function Xb(a){if(!a)return[];if(br(a))return pc(a)?ls(a):gr(a);if(mi&&a[mi])return A2(a[mi]());var c=nr(a),p=c==fe?Au:c==W?_l:Ta;return p(a)}function Ys(a){if(!a)return a===0?a:0;if(a=Kr(a),a===Q||a===-Q){var c=a<0?-1:1;return c*oe}return a===a?a:0}function yt(a){var c=Ys(a),p=c%1;return c===c?p?c-p:c:0}function Qb(a){return a?Vo(yt(a),0,Z):0}function Kr(a){if(typeof a=="number")return a;if(kr(a))return V;if(xn(a)){var c=typeof a.valueOf=="function"?a.valueOf():a;a=xn(c)?c+"":c}if(typeof a!="string")return a===0?a:+a;a=gg(a);var p=_C.test(a);return p||MC.test(a)?f2(a.slice(2),p?2:8):kC.test(a)?V:+a}function Zb(a){return Is(a,yr(a))}function ZD(a){return a?Vo(yt(a),-Y,Y):a===0?a:0}function Bt(a){return a==null?"":Rr(a)}var eT=Pa(function(a,c){if(Ei(c)||br(c)){Is(c,Vn(c),a);return}for(var p in c)zt.call(c,p)&&vi(a,p,c[p])}),ey=Pa(function(a,c){Is(c,yr(c),a)}),mc=Pa(function(a,c,p,P){Is(c,yr(c),a,P)}),tT=Pa(function(a,c,p,P){Is(c,Vn(c),a,P)}),nT=zs(Nu);function rT(a,c){var p=Ca(a);return c==null?p:kg(p,c)}var sT=wt(function(a,c){a=en(a);var p=-1,P=c.length,A=P>2?c[2]:r;for(A&&dr(c[0],c[1],A)&&(P=1);++p<P;)for(var M=c[p],B=yr(M),z=-1,te=B.length;++z<te;){var Ie=B[z],De=a[Ie];(De===r||ds(De,ja[Ie])&&!zt.call(a,Ie))&&(a[Ie]=M[Ie])}return a}),oT=wt(function(a){return a.push(r,gb),Tr(ty,r,a)});function aT(a,c){return fg(a,it(c,3),Es)}function iT(a,c){return fg(a,it(c,3),$u)}function lT(a,c){return a==null?a:Lu(a,it(c,3),yr)}function cT(a,c){return a==null?a:Lg(a,it(c,3),yr)}function dT(a,c){return a&&Es(a,it(c,3))}function uT(a,c){return a&&$u(a,it(c,3))}function hT(a){return a==null?[]:Jl(a,Vn(a))}function fT(a){return a==null?[]:Jl(a,yr(a))}function xh(a,c,p){var P=a==null?r:Uo(a,c);return P===r?p:P}function pT(a,c){return a!=null&&vb(a,c,LP)}function gh(a,c){return a!=null&&vb(a,c,$P)}var mT=hb(function(a,c,p){c!=null&&typeof c.toString!="function"&&(c=Ll.call(c)),a[c]=p},yh(vr)),xT=hb(function(a,c,p){c!=null&&typeof c.toString!="function"&&(c=Ll.call(c)),zt.call(a,c)?a[c].push(p):a[c]=[p]},it),gT=wt(Si);function Vn(a){return br(a)?Ag(a):Vu(a)}function yr(a){return br(a)?Ag(a,!0):qP(a)}function bT(a,c){var p={};return c=it(c,3),Es(a,function(P,A,M){Vs(p,c(P,A,M),P)}),p}function yT(a,c){var p={};return c=it(c,3),Es(a,function(P,A,M){Vs(p,A,c(P,A,M))}),p}var vT=Pa(function(a,c,p){Xl(a,c,p)}),ty=Pa(function(a,c,p,P){Xl(a,c,p,P)}),jT=zs(function(a,c){var p={};if(a==null)return p;var P=!1;c=fn(c,function(M){return M=ho(M,a),P||(P=M.length>1),M}),Is(a,nh(a),p),P&&(p=Gr(p,m|g|y,mE));for(var A=c.length;A--;)qu(p,c[A]);return p});function ST(a,c){return ny(a,hc(it(c)))}var wT=zs(function(a,c){return a==null?{}:JP(a,c)});function ny(a,c){if(a==null)return{};var p=fn(nh(a),function(P){return[P]});return c=it(c),Yg(a,p,function(P,A){return c(P,A[0])})}function CT(a,c,p){c=ho(c,a);var P=-1,A=c.length;for(A||(A=1,a=r);++P<A;){var M=a==null?r:a[Ds(c[P])];M===r&&(P=A,M=p),a=Gs(M)?M.call(a):M}return a}function PT(a,c,p){return a==null?a:Ci(a,c,p)}function ET(a,c,p,P){return P=typeof P=="function"?P:r,a==null?a:Ci(a,c,p,P)}var ry=mb(Vn),sy=mb(yr);function IT(a,c,p){var P=pt(a),A=P||po(a)||Da(a);if(c=it(c,4),p==null){var M=a&&a.constructor;A?p=P?new M:[]:xn(a)?p=Gs(M)?Ca(Bl(a)):{}:p={}}return(A?Ur:Es)(a,function(B,z,te){return c(p,B,z,te)}),p}function DT(a,c){return a==null?!0:qu(a,c)}function TT(a,c,p){return a==null?a:Qg(a,c,Xu(p))}function AT(a,c,p,P){return P=typeof P=="function"?P:r,a==null?a:Qg(a,c,Xu(p),P)}function Ta(a){return a==null?[]:Tu(a,Vn(a))}function RT(a){return a==null?[]:Tu(a,yr(a))}function kT(a,c,p){return p===r&&(p=c,c=r),p!==r&&(p=Kr(p),p=p===p?p:0),c!==r&&(c=Kr(c),c=c===c?c:0),Vo(Kr(a),c,p)}function _T(a,c,p){return c=Ys(c),p===r?(p=c,c=0):p=Ys(p),a=Kr(a),FP(a,c,p)}function OT(a,c,p){if(p&&typeof p!="boolean"&&dr(a,c,p)&&(c=p=r),p===r&&(typeof c=="boolean"?(p=c,c=r):typeof a=="boolean"&&(p=a,a=r)),a===r&&c===r?(a=0,c=1):(a=Ys(a),c===r?(c=a,a=0):c=Ys(c)),a>c){var P=a;a=c,c=P}if(p||a%1||c%1){var A=Dg();return tr(a+A*(c-a+h2("1e-"+((A+"").length-1))),c)}return Hu(a,c)}var MT=Ea(function(a,c,p){return c=c.toLowerCase(),a+(p?oy(c):c)});function oy(a){return bh(Bt(a).toLowerCase())}function ay(a){return a=Bt(a),a&&a.replace(LC,P2).replace(n2,"")}function NT(a,c,p){a=Bt(a),c=Rr(c);var P=a.length;p=p===r?P:Vo(yt(p),0,P);var A=p;return p-=c.length,p>=0&&a.slice(p,A)==c}function LT(a){return a=Bt(a),a&&du.test(a)?a.replace(lr,E2):a}function $T(a){return a=Bt(a),a&&wC.test(a)?a.replace(fu,"\\$&"):a}var FT=Ea(function(a,c,p){return a+(p?"-":"")+c.toLowerCase()}),BT=Ea(function(a,c,p){return a+(p?" ":"")+c.toLowerCase()}),WT=cb("toLowerCase");function VT(a,c,p){a=Bt(a),c=yt(c);var P=c?ya(a):0;if(!c||P>=c)return a;var A=(c-P)/2;return rc(zl(A),p)+a+rc(Ul(A),p)}function UT(a,c,p){a=Bt(a),c=yt(c);var P=c?ya(a):0;return c&&P<c?a+rc(c-P,p):a}function zT(a,c,p){a=Bt(a),c=yt(c);var P=c?ya(a):0;return c&&P<c?rc(c-P,p)+a:a}function HT(a,c,p){return p||c==null?c=0:c&&(c=+c),Q2(Bt(a).replace(pu,""),c||0)}function GT(a,c,p){return(p?dr(a,c,p):c===r)?c=1:c=yt(c),Gu(Bt(a),c)}function YT(){var a=arguments,c=Bt(a[0]);return a.length<3?c:c.replace(a[1],a[2])}var qT=Ea(function(a,c,p){return a+(p?"_":"")+c.toLowerCase()});function KT(a,c,p){return p&&typeof p!="number"&&dr(a,c,p)&&(c=p=r),p=p===r?Z:p>>>0,p?(a=Bt(a),a&&(typeof c=="string"||c!=null&&!mh(c))&&(c=Rr(c),!c&&ba(a))?fo(ls(a),0,p):a.split(c,p)):[]}var JT=Ea(function(a,c,p){return a+(p?" ":"")+bh(c)});function XT(a,c,p){return a=Bt(a),p=p==null?0:Vo(yt(p),0,a.length),c=Rr(c),a.slice(p,p+c.length)==c}function QT(a,c,p){var P=O.templateSettings;p&&dr(a,c,p)&&(c=r),a=Bt(a),c=mc({},c,P,xb);var A=mc({},c.imports,P.imports,xb),M=Vn(A),B=Tu(A,M),z,te,Ie=0,De=c.interpolate||Dl,Re="__p += '",We=Ru((c.escape||Dl).source+"|"+De.source+"|"+(De===hu?RC:Dl).source+"|"+(c.evaluate||Dl).source+"|$","g"),Ze="//# sourceURL="+(zt.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++i2+"]")+`
`;a.replace(We,function(ct,Dt,Rt,_r,ur,Or){return Rt||(Rt=_r),Re+=a.slice(Ie,Or).replace($C,I2),Dt&&(z=!0,Re+=`' +
__e(`+Dt+`) +
'`),ur&&(te=!0,Re+=`';
`+ur+`;
__p += '`),Rt&&(Re+=`' +
((__t = (`+Rt+`)) == null ? '' : __t) +
'`),Ie=Or+ct.length,ct}),Re+=`';
`;var lt=zt.call(c,"variable")&&c.variable;if(!lt)Re=`with (obj) {
`+Re+`
}
`;else if(TC.test(lt))throw new ft(d);Re=(te?Re.replace(kn,""):Re).replace(Gn,"$1").replace(Ir,"$1;"),Re="function("+(lt||"obj")+`) {
`+(lt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(z?", __e = _.escape":"")+(te?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Re+`return __p
}`;var jt=ly(function(){return Lt(M,Ze+"return "+Re).apply(r,B)});if(jt.source=Re,ph(jt))throw jt;return jt}function ZT(a){return Bt(a).toLowerCase()}function eA(a){return Bt(a).toUpperCase()}function tA(a,c,p){if(a=Bt(a),a&&(p||c===r))return gg(a);if(!a||!(c=Rr(c)))return a;var P=ls(a),A=ls(c),M=bg(P,A),B=yg(P,A)+1;return fo(P,M,B).join("")}function nA(a,c,p){if(a=Bt(a),a&&(p||c===r))return a.slice(0,jg(a)+1);if(!a||!(c=Rr(c)))return a;var P=ls(a),A=yg(P,ls(c))+1;return fo(P,0,A).join("")}function rA(a,c,p){if(a=Bt(a),a&&(p||c===r))return a.replace(pu,"");if(!a||!(c=Rr(c)))return a;var P=ls(a),A=bg(P,ls(c));return fo(P,A).join("")}function sA(a,c){var p=$,P=G;if(xn(c)){var A="separator"in c?c.separator:A;p="length"in c?yt(c.length):p,P="omission"in c?Rr(c.omission):P}a=Bt(a);var M=a.length;if(ba(a)){var B=ls(a);M=B.length}if(p>=M)return a;var z=p-ya(P);if(z<1)return P;var te=B?fo(B,0,z).join(""):a.slice(0,z);if(A===r)return te+P;if(B&&(z+=te.length-z),mh(A)){if(a.slice(z).search(A)){var Ie,De=te;for(A.global||(A=Ru(A.source,Bt(Fx.exec(A))+"g")),A.lastIndex=0;Ie=A.exec(De);)var Re=Ie.index;te=te.slice(0,Re===r?z:Re)}}else if(a.indexOf(Rr(A),z)!=z){var We=te.lastIndexOf(A);We>-1&&(te=te.slice(0,We))}return te+P}function oA(a){return a=Bt(a),a&&cu.test(a)?a.replace(Lo,O2):a}var aA=Ea(function(a,c,p){return a+(p?" ":"")+c.toUpperCase()}),bh=cb("toUpperCase");function iy(a,c,p){return a=Bt(a),c=p?r:c,c===r?T2(a)?L2(a):v2(a):a.match(c)||[]}var ly=wt(function(a,c){try{return Tr(a,r,c)}catch(p){return ph(p)?p:new ft(p)}}),iA=zs(function(a,c){return Ur(c,function(p){p=Ds(p),Vs(a,p,hh(a[p],a))}),a});function lA(a){var c=a==null?0:a.length,p=it();return a=c?fn(a,function(P){if(typeof P[1]!="function")throw new zr(l);return[p(P[0]),P[1]]}):[],wt(function(P){for(var A=-1;++A<c;){var M=a[A];if(Tr(M[0],this,P))return Tr(M[1],this,P)}})}function cA(a){return OP(Gr(a,m))}function yh(a){return function(){return a}}function dA(a,c){return a==null||a!==a?c:a}var uA=ub(),hA=ub(!0);function vr(a){return a}function vh(a){return Wg(typeof a=="function"?a:Gr(a,m))}function fA(a){return Ug(Gr(a,m))}function pA(a,c){return zg(a,Gr(c,m))}var mA=wt(function(a,c){return function(p){return Si(p,a,c)}}),xA=wt(function(a,c){return function(p){return Si(a,p,c)}});function jh(a,c,p){var P=Vn(c),A=Jl(c,P);p==null&&!(xn(c)&&(A.length||!P.length))&&(p=c,c=a,a=this,A=Jl(c,Vn(c)));var M=!(xn(p)&&"chain"in p)||!!p.chain,B=Gs(a);return Ur(A,function(z){var te=c[z];a[z]=te,B&&(a.prototype[z]=function(){var Ie=this.__chain__;if(M||Ie){var De=a(this.__wrapped__),Re=De.__actions__=gr(this.__actions__);return Re.push({func:te,args:arguments,thisArg:a}),De.__chain__=Ie,De}return te.apply(a,ao([this.value()],arguments))})}),a}function gA(){return Yn._===this&&(Yn._=U2),this}function Sh(){}function bA(a){return a=yt(a),wt(function(c){return Hg(c,a)})}var yA=Zu(fn),vA=Zu(hg),jA=Zu(Cu);function cy(a){return ah(a)?Pu(Ds(a)):XP(a)}function SA(a){return function(c){return a==null?r:Uo(a,c)}}var wA=fb(),CA=fb(!0);function wh(){return[]}function Ch(){return!1}function PA(){return{}}function EA(){return""}function IA(){return!0}function DA(a,c){if(a=yt(a),a<1||a>Y)return[];var p=Z,P=tr(a,Z);c=it(c),a-=Z;for(var A=Du(P,c);++p<a;)c(p);return A}function TA(a){return pt(a)?fn(a,Ds):kr(a)?[a]:gr(Tb(Bt(a)))}function AA(a){var c=++W2;return Bt(a)+c}var RA=nc(function(a,c){return a+c},0),kA=eh("ceil"),_A=nc(function(a,c){return a/c},1),OA=eh("floor");function MA(a){return a&&a.length?Kl(a,vr,Fu):r}function NA(a,c){return a&&a.length?Kl(a,it(c,2),Fu):r}function LA(a){return mg(a,vr)}function $A(a,c){return mg(a,it(c,2))}function FA(a){return a&&a.length?Kl(a,vr,Uu):r}function BA(a,c){return a&&a.length?Kl(a,it(c,2),Uu):r}var WA=nc(function(a,c){return a*c},1),VA=eh("round"),UA=nc(function(a,c){return a-c},0);function zA(a){return a&&a.length?Iu(a,vr):0}function HA(a,c){return a&&a.length?Iu(a,it(c,2)):0}return O.after=fD,O.ary=Bb,O.assign=eT,O.assignIn=ey,O.assignInWith=mc,O.assignWith=tT,O.at=nT,O.before=Wb,O.bind=hh,O.bindAll=iA,O.bindKey=Vb,O.castArray=PD,O.chain=Lb,O.chunk=OE,O.compact=ME,O.concat=NE,O.cond=lA,O.conforms=cA,O.constant=yh,O.countBy=zI,O.create=rT,O.curry=Ub,O.curryRight=zb,O.debounce=Hb,O.defaults=sT,O.defaultsDeep=oT,O.defer=pD,O.delay=mD,O.difference=LE,O.differenceBy=$E,O.differenceWith=FE,O.drop=BE,O.dropRight=WE,O.dropRightWhile=VE,O.dropWhile=UE,O.fill=zE,O.filter=GI,O.flatMap=KI,O.flatMapDeep=JI,O.flatMapDepth=XI,O.flatten=_b,O.flattenDeep=HE,O.flattenDepth=GE,O.flip=xD,O.flow=uA,O.flowRight=hA,O.fromPairs=YE,O.functions=hT,O.functionsIn=fT,O.groupBy=QI,O.initial=KE,O.intersection=JE,O.intersectionBy=XE,O.intersectionWith=QE,O.invert=mT,O.invertBy=xT,O.invokeMap=eD,O.iteratee=vh,O.keyBy=tD,O.keys=Vn,O.keysIn=yr,O.map=cc,O.mapKeys=bT,O.mapValues=yT,O.matches=fA,O.matchesProperty=pA,O.memoize=uc,O.merge=vT,O.mergeWith=ty,O.method=mA,O.methodOf=xA,O.mixin=jh,O.negate=hc,O.nthArg=bA,O.omit=jT,O.omitBy=ST,O.once=gD,O.orderBy=nD,O.over=yA,O.overArgs=bD,O.overEvery=vA,O.overSome=jA,O.partial=fh,O.partialRight=Gb,O.partition=rD,O.pick=wT,O.pickBy=ny,O.property=cy,O.propertyOf=SA,O.pull=nI,O.pullAll=Mb,O.pullAllBy=rI,O.pullAllWith=sI,O.pullAt=oI,O.range=wA,O.rangeRight=CA,O.rearg=yD,O.reject=aD,O.remove=aI,O.rest=vD,O.reverse=dh,O.sampleSize=lD,O.set=PT,O.setWith=ET,O.shuffle=cD,O.slice=iI,O.sortBy=hD,O.sortedUniq=pI,O.sortedUniqBy=mI,O.split=KT,O.spread=jD,O.tail=xI,O.take=gI,O.takeRight=bI,O.takeRightWhile=yI,O.takeWhile=vI,O.tap=MI,O.throttle=SD,O.thru=lc,O.toArray=Xb,O.toPairs=ry,O.toPairsIn=sy,O.toPath=TA,O.toPlainObject=Zb,O.transform=IT,O.unary=wD,O.union=jI,O.unionBy=SI,O.unionWith=wI,O.uniq=CI,O.uniqBy=PI,O.uniqWith=EI,O.unset=DT,O.unzip=uh,O.unzipWith=Nb,O.update=TT,O.updateWith=AT,O.values=Ta,O.valuesIn=RT,O.without=II,O.words=iy,O.wrap=CD,O.xor=DI,O.xorBy=TI,O.xorWith=AI,O.zip=RI,O.zipObject=kI,O.zipObjectDeep=_I,O.zipWith=OI,O.entries=ry,O.entriesIn=sy,O.extend=ey,O.extendWith=mc,jh(O,O),O.add=RA,O.attempt=ly,O.camelCase=MT,O.capitalize=oy,O.ceil=kA,O.clamp=kT,O.clone=ED,O.cloneDeep=DD,O.cloneDeepWith=TD,O.cloneWith=ID,O.conformsTo=AD,O.deburr=ay,O.defaultTo=dA,O.divide=_A,O.endsWith=NT,O.eq=ds,O.escape=LT,O.escapeRegExp=$T,O.every=HI,O.find=YI,O.findIndex=Rb,O.findKey=aT,O.findLast=qI,O.findLastIndex=kb,O.findLastKey=iT,O.floor=OA,O.forEach=$b,O.forEachRight=Fb,O.forIn=lT,O.forInRight=cT,O.forOwn=dT,O.forOwnRight=uT,O.get=xh,O.gt=RD,O.gte=kD,O.has=pT,O.hasIn=gh,O.head=Ob,O.identity=vr,O.includes=ZI,O.indexOf=qE,O.inRange=_T,O.invoke=gT,O.isArguments=Go,O.isArray=pt,O.isArrayBuffer=_D,O.isArrayLike=br,O.isArrayLikeObject=Pn,O.isBoolean=OD,O.isBuffer=po,O.isDate=MD,O.isElement=ND,O.isEmpty=LD,O.isEqual=$D,O.isEqualWith=FD,O.isError=ph,O.isFinite=BD,O.isFunction=Gs,O.isInteger=Yb,O.isLength=fc,O.isMap=qb,O.isMatch=WD,O.isMatchWith=VD,O.isNaN=UD,O.isNative=zD,O.isNil=GD,O.isNull=HD,O.isNumber=Kb,O.isObject=xn,O.isObjectLike=jn,O.isPlainObject=Di,O.isRegExp=mh,O.isSafeInteger=YD,O.isSet=Jb,O.isString=pc,O.isSymbol=kr,O.isTypedArray=Da,O.isUndefined=qD,O.isWeakMap=KD,O.isWeakSet=JD,O.join=ZE,O.kebabCase=FT,O.last=qr,O.lastIndexOf=eI,O.lowerCase=BT,O.lowerFirst=WT,O.lt=XD,O.lte=QD,O.max=MA,O.maxBy=NA,O.mean=LA,O.meanBy=$A,O.min=FA,O.minBy=BA,O.stubArray=wh,O.stubFalse=Ch,O.stubObject=PA,O.stubString=EA,O.stubTrue=IA,O.multiply=WA,O.nth=tI,O.noConflict=gA,O.noop=Sh,O.now=dc,O.pad=VT,O.padEnd=UT,O.padStart=zT,O.parseInt=HT,O.random=OT,O.reduce=sD,O.reduceRight=oD,O.repeat=GT,O.replace=YT,O.result=CT,O.round=VA,O.runInContext=X,O.sample=iD,O.size=dD,O.snakeCase=qT,O.some=uD,O.sortedIndex=lI,O.sortedIndexBy=cI,O.sortedIndexOf=dI,O.sortedLastIndex=uI,O.sortedLastIndexBy=hI,O.sortedLastIndexOf=fI,O.startCase=JT,O.startsWith=XT,O.subtract=UA,O.sum=zA,O.sumBy=HA,O.template=QT,O.times=DA,O.toFinite=Ys,O.toInteger=yt,O.toLength=Qb,O.toLower=ZT,O.toNumber=Kr,O.toSafeInteger=ZD,O.toString=Bt,O.toUpper=eA,O.trim=tA,O.trimEnd=nA,O.trimStart=rA,O.truncate=sA,O.unescape=oA,O.uniqueId=AA,O.upperCase=aA,O.upperFirst=bh,O.each=$b,O.eachRight=Fb,O.first=Ob,jh(O,function(){var a={};return Es(O,function(c,p){zt.call(O.prototype,p)||(a[p]=c)}),a}(),{chain:!1}),O.VERSION=s,Ur(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){O[a].placeholder=O}),Ur(["drop","take"],function(a,c){At.prototype[a]=function(p){p=p===r?1:Fn(yt(p),0);var P=this.__filtered__&&!c?new At(this):this.clone();return P.__filtered__?P.__takeCount__=tr(p,P.__takeCount__):P.__views__.push({size:tr(p,Z),type:a+(P.__dir__<0?"Right":"")}),P},At.prototype[a+"Right"]=function(p){return this.reverse()[a](p).reverse()}}),Ur(["filter","map","takeWhile"],function(a,c){var p=c+1,P=p==K||p==q;At.prototype[a]=function(A){var M=this.clone();return M.__iteratees__.push({iteratee:it(A,3),type:p}),M.__filtered__=M.__filtered__||P,M}}),Ur(["head","last"],function(a,c){var p="take"+(c?"Right":"");At.prototype[a]=function(){return this[p](1).value()[0]}}),Ur(["initial","tail"],function(a,c){var p="drop"+(c?"":"Right");At.prototype[a]=function(){return this.__filtered__?new At(this):this[p](1)}}),At.prototype.compact=function(){return this.filter(vr)},At.prototype.find=function(a){return this.filter(a).head()},At.prototype.findLast=function(a){return this.reverse().find(a)},At.prototype.invokeMap=wt(function(a,c){return typeof a=="function"?new At(this):this.map(function(p){return Si(p,a,c)})}),At.prototype.reject=function(a){return this.filter(hc(it(a)))},At.prototype.slice=function(a,c){a=yt(a);var p=this;return p.__filtered__&&(a>0||c<0)?new At(p):(a<0?p=p.takeRight(-a):a&&(p=p.drop(a)),c!==r&&(c=yt(c),p=c<0?p.dropRight(-c):p.take(c-a)),p)},At.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},At.prototype.toArray=function(){return this.take(Z)},Es(At.prototype,function(a,c){var p=/^(?:filter|find|map|reject)|While$/.test(c),P=/^(?:head|last)$/.test(c),A=O[P?"take"+(c=="last"?"Right":""):c],M=P||/^find/.test(c);A&&(O.prototype[c]=function(){var B=this.__wrapped__,z=P?[1]:arguments,te=B instanceof At,Ie=z[0],De=te||pt(B),Re=function(Dt){var Rt=A.apply(O,ao([Dt],z));return P&&We?Rt[0]:Rt};De&&p&&typeof Ie=="function"&&Ie.length!=1&&(te=De=!1);var We=this.__chain__,Ze=!!this.__actions__.length,lt=M&&!We,jt=te&&!Ze;if(!M&&De){B=jt?B:new At(this);var ct=a.apply(B,z);return ct.__actions__.push({func:lc,args:[Re],thisArg:r}),new Hr(ct,We)}return lt&&jt?a.apply(this,z):(ct=this.thru(Re),lt?P?ct.value()[0]:ct.value():ct)})}),Ur(["pop","push","shift","sort","splice","unshift"],function(a){var c=Ol[a],p=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",P=/^(?:pop|shift)$/.test(a);O.prototype[a]=function(){var A=arguments;if(P&&!this.__chain__){var M=this.value();return c.apply(pt(M)?M:[],A)}return this[p](function(B){return c.apply(pt(B)?B:[],A)})}}),Es(At.prototype,function(a,c){var p=O[c];if(p){var P=p.name+"";zt.call(wa,P)||(wa[P]=[]),wa[P].push({name:c,func:p})}}),wa[tc(r,E).name]=[{name:"wrapper",func:r}],At.prototype.clone=oP,At.prototype.reverse=aP,At.prototype.value=iP,O.prototype.at=NI,O.prototype.chain=LI,O.prototype.commit=$I,O.prototype.next=FI,O.prototype.plant=WI,O.prototype.reverse=VI,O.prototype.toJSON=O.prototype.valueOf=O.prototype.value=UI,O.prototype.first=O.prototype.head,mi&&(O.prototype[mi]=BI),O},va=$2();$o?(($o.exports=va)._=va,vu._=va):Yn._=va}).call(Ti)})(ed,ed.exports);var xL=ed.exports;const gL=()=>{const[e,n]=x.useState(null),[r,s]=x.useState(!1),{api:o}=Je(),{execute:i}=et(),[l,d]=x.useState(null),u=x.useCallback(async(g,y={},b=1,S=20)=>{if(!g.trim()){d("Search query cannot be empty");return}s(!0),d(null);try{const v={};Object.entries(y).forEach(([I,D])=>{D!=null&&D!==""&&(v[I]=D)});const E={page:b,limit:S},w=await i(()=>o==null?void 0:o.app.search.search(g,v,E),{showSuccessMessage:!1});n(w)}catch(v){console.error("Search error:",v),d(v.message||"Search failed")}finally{s(!1)}},[i]),h=x.useCallback(async(g,y)=>{if(!g.trim()||g.length<2)return[];try{return(await i(()=>o==null?void 0:o.app.search.getSuggestions(g,y),{showSuccessMessage:!1})).suggestions||[]}catch(b){return console.error("Suggestions error:",b),[]}},[i]),f=x.useCallback(async(g,y)=>{if(!g.trim()||g.length<2)return[];if(!(o!=null&&o.app.search))return console.error("Search API not available"),[];try{const b=await i(()=>o.app.search.getStructuredSuggestions(g,y),{showSuccessMessage:!1});return(b==null?void 0:b.suggestions)||[]}catch(b){return console.error("Structured suggestions error:",b),[]}},[i,o==null?void 0:o.app.search]),m=x.useCallback(()=>{n(null),d(null)},[]);return{searchResults:e,loading:r,error:l,performSearch:u,getSuggestions:h,getStructuredSuggestions:f,clearResults:m}},bL=Me(C,{shouldForwardProp:e=>e!=="isFocused"})(({theme:e,isFocused:n})=>({position:"relative",width:n?"600px":"480px",maxWidth:n?"600px":"480px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",[e.breakpoints.down("lg")]:{width:n?"560px":"460px",maxWidth:n?"560px":"460px"},[e.breakpoints.down("md")]:{width:n?"400px":"360px",maxWidth:n?"400px":"360px"},[e.breakpoints.down("sm")]:{width:n?"320px":"280px",maxWidth:n?"320px":"280px"}})),yL=Me(ot)(({theme:e})=>({borderRadius:e.spacing(3),backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.04)",border:"none",transition:"all 0.2s ease-in-out","&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.08)"},"&:focus-within":{backgroundColor:e.palette.background.paper,boxShadow:"0 4px 20px rgba(0,0,0,0.15)",border:`1px solid ${e.palette.primary.main}`}})),vL=Me(C)(({theme:e})=>({display:"flex",alignItems:"center",padding:e.spacing(1,2),cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover}})),bf=({onSearch:e,onSuggestionSelect:n,placeholder:r="Search articles, channels, or journalists...",className:s,fullWidth:o=!1})=>{const[i,l]=x.useState(""),[d,u]=x.useState([]),[h,f]=x.useState(!1),[m,g]=x.useState(!1),[y,b]=x.useState(!1),{getStructuredSuggestions:S}=gL(),v=Pt(),E=x.useCallback(xL.debounce(async _=>{if(_.length<2){u([]);return}f(!0);try{const k=await S(_);u(k)}catch(k){console.error("Error fetching suggestions:",k),u([])}finally{f(!1)}},300),[]);x.useEffect(()=>{E(i)},[i,E]);const w=()=>{i.trim()&&(g(!1),e?e(i):v(`${ge.APP_SEARCH}?q=${encodeURIComponent(i.trim())}`))},I=_=>{if(g(!1),l(""),n){const k={id:_.id,text:_.text,type:_.type,metadata:_.metadata};n(k);return}switch(_.type){case"news":v(ge.APP_NEWS_VIEW.replace(":id",_.id));break;case"channel":v(ge.APP_CHANNEL_VIEW.replace(":channelId",_.id));break;case"poll":v(ge.APP_POLL_VIEW.replace(":id",_.id));break;case"user":v(`${ge.APP_SEARCH}?q=${encodeURIComponent(_.text)}&type=users`);break;case"tag":v(`${ge.APP_SEARCH}?q=${encodeURIComponent(_.text)}&type=tags`);break;default:v(`${ge.APP_SEARCH}?q=${encodeURIComponent(_.text)}`);break}},D=_=>{_.key==="Enter"&&w()},T=_=>{switch(_){case"news":return t.jsx(ra,{fontSize:"small",color:"primary"});case"channel":return t.jsx(Uf,{fontSize:"small",color:"secondary"});case"user":return t.jsx(Vf,{fontSize:"small",color:"action"});default:return t.jsx(ys,{fontSize:"small",color:"disabled"})}},R=(_,k)=>x.createElement(vL,{..._,key:k.id},t.jsx(C,{sx:{mr:2},children:T(k.type)}),t.jsxs(C,{sx:{flexGrow:1},children:[t.jsx(j,{variant:"body2",fontWeight:"medium",children:k.text}),k.metadata&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:[k.metadata.channelName&&`in ${k.metadata.channelName}`,k.metadata.handle&&`@${k.metadata.handle}`,k.metadata.voteCount&&`${k.metadata.voteCount} votes`,k.metadata.usageCount&&`${k.metadata.usageCount} uses`,k.metadata.publishedAt&&`${new Date(k.metadata.publishedAt).toLocaleDateString()}`]})]}),t.jsx(j,{variant:"caption",color:"text.secondary",sx:{ml:1},children:k.type}));return t.jsx(bL,{className:s,isFocused:y,sx:{width:o?"100%":void 0},children:t.jsx(yL,{elevation:0,children:t.jsx(JA,{freeSolo:!0,options:d,loading:h,inputValue:i,onInputChange:(_,k)=>{l(k),g(k.length>=2)},getOptionLabel:_=>typeof _=="string"?_:_.text,filterOptions:_=>_,isOptionEqualToValue:(_,k)=>{if(typeof _=="string"||typeof k=="string"){const N=typeof _=="string"?_:_.text,$=typeof k=="string"?k:k.text;return N===$}return _.id===k.id},renderOption:(_,k)=>R(_,k),noOptionsText:h?"Loading...":"No suggestions found",open:m,onOpen:()=>g(!0),onClose:()=>{g(!1),b(!1)},ListboxProps:{style:{maxHeight:400}},renderInput:_=>t.jsx(nt,{..._,variant:"outlined",placeholder:y?r:"Search...",onKeyPress:D,onFocus:()=>b(!0),onBlur:()=>{setTimeout(()=>{m||b(!1)},200)},size:"medium",InputProps:{..._.InputProps,startAdornment:t.jsx(os,{position:"start",children:t.jsx(Ne,{onClick:w,size:"small",sx:{color:"inherit"},children:t.jsx(pl,{})})}),endAdornment:t.jsxs(t.Fragment,{children:[h&&t.jsx(j,{variant:"caption",sx:{mr:1},children:"Loading..."}),i&&t.jsx(os,{position:"end",children:t.jsx(Ne,{onClick:()=>l(""),size:"small",sx:{color:"inherit"},children:t.jsx(XA,{})})})]}),sx:{"& .MuiOutlinedInput-notchedOutline":{border:"none"},"&:hover .MuiOutlinedInput-notchedOutline":{border:"none"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiInputBase-input":{padding:"12px 8px",fontSize:"1rem"},"& .MuiInputBase-input::placeholder":{color:"inherit",opacity:.7}}}}),PaperComponent:({children:_,...k})=>t.jsx(ot,{...k,sx:{mt:.5,boxShadow:3,maxHeight:400,overflow:"auto",position:"absolute",width:"100%",zIndex:1300,borderRadius:3},children:_}),onChange:(_,k)=>{k&&typeof k=="object"&&I(k)}})})})},jL="journalist-material-client",SL="1.1.0",wL="module",CL="https://cantsdmr.github.io/journalist-material-client",PL={dev:"vite","dev:staging":"vite --mode staging",build:"tsc && vite build","build:dev":"tsc && vite build --mode dev","build:staging":"tsc && vite build --mode staging","build:prod":"tsc && vite build --mode production",lint:"eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0",preview:"vite preview","preview:staging":"vite preview --mode staging",predeploy:"npm run build:staging",deploy:"gh-pages -d dist"},EL={"@editorjs/checklist":"^1.6.0","@editorjs/code":"^2.9.3","@editorjs/delimiter":"^1.4.2","@editorjs/editorjs":"^2.30.7","@editorjs/header":"^2.8.8","@editorjs/image":"^2.10.1","@editorjs/inline-code":"^1.5.1","@editorjs/link":"^2.6.2","@editorjs/list":"^2.0.2","@editorjs/marker":"^1.4.0","@editorjs/quote":"^2.7.6","@editorjs/table":"^2.4.3","@editorjs/warning":"^1.4.1","@emotion/react":"^11.11.4","@emotion/styled":"^11.11.5","@hello-pangea/dnd":"^17.0.0","@mui/icons-material":"^5.15.17","@mui/material":"^5.15.17","@mui/x-date-pickers":"^8.3.1","@paypal/react-paypal-js":"^8.9.2",axios:"^1.7.2","class-transformer":"^0.5.1","class-validator":"^0.14.2","date-fns":"^4.1.0",firebase:"^10.12.2",react:"^18.2.0","react-dom":"^18.2.0","react-infinite-scroll-component":"^6.1.0","react-router-dom":"^6.23.1",recharts:"^2.12.7"},IL={"@types/react":"^18.2.66","@types/react-dom":"^18.2.22","@typescript-eslint/eslint-plugin":"^7.2.0","@typescript-eslint/parser":"^7.2.0","@vitejs/plugin-react":"^4.2.1",eslint:"^8.57.0","eslint-plugin-react-hooks":"^4.6.0","eslint-plugin-react-refresh":"^0.4.6","gh-pages":"^6.3.0",typescript:"^5.2.2",vite:"^5.2.0"},DL={name:jL,private:!0,version:SL,type:wL,homepage:CL,scripts:PL,dependencies:EL,devDependencies:IL},TL=DL.version;var kp={},AL=Ke;Object.defineProperty(kp,"__esModule",{value:!0});var qj=kp.default=void 0,RL=AL(Xe()),kL=t;qj=kp.default=(0,RL.default)((0,kL.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications");function Tc({fetcher:e,initialFilters:n={},pageSize:r=20,autoFetch:s=!1}){const[o,i]=x.useState({items:[],isLoading:!1,hasMore:!0,nextCursor:void 0,prevCursor:void 0,error:void 0}),[l,d]=x.useState(n),u=x.useRef(l);u.current=l;const h=x.useRef(!0),f=x.useRef(!s),m=x.useRef(o);m.current=o;const g=x.useCallback(async D=>{const T=D!==void 0?D:u.current;i(R=>({...R,isLoading:!0,error:void 0}));try{const R=await e(T,void 0,r);h.current&&i({items:R.items,isLoading:!1,hasMore:R.metadata.hasMore,nextCursor:R.metadata.nextCursor,prevCursor:R.metadata.prevCursor,error:void 0})}catch(R){h.current&&i(_=>({..._,isLoading:!1,error:R instanceof Error?R:new Error("Failed to fetch data")}))}},[e,r]),y=x.useCallback(async()=>{const D=m.current;if(!(D.isLoading||!D.hasMore||!D.nextCursor)){i(T=>({...T,isLoading:!0,error:void 0}));try{const T=await e(u.current,D.nextCursor,r);h.current&&i(R=>({items:[...R.items,...T.items],isLoading:!1,hasMore:T.metadata.hasMore,nextCursor:T.metadata.nextCursor,prevCursor:T.metadata.prevCursor,error:void 0}))}catch(T){h.current&&i(R=>({...R,isLoading:!1,error:T instanceof Error?T:new Error("Failed to load more")}))}}},[e,r]),b=x.useCallback(async()=>{await g(u.current)},[g]),S=x.useCallback(async D=>{d(D),await g(D)},[g]),v=x.useCallback(()=>{i({items:[],isLoading:!1,hasMore:!0,nextCursor:void 0,prevCursor:void 0,error:void 0})},[]),E=x.useCallback(D=>{i(T=>({...T,items:[D,...T.items]}))},[]),w=x.useCallback(D=>{i(T=>({...T,items:T.items.filter(R=>!D(R))}))},[]),I=x.useCallback((D,T)=>{i(R=>({...R,items:R.items.map(_=>D(_)?T(_):_)}))},[]);return f.current&&s&&(f.current=!1,g()),h.current=!0,{items:o.items,isLoading:o.isLoading,hasMore:o.hasMore,error:o.error,nextCursor:o.nextCursor,prevCursor:o.prevCursor,filters:l,fetchInitial:g,loadMore:y,refresh:b,updateFilters:S,reset:v,prependItem:E,removeItem:w,updateItem:I}}const[_L,_p]=_d(),Uy=20,OL=({children:e})=>{const{api:n}=Je(),{user:r}=ws(),{isAuthenticated:s}=ua(),{execute:o}=et(),[i,l]=x.useState(0),[d,u]=x.useState(!1),h=x.useRef(r);h.current=r;const f=x.useRef(!1),m=x.useCallback(async(Y,oe,V)=>{const Z={...Y,limit:V||Uy,after:oe};return await n.app.notification.getNotificationFeed(Z)},[n]),{items:g,isLoading:y,hasMore:b,loadMore:S,fetchInitial:v,refresh:E,updateFilters:w,updateItem:I,removeItem:D}=Tc({fetcher:m,pageSize:Uy,autoFetch:!1}),T=x.useRef(y);T.current=y;const R=x.useRef(b);R.current=b;const _=x.useCallback(async(Y={})=>{h.current&&await w(Y)},[w]),k=x.useCallback(async()=>{!h.current||T.current||!R.current||await S()},[S]),N=x.useCallback(async()=>{if(!h.current)return;const Y=await o(()=>n.app.notification.getNewNotificationsCount(),{showErrorToast:!1});Y&&l(Y.count||0)},[n,o]),$=x.useCallback(async()=>{if(!h.current)return;l(0),await o(()=>n.app.notification.markAsChecked(),{showErrorToast:!1,showSuccessMessage:!1})||await N()},[n,o,N]),G=x.useCallback(async Y=>{if(!h.current)return;I(V=>V.id===Y,V=>({...V,isRead:!0,readAt:new Date().toISOString()})),await o(()=>n.app.notification.markAsRead(Y),{showErrorToast:!0,showSuccessMessage:!1})||I(V=>V.id===Y,V=>({...V,isRead:!1,readAt:void 0}))},[n,o,I]),L=x.useCallback(async()=>{if(!h.current)return;const Y=new Date().toISOString();I(()=>!0,V=>({...V,isRead:!0,readAt:Y})),await o(()=>n.app.notification.markAllAsRead(),{showErrorToast:!0,showSuccessMessage:!0,successMessage:"All notifications marked as read"})||await E()},[n,o,I,E]),H=x.useCallback(async Y=>{if(!h.current)return;D(V=>V.id===Y),await o(()=>n.app.notification.deleteNotification(Y),{showErrorToast:!0,showSuccessMessage:!1})||await E()},[n,o,D,E]),K=x.useCallback(async()=>{u(Y=>{const oe=!Y;return oe&&$(),oe})},[$]),J=x.useCallback(async()=>{u(!0),await $()},[$]),q=x.useCallback(()=>{u(!1)},[]);x.useEffect(()=>{const Y=()=>{N(),d&&E()};return window.addEventListener("fcm-notification-received",Y),()=>{window.removeEventListener("fcm-notification-received",Y)}},[d,E,N]),x.useEffect(()=>{r&&s?N():(l(0),u(!1))},[r,s,N]),x.useEffect(()=>{d&&!y?f.current||(f.current=!0,v()):d||(f.current=!1)},[d,y,v]);const Q={notifications:g,newCount:i,isOpen:d,isLoading:y,hasMore:b,actions:{fetchNotifications:_,loadMore:k,markAsRead:G,markAllAsRead:L,deleteNotification:H,refreshNewCount:N,markAsChecked:$,toggleDrawer:K,openDrawer:J,closeDrawer:q}};return t.jsx(_L.Provider,{value:Q,children:e})},ML=()=>{const{newCount:e,actions:n}=_p(),r=()=>{n.toggleDrawer()};return t.jsx(Ne,{color:"inherit",onClick:r,"aria-label":"notifications",sx:{"& .MuiBadge-badge":{right:5,top:5,fontSize:"0.75rem",height:18,minWidth:18,padding:"0 4px"}},children:t.jsx(QA,{badgeContent:e,color:"error",max:99,overlap:"circular",children:t.jsx(qj,{})})})};var Op={},NL=Ke;Object.defineProperty(Op,"__esModule",{value:!0});var Kj=Op.default=void 0,LL=NL(Xe()),$L=t;Kj=Op.default=(0,LL.default)((0,$L.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");var Mp={},FL=Ke;Object.defineProperty(Mp,"__esModule",{value:!0});var Jj=Mp.default=void 0,BL=FL(Xe()),WL=t;Jj=Mp.default=(0,BL.default)((0,WL.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2m6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5z"}),"NotificationsNone");/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var yf=function(e,n){return yf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)s.hasOwnProperty(o)&&(r[o]=s[o])},yf(e,n)};function VL(e,n){yf(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var Gi=function(){return Gi=Object.assign||function(n){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},Gi.apply(this,arguments)};function UL(e,n,r,s){var o,i=!1,l=0;function d(){o&&clearTimeout(o)}function u(){d(),i=!0}typeof n!="boolean"&&(s=r,r=n,n=void 0);function h(){var f=this,m=Date.now()-l,g=arguments;if(i)return;function y(){l=Date.now(),r.apply(f,g)}function b(){o=void 0}s&&!o&&y(),d(),s===void 0&&m>e?y():n!==!0&&(o=setTimeout(s?b:y,s===void 0?e-m:e))}return h.cancel=u,h}var Fa={Pixel:"Pixel",Percent:"Percent"},zy={unit:Fa.Percent,value:.8};function Hy(e){return typeof e=="number"?{unit:Fa.Percent,value:e*100}:typeof e=="string"?e.match(/^(\d*(\.\d+)?)px$/)?{unit:Fa.Pixel,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:Fa.Percent,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),zy):(console.warn("scrollThreshold should be string or number"),zy)}var js=function(e){VL(n,e);function n(r){var s=e.call(this,r)||this;return s.lastScrollTop=0,s.actionTriggered=!1,s.startY=0,s.currentY=0,s.dragging=!1,s.maxPullDownDistance=0,s.getScrollableTarget=function(){return s.props.scrollableTarget instanceof HTMLElement?s.props.scrollableTarget:typeof s.props.scrollableTarget=="string"?document.getElementById(s.props.scrollableTarget):(s.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},s.onStart=function(o){s.lastScrollTop||(s.dragging=!0,o instanceof MouseEvent?s.startY=o.pageY:o instanceof TouchEvent&&(s.startY=o.touches[0].pageY),s.currentY=s.startY,s._infScroll&&(s._infScroll.style.willChange="transform",s._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},s.onMove=function(o){s.dragging&&(o instanceof MouseEvent?s.currentY=o.pageY:o instanceof TouchEvent&&(s.currentY=o.touches[0].pageY),!(s.currentY<s.startY)&&(s.currentY-s.startY>=Number(s.props.pullDownToRefreshThreshold)&&s.setState({pullToRefreshThresholdBreached:!0}),!(s.currentY-s.startY>s.maxPullDownDistance*1.5)&&s._infScroll&&(s._infScroll.style.overflow="visible",s._infScroll.style.transform="translate3d(0px, "+(s.currentY-s.startY)+"px, 0px)")))},s.onEnd=function(){s.startY=0,s.currentY=0,s.dragging=!1,s.state.pullToRefreshThresholdBreached&&(s.props.refreshFunction&&s.props.refreshFunction(),s.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){s._infScroll&&(s._infScroll.style.overflow="auto",s._infScroll.style.transform="none",s._infScroll.style.willChange="unset")})},s.onScrollListener=function(o){typeof s.props.onScroll=="function"&&setTimeout(function(){return s.props.onScroll&&s.props.onScroll(o)},0);var i=s.props.height||s._scrollableNode?o.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!s.actionTriggered){var l=s.props.inverse?s.isElementAtTop(i,s.props.scrollThreshold):s.isElementAtBottom(i,s.props.scrollThreshold);l&&s.props.hasMore&&(s.actionTriggered=!0,s.setState({showLoader:!0}),s.props.next&&s.props.next()),s.lastScrollTop=i.scrollTop}},s.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:r.dataLength},s.throttledOnScrollListener=UL(150,s.onScrollListener).bind(s),s.onStart=s.onStart.bind(s),s.onMove=s.onMove.bind(s),s.onEnd=s.onEnd.bind(s),s}return n.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},n.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},n.prototype.componentDidUpdate=function(r){this.props.dataLength!==r.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},n.getDerivedStateFromProps=function(r,s){var o=r.dataLength!==s.prevDataLength;return o?Gi(Gi({},s),{prevDataLength:r.dataLength}):null},n.prototype.isElementAtTop=function(r,s){s===void 0&&(s=.8);var o=r===document.body||r===document.documentElement?window.screen.availHeight:r.clientHeight,i=Hy(s);return i.unit===Fa.Pixel?r.scrollTop<=i.value+o-r.scrollHeight+1:r.scrollTop<=i.value/100+o-r.scrollHeight+1},n.prototype.isElementAtBottom=function(r,s){s===void 0&&(s=.8);var o=r===document.body||r===document.documentElement?window.screen.availHeight:r.clientHeight,i=Hy(s);return i.unit===Fa.Pixel?r.scrollTop+o>=r.scrollHeight-i.value:r.scrollTop+o>=i.value/100*r.scrollHeight},n.prototype.render=function(){var r=this,s=Gi({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),o=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),i=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return Tt.createElement("div",{style:i,className:"infinite-scroll-component__outerdiv"},Tt.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(l){return r._infScroll=l},style:s},this.props.pullDownToRefresh&&Tt.createElement("div",{style:{position:"relative"},ref:function(l){return r._pullDown=l}},Tt.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!o&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},n}(x.Component),Np={},zL=Ke;Object.defineProperty(Np,"__esModule",{value:!0});var Xj=Np.default=void 0,HL=zL(Xe()),GL=t;Xj=Np.default=(0,HL.default)((0,GL.jsx)("path",{d:"M20 8H4V6h16zm-2-6H6v2h12zm4 10v8c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2v-8c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2m-6 4-6-3.27v6.53z"}),"Subscriptions");var Lp={},YL=Ke;Object.defineProperty(Lp,"__esModule",{value:!0});var Qj=Lp.default=void 0,qL=YL(Xe()),KL=t;Qj=Lp.default=(0,qL.default)((0,KL.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"Payment");var $p={},JL=Ke;Object.defineProperty($p,"__esModule",{value:!0});var Ld=$p.default=void 0,XL=JL(Xe()),QL=t;Ld=$p.default=(0,XL.default)((0,QL.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info");var Fp={},ZL=Ke;Object.defineProperty(Fp,"__esModule",{value:!0});var Zj=Fp.default=void 0,e5=ZL(Xe()),t5=t;Zj=Fp.default=(0,e5.default)((0,t5.jsx)("circle",{cx:"12",cy:"12",r:"8"}),"FiberManualRecord");const eS=6048e5,n5=864e5,tS=6e4,nS=36e5,r5=1e3,vc=43200,Gy=1440,Yy=Symbol.for("constructDateFrom");function ln(e,n){return typeof e=="function"?e(n):e&&typeof e=="object"&&Yy in e?e[Yy](n):e instanceof Date?new e.constructor(n):new Date(n)}function rt(e,n){return ln(n||e,e)}function $d(e,n,r){const s=rt(e,r==null?void 0:r.in);return isNaN(n)?ln((r==null?void 0:r.in)||e,NaN):(n&&s.setDate(s.getDate()+n),s)}function rS(e,n,r){const s=rt(e,r==null?void 0:r.in);if(isNaN(n))return ln(e,NaN);if(!n)return s;const o=s.getDate(),i=ln(e,s.getTime());i.setMonth(s.getMonth()+n+1,0);const l=i.getDate();return o>=l?i:(s.setFullYear(i.getFullYear(),i.getMonth(),o),s)}function sS(e,n,r){return ln(e,+rt(e)+n)}function s5(e,n,r){return sS(e,n*nS)}let o5={};function _o(){return o5}function no(e,n){var d,u,h,f;const r=_o(),s=(n==null?void 0:n.weekStartsOn)??((u=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??0,o=rt(e,n==null?void 0:n.in),i=o.getDay(),l=(i<s?7:0)+i-s;return o.setDate(o.getDate()-l),o.setHours(0,0,0,0),o}function Ka(e,n){return no(e,{...n,weekStartsOn:1})}function oS(e,n){const r=rt(e,n==null?void 0:n.in),s=r.getFullYear(),o=ln(r,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const i=Ka(o),l=ln(r,0);l.setFullYear(s,0,4),l.setHours(0,0,0,0);const d=Ka(l);return r.getTime()>=i.getTime()?s+1:r.getTime()>=d.getTime()?s:s-1}function Ja(e){const n=rt(e),r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return r.setUTCFullYear(n.getFullYear()),+e-+r}function Oo(e,...n){const r=ln.bind(null,e||n.find(s=>typeof s=="object"));return n.map(r)}function Zi(e,n){const r=rt(e,n==null?void 0:n.in);return r.setHours(0,0,0,0),r}function a5(e,n,r){const[s,o]=Oo(r==null?void 0:r.in,e,n),i=Zi(s),l=Zi(o),d=+i-Ja(i),u=+l-Ja(l);return Math.round((d-u)/n5)}function i5(e,n){const r=oS(e,n),s=ln(e,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),Ka(s)}function l5(e,n,r){const s=rt(e,r==null?void 0:r.in);return s.setTime(s.getTime()+n*tS),s}function c5(e,n,r){return sS(e,n*1e3)}function d5(e,n,r){return $d(e,n*7,r)}function u5(e,n,r){return rS(e,n*12,r)}function Ac(e,n){const r=+rt(e)-+rt(n);return r<0?-1:r>0?1:r}function h5(e){return ln(e,Date.now())}function f5(e,n,r){const[s,o]=Oo(r==null?void 0:r.in,e,n);return+Zi(s)==+Zi(o)}function p5(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function aS(e){return!(!p5(e)&&typeof e!="number"||isNaN(+rt(e)))}function m5(e,n,r){const[s,o]=Oo(r==null?void 0:r.in,e,n),i=s.getFullYear()-o.getFullYear(),l=s.getMonth()-o.getMonth();return i*12+l}function x5(e){return n=>{const s=(e?Math[e]:Math.trunc)(n);return s===0?0:s}}function g5(e,n){return+rt(e)-+rt(n)}function vf(e,n){const r=rt(e,n==null?void 0:n.in);return r.setHours(23,59,59,999),r}function iS(e,n){const r=rt(e,n==null?void 0:n.in),s=r.getMonth();return r.setFullYear(r.getFullYear(),s+1,0),r.setHours(23,59,59,999),r}function b5(e,n){const r=rt(e,n==null?void 0:n.in);return+vf(r,n)==+iS(r,n)}function y5(e,n,r){const[s,o,i]=Oo(r==null?void 0:r.in,e,e,n),l=Ac(o,i),d=Math.abs(m5(o,i));if(d<1)return 0;o.getMonth()===1&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-l*d);let u=Ac(o,i)===-l;b5(s)&&d===1&&Ac(s,i)===1&&(u=!1);const h=l*(d-+u);return h===0?0:h}function v5(e,n,r){const s=g5(e,n)/1e3;return x5(r==null?void 0:r.roundingMethod)(s)}function j5(e,n){const r=rt(e,n==null?void 0:n.in);return r.setDate(1),r.setHours(0,0,0,0),r}function qy(e,n){const r=rt(e,n==null?void 0:n.in),s=r.getFullYear();return r.setFullYear(s+1,0,0),r.setHours(23,59,59,999),r}function lS(e,n){const r=rt(e,n==null?void 0:n.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function S5(e,n){var d,u,h,f;const r=_o(),s=(n==null?void 0:n.weekStartsOn)??((u=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??0,o=rt(e,n==null?void 0:n.in),i=o.getDay(),l=(i<s?-7:0)+6-(i-s);return o.setDate(o.getDate()+l),o.setHours(23,59,59,999),o}const w5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},C5=(e,n,r)=>{let s;const o=w5[e];return typeof o=="string"?s=o:n===1?s=o.one:s=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function $h(e){return(n={})=>{const r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const P5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},E5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},I5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},D5={date:$h({formats:P5,defaultWidth:"full"}),time:$h({formats:E5,defaultWidth:"full"}),dateTime:$h({formats:I5,defaultWidth:"full"})},T5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},A5=(e,n,r,s)=>T5[e];function Oi(e){return(n,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let o;if(s==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,d=r!=null&&r.width?String(r.width):l;o=e.formattingValues[d]||e.formattingValues[l]}else{const l=e.defaultWidth,d=r!=null&&r.width?String(r.width):e.defaultWidth;o=e.values[d]||e.values[l]}const i=e.argumentCallback?e.argumentCallback(n):n;return o[i]}}const R5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},k5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},O5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},M5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},N5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},L5=(e,n)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},$5={ordinalNumber:L5,era:Oi({values:R5,defaultWidth:"wide"}),quarter:Oi({values:k5,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Oi({values:_5,defaultWidth:"wide"}),day:Oi({values:O5,defaultWidth:"wide"}),dayPeriod:Oi({values:M5,defaultWidth:"wide",formattingValues:N5,defaultFormattingWidth:"wide"})};function Mi(e){return(n,r={})=>{const s=r.width,o=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=n.match(o);if(!i)return null;const l=i[0],d=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(d)?B5(d,m=>m.test(l)):F5(d,m=>m.test(l));let h;h=e.valueCallback?e.valueCallback(u):u,h=r.valueCallback?r.valueCallback(h):h;const f=n.slice(l.length);return{value:h,rest:f}}}function F5(e,n){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n(e[r]))return r}function B5(e,n){for(let r=0;r<e.length;r++)if(n(e[r]))return r}function W5(e){return(n,r={})=>{const s=n.match(e.matchPattern);if(!s)return null;const o=s[0],i=n.match(e.parsePattern);if(!i)return null;let l=e.valueCallback?e.valueCallback(i[0]):i[0];l=r.valueCallback?r.valueCallback(l):l;const d=n.slice(o.length);return{value:l,rest:d}}}const V5=/^(\d+)(th|st|nd|rd)?/i,U5=/\d+/i,z5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},H5={any:[/^b/i,/^(a|c)/i]},G5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Y5={any:[/1/i,/2/i,/3/i,/4/i]},q5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},K5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},J5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},X5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Q5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Z5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},e$={ordinalNumber:W5({matchPattern:V5,parsePattern:U5,valueCallback:e=>parseInt(e,10)}),era:Mi({matchPatterns:z5,defaultMatchWidth:"wide",parsePatterns:H5,defaultParseWidth:"any"}),quarter:Mi({matchPatterns:G5,defaultMatchWidth:"wide",parsePatterns:Y5,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Mi({matchPatterns:q5,defaultMatchWidth:"wide",parsePatterns:K5,defaultParseWidth:"any"}),day:Mi({matchPatterns:J5,defaultMatchWidth:"wide",parsePatterns:X5,defaultParseWidth:"any"}),dayPeriod:Mi({matchPatterns:Q5,defaultMatchWidth:"any",parsePatterns:Z5,defaultParseWidth:"any"})},Fd={code:"en-US",formatDistance:C5,formatLong:D5,formatRelative:A5,localize:$5,match:e$,options:{weekStartsOn:0,firstWeekContainsDate:1}};function t$(e,n){const r=rt(e,n==null?void 0:n.in);return a5(r,lS(r))+1}function cS(e,n){const r=rt(e,n==null?void 0:n.in),s=+Ka(r)-+i5(r);return Math.round(s/eS)+1}function Bp(e,n){var f,m,g,y;const r=rt(e,n==null?void 0:n.in),s=r.getFullYear(),o=_o(),i=(n==null?void 0:n.firstWeekContainsDate)??((m=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??o.firstWeekContainsDate??((y=(g=o.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,l=ln((n==null?void 0:n.in)||e,0);l.setFullYear(s+1,0,i),l.setHours(0,0,0,0);const d=no(l,n),u=ln((n==null?void 0:n.in)||e,0);u.setFullYear(s,0,i),u.setHours(0,0,0,0);const h=no(u,n);return+r>=+d?s+1:+r>=+h?s:s-1}function n$(e,n){var d,u,h,f;const r=_o(),s=(n==null?void 0:n.firstWeekContainsDate)??((u=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=Bp(e,n),i=ln((n==null?void 0:n.in)||e,0);return i.setFullYear(o,0,s),i.setHours(0,0,0,0),no(i,n)}function Wp(e,n){const r=rt(e,n==null?void 0:n.in),s=+no(r,n)-+n$(r,n);return Math.round(s/eS)+1}function Ht(e,n){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(n,"0");return r+s}const go={y(e,n){const r=e.getFullYear(),s=r>0?r:1-r;return Ht(n==="yy"?s%100:s,n.length)},M(e,n){const r=e.getMonth();return n==="M"?String(r+1):Ht(r+1,2)},d(e,n){return Ht(e.getDate(),n.length)},a(e,n){const r=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,n){return Ht(e.getHours()%12||12,n.length)},H(e,n){return Ht(e.getHours(),n.length)},m(e,n){return Ht(e.getMinutes(),n.length)},s(e,n){return Ht(e.getSeconds(),n.length)},S(e,n){const r=n.length,s=e.getMilliseconds(),o=Math.trunc(s*Math.pow(10,r-3));return Ht(o,n.length)}},Ra={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ky={G:function(e,n,r){const s=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){const s=e.getFullYear(),o=s>0?s:1-s;return r.ordinalNumber(o,{unit:"year"})}return go.y(e,n)},Y:function(e,n,r,s){const o=Bp(e,s),i=o>0?o:1-o;if(n==="YY"){const l=i%100;return Ht(l,2)}return n==="Yo"?r.ordinalNumber(i,{unit:"year"}):Ht(i,n.length)},R:function(e,n){const r=oS(e);return Ht(r,n.length)},u:function(e,n){const r=e.getFullYear();return Ht(r,n.length)},Q:function(e,n,r){const s=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return Ht(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){const s=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return Ht(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){const s=e.getMonth();switch(n){case"M":case"MM":return go.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){const s=e.getMonth();switch(n){case"L":return String(s+1);case"LL":return Ht(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){const o=Wp(e,s);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):Ht(o,n.length)},I:function(e,n,r){const s=cS(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):Ht(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):go.d(e,n)},D:function(e,n,r){const s=t$(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Ht(s,n.length)},E:function(e,n,r){const s=e.getDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){const o=e.getDay(),i=(o-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(i);case"ee":return Ht(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){const o=e.getDay(),i=(o-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(i);case"cc":return Ht(i,n.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){const s=e.getDay(),o=s===0?7:s;switch(n){case"i":return String(o);case"ii":return Ht(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){const o=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){const s=e.getHours();let o;switch(s===12?o=Ra.noon:s===0?o=Ra.midnight:o=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){const s=e.getHours();let o;switch(s>=17?o=Ra.evening:s>=12?o=Ra.afternoon:s>=4?o=Ra.morning:o=Ra.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return go.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):go.H(e,n)},K:function(e,n,r){const s=e.getHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Ht(s,n.length)},k:function(e,n,r){let s=e.getHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):Ht(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):go.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):go.s(e,n)},S:function(e,n){return go.S(e,n)},X:function(e,n,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return Xy(s);case"XXXX":case"XX":return Qo(s);case"XXXXX":case"XXX":default:return Qo(s,":")}},x:function(e,n,r){const s=e.getTimezoneOffset();switch(n){case"x":return Xy(s);case"xxxx":case"xx":return Qo(s);case"xxxxx":case"xxx":default:return Qo(s,":")}},O:function(e,n,r){const s=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Jy(s,":");case"OOOO":default:return"GMT"+Qo(s,":")}},z:function(e,n,r){const s=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Jy(s,":");case"zzzz":default:return"GMT"+Qo(s,":")}},t:function(e,n,r){const s=Math.trunc(+e/1e3);return Ht(s,n.length)},T:function(e,n,r){return Ht(+e,n.length)}};function Jy(e,n=""){const r=e>0?"-":"+",s=Math.abs(e),o=Math.trunc(s/60),i=s%60;return i===0?r+String(o):r+String(o)+n+Ht(i,2)}function Xy(e,n){return e%60===0?(e>0?"-":"+")+Ht(Math.abs(e)/60,2):Qo(e,n)}function Qo(e,n=""){const r=e>0?"-":"+",s=Math.abs(e),o=Ht(Math.trunc(s/60),2),i=Ht(s%60,2);return r+o+n+i}const Qy=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},dS=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},r$=(e,n)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],o=r[2];if(!o)return Qy(e,n);let i;switch(s){case"P":i=n.dateTime({width:"short"});break;case"PP":i=n.dateTime({width:"medium"});break;case"PPP":i=n.dateTime({width:"long"});break;case"PPPP":default:i=n.dateTime({width:"full"});break}return i.replace("{{date}}",Qy(s,n)).replace("{{time}}",dS(o,n))},td={p:dS,P:r$},s$=/^D+$/,o$=/^Y+$/,a$=["D","DD","YY","YYYY"];function uS(e){return s$.test(e)}function hS(e){return o$.test(e)}function jf(e,n,r){const s=i$(e,n,r);if(console.warn(s),a$.includes(e))throw new RangeError(s)}function i$(e,n,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const l$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,c$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,d$=/^'([^]*?)'?$/,u$=/''/g,h$=/[a-zA-Z]/;function Vp(e,n,r){var f,m,g,y,b,S,v,E;const s=_o(),o=(r==null?void 0:r.locale)??s.locale??Fd,i=(r==null?void 0:r.firstWeekContainsDate)??((m=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(g=s.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((S=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:S.weekStartsOn)??s.weekStartsOn??((E=(v=s.locale)==null?void 0:v.options)==null?void 0:E.weekStartsOn)??0,d=rt(e,r==null?void 0:r.in);if(!aS(d))throw new RangeError("Invalid time value");let u=n.match(c$).map(w=>{const I=w[0];if(I==="p"||I==="P"){const D=td[I];return D(w,o.formatLong)}return w}).join("").match(l$).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const I=w[0];if(I==="'")return{isToken:!1,value:f$(w)};if(Ky[I])return{isToken:!0,value:w};if(I.match(h$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return{isToken:!1,value:w}});o.localize.preprocessor&&(u=o.localize.preprocessor(d,u));const h={firstWeekContainsDate:i,weekStartsOn:l,locale:o};return u.map(w=>{if(!w.isToken)return w.value;const I=w.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&hS(I)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&uS(I))&&jf(I,n,String(e));const D=Ky[I[0]];return D(d,I,o.localize,h)}).join("")}function f$(e){const n=e.match(d$);return n?n[1].replace(u$,"'"):e}function p$(e,n,r){const s=_o(),o=(r==null?void 0:r.locale)??s.locale??Fd,i=2520,l=Ac(e,n);if(isNaN(l))throw new RangeError("Invalid time value");const d=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:l}),[u,h]=Oo(r==null?void 0:r.in,...l>0?[n,e]:[e,n]),f=v5(h,u),m=(Ja(h)-Ja(u))/1e3,g=Math.round((f-m)/60);let y;if(g<2)return r!=null&&r.includeSeconds?f<5?o.formatDistance("lessThanXSeconds",5,d):f<10?o.formatDistance("lessThanXSeconds",10,d):f<20?o.formatDistance("lessThanXSeconds",20,d):f<40?o.formatDistance("halfAMinute",0,d):f<60?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",1,d):g===0?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",g,d);if(g<45)return o.formatDistance("xMinutes",g,d);if(g<90)return o.formatDistance("aboutXHours",1,d);if(g<Gy){const b=Math.round(g/60);return o.formatDistance("aboutXHours",b,d)}else{if(g<i)return o.formatDistance("xDays",1,d);if(g<vc){const b=Math.round(g/Gy);return o.formatDistance("xDays",b,d)}else if(g<vc*2)return y=Math.round(g/vc),o.formatDistance("aboutXMonths",y,d)}if(y=y5(h,u),y<12){const b=Math.round(g/vc);return o.formatDistance("xMonths",b,d)}else{const b=y%12,S=Math.trunc(y/12);return b<3?o.formatDistance("aboutXYears",S,d):b<9?o.formatDistance("overXYears",S,d):o.formatDistance("almostXYears",S+1,d)}}function Lr(e,n){return p$(e,h5(e),n)}function m$(e,n){return rt(e,n==null?void 0:n.in).getDate()}function fS(e,n){const r=rt(e,n==null?void 0:n.in),s=r.getFullYear(),o=r.getMonth(),i=ln(r,0);return i.setFullYear(s,o+1,0),i.setHours(0,0,0,0),i.getDate()}function x$(){return Object.assign({},_o())}function g$(e,n){return rt(e,n==null?void 0:n.in).getHours()}function b$(e,n){const r=rt(e,n==null?void 0:n.in).getDay();return r===0?7:r}function y$(e){return rt(e).getMilliseconds()}function v$(e,n){return rt(e,n==null?void 0:n.in).getMinutes()}function j$(e,n){return rt(e,n==null?void 0:n.in).getMonth()}function S$(e){return rt(e).getSeconds()}function w$(e,n){return rt(e,n==null?void 0:n.in).getFullYear()}function Fh(e,n){return+rt(e)>+rt(n)}function Bh(e,n){return+rt(e)<+rt(n)}function C$(e,n){return+rt(e)==+rt(n)}function P$(e,n){const r=E$(n)?new n(0):ln(n,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function E$(e){var n;return typeof e=="function"&&((n=e.prototype)==null?void 0:n.constructor)===e}const I$=10;class pS{constructor(){Te(this,"subPriority",0)}validate(n,r){return!0}}class D$ extends pS{constructor(n,r,s,o,i){super(),this.value=n,this.validateValue=r,this.setValue=s,this.priority=o,i&&(this.subPriority=i)}validate(n,r){return this.validateValue(n,this.value,r)}set(n,r,s){return this.setValue(n,r,this.value,s)}}class T$ extends pS{constructor(r,s){super();Te(this,"priority",I$);Te(this,"subPriority",-1);this.context=r||(o=>ln(s,o))}set(r,s){return s.timestampIsSet?r:ln(r,P$(r,this.context))}}class Ft{run(n,r,s,o){const i=this.parse(n,r,s,o);return i?{setter:new D$(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(n,r,s){return!0}}class A$ extends Ft{constructor(){super(...arguments);Te(this,"priority",140);Te(this,"incompatibleTokens",["R","u","t","T"])}parse(r,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"});case"GGGGG":return o.era(r,{width:"narrow"});case"GGGG":default:return o.era(r,{width:"wide"})||o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"})}}set(r,s,o){return s.era=o,r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}const Dn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ks={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Tn(e,n){return e&&{value:n(e.value),rest:e.rest}}function bn(e,n){const r=n.match(e);return r?{value:parseInt(r[0],10),rest:n.slice(r[0].length)}:null}function _s(e,n){const r=n.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:n.slice(1)};const s=r[1]==="+"?1:-1,o=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,l=r[5]?parseInt(r[5],10):0;return{value:s*(o*nS+i*tS+l*r5),rest:n.slice(r[0].length)}}function mS(e){return bn(Dn.anyDigitsSigned,e)}function wn(e,n){switch(e){case 1:return bn(Dn.singleDigit,n);case 2:return bn(Dn.twoDigits,n);case 3:return bn(Dn.threeDigits,n);case 4:return bn(Dn.fourDigits,n);default:return bn(new RegExp("^\\d{1,"+e+"}"),n)}}function nd(e,n){switch(e){case 1:return bn(Dn.singleDigitSigned,n);case 2:return bn(Dn.twoDigitsSigned,n);case 3:return bn(Dn.threeDigitsSigned,n);case 4:return bn(Dn.fourDigitsSigned,n);default:return bn(new RegExp("^-?\\d{1,"+e+"}"),n)}}function Up(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function xS(e,n){const r=n>0,s=r?n:1-n;let o;if(s<=50)o=e||100;else{const i=s+50,l=Math.trunc(i/100)*100,d=e>=i%100;o=e+l-(d?100:0)}return r?o:1-o}function gS(e){return e%400===0||e%4===0&&e%100!==0}class R$ extends Ft{constructor(){super(...arguments);Te(this,"priority",130);Te(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,s,o){const i=l=>({year:l,isTwoDigitYear:s==="yy"});switch(s){case"y":return Tn(wn(4,r),i);case"yo":return Tn(o.ordinalNumber(r,{unit:"year"}),i);default:return Tn(wn(s.length,r),i)}}validate(r,s){return s.isTwoDigitYear||s.year>0}set(r,s,o){const i=r.getFullYear();if(o.isTwoDigitYear){const d=xS(o.year,i);return r.setFullYear(d,0,1),r.setHours(0,0,0,0),r}const l=!("era"in s)||s.era===1?o.year:1-o.year;return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}}class k$ extends Ft{constructor(){super(...arguments);Te(this,"priority",130);Te(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,s,o){const i=l=>({year:l,isTwoDigitYear:s==="YY"});switch(s){case"Y":return Tn(wn(4,r),i);case"Yo":return Tn(o.ordinalNumber(r,{unit:"year"}),i);default:return Tn(wn(s.length,r),i)}}validate(r,s){return s.isTwoDigitYear||s.year>0}set(r,s,o,i){const l=Bp(r,i);if(o.isTwoDigitYear){const u=xS(o.year,l);return r.setFullYear(u,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),no(r,i)}const d=!("era"in s)||s.era===1?o.year:1-o.year;return r.setFullYear(d,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),no(r,i)}}class _$ extends Ft{constructor(){super(...arguments);Te(this,"priority",130);Te(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,s){return nd(s==="R"?4:s.length,r)}set(r,s,o){const i=ln(r,0);return i.setFullYear(o,0,4),i.setHours(0,0,0,0),Ka(i)}}class O$ extends Ft{constructor(){super(...arguments);Te(this,"priority",130);Te(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,s){return nd(s==="u"?4:s.length,r)}set(r,s,o){return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class M$ extends Ft{constructor(){super(...arguments);Te(this,"priority",120);Te(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,s,o){switch(s){case"Q":case"QQ":return wn(s.length,r);case"Qo":return o.ordinalNumber(r,{unit:"quarter"});case"QQQ":return o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(r,{width:"wide",context:"formatting"})||o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=1&&s<=4}set(r,s,o){return r.setMonth((o-1)*3,1),r.setHours(0,0,0,0),r}}class N$ extends Ft{constructor(){super(...arguments);Te(this,"priority",120);Te(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,s,o){switch(s){case"q":case"qq":return wn(s.length,r);case"qo":return o.ordinalNumber(r,{unit:"quarter"});case"qqq":return o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(r,{width:"wide",context:"standalone"})||o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=1&&s<=4}set(r,s,o){return r.setMonth((o-1)*3,1),r.setHours(0,0,0,0),r}}class L$ extends Ft{constructor(){super(...arguments);Te(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Te(this,"priority",110)}parse(r,s,o){const i=l=>l-1;switch(s){case"M":return Tn(bn(Dn.month,r),i);case"MM":return Tn(wn(2,r),i);case"Mo":return Tn(o.ordinalNumber(r,{unit:"month"}),i);case"MMM":return o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(r,{width:"wide",context:"formatting"})||o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=11}set(r,s,o){return r.setMonth(o,1),r.setHours(0,0,0,0),r}}class $$ extends Ft{constructor(){super(...arguments);Te(this,"priority",110);Te(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,s,o){const i=l=>l-1;switch(s){case"L":return Tn(bn(Dn.month,r),i);case"LL":return Tn(wn(2,r),i);case"Lo":return Tn(o.ordinalNumber(r,{unit:"month"}),i);case"LLL":return o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(r,{width:"wide",context:"standalone"})||o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=0&&s<=11}set(r,s,o){return r.setMonth(o,1),r.setHours(0,0,0,0),r}}function F$(e,n,r){const s=rt(e,r==null?void 0:r.in),o=Wp(s,r)-n;return s.setDate(s.getDate()-o*7),rt(s,r==null?void 0:r.in)}class B$ extends Ft{constructor(){super(...arguments);Te(this,"priority",100);Te(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,s,o){switch(s){case"w":return bn(Dn.week,r);case"wo":return o.ordinalNumber(r,{unit:"week"});default:return wn(s.length,r)}}validate(r,s){return s>=1&&s<=53}set(r,s,o,i){return no(F$(r,o,i),i)}}function W$(e,n,r){const s=rt(e,r==null?void 0:r.in),o=cS(s,r)-n;return s.setDate(s.getDate()-o*7),s}class V$ extends Ft{constructor(){super(...arguments);Te(this,"priority",100);Te(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,s,o){switch(s){case"I":return bn(Dn.week,r);case"Io":return o.ordinalNumber(r,{unit:"week"});default:return wn(s.length,r)}}validate(r,s){return s>=1&&s<=53}set(r,s,o){return Ka(W$(r,o))}}const U$=[31,28,31,30,31,30,31,31,30,31,30,31],z$=[31,29,31,30,31,30,31,31,30,31,30,31];class H$ extends Ft{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"subPriority",1);Te(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,s,o){switch(s){case"d":return bn(Dn.date,r);case"do":return o.ordinalNumber(r,{unit:"date"});default:return wn(s.length,r)}}validate(r,s){const o=r.getFullYear(),i=gS(o),l=r.getMonth();return i?s>=1&&s<=z$[l]:s>=1&&s<=U$[l]}set(r,s,o){return r.setDate(o),r.setHours(0,0,0,0),r}}class G$ extends Ft{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"subpriority",1);Te(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,s,o){switch(s){case"D":case"DD":return bn(Dn.dayOfYear,r);case"Do":return o.ordinalNumber(r,{unit:"date"});default:return wn(s.length,r)}}validate(r,s){const o=r.getFullYear();return gS(o)?s>=1&&s<=366:s>=1&&s<=365}set(r,s,o){return r.setMonth(0,o),r.setHours(0,0,0,0),r}}function zp(e,n,r){var m,g,y,b;const s=_o(),o=(r==null?void 0:r.weekStartsOn)??((g=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??s.weekStartsOn??((b=(y=s.locale)==null?void 0:y.options)==null?void 0:b.weekStartsOn)??0,i=rt(e,r==null?void 0:r.in),l=i.getDay(),u=(n%7+7)%7,h=7-o,f=n<0||n>6?n-(l+h)%7:(u+h)%7-(l+h)%7;return $d(i,f,r)}class Y$ extends Ft{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=6}set(r,s,o,i){return r=zp(r,o,i),r.setHours(0,0,0,0),r}}class q$ extends Ft{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,s,o,i){const l=d=>{const u=Math.floor((d-1)/7)*7;return(d+i.weekStartsOn+6)%7+u};switch(s){case"e":case"ee":return Tn(wn(s.length,r),l);case"eo":return Tn(o.ordinalNumber(r,{unit:"day"}),l);case"eee":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeeee":return o.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=6}set(r,s,o,i){return r=zp(r,o,i),r.setHours(0,0,0,0),r}}class K$ extends Ft{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,s,o,i){const l=d=>{const u=Math.floor((d-1)/7)*7;return(d+i.weekStartsOn+6)%7+u};switch(s){case"c":case"cc":return Tn(wn(s.length,r),l);case"co":return Tn(o.ordinalNumber(r,{unit:"day"}),l);case"ccc":return o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"ccccc":return o.day(r,{width:"narrow",context:"standalone"});case"cccccc":return o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(r,{width:"wide",context:"standalone"})||o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=0&&s<=6}set(r,s,o,i){return r=zp(r,o,i),r.setHours(0,0,0,0),r}}function J$(e,n,r){const s=rt(e,r==null?void 0:r.in),o=b$(s,r),i=n-o;return $d(s,i,r)}class X$ extends Ft{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,s,o){const i=l=>l===0?7:l;switch(s){case"i":case"ii":return wn(s.length,r);case"io":return o.ordinalNumber(r,{unit:"day"});case"iii":return Tn(o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return Tn(o.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Tn(o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Tn(o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,s){return s>=1&&s<=7}set(r,s,o){return r=J$(r,o),r.setHours(0,0,0,0),r}}class Q$ extends Ft{constructor(){super(...arguments);Te(this,"priority",80);Te(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,o){return r.setHours(Up(o),0,0,0),r}}class Z$ extends Ft{constructor(){super(...arguments);Te(this,"priority",80);Te(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,o){return r.setHours(Up(o),0,0,0),r}}class eF extends Ft{constructor(){super(...arguments);Te(this,"priority",80);Te(this,"incompatibleTokens",["a","b","t","T"])}parse(r,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,o){return r.setHours(Up(o),0,0,0),r}}class tF extends Ft{constructor(){super(...arguments);Te(this,"priority",70);Te(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,s,o){switch(s){case"h":return bn(Dn.hour12h,r);case"ho":return o.ordinalNumber(r,{unit:"hour"});default:return wn(s.length,r)}}validate(r,s){return s>=1&&s<=12}set(r,s,o){const i=r.getHours()>=12;return i&&o<12?r.setHours(o+12,0,0,0):!i&&o===12?r.setHours(0,0,0,0):r.setHours(o,0,0,0),r}}class nF extends Ft{constructor(){super(...arguments);Te(this,"priority",70);Te(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,s,o){switch(s){case"H":return bn(Dn.hour23h,r);case"Ho":return o.ordinalNumber(r,{unit:"hour"});default:return wn(s.length,r)}}validate(r,s){return s>=0&&s<=23}set(r,s,o){return r.setHours(o,0,0,0),r}}class rF extends Ft{constructor(){super(...arguments);Te(this,"priority",70);Te(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,s,o){switch(s){case"K":return bn(Dn.hour11h,r);case"Ko":return o.ordinalNumber(r,{unit:"hour"});default:return wn(s.length,r)}}validate(r,s){return s>=0&&s<=11}set(r,s,o){return r.getHours()>=12&&o<12?r.setHours(o+12,0,0,0):r.setHours(o,0,0,0),r}}class sF extends Ft{constructor(){super(...arguments);Te(this,"priority",70);Te(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,s,o){switch(s){case"k":return bn(Dn.hour24h,r);case"ko":return o.ordinalNumber(r,{unit:"hour"});default:return wn(s.length,r)}}validate(r,s){return s>=1&&s<=24}set(r,s,o){const i=o<=24?o%24:o;return r.setHours(i,0,0,0),r}}class oF extends Ft{constructor(){super(...arguments);Te(this,"priority",60);Te(this,"incompatibleTokens",["t","T"])}parse(r,s,o){switch(s){case"m":return bn(Dn.minute,r);case"mo":return o.ordinalNumber(r,{unit:"minute"});default:return wn(s.length,r)}}validate(r,s){return s>=0&&s<=59}set(r,s,o){return r.setMinutes(o,0,0),r}}class aF extends Ft{constructor(){super(...arguments);Te(this,"priority",50);Te(this,"incompatibleTokens",["t","T"])}parse(r,s,o){switch(s){case"s":return bn(Dn.second,r);case"so":return o.ordinalNumber(r,{unit:"second"});default:return wn(s.length,r)}}validate(r,s){return s>=0&&s<=59}set(r,s,o){return r.setSeconds(o,0),r}}class iF extends Ft{constructor(){super(...arguments);Te(this,"priority",30);Te(this,"incompatibleTokens",["t","T"])}parse(r,s){const o=i=>Math.trunc(i*Math.pow(10,-s.length+3));return Tn(wn(s.length,r),o)}set(r,s,o){return r.setMilliseconds(o),r}}class lF extends Ft{constructor(){super(...arguments);Te(this,"priority",10);Te(this,"incompatibleTokens",["t","T","x"])}parse(r,s){switch(s){case"X":return _s(ks.basicOptionalMinutes,r);case"XX":return _s(ks.basic,r);case"XXXX":return _s(ks.basicOptionalSeconds,r);case"XXXXX":return _s(ks.extendedOptionalSeconds,r);case"XXX":default:return _s(ks.extended,r)}}set(r,s,o){return s.timestampIsSet?r:ln(r,r.getTime()-Ja(r)-o)}}class cF extends Ft{constructor(){super(...arguments);Te(this,"priority",10);Te(this,"incompatibleTokens",["t","T","X"])}parse(r,s){switch(s){case"x":return _s(ks.basicOptionalMinutes,r);case"xx":return _s(ks.basic,r);case"xxxx":return _s(ks.basicOptionalSeconds,r);case"xxxxx":return _s(ks.extendedOptionalSeconds,r);case"xxx":default:return _s(ks.extended,r)}}set(r,s,o){return s.timestampIsSet?r:ln(r,r.getTime()-Ja(r)-o)}}class dF extends Ft{constructor(){super(...arguments);Te(this,"priority",40);Te(this,"incompatibleTokens","*")}parse(r){return mS(r)}set(r,s,o){return[ln(r,o*1e3),{timestampIsSet:!0}]}}class uF extends Ft{constructor(){super(...arguments);Te(this,"priority",20);Te(this,"incompatibleTokens","*")}parse(r){return mS(r)}set(r,s,o){return[ln(r,o),{timestampIsSet:!0}]}}const hF={G:new A$,y:new R$,Y:new k$,R:new _$,u:new O$,Q:new M$,q:new N$,M:new L$,L:new $$,w:new B$,I:new V$,d:new H$,D:new G$,E:new Y$,e:new q$,c:new K$,i:new X$,a:new Q$,b:new Z$,B:new eF,h:new tF,H:new nF,K:new rF,k:new sF,m:new oF,s:new aF,S:new iF,X:new lF,x:new cF,t:new dF,T:new uF},fF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mF=/^'([^]*?)'?$/,xF=/''/g,gF=/\S/,bF=/[a-zA-Z]/;function yF(e,n,r,s){var v,E,w,I,D,T,R,_;const o=()=>ln((s==null?void 0:s.in)||r,NaN),i=x$(),l=(s==null?void 0:s.locale)??i.locale??Fd,d=(s==null?void 0:s.firstWeekContainsDate)??((E=(v=s==null?void 0:s.locale)==null?void 0:v.options)==null?void 0:E.firstWeekContainsDate)??i.firstWeekContainsDate??((I=(w=i.locale)==null?void 0:w.options)==null?void 0:I.firstWeekContainsDate)??1,u=(s==null?void 0:s.weekStartsOn)??((T=(D=s==null?void 0:s.locale)==null?void 0:D.options)==null?void 0:T.weekStartsOn)??i.weekStartsOn??((_=(R=i.locale)==null?void 0:R.options)==null?void 0:_.weekStartsOn)??0;if(!n)return e?o():rt(r,s==null?void 0:s.in);const h={firstWeekContainsDate:d,weekStartsOn:u,locale:l},f=[new T$(s==null?void 0:s.in,r)],m=n.match(pF).map(k=>{const N=k[0];if(N in td){const $=td[N];return $(k,l.formatLong)}return k}).join("").match(fF),g=[];for(let k of m){!(s!=null&&s.useAdditionalWeekYearTokens)&&hS(k)&&jf(k,n,e),!(s!=null&&s.useAdditionalDayOfYearTokens)&&uS(k)&&jf(k,n,e);const N=k[0],$=hF[N];if($){const{incompatibleTokens:G}=$;if(Array.isArray(G)){const H=g.find(K=>G.includes(K.token)||K.token===N);if(H)throw new RangeError(`The format string mustn't contain \`${H.fullToken}\` and \`${k}\` at the same time`)}else if($.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${k}\` and any other token at the same time`);g.push({token:N,fullToken:k});const L=$.run(e,k,l.match,h);if(!L)return o();f.push(L.setter),e=L.rest}else{if(N.match(bF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");if(k==="''"?k="'":N==="'"&&(k=vF(k)),e.indexOf(k)===0)e=e.slice(k.length);else return o()}}if(e.length>0&&gF.test(e))return o();const y=f.map(k=>k.priority).sort((k,N)=>N-k).filter((k,N,$)=>$.indexOf(k)===N).map(k=>f.filter(N=>N.priority===k).sort((N,$)=>$.subPriority-N.subPriority)).map(k=>k[0]);let b=rt(r,s==null?void 0:s.in);if(isNaN(+b))return o();const S={};for(const k of y){if(!k.validate(b,h))return o();const N=k.set(b,S,h);Array.isArray(N)?(b=N[0],Object.assign(S,N[1])):b=N}return b}function vF(e){return e.match(mF)[1].replace(xF,"'")}function Zy(e,n){const r=rt(e,n==null?void 0:n.in);return r.setMinutes(0,0,0),r}function jF(e,n,r){const[s,o]=Oo(r==null?void 0:r.in,e,n);return+Zy(s)==+Zy(o)}function SF(e,n,r){const[s,o]=Oo(r==null?void 0:r.in,e,n);return s.getFullYear()===o.getFullYear()&&s.getMonth()===o.getMonth()}function wF(e,n,r){const[s,o]=Oo(r==null?void 0:r.in,e,n);return s.getFullYear()===o.getFullYear()}function CF(e,n,r){const s=+rt(e,r==null?void 0:r.in),[o,i]=[+rt(n.start,r==null?void 0:r.in),+rt(n.end,r==null?void 0:r.in)].sort((l,d)=>l-d);return s>=o&&s<=i}function PF(e,n,r){const s=rt(e,r==null?void 0:r.in),o=s.getFullYear(),i=s.getDate(),l=ln(e,0);l.setFullYear(o,n,15),l.setHours(0,0,0,0);const d=fS(l);return s.setMonth(n,Math.min(i,d)),s}function EF(e,n,r){const s=rt(e,r==null?void 0:r.in);return s.setDate(n),s}function IF(e,n,r){const s=rt(e,r==null?void 0:r.in);return s.setHours(n),s}function DF(e,n,r){const s=rt(e,r==null?void 0:r.in);return s.setMilliseconds(n),s}function TF(e,n,r){const s=rt(e,r==null?void 0:r.in);return s.setMinutes(n),s}function AF(e,n,r){const s=rt(e,r==null?void 0:r.in);return s.setSeconds(n),s}function RF(e,n,r){const s=rt(e,r==null?void 0:r.in);return isNaN(+s)?ln(e,NaN):(s.setFullYear(n),s)}const bo={SUBSCRIPTION:"SUBSCRIPTION",PAYMENT:"PAYMENT",PAYOUT:"PAYOUT",CHANNEL:"CHANNEL",SYSTEM:"SYSTEM"},kF=({notification:e})=>{const n=cn(),r=Pt(),{actions:s}=_p(),o=()=>{switch(e.categoryId){case bo.SUBSCRIPTION:return t.jsx(Xj,{});case bo.PAYMENT:case bo.PAYOUT:return t.jsx(Qj,{});default:return t.jsx(Ld,{})}},i=()=>{switch(e.categoryId){case bo.SUBSCRIPTION:return n.palette.primary.main;case bo.PAYMENT:case bo.PAYOUT:return n.palette.success.main;case bo.CHANNEL:return n.palette.secondary.main;case bo.SYSTEM:return n.palette.warning.main;default:return n.palette.info.main}},l=async()=>{var u;e.isRead||await s.markAsRead(e.id),(u=e.data)!=null&&u.url&&(r(e.data.url),s.closeDrawer())},d=()=>{try{return Lr(new Date(e.createdAt),{addSuffix:!0})}catch{return"Recently"}};return t.jsxs(or,{onClick:l,sx:{cursor:"pointer",bgcolor:e.isRead?"transparent":n.palette.action.hover,borderBottom:`1px solid ${n.palette.divider}`,py:2,px:2,"&:hover":{bgcolor:n.palette.action.selected},position:"relative"},children:[!e.isRead&&t.jsx(Zj,{sx:{position:"absolute",left:12,top:"50%",transform:"translateY(-50%)",fontSize:12,color:n.palette.primary.main,zIndex:1}}),t.jsx(ZA,{children:t.jsx(Sn,{sx:{bgcolor:i(),width:40,height:40},children:o()})}),t.jsx(Wt,{primary:t.jsx(j,{variant:"body2",sx:{fontWeight:e.isRead?400:600,color:n.palette.text.primary,mb:.5},children:e.title}),secondary:t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{color:n.palette.text.secondary,fontSize:"0.875rem",mb:.5,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:e.message}),t.jsx(j,{variant:"caption",sx:{color:n.palette.text.disabled,fontSize:"0.75rem"},children:d()})]})})]})},_F=()=>{const e=cn(),n=ml(e.breakpoints.down("sm")),{notifications:r,isOpen:s,isLoading:o,hasMore:i,actions:l}=_p(),d=n?"100%":400,u=()=>{l.closeDrawer()},h=async()=>{await l.markAllAsRead()},f=()=>t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"50vh",px:3},children:[t.jsx(Jj,{sx:{fontSize:80,color:e.palette.text.disabled,mb:2}}),t.jsx(j,{variant:"h6",sx:{color:e.palette.text.secondary,mb:1},children:"No notifications"}),t.jsx(j,{variant:"body2",sx:{color:e.palette.text.disabled,textAlign:"center"},children:"You're all caught up! Check back later for new updates."})]}),m=()=>t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:3},children:t.jsx(sn,{size:32})});return t.jsxs(sa,{anchor:"right",open:s,onClose:u,PaperProps:{sx:{width:d,bgcolor:"background.default"}},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:2,py:2,borderBottom:`1px solid ${e.palette.divider}`,position:"sticky",top:0,bgcolor:"background.default",zIndex:1},children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600},children:"Notifications"}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(he,{size:"small",onClick:h,sx:{textTransform:"none",fontSize:"0.875rem",color:e.palette.primary.main},children:"Mark all read"}),t.jsx(Ne,{onClick:u,size:"small",children:t.jsx(Kj,{})})]})]}),t.jsx(C,{sx:{height:"calc(100vh - 65px)",overflow:"auto"},id:"notification-scroll-container",children:o&&r.length===0?m():r.length===0?f():t.jsx(js,{dataLength:r.length,next:l.loadMore,hasMore:i,loader:m(),scrollableTarget:"notification-scroll-container",endMessage:t.jsxs(C,{sx:{py:2,textAlign:"center"},children:[t.jsx(Mt,{sx:{mb:2}}),t.jsx(j,{variant:"caption",sx:{color:e.palette.text.disabled},children:"You've reached the end"})]}),children:t.jsx(mr,{sx:{py:0},children:r.map(g=>t.jsx(kF,{notification:g},g.id))})})})]})},OF=()=>{const e=ml("(max-width:600px)"),[n,r]=x.useState(!e),s=cn(),{isLoading:o,isAuthenticated:i}=ua(),[l,d]=x.useState(!1),[u,h]=x.useState(null),f=Pt(),m=ws();x.useEffect(()=>{e&&r(!1)},[e]);const g=()=>{r(!n)},y=T=>{f(`${ge.APP_SEARCH}?q=${encodeURIComponent(T)}`),d(!1)},b=()=>{d(!l)},S=T=>{h(T.currentTarget)},v=()=>{h(null)},E=()=>{v(),f(ge.APP_ACCOUNT)},w=()=>{v(),f(ge.APP_ACCOUNT_SETTINGS)},I=()=>{v(),f(ge.STUDIO_ROOT)},D=async()=>{v();try{await(m==null?void 0:m.signOut()),f(ge.LOGIN)}catch(T){console.error("Logout error:",T)}};return o?null:i?t.jsxs(C,{sx:{display:"flex",minHeight:"100vh",bgcolor:"background.default",overflow:"hidden"},children:[t.jsx(Sd,{position:"fixed",elevation:0,sx:{zIndex:s.zIndex.drawer+1,bgcolor:"background.default",color:"text.primary",boxShadow:"none",borderBottom:"none"},children:t.jsx(Zs,{sx:{px:"8px"},children:l&&e?t.jsxs(C,{sx:{display:"flex",alignItems:"center",width:"100%",gap:1},children:[t.jsx(Ne,{color:"inherit",onClick:b,sx:{flexShrink:0},children:t.jsx(gp,{})}),t.jsx(C,{sx:{flexGrow:1,mt:.5},children:t.jsx(bf,{onSearch:y,placeholder:"Search",className:"app-search-bar"})})]}):t.jsxs(t.Fragment,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",position:"absolute",left:0},children:[t.jsx(Ne,{color:"inherit","aria-label":"toggle sidebar",onClick:g,sx:{minWidth:40,ml:.5,mr:1.5,"& .MuiSvgIcon-root":{fontSize:24,filter:"drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))"}},children:t.jsx(zj,{})}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsxs(j,{variant:"h6",sx:{fontWeight:700,display:"block",letterSpacing:".1rem",fontFamily:"'Inter', -apple-system, sans-serif"},children:[t.jsxs(C,{sx:{display:{xs:"none",sm:"block"}},children:[t.jsx("span",{style:{color:"#2196F3",textTransform:"uppercase",fontWeight:800},children:"Meta"}),t.jsx("span",{style:{color:"#1976D2",fontWeight:600},children:"Journo"})]}),t.jsxs(C,{sx:{display:{xs:"block",sm:"none"}},children:[t.jsx("span",{style:{color:"#2196F3",textTransform:"uppercase",fontWeight:800},children:"M"}),t.jsx("span",{style:{color:"#1976D2",fontWeight:600},children:"Journo"})]})]}),t.jsxs(j,{variant:"caption",sx:{opacity:.7,fontWeight:500,fontSize:"0.75rem",display:{xs:"none",sm:"block"}},children:["v",TL]})]})]}),t.jsx(C,{sx:{position:"absolute",left:"50%",transform:"translateX(-50%)",display:{xs:"none",md:"flex"}},children:t.jsx(bf,{onSearch:y,placeholder:"Search articles, channels, journalists...",className:"app-search-bar"})}),t.jsx(C,{sx:{flexGrow:1}}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Ne,{onClick:b,color:"inherit",sx:{display:{xs:"flex",md:"none"}},children:t.jsx(Od,{})}),t.jsx(ML,{}),t.jsx(Ne,{onClick:S,color:"inherit","aria-controls":u?"profile-menu":void 0,"aria-haspopup":"true","aria-expanded":u?"true":void 0,children:t.jsx(Nd,{})})]})]})})}),t.jsx(_F,{}),t.jsxs(Ro,{id:"profile-menu",anchorEl:u,open:!!u,onClose:v,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{elevation:3,sx:{mt:1.5,minWidth:200,borderRadius:2,overflow:"visible","& .MuiMenuItem-root":{py:1.5,px:2}}},children:[t.jsxs(je,{onClick:E,children:[t.jsx(qt,{children:t.jsx(yl,{fontSize:"small"})}),t.jsx(Wt,{children:"Account"})]}),t.jsxs(je,{onClick:w,children:[t.jsx(qt,{children:t.jsx(Gj,{fontSize:"small"})}),t.jsx(Wt,{children:"Settings"})]}),t.jsxs(je,{onClick:I,children:[t.jsx(qt,{children:t.jsx(Hj,{fontSize:"small"})}),t.jsx(Wt,{children:"Creator Studio"})]}),t.jsx(Mt,{}),t.jsxs(je,{onClick:D,children:[t.jsx(qt,{children:t.jsx(Yj,{fontSize:"small"})}),t.jsx(Wt,{children:"Logout"})]})]}),e?t.jsxs(sa,{variant:"temporary",open:n,onClose:g,ModalProps:{keepMounted:!0},PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{width:240,border:"none"}},children:[t.jsx(Zs,{}),t.jsx(C,{sx:{height:"calc(100% - 64px)",overflow:"auto"},children:t.jsx(Vy,{isOpen:!0,toggleSidebar:g})})]}):t.jsxs(sa,{variant:"permanent",PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{width:n?240:72,flexShrink:0,"& .MuiDrawer-paper":{width:n?240:72,transition:"width 0.2s",overflowX:"hidden",border:"none",borderRight:"none"}},children:[t.jsx(Zs,{}),t.jsx(C,{sx:{height:"calc(100% - 64px)",overflow:"auto",overflowX:"hidden",width:"100%"},children:t.jsx(Vy,{isOpen:n,toggleSidebar:g})})]}),t.jsx(C,{component:"main",sx:{flexGrow:1,pt:8,minHeight:"100vh",display:"flex",flexDirection:"column",bgcolor:"background.default",overflow:"hidden",width:"100%"},children:t.jsx(C,{sx:{flexGrow:1,py:3,px:{xs:2,sm:3},overflowY:"auto",overflowX:"hidden",width:"100%",marginLeft:0,marginRight:"auto"},children:t.jsx(np,{})})})]}):t.jsx(C,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",bgcolor:"background.default"},children:t.jsx(sn,{})})};var Hp={},MF=Ke;Object.defineProperty(Hp,"__esModule",{value:!0});var Gp=Hp.default=void 0,NF=MF(Xe()),LF=t;Gp=Hp.default=(0,NF.default)((0,LF.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");var Yp={},$F=Ke;Object.defineProperty(Yp,"__esModule",{value:!0});var qp=Yp.default=void 0,FF=$F(Xe()),BF=t;qp=Yp.default=(0,FF.default)((0,BF.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6"}),"Brightness4");var Kp={},WF=Ke;Object.defineProperty(Kp,"__esModule",{value:!0});var Jp=Kp.default=void 0,VF=WF(Xe()),UF=t;Jp=Kp.default=(0,VF.default)((0,UF.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6m0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4"}),"Brightness7");const zF=Ev({palette:{mode:"light",primary:{main:"#2196f3"},background:{default:"#ffffff",paper:"#f8f9fa"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)"}},typography:{fontFamily:"'Poppins', 'Inter', sans-serif",h6:{fontWeight:700,letterSpacing:.5}}}),HF=Ev({palette:{mode:"dark",background:{default:"#121212",paper:"#1e1e1e"},text:{primary:"rgba(255, 255, 255, 0.87)",secondary:"rgba(255, 255, 255, 0.6)"}},typography:{fontFamily:"'Poppins', 'Inter', sans-serif",h6:{fontWeight:700,letterSpacing:.5}}}),bS=x.createContext(null),GF=({children:e})=>{const[n,r]=x.useState(null),[s,o]=x.useState(!0),[i,l]=x.useState(null),{api:d}=Je(),{isAuthenticated:u}=ua(),{user:h}=ws(),f=x.useCallback(async()=>{if(!(!h||!u))try{o(!0),l(null);const y=await d.app.account.getUserPreference();r(y)}catch(y){console.error("Error fetching user preferences:",y),l(y.message||"Failed to load preferences"),r({id:null,userId:h.uid,themeInfo:{mode:"light"},createdAt:null,updatedAt:null})}finally{o(!1)}},[h,u,d]);x.useEffect(()=>{f()},[f]);const m=x.useCallback(async y=>{if(!h)throw new Error("User not authenticated");try{l(null);const b=await d.app.account.updateUserPreference(y);r(b)}catch(b){throw console.error("Error updating user preference:",b),l(b.message||"Failed to update preference"),b}},[h,d]),g=x.useCallback(async()=>{await f()},[f]);return t.jsx(bS.Provider,{value:{preference:n,loading:s,error:i,updatePreference:m,refreshPreferences:g},children:e})},YF=()=>{const e=x.useContext(bS);if(!e)throw new Error("useUserPreferences must be used within UserPreferencesProvider");return e},yS=x.createContext({}),qF=({children:e})=>{var u;const{preference:n,loading:r,updatePreference:s}=YF(),[o,i]=x.useState(()=>{var h;return(h=n==null?void 0:n.themeInfo)!=null&&h.mode?n.themeInfo.mode==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});x.useEffect(()=>{var h;!r&&((h=n==null?void 0:n.themeInfo)!=null&&h.mode)&&i(n.themeInfo.mode==="dark")},[(u=n==null?void 0:n.themeInfo)==null?void 0:u.mode,r]);const l=async()=>{const h=!o;i(h);try{await s({themeInfo:{mode:h?"dark":"light"}})}catch(f){console.error("Failed to save theme preference:",f)}},d=x.useMemo(()=>o?HF:zF,[o]);return t.jsx(yS.Provider,{value:{isDarkMode:o,toggleTheme:l},children:t.jsxs(eR,{theme:d,children:[t.jsx(tR,{}),e]})})},Xp=()=>x.useContext(yS);var Qp={},KF=Ke;Object.defineProperty(Qp,"__esModule",{value:!0});var vS=Qp.default=void 0,JF=KF(Xe()),XF=t;vS=Qp.default=(0,JF.default)((0,XF.jsx)("path",{d:"m22 3-1.67 1.67L18.67 3 17 4.67 15.33 3l-1.66 1.67L12 3l-1.67 1.67L8.67 3 7 4.67 5.33 3 3.67 4.67 2 3v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2zM11 19H4v-6h7zm9 0h-7v-2h7zm0-4h-7v-2h7zm0-4H4V8h16z"}),"Newspaper");var Zp={},QF=Ke;Object.defineProperty(Zp,"__esModule",{value:!0});var em=Zp.default=void 0,ZF=QF(Xe()),e0=t;em=Zp.default=(0,ZF.default)([(0,e0.jsx)("path",{d:"M17 19.22H5V7h7V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-7h-2z"},"0"),(0,e0.jsx)("path",{d:"M19 2h-2v3h-3c.01.01 0 2 0 2h3v2.99c.01.01 2 0 2 0V7h3V5h-3zM7 9h8v2H7zm0 3v2h8v-2h-3zm0 3h8v2H7z"},"1")],"PostAdd");var tm={},e4=Ke;Object.defineProperty(tm,"__esModule",{value:!0});var vl=tm.default=void 0,t4=e4(Xe()),n4=t;vl=tm.default=(0,t4.default)((0,n4.jsx)("path",{d:"M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2m0 14H3V5h18zm-5-7v2h-3v3h-2v-3H8v-2h3V7h2v3z"}),"AddToQueue");var nm={},r4=Ke;Object.defineProperty(nm,"__esModule",{value:!0});var rm=nm.default=void 0,s4=r4(Xe()),o4=t;rm=nm.default=(0,s4.default)((0,o4.jsx)("path",{d:"M22 5v2h-3v3h-2V7h-3V5h3V2h2v3zm-3 14H5V5h6V3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6h-2zm-4-6v4h2v-4zm-4 4h2V9h-2zm-2 0v-6H7v6z"}),"Addchart");var sm={},a4=Ke;Object.defineProperty(sm,"__esModule",{value:!0});var jS=sm.default=void 0,i4=a4(Xe()),l4=t;jS=sm.default=(0,i4.default)((0,l4.jsx)("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}),"Receipt");var om={},c4=Ke;Object.defineProperty(om,"__esModule",{value:!0});var Bd=om.default=void 0,d4=c4(Xe()),u4=t;Bd=om.default=(0,d4.default)((0,u4.jsx)("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney");const h4=({mobileOpen:e,onDrawerToggle:n})=>{const r=da(),s=window.innerWidth<=600,o={news:[{path:ge.STUDIO_NEWS,icon:t.jsx(vS,{}),label:"My News"},{path:ge.STUDIO_NEWS_CREATE,icon:t.jsx(em,{}),label:"Create News"}],channels:[{path:ge.STUDIO_CHANNELS,icon:t.jsx(jp,{}),label:"My Channels"},{path:ge.STUDIO_CHANNEL_CREATE,icon:t.jsx(vl,{}),label:"Create Channel"}],polls:[{path:ge.STUDIO_POLLS,icon:t.jsx(Md,{}),label:"My Polls"},{path:ge.STUDIO_POLL_CREATE,icon:t.jsx(rm,{}),label:"Create Poll"}],payouts:[{path:ge.STUDIO_EXPENSE_ORDERS,icon:t.jsx(jS,{}),label:"My Payouts"},{path:ge.STUDIO_EXPENSE_ORDER_CREATE,icon:t.jsx(Bd,{}),label:"Request Payout"}]},i=t.jsxs(C,{children:[t.jsx(Zs,{}),t.jsxs(mr,{sx:{px:2},children:[t.jsx(j,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"News Management"}),o.news.map(l=>t.jsxs(or,{button:!0,component:Qn,to:l.path,selected:r.pathname===l.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(qt,{sx:{minWidth:40,color:r.pathname===l.path?"primary.main":"inherit"},children:l.icon}),t.jsx(Wt,{primary:l.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===l.path?600:400}})]},l.path)),t.jsx(Mt,{sx:{my:2}}),t.jsx(j,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"Channel Management"}),o.channels.map(l=>t.jsxs(or,{button:!0,component:Qn,to:l.path,selected:r.pathname===l.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(qt,{sx:{minWidth:40,color:r.pathname===l.path?"primary.main":"inherit"},children:l.icon}),t.jsx(Wt,{primary:l.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===l.path?600:400}})]},l.path))]}),t.jsx(Mt,{sx:{my:2}}),t.jsxs(mr,{sx:{px:2},children:[t.jsx(j,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"Poll Management"}),o.polls.map(l=>t.jsxs(or,{button:!0,component:Qn,to:l.path,selected:r.pathname===l.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(qt,{sx:{minWidth:40,color:r.pathname===l.path?"primary.main":"inherit"},children:l.icon}),t.jsx(Wt,{primary:l.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===l.path?600:400}})]},l.path))]}),t.jsx(Mt,{sx:{my:2}}),t.jsxs(mr,{sx:{px:2},children:[t.jsx(j,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"Payout Management"}),o.payouts.map(l=>t.jsxs(or,{button:!0,component:Qn,to:l.path,selected:r.pathname===l.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(qt,{sx:{minWidth:40,color:r.pathname===l.path?"primary.main":"inherit"},children:l.icon}),t.jsx(Wt,{primary:l.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===l.path?600:400}})]},l.path))]})]});return t.jsx(t.Fragment,{children:s?t.jsx(sa,{variant:"temporary",open:e,onClose:n,ModalProps:{keepMounted:!0},PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{width:240,border:"none"}},children:i}):t.jsx(sa,{variant:"permanent",PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,transition:"width 0.2s",overflowX:"hidden",border:"none",borderRight:"none"}},children:i})})},f4=()=>{const[e,n]=x.useState(!1),[r,s]=x.useState(null),o=Pt(),i=cn(),{isDarkMode:l,toggleTheme:d}=Xp(),{isLoading:u,isAuthenticated:h}=ua(),f=()=>{n(!e)},m=v=>{s(v.currentTarget)},g=()=>{s(null)},y=v=>{o(v),g()},b=v=>{o(`${ge.STUDIO_SEARCH}?q=${encodeURIComponent(v)}`)},S=v=>{o(`${ge.STUDIO_SEARCH}?q=${encodeURIComponent(v.text)}`)};return u||!h?null:t.jsxs(C,{sx:{display:"flex",minHeight:"100vh",bgcolor:"background.default"},children:[t.jsx(Sd,{position:"fixed",elevation:0,sx:{zIndex:i.zIndex.drawer+1,bgcolor:"background.default",color:"text.primary",boxShadow:"none",borderBottom:"none"},children:t.jsxs(Zs,{sx:{px:"8px"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",minWidth:200},children:[t.jsx(Ne,{color:"inherit","aria-label":"toggle sidebar",onClick:f,sx:{minWidth:40,ml:.5,mr:1.5,"& .MuiSvgIcon-root":{fontSize:24,filter:"drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))"}},children:t.jsx(Gp,{})}),t.jsxs(j,{variant:"h6",sx:{fontWeight:700,display:"block",letterSpacing:".1rem",fontFamily:"'Inter', -apple-system, sans-serif"},children:[t.jsx(C,{sx:{display:{xs:"none",sm:"block"}},children:"Creator Studio"}),t.jsx(C,{sx:{display:{xs:"block",sm:"none"}},children:"Studio"})]})]}),t.jsx(C,{sx:{flexGrow:1,display:"flex",justifyContent:"center"},children:t.jsx(bf,{onSearch:b,onSuggestionSelect:S,placeholder:"Search your content and analytics...",className:"studio-search-bar"})}),t.jsx(Ne,{onClick:d,color:"inherit",children:l?t.jsx(Jp,{}):t.jsx(qp,{})}),t.jsx(Ne,{onClick:()=>o(ge.APP_ROOT),color:"inherit",sx:{ml:2},children:t.jsx(qa,{})}),t.jsx(Ne,{onClick:m,color:"inherit",sx:{ml:2},children:t.jsx(Nd,{})}),t.jsx(Ro,{anchorEl:r,open:!!r,onClose:g,PaperProps:{sx:{width:220}},children:[{path:ge.APP_ROOT,icon:t.jsx(qa,{fontSize:"small"}),label:"Exit Studio"}].map(v=>t.jsxs(je,{onClick:()=>y(v.path),children:[t.jsx(qt,{children:v.icon}),t.jsx(Wt,{children:v.label})]},v.path))})]})}),t.jsx(h4,{mobileOpen:e,onDrawerToggle:f}),t.jsx(C,{component:"main",sx:{flexGrow:1,pt:8,width:0,minHeight:"100vh",display:"flex",flexDirection:"column",bgcolor:"background.default"},children:t.jsx(C,{sx:{flexGrow:1,py:3,px:{xs:2,sm:3},maxWidth:1200,mx:"auto",width:"100%"},children:t.jsx(np,{})})})]})};var am={},p4=Ke;Object.defineProperty(am,"__esModule",{value:!0});var Sf=am.default=void 0,m4=p4(Xe()),x4=t;Sf=am.default=(0,m4.default)((0,x4.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security");const Wh=280,g4=({mobileOpen:e,onDrawerToggle:n})=>{const r=Pt(),s=da(),o=[{text:"Dashboard",icon:t.jsx(Iv,{}),path:ge.ADMIN_ROOT,exact:!0},{text:"News Management",icon:t.jsx(ra,{}),path:ge.ADMIN_NEWS},{text:"Poll Management",icon:t.jsx(zf,{}),path:ge.ADMIN_POLLS},{text:"Channel Management",icon:t.jsx(Uf,{}),path:ge.ADMIN_CHANNELS},{text:"User Management",icon:t.jsx(Io,{}),path:ge.ADMIN_USERS},{text:"Expense Orders",icon:t.jsx(eo,{}),path:ge.ADMIN_EXPENSE_ORDERS},{text:"Payout Management",icon:t.jsx(za,{}),path:ge.ADMIN_PAYOUTS},{text:"Tag Management",icon:t.jsx(Hf,{}),path:ge.ADMIN_TAGS},{text:"Subscriptions",icon:t.jsx(Ha,{}),path:ge.ADMIN_SUBSCRIPTIONS},{text:"Analytics",icon:t.jsx(ms,{}),path:ge.ADMIN_ANALYTICS},{text:"Settings",icon:t.jsx(Oc,{}),path:ge.ADMIN_SETTINGS}],i=u=>u.exact?s.pathname===u.path||s.pathname==="/admin"&&u.path===ge.ADMIN_ROOT:s.pathname.startsWith(u.path),l=u=>{r(u),e&&n()},d=t.jsxs(C,{children:[t.jsx(Zs,{sx:{px:3,py:2,bgcolor:"error.main",color:"error.contrastText"},children:t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[t.jsx(j,{variant:"h6",noWrap:!0,component:"div",sx:{fontWeight:700,flexGrow:1,fontFamily:"'Inter', -apple-system, sans-serif"},children:"Admin Panel"}),t.jsx(Qe,{label:"Admin",size:"small",sx:{bgcolor:"error.contrastText",color:"error.main",fontWeight:600}})]})}),t.jsx(Mt,{}),t.jsx(mr,{sx:{pt:2,px:2},children:o.map(u=>{const h=i(u);return t.jsx(or,{disablePadding:!0,sx:{mb:.5},children:t.jsxs(of,{onClick:()=>l(u.path),sx:{borderRadius:2,px:2,py:1.5,minHeight:48,bgcolor:h?"error.main":"transparent",color:h?"error.contrastText":"text.primary","&:hover":{bgcolor:h?"error.dark":"action.hover"},"& .MuiListItemIcon-root":{color:h?"error.contrastText":"text.secondary",minWidth:36},transition:"all 0.2s ease-in-out"},children:[t.jsx(qt,{children:u.icon}),t.jsx(Wt,{primary:u.text,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:h?600:500,fontFamily:"'Inter', -apple-system, sans-serif"}})]})},u.text)})}),t.jsx(Mt,{sx:{my:2}}),t.jsx(mr,{sx:{px:2},children:t.jsx(or,{disablePadding:!0,children:t.jsxs(of,{onClick:()=>l(ge.APP_ROOT),sx:{borderRadius:2,px:2,py:1.5,minHeight:48,color:"text.secondary","&:hover":{bgcolor:"action.hover"}},children:[t.jsx(qt,{sx:{color:"text.secondary",minWidth:36},children:t.jsx(nR,{})}),t.jsx(Wt,{primary:"Back to App",primaryTypographyProps:{fontSize:"0.875rem",fontWeight:500,fontFamily:"'Inter', -apple-system, sans-serif"}})]})})})]});return t.jsxs(C,{component:"nav",sx:{width:{sm:Wh},flexShrink:{sm:0}},children:[t.jsx(sa,{variant:"temporary",open:e,onClose:n,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:Wh,bgcolor:"background.paper",borderRight:"1px solid",borderRightColor:"divider"}},children:d}),t.jsx(sa,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:Wh,bgcolor:"background.paper",borderRight:"1px solid",borderRightColor:"divider"}},open:!0,children:d})]})},b4=()=>{const[e,n]=x.useState(!1),[r,s]=x.useState(null),o=Pt(),i=cn(),{isDarkMode:l,toggleTheme:d}=Xp(),{isLoading:u,isAuthenticated:h}=ua(),{user:f}=ws(),m=()=>{n(!e)},g=S=>{s(S.currentTarget)},y=()=>{s(null)},b=S=>{o(S),y()};return u?null:f&&!h?t.jsx(C,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",bgcolor:"background.default"},children:t.jsx(sn,{})}):t.jsxs(C,{sx:{display:"flex",minHeight:"100vh",bgcolor:"background.default"},children:[t.jsx(Sd,{position:"fixed",elevation:0,sx:{zIndex:i.zIndex.drawer+1,bgcolor:"background.default",color:"text.primary",boxShadow:"none",borderBottom:"1px solid",borderBottomColor:"divider"},children:t.jsxs(Zs,{sx:{px:"8px"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",minWidth:200},children:[t.jsx(Ne,{color:"inherit","aria-label":"toggle sidebar",onClick:m,sx:{minWidth:40,ml:.5,mr:1.5,"& .MuiSvgIcon-root":{fontSize:24,filter:"drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))"}},children:t.jsx(Gp,{})}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Sf,{sx:{color:"error.main"}}),t.jsxs(j,{variant:"h6",sx:{fontWeight:700,display:"block",letterSpacing:".1rem",fontFamily:"'Inter', -apple-system, sans-serif",color:"error.main"},children:[t.jsx(C,{sx:{display:{xs:"none",sm:"block"}},children:"Admin Panel"}),t.jsx(C,{sx:{display:{xs:"block",sm:"none"}},children:"Admin"})]})]})]}),t.jsx(C,{sx:{flexGrow:1}}),t.jsx(Ne,{onClick:d,color:"inherit",children:l?t.jsx(Jp,{}):t.jsx(qp,{})}),t.jsx(Ne,{onClick:()=>o(ge.APP_ROOT),color:"inherit",sx:{ml:2},children:t.jsx(qa,{})}),t.jsx(Ne,{onClick:g,color:"inherit",sx:{ml:2},children:t.jsx(Nd,{})}),t.jsx(Ro,{anchorEl:r,open:!!r,onClose:y,PaperProps:{sx:{width:220}},children:[{path:ge.APP_ROOT,icon:t.jsx(qa,{fontSize:"small"}),label:"Exit Admin"},{path:ge.STUDIO_ROOT,icon:t.jsx(Sf,{fontSize:"small"}),label:"Creator Studio"}].map(S=>t.jsxs(je,{onClick:()=>b(S.path),children:[t.jsx(qt,{children:S.icon}),t.jsx(Wt,{children:S.label})]},S.path))})]})}),t.jsx(g4,{mobileOpen:e,onDrawerToggle:m}),t.jsx(C,{component:"main",sx:{flexGrow:1,pt:8,width:0,minHeight:"100vh",display:"flex",flexDirection:"column",bgcolor:"background.default"},children:t.jsx(C,{sx:{flexGrow:1,py:3,px:{xs:2,sm:3},maxWidth:1400,mx:"auto",width:"100%"},children:t.jsx(np,{})})})]})},[y4,Cs]=_d(),v4=({children:e})=>{const{api:n}=Je(),{user:r}=ws(),{execute:s}=et(),[o,i]=x.useState(null),[l,d]=x.useState(!1),[u,h]=x.useState(!1),[f,m]=x.useState(!1),g=x.useRef(r==null?void 0:r.uid);g.current=r==null?void 0:r.uid;const y=x.useCallback(async()=>{if(!g.current)return;d(!0),m(!1);const S=await s(()=>n.app.account.getProfile(),{showErrorToast:!1});S?i(S):m(!0),d(!1),h(!0)},[n,s]);x.useEffect(()=>{r||(i(null),d(!1),h(!1),m(!1))},[r]);const b={profile:o,isLoading:l,isInitialized:u,hasServerError:f,channelRelations:{getSubscription:S=>{var v;return((v=o==null?void 0:o.subscriptions)==null?void 0:v.find(E=>E.channelId===S))??null},getSubscriptions:()=>(o==null?void 0:o.subscriptions)??[],hasSubscription:S=>{var v;return((v=o==null?void 0:o.subscriptions)==null?void 0:v.some(E=>E.channelId===S))??!1},hasChannel:()=>{var S;return((S=o==null?void 0:o.staffChannels)==null?void 0:S.length)&&o.staffChannels.length>0},getSubscriptionTier:S=>{var v,E;return((E=(v=o==null?void 0:o.subscriptions)==null?void 0:v.find(w=>w.channelId===S))==null?void 0:E.tier)??null}},actions:{refreshProfile:y}};return t.jsx(y4.Provider,{value:b,children:e})},Vh=({children:e})=>{const{isLoading:n,isAuthenticated:r,actions:s}=ua(),{isLoading:o,isInitialized:i,hasServerError:l,actions:d}=Cs();return x.useEffect(()=>{r&&!i&&!o&&!l&&d.refreshProfile()},[r,i,o,l,d]),x.useEffect(()=>{l&&r&&s.signOut()},[l,r,s]),n||o||!i?null:r?l?t.jsx(fy,{to:ge.LOGIN}):t.jsx(t.Fragment,{children:e}):t.jsx(fy,{to:ge.LOGIN})};var im={},j4=Ke;Object.defineProperty(im,"__esModule",{value:!0});var lm=im.default=void 0;C4(x);var S4=j4(Xe()),w4=t;function SS(e){if(typeof WeakMap!="function")return null;var n=new WeakMap,r=new WeakMap;return(SS=function(s){return s?r:n})(e)}function C4(e,n){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=SS(n);if(r&&r.has(e))return r.get(e);var s={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(s,i,l):s[i]=e[i]}return s.default=e,r&&r.set(e,s),s}lm=im.default=(0,S4.default)((0,w4.jsx)("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"}),"Google");const P4=Me(he)(({theme:e,bgcolor:n})=>({color:"#fff",backgroundColor:n,boxShadow:`0 2px 4px 0 ${n}80`,"&:hover":{backgroundColor:e.palette.augmentColor({color:{main:n}}).dark},"& .MuiButton-startIcon":{marginRight:e.spacing(1)}})),E4=()=>{const[e,n]=x.useState(""),[r,s]=x.useState(""),[o,i]=x.useState(""),[l,d]=x.useState(!1),u=ws(),{api:h}=Je(),f=Pt(),{execute:m}=et(),g=async b=>{b.preventDefault(),i(""),d(!0);try{const S=await(u==null?void 0:u.signIn(e,r));S&&(await m(()=>h==null?void 0:h.auth.signIn({idToken:S}),{showSuccessMessage:!0,successMessage:"Successfully logged in!"})?f(ge.APP_NEWS_TRENDING):(await(u==null?void 0:u.signOut()),i("Failed to connect to server. Please try again.")))}catch(S){const v=S instanceof Error?S.message:"Failed to login with email and password";i(v)}finally{d(!1)}},y=async b=>{i(""),d(!0);try{const S=await(u==null?void 0:u.signInWithProvider(b));S&&(await m(()=>h==null?void 0:h.auth.signIn({idToken:S}),{showSuccessMessage:!0,successMessage:"Successfully logged in!"})?f(ge.APP_NEWS_TRENDING):(await(u==null?void 0:u.signOut()),i("Failed to connect to server. Please try again.")))}catch(S){const v=S instanceof Error?S.message:"Failed to login with Google";i(v)}finally{d(!1)}};return t.jsxs(It,{maxWidth:"xs",sx:{mt:8},children:[t.jsx(C,{sx:{textAlign:"center",mb:4},children:t.jsx(j,{variant:"h4",gutterBottom:!0,children:"Welcome back!"})}),o&&t.jsx(dt,{severity:"error",sx:{mb:2},children:o}),t.jsxs(C,{component:"form",onSubmit:g,sx:{mb:2},children:[t.jsx(nt,{label:"Email",variant:"outlined",fullWidth:!0,margin:"normal",type:"email",autoComplete:"email",value:e,onChange:b=>n(b.target.value),disabled:l}),t.jsx(nt,{label:"Password",variant:"outlined",fullWidth:!0,type:"password",margin:"normal",autoComplete:"current-password",value:r,onChange:b=>s(b.target.value),disabled:l}),t.jsx(C,{sx:{textAlign:"right",mb:2},children:t.jsx(wd,{href:"#",variant:"caption",children:"Did you forget your password?"})}),t.jsx(he,{type:"submit",variant:"outlined",color:"secondary",fullWidth:!0,sx:{mb:2},disabled:l,children:l?"Logging in...":"Log In"})]}),t.jsx(Mt,{sx:{my:2},children:"OR"}),t.jsx(C,{sx:{textAlign:"center",mb:2},children:t.jsx(j,{variant:"body2",gutterBottom:!0,children:"You can sign in or sign up our application with following providers"})}),t.jsx(C,{sx:{display:"flex",flexDirection:"column",gap:2},children:t.jsx(P4,{variant:"contained",startIcon:t.jsx(lm,{}),bgcolor:"#DB4437",onClick:()=>y(Bj),disabled:l,children:"Sign in with Google"})}),t.jsx(Mt,{sx:{my:3}}),t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Don't have an account?"}),t.jsxs(C,{sx:{display:"flex",justifyContent:"center",gap:2},children:[t.jsx(he,{variant:"outlined",size:"small",onClick:()=>f(`${ge.SIGNUP}?role=journalist`),disabled:l,children:"Sign up as Journalist"}),t.jsx(he,{variant:"outlined",size:"small",onClick:()=>f(`${ge.SIGNUP}?role=reader`),disabled:l,children:"Sign up as Reader"})]})]})]})},Kn={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE",PENDING:"PENDING",BLOCKED:"BLOCKED",SUSPENDED:"SUSPENDED",BANNED:"BANNED",DELETED:"DELETED",NOT_VERIFIED:"NOT_VERIFIED"},an={SUPER_ADMIN:"SUPER_ADMIN",ADMIN:"ADMIN",MODERATOR:"MODERATOR",REGULAR_USER:"REGULAR_USER",GUEST:"GUEST",JOURNALIST:"JOURNALIST",EDITOR:"EDITOR",EVALUATOR:"EVALUATOR",FINANCE_MANAGER:"FINANCE_MANAGER"},I4=Me(he)(({theme:e,bgcolor:n})=>({color:"#fff",backgroundColor:n,boxShadow:`0 2px 4px 0 ${n}80`,"&:hover":{backgroundColor:e.palette.augmentColor({color:{main:n}}).dark},"& .MuiButton-startIcon":{marginRight:e.spacing(1)}})),D4=()=>{const[e]=Wv(),[n,r]=x.useState({displayName:"",email:"",password:"",confirmPassword:""}),[s,o]=x.useState({}),[i,l]=x.useState(""),[d,u]=x.useState(!1),h=ws(),{api:f}=Je(),{execute:m}=et(),g=Pt(),y=e.get("role"),b=x.useMemo(()=>y==="journalist"?an.JOURNALIST:an.REGULAR_USER,[y]),S=x.useMemo(()=>y==="journalist"?{title:"Join as a Journalist",subtitle:"Create and share your stories with the world",benefits:["Publish articles and build your readership","Monetize your content","Access analytics and insights","Connect with your audience"]}:{title:"Join as a Reader",subtitle:"Discover and support independent journalism",benefits:["Access quality journalism","Support journalists you trust","Personalized news feed","Engage with content"]},[y]),v=x.useCallback(D=>T=>{const R=T.target.value;r(_=>({..._,[D]:R})),s[D]&&o(_=>({..._,[D]:void 0})),i&&l("")},[s,i]),E=x.useCallback(()=>{const D={};return n.displayName.trim()?n.displayName.trim().length<2?D.displayName="Display name must be at least 2 characters":n.displayName.trim().length>50&&(D.displayName="Display name must be less than 50 characters"):D.displayName="Display name is required",n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(D.email="Please enter a valid email address"):D.email="Email is required",n.password?n.password.length<6&&(D.password="Password must be at least 6 characters"):D.password="Password is required",n.confirmPassword?n.password!==n.confirmPassword&&(D.confirmPassword="Passwords do not match"):D.confirmPassword="Please confirm your password",o(D),Object.keys(D).length===0},[n]),w=x.useCallback(async D=>{if(D.preventDefault(),l(""),!!E()){u(!0);try{const T=await(h==null?void 0:h.signUp(n.email,n.password));T&&(await m(()=>f==null?void 0:f.auth.signUp({externalId:T.uid,email:T.email,displayName:n.displayName.trim(),photoUrl:T.photoURL??"",roleId:b}),{showSuccessMessage:!0,successMessage:"Account created successfully!"})?g(`${ge.POST_SIGNUP}?role=${y||"reader"}`):(await(h==null?void 0:h.signOut()),l("Failed to connect to server. Please try again.")))}catch(T){const R=T instanceof Error?T.message:"Failed to sign up with email and password";l(R)}finally{u(!1)}}},[n,h,f,m,E,b,g,y]),I=x.useCallback(async D=>{l(""),u(!0);try{const T=await(h==null?void 0:h.signInWithProvider(D));if(T&&(h!=null&&h.user))if(await m(()=>f==null?void 0:f.auth.signIn({idToken:T}),{showErrorToast:!1})){g(ge.APP_NEWS_TRENDING);return}else await m(()=>f==null?void 0:f.auth.signUp({externalId:h.user.uid,email:h.user.email||"",displayName:h.user.displayName||"",photoUrl:h.user.photoURL||"",roleId:b}),{showSuccessMessage:!0,successMessage:"Account created successfully!"})?g(`${ge.POST_SIGNUP}?role=${y||"reader"}`):(await(h==null?void 0:h.signOut()),l("Failed to connect to server. Please try again."))}catch(T){const R=T instanceof Error?T.message:"Failed to login with social provider";l(R)}finally{u(!1)}},[h,f,m,b,g,y]);return t.jsxs(It,{maxWidth:"xs",sx:{mt:8},children:[t.jsxs(C,{sx:{textAlign:"center",mb:4},children:[t.jsx(j,{variant:"h4",gutterBottom:!0,children:S.title}),t.jsx(j,{variant:"body1",color:"text.secondary",sx:{mb:2},children:S.subtitle}),y&&t.jsx(Qe,{label:y==="journalist"?"Journalist Account":"Reader Account",color:"primary",variant:"outlined",sx:{mb:2}})]}),i&&t.jsx(dt,{severity:"error",sx:{mb:2},children:i}),t.jsxs(C,{component:"form",onSubmit:w,noValidate:!0,children:[t.jsx(nt,{label:"Display Name",variant:"outlined",fullWidth:!0,margin:"normal",type:"text",autoComplete:"name",value:n.displayName,onChange:v("displayName"),error:!!s.displayName,helperText:s.displayName,disabled:d,required:!0}),t.jsx(nt,{label:"Email",variant:"outlined",fullWidth:!0,margin:"normal",type:"email",autoComplete:"email",value:n.email,onChange:v("email"),error:!!s.email,helperText:s.email,disabled:d,required:!0}),t.jsx(nt,{label:"Password",variant:"outlined",fullWidth:!0,type:"password",margin:"normal",autoComplete:"new-password",value:n.password,onChange:v("password"),error:!!s.password,helperText:s.password,disabled:d,required:!0}),t.jsx(nt,{label:"Confirm Password",variant:"outlined",fullWidth:!0,type:"password",margin:"normal",autoComplete:"new-password",value:n.confirmPassword,onChange:v("confirmPassword"),error:!!s.confirmPassword,helperText:s.confirmPassword,disabled:d,required:!0}),t.jsx(he,{type:"submit",variant:"outlined",color:"secondary",fullWidth:!0,sx:{mt:3,mb:2},disabled:d,children:d?"Creating Account...":"Sign Up"})]}),t.jsx(Mt,{sx:{my:2},children:"OR"}),t.jsx(C,{sx:{textAlign:"center",mb:2},children:t.jsx(j,{variant:"body2",color:"text.secondary",children:"You can sign up with the following providers"})}),t.jsx(C,{sx:{display:"flex",flexDirection:"column",gap:2},children:t.jsx(I4,{variant:"contained",startIcon:t.jsx(lm,{}),bgcolor:"#DB4437",onClick:()=>I(Bj),disabled:d,children:"Sign up with Google"})})]})},T4=()=>{const[e]=Wv(),[n,r]=x.useState(0),[s,o]=x.useState(!1),[i,l]=x.useState({primaryRole:"",interests:[],experience:"",goals:[]}),d=Pt(),{api:u}=Je(),{execute:h}=et(),f=e.get("role"),m=!!f,g=m?["Welcome","Your interests","Get started"]:["Welcome","Tell us about yourself","Your interests","Get started"];x.useEffect(()=>{f&&!i.primaryRole&&l(k=>({...k,primaryRole:f}))},[f,i.primaryRole]);const y=[{role:"journalist",title:"I want to write and publish",description:"Create articles, investigate stories, and build your readership",features:["Article editor","Story planning tools","Reader analytics","Revenue sharing"],userRole:an.JOURNALIST},{role:"editor",title:"I want to manage content",description:"Review, edit, and oversee publication workflows",features:["Editorial dashboard","Content review tools","Team management","Quality control"],userRole:an.EDITOR},{role:"reader",title:"I want to read and discover",description:"Follow journalists, discover stories, and engage with content",features:["Personalized feed","Bookmarking","Comment system","Newsletter subscriptions"],userRole:an.REGULAR_USER}],b=["Politics","Technology","Science","Sports","Business","Culture","Health","Environment","Entertainment","Education","Travel","Food"],S=(k,N)=>{l($=>({...$,primaryRole:k})),E(N),r(1)},v=()=>{n>0&&r(n-1)},E=async k=>{o(!0),console.log("PostSignUpFlow: Updating user role to:",k),await h(()=>u==null?void 0:u.app.account.updateProfile({roleId:k}),{showSuccessMessage:!1,showErrorToast:!1}),console.log("PostSignUpFlow: User role update completed"),o(!1)},w=k=>{l(N=>({...N,interests:N.interests.includes(k)?N.interests.filter($=>$!==k):[...N.interests,k]}))},I=async()=>{o(!0);try{localStorage.setItem("userInterests",JSON.stringify(i.interests)),d(ge.APP_NEWS_MY_FEED)}catch(k){console.error("Error saving profile:",k),d(ge.APP_NEWS_MY_FEED)}finally{o(!1)}},D=()=>{d(ge.APP_NEWS_MY_FEED)},T=()=>{if(m){const k=f==="journalist"?"Journalist":"Reader";return t.jsxs(C,{sx:{textAlign:"center",py:4},children:[t.jsxs(j,{variant:"h4",gutterBottom:!0,children:["Welcome, ",k,"! "]}),t.jsx(j,{variant:"body1",sx:{mb:4,maxWidth:600,mx:"auto"},children:f==="journalist"?"You're all set to start creating and publishing your stories. Let's personalize your experience.":"You're all set to discover and support independent journalism. Let's personalize your feed."}),t.jsxs(C,{sx:{textAlign:"center",mt:4},children:[t.jsx(he,{variant:"contained",size:"large",onClick:()=>r(1),sx:{px:4},children:"Continue"}),t.jsx(he,{variant:"text",onClick:D,sx:{display:"block",mt:2,mx:"auto",color:"text.secondary"},children:"Skip for now"})]})]})}return t.jsxs(C,{sx:{textAlign:"center",py:4},children:[t.jsx(j,{variant:"h4",gutterBottom:!0,children:"Welcome to the Journalist Platform! "}),t.jsx(j,{variant:"body1",sx:{mb:4,maxWidth:600,mx:"auto"},children:"Let's personalize your experience. What brings you here today?"}),t.jsx(j,{variant:"body2",sx:{mb:4,textAlign:"center",color:"text.secondary"},children:"Don't worry, you can always change this later in your settings."}),t.jsx(F,{container:!0,spacing:3,sx:{mt:2},children:y.map(k=>t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx(Fe,{sx:{cursor:"pointer","&:hover":{boxShadow:6},height:"100%",transition:"box-shadow 0.3s"},onClick:()=>S(k.role,k.userRole),children:t.jsxs(Ve,{sx:{p:3,textAlign:"center"},children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:k.title}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:k.description}),t.jsx(C,{sx:{textAlign:"left"},children:k.features.map((N,$)=>t.jsxs(j,{variant:"caption",display:"block",sx:{mb:.5},children:[" ",N]},$))})]})})},k.role))}),t.jsx(C,{sx:{textAlign:"center",mt:4},children:t.jsx(he,{variant:"text",onClick:D,sx:{color:"text.secondary"},children:"Skip for now"})})]})},R=()=>t.jsxs(C,{sx:{py:4},children:[t.jsx(j,{variant:"h5",gutterBottom:!0,textAlign:"center",children:"What topics interest you most?"}),t.jsx(j,{variant:"body1",textAlign:"center",sx:{mb:4},children:"Select any that apply - we'll use this to personalize your experience"}),t.jsx(F,{container:!0,spacing:2,sx:{maxWidth:600,mx:"auto"},children:b.map(k=>t.jsx(F,{item:!0,xs:6,sm:4,children:t.jsx(he,{variant:i.interests.includes(k)?"contained":"outlined",fullWidth:!0,onClick:()=>w(k),sx:{py:1.5},children:k})},k))}),t.jsxs(C,{sx:{textAlign:"center",mt:4},children:[!m&&t.jsx(he,{variant:"outlined",onClick:v,sx:{mr:2},children:"Back"}),t.jsx(he,{variant:"contained",size:"large",onClick:()=>r(2),disabled:i.interests.length===0,children:"Continue"}),t.jsx(he,{variant:"text",onClick:D,sx:{display:"block",mt:2,mx:"auto",color:"text.secondary"},children:"Skip for now"})]})]}),_=()=>t.jsxs(C,{sx:{textAlign:"center",py:4},children:[t.jsx(j,{variant:"h5",gutterBottom:!0,children:"You're all set! "}),t.jsx(j,{variant:"body1",sx:{mb:4},children:"Based on your preferences, we've customized your experience. Ready to get started?"}),t.jsx(he,{variant:"contained",size:"large",onClick:I,disabled:s,sx:{px:4},children:s?"Setting up...":"Enter Platform"})]});return t.jsxs(It,{maxWidth:"lg",sx:{mt:4,mb:8},children:[t.jsx(rR,{activeStep:n,sx:{mb:6},children:g.map(k=>t.jsx(sR,{children:t.jsx(oR,{children:k})},k))}),m?t.jsxs(t.Fragment,{children:[n===0&&T(),n===1&&R(),n===2&&_()]}):t.jsxs(t.Fragment,{children:[n===0&&T(),n===1&&R(),n===2&&_()]})]})},A4="/journalist-material-client/assets/landing_page_compiled-BSuH_rh0.gif",R4=()=>{const e=ws(),[n,r]=x.useState(!1),s=async()=>{await(e==null?void 0:e.signOut()),r(!1)};return x.useEffect(()=>{r(!!(e!=null&&e.user))},[e==null?void 0:e.user]),t.jsxs(t.Fragment,{children:[t.jsx(C,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:0,"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:1}},children:t.jsx(C,{component:"img",src:A4,alt:"Background",sx:{width:"100%",height:"100%",objectFit:"cover",position:"relative",zIndex:0}})}),t.jsx(Sd,{position:"absolute",elevation:0,sx:{background:"rgba(255, 255, 255, 0.01)",zIndex:2},children:t.jsxs(Zs,{sx:{justifyContent:"space-between",flexDirection:{xs:"column",sm:"row"},gap:{xs:2,sm:0},py:{xs:2,sm:1.5},px:{xs:2,sm:4}},children:[t.jsx(C,{sx:{display:"flex",alignItems:"center",gap:1.5},children:t.jsxs(C,{sx:{position:"relative","&::after":{content:'""',position:"absolute",bottom:-4,left:0,width:"100%",height:"2px",background:"linear-gradient(90deg, #2196F3 0%, transparent 100%)",borderRadius:"2px"}},children:[t.jsx("span",{style:{color:"#1565C0",textTransform:"uppercase",fontWeight:800,fontSize:"1.6rem",letterSpacing:"1px"},children:"Meta"}),t.jsx("span",{style:{color:"#0D47A1",fontWeight:600,fontSize:"1.6rem"},children:"Journo"})]})}),t.jsx(C,{sx:{display:"flex",alignItems:"center",order:{xs:3,sm:3},width:{xs:"100%",sm:"auto"},justifyContent:{xs:"center",sm:"flex-end"},gap:2},children:n?t.jsxs(t.Fragment,{children:[t.jsx(he,{color:"primary",variant:"outlined",size:"large",component:Qn,to:ge.APP_NEWS_MY_FEED,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"},px:4,py:1.2,borderRadius:"12px",borderWidth:"2px",textTransform:"none",fontWeight:600,transition:"all 0.3s ease","&:hover":{borderWidth:"2px",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(33, 150, 243, 0.2)"}},children:"My Feed"}),t.jsx(he,{color:"error",variant:"contained",size:"large",onClick:s,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"},px:4,py:1.2,borderRadius:"12px",textTransform:"none",fontWeight:600,background:"linear-gradient(135deg, #f44336 0%, #e53935 50%, #c62828 100%)",boxShadow:"0 8px 16px -4px rgba(244, 67, 54, 0.5)",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(135deg, #e53935 0%, #d32f2f 50%, #b71c1c 100%)",transform:"translateY(-2px)",boxShadow:"0 12px 20px -4px rgba(244, 67, 54, 0.6)"}},children:"Log out"})]}):t.jsxs(t.Fragment,{children:[t.jsx(he,{color:"primary",variant:"outlined",size:"large",component:Qn,to:ge.LOGIN,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"},px:4,py:1.2,borderRadius:"12px",borderWidth:"2px",textTransform:"none",fontWeight:600,transition:"all 0.3s ease","&:hover":{borderWidth:"2px",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(33, 150, 243, 0.2)"}},children:"Log in"}),t.jsx(he,{color:"primary",variant:"contained",size:"large",component:Qn,to:ge.SIGNUP,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"},px:4,py:1.2,borderRadius:"12px",textTransform:"none",fontWeight:600,background:"linear-gradient(135deg, #2196F3 0%, #1976D2 50%, #0D47A1 100%)",boxShadow:"0 8px 16px -4px rgba(33, 150, 243, 0.5)",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(135deg, #1E88E5 0%, #1565C0 50%, #0D47A1 100%)",transform:"translateY(-2px)",boxShadow:"0 12px 20px -4px rgba(33, 150, 243, 0.6)"}},children:"Get Started"})]})})]})})]})},k4=()=>{const e=Pt(),n=()=>{e(`${ge.SIGNUP}?role=journalist`)},r=()=>{e(`${ge.SIGNUP}?role=reader`)},s=()=>{e(ge.APP_NEWS_TRENDING)};return t.jsxs(C,{sx:{minHeight:"100vh",bgcolor:"background.default"},children:[t.jsx(R4,{}),t.jsx(C,{sx:{minHeight:"90vh",display:"flex",alignItems:"center",background:"transparent",position:"relative",overflow:"hidden"},children:t.jsx(It,{maxWidth:"lg",children:t.jsx(F,{container:!0,justifyContent:"center",children:t.jsxs(F,{item:!0,xs:12,md:8,textAlign:"center",children:[t.jsxs(j,{variant:"h1",component:"h1",sx:{fontWeight:700,color:"white",fontSize:{xs:"2.5rem",sm:"3.2rem",md:"3.8rem"},mb:4,lineHeight:1.3,textShadow:"2px 2px 4px rgba(0,0,0,0.7)"},children:["Discover Journalism You Can Trust.",t.jsx("br",{}),"Fund Stories That Deserve Attention."]}),t.jsx(j,{variant:"h5",sx:{color:"rgba(255, 255, 255, 0.95)",mb:5,lineHeight:1.7,fontSize:{xs:"1.1rem",sm:"1.25rem"},fontWeight:400,textShadow:"1px 1px 2px rgba(0,0,0,0.7)"},children:"MetaJourno connects readers directly to independent journalists  no paywalls, no content hosting, just verified trust and transparent funding."}),t.jsxs(pe,{direction:{xs:"column",sm:"row"},spacing:3,justifyContent:"center",children:[t.jsx(he,{variant:"contained",size:"large",startIcon:t.jsx(pl,{}),onClick:s,sx:{bgcolor:"white",color:"#1e3c72",px:4,py:1.5,fontSize:"1rem",fontWeight:600,borderRadius:1,textTransform:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.15)","&:hover":{bgcolor:"#f8f9fa",transform:"translateY(-1px)",boxShadow:"0 6px 20px rgba(0,0,0,0.2)"},transition:"all 0.2s ease"},children:"Browse Stories"}),t.jsx(he,{variant:"outlined",size:"large",startIcon:t.jsx(ra,{}),onClick:n,sx:{borderColor:"rgba(255, 255, 255, 0.5)",color:"white",px:4,py:1.5,fontSize:"1rem",fontWeight:600,borderRadius:1,textTransform:"none","&:hover":{borderColor:"white",bgcolor:"rgba(255, 255, 255, 0.1)"},transition:"all 0.2s ease"},children:"Join as a Journalist"}),t.jsx(he,{variant:"contained",size:"large",startIcon:t.jsx(ra,{}),onClick:r,sx:{bgcolor:"rgba(255, 255, 255, 0.15)",borderColor:"rgba(255, 255, 255, 0.5)",color:"white",px:4,py:1.5,fontSize:"1rem",fontWeight:600,borderRadius:1,textTransform:"none","&:hover":{bgcolor:"rgba(255, 255, 255, 0.25)",transform:"translateY(-1px)",boxShadow:"0 4px 12px rgba(255,255,255,0.2)"},transition:"all 0.2s ease"},children:"Join as a Reader"})]})]})})})})]})};var cm={},_4=Ke;Object.defineProperty(cm,"__esModule",{value:!0});var dm=cm.default=void 0,O4=_4(Xe()),M4=t;dm=cm.default=(0,O4.default)((0,M4.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");const In={DRAFT:"DRAFT",PENDING_REVIEW:"PENDING_REVIEW",PUBLISHED:"PUBLISHED",REJECTED:"REJECTED",ARCHIVED:"ARCHIVED",DELETED:"DELETED",PRIVATE:"PRIVATE"},jl={COVER:"COVER",SUMMARY:"SUMMARY",AVATAR:"AVATAR",TEASER:"TEASER",INTRO:"INTRO",OUTRO:"OUTRO",OTHER:"OTHER"},rd={IMAGE:"IMAGE",VIDEO:"VIDEO",AUDIO:"AUDIO",DOCUMENT:"DOCUMENT",URL:"URL",ARTICLE:"ARTICLE",OTHER:"OTHER"};function N4(e){switch(e){case In.DRAFT:return"default";case In.PENDING_REVIEW:return"info";case In.PUBLISHED:return"success";case In.REJECTED:return"error";case In.ARCHIVED:return"secondary";case In.DELETED:return"error";case In.PRIVATE:return"warning";default:return"default"}}const Wd="/journalist-material-client/assets/BG_journo-DMUT4Pey.png";var um={},L4=Ke;Object.defineProperty(um,"__esModule",{value:!0});var hm=um.default=void 0,$4=L4(Xe()),F4=t;hm=um.default=(0,$4.default)((0,F4.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"}),"FavoriteBorder");var fm={},B4=Ke;Object.defineProperty(fm,"__esModule",{value:!0});var ha=fm.default=void 0,W4=B4(Xe()),V4=t;ha=fm.default=(0,W4.default)((0,V4.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");var pm={},U4=Ke;Object.defineProperty(pm,"__esModule",{value:!0});var mm=pm.default=void 0,z4=U4(Xe()),H4=t;mm=pm.default=(0,z4.default)((0,H4.jsx)("path",{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48z"}),"Verified");var xm={},G4=Ke;Object.defineProperty(xm,"__esModule",{value:!0});var Vd=xm.default=void 0,Y4=G4(Xe()),q4=t;Vd=xm.default=(0,Y4.default)((0,q4.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2m0 15-5-2.18L7 18V5h10z"}),"BookmarkBorder");const sd=({news:e,mode:n="scroll"})=>{var S,v;const r=Pt(),s=cn(),{api:o}=Je(),{showNotification:i}=Pp(),{execute:l}=et(),d=(S=e.media)==null?void 0:S.find(E=>E.type===jl.COVER),[u,h]=x.useState(e.isBookmarked||!1),[f,m]=x.useState(!1);x.useEffect(()=>{h(e.isBookmarked||!1)},[e.isBookmarked]);const g=E=>{E.target.closest(".action-button")||r(ge.APP_NEWS_VIEW.replace(":id",e.id))},y=E=>{E.stopPropagation(),r(ge.APP_CHANNEL_VIEW.replace(":channelId",e.channel.id))},b=async E=>{if(E.stopPropagation(),f)return;const w=u;h(!u),m(!0);try{w?(await l(()=>o.app.bookmark.unbookmarkNews(String(e.id)),{showErrorToast:!0}),i("Bookmark removed","success")):(await l(()=>o.app.bookmark.bookmarkNews(String(e.id)),{showErrorToast:!0}),i("News bookmarked","success"))}catch{h(w),i("Failed to update bookmark","error")}finally{m(!1)}};return t.jsxs(C,{onClick:g,sx:{position:"relative",width:"100%",height:n==="grid"?"auto":"90vh",maxWidth:n==="scroll"?"480px":"100%",margin:n==="scroll"?"0 auto":0,aspectRatio:n==="grid"?"4/5":void 0,borderRadius:n==="grid"?3:4,overflow:"hidden",bgcolor:s.palette.mode==="dark"?"#000":"#111",boxShadow:"none",cursor:"pointer",transition:"opacity 0.2s ease","&:hover":{opacity:.95}},children:[t.jsxs(C,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:0},children:[(d==null?void 0:d.format)===rd.VIDEO?t.jsx(C,{component:"video",src:d.url,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,sx:{width:"100%",height:"100%",objectFit:"cover",filter:"brightness(0.7)"}}):t.jsx(C,{component:"img",src:(d==null?void 0:d.url)||Wd,alt:e.title,sx:{width:"100%",height:"100%",objectFit:"cover",filter:"brightness(0.7)"}}),t.jsx(C,{sx:{position:"absolute",top:0,left:0,right:0,height:"30%",background:"linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%)",zIndex:1}}),t.jsx(C,{sx:{position:"absolute",bottom:0,left:0,right:0,height:"70%",background:"linear-gradient(to top, rgba(0,0,0,0.95) 0%, rgba(0,0,0,0) 100%)",zIndex:1}})]}),t.jsx(C,{sx:{position:"relative",zIndex:2,height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",p:2.5},children:n==="grid"?t.jsxs(t.Fragment,{children:[t.jsx(C,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:((v=e.qualityMetrics)==null?void 0:v.overallQualityScore)&&t.jsx(Qe,{icon:t.jsx(mm,{sx:{fontSize:"0.875rem"}}),label:e.qualityMetrics.overallQualityScore.toFixed(1),size:"small",sx:{height:24,bgcolor:ue(s.palette.success.main,.9),color:"white",fontWeight:700,fontSize:"0.7rem",backdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}})}),t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{fontWeight:700,fontSize:"1.1rem",color:"white",textShadow:"0 2px 8px rgba(0,0,0,0.9)",mb:1.5,lineHeight:1.2,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.title}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:1},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(ha,{sx:{fontSize:"1.1rem",mr:.5,color:"white",filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.5))"}}),t.jsx(j,{variant:"body2",sx:{fontWeight:700,fontSize:"0.875rem",color:"white",textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:"12K"})]}),t.jsxs(C,{sx:{display:"flex",gap:1},children:[t.jsx(Ne,{className:"action-button",size:"small",onClick:b,disabled:f,sx:{bgcolor:ue("#fff",.2),backdropFilter:"blur(10px)",color:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.3)","&:hover":{bgcolor:ue(s.palette.primary.main,.8),transform:"scale(1.1)"},transition:"all 0.2s ease"},children:f?t.jsx(sn,{size:16,sx:{color:"white"}}):u?t.jsx(ci,{sx:{fontSize:"1rem",color:s.palette.primary.light}}):t.jsx(Vd,{sx:{fontSize:"1rem"}})}),t.jsx(Ne,{className:"action-button",size:"small",onClick:E=>{E.stopPropagation()},sx:{bgcolor:ue("#fff",.2),backdropFilter:"blur(10px)",color:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.3)","&:hover":{bgcolor:ue(s.palette.error.main,.8),transform:"scale(1.1)"},transition:"all 0.2s ease"},children:t.jsx(hm,{sx:{fontSize:"1rem"}})})]})]})]})]}):t.jsx(t.Fragment,{children:t.jsx(C,{sx:{display:"flex",height:"100%",position:"relative"},children:t.jsxs(C,{sx:{flex:1,display:"flex",flexDirection:"column",justifyContent:"flex-end"},children:[t.jsxs(C,{onClick:y,className:"action-button",sx:{display:"flex",alignItems:"center",mb:1.5,cursor:"pointer","&:hover":{"& .channel-avatar":{transform:"scale(1.1)"}}},children:[t.jsx(Sn,{src:e.channel.logoUrl,alt:e.channel.name,className:"channel-avatar",sx:{width:40,height:40,bgcolor:s.palette.primary.main,border:"2px solid white",boxShadow:"0 2px 8px rgba(0,0,0,0.3)",transition:"transform 0.2s ease"}}),t.jsxs(C,{sx:{ml:1.5},children:[t.jsx(j,{variant:"body2",sx:{fontWeight:700,fontSize:"0.95rem",color:"white",textShadow:"0 1px 3px rgba(0,0,0,0.8)"},children:e.channel.name}),t.jsx(j,{variant:"caption",sx:{fontSize:"0.75rem",color:"rgba(255,255,255,0.9)",textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:Lr(new Date(e.publishedAt),{addSuffix:!0})})]})]}),t.jsx(j,{variant:"h6",sx:{fontWeight:800,fontSize:"1.2rem",color:"white",textShadow:"0 2px 8px rgba(0,0,0,0.9)",mb:.5,lineHeight:1.2,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.title}),t.jsx(j,{variant:"body2",sx:{fontSize:"0.875rem",color:"rgba(255,255,255,0.95)",textShadow:"0 1px 4px rgba(0,0,0,0.9)",lineHeight:1.4,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",mb:1.5},children:e.content}),e.tags&&e.tags.length>0&&t.jsx(pe,{direction:"row",spacing:.5,sx:{flexWrap:"wrap",gap:.5},children:e.tags.slice(0,3).map(E=>t.jsx(Qe,{label:`#${E.title}`,size:"small",sx:{height:22,fontSize:"0.7rem",fontWeight:600,bgcolor:ue("#fff",.15),backdropFilter:"blur(10px)",color:"white",border:"1px solid",borderColor:ue("#fff",.2),textShadow:"0 1px 2px rgba(0,0,0,0.5)","&:hover":{bgcolor:ue("#fff",.25)}}},E.id))})]})})})})]})};var gm={},K4=Ke;Object.defineProperty(gm,"__esModule",{value:!0});var wS=gm.default=void 0,J4=K4(Xe()),X4=t;wS=gm.default=(0,J4.default)((0,X4.jsx)("path",{d:"M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2m0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19z"}),"Inbox");const so=({title:e,description:n,icon:r=t.jsx(wS,{sx:{fontSize:48}}),action:s})=>t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:4,borderRadius:2,bgcolor:o=>o.palette.mode==="dark"?ue(o.palette.common.white,.05):ue(o.palette.common.black,.02),textAlign:"center"},children:[t.jsx(C,{sx:{color:"text.secondary",mb:2},children:r}),t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:1},children:e}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:s?3:0},children:n}),s&&t.jsx(he,{variant:"contained",onClick:s.onClick,sx:{textTransform:"none",fontWeight:600},children:s.label})]});var bm={},Q4=Ke;Object.defineProperty(bm,"__esModule",{value:!0});var Ud=bm.default=void 0,Z4=Q4(Xe()),e3=t;Ud=bm.default=(0,Z4.default)((0,e3.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share");const t0=({count:e=2})=>t.jsx(pe,{spacing:2,sx:{mt:2},children:[...Array(e)].map((n,r)=>t.jsxs(C,{sx:{p:2,borderRadius:2,bgcolor:s=>s.palette.mode==="dark"?ue(s.palette.common.white,.05):ue(s.palette.common.black,.03)},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(C,{sx:{width:32,height:32,borderRadius:1,bgcolor:s=>s.palette.mode==="dark"?ue(s.palette.common.white,.1):ue(s.palette.common.black,.1),mr:1}}),t.jsx(C,{sx:{height:20,width:"30%",borderRadius:.5,bgcolor:"grey.300"}})]}),t.jsx(C,{sx:{height:24,width:"60%",mb:2,borderRadius:.5,bgcolor:"grey.300"}}),t.jsx(C,{sx:{height:100,width:"100%",borderRadius:1,bgcolor:"grey.200",mb:2}}),t.jsx(C,{sx:{height:16,width:"40%",borderRadius:.5,bgcolor:"grey.200"}})]},r))}),CS=({filters:e={},emptyTitle:n="No news found",emptyDescription:r="No news articles available at the moment",itemsPerPage:s=12,mode:o="scroll"})=>{const[i,l]=x.useState([]),[d,u]=x.useState(!0),[h,f]=x.useState(1),[m,g]=x.useState(!0),{api:y}=Je(),{execute:b}=et(),S=cn(),v=async(w=h)=>{try{u(!0);const I=await b(()=>y==null?void 0:y.app.news.getNews(e,{page:w,limit:s}),{showErrorToast:!0});I&&(l(w===1?I.items:D=>[...D,...I.items]),g(I.metadata.hasNext),f(I.metadata.currentPage))}finally{u(!1)}};x.useEffect(()=>{l([]),f(1),v(1)},[JSON.stringify(e)]);const E=()=>{!d&&m&&v(h+1)};return i.length===0&&!d?t.jsx(so,{title:n,description:r}):o==="grid"?t.jsx(C,{sx:{width:"100%"},children:d&&i.length===0?t.jsx(t0,{}):t.jsx(js,{dataLength:i.length,next:E,hasMore:m,loader:t.jsx(C,{}),endMessage:t.jsx(C,{sx:{textAlign:"center",py:4,color:"text.secondary",fontSize:"0.875rem"},children:"No more news to display"}),children:t.jsx(F,{container:!0,spacing:3,children:i.map(w=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(sd,{news:w,mode:"grid"})},w.id))})})}):t.jsx(C,{sx:{width:"100%",height:"100%",display:"flex",justifyContent:"center",overflowY:"scroll",scrollSnapType:"y mandatory",scrollBehavior:"smooth","&::-webkit-scrollbar":{display:"none"},msOverflowStyle:"none",scrollbarWidth:"none",px:{xs:2,sm:0}},children:t.jsx(C,{sx:{width:"100%",maxWidth:480},children:d&&i.length===0?t.jsx(t0,{}):t.jsx(js,{dataLength:i.length,next:E,hasMore:m,loader:t.jsx(C,{}),endMessage:t.jsx(C,{sx:{textAlign:"center",py:4,color:"text.secondary",fontSize:"0.875rem",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:"No more news to display"}),style:{overflow:"visible",paddingBottom:"64px"},children:i.map(w=>{var I;return t.jsxs(C,{sx:{position:"relative",scrollSnapAlign:"start",scrollSnapStop:"always",height:"calc(100vh - 64px)",display:"flex",alignItems:"center",justifyContent:"center"},children:[t.jsx(sd,{news:w}),t.jsxs(C,{sx:{position:"absolute",right:{xs:8,sm:-60},bottom:"5vh",display:"flex",flexDirection:"column",alignItems:"center",gap:2.5,zIndex:10},children:[((I=w.qualityMetrics)==null?void 0:I.overallQualityScore)&&t.jsx(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:t.jsx(Qe,{icon:t.jsx(mm,{sx:{fontSize:"0.875rem"}}),label:w.qualityMetrics.overallQualityScore.toFixed(1),size:"small",sx:{height:28,bgcolor:ue(S.palette.success.main,.9),color:"white",fontWeight:700,fontSize:"0.75rem",backdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}})}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[t.jsx(Ne,{className:"action-button",size:"medium",onClick:D=>{D.stopPropagation()},sx:{bgcolor:S.palette.mode==="dark"?ue("#fff",.2):ue("#000",.6),backdropFilter:"blur(10px)",color:"white",boxShadow:S.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)","&:hover":{bgcolor:ue(S.palette.error.main,.8),transform:"scale(1.1)"},transition:"all 0.2s ease",width:48,height:48},children:t.jsx(hm,{sx:{fontSize:"1.5rem"}})}),t.jsx(j,{variant:"caption",sx:{color:"white",fontWeight:700,fontSize:"0.75rem",mt:.5,textShadow:"0 1px 2px rgba(0,0,0,0.8)"}})]}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[t.jsx(Ne,{className:"action-button",size:"medium",onClick:D=>{D.stopPropagation()},sx:{bgcolor:S.palette.mode==="dark"?ue("#fff",.2):ue("#000",.6),backdropFilter:"blur(10px)",color:"white",boxShadow:S.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)","&:hover":{bgcolor:S.palette.mode==="dark"?ue("#fff",.3):ue("#000",.7),transform:"scale(1.1)"},transition:"all 0.2s ease",width:48,height:48},children:t.jsx(Ud,{sx:{fontSize:"1.5rem"}})}),t.jsx(j,{variant:"caption",sx:{color:"white",fontWeight:700,fontSize:"0.75rem",mt:.5,textShadow:"0 1px 2px rgba(0,0,0,0.8)"}})]}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[t.jsx(C,{sx:{bgcolor:S.palette.mode==="dark"?ue("#fff",.2):ue("#000",.6),backdropFilter:"blur(10px)",borderRadius:"50%",width:48,height:48,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:S.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)"},children:t.jsx(ha,{sx:{fontSize:"1.5rem",color:"white",filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.5))"}})}),t.jsx(j,{variant:"caption",sx:{color:"white",fontWeight:700,fontSize:"0.75rem",mt:.5,textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:"12K"})]})]})]},w.id)})})})})},t3=(e={})=>{if(e.feed)return{title:"Your Feed",description:"Latest news from your personalized feed",emptyTitle:"Your feed is empty",emptyDescription:"Follow some journalists to see their latest news here"};if(e.trending)return{title:"Trending News",description:"Discover the most popular news from our community",emptyTitle:"No trending news",emptyDescription:"There are no trending news articles at the moment"};if(e.subscribed)return{title:"Subscribed Channels",description:"Latest news from your subscribed channels",emptyTitle:"No news from subscriptions",emptyDescription:"Subscribe to channels to see their latest news here"};if(e.premium)return{title:"Premium News",description:"Exclusive premium content",emptyTitle:"No premium news",emptyDescription:"No premium news articles available at the moment"};if(e.channel)return{title:"Channel News",description:"News from this channel",emptyTitle:"No news in this channel",emptyDescription:"This channel has not published any news yet"};if(e.creator)return{title:"Creator News",description:"News from this creator",emptyTitle:"No news from this creator",emptyDescription:"This creator has not published any news yet"};if(e.tags&&e.tags.length>0){const n=e.tags.length===1?"tag":"tags";return{title:`News by ${n.charAt(0).toUpperCase()+n.slice(1)}`,description:`News tagged with: ${e.tags.join(", ")}`,emptyTitle:`No news with these ${n}`,emptyDescription:`No news articles found with the selected ${n}`}}return{title:"All News",description:"Latest news from our community",emptyTitle:"No news found",emptyDescription:"No news articles available at the moment"}},wf=({filters:e={},emptyTitle:n,emptyDescription:r,showSearch:s=!1,mode:o="scroll"})=>{const i=da(),l=Pt(),[d,u]=x.useState(""),[h,f]=x.useState("");x.useEffect(()=>{const w=new URLSearchParams(i.search).get("q");if(w){const I=decodeURIComponent(w);u(I),f(I)}},[i.search]);const m=t3(e),g=n||m.emptyTitle,y=r||m.emptyDescription,b={...e,query:d||void 0},S=E=>{E.preventDefault();const w=h.trim();u(w);const I=new URLSearchParams(i.search);w?I.set("q",encodeURIComponent(w)):I.delete("q");const D=`${i.pathname}?${I.toString()}`;l(D,{replace:!0})},v=()=>{f(""),u("");const E=new URLSearchParams(i.search);E.delete("q");const w=`${i.pathname}?${E.toString()}`;l(w,{replace:!0})};return t.jsxs(C,{sx:{width:"100%",height:"100vh",overflow:"hidden",display:"flex",flexDirection:"column",...o==="scroll"&&{position:"fixed",top:64,left:0,right:0,bottom:0,margin:0,padding:0,zIndex:1}},children:[s&&o==="grid"&&t.jsx(C,{sx:{flexShrink:0,mb:2},children:t.jsx("form",{onSubmit:S,children:t.jsx(nt,{fullWidth:!0,placeholder:"Search news by title or content...",value:h,onChange:E=>f(E.target.value),InputProps:{startAdornment:t.jsx(os,{position:"start",children:t.jsx(Od,{color:"action"})}),endAdornment:h&&t.jsx(os,{position:"end",children:t.jsx(Ne,{size:"small",onClick:v,edge:"end",children:t.jsx(dm,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"background.paper"}}})})}),t.jsx(C,{sx:{flex:1,overflow:"hidden"},children:t.jsx(CS,{filters:b,emptyTitle:g,emptyDescription:y,mode:o})})]})},n3=e=>{switch(e){case"INSTAGRAM":return hR;case"TWITTER":return uR;case"YOUTUBE":return dR;case"TIKTOK":return cR;case"FACEBOOK":return lR;case"LINKEDIN":return iR;case"OTHER":default:return aR}},r3=e=>{switch(e){case"INSTAGRAM":return"#E4405F";case"TWITTER":return"#1DA1F2";case"YOUTUBE":return"#FF0000";case"TIKTOK":return"#000000";case"FACEBOOK":return"#1877F2";case"LINKEDIN":return"#0A66C2";default:return"#757575"}},s3=e=>{switch(e){case"INSTAGRAM":return"Instagram";case"TWITTER":return"Twitter";case"YOUTUBE":return"YouTube";case"TIKTOK":return"TikTok";case"FACEBOOK":return"Facebook";case"LINKEDIN":return"LinkedIn";case"OTHER":return"Other";default:return"Other"}};var ym={},o3=Ke;Object.defineProperty(ym,"__esModule",{value:!0});var PS=ym.default=void 0,a3=o3(Xe()),i3=t;PS=ym.default=(0,a3.default)((0,i3.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39"}),"Public");var vm={},l3=Ke;Object.defineProperty(vm,"__esModule",{value:!0});var ES=vm.default=void 0,c3=l3(Xe()),d3=t;ES=vm.default=(0,c3.default)((0,d3.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"Launch");const jm=({links:e})=>e.length?t.jsxs(ot,{variant:"outlined",sx:{p:2,bgcolor:"background.paper",borderRadius:2,width:"100%"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(PS,{sx:{mr:1,color:"primary.main"}}),t.jsx(j,{variant:"h6",component:"div",children:"Read More On"})]}),t.jsx(Mt,{sx:{mb:2}}),t.jsx(pe,{spacing:1.5,children:e.map(n=>t.jsx(wd,{href:n.url,target:"_blank",rel:"noopener noreferrer",underline:"none",sx:{color:"inherit",display:"block","&:hover":{"& .MuiPaper-root":{bgcolor:"action.hover",borderColor:"primary.main"},"& .launch-icon":{color:"primary.main"}}},children:t.jsxs(ot,{variant:"outlined",sx:{p:1.5,display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.2s ease-in-out"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(C,{sx:{color:r3(n.platform),display:"flex",mr:1.5},children:Tt.createElement(n3(n.platform))}),t.jsx(j,{variant:"body2",children:s3(n.platform)})]}),t.jsx(ES,{fontSize:"small",className:"launch-icon",sx:{color:"text.secondary",transition:"color 0.2s ease-in-out"}})]})},n.id))})]}):null;var Sm={},u3=Ke;Object.defineProperty(Sm,"__esModule",{value:!0});var Sl=Sm.default=void 0,h3=u3(Xe()),f3=t;Sl=Sm.default=(0,h3.default)((0,f3.jsx)("path",{d:"M18 11v2h4v-2zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61M20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4M4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34"}),"Campaign");var wm={},p3=Ke;Object.defineProperty(wm,"__esModule",{value:!0});var Cm=wm.default=void 0,m3=p3(Xe()),x3=t;Cm=wm.default=(0,m3.default)((0,x3.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");const g3={header:{class:vk,config:{levels:[1,2,3,4],defaultLevel:2,placeholder:""}},list:{class:jk,inlineToolbar:!0,config:{placeholder:""}},checklist:{class:Sk,inlineToolbar:!0,config:{placeholder:""}},quote:{class:wk,inlineToolbar:!0,config:{quotePlaceholder:"",captionPlaceholder:""}},code:Ck,inlineCode:{class:Pk},marker:{class:Ek},image:{class:Ik,config:{endpoints:{byFile:"/api/upload/image",byUrl:"/api/fetch/image"}}},linkTool:{class:Dk,config:{endpoint:"/api/fetch/link"}},table:{class:Tk,inlineToolbar:!0},warning:{class:Ak,inlineToolbar:!0,config:{titlePlaceholder:"Title",messagePlaceholder:"Message"}},delimiter:Rk},zd=({data:e,onChange:n,readOnly:r=!1,placeholder:s="Start writing your content...",borderColor:o})=>{const i=cn(),l=x.useRef(null),d=x.useRef(`editor-${Math.random().toString(36).slice(2,7)}`);return x.useEffect(()=>((async()=>{if(l.current){try{await l.current.isReady,await l.current.destroy()}catch(f){console.error("Editor cleanup failed:",f)}l.current=null}const h=new yk({holder:d.current,tools:g3,data:e,placeholder:s,readOnly:r,onChange:async f=>{const m=await f.saver.save();n==null||n(m)},autofocus:!1});l.current=h})().catch(console.error),()=>{l.current&&l.current.destroy&&l.current.isReady.then(()=>{var h;(h=l.current)!=null&&h.destroy&&l.current.destroy(),l.current=null}).catch(console.error)}),[]),t.jsx(C,{id:d.current,sx:{minHeight:300,border:"1px solid",borderColor:typeof o=="function"?o(i):o||i.palette.divider,borderRadius:1,p:2,"& .ce-toolbar__plus, & .ce-toolbar__settings-btn, & .cdx-button":{color:u=>u.palette.mode==="dark"?ue(u.palette.common.white,.7):ue(u.palette.common.black,.7),backgroundColor:"transparent"},"& .ce-toolbar__plus:hover, & .ce-toolbar__settings-btn:hover, & .cdx-button:hover":{backgroundColor:u=>u.palette.mode==="dark"?ue(u.palette.common.white,.1):ue(u.palette.common.black,.1)},"& ::selection":{backgroundColor:u=>u.palette.mode==="dark"?ue(u.palette.primary.main,.3):ue(u.palette.primary.main,.3),color:u=>u.palette.mode==="dark"?u.palette.common.white:u.palette.common.black},"& ::-moz-selection":{backgroundColor:u=>u.palette.mode==="dark"?ue(u.palette.primary.main,.3):ue(u.palette.primary.main,.3),color:u=>u.palette.mode==="dark"?u.palette.common.white:u.palette.common.black},"& .ce-block--selected":{backgroundColor:u=>u.palette.mode==="dark"?ue(u.palette.primary.main,.1):ue(u.palette.primary.main,.05),color:u=>u.palette.mode==="dark"?u.palette.common.white:u.palette.text.primary},"& .ce-block--selected .ce-block__content":{color:u=>u.palette.mode==="dark"?u.palette.common.white:u.palette.text.primary}}})},IS=e=>{if(e)try{return JSON.parse(e)}catch{return{blocks:[{type:"paragraph",data:{text:e}}]}}},tt={DRAFT:"DRAFT",SUBMITTED:"SUBMITTED",UNDER_REVIEW:"UNDER_REVIEW",APPROVED:"APPROVED",REJECTED:"REJECTED",PAID:"PAID",CANCELLED:"CANCELLED"};function jo(e){switch(e){case tt.DRAFT:return"Draft";case tt.SUBMITTED:return"Submitted";case tt.UNDER_REVIEW:return"Under Review";case tt.APPROVED:return"Approved";case tt.REJECTED:return"Rejected";case tt.PAID:return"Paid";case tt.CANCELLED:return"Cancelled";default:return e}}function b3(e){switch(e){case tt.DRAFT:return"default";case tt.SUBMITTED:return"info";case tt.UNDER_REVIEW:return"warning";case tt.APPROVED:return"success";case tt.REJECTED:return"error";case tt.PAID:return"success";case tt.CANCELLED:return"secondary";default:return"default"}}function qo(e){switch(e){case tt.DRAFT:return"#9e9e9e";case tt.SUBMITTED:return"#2196f3";case tt.UNDER_REVIEW:return"#ff9800";case tt.APPROVED:return"#4caf50";case tt.REJECTED:return"#f44336";case tt.PAID:return"#8bc34a";case tt.CANCELLED:return"#607d8b";default:return"#9e9e9e"}}const mt=tt,Rc={[tt.DRAFT]:jo(tt.DRAFT),[tt.SUBMITTED]:jo(tt.SUBMITTED),[tt.UNDER_REVIEW]:jo(tt.UNDER_REVIEW),[tt.APPROVED]:jo(tt.APPROVED),[tt.REJECTED]:jo(tt.REJECTED),[tt.PAID]:jo(tt.PAID),[tt.CANCELLED]:jo(tt.CANCELLED)},n0={[tt.DRAFT]:qo(tt.DRAFT),[tt.SUBMITTED]:qo(tt.SUBMITTED),[tt.UNDER_REVIEW]:qo(tt.UNDER_REVIEW),[tt.APPROVED]:qo(tt.APPROVED),[tt.REJECTED]:qo(tt.REJECTED),[tt.PAID]:qo(tt.PAID),[tt.CANCELLED]:qo(tt.CANCELLED)},ka=(e,n="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:n,notation:"compact",maximumFractionDigits:2}).format(e),y3=({newsId:e,channelId:n,newsFund:r})=>{const{api:s}=Je(),{execute:o}=et(),[i,l]=x.useState(!0),[d,u]=x.useState(null),[h,f]=x.useState([]),[m,g]=x.useState(null),[y,b]=x.useState(null);x.useEffect(()=>{(async()=>{var D,T,R;l(!0),b(null);try{const _=await o(()=>s==null?void 0:s.app.funding.getFundSummary("news",e),{showErrorToast:!1}),k=await o(()=>s==null?void 0:s.app.expenseOrder.getExpenseOrdersByChannel(n),{showErrorToast:!1});u(_||null),f((k==null?void 0:k.items)||[]);const N={totalFunding:((D=_==null?void 0:_.fund)==null?void 0:D.current_amount)||(r==null?void 0:r.amount)||0,totalExpenses:((T=k==null?void 0:k.items)==null?void 0:T.reduce(($,G)=>G.status===mt.PAID?$+G.amount:$,0))||0,netAmount:0,fundingContributions:(_==null?void 0:_.total_contributors)||0,expenseCount:((R=k==null?void 0:k.items)==null?void 0:R.length)||0,payoutAmount:0};N.netAmount=N.totalFunding-N.totalExpenses,g(N)}catch(_){b("Failed to load transaction data"),console.error("Transaction data fetch error:",_)}finally{l(!1)}})()},[e,n,r,s,o]);const S=()=>{if(!m)return null;const I=m.totalFunding>0?Math.min(m.totalFunding/((r==null?void 0:r.goal_amount)||m.totalFunding)*100,100):0;return t.jsx(Fe,{elevation:2,children:t.jsxs(Ve,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(ys,{color:"success",sx:{mr:1}}),t.jsx(j,{variant:"h6",color:"success.main",children:"Funding Received"})]}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(j,{variant:"h3",color:"success.main",gutterBottom:!0,children:ka(m.totalFunding)}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Total Raised"})]})}),t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(pe,{spacing:2,children:[t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsx(j,{variant:"body2",children:"Funding Progress"}),t.jsxs(j,{variant:"body2",children:[I.toFixed(1),"%"]})]}),t.jsx(Ga,{variant:"determinate",value:I,sx:{height:8,borderRadius:4},color:"success"})]}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Contributors: ",m.fundingContributions]}),(r==null?void 0:r.goal_amount)&&t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Goal: ",ka(r.goal_amount)]})]})]})})]})]})})},v=()=>{if(!m)return null;const I=h.filter(R=>R.status===mt.PAID),D=[mt.SUBMITTED,mt.UNDER_REVIEW,mt.APPROVED],T=h.filter(R=>D.includes(R.status));return t.jsx(Fe,{elevation:2,children:t.jsxs(Ve,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Dv,{color:"error",sx:{mr:1}}),t.jsx(j,{variant:"h6",color:"error.main",children:"Expenses & Payouts"})]}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(j,{variant:"h3",color:"error.main",gutterBottom:!0,children:ka(m.totalExpenses)}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Total Paid Out"})]})}),t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(pe,{spacing:2,children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsx(j,{variant:"body2",children:"Paid Expenses:"}),t.jsx(j,{variant:"body2",color:"success.main",children:I.length})]}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsx(j,{variant:"body2",children:"Pending Expenses:"}),t.jsx(j,{variant:"body2",color:"warning.main",children:T.length})]}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsx(j,{variant:"body2",children:"Total Expense Orders:"}),t.jsx(j,{variant:"body2",children:m.expenseCount})]})]})})]})]})})},E=()=>{if(!m)return null;const I=m.netAmount>=0;return t.jsxs(ot,{elevation:2,sx:{p:3,bgcolor:I?"success.light":"warning.light",color:I?"success.contrastText":"warning.contrastText",textAlign:"center"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:1},children:[t.jsx(af,{sx:{mr:1,fontSize:"2rem"}}),t.jsx(j,{variant:"h4",component:"div",children:ka(Math.abs(m.netAmount))})]}),t.jsx(j,{variant:"subtitle1",children:I?"Net Surplus":"Net Deficit"}),t.jsx(j,{variant:"body2",sx:{mt:1,opacity:.8},children:I?"Available for future expenses or reinvestment":"Additional funding may be needed"})]})},w=()=>t.jsxs(C,{children:[t.jsxs(Mc,{children:[t.jsx(Nc,{expandIcon:t.jsx(Lc,{}),children:t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(Gf,{sx:{mr:1}}),t.jsx(j,{variant:"subtitle1",children:"Funding Contributions"}),d&&t.jsx(Qe,{label:`${d.contributions.length} contributions`,size:"small",sx:{ml:2}})]})}),t.jsx($c,{children:d!=null&&d.contributions.length?t.jsxs(mr,{dense:!0,children:[d.contributions.slice(0,10).map(I=>{var D;return t.jsxs(or,{children:[t.jsx(qt,{children:t.jsx(to,{color:"success"})}),t.jsx(Wt,{primary:`${ka(I.amount)} ${I.currency}`,secondary:I.isAnonymous?"Anonymous contributor":((D=I.user)==null?void 0:D.name)||"Unknown contributor"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:new Date(I.createdAt).toLocaleDateString()})]},I.id)}),d.contributions.length>10&&t.jsx(or,{children:t.jsx(Wt,{primary:t.jsxs(j,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:["+",d.contributions.length-10," more contributions"]})})})]}):t.jsx(dt,{severity:"info",children:"No funding contributions found for this news article."})})]}),t.jsxs(Mc,{children:[t.jsx(Nc,{expandIcon:t.jsx(Lc,{}),children:t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(za,{sx:{mr:1}}),t.jsx(j,{variant:"subtitle1",children:"Expense Orders"}),h.length>0&&t.jsx(Qe,{label:`${h.length} expenses`,size:"small",sx:{ml:2}})]})}),t.jsx($c,{children:h.length?t.jsx(mr,{dense:!0,children:h.map(I=>t.jsxs(or,{children:[t.jsx(qt,{children:t.jsx(eo,{sx:{color:n0[I.status]}})}),t.jsx(Wt,{primary:I.title,secondary:t.jsxs(C,{children:[t.jsxs(j,{variant:"caption",display:"block",children:[I.journalist.displayName,"  ",I.type.name]}),t.jsx(j,{variant:"caption",color:"text.secondary",children:new Date(I.createdAt).toLocaleDateString()})]})}),t.jsxs(C,{sx:{textAlign:"right"},children:[t.jsxs(j,{variant:"body2",fontWeight:"medium",children:[ka(I.amount)," ",I.currency]}),t.jsx(Qe,{label:Rc[I.status],size:"small",sx:{bgcolor:n0[I.status],color:"white",fontSize:"0.7rem"}})]}),I.receiptUrl&&t.jsx(St,{title:"View Receipt",children:t.jsx(Ne,{size:"small",onClick:()=>window.open(I.receiptUrl,"_blank"),children:t.jsx(Ls,{fontSize:"small"})})})]},I.id))}):t.jsx(dt,{severity:"info",children:"No expense orders found for this channel."})})]})]});return i?t.jsx(Fe,{elevation:2,children:t.jsxs(Ve,{sx:{textAlign:"center",py:4},children:[t.jsx(sn,{}),t.jsx(j,{variant:"body2",sx:{mt:2},children:"Loading transaction data..."})]})}):y?t.jsx(dt,{severity:"error",sx:{mb:2},children:y}):!m||m.totalFunding===0&&m.totalExpenses===0?t.jsx(dt,{severity:"info",sx:{mb:2},children:t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(fR,{sx:{mr:1}}),"No transaction data available for this news article."]})}):t.jsxs(C,{sx:{mb:4},children:[t.jsxs(j,{variant:"h5",gutterBottom:!0,sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(af,{sx:{mr:1}}),"Transaction Transparency"]}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,md:6,children:S()}),t.jsx(F,{item:!0,xs:12,md:6,children:v()}),t.jsx(F,{item:!0,xs:12,children:E()}),t.jsxs(F,{item:!0,xs:12,children:[t.jsx(Mt,{sx:{my:2}}),w()]})]})]})};var Pm={},v3=Ke;Object.defineProperty(Pm,"__esModule",{value:!0});var el=Pm.default=void 0,j3=v3(Xe()),S3=t;el=Pm.default=(0,j3.default)((0,S3.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock");var Em={},w3=Ke;Object.defineProperty(Em,"__esModule",{value:!0});var Hd=Em.default=void 0,C3=w3(Xe()),P3=t;Hd=Em.default=(0,C3.default)((0,P3.jsx)("path",{d:"M16 18v2H8v-2zM11 7.99V16h2V7.99h3L12 4 8 7.99z"}),"Upgrade");var Im={},E3=Ke;Object.defineProperty(Im,"__esModule",{value:!0});var Xa=Im.default=void 0,I3=E3(Xe()),D3=t;Xa=Im.default=(0,I3.default)((0,D3.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle");/*!
 * react-paypal-js v8.9.2 (2025-10-02T20:17:55.069Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cr;(function(e){e.INITIAL="initial",e.PENDING="pending",e.REJECTED="rejected",e.RESOLVED="resolved"})(Cr||(Cr={}));var Co;(function(e){e.LOADING_STATUS="setLoadingStatus",e.RESET_OPTIONS="resetOptions",e.SET_BRAINTREE_INSTANCE="braintreeInstance"})(Co||(Co={}));var r0;(function(e){e.NUMBER="number",e.CVV="cvv",e.EXPIRATION_DATE="expirationDate",e.EXPIRATION_MONTH="expirationMonth",e.EXPIRATION_YEAR="expirationYear",e.POSTAL_CODE="postalCode"})(r0||(r0={}));var On=function(){return On=Object.assign||function(n){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},On.apply(this,arguments)};function DS(e,n){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&n.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)n.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(r[s[o]]=e[s[o]]);return r}function s0(e,n,r){if(r||arguments.length===2)for(var s=0,o=n.length,i;s<o;s++)(i||!(s in n))&&(i||(i=Array.prototype.slice.call(n,0,s)),i[s]=n[s]);return e.concat(i||Array.prototype.slice.call(n))}var tl="data-react-paypal-script-id",ta={DATA_CLIENT_TOKEN:"dataClientToken",DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource",DATA_USER_ID_TOKEN:"dataUserIdToken"},T3="Failed to load the PayPal JS SDK script.",TS="paypal",A3="usePayPalScriptReducer must be used within a PayPalScriptProvider";function R3(e){return e===void 0&&(e=TS),window[e]}function k3(e){for(var n="",r=0;r<e.length;r++){var s=e[r].charCodeAt(0)*r;e[r+1]&&(s+=e[r+1].charCodeAt(0)*(r-1)),n+=String.fromCharCode(97+Math.abs(s)%26)}return n}function _3(e){var n=e.reactComponentName,r=e.sdkComponentKey,s=e.sdkRequestedComponents,o=s===void 0?"":s,i=e.sdkDataNamespace,l=i===void 0?TS:i,d=r.charAt(0).toUpperCase().concat(r.substring(1)),u="Unable to render <".concat(n," /> because window.").concat(l,".").concat(d," is undefined."),h=typeof o=="string"?o:o.join(",");if(!h.includes(r)){var f=[h,r].filter(Boolean).join();u+=`
To fix the issue, add '`.concat(r,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(f,"'}}>`.")}return u}function AS(e){var n=e,r=tl;n[r];var s=DS(n,[r+""]);return"react-paypal-js-".concat(k3(JSON.stringify(s)))}function O3(e){var n=self.document.querySelector("script[".concat(tl,'="').concat(e,'"]'));n!=null&&n.parentNode&&n.parentNode.removeChild(n)}function M3(e,n){var r,s;switch(n.type){case Co.LOADING_STATUS:return typeof n.value=="object"?On(On({},e),{loadingStatus:n.value.state,loadingStatusErrorMessage:n.value.message}):On(On({},e),{loadingStatus:n.value});case Co.RESET_OPTIONS:return O3(e.options[tl]),On(On({},e),{loadingStatus:Cr.PENDING,options:On(On((r={},r[ta.DATA_SDK_INTEGRATION_SOURCE]=ta.DATA_LIBRARY_VALUE,r),n.value),(s={},s[tl]="".concat(AS(n.value)),s))});case Co.SET_BRAINTREE_INSTANCE:return On(On({},e),{braintreePayPalCheckoutInstance:n.value});default:return e}}var RS=x.createContext(null);function N3(e){if(typeof(e==null?void 0:e.dispatch)=="function"&&e.dispatch.length!==0)return e;throw new Error(A3)}function L3(){var e=N3(x.useContext(RS)),n=On(On({},e),{isInitial:e.loadingStatus===Cr.INITIAL,isPending:e.loadingStatus===Cr.PENDING,isResolved:e.loadingStatus===Cr.RESOLVED,isRejected:e.loadingStatus===Cr.REJECTED});return[n,e.dispatch]}x.createContext({});function $3(e){var n=x.useRef(new Proxy({},{get:function(r,s,o){return typeof r[s]=="function"?function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return r[s].apply(r,i)}:Reflect.get(r,s,o)}}));return n.current=Object.assign(n.current,e),n.current}var Gd=function(e){var n,r=e.className,s=r===void 0?"":r,o=e.disabled,i=o===void 0?!1:o,l=e.children,d=e.forceReRender,u=d===void 0?[]:d,h=DS(e,["className","disabled","children","forceReRender"]),f=i?{opacity:.38}:{},m="".concat(s," ").concat(i?"paypal-buttons-disabled":"").trim(),g=x.useRef(null),y=x.useRef(null),b=$3(h),S=L3()[0],v=S.isResolved,E=S.options,w=x.useState(null),I=w[0],D=w[1],T=x.useState(!0),R=T[0],_=T[1],k=x.useState(null),N=k[1];function $(){y.current!==null&&y.current.close().catch(function(){})}return!((n=y.current)===null||n===void 0)&&n.updateProps&&y.current.updateProps({message:h.message}),x.useEffect(function(){if(v===!1)return $;var G=R3(E.dataNamespace);if(G===void 0||G.Buttons===void 0)return N(function(){throw new Error(_3({reactComponentName:Gd.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:E.components,sdkDataNamespace:E[ta.DATA_NAMESPACE]}))}),$;var L=function(H,K){D(K),typeof h.onInit=="function"&&h.onInit(H,K)};try{y.current=G.Buttons(On(On({},b),{onInit:L}))}catch(H){return N(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(H))})}return y.current.isEligible()===!1?(_(!1),$):(g.current&&y.current.render(g.current).catch(function(H){g.current===null||g.current.children.length===0||N(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(H))})}),$)},s0(s0([v],u,!0),[h.fundingSource],!1)),x.useEffect(function(){I!==null&&(i===!0?I.disable().catch(function(){}):I.enable().catch(function(){}))},[i,I]),Tt.createElement(Tt.Fragment,null,R?Tt.createElement("div",{ref:g,style:f,className:m}):l)};Gd.displayName="PayPalButtons";function F3(e,n){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&n.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)n.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(r[s[o]]=e[s[o]]);return r}function B3(e,n){var r=document.querySelector('script[src="'.concat(e,'"]'));if(r===null)return null;var s=kS(e,n),o=r.cloneNode();if(delete o.dataset.uidAuto,Object.keys(o.dataset).length!==Object.keys(s.dataset).length)return null;var i=!0;return Object.keys(o.dataset).forEach(function(l){o.dataset[l]!==s.dataset[l]&&(i=!1)}),i?r:null}function W3(e){var n=e.url,r=e.attributes,s=e.onSuccess,o=e.onError,i=kS(n,r);i.onerror=o,i.onload=s,document.head.insertBefore(i,document.head.firstElementChild)}function V3(e){var n=e.sdkBaseUrl,r=e.environment,s=F3(e,["sdkBaseUrl","environment"]),o=n||H3(r),i=s,l=Object.keys(i).filter(function(h){return typeof i[h]<"u"&&i[h]!==null&&i[h]!==""}).reduce(function(h,f){var m=i[f].toString();return f=U3(f),f.substring(0,4)==="data"||f==="crossorigin"?h.attributes[f]=m:h.queryParams[f]=m,h},{queryParams:{},attributes:{}}),d=l.queryParams,u=l.attributes;return d["merchant-id"]&&d["merchant-id"].indexOf(",")!==-1&&(u["data-merchant-id"]=d["merchant-id"],d["merchant-id"]="*"),{url:"".concat(o,"?").concat(z3(d)),attributes:u}}function U3(e){var n=function(r,s){return(s?"-":"")+r.toLowerCase()};return e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,n)}function z3(e){var n="";return Object.keys(e).forEach(function(r){n.length!==0&&(n+="&"),n+=r+"="+e[r]}),n}function H3(e){return e==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function kS(e,n){n===void 0&&(n={});var r=document.createElement("script");return r.src=e,Object.keys(n).forEach(function(s){r.setAttribute(s,n[s]),s==="data-csp-nonce"&&r.setAttribute("nonce",n["data-csp-nonce"])}),r}function G3(e,n){if(n===void 0&&(n=Promise),_S(e,n),typeof document>"u")return n.resolve(null);var r=V3(e),s=r.url,o=r.attributes,i=o["data-namespace"]||"paypal",l=o0(i);return o["data-js-sdk-library"]||(o["data-js-sdk-library"]="paypal-js"),B3(s,o)&&l?n.resolve(l):Y3({url:s,attributes:o},n).then(function(){var d=o0(i);if(d)return d;throw new Error("The window.".concat(i," global variable is not available."))})}function Y3(e,n){n===void 0&&(n=Promise),_S(e,n);var r=e.url,s=e.attributes;if(typeof r!="string"||r.length===0)throw new Error("Invalid url.");if(typeof s<"u"&&typeof s!="object")throw new Error("Expected attributes to be an object.");return new n(function(o,i){if(typeof document>"u")return o();W3({url:r,attributes:s,onSuccess:function(){return o()},onError:function(){var l=new Error('The script "'.concat(r,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return i(l)}})})}function o0(e){return window[e]}function _S(e,n){if(typeof e!="object"||e===null)throw new Error("Expected an options object.");var r=e.environment;if(r&&r!=="production"&&r!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof n<"u"&&typeof n!="function")throw new Error("Expected PromisePonyfill to be a function.")}var OS=function(e){var n,r=e.options,s=r===void 0?{clientId:"test"}:r,o=e.children,i=e.deferLoading,l=i===void 0?!1:i,d=x.useReducer(M3,{options:On(On({},s),(n={},n[ta.DATA_JS_SDK_LIBRARY]=ta.DATA_LIBRARY_VALUE,n[ta.DATA_SDK_INTEGRATION_SOURCE]=ta.DATA_LIBRARY_VALUE,n[tl]="".concat(AS(s)),n)),loadingStatus:l?Cr.INITIAL:Cr.PENDING}),u=d[0],h=d[1];return x.useEffect(function(){if(l===!1&&u.loadingStatus===Cr.INITIAL)return h({type:Co.LOADING_STATUS,value:Cr.PENDING});if(u.loadingStatus===Cr.PENDING){var f=!0;return G3(u.options).then(function(){f&&h({type:Co.LOADING_STATUS,value:Cr.RESOLVED})}).catch(function(m){console.error("".concat(T3," ").concat(m)),f&&h({type:Co.LOADING_STATUS,value:{state:Cr.REJECTED,message:String(m)}})}),function(){f=!1}}},[u.options,l,u.loadingStatus]),Tt.createElement(RS.Provider,{value:On(On({},u),{dispatch:h})},o)};function a0(){}x.createContext({cardFieldsForm:null,fields:{},registerField:a0,unregisterField:a0});const q3=({contentType:e,contentId:n,amount:r,currency:s,comment:o,onSuccess:i,onError:l,onCancel:d,disabled:u=!1})=>{const[h,f]=Tt.useState(!0),[m,g]=Tt.useState(null),{api:y}=Je();return t.jsx(C,{sx:{minHeight:50},children:t.jsxs(OS,{options:{clientId:"AUvVGkHGJD8OKekE_4XxFzzKL8a8yLtJ3ZG1woE3OobNy57zyofuPIiUo-zZag0O_L1KPB_u4TB0tuJp",currency:s.toUpperCase(),intent:"capture"},children:[h&&t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:2},children:t.jsx(sn,{size:24})}),t.jsx(Gd,{style:{layout:"vertical",color:"gold",shape:"rect",label:"pay"},disabled:u||r<=0,onInit:()=>{f(!1)},createOrder:async()=>{var S;console.log("Creating PayPal order for funding:",{contentType:e,contentId:n,amount:r,currency:s});try{const v=await((S=y==null?void 0:y.app.funding)==null?void 0:S.createPayPalOrder(e,n,{amount:r,currency:s,comment:o}));if(!(v!=null&&v.orderId))throw new Error("Failed to create PayPal order");return g({orderId:v.orderId,contributionId:v.contributionId}),v.orderId}catch(v){throw console.error("Failed to create PayPal order:",v),l(new Error("Failed to create payment order. Please try again.")),v}},onApprove:async S=>{var v;if(console.log("PayPal order approved:",{orderID:S.orderID,contributionId:m==null?void 0:m.contributionId}),!m){l(new Error("Order data not found"));return}try{const E=await((v=y==null?void 0:y.app.funding)==null?void 0:v.capturePayPalOrder(e,n,{orderId:S.orderID,contributionId:m.contributionId}));i(E)}catch(E){console.error("Failed to capture PayPal order:",E),l(new Error("Failed to complete payment. Please contact support."))}},onCancel:()=>{console.log("PayPal payment cancelled by user"),g(null),d==null||d()},onError:S=>{console.error("PayPal payment error:",S),g(null),l(new Error(typeof S=="string"?S:"PayPal payment failed"))}})]})})},K3=({currentAmount:e,goalAmount:n,contributorCount:r,currency:s,showDetailed:o=!0})=>{const i=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:s,minimumFractionDigits:0,maximumFractionDigits:2}).format(u),l=n?Math.min(e/n*100,100):0,d=n?Math.max(n-e,0):0;return o?t.jsx(Fe,{variant:"outlined",sx:{backgroundColor:"background.paper"},children:t.jsxs(Ve,{children:[t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,sm:n?4:6,children:t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(C,{sx:{display:"flex",justifyContent:"center",mb:1},children:t.jsx(to,{color:"primary",fontSize:"large"})}),t.jsx(j,{variant:"h4",fontWeight:"bold",color:"primary",children:i(e)}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Raised so far"})]})}),n&&t.jsx(F,{item:!0,xs:12,sm:4,children:t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(C,{sx:{display:"flex",justifyContent:"center",mb:1},children:t.jsx(pR,{color:"action",fontSize:"large"})}),t.jsx(j,{variant:"h4",fontWeight:"bold",children:i(n)}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Funding goal"})]})}),t.jsx(F,{item:!0,xs:12,sm:n?4:6,children:t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(C,{sx:{display:"flex",justifyContent:"center",mb:1},children:t.jsx(Io,{color:"action",fontSize:"large"})}),t.jsx(j,{variant:"h4",fontWeight:"bold",children:r}),t.jsx(j,{variant:"body2",color:"text.secondary",children:r===1?"Supporter":"Supporters"})]})})]}),n&&t.jsxs(C,{sx:{mt:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsxs(j,{variant:"body2",fontWeight:"medium",children:["Progress: ",l.toFixed(1),"%"]}),d>0&&t.jsxs(j,{variant:"body2",color:"text.secondary",children:[i(d)," to go"]})]}),t.jsx(Ga,{variant:"determinate",value:l,sx:{height:12,borderRadius:6,backgroundColor:"grey.200","& .MuiLinearProgress-bar":{borderRadius:6,background:l>=100?"linear-gradient(45deg, #4caf50 30%, #8bc34a 90%)":"linear-gradient(45deg, #2196f3 30%, #21cbf3 90%)"}}}),l>=100&&t.jsx(C,{sx:{mt:2,p:2,bgcolor:"success.light",borderRadius:1,textAlign:"center"},children:t.jsx(j,{variant:"body2",fontWeight:"medium",color:"success.dark",children:" Funding goal reached! Thank you to all supporters!"})})]})]})}):t.jsxs(C,{children:[n&&t.jsxs(t.Fragment,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Funded: ",i(e)]}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Goal: ",i(n)]})]}),t.jsx(Ga,{variant:"determinate",value:l,sx:{height:8,borderRadius:4,backgroundColor:"grey.200","& .MuiLinearProgress-bar":{borderRadius:4}}})]}),!n&&t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(to,{fontSize:"small",color:"primary"}),t.jsxs(j,{variant:"body2",fontWeight:"medium",children:[i(e)," raised"]}),t.jsx(Io,{fontSize:"small",color:"action"}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:[r," supporters"]})]})]})},J3=[5,10,25,50,100],MS=({open:e,onClose:n,onSuccess:r,contentType:s,contentId:o,fundingData:i})=>{const[l,d]=x.useState("amount"),[u,h]=x.useState({amount:0,currency:i.currency,comment:""}),[f,m]=x.useState(!1),[g,y]=x.useState(null),b=()=>{d("amount"),h({amount:0,currency:i.currency,comment:""}),y(null),n()},S=N=>{h($=>({...$,amount:N}))},v=()=>{if(l==="amount"){if(u.amount<=0){y("Please enter a valid contribution amount");return}y(null),d("payment")}},E=()=>{l==="payment"&&(d("amount"),y(null))},w=N=>{r(N),b()},I=N=>{y(N.message||"Payment failed. Please try again."),m(!1)},D=()=>{y("Payment cancelled. You can try again when ready."),m(!1)},T=()=>t.jsxs(pe,{spacing:3,children:[t.jsxs(C,{children:[t.jsxs(j,{variant:"h6",gutterBottom:!0,children:["Fund this ",s]}),t.jsx(j,{variant:"body2",color:"text.secondary",children:i.description||`Support this ${s} with your contribution`})]}),t.jsx(K3,{currentAmount:i.currentAmount,goalAmount:i.goalAmount,contributorCount:i.contributorCount,currency:i.currency}),t.jsx(Mt,{}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",gutterBottom:!0,children:"Choose contribution amount"}),t.jsx(pe,{direction:"row",spacing:1,flexWrap:"wrap",sx:{mb:2},children:J3.map(N=>t.jsx(Qe,{label:`${i.currency} ${N}`,onClick:()=>S(N),color:u.amount===N?"primary":"default",variant:u.amount===N?"filled":"outlined",sx:{mb:1}},N))}),t.jsx(nt,{label:"Custom Amount",type:"number",value:u.amount||"",onChange:N=>h($=>({...$,amount:Number(N.target.value)})),fullWidth:!0,InputProps:{startAdornment:t.jsx(os,{position:"start",children:i.currency})},inputProps:{min:1,step:.01}})]}),t.jsx(nt,{label:"Comment (Optional)",multiline:!0,rows:3,value:u.comment,onChange:N=>h($=>({...$,comment:N.target.value})),fullWidth:!0,placeholder:"Leave a message of support..."})]}),R=()=>t.jsxs(pe,{spacing:3,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Payment Details"}),t.jsxs(C,{sx:{p:2,bgcolor:"background.paper",borderRadius:1,border:"1px solid",borderColor:"divider"},children:[t.jsxs(j,{variant:"body1",fontWeight:"medium",children:["Contribution: ",i.currency," ",u.amount]}),u.comment&&t.jsxs(j,{variant:"body2",color:"text.secondary",sx:{mt:1},children:['"',u.comment,'"']})]})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",gutterBottom:!0,children:"Complete payment with PayPal"}),t.jsx(q3,{contentType:s,contentId:o,amount:u.amount,currency:u.currency,comment:u.comment,onSuccess:w,onError:I,onCancel:D,disabled:f})]})]}),_=()=>t.jsxs(C,{sx:{textAlign:"center",py:4},children:[t.jsx(Ga,{sx:{mb:3}}),t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Processing your contribution..."}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Please wait while we process your payment"})]}),k=()=>{switch(l){case"amount":return t.jsxs(t.Fragment,{children:[t.jsx(he,{onClick:b,disabled:f,children:"Cancel"}),t.jsx(he,{onClick:v,variant:"contained",disabled:f||u.amount<=0,children:"Continue"})]});case"payment":return t.jsx(t.Fragment,{children:t.jsx(he,{onClick:E,disabled:f,children:"Back"})});case"processing":return null;default:return null}};return t.jsxs(Kt,{open:e,onClose:f?void 0:b,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[t.jsxs(tn,{sx:{fontWeight:600},children:["Fund ",i.title]}),t.jsxs(Jt,{children:[g&&t.jsx(dt,{severity:"error",sx:{mb:2},children:g}),l==="amount"&&T(),l==="payment"&&R(),l==="processing"&&_()]}),k()&&t.jsx(Xt,{sx:{px:3,pb:2},children:k()})]})};var Dm={},X3=Ke;Object.defineProperty(Dm,"__esModule",{value:!0});var Qa=Dm.default=void 0,Q3=X3(Xe()),Z3=t;Qa=Dm.default=(0,Q3.default)((0,Z3.jsx)("path",{d:"M1 11h4v11H1zm15-7.75C16.65 2.49 17.66 2 18.7 2 20.55 2 22 3.45 22 5.3c0 2.27-2.91 4.9-6 7.7-3.09-2.81-6-5.44-6-7.7C10 3.45 11.45 2 13.3 2c1.04 0 2.05.49 2.7 1.25M20 17h-7l-2.09-.73.33-.94L13 16h2.82c.65 0 1.18-.53 1.18-1.18 0-.49-.31-.93-.77-1.11L8.97 11H7v9.02L14 22l8.01-3c-.01-1.1-.9-2-2.01-2"}),"VolunteerActivism");const eB=()=>t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsx(de,{variant:"rectangular",width:"100%",height:300,sx:{borderRadius:2,mb:3}})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx(Fe,{children:t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[t.jsx(de,{variant:"text",width:"60%",height:40}),t.jsx(pe,{direction:"row",spacing:1,children:[1,2,3].map(e=>t.jsx(de,{variant:"circular",width:40,height:40},e))})]}),t.jsx(de,{variant:"rectangular",width:"100%",height:300,sx:{mb:3,borderRadius:1}}),t.jsxs(pe,{spacing:2,sx:{mb:3},children:[t.jsx(de,{variant:"text",width:"100%"}),t.jsx(de,{variant:"text",width:"95%"}),t.jsx(de,{variant:"text",width:"90%"}),t.jsx(de,{variant:"text",width:"85%"}),t.jsx(de,{variant:"text",width:"95%"})]}),t.jsx(de,{variant:"rectangular",width:"100%",height:80,sx:{mb:3,borderRadius:1}}),t.jsx(pe,{direction:"row",spacing:1,children:[1,2,3,4].map(e=>t.jsx(de,{variant:"rounded",width:80,height:32},e))})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsx(de,{variant:"text",width:"50%",height:32,sx:{mb:2}}),t.jsx(pe,{spacing:2,children:[1,2,3,4,5].map(e=>t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[t.jsx(de,{variant:"text",width:"40%"}),t.jsx(de,{variant:"text",width:"20%"})]}),t.jsx(de,{variant:"rectangular",width:"100%",height:8,sx:{borderRadius:1}})]},e))})]})})})]})}),tB=()=>{var T,R;const{id:e}=is(),{api:n}=Je(),{execute:r}=et(),[s,o]=x.useState(null),[i,l]=x.useState(!0),[d,u]=x.useState(!1),[h,f]=x.useState(!1),[m,g]=x.useState(null),[y,b]=x.useState(!1);x.useEffect(()=>{(async()=>{if(e){l(!0);const k=await r(()=>n==null?void 0:n.app.news.get(e),{showErrorToast:!0});k&&(o(k),k.accessInfo&&!k.accessInfo.canAccess&&u(!0),S(e)),l(!1)}})()},[e,r]);const S=async _=>{try{b(!0);const k=await(n==null?void 0:n.app.funding.getFund("news",_));g(k)}catch(k){console.error("Failed to load fund data:",k)}finally{b(!1)}},v=async()=>{f(!0)},E=async _=>{e&&await S(e),console.log("Contribution successful:",_)},w=()=>!s||!m?null:{id:m.id,title:s.title,currentAmount:m.currentAmount/100,goalAmount:m.goalAmount?m.goalAmount/100:void 0,currency:m.currency,contributorCount:0,description:"Support quality journalism by funding this article"};if(i)return t.jsx(eB,{});if(!s)return t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsx(j,{variant:"h4",children:"Entry not found"})});const I=s.media.find(_=>_.type===jl.COVER),D=_=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(_);return t.jsxs(It,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsxs(C,{sx:{height:300,width:"100%",position:"relative",mb:3,borderRadius:2,overflow:"hidden"},children:[(I==null?void 0:I.format)===rd.VIDEO?t.jsx(C,{component:"video",src:I.url,controls:!0,preload:"metadata",sx:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center",bgcolor:"black"}}):t.jsx(C,{component:"img",src:(I==null?void 0:I.url)||Wd,alt:s.title,sx:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"}}),t.jsxs(C,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(transparent, rgba(0,0,0,0.7))",p:3,color:"white"},children:[t.jsx(j,{variant:"h4",component:"h1",gutterBottom:!0,children:s.title}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsxs(C,{component:Qn,to:ge.APP_CHANNEL_VIEW.replace(":channelId",s.channelId),sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(255, 255, 255, 0.1)",color:"white",px:2,py:1,borderRadius:2,textDecoration:"none",transition:"all 0.2s ease-in-out",border:"1px solid rgba(255, 255, 255, 0.2)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.2)",transform:"translateY(-2px)"}},children:[t.jsx(Sl,{sx:{mr:1}}),t.jsx(j,{variant:"subtitle2",children:s.channel.name})]}),t.jsxs(C,{sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(0, 0, 0, 0.3)",px:2,py:1,borderRadius:2,border:"1px solid rgba(255, 255, 255, 0.1)"},children:[t.jsx(yl,{sx:{mr:1,fontSize:"0.9rem"}}),t.jsx(j,{variant:"caption",children:s.creator.displayName})]})]}),t.jsx(j,{variant:"subtitle1",children:new Date(s.publishedAt).toLocaleDateString()})]})]})]})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx(Fe,{children:t.jsx(C,{sx:{p:3},children:d?t.jsxs(ot,{elevation:3,sx:{p:4,textAlign:"center",bgcolor:_=>ue(_.palette.warning.main,.05),border:_=>`2px solid ${ue(_.palette.warning.main,.3)}`,borderRadius:3},children:[t.jsx(C,{sx:{width:80,height:80,borderRadius:"50%",bgcolor:_=>ue(_.palette.warning.main,.1),display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",mb:2},children:t.jsx(el,{sx:{fontSize:40,color:"warning.main"}})}),t.jsx(j,{variant:"h5",gutterBottom:!0,fontWeight:"bold",color:"warning.dark",children:"Premium Content"}),t.jsx(j,{variant:"body1",color:"text.secondary",sx:{mb:3,maxWidth:500,mx:"auto"},children:((T=s.accessInfo)==null?void 0:T.reason)||"Subscribe to unlock the full article and support quality journalism."}),((R=s.accessInfo)==null?void 0:R.requiredTierName)&&t.jsxs(dt,{severity:"info",sx:{mb:3,maxWidth:500,mx:"auto","& .MuiAlert-message":{width:"100%",textAlign:"center"}},children:["Required tier: ",t.jsx("strong",{children:s.accessInfo.requiredTierName})]}),t.jsxs(C,{sx:{mb:3,maxWidth:400,mx:"auto"},children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",sx:{mb:2},children:"Subscribe to unlock:"}),t.jsx(mr,{dense:!0,children:["Full article content","Quality metrics","Fund information","Social links","Transaction transparency"].map((_,k)=>t.jsxs(or,{sx:{py:.5},children:[t.jsx(qt,{sx:{minWidth:32},children:t.jsx(Xa,{color:"success",fontSize:"small"})}),t.jsx(Wt,{primary:_,primaryTypographyProps:{variant:"body2"}})]},k))})]}),t.jsx(he,{component:Qn,to:ge.APP_CHANNEL_VIEW.replace(":channelId",s.channelId),variant:"contained",color:"warning",size:"large",startIcon:t.jsx(Hd,{}),sx:{px:4,py:1.5,borderRadius:2,fontWeight:"bold",textTransform:"none",fontSize:"1rem"},children:"View Subscription Options"})]}):t.jsxs(t.Fragment,{children:[t.jsx(zd,{data:IS(s.content),readOnly:!0,borderColor:_=>_.palette.mode==="dark"?ue(_.palette.common.white,.1):ue(_.palette.common.black,.1)}),t.jsx(C,{sx:{mt:2},children:s.tags.map(_=>t.jsx(Qe,{label:_.title,variant:"outlined",sx:{mr:1,mb:1}},_.id))})]})})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(pe,{spacing:3,children:[!d&&s.socialLinks&&s.socialLinks.length>0&&t.jsx(jm,{links:s.socialLinks}),!d&&s.qualityMetrics&&t.jsxs(ot,{elevation:0,sx:{p:2,bgcolor:"success.light",color:"success.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[t.jsx(Cm,{fontSize:"large"}),t.jsxs(C,{children:[t.jsx(j,{variant:"overline",children:"Quality Score"}),t.jsxs(j,{variant:"h4",component:"div",children:[s.qualityMetrics.overallQualityScore.toFixed(1),"/10"]})]})]}),!d&&s.newsFund&&t.jsxs(ot,{elevation:0,sx:{p:2,bgcolor:"primary.light",color:"primary.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[t.jsx(Bd,{fontSize:"large"}),t.jsxs(C,{children:[t.jsx(j,{variant:"overline",children:"News Fund"}),t.jsx(j,{variant:"h4",component:"div",children:D(s.newsFund.amount)})]})]}),t.jsx(ot,{elevation:2,sx:{p:3,borderRadius:2,border:"2px solid",borderColor:"primary.main",bgcolor:_=>ue(_.palette.primary.main,.05)},children:t.jsxs(pe,{spacing:2,children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Qa,{color:"primary",fontSize:"large"}),t.jsx(j,{variant:"h6",fontWeight:"bold",color:"primary",children:"Fund this Article"})]}),m&&!y?t.jsxs(C,{children:[t.jsx(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Current Funding"}),t.jsxs(j,{variant:"h5",fontWeight:"bold",color:"primary.main",children:[m.currency," ",(m.currentAmount/100).toFixed(2)]}),m.goalAmount&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Goal: ",m.currency," ",(m.goalAmount/100).toFixed(2)]})]}):y?t.jsx(de,{variant:"rectangular",height:60}):t.jsx(j,{variant:"body2",color:"text.secondary",children:"Be the first to fund this article"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Support quality journalism by contributing to this article"}),t.jsx(he,{variant:"contained",color:"primary",fullWidth:!0,size:"large",startIcon:t.jsx(Qa,{}),onClick:v,disabled:!s,sx:{py:1.5,fontWeight:"bold",textTransform:"none",fontSize:"1rem"},children:"Fund Now"})]})})]})})]}),!d&&t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsx(y3,{newsId:s.id,channelId:s.channelId,newsFund:s.newsFund})}),s&&m&&t.jsx(MS,{open:h,onClose:()=>f(!1),onSuccess:E,contentType:"news",contentId:s.id,fundingData:w()})]})};var Tm={},nB=Ke;Object.defineProperty(Tm,"__esModule",{value:!0});var NS=Tm.default=void 0,rB=nB(Xe()),sB=t;NS=Tm.default=(0,rB.default)((0,sB.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");const jc=Me(Qe)(({theme:e})=>({borderRadius:e.spacing(.75),height:28,fontWeight:500,fontSize:"0.75rem",padding:"0 8px",transition:"all 0.2s ease",border:"1px solid transparent","&.selected":{backgroundColor:e.palette.mode==="dark"?e.palette.common.white:e.palette.grey[900],color:e.palette.mode==="dark"?e.palette.grey[900]:e.palette.common.white,fontWeight:600,borderColor:e.palette.mode==="dark"?e.palette.common.white:e.palette.grey[900],"&:hover":{backgroundColor:e.palette.mode==="dark"?e.palette.grey[100]:e.palette.grey[800],borderColor:e.palette.mode==="dark"?e.palette.grey[100]:e.palette.grey[800]}},"&:not(.selected)":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.06)",color:e.palette.text.primary,"&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.1)",borderColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)"}}})),Uh=Me(C)(({theme:e,horizontal:n})=>({display:"flex",flexDirection:n?"row":"column",gap:e.spacing(1),scrollBehavior:"smooth",...n&&{overflowX:"auto",overflowY:"hidden",paddingBottom:e.spacing(.5),scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},msOverflowStyle:"none"}})),i0=Me(Ne)(({theme:e})=>({backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.06)",width:32,height:32,flexShrink:0,"&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.1)"}})),od=({selectedTags:e=[],onTagsChange:n,contentType:r,maxTags:s=10,className:o,horizontal:i=!1})=>{const[l,d]=x.useState([]),[u,h]=x.useState(!0),[f,m]=x.useState(!1),[g,y]=x.useState(!1),b=Tt.useRef(null),{api:S}=Je(),{execute:v}=et();x.useEffect(()=>{(async()=>{if(S!=null&&S.app.tag){h(!0);try{const[R,_,k]=await Promise.all([v(()=>S.app.tag.getTags({category:r==="channels"?void 0:r}),{showErrorToast:!1}),v(()=>S.app.tag.getTags({trending:!0,category:r==="channels"?void 0:r}),{showErrorToast:!1}),v(()=>S.app.tag.getTags({popular:!0,category:r==="channels"?void 0:r}),{showErrorToast:!1})]),N=new Map;R!=null&&R.items&&R.items.forEach(G=>{var L;N.set(G.id,{...G,count:((L=G.analytics)==null?void 0:L.usageCount)||0})}),_!=null&&_.items&&_.items.forEach(G=>{var H;const L=N.get(G.id);L?N.set(G.id,{...L,trending:!0}):N.set(G.id,{...G,count:((H=G.analytics)==null?void 0:H.usageCount)||0,trending:!0})}),k!=null&&k.items&&k.items.forEach(G=>{var H;const L=N.get(G.id);L&&!L.trending?N.set(G.id,{...L,popular:!0}):L||N.set(G.id,{...G,count:((H=G.analytics)==null?void 0:H.usageCount)||0,popular:!0})});const $=Array.from(N.values()).sort((G,L)=>(L.count||0)-(G.count||0)).slice(0,20);d($)}catch(R){console.error("Failed to fetch tags:",R),d([])}finally{h(!1)}}})()},[r,S,v]);const E=T=>{const R=e.includes(T);n(R?e.filter(_=>_!==T):[T])},w=()=>{if(i&&b.current){const{scrollLeft:T,scrollWidth:R,clientWidth:_}=b.current;m(T>0),y(T+_<R-1)}};x.useEffect(()=>{if(i){w();const T=b.current;if(T)return T.addEventListener("scroll",w),window.addEventListener("resize",w),()=>{T.removeEventListener("scroll",w),window.removeEventListener("resize",w)}}},[l,u,i]);const I=()=>{b.current&&b.current.scrollBy({left:-200,behavior:"smooth"})},D=()=>{b.current&&b.current.scrollBy({left:200,behavior:"smooth"})};return u?t.jsx(C,{className:o,children:t.jsx(Uh,{horizontal:i,children:[...Array(10)].map((T,R)=>t.jsx(de,{variant:"rounded",width:i?100:"100%",height:28,sx:{borderRadius:.75,flexShrink:i?0:void 0}},R))})}):i?t.jsxs(C,{className:o,sx:{display:"flex",alignItems:"center",gap:1},children:[f&&t.jsx(i0,{onClick:I,size:"small",children:t.jsx(gp,{fontSize:"small"})}),t.jsxs(Uh,{ref:b,horizontal:i,sx:{flex:1},children:[t.jsx(jc,{label:"All",className:e.length===0?"selected":"",onClick:()=>n([]),clickable:!0,sx:{flexShrink:0}}),l.map(T=>{const R=e.includes(T.name);return t.jsx(jc,{label:T.name,className:R?"selected":"",onClick:()=>E(T.name),clickable:!0,sx:{flexShrink:0}},T.id)})]}),g&&t.jsx(i0,{onClick:D,size:"small",children:t.jsx(NS,{fontSize:"small"})})]}):t.jsx(C,{className:o,children:t.jsxs(Uh,{ref:b,horizontal:i,children:[t.jsx(jc,{label:"All",className:e.length===0?"selected":"",onClick:()=>n([]),clickable:!0,sx:{width:"100%",justifyContent:"flex-start"}}),l.map(T=>{const R=e.includes(T.name);return t.jsx(jc,{label:T.name,className:R?"selected":"",onClick:()=>E(T.name),clickable:!0,sx:{width:"100%",justifyContent:"flex-start"}},T.id)})]})})},oB=()=>{const e=da(),n=Pt(),[r,s]=x.useState([]);x.useEffect(()=>{const l=new URLSearchParams(e.search).get("tags");if(l){const d=l.split(",").map(u=>decodeURIComponent(u.trim()));s(d)}},[e.search]);const o=i=>{s(i);const l=new URLSearchParams(e.search);i.length>0?l.set("tags",i.map(u=>encodeURIComponent(u)).join(",")):l.delete("tags");const d=`${e.pathname}?${l.toString()}`;n(d,{replace:!0})};return t.jsxs(C,{sx:{width:"100%",overflow:"hidden",pb:4},children:[t.jsx(C,{sx:{mb:3},children:t.jsx(od,{selectedTags:r,onTagsChange:o,contentType:"news",maxTags:5,showCounts:!1,horizontal:!0})}),t.jsx(C,{children:t.jsx(CS,{filters:r.length>0?{tags:r}:{},emptyTitle:"No news found",emptyDescription:"No news articles available at the moment",mode:"grid"})})]})};var Am={},aB=Ke;Object.defineProperty(Am,"__esModule",{value:!0});var Rm=Am.default=void 0,iB=aB(Xe()),lB=t;Rm=Am.default=(0,iB.default)((0,lB.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People");var km={},cB=Ke;Object.defineProperty(km,"__esModule",{value:!0});var ad=km.default=void 0,dB=cB(Xe()),uB=t;ad=km.default=(0,dB.default)((0,uB.jsx)("path",{d:"M9.68 13.69 12 11.93l2.31 1.76-.88-2.85L15.75 9h-2.84L12 6.19 11.09 9H8.25l2.31 1.84zM20 10c0-4.42-3.58-8-8-8s-8 3.58-8 8c0 2.03.76 3.87 2 5.28V23l6-2 6 2v-7.72c1.24-1.41 2-3.25 2-5.28m-8-6c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6 2.69-6 6-6"}),"WorkspacePremium");const hB=({channel:e,hasSubscription:n,subscriptionTier:r,onJoin:s,onCancel:o})=>{var m,g,y,b;const i=Pt(),l=n,d=r,u=(m=e.tiers)==null?void 0:m.find(S=>S.isDefault),h=()=>{i(ge.APP_CHANNEL_VIEW.replace(":channelId",e.id))},f=S=>{S.stopPropagation(),l?o(e.id):s(e.id,u==null?void 0:u.id)};return t.jsxs(C,{onClick:h,sx:{display:"flex",alignItems:"flex-start",gap:1.5,p:1.5,borderRadius:1.5,cursor:"pointer",transition:"all 0.2s ease-in-out",height:"100%",border:"1px solid",borderColor:"transparent","&:hover":{bgcolor:S=>S.palette.mode==="dark"?ue(S.palette.common.white,.05):ue(S.palette.common.black,.03),borderColor:"divider",transform:"translateX(4px)"}},children:[t.jsx(Sn,{src:e.logoUrl,sx:{width:48,height:48,borderRadius:1.5,bgcolor:"primary.main"}}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:.5},children:[t.jsx(j,{variant:"body1",sx:{fontWeight:600,color:"text.primary",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"0.9rem"},children:e.name}),l?t.jsx(Qe,{label:d==null?void 0:d.name,color:"primary",onDelete:f,size:"small",sx:{height:24}}):t.jsx(Ne,{size:"small",onClick:f,sx:{bgcolor:"primary.main",color:"white",width:32,height:32,"&:hover":{bgcolor:"primary.dark"}},children:t.jsx(ad,{sx:{fontSize:18}})})]}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:.5,display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",fontSize:"0.8rem"},children:e.description}),t.jsxs(pe,{direction:"row",spacing:2,sx:{color:"text.secondary",fontSize:"0.75rem"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(Rm,{sx:{fontSize:14}}),(y=(g=e.stats)==null?void 0:g.activeSubscriptionCount)==null?void 0:y.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1})]}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(ad,{sx:{fontSize:14}}),((b=e.stats)==null?void 0:b.tierCount)||0," Tiers"]})]})]})]})},fB=({count:e=2})=>t.jsx(pe,{spacing:2,sx:{mt:2},children:[...Array(e)].map((n,r)=>t.jsxs(C,{sx:{display:"flex",gap:2,p:2,borderRadius:2,bgcolor:s=>s.palette.mode==="dark"?ue(s.palette.common.white,.05):ue(s.palette.common.black,.03)},children:[t.jsx(C,{sx:{width:56,height:56,borderRadius:2,bgcolor:s=>s.palette.mode==="dark"?ue(s.palette.common.white,.1):ue(s.palette.common.black,.1)}}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsx(C,{sx:{height:24,width:"40%",mb:1,borderRadius:.5,bgcolor:"grey.300"}}),t.jsx(C,{sx:{height:16,width:"80%",mb:1,borderRadius:.5,bgcolor:"grey.200"}}),t.jsx(C,{sx:{height:16,width:"30%",borderRadius:.5,bgcolor:"grey.200"}})]})]},r))}),pB=({filters:e={},emptyTitle:n="No channels found",emptyDescription:r="No channels available at the moment",itemsPerPage:s=10,hasSubscription:o,getSubscriptionTier:i,onJoin:l,onCancel:d})=>{const[u,h]=x.useState([]),[f,m]=x.useState(!0),[g,y]=x.useState(1),[b,S]=x.useState(!0),{api:v}=Je(),{execute:E}=et(),w=async(D=g)=>{try{m(!0);const T=await E(()=>v==null?void 0:v.app.channel.getChannels(e,{page:D,limit:s}),{showErrorToast:!0});T&&(h(D===1?T.items??[]:R=>[...R,...T.items??[]]),y(T.metadata.currentPage??1),S(T.metadata.hasNext===!0))}finally{m(!1)}};x.useEffect(()=>{h([]),y(1),w(1)},[JSON.stringify(e)]);const I=()=>{!f&&b&&w(g+1)};return u.length===0&&!f?t.jsx(so,{title:n,description:r}):t.jsx(C,{sx:{width:"100%"},children:f&&u.length===0?t.jsx(fB,{}):t.jsx(js,{dataLength:u.length,next:I,hasMore:b,loader:t.jsx(C,{}),endMessage:t.jsx(C,{sx:{textAlign:"center",mt:4,color:"text.secondary",fontSize:"0.875rem"},children:"No more channels to display"}),children:t.jsx(F,{container:!0,spacing:3,children:u.map(D=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(hB,{channel:D,hasSubscription:(o==null?void 0:o(D.id))??!1,subscriptionTier:i==null?void 0:i(D.id),onJoin:l,onCancel:d})},D.id))})})})},mB=()=>{const e=da(),n=Pt(),[r,s]=x.useState([]),{actions:o,channelRelations:i}=Cs(),{api:l}=Je();x.useEffect(()=>{const m=new URLSearchParams(e.search).get("tags");if(m){const g=m.split(",").map(y=>decodeURIComponent(y.trim()));s(g)}},[e.search]);const d=async(f,m)=>{var g,y,b;if(m)try{const S=await((g=l==null?void 0:l.app.subscription)==null?void 0:g.createDirectSubscription(f,{tierId:m,paymentMethodId:"paypal_default"}));S!=null&&S.approvalUrl?window.open(S.approvalUrl,"paypal_payment","width=600,height=700,scrollbars=yes,resizable=yes")||alert("Popup blocked! Please allow popups and try again."):await o.refreshProfile()}catch(S){console.error("Subscription failed:",S);const v=((b=(y=S==null?void 0:S.response)==null?void 0:y.data)==null?void 0:b.message)||(S==null?void 0:S.message)||"";(v.includes("PAYMENT_METHOD_REQUIRED")||v.includes("PayPal payment method")||v.includes("No PayPal payment method found"))&&window.confirm("You need to add a PayPal payment method to subscribe to paid tiers. Would you like to add one now?")&&n("/app/account/payment-methods")}},u=async f=>{try{await(l==null?void 0:l.app.channel.unsubscribeFromChannel(f)),await o.refreshProfile()}catch(m){console.error("Error cancelling subscription:",m)}},h=f=>{s(f);const m=new URLSearchParams(e.search);f.length>0?m.set("tags",f.map(y=>encodeURIComponent(y)).join(",")):m.delete("tags");const g=`${e.pathname}?${m.toString()}`;n(g,{replace:!0})};return t.jsxs(C,{sx:{width:"100%",overflow:"hidden"},children:[t.jsxs(C,{sx:{mb:3},children:[t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600},children:"Discover Channels"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Find and subscribe to channels from your favorite journalists"})]}),t.jsx(C,{sx:{mb:3},children:t.jsx(od,{selectedTags:r,onTagsChange:h,contentType:"channels",maxTags:3,showCounts:!1,horizontal:!0})}),t.jsx(C,{children:t.jsx(pB,{filters:r.length>0?{tags:r}:{},emptyTitle:"No channels found",emptyDescription:"No channels available at the moment",hasSubscription:i.hasSubscription,getSubscriptionTier:i.getSubscriptionTier,onJoin:d,onCancel:u})})]})};var _m={},xB=Ke;Object.defineProperty(_m,"__esModule",{value:!0});var LS=_m.default=void 0,gB=xB(Xe()),bB=t;LS=_m.default=(0,gB.default)((0,bB.jsx)("path",{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27z"}),"Layers");var Om={},yB=Ke;Object.defineProperty(Om,"__esModule",{value:!0});var $S=Om.default=void 0,vB=yB(Xe()),jB=t;$S=Om.default=(0,vB.default)((0,jB.jsx)("path",{d:"M11 14H9c0-4.97 4.03-9 9-9v2c-3.87 0-7 3.13-7 7m7-3V9c-2.76 0-5 2.24-5 5h2c0-1.66 1.34-3 3-3M7 4c0-1.11-.89-2-2-2s-2 .89-2 2 .89 2 2 2 2-.89 2-2m4.45.5h-2C9.21 5.92 7.99 7 6.5 7h-3C2.67 7 2 7.67 2 8.5V11h6V8.74c1.86-.59 3.25-2.23 3.45-4.24M19 17c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2m1.5 1h-3c-1.49 0-2.71-1.08-2.95-2.5h-2c.2 2.01 1.59 3.65 3.45 4.24V22h6v-2.5c0-.83-.67-1.5-1.5-1.5"}),"ConnectWithoutContact");var Mm={},SB=Ke;Object.defineProperty(Mm,"__esModule",{value:!0});var FS=Mm.default=void 0,wB=SB(Xe()),CB=t;FS=Mm.default=(0,wB.default)((0,CB.jsx)("path",{d:"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2zm-9-2h10V8H12zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"AccountBalanceWallet");var Nm={},PB=Ke;Object.defineProperty(Nm,"__esModule",{value:!0});var nl=Nm.default=void 0,EB=PB(Xe()),IB=t;nl=Nm.default=(0,EB.default)((0,IB.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Article");var Lm={},DB=Ke;Object.defineProperty(Lm,"__esModule",{value:!0});var BS=Lm.default=void 0,TB=DB(Xe()),AB=t;BS=Lm.default=(0,TB.default)((0,AB.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email");const RB={ACTIVE:"ACTIVE",TRENDING:"TRENDING",CLAIMED:"CLAIMED",CONVERTED:"CONVERTED",CLOSED:"CLOSED",EXPIRED:"EXPIRED",FUNDED:"FUNDED",CANCELLED:"CANCELLED",ARCHIVED:"ARCHIVED"},l0={COVER:"COVER",SUMMARY:"SUMMARY",AVATAR:"AVATAR",TEASER:"TEASER",INTRO:"INTRO",OUTRO:"OUTRO",OTHER:"OTHER"},So={IMAGE:"IMAGE",VIDEO:"VIDEO",AUDIO:"AUDIO",DOCUMENT:"DOCUMENT",URL:"URL",ARTICLE:"ARTICLE",OTHER:"OTHER"},id=({poll:e,onVote:n,userVote:r,showResults:s=!1,disabled:o=!1,showAsPreview:i=!1,mode:l="scroll"})=>{var v,E,w,I,D,T,R;const d=cn(),u=Pt(),[h,f]=x.useState(null),m=((v=e.stats)==null?void 0:v.totalVotes)||0,g=e.accessInfo&&!e.accessInfo.canAccess,y=e.media&&e.media.length>0?e.media[0]:null,b=_=>{o||f(_)},S=_=>{i&&!_.target.closest(".poll-option, .action-button")&&u(ge.APP_POLL_VIEW.replace(":id",String(e.id)))};return t.jsxs(C,{onClick:S,sx:{position:"relative",width:"100%",height:l==="grid"?"auto":"90vh",maxWidth:l==="scroll"?"480px":"100%",margin:l==="scroll"?"0 auto":0,aspectRatio:l==="grid"?"4/5":void 0,borderRadius:l==="grid"?3:4,overflow:"hidden",bgcolor:d.palette.mode==="dark"?"#000":"#111",boxShadow:"none",transition:"opacity 0.2s ease",cursor:i?"pointer":"default","&:hover":{opacity:i?.95:1}},children:[y&&t.jsxs(C,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:0},children:[y.format===So.VIDEO?t.jsx(C,{component:"video",src:y.url,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,sx:{width:"100%",height:"100%",objectFit:"cover",filter:"brightness(0.7)"}}):t.jsx(C,{component:"img",src:y.url,alt:y.caption||e.title,sx:{width:"100%",height:"100%",objectFit:"cover",filter:"brightness(0.7)"}}),t.jsx(C,{sx:{position:"absolute",top:0,left:0,right:0,height:"30%",background:"linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%)",zIndex:1}}),t.jsx(C,{sx:{position:"absolute",bottom:0,left:0,right:0,height:"60%",background:"linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0) 100%)",zIndex:1}})]}),!y&&t.jsx(C,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,background:`linear-gradient(135deg, ${ue(d.palette.primary.main,.8)} 0%, ${ue(d.palette.secondary.main,.8)} 100%)`,zIndex:0}}),t.jsxs(C,{sx:{position:"relative",zIndex:2,height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",p:2.5},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Sn,{sx:{width:40,height:40,bgcolor:d.palette.primary.main,border:"2px solid white",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"},children:(w=(E=e.creator)==null?void 0:E.displayName)==null?void 0:w.charAt(0).toUpperCase()}),t.jsxs(C,{sx:{ml:.5},children:[t.jsx(j,{variant:"body2",sx:{fontWeight:700,fontSize:"0.95rem",color:"white",textShadow:"0 1px 3px rgba(0,0,0,0.8)"},children:(I=e.creator)==null?void 0:I.displayName}),t.jsx(j,{variant:"caption",sx:{fontSize:"0.75rem",color:"rgba(255,255,255,0.9)",textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:Lr(new Date(e.createdAt),{addSuffix:!0})})]})]}),t.jsxs(pe,{direction:"row",spacing:.5,alignItems:"center",children:[((D=e.accessInfo)==null?void 0:D.requiresPremium)&&t.jsx(Qe,{icon:t.jsx(el,{sx:{fontSize:"0.875rem"}}),label:"Premium",size:"small",sx:{height:24,bgcolor:ue(d.palette.warning.main,.9),color:"white",fontWeight:700,fontSize:"0.7rem",backdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}}),e.isTrending&&t.jsx(Qe,{icon:t.jsx(bl,{sx:{fontSize:"0.875rem"}}),label:"Trending",size:"small",sx:{height:24,bgcolor:ue(d.palette.error.main,.9),color:"white",fontWeight:700,fontSize:"0.7rem",backdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}})]})]}),t.jsxs(C,{children:[t.jsx(C,{sx:{mb:2},children:t.jsx(j,{variant:"h5",sx:{fontWeight:800,fontSize:"1.5rem",color:"white",textShadow:"0 2px 8px rgba(0,0,0,0.9)",lineHeight:1.2},children:e.title})}),g?t.jsxs(ot,{elevation:3,sx:{p:3,textAlign:"center",bgcolor:ue(d.palette.warning.main,.15),backdropFilter:"blur(20px)",border:`2px solid ${ue(d.palette.warning.main,.4)}`,borderRadius:3,mb:2},children:[t.jsx(C,{sx:{width:60,height:60,borderRadius:"50%",bgcolor:ue(d.palette.warning.main,.2),display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",mb:2},children:t.jsx(el,{sx:{fontSize:30,color:"warning.light"}})}),t.jsx(j,{variant:"h6",gutterBottom:!0,fontWeight:"bold",color:"white",sx:{textShadow:"0 2px 4px rgba(0,0,0,0.8)"},children:"Premium Poll"}),t.jsx(j,{variant:"body2",color:"rgba(255,255,255,0.9)",sx:{mb:2,textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:((T=e.accessInfo)==null?void 0:T.reason)||"Subscribe to participate in this poll and view results."}),((R=e.accessInfo)==null?void 0:R.requiredTierName)&&t.jsx(Qe,{label:`Required: ${e.accessInfo.requiredTierName}`,size:"small",sx:{mb:2,bgcolor:ue(d.palette.info.main,.3),color:"white",fontWeight:600,backdropFilter:"blur(10px)",border:`1px solid ${ue(d.palette.info.light,.4)}`}}),t.jsx(he,{variant:"contained",color:"warning",size:"small",startIcon:t.jsx(Hd,{}),onClick:_=>{_.stopPropagation(),u(ge.APP_CHANNEL_VIEW.replace(":channelId",e.channelId))},sx:{px:3,py:1,borderRadius:2,fontWeight:"bold",textTransform:"none",fontSize:"0.875rem",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},children:"Subscribe Now"})]}):t.jsx(pe,{spacing:1.5,sx:{mb:2},children:e.options.map(_=>{const k=_.voteCount||0,N=m>0?k/m*100:0,$=r===_.id,G=h===_.id;return t.jsx(C,{className:"poll-option",onClick:L=>{L.preventDefault(),L.stopPropagation(),!s&&!o&&n&&n(String(e.id),_.id)},onMouseEnter:()=>b(_.id),onMouseLeave:()=>b(null),sx:{position:"relative",cursor:s||o?"default":"pointer",transition:"all 0.2s ease",transform:G?"scale(1.03)":"scale(1)",opacity:o?.6:1},children:t.jsxs(C,{sx:{position:"relative",display:"flex",alignItems:"center",px:2,py:1.5,borderRadius:2,backdropFilter:"blur(20px)",bgcolor:$?ue(d.palette.primary.main,.85):G?ue("#fff",.25):ue("#fff",.15),border:"1px solid",borderColor:$?ue(d.palette.primary.light,.5):ue("#fff",.3),boxShadow:$?"0 4px 20px rgba(0,0,0,0.4)":"0 2px 10px rgba(0,0,0,0.2)",overflow:"hidden",transition:"all 0.2s ease"},children:[s&&t.jsx(C,{sx:{position:"absolute",left:0,top:0,bottom:0,width:`${N}%`,bgcolor:ue(d.palette.primary.main,.4),transition:"width 0.5s ease",zIndex:0}}),t.jsx(C,{sx:{position:"relative",zIndex:1,width:20,height:20,minWidth:20,minHeight:20,flexShrink:0,borderRadius:"50%",border:"2px solid white",mr:1.5,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:$?"white":"transparent",transition:"all 0.2s ease",boxShadow:"0 1px 3px rgba(0,0,0,0.3)"},children:$&&t.jsx(C,{sx:{width:10,height:10,borderRadius:"50%",bgcolor:d.palette.primary.main}})}),t.jsx(j,{variant:"body1",sx:{position:"relative",zIndex:1,flex:1,fontWeight:$?700:600,fontSize:"1rem",color:"white",textShadow:"0 1px 3px rgba(0,0,0,0.8)",wordBreak:"break-word"},children:_.text}),s&&t.jsxs(j,{variant:"body2",sx:{position:"relative",zIndex:1,fontWeight:700,fontSize:"0.95rem",color:"white",textShadow:"0 1px 3px rgba(0,0,0,0.8)",flexShrink:0,ml:1},children:[N.toFixed(0),"%"]}),$&&!s&&t.jsx(Xa,{sx:{position:"relative",zIndex:1,ml:1,color:"white",fontSize:"1.25rem",flexShrink:0,filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.5))"}})]})},_.id)})}),e.tags&&e.tags.length>0&&t.jsx(pe,{direction:"row",spacing:.5,sx:{mt:1.5,flexWrap:"wrap",gap:.5},children:e.tags.slice(0,3).map(_=>t.jsx(Qe,{label:`#${_.name}`,size:"small",sx:{height:22,fontSize:"0.7rem",fontWeight:600,bgcolor:ue("#fff",.15),backdropFilter:"blur(10px)",color:"white",border:"1px solid",borderColor:ue("#fff",.2),textShadow:"0 1px 2px rgba(0,0,0,0.5)","&:hover":{bgcolor:ue("#fff",.25)}}},_.id))})]})]})]})};var $m={},kB=Ke;Object.defineProperty($m,"__esModule",{value:!0});var WS=$m.default=void 0,_B=kB(Xe()),OB=t;WS=$m.default=(0,_B.default)((0,OB.jsx)("path",{d:"M1 21h4V9H1zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73z"}),"ThumbUp");const MB=({count:e=2})=>t.jsx(pe,{spacing:2,sx:{mt:2},children:[...Array(e)].map((n,r)=>t.jsxs(C,{sx:{p:2,borderRadius:2,bgcolor:s=>s.palette.mode==="dark"?ue(s.palette.common.white,.05):ue(s.palette.common.black,.03)},children:[t.jsx(C,{sx:{height:24,width:"40%",mb:2,borderRadius:.5,bgcolor:"grey.300"}}),t.jsx(pe,{spacing:2,children:[...Array(4)].map((s,o)=>t.jsx(C,{sx:{height:40,borderRadius:1,bgcolor:i=>i.palette.mode==="dark"?ue(i.palette.common.white,.1):ue(i.palette.common.black,.1)}},o))})]},r))}),VS=({filters:e={},emptyTitle:n="No polls found",emptyDescription:r="No polls available at the moment",itemsPerPage:s=10,mode:o="scroll"})=>{const[i,l]=x.useState([]),[d,u]=x.useState(!0),[h,f]=x.useState(1),[m,g]=x.useState(!0),[y,b]=x.useState({}),[S,v]=x.useState({}),{api:E}=Je(),{execute:w}=et(),{execute:I}=et(),{showNotification:D}=Pp(),T=cn(),R=async(N=h)=>{try{u(!0);const $=await w(()=>E==null?void 0:E.app.poll.getPolls(e,{page:N,limit:s}),{showErrorToast:!0});if($){l(N===1?$.items:L=>[...L,...$.items]),f($.metadata.currentPage),g($.metadata.hasNext===!0);const G={};$.items.forEach(L=>{G[String(L.id)]=L.isBookmarked||!1}),b(L=>({...L,...G}))}}finally{u(!1)}},_=async(N,$)=>{if($.stopPropagation(),S[N])return;const G=y[N]||!1;b(L=>({...L,[N]:!G})),v(L=>({...L,[N]:!0}));try{G?(await I(()=>E.app.bookmark.unbookmarkPoll(N),{showErrorToast:!0}),D("Bookmark removed","success")):(await I(()=>E.app.bookmark.bookmarkPoll(N),{showErrorToast:!0}),D("Poll bookmarked","success"))}catch{b(H=>({...H,[N]:G})),D("Failed to update bookmark","error")}finally{v(L=>({...L,[N]:!1}))}};x.useEffect(()=>{l([]),f(1),R(1)},[JSON.stringify(e)]);const k=()=>{!d&&m&&R(h+1)};return i.length===0&&!d?t.jsx(so,{title:n,description:r}):o==="grid"?t.jsx(C,{sx:{width:"100%"},children:t.jsx(js,{dataLength:i.length,next:k,hasMore:m,loader:t.jsx(C,{}),children:t.jsx(F,{container:!0,spacing:3,children:i.map(N=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(id,{poll:N,showAsPreview:!0,mode:"grid"})},N.id))})})}):t.jsx(C,{id:"polls-scroll-container",sx:{width:"100%",height:"100%",display:"flex",justifyContent:"center",overflowY:"scroll",scrollSnapType:"y mandatory",scrollBehavior:"smooth","&::-webkit-scrollbar":{display:"none"},msOverflowStyle:"none",scrollbarWidth:"none",px:{xs:2,sm:0}},children:t.jsx(C,{sx:{width:"100%",maxWidth:480},children:d&&i.length===0?t.jsx(MB,{}):t.jsx(js,{dataLength:i.length,next:k,hasMore:m,loader:t.jsx(C,{}),scrollableTarget:"polls-scroll-container",endMessage:t.jsx(C,{sx:{textAlign:"center",py:4,color:"text.secondary",fontSize:"0.875rem",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:"No more polls to display"}),style:{overflow:"visible",paddingBottom:"64px"},children:i.map(N=>{var G,L,H;const $=((G=N.stats)==null?void 0:G.totalVotes)||0;return t.jsxs(C,{sx:{position:"relative",scrollSnapAlign:"start",scrollSnapStop:"always",height:"calc(100vh - 64px)",display:"flex",alignItems:"center",justifyContent:"center"},children:[t.jsx(id,{poll:N,showAsPreview:!0,mode:"scroll"}),t.jsxs(C,{sx:{position:"absolute",right:{xs:8,sm:-60},bottom:"5vh",display:"flex",flexDirection:"column",alignItems:"center",gap:2.5,zIndex:10},children:[N.isTrending&&t.jsx(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:t.jsx(Qe,{icon:t.jsx(bl,{sx:{fontSize:"0.875rem"}}),label:"Trending",size:"small",sx:{height:28,bgcolor:ue(T.palette.error.main,.9),color:"white",fontWeight:700,fontSize:"0.75rem",backdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}})}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[t.jsx(Ne,{className:"action-button",size:"medium",onClick:K=>{K.stopPropagation()},sx:{bgcolor:T.palette.mode==="dark"?ue("#fff",.2):ue("#000",.6),backdropFilter:"blur(10px)",color:"white",boxShadow:T.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)","&:hover":{bgcolor:ue(T.palette.primary.main,.8),transform:"scale(1.1)"},transition:"all 0.2s ease",width:48,height:48},children:t.jsx(WS,{sx:{fontSize:"1.5rem"}})}),t.jsx(j,{variant:"caption",sx:{color:"white",fontWeight:700,fontSize:"0.75rem",mt:.5,textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:$>999?`${($/1e3).toFixed(1)}K`:$})]}),t.jsx(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:t.jsx(Ne,{className:"action-button",size:"medium",onClick:K=>_(String(N.id),K),disabled:S[String(N.id)],sx:{bgcolor:T.palette.mode==="dark"?ue("#fff",.2):ue("#000",.6),backdropFilter:"blur(10px)",color:"white",boxShadow:T.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)","&:hover":{bgcolor:ue(T.palette.primary.main,.8),transform:"scale(1.1)"},"&:disabled":{bgcolor:T.palette.mode==="dark"?ue("#fff",.1):ue("#000",.4)},transition:"all 0.2s ease",width:48,height:48},children:S[String(N.id)]?t.jsx(sn,{size:20,sx:{color:"white"}}):y[String(N.id)]?t.jsx(ci,{sx:{fontSize:"1.5rem",color:T.palette.primary.light}}):t.jsx(Vd,{sx:{fontSize:"1.5rem"}})})}),t.jsx(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:t.jsx(Ne,{className:"action-button",size:"medium",onClick:K=>{K.stopPropagation()},sx:{bgcolor:T.palette.mode==="dark"?ue("#fff",.2):ue("#000",.6),backdropFilter:"blur(10px)",color:"white",boxShadow:T.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)","&:hover":{bgcolor:T.palette.mode==="dark"?ue("#fff",.3):ue("#000",.7),transform:"scale(1.1)"},transition:"all 0.2s ease",width:48,height:48},children:t.jsx(Ud,{sx:{fontSize:"1.5rem"}})})}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[t.jsx(C,{sx:{bgcolor:T.palette.mode==="dark"?ue("#fff",.2):ue("#000",.6),backdropFilter:"blur(10px)",borderRadius:"50%",width:48,height:48,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:T.palette.mode==="dark"?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.5)"},children:t.jsx(ha,{sx:{fontSize:"1.5rem",color:"white",filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.5))"}})}),t.jsx(j,{variant:"caption",sx:{color:"white",fontWeight:700,fontSize:"0.75rem",mt:.5,textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:((L=N.stats)==null?void 0:L.viewCount)>999?`${(N.stats.viewCount/1e3).toFixed(1)}K`:((H=N.stats)==null?void 0:H.viewCount)||0})]})]})]},N.id)})})})})},NB=({planId:e,channelId:n,tierName:r,tierId:s,onSuccess:o,onError:i,onCancel:l,disabled:d=!1})=>{const[u,h]=Tt.useState(!0),{api:f}=Je(),m="AUvVGkHGJD8OKekE_4XxFzzKL8a8yLtJ3ZG1woE3OobNy57zyofuPIiUo-zZag0O_L1KPB_u4TB0tuJp";return e?t.jsx(C,{sx:{minHeight:50},children:t.jsxs(OS,{options:{clientId:m,vault:!0,intent:"subscription",currency:"USD"},children:[u&&t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:2},children:t.jsx(sn,{size:24})}),t.jsx(Gd,{style:{layout:"vertical",color:"gold",shape:"rect",label:"subscribe"},disabled:d,onInit:()=>{h(!1)},createSubscription:(g,y)=>(console.log("Creating PayPal subscription for plan:",e),y.subscription.create({plan_id:e,custom_id:`${n}_${s}`,application_context:{shipping_preference:"NO_SHIPPING",user_action:"SUBSCRIBE_NOW"}})),onApprove:async g=>{console.log("PayPal subscription approved:",{subscriptionID:g.subscriptionID,orderID:g.orderID,tierName:r});try{await(f==null?void 0:f.app.subscription.activatePayPalSubscription(n,{tierId:s,paypalSubscriptionId:g.subscriptionID})),o(r,s)}catch(y){console.error("Failed to activate subscription:",y),i(new Error("Failed to activate subscription. Please contact support."))}},onCancel:()=>{console.log("PayPal subscription cancelled by user"),l==null||l()},onError:g=>{console.error("PayPal subscription error:",g),i(new Error(typeof g=="string"?g:"PayPal subscription failed"))}})]})}):t.jsx(dt,{severity:"warning",sx:{borderRadius:2},children:"PayPal plan not configured for this tier. Please contact the channel owner."})},LB=()=>{var ee,Ce,Ae,Be,ye,ie,le;const[e,n]=x.useState(null),[r,s]=x.useState(!0),[o,i]=x.useState(!1),[l,d]=x.useState([]),[u,h]=x.useState([]),[f,m]=x.useState(""),[g,y]=x.useState(""),[b,S]=x.useState(0),[v,E]=x.useState(!1),[w,I]=x.useState(null),{id:D}=is(),T=Pt(),{api:R}=Je(),{profile:_,channelRelations:{hasSubscription:k,getSubscriptionTier:N},actions:{refreshProfile:$}}=Cs(),{execute:G}=et(),L=k(D??""),H=(ee=N(D??""))==null?void 0:ee.id;console.log("ViewChannel Debug:",{channelId:D,isMember:L,currentTierId:H,subscriptions:_==null?void 0:_.subscriptions,profileLoaded:!!_}),x.useEffect(()=>{(async()=>{if(!D)return;const xe=await G(()=>R==null?void 0:R.app.channel.getChannel(D),{showErrorToast:!0});xe&&n(xe),s(!1)})()},[D,G,R==null?void 0:R.app.channel]);const K=se=>{d(se)},J=se=>{h(se)},q=se=>{se.preventDefault(),m(g.trim())},Q=()=>{y(""),m("")},Y=async se=>{var fe,ke;if(!e||!se)return;const xe=(fe=e.tiers)==null?void 0:fe.find(ne=>ne.id===se);if(xe&&xe.price===0){i(!0);try{await((ke=R==null?void 0:R.app.subscription)==null?void 0:ke.createDirectSubscription(e.id,{tierId:se}))&&await $(),i(!1)}catch(ne){console.error("Subscription failed:",ne),i(!1)}}},oe=se=>{se.price===0?Y(se.id):(I(se),E(!0))},V=async(se,xe)=>{console.log("PayPal subscription approved:",{tierName:se,tierId:xe}),await $(),E(!1),I(null)},Z=se=>{console.error("PayPal subscription error:",se),alert(`Subscription failed: ${se.message}`)},Ee=()=>{console.log("PayPal subscription cancelled")},be=async se=>{var ke,ne,_e;if(!e||!((ke=e.tiers)==null?void 0:ke.find(ce=>ce.id===se)))return;const fe=(ne=_==null?void 0:_.subscriptions)==null?void 0:ne.find(ce=>ce.channelId===e.id);if(fe)try{await((_e=R==null?void 0:R.app.subscription)==null?void 0:_e.cancelUserSubscription(fe.id))}catch(ce){console.error("Failed to cancel existing subscription:",ce)}await Y(se)},ae=async()=>{var fe;if(!e)return;const se=(fe=_==null?void 0:_.subscriptions)==null?void 0:fe.find(ke=>ke.channelId===e.id);if(!se){console.error("No active subscription found for this channel");return}await G(()=>R==null?void 0:R.app.subscription.cancelUserSubscription(se.id),{showSuccessMessage:!0,successMessage:"Membership cancelled successfully!"})&&(console.log("Cancellation successful, refreshing profile..."),await $())};return r?t.jsx(C,{sx:{bgcolor:"background.default",minHeight:"100vh"},children:t.jsxs(It,{maxWidth:"lg",children:[t.jsxs(C,{sx:{position:"relative",mb:8},children:[t.jsx(de,{variant:"rectangular",sx:{height:{xs:150,md:200},borderRadius:3}}),t.jsx(C,{sx:{position:"absolute",bottom:-50,left:"50%",transform:"translateX(-50%)"},children:t.jsx(de,{variant:"circular",sx:{width:{xs:100,md:128},height:{xs:100,md:128},border:"4px solid",borderColor:"background.paper"}})})]}),t.jsx(ot,{elevation:0,sx:{mb:4,p:4,borderRadius:3,border:"1px solid",borderColor:"divider"},children:t.jsxs(C,{sx:{textAlign:"center",pt:3},children:[t.jsx(de,{variant:"text",width:"40%",sx:{mb:2,fontSize:"2.5rem"}}),t.jsxs(pe,{direction:"row",spacing:2,justifyContent:"center",sx:{mb:3},children:[t.jsx(de,{variant:"rounded",width:150,height:32}),t.jsx(de,{variant:"rounded",width:100,height:32})]}),t.jsx(de,{variant:"text",width:"70%",sx:{mb:1}}),t.jsx(de,{variant:"text",width:"60%",sx:{mb:4}}),t.jsx(de,{variant:"rounded",width:180,height:48,sx:{borderRadius:50}})]})}),t.jsxs(C,{sx:{mb:6},children:[t.jsx(de,{variant:"text",width:"40%",sx:{mb:4,fontSize:"2rem"}}),t.jsx(F,{container:!0,spacing:3,children:[...Array(3)].map((se,xe)=>t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(Fe,{elevation:2,sx:{borderRadius:3,overflow:"hidden"},children:[t.jsx(de,{variant:"rectangular",height:120}),t.jsxs(Ve,{sx:{p:3},children:[t.jsx(de,{variant:"text",width:"60%",sx:{mx:"auto",mb:2,fontSize:"2rem"}}),t.jsx(de,{variant:"text",width:"80%",sx:{mb:1}}),t.jsx(de,{variant:"text",width:"70%",sx:{mb:1}}),t.jsx(de,{variant:"text",width:"75%",sx:{mb:3}}),t.jsx(de,{variant:"rounded",height:48,sx:{borderRadius:50}})]})]})},xe))})]})]})}):e?t.jsxs(C,{sx:{bgcolor:"background.default",minHeight:"100vh"},children:[t.jsxs(It,{maxWidth:"lg",children:[t.jsxs(C,{sx:{position:"relative",mb:8},children:[t.jsx(C,{sx:{height:{xs:150,md:200},backgroundImage:e!=null&&e.bannerUrl?`url(${e.bannerUrl})`:void 0,background:e!=null&&e.bannerUrl?void 0:se=>`linear-gradient(135deg, ${se.palette.primary.main} 0%, ${se.palette.primary.light} 100%)`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:3,position:"relative"}}),t.jsx(C,{sx:{position:"absolute",bottom:-50,left:"50%",transform:"translateX(-50%)"},children:t.jsx(Sn,{src:e.logoUrl,sx:{width:{xs:100,md:128},height:{xs:100,md:128},border:"4px solid",borderColor:"background.paper",boxShadow:3}})})]}),t.jsx(ot,{elevation:0,sx:{mb:4,p:{xs:3,md:4},borderRadius:3,border:"1px solid",borderColor:"divider"},children:t.jsxs(C,{sx:{textAlign:"center",pt:3},children:[t.jsx(j,{variant:"h3",gutterBottom:!0,sx:{fontWeight:700,fontSize:{xs:"2rem",md:"2.5rem"},color:"text.primary",mb:1},children:e.name}),t.jsxs(pe,{direction:"row",spacing:2,justifyContent:"center",sx:{mb:3},children:[t.jsx(Qe,{icon:t.jsx(Rm,{}),label:`${(Ae=(Ce=e.stats)==null?void 0:Ce.activeSubscriptionCount)==null?void 0:Ae.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1})} subscribers`,sx:{fontWeight:600,bgcolor:ue("#0b6cff",.1),color:"#0b6cff","& .MuiChip-icon":{color:"#0b6cff"}}}),t.jsx(Qe,{icon:t.jsx(LS,{}),label:`${((Be=e.tiers)==null?void 0:Be.length)||0} tiers`,sx:{fontWeight:600,bgcolor:ue("#589aff",.1),color:"#589aff","& .MuiChip-icon":{color:"#589aff"}}})]}),t.jsx(j,{variant:"body1",sx:{mb:4,maxWidth:800,color:"text.secondary",lineHeight:1.8,fontSize:"1.1rem"},children:e.description}),t.jsx(he,{variant:L?"outlined":"contained",size:"large",onClick:()=>{var se,xe;return L?ae():Y((xe=(se=e==null?void 0:e.tiers)==null?void 0:se.find(fe=>fe.isDefault))==null?void 0:xe.id)},disabled:o,startIcon:o&&t.jsx(sn,{size:20,color:"inherit"}),sx:{px:4,py:1.5,borderRadius:50,fontSize:"1rem",fontWeight:600,textTransform:"none",boxShadow:L?"none":"0 4px 14px 0 rgba(11, 108, 255, 0.39)","&:hover":{boxShadow:L?"none":"0 6px 20px rgba(11, 108, 255, 0.5)"}},children:o?"Processing...":L?"Cancel Membership":"Join Channel"})]})}),t.jsxs(ot,{elevation:0,sx:{mb:4,borderRadius:3,border:"1px solid",borderColor:"divider",overflow:"hidden"},children:[t.jsxs($s,{value:b,onChange:(se,xe)=>S(xe),variant:"scrollable",scrollButtons:"auto",sx:{borderBottom:1,borderColor:"divider","& .MuiTab-root":{textTransform:"none",fontWeight:600,fontSize:"1rem",minHeight:64}},children:[t.jsx(Mn,{icon:t.jsx(nl,{}),iconPosition:"start",label:"News"}),t.jsx(Mn,{icon:t.jsx(Md,{}),iconPosition:"start",label:"Polls"}),t.jsx(Mn,{icon:t.jsx(Qa,{}),iconPosition:"start",label:"Contribute"}),t.jsx(Mn,{icon:t.jsx($S,{}),iconPosition:"start",label:"Connect"}),t.jsx(Mn,{icon:t.jsx(FS,{}),iconPosition:"start",label:"Budget"}),t.jsx(Mn,{icon:t.jsx(Ld,{}),iconPosition:"start",label:"About"})]}),t.jsxs(C,{sx:{p:4},children:[b===0&&t.jsxs(C,{children:[t.jsxs(C,{sx:{mb:3},children:[t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:1},children:"Channel News"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Latest news from this channel"}),t.jsx(od,{selectedTags:l,onTagsChange:K,contentType:"news",maxTags:5,showCounts:!1,horizontal:!0})]}),t.jsx(wf,{filters:{channel:e==null?void 0:e.id,...l.length>0&&{tags:l}},emptyTitle:"No news published yet",emptyDescription:"This channel hasn't published any news articles yet",showSearch:!0,mode:"grid"})]}),b===1&&t.jsxs(C,{children:[t.jsxs(C,{sx:{mb:3},children:[t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:1},children:"Channel Polls"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Vote on polls from this channel"}),t.jsx(C,{sx:{mb:3},children:t.jsx("form",{onSubmit:q,children:t.jsx(nt,{fullWidth:!0,placeholder:"Search polls by question or content...",value:g,onChange:se=>y(se.target.value),InputProps:{startAdornment:t.jsx(os,{position:"start",children:t.jsx(Od,{color:"action"})}),endAdornment:g&&t.jsx(os,{position:"end",children:t.jsx(Ne,{size:"small",onClick:Q,edge:"end",children:t.jsx(dm,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"background.paper"}}})})}),t.jsx(od,{selectedTags:u,onTagsChange:J,contentType:"polls",maxTags:5,showCounts:!1,horizontal:!0})]}),t.jsx(C,{children:t.jsx(VS,{filters:{channel:e==null?void 0:e.id,...u.length>0&&{tags:u},...f&&{query:f}},emptyTitle:"No polls found",emptyDescription:"This channel hasn't created any polls yet",mode:"grid"})})]}),b===2&&t.jsx(C,{children:t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"Become a financial contributor"})}),b===3&&t.jsxs(C,{children:[t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"Connect with us"}),t.jsx(pe,{spacing:2,children:t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(Ne,{color:"primary",size:"small",children:t.jsx(BS,{})}),t.jsx(j,{children:"Contact via membership"})]})})]}),b===4&&t.jsxs(C,{children:[t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"Budget"}),t.jsx(j,{color:"text.secondary",children:"Financial information will be displayed here"})]}),b===5&&t.jsxs(C,{children:[t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"About"}),t.jsxs(pe,{spacing:3,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"DESCRIPTION"}),t.jsx(j,{variant:"body1",sx:{lineHeight:1.8},children:e.description})]}),t.jsx(Mt,{}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"STATISTICS"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:6,md:3,children:t.jsxs(ot,{variant:"outlined",sx:{p:2,textAlign:"center"},children:[t.jsx(j,{variant:"h4",color:"primary",sx:{fontWeight:700},children:((ye=e.stats)==null?void 0:ye.activeSubscriptionCount)||0}),t.jsx(j,{variant:"caption",color:"text.secondary",children:"Subscribers"})]})}),t.jsx(F,{item:!0,xs:6,md:3,children:t.jsxs(ot,{variant:"outlined",sx:{p:2,textAlign:"center"},children:[t.jsx(j,{variant:"h4",color:"primary",sx:{fontWeight:700},children:((ie=e.tiers)==null?void 0:ie.length)||0}),t.jsx(j,{variant:"caption",color:"text.secondary",children:"Tiers"})]})})]})]})]})]})]})]}),b===2&&t.jsxs(C,{sx:{mb:6},children:[t.jsx(j,{variant:"h4",gutterBottom:!0,sx:{fontSize:{xs:"1.75rem",md:"2rem"},fontWeight:700,mb:4,textAlign:"center"},children:"Membership Tiers"}),t.jsx(F,{container:!0,spacing:3,children:(le=e.tiers)==null?void 0:le.map(se=>t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(Fe,{elevation:H===se.id?8:2,sx:{height:"100%",display:"flex",flexDirection:"column",borderRadius:3,overflow:"hidden",transition:"all 0.3s ease",border:H===se.id?"2px solid #0b6cff":"1px solid #e0e0e0","&:hover":{transform:"translateY(-8px)",boxShadow:"0 12px 24px rgba(0,0,0,0.15)"}},children:[t.jsxs(C,{sx:{height:120,background:H===se.id?"linear-gradient(135deg, #0b6cff 0%, #589aff 100%)":"linear-gradient(135deg, #589aff 0%, #7bb0ff 100%)",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",p:3},children:[H===se.id&&t.jsx(Qe,{label:"CURRENT PLAN",size:"small",sx:{position:"absolute",top:12,right:12,bgcolor:"white",color:"#0b6cff",fontWeight:700,fontSize:"0.7rem"}}),!H&&se.isDefault&&t.jsx(Qe,{label:"POPULAR",size:"small",sx:{position:"absolute",top:12,right:12,bgcolor:"white",color:"#589aff",fontWeight:700,fontSize:"0.7rem"}}),t.jsx(j,{variant:"h5",sx:{color:"white",fontWeight:700,textAlign:"center"},children:se.name})]}),t.jsxs(Ve,{sx:{flexGrow:1,p:3,display:"flex",flexDirection:"column"},children:[t.jsx(C,{sx:{mb:3,textAlign:"center"},children:t.jsxs(j,{variant:"h3",sx:{fontWeight:700,color:"text.primary",display:"flex",alignItems:"baseline",justifyContent:"center",gap:.5},children:[t.jsx(j,{component:"span",sx:{fontSize:"1.5rem",fontWeight:500},children:"$"}),se.price,t.jsx(j,{component:"span",sx:{fontSize:"1rem",fontWeight:400,color:"text.secondary"},children:"/month"})]})}),t.jsx(Mt,{sx:{mb:3}}),t.jsx(j,{variant:"body2",sx:{mb:3,color:"text.secondary",minHeight:60,lineHeight:1.7,flexGrow:1},children:se.description}),H===se.id?t.jsx(he,{variant:"outlined",fullWidth:!0,size:"large",disabled:!0,sx:{py:1.5,borderRadius:50,textTransform:"none",fontWeight:600,fontSize:"1rem"},children:"Current Plan"}):t.jsx(he,{variant:"contained",fullWidth:!0,size:"large",onClick:()=>L?be(se.id):oe(se),disabled:o,sx:{py:1.5,borderRadius:50,textTransform:"none",fontWeight:600,fontSize:"1rem",boxShadow:"0 4px 12px rgba(11, 108, 255, 0.3)","&:hover":{boxShadow:"0 6px 16px rgba(11, 108, 255, 0.4)"}},startIcon:o&&t.jsx(sn,{size:20,color:"inherit"}),children:o?"Processing...":L?"Switch to This Plan":se.price===0?"Join Free":"Subscribe"})]})]})},se.id))})]})]}),t.jsxs(Kt,{open:v,onClose:()=>E(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsxs(tn,{children:["Subscribe to ",w==null?void 0:w.name]}),t.jsx(Jt,{children:w&&t.jsxs(C,{children:[t.jsxs(C,{sx:{mb:3},children:[t.jsxs(j,{variant:"h5",sx:{fontWeight:600,mb:1},children:[new Intl.NumberFormat("en-US",{style:"currency",currency:w.currency.toUpperCase()}).format(w.price/100),t.jsx(j,{component:"span",variant:"body2",color:"text.secondary",children:"/month"})]}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:w.description})]}),t.jsx(Mt,{sx:{my:2}}),t.jsx(j,{variant:"subtitle2",sx:{mb:2,fontWeight:600},children:"Select Payment Method:"}),w.paymentConfigs&&w.paymentConfigs.length>0?t.jsx(C,{sx:{display:"flex",flexDirection:"column",gap:2},children:w.paymentConfigs.map(se=>{var xe;return((xe=se.provider)==null?void 0:xe.code)==="paypal"&&se.isActive?t.jsx(C,{children:t.jsx(NB,{planId:se.providerPlanId,channelId:e.id,tierName:w.name,tierId:w.id,onSuccess:V,onError:Z,onCancel:Ee,disabled:o})},se.id):null})}):t.jsx(j,{variant:"body2",color:"error",children:"No payment methods configured for this tier. Please contact the channel owner."})]})}),t.jsx(Xt,{children:t.jsx(he,{onClick:()=>E(!1),children:"Cancel"})})]})]}):t.jsx(C,{sx:{bgcolor:"background.default",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(It,{maxWidth:"sm",children:t.jsxs(ot,{elevation:3,sx:{p:6,borderRadius:3,textAlign:"center"},children:[t.jsx(j,{variant:"h4",gutterBottom:!0,sx:{fontWeight:700,color:"text.primary"},children:"Channel not found"}),t.jsx(j,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"The channel you're looking for doesn't exist or has been removed."}),t.jsx(he,{variant:"contained",onClick:()=>T("/app"),sx:{borderRadius:50,px:4,py:1.5,textTransform:"none",fontWeight:600},children:"Go Home"})]})})})},$B=()=>t.jsx(C,{sx:{width:"100%",height:"100vh",overflow:"hidden",display:"flex",flexDirection:"column",position:"fixed",top:64,left:0,right:0,bottom:0,margin:0,padding:0,zIndex:1},children:t.jsx(C,{sx:{flex:1,overflow:"hidden"},children:t.jsx(VS,{filters:{},emptyTitle:"No polls found",emptyDescription:"There are no polls available at the moment.",mode:"scroll"})})}),FB=({poll:e,onVote:n,userVote:r,showResults:s=!1,disabled:o=!1})=>{var f;const i=cn(),[l,d]=x.useState(null),u=((f=e.stats)==null?void 0:f.totalVotes)||0,h=m=>{o||d(m)};return t.jsx(C,{children:t.jsx(pe,{spacing:2,sx:{mb:2},children:e.options.map(m=>{const g=m.voteCount||0,y=u>0?g/u*100:0,b=r===m.id,S=l===m.id;return t.jsxs(C,{onClick:v=>{v.preventDefault(),v.stopPropagation(),!s&&!o&&n&&n(String(e.id),m.id)},onMouseEnter:()=>h(m.id),onMouseLeave:()=>h(null),sx:{position:"relative",cursor:s||o?"default":"pointer",transition:"all 0.2s ease",transform:S?"translateX(4px)":"none",opacity:o?.6:1},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:.5,px:2,py:1.5,border:"1px solid",borderColor:b?"primary.main":S?ue(i.palette.primary.main,.5):"divider",borderRadius:1,bgcolor:b?ue(i.palette.primary.main,.05):"transparent",transition:"all 0.2s ease","&:hover":!s&&!o&&{borderColor:"primary.main",boxShadow:`0 2px 8px ${ue(i.palette.primary.main,.15)}`}},children:[t.jsx(C,{sx:{width:24,height:24,minWidth:24,minHeight:24,flexShrink:0,borderRadius:"50%",border:"2px solid",borderColor:b?"primary.main":S?ue(i.palette.primary.main,.5):"divider",mr:2,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:b&&t.jsx(C,{sx:{width:12,height:12,borderRadius:"50%",bgcolor:"primary.main"}})}),t.jsx(j,{variant:"body1",sx:{flex:1,fontWeight:b?600:400,color:b?"primary.main":"text.primary",wordBreak:"break-word"},children:m.text}),s&&t.jsxs(C,{sx:{display:"flex",alignItems:"center",ml:2,minWidth:80,justifyContent:"flex-end",flexShrink:0},children:[t.jsxs(j,{variant:"body2",sx:{fontWeight:600,color:b?"primary.main":"text.secondary",mr:1},children:[y.toFixed(1),"%"]}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["(",g,")"]})]}),b&&!s&&t.jsx(Xa,{sx:{ml:1,color:"primary.main",fontSize:"1.2rem",flexShrink:0}})]}),s&&t.jsx(Ga,{variant:"determinate",value:y,sx:{height:8,borderRadius:4,bgcolor:ue(i.palette.primary.main,.1),"& .MuiLinearProgress-bar":{borderRadius:4,bgcolor:b?"primary.main":ue(i.palette.primary.main,.6)}}})]},m.id)})})})};var Fm={},BB=Ke;Object.defineProperty(Fm,"__esModule",{value:!0});var US=Fm.default=void 0,WB=BB(Xe()),VB=t;US=Fm.default=(0,WB.default)((0,VB.jsx)("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4zM18 14H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"}),"Comment");const UB=()=>t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx(Fe,{children:t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[t.jsx(de,{variant:"text",width:"60%",height:40}),t.jsx(pe,{direction:"row",spacing:1,children:[1,2].map(e=>t.jsx(de,{variant:"circular",width:40,height:40},e))})]}),t.jsxs(pe,{spacing:2,sx:{mb:3},children:[t.jsx(de,{variant:"text",width:"100%"}),t.jsx(de,{variant:"text",width:"95%"}),t.jsx(de,{variant:"text",width:"90%"})]}),t.jsx(pe,{spacing:2,children:[1,2,3,4].map(e=>t.jsx(de,{variant:"rectangular",height:60,sx:{borderRadius:1}},e))})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsx(de,{variant:"text",width:"50%",height:32,sx:{mb:2}}),t.jsx(pe,{spacing:2,children:[1,2,3].map(e=>t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[t.jsx(de,{variant:"text",width:"40%"}),t.jsx(de,{variant:"text",width:"20%"})]}),t.jsx(de,{variant:"rectangular",width:"100%",height:8,sx:{borderRadius:1}})]},e))})]})})})]})}),zB=()=>{var K,J,q;const{id:e}=is(),{api:n}=Je(),r=cn(),[s,o]=x.useState(null),[i,l]=x.useState(!0),[d,u]=x.useState(null),[h,f]=x.useState(!1),[m,g]=x.useState(null),[y,b]=x.useState(null),{execute:S}=et(),[v,E]=x.useState(!1),[w,I]=x.useState(null),[D,T]=x.useState(!1),R=(s==null?void 0:s.isPremium)&&(s==null?void 0:s.accessInfo)&&!s.accessInfo.canAccess,_=async Q=>{try{T(!0);const Y=await(n==null?void 0:n.app.funding.getFund("poll",Q));I(Y)}catch(Y){console.error("Failed to load fund data:",Y)}finally{T(!1)}};x.useEffect(()=>{(async()=>{if(!e)return;l(!0);const Y=await S(()=>n==null?void 0:n.app.poll.get(e),{showErrorToast:!0});if(Y){o(Y);const oe=await S(()=>n==null?void 0:n.app.poll.getUserVote(e),{showErrorToast:!1});oe!=null&&oe.optionId&&u(oe.optionId);const V=await S(()=>n==null?void 0:n.app.poll.checkVotingEligibility(e),{showErrorToast:!1});V&&b(V),_(e)}l(!1)})()},[e,S]);const k=async(Q,Y)=>{if(!(y!=null&&y.canVote)){g((y==null?void 0:y.reason)||"You cannot vote on this poll");return}if(await S(()=>n==null?void 0:n.app.poll.vote(Q,{optionId:Y}),{showSuccessMessage:!0,successMessage:"Vote recorded successfully!"})){u(Y);const V=await S(()=>n==null?void 0:n.app.poll.get(Q),{showErrorToast:!0});V&&o(V)}},N=()=>{navigator.share?navigator.share({title:s==null?void 0:s.title,text:s==null?void 0:s.description,url:window.location.href}).catch(console.error):navigator.clipboard.writeText(window.location.href)},$=()=>{f(!h)},G=async()=>{E(!0)},L=async Q=>{e&&await _(e),console.log("Contribution successful:",Q)},H=()=>!s||!w?null:{id:w.id,title:s.title,currentAmount:w.currentAmount/100,goalAmount:w.goalAmount?w.goalAmount/100:void 0,currency:w.currency,contributorCount:0,description:"Support quality journalism by funding this poll"};return i?t.jsx(UB,{}):s?t.jsxs(It,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsx(C,{sx:{mb:3},children:t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap"},children:[t.jsxs(C,{component:Qn,to:ge.APP_CHANNEL_VIEW.replace(":channelId",s.channel.id),sx:{display:"inline-flex",alignItems:"center",bgcolor:"primary.main",color:"primary.contrastText",px:2,py:1,borderRadius:2,textDecoration:"none",transition:"all 0.2s ease-in-out","&:hover":{bgcolor:"primary.dark",transform:"translateY(-2px)"}},children:[t.jsx(Sl,{sx:{mr:1}}),t.jsx(j,{variant:"subtitle2",children:s.channel.name})]}),t.jsxs(C,{sx:{display:"inline-flex",alignItems:"center",bgcolor:"background.paper",px:2,py:1,borderRadius:2,border:"1px solid",borderColor:"divider"},children:[t.jsx(yl,{sx:{mr:1,fontSize:"0.9rem"}}),t.jsx(j,{variant:"caption",children:s.creator.displayName})]})]}),t.jsxs(pe,{direction:"row",spacing:1,children:[t.jsx(Ne,{onClick:N,sx:{color:"text.secondary","&:hover":{bgcolor:ue(r.palette.primary.main,.05)}},children:t.jsx(Ud,{})}),t.jsx(Ne,{onClick:$,sx:{color:h?"primary.main":"text.secondary","&:hover":{bgcolor:ue(r.palette.primary.main,.05)}},children:h?t.jsx(ci,{}):t.jsx(Vd,{})})]})]})})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsxs(Fe,{children:[s.media&&s.media.length>0&&t.jsxs(C,{sx:{position:"relative",width:"100%",paddingTop:"56.25%",overflow:"hidden",borderRadius:"4px 4px 0 0"},children:[t.jsx(C,{component:s.media[0].format===So.VIDEO?"video":"img",src:s.media[0].url,alt:s.media[0].caption||s.title,controls:s.media[0].format===So.VIDEO,autoPlay:s.media[0].format===So.VIDEO,loop:s.media[0].format===So.VIDEO,muted:s.media[0].format===So.VIDEO,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}}),s.media[0].caption&&t.jsx(C,{sx:{position:"absolute",bottom:0,left:0,right:0,bgcolor:ue(r.palette.common.black,.7),color:"white",p:1,backdropFilter:"blur(4px)"},children:t.jsx(j,{variant:"caption",children:s.media[0].caption})})]}),t.jsxs(Ve,{children:[t.jsx(j,{variant:"h4",gutterBottom:!0,sx:{fontWeight:700,mb:3},children:s.title}),y&&!y.canVote&&t.jsx(dt,{severity:d?"info":"warning",sx:{mb:3},icon:d?t.jsx(Xa,{}):void 0,children:y.reason||(d?"You have already voted on this poll":"You are not eligible to vote on this poll")}),t.jsx(FB,{poll:s,onVote:k,userVote:d,showResults:!!d,disabled:!(y!=null&&y.canVote)})]})]})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(pe,{spacing:3,children:[s.description&&t.jsxs(ot,{sx:{p:2},children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"About this Poll"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:s.description})]}),R?t.jsxs(ot,{elevation:3,sx:{p:3,textAlign:"center",bgcolor:Q=>ue(Q.palette.warning.main,.05),border:Q=>`2px solid ${ue(Q.palette.warning.main,.3)}`,borderRadius:3},children:[t.jsx(C,{sx:{width:60,height:60,borderRadius:"50%",bgcolor:Q=>ue(Q.palette.warning.main,.1),display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",mb:2},children:t.jsx(el,{sx:{fontSize:30,color:"warning.main"}})}),t.jsx(j,{variant:"h6",gutterBottom:!0,fontWeight:"bold",color:"warning.dark",children:"Premium Poll Statistics"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:((K=s.accessInfo)==null?void 0:K.reason)||"Subscribe to view detailed poll statistics and results."}),((J=s.accessInfo)==null?void 0:J.requiredTierName)&&t.jsxs(dt,{severity:"info",sx:{mb:2},children:["Required tier: ",t.jsx("strong",{children:s.accessInfo.requiredTierName})]}),t.jsxs(C,{sx:{mb:2},children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Subscribe to unlock:"}),t.jsx(pe,{spacing:.5,alignItems:"flex-start",sx:{mx:"auto",display:"inline-flex"},children:["View vote counts","See poll results","Participate in voting","Access detailed statistics"].map((Q,Y)=>t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Xa,{color:"success",fontSize:"small"}),t.jsx(j,{variant:"body2",children:Q})]},Y))})]}),t.jsx(he,{component:Qn,to:ge.APP_CHANNEL_VIEW.replace(":channelId",s.channelId),variant:"contained",color:"warning",size:"medium",startIcon:t.jsx(Hd,{}),sx:{px:3,py:1.5,borderRadius:2,fontWeight:"bold",textTransform:"none",fontSize:"0.95rem"},children:"View Subscription Options"})]}):t.jsxs(ot,{sx:{p:2},children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Poll Statistics"}),t.jsxs(pe,{spacing:2,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Total Votes"}),t.jsx(j,{variant:"h4",children:((q=s.stats)==null?void 0:q.totalVotes)??0})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Time Remaining"}),t.jsx(j,{variant:"body1",children:s.endDate?Lr(new Date(s.endDate),{addSuffix:!0}):"No end date"})]})]})]}),t.jsx(ot,{elevation:2,sx:{p:3,borderRadius:2,border:"2px solid",borderColor:"primary.main",bgcolor:Q=>ue(Q.palette.primary.main,.05)},children:t.jsxs(pe,{spacing:2,children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Qa,{color:"primary",fontSize:"large"}),t.jsx(j,{variant:"h6",fontWeight:"bold",color:"primary",children:"Fund this Poll"})]}),w&&!D?t.jsxs(C,{children:[t.jsx(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Current Funding"}),t.jsxs(j,{variant:"h5",fontWeight:"bold",color:"primary.main",children:[w.currency," ",(w.currentAmount/100).toFixed(2)]}),w.goalAmount&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Goal: ",w.currency," ",(w.goalAmount/100).toFixed(2)]})]}):D?t.jsx(de,{variant:"rectangular",height:60}):t.jsx(j,{variant:"body2",color:"text.secondary",children:"Be the first to fund this poll"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Support quality journalism by contributing to this poll"}),t.jsx(he,{variant:"contained",color:"primary",fullWidth:!0,size:"large",startIcon:t.jsx(Qa,{}),onClick:G,disabled:!s,sx:{py:1.5,fontWeight:"bold",textTransform:"none",fontSize:"1rem"},children:"Fund Now"})]})}),t.jsxs(ot,{sx:{p:2},children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Comments"}),t.jsx(he,{startIcon:t.jsx(US,{}),variant:"outlined",fullWidth:!0,sx:{mt:1,textTransform:"none",borderRadius:2},children:"Add a Comment"})]})]})})]}),s&&w&&t.jsx(MS,{open:v,onClose:()=>E(!1),onSuccess:L,contentType:"poll",contentId:s.id,fundingData:H()}),t.jsx(Pv,{open:!!m,autoHideDuration:6e3,onClose:()=>g(null),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:t.jsx(dt,{onClose:()=>g(null),severity:"error",sx:{width:"100%"},children:m})})]}):t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsx(j,{variant:"h4",children:"Poll not found"})})},HB=()=>{const[e,n]=x.useState(null),[r,s]=x.useState(!0),[o,i]=x.useState(!1),[l,d]=x.useState(!1),[u,h]=x.useState(null),[f,m]=x.useState(null),[g,y]=x.useState({}),{api:b}=Je(),{execute:S}=et();x.useEffect(()=>{v()},[]);const v=async()=>{s(!0),h(null);const T=await S(()=>b.app.account.getProfile(),{showErrorToast:!0});T&&(n(T),y({displayName:T.displayName,photoUrl:T.photoUrl})),s(!1)},E=()=>{d(!0),h(null),m(null)},w=()=>{d(!1),e&&y({displayName:e.displayName,photoUrl:e.photoUrl}),h(null),m(null)},I=async()=>{i(!0),h(null),m(null);const T=await S(()=>b.app.account.updateProfile(g),{showSuccessMessage:!0,successMessage:"Profile updated successfully"});T&&(n(T),d(!1)),i(!1)},D=T=>R=>{y(_=>({..._,[T]:R.target.value}))};return r?t.jsx(C,{sx:{p:3},children:t.jsxs(pe,{spacing:3,alignItems:"center",children:[t.jsx(de,{variant:"circular",width:120,height:120}),t.jsx(de,{variant:"text",width:"50%",height:40}),t.jsx(de,{variant:"rectangular",width:"100%",height:56}),t.jsx(de,{variant:"rectangular",width:"100%",height:56})]})}):e?t.jsx(C,{sx:{p:3},children:t.jsxs(pe,{spacing:3,children:[u&&t.jsx(dt,{severity:"error",children:u}),f&&t.jsx(dt,{severity:"success",children:f}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:2},children:[t.jsx(Sn,{src:g.photoUrl||e.photoUrl,sx:{width:120,height:120,mb:2}}),t.jsx(j,{variant:"h6",children:e.email}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Joined ",new Date(e.createdAt||"").toLocaleDateString()]})]}),t.jsx(nt,{label:"Display Name",value:g.displayName||"",onChange:D("displayName"),disabled:!l,fullWidth:!0,variant:"outlined"}),t.jsx(nt,{label:"Photo URL",value:g.photoUrl||"",onChange:D("photoUrl"),disabled:!l,fullWidth:!0,variant:"outlined",placeholder:"https://example.com/photo.jpg"}),t.jsx(C,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:l?t.jsxs(t.Fragment,{children:[t.jsx(he,{variant:"outlined",startIcon:t.jsx(Ns,{}),onClick:w,disabled:o,children:"Cancel"}),t.jsx(he,{variant:"contained",startIcon:o?t.jsx(sn,{size:20}):t.jsx(Yf,{}),onClick:I,disabled:o,children:"Save Changes"})]}):t.jsx(he,{variant:"contained",startIcon:t.jsx(vs,{}),onClick:E,children:"Edit Profile"})})]})}):t.jsx(C,{sx:{p:3},children:t.jsx(dt,{severity:"error",children:"Failed to load profile"})})},Nr={PAYPAL:"paypal",STRIPE:"stripe",IYZICO:"iyzico",BANK_TRANSFER:"bank_transfer",CREDIT_CARD:"credit_card",OTHER:"other"};var GB={VITE_API_URL:"https://journalist-api--journalist-2bf9e.europe-west4.hosted.app/",VITE_PAYPAL_CLIENT_ID:"AUvVGkHGJD8OKekE_4XxFzzKL8a8yLtJ3ZG1woE3OobNy57zyofuPIiUo-zZag0O_L1KPB_u4TB0tuJp",VITE_PAYPAL_MODE:"sandbox",VITE_ENV:"staging",VITE_PAYPAL_MERCHANT_ID:"4VNUQ7KFJXJG8",BASE_URL:"/journalist-material-client/",MODE:"staging",DEV:!1,PROD:!0,SSR:!1};const YB=({onSuccess:e,onError:n,disabled:r=!1})=>{const[s,o]=x.useState(!1),[i,l]=x.useState(!1),[d,u]=x.useState(null),h=x.useRef(null),{api:f}=Je(),m="AUvVGkHGJD8OKekE_4XxFzzKL8a8yLtJ3ZG1woE3OobNy57zyofuPIiUo-zZag0O_L1KPB_u4TB0tuJp",g="4VNUQ7KFJXJG8",y=GB.VITE_PAYPAL_ENV||"sandbox";return x.useEffect(()=>{var S;if((S=window.paypal)!=null&&S.PayoutsAAC){o(!0);return}const b=document.createElement("script");return b.src="https://www.paypalobjects.com/payouts/js/payouts_aac.js",b.async=!0,b.onload=()=>{o(!0)},b.onerror=()=>{const v="Failed to load PayPal Payouts SDK";u(v),n(v)},document.head.appendChild(b),()=>{document.head.contains(b)&&document.head.removeChild(b)}},[n]),x.useEffect(()=>{var b;if(!(!s||r||!h.current||!((b=window.paypal)!=null&&b.PayoutsAAC))){h.current&&(h.current.innerHTML="");try{window.paypal.PayoutsAAC.render({env:y,clientId:{sandbox:m},merchantId:g,pageType:"login",onLogin:async S=>{if(S.err){console.error("PayPal AAC error:",S.err);const v="Failed to connect PayPal account";u(v),n(v),l(!1);return}try{l(!0),u(null);const v=S.body.code,E=await f.app.account.exchangePayPalAuthCode(v);if(!E.payerId||!E.email)throw new Error("Failed to retrieve payer information from PayPal");await f.app.account.savePayPalPayoutMethod({payerId:E.payerId,email:E.email}),e(E)}catch(v){const E=v.message||"Failed to save PayPal payout method";u(E),n(E)}finally{l(!1)}}},`#${h.current.id}`)}catch(S){console.error("Error rendering PayPal AAC:",S);const v="Failed to initialize PayPal connection";u(v),n(v)}}},[s,r,m,g,y,f,e,n]),s?t.jsxs(C,{sx:{textAlign:"center",py:3},children:[d&&t.jsx(dt,{severity:"error",sx:{mb:2},children:d}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Connect your PayPal account to receive payouts securely"}),t.jsx("div",{id:"paypal-payout-connect-container",ref:h,style:{minHeight:"50px"}}),i&&t.jsxs(C,{sx:{mt:2,display:"flex",alignItems:"center",justifyContent:"center",gap:1},children:[t.jsx(sn,{size:16}),t.jsx(j,{variant:"caption",color:"text.secondary",children:"Connecting to PayPal..."})]}),t.jsx(j,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:2},children:"Your PayPal email will be used to send you payouts"})]}):t.jsxs(C,{sx:{textAlign:"center",py:3},children:[t.jsx(sn,{size:24}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Loading PayPal..."})]})},qB=({onSuccess:e,onError:n,disabled:r=!1})=>{const[s,o]=x.useState(!1),[i,l]=x.useState(null),[d,u]=x.useState(null),[h,f]=x.useState(null),{api:m}=Je();x.useEffect(()=>{(async()=>{try{const v=await m.app.account.getProfile();if(v!=null&&v.displayName&&(v!=null&&v.email)){const E=v.displayName.trim().split(" "),w=E[0]||"User",I=E.length>1?E.slice(1).join(" "):"Name";f({name:w,surname:I,email:v.email})}else l("Unable to retrieve user information. Please ensure your profile is complete.")}catch(v){console.error("Failed to fetch user info:",v),l("Failed to retrieve user information")}})()},[m]);const g=async()=>{try{return(await(await fetch("https://api.ipify.org?format=json")).json()).ip||"127.0.0.1"}catch{return"127.0.0.1"}},y=async()=>{if(!h){l("User information is not available");return}try{o(!0),l(null);const S=await g(),v=await m.app.iyzicoToken.initializeTokenization({name:h.name,surname:h.surname,email:h.email,ip:S});if(!v.sessionToken)throw new Error("Failed to initialize Iyzico session");if(u(v.sessionToken),v.checkoutFormContent){const E=window.open("","IyzicoCheckout","width=800,height=600");if(E){E.document.write(v.checkoutFormContent),E.document.close(),window.addEventListener("message",b,!1);const w=setInterval(()=>{E.closed&&(clearInterval(w),window.removeEventListener("message",b,!1),o(!1),l("Payment window was closed"))},1e3)}else throw new Error("Failed to open payment window. Please allow popups.")}else if(v.paymentPageUrl)window.open(v.paymentPageUrl,"IyzicoCheckout","width=800,height=600");else throw new Error("No checkout method provided by Iyzico")}catch(S){const v=S.message||"Failed to initialize Iyzico payment";l(v),n(v),o(!1)}},b=async S=>{if(S.origin===window.location.origin)if(S.data&&S.data.type==="IYZICO_CHECKOUT_SUCCESS")try{if(!d||!h)throw new Error("Session information is missing");const v=await g(),E=await m.app.iyzicoToken.savePaymentMethod({sessionToken:d,name:h.name,surname:h.surname,email:h.email,ip:v});window.removeEventListener("message",b,!1),o(!1),e(E)}catch(v){const E=v.message||"Failed to save Iyzico payment method";l(E),n(E),o(!1)}else if(S.data&&S.data.type==="IYZICO_CHECKOUT_ERROR"){window.removeEventListener("message",b,!1),o(!1);const v=S.data.message||"Payment failed";l(v),n(v)}else S.data&&S.data.type==="IYZICO_CHECKOUT_CANCEL"&&(window.removeEventListener("message",b,!1),o(!1),console.log("Iyzico payment cancelled by user"))};return h?t.jsxs(C,{sx:{textAlign:"center",py:3},children:[i&&t.jsx(dt,{severity:"error",sx:{mb:2},children:i}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Kartnz gvenli bir ekilde Iyzico ile kaydedin"}),t.jsx(he,{variant:"contained",onClick:y,disabled:r||s||!h,sx:{backgroundColor:"#1B4332",color:"white","&:hover":{backgroundColor:"#2D5A3D"},"&:disabled":{backgroundColor:"#ccc"},minHeight:"48px",minWidth:"200px",fontWeight:"bold"},children:s?"yzico ile Balanyor...":"yzico ile deme Ekle"}),s&&t.jsx(j,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:2},children:"Gvenli deme sayfasna ynlendiriliyorsunuz..."}),t.jsx(j,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:2},children:"Kart bilgileriniz Iyzico'nun gvenli sisteminde saklanr"}),t.jsx(j,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:1},children:"lem tamamlandktan sonra pop-up pencereyi kapatabilirsiniz"})]}):t.jsx(C,{sx:{textAlign:"center",py:2},children:t.jsx(j,{variant:"body2",color:"text.secondary",children:"Loading user information..."})})},KB=()=>{const e=cn(),[n,r]=x.useState([]),[s,o]=x.useState([]),[i,l]=x.useState(!0),[d,u]=x.useState(null),[h,f]=x.useState(null),[m,g]=x.useState(!1),[y,b]=x.useState(null),[S,v]=x.useState(!1),[E,w]=x.useState(!1),{api:I}=Je(),{execute:D}=et();x.useEffect(()=>{T()},[]);const T=async()=>{l(!0),u(null);const[V,Z]=await Promise.all([D(()=>I.app.account.getPayoutMethods(),{showErrorToast:!0}),D(()=>I.app.account.getAvailablePayoutMethods(),{showErrorToast:!1})]);V&&r(V.items??[]),Z&&o(Z),l(!1)},R=async V=>{u(null),await D(()=>I.app.account.setDefaultPayoutMethod(V.id),{showSuccessMessage:!0,successMessage:"Default payout method updated"})&&await T()},_=async()=>{if(!y)return;u(null),await D(()=>I.app.account.deletePayoutMethod(y.id),{showSuccessMessage:!0,successMessage:"Payout method deleted successfully"})&&(await T(),g(!1),b(null))},k=V=>{b(V),g(!0)},N=()=>{g(!1),b(null)},$=async()=>{await T(),f("Payout method added successfully")},G=()=>{v(!0)},L=async()=>{try{v(!1),f("Connecting PayPal account..."),await T(),f("PayPal account connected successfully!")}catch(V){console.error("Error refreshing payout methods:",V),f("PayPal account connected successfully!")}},H=V=>{u(V),v(!1)},K=()=>{w(!0)},J=async()=>{w(!1),await $(),f("Iyzico card added successfully!")},q=V=>{u(V),w(!1)},Q=V=>{switch(V){case Nr.PAYPAL:return t.jsx(Sn,{sx:{bgcolor:"#0070ba",width:40,height:40,fontSize:"12px",fontWeight:"bold",color:"white"},children:"PayPal"});case Nr.IYZICO:return t.jsx(Sn,{sx:{bgcolor:"#00a650",width:40,height:40,fontSize:"11px",fontWeight:"bold",color:"white"},children:"iyzico"});default:return t.jsx(Sn,{sx:{bgcolor:e.palette.grey[400],width:40,height:40},children:t.jsx(Tv,{})})}},Y=V=>{var Ee,be,ae,ee,Ce,Ae;switch((Ee=V.provider)==null?void 0:Ee.code){case Nr.PAYPAL:return((be=V.payoutDetails)==null?void 0:be.email)||V.payoutIdentifier;case Nr.IYZICO:{const Be=((ae=V.payoutDetails)==null?void 0:ae.cardAssociation)||"Card",ye=((ee=V.payoutDetails)==null?void 0:ee.lastFourDigits)||"****";return`${Be}  ${ye}`}case Nr.BANK_TRANSFER:return((Ce=V.payoutDetails)==null?void 0:Ce.iban)||((Ae=V.payoutDetails)==null?void 0:Ae.accountNumber)||V.payoutIdentifier;default:return V.payoutIdentifier||"Payout method"}},oe=V=>s.some(Z=>Z.code===V);return i?t.jsx(C,{sx:{p:3},children:t.jsx(pe,{spacing:2,children:[...Array(3)].map((V,Z)=>t.jsx(Fe,{children:t.jsx(Ve,{children:t.jsxs(pe,{direction:"row",spacing:2,alignItems:"center",children:[t.jsx(de,{variant:"circular",width:40,height:40}),t.jsxs(C,{sx:{flex:1},children:[t.jsx(de,{variant:"text",width:"60%"}),t.jsx(de,{variant:"text",width:"40%"})]}),t.jsx(de,{variant:"rectangular",width:100,height:32})]})})},Z))})}):t.jsxs(C,{children:[t.jsxs(pe,{spacing:3,children:[d&&t.jsx(dt,{severity:"error",sx:{mb:2},children:d}),h&&t.jsx(dt,{severity:"success",sx:{mb:2},children:h}),t.jsxs(C,{sx:{mb:3},children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:.5},children:"Payout Methods"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Manage your payout methods for receiving earnings"})]}),t.jsxs(pe,{spacing:0,divider:t.jsx(Mt,{}),sx:{border:"1px solid",borderColor:"divider",borderRadius:2,overflow:"hidden"},children:[oe(Nr.PAYPAL)&&t.jsxs(C,{sx:{p:2.5,display:"flex",alignItems:"center",gap:2.5,transition:"background-color 0.2s","&:hover":{bgcolor:e.palette.mode==="dark"?"rgba(255,255,255,0.02)":"rgba(0,0,0,0.01)"}},children:[t.jsx(C,{sx:{flexShrink:0},children:t.jsx(Sn,{sx:{bgcolor:"#0070ba",width:40,height:40,fontSize:"12px",fontWeight:"bold",color:"white"},children:"PayPal"})}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[t.jsx(j,{variant:"body1",sx:{fontWeight:600},children:"PayPal"}),n.some(V=>{var Z;return((Z=V.provider)==null?void 0:Z.code)===Nr.PAYPAL})&&t.jsx(Qe,{label:"Connected",size:"small",color:"success",sx:{height:20,fontSize:"0.7rem",fontWeight:600}})]}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.875rem"},children:"Connect your PayPal account securely"})]}),t.jsx(C,{sx:{flexShrink:0,width:100},children:t.jsx(he,{onClick:G,size:"small",variant:"outlined",fullWidth:!0,sx:{borderRadius:1.5,textTransform:"none",fontSize:"0.8rem",fontWeight:500},children:n.some(V=>{var Z;return((Z=V.provider)==null?void 0:Z.code)===Nr.PAYPAL})?"Add Another":"Connect"})})]}),oe(Nr.IYZICO)&&t.jsxs(C,{sx:{p:2.5,display:"flex",alignItems:"center",gap:2.5,transition:"background-color 0.2s","&:hover":{bgcolor:e.palette.mode==="dark"?"rgba(255,255,255,0.02)":"rgba(0,0,0,0.01)"}},children:[t.jsx(C,{sx:{flexShrink:0},children:t.jsx(Sn,{sx:{bgcolor:"#00a650",width:40,height:40,fontSize:"11px",fontWeight:"bold",color:"white"},children:"iyzico"})}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[t.jsx(j,{variant:"body1",sx:{fontWeight:600},children:"Credit/Debit Card"}),n.some(V=>{var Z;return((Z=V.provider)==null?void 0:Z.code)===Nr.IYZICO})&&t.jsx(Qe,{label:`${n.filter(V=>{var Z;return((Z=V.provider)==null?void 0:Z.code)===Nr.IYZICO}).length} Card(s)`,size:"small",color:"success",sx:{height:20,fontSize:"0.7rem",fontWeight:600}})]}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.875rem"},children:"Gvenli kart deme sistemi"})]}),t.jsx(C,{sx:{flexShrink:0,width:100},children:t.jsx(he,{onClick:K,size:"small",variant:"outlined",fullWidth:!0,sx:{borderRadius:1.5,textTransform:"none",fontSize:"0.8rem",fontWeight:500},children:"Add Card"})})]}),!oe(Nr.PAYPAL)&&!oe(Nr.IYZICO)&&t.jsx(C,{sx:{p:3,textAlign:"center"},children:t.jsx(j,{variant:"body2",color:"text.secondary",children:"No payout methods are currently available in your region."})})]}),n.length>0&&t.jsxs(t.Fragment,{children:[t.jsxs(C,{sx:{mt:4,mb:2},children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:.5},children:"Connected Methods"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Your active payout methods"})]}),t.jsx(pe,{spacing:0,divider:t.jsx(Mt,{}),sx:{border:"1px solid",borderColor:"divider",borderRadius:2,overflow:"hidden"},children:n.map((V,Z)=>{var Ee,be;return t.jsxs(C,{sx:{p:2.5,display:"flex",alignItems:"center",gap:2.5,bgcolor:Z%2===0?"transparent":e.palette.mode==="dark"?"rgba(255,255,255,0.02)":"rgba(0,0,0,0.01)",transition:"background-color 0.2s","&:hover":{bgcolor:e.palette.mode==="dark"?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.03)"}},children:[t.jsx(C,{sx:{flexShrink:0},children:Q(((Ee=V.provider)==null?void 0:Ee.code)||"")}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1.5,mb:.5},children:[t.jsx(j,{variant:"body1",sx:{fontWeight:600},children:((be=V.provider)==null?void 0:be.name)||"Payout Method"}),V.isDefault&&t.jsx(Qe,{label:"Default",size:"small",sx:{height:20,fontSize:"0.7rem",fontWeight:600,bgcolor:"primary.main",color:"primary.contrastText"}})]}),t.jsx(j,{variant:"body2",color:"text.primary",sx:{mb:.5,fontFamily:"monospace",fontSize:"0.875rem"},children:Y(V)}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[t.jsx(j,{variant:"caption",color:"text.secondary",sx:{fontWeight:500},children:V.currency.toUpperCase()}),V.lastUsedAt&&t.jsxs(t.Fragment,{children:[t.jsx(C,{sx:{width:3,height:3,bgcolor:"text.secondary",borderRadius:"50%",opacity:.5}}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Last used ",new Date(V.lastUsedAt).toLocaleDateString()]})]})]})]}),t.jsxs(C,{sx:{display:"flex",gap:1,flexShrink:0},children:[!V.isDefault&&t.jsx(he,{onClick:()=>R(V),size:"small",variant:"outlined",sx:{borderRadius:1.5,textTransform:"none",fontSize:"0.75rem",fontWeight:500,px:1.5,minWidth:"auto"},children:"Set default"}),t.jsx(Ne,{onClick:()=>k(V),size:"small",sx:{color:"text.secondary","&:hover":{color:"error.main",bgcolor:"error.main"}},children:t.jsx(Fc,{fontSize:"small"})})]})]},V.id)})})]})]}),t.jsxs(Kt,{open:m,onClose:N,children:[t.jsx(tn,{children:"Delete Payout Method"}),t.jsx(Jt,{children:t.jsxs(j,{children:["Are you sure you want to delete this payout method?",(y==null?void 0:y.isDefault)&&t.jsx(dt,{severity:"warning",sx:{mt:2},children:"This is your default payout method. You'll need to set another payout method as default."})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:N,children:"Cancel"}),t.jsx(he,{onClick:_,color:"error",variant:"contained",children:"Delete"})]})]}),t.jsxs(Kt,{open:S,onClose:()=>v(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Connect PayPal Account for Payouts"}),t.jsx(Jt,{children:t.jsx(YB,{onSuccess:L,onError:H,disabled:!1})}),t.jsx(Xt,{children:t.jsx(he,{onClick:()=>v(!1),children:"Cancel"})})]}),t.jsxs(Kt,{open:E,onClose:()=>w(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Kart Ekleme"}),t.jsx(Jt,{children:t.jsx(qB,{onSuccess:J,onError:q,disabled:!1})}),t.jsx(Xt,{children:t.jsx(he,{onClick:()=>w(!1),children:"ptal"})})]})]})},Nn={ACTIVE:"ACTIVE",CANCELLED:"CANCELLED",EXPIRED:"EXPIRED",PENDING:"PENDING",SUSPENDED:"SUSPENDED"};function ld(e){switch(e){case Nn.ACTIVE:return"Active";case Nn.CANCELLED:return"Cancelled";case Nn.EXPIRED:return"Expired";case Nn.PENDING:return"Pending";case Nn.SUSPENDED:return"Suspended";default:return e}}function cd(e){switch(e){case Nn.ACTIVE:return"success";case Nn.CANCELLED:return"warning";case Nn.EXPIRED:return"error";case Nn.PENDING:return"info";case Nn.SUSPENDED:return"info";default:return"default"}}function JB(e){return e===Nn.ACTIVE}function XB(e){return JB(e)}const QB=[{value:Nn.ACTIVE,label:"Active"},{value:Nn.CANCELLED,label:"Cancelled"},{value:Nn.EXPIRED,label:"Expired"},{value:Nn.PENDING,label:"Pending"},{value:Nn.SUSPENDED,label:"Suspended"}],ZB=()=>{const[e,n]=x.useState([]),[r,s]=x.useState(!0),[o,i]=x.useState(null),[l,d]=x.useState(null),[u,h]=x.useState(!1),[f,m]=x.useState(null),[g,y]=x.useState(!1),{api:b}=Je(),{execute:S}=et(),v=cn(),E=async()=>{s(!0),i(null);const H=await S(()=>b.app.account.getSubscriptions(),{showErrorToast:!0});H&&n(H.items??[]),s(!1)};x.useEffect(()=>{E()},[]);const w=async()=>{if(!f)return;y(!0),i(null),await S(()=>b.app.subscription.cancelUserSubscription(f.id),{showSuccessMessage:!0,successMessage:"Subscription canceled successfully"})&&(await E(),h(!1),m(null)),y(!1)},I=H=>{m(H),h(!0)},D=()=>{h(!1),m(null)},T=H=>cd(H),R=H=>ld(H),_=H=>new Date(H).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),k=(H,K)=>new Intl.NumberFormat("en-US",{style:"currency",currency:K.toUpperCase()}).format(H/100),N=H=>XB(H.statusId),$=H=>{var K;return(K=H.paymentDetails)==null?void 0:K.some(J=>{var q;return((q=J.provider)==null?void 0:q.code)==="paypal"})};if(r)return t.jsx(C,{sx:{p:{xs:2,md:4}},children:t.jsxs(pe,{spacing:3,children:[t.jsxs(C,{children:[t.jsx(de,{variant:"text",sx:{fontSize:"1.5rem",width:"200px",mb:1}}),t.jsx(de,{variant:"text",sx:{fontSize:"0.875rem",width:"150px"}})]}),t.jsx(F,{container:!0,spacing:3,children:[...Array(3)].map((H,K)=>t.jsx(F,{item:!0,xs:12,lg:6,children:t.jsxs(Fe,{sx:{height:"100%"},children:[t.jsx(Ve,{sx:{p:3},children:t.jsxs(pe,{direction:"row",spacing:3,children:[t.jsx(de,{variant:"circular",width:64,height:64}),t.jsxs(C,{sx:{flex:1},children:[t.jsx(de,{variant:"text",sx:{fontSize:"1.25rem",width:"70%",mb:1}}),t.jsx(de,{variant:"text",sx:{width:"50%",mb:2}}),t.jsx(pe,{direction:"row",spacing:1,mb:2,children:t.jsx(de,{variant:"rectangular",width:80,height:24,sx:{borderRadius:1}})}),t.jsxs(pe,{spacing:1,children:[t.jsx(de,{variant:"text",sx:{width:"60%"}}),t.jsx(de,{variant:"text",sx:{width:"40%"}})]})]})]})}),t.jsxs(lf,{sx:{px:3,pb:3},children:[t.jsx(de,{variant:"rectangular",width:100,height:36,sx:{borderRadius:1}}),t.jsx(de,{variant:"rectangular",width:120,height:36,sx:{borderRadius:1,ml:1}})]})]})},K))})]})});const G=e.filter(H=>H.statusId===Nn.ACTIVE),L=e.reduce((H,K)=>H+K.tier.price/100,0);return t.jsx(C,{sx:{p:{xs:2,md:4}},children:t.jsxs(pe,{spacing:4,children:[o&&t.jsx(dt,{severity:"error",onClose:()=>i(null),sx:{borderRadius:2},children:o}),l&&t.jsx(dt,{severity:"success",onClose:()=>d(null),sx:{borderRadius:2},children:l}),t.jsxs(C,{children:[t.jsx(j,{variant:"h4",sx:{fontWeight:600,mb:1},children:"My Subscriptions"}),t.jsx(j,{variant:"body1",color:"text.secondary",children:"Manage your channel subscriptions and contributions"})]}),e.length>0&&t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ot,{sx:{p:3,borderRadius:3,background:`linear-gradient(135deg, ${v.palette.primary.main} 0%, ${v.palette.primary.dark} 100%)`,color:"white"},children:t.jsxs(pe,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h4",sx:{fontWeight:700,mb:.5},children:G.length}),t.jsx(j,{variant:"body2",sx:{opacity:.9},children:"Active"})]}),t.jsx(ys,{sx:{fontSize:40,opacity:.8}})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ot,{sx:{p:3,borderRadius:3,background:`linear-gradient(135deg, ${v.palette.success.main} 0%, ${v.palette.success.dark} 100%)`,color:"white"},children:t.jsxs(pe,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(C,{children:[t.jsxs(j,{variant:"h4",sx:{fontWeight:700,mb:.5},children:["$",L.toFixed(0)]}),t.jsx(j,{variant:"body2",sx:{opacity:.9},children:"Monthly Value"})]}),t.jsx(Gf,{sx:{fontSize:40,opacity:.8}})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ot,{sx:{p:3,borderRadius:3,border:`1px solid ${v.palette.divider}`},children:t.jsxs(pe,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h4",sx:{fontWeight:700,mb:.5,color:"text.primary"},children:e.length}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Total"})]}),t.jsx(Ha,{sx:{fontSize:40,color:"text.secondary"}})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(ot,{sx:{p:3,borderRadius:3,border:`1px solid ${v.palette.divider}`},children:t.jsxs(pe,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h4",sx:{fontWeight:700,mb:.5,color:"text.primary"},children:e.filter(H=>H.autoContribute).length}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Auto-contribute"})]}),t.jsx(mR,{sx:{fontSize:40,color:"text.secondary"}})]})})})]}),e.length===0?t.jsx(ot,{sx:{textAlign:"center",py:8,px:4,borderRadius:4,background:`linear-gradient(135deg, ${ue(v.palette.primary.main,.02)} 0%, ${ue(v.palette.primary.main,.05)} 100%)`,border:`1px solid ${ue(v.palette.primary.main,.1)}`},children:t.jsxs(C,{sx:{maxWidth:400,mx:"auto"},children:[t.jsx(Ha,{sx:{fontSize:80,color:"primary.main",opacity:.6,mb:3}}),t.jsx(j,{variant:"h5",sx:{fontWeight:600,mb:2},children:"No Subscriptions Yet"}),t.jsx(j,{variant:"body1",color:"text.secondary",sx:{mb:4,lineHeight:1.6},children:"Discover amazing channels and support creators by subscribing to their content. Your subscriptions will appear here."}),t.jsx(he,{variant:"contained",size:"large",href:"/app/channels",sx:{borderRadius:2,py:1.5,px:4,textTransform:"none",fontSize:"1rem",fontWeight:600},children:"Explore Channels"})]})}):t.jsx(F,{container:!0,spacing:3,children:e.map(H=>t.jsx(F,{item:!0,xs:12,lg:6,children:t.jsxs(Fe,{sx:{height:"100%",borderRadius:3,border:`1px solid ${v.palette.divider}`,transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:v.shadows[8]}},children:[t.jsx(Ve,{sx:{p:3},children:t.jsxs(pe,{direction:"row",spacing:3,children:[t.jsx(Sn,{sx:{width:64,height:64,border:`2px solid ${v.palette.divider}`,fontSize:"1.5rem",fontWeight:600},src:`https://via.placeholder.com/64x64?text=${H.channel.name.charAt(0)}`,children:H.channel.name.charAt(0)}),t.jsxs(C,{sx:{flex:1,minWidth:0},children:[t.jsxs(pe,{direction:"row",alignItems:"flex-start",justifyContent:"space-between",mb:1,children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:H.channel.name}),t.jsx(Ne,{size:"small",sx:{ml:1},children:t.jsx(qf,{fontSize:"small"})})]}),t.jsxs(pe,{direction:"row",alignItems:"center",spacing:2,mb:2,children:[t.jsx(j,{variant:"body2",color:"text.secondary",children:H.tier.name}),t.jsxs(j,{variant:"body2",sx:{fontWeight:600,color:"primary.main"},children:[k(H.tier.price,H.tier.currency),"/month"]})]}),t.jsxs(pe,{direction:"row",spacing:1,mb:2,flexWrap:"wrap",children:[t.jsx(Qe,{label:R(H.statusId),color:T(H.statusId),size:"small",sx:{borderRadius:1}}),$(H)&&t.jsx(Qe,{label:"PayPal",variant:"outlined",size:"small",sx:{borderRadius:1,borderColor:"#0070BA",color:"#0070BA",fontWeight:600}}),H.autoContribute&&t.jsx(Qe,{label:"Auto-contribute",variant:"outlined",size:"small",sx:{borderRadius:1}})]}),t.jsxs(pe,{spacing:.5,children:[t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Started: ",_(H.subscribedAt)]}),H.expiresAt&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Expires: ",_(H.expiresAt)]}),H.totalContributions>0&&t.jsxs(j,{variant:"caption",color:"success.main",children:["Total contributed: ",k(H.totalContributions,H.tier.currency)]})]})]})]})}),t.jsx(Mt,{}),t.jsxs(lf,{sx:{p:3,pt:2},children:[t.jsx(he,{variant:"outlined",size:"small",href:`${ge.APP_CHANNEL_VIEW}`.replace(":id",H.channel.id),endIcon:t.jsx(xR,{}),sx:{borderRadius:1.5,textTransform:"none",fontWeight:500},children:"View Channel"}),N(H)&&t.jsx(he,{variant:"text",color:"error",size:"small",startIcon:t.jsx(Ns,{}),onClick:()=>I(H),sx:{borderRadius:1.5,textTransform:"none",fontWeight:500,ml:"auto"},children:"Cancel"})]})]})},H.id))}),t.jsxs(Kt,{open:u,onClose:D,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:3,p:1}},children:[t.jsx(tn,{sx:{pb:1},children:t.jsx(j,{variant:"h5",sx:{fontWeight:600},children:"Cancel Subscription"})}),t.jsx(Jt,{sx:{pb:2},children:t.jsxs(pe,{spacing:2,children:[t.jsxs(j,{variant:"body1",children:["Are you sure you want to cancel your subscription to"," ",t.jsx(j,{component:"span",sx:{fontWeight:600,color:"primary.main"},children:f==null?void 0:f.channel.name}),"?"]}),f&&$(f)&&t.jsx(ot,{sx:{p:2,borderRadius:2,bgcolor:ue(v.palette.info.main,.05),border:`1px solid ${ue(v.palette.info.main,.2)}`},children:t.jsxs(j,{variant:"body2",color:"text.secondary",sx:{mb:1},children:[t.jsx(j,{component:"span",sx:{fontWeight:600,color:"info.main"},children:"PayPal Subscription:"})," ","This will cancel your PayPal subscription automatically. Your PayPal recurring payment will be stopped."]})}),t.jsx(ot,{sx:{p:2,borderRadius:2,bgcolor:ue(v.palette.warning.main,.05),border:`1px solid ${ue(v.palette.warning.main,.2)}`},children:t.jsxs(j,{variant:"body2",color:"text.secondary",children:["You will continue to have access until your current billing period ends",(f==null?void 0:f.expiresAt)&&t.jsxs(j,{component:"span",sx:{fontWeight:500},children:[" ","on ",_(f.expiresAt)]}),"."]})})]})}),t.jsxs(Xt,{sx:{p:3,pt:1},children:[t.jsx(he,{onClick:D,disabled:g,variant:"outlined",sx:{borderRadius:2,textTransform:"none",fontWeight:500,px:3},children:"Keep Subscription"}),t.jsx(he,{onClick:w,color:"error",variant:"contained",disabled:g,sx:{borderRadius:2,textTransform:"none",fontWeight:500,px:3},children:g?"Canceling...":"Cancel Subscription"})]})]})]})})},c0=Me(Ne)(({theme:e})=>({position:"absolute",top:"50%",transform:"translateY(-50%)",zIndex:1,backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.04)",width:32,height:32,"&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.08)"}})),eW=()=>{const[e,n]=x.useState("profile"),{user:r}=ws(),s=x.useRef(null),[o,i]=x.useState(!1),[l,d]=x.useState(!1),u=[{id:"profile",icon:t.jsx(gR,{}),label:"Profile"},{id:"payment",icon:t.jsx(za,{}),label:"Payout Methods"},{id:"subscriptions",icon:t.jsx(Ha,{}),label:"Subscriptions"}],h=()=>{var b;const y=(b=s.current)==null?void 0:b.querySelector(".MuiTabs-scroller");if(y){const{scrollLeft:S,scrollWidth:v,clientWidth:E}=y;i(S>0),d(S+E<v-1)}};x.useEffect(()=>{var b;h();const y=(b=s.current)==null?void 0:b.querySelector(".MuiTabs-scroller");if(y)return y.addEventListener("scroll",h),window.addEventListener("resize",h),()=>{y.removeEventListener("scroll",h),window.removeEventListener("resize",h)}},[]);const f=()=>{var b;const y=(b=s.current)==null?void 0:b.querySelector(".MuiTabs-scroller");y&&y.scrollBy({left:-200,behavior:"smooth"})},m=()=>{var b;const y=(b=s.current)==null?void 0:b.querySelector(".MuiTabs-scroller");y&&y.scrollBy({left:200,behavior:"smooth"})},g=()=>{switch(e){case"profile":return t.jsx(HB,{});case"payment":return t.jsx(KB,{});case"subscriptions":return t.jsx(ZB,{});default:return null}};return t.jsxs(C,{sx:{width:"100%",overflow:"hidden"},children:[t.jsxs(C,{sx:{mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2,mb:1},children:[t.jsx(j,{variant:"h5",sx:{fontWeight:600},children:(r==null?void 0:r.displayName)||"Account"}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["(",(r==null?void 0:r.email)||"user",")"]})]}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Your personal account"})]}),t.jsxs(C,{sx:{position:"relative",mb:3},ref:s,children:[o&&t.jsx(c0,{onClick:f,sx:{left:0},children:t.jsx(Ms,{fontSize:"small"})}),t.jsx($s,{value:e,onChange:(y,b)=>n(b),variant:"scrollable",scrollButtons:!1,sx:{borderBottom:1,borderColor:"divider","& .MuiTabs-scroller":{"&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",msOverflowStyle:"none"},"& .MuiTabs-indicator":{height:2,borderRadius:"2px 2px 0 0"},"& .MuiTab-root":{minWidth:"auto",px:2.5,py:1.5,textTransform:"none",fontSize:"0.875rem",fontWeight:500,color:"text.secondary","&.Mui-selected":{color:"primary.main",fontWeight:600}}},children:u.map(y=>t.jsx(Mn,{value:y.id,label:y.label,icon:y.icon,iconPosition:"start",sx:{minHeight:48,gap:.75}},y.id))}),l&&t.jsx(c0,{onClick:m,sx:{right:0},children:t.jsx(Av,{fontSize:"small"})})]}),t.jsx(C,{children:g()})]})},tW=()=>{const{isDarkMode:e,toggleTheme:n}=Xp(),[r,s]=x.useState(e?"dark":"light"),o=i=>{const l=i.target.value;s(l),(l==="dark"&&!e||l==="light"&&e)&&n()};return t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:.5},children:"Appearance"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Customize how MetaJourno looks on your device"}),t.jsx(ot,{elevation:0,sx:{p:3,border:"1px solid",borderColor:"divider",borderRadius:2},children:t.jsxs(ht,{component:"fieldset",children:[t.jsx(bR,{component:"legend",sx:{fontWeight:600,mb:2},children:"Theme mode"}),t.jsxs(yR,{value:r,onChange:o,children:[t.jsx(Do,{value:"light",control:t.jsx(uy,{}),label:t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(vR,{fontSize:"small"}),t.jsxs(C,{children:[t.jsx(j,{variant:"body1",children:"Light"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:"Use light theme"})]})]}),sx:{mb:2,p:1.5,borderRadius:1,"&:hover":{bgcolor:"action.hover"}}}),t.jsx(Do,{value:"dark",control:t.jsx(uy,{}),label:t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(jR,{fontSize:"small"}),t.jsxs(C,{children:[t.jsx(j,{variant:"body1",children:"Dark"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:"Use dark theme"})]})]}),sx:{p:1.5,borderRadius:1,"&:hover":{bgcolor:"action.hover"}}})]})]})})]})},nW={subscription:"Subscription Notifications",payout:"Payout Notifications",funding:"Funding Notifications",channel:"Channel Notifications",system:"System Notifications"},rW=["subscription","payout","funding","channel","system"],sW=()=>{const[e,n]=x.useState([]),[r,s]=x.useState(!0),[o,i]=x.useState(!1),[l,d]=x.useState(null),[u,h]=x.useState(!1),{api:f}=Je(),{execute:m}=et();x.useEffect(()=>{g()},[]);const g=async()=>{s(!0),d(null);try{const[E,w]=await Promise.all([m(()=>f.app.account.getNotificationPreferences(),{showErrorToast:!1}),m(()=>f.app.notification.getNotificationTypeMetadata(),{showErrorToast:!1})]);if(E&&w){const I=new Map(w.map(T=>[T.id,T])),D=E.preferences.map(T=>({...T,metadata:I.get(T.notificationTypeId)}));n(D)}else d("Failed to load notification preferences")}catch(E){d(E.message||"Failed to load notification preferences")}finally{s(!1)}},y=(E,w,I)=>{n(D=>D.map(T=>T.notificationTypeId===E?{...T,[w]:I}:T)),h(!0)},b=async()=>{i(!0),d(null);const E=e.map(I=>({notificationTypeId:I.notificationTypeId,pushEnabled:I.pushEnabled,inAppEnabled:I.inAppEnabled}));await m(()=>f.app.account.bulkUpdateNotificationPreferences(E),{showSuccessMessage:!0,successMessage:"Notification preferences saved successfully",showErrorToast:!0})&&(h(!1),g()),i(!1)},S=()=>{g(),h(!1)},v=e.reduce((E,w)=>{var D;const I=((D=w.metadata)==null?void 0:D.category)||"system";return E[I]||(E[I]=[]),E[I].push(w),E},{});return r?t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:.5},children:"Notification Preferences"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Loading..."}),t.jsx(pe,{spacing:2,children:[1,2,3].map(E=>t.jsx(de,{variant:"rectangular",height:80},E))})]}):l?t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:.5},children:"Notification Preferences"}),t.jsx(dt,{severity:"error",sx:{mt:2},children:l})]}):t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"start",mb:3},children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:.5},children:"Notification Preferences"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Control which notifications you receive via push and in-app"})]}),t.jsxs(C,{sx:{display:"flex",gap:1},children:[t.jsx(he,{variant:"outlined",size:"small",onClick:S,disabled:!u||o,children:"Cancel"}),t.jsx(he,{variant:"contained",size:"small",startIcon:o?void 0:t.jsx(Yf,{}),onClick:b,disabled:!u||o,children:o?"Saving...":"Save Changes"})]})]}),t.jsx(pe,{spacing:3,children:rW.map(E=>{const w=v[E];return!w||w.length===0?null:t.jsxs(C,{children:[t.jsxs(j,{variant:"subtitle1",sx:{fontWeight:600,mb:2,display:"flex",alignItems:"center",gap:1},children:[t.jsx(Rv,{fontSize:"small"}),nW[E]]}),t.jsx(pe,{spacing:1.5,children:w.map(I=>{var D,T;return t.jsx(ot,{elevation:0,sx:{p:2.5,border:"1px solid",borderColor:"divider",borderRadius:2,"&:hover":{borderColor:"primary.main",bgcolor:"action.hover"}},children:t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs(C,{sx:{flex:1,mr:3},children:[t.jsx(j,{variant:"body1",sx:{fontWeight:500,mb:.5},children:((D=I.metadata)==null?void 0:D.name)||`Notification Type ${I.notificationTypeId}`}),t.jsx(j,{variant:"body2",color:"text.secondary",children:((T=I.metadata)==null?void 0:T.description)||"No description available"})]}),t.jsxs(C,{sx:{display:"flex",gap:2,alignItems:"center"},children:[t.jsx(Do,{control:t.jsx(Ya,{checked:I.pushEnabled,onChange:R=>y(I.notificationTypeId,"pushEnabled",R.target.checked),color:"primary"}),label:t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:"Push"}),labelPlacement:"top",sx:{m:0}}),t.jsx(Mt,{orientation:"vertical",flexItem:!0,sx:{mx:1}}),t.jsx(Do,{control:t.jsx(Ya,{checked:I.inAppEnabled,onChange:R=>y(I.notificationTypeId,"inAppEnabled",R.target.checked),color:"primary"}),label:t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:"In-App"}),labelPlacement:"top",sx:{m:0}})]})]})},I.notificationTypeId)})})]},E)})}),u&&t.jsx(dt,{severity:"info",sx:{mt:3},children:'You have unsaved changes. Click "Save Changes" to apply your preferences.'})]})},d0=Me(Ne)(({theme:e})=>({position:"absolute",top:"50%",transform:"translateY(-50%)",zIndex:1,backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.04)",width:32,height:32,"&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.08)"}})),oW=()=>{const[e,n]=x.useState("appearance"),r=x.useRef(null),[s,o]=x.useState(!1),[i,l]=x.useState(!1),d=[{id:"appearance",icon:t.jsx(SR,{}),label:"Appearance"},{id:"notifications",icon:t.jsx(Rv,{}),label:"Notifications"}],u=()=>{var y;const g=(y=r.current)==null?void 0:y.querySelector(".MuiTabs-scroller");if(g){const{scrollLeft:b,scrollWidth:S,clientWidth:v}=g;o(b>0),l(b+v<S-1)}};x.useEffect(()=>{var y;u();const g=(y=r.current)==null?void 0:y.querySelector(".MuiTabs-scroller");if(g)return g.addEventListener("scroll",u),window.addEventListener("resize",u),()=>{g.removeEventListener("scroll",u),window.removeEventListener("resize",u)}},[]);const h=()=>{var y;const g=(y=r.current)==null?void 0:y.querySelector(".MuiTabs-scroller");g&&g.scrollBy({left:-200,behavior:"smooth"})},f=()=>{var y;const g=(y=r.current)==null?void 0:y.querySelector(".MuiTabs-scroller");g&&g.scrollBy({left:200,behavior:"smooth"})},m=()=>{switch(e){case"appearance":return t.jsx(tW,{});case"notifications":return t.jsx(sW,{});default:return null}};return t.jsxs(C,{sx:{width:"100%",overflow:"hidden"},children:[t.jsxs(C,{sx:{mb:4},children:[t.jsx(C,{sx:{display:"flex",alignItems:"center",gap:2,mb:1},children:t.jsx(j,{variant:"h5",sx:{fontWeight:600},children:"Settings"})}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Manage your application preferences"})]}),t.jsxs(C,{sx:{position:"relative",mb:3},ref:r,children:[s&&t.jsx(d0,{onClick:h,sx:{left:0},children:t.jsx(Ms,{fontSize:"small"})}),t.jsx($s,{value:e,onChange:(g,y)=>n(y),variant:"scrollable",scrollButtons:!1,sx:{borderBottom:1,borderColor:"divider","& .MuiTabs-scroller":{"&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",msOverflowStyle:"none"},"& .MuiTabs-indicator":{height:2,borderRadius:"2px 2px 0 0"},"& .MuiTab-root":{minWidth:"auto",px:2.5,py:1.5,textTransform:"none",fontSize:"0.875rem",fontWeight:500,color:"text.secondary","&.Mui-selected":{color:"primary.main",fontWeight:600}}},children:d.map(g=>t.jsx(Mn,{value:g.id,label:g.label,icon:g.icon,iconPosition:"start",sx:{minHeight:48,gap:.75}},g.id))}),i&&t.jsx(d0,{onClick:f,sx:{right:0},children:t.jsx(Av,{fontSize:"small"})})]}),t.jsx(C,{children:m()})]})},aW={NEWS:"NEWS",POLL:"POLL"},iW=()=>{const{api:e}=Je(),[n,r]=x.useState(0),s=Tc({fetcher:async(y,b,S)=>e.app.bookmark.getBookmarks(null,{after:b,limit:S||20}),pageSize:20,autoFetch:!1}),o=Tc({fetcher:async(y,b,S)=>e.app.bookmark.getBookmarkedNews({after:b,limit:S||20}),pageSize:20,autoFetch:!1}),i=Tc({fetcher:async(y,b,S)=>e.app.bookmark.getBookmarkedPolls({after:b,limit:S||20}),pageSize:20,autoFetch:!1}),d=(()=>{switch(n){case 0:return s;case 1:return o;case 2:return i;default:return s}})();x.useEffect(()=>{d.fetchInitial()},[n]);const u=(y,b)=>{r(b)},h=()=>t.jsxs(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"60vh",textAlign:"center",px:3},children:[t.jsx(ci,{sx:{fontSize:80,color:"text.disabled",mb:2}}),t.jsx(j,{variant:"h5",gutterBottom:!0,fontWeight:600,children:"No bookmarks yet"}),t.jsxs(j,{variant:"body1",color:"text.secondary",children:[n===0&&"Start bookmarking news and polls to see them here",n===1&&"You haven't bookmarked any news articles yet",n===2&&"You haven't bookmarked any polls yet"]})]}),f=()=>t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(sn,{})}),m=()=>n===0?s.items.map(y=>t.jsx(C,{sx:{mb:2},children:y.type===aW.NEWS?t.jsx(sd,{news:y.content,mode:"grid"}):t.jsx(id,{poll:y.content,mode:"grid",showAsPreview:!0})},y.id)):n===1?o.items.map(y=>t.jsx(C,{sx:{mb:2},children:t.jsx(sd,{news:y,mode:"grid"})},y.id)):i.items.map(y=>t.jsx(C,{sx:{mb:2},children:t.jsx(id,{poll:y,mode:"grid",showAsPreview:!0})},y.id)),g=d.isLoading&&d.items.length===0;return t.jsx(C,{sx:{width:"100%",minHeight:"100vh",bgcolor:"background.default"},children:t.jsxs(It,{maxWidth:"lg",sx:{py:3},children:[t.jsx(j,{variant:"h4",gutterBottom:!0,fontWeight:700,sx:{mb:3},children:"My Bookmarks"}),t.jsxs($s,{value:n,onChange:u,sx:{borderBottom:1,borderColor:"divider",mb:3},children:[t.jsx(Mn,{label:"All",value:0}),t.jsx(Mn,{label:"News",value:1}),t.jsx(Mn,{label:"Polls",value:2})]}),g?f():d.items.length===0?h():t.jsx(js,{dataLength:d.items.length,next:d.loadMore,hasMore:d.hasMore,loader:f(),endMessage:t.jsx(C,{sx:{textAlign:"center",py:4},children:t.jsx(j,{variant:"body2",color:"text.secondary",children:"You've reached the end of your bookmarks"})}),style:{overflow:"visible"},children:t.jsx(C,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},gap:2},children:m()})})]})})},Bm=({children:e,isHighlighted:n=!1,contentPadding:r=3,noHover:s=!1,contentSx:o,sx:i,...l})=>t.jsx(Fe,{elevation:n?2:0,sx:{height:"100%",position:"relative",borderRadius:2,border:"1px solid",borderColor:d=>n?"primary.main":d.palette.mode==="dark"?ue(d.palette.common.white,.1):ue(d.palette.common.black,.08),bgcolor:d=>n?ue(d.palette.primary.main,d.palette.mode==="dark"?.1:.05):"background.paper",transition:"all 0.2s ease-in-out",...!s&&{"&:hover":{borderColor:"primary.main",transform:"translateY(-2px)"}},...i},...l,children:t.jsx(Ve,{sx:{p:r,"&:last-child":{pb:r},...o},children:e})}),Wm=({status:e,...n})=>t.jsx(Qe,{label:jo(e),color:b3(e),size:"small",variant:"filled",sx:{borderRadius:1,fontWeight:500,fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px",...n.sx},...n}),Pr={TRAVEL:"TRAVEL",EQUIPMENT:"EQUIPMENT",ACCOMMODATION:"ACCOMMODATION",FOOD:"FOOD",COMMUNICATION:"COMMUNICATION",LABOR:"LABOR",OTHER:"OTHER"};function lW(e){switch(e){case Pr.TRAVEL:return"Travel";case Pr.EQUIPMENT:return"Equipment";case Pr.ACCOMMODATION:return"Accommodation";case Pr.FOOD:return"Food";case Pr.COMMUNICATION:return"Communication";case Pr.LABOR:return"Labor";case Pr.OTHER:return"Other";default:return e}}const zS=[{value:Pr.TRAVEL,label:"Travel"},{value:Pr.EQUIPMENT,label:"Equipment"},{value:Pr.ACCOMMODATION,label:"Accommodation"},{value:Pr.FOOD,label:"Food"},{value:Pr.COMMUNICATION,label:"Communication"},{value:Pr.LABOR,label:"Labor"},{value:Pr.OTHER,label:"Other"}],Vm=({expenseOrder:e,onView:n,onEdit:r,onSubmit:s,onCancel:o,onApprove:i,onReject:l,onProcessPayment:d,showActions:u=!0,userRole:h="journalist"})=>{const[f,m]=Tt.useState(null),g=!!f,y=_=>{m(_.currentTarget)},b=()=>{m(null)},S=(_,k)=>new Intl.NumberFormat("en-US",{style:"currency",currency:k}).format(_),v=e.status===tt.DRAFT,E=e.status===tt.DRAFT,w=[tt.DRAFT,tt.SUBMITTED].includes(e.status),I=[tt.SUBMITTED,tt.UNDER_REVIEW].includes(e.status),D=[tt.SUBMITTED,tt.UNDER_REVIEW].includes(e.status),T=e.status===tt.APPROVED,R=()=>{const _=[];return n&&_.push(t.jsxs(je,{onClick:()=>{n(e),b()},children:[t.jsx(Ls,{sx:{mr:1},fontSize:"small"}),"View Details"]},"view")),h==="journalist"?(v&&r&&_.push(t.jsxs(je,{onClick:()=>{r(e),b()},children:[t.jsx(vs,{sx:{mr:1},fontSize:"small"}),"Edit"]},"edit")),E&&s&&_.push(t.jsxs(je,{onClick:()=>{s(e),b()},children:[t.jsx(Cd,{sx:{mr:1},fontSize:"small"}),"Submit for Approval"]},"submit")),w&&o&&_.push(t.jsxs(je,{onClick:()=>{o(e),b()},sx:{color:"error.main"},children:[t.jsx(Fc,{sx:{mr:1},fontSize:"small"}),"Cancel"]},"cancel"))):(h==="admin"||h==="finance-manager")&&(I&&i&&_.push(t.jsx(je,{onClick:()=>{i(e),b()},sx:{color:"success.main"},children:"Approve"},"approve")),D&&l&&_.push(t.jsx(je,{onClick:()=>{l(e),b()},sx:{color:"error.main"},children:"Reject"},"reject")),T&&d&&_.push(t.jsx(je,{onClick:()=>{d(e),b()},sx:{color:"primary.main"},children:"Process Payment"},"process-payment"))),_};return t.jsxs(Bm,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[t.jsxs(C,{sx:{flex:1},children:[t.jsx(j,{variant:"h6",component:"h3",sx:{mb:1,fontWeight:600},children:e.title}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:1},children:e.description}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:[e.channel.name,"  ",lW(e.type.id)]})]}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Wm,{status:e.status}),u&&t.jsx(Ne,{size:"small",onClick:y,children:t.jsx(qf,{})})]})]}),t.jsx(Mt,{sx:{my:2}}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h5",component:"span",sx:{fontWeight:700,color:"primary.main"},children:S(e.amount,e.currency)}),e.receiptUrl&&t.jsx(St,{title:"Receipt attached",children:t.jsx(eo,{sx:{ml:1,color:"success.main"},fontSize:"small"})})]}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Lr(new Date(e.createdAt),{addSuffix:!0})})]}),e.notes&&t.jsx(C,{sx:{mt:2},children:t.jsxs(j,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:['"',e.notes,'"']})}),e.rejectionReason&&t.jsx(C,{sx:{mt:2,p:2,bgcolor:"error.lighter",borderRadius:1},children:t.jsxs(j,{variant:"body2",color:"error.main",sx:{fontWeight:500},children:["Rejection Reason: ",e.rejectionReason]})}),t.jsx(Ro,{anchorEl:f,open:g,onClose:b,PaperProps:{sx:{minWidth:180}},children:R()})]})};function cW(e){const{children:n,value:r,index:s,...o}=e;return t.jsx("div",{role:"tabpanel",hidden:r!==s,id:`expense-order-tabpanel-${s}`,"aria-labelledby":`expense-order-tab-${s}`,...o,children:r===s&&t.jsx(C,{sx:{py:3},children:n})})}const dW=()=>{const e=Pt(),{api:n}=Je(),[r,s]=x.useState(0),[o,i]=x.useState([]),[l,d]=x.useState(!0),{execute:u}=et(),h=[{label:"All",status:void 0},{label:"Draft",status:mt.DRAFT},{label:"Submitted",status:mt.SUBMITTED},{label:"Approved",status:mt.APPROVED},{label:"Paid",status:mt.PAID},{label:"Rejected",status:mt.REJECTED}],f=async E=>{d(!0);const w=await u(()=>n.app.expenseOrder.getMyExpenseOrders({page:1,limit:50},E),{showErrorToast:!0});w&&i(w.items),d(!1)};x.useEffect(()=>{f(h[r].status)},[r,u]);const m=(E,w)=>{s(w)},g=E=>{e(ge.APP_EXPENSE_ORDER_VIEW.replace(":id",E.id))},y=E=>{e(ge.STUDIO_EXPENSE_ORDER_EDIT.replace(":id",E.id))},b=async E=>{await u(()=>n.app.expenseOrder.submitExpenseOrder(E.id),{showSuccessMessage:!0,successMessage:"Expense order submitted successfully!"})&&f(h[r].status)},S=async E=>{await u(()=>n.app.expenseOrder.cancelExpenseOrder(E.id),{showSuccessMessage:!0,successMessage:"Expense order cancelled successfully!"})&&f(h[r].status)},v=()=>{e(ge.STUDIO_EXPENSE_ORDER_CREATE)};return t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[t.jsx(j,{variant:"h4",component:"h1",sx:{fontWeight:600},children:"My Expense Orders"}),t.jsx(he,{variant:"contained",startIcon:t.jsx(To,{}),onClick:v,children:"Create New"})]}),t.jsx(C,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:t.jsx($s,{value:r,onChange:m,"aria-label":"expense order status tabs",children:h.map((E,w)=>t.jsx(Mn,{label:E.label},w))})}),h.map((E,w)=>t.jsx(cW,{value:r,index:w,children:l?t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(sn,{})}):o.length===0?t.jsxs(C,{sx:{textAlign:"center",py:8},children:[t.jsx(j,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"No expense orders found"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:E.status?`No ${E.label.toLowerCase()} expense orders`:"You haven't created any expense orders yet"}),t.jsx(he,{variant:"contained",startIcon:t.jsx(To,{}),onClick:v,children:"Create Your First Expense Order"})]}):t.jsx(F,{container:!0,spacing:3,children:o.map(I=>t.jsx(F,{item:!0,xs:12,md:6,lg:4,children:t.jsx(Vm,{expenseOrder:I,onView:g,onEdit:y,onSubmit:b,onCancel:S,userRole:"journalist"})},I.id))})},w))]})},uW=()=>{const e=Pt(),{id:n}=is(),{api:r}=Je(),[s,o]=x.useState(null),[i,l]=x.useState(!0),[d,u]=x.useState(!1),[h,f]=x.useState(null),{execute:m}=et(),g=async()=>{if(!n)return;l(!0),f(null);const R=await m(()=>r.app.expenseOrder.getExpenseOrder(n),{showErrorToast:!0});R&&o(R),l(!1)};x.useEffect(()=>{g()},[n]);const y=(R,_)=>new Intl.NumberFormat("en-US",{style:"currency",currency:_}).format(R),b=()=>{e(ge.APP_EXPENSE_ORDERS)},S=()=>{s&&e(ge.STUDIO_EXPENSE_ORDER_EDIT.replace(":id",s.id))},v=async()=>{if(!s)return;u(!0),await m(()=>r.app.expenseOrder.submitExpenseOrder(s.id),{showSuccessMessage:!0,successMessage:"Expense order submitted successfully!"})&&await g(),u(!1)},E=async()=>{if(!s)return;u(!0),await m(()=>r.app.expenseOrder.cancelExpenseOrder(s.id),{showSuccessMessage:!0,successMessage:"Expense order cancelled successfully!"})&&await g(),u(!1)};if(i)return t.jsx(C,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:t.jsx(sn,{})});if(h||!s)return t.jsxs(C,{sx:{p:3},children:[t.jsx(dt,{severity:"error",children:h||"Expense order not found"}),t.jsx(he,{startIcon:t.jsx(Ms,{}),onClick:b,sx:{mt:2},children:"Back to Expense Orders"})]});const w=s.status===mt.DRAFT,I=s.status===mt.DRAFT,T=[mt.DRAFT,mt.SUBMITTED].includes(s.status);return t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(he,{startIcon:t.jsx(Ms,{}),onClick:b,sx:{mr:2},children:"Back"}),t.jsx(j,{variant:"h4",component:"h1",sx:{fontWeight:600,flex:1},children:"Expense Order Details"}),t.jsx(Wm,{status:s.status})]}),h&&t.jsx(dt,{severity:"error",sx:{mb:3},children:h}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsxs(F,{item:!0,xs:12,md:8,children:[t.jsxs(ot,{sx:{p:3,mb:3},children:[t.jsx(j,{variant:"h5",sx:{mb:2,fontWeight:600},children:s.title}),t.jsx(j,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:s.description}),t.jsx(Mt,{sx:{my:3}}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Channel"}),t.jsx(j,{variant:"body1",sx:{fontWeight:500},children:s.channel.name})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Expense Type"}),t.jsx(j,{variant:"body1",sx:{fontWeight:500},children:s.type.name})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Amount"}),t.jsx(j,{variant:"h6",sx:{fontWeight:700,color:"primary.main"},children:y(s.amount,s.currency)})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(j,{variant:"body1",children:Vp(new Date(s.createdAt),"PPP")})]})]}),s.receiptUrl&&t.jsxs(t.Fragment,{children:[t.jsx(Mt,{sx:{my:3}}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Receipt"}),t.jsxs(wd,{href:s.receiptUrl,target:"_blank",rel:"noopener noreferrer",sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(eo,{fontSize:"small"}),"View Receipt"]})]})]}),s.notes&&t.jsxs(t.Fragment,{children:[t.jsx(Mt,{sx:{my:3}}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Notes"}),t.jsx(j,{variant:"body1",sx:{fontStyle:"italic"},children:s.notes})]})]})]}),t.jsxs(ot,{sx:{p:3},children:[t.jsx(j,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Actions"}),t.jsxs(C,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[w&&t.jsx(he,{variant:"outlined",startIcon:t.jsx(vs,{}),onClick:S,disabled:d,children:"Edit"}),I&&t.jsx(he,{variant:"contained",startIcon:t.jsx(Cd,{}),onClick:v,disabled:d,children:"Submit for Approval"}),T&&t.jsx(he,{variant:"outlined",color:"error",startIcon:t.jsx(Ns,{}),onClick:E,disabled:d,children:"Cancel"})]})]})]}),t.jsxs(F,{item:!0,xs:12,md:4,children:[t.jsxs(ot,{sx:{p:3,mb:3},children:[t.jsx(j,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Timeline"}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",gap:2},children:[t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:"Created"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Lr(new Date(s.createdAt),{addSuffix:!0})})]}),s.submittedAt&&t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:"Submitted"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Lr(new Date(s.submittedAt),{addSuffix:!0})})]}),s.approvedAt&&t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:s.status===mt.APPROVED?"Approved":"Reviewed"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Lr(new Date(s.approvedAt),{addSuffix:!0})}),s.approver&&t.jsxs(j,{variant:"caption",display:"block",color:"text.secondary",children:["by ",s.approver.displayName]})]}),s.paidAt&&t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:"Paid"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Lr(new Date(s.paidAt),{addSuffix:!0})}),s.paymentReference&&t.jsxs(j,{variant:"caption",display:"block",color:"text.secondary",children:["Ref: ",s.paymentReference]})]})]})]}),s.rejectionReason&&t.jsxs(ot,{sx:{p:3,bgcolor:"error.lighter"},children:[t.jsx(j,{variant:"h6",sx:{mb:1,fontWeight:600,color:"error.main"},children:"Rejection Reason"}),t.jsx(j,{variant:"body2",color:"error.main",children:s.rejectionReason})]})]})]})]})},Qr={ALL:"ALL",NEWS:"NEWS",CHANNELS:"CHANNELS",USERS:"USERS",POLLS:"POLLS",TAGS:"TAGS"},yo={RELEVANCE:"RELEVANCE",DATE:"DATE",POPULARITY:"POPULARITY"},hW=Me(Fe)(({theme:e})=>({marginBottom:e.spacing(2),cursor:"pointer",transition:"all 0.2s ease","&:hover":{boxShadow:e.shadows[4],transform:"translateY(-1px)"}})),u0=Me(Qe)(({theme:e})=>({margin:e.spacing(.5),fontSize:"0.75rem"})),h0=()=>{var Q;const e=da(),n=Pt(),[r,s]=x.useState(1),[o,i]=x.useState(""),[l,d]=x.useState(!0),[u,h]=x.useState([]),[f,m]=x.useState(null),[g,y]=x.useState(!1),[b,S]=x.useState(null),[v,E]=x.useState({type:Qr.ALL,sortBy:yo.RELEVANCE}),[w,I]=x.useState(null),{api:D}=Je(),{execute:T}=et(),R=20;x.useEffect(()=>{const Y=new URLSearchParams(e.search),oe=Y.get("q"),V=Y.get("type");if(oe){i(oe);const Z={...v};V&&V!==Qr.ALL&&(Z.type=V,E(Z)),N(oe,Z)}},[e.search]),x.useEffect(()=>{o&&(s(1),k(1))},[v]);const _=()=>{k(r+1)},k=async(Y=r)=>{if(o){y(!0),S(null);try{const oe={};Object.entries(v).forEach(([Z,Ee])=>{Ee!=null&&Ee!==""&&(oe[Z]=Ee)});const V=await T(()=>D==null?void 0:D.app.search.search(o,oe,{page:Y,limit:R}),{showErrorToast:!0});V&&(h(Y===1?V.items??[]:Z=>[...Z,...V.items??[]]),s(V.metadata.currentPage??1),d(V.metadata.hasNext===!0),m(V))}catch(oe){console.error("Search error:",oe),S(oe.message||"Search failed")}finally{y(!1)}}},N=async(Y,oe)=>{E(oe||v),i(Y),s(1),h([]),d(!0),setTimeout(()=>{k(1)},0)},$=Y=>{const oe={...v,...Y};I(null),o&&N(o,oe)},G=(Y,oe)=>{const V=encodeURIComponent(Y);switch(oe){case"news":n(`${ge.APP_NEWS}?tags=${V}`);break;case"channel":n(`${ge.APP_CHANNELS}?tags=${V}`);break;case"poll":n(`${ge.APP_POLLS}?tags=${V}`);break;default:n(`${ge.APP_NEWS}?tags=${V}`);break}},L=Y=>{var Ee,be;const oe=()=>{switch(Y.type){case"news":return t.jsx(ra,{color:"primary"});case"channel":return t.jsx(Uf,{color:"secondary"});case"user":return t.jsx(Vf,{color:"action"});case"poll":return t.jsx(zf,{color:"info"});case"tag":return t.jsx(Hf,{color:"success"});default:return t.jsx(ra,{color:"primary"})}},V=()=>{switch(Y.type){case"news":return"primary";case"channel":return"secondary";case"user":return"default";case"poll":return"info";case"tag":return"success";default:return"default"}},Z=()=>{switch(Y.type){case"news":n(ge.APP_NEWS_VIEW.replace(":id",Y.id));break;case"channel":n(ge.APP_CHANNEL_VIEW.replace(":channelId",Y.id));break;case"poll":n(ge.APP_POLL_VIEW.replace(":id",Y.id));break;case"tag":n(`${ge.APP_SEARCH}?q=${encodeURIComponent(Y.title)}`);break}};return t.jsx(hW,{onClick:Z,children:t.jsx(Ve,{children:t.jsxs(C,{sx:{display:"flex",alignItems:"flex-start",gap:2},children:[t.jsx(C,{sx:{mt:.5},children:oe()}),t.jsxs(C,{sx:{flexGrow:1},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[t.jsx(j,{variant:"h6",component:"h3",sx:{fontWeight:600},children:Y.title}),t.jsx(Qe,{label:Y.type,size:"small",color:V(),variant:"outlined"})]}),Y.description&&t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:1,lineHeight:1.6},children:Y.description}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap",mb:1},children:[Y.channel&&t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Sn,{sx:{width:20,height:20},children:(be=(Ee=Y==null?void 0:Y.channel)==null?void 0:Ee.name)==null?void 0:be.charAt(0)}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["in ",t.jsx("strong",{children:Y.channel.name})," (@",Y.channel.handle,")"]})]}),Y.handle&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["@",Y.handle]}),Y.publishedAt&&t.jsx(j,{variant:"caption",color:"text.secondary",children:new Date(Y.publishedAt).toLocaleDateString()}),Y.startDate&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Start: ",new Date(Y.startDate).toLocaleDateString()]}),Y.endDate&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["End: ",new Date(Y.endDate).toLocaleDateString()]}),Y.voteCount!==void 0&&t.jsx(u0,{label:`${Y.voteCount} votes`,size:"small",variant:"outlined",color:"info"}),Y.usageCount!==void 0&&t.jsx(u0,{label:`${Y.usageCount} uses`,size:"small",variant:"outlined",color:"success"})]}),Y.tags&&Y.tags.length>0&&t.jsx(C,{sx:{display:"flex",gap:.5,flexWrap:"wrap",mb:1},children:Y.tags.slice(0,5).map((ae,ee)=>t.jsx(Qe,{label:ae,size:"small",variant:"outlined",onClick:Ce=>{Ce.stopPropagation(),G(ae,Y.type)},sx:{fontSize:"0.7rem",cursor:"pointer","&:hover":{backgroundColor:"primary.main",color:"primary.contrastText"}}},ee))}),t.jsxs(C,{sx:{display:"flex",justifyContent:"flex-end",gap:1,pt:1},children:[t.jsx(St,{title:"Bookmark",children:t.jsx(Ne,{size:"small",children:t.jsx(ER,{fontSize:"small"})})}),t.jsx(St,{title:"Share",children:t.jsx(Ne,{size:"small",children:t.jsx(IR,{fontSize:"small"})})})]})]})]})})},Y.id)},H=()=>t.jsx(t.Fragment,{children:Array.from({length:5}).map((Y,oe)=>t.jsxs(ot,{sx:{p:2,mb:2},children:[t.jsx(de,{variant:"text",width:"60%",height:32}),t.jsx(de,{variant:"text",width:"100%",height:20,sx:{mt:1}}),t.jsx(de,{variant:"text",width:"80%",height:20}),t.jsxs(C,{sx:{display:"flex",gap:1,mt:1},children:[t.jsx(de,{variant:"rounded",width:60,height:24}),t.jsx(de,{variant:"rounded",width:80,height:24})]})]},oe))}),K=!!w,J=Y=>{I(Y.currentTarget)},q=()=>{I(null)};return t.jsxs(It,{maxWidth:"lg",sx:{py:3},children:[(u.length>0||g)&&o&&t.jsxs(C,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h5",sx:{mb:1},children:"Search Results"}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Found ",(((Q=f==null?void 0:f.metadata)==null?void 0:Q.total)||0).toLocaleString(),' results for "',o,'"']}),(v.type!==Qr.ALL||v.sortBy!==yo.RELEVANCE)&&t.jsxs(pe,{direction:"row",spacing:1,sx:{mt:2},children:[t.jsx(j,{variant:"caption",color:"text.secondary",children:"Active filters:"}),v.type!==Qr.ALL&&t.jsx(Qe,{label:`Type: ${v.type}`,size:"small",onDelete:()=>$({type:Qr.ALL})}),v.sortBy!==yo.RELEVANCE&&t.jsx(Qe,{label:`Sort: ${v.sortBy}`,size:"small",onDelete:()=>$({sortBy:yo.RELEVANCE})})]})]}),t.jsx(he,{variant:"outlined",startIcon:t.jsx(kv,{}),onClick:J,sx:{minWidth:120},children:"Filters"})]}),t.jsx(wR,{open:K,anchorEl:w,onClose:q,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:t.jsxs(ot,{sx:{p:3,minWidth:280},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[t.jsx(j,{variant:"h6",children:"Filters"}),t.jsx(Ne,{size:"small",onClick:q,children:t.jsx(CR,{fontSize:"small"})})]}),t.jsxs(ht,{fullWidth:!0,sx:{mb:2},children:[t.jsx(Ct,{children:"Content Type"}),t.jsxs(xt,{value:v.type||Qr.ALL,label:"Content Type",onChange:Y=>$({type:Y.target.value}),children:[t.jsx(je,{value:Qr.ALL,children:"All Content"}),t.jsx(je,{value:Qr.NEWS,children:"Articles"}),t.jsx(je,{value:Qr.CHANNELS,children:"Channels"}),t.jsx(je,{value:Qr.USERS,children:"Journalists"}),t.jsx(je,{value:Qr.POLLS,children:"Polls"}),t.jsx(je,{value:Qr.TAGS,children:"Tags"})]})]}),t.jsxs(ht,{fullWidth:!0,sx:{mb:2},children:[t.jsx(Ct,{children:"Sort By"}),t.jsxs(xt,{value:v.sortBy||yo.RELEVANCE,label:"Sort By",onChange:Y=>$({sortBy:Y.target.value}),children:[t.jsx(je,{value:yo.RELEVANCE,children:"Relevance"}),t.jsx(je,{value:yo.DATE,children:"Date"}),t.jsx(je,{value:yo.POPULARITY,children:"Popularity"})]})]}),t.jsx(j,{variant:"subtitle2",sx:{mb:1},children:"Time Period"}),t.jsxs(PR,{value:v.dateFrom?"custom":"all",exclusive:!0,onChange:(Y,oe)=>{if(oe==="all")$({dateFrom:void 0,dateTo:void 0});else if(oe){const V=new Date,Ee={day:1,week:7,month:30,year:365}[oe]||0,be=new Date(V.getTime()-Ee*24*60*60*1e3);$({dateFrom:be,dateTo:V})}},size:"small",sx:{mb:2,width:"100%"},children:[t.jsx(Ph,{value:"all",sx:{flex:1},children:"All"}),t.jsx(Ph,{value:"week",sx:{flex:1},children:"Week"}),t.jsx(Ph,{value:"month",sx:{flex:1},children:"Month"})]})]})}),b&&t.jsx(dt,{severity:"error",sx:{mb:3},children:b}),g&&u.length===0&&H(),u.length===0&&!g&&o?t.jsxs(ot,{sx:{p:4,textAlign:"center"},children:[t.jsx(j,{variant:"h6",color:"text.secondary",children:"No results found"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Try adjusting your search terms or filters"})]}):u.length>0?t.jsx(js,{dataLength:u.length,next:_,hasMore:l,loader:t.jsx(C,{sx:{mt:2},children:H()}),endMessage:t.jsx(C,{sx:{textAlign:"center",mt:4,color:"text.secondary",fontSize:"0.875rem"},children:"No more results to display"}),children:u.map(L)}):null,!g&&!f&&!b&&t.jsxs(ot,{sx:{p:6,textAlign:"center"},children:[t.jsx(j,{variant:"h5",color:"text.secondary",sx:{mb:2},children:"Start your search"}),t.jsx(j,{variant:"body1",color:"text.secondary",children:"Search for articles, channels, journalists, polls, or tags to get started"})]})]})};var Um={},fW=Ke;Object.defineProperty(Um,"__esModule",{value:!0});var HS=Um.default=void 0,pW=fW(Xe()),mW=t;HS=Um.default=(0,pW.default)((0,mW.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload");const Cf=({label:e,value:n,onChange:r})=>{const s=async o=>{var i;(i=o.target.files)==null||i[0]};return t.jsx(C,{sx:{width:"100%",height:200,border:"2px dashed",borderColor:"divider",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden"},children:n?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:n,alt:"Cover",style:{width:"100%",height:"100%",objectFit:"cover"}}),t.jsx(he,{onClick:()=>r(null),sx:{position:"absolute",bottom:8,right:8},children:"Remove"})]}):t.jsxs(he,{component:"label",startIcon:t.jsx(HS,{}),children:[e??"Upload Image",t.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:s})]})})};var zm={},xW=Ke;Object.defineProperty(zm,"__esModule",{value:!0});var GS=zm.default=void 0,gW=xW(Xe()),bW=t;GS=zm.default=(0,gW.default)((0,bW.jsx)("path",{d:"M14 2H6.01c-1.1 0-2 .89-2 2L4 20c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8zm-1 7V3.5L18.5 9zm1 5 2-1.06v4.12L14 16v1c0 .55-.45 1-1 1H9c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h4c.55 0 1 .45 1 1z"}),"VideoFile");var Hm={},yW=Ke;Object.defineProperty(Hm,"__esModule",{value:!0});var fa=Hm.default=void 0,vW=yW(Xe()),jW=t;fa=Hm.default=(0,vW.default)((0,jW.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");const SW=({label:e,value:n,onChange:r})=>{const s=async i=>{var d;const l=(d=i.target.files)==null?void 0:d[0];if(l){if(l.size>52428800){alert("Video file size must be less than 50MB");return}const u=URL.createObjectURL(l);r(u)}},o=()=>{n&&URL.revokeObjectURL(n),r(null)};return t.jsx(C,{sx:{width:"100%",height:250,border:"2px dashed",borderColor:"divider",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",bgcolor:"background.paper"},children:n?t.jsxs(t.Fragment,{children:[t.jsx("video",{src:n,controls:!0,style:{width:"100%",height:"100%",objectFit:"cover"},preload:"metadata"}),t.jsx(he,{onClick:o,startIcon:t.jsx(fa,{}),color:"error",variant:"contained",size:"small",sx:{position:"absolute",bottom:8,right:8,opacity:.9},children:"Remove"})]}):t.jsxs(C,{sx:{textAlign:"center",p:3},children:[t.jsxs(he,{component:"label",startIcon:t.jsx(GS,{}),variant:"outlined",size:"large",sx:{mb:2},children:[e??"Upload Video",t.jsx("input",{type:"file",hidden:!0,accept:"video/*",onChange:s})]}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"Upload short videos (max 50MB)"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:"Supported formats: MP4, WebM, MOV"})]})})},YS=({value:e,onChange:n,mediaTypeId:r,title:s="Media",description:o="Upload an image or video",useNewsFormats:i=!0})=>{const[l,d]=x.useState(0),u=i?rd.IMAGE:So.IMAGE,h=i?rd.VIDEO:So.VIDEO,f=y=>{n(y?{id:"0",url:y,type:r,format:u}:null)},m=y=>{n(y?{id:"0",url:y,type:r,format:h}:null)},g=(y,b)=>{d(b),e&&n(null)};return t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:s}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:o}),t.jsx(C,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:t.jsxs($s,{value:l,onChange:g,children:[t.jsx(Mn,{label:"Image"}),t.jsx(Mn,{label:"Video"})]})}),l===0&&t.jsx(Cf,{label:"Upload Image",value:(e==null?void 0:e.format)===u?e.url:null,onChange:f}),l===1&&t.jsx(SW,{label:"Upload Video",value:(e==null?void 0:e.format)===h?e.url:null,onChange:m})]})},qS=({initialData:e,onSubmit:n,submitButtonText:r,isEdit:s})=>{var D;const{profile:o,channelRelations:{hasChannel:i}}=Cs(),l=Pt();x.useEffect(()=>{o&&(!o.staffChannels||o.staffChannels.length)},[o]);const[d,u]=x.useState(()=>({title:(e==null?void 0:e.title)||"",channelId:(e==null?void 0:e.channelId)||"",status:(e==null?void 0:e.status)||In.PUBLISHED,requiredTierId:(e==null?void 0:e.requiredTierId)||null,isPremium:(e==null?void 0:e.isPremium)||!1,content:(e==null?void 0:e.content)||""})),[h,f]=x.useState(!1),[m,g]=x.useState(((D=e==null?void 0:e.media)==null?void 0:D[0])||null),[y,b]=x.useState((e==null?void 0:e.socialLinks)||[]),[S,v]=x.useState(null),E=[],w=async T=>{T.preventDefault(),f(!0),v(null);try{const R={...d,media:m?[m]:[],socialLinks:y};await n(R)}catch(R){console.error("Failed to submit news:",R),v("Failed to submit news")}finally{f(!1)}},I=x.useCallback(T=>{u(R=>({...R,content:JSON.stringify(T)}))},[]);return i()?t.jsx("form",{onSubmit:w,children:t.jsxs(pe,{spacing:4,children:[S&&t.jsx(dt,{severity:"error",sx:{width:"100%"},children:S}),o&&!i()&&t.jsx(dt,{severity:"warning",action:t.jsx(he,{color:"inherit",size:"small",onClick:()=>l(ge.STUDIO_CHANNEL_CREATE),children:"Create Channel"}),children:"You need to create a channel before you can create news articles"}),i()?t.jsxs(t.Fragment,{children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{mb:3},children:"Media"}),t.jsx(pe,{spacing:4,children:t.jsx(C,{children:t.jsx(YS,{title:"Cover Media",description:"Upload an image or short video that will be displayed at the top of your news article and in previews.",value:m?{id:m.id||"0",url:m.url,type:m.type,format:m.format}:null,onChange:T=>g(T?{id:T.id,url:T.url,type:T.type,format:T.format,newsId:""}:null),mediaTypeId:jl.COVER})})})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{mb:3},children:"Basic Info"}),t.jsxs(pe,{spacing:4,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Title"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Create a clear and engaging title for your news article. This will be the first thing readers see."}),t.jsx(nt,{value:d.title,onChange:T=>u(R=>({...R,title:T.target.value})),required:!0,fullWidth:!0,placeholder:"Enter news title"})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Channel"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Select the channel where this news will be published. Choose the most relevant channel for your content."}),t.jsx(ht,{fullWidth:!0,disabled:s,children:t.jsx(xt,{value:d.channelId,onChange:T=>u(R=>({...R,channelId:T.target.value})),required:!0,children:o==null?void 0:o.staffChannels.map(T=>t.jsx(je,{value:T.channelId,children:T.channel.name},T.id))})})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Content"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Write your news article using the editor below. You can add text, images, and other media elements."}),t.jsx(zd,{data:d.content?JSON.parse(d.content):void 0,onChange:I,placeholder:"Start writing your news content...",borderColor:T=>T.palette.mode==="dark"?ue(T.palette.common.white,.23):ue(T.palette.common.black,.23)})]})]})]}),t.jsx(C,{children:t.jsx(jm,{links:y,onChange:b})}),t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{mb:3},children:"Publishing Options"}),t.jsxs(pe,{spacing:4,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Premium Content"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Mark this content as premium to restrict access to specific subscribers."}),t.jsx(Do,{control:t.jsx(Ya,{checked:d.isPremium,onChange:T=>u(R=>({...R,isPremium:T.target.checked}))}),label:"Premium Content"})]}),d.isPremium&&t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Required Subscription Tier"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Select which subscription tier is required to access this content. Higher tiers will automatically have access to content from lower tiers."}),t.jsx(ht,{fullWidth:!0,children:t.jsx(xt,{value:d.requiredTierId||"",onChange:T=>u(R=>({...R,requiredTierId:T.target.value})),required:d.isPremium,children:E.map(T=>t.jsxs(je,{value:T.id,children:[T.name," - ",T.description]},T.id))})})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Status"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Set the visibility status of your news article."}),t.jsx(ht,{fullWidth:!0,children:t.jsxs(xt,{value:d.status,onChange:T=>{const R=Number(T.target.value);u(_=>({..._,status:R}))},children:[t.jsx(je,{value:In.DRAFT,children:"Draft - Save for later"}),t.jsx(je,{value:In.PUBLISHED,children:"Published - Visible to readers"}),t.jsx(je,{value:In.PENDING_REVIEW,children:"Pending Review - Submit for approval"}),t.jsx(je,{value:In.ARCHIVED,children:"Archived - No longer visible"})]})})]})]})]}),t.jsx(he,{type:"submit",variant:"contained",disabled:h||!i(),sx:{py:1.5,textTransform:"none",fontWeight:600},children:h?"Submitting...":r})]}):null]})}):t.jsx(C,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",p:3},children:t.jsx(so,{title:"Channel Required",description:"You need to create a channel before you can start publishing news articles.",icon:t.jsx(vl,{sx:{fontSize:48}}),action:{label:"Create Channel",onClick:()=>l(ge.STUDIO_CHANNEL_CREATE)}})})},wW=()=>{const{api:e}=Je(),n=Pt(),{execute:r}=et(),s=async o=>{const i=await r(()=>e==null?void 0:e.app.news.createNews(o),{showSuccessMessage:!0,successMessage:"News article created successfully!"});i&&n(ge.APP_NEWS_VIEW.replace(":id",i.id))};return t.jsxs(C,{sx:{p:3,maxWidth:800},children:[t.jsx(j,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Create News"}),t.jsx(qS,{onSubmit:s,submitButtonText:"Create News",isCreate:!0})]})},CW=()=>{const{id:e}=is(),n=Pt(),{api:r}=Je(),[s,o]=x.useState(null),{execute:i}=et(),{execute:l}=et();x.useEffect(()=>{(async()=>{if(!e)return;const h=await i(()=>r==null?void 0:r.app.news.get(e),{showErrorToast:!0});h&&o(h)})()},[e,r==null?void 0:r.app.news,i]);const d=async u=>{e&&(await l(()=>r==null?void 0:r.app.news.update(e,u),{showSuccessMessage:!0,successMessage:"News article updated successfully!"}),n(`/news/${e}`))};return s?t.jsxs(It,{sx:{maxWidth:800,mx:"auto",p:3},children:[t.jsx(j,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Update News"}),t.jsx(qS,{initialData:s,onSubmit:d,submitButtonText:"Update News",isEdit:!0})]}):null},PW=()=>t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsx(de,{variant:"rectangular",width:"100%",height:300,sx:{borderRadius:2,mb:3}})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx(Fe,{children:t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[t.jsx(de,{variant:"text",width:"60%",height:40}),t.jsx(pe,{direction:"row",spacing:1,children:[1,2,3].map(e=>t.jsx(de,{variant:"circular",width:40,height:40},e))})]}),t.jsx(de,{variant:"rectangular",width:"100%",height:300,sx:{mb:3,borderRadius:1}}),t.jsxs(pe,{spacing:2,sx:{mb:3},children:[t.jsx(de,{variant:"text",width:"100%"}),t.jsx(de,{variant:"text",width:"95%"}),t.jsx(de,{variant:"text",width:"90%"}),t.jsx(de,{variant:"text",width:"85%"}),t.jsx(de,{variant:"text",width:"95%"})]}),t.jsx(de,{variant:"rectangular",width:"100%",height:80,sx:{mb:3,borderRadius:1}}),t.jsx(pe,{direction:"row",spacing:1,children:[1,2,3,4].map(e=>t.jsx(de,{variant:"rounded",width:80,height:32},e))})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsx(de,{variant:"text",width:"50%",height:32,sx:{mb:2}}),t.jsx(pe,{spacing:2,children:[1,2,3,4,5].map(e=>t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[t.jsx(de,{variant:"text",width:"40%"}),t.jsx(de,{variant:"text",width:"20%"})]}),t.jsx(de,{variant:"rectangular",width:"100%",height:8,sx:{borderRadius:1}})]},e))})]})})})]})}),EW=()=>{const{id:e}=is(),{api:n}=Je(),{execute:r}=et(),[s,o]=x.useState(null),[i,l]=x.useState(!0);if(x.useEffect(()=>{(async()=>{if(e){l(!0);const f=await r(()=>n==null?void 0:n.app.news.get(e),{showErrorToast:!0});f&&o(f),l(!1)}})()},[e,r]),i)return t.jsx(PW,{});if(!s)return t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsx(j,{variant:"h4",children:"Entry not found"})});const d=s.media.find(h=>h.type===jl.COVER),u=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(h);return t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsxs(C,{sx:{height:300,width:"100%",position:"relative",mb:3,borderRadius:2,overflow:"hidden"},children:[t.jsx(C,{component:"img",src:(d==null?void 0:d.url)||Wd,alt:s.title,sx:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"}}),t.jsxs(C,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(transparent, rgba(0,0,0,0.7))",p:3,color:"white"},children:[t.jsx(j,{variant:"h4",component:"h1",gutterBottom:!0,children:s.title}),t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsxs(C,{component:Qn,to:ge.APP_CHANNEL_VIEW.replace(":channelId",s.channel.id),sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(255, 255, 255, 0.1)",color:"white",px:2,py:1,borderRadius:2,textDecoration:"none",transition:"all 0.2s ease-in-out",border:"1px solid rgba(255, 255, 255, 0.2)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.2)",transform:"translateY(-2px)"}},children:[t.jsx(Sl,{sx:{mr:1}}),t.jsx(j,{variant:"subtitle2",children:s.channel.name})]}),t.jsxs(C,{sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(0, 0, 0, 0.3)",px:2,py:1,borderRadius:2,border:"1px solid rgba(255, 255, 255, 0.1)"},children:[t.jsx(yl,{sx:{mr:1,fontSize:"0.9rem"}}),t.jsx(j,{variant:"caption",children:s.creator.displayName})]})]}),t.jsx(j,{variant:"subtitle1",children:new Date(s.publishedAt).toLocaleDateString()})]})]})]})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx(Fe,{children:t.jsxs(C,{sx:{p:3},children:[t.jsx(zd,{data:IS(s.content),readOnly:!0,borderColor:h=>h.palette.mode==="dark"?ue(h.palette.common.white,.1):ue(h.palette.common.black,.1)}),t.jsx(C,{sx:{mt:2},children:s.tags.map(h=>t.jsx(Qe,{label:h.title,variant:"outlined",sx:{mr:1,mb:1}},h.id))})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(pe,{spacing:3,children:[t.jsx(jm,{links:s.socialLinks}),s.qualityMetrics&&t.jsxs(ot,{elevation:0,sx:{p:2,bgcolor:"success.light",color:"success.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[t.jsx(Cm,{fontSize:"large"}),t.jsxs(C,{children:[t.jsx(j,{variant:"overline",children:"Quality Score"}),t.jsxs(j,{variant:"h4",component:"div",children:[s.qualityMetrics.overallQualityScore.toFixed(1),"/10"]})]})]}),s.newsFund&&t.jsxs(ot,{elevation:0,sx:{p:2,bgcolor:"primary.light",color:"primary.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[t.jsx(Bd,{fontSize:"large"}),t.jsxs(C,{children:[t.jsx(j,{variant:"overline",children:"News Fund"}),t.jsx(j,{variant:"h4",component:"div",children:u(s.newsFund.amount)})]})]})]})})]})})};var Gm={},IW=Ke;Object.defineProperty(Gm,"__esModule",{value:!0});var Yd=Gm.default=void 0,DW=IW(Xe()),TW=t;Yd=Gm.default=(0,DW.default)((0,TW.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert");var Ym={},AW=Ke;Object.defineProperty(Ym,"__esModule",{value:!0});var wl=Ym.default=void 0,RW=AW(Xe()),kW=t;wl=Ym.default=(0,RW.default)((0,kW.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");const qm=({open:e,onClose:n,onConfirm:r,title:s,content:o,confirmText:i="Confirm",cancelText:l="Cancel",confirmColor:d="primary"})=>t.jsxs(Kt,{open:e,onClose:n,PaperProps:{sx:{width:"100%",maxWidth:400,borderRadius:2}},children:[t.jsx(tn,{sx:{pb:1,fontWeight:600},children:s}),t.jsx(Jt,{children:t.jsx(DR,{sx:{color:"text.secondary",fontSize:"0.875rem"},children:o})}),t.jsxs(Xt,{sx:{px:3,pb:2},children:[t.jsx(he,{onClick:n,variant:"outlined",color:"inherit",sx:{textTransform:"none",fontWeight:600,minWidth:100},children:l}),t.jsx(he,{onClick:r,variant:"contained",color:d,autoFocus:!0,sx:{textTransform:"none",fontWeight:600,minWidth:100},children:i})]})]}),_W=({news:e,onRefresh:n})=>{var I,D,T;const[r,s]=x.useState(null),[o,i]=x.useState(!1),l=Pt(),{api:d}=Je(),{execute:u}=et(),h=cn(),f=R=>{R.stopPropagation(),s(R.currentTarget)},m=()=>{s(null)},g=()=>{l(ge.APP_NEWS_VIEW.replace(":id",e.id)),m()},y=()=>{l(ge.STUDIO_NEWS_EDIT.replace(":id",e.id)),m()},b=()=>{i(!0),m()},S=async()=>{await u(()=>d==null?void 0:d.app.news.delete(e.id),{showSuccessMessage:!0,successMessage:"News article deleted successfully"})&&n(),i(!1)},v=(I=e.media)==null?void 0:I.find(R=>R.type===jl.COVER),w=(()=>{const R=new Date;return new Date(e.publishedAt)>R?{label:"Scheduled",color:"warning"}:{label:"Published",color:"success"}})();return t.jsxs(Fe,{onClick:()=>l(ge.STUDIO_NEWS_VIEW.replace(":id",e.id)),sx:{height:"100%",display:"flex",flexDirection:"column",position:"relative",cursor:"pointer",bgcolor:R=>ue(R.palette.mode==="dark"?R.palette.common.white:R.palette.common.black,R.palette.mode==="dark"?.05:.03),transition:h.transitions.create(["background-color","box-shadow","transform"]),"&:hover":{bgcolor:R=>ue(R.palette.mode==="dark"?R.palette.common.white:R.palette.common.black,R.palette.mode==="dark"?.08:.05),transform:"translateY(-2px)",boxShadow:R=>`0 4px 12px ${ue(R.palette.primary.main,.1)}`}},children:[t.jsx(C,{sx:{height:{xs:120,sm:140},backgroundImage:`url(${(v==null?void 0:v.url)||Wd})`,backgroundSize:"cover",backgroundPosition:"center",borderTopLeftRadius:1,borderTopRightRadius:1,position:"relative","&::after":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:R=>`linear-gradient(180deg, 
              ${ue(R.palette.background.default,0)} 0%, 
              ${ue(R.palette.background.default,.8)} 100%)`}},children:t.jsx(Ne,{onClick:f,sx:{position:"absolute",top:8,right:8,zIndex:1,color:"text.primary",bgcolor:R=>ue(R.palette.background.paper,.8),backdropFilter:"blur(4px)","&:hover":{bgcolor:R=>ue(R.palette.background.paper,.95)}},children:t.jsx(Yd,{fontSize:"small"})})}),t.jsx(Ve,{sx:{flexGrow:1,p:{xs:2,sm:2.5}},children:t.jsxs(pe,{spacing:{xs:1.5,sm:2},children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:.5,fontSize:{xs:"1rem",sm:"1.125rem"},display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",lineHeight:1.3},children:e.title}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:1},children:[t.jsx(Sl,{sx:{fontSize:"0.875rem",mr:.5,color:"text.secondary"}}),t.jsx(j,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem"},children:e.channel.name})]}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",fontSize:{xs:"0.875rem",sm:"0.875rem"},lineHeight:1.4},children:((D=e.content)==null?void 0:D.substring(0,100))+"..."})]}),t.jsxs(pe,{direction:"row",spacing:1,flexWrap:"wrap",sx:{gap:1},children:[t.jsx(Qe,{size:"small",label:w.label,color:w.color,sx:{height:24,fontSize:"0.75rem","& .MuiChip-label":{px:1}}}),t.jsx(Qe,{size:"small",label:new Date(e.publishedAt).toLocaleDateString(),sx:{height:24,fontSize:"0.75rem",bgcolor:R=>ue(R.palette.text.secondary,.1),color:"text.secondary","& .MuiChip-label":{px:1}}}),((T=e==null?void 0:e.tags)==null?void 0:T.length)>0&&t.jsx(Qe,{size:"small",label:`${e.tags.length} tags`,sx:{height:24,fontSize:"0.75rem",bgcolor:R=>ue(R.palette.secondary.main,R.palette.mode==="dark"?.15:.08),color:"secondary.main","& .MuiChip-label":{px:1}}})]})]})}),t.jsxs(Ro,{anchorEl:r,open:!!r,onClose:m,onClick:R=>R.stopPropagation(),PaperProps:{sx:{width:200,mt:1}},children:[t.jsxs(je,{onClick:g,children:[t.jsx(qt,{children:t.jsx(ha,{fontSize:"small"})}),t.jsx(Wt,{primary:"View Article"})]}),t.jsxs(je,{onClick:y,children:[t.jsx(qt,{children:t.jsx(wl,{fontSize:"small"})}),t.jsx(Wt,{primary:"Edit Article"})]}),t.jsxs(je,{onClick:b,sx:{color:"error.main"},children:[t.jsx(qt,{sx:{color:"inherit"},children:t.jsx(fa,{fontSize:"small"})}),t.jsx(Wt,{primary:"Delete Article"})]})]}),t.jsx(qm,{open:o,title:"Delete News Article",content:"Are you sure you want to delete this news article? This action cannot be undone.",onConfirm:S,onClose:()=>i(!1),confirmText:"Delete",confirmColor:"error"})]})},OW=()=>{const[e,n]=x.useState([]),[r,s]=x.useState(1),[o,i]=x.useState(!0),[l,d]=x.useState(!0),{api:u}=Je(),{profile:h}=Cs(),f=Pt(),{execute:m}=et(),g=cn(),y=()=>{b(r+1)},b=async(v=r)=>{if(!h)return;const E=await m(()=>u==null?void 0:u.app.news.getCreatorNews(h.id,{page:v,limit:12}),{showErrorToast:!0});E&&(n(w=>v===1?(E==null?void 0:E.items)??[]:[...w,...(E==null?void 0:E.items)??[]]),s((E==null?void 0:E.metadata.currentPage)??1),i((E==null?void 0:E.metadata.hasNext)===!0)),d(!1)};x.useEffect(()=>{h&&b(1)},[h]);const S=()=>t.jsxs(C,{sx:{p:2,borderRadius:1,bgcolor:v=>ue(v.palette.mode==="dark"?v.palette.common.white:v.palette.common.black,v.palette.mode==="dark"?.05:.03),height:{xs:280,sm:320},transition:g.transitions.create(["background-color","height"])},children:[t.jsx(de,{variant:"rectangular",sx:{borderRadius:1,height:{xs:120,sm:140},mb:2}}),t.jsxs(C,{sx:{p:1},children:[t.jsx(de,{width:"90%",height:24,sx:{mb:1}}),t.jsx(de,{width:"60%",height:16,sx:{mb:1}}),t.jsx(de,{width:"95%",height:20,sx:{mb:1}}),t.jsx(de,{width:"80%",height:20,sx:{mb:2}}),t.jsxs(C,{sx:{display:"flex",gap:1},children:[t.jsx(de,{width:"25%",height:24}),t.jsx(de,{width:"30%",height:24}),t.jsx(de,{width:"20%",height:24})]})]})]});return t.jsxs(C,{sx:{px:{xs:2,sm:3,md:4},py:{xs:2,sm:3},maxWidth:"lg",mx:"auto",width:"100%"},children:[t.jsx(C,{sx:{mb:{xs:2,sm:3}},children:t.jsx(j,{variant:"h5",sx:{fontWeight:600,fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:l?t.jsx(de,{width:150}):"My News"})}),l?t.jsx(F,{container:!0,spacing:2,children:[1,2,3,4].map(v=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(S,{})},v))}):e.length===0?t.jsx(so,{title:"No News Yet",description:"Start creating your first news article to share with your subscribers.",icon:t.jsx(em,{sx:{fontSize:{xs:40,sm:48}}}),action:{label:"Create News",onClick:()=>f(ge.STUDIO_NEWS_CREATE)}}):t.jsx(js,{dataLength:e.length,next:y,hasMore:o,loader:t.jsx(F,{container:!0,spacing:2,sx:{mt:.5},children:[1,2,3].map(v=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(S,{})},v))}),children:t.jsx(F,{container:!0,spacing:2,children:e.map(v=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(_W,{news:v,onRefresh:()=>b(1)})},v.id))})})]})},MW=({channel:e,onRefresh:n})=>{var y;const r=Pt(),{api:s}=Je(),{execute:o}=et(),[i,l]=x.useState(null),[d,u]=x.useState(!1),h=cn(),f=b=>{b.stopPropagation(),l(b.currentTarget)},m=()=>{l(null)},g=async()=>{await o(()=>s==null?void 0:s.app.channel.deleteChannel(e.id),{showSuccessMessage:!0,successMessage:"Channel deleted successfully"})&&n(),u(!1)};return t.jsxs(t.Fragment,{children:[t.jsxs(Fe,{onClick:()=>r(ge.STUDIO_CHANNEL_EDIT.replace(":channelId",e.id)),sx:{height:"100%",display:"flex",flexDirection:"column",position:"relative",cursor:"pointer",transition:h.transitions.create(["box-shadow","transform"],{duration:h.transitions.duration.shorter}),"&:hover":{transform:"translateY(-2px)",boxShadow:b=>`0 4px 12px ${ue(b.palette.primary.main,.1)}`}},children:[t.jsx(C,{sx:{height:{xs:100,sm:120},backgroundImage:`url(${(e==null?void 0:e.bannerUrl)||"https://via.placeholder.com/600x400"})`,backgroundSize:"cover",backgroundPosition:"center",borderTopLeftRadius:1,borderTopRightRadius:1,position:"relative","&::after":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:b=>`linear-gradient(180deg, 
                ${ue(b.palette.background.default,0)} 0%, 
                ${ue(b.palette.background.default,.8)} 100%)`}},children:t.jsx(Ne,{onClick:f,sx:{position:"absolute",top:8,right:8,zIndex:1,color:"text.primary",bgcolor:b=>ue(b.palette.background.paper,.8),backdropFilter:"blur(4px)","&:hover":{bgcolor:b=>ue(b.palette.background.paper,.95)}},children:t.jsx(Yd,{fontSize:"small"})})}),t.jsx(Ve,{sx:{flexGrow:1,p:{xs:2,sm:2.5}},children:t.jsxs(pe,{spacing:{xs:1.5,sm:2},children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:.5,fontSize:{xs:"1rem",sm:"1.125rem"}},children:e.name}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",fontSize:{xs:"0.875rem",sm:"0.875rem"},lineHeight:1.5},children:e.description})]}),t.jsxs(pe,{direction:"row",spacing:1,flexWrap:"wrap",sx:{gap:1},children:[t.jsx(Qe,{size:"small",label:`${(y=e==null?void 0:e.stats)==null?void 0:y.activeSubscriptionCount} subscribers`,sx:{height:24,fontSize:"0.75rem",bgcolor:b=>ue(b.palette.primary.main,b.palette.mode==="dark"?.15:.08),color:"primary.main","& .MuiChip-label":{px:1}}}),t.jsx(Qe,{size:"small",label:"10 news",sx:{height:24,fontSize:"0.75rem",bgcolor:b=>ue(b.palette.secondary.main,b.palette.mode==="dark"?.15:.08),color:"secondary.main","& .MuiChip-label":{px:1}}})]})]})})]}),t.jsxs(Ro,{anchorEl:i,open:!!i,onClose:m,onClick:b=>b.stopPropagation(),PaperProps:{sx:{width:200,mt:1}},children:[t.jsxs(je,{onClick:()=>{r(ge.STUDIO_CHANNEL_EDIT.replace(":channelId",e.id)),m()},children:[t.jsx(qt,{children:t.jsx(wl,{fontSize:"small"})}),t.jsx(Wt,{primary:"Edit Channel"})]}),t.jsxs(je,{onClick:()=>{r(ge.APP_CHANNEL_VIEW.replace(":channelId",e.id)),m()},children:[t.jsx(qt,{children:t.jsx(ha,{fontSize:"small"})}),t.jsx(Wt,{primary:"View Public Page"})]}),t.jsxs(je,{onClick:()=>{u(!0),m()},sx:{color:"error.main"},children:[t.jsx(qt,{sx:{color:"inherit"},children:t.jsx(fa,{fontSize:"small"})}),t.jsx(Wt,{primary:"Delete Channel"})]})]}),t.jsx(qm,{open:d,onClose:()=>u(!1),onConfirm:g,title:"Delete Channel",content:"Are you sure you want to delete this channel? This action cannot be undone.",confirmText:"Delete",confirmColor:"error"})]})},NW=()=>{const[e,n]=x.useState([]),[r,s]=x.useState(1),[o,i]=x.useState(!0),[l,d]=x.useState(!0),{api:u}=Je(),h=Pt(),f=cn(),{execute:m}=et(),g=()=>{y(r+1)},y=async(S=r)=>{const v=await m(()=>u==null?void 0:u.studio.getMyChannels(),{showErrorToast:!0});v&&(n(E=>S===1?(v==null?void 0:v.items)??[]:[...E,...(v==null?void 0:v.items)??[]]),s((v==null?void 0:v.metadata.currentPage)??1),i((v==null?void 0:v.metadata.hasNext)===!0)),d(!1)};x.useEffect(()=>{y(1)},[]);const b=()=>t.jsxs(C,{sx:{p:2,borderRadius:1,bgcolor:S=>ue(S.palette.mode==="dark"?S.palette.common.white:S.palette.common.black,S.palette.mode==="dark"?.05:.03),height:{xs:180,sm:200},transition:f.transitions.create(["background-color","height"])},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[t.jsx(de,{variant:"circular",width:32,height:32,sx:{mr:1.5}}),t.jsxs(C,{sx:{width:"100%"},children:[t.jsx(de,{width:"60%",height:20}),t.jsx(de,{width:"40%",height:16})]})]}),t.jsx(de,{variant:"rectangular",sx:{borderRadius:1,height:{xs:70,sm:80}}}),t.jsx(C,{sx:{mt:1.5},children:t.jsx(de,{width:"30%",height:20})})]});return t.jsxs(C,{sx:{px:{xs:2,sm:3,md:4},py:{xs:2,sm:3},maxWidth:"lg",mx:"auto",width:"100%"},children:[t.jsx(C,{sx:{mb:{xs:2,sm:3}},children:t.jsx(j,{variant:"h5",sx:{fontWeight:600,fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:l?t.jsx(de,{width:150}):"My Channels"})}),l?t.jsx(F,{container:!0,spacing:2,children:[1,2].map(S=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(b,{})},S))}):e.length===0?t.jsx(so,{title:"No Channels Yet",description:"Create your first channel to start publishing news and connecting with subscribers.",icon:t.jsx(vl,{sx:{fontSize:{xs:40,sm:48}}}),action:{label:"Create Channel",onClick:()=>h(ge.STUDIO_CHANNEL_CREATE)}}):t.jsx(js,{dataLength:e.length,next:g,hasMore:o,loader:t.jsx(F,{container:!0,spacing:2,sx:{mt:.5},children:[1,2].map(S=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(b,{})},S))}),children:t.jsx(F,{container:!0,spacing:2,children:e.map(S=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(MW,{channel:S,onRefresh:()=>y(1)})},S.id))})})]})},Bn={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE",PRIVATE:"PRIVATE",SUSPENDED:"SUSPENDED",DELETED:"DELETED"};function LW(e){switch(e){case Bn.ACTIVE:return"Active";case Bn.INACTIVE:return"Inactive";case Bn.PRIVATE:return"Private";case Bn.SUSPENDED:return"Suspended";case Bn.DELETED:return"Deleted";default:return e}}function $W(e){switch(e){case Bn.ACTIVE:return"success";case Bn.INACTIVE:return"secondary";case Bn.PRIVATE:return"info";case Bn.SUSPENDED:return"warning";case Bn.DELETED:return"error";default:return"default"}}const FW=[{value:Bn.ACTIVE,label:"Active"},{value:Bn.INACTIVE,label:"Inactive"},{value:Bn.PRIVATE,label:"Private"},{value:Bn.SUSPENDED,label:"Suspended"},{value:Bn.DELETED,label:"Deleted"}],Jn={USD:{code:"USD",decimals:2,symbol:"$",name:"US Dollar"},EUR:{code:"EUR",decimals:2,symbol:"",name:"Euro"},GBP:{code:"GBP",decimals:2,symbol:"",name:"British Pound"},JPY:{code:"JPY",decimals:0,symbol:"",name:"Japanese Yen"},CAD:{code:"CAD",decimals:2,symbol:"C$",name:"Canadian Dollar"},AUD:{code:"AUD",decimals:2,symbol:"A$",name:"Australian Dollar"},CHF:{code:"CHF",decimals:2,symbol:"CHF",name:"Swiss Franc"},CNY:{code:"CNY",decimals:2,symbol:"",name:"Chinese Yuan"},INR:{code:"INR",decimals:2,symbol:"",name:"Indian Rupee"},BRL:{code:"BRL",decimals:2,symbol:"R$",name:"Brazilian Real"},KRW:{code:"KRW",decimals:0,symbol:"",name:"South Korean Won"},SEK:{code:"SEK",decimals:2,symbol:"kr",name:"Swedish Krona"},NOK:{code:"NOK",decimals:2,symbol:"kr",name:"Norwegian Krone"},DKK:{code:"DKK",decimals:2,symbol:"kr",name:"Danish Krone"},PLN:{code:"PLN",decimals:2,symbol:"z",name:"Polish Zoty"},TRY:{code:"TRY",decimals:2,symbol:"",name:"Turkish Lira"},RUB:{code:"RUB",decimals:2,symbol:"",name:"Russian Ruble"},MXN:{code:"MXN",decimals:2,symbol:"$",name:"Mexican Peso"},SGD:{code:"SGD",decimals:2,symbol:"S$",name:"Singapore Dollar"},HKD:{code:"HKD",decimals:2,symbol:"HK$",name:"Hong Kong Dollar"},NZD:{code:"NZD",decimals:2,symbol:"NZ$",name:"New Zealand Dollar"},ZAR:{code:"ZAR",decimals:2,symbol:"R",name:"South African Rand"},AED:{code:"AED",decimals:2,symbol:".",name:"UAE Dirham"},SAR:{code:"SAR",decimals:2,symbol:".",name:"Saudi Riyal"},ILS:{code:"ILS",decimals:2,symbol:"",name:"Israeli Shekel"},THB:{code:"THB",decimals:2,symbol:"",name:"Thai Baht"},MYR:{code:"MYR",decimals:2,symbol:"RM",name:"Malaysian Ringgit"},IDR:{code:"IDR",decimals:2,symbol:"Rp",name:"Indonesian Rupiah"},PHP:{code:"PHP",decimals:2,symbol:"",name:"Philippine Peso"},VND:{code:"VND",decimals:0,symbol:"",name:"Vietnamese Dong"},EGP:{code:"EGP",decimals:2,symbol:"E",name:"Egyptian Pound"},NGN:{code:"NGN",decimals:2,symbol:"",name:"Nigerian Naira"},KES:{code:"KES",decimals:2,symbol:"KSh",name:"Kenyan Shilling"},GHS:{code:"GHS",decimals:2,symbol:"",name:"Ghanaian Cedi"},MAD:{code:"MAD",decimals:2,symbol:"..",name:"Moroccan Dirham"},TND:{code:"TND",decimals:3,symbol:".",name:"Tunisian Dinar"},JOD:{code:"JOD",decimals:3,symbol:".",name:"Jordanian Dinar"},KWD:{code:"KWD",decimals:3,symbol:".",name:"Kuwaiti Dinar"},BHD:{code:"BHD",decimals:3,symbol:".",name:"Bahraini Dinar"},OMR:{code:"OMR",decimals:3,symbol:"..",name:"Omani Rial"},QAR:{code:"QAR",decimals:2,symbol:".",name:"Qatari Riyal"},LBP:{code:"LBP",decimals:2,symbol:".",name:"Lebanese Pound"},IRR:{code:"IRR",decimals:2,symbol:"",name:"Iranian Rial"},PKR:{code:"PKR",decimals:2,symbol:"",name:"Pakistani Rupee"},BDT:{code:"BDT",decimals:2,symbol:"",name:"Bangladeshi Taka"},LKR:{code:"LKR",decimals:2,symbol:"",name:"Sri Lankan Rupee"},NPR:{code:"NPR",decimals:2,symbol:"",name:"Nepalese Rupee"},AFN:{code:"AFN",decimals:2,symbol:"",name:"Afghan Afghani"},UZS:{code:"UZS",decimals:2,symbol:"",name:"Uzbekistani Som"},KZT:{code:"KZT",decimals:2,symbol:"",name:"Kazakhstani Tenge"},GEL:{code:"GEL",decimals:2,symbol:"",name:"Georgian Lari"},AMD:{code:"AMD",decimals:2,symbol:"",name:"Armenian Dram"},AZN:{code:"AZN",decimals:2,symbol:"",name:"Azerbaijani Manat"},BGN:{code:"BGN",decimals:2,symbol:"",name:"Bulgarian Lev"},HRK:{code:"HRK",decimals:2,symbol:"kn",name:"Croatian Kuna"},CZK:{code:"CZK",decimals:2,symbol:"K",name:"Czech Koruna"},HUF:{code:"HUF",decimals:2,symbol:"Ft",name:"Hungarian Forint"},RON:{code:"RON",decimals:2,symbol:"lei",name:"Romanian Leu"},RSD:{code:"RSD",decimals:2,symbol:".",name:"Serbian Dinar"},UAH:{code:"UAH",decimals:2,symbol:"",name:"Ukrainian Hryvnia"},BYN:{code:"BYN",decimals:2,symbol:"Br",name:"Belarusian Ruble"},MDL:{code:"MDL",decimals:2,symbol:"lei",name:"Moldovan Leu"},ALL:{code:"ALL",decimals:2,symbol:"L",name:"Albanian Lek"},MKD:{code:"MKD",decimals:2,symbol:"",name:"Macedonian Denar"},BAM:{code:"BAM",decimals:2,symbol:"KM",name:"Bosnia-Herzegovina Convertible Mark"},ISK:{code:"ISK",decimals:0,symbol:"kr",name:"Icelandic Krna"},CLP:{code:"CLP",decimals:0,symbol:"$",name:"Chilean Peso"},COP:{code:"COP",decimals:2,symbol:"$",name:"Colombian Peso"},PEN:{code:"PEN",decimals:2,symbol:"S/",name:"Peruvian Sol"},UYU:{code:"UYU",decimals:2,symbol:"$U",name:"Uruguayan Peso"},ARS:{code:"ARS",decimals:2,symbol:"$",name:"Argentine Peso"},BOB:{code:"BOB",decimals:2,symbol:"Bs",name:"Bolivian Boliviano"},PYG:{code:"PYG",decimals:0,symbol:"",name:"Paraguayan Guaran"},VES:{code:"VES",decimals:2,symbol:"Bs.S",name:"Venezuelan Bolvar Soberano"},GYD:{code:"GYD",decimals:2,symbol:"$",name:"Guyanese Dollar"},SRD:{code:"SRD",decimals:2,symbol:"$",name:"Surinamese Dollar"},TTD:{code:"TTD",decimals:2,symbol:"TT$",name:"Trinidad and Tobago Dollar"},JMD:{code:"JMD",decimals:2,symbol:"J$",name:"Jamaican Dollar"},BBD:{code:"BBD",decimals:2,symbol:"$",name:"Barbadian Dollar"},BSD:{code:"BSD",decimals:2,symbol:"$",name:"Bahamian Dollar"},BZD:{code:"BZD",decimals:2,symbol:"BZ$",name:"Belize Dollar"},GTQ:{code:"GTQ",decimals:2,symbol:"Q",name:"Guatemalan Quetzal"},HNL:{code:"HNL",decimals:2,symbol:"L",name:"Honduran Lempira"},NIO:{code:"NIO",decimals:2,symbol:"C$",name:"Nicaraguan Crdoba"},CRC:{code:"CRC",decimals:2,symbol:"",name:"Costa Rican Coln"},PAB:{code:"PAB",decimals:2,symbol:"B/.",name:"Panamanian Balboa"},DOP:{code:"DOP",decimals:2,symbol:"RD$",name:"Dominican Peso"},HTG:{code:"HTG",decimals:2,symbol:"G",name:"Haitian Gourde"},CUP:{code:"CUP",decimals:2,symbol:"",name:"Cuban Peso"},XCD:{code:"XCD",decimals:2,symbol:"$",name:"East Caribbean Dollar"},AWG:{code:"AWG",decimals:2,symbol:"",name:"Aruban Florin"},ANG:{code:"ANG",decimals:2,symbol:"",name:"Netherlands Antillean Guilder"},SVC:{code:"SVC",decimals:2,symbol:"$",name:"Salvadoran Coln"},FJD:{code:"FJD",decimals:2,symbol:"$",name:"Fijian Dollar"},PGK:{code:"PGK",decimals:2,symbol:"K",name:"Papua New Guinean Kina"},SBD:{code:"SBD",decimals:2,symbol:"$",name:"Solomon Islands Dollar"},VUV:{code:"VUV",decimals:0,symbol:"Vt",name:"Vanuatu Vatu"},WST:{code:"WST",decimals:2,symbol:"T",name:"Samoan Tl"},TOP:{code:"TOP",decimals:2,symbol:"T$",name:"Tongan Paanga"},XPF:{code:"XPF",decimals:0,symbol:"",name:"CFP Franc"},XOF:{code:"XOF",decimals:0,symbol:"CFA",name:"West African CFA Franc"},XAF:{code:"XAF",decimals:0,symbol:"FCFA",name:"Central African CFA Franc"},KMF:{code:"KMF",decimals:0,symbol:"CF",name:"Comorian Franc"},DJF:{code:"DJF",decimals:0,symbol:"Fdj",name:"Djiboutian Franc"},ETB:{code:"ETB",decimals:2,symbol:"Br",name:"Ethiopian Birr"},ERN:{code:"ERN",decimals:2,symbol:"Nfk",name:"Eritrean Nakfa"},SOS:{code:"SOS",decimals:2,symbol:"S",name:"Somali Shilling"},UGX:{code:"UGX",decimals:0,symbol:"USh",name:"Ugandan Shilling"},TZS:{code:"TZS",decimals:2,symbol:"TSh",name:"Tanzanian Shilling"},RWF:{code:"RWF",decimals:0,symbol:"R",name:"Rwandan Franc"},BIF:{code:"BIF",decimals:0,symbol:"FBu",name:"Burundian Franc"},MWK:{code:"MWK",decimals:2,symbol:"MK",name:"Malawian Kwacha"},ZMW:{code:"ZMW",decimals:2,symbol:"ZK",name:"Zambian Kwacha"},BWP:{code:"BWP",decimals:2,symbol:"P",name:"Botswanan Pula"},NAD:{code:"NAD",decimals:2,symbol:"$",name:"Namibian Dollar"},SZL:{code:"SZL",decimals:2,symbol:"E",name:"Swazi Lilangeni"},LSL:{code:"LSL",decimals:2,symbol:"M",name:"Lesotho Loti"},MZN:{code:"MZN",decimals:2,symbol:"MT",name:"Mozambican Metical"},MGA:{code:"MGA",decimals:2,symbol:"Ar",name:"Malagasy Ariary"},MUR:{code:"MUR",decimals:2,symbol:"",name:"Mauritian Rupee"},SCR:{code:"SCR",decimals:2,symbol:"",name:"Seychellois Rupee"},CVE:{code:"CVE",decimals:2,symbol:"$",name:"Cape Verdean Escudo"},GMD:{code:"GMD",decimals:2,symbol:"D",name:"Gambian Dalasi"},GNF:{code:"GNF",decimals:0,symbol:"FG",name:"Guinean Franc"},LRD:{code:"LRD",decimals:2,symbol:"$",name:"Liberian Dollar"},SLL:{code:"SLL",decimals:2,symbol:"Le",name:"Sierra Leonean Leone"},STN:{code:"STN",decimals:2,symbol:"Db",name:"So Tom and Prncipe Dobra"},AOA:{code:"AOA",decimals:2,symbol:"Kz",name:"Angolan Kwanza"},CDF:{code:"CDF",decimals:2,symbol:"FC",name:"Congolese Franc"},XDR:{code:"XDR",decimals:5,symbol:"SDR",name:"Special Drawing Rights"}};function BW(){return Object.values(Jn)}const WW=[Jn.USD,Jn.EUR,Jn.GBP,Jn.JPY,Jn.CAD,Jn.AUD,Jn.CHF,Jn.CNY],f0=[...WW,Jn.INR,Jn.BRL,Jn.KRW,Jn.MXN,Jn.SGD,Jn.HKD,Jn.NZD,Jn.ZAR],KS=({initialData:e,onSubmit:n,submitButtonText:r})=>{const[s,o]=x.useState(!1),[i,l]=x.useState(()=>({name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",handle:(e==null?void 0:e.handle)||"",status:(e==null?void 0:e.status)||Bn.ACTIVE,logoUrl:(e==null?void 0:e.logoUrl)||"",bannerUrl:(e==null?void 0:e.bannerUrl)||"",tags:(e==null?void 0:e.tags)||[],defaultCurrency:(e==null?void 0:e.defaultCurrency)||"USD"})),[d,u]=x.useState((e==null?void 0:e.logoUrl)||void 0),[h,f]=x.useState((e==null?void 0:e.bannerUrl)||void 0),m=async g=>{g.preventDefault(),o(!0);try{await n({...i,logoUrl:d||"",bannerUrl:h||"",tags:[],defaultCurrency:i.defaultCurrency})}catch(y){console.error("Failed to submit channel:",y)}finally{o(!1)}};return t.jsx("form",{onSubmit:m,children:t.jsxs(pe,{spacing:4,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{mb:3},children:"Branding"}),t.jsxs(pe,{spacing:4,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Channel Logo"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"This image will appear next to your channel's content. Use a square image for best results."}),t.jsx(Cf,{label:"Upload Channel Logo",value:d,onChange:u})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Channel Banner"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"This image appears at the top of your channel page. Recommended size: 2048 x 1152 pixels."}),t.jsx(Cf,{label:"Upload Channel Banner",value:h,onChange:f})]})]})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{mb:3},children:"Basic Info"}),t.jsxs(pe,{spacing:4,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Channel Name"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Choose a name that represents your channel. You can change this later."}),t.jsx(nt,{value:i.name,onChange:g=>l(y=>({...y,name:g.target.value})),required:!0,fullWidth:!0,placeholder:"Enter channel name"})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Channel Handle"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"This is the unique identifier for your channel. It will be used in the URL of your channel page."}),t.jsx(nt,{value:i.handle,onChange:g=>l(y=>({...y,handle:g.target.value})),required:!0,fullWidth:!0,placeholder:"Enter channel handle"})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Description"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Tell viewers about your channel. This appears in search results and your channel page."}),t.jsx(nt,{value:i.description,onChange:g=>l(y=>({...y,description:g.target.value})),multiline:!0,rows:4,fullWidth:!0,placeholder:"Tell your story..."})]})]})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"h6",sx:{mb:3},children:"Channel Settings"}),t.jsxs(pe,{spacing:4,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Default Currency"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Choose your channel's currency. All tiers, subscriptions, and transactions will use this currency. This cannot be changed later."}),t.jsx(ht,{fullWidth:!0,children:t.jsxs(xt,{value:i.defaultCurrency,onChange:g=>{l(y=>({...y,defaultCurrency:g.target.value}))},disabled:!!e,children:[f0.map(g=>t.jsxs(je,{value:g.code,children:[g.symbol," ",g.code," - ",g.name]},g.code)),t.jsx(je,{disabled:!0,children:""}),BW().filter(g=>!f0.find(y=>y.code===g.code)).map(g=>t.jsxs(je,{value:g.code,children:[g.symbol," ",g.code," - ",g.name]},g.code))]})})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Channel Visibility"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Control who can see and access your channel's content."}),t.jsx(ht,{fullWidth:!0,children:t.jsxs(xt,{value:i.status,onChange:g=>{l(y=>({...y,status:g.target.value}))},children:[t.jsx(je,{value:Bn.ACTIVE,children:"Public - Channel is visible to everyone"}),t.jsx(je,{value:Bn.PRIVATE,children:"Private - Only invited members can access"}),t.jsx(je,{value:Bn.INACTIVE,children:"Hidden - Channel is temporarily hidden from public view"})]})})]})]})]}),t.jsx(he,{type:"submit",variant:"contained",disabled:s,sx:{py:1.5,textTransform:"none",fontWeight:600},children:s?"Submitting...":r})]})})},VW=()=>{const{api:e}=Je(),n=Pt(),{execute:r}=et(),{actions:{refreshProfile:s}}=Cs(),o=async i=>{if(!i)return;await r(()=>e==null?void 0:e.studio.createChannel(i),{showSuccessMessage:!0,successMessage:"Channel created successfully!"})&&(await s(),n(`${ge.STUDIO_CHANNELS}`))};return t.jsxs(It,{sx:{maxWidth:800,mx:"auto",p:3},children:[t.jsx(j,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Create Channel"}),t.jsx(KS,{onSubmit:o,submitButtonText:"Create Channel"})]})},UW=()=>t.jsxs(It,{maxWidth:"md",sx:{mt:4,textAlign:"center"},children:[t.jsx(j,{variant:"h3",gutterBottom:!0,children:"404 - Page Not Found"}),t.jsx(j,{variant:"h6",gutterBottom:!0,children:"The page you are looking for does not exist."}),t.jsx(C,{sx:{mt:4},children:t.jsx(he,{variant:"contained",color:"primary",component:Qn,to:"/",children:"Go to Home"})})]}),JS=({expenseOrder:e,channels:n,expenseTypes:r,onSave:s,onSubmit:o,loading:i=!1,isEdit:l=!1})=>{const[d,u]=x.useState({channelId:(e==null?void 0:e.channel.id)||"",typeId:(e==null?void 0:e.type.id)||"",title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",amount:(e==null?void 0:e.amount)||0,currency:(e==null?void 0:e.currency)||"USD",receiptUrl:(e==null?void 0:e.receiptUrl)||"",notes:(e==null?void 0:e.notes)||""}),[h,f]=x.useState({}),[m,g]=x.useState(!1),y=()=>{const w={};return d.channelId||(w.channelId="Channel is required"),d.typeId||(w.typeId="Expense type is required"),d.title.trim()||(w.title="Title is required"),d.description.trim()||(w.description="Description is required"),d.amount<=0&&(w.amount="Amount must be greater than 0"),d.currency.trim()||(w.currency="Currency is required"),f(w),Object.keys(w).length===0},b=(w,I)=>{u(D=>({...D,[w]:I})),h[w]&&f(D=>({...D,[w]:""}))},S=async()=>{if(y())try{if(l){const w={title:d.title,description:d.description,amount:d.amount,currency:d.currency,typeId:d.typeId,receiptUrl:d.receiptUrl,notes:d.notes};await s(w)}else{const w={channelId:d.channelId,typeId:d.typeId,title:d.title,description:d.description,amount:d.amount,currency:d.currency,receiptUrl:d.receiptUrl,notes:d.notes};await s(w)}}catch(w){console.error("Error saving expense order:",w)}},v=async()=>{if(!(!e||!o)){g(!0);try{await o(e)}catch(w){console.error("Error submitting expense order:",w)}finally{g(!1)}}},E=l&&(e==null?void 0:e.status)===mt.DRAFT&&o;return t.jsxs(Bm,{children:[t.jsx(j,{variant:"h6",sx:{mb:3,fontWeight:600},children:l?"Edit Expense Order":"Create New Expense Order"}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(ht,{fullWidth:!0,error:!!h.channelId,children:[t.jsx(Ct,{children:"Channel"}),t.jsx(xt,{value:d.channelId,label:"Channel",onChange:w=>b("channelId",w.target.value),disabled:l,children:n.map(w=>t.jsx(je,{value:w.id,children:w.name},w.id))}),h.channelId&&t.jsx(j,{variant:"caption",color:"error",sx:{mt:.5},children:h.channelId})]})}),t.jsx(F,{item:!0,xs:12,md:6,children:t.jsxs(ht,{fullWidth:!0,error:!!h.typeId,children:[t.jsx(Ct,{children:"Expense Type"}),t.jsx(xt,{value:d.typeId,label:"Expense Type",onChange:w=>b("typeId",w.target.value),children:r.map(w=>t.jsx(je,{value:w.value,children:w.label},w.value))}),h.typeId&&t.jsx(j,{variant:"caption",color:"error",sx:{mt:.5},children:h.typeId})]})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(nt,{fullWidth:!0,label:"Title",value:d.title,onChange:w=>b("title",w.target.value),error:!!h.title,helperText:h.title,placeholder:"Enter expense title"})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(nt,{fullWidth:!0,multiline:!0,rows:3,label:"Description",value:d.description,onChange:w=>b("description",w.target.value),error:!!h.description,helperText:h.description,placeholder:"Describe the expense in detail"})}),t.jsx(F,{item:!0,xs:12,md:6,children:t.jsx(nt,{fullWidth:!0,type:"number",label:"Amount",value:d.amount,onChange:w=>b("amount",parseFloat(w.target.value)||0),error:!!h.amount,helperText:h.amount,InputProps:{startAdornment:t.jsx(os,{position:"start",children:"$"})}})}),t.jsx(F,{item:!0,xs:12,md:6,children:t.jsx(nt,{fullWidth:!0,label:"Currency",value:d.currency,onChange:w=>b("currency",w.target.value.toUpperCase()),error:!!h.currency,helperText:h.currency,placeholder:"USD",inputProps:{maxLength:3}})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(nt,{fullWidth:!0,label:"Receipt URL",value:d.receiptUrl,onChange:w=>b("receiptUrl",w.target.value),placeholder:"https://example.com/receipt.pdf",InputProps:{startAdornment:t.jsx(os,{position:"start",children:t.jsx(TR,{})})}})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(nt,{fullWidth:!0,multiline:!0,rows:2,label:"Notes (Optional)",value:d.notes,onChange:w=>b("notes",w.target.value),placeholder:"Additional notes or comments"})}),t.jsx(F,{item:!0,xs:12,children:t.jsxs(C,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[t.jsx(he,{variant:"outlined",startIcon:i?t.jsx(sn,{size:16}):t.jsx(Yf,{}),onClick:S,disabled:i||m,children:"Save as Draft"}),E&&t.jsx(he,{variant:"contained",startIcon:m?t.jsx(sn,{size:16}):t.jsx(Cd,{}),onClick:v,disabled:i||m,children:"Submit for Approval"})]})})]})]})},zW=({onCreateNew:e,onEdit:n,onView:r,userRole:s="journalist",channelId:o,showCreateButton:i=!0})=>{const{api:l}=Je(),[d,u]=x.useState([]),[h,f]=x.useState(!0),[m,g]=x.useState(null),[y,b]=x.useState(""),[S,v]=x.useState(1),[E,w]=x.useState(1),[I,D]=x.useState(!1),T=async(K=1)=>{var J,q;try{f(K===1),g(null);let Q;const Y={page:K,limit:10};s==="journalist"?Q=await l.app.expenseOrder.getMyExpenseOrders(Y,y||void 0):o?Q=await l.app.expenseOrder.getExpenseOrdersByChannel(o,Y,y||void 0):Q=await l.app.expenseOrder.getPendingExpenseOrders(Y),u(Q.data),w(Math.ceil(Q.total/Q.limit)),v(K)}catch(Q){g(((q=(J=Q.response)==null?void 0:J.data)==null?void 0:q.message)||"Failed to load expense orders"),console.error("Error loading expense orders:",Q)}finally{f(!1),D(!1)}};x.useEffect(()=>{T(1)},[y,s,o]);const R=async()=>{D(!0),await T(S)},_=(K,J)=>{T(J)},k=async K=>{var J,q;try{await l.app.expenseOrder.submitExpenseOrder(K.id),await T(S)}catch(Q){console.error("Error submitting expense order:",Q),g(((q=(J=Q.response)==null?void 0:J.data)==null?void 0:q.message)||"Failed to submit expense order")}},N=async K=>{var J,q;try{await l.app.expenseOrder.cancelExpenseOrder(K.id,"Cancelled by user"),await T(S)}catch(Q){console.error("Error cancelling expense order:",Q),g(((q=(J=Q.response)==null?void 0:J.data)==null?void 0:q.message)||"Failed to cancel expense order")}},$=async K=>{var J,q;try{await l.app.expenseOrder.approveExpenseOrder(K.id),await T(S)}catch(Q){console.error("Error approving expense order:",Q),g(((q=(J=Q.response)==null?void 0:J.data)==null?void 0:q.message)||"Failed to approve expense order")}},G=async K=>{var J,q;try{const Q=prompt("Please provide a reason for rejection:");Q&&(await l.app.expenseOrder.rejectExpenseOrder(K.id,{rejectionReason:Q}),await T(S))}catch(Q){console.error("Error rejecting expense order:",Q),g(((q=(J=Q.response)==null?void 0:J.data)==null?void 0:q.message)||"Failed to reject expense order")}},L=async K=>{var J,q;try{await l.app.expenseOrder.processPayment(K.id),await T(S)}catch(Q){console.error("Error processing payment:",Q),g(((q=(J=Q.response)==null?void 0:J.data)==null?void 0:q.message)||"Failed to process payment")}},H=()=>{switch(s){case"journalist":return"My Expense Orders";case"admin":case"finance-manager":return o?"Channel Expense Orders":"All Expense Orders";default:return"Expense Orders"}};return t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[t.jsx(j,{variant:"h5",sx:{fontWeight:600},children:H()}),t.jsxs(C,{sx:{display:"flex",gap:2,alignItems:"center"},children:[t.jsxs(ht,{size:"small",sx:{minWidth:150},children:[t.jsx(Ct,{children:"Status Filter"}),t.jsxs(xt,{value:y,label:"Status Filter",onChange:K=>b(K.target.value),children:[t.jsx(je,{value:"",children:"All Statuses"}),t.jsx(je,{value:mt.DRAFT,children:"Draft"}),t.jsx(je,{value:mt.SUBMITTED,children:"Submitted"}),t.jsx(je,{value:mt.UNDER_REVIEW,children:"Under Review"}),t.jsx(je,{value:mt.APPROVED,children:"Approved"}),t.jsx(je,{value:mt.REJECTED,children:"Rejected"}),t.jsx(je,{value:mt.PAID,children:"Paid"}),t.jsx(je,{value:mt.CANCELLED,children:"Cancelled"})]})]}),t.jsx(he,{variant:"outlined",startIcon:I?t.jsx(sn,{size:16}):t.jsx(_v,{}),onClick:R,disabled:I,size:"small",children:"Refresh"}),i&&s==="journalist"&&e&&t.jsx(he,{variant:"contained",startIcon:t.jsx(To,{}),onClick:e,children:"Create Expense Order"})]})]}),m&&t.jsx(dt,{severity:"error",sx:{mb:3},onClose:()=>g(null),children:m}),h?t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(sn,{})}):d.length===0?t.jsxs(C,{sx:{textAlign:"center",py:6},children:[t.jsx(j,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"No expense orders found"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:s==="journalist"?"You haven't created any expense orders yet.":"No expense orders match your current filter."}),i&&s==="journalist"&&e&&t.jsx(he,{variant:"contained",startIcon:t.jsx(To,{}),onClick:e,children:"Create Your First Expense Order"})]}):t.jsxs(t.Fragment,{children:[t.jsx(F,{container:!0,spacing:3,children:d.map(K=>t.jsx(F,{item:!0,xs:12,md:6,lg:4,children:t.jsx(Vm,{expenseOrder:K,onView:r,onEdit:n,onSubmit:k,onCancel:N,onApprove:$,onReject:G,onProcessPayment:L,userRole:s})},K.id))}),E>1&&t.jsx(C,{sx:{display:"flex",justifyContent:"center",mt:4},children:t.jsx(AR,{count:E,page:S,onChange:_,color:"primary",size:"large"})})]})]})},HW=({channelId:e,onCreateExpenseOrder:n,onViewExpenseOrder:r,userRole:s="journalist"})=>{const{api:o}=Je(),i=cn(),[l,d]=x.useState(null),[u,h]=x.useState(null),[f,m]=x.useState(!0),[g,y]=x.useState(null);x.useEffect(()=>{b()},[e]);const b=async()=>{var w,I;try{m(!0),y(null);const D=await o.app.expenseOrder.getExpenseOrderStats(e);if(d(D),e){const T=await o.app.channel.getChannel(e);h(T)}}catch(D){y(((I=(w=D.response)==null?void 0:w.data)==null?void 0:I.message)||"Failed to load dashboard data"),console.error("Error loading dashboard data:",D)}finally{m(!1)}},S=(w,I="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:I}).format(w),v=w=>{switch(w){case"paid":return i.palette.success.main;case"approved":return i.palette.info.main;case"submitted":case"underReview":return i.palette.warning.main;case"rejected":case"cancelled":return i.palette.error.main;case"draft":default:return i.palette.grey[500]}},E=({title:w,value:I,icon:D,color:T,subtitle:R})=>t.jsx(Fe,{sx:{height:"100%",border:`1px solid ${ue(T,.2)}`,"&:hover":{boxShadow:i.shadows[4],transform:"translateY(-2px)",transition:"all 0.2s ease-in-out"}},children:t.jsxs(Ve,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(C,{sx:{p:1,borderRadius:2,bgcolor:ue(T,.1),color:T,mr:2},children:D}),t.jsx(j,{variant:"h6",sx:{fontWeight:600,color:"text.primary"},children:w})]}),t.jsx(j,{variant:"h4",sx:{fontWeight:700,color:T,mb:1},children:I}),R&&t.jsx(j,{variant:"body2",color:"text.secondary",children:R})]})});return f?t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:8},children:t.jsx(sn,{size:40})}):g?t.jsx(dt,{severity:"error",sx:{mb:3},children:g}):t.jsxs(C,{children:[t.jsxs(C,{sx:{mb:4},children:[t.jsx(j,{variant:"h4",sx:{fontWeight:700,mb:1},children:u?`${u.name} Payouts`:"Payout Dashboard"}),t.jsx(j,{variant:"body1",color:"text.secondary",children:s==="journalist"?"Manage your expense orders and track payments":"Overview of expense orders and payout statistics"})]}),l&&t.jsxs(t.Fragment,{children:[t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(E,{title:"Total Orders",value:l.total,icon:t.jsx(eo,{}),color:i.palette.primary.main,subtitle:"All time"})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(E,{title:"Total Amount",value:S(l.totalAmount),icon:t.jsx(to,{}),color:i.palette.secondary.main,subtitle:"Requested"})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(E,{title:"Paid Amount",value:S(l.totalPaidAmount),icon:t.jsx(ai,{}),color:i.palette.success.main,subtitle:"Completed payments"})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(E,{title:"Pending",value:l.submitted+l.underReview+l.approved,icon:t.jsx(RR,{}),color:i.palette.warning.main,subtitle:"Awaiting action"})})]}),t.jsx(Fe,{sx:{mb:4},children:t.jsxs(Ve,{children:[t.jsx(j,{variant:"h6",sx:{fontWeight:600,mb:3},children:"Status Breakdown"}),t.jsx(F,{container:!0,spacing:2,children:[{label:"Draft",value:l.draft,status:"draft"},{label:"Submitted",value:l.submitted,status:"submitted"},{label:"Under Review",value:l.underReview,status:"underReview"},{label:"Approved",value:l.approved,status:"approved"},{label:"Paid",value:l.paid,status:"paid"},{label:"Rejected",value:l.rejected,status:"rejected"},{label:"Cancelled",value:l.cancelled,status:"cancelled"}].map(w=>t.jsx(F,{item:!0,xs:6,sm:4,md:3,lg:2,children:t.jsxs(C,{sx:{textAlign:"center",p:2},children:[t.jsx(j,{variant:"h5",sx:{fontWeight:700,color:v(w.status),mb:1},children:w.value}),t.jsx(Qe,{label:w.label,size:"small",sx:{bgcolor:ue(v(w.status),.1),color:v(w.status),fontWeight:500}})]})},w.status))})]})})]}),t.jsx(Fe,{children:t.jsx(Ve,{children:t.jsx(zW,{userRole:s,channelId:e,onCreateNew:n,onView:r?w=>r(w.id):void 0,showCreateButton:s==="journalist"})})}),s==="journalist"&&t.jsx(C,{sx:{mt:4,display:"flex",justifyContent:"center"},children:t.jsx(he,{variant:"contained",size:"large",startIcon:t.jsx(eo,{}),onClick:n,sx:{px:4,py:1.5},children:"Create New Expense Order"})})]})},GW=()=>{var y,b,S,v,E;const[e,n]=x.useState(null),[r,s]=x.useState(!0),[o,i]=x.useState(0),{channelId:l}=is(),{api:d}=Je(),u=Pt(),h=async()=>{try{if(l){const w=await(d==null?void 0:d.app.channel.getChannel(l));w&&n(w)}}catch(w){console.error("Failed to fetch channel:",w)}finally{s(!1)}};x.useEffect(()=>{h()},[]);const f=()=>{u("/studio/payouts")},m=w=>{u(`/studio/payouts/orders/${w}`)},g=(w,I)=>{i(I)};return r?t.jsxs(It,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs(C,{sx:{textAlign:"center",mb:4},children:[t.jsx(de,{variant:"circular",width:100,height:100,sx:{mx:"auto",mb:2}}),t.jsx(de,{variant:"text",width:"60%",sx:{mx:"auto",mb:1}}),t.jsx(de,{variant:"text",width:"40%",sx:{mx:"auto",mb:2}})]}),t.jsx(F,{container:!0,spacing:3,children:[...Array(3)].map((w,I)=>t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsx(de,{variant:"text",width:"80%"}),t.jsx(de,{variant:"text",width:"60%"}),t.jsx(de,{variant:"rectangular",height:100,sx:{my:2}})]})})},I))})]}):e?t.jsxs(It,{maxWidth:"lg",sx:{mt:4},children:[t.jsx(C,{sx:{position:"relative",mb:4,"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:200,backgroundImage:e!=null&&e.bannerUrl?`url(${e.bannerUrl})`:void 0,background:e!=null&&e.bannerUrl?void 0:w=>`linear-gradient(135deg, ${w.palette.primary.main} 0%, ${w.palette.primary.light} 100%)`,backgroundSize:"cover",backgroundPosition:"center",filter:"brightness(0.9)"}},children:t.jsxs(C,{sx:{position:"relative",pt:15,pb:4,textAlign:"center"},children:[t.jsx(Sn,{src:e.logoUrl,sx:{width:100,height:100,mx:"auto",mb:2,border:"3px solid white",boxShadow:2}}),t.jsx(j,{variant:"h4",gutterBottom:!0,children:e.name}),t.jsxs(j,{variant:"subtitle1",color:"text.secondary",gutterBottom:!0,children:[((b=(y=e.stats)==null?void 0:y.activeSubscriptionCount)==null?void 0:b.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1}))||0," followers  ",((v=(S=e.stats)==null?void 0:S.paidSubscriptionCount)==null?void 0:v.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1}))||0," subscribers"]}),t.jsx(j,{variant:"body1",sx:{mb:3},children:e.description}),t.jsx(Mt,{sx:{mb:4}})]})}),t.jsx(C,{sx:{mb:3},children:t.jsxs($s,{value:o,onChange:g,"aria-label":"channel tabs",sx:{borderBottom:1,borderColor:"divider"},children:[t.jsx(Mn,{label:"Subscription Tiers",id:"channel-tab-0","aria-controls":"channel-tabpanel-0"}),t.jsx(Mn,{label:"Payouts",icon:t.jsx(to,{}),iconPosition:"start",id:"channel-tab-1","aria-controls":"channel-tabpanel-1"})]})}),t.jsx("div",{role:"tabpanel",hidden:o!==0,id:"channel-tabpanel-0","aria-labelledby":"channel-tab-0",children:o===0&&t.jsxs(C,{children:[t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Subscription Tiers"}),t.jsx(F,{container:!0,spacing:3,children:(E=e.tiers)==null?void 0:E.map(w=>t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(Bm,{children:[t.jsxs(C,{sx:{mb:3},children:[t.jsx(j,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,fontSize:"1rem"},children:w.name}),t.jsxs(j,{variant:"h4",sx:{fontWeight:700,fontSize:"2rem",display:"flex",alignItems:"baseline",gap:.5},children:[w.price!==void 0&&w.currency?new Intl.NumberFormat("en-US",{style:"currency",currency:w.currency.toUpperCase()}).format(w.price/100):`$${w.price||0}`,t.jsx(j,{component:"span",sx:{fontSize:"0.875rem",fontWeight:400,color:"text.secondary"},children:"/month"})]})]}),t.jsx(j,{variant:"body2",sx:{mb:3,color:"text.secondary",minHeight:60},children:w.description})]})},w.id))})]})}),t.jsx("div",{role:"tabpanel",hidden:o!==1,id:"channel-tabpanel-1","aria-labelledby":"channel-tab-1",children:o===1&&t.jsx(C,{children:t.jsx(HW,{channelId:l,onCreateExpenseOrder:f,onViewExpenseOrder:m,userRole:"journalist"})})})]}):t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsx(j,{variant:"h5",align:"center",children:"Channel not found"})})},YW=()=>t.jsx(C,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(sn,{})}),XS=({channel:e,onUpdate:n})=>{const r=async s=>{!s||!("name"in s)||await n(s)};return t.jsx(C,{sx:{maxWidth:800},children:t.jsx(KS,{initialData:e,onSubmit:r,submitButtonText:"Save"})})};var Km={},qW=Ke;Object.defineProperty(Km,"__esModule",{value:!0});var QS=Km.default=void 0,KW=qW(Xe()),JW=t;QS=Km.default=(0,KW.default)((0,JW.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"DragIndicator");var Jm={},XW=Ke;Object.defineProperty(Jm,"__esModule",{value:!0});var Xm=Jm.default=void 0,QW=XW(Xe()),ZW=t;Xm=Jm.default=(0,QW.default)((0,ZW.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");function fr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var e6=typeof Symbol=="function"&&Symbol.observable||"@@observable",p0=e6,zh=()=>Math.random().toString(36).substring(7).split("").join("."),t6={INIT:`@@redux/INIT${zh()}`,REPLACE:`@@redux/REPLACE${zh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${zh()}`},m0=t6;function n6(e){if(typeof e!="object"||e===null)return!1;let n=e;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n||Object.getPrototypeOf(e)===null}function ZS(e,n,r){if(typeof e!="function")throw new Error(fr(2));if(typeof n=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(fr(0));if(typeof n=="function"&&typeof r>"u"&&(r=n,n=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(fr(1));return r(ZS)(e,n)}let s=e,o=n,i=new Map,l=i,d=0,u=!1;function h(){l===i&&(l=new Map,i.forEach((v,E)=>{l.set(E,v)}))}function f(){if(u)throw new Error(fr(3));return o}function m(v){if(typeof v!="function")throw new Error(fr(4));if(u)throw new Error(fr(5));let E=!0;h();const w=d++;return l.set(w,v),function(){if(E){if(u)throw new Error(fr(6));E=!1,h(),l.delete(w),i=null}}}function g(v){if(!n6(v))throw new Error(fr(7));if(typeof v.type>"u")throw new Error(fr(8));if(typeof v.type!="string")throw new Error(fr(17));if(u)throw new Error(fr(9));try{u=!0,o=s(o,v)}finally{u=!1}return(i=l).forEach(w=>{w()}),v}function y(v){if(typeof v!="function")throw new Error(fr(10));s=v,g({type:m0.REPLACE})}function b(){const v=m;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(fr(11));function w(){const D=E;D.next&&D.next(f())}return w(),{unsubscribe:v(w)}},[p0](){return this}}}return g({type:m0.INIT}),{dispatch:g,subscribe:m,getState:f,replaceReducer:y,[p0]:b}}function x0(e,n){return function(...r){return n(e.apply(this,r))}}function g0(e,n){if(typeof e=="function")return x0(e,n);if(typeof e!="object"||e===null)throw new Error(fr(16));const r={};for(const s in e){const o=e[s];typeof o=="function"&&(r[s]=x0(o,n))}return r}function ew(...e){return e.length===0?n=>n:e.length===1?e[0]:e.reduce((n,r)=>(...s)=>n(r(...s)))}function r6(...e){return n=>(r,s)=>{const o=n(r,s);let i=()=>{throw new Error(fr(15))};const l={getState:o.getState,dispatch:(u,...h)=>i(u,...h)},d=e.map(u=>u(l));return i=ew(...d)(o.dispatch),{...o,dispatch:i}}}var s6={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cl=x;function o6(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var a6=typeof Object.is=="function"?Object.is:o6,i6=Cl.useSyncExternalStore,l6=Cl.useRef,c6=Cl.useEffect,d6=Cl.useMemo,u6=Cl.useDebugValue;s6.useSyncExternalStoreWithSelector=function(e,n,r,s,o){var i=l6(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=d6(function(){function u(y){if(!h){if(h=!0,f=y,y=s(y),o!==void 0&&l.hasValue){var b=l.value;if(o(b,y))return m=b}return m=y}if(b=m,a6(f,y))return b;var S=s(y);return o!==void 0&&o(b,S)?(f=y,b):(f=y,m=S)}var h=!1,f,m,g=r===void 0?null:r;return[function(){return u(n())},g===null?void 0:function(){return u(g())}]},[n,r,s,o]);var d=i6(e,i[0],i[1]);return c6(function(){l.hasValue=!0,l.value=d},[d]),u6(d),d};var h6=x.version.startsWith("19"),f6=Symbol.for(h6?"react.transitional.element":"react.element"),p6=Symbol.for("react.portal"),m6=Symbol.for("react.fragment"),x6=Symbol.for("react.strict_mode"),g6=Symbol.for("react.profiler"),b6=Symbol.for("react.consumer"),y6=Symbol.for("react.context"),tw=Symbol.for("react.forward_ref"),v6=Symbol.for("react.suspense"),j6=Symbol.for("react.suspense_list"),Qm=Symbol.for("react.memo"),S6=Symbol.for("react.lazy"),w6=tw,C6=Qm;function P6(e){if(typeof e=="object"&&e!==null){const{$$typeof:n}=e;switch(n){case f6:switch(e=e.type,e){case m6:case g6:case x6:case v6:case j6:return e;default:switch(e=e&&e.$$typeof,e){case y6:case tw:case S6:case Qm:return e;case b6:return e;default:return n}}case p6:return n}}}function E6(e){return P6(e)===Qm}function I6(e,n,r,s,{areStatesEqual:o,areOwnPropsEqual:i,areStatePropsEqual:l}){let d=!1,u,h,f,m,g;function y(w,I){return u=w,h=I,f=e(u,h),m=n(s,h),g=r(f,m,h),d=!0,g}function b(){return f=e(u,h),n.dependsOnOwnProps&&(m=n(s,h)),g=r(f,m,h),g}function S(){return e.dependsOnOwnProps&&(f=e(u,h)),n.dependsOnOwnProps&&(m=n(s,h)),g=r(f,m,h),g}function v(){const w=e(u,h),I=!l(w,f);return f=w,I&&(g=r(f,m,h)),g}function E(w,I){const D=!i(I,h),T=!o(w,u,I,h);return u=w,h=I,D&&T?b():D?S():T?v():g}return function(I,D){return d?E(I,D):y(I,D)}}function D6(e,{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:s,...o}){const i=n(e,o),l=r(e,o),d=s(e,o);return I6(i,l,d,e,o)}function T6(e,n){const r={};for(const s in e){const o=e[s];typeof o=="function"&&(r[s]=(...i)=>n(o(...i)))}return r}function Pf(e){return function(r){const s=e(r);function o(){return s}return o.dependsOnOwnProps=!1,o}}function b0(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function nw(e,n){return function(s,{displayName:o}){const i=function(d,u){return i.dependsOnOwnProps?i.mapToProps(d,u):i.mapToProps(d,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(d,u){i.mapToProps=e,i.dependsOnOwnProps=b0(e);let h=i(d,u);return typeof h=="function"&&(i.mapToProps=h,i.dependsOnOwnProps=b0(h),h=i(d,u)),h},i}}function Zm(e,n){return(r,s)=>{throw new Error(`Invalid value of type ${typeof e} for ${n} argument when connecting component ${s.wrappedComponentName}.`)}}function A6(e){return e&&typeof e=="object"?Pf(n=>T6(e,n)):e?typeof e=="function"?nw(e):Zm(e,"mapDispatchToProps"):Pf(n=>({dispatch:n}))}function R6(e){return e?typeof e=="function"?nw(e):Zm(e,"mapStateToProps"):Pf(()=>({}))}function k6(e,n,r){return{...r,...e,...n}}function _6(e){return function(r,{displayName:s,areMergedPropsEqual:o}){let i=!1,l;return function(u,h,f){const m=e(u,h,f);return i?o(m,l)||(l=m):(i=!0,l=m),l}}}function O6(e){return e?typeof e=="function"?_6(e):Zm(e,"mergeProps"):()=>k6}function M6(e){e()}function N6(){let e=null,n=null;return{clear(){e=null,n=null},notify(){M6(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let s=e;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0;const o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!s||e===null||(s=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var y0={notify(){},get:()=>[]};function rw(e,n){let r,s=y0,o=0,i=!1;function l(S){f();const v=s.subscribe(S);let E=!1;return()=>{E||(E=!0,v(),m())}}function d(){s.notify()}function u(){b.onStateChange&&b.onStateChange()}function h(){return i}function f(){o++,r||(r=n?n.addNestedSub(u):e.subscribe(u),s=N6())}function m(){o--,r&&o===0&&(r(),r=void 0,s.clear(),s=y0)}function g(){i||(i=!0,f())}function y(){i&&(i=!1,m())}const b={addNestedSub:l,notifyNestedSubs:d,handleChangeWrapper:u,isSubscribed:h,trySubscribe:g,tryUnsubscribe:y,getListeners:()=>s};return b}var L6=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$6=L6(),F6=()=>typeof navigator<"u"&&navigator.product==="ReactNative",B6=F6(),W6=()=>$6||B6?x.useLayoutEffect:x.useEffect,dd=W6();function v0(e,n){return e===n?e!==0||n!==0||1/e===1/n:e!==e&&n!==n}function Hh(e,n){if(v0(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;const r=Object.keys(e),s=Object.keys(n);if(r.length!==s.length)return!1;for(let o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(n,r[o])||!v0(e[r[o]],n[r[o]]))return!1;return!0}var V6={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},U6={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},z6={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},sw={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},H6={[w6]:z6,[C6]:sw};function j0(e){return E6(e)?sw:H6[e.$$typeof]||V6}var G6=Object.defineProperty,Y6=Object.getOwnPropertyNames,S0=Object.getOwnPropertySymbols,q6=Object.getOwnPropertyDescriptor,K6=Object.getPrototypeOf,w0=Object.prototype;function Ef(e,n){if(typeof n!="string"){if(w0){const i=K6(n);i&&i!==w0&&Ef(e,i)}let r=Y6(n);S0&&(r=r.concat(S0(n)));const s=j0(e),o=j0(n);for(let i=0;i<r.length;++i){const l=r[i];if(!U6[l]&&!(o&&o[l])&&!(s&&s[l])){const d=q6(n,l);try{G6(e,l,d)}catch{}}}}return e}var Gh=Symbol.for("react-redux-context"),Yh=typeof globalThis<"u"?globalThis:{};function J6(){if(!x.createContext)return{};const e=Yh[Gh]??(Yh[Gh]=new Map);let n=e.get(x.createContext);return n||(n=x.createContext(null),e.set(x.createContext,n)),n}var ow=J6(),X6=[null,null];function Q6(e,n,r){dd(()=>e(...n),r)}function Z6(e,n,r,s,o,i){e.current=s,r.current=!1,o.current&&(o.current=null,i())}function eV(e,n,r,s,o,i,l,d,u,h,f){if(!e)return()=>{};let m=!1,g=null;const y=()=>{if(m||!d.current)return;const S=n.getState();let v,E;try{v=s(S,o.current)}catch(w){E=w,g=w}E||(g=null),v===i.current?l.current||h():(i.current=v,u.current=v,l.current=!0,f())};return r.onStateChange=y,r.trySubscribe(),y(),()=>{if(m=!0,r.tryUnsubscribe(),r.onStateChange=null,g)throw g}}function tV(e,n){return e===n}function nV(e,n,r,{pure:s,areStatesEqual:o=tV,areOwnPropsEqual:i=Hh,areStatePropsEqual:l=Hh,areMergedPropsEqual:d=Hh,forwardRef:u=!1,context:h=ow}={}){const f=h,m=R6(e),g=A6(n),y=O6(r),b=!!e;return v=>{const E=v.displayName||v.name||"Component",w=`Connect(${E})`,I={shouldHandleStateChanges:b,displayName:w,wrappedComponentName:E,WrappedComponent:v,initMapStateToProps:m,initMapDispatchToProps:g,initMergeProps:y,areStatesEqual:o,areStatePropsEqual:l,areOwnPropsEqual:i,areMergedPropsEqual:d};function D(_){const[k,N,$]=x.useMemo(()=>{const{reactReduxForwardedRef:se,...xe}=_;return[_.context,se,xe]},[_]),G=x.useMemo(()=>{let se=f;return k!=null&&k.Consumer,se},[k,f]),L=x.useContext(G),H=!!_.store&&!!_.store.getState&&!!_.store.dispatch,K=!!L&&!!L.store,J=H?_.store:L.store,q=K?L.getServerState:J.getState,Q=x.useMemo(()=>D6(J.dispatch,I),[J]),[Y,oe]=x.useMemo(()=>{if(!b)return X6;const se=rw(J,H?void 0:L.subscription),xe=se.notifyNestedSubs.bind(se);return[se,xe]},[J,H,L]),V=x.useMemo(()=>H?L:{...L,subscription:Y},[H,L,Y]),Z=x.useRef(void 0),Ee=x.useRef($),be=x.useRef(void 0),ae=x.useRef(!1),ee=x.useRef(!1),Ce=x.useRef(void 0);dd(()=>(ee.current=!0,()=>{ee.current=!1}),[]);const Ae=x.useMemo(()=>()=>be.current&&$===Ee.current?be.current:Q(J.getState(),$),[J,$]),Be=x.useMemo(()=>xe=>Y?eV(b,J,Y,Q,Ee,Z,ae,ee,be,oe,xe):()=>{},[Y]);Q6(Z6,[Ee,Z,ae,$,be,oe]);let ye;try{ye=x.useSyncExternalStore(Be,Ae,q?()=>Q(q(),$):Ae)}catch(se){throw Ce.current&&(se.message+=`
The error may be correlated with this previous error:
${Ce.current.stack}

`),se}dd(()=>{Ce.current=void 0,be.current=void 0,Z.current=ye});const ie=x.useMemo(()=>x.createElement(v,{...ye,ref:N}),[N,v,ye]);return x.useMemo(()=>b?x.createElement(G.Provider,{value:V},ie):ie,[G,ie,V])}const R=x.memo(D);if(R.WrappedComponent=v,R.displayName=D.displayName=w,u){const k=x.forwardRef(function($,G){return x.createElement(R,{...$,reactReduxForwardedRef:G})});return k.displayName=w,k.WrappedComponent=v,Ef(k,v)}return Ef(R,v)}}var aw=nV;function rV(e){const{children:n,context:r,serverState:s,store:o}=e,i=x.useMemo(()=>{const u=rw(o);return{store:o,subscription:u,getServerState:s?()=>s:void 0}},[o,s]),l=x.useMemo(()=>o.getState(),[o]);dd(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==o.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,l]);const d=r||ow;return x.createElement(d.Provider,{value:i},n)}var sV=rV;function oV(e,n){if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}function iw(e,n){var r=x.useState(function(){return{inputs:n,result:e()}})[0],s=x.useRef(!0),o=x.useRef(r),i=s.current||!!(n&&o.current.inputs&&oV(n,o.current.inputs)),l=i?o.current:{inputs:n,result:e()};return x.useEffect(function(){s.current=!1,o.current=l},[l]),l.result}function aV(e,n){return iw(function(){return e},n)}var Ot=iw,st=aV,gs=function(n){var r=n.top,s=n.right,o=n.bottom,i=n.left,l=s-i,d=o-r,u={top:r,right:s,bottom:o,left:i,width:l,height:d,x:i,y:r,center:{x:(s+i)/2,y:(o+r)/2}};return u},ex=function(n,r){return{top:n.top-r.top,left:n.left-r.left,bottom:n.bottom+r.bottom,right:n.right+r.right}},C0=function(n,r){return{top:n.top+r.top,left:n.left+r.left,bottom:n.bottom-r.bottom,right:n.right-r.right}},iV=function(n,r){return{top:n.top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x}},qh={top:0,right:0,bottom:0,left:0},tx=function(n){var r=n.borderBox,s=n.margin,o=s===void 0?qh:s,i=n.border,l=i===void 0?qh:i,d=n.padding,u=d===void 0?qh:d,h=gs(ex(r,o)),f=gs(C0(r,l)),m=gs(C0(f,u));return{marginBox:h,borderBox:gs(r),paddingBox:f,contentBox:m,margin:o,border:l,padding:u}},Zr=function(n){var r=n.slice(0,-2),s=n.slice(-2);if(s!=="px")return 0;var o=Number(r);return isNaN(o)&&kk(),o},lV=function(){return{x:window.pageXOffset,y:window.pageYOffset}},ud=function(n,r){var s=n.borderBox,o=n.border,i=n.margin,l=n.padding,d=iV(s,r);return tx({borderBox:d,border:o,margin:i,padding:l})},hd=function(n,r){return r===void 0&&(r=lV()),ud(n,r)},lw=function(n,r){var s={top:Zr(r.marginTop),right:Zr(r.marginRight),bottom:Zr(r.marginBottom),left:Zr(r.marginLeft)},o={top:Zr(r.paddingTop),right:Zr(r.paddingRight),bottom:Zr(r.paddingBottom),left:Zr(r.paddingLeft)},i={top:Zr(r.borderTopWidth),right:Zr(r.borderRightWidth),bottom:Zr(r.borderBottomWidth),left:Zr(r.borderLeftWidth)};return tx({borderBox:n,margin:s,padding:o,border:i})},cw=function(n){var r=n.getBoundingClientRect(),s=window.getComputedStyle(n);return lw(r,s)},P0=Number.isNaN||function(n){return typeof n=="number"&&n!==n};function cV(e,n){return!!(e===n||P0(e)&&P0(n))}function dV(e,n){if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(!cV(e[r],n[r]))return!1;return!0}function zn(e,n){n===void 0&&(n=dV);var r=null;function s(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(r&&r.lastThis===this&&n(o,r.lastArgs))return r.lastResult;var l=e.apply(this,o);return r={lastResult:l,lastArgs:o,lastThis:this},l}return s.clear=function(){r=null},s}var rl=function(n){var r=[],s=null,o=function(){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];r=d,!s&&(s=requestAnimationFrame(function(){s=null,n.apply(void 0,r)}))};return o.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},o};function dw(e,n){}dw.bind(null,"warn");dw.bind(null,"error");function Po(){}function uV(e,n){return{...e,...n}}function ts(e,n,r){const s=n.map(o=>{const i=uV(r,o.options);return e.addEventListener(o.eventName,o.fn,i),function(){e.removeEventListener(o.eventName,o.fn,i)}});return function(){s.forEach(i=>{i()})}}const hV="Invariant failed";class fd extends Error{}fd.prototype.toString=function(){return this.message};function Le(e,n){throw new fd(hV)}class fV extends Tt.Component{constructor(...n){super(...n),this.callbacks=null,this.unbind=Po,this.onWindowError=r=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),r.error instanceof fd&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=ts(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(n){if(n instanceof fd){this.setState({});return}throw n}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const pV=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,pd=e=>e+1,mV=e=>`
  You have lifted an item in position ${pd(e.source.index)}
`,uw=(e,n)=>{const r=e.droppableId===n.droppableId,s=pd(e.index),o=pd(n.index);return r?`
      You have moved the item from position ${s}
      to position ${o}
    `:`
    You have moved the item from position ${s}
    in list ${e.droppableId}
    to list ${n.droppableId}
    in position ${o}
  `},hw=(e,n,r)=>n.droppableId===r.droppableId?`
      The item ${e}
      has been combined with ${r.draggableId}`:`
      The item ${e}
      in list ${n.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,xV=e=>{const n=e.destination;if(n)return uw(e.source,n);const r=e.combine;return r?hw(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},E0=e=>`
  The item has returned to its starting position
  of ${pd(e.index)}
`,gV=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${E0(e.source)}
    `;const n=e.destination,r=e.combine;return n?`
      You have dropped the item.
      ${uw(e.source,n)}
    `:r?`
      You have dropped the item.
      ${hw(e.draggableId,e.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${E0(e.source)}
  `},kc={dragHandleUsageInstructions:pV,onDragStart:mV,onDragUpdate:xV,onDragEnd:gV},Hn={x:0,y:0},Zn=(e,n)=>({x:e.x+n.x,y:e.y+n.y}),$r=(e,n)=>({x:e.x-n.x,y:e.y-n.y}),Eo=(e,n)=>e.x===n.x&&e.y===n.y,di=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),la=(e,n,r=0)=>e==="x"?{x:n,y:r}:{x:r,y:n},sl=(e,n)=>Math.sqrt((n.x-e.x)**2+(n.y-e.y)**2),I0=(e,n)=>Math.min(...n.map(r=>sl(e,r))),fw=e=>n=>({x:e(n.x),y:e(n.y)});var bV=(e,n)=>{const r=gs({top:Math.max(n.top,e.top),right:Math.min(n.right,e.right),bottom:Math.min(n.bottom,e.bottom),left:Math.max(n.left,e.left)});return r.width<=0||r.height<=0?null:r};const Pl=(e,n)=>({top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}),D0=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],yV={top:0,right:0,bottom:0,left:0},vV=(e,n)=>n?Pl(e,n.scroll.diff.displacement):e,jV=(e,n,r)=>r&&r.increasedBy?{...e,[n.end]:e[n.end]+r.increasedBy[n.line]}:e,SV=(e,n)=>n&&n.shouldClipSubject?bV(n.pageMarginBox,e):gs(e);var Za=({page:e,withPlaceholder:n,axis:r,frame:s})=>{const o=vV(e.marginBox,s),i=jV(o,r,n),l=SV(i,s);return{page:e,withPlaceholder:n,active:l}},nx=(e,n)=>{e.frame||Le();const r=e.frame,s=$r(n,r.scroll.initial),o=di(s),i={...r,scroll:{initial:r.scroll.initial,current:n,diff:{value:s,displacement:o},max:r.scroll.max}},l=Za({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return{...e,frame:i,subject:l}};const pw=zn(e=>e.reduce((n,r)=>(n[r.descriptor.id]=r,n),{})),mw=zn(e=>e.reduce((n,r)=>(n[r.descriptor.id]=r,n),{})),qd=zn(e=>Object.values(e)),wV=zn(e=>Object.values(e));var ui=zn((e,n)=>wV(n).filter(s=>e===s.descriptor.droppableId).sort((s,o)=>s.descriptor.index-o.descriptor.index));function rx(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Kd(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Jd=zn((e,n)=>n.filter(r=>r.descriptor.id!==e.descriptor.id)),CV=({isMovingForward:e,draggable:n,destination:r,insideDestination:s,previousImpact:o})=>{if(!r.isCombineEnabled||!rx(o))return null;function l(y){const b={type:"COMBINE",combine:{draggableId:y,droppableId:r.descriptor.id}};return{...o,at:b}}const d=o.displaced.all,u=d.length?d[0]:null;if(e)return u?l(u):null;const h=Jd(n,s);if(!u){if(!h.length)return null;const y=h[h.length-1];return l(y.descriptor.id)}const f=h.findIndex(y=>y.descriptor.id===u);f===-1&&Le();const m=f-1;if(m<0)return null;const g=h[m];return l(g.descriptor.id)},hi=(e,n)=>e.descriptor.droppableId===n.descriptor.id;const xw={point:Hn,value:0},ol={invisible:{},visible:{},all:[]},PV={displaced:ol,displacedBy:xw,at:null};var ss=(e,n)=>r=>e<=r&&r<=n,gw=e=>{const n=ss(e.top,e.bottom),r=ss(e.left,e.right);return s=>{if(n(s.top)&&n(s.bottom)&&r(s.left)&&r(s.right))return!0;const i=n(s.top)||n(s.bottom),l=r(s.left)||r(s.right);if(i&&l)return!0;const u=s.top<e.top&&s.bottom>e.bottom,h=s.left<e.left&&s.right>e.right;return u&&h?!0:u&&l||h&&i}},EV=e=>{const n=ss(e.top,e.bottom),r=ss(e.left,e.right);return s=>n(s.top)&&n(s.bottom)&&r(s.left)&&r(s.right)};const sx={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},bw={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var IV=e=>n=>{const r=ss(n.top,n.bottom),s=ss(n.left,n.right);return o=>e===sx?r(o.top)&&r(o.bottom):s(o.left)&&s(o.right)};const DV=(e,n)=>{const r=n.frame?n.frame.scroll.diff.displacement:Hn;return Pl(e,r)},TV=(e,n,r)=>n.subject.active?r(n.subject.active)(e):!1,AV=(e,n,r)=>r(n)(e),ox=({target:e,destination:n,viewport:r,withDroppableDisplacement:s,isVisibleThroughFrameFn:o})=>{const i=s?DV(e,n):e;return TV(i,n,o)&&AV(i,r,o)},RV=e=>ox({...e,isVisibleThroughFrameFn:gw}),yw=e=>ox({...e,isVisibleThroughFrameFn:EV}),kV=e=>ox({...e,isVisibleThroughFrameFn:IV(e.destination.axis)}),_V=(e,n,r)=>{if(typeof r=="boolean")return r;if(!n)return!0;const{invisible:s,visible:o}=n;if(s[e])return!1;const i=o[e];return i?i.shouldAnimate:!0};function OV(e,n){const r=e.page.marginBox,s={top:n.point.y,right:0,bottom:0,left:n.point.x};return gs(ex(r,s))}function al({afterDragging:e,destination:n,displacedBy:r,viewport:s,forceShouldAnimate:o,last:i}){return e.reduce(function(d,u){const h=OV(u,r),f=u.descriptor.id;if(d.all.push(f),!RV({target:h,destination:n,viewport:s,withDroppableDisplacement:!0}))return d.invisible[u.descriptor.id]=!0,d;const g=_V(f,i,o),y={draggableId:f,shouldAnimate:g};return d.visible[f]=y,d},{all:[],visible:{},invisible:{}})}function MV(e,n){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return n.inHomeList?r:r+1}function T0({insideDestination:e,inHomeList:n,displacedBy:r,destination:s}){const o=MV(e,{inHomeList:n});return{displaced:ol,displacedBy:r,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:o}}}}function md({draggable:e,insideDestination:n,destination:r,viewport:s,displacedBy:o,last:i,index:l,forceShouldAnimate:d}){const u=hi(e,r);if(l==null)return T0({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});const h=n.find(b=>b.descriptor.index===l);if(!h)return T0({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});const f=Jd(e,n),m=n.indexOf(h),g=f.slice(m);return{displaced:al({afterDragging:g,destination:r,displacedBy:o,last:i,viewport:s.frame,forceShouldAnimate:d}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:l}}}}function Ao(e,n){return!!n.effected[e]}var NV=({isMovingForward:e,destination:n,draggables:r,combine:s,afterCritical:o})=>{if(!n.isCombineEnabled)return null;const i=s.draggableId,d=r[i].descriptor.index;return Ao(i,o)?e?d:d-1:e?d+1:d},LV=({isMovingForward:e,isInHomeList:n,insideDestination:r,location:s})=>{if(!r.length)return null;const o=s.index,i=e?o+1:o-1,l=r[0].descriptor.index,d=r[r.length-1].descriptor.index,u=n?d:d+1;return i<l||i>u?null:i},$V=({isMovingForward:e,isInHomeList:n,draggable:r,draggables:s,destination:o,insideDestination:i,previousImpact:l,viewport:d,afterCritical:u})=>{const h=l.at;if(h||Le(),h.type==="REORDER"){const m=LV({isMovingForward:e,isInHomeList:n,location:h.destination,insideDestination:i});return m==null?null:md({draggable:r,insideDestination:i,destination:o,viewport:d,last:l.displaced,displacedBy:l.displacedBy,index:m})}const f=NV({isMovingForward:e,destination:o,displaced:l.displaced,draggables:s,combine:h.combine,afterCritical:u});return f==null?null:md({draggable:r,insideDestination:i,destination:o,viewport:d,last:l.displaced,displacedBy:l.displacedBy,index:f})},FV=({displaced:e,afterCritical:n,combineWith:r,displacedBy:s})=>{const o=!!(e.visible[r]||e.invisible[r]);return Ao(r,n)?o?Hn:di(s.point):o?s.point:Hn},BV=({afterCritical:e,impact:n,draggables:r})=>{const s=Kd(n);s||Le();const o=s.draggableId,i=r[o].page.borderBox.center,l=FV({displaced:n.displaced,afterCritical:e,combineWith:o,displacedBy:n.displacedBy});return Zn(i,l)};const vw=(e,n)=>n.margin[e.start]+n.borderBox[e.size]/2,WV=(e,n)=>n.margin[e.end]+n.borderBox[e.size]/2,ax=(e,n,r)=>n[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,A0=({axis:e,moveRelativeTo:n,isMoving:r})=>la(e.line,n.marginBox[e.end]+vw(e,r),ax(e,n.marginBox,r)),R0=({axis:e,moveRelativeTo:n,isMoving:r})=>la(e.line,n.marginBox[e.start]-WV(e,r),ax(e,n.marginBox,r)),VV=({axis:e,moveInto:n,isMoving:r})=>la(e.line,n.contentBox[e.start]+vw(e,r),ax(e,n.contentBox,r));var UV=({impact:e,draggable:n,draggables:r,droppable:s,afterCritical:o})=>{const i=ui(s.descriptor.id,r),l=n.page,d=s.axis;if(!i.length)return VV({axis:d,moveInto:s.page,isMoving:l});const{displaced:u,displacedBy:h}=e,f=u.all[0];if(f){const g=r[f];if(Ao(f,o))return R0({axis:d,moveRelativeTo:g.page,isMoving:l});const y=ud(g.page,h.point);return R0({axis:d,moveRelativeTo:y,isMoving:l})}const m=i[i.length-1];if(m.descriptor.id===n.descriptor.id)return l.borderBox.center;if(Ao(m.descriptor.id,o)){const g=ud(m.page,di(o.displacedBy.point));return A0({axis:d,moveRelativeTo:g,isMoving:l})}return A0({axis:d,moveRelativeTo:m.page,isMoving:l})},If=(e,n)=>{const r=e.frame;return r?Zn(n,r.scroll.diff.displacement):n};const zV=({impact:e,draggable:n,droppable:r,draggables:s,afterCritical:o})=>{const i=n.page.borderBox.center,l=e.at;return!r||!l?i:l.type==="REORDER"?UV({impact:e,draggable:n,draggables:s,droppable:r,afterCritical:o}):BV({impact:e,draggables:s,afterCritical:o})};var Xd=e=>{const n=zV(e),r=e.droppable;return r?If(r,n):n},jw=(e,n)=>{const r=$r(n,e.scroll.initial),s=di(r);return{frame:gs({top:n.y,bottom:n.y+e.frame.height,left:n.x,right:n.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:n,diff:{value:r,displacement:s}}}};function k0(e,n){return e.map(r=>n[r])}function HV(e,n){for(let r=0;r<n.length;r++){const s=n[r].visible[e];if(s)return s}return null}var GV=({impact:e,viewport:n,destination:r,draggables:s,maxScrollChange:o})=>{const i=jw(n,Zn(n.scroll.current,o)),l=r.frame?nx(r,Zn(r.frame.scroll.current,o)):r,d=e.displaced,u=al({afterDragging:k0(d.all,s),destination:r,displacedBy:e.displacedBy,viewport:i.frame,last:d,forceShouldAnimate:!1}),h=al({afterDragging:k0(d.all,s),destination:l,displacedBy:e.displacedBy,viewport:n.frame,last:d,forceShouldAnimate:!1}),f={},m={},g=[d,u,h];return d.all.forEach(b=>{const S=HV(b,g);if(S){m[b]=S;return}f[b]=!0}),{...e,displaced:{all:d.all,invisible:f,visible:m}}},YV=(e,n)=>Zn(e.scroll.diff.displacement,n),ix=({pageBorderBoxCenter:e,draggable:n,viewport:r})=>{const s=YV(r,e),o=$r(s,n.page.borderBox.center);return Zn(n.client.borderBox.center,o)},Sw=({draggable:e,destination:n,newPageBorderBoxCenter:r,viewport:s,withDroppableDisplacement:o,onlyOnMainAxis:i=!1})=>{const l=$r(r,e.page.borderBox.center),u={target:Pl(e.page.borderBox,l),destination:n,withDroppableDisplacement:o,viewport:s};return i?kV(u):yw(u)},qV=({isMovingForward:e,draggable:n,destination:r,draggables:s,previousImpact:o,viewport:i,previousPageBorderBoxCenter:l,previousClientSelection:d,afterCritical:u})=>{if(!r.isEnabled)return null;const h=ui(r.descriptor.id,s),f=hi(n,r),m=CV({isMovingForward:e,draggable:n,destination:r,insideDestination:h,previousImpact:o})||$V({isMovingForward:e,isInHomeList:f,draggable:n,draggables:s,destination:r,insideDestination:h,previousImpact:o,viewport:i,afterCritical:u});if(!m)return null;const g=Xd({impact:m,draggable:n,droppable:r,draggables:s,afterCritical:u});if(Sw({draggable:n,destination:r,newPageBorderBoxCenter:g,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:ix({pageBorderBoxCenter:g,draggable:n,viewport:i}),impact:m,scrollJumpRequest:null};const b=$r(g,l),S=GV({impact:m,viewport:i,destination:r,draggables:s,maxScrollChange:b});return{clientSelection:d,impact:S,scrollJumpRequest:b}};const hr=e=>{const n=e.subject.active;return n||Le(),n};var KV=({isMovingForward:e,pageBorderBoxCenter:n,source:r,droppables:s,viewport:o})=>{const i=r.subject.active;if(!i)return null;const l=r.axis,d=ss(i[l.start],i[l.end]),u=qd(s).filter(f=>f!==r).filter(f=>f.isEnabled).filter(f=>!!f.subject.active).filter(f=>gw(o.frame)(hr(f))).filter(f=>{const m=hr(f);return e?i[l.crossAxisEnd]<m[l.crossAxisEnd]:m[l.crossAxisStart]<i[l.crossAxisStart]}).filter(f=>{const m=hr(f),g=ss(m[l.start],m[l.end]);return d(m[l.start])||d(m[l.end])||g(i[l.start])||g(i[l.end])}).sort((f,m)=>{const g=hr(f)[l.crossAxisStart],y=hr(m)[l.crossAxisStart];return e?g-y:y-g}).filter((f,m,g)=>hr(f)[l.crossAxisStart]===hr(g[0])[l.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const h=u.filter(f=>ss(hr(f)[l.start],hr(f)[l.end])(n[l.line]));return h.length===1?h[0]:h.length>1?h.sort((f,m)=>hr(f)[l.start]-hr(m)[l.start])[0]:u.sort((f,m)=>{const g=I0(n,D0(hr(f))),y=I0(n,D0(hr(m)));return g!==y?g-y:hr(f)[l.start]-hr(m)[l.start]})[0]};const _0=(e,n)=>{const r=e.page.borderBox.center;return Ao(e.descriptor.id,n)?$r(r,n.displacedBy.point):r},JV=(e,n)=>{const r=e.page.borderBox;return Ao(e.descriptor.id,n)?Pl(r,di(n.displacedBy.point)):r};var XV=({pageBorderBoxCenter:e,viewport:n,destination:r,insideDestination:s,afterCritical:o})=>s.filter(l=>yw({target:JV(l,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})).sort((l,d)=>{const u=sl(e,If(r,_0(l,o))),h=sl(e,If(r,_0(d,o)));return u<h?-1:h<u?1:l.descriptor.index-d.descriptor.index})[0]||null,El=zn(function(n,r){const s=r[n.line];return{value:s,point:la(n.line,s)}});const QV=(e,n,r)=>{const s=e.axis;if(e.descriptor.mode==="virtual")return la(s.line,n[s.line]);const o=e.subject.page.contentBox[s.size],u=ui(e.descriptor.id,r).reduce((h,f)=>h+f.client.marginBox[s.size],0)+n[s.line]-o;return u<=0?null:la(s.line,u)},ww=(e,n)=>({...e,scroll:{...e.scroll,max:n}}),Cw=(e,n,r)=>{const s=e.frame;hi(n,e)&&Le(),e.subject.withPlaceholder&&Le();const o=El(e.axis,n.displaceBy).point,i=QV(e,o,r),l={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!s){const f=Za({page:e.subject.page,withPlaceholder:l,axis:e.axis,frame:e.frame});return{...e,subject:f}}const d=i?Zn(s.scroll.max,i):s.scroll.max,u=ww(s,d),h=Za({page:e.subject.page,withPlaceholder:l,axis:e.axis,frame:u});return{...e,subject:h,frame:u}},ZV=e=>{const n=e.subject.withPlaceholder;n||Le();const r=e.frame;if(!r){const l=Za({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:l}}const s=n.oldFrameMaxScroll;s||Le();const o=ww(r,s),i=Za({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return{...e,subject:i,frame:o}};var eU=({previousPageBorderBoxCenter:e,moveRelativeTo:n,insideDestination:r,draggable:s,draggables:o,destination:i,viewport:l,afterCritical:d})=>{if(!n){if(r.length)return null;const m={displaced:ol,displacedBy:xw,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},g=Xd({impact:m,draggable:s,droppable:i,draggables:o,afterCritical:d}),y=hi(s,i)?i:Cw(i,s,o);return Sw({draggable:s,destination:y,newPageBorderBoxCenter:g,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?m:null}const u=e[i.axis.line]<=n.page.borderBox.center[i.axis.line],h=(()=>{const m=n.descriptor.index;return n.descriptor.id===s.descriptor.id||u?m:m+1})(),f=El(i.axis,s.displaceBy);return md({draggable:s,insideDestination:r,destination:i,viewport:l,displacedBy:f,last:ol,index:h})},tU=({isMovingForward:e,previousPageBorderBoxCenter:n,draggable:r,isOver:s,draggables:o,droppables:i,viewport:l,afterCritical:d})=>{const u=KV({isMovingForward:e,pageBorderBoxCenter:n,source:s,droppables:i,viewport:l});if(!u)return null;const h=ui(u.descriptor.id,o),f=XV({pageBorderBoxCenter:n,viewport:l,destination:u,insideDestination:h,afterCritical:d}),m=eU({previousPageBorderBoxCenter:n,destination:u,draggable:r,draggables:o,moveRelativeTo:f,insideDestination:h,viewport:l,afterCritical:d});if(!m)return null;const g=Xd({impact:m,draggable:r,droppable:u,draggables:o,afterCritical:d});return{clientSelection:ix({pageBorderBoxCenter:g,draggable:r,viewport:l}),impact:m,scrollJumpRequest:null}},Br=e=>{const n=e.at;return n?n.type==="REORDER"?n.destination.droppableId:n.combine.droppableId:null};const nU=(e,n)=>{const r=Br(e);return r?n[r]:null};var rU=({state:e,type:n})=>{const r=nU(e.impact,e.dimensions.droppables),s=!!r,o=e.dimensions.droppables[e.critical.droppable.id],i=r||o,l=i.axis.direction,d=l==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||l==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(d&&!s)return null;const u=n==="MOVE_DOWN"||n==="MOVE_RIGHT",h=e.dimensions.draggables[e.critical.draggable.id],f=e.current.page.borderBoxCenter,{draggables:m,droppables:g}=e.dimensions;return d?qV({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:h,destination:i,draggables:m,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):tU({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:h,isOver:i,draggables:m,droppables:g,viewport:e.viewport,afterCritical:e.afterCritical})};function Zo(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Pw(e){const n=ss(e.top,e.bottom),r=ss(e.left,e.right);return function(o){return n(o.y)&&r(o.x)}}function sU(e,n){return e.left<n.right&&e.right>n.left&&e.top<n.bottom&&e.bottom>n.top}function oU({pageBorderBox:e,draggable:n,candidates:r}){const s=n.page.borderBox.center,o=r.map(i=>{const l=i.axis,d=la(i.axis.line,e.center[l.line],i.page.borderBox.center[l.crossAxisLine]);return{id:i.descriptor.id,distance:sl(s,d)}}).sort((i,l)=>l.distance-i.distance);return o[0]?o[0].id:null}function aU({pageBorderBox:e,draggable:n,droppables:r}){const s=qd(r).filter(o=>{if(!o.isEnabled)return!1;const i=o.subject.active;if(!i||!sU(e,i))return!1;if(Pw(i)(e.center))return!0;const l=o.axis,d=i.center[l.crossAxisLine],u=e[l.crossAxisStart],h=e[l.crossAxisEnd],f=ss(i[l.crossAxisStart],i[l.crossAxisEnd]),m=f(u),g=f(h);return!m&&!g?!0:m?u<d:h>d});return s.length?s.length===1?s[0].descriptor.id:oU({pageBorderBox:e,draggable:n,candidates:s}):null}const Ew=(e,n)=>gs(Pl(e,n));var iU=(e,n)=>{const r=e.frame;return r?Ew(n,r.scroll.diff.value):n};function Iw({displaced:e,id:n}){return!!(e.visible[n]||e.invisible[n])}function lU({draggable:e,closest:n,inHomeList:r}){return n?r&&n.descriptor.index>e.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var cU=({pageBorderBoxWithDroppableScroll:e,draggable:n,destination:r,insideDestination:s,last:o,viewport:i,afterCritical:l})=>{const d=r.axis,u=El(r.axis,n.displaceBy),h=u.value,f=e[d.start],m=e[d.end],y=Jd(n,s).find(S=>{const v=S.descriptor.id,E=S.page.borderBox.center[d.line],w=Ao(v,l),I=Iw({displaced:o,id:v});return w?I?m<=E:f<E-h:I?m<=E+h:f<E})||null,b=lU({draggable:n,closest:y,inHomeList:hi(n,r)});return md({draggable:n,insideDestination:s,destination:r,viewport:i,last:o,displacedBy:u,index:b})};const dU=4;var uU=({draggable:e,pageBorderBoxWithDroppableScroll:n,previousImpact:r,destination:s,insideDestination:o,afterCritical:i})=>{if(!s.isCombineEnabled)return null;const l=s.axis,d=El(s.axis,e.displaceBy),u=d.value,h=n[l.start],f=n[l.end],g=Jd(e,o).find(b=>{const S=b.descriptor.id,v=b.page.borderBox,w=v[l.size]/dU,I=Ao(S,i),D=Iw({displaced:r.displaced,id:S});return I?D?f>v[l.start]+w&&f<v[l.end]-w:h>v[l.start]-u+w&&h<v[l.end]-u-w:D?f>v[l.start]+u+w&&f<v[l.end]+u-w:h>v[l.start]+w&&h<v[l.end]-w});return g?{displacedBy:d,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:g.descriptor.id,droppableId:s.descriptor.id}}}:null},Dw=({pageOffset:e,draggable:n,draggables:r,droppables:s,previousImpact:o,viewport:i,afterCritical:l})=>{const d=Ew(n.page.borderBox,e),u=aU({pageBorderBox:d,draggable:n,droppables:s});if(!u)return PV;const h=s[u],f=ui(h.descriptor.id,r),m=iU(h,d);return uU({pageBorderBoxWithDroppableScroll:m,draggable:n,previousImpact:o,destination:h,insideDestination:f,afterCritical:l})||cU({pageBorderBoxWithDroppableScroll:m,draggable:n,destination:h,insideDestination:f,last:o.displaced,viewport:i,afterCritical:l})},lx=(e,n)=>({...e,[n.descriptor.id]:n});const hU=({previousImpact:e,impact:n,droppables:r})=>{const s=Br(e),o=Br(n);if(!s||s===o)return r;const i=r[s];if(!i.subject.withPlaceholder)return r;const l=ZV(i);return lx(r,l)};var fU=({draggable:e,draggables:n,droppables:r,previousImpact:s,impact:o})=>{const i=hU({previousImpact:s,impact:o,droppables:r}),l=Br(o);if(!l)return i;const d=r[l];if(hi(e,d)||d.subject.withPlaceholder)return i;const u=Cw(d,e,n);return lx(i,u)},Yi=({state:e,clientSelection:n,dimensions:r,viewport:s,impact:o,scrollJumpRequest:i})=>{const l=s||e.viewport,d=r||e.dimensions,u=n||e.current.client.selection,h=$r(u,e.initial.client.selection),f={offset:h,selection:u,borderBoxCenter:Zn(e.initial.client.borderBoxCenter,h)},m={selection:Zn(f.selection,l.scroll.current),borderBoxCenter:Zn(f.borderBoxCenter,l.scroll.current),offset:Zn(f.offset,l.scroll.diff.value)},g={client:f,page:m};if(e.phase==="COLLECTING")return{...e,dimensions:d,viewport:l,current:g};const y=d.draggables[e.critical.draggable.id],b=o||Dw({pageOffset:m.offset,draggable:y,draggables:d.draggables,droppables:d.droppables,previousImpact:e.impact,viewport:l,afterCritical:e.afterCritical}),S=fU({draggable:y,impact:b,previousImpact:e.impact,draggables:d.draggables,droppables:d.droppables});return{...e,current:g,dimensions:{draggables:d.draggables,droppables:S},impact:b,viewport:l,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}};function pU(e,n){return e.map(r=>n[r])}var Tw=({impact:e,viewport:n,draggables:r,destination:s,forceShouldAnimate:o})=>{const i=e.displaced,l=pU(i.all,r),d=al({afterDragging:l,destination:s,displacedBy:e.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:i});return{...e,displaced:d}},Aw=({impact:e,draggable:n,droppable:r,draggables:s,viewport:o,afterCritical:i})=>{const l=Xd({impact:e,draggable:n,draggables:s,droppable:r,afterCritical:i});return ix({pageBorderBoxCenter:l,draggable:n,viewport:o})},Rw=({state:e,dimensions:n,viewport:r})=>{e.movementMode!=="SNAP"&&Le();const s=e.impact,o=r||e.viewport,i=n||e.dimensions,{draggables:l,droppables:d}=i,u=l[e.critical.draggable.id],h=Br(s);h||Le();const f=d[h],m=Tw({impact:s,viewport:o,destination:f,draggables:l}),g=Aw({impact:m,draggable:u,droppable:f,draggables:l,viewport:o,afterCritical:e.afterCritical});return Yi({impact:m,clientSelection:g,state:e,dimensions:i,viewport:o})},mU=e=>({index:e.index,droppableId:e.droppableId}),kw=({draggable:e,home:n,draggables:r,viewport:s})=>{const o=El(n.axis,e.displaceBy),i=ui(n.descriptor.id,r),l=i.indexOf(e);l===-1&&Le();const d=i.slice(l+1),u=d.reduce((g,y)=>(g[y.descriptor.id]=!0,g),{}),h={inVirtualList:n.descriptor.mode==="virtual",displacedBy:o,effected:u};return{impact:{displaced:al({afterDragging:d,destination:n,displacedBy:o,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:mU(e.descriptor)}},afterCritical:h}},xU=(e,n)=>({draggables:e.draggables,droppables:lx(e.droppables,n)}),gU=({draggable:e,offset:n,initialWindowScroll:r})=>{const s=ud(e.client,n),o=hd(s,r);return{...e,placeholder:{...e.placeholder,client:s},client:s,page:o}},bU=e=>{const n=e.frame;return n||Le(),n},yU=({additions:e,updatedDroppables:n,viewport:r})=>{const s=r.scroll.diff.value;return e.map(o=>{const i=o.descriptor.droppableId,l=n[i],u=bU(l).scroll.diff.value,h=Zn(s,u);return gU({draggable:o,offset:h,initialWindowScroll:r.scroll.initial})})},vU=({state:e,published:n})=>{const r=n.modified.map(E=>{const w=e.dimensions.droppables[E.droppableId];return nx(w,E.scroll)}),s={...e.dimensions.droppables,...pw(r)},o=mw(yU({additions:n.additions,updatedDroppables:s,viewport:e.viewport})),i={...e.dimensions.draggables,...o};n.removals.forEach(E=>{delete i[E]});const l={droppables:s,draggables:i},d=Br(e.impact),u=d?l.droppables[d]:null,h=l.draggables[e.critical.draggable.id],f=l.droppables[e.critical.droppable.id],{impact:m,afterCritical:g}=kw({draggable:h,home:f,draggables:i,viewport:e.viewport}),y=u&&u.isCombineEnabled?e.impact:m,b=Dw({pageOffset:e.current.page.offset,draggable:l.draggables[e.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:y,viewport:e.viewport,afterCritical:g}),S={...e,phase:"DRAGGING",impact:b,onLiftImpact:m,dimensions:l,afterCritical:g,forceShouldAnimate:!1};return e.phase==="COLLECTING"?S:{...S,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const Df=e=>e.movementMode==="SNAP",Kh=(e,n,r)=>{const s=xU(e.dimensions,n);return!Df(e)||r?Yi({state:e,dimensions:s}):Rw({state:e,dimensions:s})};function Jh(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const O0={phase:"IDLE",completed:null,shouldFlush:!1};var jU=(e=O0,n)=>{if(n.type==="FLUSH")return{...O0,shouldFlush:!0};if(n.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Le();const{critical:r,clientSelection:s,viewport:o,dimensions:i,movementMode:l}=n.payload,d=i.draggables[r.draggable.id],u=i.droppables[r.droppable.id],h={selection:s,borderBoxCenter:d.client.borderBox.center,offset:Hn},f={client:h,page:{selection:Zn(h.selection,o.scroll.initial),borderBoxCenter:Zn(h.selection,o.scroll.initial),offset:Zn(h.selection,o.scroll.diff.value)}},m=qd(i.droppables).every(S=>!S.isFixedOnPage),{impact:g,afterCritical:y}=kw({draggable:d,home:u,draggables:i.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:l,dimensions:i,initial:f,current:f,isWindowScrollAllowed:m,impact:g,afterCritical:y,onLiftImpact:g,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if(n.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Le(),{...e,phase:"COLLECTING"});if(n.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Le(),vU({state:e,published:n.payload});if(n.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Zo(e)||Le();const{client:r}=n.payload;return Eo(r,e.current.client.selection)?e:Yi({state:e,clientSelection:r,impact:Df(e)?e.impact:null})}if(n.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Jh(e);Zo(e)||Le();const{id:r,newScroll:s}=n.payload,o=e.dimensions.droppables[r];if(!o)return e;const i=nx(o,s);return Kh(e,i,!1)}if(n.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Zo(e)||Le();const{id:r,isEnabled:s}=n.payload,o=e.dimensions.droppables[r];o||Le(),o.isEnabled===s&&Le();const i={...o,isEnabled:s};return Kh(e,i,!0)}if(n.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Zo(e)||Le();const{id:r,isCombineEnabled:s}=n.payload,o=e.dimensions.droppables[r];o||Le(),o.isCombineEnabled===s&&Le();const i={...o,isCombineEnabled:s};return Kh(e,i,!0)}if(n.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Zo(e)||Le(),e.isWindowScrollAllowed||Le();const r=n.payload.newScroll;if(Eo(e.viewport.scroll.current,r))return Jh(e);const s=jw(e.viewport,r);return Df(e)?Rw({state:e,viewport:s}):Yi({state:e,viewport:s})}if(n.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Zo(e))return e;const r=n.payload.maxScroll;if(Eo(r,e.viewport.scroll.max))return e;const s={...e.viewport,scroll:{...e.viewport.scroll,max:r}};return{...e,viewport:s}}if(n.type==="MOVE_UP"||n.type==="MOVE_DOWN"||n.type==="MOVE_LEFT"||n.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Le();const r=rU({state:e,type:n.type});return r?Yi({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if(n.type==="DROP_PENDING"){const r=n.payload.reason;return e.phase!=="COLLECTING"&&Le(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(n.type==="DROP_ANIMATE"){const{completed:r,dropDuration:s,newHomeClientOffset:o}=n.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Le(),{phase:"DROP_ANIMATING",completed:r,dropDuration:s,newHomeClientOffset:o,dimensions:e.dimensions}}if(n.type==="DROP_COMPLETE"){const{completed:r}=n.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return e};function Vt(e,n){return e instanceof Object&&"type"in e&&e.type===n}const SU=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),wU=e=>({type:"LIFT",payload:e}),CU=e=>({type:"INITIAL_PUBLISH",payload:e}),PU=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),EU=()=>({type:"COLLECTION_STARTING",payload:null}),IU=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),DU=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),TU=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),_w=e=>({type:"MOVE",payload:e}),AU=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),RU=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),kU=()=>({type:"MOVE_UP",payload:null}),_U=()=>({type:"MOVE_DOWN",payload:null}),OU=()=>({type:"MOVE_RIGHT",payload:null}),MU=()=>({type:"MOVE_LEFT",payload:null}),cx=()=>({type:"FLUSH",payload:null}),NU=e=>({type:"DROP_ANIMATE",payload:e}),dx=e=>({type:"DROP_COMPLETE",payload:e}),Ow=e=>({type:"DROP",payload:e}),LU=e=>({type:"DROP_PENDING",payload:e}),Mw=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var $U=e=>({getState:n,dispatch:r})=>s=>o=>{if(!Vt(o,"LIFT")){s(o);return}const{id:i,clientSelection:l,movementMode:d}=o.payload,u=n();u.phase==="DROP_ANIMATING"&&r(dx({completed:u.completed})),n().phase!=="IDLE"&&Le(),r(cx()),r(SU({draggableId:i,movementMode:d}));const f={draggableId:i,scrollOptions:{shouldPublishImmediately:d==="SNAP"}},{critical:m,dimensions:g,viewport:y}=e.startPublishing(f);r(CU({critical:m,dimensions:g,clientSelection:l,movementMode:d,viewport:y}))},FU=e=>()=>n=>r=>{Vt(r,"INITIAL_PUBLISH")&&e.dragging(),Vt(r,"DROP_ANIMATE")&&e.dropping(r.payload.completed.result.reason),(Vt(r,"FLUSH")||Vt(r,"DROP_COMPLETE"))&&e.resting(),n(r)};const ux={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},il={opacity:{drop:0,combining:.7},scale:{drop:.75}},Nw={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Ko=`${Nw.outOfTheWay}s ${ux.outOfTheWay}`,qi={fluid:`opacity ${Ko}`,snap:`transform ${Ko}, opacity ${Ko}`,drop:e=>{const n=`${e}s ${ux.drop}`;return`transform ${n}, opacity ${n}`},outOfTheWay:`transform ${Ko}`,placeholder:`height ${Ko}, width ${Ko}, margin ${Ko}`},M0=e=>Eo(e,Hn)?void 0:`translate(${e.x}px, ${e.y}px)`,Tf={moveTo:M0,drop:(e,n)=>{const r=M0(e);if(r)return n?`${r} scale(${il.scale.drop})`:r}},{minDropTime:Af,maxDropTime:Lw}=Nw,BU=Lw-Af,N0=1500,WU=.6;var VU=({current:e,destination:n,reason:r})=>{const s=sl(e,n);if(s<=0)return Af;if(s>=N0)return Lw;const o=s/N0,i=Af+BU*o,l=r==="CANCEL"?i*WU:i;return Number(l.toFixed(2))},UU=({impact:e,draggable:n,dimensions:r,viewport:s,afterCritical:o})=>{const{draggables:i,droppables:l}=r,d=Br(e),u=d?l[d]:null,h=l[n.descriptor.droppableId],f=Aw({impact:e,draggable:n,draggables:i,afterCritical:o,droppable:u||h,viewport:s});return $r(f,n.client.borderBox.center)},zU=({draggables:e,reason:n,lastImpact:r,home:s,viewport:o,onLiftImpact:i})=>!r.at||n!=="DROP"?{impact:Tw({draggables:e,impact:i,destination:s,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:ol},didDropInsideDroppable:!0};const HU=({getState:e,dispatch:n})=>r=>s=>{if(!Vt(s,"DROP")){r(s);return}const o=e(),i=s.payload.reason;if(o.phase==="COLLECTING"){n(LU({reason:i}));return}if(o.phase==="IDLE")return;o.phase==="DROP_PENDING"&&o.isWaiting&&Le(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||Le();const d=o.critical,u=o.dimensions,h=u.draggables[o.critical.draggable.id],{impact:f,didDropInsideDroppable:m}=zU({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),g=m?rx(f):null,y=m?Kd(f):null,b={index:d.draggable.index,droppableId:d.droppable.id},S={draggableId:h.descriptor.id,type:h.descriptor.type,source:b,reason:i,mode:o.movementMode,destination:g,combine:y},v=UU({impact:f,draggable:h,dimensions:u,viewport:o.viewport,afterCritical:o.afterCritical}),E={critical:o.critical,afterCritical:o.afterCritical,result:S,impact:f};if(!(!Eo(o.current.client.offset,v)||!!S.combine)){n(dx({completed:E}));return}const I=VU({current:o.current.client.offset,destination:v,reason:i});n(NU({newHomeClientOffset:v,dropDuration:I,completed:E}))};var $w=()=>({x:window.pageXOffset,y:window.pageYOffset});function GU(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:n=>{n.target!==window&&n.target!==window.document||e()}}}function YU({onWindowScroll:e}){function n(){e($w())}const r=rl(n),s=GU(r);let o=Po;function i(){return o!==Po}function l(){i()&&Le(),o=ts(window,[s])}function d(){i()||Le(),r.cancel(),o(),o=Po}return{start:l,stop:d,isActive:i}}const qU=e=>Vt(e,"DROP_COMPLETE")||Vt(e,"DROP_ANIMATE")||Vt(e,"FLUSH"),KU=e=>{const n=YU({onWindowScroll:r=>{e.dispatch(AU({newScroll:r}))}});return r=>s=>{!n.isActive()&&Vt(s,"INITIAL_PUBLISH")&&n.start(),n.isActive()&&qU(s)&&n.stop(),r(s)}};var JU=e=>{let n=!1,r=!1;const s=setTimeout(()=>{r=!0}),o=i=>{n||r||(n=!0,e(i),clearTimeout(s))};return o.wasCalled=()=>n,o},XU=()=>{const e=[],n=o=>{const i=e.findIndex(d=>d.timerId===o);i===-1&&Le();const[l]=e.splice(i,1);l.callback()};return{add:o=>{const i=setTimeout(()=>n(i)),l={timerId:i,callback:o};e.push(l)},flush:()=>{if(!e.length)return;const o=[...e];e.length=0,o.forEach(i=>{clearTimeout(i.timerId),i.callback()})}}};const QU=(e,n)=>e==null&&n==null?!0:e==null||n==null?!1:e.droppableId===n.droppableId&&e.index===n.index,ZU=(e,n)=>e==null&&n==null?!0:e==null||n==null?!1:e.draggableId===n.draggableId&&e.droppableId===n.droppableId,ez=(e,n)=>{if(e===n)return!0;const r=e.draggable.id===n.draggable.id&&e.draggable.droppableId===n.draggable.droppableId&&e.draggable.type===n.draggable.type&&e.draggable.index===n.draggable.index,s=e.droppable.id===n.droppable.id&&e.droppable.type===n.droppable.type;return r&&s},Ni=(e,n)=>{n()},Sc=(e,n)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:n});function Xh(e,n,r,s){if(!e){r(s(n));return}const o=JU(r);e(n,{announce:o}),o.wasCalled()||r(s(n))}var tz=(e,n)=>{const r=XU();let s=null;const o=(m,g)=>{s&&Le(),Ni("onBeforeCapture",()=>{const y=e().onBeforeCapture;y&&y({draggableId:m,mode:g})})},i=(m,g)=>{s&&Le(),Ni("onBeforeDragStart",()=>{const y=e().onBeforeDragStart;y&&y(Sc(m,g))})},l=(m,g)=>{s&&Le();const y=Sc(m,g);s={mode:g,lastCritical:m,lastLocation:y.source,lastCombine:null},r.add(()=>{Ni("onDragStart",()=>Xh(e().onDragStart,y,n,kc.onDragStart))})},d=(m,g)=>{const y=rx(g),b=Kd(g);s||Le();const S=!ez(m,s.lastCritical);S&&(s.lastCritical=m);const v=!QU(s.lastLocation,y);v&&(s.lastLocation=y);const E=!ZU(s.lastCombine,b);if(E&&(s.lastCombine=b),!S&&!v&&!E)return;const w={...Sc(m,s.mode),combine:b,destination:y};r.add(()=>{Ni("onDragUpdate",()=>Xh(e().onDragUpdate,w,n,kc.onDragUpdate))})},u=()=>{s||Le(),r.flush()},h=m=>{s||Le(),s=null,Ni("onDragEnd",()=>Xh(e().onDragEnd,m,n,kc.onDragEnd))};return{beforeCapture:o,beforeStart:i,start:l,update:d,flush:u,drop:h,abort:()=>{if(!s)return;const m={...Sc(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};h(m)}}},nz=(e,n)=>{const r=tz(e,n);return s=>o=>i=>{if(Vt(i,"BEFORE_INITIAL_CAPTURE")){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(Vt(i,"INITIAL_PUBLISH")){const d=i.payload.critical;r.beforeStart(d,i.payload.movementMode),o(i),r.start(d,i.payload.movementMode);return}if(Vt(i,"DROP_COMPLETE")){const d=i.payload.completed.result;r.flush(),o(i),r.drop(d);return}if(o(i),Vt(i,"FLUSH")){r.abort();return}const l=s.getState();l.phase==="DRAGGING"&&r.update(l.critical,l.impact)}};const rz=e=>n=>r=>{if(!Vt(r,"DROP_ANIMATION_FINISHED")){n(r);return}const s=e.getState();s.phase!=="DROP_ANIMATING"&&Le(),e.dispatch(dx({completed:s.completed}))},sz=e=>{let n=null,r=null;function s(){r&&(cancelAnimationFrame(r),r=null),n&&(n(),n=null)}return o=>i=>{if((Vt(i,"FLUSH")||Vt(i,"DROP_COMPLETE")||Vt(i,"DROP_ANIMATION_FINISHED"))&&s(),o(i),!Vt(i,"DROP_ANIMATE"))return;const l={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(Mw())}};r=requestAnimationFrame(()=>{r=null,n=ts(window,[l])})}};var oz=e=>()=>n=>r=>{(Vt(r,"DROP_COMPLETE")||Vt(r,"FLUSH")||Vt(r,"DROP_ANIMATE"))&&e.stopPublishing(),n(r)},az=e=>{let n=!1;return()=>r=>s=>{if(Vt(s,"INITIAL_PUBLISH")){n=!0,e.tryRecordFocus(s.payload.critical.draggable.id),r(s),e.tryRestoreFocusRecorded();return}if(r(s),!!n){if(Vt(s,"FLUSH")){n=!1,e.tryRestoreFocusRecorded();return}if(Vt(s,"DROP_COMPLETE")){n=!1;const o=s.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const iz=e=>Vt(e,"DROP_COMPLETE")||Vt(e,"DROP_ANIMATE")||Vt(e,"FLUSH");var lz=e=>n=>r=>s=>{if(iz(s)){e.stop(),r(s);return}if(Vt(s,"INITIAL_PUBLISH")){r(s);const o=n.getState();o.phase!=="DRAGGING"&&Le(),e.start(o);return}r(s),e.scroll(n.getState())};const cz=e=>n=>r=>{if(n(r),!Vt(r,"PUBLISH_WHILE_DRAGGING"))return;const s=e.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||e.dispatch(Ow({reason:s.reason})))},dz=ew;var uz=({dimensionMarshal:e,focusMarshal:n,styleMarshal:r,getResponders:s,announce:o,autoScroller:i})=>ZS(jU,dz(r6(FU(r),oz(e),$U(e),HU,rz,sz,cz,lz(i),KU,az(n),nz(s,o))));const Qh=()=>({additions:{},removals:{},modified:{}});function hz({registry:e,callbacks:n}){let r=Qh(),s=null;const o=()=>{s||(n.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:u,removals:h,modified:f}=r,m=Object.keys(u).map(b=>e.draggable.getById(b).getDimension(Hn)).sort((b,S)=>b.descriptor.index-S.descriptor.index),g=Object.keys(f).map(b=>{const v=e.droppable.getById(b).callbacks.getScrollWhileDragging();return{droppableId:b,scroll:v}}),y={additions:m,removals:Object.keys(h),modified:g};r=Qh(),n.publish(y)}))};return{add:u=>{const h=u.descriptor.id;r.additions[h]=u,r.modified[u.descriptor.droppableId]=!0,r.removals[h]&&delete r.removals[h],o()},remove:u=>{const h=u.descriptor;r.removals[h.id]=!0,r.modified[h.droppableId]=!0,r.additions[h.id]&&delete r.additions[h.id],o()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,r=Qh())}}}var Fw=({scrollHeight:e,scrollWidth:n,height:r,width:s})=>{const o=$r({x:n,y:e},{x:s,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},Bw=()=>{const e=document.documentElement;return e||Le(),e},Ww=()=>{const e=Bw();return Fw({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},fz=()=>{const e=$w(),n=Ww(),r=e.y,s=e.x,o=Bw(),i=o.clientWidth,l=o.clientHeight,d=s+i,u=r+l;return{frame:gs({top:r,left:s,right:d,bottom:u}),scroll:{initial:e,current:e,max:n,diff:{value:Hn,displacement:Hn}}}},pz=({critical:e,scrollOptions:n,registry:r})=>{const s=fz(),o=s.scroll.current,i=e.droppable,l=r.droppable.getAllByType(i.type).map(f=>f.callbacks.getDimensionAndWatchScroll(o,n)),d=r.draggable.getAllByType(e.draggable.type).map(f=>f.getDimension(o));return{dimensions:{draggables:mw(d),droppables:pw(l)},critical:e,viewport:s}};function L0(e,n,r){return!(r.descriptor.id===n.id||r.descriptor.type!==n.type||e.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var mz=(e,n)=>{let r=null;const s=hz({callbacks:{publish:n.publishWhileDragging,collectionStarting:n.collectionStarting},registry:e}),o=(g,y)=>{e.droppable.exists(g)||Le(),r&&n.updateDroppableIsEnabled({id:g,isEnabled:y})},i=(g,y)=>{r&&(e.droppable.exists(g)||Le(),n.updateDroppableIsCombineEnabled({id:g,isCombineEnabled:y}))},l=(g,y)=>{r&&(e.droppable.exists(g)||Le(),n.updateDroppableScroll({id:g,newScroll:y}))},d=(g,y)=>{r&&e.droppable.getById(g).callbacks.scroll(y)},u=()=>{if(!r)return;s.stop();const g=r.critical.droppable;e.droppable.getAllByType(g.type).forEach(y=>y.callbacks.dragStopped()),r.unsubscribe(),r=null},h=g=>{r||Le();const y=r.critical.draggable;g.type==="ADDITION"&&L0(e,y,g.value)&&s.add(g.value),g.type==="REMOVAL"&&L0(e,y,g.value)&&s.remove(g.value)};return{updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:i,scrollDroppable:d,updateDroppableScroll:l,startPublishing:g=>{r&&Le();const y=e.draggable.getById(g.draggableId),b=e.droppable.getById(y.descriptor.droppableId),S={draggable:y.descriptor,droppable:b.descriptor},v=e.subscribe(h);return r={critical:S,unsubscribe:v},pz({critical:S,registry:e,scrollOptions:g.scrollOptions})},stopPublishing:u}},Vw=(e,n)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===n?!1:e.completed.result.reason==="DROP",xz=e=>{window.scrollBy(e.x,e.y)};const gz=zn(e=>qd(e).filter(n=>!(!n.isEnabled||!n.frame))),bz=(e,n)=>gz(n).find(s=>(s.frame||Le(),Pw(s.frame.pageMarginBox)(e)))||null;var yz=({center:e,destination:n,droppables:r})=>{if(n){const o=r[n];return o.frame?o:null}return bz(e,r)};const ll={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var vz=(e,n,r=()=>ll)=>{const s=r(),o=e[n.size]*s.startFromPercentage,i=e[n.size]*s.maxScrollAtPercentage;return{startScrollingFrom:o,maxScrollValueAt:i}},Uw=({startOfRange:e,endOfRange:n,current:r})=>{const s=n-e;return s===0?0:(r-e)/s},hx=1,jz=(e,n,r=()=>ll)=>{const s=r();if(e>n.startScrollingFrom)return 0;if(e<=n.maxScrollValueAt)return s.maxPixelScroll;if(e===n.startScrollingFrom)return hx;const i=1-Uw({startOfRange:n.maxScrollValueAt,endOfRange:n.startScrollingFrom,current:e}),l=s.maxPixelScroll*s.ease(i);return Math.ceil(l)},Sz=(e,n,r)=>{const s=r(),o=s.durationDampening.accelerateAt,i=s.durationDampening.stopDampeningAt,l=n,d=i,h=Date.now()-l;if(h>=i)return e;if(h<o)return hx;const f=Uw({startOfRange:o,endOfRange:d,current:h}),m=e*s.ease(f);return Math.ceil(m)},$0=({distanceToEdge:e,thresholds:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const i=jz(e,n,o);return i===0?0:s?Math.max(Sz(i,r,o),hx):i},F0=({container:e,distanceToEdges:n,dragStartTime:r,axis:s,shouldUseTimeDampening:o,getAutoScrollerOptions:i})=>{const l=vz(e,s,i);return n[s.end]<n[s.start]?$0({distanceToEdge:n[s.end],thresholds:l,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i}):-1*$0({distanceToEdge:n[s.start],thresholds:l,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i})},wz=({container:e,subject:n,proposedScroll:r})=>{const s=n.height>e.height,o=n.width>e.width;return!o&&!s?r:o&&s?null:{x:o?0:r.x,y:s?0:r.y}};const Cz=fw(e=>e===0?0:e);var zw=({dragStartTime:e,container:n,subject:r,center:s,shouldUseTimeDampening:o,getAutoScrollerOptions:i})=>{const l={top:s.y-n.top,right:n.right-s.x,bottom:n.bottom-s.y,left:s.x-n.left},d=F0({container:n,distanceToEdges:l,dragStartTime:e,axis:sx,shouldUseTimeDampening:o,getAutoScrollerOptions:i}),u=F0({container:n,distanceToEdges:l,dragStartTime:e,axis:bw,shouldUseTimeDampening:o,getAutoScrollerOptions:i}),h=Cz({x:u,y:d});if(Eo(h,Hn))return null;const f=wz({container:n,subject:r,proposedScroll:h});return f?Eo(f,Hn)?null:f:null};const Pz=fw(e=>e===0?0:e>0?1:-1),fx=(()=>{const e=(n,r)=>n<0?n:n>r?n-r:0;return({current:n,max:r,change:s})=>{const o=Zn(n,s),i={x:e(o.x,r.x),y:e(o.y,r.y)};return Eo(i,Hn)?null:i}})(),Hw=({max:e,current:n,change:r})=>{const s={x:Math.max(n.x,e.x),y:Math.max(n.y,e.y)},o=Pz(r),i=fx({max:s,current:n,change:o});return!i||o.x!==0&&i.x===0||o.y!==0&&i.y===0},px=(e,n)=>Hw({current:e.scroll.current,max:e.scroll.max,change:n}),Ez=(e,n)=>{if(!px(e,n))return null;const r=e.scroll.max,s=e.scroll.current;return fx({current:s,max:r,change:n})},mx=(e,n)=>{const r=e.frame;return r?Hw({current:r.scroll.current,max:r.scroll.max,change:n}):!1},Iz=(e,n)=>{const r=e.frame;return!r||!mx(e,n)?null:fx({current:r.scroll.current,max:r.scroll.max,change:n})};var Dz=({viewport:e,subject:n,center:r,dragStartTime:s,shouldUseTimeDampening:o,getAutoScrollerOptions:i})=>{const l=zw({dragStartTime:s,container:e.frame,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i});return l&&px(e,l)?l:null},Tz=({droppable:e,subject:n,center:r,dragStartTime:s,shouldUseTimeDampening:o,getAutoScrollerOptions:i})=>{const l=e.frame;if(!l)return null;const d=zw({dragStartTime:s,container:l.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i});return d&&mx(e,d)?d:null},B0=({state:e,dragStartTime:n,shouldUseTimeDampening:r,scrollWindow:s,scrollDroppable:o,getAutoScrollerOptions:i})=>{const l=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const m=e.viewport,g=Dz({dragStartTime:n,viewport:m,subject:u,center:l,shouldUseTimeDampening:r,getAutoScrollerOptions:i});if(g){s(g);return}}const h=yz({center:l,destination:Br(e.impact),droppables:e.dimensions.droppables});if(!h)return;const f=Tz({dragStartTime:n,droppable:h,subject:u,center:l,shouldUseTimeDampening:r,getAutoScrollerOptions:i});f&&o(h.descriptor.id,f)},Az=({scrollWindow:e,scrollDroppable:n,getAutoScrollerOptions:r=()=>ll})=>{const s=rl(e),o=rl(n);let i=null;const l=h=>{i||Le();const{shouldUseTimeDampening:f,dragStartTime:m}=i;B0({state:h,scrollWindow:s,scrollDroppable:o,dragStartTime:m,shouldUseTimeDampening:f,getAutoScrollerOptions:r})};return{start:h=>{i&&Le();const f=Date.now();let m=!1;const g=()=>{m=!0};B0({state:h,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:g,scrollDroppable:g,getAutoScrollerOptions:r}),i={dragStartTime:f,shouldUseTimeDampening:m},m&&l(h)},stop:()=>{i&&(s.cancel(),o.cancel(),i=null)},scroll:l}},Rz=({move:e,scrollDroppable:n,scrollWindow:r})=>{const s=(d,u)=>{const h=Zn(d.current.client.selection,u);e({client:h})},o=(d,u)=>{if(!mx(d,u))return u;const h=Iz(d,u);if(!h)return n(d.descriptor.id,u),null;const f=$r(u,h);return n(d.descriptor.id,f),$r(u,f)},i=(d,u,h)=>{if(!d||!px(u,h))return h;const f=Ez(u,h);if(!f)return r(h),null;const m=$r(h,f);return r(m),$r(h,m)};return d=>{const u=d.scrollJumpRequest;if(!u)return;const h=Br(d.impact);h||Le();const f=o(d.dimensions.droppables[h],u);if(!f)return;const m=d.viewport,g=i(d.isWindowScrollAllowed,m,f);g&&s(d,g)}},kz=({scrollDroppable:e,scrollWindow:n,move:r,getAutoScrollerOptions:s})=>{const o=Az({scrollWindow:n,scrollDroppable:e,getAutoScrollerOptions:s}),i=Rz({move:r,scrollWindow:n,scrollDroppable:e});return{scroll:u=>{if(!(s().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){o.scroll(u);return}u.scrollJumpRequest&&i(u)}},start:o.start,stop:o.stop}};const ei="data-rfd",ti=(()=>{const e=`${ei}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Rf=(()=>{const e=`${ei}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),_z=(()=>{const e=`${ei}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),W0={contextId:`${ei}-scroll-container-context-id`},Oz=e=>n=>`[${n}="${e}"]`,Li=(e,n)=>e.map(r=>{const s=r.styles[n];return s?`${r.selector} { ${s} }`:""}).join(" "),Mz="pointer-events: none;";var Nz=e=>{const n=Oz(e),r=(()=>{const d=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:n(ti.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:d,dragging:Mz,dropAnimating:d}}})(),s=(()=>{const d=`
      transition: ${qi.outOfTheWay};
    `;return{selector:n(Rf.contextId),styles:{dragging:d,dropAnimating:d,userCancel:d}}})(),o={selector:n(_z.contextId),styles:{always:"overflow-anchor: none;"}},l=[s,r,o,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Li(l,"always"),resting:Li(l,"resting"),dragging:Li(l,"dragging"),dropAnimating:Li(l,"dropAnimating"),userCancel:Li(l,"userCancel")}};const Wr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?x.useLayoutEffect:x.useEffect,Zh=()=>{const e=document.querySelector("head");return e||Le(),e},V0=e=>{const n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.type="text/css",n};function Lz(e,n){const r=Ot(()=>Nz(e),[e]),s=x.useRef(null),o=x.useRef(null),i=st(zn(m=>{const g=o.current;g||Le(),g.textContent=m}),[]),l=st(m=>{const g=s.current;g||Le(),g.textContent=m},[]);Wr(()=>{!s.current&&!o.current||Le();const m=V0(n),g=V0(n);return s.current=m,o.current=g,m.setAttribute(`${ei}-always`,e),g.setAttribute(`${ei}-dynamic`,e),Zh().appendChild(m),Zh().appendChild(g),l(r.always),i(r.resting),()=>{const y=b=>{const S=b.current;S||Le(),Zh().removeChild(S),b.current=null};y(s),y(o)}},[n,l,i,r.always,r.resting,e]);const d=st(()=>i(r.dragging),[i,r.dragging]),u=st(m=>{if(m==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),h=st(()=>{o.current&&i(r.resting)},[i,r.resting]);return Ot(()=>({dragging:d,dropping:u,resting:h}),[d,u,h])}function Gw(e,n){return Array.from(e.querySelectorAll(n))}var Yw=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Qd(e){return e instanceof Yw(e).HTMLElement}function $z(e,n){const r=`[${ti.contextId}="${e}"]`,s=Gw(document,r);if(!s.length)return null;const o=s.find(i=>i.getAttribute(ti.draggableId)===n);return!o||!Qd(o)?null:o}function Fz(e){const n=x.useRef({}),r=x.useRef(null),s=x.useRef(null),o=x.useRef(!1),i=st(function(g,y){const b={id:g,focus:y};return n.current[g]=b,function(){const v=n.current;v[g]!==b&&delete v[g]}},[]),l=st(function(g){const y=$z(e,g);y&&y!==document.activeElement&&y.focus()},[e]),d=st(function(g,y){r.current===g&&(r.current=y)},[]),u=st(function(){s.current||o.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const g=r.current;g&&l(g)}))},[l]),h=st(function(g){r.current=null;const y=document.activeElement;y&&y.getAttribute(ti.draggableId)===g&&(r.current=g)},[]);return Wr(()=>(o.current=!0,function(){o.current=!1;const g=s.current;g&&cancelAnimationFrame(g)}),[]),Ot(()=>({register:i,tryRecordFocus:h,tryRestoreFocusRecorded:u,tryShiftRecord:d}),[i,h,u,d])}function Bz(){const e={draggables:{},droppables:{}},n=[];function r(m){return n.push(m),function(){const y=n.indexOf(m);y!==-1&&n.splice(y,1)}}function s(m){n.length&&n.forEach(g=>g(m))}function o(m){return e.draggables[m]||null}function i(m){const g=o(m);return g||Le(),g}const l={register:m=>{e.draggables[m.descriptor.id]=m,s({type:"ADDITION",value:m})},update:(m,g)=>{const y=e.draggables[g.descriptor.id];y&&y.uniqueId===m.uniqueId&&(delete e.draggables[g.descriptor.id],e.draggables[m.descriptor.id]=m)},unregister:m=>{const g=m.descriptor.id,y=o(g);y&&m.uniqueId===y.uniqueId&&(delete e.draggables[g],e.droppables[m.descriptor.droppableId]&&s({type:"REMOVAL",value:m}))},getById:i,findById:o,exists:m=>!!o(m),getAllByType:m=>Object.values(e.draggables).filter(g=>g.descriptor.type===m)};function d(m){return e.droppables[m]||null}function u(m){const g=d(m);return g||Le(),g}const h={register:m=>{e.droppables[m.descriptor.id]=m},unregister:m=>{const g=d(m.descriptor.id);g&&m.uniqueId===g.uniqueId&&delete e.droppables[m.descriptor.id]},getById:u,findById:d,exists:m=>!!d(m),getAllByType:m=>Object.values(e.droppables).filter(g=>g.descriptor.type===m)};function f(){e.draggables={},e.droppables={},n.length=0}return{draggable:l,droppable:h,subscribe:r,clean:f}}function Wz(){const e=Ot(Bz,[]);return x.useEffect(()=>function(){e.clean()},[e]),e}var xx=Tt.createContext(null),xd=()=>{const e=document.body;return e||Le(),e};const Vz={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Uz=e=>`rfd-announcement-${e}`;function zz(e){const n=Ot(()=>Uz(e),[e]),r=x.useRef(null);return x.useEffect(function(){const i=document.createElement("div");return r.current=i,i.id=n,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),U(i.style,Vz),xd().appendChild(i),function(){setTimeout(function(){const u=xd();u.contains(i)&&u.removeChild(i),i===r.current&&(r.current=null)})}},[n]),st(o=>{const i=r.current;if(i){i.textContent=o;return}},[])}const Hz={separator:"::"};function gx(e,n=Hz){const r=Tt.useId();return Ot(()=>`${e}${n.separator}${r}`,[n.separator,e,r])}function Gz({contextId:e,uniqueId:n}){return`rfd-hidden-text-${e}-${n}`}function Yz({contextId:e,text:n}){const r=gx("hidden-text",{separator:"-"}),s=Ot(()=>Gz({contextId:e,uniqueId:r}),[r,e]);return x.useEffect(function(){const i=document.createElement("div");return i.id=s,i.textContent=n,i.style.display="none",xd().appendChild(i),function(){const d=xd();d.contains(i)&&d.removeChild(i)}},[s,n]),s}var Zd=Tt.createContext(null);function qw(e){const n=x.useRef(e);return x.useEffect(()=>{n.current=e}),n}function qz(){let e=null;function n(){return!!e}function r(l){return l===e}function s(l){e&&Le();const d={abandon:l};return e=d,d}function o(){e||Le(),e=null}function i(){e&&(e.abandon(),o())}return{isClaimed:n,isActive:r,claim:s,release:o,tryAbandon:i}}function cl(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const Kz=9,Jz=13,bx=27,Kw=32,Xz=33,Qz=34,Zz=35,eH=36,tH=37,nH=38,rH=39,sH=40,oH={[Jz]:!0,[Kz]:!0};var Jw=e=>{oH[e.keyCode]&&e.preventDefault()};const eu=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(s=>`on${s}`in document)||e})(),Xw=0,U0=5;function aH(e,n){return Math.abs(n.x-e.x)>=U0||Math.abs(n.y-e.y)>=U0}const z0={type:"IDLE"};function iH({cancel:e,completed:n,getPhase:r,setPhase:s}){return[{eventName:"mousemove",fn:o=>{const{button:i,clientX:l,clientY:d}=o;if(i!==Xw)return;const u={x:l,y:d},h=r();if(h.type==="DRAGGING"){o.preventDefault(),h.actions.move(u);return}h.type!=="PENDING"&&Le();const f=h.point;if(!aH(f,u))return;o.preventDefault();const m=h.actions.fluidLift(u);s({type:"DRAGGING",actions:m})}},{eventName:"mouseup",fn:o=>{const i=r();if(i.type!=="DRAGGING"){e();return}o.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:o=>{r().type==="DRAGGING"&&o.preventDefault(),e()}},{eventName:"keydown",fn:o=>{if(r().type==="PENDING"){e();return}if(o.keyCode===bx){o.preventDefault(),e();return}Jw(o)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:o=>{const i=r();if(i.type==="IDLE"&&Le(),i.actions.shouldRespectForcePress()){e();return}o.preventDefault()}},{eventName:eu,fn:e}]}function lH(e){const n=x.useRef(z0),r=x.useRef(Po),s=Ot(()=>({eventName:"mousedown",fn:function(m){if(m.defaultPrevented||m.button!==Xw||m.ctrlKey||m.metaKey||m.shiftKey||m.altKey)return;const g=e.findClosestDraggableId(m);if(!g)return;const y=e.tryGetLock(g,l,{sourceEvent:m});if(!y)return;m.preventDefault();const b={x:m.clientX,y:m.clientY};r.current(),h(y,b)}}),[e]),o=Ot(()=>({eventName:"webkitmouseforcewillbegin",fn:f=>{if(f.defaultPrevented)return;const m=e.findClosestDraggableId(f);if(!m)return;const g=e.findOptionsForDraggable(m);g&&(g.shouldRespectForcePress||e.canGetLock(m)&&f.preventDefault())}}),[e]),i=st(function(){const m={passive:!1,capture:!0};r.current=ts(window,[o,s],m)},[o,s]),l=st(()=>{n.current.type!=="IDLE"&&(n.current=z0,r.current(),i())},[i]),d=st(()=>{const f=n.current;l(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[l]),u=st(function(){const m={capture:!0,passive:!1},g=iH({cancel:d,completed:l,getPhase:()=>n.current,setPhase:y=>{n.current=y}});r.current=ts(window,g,m)},[d,l]),h=st(function(m,g){n.current.type!=="IDLE"&&Le(),n.current={type:"PENDING",point:g,actions:m},u()},[u]);Wr(function(){return i(),function(){r.current()}},[i])}function cH(){}const dH={[Qz]:!0,[Xz]:!0,[eH]:!0,[Zz]:!0};function uH(e,n){function r(){n(),e.cancel()}function s(){n(),e.drop()}return[{eventName:"keydown",fn:o=>{if(o.keyCode===bx){o.preventDefault(),r();return}if(o.keyCode===Kw){o.preventDefault(),s();return}if(o.keyCode===sH){o.preventDefault(),e.moveDown();return}if(o.keyCode===nH){o.preventDefault(),e.moveUp();return}if(o.keyCode===rH){o.preventDefault(),e.moveRight();return}if(o.keyCode===tH){o.preventDefault(),e.moveLeft();return}if(dH[o.keyCode]){o.preventDefault();return}Jw(o)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:eu,fn:r}]}function hH(e){const n=x.useRef(cH),r=Ot(()=>({eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==Kw)return;const l=e.findClosestDraggableId(i);if(!l)return;const d=e.tryGetLock(l,f,{sourceEvent:i});if(!d)return;i.preventDefault();let u=!0;const h=d.snapLift();n.current();function f(){u||Le(),u=!1,n.current(),s()}n.current=ts(window,uH(h,f),{capture:!0,passive:!1})}}),[e]),s=st(function(){const i={passive:!1,capture:!0};n.current=ts(window,[r],i)},[r]);Wr(function(){return s(),function(){n.current()}},[s])}const ef={type:"IDLE"},fH=120,pH=.15;function mH({cancel:e,getPhase:n}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.keyCode===bx&&r.preventDefault(),e()}},{eventName:eu,fn:e}]}function xH({cancel:e,completed:n,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const o=r();if(o.type!=="DRAGGING"){e();return}o.hasMoved=!0;const{clientX:i,clientY:l}=s.touches[0],d={x:i,y:l};s.preventDefault(),o.actions.move(d)}},{eventName:"touchend",fn:s=>{const o=r();if(o.type!=="DRAGGING"){e();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:s=>{if(r().type!=="DRAGGING"){e();return}s.preventDefault(),e()}},{eventName:"touchforcechange",fn:s=>{const o=r();o.type==="IDLE"&&Le();const i=s.touches[0];if(!i||!(i.force>=pH))return;const d=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){d&&e();return}if(d){if(o.hasMoved){s.preventDefault();return}e();return}s.preventDefault()}},{eventName:eu,fn:e}]}function gH(e){const n=x.useRef(ef),r=x.useRef(Po),s=st(function(){return n.current},[]),o=st(function(y){n.current=y},[]),i=Ot(()=>({eventName:"touchstart",fn:function(y){if(y.defaultPrevented)return;const b=e.findClosestDraggableId(y);if(!b)return;const S=e.tryGetLock(b,d,{sourceEvent:y});if(!S)return;const v=y.touches[0],{clientX:E,clientY:w}=v,I={x:E,y:w};r.current(),m(S,I)}}),[e]),l=st(function(){const y={capture:!0,passive:!1};r.current=ts(window,[i],y)},[i]),d=st(()=>{const g=n.current;g.type!=="IDLE"&&(g.type==="PENDING"&&clearTimeout(g.longPressTimerId),o(ef),r.current(),l())},[l,o]),u=st(()=>{const g=n.current;d(),g.type==="DRAGGING"&&g.actions.cancel({shouldBlockNextClick:!0}),g.type==="PENDING"&&g.actions.abort()},[d]),h=st(function(){const y={capture:!0,passive:!1},b={cancel:u,completed:d,getPhase:s},S=ts(window,xH(b),y),v=ts(window,mH(b),y);r.current=function(){S(),v()}},[u,s,d]),f=st(function(){const y=s();y.type!=="PENDING"&&Le();const b=y.actions.fluidLift(y.point);o({type:"DRAGGING",actions:b,hasMoved:!1})},[s,o]),m=st(function(y,b){s().type!=="IDLE"&&Le();const S=setTimeout(f,fH);o({type:"PENDING",point:b,actions:y,longPressTimerId:S}),h()},[h,s,o,f]);Wr(function(){return l(),function(){r.current();const b=s();b.type==="PENDING"&&(clearTimeout(b.longPressTimerId),o(ef))}},[s,l,o]),Wr(function(){return ts(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const bH=["input","button","textarea","select","option","optgroup","video","audio"];function Qw(e,n){if(n==null)return!1;if(bH.includes(n.tagName.toLowerCase()))return!0;const s=n.getAttribute("contenteditable");return s==="true"||s===""?!0:n===e?!1:Qw(e,n.parentElement)}function yH(e,n){const r=n.target;return Qd(r)?Qw(e,r):!1}var vH=e=>gs(e.getBoundingClientRect()).center;function jH(e){return e instanceof Yw(e).Element}const SH=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||e})();function Zw(e,n){return e==null?null:e[SH](n)?e:Zw(e.parentElement,n)}function wH(e,n){return e.closest?e.closest(n):Zw(e,n)}function CH(e){return`[${ti.contextId}="${e}"]`}function PH(e,n){const r=n.target;if(!jH(r))return null;const s=CH(e),o=wH(r,s);return!o||!Qd(o)?null:o}function EH(e,n){const r=PH(e,n);return r?r.getAttribute(ti.draggableId):null}function IH(e,n){const r=`[${Rf.contextId}="${e}"]`,o=Gw(document,r).find(i=>i.getAttribute(Rf.id)===n);return!o||!Qd(o)?null:o}function DH(e){e.preventDefault()}function wc({expected:e,phase:n,isLockActive:r,shouldWarn:s}){return!(!r()||e!==n)}function e1({lockAPI:e,store:n,registry:r,draggableId:s}){if(e.isClaimed())return!1;const o=r.draggable.findById(s);return!(!o||!o.options.isEnabled||!Vw(n.getState(),s))}function TH({lockAPI:e,contextId:n,store:r,registry:s,draggableId:o,forceSensorStop:i,sourceEvent:l}){if(!e1({lockAPI:e,store:r,registry:s,draggableId:o}))return null;const u=s.draggable.getById(o),h=IH(n,u.descriptor.id);if(!h||l&&!u.options.canDragInteractiveElements&&yH(h,l))return null;const f=e.claim(i||Po);let m="PRE_DRAG";function g(){return u.options.shouldRespectForcePress}function y(){return e.isActive(f)}function b(T,R){wc({expected:T,phase:m,isLockActive:y,shouldWarn:!0})&&r.dispatch(R())}const S=b.bind(null,"DRAGGING");function v(T){function R(){e.release(),m="COMPLETED"}m!=="PRE_DRAG"&&(R(),Le()),r.dispatch(wU(T.liftActionArgs)),m="DRAGGING";function _(k,N={shouldBlockNextClick:!1}){if(T.cleanup(),N.shouldBlockNextClick){const $=ts(window,[{eventName:"click",fn:DH,options:{once:!0,passive:!1,capture:!0}}]);setTimeout($)}R(),r.dispatch(Ow({reason:k}))}return{isActive:()=>wc({expected:"DRAGGING",phase:m,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:g,drop:k=>_("DROP",k),cancel:k=>_("CANCEL",k),...T.actions}}function E(T){const R=rl(k=>{S(()=>_w({client:k}))});return{...v({liftActionArgs:{id:o,clientSelection:T,movementMode:"FLUID"},cleanup:()=>R.cancel(),actions:{move:R}}),move:R}}function w(){const T={moveUp:()=>S(kU),moveRight:()=>S(OU),moveDown:()=>S(_U),moveLeft:()=>S(MU)};return v({liftActionArgs:{id:o,clientSelection:vH(h),movementMode:"SNAP"},cleanup:Po,actions:T})}function I(){wc({expected:"PRE_DRAG",phase:m,isLockActive:y,shouldWarn:!0})&&e.release()}return{isActive:()=>wc({expected:"PRE_DRAG",phase:m,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:g,fluidLift:E,snapLift:w,abort:I}}const AH=[lH,hH,gH];function RH({contextId:e,store:n,registry:r,customSensors:s,enableDefaultSensors:o}){const i=[...o?AH:[],...s||[]],l=x.useState(()=>qz())[0],d=st(function(v,E){cl(v)&&!cl(E)&&l.tryAbandon()},[l]);Wr(function(){let v=n.getState();return n.subscribe(()=>{const w=n.getState();d(v,w),v=w})},[l,n,d]),Wr(()=>l.tryAbandon,[l.tryAbandon]);const u=st(S=>e1({lockAPI:l,registry:r,store:n,draggableId:S}),[l,r,n]),h=st((S,v,E)=>TH({lockAPI:l,registry:r,contextId:e,store:n,draggableId:S,forceSensorStop:v||null,sourceEvent:E&&E.sourceEvent?E.sourceEvent:null}),[e,l,r,n]),f=st(S=>EH(e,S),[e]),m=st(S=>{const v=r.draggable.findById(S);return v?v.options:null},[r.draggable]),g=st(function(){l.isClaimed()&&(l.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(cx()))},[l,n]),y=st(()=>l.isClaimed(),[l]),b=Ot(()=>({canGetLock:u,tryGetLock:h,findClosestDraggableId:f,findOptionsForDraggable:m,tryReleaseLock:g,isLockClaimed:y}),[u,h,f,m,g,y]);for(let S=0;S<i.length;S++)i[S](b)}const kH=e=>({onBeforeCapture:n=>{const r=()=>{e.onBeforeCapture&&e.onBeforeCapture(n)};Wf.flushSync(r)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),_H=e=>({...ll,...e.autoScrollerOptions,durationDampening:{...ll.durationDampening,...e.autoScrollerOptions}});function $i(e){return e.current||Le(),e.current}function OH(e){const{contextId:n,setCallbacks:r,sensors:s,nonce:o,dragHandleUsageInstructions:i}=e,l=x.useRef(null),d=qw(e),u=st(()=>kH(d.current),[d]),h=st(()=>_H(d.current),[d]),f=zz(n),m=Yz({contextId:n,text:i}),g=Lz(n,o),y=st($=>{$i(l).dispatch($)},[]),b=Ot(()=>g0({publishWhileDragging:PU,updateDroppableScroll:IU,updateDroppableIsEnabled:DU,updateDroppableIsCombineEnabled:TU,collectionStarting:EU},y),[y]),S=Wz(),v=Ot(()=>mz(S,b),[S,b]),E=Ot(()=>kz({scrollWindow:xz,scrollDroppable:v.scrollDroppable,getAutoScrollerOptions:h,...g0({move:_w},y)}),[v.scrollDroppable,y,h]),w=Fz(n),I=Ot(()=>uz({announce:f,autoScroller:E,dimensionMarshal:v,focusMarshal:w,getResponders:u,styleMarshal:g}),[f,E,v,w,u,g]);l.current=I;const D=st(()=>{const $=$i(l);$.getState().phase!=="IDLE"&&$.dispatch(cx())},[]),T=st(()=>{const $=$i(l).getState();return $.phase==="DROP_ANIMATING"?!0:$.phase==="IDLE"?!1:$.isDragging},[]),R=Ot(()=>({isDragging:T,tryAbort:D}),[T,D]);r(R);const _=st($=>Vw($i(l).getState(),$),[]),k=st(()=>Zo($i(l).getState()),[]),N=Ot(()=>({marshal:v,focus:w,contextId:n,canLift:_,isMovementAllowed:k,dragHandleUsageInstructionsId:m,registry:S}),[n,v,m,w,_,k,S]);return RH({contextId:n,store:I,registry:S,customSensors:s||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),x.useEffect(()=>D,[D]),Tt.createElement(Zd.Provider,{value:N},Tt.createElement(sV,{context:xx,store:I},e.children))}function MH(){return Tt.useId()}function NH(e){const n=MH(),r=e.dragHandleUsageInstructions||kc.dragHandleUsageInstructions;return Tt.createElement(fV,null,s=>Tt.createElement(OH,{nonce:e.nonce,contextId:n,setCallbacks:s,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const H0={dragging:5e3,dropAnimating:4500},LH=(e,n)=>n?qi.drop(n.duration):e?qi.snap:qi.fluid,$H=(e,n)=>{if(e)return n?il.opacity.drop:il.opacity.combining},FH=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function BH(e){const r=e.dimension.client,{offset:s,combineWith:o,dropping:i}=e,l=!!o,d=FH(e),u=!!i,h=u?Tf.drop(s,l):Tf.moveTo(s);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:LH(d,i),transform:h,opacity:$H(l,u),zIndex:u?H0.dropAnimating:H0.dragging,pointerEvents:"none"}}function WH(e){return{transform:Tf.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function VH(e){return e.type==="DRAGGING"?BH(e):WH(e)}function UH(e,n,r=Hn){const s=window.getComputedStyle(n),o=n.getBoundingClientRect(),i=lw(o,s),l=hd(i,r),d={client:i,tagName:n.tagName.toLowerCase(),display:s.display},u={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:e,placeholder:d,displaceBy:u,client:i,page:l}}function zH(e){const n=gx("draggable"),{descriptor:r,registry:s,getDraggableRef:o,canDragInteractiveElements:i,shouldRespectForcePress:l,isEnabled:d}=e,u=Ot(()=>({canDragInteractiveElements:i,shouldRespectForcePress:l,isEnabled:d}),[i,d,l]),h=st(y=>{const b=o();return b||Le(),UH(r,b,y)},[r,o]),f=Ot(()=>({uniqueId:n,descriptor:r,options:u,getDimension:h}),[r,h,u,n]),m=x.useRef(f),g=x.useRef(!0);Wr(()=>(s.draggable.register(m.current),()=>s.draggable.unregister(m.current)),[s.draggable]),Wr(()=>{if(g.current){g.current=!1;return}const y=m.current;m.current=f,s.draggable.update(f,y)},[f,s.draggable])}var yx=Tt.createContext(null);function gd(e){const n=x.useContext(e);return n||Le(),n}function HH(e){e.preventDefault()}const GH=e=>{const n=x.useRef(null),r=st((R=null)=>{n.current=R},[]),s=st(()=>n.current,[]),{contextId:o,dragHandleUsageInstructionsId:i,registry:l}=gd(Zd),{type:d,droppableId:u}=gd(yx),h=Ot(()=>({id:e.draggableId,index:e.index,type:d,droppableId:u}),[e.draggableId,e.index,d,u]),{children:f,draggableId:m,isEnabled:g,shouldRespectForcePress:y,canDragInteractiveElements:b,isClone:S,mapped:v,dropAnimationFinished:E}=e;if(!S){const R=Ot(()=>({descriptor:h,registry:l,getDraggableRef:s,canDragInteractiveElements:b,shouldRespectForcePress:y,isEnabled:g}),[h,l,s,b,y,g]);zH(R)}const w=Ot(()=>g?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":m,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:HH}:null,[o,i,m,g]),I=st(R=>{v.type==="DRAGGING"&&v.dropping&&R.propertyName==="transform"&&Wf.flushSync(E)},[E,v]),D=Ot(()=>{const R=VH(v),_=v.type==="DRAGGING"&&v.dropping?I:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":m,style:R,onTransitionEnd:_},dragHandleProps:w}},[o,w,m,v,I,r]),T=Ot(()=>({draggableId:h.id,type:h.type,source:{index:h.index,droppableId:h.droppableId}}),[h.droppableId,h.id,h.index,h.type]);return Tt.createElement(Tt.Fragment,null,f(D,v.snapshot,T))};var t1=(e,n)=>e===n,n1=e=>{const{combine:n,destination:r}=e;return r?r.droppableId:n?n.droppableId:null};const YH=e=>e.combine?e.combine.draggableId:null,qH=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function KH(){const e=zn((o,i)=>({x:o,y:i})),n=zn((o,i,l=null,d=null,u=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!u,dropAnimation:u,mode:o,draggingOver:l,combineWith:d,combineTargetFor:null})),r=zn((o,i,l,d,u=null,h=null,f=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:h,mode:i,offset:o,dimension:l,forceShouldAnimate:f,snapshot:n(i,d,u,h,null)}}));return(o,i)=>{if(cl(o)){if(o.critical.draggable.id!==i.draggableId)return null;const l=o.current.client.offset,d=o.dimensions.draggables[i.draggableId],u=Br(o.impact),h=qH(o.impact),f=o.forceShouldAnimate;return r(e(l.x,l.y),o.movementMode,d,i.isClone,u,h,f)}if(o.phase==="DROP_ANIMATING"){const l=o.completed;if(l.result.draggableId!==i.draggableId)return null;const d=i.isClone,u=o.dimensions.draggables[i.draggableId],h=l.result,f=h.mode,m=n1(h),g=YH(h),b={duration:o.dropDuration,curve:ux.drop,moveTo:o.newHomeClientOffset,opacity:g?il.opacity.drop:null,scale:g?il.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:u,dropping:b,draggingOver:m,combineWith:g,mode:f,forceShouldAnimate:null,snapshot:n(f,d,m,g,b)}}}return null}}function r1(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const JH={mapped:{type:"SECONDARY",offset:Hn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:r1(null)}};function XH(){const e=zn((l,d)=>({x:l,y:d})),n=zn(r1),r=zn((l,d=null,u)=>({mapped:{type:"SECONDARY",offset:l,combineTargetFor:d,shouldAnimateDisplacement:u,snapshot:n(d)}})),s=l=>l?r(Hn,l,!0):null,o=(l,d,u,h)=>{const f=u.displaced.visible[l],m=!!(h.inVirtualList&&h.effected[l]),g=Kd(u),y=g&&g.draggableId===l?d:null;if(!f){if(!m)return s(y);if(u.displaced.invisible[l])return null;const v=di(h.displacedBy.point),E=e(v.x,v.y);return r(E,y,!0)}if(m)return s(y);const b=u.displacedBy.point,S=e(b.x,b.y);return r(S,y,f.shouldAnimate)};return(l,d)=>{if(cl(l))return l.critical.draggable.id===d.draggableId?null:o(d.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){const u=l.completed;return u.result.draggableId===d.draggableId?null:o(d.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const QH=()=>{const e=KH(),n=XH();return(s,o)=>e(s,o)||n(s,o)||JH},ZH={dropAnimationFinished:Mw},e8=aw(QH,ZH,null,{context:xx,areStatePropsEqual:t1})(GH);function s1(e){return gd(yx).isUsingCloneFor===e.draggableId&&!e.isClone?null:Tt.createElement(e8,e)}function t8(e){const n=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,s=!!e.shouldRespectForcePress;return Tt.createElement(s1,U({},e,{isClone:!1,isEnabled:n,canDragInteractiveElements:r,shouldRespectForcePress:s}))}const o1=e=>n=>e===n,n8=o1("scroll"),r8=o1("auto"),G0=(e,n)=>n(e.overflowX)||n(e.overflowY),s8=e=>{const n=window.getComputedStyle(e),r={overflowX:n.overflowX,overflowY:n.overflowY};return G0(r,n8)||G0(r,r8)},o8=()=>!1,a1=e=>e==null?null:e===document.body?o8()?e:null:e===document.documentElement?null:s8(e)?e:a1(e.parentElement);var kf=e=>({x:e.scrollLeft,y:e.scrollTop});const i1=e=>e?window.getComputedStyle(e).position==="fixed"?!0:i1(e.parentElement):!1;var a8=e=>{const n=a1(e),r=i1(e);return{closestScrollable:n,isFixedOnPage:r}},i8=({descriptor:e,isEnabled:n,isCombineEnabled:r,isFixedOnPage:s,direction:o,client:i,page:l,closest:d})=>{const u=(()=>{if(!d)return null;const{scrollSize:g,client:y}=d,b=Fw({scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth,height:y.paddingBox.height,width:y.paddingBox.width});return{pageMarginBox:d.page.marginBox,frameClient:y,scrollSize:g,shouldClipSubject:d.shouldClipSubject,scroll:{initial:d.scroll,current:d.scroll,max:b,diff:{value:Hn,displacement:Hn}}}})(),h=o==="vertical"?sx:bw,f=Za({page:l,withPlaceholder:null,axis:h,frame:u});return{descriptor:e,isCombineEnabled:r,isFixedOnPage:s,axis:h,isEnabled:n,client:i,page:l,frame:u,subject:f}};const l8=(e,n)=>{const r=cw(e);if(!n||e!==n)return r;const s=r.paddingBox.top-n.scrollTop,o=r.paddingBox.left-n.scrollLeft,i=s+n.scrollHeight,l=o+n.scrollWidth,u=ex({top:s,right:l,bottom:i,left:o},r.border);return tx({borderBox:u,margin:r.margin,border:r.border,padding:r.padding})};var c8=({ref:e,descriptor:n,env:r,windowScroll:s,direction:o,isDropDisabled:i,isCombineEnabled:l,shouldClipSubject:d})=>{const u=r.closestScrollable,h=l8(e,u),f=hd(h,s),m=(()=>{if(!u)return null;const y=cw(u),b={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:y,page:hd(y,s),scroll:kf(u),scrollSize:b,shouldClipSubject:d}})();return i8({descriptor:n,isEnabled:!i,isCombineEnabled:l,isFixedOnPage:r.isFixedOnPage,direction:o,client:h,page:f,closest:m})};const d8={passive:!1},u8={passive:!0};var Y0=e=>e.shouldPublishImmediately?d8:u8;const Cc=e=>e&&e.env.closestScrollable||null;function h8(e){const n=x.useRef(null),r=gd(Zd),s=gx("droppable"),{registry:o,marshal:i}=r,l=qw(e),d=Ot(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=x.useRef(d),h=Ot(()=>zn((D,T)=>{n.current||Le();const R={x:D,y:T};i.updateDroppableScroll(d.id,R)}),[d.id,i]),f=st(()=>{const D=n.current;return!D||!D.env.closestScrollable?Hn:kf(D.env.closestScrollable)},[]),m=st(()=>{const D=f();h(D.x,D.y)},[f,h]),g=Ot(()=>rl(m),[m]),y=st(()=>{const D=n.current,T=Cc(D);if(D&&T||Le(),D.scrollOptions.shouldPublishImmediately){m();return}g()},[g,m]),b=st((D,T)=>{n.current&&Le();const R=l.current,_=R.getDroppableRef();_||Le();const k=a8(_),N={ref:_,descriptor:d,env:k,scrollOptions:T};n.current=N;const $=c8({ref:_,descriptor:d,env:k,windowScroll:D,direction:R.direction,isDropDisabled:R.isDropDisabled,isCombineEnabled:R.isCombineEnabled,shouldClipSubject:!R.ignoreContainerClipping}),G=k.closestScrollable;return G&&(G.setAttribute(W0.contextId,r.contextId),G.addEventListener("scroll",y,Y0(N.scrollOptions))),$},[r.contextId,d,y,l]),S=st(()=>{const D=n.current,T=Cc(D);return D&&T||Le(),kf(T)},[]),v=st(()=>{const D=n.current;D||Le();const T=Cc(D);n.current=null,T&&(g.cancel(),T.removeAttribute(W0.contextId),T.removeEventListener("scroll",y,Y0(D.scrollOptions)))},[y,g]),E=st(D=>{const T=n.current;T||Le();const R=Cc(T);R||Le(),R.scrollTop+=D.y,R.scrollLeft+=D.x},[]),w=Ot(()=>({getDimensionAndWatchScroll:b,getScrollWhileDragging:S,dragStopped:v,scroll:E}),[v,b,S,E]),I=Ot(()=>({uniqueId:s,descriptor:d,callbacks:w}),[w,d,s]);Wr(()=>(u.current=I.descriptor,o.droppable.register(I),()=>{n.current&&v(),o.droppable.unregister(I)}),[w,d,v,I,i,o.droppable]),Wr(()=>{n.current&&i.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),Wr(()=>{n.current&&i.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function tf(){}const q0={width:0,height:0,margin:yV},f8=({isAnimatingOpenOnMount:e,placeholder:n,animate:r})=>e||r==="close"?q0:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin},p8=({isAnimatingOpenOnMount:e,placeholder:n,animate:r})=>{const s=f8({isAnimatingOpenOnMount:e,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?qi.placeholder:null}},m8=e=>{const n=x.useRef(null),r=st(()=>{n.current&&(clearTimeout(n.current),n.current=null)},[]),{animate:s,onTransitionEnd:o,onClose:i,contextId:l}=e,[d,u]=x.useState(e.animate==="open");x.useEffect(()=>d?s!=="open"?(r(),u(!1),tf):n.current?tf:(n.current=setTimeout(()=>{n.current=null,u(!1)}),r):tf,[s,d,r]);const h=st(m=>{m.propertyName==="height"&&(o(),s==="close"&&i())},[s,i,o]),f=p8({isAnimatingOpenOnMount:d,animate:e.animate,placeholder:e.placeholder});return Tt.createElement(e.placeholder.tagName,{style:f,"data-rfd-placeholder-context-id":l,onTransitionEnd:h,ref:e.innerRef})};var x8=Tt.memo(m8);class g8 extends Tt.PureComponent{constructor(...n){super(...n),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(n,r){return n.shouldAnimate?n.on?{isVisible:!0,data:n.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!n.on,data:n.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const n={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(n)}}const b8=e=>{const n=x.useContext(Zd);n||Le();const{contextId:r,isMovementAllowed:s}=n,o=x.useRef(null),i=x.useRef(null),{children:l,droppableId:d,type:u,mode:h,direction:f,ignoreContainerClipping:m,isDropDisabled:g,isCombineEnabled:y,snapshot:b,useClone:S,updateViewportMaxScroll:v,getContainerForClone:E}=e,w=st(()=>o.current,[]),I=st((G=null)=>{o.current=G},[]);st(()=>i.current,[]);const D=st((G=null)=>{i.current=G},[]),T=st(()=>{s()&&v({maxScroll:Ww()})},[s,v]);h8({droppableId:d,type:u,mode:h,direction:f,isDropDisabled:g,isCombineEnabled:y,ignoreContainerClipping:m,getDroppableRef:w});const R=Ot(()=>Tt.createElement(g8,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:G,data:L,animate:H})=>Tt.createElement(x8,{placeholder:L,onClose:G,innerRef:D,animate:H,contextId:r,onTransitionEnd:T})),[r,T,e.placeholder,e.shouldAnimatePlaceholder,D]),_=Ot(()=>({innerRef:I,placeholder:R,droppableProps:{"data-rfd-droppable-id":d,"data-rfd-droppable-context-id":r}}),[r,d,R,I]),k=S?S.dragging.draggableId:null,N=Ot(()=>({droppableId:d,type:u,isUsingCloneFor:k}),[d,k,u]);function $(){if(!S)return null;const{dragging:G,render:L}=S,H=Tt.createElement(s1,{draggableId:G.draggableId,index:G.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(K,J)=>L(K,J,G));return kR.createPortal(H,E())}return Tt.createElement(yx.Provider,{value:N},l(_,b),$())};function y8(){return document.body||Le(),document.body}const K0={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:y8},l1=e=>{let n={...e},r;for(r in K0)e[r]===void 0&&(n={...n,[r]:K0[r]});return n},nf=(e,n)=>e===n.droppable.type,J0=(e,n)=>n.draggables[e.draggable.id],v8=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n={...e,shouldAnimatePlaceholder:!1},r=zn(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),s=zn((i,l,d,u,h,f)=>{const m=h.descriptor.id;if(h.descriptor.droppableId===i){const b=f?{render:f,dragging:r(h.descriptor)}:null,S={isDraggingOver:d,draggingOverWith:d?m:null,draggingFromThisWith:m,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!1,snapshot:S,useClone:b}}if(!l)return n;if(!u)return e;const y={isDraggingOver:d,draggingOverWith:m,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}});return(i,l)=>{const d=l1(l),u=d.droppableId,h=d.type,f=!d.isDropDisabled,m=d.renderClone;if(cl(i)){const g=i.critical;if(!nf(h,g))return n;const y=J0(g,i.dimensions),b=Br(i.impact)===u;return s(u,f,b,b,y,m)}if(i.phase==="DROP_ANIMATING"){const g=i.completed;if(!nf(h,g.critical))return n;const y=J0(g.critical,i.dimensions);return s(u,f,n1(g.result)===u,Br(g.impact)===u,y,m)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const g=i.completed;if(!nf(h,g.critical))return n;const y=Br(g.impact)===u,b=!!(g.impact.at&&g.impact.at.type==="COMBINE"),S=g.critical.droppable.id===u;return y?b?e:n:S?e:n}return n}},j8={updateViewportMaxScroll:RU},S8=aw(v8,j8,(e,n,r)=>({...l1(r),...e,...n}),{context:xx,areStatePropsEqual:t1})(b8);var w8=S8;const C8=({tiers:e,isLoading:n=!1,onEdit:r,onDelete:s,onReorder:o,onCreateTier:i})=>{const[l,d]=x.useState(e);x.useEffect(()=>{d([...e].sort((h,f)=>h.order-f.order))},[e]);const u=async h=>{if(!h.destination)return;const f=h.source.index,m=h.destination.index;if(f===m)return;const g=[...l].sort((S,v)=>S.order-v.order),[y]=g.splice(f,1);g.splice(m,0,y);const b=g.map((S,v)=>({...S,order:v+1}));d(b),o(b)};return n?t.jsx(pe,{spacing:3,sx:{maxWidth:900},children:[1,2,3].map(h=>t.jsx(ot,{sx:{p:3},children:t.jsxs(pe,{spacing:2,children:[t.jsx(de,{variant:"circular",width:32,height:32}),t.jsx(de,{variant:"text",width:"60%",height:28}),t.jsx(de,{variant:"text",width:"40%",height:40}),t.jsx(de,{variant:"text",width:"80%",height:20}),t.jsxs(pe,{direction:"row",justifyContent:"flex-end",spacing:1,children:[t.jsx(de,{variant:"circular",width:32,height:32}),t.jsx(de,{variant:"circular",width:32,height:32})]})]})},h))}):e.length===0?t.jsx(so,{title:"Set Up Channel Subscriptions",description:"Create subscription tiers to offer exclusive perks and content to your subscribers",action:{label:"Create Your First Tier",onClick:i},icon:t.jsx(ad,{sx:{fontSize:48}})}):t.jsxs(pe,{spacing:4,children:[t.jsxs(pe,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsx(j,{variant:"h5",sx:{fontWeight:600},children:"Subscription Tiers"}),t.jsx(he,{variant:"contained",startIcon:t.jsx(Xm,{}),onClick:i,sx:{px:3,borderRadius:2,textTransform:"none"},children:"Create Tier"})]}),t.jsx(ot,{sx:{p:2,bgcolor:"primary.50",borderRadius:2,border:"1px solid",borderColor:"primary.100"},children:t.jsxs(pe,{direction:"row",spacing:2,alignItems:"center",children:[t.jsx(Ld,{color:"primary"}),t.jsx(j,{variant:"body2",color:"primary.700",children:"Drag to reorder tiers. Members will see tiers in this order on your channel page."})]})}),t.jsx(NH,{onDragEnd:u,children:t.jsx(w8,{droppableId:"tiers",children:h=>t.jsxs(pe,{spacing:3,...h.droppableProps,ref:h.innerRef,sx:{maxWidth:800,width:"100%"},children:[l.map((f,m)=>t.jsx(t8,{draggableId:f.id,index:m,children:(g,y)=>t.jsx(C,{ref:g.innerRef,...g.draggableProps,children:t.jsx(C,{sx:{position:"relative"},children:t.jsxs(ot,{elevation:y.isDragging?8:2,sx:{p:3,transition:"all 0.2s ease",transform:y.isDragging?"scale(1.02)":"scale(1)",bgcolor:"background.paper",borderRadius:2,"&:hover":{boxShadow:4,"& .drag-handle":{opacity:1}}},children:[t.jsx(Qe,{label:f.order,color:"primary",size:"small",sx:{position:"absolute",top:-12,left:16,height:32,width:32,borderRadius:"50%",boxShadow:2,zIndex:1,"& .MuiChip-label":{px:0,fontSize:"1rem",fontWeight:"bold"}}}),t.jsx(C,{...g.dragHandleProps,className:"drag-handle",sx:{position:"absolute",top:0,left:0,right:0,height:"100%",display:"flex",alignItems:"center",justifyContent:"center",opacity:0,transition:"opacity 0.2s ease","&:hover":{cursor:"move","& .drag-icon":{transform:"scale(1.1)"}}},children:t.jsx(C,{className:"drag-icon",sx:{width:40,height:40,borderRadius:"50%",bgcolor:"action.hover",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s ease"},children:t.jsx(QS,{color:"action"})})}),t.jsxs(C,{sx:{flex:1},children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:f.name}),t.jsxs(j,{variant:"h4",gutterBottom:!0,children:["$",f.price,t.jsx(j,{component:"span",variant:"body2",sx:{ml:1},children:"/month"})]}),t.jsx(j,{variant:"body2",sx:{mb:2},children:f.description})]}),t.jsxs(pe,{direction:"row",spacing:1,justifyContent:"flex-end",children:[t.jsx(Ne,{onClick:()=>r(f.id),size:"small",children:t.jsx(wl,{})}),t.jsx(Ne,{onClick:()=>s(f.id),size:"small",children:t.jsx(fa,{})})]})]})})})},f.id)),h.placeholder]})})})]})},P8=({open:e,onClose:n,onSubmit:r,initialData:s,tierCount:o,isEdit:i=!1})=>{const[l,d]=x.useState({name:"",description:"",price:0,benefits:[],order:i?s.order:o+1}),[u,h]=x.useState({}),[f,m]=x.useState(!1);x.useEffect(()=>{s&&d({name:s.name,description:s.description,price:s.price,benefits:s.benefits,order:i?s.order:o+1})},[s]),x.useEffect(()=>{d(S=>({...S,order:o+1}))},[o]);const g=()=>{const S={};return l.name||(S.name="Name is required"),l.description||(S.description="Description is required"),l.price<0&&(S.price="Price must be positive"),l.benefits||(S.benefits="Benefits are required"),h(S),Object.keys(S).length===0},y=S=>v=>{const E=S==="price"?Number(v.target.value):v.target.value;d(w=>({...w,[S]:E})),u[S]&&h(w=>({...w,[S]:void 0}))},b=async S=>{if(S.preventDefault(),!!g())try{m(!0),await r(l),n()}catch(v){console.error("Failed to submit tier:",v)}finally{m(!1)}};return t.jsxs(Kt,{open:e,onClose:n,maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:i?"Edit Tier":"Create New Tier"}),t.jsxs("form",{onSubmit:b,children:[t.jsx(Jt,{children:t.jsxs(pe,{spacing:3,children:[t.jsx(nt,{label:"Tier Name",value:l.name,onChange:y("name"),error:!!u.name,helperText:u.name,fullWidth:!0}),t.jsx(nt,{label:"Description",value:l.description,onChange:y("description"),multiline:!0,rows:3,error:!!u.description,helperText:u.description,fullWidth:!0}),t.jsx(nt,{type:"number",label:"Monthly Price",value:l.price,onChange:y("price"),InputProps:{startAdornment:t.jsx(os,{position:"start",children:"$"})},error:!!u.price,helperText:u.price,fullWidth:!0}),t.jsx(nt,{label:"Benefits",value:l.benefits,onChange:y("benefits"),multiline:!0,rows:4,placeholder:"Enter benefits, one per line",error:!!u.benefits,helperText:u.benefits,fullWidth:!0})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:n,children:"Cancel"}),t.jsx(he,{type:"submit",variant:"contained",disabled:f,children:i?"Save Changes":"Create Tier"})]})]})]})},vx=x.memo(({channelId:e})=>{const{api:n}=Je(),{execute:r}=et(),{execute:s}=et(),{execute:o}=et(),{execute:i}=et(),{execute:l}=et(),[d,u]=x.useState([]),[h,f]=x.useState(!0),[m,g]=x.useState(!1),[y,b]=x.useState(null),[S,v]=x.useState(!1),E=x.useCallback(async()=>{if(!e)return;f(!0);const k=await r(()=>n==null?void 0:n.app.channel.getTiers(e),{showErrorToast:!0});k&&u(k.items||[]),f(!1)},[e,r,n]);x.useEffect(()=>{E()},[E]);const w=k=>{const N=d.find($=>$.id===k);N&&(b(N),g(!0))},I=()=>{g(!1),b(null)},D=async k=>{await s(()=>n==null?void 0:n.app.channel.createTier(e,k),{showSuccessMessage:!0,successMessage:"Tier created successfully"})&&(await E(),I())},T=async(k,N)=>{await o(()=>n==null?void 0:n.app.channel.updateTier(e,k,N),{showSuccessMessage:!0,successMessage:"Tier updated successfully"}),await E(),I()},R=async k=>{await l(()=>n==null?void 0:n.app.channel.deleteTier(e,k),{showSuccessMessage:!0,successMessage:"Tier deleted successfully"}),await E()},_=async k=>{try{v(!0),await i(()=>n==null?void 0:n.app.channel.updateTiers(e,k),{showSuccessMessage:!0,successMessage:"Tiers reordered successfully"}),u(k)}catch{}finally{v(!1)}};return t.jsxs(C,{sx:{p:3},children:[t.jsx(C8,{tiers:d,isLoading:h,onEdit:w,onDelete:R,onReorder:_,onCreateTier:()=>g(!0)}),t.jsx(P8,{open:m,onClose:I,onSubmit:y?k=>T(y.id,k):D,initialData:y,tierCount:d.length,isEdit:!!y}),t.jsx(_R,{sx:{color:"#fff",zIndex:k=>k.zIndex.drawer+1,backdropFilter:"blur(3px)"},open:S,children:t.jsx(sn,{color:"inherit"})})]})},(e,n)=>e.channelId===n.channelId);vx.displayName="TiersTab";const E8=({tabs:e,activeTab:n,onTabChange:r,isOpen:s,onClose:o,onOpen:i})=>t.jsx(OR,{anchor:"bottom",open:s,onClose:o,onOpen:i,disableSwipeToOpen:!1,PaperProps:{sx:{borderTopLeftRadius:16,borderTopRightRadius:16,maxHeight:"80vh"}},children:t.jsx(mr,{sx:{pt:1,pb:2},children:e.map(l=>t.jsx(of,{selected:n===l.id,onClick:()=>{r(l.id),o()},sx:{mx:1,borderRadius:1,mb:.5,"&.Mui-selected":{bgcolor:d=>ue(d.palette.primary.main,.1)}},children:t.jsx(Wt,{primary:l.label})},l.id))})}),I8=({tabs:e,activeTab:n,onTabChange:r})=>t.jsx(C,{sx:{borderBottom:1,borderColor:"divider"},children:t.jsx($s,{value:n,onChange:(s,o)=>r(o),sx:{px:{md:3,lg:4}},children:e.map(s=>t.jsx(Mn,{label:s.label,value:s.id,sx:{textTransform:"none",fontWeight:500,fontSize:"0.9375rem"}},s.id))})}),X0=[{id:"basic",label:"Basic Info",component:XS},{id:"tiers",label:"Channel Tiers",component:vx}],D8=()=>{const{id:e}=is(),n=cn(),r=ml(n.breakpoints.down("md")),{api:s}=Je(),[o,i]=x.useState("basic"),[l,d]=x.useState(!1),[u,h]=x.useState(null),[f,m]=x.useState(!0),{execute:g}=et(),{execute:y}=et(),b=x.useCallback(async()=>{if(!e)return;m(!0);const w=await g(()=>s==null?void 0:s.app.channel.getChannel(e),{showErrorToast:!0});w&&h(w),m(!1)},[e,g,s]);x.useEffect(()=>{b()},[b]);const S=async w=>{e&&(await y(()=>s==null?void 0:s.app.channel.updateChannel(e,w),{showSuccessMessage:!0,successMessage:"Channel updated successfully"}),await b())},v=w=>{i(w)};if(!e||f||!u)return null;const E=()=>{switch(o){case"basic":return t.jsx(XS,{channel:u,onUpdate:S});case"tiers":return t.jsx(vx,{channelId:u.id});default:return null}};return t.jsx(C,{sx:{minHeight:"100%",bgcolor:"background.default"},children:r?t.jsxs(t.Fragment,{children:[t.jsx(C,{sx:{px:2,py:1.5},children:t.jsx(j,{variant:"h6",sx:{fontWeight:600},children:"Edit Channel"})}),E(),t.jsx(E8,{tabs:X0,activeTab:o,onTabChange:v,isOpen:l,onClose:()=>d(!1),onOpen:()=>d(!0)})]}):t.jsxs(t.Fragment,{children:[t.jsx(I8,{tabs:X0,activeTab:o,onTabChange:v}),t.jsx(C,{sx:{p:{md:3,lg:4}},children:E()})]})})},c1=({open:e,poll:n,onClose:r,onConvert:s,loading:o=!1})=>{var y,b;const{profile:i}=Cs(),[l,d]=x.useState({title:"",channelId:"",status:In.PUBLISHED,isPremium:!1,requiredTierId:null,content:""}),[u,h]=x.useState(null),f=async()=>{if(!l.title.trim()){h("Title is required");return}if(!l.channelId){h("Channel is required");return}if(!l.content.trim()){h("Content is required");return}try{h(null),await s(l),m()}catch(S){h(S.message||"Failed to convert poll to news")}},m=()=>{d({title:"",channelId:"",status:In.PUBLISHED,isPremium:!1,requiredTierId:null,content:""}),h(null),r()},g=S=>{d(v=>({...v,content:JSON.stringify(S)}))};return Tt.useEffect(()=>{e&&n&&d(S=>{var v;return{...S,title:`News Article: ${n.title}`,channelId:((v=n.channel)==null?void 0:v.id)||"",content:n.description||""}})},[e,n]),n?t.jsxs(Kt,{open:e,onClose:m,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{minHeight:"70vh"}},children:[t.jsxs(tn,{children:[t.jsx(j,{variant:"h6",children:"Convert Poll to News Article"}),t.jsxs(j,{variant:"body2",color:"text.secondary",sx:{mt:1},children:['Convert "',n.title,'" into a news article with poll results included']})]}),t.jsx(Jt,{children:t.jsxs(pe,{spacing:3,sx:{mt:1},children:[u&&t.jsx(dt,{severity:"error",onClose:()=>h(null),children:u}),t.jsxs(C,{sx:{p:2,borderRadius:2,bgcolor:S=>ue(S.palette.primary.main,.05),border:S=>`1px solid ${ue(S.palette.primary.main,.2)}`},children:[t.jsx(j,{variant:"subtitle2",gutterBottom:!0,children:"Poll Results (will be included in the article)"}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Total Votes: ",n.voteCount||0,"  Status: ",(y=n.stats)!=null&&y.hasEnded?"Ended":"Active"]})]}),t.jsx(nt,{label:"Article Title",fullWidth:!0,required:!0,value:l.title,onChange:S=>d(v=>({...v,title:S.target.value})),helperText:"Create an engaging title for your news article"}),t.jsxs(ht,{fullWidth:!0,required:!0,children:[t.jsx(Ct,{children:"Channel"}),t.jsx(xt,{value:l.channelId,label:"Channel",onChange:S=>d(v=>({...v,channelId:S.target.value})),children:(b=i==null?void 0:i.staffChannels)==null?void 0:b.map(S=>t.jsx(je,{value:S.channelId,children:S.channel.name},S.id))})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Article Content"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Write your news article. Poll results will be automatically appended."}),t.jsx(zd,{data:l.content?JSON.parse(l.content):void 0,onChange:g,placeholder:"Write your news article content here...",borderColor:S=>S.palette.mode==="dark"?ue(S.palette.common.white,.23):ue(S.palette.common.black,.23)})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle1",sx:{mb:2},children:"Publishing Options"}),t.jsxs(pe,{spacing:2,children:[t.jsx(Do,{control:t.jsx(Ya,{checked:l.isPremium,onChange:S=>d(v=>({...v,isPremium:S.target.checked}))}),label:"Premium Content"}),t.jsxs(ht,{fullWidth:!0,children:[t.jsx(Ct,{children:"Status"}),t.jsxs(xt,{value:l.status,label:"Status",onChange:S=>d(v=>({...v,status:S.target.value})),children:[t.jsx(je,{value:In.DRAFT,children:"Draft"}),t.jsx(je,{value:In.PUBLISHED,children:"Published"}),t.jsx(je,{value:In.PENDING_REVIEW,children:"Pending Review"})]})]})]})]})]})}),t.jsxs(Xt,{sx:{p:3},children:[t.jsx(he,{onClick:m,disabled:o,children:"Cancel"}),t.jsx(he,{onClick:f,variant:"contained",disabled:o,children:o?"Converting...":"Convert to News"})]})]}):null},T8=({poll:e,onRefresh:n})=>{var _;const[r,s]=x.useState(null),[o,i]=x.useState(!1),[l,d]=x.useState(!1),u=Pt(),{api:h}=Je(),{execute:f}=et(),m=cn(),g=k=>{s(k.currentTarget)},y=()=>{s(null)},b=()=>{u(`${ge.STUDIO_POLL_VIEW.replace(":id",e.id)}`),y()},S=()=>{u(`${ge.STUDIO_POLL_EDIT.replace(":id",e.id)}`),y()},v=()=>{i(!0),y()},E=()=>{d(!0),y()},w=async()=>{await f(()=>h==null?void 0:h.app.poll.delete(e.id),{showSuccessMessage:!0,successMessage:"Poll deleted successfully"})&&n(),i(!1)},I=async k=>{await f(()=>h==null?void 0:h.app.poll.convertToNews(e.id,k),{showSuccessMessage:!0,successMessage:"Poll converted to news successfully!"})&&n()},T=(()=>{const k=new Date,N=new Date(e.startDate),$=new Date(e.endDate);return k<N?{label:"Scheduled",color:"warning"}:k>$?{label:"Ended",color:"error"}:{label:"Active",color:"success"}})(),R=!e.isConverted&&!((_=e.stats)!=null&&_.hasEnded);return t.jsxs(Fe,{sx:{height:"100%",bgcolor:k=>ue(k.palette.mode==="dark"?k.palette.common.white:k.palette.common.black,k.palette.mode==="dark"?.05:.03),transition:m.transitions.create(["background-color","box-shadow"]),"&:hover":{bgcolor:k=>ue(k.palette.mode==="dark"?k.palette.common.white:k.palette.common.black,k.palette.mode==="dark"?.08:.05),boxShadow:1}},children:[t.jsxs(Ve,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[t.jsx(j,{variant:"h6",sx:{fontSize:"1rem",fontWeight:600,color:"text.primary"},children:e.title}),t.jsx(Ne,{size:"small",onClick:g,sx:{ml:1},children:t.jsx(Yd,{})})]}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:e.description}),t.jsxs(pe,{direction:"row",spacing:1,alignItems:"center",children:[t.jsx(Qe,{label:T.label,size:"small",color:T.color}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:[e.totalVotes??0," votes"]})]})]}),t.jsxs(Ro,{anchorEl:r,open:!!r,onClose:y,PaperProps:{sx:{width:200}},children:[t.jsxs(je,{onClick:b,children:[t.jsx(qt,{children:t.jsx(ha,{fontSize:"small"})}),t.jsx(Wt,{children:"View Poll"})]}),t.jsxs(je,{onClick:S,children:[t.jsx(qt,{children:t.jsx(wl,{fontSize:"small"})}),t.jsx(Wt,{children:"Edit Poll"})]}),R&&t.jsxs(je,{onClick:E,children:[t.jsx(qt,{children:t.jsx(nl,{fontSize:"small"})}),t.jsx(Wt,{children:"Convert to News"})]}),t.jsxs(je,{onClick:v,children:[t.jsx(qt,{children:t.jsx(fa,{fontSize:"small"})}),t.jsx(Wt,{children:"Delete Poll"})]})]}),t.jsx(qm,{open:o,title:"Delete Poll",content:"Are you sure you want to delete this poll? This action cannot be undone.",onConfirm:w,onClose:()=>i(!1)}),t.jsx(c1,{open:l,poll:e,onClose:()=>d(!1),onConvert:I})]})},A8=()=>{const[e,n]=x.useState([]),[r,s]=x.useState(1),[o,i]=x.useState(!0),[l,d]=x.useState(!0),{api:u}=Je(),{profile:h}=Cs(),f=Pt(),m=cn(),{execute:g}=et(),y=()=>{b(r+1)},b=async(v=r)=>{if(!(h!=null&&h.id))return;const E=await g(()=>u==null?void 0:u.studio.getMyContent("polls"),{showErrorToast:!0});E&&(n(w=>v===1?(E==null?void 0:E.items)??[]:[...w,...(E==null?void 0:E.items)??[]]),s((E==null?void 0:E.metadata.currentPage)??1),i((E==null?void 0:E.metadata.hasNext)===!0)),d(!1)};x.useEffect(()=>{b(1)},[]);const S=()=>t.jsxs(C,{sx:{p:2,borderRadius:1,bgcolor:v=>ue(v.palette.mode==="dark"?v.palette.common.white:v.palette.common.black,v.palette.mode==="dark"?.05:.03),height:{xs:180,sm:200},transition:m.transitions.create(["background-color","height"])},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[t.jsx(de,{variant:"circular",width:32,height:32,sx:{mr:1.5}}),t.jsxs(C,{sx:{width:"100%"},children:[t.jsx(de,{width:"60%",height:20}),t.jsx(de,{width:"40%",height:16})]})]}),t.jsx(de,{variant:"rectangular",sx:{borderRadius:1,height:{xs:70,sm:80}}}),t.jsx(C,{sx:{mt:1.5},children:t.jsx(de,{width:"30%",height:20})})]});return t.jsxs(C,{sx:{px:{xs:2,sm:3,md:4},py:{xs:2,sm:3},maxWidth:"lg",mx:"auto",width:"100%"},children:[t.jsx(C,{sx:{mb:{xs:2,sm:3}},children:t.jsx(j,{variant:"h5",sx:{fontWeight:600,fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:l?t.jsx(de,{width:150}):"My Polls"})}),l?t.jsx(F,{container:!0,spacing:2,children:[1,2].map(v=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(S,{})},v))}):e.length===0?t.jsx(so,{title:"No Polls Yet",description:"Create your first poll to start gathering opinions from your audience.",icon:t.jsx(rm,{sx:{fontSize:{xs:40,sm:48}}}),action:{label:"Create Poll",onClick:()=>f(ge.STUDIO_POLL_CREATE)}}):t.jsx(js,{dataLength:e.length,next:y,hasMore:o,loader:t.jsx(F,{container:!0,spacing:2,sx:{mt:.5},children:[1,2].map(v=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(S,{})},v))}),children:t.jsx(F,{container:!0,spacing:2,children:e.map(v=>t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(T8,{poll:v,onRefresh:()=>b(1)})},v.id))})})]})};function R8(e,...n){const r=new URL(`https://mui.com/production-error/?code=${e}`);return n.forEach(s=>r.searchParams.append("args[]",s)),`Minified MUI error #${e}; visit ${r} for the full message.`}const d1=re.oneOfType([re.func,re.object]);function k8(e){if(typeof e!="string")throw new Error(R8(7));return e.charAt(0).toUpperCase()+e.slice(1)}function rf(e){return e&&e.ownerDocument||document}const as=typeof window<"u"?x.useLayoutEffect:x.useEffect;let Q0=0;function _8(e){const[n,r]=x.useState(e),s=e||n;return x.useEffect(()=>{n==null&&(Q0+=1,r(`mui-${Q0}`))},[n]),s}const O8={...MR},Z0=O8.useId;function tu(e){if(Z0!==void 0){const n=Z0();return e??n}return _8(e)}function ni(e){const{controlled:n,default:r,name:s,state:o="value"}=e,{current:i}=x.useRef(n!==void 0),[l,d]=x.useState(r),u=i?n:l,h=x.useCallback(f=>{i||d(f)},[]);return[u,h]}function Ue(e){const n=x.useRef(e);return as(()=>{n.current=e}),x.useRef((...r)=>(0,n.current)(...r)).current}function ir(...e){const n=x.useRef(void 0),r=x.useCallback(s=>{const o=e.map(i=>{if(i==null)return null;if(typeof i=="function"){const l=i,d=l(s);return typeof d=="function"?d:()=>{l(null)}}return i.current=s,()=>{i.current=null}});return()=>{o.forEach(i=>i==null?void 0:i())}},e);return x.useMemo(()=>e.every(s=>s==null)?null:s=>{n.current&&(n.current(),n.current=void 0),s!=null&&(n.current=r(s))},e)}const ev={};function M8(e,n){const r=x.useRef(ev);return r.current===ev&&(r.current=e(n)),r}const N8=[];function L8(e){x.useEffect(e,N8)}class jx{constructor(){Te(this,"currentId",null);Te(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Te(this,"disposeEffect",()=>this.clear)}static create(){return new jx}start(n,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},n)}}function Ba(){const e=M8(jx.create).current;return L8(e.disposeEffect),e}const $8={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Qt(e,n,r=void 0){const s={};for(const o in e){const i=e[o];let l="",d=!0;for(let u=0;u<i.length;u+=1){const h=i[u];h&&(l+=(d===!0?"":" ")+n(h),d=!1,r&&r[h]&&(l+=" "+r[h]))}s[o]=l}return s}const tv=e=>e,F8=()=>{let e=tv;return{configure(n){e=n},generate(n){return e(n)},reset(){e=tv}}},B8=F8(),W8={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function un(e,n,r="Mui"){const s=W8[n];return s?`${r}-${s}`:`${B8.generate(e)}-${n}`}function pn(e,n,r="Mui"){const s={};return n.forEach(o=>{s[o]=un(e,o,r)}),s}function V8(e){return typeof e=="string"}function U8(e,n,r){return e===void 0||V8(e)?n:{...n,ownerState:{...n.ownerState,...r}}}function z8(e,n=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(s=>s.match(/^on[A-Z]/)&&typeof e[s]=="function"&&!n.includes(s)).forEach(s=>{r[s]=e[s]}),r}function nv(e){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{n[r]=e[r]}),n}function H8(e){const{getSlotProps:n,additionalProps:r,externalSlotProps:s,externalForwardedProps:o,className:i}=e;if(!n){const y=nn(r==null?void 0:r.className,i,o==null?void 0:o.className,s==null?void 0:s.className),b={...r==null?void 0:r.style,...o==null?void 0:o.style,...s==null?void 0:s.style},S={...r,...o,...s};return y.length>0&&(S.className=y),Object.keys(b).length>0&&(S.style=b),{props:S,internalRef:void 0}}const l=z8({...o,...s}),d=nv(s),u=nv(o),h=n(l),f=nn(h==null?void 0:h.className,r==null?void 0:r.className,i,o==null?void 0:o.className,s==null?void 0:s.className),m={...h==null?void 0:h.style,...r==null?void 0:r.style,...o==null?void 0:o.style,...s==null?void 0:s.style},g={...h,...r,...u,...d};return f.length>0&&(g.className=f),Object.keys(m).length>0&&(g.style=m),{props:g,internalRef:h.ref}}function dl(e,n,r){return typeof e=="function"?e(n,r):e}function $t(e){var m;const{elementType:n,externalSlotProps:r,ownerState:s,skipResolvingSlotProps:o=!1,...i}=e,l=o?{}:dl(r,s),{props:d,internalRef:u}=H8({...i,externalSlotProps:l}),h=ir(u,l==null?void 0:l.ref,(m=e.additionalProps)==null?void 0:m.ref);return U8(n,{...d,ref:h},s)}const G8=["localeText"],_f=x.createContext(null),u1=function(n){const{localeText:r}=n,s=at(n,G8),{utils:o,localeText:i}=x.useContext(_f)??{utils:void 0,localeText:void 0},l=Gt({props:s,name:"MuiLocalizationProvider"}),{children:d,dateAdapter:u,dateFormats:h,dateLibInstance:f,adapterLocale:m,localeText:g}=l,y=x.useMemo(()=>U({},g,i,r),[g,i,r]),b=x.useMemo(()=>{if(!u)return o||null;const E=new u({locale:m,formats:h,instance:f});if(!E.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/quickstart/#installation"].join(`
`));return E},[u,m,h,f,o]),S=x.useMemo(()=>b?{minDate:b.date("1900-01-01T00:00:00.000"),maxDate:b.date("2099-12-31T00:00:00.000")}:null,[b]),v=x.useMemo(()=>({utils:b,defaultDates:S,localeText:y}),[S,b,y]);return t.jsx(_f.Provider,{value:v,children:d})},Y8=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:U({},e)}}}}),h1={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",nextStepButtonLabel:"Next",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",timeRangePickerToolbarTitle:"Select time range",clockLabelText:(e,n)=>`Select ${e}. ${n?`Selected time is ${n}`:"No time selected"}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:e=>e?`Choose date, selected date is ${e}`:"Choose date",openTimePickerDialogue:e=>e?`Choose time, selected time is ${e}`:"Choose time",openRangePickerDialogue:e=>e?`Choose range, selected range is ${e}`:"Choose range",fieldClearLabel:"Clear",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},q8=h1;Y8(h1);const pa=()=>{const e=x.useContext(_f);if(e===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const n=x.useMemo(()=>U({},q8,e.localeText),[e.localeText]);return x.useMemo(()=>U({},e,{localeText:n}),[e,n])},Ut=()=>pa().utils,f1=()=>pa().defaultDates,fi=e=>{const n=Ut(),r=x.useRef(void 0);return r.current===void 0&&(r.current=n.date(void 0,e)),r.current},Ps=()=>pa().localeText,K8=ko(t.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),J8=ko(t.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),X8=ko(t.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),Q8=ko(t.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");ko(t.jsxs(x.Fragment,{children:[t.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),t.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");const Z8=ko(t.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange"),e9=ko(t.jsxs(x.Fragment,{children:[t.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),t.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time"),t9=ko(t.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function n9(e){return un("MuiPickersArrowSwitcher",e)}pn("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const p1=x.createContext(()=>!0);function r9(){return x.useContext(p1)}const m1=x.createContext(null);function x1(){return x.useContext(m1)}const Sx=x.createContext(null),Mo=()=>{const e=x.useContext(Sx);if(e==null)throw new Error("MUI X: The `usePickerContext` hook can only be called inside the context of a Picker component");return e},g1=x.createContext(null),b1=x.createContext({ownerState:{isPickerDisabled:!1,isPickerReadOnly:!1,isPickerValueEmpty:!1,isPickerOpen:!1,pickerVariant:"desktop",pickerOrientation:"portrait"},rootRefObject:{current:null},labelId:void 0,dismissViews:()=>{},hasUIView:!0,getCurrentViewMode:()=>"UI",triggerElement:null,viewContainerRole:null,defaultActionBarActions:[],onPopperExited:void 0});function y1(e){const{contextValue:n,actionsContextValue:r,privateContextValue:s,fieldPrivateContextValue:o,isValidContextValue:i,localeText:l,children:d}=e;return t.jsx(Sx.Provider,{value:n,children:t.jsx(g1.Provider,{value:r,children:t.jsx(b1.Provider,{value:s,children:t.jsx(m1.Provider,{value:o,children:t.jsx(p1.Provider,{value:i,children:t.jsx(u1,{localeText:l,children:d})})})})})})}const An=()=>x.useContext(b1),s9=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId","classes"],o9=["ownerState"],a9=["ownerState"],i9=Me("div",{name:"MuiPickersArrowSwitcher",slot:"Root"})({display:"flex"}),l9=Me("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer"})(({theme:e})=>({width:e.spacing(3)})),rv=Me(Ne,{name:"MuiPickersArrowSwitcher",slot:"Button"})({variants:[{props:{isButtonHidden:!0},style:{visibility:"hidden"}}]}),c9=e=>Qt({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},n9,e),d9=x.forwardRef(function(n,r){const s=Fs(),o=Gt({props:n,name:"MuiPickersArrowSwitcher"}),{children:i,className:l,slots:d,slotProps:u,isNextDisabled:h,isNextHidden:f,onGoToNext:m,nextLabel:g,isPreviousDisabled:y,isPreviousHidden:b,onGoToPrevious:S,previousLabel:v,labelId:E,classes:w}=o,I=at(o,s9),{ownerState:D}=An(),T=c9(w),R={isDisabled:h,isHidden:f,goTo:m,label:g},_={isDisabled:y,isHidden:b,goTo:S,label:v},k=(d==null?void 0:d.previousIconButton)??rv,N=$t({elementType:k,externalSlotProps:u==null?void 0:u.previousIconButton,additionalProps:{size:"medium",title:_.label,"aria-label":_.label,disabled:_.isDisabled,edge:"end",onClick:_.goTo},ownerState:U({},D,{isButtonHidden:_.isHidden??!1}),className:nn(T.button,T.previousIconButton)}),$=(d==null?void 0:d.nextIconButton)??rv,G=$t({elementType:$,externalSlotProps:u==null?void 0:u.nextIconButton,additionalProps:{size:"medium",title:R.label,"aria-label":R.label,disabled:R.isDisabled,edge:"start",onClick:R.goTo},ownerState:U({},D,{isButtonHidden:R.isHidden??!1}),className:nn(T.button,T.nextIconButton)}),L=(d==null?void 0:d.leftArrowIcon)??J8,H=$t({elementType:L,externalSlotProps:u==null?void 0:u.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:D,className:T.leftArrowIcon}),K=at(H,o9),J=(d==null?void 0:d.rightArrowIcon)??X8,q=$t({elementType:J,externalSlotProps:u==null?void 0:u.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:D,className:T.rightArrowIcon}),Q=at(q,a9);return t.jsxs(i9,U({ref:r,className:nn(T.root,l),ownerState:D},I,{children:[t.jsx(k,U({},N,{children:s?t.jsx(J,U({},Q)):t.jsx(L,U({},K))})),i?t.jsx(j,{variant:"subtitle1",component:"span",id:E,children:i}):t.jsx(l9,{className:T.spacer,ownerState:D}),t.jsx($,U({},G,{children:s?t.jsx(L,U({},K)):t.jsx(J,U({},Q))}))]}))}),Os=(e,n)=>e.length!==n.length?!1:n.every(r=>e.includes(r)),u9=({openTo:e,defaultOpenTo:n,views:r,defaultViews:s})=>{const o=r??s;let i;if(e!=null)i=e;else if(o.includes(n))i=n;else if(o.length>0)i=o[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:o,openTo:i}},v1=["hours","minutes","seconds"],h9=["hours","minutes","seconds","meridiem"],ul=e=>v1.includes(e),Ma=e=>h9.includes(e),f9=(e,n)=>e?n.getHours(e)>=12?"pm":"am":null,Of=(e,n,r)=>r&&(e>=12?"pm":"am")!==n?n==="am"?e-12:e+12:e,p9=(e,n,r,s)=>{const o=Of(s.getHours(e),n,r);return s.setHours(e,o)},sv=(e,n)=>n.getHours(e)*3600+n.getMinutes(e)*60+n.getSeconds(e),nu=(e,n)=>(r,s)=>e?n.isAfter(r,s):sv(r,n)>sv(s,n),ov=(e,{format:n,views:r,ampm:s})=>{if(n!=null)return n;const o=e.formats;return Os(r,["hours"])?s?`${o.hours12h} ${o.meridiem}`:o.hours24h:Os(r,["minutes"])?o.minutes:Os(r,["seconds"])?o.seconds:Os(r,["minutes","seconds"])?`${o.minutes}:${o.seconds}`:Os(r,["hours","minutes","seconds"])?s?`${o.hours12h}:${o.minutes}:${o.seconds} ${o.meridiem}`:`${o.hours24h}:${o.minutes}:${o.seconds}`:s?`${o.hours12h}:${o.minutes} ${o.meridiem}`:`${o.hours24h}:${o.minutes}`},j1={hasNextStep:!1,hasSeveralSteps:!1,goToNextStep:()=>{},areViewsInSameStep:()=>!0};function m9(e){const{steps:n,isViewMatchingStep:r,onStepChange:s}=e;return o=>{if(n==null)return j1;const i=n.findIndex(d=>r(o.view,d)),l=i===-1||i===n.length-1?null:n[i+1];return{hasNextStep:l!=null,hasSeveralSteps:n.length>1,goToNextStep:()=>{l!=null&&s(U({},o,{step:l}))},areViewsInSameStep:(d,u)=>{const h=n.find(m=>r(d,m)),f=n.find(m=>r(u,m));return h===f}}}}function ru({onChange:e,onViewChange:n,openTo:r,view:s,views:o,autoFocus:i,focusedView:l,onFocusedViewChange:d,getStepNavigation:u}){const h=x.useRef(r),f=x.useRef(o),m=x.useRef(o.includes(r)?r:o[0]),[g,y]=ni({name:"useViews",state:"view",controlled:s,default:m.current}),b=x.useRef(i?g:null),[S,v]=ni({name:"useViews",state:"focusedView",controlled:l,default:b.current}),E=u?u({setView:y,view:g,defaultView:m.current,views:o}):j1;x.useEffect(()=>{(h.current&&h.current!==r||f.current&&f.current.some(N=>!o.includes(N)))&&(y(o.includes(r)?r:o[0]),f.current=o,h.current=r)},[r,y,g,o]);const w=o.indexOf(g),I=o[w-1]??null,D=o[w+1]??null,T=Ue((N,$)=>{v($?N:G=>N===G?null:G),d==null||d(N,$)}),R=Ue(N=>{T(N,!0),N!==g&&(y(N),n&&n(N))}),_=Ue(()=>{D&&R(D)}),k=Ue((N,$,G)=>{const L=$==="finish",H=G?o.indexOf(G)<o.length-1:!!D;e(N,L&&H?"partial":$,G);let J=null;if(G!=null&&G!==g?J=G:L&&(J=g),J==null)return;const q=o[o.indexOf(J)+1];q==null||!E.areViewsInSameStep(J,q)||R(q)});return U({},E,{view:g,setView:R,focusedView:S,setFocusedView:T,nextView:D,previousView:I,defaultView:o.includes(r)?r:o[0],goToNextView:_,setValueAndGoToNextView:k})}function x9(e,{disableFuture:n,maxDate:r,timezone:s}){const o=Ut();return x.useMemo(()=>{const i=o.date(void 0,s),l=o.startOfMonth(n&&o.isBefore(i,r)?i:r);return!o.isAfter(l,e)},[n,r,e,o,s])}function g9(e,{disablePast:n,minDate:r,timezone:s}){const o=Ut();return x.useMemo(()=>{const i=o.date(void 0,s),l=o.startOfMonth(n&&o.isAfter(i,r)?i:r);return!o.isBefore(l,e)},[n,r,e,o,s])}function S1(e,n,r,s){const o=Ut(),i=x.useMemo(()=>o.isValid(e)?e:null,[o,e]),l=f9(i,o),d=x.useCallback(u=>{const h=i==null?null:p9(i,u,!!n,o);r(h,s??"partial")},[n,i,r,s,o]);return{meridiemMode:l,handleMeridiemChange:d}}const hl=36,su=2,ri=320,b9=280,si=336,w1=232,Ui=48,wx=Me("div")({overflow:"hidden",width:ri,maxHeight:si,display:"flex",flexDirection:"column",margin:"0 auto"}),bd=(e,n,r)=>{let s=n;return s=e.setHours(s,e.getHours(r)),s=e.setMinutes(s,e.getMinutes(r)),s=e.setSeconds(s,e.getSeconds(r)),s=e.setMilliseconds(s,e.getMilliseconds(r)),s},fl=({date:e,disableFuture:n,disablePast:r,maxDate:s,minDate:o,isDateDisabled:i,utils:l,timezone:d})=>{const u=bd(l,l.date(void 0,d),e);r&&l.isBefore(o,u)&&(o=u),n&&l.isAfter(s,u)&&(s=u);let h=e,f=e;for(l.isBefore(e,o)&&(h=o,f=null),l.isAfter(e,s)&&(f&&(f=s),h=null);h||f;){if(h&&l.isAfter(h,s)&&(h=null),f&&l.isBefore(f,o)&&(f=null),h){if(!i(h))return h;h=l.addDays(h,1)}if(f){if(!i(f))return f;f=l.addDays(f,-1)}}return null},y9=(e,n)=>e.isValid(n)?n:null,yd=(e,n,r)=>n==null||!e.isValid(n)?r:n,v9=(e,n,r)=>!e.isValid(n)&&n!=null&&!e.isValid(r)&&r!=null?!0:e.isEqual(n,r),Cx=(e,n)=>{const s=[e.startOfYear(n)];for(;s.length<12;){const o=s[s.length-1];s.push(e.addMonths(o,1))}return s},Px=(e,n,r)=>r==="date"?e.startOfDay(e.date(void 0,n)):e.date(void 0,n),Ki=(e,n)=>{const r=e.setHours(e.date(),n==="am"?2:14);return e.format(r,"meridiem")},C1=["year","month","day"],oi=e=>C1.includes(e),av=(e,{format:n,views:r},s)=>{if(n!=null)return n;const o=e.formats;return Os(r,["year"])?o.year:Os(r,["month"])?o.month:Os(r,["day"])?o.dayOfMonth:Os(r,["month","year"])?`${o.month} ${o.year}`:Os(r,["day","month"])?`${o.month} ${o.dayOfMonth}`:o.keyboardDate},j9=(e,n)=>{const r=e.startOfWeek(n);return[0,1,2,3,4,5,6].map(s=>e.addDays(r,s))},ma=({name:e,timezone:n,value:r,defaultValue:s,referenceDate:o,onChange:i,valueManager:l})=>{const d=Ut(),[u,h]=ni({name:e,state:"value",controlled:r,default:s??l.emptyValue}),f=x.useMemo(()=>l.getTimezone(d,u),[d,l,u]),m=Ue(S=>f==null?S:l.setTimezone(d,f,S)),g=x.useMemo(()=>n||f||(o?d.getTimezone(o):"default"),[n,f,o,d]),y=x.useMemo(()=>l.setTimezone(d,g,u),[l,d,g,u]),b=Ue((S,...v)=>{const E=m(S);h(E),i==null||i(E,...v)});return{value:y,handleValueChange:b,timezone:g}},xs={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},S9=e=>Math.max(...e.map(n=>xs[n.type]??1)),Fi=(e,n,r)=>{if(n===xs.year)return e.startOfYear(r);if(n===xs.month)return e.startOfMonth(r);if(n===xs.day)return e.startOfDay(r);let s=r;return n<xs.minutes&&(s=e.setMinutes(s,0)),n<xs.seconds&&(s=e.setSeconds(s,0)),n<xs.milliseconds&&(s=e.setMilliseconds(s,0)),s},w9=({props:e,utils:n,granularity:r,timezone:s,getTodayDate:o})=>{let i=o?o():Fi(n,r,Px(n,s));e.minDate!=null&&n.isAfterDay(e.minDate,i)&&(i=Fi(n,r,e.minDate)),e.maxDate!=null&&n.isBeforeDay(e.maxDate,i)&&(i=Fi(n,r,e.maxDate));const l=nu(e.disableIgnoringDatePartForTimeValidation??!1,n);return e.minTime!=null&&l(e.minTime,i)&&(i=Fi(n,r,e.disableIgnoringDatePartForTimeValidation?e.minTime:bd(n,i,e.minTime))),e.maxTime!=null&&l(i,e.maxTime)&&(i=Fi(n,r,e.disableIgnoringDatePartForTimeValidation?e.maxTime:bd(n,i,e.maxTime))),i},P1=(e,n)=>{const r=e.formatTokenMap[n];if(r==null)throw new Error([`MUI X: The token "${n}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof r=="string"?{type:r,contentType:r==="meridiem"?"letter":"digit",maxLength:void 0}:{type:r.sectionType,contentType:r.contentType,maxLength:r.maxLength}},ou=(e,n)=>{const r=[],s=e.date(void 0,"default"),o=e.startOfWeek(s),i=e.endOfWeek(s);let l=o;for(;e.isBefore(l,i);)r.push(l),l=e.addDays(l,1);return r.map(d=>e.formatByString(d,n))},E1=(e,n,r,s)=>{switch(r){case"month":return Cx(e,e.date(void 0,n)).map(o=>e.formatByString(o,s));case"weekDay":return ou(e,s);case"meridiem":{const o=e.date(void 0,n);return[e.startOfDay(o),e.endOfDay(o)].map(i=>e.formatByString(i,s))}default:return[]}},iv="s",C9=["0","1","2","3","4","5","6","7","8","9"],P9=e=>{const n=e.date(void 0);return e.formatByString(e.setSeconds(n,0),iv)==="0"?C9:Array.from({length:10}).map((s,o)=>e.formatByString(e.setSeconds(n,o),iv))},ca=(e,n)=>{if(n[0]==="0")return e;const r=[];let s="";for(let o=0;o<e.length;o+=1){s+=e[o];const i=n.indexOf(s);i>-1&&(r.push(i.toString()),s="")}return r.join("")},Ex=(e,n)=>n[0]==="0"?e:e.split("").map(r=>n[Number(r)]).join(""),lv=(e,n)=>{const r=ca(e,n);return r!==" "&&!Number.isNaN(Number(r))},Ix=(e,n)=>Number(e).toString().padStart(n,"0"),I1=(e,n,r,s,o)=>{if(o.type==="day"&&o.contentType==="digit-with-letter"){const l=e.setDate(r.longestMonth,n);return e.formatByString(l,o.format)}let i=n.toString();return o.hasLeadingZerosInInput&&(i=Ix(i,o.maxLength)),Ex(i,s)},Dx=(e,n,r)=>{let s=e.value||e.placeholder;const o=n==="non-input"?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;return n==="non-input"&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(s=Number(ca(s,r)).toString()),["input-rtl","input-ltr"].includes(n)&&e.contentType==="digit"&&!o&&s.length===1&&(s=`${s}`),n==="input-rtl"&&(s=`${s}`),s},cv=(e,n,r,s)=>e.formatByString(e.parse(n,r),s),E9=(e,n)=>e.formatByString(e.date(void 0,"system"),n).length===4,D1=(e,n,r,s)=>{if(n!=="digit")return!1;const o=e.date(void 0,"default");switch(r){case"year":return e.lib==="dayjs"&&s==="YY"?!0:e.formatByString(e.setYear(o,1),s).startsWith("0");case"month":return e.formatByString(e.startOfYear(o),s).length>1;case"day":return e.formatByString(e.startOfMonth(o),s).length>1;case"weekDay":return e.formatByString(e.startOfWeek(o),s).length>1;case"hours":return e.formatByString(e.setHours(o,1),s).length>1;case"minutes":return e.formatByString(e.setMinutes(o,1),s).length>1;case"seconds":return e.formatByString(e.setSeconds(o,1),s).length>1;default:throw new Error("Invalid section type")}},I9=(e,n,r)=>{const s=n.some(u=>u.type==="day"),o=[],i=[];for(let u=0;u<n.length;u+=1){const h=n[u];s&&h.type==="weekDay"||(o.push(h.format),i.push(Dx(h,"non-input",r)))}const l=o.join(" "),d=i.join(" ");return e.parse(d,l)},D9=e=>e.map(n=>`${n.startSeparator}${n.value||n.placeholder}${n.endSeparator}`).join(""),T9=(e,n,r)=>{const o=e.map(i=>{const l=Dx(i,r?"input-rtl":"input-ltr",n);return`${i.startSeparator}${l}${i.endSeparator}`}).join("");return r?`${o}`:o},A9=(e,n,r)=>{const s=e.date(void 0,r),o=e.endOfYear(s),i=e.endOfDay(s),{maxDaysInMonth:l,longestMonth:d}=Cx(e,s).reduce((u,h)=>{const f=e.getDaysInMonth(h);return f>u.maxDaysInMonth?{maxDaysInMonth:f,longestMonth:h}:u},{maxDaysInMonth:0,longestMonth:null});return{year:({format:u})=>({minimum:0,maximum:E9(e,u)?9999:99}),month:()=>({minimum:1,maximum:e.getMonth(o)+1}),day:({currentDate:u})=>({minimum:1,maximum:e.isValid(u)?e.getDaysInMonth(u):l,longestMonth:d}),weekDay:({format:u,contentType:h})=>{if(h==="digit"){const f=ou(e,u).map(Number);return{minimum:Math.min(...f),maximum:Math.max(...f)}}return{minimum:1,maximum:7}},hours:({format:u})=>{const h=e.getHours(i);return ca(e.formatByString(e.endOfDay(s),u),n)!==h.toString()?{minimum:1,maximum:Number(ca(e.formatByString(e.startOfDay(s),u),n))}:{minimum:0,maximum:h}},minutes:()=>({minimum:0,maximum:e.getMinutes(i)}),seconds:()=>({minimum:0,maximum:e.getSeconds(i)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},R9=(e,n,r,s)=>{switch(n.type){case"year":return e.setYear(s,e.getYear(r));case"month":return e.setMonth(s,e.getMonth(r));case"weekDay":{let o=e.formatByString(r,n.format);n.hasLeadingZerosInInput&&(o=Ix(o,n.maxLength));const i=ou(e,n.format),l=i.indexOf(o),u=i.indexOf(n.value)-l;return e.addDays(r,u)}case"day":return e.setDate(s,e.getDate(r));case"meridiem":{const o=e.getHours(r)<12,i=e.getHours(s);return o&&i>=12?e.addHours(s,-12):!o&&i<12?e.addHours(s,12):s}case"hours":return e.setHours(s,e.getHours(r));case"minutes":return e.setMinutes(s,e.getMinutes(r));case"seconds":return e.setSeconds(s,e.getSeconds(r));default:return s}},dv={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},uv=(e,n,r,s,o)=>[...r].sort((i,l)=>dv[i.type]-dv[l.type]).reduce((i,l)=>!o||l.modified?R9(e,l,n,i):i,s),k9=()=>navigator.userAgent.toLowerCase().includes("android"),_9=(e,n)=>{const r={};if(!n)return e.forEach((u,h)=>{const f=h===0?null:h-1,m=h===e.length-1?null:h+1;r[h]={leftIndex:f,rightIndex:m}}),{neighbors:r,startIndex:0,endIndex:e.length-1};const s={},o={};let i=0,l=0,d=e.length-1;for(;d>=0;){l=e.findIndex((u,h)=>{var f;return h>=i&&((f=u.endSeparator)==null?void 0:f.includes(" "))&&u.endSeparator!==" / "}),l===-1&&(l=e.length-1);for(let u=l;u>=i;u-=1)o[u]=d,s[d]=u,d-=1;i=l+1}return e.forEach((u,h)=>{const f=o[h],m=f===0?null:s[f-1],g=f===e.length-1?null:s[f+1];r[h]={leftIndex:m,rightIndex:g}}),{neighbors:r,startIndex:s[0],endIndex:s[e.length-1]}},Mf=(e,n)=>{if(e==null)return null;if(e==="all")return"all";if(typeof e=="string"){const r=n.findIndex(s=>s.type===e);return r===-1?null:r}return e},O9=["value","referenceDate"],xr={emptyValue:null,getTodayValue:Px,getInitialReferenceValue:e=>{let{value:n,referenceDate:r}=e,s=at(e,O9);return s.utils.isValid(n)?n:r??w9(s)},cleanValue:y9,areValuesEqual:v9,isSameError:(e,n)=>e===n,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,n)=>e.isValid(n)?e.getTimezone(n):null,setTimezone:(e,n,r)=>r==null?null:e.setTimezone(r,n)},M9={updateReferenceValue:(e,n,r)=>e.isValid(n)?n:r,getSectionsFromValue:(e,n)=>n(e),getV7HiddenInputValueFromSections:D9,getV6InputValueFromSections:T9,parseValueStr:(e,n,r)=>r(e.trim(),n),getDateFromSection:e=>e,getDateSectionsFromValue:e=>e,updateDateInValue:(e,n,r)=>r,clearDateSections:e=>e.map(n=>U({},n,{value:""}))},T1=({value:e,referenceDate:n,utils:r,props:s,timezone:o})=>{const i=x.useMemo(()=>xr.getInitialReferenceValue({value:e,utils:r,props:s,referenceDate:n,granularity:xs.day,timezone:o,getTodayDate:()=>Px(r,o,"date")}),[]);return e??i};function N9(e){return un("MuiDigitalClock",e)}const Nf=pn("MuiDigitalClock",["root","list","item"]);function L9(e,n){return Array.isArray(n)?n.every(r=>e.indexOf(r)!==-1):e.indexOf(n)!==-1}const $9=e=>{setTimeout(e,0)},Xn=(e=document)=>{const n=e.activeElement;return n?n.shadowRoot?Xn(n.shadowRoot):n:null},vd=e=>Array.from(e.children).indexOf(Xn(document)),F9="@media (pointer: fine)";function B9(...e){return e.reduce((n,r)=>(Array.isArray(r)?n.push(...r):r!=null&&n.push(r),n),[])}const W9=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","views","skipDisabled","timezone"],V9=e=>Qt({root:["root"],list:["list"],item:["item"]},N9,e),U9=Me(wx,{name:"MuiDigitalClock",slot:"Root"})({overflowY:"auto",width:"100%",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:w1,variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),z9=Me(Ov,{name:"MuiDigitalClock",slot:"List"})({padding:0}),H9=Me(je,{name:"MuiDigitalClock",slot:"Item",shouldForwardProp:e=>e!=="itemValue"&&e!=="formattedValue"})(({theme:e})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ue(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:ue(e.palette.primary.main,e.palette.action.focusOpacity)}})),G9=x.forwardRef(function(n,r){const s=Ut(),o=x.useRef(null),i=ir(r,o),l=x.useRef(null),d=Gt({props:n,name:"MuiDigitalClock"}),{ampm:u=s.is12HourCycleInCurrentLocale(),timeStep:h=30,autoFocus:f,slots:m,slotProps:g,value:y,defaultValue:b,referenceDate:S,disableIgnoringDatePartForTimeValidation:v=!1,maxTime:E,minTime:w,disableFuture:I,disablePast:D,minutesStep:T=1,shouldDisableTime:R,onChange:_,view:k,openTo:N,onViewChange:$,focusedView:G,onFocusedViewChange:L,className:H,classes:K,disabled:J,readOnly:q,views:Q=["hours"],skipDisabled:Y=!1,timezone:oe}=d,V=at(d,W9),{value:Z,handleValueChange:Ee,timezone:be}=ma({name:"DigitalClock",timezone:oe,value:y,defaultValue:b,referenceDate:S,onChange:_,valueManager:xr}),ae=Ps(),ee=fi(be),{ownerState:Ce}=An(),Ae=U({},Ce,{hasDigitalClockAlreadyBeenRendered:!!o.current}),Be=V9(K),ye=(m==null?void 0:m.digitalClockItem)??H9,ie=$t({elementType:ye,externalSlotProps:g==null?void 0:g.digitalClockItem,ownerState:Ae,className:Be.item}),le=T1({value:Z,referenceDate:S,utils:s,props:d,timezone:be}),se=Ue(Se=>Ee(Se,"finish","hours")),{setValueAndGoToNextView:xe}=ru({view:k,views:Q,openTo:N,onViewChange:$,onChange:se,focusedView:G,onFocusedViewChange:L}),fe=Ue(Se=>{xe(Se,"finish")});as(()=>{if(o.current===null)return;const Se=o.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!Se)return;const Pe=Se.offsetTop;(f||G)&&Se.focus(),o.current.scrollTop=Pe-4});const ke=x.useCallback(Se=>{const Pe=nu(v,s),W=()=>!(w&&Pe(w,Se)||E&&Pe(Se,E)||I&&Pe(Se,ee)||D&&Pe(ee,Se)),Oe=()=>s.getMinutes(Se)%T!==0?!1:R?!R(Se,"hours"):!0;return!W()||!Oe()},[v,s,w,E,I,ee,D,T,R]),ne=x.useMemo(()=>{const Se=[];let W=s.startOfDay(le);for(;s.isSameDay(le,W);)Se.push(W),W=s.addMinutes(W,h);return Se},[le,h,s]),_e=ne.findIndex(Se=>s.isEqual(Se,le)),ce=Se=>{switch(Se.key){case"PageUp":{const Pe=vd(l.current)-5,W=l.current.children,Oe=Math.max(0,Pe),ze=W[Oe];ze&&ze.focus(),Se.preventDefault();break}case"PageDown":{const Pe=vd(l.current)+5,W=l.current.children,Oe=Math.min(W.length-1,Pe),ze=W[Oe];ze&&ze.focus(),Se.preventDefault();break}}};return t.jsx(U9,U({ref:i,className:nn(Be.root,H),ownerState:Ae},V,{children:t.jsx(z9,{ref:l,role:"listbox","aria-label":ae.timePickerToolbarTitle,className:Be.list,onKeyDown:ce,children:ne.map((Se,Pe)=>{const W=ke(Se);if(Y&&W)return null;const Oe=s.isEqual(Se,Z),ze=s.format(Se,u?"fullTime12h":"fullTime24h"),Zt=_e===Pe||_e===-1&&Pe===0?0:-1;return t.jsx(ye,U({onClick:()=>!q&&fe(Se),selected:Oe,disabled:J||W,disableRipple:q,role:"option","aria-disabled":q,"aria-selected":Oe,tabIndex:Zt,itemValue:Se,formattedValue:ze},ie,{children:ze}),`${Se.valueOf()}-${ze}`)})})}))});function Y9(e){return un("MuiMultiSectionDigitalClock",e)}const Lf=pn("MuiMultiSectionDigitalClock",["root"]);function q9(e){return un("MuiMultiSectionDigitalClockSection",e)}const $f=pn("MuiMultiSectionDigitalClockSection",["root","item"]),K9=["autoFocus","onChange","className","classes","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],J9=e=>Qt({root:["root"],item:["item"]},q9,e),X9=Me(Ov,{name:"MuiMultiSectionDigitalClockSection",slot:"Root"})(({theme:e})=>({maxHeight:w1,width:56,padding:0,overflow:"hidden",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(e.vars||e).palette.divider}`},"&::after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"},variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),Q9=Me(je,{name:"MuiMultiSectionDigitalClockSection",slot:"Item"})(({theme:e})=>({padding:8,margin:"2px 4px",width:Ui,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ue(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:ue(e.palette.primary.main,e.palette.action.focusOpacity)}})),Z9=x.forwardRef(function(n,r){const s=x.useRef(null),o=ir(r,s),i=x.useRef(null),l=Gt({props:n,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:d,onChange:u,className:h,classes:f,disabled:m,readOnly:g,items:y,active:b,slots:S,slotProps:v,skipDisabled:E}=l,w=at(l,K9),{ownerState:I}=An(),D=U({},I,{hasDigitalClockAlreadyBeenRendered:!!s.current}),T=J9(f),R=(S==null?void 0:S.digitalClockSectionItem)??Q9;as(()=>{if(s.current===null)return;const N=s.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(b&&d&&N&&N.focus(),!N||i.current===N)return;i.current=N;const $=N.offsetTop;s.current.scrollTop=$-4});const _=y.findIndex(N=>N.isFocused(N.value)),k=N=>{switch(N.key){case"PageUp":{const $=vd(s.current)-5,G=s.current.children,L=Math.max(0,$),H=G[L];H&&H.focus(),N.preventDefault();break}case"PageDown":{const $=vd(s.current)+5,G=s.current.children,L=Math.min(G.length-1,$),H=G[L];H&&H.focus(),N.preventDefault();break}}};return t.jsx(X9,U({ref:o,className:nn(T.root,h),ownerState:D,autoFocusItem:d&&b,role:"listbox",onKeyDown:k},w,{children:y.map((N,$)=>{var J;const G=(J=N.isDisabled)==null?void 0:J.call(N,N.value),L=m||G;if(E&&L)return null;const H=N.isSelected(N.value),K=_===$||_===-1&&$===0?0:-1;return t.jsx(R,U({onClick:()=>!g&&u(N.value),selected:H,disabled:L,disableRipple:g,role:"option","aria-disabled":g||L||void 0,"aria-label":N.ariaLabel,"aria-selected":H,tabIndex:K,className:T.item},v==null?void 0:v.digitalClockSectionItem,{children:N.label}),N.label)})}))}),e7=({now:e,value:n,utils:r,ampm:s,isDisabled:o,resolveAriaLabel:i,timeStep:l,valueOrReferenceDate:d})=>{const u=n?r.getHours(n):null,h=[],f=(y,b)=>{const S=b??u;return S===null?!1:s?y===12?S===12||S===0:S===y||S-12===y:S===y},m=y=>f(y,r.getHours(d)),g=s?11:23;for(let y=0;y<=g;y+=l){let b=r.format(r.setHours(e,y),s?"hours12h":"hours24h");const S=i(parseInt(b,10).toString());b=r.formatNumber(b),h.push({value:y,label:b,isSelected:f,isDisabled:o,isFocused:m,ariaLabel:S})}return h},hv=({value:e,utils:n,isDisabled:r,timeStep:s,resolveLabel:o,resolveAriaLabel:i,hasValue:l=!0})=>{const d=h=>e===null?!1:l&&e===h,u=h=>e===h;return[...Array.from({length:Math.ceil(60/s)},(h,f)=>{const m=s*f;return{value:m,label:n.formatNumber(o(m)),isDisabled:r,isSelected:d,isFocused:u,ariaLabel:i(m.toString())}})]},t7=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","skipDisabled","timezone"],n7=e=>Qt({root:["root"]},Y9,e),r7=Me(wx,{name:"MuiMultiSectionDigitalClock",slot:"Root"})(({theme:e})=>({flexDirection:"row",width:"100%",borderBottom:`1px solid ${(e.vars||e).palette.divider}`})),s7=x.forwardRef(function(n,r){const s=Ut(),o=Fs(),i=Gt({props:n,name:"MuiMultiSectionDigitalClock"}),{ampm:l=s.is12HourCycleInCurrentLocale(),timeSteps:d,autoFocus:u,slots:h,slotProps:f,value:m,defaultValue:g,referenceDate:y,disableIgnoringDatePartForTimeValidation:b=!1,maxTime:S,minTime:v,disableFuture:E,disablePast:w,minutesStep:I=1,shouldDisableTime:D,onChange:T,view:R,views:_=["hours","minutes"],openTo:k,onViewChange:N,focusedView:$,onFocusedViewChange:G,className:L,classes:H,disabled:K,readOnly:J,skipDisabled:q=!1,timezone:Q}=i,Y=at(i,t7),{value:oe,handleValueChange:V,timezone:Z}=ma({name:"MultiSectionDigitalClock",timezone:Q,value:m,defaultValue:g,referenceDate:y,onChange:T,valueManager:xr}),Ee=Ps(),be=fi(Z),ae=x.useMemo(()=>U({hours:1,minutes:5,seconds:5},d),[d]),ee=T1({value:oe,referenceDate:y,utils:s,props:i,timezone:Z}),Ce=Ue((Pe,W,Oe)=>V(Pe,W,Oe)),Ae=x.useMemo(()=>!l||!_.includes("hours")||_.includes("meridiem")?_:[..._,"meridiem"],[l,_]),{view:Be,setValueAndGoToNextView:ye,focusedView:ie}=ru({view:R,views:Ae,openTo:k,onViewChange:N,onChange:Ce,focusedView:$,onFocusedViewChange:G}),le=Ue(Pe=>{ye(Pe,"finish","meridiem")}),{meridiemMode:se,handleMeridiemChange:xe}=S1(ee,l,le,"finish"),fe=x.useCallback((Pe,W)=>{const Oe=nu(b,s),ze=W==="hours"||W==="minutes"&&Ae.includes("seconds"),Cn=({start:Nt,end:hn})=>!(v&&Oe(v,hn)||S&&Oe(Nt,S)||E&&Oe(Nt,be)||w&&Oe(be,ze?hn:Nt)),Zt=(Nt,hn=1)=>{if(Nt%hn!==0)return!1;if(D)switch(W){case"hours":return!D(s.setHours(ee,Nt),"hours");case"minutes":return!D(s.setMinutes(ee,Nt),"minutes");case"seconds":return!D(s.setSeconds(ee,Nt),"seconds");default:return!1}return!0};switch(W){case"hours":{const Nt=Of(Pe,se,l),hn=s.setHours(ee,Nt);if(s.getHours(hn)!==Nt)return!0;const Wn=s.setSeconds(s.setMinutes(hn,0),0),ut=s.setSeconds(s.setMinutes(hn,59),59);return!Cn({start:Wn,end:ut})||!Zt(Nt)}case"minutes":{const Nt=s.setMinutes(ee,Pe),hn=s.setSeconds(Nt,0),Wn=s.setSeconds(Nt,59);return!Cn({start:hn,end:Wn})||!Zt(Pe,I)}case"seconds":{const Nt=s.setSeconds(ee,Pe);return!Cn({start:Nt,end:Nt})||!Zt(Pe)}default:throw new Error("not supported")}},[l,ee,b,S,se,v,I,D,s,E,w,be,Ae]),ke=x.useCallback(Pe=>{switch(Pe){case"hours":return{onChange:W=>{const Oe=Of(W,se,l);ye(s.setHours(ee,Oe),"finish","hours")},items:e7({now:be,value:oe,ampm:l,utils:s,isDisabled:W=>fe(W,"hours"),timeStep:ae.hours,resolveAriaLabel:Ee.hoursClockNumberText,valueOrReferenceDate:ee})};case"minutes":return{onChange:W=>{ye(s.setMinutes(ee,W),"finish","minutes")},items:hv({value:s.getMinutes(ee),utils:s,isDisabled:W=>fe(W,"minutes"),resolveLabel:W=>s.format(s.setMinutes(be,W),"minutes"),timeStep:ae.minutes,hasValue:!!oe,resolveAriaLabel:Ee.minutesClockNumberText})};case"seconds":return{onChange:W=>{ye(s.setSeconds(ee,W),"finish","seconds")},items:hv({value:s.getSeconds(ee),utils:s,isDisabled:W=>fe(W,"seconds"),resolveLabel:W=>s.format(s.setSeconds(be,W),"seconds"),timeStep:ae.seconds,hasValue:!!oe,resolveAriaLabel:Ee.secondsClockNumberText})};case"meridiem":{const W=Ki(s,"am"),Oe=Ki(s,"pm");return{onChange:xe,items:[{value:"am",label:W,isSelected:()=>!!oe&&se==="am",isFocused:()=>!!ee&&se==="am",ariaLabel:W},{value:"pm",label:Oe,isSelected:()=>!!oe&&se==="pm",isFocused:()=>!!ee&&se==="pm",ariaLabel:Oe}]}}default:throw new Error(`Unknown view: ${Pe} found.`)}},[be,oe,l,s,ae.hours,ae.minutes,ae.seconds,Ee.hoursClockNumberText,Ee.minutesClockNumberText,Ee.secondsClockNumberText,se,ye,ee,fe,xe]),ne=x.useMemo(()=>{if(!o)return Ae;const Pe=Ae.filter(W=>W!=="meridiem");return Pe.reverse(),Ae.includes("meridiem")&&Pe.push("meridiem"),Pe},[o,Ae]),_e=x.useMemo(()=>Ae.reduce((Pe,W)=>U({},Pe,{[W]:ke(W)}),{}),[Ae,ke]),{ownerState:ce}=An(),Se=n7(H);return t.jsx(r7,U({ref:r,className:nn(Se.root,L),ownerState:ce,role:"group"},Y,{children:ne.map(Pe=>t.jsx(Z9,{items:_e[Pe].items,onChange:_e[Pe].onChange,active:Be===Pe,autoFocus:u||ie===Pe,disabled:K,readOnly:J,slots:h,slotProps:f,skipDisabled:q,"aria-label":Ee.selectViewText(Pe)},Pe))}))});function o7(e){return un("MuiPickersDay",e)}const Jo=pn("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]);function A1(e){const{disabled:n,selected:r,today:s,outsideCurrentMonth:o,day:i,disableMargin:l,disableHighlightToday:d,showDaysOutsideCurrentMonth:u}=e,h=Ut(),{ownerState:f}=An();return x.useMemo(()=>U({},f,{day:i,isDaySelected:r??!1,isDayDisabled:n??!1,isDayCurrent:s??!1,isDayOutsideMonth:o??!1,isDayStartOfWeek:h.isSameDay(i,h.startOfWeek(i)),isDayEndOfWeek:h.isSameDay(i,h.endOfWeek(i)),disableMargin:l??!1,disableHighlightToday:d??!1,showDaysOutsideCurrentMonth:u??!1}),[h,f,i,r,n,s,o,l,d,u])}const a7=["autoFocus","className","classes","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","children","isFirstVisibleCell","isLastVisibleCell","day","selected","disabled","today","outsideCurrentMonth","disableMargin","disableHighlightToday","showDaysOutsideCurrentMonth"],i7=(e,n)=>{const{isDaySelected:r,isDayDisabled:s,isDayCurrent:o,isDayOutsideMonth:i,disableMargin:l,disableHighlightToday:d,showDaysOutsideCurrentMonth:u}=n,h=i&&!u;return Qt({root:["root",r&&!h&&"selected",s&&"disabled",!l&&"dayWithMargin",!d&&o&&"today",i&&u&&"dayOutsideMonth",h&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},o7,e)},R1=({theme:e})=>U({},e.typography.caption,{width:hl,height:hl,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ue(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:ue(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${Jo.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${Jo.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${Jo.disabled}:not(.${Jo.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${Jo.disabled}&.${Jo.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${su}px`}},{props:{isDayOutsideMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(e.vars||e).palette.text.secondary}},{props:{disableHighlightToday:!1,isDayCurrent:!0},style:{[`&:not(.${Jo.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}}]}),k1=(e,n)=>{const{ownerState:r}=e;return[n.root,!r.disableMargin&&n.dayWithMargin,!r.disableHighlightToday&&r.isDayCurrent&&n.today,!r.isDayOutsideMonth&&r.showDaysOutsideCurrentMonth&&n.dayOutsideMonth,r.isDayOutsideMonth&&!r.showDaysOutsideCurrentMonth&&n.hiddenDaySpacingFiller]},l7=Me(NR,{name:"MuiPickersDay",slot:"Root",overridesResolver:k1})(R1),c7=Me("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:k1})(({theme:e})=>U({},R1({theme:e}),{opacity:0,pointerEvents:"none"})),Bi=()=>{},d7=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersDay"}),{autoFocus:o=!1,className:i,classes:l,isAnimating:d,onClick:u,onDaySelect:h,onFocus:f=Bi,onBlur:m=Bi,onKeyDown:g=Bi,onMouseDown:y=Bi,onMouseEnter:b=Bi,children:S,day:v,selected:E,disabled:w,today:I,outsideCurrentMonth:D,disableMargin:T,disableHighlightToday:R,showDaysOutsideCurrentMonth:_}=s,k=at(s,a7),N=A1({day:v,selected:E,disabled:w,today:I,outsideCurrentMonth:D,disableMargin:T,disableHighlightToday:R,showDaysOutsideCurrentMonth:_}),$=i7(l,N),G=Ut(),L=x.useRef(null),H=ir(L,r);as(()=>{o&&!w&&!d&&!D&&L.current.focus()},[o,w,d,D]);const K=q=>{y(q),D&&q.preventDefault()},J=q=>{w||h(v),D&&q.currentTarget.focus(),u&&u(q)};return D&&!_?t.jsx(c7,{className:nn($.root,$.hiddenDaySpacingFiller,i),ownerState:N,role:k.role}):t.jsx(l7,U({className:nn($.root,i),ref:H,centerRipple:!0,disabled:w,tabIndex:E?0:-1,onKeyDown:q=>g(q,v),onFocus:q=>f(q,v),onBlur:q=>m(q,v),onMouseEnter:q=>b(q,v),onClick:J,onMouseDown:K},k,{ownerState:N,children:S||G.format(v,"dayOfMonth")}))}),u7=x.memo(d7),Ff=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],Bf=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],_1=["minDateTime","maxDateTime"],h7=[...Ff,...Bf,..._1],O1=e=>h7.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{}),f7=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","unstableStartFieldRef","unstableEndFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator","autoFocus","focused"],M1=(e,n)=>x.useMemo(()=>{const r=U({},e),s={},o=i=>{r.hasOwnProperty(i)&&(s[i]=r[i],delete r[i])};return f7.forEach(o),n==="date"?Ff.forEach(o):n==="time"?Bf.forEach(o):n==="date-time"&&(Ff.forEach(o),Bf.forEach(o),_1.forEach(o)),{forwardedProps:r,internalProps:s}},[e,n]),p7=({utils:e,format:n})=>{let r=10,s=n,o=e.expandFormat(n);for(;o!==s;)if(s=o,o=e.expandFormat(s),r-=1,r<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the component.");return o},m7=({utils:e,expandedFormat:n})=>{const r=[],{start:s,end:o}=e.escapedCharacters,i=new RegExp(`(\\${s}[^\\${o}]*\\${o})+`,"g");let l=null;for(;l=i.exec(n);)r.push({start:l.index,end:i.lastIndex-1});return r},x7=(e,n,r,s)=>{switch(r.type){case"year":return n.fieldYearPlaceholder({digitAmount:e.formatByString(e.date(void 0,"default"),s).length,format:s});case"month":return n.fieldMonthPlaceholder({contentType:r.contentType,format:s});case"day":return n.fieldDayPlaceholder({format:s});case"weekDay":return n.fieldWeekDayPlaceholder({contentType:r.contentType,format:s});case"hours":return n.fieldHoursPlaceholder({format:s});case"minutes":return n.fieldMinutesPlaceholder({format:s});case"seconds":return n.fieldSecondsPlaceholder({format:s});case"meridiem":return n.fieldMeridiemPlaceholder({format:s});default:return s}},g7=({utils:e,date:n,shouldRespectLeadingZeros:r,localeText:s,localizedDigits:o,now:i,token:l,startSeparator:d})=>{if(l==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const u=P1(e,l),h=D1(e,u.contentType,u.type,l),f=r?h:u.contentType==="digit",m=e.isValid(n);let g=m?e.formatByString(n,l):"",y=null;if(f)if(h)y=g===""?e.formatByString(i,l).length:g.length;else{if(u.maxLength==null)throw new Error(`MUI X: The token ${l} should have a 'maxLength' property on it's adapter`);y=u.maxLength,m&&(g=Ex(Ix(ca(g,o),y),o))}return U({},u,{format:l,maxLength:y,value:g,placeholder:x7(e,s,u,l),hasLeadingZerosInFormat:h,hasLeadingZerosInInput:f,startSeparator:d,endSeparator:"",modified:!1})},b7=e=>{var y;const{utils:n,expandedFormat:r,escapedParts:s}=e,o=n.date(void 0),i=[];let l="";const d=Object.keys(n.formatTokenMap).sort((b,S)=>S.length-b.length),u=/^([a-zA-Z]+)/,h=new RegExp(`^(${d.join("|")})*$`),f=new RegExp(`^(${d.join("|")})`),m=b=>s.find(S=>S.start<=b&&S.end>=b);let g=0;for(;g<r.length;){const b=m(g),S=b!=null,v=(y=u.exec(r.slice(g)))==null?void 0:y[1];if(!S&&v!=null&&h.test(v)){let E=v;for(;E.length>0;){const w=f.exec(E)[1];E=E.slice(w.length),i.push(g7(U({},e,{now:o,token:w,startSeparator:l}))),l=""}g+=v.length}else{const E=r[g];S&&(b==null?void 0:b.start)===g||(b==null?void 0:b.end)===g||(i.length===0?l+=E:(i[i.length-1].endSeparator+=E,i[i.length-1].isEndFormatSeparator=!0)),g+=1}}return i.length===0&&l.length>0&&i.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:l,endSeparator:"",modified:!1}),i},y7=({isRtl:e,formatDensity:n,sections:r})=>r.map(s=>{const o=i=>{let l=i;return e&&l!==null&&l.includes(" ")&&(l=`${l}`),n==="spacious"&&["/",".","-"].includes(l)&&(l=` ${l} `),l};return s.startSeparator=o(s.startSeparator),s.endSeparator=o(s.endSeparator),s}),fv=e=>{let n=p7(e);e.isRtl&&e.enableAccessibleFieldDOMStructure&&(n=n.split(" ").reverse().join(" "));const r=m7(U({},e,{expandedFormat:n})),s=b7(U({},e,{expandedFormat:n,escapedParts:r}));return y7(U({},e,{sections:s}))},Tx=()=>x.useContext(Sx),v7=()=>{const e=x.useContext(g1);if(e==null)throw new Error(["MUI X: The `usePickerActionsContext` can only be called in fields that are used as a slot of a Picker component"].join(`
`));return e},_a=e=>e.saveQuery!=null,N1=({stateResponse:{localizedDigits:e,sectionsValueBoundaries:n,state:r,timezone:s,setCharacterQuery:o,setTempAndroidValueStr:i,updateSectionValue:l}})=>{const d=Ut(),u=({keyPressed:m,sectionIndex:g},y,b)=>{const S=m.toLowerCase(),v=r.sections[g];if(r.characterQuery!=null&&(!b||b(r.characterQuery.value))&&r.characterQuery.sectionIndex===g){const w=`${r.characterQuery.value}${S}`,I=y(w,v);if(!_a(I))return o({sectionIndex:g,value:w,sectionType:v.type}),I}const E=y(S,v);return _a(E)&&!E.saveQuery?(o(null),null):(o({sectionIndex:g,value:S,sectionType:v.type}),_a(E)?null:E)},h=m=>{const g=(S,v,E)=>{const w=v.filter(I=>I.toLowerCase().startsWith(E));return w.length===0?{saveQuery:!1}:{sectionValue:w[0],shouldGoToNextSection:w.length===1}},y=(S,v,E,w)=>{const I=D=>E1(d,s,v.type,D);if(v.contentType==="letter")return g(v.format,I(v.format),S);if(E&&w!=null&&P1(d,E).contentType==="letter"){const D=I(E),T=g(E,D,S);return _a(T)?{saveQuery:!1}:U({},T,{sectionValue:w(T.sectionValue,D)})}return{saveQuery:!1}};return u(m,(S,v)=>{switch(v.type){case"month":{const E=w=>cv(d,w,d.formats.month,v.format);return y(S,v,d.formats.month,E)}case"weekDay":{const E=(w,I)=>I.indexOf(w).toString();return y(S,v,d.formats.weekday,E)}case"meridiem":return y(S,v);default:return{saveQuery:!1}}})},f=m=>{const g=(b,S)=>{const v=ca(b,e),E=Number(v),w=n[S.type]({currentDate:null,format:S.format,contentType:S.contentType});if(E>w.maximum)return{saveQuery:!1};if(E<w.minimum)return{saveQuery:!0};const I=E*10>w.maximum||v.length===w.maximum.toString().length;return{sectionValue:I1(d,E,w,e,S),shouldGoToNextSection:I}};return u(m,(b,S)=>{if(S.contentType==="digit"||S.contentType==="digit-with-letter")return g(b,S);if(S.type==="month"){const v=D1(d,"digit","month","MM"),E=g(b,{type:S.type,format:"MM",hasLeadingZerosInFormat:v,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(_a(E))return E;const w=cv(d,E.sectionValue,"MM",S.format);return U({},E,{sectionValue:w})}if(S.type==="weekDay"){const v=g(b,S);if(_a(v))return v;const E=ou(d,S.format)[Number(v.sectionValue)-1];return U({},v,{sectionValue:E})}return{saveQuery:!1}},b=>lv(b,e))};return Ue(m=>{const g=r.sections[m.sectionIndex],b=lv(m.keyPressed,e)?f(U({},m,{keyPressed:Ex(m.keyPressed,e)})):h(m);if(b==null){i(null);return}l({section:g,newSectionValue:b.sectionValue,shouldGoToNextSection:b.shouldGoToNextSection})})},Ax=({props:e,value:n,timezone:r,adapter:s})=>{if(n===null)return null;const{shouldDisableDate:o,shouldDisableMonth:i,shouldDisableYear:l,disablePast:d,disableFuture:u,minDate:h,maxDate:f}=e,m=s.utils.date(void 0,r);switch(!0){case!s.utils.isValid(n):return"invalidDate";case!!(o&&o(n)):return"shouldDisableDate";case!!(i&&i(n)):return"shouldDisableMonth";case!!(l&&l(n)):return"shouldDisableYear";case!!(u&&s.utils.isAfterDay(n,m)):return"disableFuture";case!!(d&&s.utils.isBeforeDay(n,m)):return"disablePast";case!!(h&&s.utils.isBeforeDay(n,h)):return"minDate";case!!(f&&s.utils.isAfterDay(n,f)):return"maxDate";default:return null}};Ax.valueManager=xr;const L1=({adapter:e,value:n,timezone:r,props:s})=>{if(n===null)return null;const{minTime:o,maxTime:i,minutesStep:l,shouldDisableTime:d,disableIgnoringDatePartForTimeValidation:u=!1,disablePast:h,disableFuture:f}=s,m=e.utils.date(void 0,r),g=nu(u,e.utils);switch(!0){case!e.utils.isValid(n):return"invalidDate";case!!(o&&g(o,n)):return"minTime";case!!(i&&g(n,i)):return"maxTime";case!!(f&&e.utils.isAfter(n,m)):return"disableFuture";case!!(h&&e.utils.isBefore(n,m)):return"disablePast";case!!(d&&d(n,"hours")):return"shouldDisableTime-hours";case!!(d&&d(n,"minutes")):return"shouldDisableTime-minutes";case!!(d&&d(n,"seconds")):return"shouldDisableTime-seconds";case!!(l&&e.utils.getMinutes(n)%l!==0):return"minutesStep";default:return null}};L1.valueManager=xr;const au=({adapter:e,value:n,timezone:r,props:s})=>{const o=Ax({adapter:e,value:n,timezone:r,props:s});return o!==null?o:L1({adapter:e,value:n,timezone:r,props:s})};au.valueManager=xr;function $1(e){const{props:n,validator:r,value:s,timezone:o,onError:i}=e,l=pa(),d=x.useRef(r.valueManager.defaultErrorState),u=r({adapter:l,value:s,timezone:o,props:n}),h=r.valueManager.hasError(u);x.useEffect(()=>{i&&!r.valueManager.isSameError(u,d.current)&&i(u,s),d.current=u},[r,i,u,s]);const f=Ue(m=>r({adapter:l,value:m,timezone:o,props:n}));return{validationError:u,hasValidationError:h,getValidationErrorForNewValue:f}}const j7=5e3,F1=e=>{var _e;const n=Ut(),r=Ps(),s=pa(),o=Fs(),{manager:{validator:i,valueType:l,internal_valueManager:d,internal_fieldValueManager:u},internalPropsWithDefaults:h,internalPropsWithDefaults:{value:f,defaultValue:m,referenceDate:g,onChange:y,format:b,formatDensity:S="dense",selectedSections:v,onSelectedSectionsChange:E,shouldRespectLeadingZeros:w=!1,timezone:I,enableAccessibleFieldDOMStructure:D=!0},forwardedProps:{error:T}}=e,{value:R,handleValueChange:_,timezone:k}=ma({name:"a field component",timezone:I,value:f,defaultValue:m,referenceDate:g,onChange:y,valueManager:d}),N=x.useRef(R);x.useEffect(()=>{N.current=R},[R]);const{hasValidationError:$}=$1({props:h,validator:i,timezone:k,value:R,onError:h.onError}),G=x.useMemo(()=>T!==void 0?T:$,[$,T]),L=x.useMemo(()=>P9(n),[n]),H=x.useMemo(()=>A9(n,L,k),[n,L,k]),K=x.useCallback(ce=>u.getSectionsFromValue(ce,Se=>fv({utils:n,localeText:r,localizedDigits:L,format:b,date:Se,formatDensity:S,shouldRespectLeadingZeros:w,enableAccessibleFieldDOMStructure:D,isRtl:o})),[u,b,r,L,o,w,n,S,D]),[J,q]=x.useState(()=>{const ce=K(R),Se={sections:ce,lastExternalValue:R,lastSectionsDependencies:{format:b,isRtl:o,locale:n.locale},tempValueStrAndroid:null,characterQuery:null},Pe=S9(ce),W=d.getInitialReferenceValue({referenceDate:g,value:R,utils:n,props:h,granularity:Pe,timezone:k});return U({},Se,{referenceValue:W})}),[Q,Y]=ni({controlled:v,default:null,name:"useField",state:"selectedSections"}),oe=ce=>{Y(ce),E==null||E(ce)},V=x.useMemo(()=>Mf(Q,J.sections),[Q,J.sections]),Z=V==="all"?0:V,Ee=x.useMemo(()=>_9(J.sections,o&&!D),[J.sections,o,D]),be=x.useMemo(()=>J.sections.every(ce=>ce.value===""),[J.sections]),ae=ce=>{const Se={validationError:i({adapter:s,value:ce,timezone:k,props:h})};_(ce,Se)},ee=(ce,Se)=>{const Pe=[...J.sections];return Pe[ce]=U({},Pe[ce],{value:Se,modified:!0}),Pe},Ce=x.useRef(null),Ae=Ba(),Be=ce=>{Z!=null&&(Ce.current={sectionIndex:Z,value:ce},Ae.start(0,()=>{Ce.current=null}))},ye=()=>{d.areValuesEqual(n,R,d.emptyValue)?q(ce=>U({},ce,{sections:ce.sections.map(Se=>U({},Se,{value:""})),tempValueStrAndroid:null,characterQuery:null})):(q(ce=>U({},ce,{characterQuery:null})),ae(d.emptyValue))},ie=()=>{if(Z==null)return;const ce=J.sections[Z];ce.value!==""&&(Be(""),u.getDateFromSection(R,ce)===null?q(Se=>U({},Se,{sections:ee(Z,""),tempValueStrAndroid:null,characterQuery:null})):(q(Se=>U({},Se,{characterQuery:null})),ae(u.updateDateInValue(R,ce,null))))},le=ce=>{const Se=(W,Oe)=>{const ze=n.parse(W,b);if(!n.isValid(ze))return null;const Cn=fv({utils:n,localeText:r,localizedDigits:L,format:b,date:ze,formatDensity:S,shouldRespectLeadingZeros:w,enableAccessibleFieldDOMStructure:D,isRtl:o});return uv(n,ze,Cn,Oe,!1)},Pe=u.parseValueStr(ce,J.referenceValue,Se);ae(Pe)},se=Ba(),xe=({section:ce,newSectionValue:Se,shouldGoToNextSection:Pe})=>{Ae.clear(),se.clear();const W=u.getDateFromSection(R,ce);Pe&&Z<J.sections.length-1&&oe(Z+1);const Oe=ee(Z,Se),ze=u.getDateSectionsFromValue(Oe,ce),Cn=I9(n,ze,L);if(n.isValid(Cn)){const Zt=uv(n,Cn,ze,u.getDateFromSection(J.referenceValue,ce),!0);return W==null&&se.start(0,()=>{N.current===R&&q(Nt=>U({},Nt,{sections:u.clearDateSections(J.sections,ce),tempValueStrAndroid:null}))}),ae(u.updateDateInValue(R,ce,Zt))}return ze.every(Zt=>Zt.value!=="")?(Be(Se),ae(u.updateDateInValue(R,ce,Cn))):W!=null?(Be(Se),ae(u.updateDateInValue(R,ce,null))):q(Zt=>U({},Zt,{sections:Oe,tempValueStrAndroid:null}))},fe=ce=>q(Se=>U({},Se,{tempValueStrAndroid:ce})),ke=Ue(ce=>{q(Se=>U({},Se,{characterQuery:ce}))});if(R!==J.lastExternalValue){let ce;Ce.current!=null&&!n.isValid(u.getDateFromSection(R,J.sections[Ce.current.sectionIndex]))?ce=ee(Ce.current.sectionIndex,Ce.current.value):ce=K(R),q(Se=>U({},Se,{lastExternalValue:R,sections:ce,sectionsDependencies:{format:b,isRtl:o,locale:n.locale},referenceValue:u.updateReferenceValue(n,R,Se.referenceValue),tempValueStrAndroid:null}))}if(o!==J.lastSectionsDependencies.isRtl||b!==J.lastSectionsDependencies.format||n.locale!==J.lastSectionsDependencies.locale){const ce=K(R);q(Se=>U({},Se,{lastSectionsDependencies:{format:b,isRtl:o,locale:n.locale},sections:ce,tempValueStrAndroid:null,characterQuery:null}))}J.characterQuery!=null&&!G&&Z==null&&ke(null),J.characterQuery!=null&&((_e=J.sections[J.characterQuery.sectionIndex])==null?void 0:_e.type)!==J.characterQuery.sectionType&&ke(null),x.useEffect(()=>{Ce.current!=null&&(Ce.current=null)});const ne=Ba();return x.useEffect(()=>(J.characterQuery!=null&&ne.start(j7,()=>ke(null)),()=>{}),[J.characterQuery,ke,ne]),x.useEffect(()=>{J.tempValueStrAndroid!=null&&Z!=null&&ie()},[J.sections]),{activeSectionIndex:Z,areAllSectionsEmpty:be,error:G,localizedDigits:L,parsedSelectedSections:V,sectionOrder:Ee,sectionsValueBoundaries:H,state:J,timezone:k,value:R,clearValue:ye,clearActiveSection:ie,setCharacterQuery:ke,setSelectedSections:oe,setTempAndroidValueStr:fe,updateSectionValue:xe,updateValueFromValueStr:le,getSectionsFromValue:K}};function B1(e){const{manager:{internal_useApplyDefaultValuesToFieldInternalProps:n},internalProps:r,skipContextFieldRefAssignment:s}=e,o=Tx(),i=x1(),l=ir(r.unstableFieldRef,s?null:i==null?void 0:i.fieldRef),d=o==null?void 0:o.setValue,u=x.useCallback((f,m)=>d==null?void 0:d(f,{validationError:m.validationError,shouldClose:!1}),[d]),h=x.useMemo(()=>i!=null&&o!=null?U({value:o.value,onChange:u,timezone:o.timezone,disabled:o.disabled,readOnly:o.readOnly,autoFocus:o.autoFocus&&!o.open,focused:o.open?!0:void 0,format:o.fieldFormat,formatDensity:i.formatDensity,enableAccessibleFieldDOMStructure:i.enableAccessibleFieldDOMStructure,selectedSections:i.selectedSections,onSelectedSectionsChange:i.onSelectedSectionsChange,unstableFieldRef:l},r):r,[o,i,r,u,l]);return n(h)}function Rx(e){const{focused:n,domGetters:r,stateResponse:{parsedSelectedSections:s,state:o}}=e;if(!r.isReady())return;const i=document.getSelection();if(!i)return;if(s==null){i.rangeCount>0&&r.getRoot().contains(i.getRangeAt(0).startContainer)&&i.removeAllRanges(),n&&r.getRoot().blur();return}if(!r.getRoot().contains(Xn(document)))return;const l=new window.Range;let d;s==="all"?d=r.getRoot():o.sections[s].type==="empty"?d=r.getSectionContainer(s):d=r.getSectionContent(s),l.selectNodeContents(d),d.focus(),i.removeAllRanges(),i.addRange(l)}function W1(e){const n=Ut(),{manager:{internal_fieldValueManager:r},internalPropsWithDefaults:{minutesStep:s,disabled:o,readOnly:i},stateResponse:{state:l,value:d,activeSectionIndex:u,parsedSelectedSections:h,sectionsValueBoundaries:f,localizedDigits:m,timezone:g,sectionOrder:y,clearValue:b,clearActiveSection:S,setSelectedSections:v,updateSectionValue:E}}=e;return Ue(w=>{if(!o)switch(!0){case((w.ctrlKey||w.metaKey)&&String.fromCharCode(w.keyCode)==="A"&&!w.shiftKey&&!w.altKey):{w.preventDefault(),v("all");break}case w.key==="ArrowRight":{if(w.preventDefault(),h==null)v(y.startIndex);else if(h==="all")v(y.endIndex);else{const I=y.neighbors[h].rightIndex;I!==null&&v(I)}break}case w.key==="ArrowLeft":{if(w.preventDefault(),h==null)v(y.endIndex);else if(h==="all")v(y.startIndex);else{const I=y.neighbors[h].leftIndex;I!==null&&v(I)}break}case w.key==="Delete":{if(w.preventDefault(),i)break;h==null||h==="all"?b():S();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(w.key):{if(w.preventDefault(),i||u==null)break;h==="all"&&v(u);const I=l.sections[u],D=w7(n,g,I,w.key,f,m,r.getDateFromSection(d,I),{minutesStep:s});E({section:I,newSectionValue:D,shouldGoToNextSection:!1});break}}})}function S7(e){switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}}function w7(e,n,r,s,o,i,l,d){const u=S7(s),h=s==="Home",f=s==="End",m=r.value===""||h||f,g=()=>{const b=o[r.type]({currentDate:l,format:r.format,contentType:r.contentType}),S=w=>I1(e,w,b,i,r),v=r.type==="minutes"&&(d!=null&&d.minutesStep)?d.minutesStep:1;let E;if(m){if(r.type==="year"&&!f&&!h)return e.formatByString(e.date(void 0,n),r.format);u>0||h?E=b.minimum:E=b.maximum}else E=parseInt(ca(r.value,i),10)+u*v;return E%v!==0&&((u<0||h)&&(E+=v-(v+E)%v),(u>0||f)&&(E-=E%v)),E>b.maximum?S(b.minimum+(E-b.maximum-1)%(b.maximum-b.minimum+1)):E<b.minimum?S(b.maximum-(b.minimum-E-1)%(b.maximum-b.minimum+1)):S(E)},y=()=>{const b=E1(e,n,r.type,r.format);if(b.length===0)return r.value;if(m)return u>0||h?b[0]:b[b.length-1];const E=((b.indexOf(r.value)+u)%b.length+b.length)%b.length;return b[E]};return r.contentType==="digit"||r.contentType==="digit-with-letter"?g():y()}function C7(e){const{manager:n,focused:r,setFocused:s,domGetters:o,stateResponse:i,applyCharacterEditing:l,internalPropsWithDefaults:d,stateResponse:{parsedSelectedSections:u,sectionOrder:h,state:f,clearValue:m,setCharacterQuery:g,setSelectedSections:y,updateValueFromValueStr:b},internalPropsWithDefaults:{disabled:S=!1,readOnly:v=!1}}=e,E=W1({manager:n,internalPropsWithDefaults:d,stateResponse:i}),w=Ba(),I=Ue(k=>{S||!o.isReady()||(s(!0),u==="all"?w.start(0,()=>{const N=document.getSelection().getRangeAt(0).startOffset;if(N===0){y(h.startIndex);return}let $=0,G=0;for(;G<N&&$<f.sections.length;){const L=f.sections[$];$+=1,G+=`${L.startSeparator}${L.value||L.placeholder}${L.endSeparator}`.length}y($-1)}):r?o.getRoot().contains(k.target)||y(h.startIndex):(s(!0),y(h.startIndex)))}),D=Ue(k=>{if(!o.isReady()||u!=="all")return;const $=k.target.textContent??"";o.getRoot().innerHTML=f.sections.map(G=>`${G.startSeparator}${G.value||G.placeholder}${G.endSeparator}`).join(""),Rx({focused:r,domGetters:o,stateResponse:i}),$.length===0||$.charCodeAt(0)===10?(m(),y("all")):$.length>1?b($):(u==="all"&&y(0),l({keyPressed:$,sectionIndex:0}))}),T=Ue(k=>{if(v||u!=="all"){k.preventDefault();return}const N=k.clipboardData.getData("text");k.preventDefault(),g(null),b(N)}),R=Ue(()=>{if(r||S||!o.isReady())return;const k=Xn(document);s(!0),o.getSectionIndexFromDOMElement(k)!=null||y(h.startIndex)}),_=Ue(()=>{setTimeout(()=>{if(!o.isReady())return;const k=Xn(document);!o.getRoot().contains(k)&&(s(!1),y(null))})});return{onKeyDown:E,onBlur:_,onFocus:R,onClick:I,onPaste:T,onInput:D,contentEditable:u==="all",tabIndex:u===0?-1:0}}function P7(e){const{manager:{internal_fieldValueManager:n},stateResponse:{areAllSectionsEmpty:r,state:s,updateValueFromValueStr:o}}=e,i=Ue(d=>{o(d.target.value)});return{value:x.useMemo(()=>r?"":n.getV7HiddenInputValueFromSections(s.sections),[r,s.sections,n]),onChange:i}}function E7(e){const{stateResponse:{setSelectedSections:n},internalPropsWithDefaults:{disabled:r=!1}}=e,s=Ue(o=>i=>{r||i.isDefaultPrevented()||n(o)});return x.useCallback(o=>({"data-sectionindex":o,onClick:s(o)}),[s])}function I7(e){const n=Ut(),r=Ps(),s=tu(),{focused:o,domGetters:i,stateResponse:l,applyCharacterEditing:d,manager:{internal_fieldValueManager:u},stateResponse:{parsedSelectedSections:h,sectionsValueBoundaries:f,state:m,value:g,clearActiveSection:y,setCharacterQuery:b,setSelectedSections:S,updateSectionValue:v,updateValueFromValueStr:E},internalPropsWithDefaults:{disabled:w=!1,readOnly:I=!1}}=e,D=h==="all",T=!D&&!w&&!I,R=Ue(L=>{if(!i.isReady())return;const H=m.sections[L];i.getSectionContent(L).innerHTML=H.value||H.placeholder,Rx({focused:o,domGetters:i,stateResponse:l})}),_=Ue(L=>{if(!i.isReady())return;const H=L.target,K=H.textContent??"",J=i.getSectionIndexFromDOMElement(H),q=m.sections[J];if(I){R(J);return}if(K.length===0){if(q.value===""){R(J);return}const Q=L.nativeEvent.inputType;if(Q==="insertParagraph"||Q==="insertLineBreak"){R(J);return}R(J),y();return}d({keyPressed:K,sectionIndex:J}),R(J)}),k=Ue(L=>{L.preventDefault()}),N=Ue(L=>{if(L.preventDefault(),I||w||typeof h!="number")return;const H=m.sections[h],K=L.clipboardData.getData("text"),J=/^[a-zA-Z]+$/.test(K),q=/^[0-9]+$/.test(K),Q=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(K);H.contentType==="letter"&&J||H.contentType==="digit"&&q||H.contentType==="digit-with-letter"&&Q?(b(null),v({section:H,newSectionValue:K,shouldGoToNextSection:!0})):!J&&!q&&(b(null),E(K))}),$=Ue(L=>{L.preventDefault(),L.dataTransfer.dropEffect="none"}),G=Ue(L=>()=>{w||S(L)});return x.useCallback((L,H)=>{const K=f[L.type]({currentDate:u.getDateFromSection(g,L),contentType:L.contentType,format:L.format});return{onInput:_,onPaste:N,onMouseUp:k,onDragOver:$,onFocus:G(H),"aria-labelledby":`${s}-${L.type}`,"aria-readonly":I,"aria-valuenow":T7(L,n),"aria-valuemin":K.minimum,"aria-valuemax":K.maximum,"aria-valuetext":L.value?D7(L,n):r.empty,"aria-label":r[L.type],"aria-disabled":w,tabIndex:D||H>0?-1:0,contentEditable:!D&&!w&&!I,role:"spinbutton",id:`${s}-${L.type}`,"data-range-position":L.dateName||void 0,spellCheck:T?!1:void 0,autoCapitalize:T?"off":void 0,autoCorrect:T?"off":void 0,children:L.value||L.placeholder,inputMode:L.contentType==="letter"?"text":"numeric"}},[f,s,D,w,I,T,r,n,_,N,k,$,G,u,g])}function D7(e,n){if(e.value)switch(e.type){case"month":{if(e.contentType==="digit")return n.format(n.setMonth(n.date(),Number(e.value)-1),"month");const r=n.parse(e.value,e.format);return r?n.format(r,"month"):void 0}case"day":return e.contentType==="digit"?n.format(n.setDate(n.startOfYear(n.date()),Number(e.value)),"dayOfMonthFull"):e.value;case"weekDay":return;default:return}}function T7(e,n){if(e.value)switch(e.type){case"weekDay":return e.contentType==="letter"?void 0:Number(e.value);case"meridiem":{const r=n.parse(`01:00 ${e.value}`,`${n.formats.hours12h}:${n.formats.minutes} ${e.format}`);return r?n.getHours(r)>=12?1:0:void 0}case"day":return e.contentType==="digit-with-letter"?parseInt(e.value,10):Number(e.value);case"month":{if(e.contentType==="digit")return Number(e.value);const r=n.parse(e.value,e.format);return r?n.getMonth(r)+1:void 0}default:return e.contentType!=="letter"?Number(e.value):void 0}}const A7=e=>{const{props:n,manager:r,skipContextFieldRefAssignment:s,manager:{valueType:o,internal_useOpenPickerButtonAriaLabel:i}}=e,{internalProps:l,forwardedProps:d}=M1(n,o),u=B1({manager:r,internalProps:l,skipContextFieldRefAssignment:s}),{sectionListRef:h,onBlur:f,onClick:m,onFocus:g,onInput:y,onPaste:b,onKeyDown:S,onClear:v,clearable:E}=d,{disabled:w=!1,readOnly:I=!1,autoFocus:D=!1,focused:T,unstableFieldRef:R}=u,_=x.useRef(null),k=ir(h,_),N=x.useMemo(()=>({isReady:()=>_.current!=null,getRoot:()=>_.current.getRoot(),getSectionContainer:ne=>_.current.getSectionContainer(ne),getSectionContent:ne=>_.current.getSectionContent(ne),getSectionIndexFromDOMElement:ne=>_.current.getSectionIndexFromDOMElement(ne)}),[_]),$=F1({manager:r,internalPropsWithDefaults:u,forwardedProps:d}),{areAllSectionsEmpty:G,error:L,parsedSelectedSections:H,sectionOrder:K,state:J,value:q,clearValue:Q,setSelectedSections:Y}=$,oe=N1({stateResponse:$}),V=i(q),[Z,Ee]=x.useState(!1);function be(ne=0){if(w||!_.current||pv(_)!=null)return;const _e=Mf(ne,J.sections);Ee(!0),_.current.getSectionContent(_e).focus()}const ae=C7({manager:r,internalPropsWithDefaults:u,stateResponse:$,applyCharacterEditing:oe,focused:Z,setFocused:Ee,domGetters:N}),ee=P7({manager:r,stateResponse:$}),Ce=E7({stateResponse:$,internalPropsWithDefaults:u}),Ae=I7({manager:r,stateResponse:$,applyCharacterEditing:oe,internalPropsWithDefaults:u,domGetters:N,focused:Z}),Be=Ue(ne=>{S==null||S(ne),ae.onKeyDown(ne)}),ye=Ue(ne=>{f==null||f(ne),ae.onBlur(ne)}),ie=Ue(ne=>{g==null||g(ne),ae.onFocus(ne)}),le=Ue(ne=>{ne.isDefaultPrevented()||(m==null||m(ne),ae.onClick(ne))}),se=Ue(ne=>{b==null||b(ne),ae.onPaste(ne)}),xe=Ue(ne=>{y==null||y(ne),ae.onInput(ne)}),fe=Ue((ne,..._e)=>{ne.preventDefault(),v==null||v(ne,..._e),Q(),mv(_)?Y(K.startIndex):be(0)}),ke=x.useMemo(()=>J.sections.map((ne,_e)=>{const ce=Ae(ne,_e);return{container:Ce(_e),content:Ae(ne,_e),before:{children:ne.startSeparator},after:{children:ne.endSeparator,"data-range-position":ne.isEndFormatSeparator?ce["data-range-position"]:void 0}}}),[J.sections,Ce,Ae]);return x.useEffect(()=>{if(_.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please add the `enableAccessibleFieldDOMStructure={false}` prop to your Picker or Field component:","","<DatePicker enableAccessibleFieldDOMStructure={false} slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));D&&!w&&_.current&&_.current.getSectionContent(K.startIndex).focus()},[]),as(()=>{if(!(!Z||!_.current)){if(H==="all")_.current.getRoot().focus();else if(typeof H=="number"){const ne=_.current.getSectionContent(H);ne&&ne.focus()}}},[H,Z]),as(()=>{Rx({focused:Z,domGetters:N,stateResponse:$})}),x.useImperativeHandle(R,()=>({getSections:()=>J.sections,getActiveSectionIndex:()=>pv(_),setSelectedSections:ne=>{if(w||!_.current)return;const _e=Mf(ne,J.sections);Ee((_e==="all"?0:_e)!==null),Y(ne)},focusField:be,isFieldFocused:()=>mv(_)})),U({},d,ae,{onBlur:ye,onClick:le,onFocus:ie,onInput:xe,onPaste:se,onKeyDown:Be,onClear:fe},ee,{error:L,clearable:!!(E&&!G&&!I&&!w),focused:T??Z,sectionListRef:k,enableAccessibleFieldDOMStructure:!0,elements:ke,areAllSectionsEmpty:G,disabled:w,readOnly:I,autoFocus:D,openPickerAriaLabel:V})};function pv(e){const n=Xn(document);return!n||!e.current||!e.current.getRoot().contains(n)?null:e.current.getSectionIndexFromDOMElement(n)}function mv(e){const n=Xn(document);return!!e.current&&e.current.getRoot().contains(n)}const Na=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),R7=(e,n,r)=>{let s=0,o=r?1:0;const i=[];for(let l=0;l<e.length;l+=1){const d=e[l],u=Dx(d,r?"input-rtl":"input-ltr",n),h=`${d.startSeparator}${u}${d.endSeparator}`,f=Na(h).length,m=h.length,g=Na(u),y=o+(g===""?0:u.indexOf(g[0]))+d.startSeparator.length,b=y+g.length;i.push(U({},d,{start:s,end:s+f,startInInput:y,endInInput:b})),s+=f,o+=m}return i},k7=e=>{const n=Fs(),r=Ba(),s=Ba(),{props:o,manager:i,skipContextFieldRefAssignment:l,manager:{valueType:d,internal_valueManager:u,internal_fieldValueManager:h,internal_useOpenPickerButtonAriaLabel:f}}=e,{internalProps:m,forwardedProps:g}=M1(o,d),y=B1({manager:i,internalProps:m,skipContextFieldRefAssignment:l}),{onFocus:b,onClick:S,onPaste:v,onBlur:E,onKeyDown:w,onClear:I,clearable:D,inputRef:T,placeholder:R}=g,{readOnly:_=!1,disabled:k=!1,autoFocus:N=!1,focused:$,unstableFieldRef:G}=y,L=x.useRef(null),H=ir(T,L),K=F1({manager:i,internalPropsWithDefaults:y,forwardedProps:g}),{activeSectionIndex:J,areAllSectionsEmpty:q,error:Q,localizedDigits:Y,parsedSelectedSections:oe,sectionOrder:V,state:Z,value:Ee,clearValue:be,clearActiveSection:ae,setCharacterQuery:ee,setSelectedSections:Ce,setTempAndroidValueStr:Ae,updateSectionValue:Be,updateValueFromValueStr:ye,getSectionsFromValue:ie}=K,le=N1({stateResponse:K}),se=f(Ee),xe=x.useMemo(()=>R7(Z.sections,Y,n),[Z.sections,Y,n]);function fe(){const ut=L.current.selectionStart??0;let bt;ut<=xe[0].startInInput||ut>=xe[xe.length-1].endInInput?bt=1:bt=xe.findIndex(Yt=>Yt.startInInput-Yt.startSeparator.length>ut);const kt=bt===-1?xe.length-1:bt-1;Ce(kt)}function ke(ut=0){var bt;Xn(document)!==L.current&&((bt=L.current)==null||bt.focus(),Ce(ut))}const ne=Ue(ut=>{b==null||b(ut);const bt=L.current;r.start(0,()=>{!bt||bt!==L.current||J==null&&(bt.value.length&&Number(bt.selectionEnd)-Number(bt.selectionStart)===bt.value.length?Ce("all"):fe())})}),_e=Ue((ut,...bt)=>{ut.isDefaultPrevented()||(S==null||S(ut,...bt),fe())}),ce=Ue(ut=>{if(v==null||v(ut),ut.preventDefault(),_||k)return;const bt=ut.clipboardData.getData("text");if(typeof oe=="number"){const kt=Z.sections[oe],Yt=/^[a-zA-Z]+$/.test(bt),Rn=/^[0-9]+$/.test(bt),mn=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(bt);if(kt.contentType==="letter"&&Yt||kt.contentType==="digit"&&Rn||kt.contentType==="digit-with-letter"&&mn){ee(null),Be({section:kt,newSectionValue:bt,shouldGoToNextSection:!0});return}if(Yt||Rn)return}ee(null),ye(bt)}),Se=Ue(ut=>{E==null||E(ut),Ce(null)}),Pe=Ue(ut=>{if(_)return;const bt=ut.target.value;if(bt===""){be();return}const kt=ut.nativeEvent.data,Yt=kt&&kt.length>1,Rn=Yt?kt:bt,mn=Na(Rn);if(oe==="all"&&Ce(J),J==null||Yt){ye(Yt?kt:mn);return}let er;if(oe==="all"&&mn.length===1)er=mn;else{const yn=Na(h.getV6InputValueFromSections(xe,Y,n));let Et=-1,kn=-1;for(let lr=0;lr<yn.length;lr+=1)Et===-1&&yn[lr]!==mn[lr]&&(Et=lr),kn===-1&&yn[yn.length-lr-1]!==mn[mn.length-lr-1]&&(kn=lr);const Gn=xe[J];if(Et<Gn.start||yn.length-kn-1>Gn.end)return;const Lo=mn.length-yn.length+Gn.end-Na(Gn.endSeparator||"").length;er=mn.slice(Gn.start+Na(Gn.startSeparator||"").length,Lo)}if(er.length===0){k9()&&Ae(Rn),ae();return}le({keyPressed:er,sectionIndex:J})}),W=Ue((ut,...bt)=>{ut.preventDefault(),I==null||I(ut,...bt),be(),xv(L)?Ce(V.startIndex):ke(0)}),Oe=W1({manager:i,internalPropsWithDefaults:y,stateResponse:K}),ze=Ue(ut=>{w==null||w(ut),Oe(ut)}),Cn=x.useMemo(()=>R!==void 0?R:h.getV6InputValueFromSections(ie(u.emptyValue),Y,n),[R,h,ie,u.emptyValue,Y,n]),Zt=x.useMemo(()=>Z.tempValueStrAndroid??h.getV6InputValueFromSections(Z.sections,Y,n),[Z.sections,h,Z.tempValueStrAndroid,Y,n]);x.useEffect(()=>{L.current&&L.current===Xn(document)&&Ce("all")},[]),as(()=>{function ut(){if(!L.current)return;if(oe==null){L.current.scrollLeft&&(L.current.scrollLeft=0);return}if(L.current!==Xn(document))return;const bt=L.current.scrollTop;if(oe==="all")L.current.select();else{const kt=xe[oe],Yt=kt.type==="empty"?kt.startInInput-kt.startSeparator.length:kt.startInInput,Rn=kt.type==="empty"?kt.endInInput+kt.endSeparator.length:kt.endInInput;(Yt!==L.current.selectionStart||Rn!==L.current.selectionEnd)&&L.current===Xn(document)&&L.current.setSelectionRange(Yt,Rn),s.start(0,()=>{L.current&&L.current===Xn(document)&&L.current.selectionStart===L.current.selectionEnd&&(L.current.selectionStart!==Yt||L.current.selectionEnd!==Rn)&&ut()})}L.current.scrollTop=bt}ut()});const Nt=x.useMemo(()=>J==null||Z.sections[J].contentType==="letter"?"text":"numeric",[J,Z.sections]),Wn=!(L.current&&L.current===Xn(document))&&q;return x.useImperativeHandle(G,()=>({getSections:()=>Z.sections,getActiveSectionIndex:()=>{const ut=L.current.selectionStart??0,bt=L.current.selectionEnd??0;if(ut===0&&bt===0)return null;const kt=ut<=xe[0].startInInput?1:xe.findIndex(Yt=>Yt.startInInput-Yt.startSeparator.length>ut);return kt===-1?xe.length-1:kt-1},setSelectedSections:ut=>Ce(ut),focusField:ke,isFieldFocused:()=>xv(L)})),U({},g,{error:Q,clearable:!!(D&&!q&&!_&&!k),onBlur:Se,onClick:_e,onFocus:ne,onPaste:ce,onKeyDown:ze,onClear:W,inputRef:H,enableAccessibleFieldDOMStructure:!1,placeholder:Cn,inputMode:Nt,autoComplete:"off",value:Wn?"":Zt,onChange:Pe,focused:$,disabled:k,readOnly:_,autoFocus:N,openPickerAriaLabel:se})};function xv(e){return e.current===Xn(document)}const _7=e=>{const n=x1();return(e.props.enableAccessibleFieldDOMStructure??(n==null?void 0:n.enableAccessibleFieldDOMStructure)??!0?A7:k7)(e)};function kx(e){const n=Ut(),r=f1();return x.useMemo(()=>({disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,minDate:yd(n,e.minDate,r.minDate),maxDate:yd(n,e.maxDate,r.maxDate)}),[e.minDate,e.maxDate,e.disableFuture,e.disablePast,n,r])}function O7(e={}){const{enableAccessibleFieldDOMStructure:n=!0}=e;return x.useMemo(()=>({valueType:"date-time",validator:au,internal_valueManager:xr,internal_fieldValueManager:M9,internal_enableAccessibleFieldDOMStructure:n,internal_useApplyDefaultValuesToFieldInternalProps:N7,internal_useOpenPickerButtonAriaLabel:M7}),[n])}function M7(e){const n=Ut(),r=Ps();return x.useMemo(()=>{const s=n.isValid(e)?n.format(e,"fullDate"):null;return r.openDatePickerDialogue(s)},[e,r,n])}function N7(e){const n=Ut(),r=V1(e),s=x.useMemo(()=>e.ampm??n.is12HourCycleInCurrentLocale(),[e.ampm,n]);return x.useMemo(()=>U({},e,r,{format:e.format??(s?n.formats.keyboardDateTime12h:n.formats.keyboardDateTime24h)}),[e,r,s,n])}function V1(e){const n=Ut(),r=f1();return x.useMemo(()=>({disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,disableIgnoringDatePartForTimeValidation:!!e.minDateTime||!!e.maxDateTime||!!e.disableFuture||!!e.disablePast,minDate:yd(n,e.minDateTime??e.minDate,r.minDate),maxDate:yd(n,e.maxDateTime??e.maxDate,r.maxDate),minTime:e.minDateTime??e.minTime,maxTime:e.maxDateTime??e.maxTime}),[e.minDateTime,e.maxDateTime,e.minTime,e.maxTime,e.minDate,e.maxDate,e.disableFuture,e.disablePast,n,r])}function _x(e){const{ownerState:n}=An(),r=Fs();return x.useMemo(()=>U({},n,{isFieldDisabled:e.disabled??!1,isFieldReadOnly:e.readOnly??!1,isFieldRequired:e.required??!1,fieldDirection:r?"rtl":"ltr"}),[n,e.disabled,e.readOnly,e.required,r])}function L7(e){return un("MuiPickersTextField",e)}pn("MuiPickersTextField",["root","focused","disabled","error","required"]);function $7(e){return un("MuiPickersInputBase",e)}const Wa=pn("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input","activeBar"]);function F7(e){return un("MuiPickersSectionList",e)}const Wi=pn("MuiPickersSectionList",["root","section","sectionContent"]),B7=["slots","slotProps","elements","sectionListRef","classes"],U1=Me("div",{name:"MuiPickersSectionList",slot:"Root"})({direction:"ltr /*! @noflip */",outline:"none"}),z1=Me("span",{name:"MuiPickersSectionList",slot:"Section"})({}),H1=Me("span",{name:"MuiPickersSectionList",slot:"SectionSeparator"})({whiteSpace:"pre"}),G1=Me("span",{name:"MuiPickersSectionList",slot:"SectionContent"})({outline:"none"}),W7=e=>Qt({root:["root"],section:["section"],sectionContent:["sectionContent"]},F7,e);function V7(e){const{slots:n,slotProps:r,element:s,classes:o}=e,{ownerState:i}=An(),l=(n==null?void 0:n.section)??z1,d=$t({elementType:l,externalSlotProps:r==null?void 0:r.section,externalForwardedProps:s.container,className:o.section,ownerState:i}),u=(n==null?void 0:n.sectionContent)??G1,h=$t({elementType:u,externalSlotProps:r==null?void 0:r.sectionContent,externalForwardedProps:s.content,additionalProps:{suppressContentEditableWarning:!0},className:o.sectionContent,ownerState:i}),f=(n==null?void 0:n.sectionSeparator)??H1,m=$t({elementType:f,externalSlotProps:r==null?void 0:r.sectionSeparator,externalForwardedProps:s.before,ownerState:U({},i,{separatorPosition:"before"})}),g=$t({elementType:f,externalSlotProps:r==null?void 0:r.sectionSeparator,externalForwardedProps:s.after,ownerState:U({},i,{separatorPosition:"after"})});return t.jsxs(l,U({},d,{children:[t.jsx(f,U({},m)),t.jsx(u,U({},h)),t.jsx(f,U({},g))]}))}const U7=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersSectionList"}),{slots:o,slotProps:i,elements:l,sectionListRef:d,classes:u}=s,h=at(s,B7),f=W7(u),{ownerState:m}=An(),g=x.useRef(null),y=ir(r,g),b=E=>{if(!g.current)throw new Error(`MUI X: Cannot call sectionListRef.${E} before the mount of the component.`);return g.current};x.useImperativeHandle(d,()=>({getRoot(){return b("getRoot")},getSectionContainer(E){return b("getSectionContainer").querySelector(`.${Wi.section}[data-sectionindex="${E}"]`)},getSectionContent(E){return b("getSectionContent").querySelector(`.${Wi.section}[data-sectionindex="${E}"] .${Wi.sectionContent}`)},getSectionIndexFromDOMElement(E){const w=b("getSectionIndexFromDOMElement");if(E==null||!w.contains(E))return null;let I=null;return E.classList.contains(Wi.section)?I=E:E.classList.contains(Wi.sectionContent)&&(I=E.parentElement),I==null?null:Number(I.dataset.sectionindex)}}));const S=(o==null?void 0:o.root)??U1,v=$t({elementType:S,externalSlotProps:i==null?void 0:i.root,externalForwardedProps:h,additionalProps:{ref:y,suppressContentEditableWarning:!0},className:f.root,ownerState:m});return t.jsx(S,U({},v,{children:v.contentEditable?l.map(({content:E,before:w,after:I})=>`${w.children}${E.children}${I.children}`).join(""):t.jsx(x.Fragment,{children:l.map((E,w)=>t.jsx(V7,{slots:o,slotProps:i,element:E,classes:f},w))})}))}),Y1=x.createContext(null),iu=()=>{const e=x.useContext(Y1);if(e==null)throw new Error(["MUI X: The `usePickerTextFieldOwnerState` can only be called in components that are used inside a PickerTextField component"].join(`
`));return e},z7=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef","onFocus","onBlur","classes","ownerState"],H7=e=>Math.round(e*1e5)/1e5,lu=Me("div",{name:"MuiPickersInputBase",slot:"Root"})(({theme:e})=>U({},e.typography.body1,{color:(e.vars||e).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${H7(.15/16)}em`,variants:[{props:{isInputInFullWidth:!0},style:{width:"100%"}}]})),Ox=Me(U1,{name:"MuiPickersInputBase",slot:"SectionsContainer"})(({theme:e})=>({padding:"4px 0 5px",fontFamily:e.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{fieldDirection:"rtl"},style:{textAlign:"right /*! @noflip */"}},{props:{inputSize:"small"},style:{paddingTop:1}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0},style:{color:"currentColor",opacity:0}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!1},style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}}]})),G7=Me(z1,{name:"MuiPickersInputBase",slot:"Section"})(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"inline-block",whiteSpace:"nowrap"})),Y7=Me(G1,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(e,n)=>n.content})(({theme:e})=>({fontFamily:e.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),q7=Me(H1,{name:"MuiPickersInputBase",slot:"Separator"})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),K7=Me("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(e,n)=>n.hiddenInput})(U({},$8)),J7=Me("div",{name:"MuiPickersInputBase",slot:"ActiveBar"})(({theme:e,ownerState:n})=>({display:"none",position:"absolute",height:2,bottom:2,borderTopLeftRadius:2,borderTopRightRadius:2,transition:e.transitions.create(["width","left"],{duration:e.transitions.duration.shortest}),backgroundColor:(e.vars||e).palette.primary.main,'[data-active-range-position="start"] &, [data-active-range-position="end"] &':{display:"block"},'[data-active-range-position="start"] &':{left:n.sectionOffsets[0]},'[data-active-range-position="end"] &':{left:n.sectionOffsets[1]}})),X7=(e,n)=>{const{isFieldFocused:r,isFieldDisabled:s,isFieldReadOnly:o,hasFieldError:i,inputSize:l,isInputInFullWidth:d,inputColor:u,hasStartAdornment:h,hasEndAdornment:f}=n,m={root:["root",r&&!s&&"focused",s&&"disabled",o&&"readOnly",i&&"error",d&&"fullWidth",`color${k8(u)}`,l==="small"&&"inputSizeSmall",h&&"adornedStart",f&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"],activeBar:["activeBar"]};return Qt(m,$7,e)};function gv(e,n,r,s){var o;if(e.content.id){const i=(o=n.current)==null?void 0:o.querySelectorAll(`[data-sectionindex="${r}"] [data-range-position="${s}"]`);if(i)return Array.from(i).reduce((l,d)=>l+d.offsetWidth,0)}return 0}function Q7(e,n){var o,i,l,d,u;let r=0;if(((o=n.current)==null?void 0:o.getAttribute("data-active-range-position"))==="end")for(let h=e.length-1;h>=e.length/2;h-=1)r+=gv(e[h],n,h,"end");else for(let h=0;h<e.length/2;h+=1)r+=gv(e[h],n,h,"start");return{activeBarWidth:r,sectionOffsets:[((l=(i=n.current)==null?void 0:i.querySelector('[data-sectionindex="0"]'))==null?void 0:l.offsetLeft)||0,((u=(d=n.current)==null?void 0:d.querySelector(`[data-sectionindex="${e.length/2}"]`))==null?void 0:u.offsetLeft)||0]}}const Mx=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersInputBase"}),{elements:o,areAllSectionsEmpty:i,value:l,onChange:d,id:u,endAdornment:h,startAdornment:f,renderSuffix:m,slots:g,slotProps:y,contentEditable:b,tabIndex:S,onInput:v,onPaste:E,onKeyDown:w,name:I,readOnly:D,inputProps:T,inputRef:R,sectionListRef:_,onFocus:k,onBlur:N,classes:$,ownerState:G}=s,L=at(s,z7),H=iu(),K=x.useRef(null),J=x.useRef(null),q=x.useRef([]),Q=ir(r,K),Y=ir(T==null?void 0:T.ref,R),oe=Mv();if(!oe)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const V=G??H,Z=ie=>{var le;(le=oe.onFocus)==null||le.call(oe,ie),k==null||k(ie)},Ee=ie=>{Z(ie)},be=ie=>{var le,se;if(w==null||w(ie),ie.key==="Enter"&&!ie.defaultMuiPrevented){if((le=K.current)!=null&&le.dataset.multiInput)return;const xe=(se=K.current)==null?void 0:se.closest("form"),fe=xe==null?void 0:xe.querySelector('[type="submit"]');if(!xe||!fe)return;ie.preventDefault(),xe.requestSubmit(fe)}},ae=ie=>{var le;(le=oe.onBlur)==null||le.call(oe,ie),N==null||N(ie)};x.useEffect(()=>{oe&&oe.setAdornedStart(!!f)},[oe,f]),x.useEffect(()=>{oe&&(i?oe.onEmpty():oe.onFilled())},[oe,i]);const ee=X7($,V),Ce=(g==null?void 0:g.root)||lu,Ae=$t({elementType:Ce,externalSlotProps:y==null?void 0:y.root,externalForwardedProps:L,additionalProps:{"aria-invalid":oe.error,ref:Q},className:ee.root,ownerState:V}),Be=(g==null?void 0:g.input)||Ox,ye=o.some(ie=>ie.content["data-range-position"]!==void 0);return x.useEffect(()=>{if(!ye||!V.isPickerOpen)return;const{activeBarWidth:ie,sectionOffsets:le}=Q7(o,K);q.current=[le[0],le[1]],J.current&&(J.current.style.width=`${ie}px`)},[o,ye,V.isPickerOpen]),t.jsxs(Ce,U({},Ae,{children:[f,t.jsx(U7,{sectionListRef:_,elements:o,contentEditable:b,tabIndex:S,className:ee.sectionsContainer,onFocus:Z,onBlur:ae,onInput:v,onPaste:E,onKeyDown:be,slots:{root:Be,section:G7,sectionContent:Y7,sectionSeparator:q7},slotProps:{root:U({},y==null?void 0:y.input,{ownerState:V}),sectionContent:{className:Wa.sectionContent},sectionSeparator:({separatorPosition:ie})=>({className:ie==="before"?Wa.sectionBefore:Wa.sectionAfter})}}),h,m?m(U({},oe)):null,t.jsx(K7,U({name:I,className:ee.input,value:l,onChange:d,id:u,"aria-hidden":"true",tabIndex:-1,readOnly:D,required:oe.required,disabled:oe.disabled,onFocus:Ee},T,{ref:Y})),ye&&t.jsx(J7,{className:ee.activeBar,ref:J,ownerState:{sectionOffsets:q.current}})]}))});function Z7(e){return un("MuiPickersOutlinedInput",e)}const hs=U({},Wa,pn("MuiPickersOutlinedInput",["root","notchedOutline","input"])),eG=["children","className","label","notched","shrink"],tG=Me("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline"})(({theme:e})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}}),bv=Me("span")(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit"})),nG=Me("legend",{shouldForwardProp:e=>ro(e)&&e!=="notched"})(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{inputHasLabel:!1},style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:{inputHasLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{inputHasLabel:!0,notched:!0},style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]}));function rG(e){const{className:n,label:r,notched:s}=e,o=at(e,eG),i=iu();return t.jsx(tG,U({"aria-hidden":!0,className:n},o,{ownerState:i,children:t.jsx(nG,{ownerState:i,notched:s,children:r?t.jsx(bv,{children:r}):t.jsx(bv,{className:"notranslate",children:""})})}))}const sG=["label","autoFocus","ownerState","classes","notched"],oG=Me(lu,{name:"MuiPickersOutlinedInput",slot:"Root"})(({theme:e})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${hs.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${hs.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${hs.focused} .${hs.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${hs.disabled}`]:{[`& .${hs.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled},"*":{color:(e.vars||e).palette.action.disabled}},[`&.${hs.error} .${hs.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},variants:Object.keys((e.vars??e).palette).filter(r=>{var s;return((s=(e.vars??e).palette[r])==null?void 0:s.main)??!1}).map(r=>({props:{inputColor:r},style:{[`&.${hs.focused}:not(.${hs.error}) .${hs.notchedOutline}`]:{borderColor:(e.vars||e).palette[r].main}}}))}}),aG=Me(Ox,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer"})({padding:"16.5px 0",variants:[{props:{inputSize:"small"},style:{padding:"8.5px 0"}}]}),iG=e=>{const r=Qt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Z7,e);return U({},e,r)},q1=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersOutlinedInput"}),{label:o,classes:i,notched:l}=s,d=at(s,sG),u=Mv(),h=iG(i);return t.jsx(Mx,U({slots:{root:oG,input:aG},renderSuffix:f=>t.jsx(rG,{shrink:!!(l||f.adornedStart||f.focused||f.filled),notched:!!(l||f.adornedStart||f.focused||f.filled),className:h.notchedOutline,label:o!=null&&o!==""&&(u!=null&&u.required)?t.jsxs(x.Fragment,{children:[o,"","*"]}):o})},d,{label:o,classes:h,ref:r}))});q1.muiName="Input";function lG(e){return un("MuiPickersFilledInput",e)}const Xo=U({},Wa,pn("MuiPickersFilledInput",["root","underline","input"])),cG=["label","autoFocus","disableUnderline","hiddenLabel","classes"],dG=Me(lu,{name:"MuiPickersFilledInput",slot:"Root",shouldForwardProp:e=>Nv(e)&&e!=="disableUnderline"})(({theme:e})=>{const n=e.palette.mode==="light",r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s}},[`&.${Xo.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s},[`&.${Xo.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:i},variants:[...Object.keys((e.vars??e).palette).filter(l=>(e.vars??e).palette[l].main).map(l=>{var d;return{props:{inputColor:l,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(d=(e.vars||e).palette[l])==null?void 0:d.main}`}}}}),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Xo.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Xo.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Xo.disabled}, .${Xo.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Xo.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:{hasStartAdornment:!0},style:{paddingLeft:12}},{props:{hasEndAdornment:!0},style:{paddingRight:12}}]}}),uG=Me(Ox,{name:"MuiPickersFilledInput",slot:"sectionsContainer",shouldForwardProp:e=>Nv(e)&&e!=="hiddenLabel"})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{inputSize:"small"},style:{paddingTop:21,paddingBottom:4}},{props:{hasStartAdornment:!0},style:{paddingLeft:0}},{props:{hasEndAdornment:!0},style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,inputSize:"small"},style:{paddingTop:8,paddingBottom:9}}]}),hG=(e,n)=>{const{inputHasUnderline:r}=n,o=Qt({root:["root",r&&"underline"],input:["input"]},lG,e);return U({},e,o)},K1=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersFilledInput"}),{label:o,disableUnderline:i=!1,hiddenLabel:l=!1,classes:d}=s,u=at(s,cG),h=iu(),f=U({},h,{inputHasUnderline:!i}),m=hG(d,f);return t.jsx(Mx,U({slots:{root:dG,input:uG},slotProps:{root:{disableUnderline:i},input:{hiddenLabel:l}}},u,{label:o,classes:m,ref:r,ownerState:f}))});K1.muiName="Input";function fG(e){return un("MuiPickersFilledInput",e)}const Vi=U({},Wa,pn("MuiPickersInput",["root","underline","input"])),pG=["label","autoFocus","disableUnderline","ownerState","classes"],mG=Me(lu,{name:"MuiPickersInput",slot:"Root",shouldForwardProp:e=>ro(e)&&e!=="disableUnderline"})(({theme:e})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((e.vars??e).palette).filter(s=>(e.vars??e).palette[s].main).map(s=>({props:{inputColor:s},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[s].main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Vi.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Vi.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Vi.disabled}, .${Vi.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Vi.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),xG=(e,n)=>{const{inputHasUnderline:r}=n,o=Qt({root:["root",!r&&"underline"],input:["input"]},fG,e);return U({},e,o)},J1=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersInput"}),{label:o,disableUnderline:i=!1,classes:l}=s,d=at(s,pG),u=iu(),h=U({},u,{inputHasUnderline:!i}),f=xG(l,h);return t.jsx(Mx,U({slots:{root:mG},slotProps:{root:{disableUnderline:i}}},d,{label:o,classes:f,ref:r}))});J1.muiName="Input";const gG=["onFocus","onBlur","className","classes","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps","data-active-range-position"],bG={standard:J1,filled:K1,outlined:q1},yG=Me(ht,{name:"MuiPickersTextField",slot:"Root"})({}),vG=(e,n)=>{const{isFieldFocused:r,isFieldDisabled:s,isFieldRequired:o}=n;return Qt({root:["root",r&&!s&&"focused",s&&"disabled",o&&"required"]},L7,e)},X1=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersTextField"}),{onFocus:o,onBlur:i,className:l,classes:d,color:u="primary",disabled:h=!1,error:f=!1,variant:m="outlined",required:g=!1,InputProps:y,inputProps:b,inputRef:S,sectionListRef:v,elements:E,areAllSectionsEmpty:w,onClick:I,onKeyDown:D,onKeyUp:T,onPaste:R,onInput:_,endAdornment:k,startAdornment:N,tabIndex:$,contentEditable:G,focused:L,value:H,onChange:K,fullWidth:J,id:q,name:Q,helperText:Y,FormHelperTextProps:oe,label:V,InputLabelProps:Z,"data-active-range-position":Ee}=s,be=at(s,gG),ae=x.useRef(null),ee=ir(r,ae),Ce=tu(q),Ae=Y&&Ce?`${Ce}-helper-text`:void 0,Be=V&&Ce?`${Ce}-label`:void 0,ye=_x({disabled:s.disabled,required:s.required,readOnly:y==null?void 0:y.readOnly}),ie=x.useMemo(()=>U({},ye,{isFieldValueEmpty:w,isFieldFocused:L??!1,hasFieldError:f??!1,inputSize:s.size??"medium",inputColor:u??"primary",isInputInFullWidth:J??!1,hasStartAdornment:!!(N??(y==null?void 0:y.startAdornment)),hasEndAdornment:!!(k??(y==null?void 0:y.endAdornment)),inputHasLabel:!!V}),[ye,w,L,f,s.size,u,J,N,k,y==null?void 0:y.startAdornment,y==null?void 0:y.endAdornment,V]),le=vG(d,ie),se=bG[m],xe={};return m==="outlined"&&(Z&&typeof Z.shrink<"u"&&(xe.notched=Z.shrink),xe.label=V),t.jsx(Y1.Provider,{value:ie,children:t.jsxs(yG,U({className:nn(le.root,l),ref:ee,focused:L,disabled:h,variant:m,error:f,color:u,fullWidth:J,required:g,ownerState:ie},be,{children:[V!=null&&V!==""&&t.jsx(Ct,U({htmlFor:Ce,id:Be},Z,{children:V})),t.jsx(se,U({elements:E,areAllSectionsEmpty:w,onClick:I,onKeyDown:D,onKeyUp:T,onInput:_,onPaste:R,onFocus:o,onBlur:i,endAdornment:k,startAdornment:N,tabIndex:$,contentEditable:G,value:H,onChange:K,id:Ce,fullWidth:J,inputProps:b,inputRef:S,sectionListRef:v,label:V,name:Q,role:"group","aria-labelledby":Be,"aria-describedby":Ae,"aria-live":Ae?"polite":void 0,"data-active-range-position":Ee},xe,y)),Y&&t.jsx(LR,U({id:Ae},oe,{children:Y}))]}))})}),jG=["enableAccessibleFieldDOMStructure"],SG=["InputProps","readOnly","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],wG=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],CG=["ownerState"],PG=["ownerState"],EG=["ownerState"],IG=["ownerState"],DG=["InputProps","inputProps"],TG=e=>{let{enableAccessibleFieldDOMStructure:n}=e,r=at(e,jG);if(n){const{InputProps:v,readOnly:E,onClear:w,clearable:I,clearButtonPosition:D,openPickerButtonPosition:T,openPickerAriaLabel:R}=r,_=at(r,SG);return{clearable:I,onClear:w,clearButtonPosition:D,openPickerButtonPosition:T,openPickerAriaLabel:R,textFieldProps:U({},_,{InputProps:U({},v??{},{readOnly:E})})}}const{onPaste:s,onKeyDown:o,inputMode:i,readOnly:l,InputProps:d,inputProps:u,inputRef:h,onClear:f,clearable:m,clearButtonPosition:g,openPickerButtonPosition:y,openPickerAriaLabel:b}=r,S=at(r,wG);return{clearable:m,onClear:f,clearButtonPosition:g,openPickerButtonPosition:y,openPickerAriaLabel:b,textFieldProps:U({},S,{InputProps:U({},d??{},{readOnly:l}),inputProps:U({},u??{},{inputMode:i,onPaste:s,onKeyDown:o,ref:h})})}},Nx=x.createContext({slots:{},slotProps:{},inputRef:void 0});function AG(e){var oe,V;const{slots:n,slotProps:r,fieldResponse:s,defaultOpenPickerIcon:o}=e,i=Ps(),l=Tx(),d=x.useContext(Nx),{textFieldProps:u,onClear:h,clearable:f,openPickerAriaLabel:m,clearButtonPosition:g="end",openPickerButtonPosition:y="end"}=TG(s),b=_x(u),S=Ue(Z=>{Z.preventDefault(),l==null||l.setOpen(Ee=>!Ee)}),v=l?l.triggerStatus:"hidden",E=f?g:null,w=v!=="hidden"?y:null,I=(n==null?void 0:n.textField)??d.slots.textField??(s.enableAccessibleFieldDOMStructure===!1?nt:X1),D=(n==null?void 0:n.inputAdornment)??d.slots.inputAdornment??os,T=$t({elementType:D,externalSlotProps:_c(d.slotProps.inputAdornment,r==null?void 0:r.inputAdornment),additionalProps:{position:"start"},ownerState:U({},b,{position:"start"})}),R=at(T,CG),_=$t({elementType:D,externalSlotProps:r==null?void 0:r.inputAdornment,additionalProps:{position:"end"},ownerState:U({},b,{position:"end"})}),k=at(_,PG),N=d.slots.openPickerButton??Ne,$=$t({elementType:N,externalSlotProps:d.slotProps.openPickerButton,additionalProps:{disabled:v==="disabled",onClick:S,"aria-label":m,edge:u.variant!=="standard"?w:!1},ownerState:b}),G=at($,EG),L=d.slots.openPickerIcon??o,H=$t({elementType:L,externalSlotProps:d.slotProps.openPickerIcon,ownerState:b}),K=(n==null?void 0:n.clearButton)??d.slots.clearButton??Ne,J=$t({elementType:K,externalSlotProps:_c(d.slotProps.clearButton,r==null?void 0:r.clearButton),className:"clearButton",additionalProps:{title:i.fieldClearLabel,tabIndex:-1,onClick:h,disabled:s.disabled||s.readOnly,edge:u.variant!=="standard"&&E!==w?E:!1},ownerState:b}),q=at(J,IG),Q=(n==null?void 0:n.clearIcon)??d.slots.clearIcon??t9,Y=$t({elementType:Q,externalSlotProps:_c(d.slotProps.clearIcon,r==null?void 0:r.clearIcon),additionalProps:{fontSize:"small"},ownerState:b});return u.ref=ir(u.ref,l==null?void 0:l.rootRef),u.InputProps||(u.InputProps={}),l&&(u.InputProps.ref=l.triggerRef),!((oe=u.InputProps)!=null&&oe.startAdornment)&&(E==="start"||w==="start")&&(u.InputProps.startAdornment=t.jsxs(D,U({},R,{children:[w==="start"&&t.jsx(N,U({},G,{children:t.jsx(L,U({},H))})),E==="start"&&t.jsx(K,U({},q,{children:t.jsx(Q,U({},Y))}))]}))),!((V=u.InputProps)!=null&&V.endAdornment)&&(E==="end"||w==="end")&&(u.InputProps.endAdornment=t.jsxs(D,U({},k,{children:[E==="end"&&t.jsx(K,U({},q,{children:t.jsx(Q,U({},Y))})),w==="end"&&t.jsx(N,U({},G,{children:t.jsx(L,U({},H))}))]}))),E!=null&&(u.sx=[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(u.sx)?u.sx:[u.sx]]),t.jsx(I,U({},u))}function _c(e,n){return e?n?r=>U({},dl(n,r),dl(e,r)):e:n}function RG(e){const{ref:n,externalForwardedProps:r,slotProps:s}=e,o=x.useContext(Nx),i=Tx(),l=_x(r),{InputProps:d,inputProps:u}=r,h=at(r,DG),f=$t({elementType:X1,externalSlotProps:_c(o.slotProps.textField,s==null?void 0:s.textField),externalForwardedProps:h,additionalProps:{ref:n,sx:i==null?void 0:i.rootSx,label:i==null?void 0:i.label,name:i==null?void 0:i.name,className:i==null?void 0:i.rootClassName,inputRef:o.inputRef},ownerState:l});return f.inputProps=U({},u,f.inputProps),f.InputProps=U({},d,f.InputProps),f}function Q1(e){const{slots:n={},slotProps:r={},inputRef:s,children:o}=e,i=x.useMemo(()=>({inputRef:s,slots:{openPickerButton:n.openPickerButton,openPickerIcon:n.openPickerIcon,textField:n.textField,inputAdornment:n.inputAdornment,clearIcon:n.clearIcon,clearButton:n.clearButton},slotProps:{openPickerButton:r.openPickerButton,openPickerIcon:r.openPickerIcon,textField:r.textField,inputAdornment:r.inputAdornment,clearIcon:r.clearIcon,clearButton:r.clearButton}}),[s,n.openPickerButton,n.openPickerIcon,n.textField,n.inputAdornment,n.clearIcon,n.clearButton,r.openPickerButton,r.openPickerIcon,r.textField,r.inputAdornment,r.clearIcon,r.clearButton]);return t.jsx(Nx.Provider,{value:i,children:o})}const kG=e=>{const n=O7(e);return _7({manager:n,props:e})},_G=["slots","slotProps"],Z1=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiDateTimeField"}),{slots:o,slotProps:i}=s,l=at(s,_G),d=RG({slotProps:i,ref:r,externalForwardedProps:l}),u=kG(d);return t.jsx(AG,{slots:o,slotProps:i,fieldResponse:u,defaultOpenPickerIcon:Q8})}),eC=({shouldDisableDate:e,shouldDisableMonth:n,shouldDisableYear:r,minDate:s,maxDate:o,disableFuture:i,disablePast:l,timezone:d})=>{const u=pa();return x.useCallback(h=>Ax({adapter:u,value:h,timezone:d,props:{shouldDisableDate:e,shouldDisableMonth:n,shouldDisableYear:r,minDate:s,maxDate:o,disableFuture:i,disablePast:l}})!==null,[u,e,n,r,s,o,i,l,d])},OG=(e,n)=>(r,s)=>{switch(s.type){case"setVisibleDate":return U({},r,{slideDirection:s.direction,currentMonth:s.month,isMonthSwitchingAnimating:!n.isSameMonth(s.month,r.currentMonth)&&!e&&!s.skipAnimation,focusedDay:s.focusedDay});case"changeMonthTimezone":{const o=s.newTimezone;if(n.getTimezone(r.currentMonth)===o)return r;let i=n.setTimezone(r.currentMonth,o);return n.getMonth(i)!==n.getMonth(r.currentMonth)&&(i=n.setMonth(i,n.getMonth(r.currentMonth))),U({},r,{currentMonth:i})}case"finishMonthSwitchingAnimation":return U({},r,{isMonthSwitchingAnimating:!1});default:throw new Error("missing support")}},MG=e=>{const{value:n,referenceDate:r,disableFuture:s,disablePast:o,maxDate:i,minDate:l,onMonthChange:d,onYearChange:u,reduceAnimations:h,shouldDisableDate:f,timezone:m,getCurrentMonthFromVisibleDate:g}=e,y=Ut(),b=x.useRef(OG(!!h,y)).current,S=x.useMemo(()=>xr.getInitialReferenceValue({value:n,utils:y,timezone:m,props:e,referenceDate:r,granularity:xs.day}),[r,m]),[v,E]=x.useReducer(b,{isMonthSwitchingAnimating:!1,focusedDay:S,currentMonth:y.startOfMonth(S),slideDirection:"left"}),w=eC({shouldDisableDate:f,minDate:l,maxDate:i,disableFuture:s,disablePast:o,timezone:m});x.useEffect(()=>{E({type:"changeMonthTimezone",newTimezone:y.getTimezone(S)})},[S,y]);const I=Ue(({target:T,reason:R})=>{if(R==="cell-interaction"&&v.focusedDay!=null&&y.isSameDay(T,v.focusedDay))return;const _=R==="cell-interaction";let k,N;if(R==="cell-interaction")k=g(T,v.currentMonth),N=T;else if(k=y.isSameMonth(T,v.currentMonth)?v.currentMonth:y.startOfMonth(T),N=T,w(N)){const L=y.startOfMonth(T),H=y.endOfMonth(T);N=fl({utils:y,date:N,minDate:y.isBefore(l,L)?L:l,maxDate:y.isAfter(i,H)?H:i,disablePast:o,disableFuture:s,isDateDisabled:w,timezone:m})}const $=!y.isSameMonth(v.currentMonth,k),G=!y.isSameYear(v.currentMonth,k);$&&(d==null||d(k)),G&&(u==null||u(y.startOfYear(k))),E({type:"setVisibleDate",month:k,direction:y.isAfterDay(k,v.currentMonth)?"left":"right",focusedDay:v.focusedDay!=null&&N!=null&&y.isSameDay(N,v.focusedDay)?v.focusedDay:N,skipAnimation:_})}),D=x.useCallback(()=>{E({type:"finishMonthSwitchingAnimation"})},[]);return{referenceDate:S,calendarState:v,setVisibleDate:I,isDateDisabled:w,onMonthSwitchingAnimationEnd:D}},NG=e=>un("MuiPickersFadeTransitionGroup",e);pn("MuiPickersFadeTransitionGroup",["root"]);const LG=["children"],$G=e=>Qt({root:["root"]},NG,e),FG=Me(Lv,{name:"MuiPickersFadeTransitionGroup",slot:"Root"})({display:"block",position:"relative"});function tC(e){const n=Gt({props:e,name:"MuiPickersFadeTransitionGroup"}),{className:r,reduceAnimations:s,transKey:o,classes:i}=n,{children:l}=n,d=at(n,LG),u=$G(i),h=cn();return s?l:t.jsx(FG,{className:nn(u.root,r),ownerState:d,children:t.jsx(Pd,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:h.transitions.duration.enteringScreen,enter:h.transitions.duration.enteringScreen,exit:0},children:l},o)})}const BG=e=>un("MuiPickersSlideTransition",e),es=pn("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),WG=["children","className","reduceAnimations","slideDirection","transKey","classes"],VG=(e,n)=>{const{slideDirection:r}=n,s={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${r}`],exitActive:[`slideExitActiveLeft-${r}`]};return Qt(s,BG,e)},UG=Me(Lv,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,n)=>[n.root,{[`.${es["slideEnter-left"]}`]:n["slideEnter-left"]},{[`.${es["slideEnter-right"]}`]:n["slideEnter-right"]},{[`.${es.slideEnterActive}`]:n.slideEnterActive},{[`.${es.slideExit}`]:n.slideExit},{[`.${es["slideExitActiveLeft-left"]}`]:n["slideExitActiveLeft-left"]},{[`.${es["slideExitActiveLeft-right"]}`]:n["slideExitActiveLeft-right"]}]})(({theme:e})=>{const n=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${es["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${es["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${es.slideEnterActive}`]:{transform:"translate(0%)",transition:n},[`& .${es.slideExit}`]:{transform:"translate(0%)"},[`& .${es["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:n,zIndex:0},[`& .${es["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:n,zIndex:0}}});function zG(e){const n=Gt({props:e,name:"MuiPickersSlideTransition"}),{children:r,className:s,reduceAnimations:o,slideDirection:i,transKey:l,classes:d}=n,u=at(n,WG),{ownerState:h}=An(),f=U({},h,{slideDirection:i}),m=VG(d,f),g=cn();if(o)return t.jsx("div",{className:nn(m.root,s),children:r});const y={exit:m.exit,enterActive:m.enterActive,enter:m.enter,exitActive:m.exitActive};return t.jsx(UG,{className:nn(m.root,s),childFactory:b=>x.cloneElement(b,{classNames:y}),role:"presentation",ownerState:f,children:t.jsx($R,U({mountOnEnter:!0,unmountOnExit:!0,timeout:g.transitions.duration.complex,classNames:y},u,{children:r}),l)})}const HG=e=>un("MuiDayCalendar",e);pn("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const GG=["parentProps","day","focusedDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],YG=["ownerState"],qG=e=>Qt({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},HG,e),nC=(hl+su*2)*6,KG=Me("div",{name:"MuiDayCalendar",slot:"Root"})({}),JG=Me("div",{name:"MuiDayCalendar",slot:"Header"})({display:"flex",justifyContent:"center",alignItems:"center"}),XG=Me(j,{name:"MuiDayCalendar",slot:"WeekDayLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),QG=Me(j,{name:"MuiDayCalendar",slot:"WeekNumberLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.disabled})),ZG=Me(j,{name:"MuiDayCalendar",slot:"WeekNumber"})(({theme:e})=>U({},e.typography.caption,{width:hl,height:hl,padding:0,margin:`0 ${su}px`,color:(e.vars||e).palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),eY=Me("div",{name:"MuiDayCalendar",slot:"LoadingContainer"})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:nC}),tY=Me(zG,{name:"MuiDayCalendar",slot:"SlideTransition"})({minHeight:nC}),nY=Me("div",{name:"MuiDayCalendar",slot:"MonthContainer"})({overflow:"hidden"}),rY=Me("div",{name:"MuiDayCalendar",slot:"WeekContainer"})({margin:`${su}px 0`,display:"flex",justifyContent:"center"});function sY(e){let{parentProps:n,day:r,focusedDay:s,selectedDays:o,isDateDisabled:i,currentMonthNumber:l,isViewFocused:d}=e,u=at(e,GG);const{disabled:h,disableHighlightToday:f,isMonthSwitchingAnimating:m,showDaysOutsideCurrentMonth:g,slots:y,slotProps:b,timezone:S}=n,v=Ut(),E=fi(S),w=s!=null&&v.isSameDay(r,s),I=d&&w,D=o.some(K=>v.isSameDay(K,r)),T=v.isSameDay(r,E),R=x.useMemo(()=>h||i(r),[h,i,r]),_=x.useMemo(()=>v.getMonth(r)!==l,[v,r,l]),k=A1({day:r,selected:D,disabled:R,today:T,outsideCurrentMonth:_,disableMargin:void 0,disableHighlightToday:f,showDaysOutsideCurrentMonth:g}),N=(y==null?void 0:y.day)??u7,$=$t({elementType:N,externalSlotProps:b==null?void 0:b.day,additionalProps:U({disableHighlightToday:f,showDaysOutsideCurrentMonth:g,role:"gridcell",isAnimating:m,"data-timestamp":v.toJsDate(r).valueOf()},u),ownerState:U({},k,{day:r,isDayDisabled:R,isDaySelected:D})}),G=at($,YG),L=x.useMemo(()=>{const K=v.startOfMonth(v.setMonth(r,l));return g?v.isSameDay(r,v.startOfWeek(K)):v.isSameDay(r,K)},[l,r,g,v]),H=x.useMemo(()=>{const K=v.endOfMonth(v.setMonth(r,l));return g?v.isSameDay(r,v.endOfWeek(K)):v.isSameDay(r,K)},[l,r,g,v]);return t.jsx(N,U({},G,{day:r,disabled:R,autoFocus:!_&&I,today:T,outsideCurrentMonth:_,isFirstVisibleCell:L,isLastVisibleCell:H,selected:D,tabIndex:w?0:-1,"aria-selected":D,"aria-current":T?"date":void 0}))}function oY(e){const n=Gt({props:e,name:"MuiDayCalendar"}),r=Ut(),{onFocusedDayChange:s,className:o,classes:i,currentMonth:l,selectedDays:d,focusedDay:u,loading:h,onSelectedDaysChange:f,onMonthSwitchingAnimationEnd:m,readOnly:g,reduceAnimations:y,renderLoading:b=()=>t.jsx("span",{children:"..."}),slideDirection:S,TransitionProps:v,disablePast:E,disableFuture:w,minDate:I,maxDate:D,shouldDisableDate:T,shouldDisableMonth:R,shouldDisableYear:_,dayOfWeekFormatter:k=le=>r.format(le,"weekdayShort").charAt(0).toUpperCase(),hasFocus:N,onFocusedViewChange:$,gridLabelId:G,displayWeekNumber:L,fixedWeekNumber:H,timezone:K}=n,J=fi(K),q=qG(i),Q=Fs(),Y=eC({shouldDisableDate:T,shouldDisableMonth:R,shouldDisableYear:_,minDate:I,maxDate:D,disablePast:E,disableFuture:w,timezone:K}),oe=Ps(),V=Ue(le=>{g||f(le)}),Z=le=>{Y(le)||(s(le),$==null||$(!0))},Ee=Ue((le,se)=>{switch(le.key){case"ArrowUp":Z(r.addDays(se,-7)),le.preventDefault();break;case"ArrowDown":Z(r.addDays(se,7)),le.preventDefault();break;case"ArrowLeft":{const xe=r.addDays(se,Q?1:-1),fe=r.addMonths(se,Q?1:-1),ke=fl({utils:r,date:xe,minDate:Q?xe:r.startOfMonth(fe),maxDate:Q?r.endOfMonth(fe):xe,isDateDisabled:Y,timezone:K});Z(ke||xe),le.preventDefault();break}case"ArrowRight":{const xe=r.addDays(se,Q?-1:1),fe=r.addMonths(se,Q?-1:1),ke=fl({utils:r,date:xe,minDate:Q?r.startOfMonth(fe):xe,maxDate:Q?xe:r.endOfMonth(fe),isDateDisabled:Y,timezone:K});Z(ke||xe),le.preventDefault();break}case"Home":Z(r.startOfWeek(se)),le.preventDefault();break;case"End":Z(r.endOfWeek(se)),le.preventDefault();break;case"PageUp":Z(r.addMonths(se,1)),le.preventDefault();break;case"PageDown":Z(r.addMonths(se,-1)),le.preventDefault();break}}),be=Ue((le,se)=>Z(se)),ae=Ue((le,se)=>{u!=null&&r.isSameDay(u,se)&&($==null||$(!1))}),ee=r.getMonth(l),Ce=r.getYear(l),Ae=x.useMemo(()=>d.filter(le=>!!le).map(le=>r.startOfDay(le)),[r,d]),Be=`${Ce}-${ee}`,ye=x.useMemo(()=>x.createRef(),[Be]),ie=x.useMemo(()=>{const le=r.getWeekArray(l);let se=r.addMonths(l,1);for(;H&&le.length<H;){const xe=r.getWeekArray(se),fe=r.isSameDay(le[le.length-1][0],xe[0][0]);xe.slice(fe?1:0).forEach(ke=>{le.length<H&&le.push(ke)}),se=r.addMonths(se,1)}return le},[l,H,r]);return t.jsxs(KG,{role:"grid","aria-labelledby":G,className:q.root,children:[t.jsxs(JG,{role:"row",className:q.header,children:[L&&t.jsx(QG,{variant:"caption",role:"columnheader","aria-label":oe.calendarWeekNumberHeaderLabel,className:q.weekNumberLabel,children:oe.calendarWeekNumberHeaderText}),j9(r,J).map((le,se)=>t.jsx(XG,{variant:"caption",role:"columnheader","aria-label":r.format(le,"weekday"),className:q.weekDayLabel,children:k(le)},se.toString()))]}),h?t.jsx(eY,{className:q.loadingContainer,children:b()}):t.jsx(tY,U({transKey:Be,onExited:m,reduceAnimations:y,slideDirection:S,className:nn(o,q.slideTransition)},v,{nodeRef:ye,children:t.jsx(nY,{ref:ye,role:"rowgroup",className:q.monthContainer,children:ie.map((le,se)=>t.jsxs(rY,{role:"row",className:q.weekContainer,"aria-rowindex":se+1,children:[L&&t.jsx(ZG,{className:q.weekNumber,role:"rowheader","aria-label":oe.calendarWeekNumberAriaLabelText(r.getWeekNumber(le[0])),children:oe.calendarWeekNumberText(r.getWeekNumber(le[0]))}),le.map((xe,fe)=>t.jsx(sY,{parentProps:n,day:xe,selectedDays:Ae,isViewFocused:N,focusedDay:u,onKeyDown:Ee,onFocus:be,onBlur:ae,onDaySelect:V,isDateDisabled:Y,currentMonthNumber:ee,"aria-colindex":fe+1},xe.toString()))]},`week-${le[0]}`))})}))]})}function rC(e){return un("MuiMonthCalendar",e)}const Pc=pn("MuiMonthCalendar",["root","button","disabled","selected"]),aY=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],iY=(e,n)=>{const r={button:["button",n.isMonthDisabled&&"disabled",n.isMonthSelected&&"selected"]};return Qt(r,rC,e)},lY=Me("button",{name:"MuiMonthCalendar",slot:"Button",overridesResolver:(e,n)=>[n.button,{[`&.${Pc.disabled}`]:n.disabled},{[`&.${Pc.selected}`]:n.selected}]})(({theme:e})=>U({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ue(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ue(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Pc.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${Pc.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),cY=x.memo(function(n){const{autoFocus:r,classes:s,disabled:o,selected:i,value:l,onClick:d,onKeyDown:u,onFocus:h,onBlur:f,slots:m,slotProps:g}=n,y=at(n,aY),b=x.useRef(null),{ownerState:S}=An(),v=U({},S,{isMonthDisabled:o,isMonthSelected:i}),E=iY(s,v);as(()=>{var D;r&&((D=b.current)==null||D.focus())},[r]);const w=(m==null?void 0:m.monthButton)??lY,I=$t({elementType:w,externalSlotProps:g==null?void 0:g.monthButton,externalForwardedProps:y,additionalProps:{disabled:o,ref:b,type:"button",role:"radio","aria-checked":i,onClick:D=>d(D,l),onKeyDown:D=>u(D,l),onFocus:D=>h(D,l),onBlur:D=>f(D,l)},ownerState:v,className:E.button});return t.jsx(w,U({},I))}),dY=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],uY=e=>Qt({root:["root"]},rC,e);function hY(e,n){const r=Gt({props:e,name:n}),s=kx(r);return U({},r,s,{monthsPerRow:r.monthsPerRow??3})}const fY=Me("div",{name:"MuiMonthCalendar",slot:"Root",shouldForwardProp:e=>ro(e)&&e!=="monthsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:16,padding:"8px 0",width:ri,boxSizing:"border-box",variants:[{props:{monthsPerRow:3},style:{columnGap:24}},{props:{monthsPerRow:4},style:{columnGap:0}}]}),pY=x.forwardRef(function(n,r){const s=hY(n,"MuiMonthCalendar"),{autoFocus:o,className:i,classes:l,value:d,defaultValue:u,referenceDate:h,disabled:f,disableFuture:m,disablePast:g,maxDate:y,minDate:b,onChange:S,shouldDisableMonth:v,readOnly:E,onMonthFocus:w,hasFocus:I,onFocusedViewChange:D,monthsPerRow:T,timezone:R,gridLabelId:_,slots:k,slotProps:N}=s,$=at(s,dY),{value:G,handleValueChange:L,timezone:H}=ma({name:"MonthCalendar",timezone:R,value:d,defaultValue:u,referenceDate:h,onChange:S,valueManager:xr}),K=fi(H),J=Fs(),q=Ut(),{ownerState:Q}=An(),Y=x.useMemo(()=>xr.getInitialReferenceValue({value:G,utils:q,props:s,timezone:H,referenceDate:h,granularity:xs.month}),[]),oe=uY(l),V=x.useMemo(()=>q.getMonth(K),[q,K]),Z=x.useMemo(()=>G!=null?q.getMonth(G):null,[G,q]),[Ee,be]=x.useState(()=>Z||q.getMonth(Y)),[ae,ee]=ni({name:"MonthCalendar",state:"hasFocus",controlled:I,default:o??!1}),Ce=Ue(xe=>{ee(xe),D&&D(xe)}),Ae=x.useCallback(xe=>{const fe=q.startOfMonth(g&&q.isAfter(K,b)?K:b),ke=q.startOfMonth(m&&q.isBefore(K,y)?K:y),ne=q.startOfMonth(xe);return q.isBefore(ne,fe)||q.isAfter(ne,ke)?!0:v?v(ne):!1},[m,g,y,b,K,v,q]),Be=Ue((xe,fe)=>{if(E)return;const ke=q.setMonth(G??Y,fe);L(ke)}),ye=Ue(xe=>{Ae(q.setMonth(G??Y,xe))||(be(xe),Ce(!0),w&&w(xe))});x.useEffect(()=>{be(xe=>Z!==null&&xe!==Z?Z:xe)},[Z]);const ie=Ue((xe,fe)=>{switch(xe.key){case"ArrowUp":ye((12+fe-3)%12),xe.preventDefault();break;case"ArrowDown":ye((12+fe+3)%12),xe.preventDefault();break;case"ArrowLeft":ye((12+fe+(J?1:-1))%12),xe.preventDefault();break;case"ArrowRight":ye((12+fe+(J?-1:1))%12),xe.preventDefault();break}}),le=Ue((xe,fe)=>{ye(fe)}),se=Ue((xe,fe)=>{Ee===fe&&Ce(!1)});return t.jsx(fY,U({ref:r,className:nn(oe.root,i),ownerState:Q,role:"radiogroup","aria-labelledby":_,monthsPerRow:T},$,{children:Cx(q,G??Y).map(xe=>{const fe=q.getMonth(xe),ke=q.format(xe,"monthShort"),ne=q.format(xe,"month"),_e=fe===Z,ce=f||Ae(xe);return t.jsx(cY,{selected:_e,value:fe,onClick:Be,onKeyDown:ie,autoFocus:ae&&fe===Ee,disabled:ce,tabIndex:fe===Ee&&!ce?0:-1,onFocus:le,onBlur:se,"aria-current":V===fe?"date":void 0,"aria-label":ne,slots:k,slotProps:N,classes:l,children:ke},ke)})}))});function sC(e){return un("MuiYearCalendar",e)}const Ec=pn("MuiYearCalendar",["root","button","disabled","selected"]),mY=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],xY=(e,n)=>{const r={button:["button",n.isYearDisabled&&"disabled",n.isYearSelected&&"selected"]};return Qt(r,sC,e)},gY=Me("button",{name:"MuiYearCalendar",slot:"Button",overridesResolver:(e,n)=>[n.button,{[`&.${Ec.disabled}`]:n.disabled},{[`&.${Ec.selected}`]:n.selected}]})(({theme:e})=>U({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:ue(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ue(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Ec.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${Ec.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),bY=x.memo(function(n){const{autoFocus:r,classes:s,disabled:o,selected:i,value:l,onClick:d,onKeyDown:u,onFocus:h,onBlur:f,slots:m,slotProps:g}=n,y=at(n,mY),b=x.useRef(null),{ownerState:S}=An(),v=U({},S,{isYearDisabled:o,isYearSelected:i}),E=xY(s,v);as(()=>{var D;r&&((D=b.current)==null||D.focus())},[r]);const w=(m==null?void 0:m.yearButton)??gY,I=$t({elementType:w,externalSlotProps:g==null?void 0:g.yearButton,externalForwardedProps:y,additionalProps:{disabled:o,ref:b,type:"button",role:"radio","aria-checked":i,onClick:D=>d(D,l),onKeyDown:D=>u(D,l),onFocus:D=>h(D,l),onBlur:D=>f(D,l)},ownerState:v,className:E.button});return t.jsx(w,U({},I))}),yY=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"],vY=e=>Qt({root:["root"]},sC,e);function jY(e,n){const r=Gt({props:e,name:n}),s=kx(r);return U({},r,s,{yearsPerRow:r.yearsPerRow??3,yearsOrder:r.yearsOrder??"asc"})}const SY=Me("div",{name:"MuiYearCalendar",slot:"Root",shouldForwardProp:e=>ro(e)&&e!=="yearsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:12,padding:"6px 0",overflowY:"auto",height:"100%",width:ri,maxHeight:b9,boxSizing:"border-box",position:"relative",variants:[{props:{yearsPerRow:3},style:{columnGap:24}},{props:{yearsPerRow:4},style:{columnGap:0,padding:"0 2px"}}]}),wY=Me("div",{name:"MuiYearCalendar",slot:"ButtonFiller"})({height:36,width:72}),CY=x.forwardRef(function(n,r){const s=jY(n,"MuiYearCalendar"),{autoFocus:o,className:i,classes:l,value:d,defaultValue:u,referenceDate:h,disabled:f,disableFuture:m,disablePast:g,maxDate:y,minDate:b,onChange:S,readOnly:v,shouldDisableYear:E,onYearFocus:w,hasFocus:I,onFocusedViewChange:D,yearsOrder:T,yearsPerRow:R,timezone:_,gridLabelId:k,slots:N,slotProps:$}=s,G=at(s,yY),{value:L,handleValueChange:H,timezone:K}=ma({name:"YearCalendar",timezone:_,value:d,defaultValue:u,referenceDate:h,onChange:S,valueManager:xr}),J=fi(K),q=Fs(),Q=Ut(),{ownerState:Y}=An(),oe=x.useMemo(()=>xr.getInitialReferenceValue({value:L,utils:Q,props:s,timezone:K,referenceDate:h,granularity:xs.year}),[]),V=vY(l),Z=x.useMemo(()=>Q.getYear(J),[Q,J]),Ee=x.useMemo(()=>L!=null?Q.getYear(L):null,[L,Q]),[be,ae]=x.useState(()=>Ee||Q.getYear(oe)),[ee,Ce]=ni({name:"YearCalendar",state:"hasFocus",controlled:I,default:o??!1}),Ae=Ue(Pe=>{Ce(Pe),D&&D(Pe)}),Be=x.useCallback(Pe=>{if(g&&Q.isBeforeYear(Pe,J)||m&&Q.isAfterYear(Pe,J)||b&&Q.isBeforeYear(Pe,b)||y&&Q.isAfterYear(Pe,y))return!0;if(!E)return!1;const W=Q.startOfYear(Pe);return E(W)},[m,g,y,b,J,E,Q]),ye=Ue((Pe,W)=>{if(v)return;const Oe=Q.setYear(L??oe,W);H(Oe)}),ie=Ue(Pe=>{Be(Q.setYear(L??oe,Pe))||(ae(Pe),Ae(!0),w==null||w(Pe))});x.useEffect(()=>{ae(Pe=>Ee!==null&&Pe!==Ee?Ee:Pe)},[Ee]);const le=T!=="desc"?R*1:R*-1,se=q&&T==="asc"||!q&&T==="desc"?-1:1,xe=Ue((Pe,W)=>{switch(Pe.key){case"ArrowUp":ie(W-le),Pe.preventDefault();break;case"ArrowDown":ie(W+le),Pe.preventDefault();break;case"ArrowLeft":ie(W-se),Pe.preventDefault();break;case"ArrowRight":ie(W+se),Pe.preventDefault();break}}),fe=Ue((Pe,W)=>{ie(W)}),ke=Ue((Pe,W)=>{be===W&&Ae(!1)}),ne=x.useRef(null),_e=ir(r,ne);x.useEffect(()=>{if(o||ne.current===null)return;const Pe=ne.current.querySelector('[tabindex="0"]');if(!Pe)return;const W=Pe.offsetHeight,Oe=Pe.offsetTop,ze=ne.current.clientHeight,Cn=ne.current.scrollTop,Zt=Oe+W;W>ze||Oe<Cn||(ne.current.scrollTop=Zt-ze/2-W/2)},[o]);const ce=Q.getYearRange([b,y]);T==="desc"&&ce.reverse();let Se=R-ce.length%R;return Se===R&&(Se=0),t.jsxs(SY,U({ref:_e,className:nn(V.root,i),ownerState:Y,role:"radiogroup","aria-labelledby":k,yearsPerRow:R},G,{children:[ce.map(Pe=>{const W=Q.getYear(Pe),Oe=W===Ee,ze=f||Be(Pe);return t.jsx(bY,{selected:Oe,value:W,onClick:ye,onKeyDown:xe,autoFocus:ee&&W===be,disabled:ze,tabIndex:W===be&&!ze?0:-1,onFocus:fe,onBlur:ke,"aria-current":Z===W?"date":void 0,slots:N,slotProps:$,classes:l,children:Q.format(Pe,"year")},Q.format(Pe,"year"))}),Array.from({length:Se},(Pe,W)=>t.jsx(wY,{},W))]}))}),PY=e=>un("MuiPickersCalendarHeader",e),EY=pn("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),IY=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","classes","timezone","format"],DY=["ownerState"],TY=e=>Qt({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},PY,e),AY=Me("div",{name:"MuiPickersCalendarHeader",slot:"Root"})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),RY=Me("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer"})(({theme:e})=>U({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),kY=Me("div",{name:"MuiPickersCalendarHeader",slot:"Label"})({marginRight:6}),_Y=Me(Ne,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton"})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${EY.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),OY=Me(K8,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon"})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),MY=x.forwardRef(function(n,r){const s=Ps(),o=Ut(),i=Gt({props:n,name:"MuiPickersCalendarHeader"}),{slots:l,slotProps:d,currentMonth:u,disabled:h,disableFuture:f,disablePast:m,maxDate:g,minDate:y,onMonthChange:b,onViewChange:S,view:v,reduceAnimations:E,views:w,labelId:I,className:D,classes:T,timezone:R,format:_=`${o.formats.month} ${o.formats.year}`}=i,k=at(i,IY),{ownerState:N}=An(),$=TY(T),G=(l==null?void 0:l.switchViewButton)??_Y,L=$t({elementType:G,externalSlotProps:d==null?void 0:d.switchViewButton,additionalProps:{size:"small","aria-label":s.calendarViewSwitchingButtonAriaLabel(v)},ownerState:N,className:$.switchViewButton}),H=(l==null?void 0:l.switchViewIcon)??OY,K=$t({elementType:H,externalSlotProps:d==null?void 0:d.switchViewIcon,ownerState:N,className:$.switchViewIcon}),J=at(K,DY),q=()=>b(o.addMonths(u,1)),Q=()=>b(o.addMonths(u,-1)),Y=x9(u,{disableFuture:f,maxDate:g,timezone:R}),oe=g9(u,{disablePast:m,minDate:y,timezone:R}),V=()=>{if(!(w.length===1||!S||h))if(w.length===2)S(w.find(Ee=>Ee!==v)||w[0]);else{const Ee=w.indexOf(v)!==0?0:1;S(w[Ee])}};if(w.length===1&&w[0]==="year")return null;const Z=o.formatByString(u,_);return t.jsxs(AY,U({},k,{ownerState:N,className:nn($.root,D),ref:r,children:[t.jsxs(RY,{role:"presentation",onClick:V,ownerState:N,"aria-live":"polite",className:$.labelContainer,children:[t.jsx(tC,{reduceAnimations:E,transKey:Z,children:t.jsx(kY,{id:I,ownerState:N,className:$.label,children:Z})}),w.length>1&&!h&&t.jsx(G,U({},L,{children:t.jsx(H,U({},J))}))]}),t.jsx(Pd,{in:v==="day",appear:!E,enter:!E,children:t.jsx(d9,{slots:l,slotProps:d,onGoToPrevious:Q,isPreviousDisabled:oe,previousLabel:s.previousMonth,onGoToNext:q,isNextDisabled:Y,nextLabel:s.nextMonth})})]}))}),NY="@media (prefers-reduced-motion: reduce)",Va=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),yv=Va&&Va[1]?parseInt(Va[1],10):null,vv=Va&&Va[2]?parseInt(Va[2],10):null,LY=yv&&yv<10||vv&&vv<13||!1;function oC(e){const n=ml(NY,{defaultMatches:!1});return e??(n||LY)}const $Y=e=>un("MuiDateCalendar",e);pn("MuiDateCalendar",["root","viewTransitionContainer"]);const FY=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","classes","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"],BY=e=>Qt({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},$Y,e);function WY(e,n){const r=Gt({props:e,name:n}),s=oC(r.reduceAnimations),o=kx(r);return U({},r,o,{loading:r.loading??!1,openTo:r.openTo??"day",views:r.views??["year","day"],reduceAnimations:s,renderLoading:r.renderLoading??(()=>t.jsx("span",{children:"..."}))})}const VY=Me(wx,{name:"MuiDateCalendar",slot:"Root"})({display:"flex",flexDirection:"column",height:si}),UY=Me(tC,{name:"MuiDateCalendar",slot:"ViewTransitionContainer"})({}),zY=x.forwardRef(function(n,r){const s=Ut(),{ownerState:o}=An(),i=tu(),l=WY(n,"MuiDateCalendar"),{autoFocus:d,onViewChange:u,value:h,defaultValue:f,referenceDate:m,disableFuture:g,disablePast:y,onChange:b,onMonthChange:S,reduceAnimations:v,shouldDisableDate:E,shouldDisableMonth:w,shouldDisableYear:I,view:D,views:T,openTo:R,className:_,classes:k,disabled:N,readOnly:$,minDate:G,maxDate:L,disableHighlightToday:H,focusedView:K,onFocusedViewChange:J,showDaysOutsideCurrentMonth:q,fixedWeekNumber:Q,dayOfWeekFormatter:Y,slots:oe,slotProps:V,loading:Z,renderLoading:Ee,displayWeekNumber:be,yearsOrder:ae,yearsPerRow:ee,monthsPerRow:Ce,timezone:Ae}=l,Be=at(l,FY),{value:ye,handleValueChange:ie,timezone:le}=ma({name:"DateCalendar",timezone:Ae,value:h,defaultValue:f,referenceDate:m,onChange:b,valueManager:xr}),{view:se,setView:xe,focusedView:fe,setFocusedView:ke,goToNextView:ne,setValueAndGoToNextView:_e}=ru({view:D,views:T,openTo:R,onChange:ie,onViewChange:u,autoFocus:d,focusedView:K,onFocusedViewChange:J}),{referenceDate:ce,calendarState:Se,setVisibleDate:Pe,isDateDisabled:W,onMonthSwitchingAnimationEnd:Oe}=MG({value:ye,referenceDate:m,reduceAnimations:v,onMonthChange:S,minDate:G,maxDate:L,shouldDisableDate:E,disablePast:y,disableFuture:g,timezone:le,getCurrentMonthFromVisibleDate:(Et,kn)=>s.isSameMonth(Et,kn)?kn:s.startOfMonth(Et)}),ze=N&&ye||G,Cn=N&&ye||L,Zt=`${i}-grid-label`,Nt=fe!==null,hn=(oe==null?void 0:oe.calendarHeader)??MY,Wn=$t({elementType:hn,externalSlotProps:V==null?void 0:V.calendarHeader,additionalProps:{views:T,view:se,currentMonth:Se.currentMonth,onViewChange:xe,onMonthChange:Et=>Pe({target:Et,reason:"header-navigation"}),minDate:ze,maxDate:Cn,disabled:N,disablePast:y,disableFuture:g,reduceAnimations:v,timezone:le,labelId:Zt},ownerState:o}),ut=Ue(Et=>{const kn=s.startOfMonth(Et),Gn=s.endOfMonth(Et),Ir=W(Et)?fl({utils:s,date:Et,minDate:s.isBefore(G,kn)?kn:G,maxDate:s.isAfter(L,Gn)?Gn:L,disablePast:y,disableFuture:g,isDateDisabled:W,timezone:le}):Et;Ir?(_e(Ir,"finish"),Pe({target:Ir,reason:"cell-interaction"})):(ne(),Pe({target:kn,reason:"cell-interaction"}))}),bt=Ue(Et=>{const kn=s.startOfYear(Et),Gn=s.endOfYear(Et),Ir=W(Et)?fl({utils:s,date:Et,minDate:s.isBefore(G,kn)?kn:G,maxDate:s.isAfter(L,Gn)?Gn:L,disablePast:y,disableFuture:g,isDateDisabled:W,timezone:le}):Et;Ir?(_e(Ir,"finish"),Pe({target:Ir,reason:"cell-interaction"})):(ne(),Pe({target:kn,reason:"cell-interaction"}))}),kt=Ue(Et=>ie(Et&&bd(s,Et,ye??ce),"finish",se));x.useEffect(()=>{s.isValid(ye)&&Pe({target:ye,reason:"controlled-value-change"})},[ye]);const Yt=BY(k),Rn={disablePast:y,disableFuture:g,maxDate:L,minDate:G},mn={disableHighlightToday:H,readOnly:$,disabled:N,timezone:le,gridLabelId:Zt,slots:oe,slotProps:V},er=x.useRef(se);x.useEffect(()=>{er.current!==se&&(fe===er.current&&ke(se,!0),er.current=se)},[fe,ke,se]);const yn=x.useMemo(()=>[ye],[ye]);return t.jsxs(VY,U({ref:r,className:nn(Yt.root,_),ownerState:o},Be,{children:[t.jsx(hn,U({},Wn,{slots:oe,slotProps:V})),t.jsx(UY,{reduceAnimations:v,className:Yt.viewTransitionContainer,transKey:se,ownerState:o,children:t.jsxs("div",{children:[se==="year"&&t.jsx(CY,U({},Rn,mn,{value:ye,onChange:bt,shouldDisableYear:I,hasFocus:Nt,onFocusedViewChange:Et=>ke("year",Et),yearsOrder:ae,yearsPerRow:ee,referenceDate:ce})),se==="month"&&t.jsx(pY,U({},Rn,mn,{hasFocus:Nt,className:_,value:ye,onChange:ut,shouldDisableMonth:w,onFocusedViewChange:Et=>ke("month",Et),monthsPerRow:Ce,referenceDate:ce})),se==="day"&&t.jsx(oY,U({},Se,Rn,mn,{onMonthSwitchingAnimationEnd:Oe,hasFocus:Nt,onFocusedDayChange:Et=>Pe({target:Et,reason:"cell-interaction"}),reduceAnimations:v,selectedDays:yn,onSelectedDaysChange:kt,shouldDisableDate:E,shouldDisableMonth:w,shouldDisableYear:I,onFocusedViewChange:Et=>ke("day",Et),showDaysOutsideCurrentMonth:q,fixedWeekNumber:Q,dayOfWeekFormatter:Y,displayWeekNumber:be,loading:Z,renderLoading:Ee}))]})})]}))});function aC(e){return un("MuiPickersToolbar",e)}const HY=pn("MuiPickersToolbar",["root","title","content"]);function iC(){const{ownerState:e}=An(),n=Fs();return x.useMemo(()=>U({},e,{toolbarDirection:n?"rtl":"ltr"}),[e,n])}const GY=["children","className","classes","toolbarTitle","hidden","titleId","classes","landscapeDirection"],YY=e=>Qt({root:["root"],title:["title"],content:["content"]},aC,e),qY=Me("div",{name:"MuiPickersToolbar",slot:"Root"})(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:e.spacing(2,3),variants:[{props:{pickerOrientation:"landscape"},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),KY=Me("div",{name:"MuiPickersToolbar",slot:"Content",shouldForwardProp:e=>ro(e)&&e!=="landscapeDirection"})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{pickerOrientation:"landscape"},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{pickerOrientation:"landscape",landscapeDirection:"row"},style:{flexDirection:"row"}}]}),JY=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersToolbar"}),{children:o,className:i,classes:l,toolbarTitle:d,hidden:u,titleId:h,landscapeDirection:f}=s,m=at(s,GY),g=iC(),y=YY(l);return u?null:t.jsxs(qY,U({ref:r,className:nn(y.root,i),ownerState:g},m,{children:[t.jsx(j,{color:"text.secondary",variant:"overline",id:h,className:y.title,children:d}),t.jsx(KY,{className:y.content,ownerState:g,landscapeDirection:f,children:o})]}))});function XY(e){return un("MuiPickerPopper",e)}pn("MuiPickerPopper",["root","paper"]);const QY=["PaperComponent","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],ZY=e=>Qt({root:["root"],paper:["paper"]},XY,e),eq=Me(FR,{name:"MuiPickerPopper",slot:"Root"})(({theme:e})=>({zIndex:e.zIndex.modal})),tq=Me(ot,{name:"MuiPickerPopper",slot:"Paper"})({outline:0,transformOrigin:"top center",variants:[{props:({popperPlacement:e})=>["top","top-start","top-end"].includes(e),style:{transformOrigin:"bottom center"}}]});function nq(e,n){return n.documentElement.clientWidth<e.clientX||n.documentElement.clientHeight<e.clientY}function rq(e,n){const r=x.useRef(!1),s=x.useRef(!1),o=x.useRef(null),i=x.useRef(!1);x.useEffect(()=>{if(!e)return;function u(){i.current=!0}return document.addEventListener("mousedown",u,!0),document.addEventListener("touchstart",u,!0),()=>{document.removeEventListener("mousedown",u,!0),document.removeEventListener("touchstart",u,!0),i.current=!1}},[e]);const l=Ue(u=>{if(!i.current)return;const h=s.current;s.current=!1;const f=rf(o.current);if(!o.current||"clientX"in u&&nq(u,f))return;if(r.current){r.current=!1;return}let m;u.composedPath?m=u.composedPath().indexOf(o.current)>-1:m=!f.documentElement.contains(u.target)||o.current.contains(u.target),!m&&!h&&n(u)}),d=()=>{s.current=!0};return x.useEffect(()=>{if(e){const u=rf(o.current),h=()=>{r.current=!0};return u.addEventListener("touchstart",l),u.addEventListener("touchmove",h),()=>{u.removeEventListener("touchstart",l),u.removeEventListener("touchmove",h)}}},[e,l]),x.useEffect(()=>{if(e){const u=rf(o.current);return u.addEventListener("click",l),()=>{u.removeEventListener("click",l),s.current=!1}}},[e,l]),[o,d,d]}const sq=x.forwardRef((e,n)=>{const{PaperComponent:r,ownerState:s,children:o,paperSlotProps:i,paperClasses:l,onPaperClick:d,onPaperTouchStart:u}=e,h=at(e,QY),f=$t({elementType:r,externalSlotProps:i,additionalProps:{tabIndex:-1,elevation:8,ref:n},className:l,ownerState:s});return t.jsx(r,U({},h,f,{onClick:m=>{var g;d(m),(g=f.onClick)==null||g.call(f,m)},onTouchStart:m=>{var g;u(m),(g=f.onTouchStart)==null||g.call(f,m)},ownerState:s,children:o}))});function oq(e){const n=Gt({props:e,name:"MuiPickerPopper"}),{children:r,placement:s="bottom-start",slots:o,slotProps:i,classes:l}=n,{open:d,popupRef:u,reduceAnimations:h}=Mo(),{dismissViews:f,getCurrentViewMode:m,onPopperExited:g,triggerElement:y,viewContainerRole:b}=An();x.useEffect(()=>{function Q(Y){d&&Y.key==="Escape"&&f()}return document.addEventListener("keydown",Q),()=>{document.removeEventListener("keydown",Q)}},[f,d]);const S=x.useRef(null);x.useEffect(()=>{b==="tooltip"||m()==="field"||(d?S.current=Xn(document):S.current&&S.current instanceof HTMLElement&&setTimeout(()=>{S.current instanceof HTMLElement&&S.current.focus()}))},[d,b,m]);const v=ZY(l),{ownerState:E,rootRefObject:w}=An(),I=U({},E,{popperPlacement:s}),D=Ue(()=>{b==="tooltip"?$9(()=>{var Q,Y;(Q=w.current)!=null&&Q.contains(Xn(document))||(Y=u.current)!=null&&Y.contains(Xn(document))||f()}):f()}),[T,R,_]=rq(d,D),k=x.useRef(null),N=ir(k,u),$=ir(N,T),G=Q=>{Q.key==="Escape"&&(Q.stopPropagation(),f())},L=(o==null?void 0:o.desktopTransition)??h?Pd:BR,H=(o==null?void 0:o.desktopTrapFocus)??WR,K=(o==null?void 0:o.desktopPaper)??tq,J=(o==null?void 0:o.popper)??eq,q=$t({elementType:J,externalSlotProps:i==null?void 0:i.popper,additionalProps:{transition:!0,role:b??void 0,open:d,placement:s,anchorEl:y,onKeyDown:G},className:v.root,ownerState:I});return t.jsx(J,U({},q,{children:({TransitionProps:Q})=>t.jsx(H,U({open:d,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:b==="tooltip",isEnabled:()=>!0},i==null?void 0:i.desktopTrapFocus,{children:t.jsx(L,U({},Q,i==null?void 0:i.desktopTransition,{onExited:Y=>{var oe,V,Z;g==null||g(),(V=(oe=i==null?void 0:i.desktopTransition)==null?void 0:oe.onExited)==null||V.call(oe,Y),(Z=Q==null?void 0:Q.onExited)==null||Z.call(Q)},children:t.jsx(sq,{PaperComponent:K,ownerState:I,ref:$,onPaperClick:R,onPaperTouchStart:_,paperClasses:v.paper,paperSlotProps:i==null?void 0:i.desktopPaper,children:r})}))}))}))}function jv(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}function aq(e,n){const[r,s]=x.useState(jv);return as(()=>{const o=()=>{s(jv())};return window.addEventListener("orientationchange",o),()=>{window.removeEventListener("orientationchange",o)}},[]),L9(e,["hours","minutes","seconds"])?"portrait":n??r}function iq(e){const{props:n,valueManager:r,validator:s}=e,{value:o,defaultValue:i,onChange:l,referenceDate:d,timezone:u,onAccept:h,closeOnSelect:f,open:m,onOpen:g,onClose:y}=n,{current:b}=x.useRef(i),{current:S}=x.useRef(o!==void 0),{current:v}=x.useRef(m!==void 0),E=Ut(),{timezone:w,value:I,handleValueChange:D}=ma({name:"a picker component",timezone:u,value:o,defaultValue:b,referenceDate:d,onChange:l,valueManager:r}),[T,R]=x.useState(()=>({open:!1,lastExternalValue:I,clockShallowValue:void 0,lastCommittedValue:I,hasBeenModifiedSinceMount:!1})),{getValidationErrorForNewValue:_}=$1({props:n,validator:s,timezone:w,value:I,onError:n.onError}),k=Ue(L=>{const H=typeof L=="function"?L(T.open):L;v||R(K=>U({},K,{open:H})),H&&g&&g(),H||y==null||y()}),N=Ue((L,H)=>{const{changeImportance:K="accept",skipPublicationIfPristine:J=!1,validationError:q,shortcut:Q,shouldClose:Y=K==="accept"}=H??{};let oe,V;!J&&!S&&!T.hasBeenModifiedSinceMount?(oe=!0,V=K==="accept"):(oe=!r.areValuesEqual(E,L,I),V=K==="accept"&&!r.areValuesEqual(E,L,T.lastCommittedValue)),R(be=>U({},be,{clockShallowValue:oe?void 0:be.clockShallowValue,lastCommittedValue:V?I:be.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let Z=null;const Ee=()=>(Z||(Z={validationError:q??_(L)},Q&&(Z.shortcut=Q)),Z);oe&&D(L,Ee()),V&&h&&h(L,Ee()),Y&&k(!1)});I!==T.lastExternalValue&&R(L=>U({},L,{lastExternalValue:I,clockShallowValue:void 0,hasBeenModifiedSinceMount:!0}));const $=Ue((L,H="partial")=>{if(H==="shallow"){R(K=>U({},K,{clockShallowValue:L,hasBeenModifiedSinceMount:!0}));return}N(L,{changeImportance:H==="finish"&&f?"accept":"set"})});x.useEffect(()=>{if(v){if(m===void 0)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");R(L=>U({},L,{open:m}))}},[v,m]);const G=x.useMemo(()=>r.cleanValue(E,T.clockShallowValue===void 0?I:T.clockShallowValue),[E,r,T.clockShallowValue,I]);return{timezone:w,state:T,setValue:N,setValueFromView:$,setOpen:k,value:I,viewValue:G}}const lq=["className","sx"],lC=({ref:e,props:n,valueManager:r,valueType:s,variant:o,validator:i,onPopperExited:l,autoFocusView:d,rendererInterceptor:u,localeText:h,viewContainerRole:f,getStepNavigation:m})=>{const{views:g,view:y,openTo:b,onViewChange:S,viewRenderers:v,reduceAnimations:E,orientation:w,disableOpenPicker:I,closeOnSelect:D,disabled:T,readOnly:R,formatDensity:_,enableAccessibleFieldDOMStructure:k,selectedSections:N,onSelectedSectionsChange:$,format:G,label:L,autoFocus:H,name:K}=n,{className:J,sx:q}=n,Q=at(n,lq),Y=tu(),oe=Ut(),V=pa(),Z=oC(E),Ee=aq(g,w),{current:be}=x.useRef(b??null),[ae,ee]=x.useState(null),Ce=x.useRef(null),Ae=x.useRef(null),Be=x.useRef(null),ye=ir(e,Be),{timezone:ie,state:le,setOpen:se,setValue:xe,setValueFromView:fe,value:ke,viewValue:ne}=iq({props:n,valueManager:r,validator:i}),{view:_e,setView:ce,defaultView:Se,focusedView:Pe,setFocusedView:W,setValueAndGoToNextView:Oe,goToNextStep:ze,hasNextStep:Cn,hasSeveralSteps:Zt}=ru({view:y,views:g,openTo:b,onChange:fe,onViewChange:S,autoFocus:d,getStepNavigation:m}),Nt=Ue(()=>xe(r.emptyValue)),hn=Ue(()=>xe(r.getTodayValue(oe,ie,s))),Wn=Ue(()=>xe(ke)),ut=Ue(()=>xe(le.lastCommittedValue,{skipPublicationIfPristine:!0})),bt=Ue(()=>{xe(ke,{skipPublicationIfPristine:!0})}),{hasUIView:kt,viewModeLookup:Yt,timeViewsCount:Rn}=x.useMemo(()=>g.reduce((vn,Dr)=>{const Il=v[Dr]==null?"field":"UI";return vn.viewModeLookup[Dr]=Il,Il==="UI"&&(vn.hasUIView=!0,ul(Dr)&&(vn.timeViewsCount+=1)),vn},{hasUIView:!1,viewModeLookup:{},timeViewsCount:0}),[v,g]),mn=Yt[_e],er=Ue(()=>mn),[yn,Et]=x.useState(mn==="UI"?_e:null);yn!==_e&&Yt[_e]==="UI"&&Et(_e),as(()=>{mn==="field"&&le.open&&(se(!1),setTimeout(()=>{var vn,Dr;(vn=Ae==null?void 0:Ae.current)==null||vn.setSelectedSections(_e),(Dr=Ae==null?void 0:Ae.current)==null||Dr.focusField(_e)}))},[_e]),as(()=>{if(!le.open)return;let vn=_e;mn==="field"&&yn!=null&&(vn=yn),vn!==Se&&Yt[vn]==="UI"&&Yt[Se]==="UI"&&(vn=Se),vn!==_e&&ce(vn),W(vn,!0)},[le.open]);const kn=x.useMemo(()=>({isPickerValueEmpty:r.areValuesEqual(oe,ke,r.emptyValue),isPickerOpen:le.open,isPickerDisabled:n.disabled??!1,isPickerReadOnly:n.readOnly??!1,pickerOrientation:Ee,pickerVariant:o}),[oe,r,ke,le.open,Ee,o,n.disabled,n.readOnly]),Gn=x.useMemo(()=>I||!kt?"hidden":T||R?"disabled":"enabled",[I,kt,T,R]),Ir=Ue(ze),Lo=x.useMemo(()=>D&&!Zt?[]:["cancel","nextOrAccept"],[D,Zt]),lr=x.useMemo(()=>({setValue:xe,setOpen:se,clearValue:Nt,setValueToToday:hn,acceptValueChanges:Wn,cancelValueChanges:ut,setView:ce,goToNextStep:Ir}),[xe,se,Nt,hn,Wn,ut,ce,Ir]),cu=x.useMemo(()=>U({},lr,{value:ke,timezone:ie,open:le.open,views:g,view:yn,initialView:be,disabled:T??!1,readOnly:R??!1,autoFocus:H??!1,variant:o,orientation:Ee,popupRef:Ce,reduceAnimations:Z,triggerRef:ee,triggerStatus:Gn,hasNextStep:Cn,fieldFormat:G??"",name:K,label:L,rootSx:q,rootRef:ye,rootClassName:J}),[lr,ke,ye,o,Ee,Z,T,R,G,J,K,L,q,Gn,Cn,ie,le.open,yn,g,be,H]),du=x.useMemo(()=>({dismissViews:bt,ownerState:kn,hasUIView:kt,getCurrentViewMode:er,rootRefObject:Be,labelId:Y,triggerElement:ae,viewContainerRole:f,defaultActionBarActions:Lo,onPopperExited:l}),[bt,kn,kt,er,Y,ae,f,Lo,l]),uu=x.useMemo(()=>({formatDensity:_,enableAccessibleFieldDOMStructure:k,selectedSections:N,onSelectedSectionsChange:$,fieldRef:Ae}),[_,k,N,$,Ae]);return{providerProps:{localeText:h,contextValue:cu,privateContextValue:du,actionsContextValue:lr,fieldPrivateContextValue:uu,isValidContextValue:vn=>{const Dr=i({adapter:V,value:vn,timezone:ie,props:n});return!r.hasError(Dr)}},renderCurrentView:()=>{if(yn==null)return null;const vn=v[yn];if(vn==null)return null;const Dr=U({},Q,{views:g,timezone:ie,value:ne,onChange:Oe,view:yn,onViewChange:ce,showViewSwitcher:Rn>1,timeViewsCount:Rn},f==="tooltip"?{focusedView:null,onFocusedViewChange:()=>{}}:{focusedView:Pe,onFocusedViewChange:W});return u?t.jsx(u,{viewRenderers:v,popperView:yn,rendererProps:Dr}):vn(Dr)},ownerState:kn}};function cC(e){return un("MuiPickersLayout",e)}const ps=pn("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),cq=["actions"],dq=Me(Xt,{name:"MuiPickersLayout",slot:"ActionBar"})({});function uq(e){const{actions:n}=e,r=at(e,cq),s=Ps(),{clearValue:o,setValueToToday:i,acceptValueChanges:l,cancelValueChanges:d,goToNextStep:u,hasNextStep:h}=Mo();if(n==null||n.length===0)return null;const f=n==null?void 0:n.map(m=>{switch(m){case"clear":return t.jsx(he,{onClick:o,children:s.clearButtonLabel},m);case"cancel":return t.jsx(he,{onClick:d,children:s.cancelButtonLabel},m);case"accept":return t.jsx(he,{onClick:l,children:s.okButtonLabel},m);case"today":return t.jsx(he,{onClick:i,children:s.todayButtonLabel},m);case"next":return t.jsx(he,{onClick:u,children:s.nextStepButtonLabel},m);case"nextOrAccept":return h?t.jsx(he,{onClick:u,children:s.nextStepButtonLabel},m):t.jsx(he,{onClick:l,children:s.okButtonLabel},m);default:return null}});return t.jsx(dq,U({},r,{children:f}))}const hq=x.memo(uq),fq=["items","changeImportance"],pq=["getValue"],mq=Me(mr,{name:"MuiPickersLayout",slot:"Shortcuts"})({});function xq(e){const{items:n,changeImportance:r="accept"}=e,s=at(e,fq),{setValue:o}=v7(),i=r9();if(n==null||n.length===0)return null;const l=n.map(d=>{let{getValue:u}=d,h=at(d,pq);const f=u({isValid:i});return U({},h,{label:h.label,onClick:()=>{o(f,{changeImportance:r,shortcut:h})},disabled:!i(f)})});return t.jsx(mq,U({dense:!0,sx:[{maxHeight:si,maxWidth:200,overflow:"auto"},...Array.isArray(s.sx)?s.sx:[s.sx]]},s,{children:l.map(d=>t.jsx(or,{children:t.jsx(Qe,U({},d))},d.id??d.label))}))}const gq=["ownerState"];function bq(e){return e.view!==null}const yq=(e,n)=>{const{pickerOrientation:r}=n;return Qt({root:["root",r==="landscape"&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},cC,e)},dC=e=>{const{ownerState:n,defaultActionBarActions:r}=An(),{view:s}=Mo(),o=Fs(),{children:i,slots:l,slotProps:d,classes:u}=e,h=x.useMemo(()=>U({},n,{layoutDirection:o?"rtl":"ltr"}),[n,o]),f=yq(u,h),m=(l==null?void 0:l.actionBar)??hq,g=$t({elementType:m,externalSlotProps:d==null?void 0:d.actionBar,additionalProps:{actions:r},className:f.actionBar,ownerState:h}),y=at(g,gq),b=t.jsx(m,U({},y)),S=l==null?void 0:l.toolbar,v=$t({elementType:S,externalSlotProps:d==null?void 0:d.toolbar,className:f.toolbar,ownerState:h}),E=bq(v)&&S?t.jsx(S,U({},v)):null,w=i,I=l==null?void 0:l.tabs,D=s&&I?t.jsx(I,U({className:f.tabs},d==null?void 0:d.tabs)):null,T=(l==null?void 0:l.shortcuts)??xq,R=$t({elementType:T,externalSlotProps:d==null?void 0:d.shortcuts,className:f.shortcuts,ownerState:h}),_=s&&T?t.jsx(T,U({},R)):null;return{toolbar:E,content:w,tabs:D,actionBar:b,shortcuts:_,ownerState:h}},vq=(e,n)=>{const{pickerOrientation:r}=n;return Qt({root:["root",r==="landscape"&&"landscape"],contentWrapper:["contentWrapper"]},cC,e)},uC=Me("div",{name:"MuiPickersLayout",slot:"Root"})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${ps.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{pickerOrientation:"landscape"},style:{[`& .${ps.toolbar}`]:{gridColumn:1,gridRow:"2 / 3"},[`.${ps.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{pickerOrientation:"landscape",layoutDirection:"rtl"},style:{[`& .${ps.toolbar}`]:{gridColumn:3}}},{props:{pickerOrientation:"portrait"},style:{[`& .${ps.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${ps.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{pickerOrientation:"portrait",layoutDirection:"rtl"},style:{[`& .${ps.shortcuts}`]:{gridColumn:3}}}]}),hC=Me("div",{name:"MuiPickersLayout",slot:"ContentWrapper"})({gridColumn:"2 / 4",gridRow:2,display:"flex",flexDirection:"column"}),fC=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersLayout"}),{toolbar:o,content:i,tabs:l,actionBar:d,shortcuts:u,ownerState:h}=dC(s),{orientation:f,variant:m}=Mo(),{sx:g,className:y,classes:b}=s,S=vq(b,h);return t.jsxs(uC,{ref:r,sx:g,className:nn(S.root,y),ownerState:h,children:[f==="landscape"?u:o,f==="landscape"?o:u,t.jsx(hC,{className:S.contentWrapper,ownerState:h,children:m==="desktop"?t.jsxs(x.Fragment,{children:[i,l]}):t.jsxs(x.Fragment,{children:[l,i]})}),d]})});function pC(e){const{steps:n}=e;return m9({steps:n,isViewMatchingStep:(r,s)=>s.views==null||s.views.includes(r),onStepChange:({step:r,defaultView:s,setView:o,view:i,views:l})=>{const d=r.views==null?s:r.views.find(u=>l.includes(u));d!==i&&o(d)}})}const jq=["props","steps"],Sq=["ownerState"],wq=e=>{var R;let{props:n,steps:r}=e,s=at(e,jq);const{slots:o,slotProps:i,label:l,inputRef:d,localeText:u}=n,h=pC({steps:r}),{providerProps:f,renderCurrentView:m,ownerState:g}=lC(U({},s,{props:n,localeText:u,autoFocusView:!0,viewContainerRole:"dialog",variant:"desktop",getStepNavigation:h})),y=f.privateContextValue.labelId,b=((R=i==null?void 0:i.toolbar)==null?void 0:R.hidden)??!1,S=o.field,v=$t({elementType:S,externalSlotProps:i==null?void 0:i.field,additionalProps:U({},b&&{id:y}),ownerState:g}),E=at(v,Sq),w=o.layout??fC;let I=y;b&&(l?I=`${y}-label`:I=void 0);const D=U({},i,{toolbar:U({},i==null?void 0:i.toolbar,{titleId:y}),popper:U({"aria-labelledby":I},i==null?void 0:i.popper)});return{renderPicker:()=>t.jsx(y1,U({},f,{children:t.jsxs(Q1,{slots:o,slotProps:D,inputRef:d,children:[t.jsx(S,U({},E)),t.jsx(oq,{slots:o,slotProps:D,children:t.jsx(w,U({},D==null?void 0:D.layout,{slots:o,slotProps:D,children:m()}))})]})}))}},Ua=({view:e,onViewChange:n,views:r,focusedView:s,onFocusedViewChange:o,value:i,defaultValue:l,referenceDate:d,onChange:u,className:h,classes:f,disableFuture:m,disablePast:g,minDate:y,maxDate:b,shouldDisableDate:S,shouldDisableMonth:v,shouldDisableYear:E,reduceAnimations:w,onMonthChange:I,monthsPerRow:D,onYearChange:T,yearsOrder:R,yearsPerRow:_,slots:k,slotProps:N,loading:$,renderLoading:G,disableHighlightToday:L,readOnly:H,disabled:K,showDaysOutsideCurrentMonth:J,dayOfWeekFormatter:q,sx:Q,autoFocus:Y,fixedWeekNumber:oe,displayWeekNumber:V,timezone:Z})=>t.jsx(zY,{view:e,onViewChange:n,views:r.filter(oi),focusedView:s&&oi(s)?s:null,onFocusedViewChange:o,value:i,defaultValue:l,referenceDate:d,onChange:u,className:h,classes:f,disableFuture:m,disablePast:g,minDate:y,maxDate:b,shouldDisableDate:S,shouldDisableMonth:v,shouldDisableYear:E,reduceAnimations:w,onMonthChange:I,monthsPerRow:D,onYearChange:T,yearsOrder:R,yearsPerRow:_,slots:k,slotProps:N,loading:$,renderLoading:G,disableHighlightToday:L,readOnly:H,disabled:K,showDaysOutsideCurrentMonth:J,dayOfWeekFormatter:q,sx:Q,autoFocus:Y,fixedWeekNumber:oe,displayWeekNumber:V,timezone:Z}),Cq=Me(Kt)({[`& .${hy.container}`]:{outline:0},[`& .${hy.paper}`]:{outline:0,minWidth:ri}}),Pq=Me(Jt)({"&:first-of-type":{padding:0}});function Eq(e){const{children:n,slots:r,slotProps:s}=e,{open:o}=Mo(),{dismissViews:i,onPopperExited:l}=An(),d=(r==null?void 0:r.dialog)??Cq,u=(r==null?void 0:r.mobileTransition)??Pd;return t.jsx(d,U({open:o,onClose:()=>{i(),l==null||l()}},s==null?void 0:s.dialog,{TransitionComponent:u,TransitionProps:s==null?void 0:s.mobileTransition,PaperComponent:r==null?void 0:r.mobilePaper,PaperProps:s==null?void 0:s.mobilePaper,children:t.jsx(Pq,{children:n})}))}const Iq=["props","steps"],Dq=["ownerState"],Tq=e=>{var R;let{props:n,steps:r}=e,s=at(e,Iq);const{slots:o,slotProps:i,label:l,inputRef:d,localeText:u}=n,h=pC({steps:r}),{providerProps:f,renderCurrentView:m,ownerState:g}=lC(U({},s,{props:n,localeText:u,autoFocusView:!0,viewContainerRole:"dialog",variant:"mobile",getStepNavigation:h})),y=f.privateContextValue.labelId,b=((R=i==null?void 0:i.toolbar)==null?void 0:R.hidden)??!1,S=o.field,v=$t({elementType:S,externalSlotProps:i==null?void 0:i.field,additionalProps:U({},b&&{id:y}),ownerState:g}),E=at(v,Dq),w=o.layout??fC;let I=y;b&&(l?I=`${y}-label`:I=void 0);const D=U({},i,{toolbar:U({},i==null?void 0:i.toolbar,{titleId:y}),mobilePaper:U({"aria-labelledby":I},i==null?void 0:i.mobilePaper)});return{renderPicker:()=>t.jsx(y1,U({},f,{children:t.jsxs(Q1,{slots:o,slotProps:D,inputRef:d,children:[t.jsx(S,U({},E)),t.jsx(Eq,{slots:o,slotProps:D,children:t.jsx(w,U({},D==null?void 0:D.layout,{slots:o,slotProps:D,children:m()}))})]})}))}};function Aq(e){return un("MuiPickersToolbarText",e)}const Rq=pn("MuiPickersToolbarText",["root"]),kq=["className","classes","selected","value"],_q=e=>Qt({root:["root"]},Aq,e),Oq=Me(j,{name:"MuiPickersToolbarText",slot:"Root"})(({theme:e})=>({transition:e.transitions.create("color"),color:(e.vars||e).palette.text.secondary,"&[data-selected]":{color:(e.vars||e).palette.text.primary}})),mC=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersToolbarText"}),{className:o,classes:i,selected:l,value:d}=s,u=at(s,kq),h=_q(i);return t.jsx(Oq,U({ref:r,className:nn(h.root,o),component:"span",ownerState:s},l&&{"data-selected":!0},u,{children:d}))}),Mq=["align","className","classes","selected","typographyClassName","value","variant","width"],Nq=e=>Qt({root:["root"]},aC,e),Lq=Me(he,{name:"MuiPickersToolbarButton",slot:"Root"})({padding:0,minWidth:16,textTransform:"none"}),vo=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiPickersToolbarButton"}),{align:o,className:i,classes:l,selected:d,typographyClassName:u,value:h,variant:f,width:m}=s,g=at(s,Mq),y=Nq(l);return t.jsx(Lq,U({variant:"text",ref:r,className:nn(y.root,i),ownerState:s},m?{sx:{width:m}}:{},g,{children:t.jsx(mC,{align:o,className:u,variant:f,value:h,selected:d})}))}),xC=({view:e,onViewChange:n,focusedView:r,onFocusedViewChange:s,views:o,value:i,defaultValue:l,referenceDate:d,onChange:u,className:h,classes:f,disableFuture:m,disablePast:g,minTime:y,maxTime:b,shouldDisableTime:S,minutesStep:v,ampm:E,slots:w,slotProps:I,readOnly:D,disabled:T,sx:R,autoFocus:_,disableIgnoringDatePartForTimeValidation:k,timeSteps:N,skipDisabled:$,timezone:G})=>t.jsx(G9,{view:e,onViewChange:n,focusedView:r&&ul(r)?r:null,onFocusedViewChange:s,views:o.filter(ul),value:i,defaultValue:l,referenceDate:d,onChange:u,className:h,classes:f,disableFuture:m,disablePast:g,minTime:y,maxTime:b,shouldDisableTime:S,minutesStep:v,ampm:E,slots:w,slotProps:I,readOnly:D,disabled:T,sx:R,autoFocus:_,disableIgnoringDatePartForTimeValidation:k,timeStep:N==null?void 0:N.minutes,skipDisabled:$,timezone:G}),jd=({view:e,onViewChange:n,focusedView:r,onFocusedViewChange:s,views:o,value:i,defaultValue:l,referenceDate:d,onChange:u,className:h,classes:f,disableFuture:m,disablePast:g,minTime:y,maxTime:b,shouldDisableTime:S,minutesStep:v,ampm:E,slots:w,slotProps:I,readOnly:D,disabled:T,sx:R,autoFocus:_,disableIgnoringDatePartForTimeValidation:k,timeSteps:N,skipDisabled:$,timezone:G})=>t.jsx(s7,{view:e,onViewChange:n,focusedView:r&&Ma(r)?r:null,onFocusedViewChange:s,views:o.filter(ul),value:i,defaultValue:l,referenceDate:d,onChange:u,className:h,classes:f,disableFuture:m,disablePast:g,minTime:y,maxTime:b,shouldDisableTime:S,minutesStep:v,ampm:E,slots:w,slotProps:I,readOnly:D,disabled:T,sx:R,autoFocus:_,disableIgnoringDatePartForTimeValidation:k,timeSteps:N,skipDisabled:$,timezone:G}),$q=["views","format"],gC=(e,n,r)=>{let{views:s,format:o}=n,i=at(n,$q);if(o)return o;const l=[],d=[];if(s.forEach(f=>{ul(f)?d.push(f):oi(f)&&l.push(f)}),d.length===0)return av(e,U({views:l},i));if(l.length===0)return ov(e,U({views:d},i));const u=ov(e,U({views:d},i));return`${av(e,U({views:l},i))} ${u}`},Fq=(e,n,r)=>r?n.filter(s=>!Ma(s)||s==="hours"):e?[...n,"meridiem"]:n,Bq=(e,n)=>24*60/((e.hours??1)*(e.minutes??5))<=n;function Wq({thresholdToRenderTimeInASingleColumn:e,ampm:n,timeSteps:r,views:s}){const o=e??24,i=U({hours:1,minutes:5,seconds:5},r),l=Bq(i,o);return{thresholdToRenderTimeInASingleColumn:o,timeSteps:i,shouldRenderTimeInASingleColumn:l,views:Fq(n,s,l)}}function Vq(e){return un("MuiDateTimePickerTabs",e)}pn("MuiDateTimePickerTabs",["root"]);const Uq=e=>oi(e)?"date":"time",zq=e=>e==="date"?"day":"hours",Hq=e=>Qt({root:["root"]},Vq,e),Gq=Me($s,{name:"MuiDateTimePickerTabs",slot:"Root"})(({theme:e})=>({boxShadow:`0 -1px 0 0 inset ${(e.vars||e).palette.divider}`,"&:last-child":{boxShadow:`0 1px 0 0 inset ${(e.vars||e).palette.divider}`,[`& .${VR.indicator}`]:{bottom:"auto",top:0}}})),Yq=function(n){const r=Gt({props:n,name:"MuiDateTimePickerTabs"}),{dateIcon:s=t.jsx(Z8,{}),timeIcon:o=t.jsx(e9,{}),hidden:i=typeof window>"u"||window.innerHeight<667,className:l,classes:d,sx:u}=r,h=Ps(),{ownerState:f}=An(),{view:m,setView:g}=Mo(),y=Hq(d),b=(S,v)=>{g(zq(v))};return i?null:t.jsxs(Gq,{ownerState:f,variant:"fullWidth",value:Uq(m),onChange:b,className:nn(l,y.root),sx:u,children:[t.jsx(Mn,{value:"date","aria-label":h.dateTableLabel,icon:t.jsx(x.Fragment,{children:s})}),t.jsx(Mn,{value:"time","aria-label":h.timeTableLabel,icon:t.jsx(x.Fragment,{children:o})})]})};function qq(e){return un("MuiDateTimePickerToolbar",e)}const sf=pn("MuiDateTimePickerToolbar",["root","dateContainer","timeContainer","timeDigitsContainer","separator","timeLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),Kq=["ampm","ampmInClock","toolbarFormat","toolbarPlaceholder","toolbarTitle","className","classes"],Jq=(e,n)=>{const{pickerOrientation:r,toolbarDirection:s}=n;return Qt({root:["root"],dateContainer:["dateContainer"],timeContainer:["timeContainer",s==="rtl"&&"timeLabelReverse"],timeDigitsContainer:["timeDigitsContainer",s==="rtl"&&"timeLabelReverse"],separator:["separator"],ampmSelection:["ampmSelection",r==="landscape"&&"ampmLandscape"],ampmLabel:["ampmLabel"]},qq,e)},Xq=Me(JY,{name:"MuiDateTimePickerToolbar",slot:"Root",shouldForwardProp:e=>ro(e)&&e!=="toolbarVariant"})(({theme:e})=>({paddingLeft:16,paddingRight:16,justifyContent:"space-around",position:"relative",variants:[{props:{toolbarVariant:"desktop"},style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,[`& .${HY.content} .${Rq.root}[data-selected]`]:{color:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightBold}}},{props:{toolbarVariant:"desktop",pickerOrientation:"landscape"},style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:{toolbarVariant:"desktop",pickerOrientation:"portrait"},style:{paddingLeft:24,paddingRight:0}}]})),Qq=Me("div",{name:"MuiDateTimePickerToolbar",slot:"DateContainer"})({display:"flex",flexDirection:"column",alignItems:"flex-start"}),Zq=Me("div",{name:"MuiDateTimePickerToolbar",slot:"TimeContainer",shouldForwardProp:e=>ro(e)&&e!=="toolbarVariant"})({display:"flex",flexDirection:"row",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop",pickerOrientation:"portrait"},style:{gap:9,marginRight:4,alignSelf:"flex-end"}},{props:({pickerOrientation:e,toolbarVariant:n})=>e==="landscape"&&n!=="desktop",style:{flexDirection:"column"}},{props:({pickerOrientation:e,toolbarVariant:n,toolbarDirection:r})=>e==="landscape"&&n!=="desktop"&&r==="rtl",style:{flexDirection:"column-reverse"}}]}),eK=Me("div",{name:"MuiDateTimePickerToolbar",slot:"TimeDigitsContainer",shouldForwardProp:e=>ro(e)&&e!=="toolbarVariant"})({display:"flex",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop"},style:{gap:1.5}}]}),Sv=Me(mC,{name:"MuiDateTimePickerToolbar",slot:"Separator",shouldForwardProp:e=>ro(e)&&e!=="toolbarVariant"})({margin:"0 4px 0 2px",cursor:"default",variants:[{props:{toolbarVariant:"desktop"},style:{margin:0}}]}),tK=Me("div",{name:"MuiDateTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(e,n)=>[{[`.${sf.ampmLabel}`]:n.ampmLabel},{[`&.${sf.ampmLandscape}`]:n.ampmLandscape},n.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${sf.ampmLabel}`]:{fontSize:17},variants:[{props:{pickerOrientation:"landscape"},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",width:"100%"}}]}),nK=x.createContext(null);function rK(e){const n=Gt({props:e,name:"MuiDateTimePickerToolbar"}),{ampm:r,ampmInClock:s,toolbarFormat:o,toolbarPlaceholder:i="",toolbarTitle:l,className:d,classes:u}=n,h=at(n,Kq),{value:f,setValue:m,disabled:g,readOnly:y,variant:b,orientation:S,view:v,setView:E,views:w}=Mo(),I=Ps(),D=iC(),T=Jq(u,D),R=Ut(),_=x.useContext(nK),k=_?_.value:f,N=_?_.setValue:m,$=_?_.view:v,G=_?_.setView:E,{meridiemMode:L,handleMeridiemChange:H}=S1(k,r,V=>N(V,{changeImportance:"set"})),K=_!=null&&_.forceDesktopVariant?"desktop":b,J=K==="desktop",q=!!(r&&!s),Q=l??I.dateTimePickerToolbarTitle,Y=x.useMemo(()=>R.isValid(k)?o?R.formatByString(k,o):R.format(k,"shortDate"):i,[k,o,i,R]),oe=(V,Z)=>R.isValid(k)?R.format(k,V):Z;return t.jsxs(Xq,U({className:nn(T.root,d),toolbarTitle:Q,toolbarVariant:K},h,{ownerState:D,children:[t.jsxs(Qq,{className:T.dateContainer,ownerState:D,children:[w.includes("year")&&t.jsx(vo,{tabIndex:-1,variant:"subtitle1",onClick:()=>G("year"),selected:$==="year",value:oe("year","")}),w.includes("day")&&t.jsx(vo,{tabIndex:-1,variant:J?"h5":"h4",onClick:()=>G("day"),selected:$==="day",value:Y})]}),t.jsxs(Zq,{className:T.timeContainer,ownerState:D,toolbarVariant:K,children:[t.jsxs(eK,{className:T.timeDigitsContainer,ownerState:D,toolbarVariant:K,children:[w.includes("hours")&&t.jsxs(x.Fragment,{children:[t.jsx(vo,{variant:J?"h5":"h3",width:J&&S==="portrait"?Ui:void 0,onClick:()=>G("hours"),selected:$==="hours",value:oe(r?"hours12h":"hours24h","--")}),t.jsx(Sv,{variant:J?"h5":"h3",value:":",className:T.separator,ownerState:D,toolbarVariant:K}),t.jsx(vo,{variant:J?"h5":"h3",width:J&&S==="portrait"?Ui:void 0,onClick:()=>G("minutes"),selected:$==="minutes"||!w.includes("minutes")&&$==="hours",value:oe("minutes","--"),disabled:!w.includes("minutes")})]}),w.includes("seconds")&&t.jsxs(x.Fragment,{children:[t.jsx(Sv,{variant:J?"h5":"h3",value:":",className:T.separator,ownerState:D,toolbarVariant:K}),t.jsx(vo,{variant:J?"h5":"h3",width:J&&S==="portrait"?Ui:void 0,onClick:()=>G("seconds"),selected:$==="seconds",value:oe("seconds","--")})]})]}),q&&!J&&t.jsxs(tK,{className:T.ampmSelection,ownerState:D,children:[t.jsx(vo,{variant:"subtitle2",selected:L==="am",typographyClassName:T.ampmLabel,value:Ki(R,"am"),onClick:y?void 0:()=>H("am"),disabled:g}),t.jsx(vo,{variant:"subtitle2",selected:L==="pm",typographyClassName:T.ampmLabel,value:Ki(R,"pm"),onClick:y?void 0:()=>H("pm"),disabled:g})]}),r&&J&&t.jsx(vo,{variant:"h5",onClick:()=>G("meridiem"),selected:$==="meridiem",value:k&&L?Ki(R,L):"--",width:Ui})]})]}))}function bC(e,n){var y;const r=Ut(),s=Gt({props:e,name:n}),o=V1(s),i=s.ampm??r.is12HourCycleInCurrentLocale(),l=x.useMemo(()=>{var b;return((b=s.localeText)==null?void 0:b.toolbarTitle)==null?s.localeText:U({},s.localeText,{dateTimePickerToolbarTitle:s.localeText.toolbarTitle})},[s.localeText]),{openTo:d,views:u}=u9({views:s.views,openTo:s.openTo,defaultViews:["year","day","hours","minutes"],defaultOpenTo:"day"}),{shouldRenderTimeInASingleColumn:h,thresholdToRenderTimeInASingleColumn:f,views:m,timeSteps:g}=Wq({thresholdToRenderTimeInASingleColumn:s.thresholdToRenderTimeInASingleColumn,ampm:i,timeSteps:s.timeSteps,views:u});return U({},s,o,{timeSteps:g,openTo:d,shouldRenderTimeInASingleColumn:h,thresholdToRenderTimeInASingleColumn:f,views:m,ampm:i,localeText:l,orientation:s.orientation??"portrait",slots:U({toolbar:rK,tabs:Yq},s.slots),slotProps:U({},s.slotProps,{toolbar:U({ampm:i},(y=s.slotProps)==null?void 0:y.toolbar)})})}const sK=x.forwardRef(function(n,r){var b;const{toolbar:s,tabs:o,content:i,actionBar:l,shortcuts:d,ownerState:u}=dC(n),{orientation:h}=Mo(),{sx:f,className:m,classes:g}=n,y=l&&(((b=l.props.actions)==null?void 0:b.length)??0)>0;return t.jsxs(uC,{ref:r,className:nn(ps.root,g==null?void 0:g.root,m),sx:[{[`& .${ps.tabs}`]:{gridRow:4,gridColumn:"1 / 4"},[`& .${ps.actionBar}`]:{gridRow:5}},...Array.isArray(f)?f:[f]],ownerState:u,children:[h==="landscape"?d:s,h==="landscape"?s:d,t.jsxs(hC,{className:nn(ps.contentWrapper,g==null?void 0:g.contentWrapper),ownerState:u,sx:{display:"grid"},children:[i,o,y&&t.jsx(Mt,{sx:{gridRow:3,gridColumn:"1 / 4"}})]}),l]})}),oK=["openTo","focusedView","timeViewsCount"],aK=function(n){var y,b;const{viewRenderers:r,popperView:s,rendererProps:o}=n,{openTo:i,focusedView:l,timeViewsCount:d}=o,u=at(o,oK),h=U({},u,{autoFocus:!1,focusedView:null,sx:[{[`&.${Lf.root}`]:{borderBottom:0},[`&.${Lf.root}, .${$f.root}, &.${Nf.root}`]:{maxHeight:si}}]}),f=Ma(s),m=f?"day":s,g=f?s:"hours";return t.jsxs(x.Fragment,{children:[(y=r[m])==null?void 0:y.call(r,U({},o,{view:f?"day":s,focusedView:l&&oi(l)?l:null,views:o.views.filter(oi),sx:[{gridColumn:1},...h.sx]})),d>0&&t.jsxs(x.Fragment,{children:[t.jsx(Mt,{orientation:"vertical",sx:{gridColumn:2}}),(b=r[g])==null?void 0:b.call(r,U({},h,{view:f?s:"hours",focusedView:l&&Ma(l)?l:null,openTo:Ma(i)?i:"hours",views:o.views.filter(Ma),sx:[{gridColumn:3},...h.sx]}))]})]})},yC=x.forwardRef(function(n,r){var g,y,b;const s=Ut(),o=bC(n,"MuiDesktopDateTimePicker"),i=o.shouldRenderTimeInASingleColumn?xC:jd,l=U({day:Ua,month:Ua,year:Ua,hours:i,minutes:i,seconds:i,meridiem:i},o.viewRenderers),d=o.ampmInClock??!0,h=((g=l.hours)==null?void 0:g.name)===jd.name?o.views:o.views.filter(S=>S!=="meridiem"),f=U({},o,{viewRenderers:l,format:gC(s,o),views:h,yearsPerRow:o.yearsPerRow??4,ampmInClock:d,slots:U({field:Z1,layout:sK},o.slots),slotProps:U({},o.slotProps,{field:S=>{var v;return U({},dl((v=o.slotProps)==null?void 0:v.field,S),O1(o))},toolbar:U({hidden:!0,ampmInClock:d},(y=o.slotProps)==null?void 0:y.toolbar),tabs:U({hidden:!0},(b=o.slotProps)==null?void 0:b.tabs)})}),{renderPicker:m}=wq({ref:r,props:f,valueManager:xr,valueType:"date-time",validator:au,rendererInterceptor:aK,steps:null});return m()});yC.propTypes={ampm:re.bool,ampmInClock:re.bool,autoFocus:re.bool,className:re.string,closeOnSelect:re.bool,dayOfWeekFormatter:re.func,defaultValue:re.object,disabled:re.bool,disableFuture:re.bool,disableHighlightToday:re.bool,disableIgnoringDatePartForTimeValidation:re.bool,disableOpenPicker:re.bool,disablePast:re.bool,displayWeekNumber:re.bool,enableAccessibleFieldDOMStructure:re.any,fixedWeekNumber:re.number,format:re.string,formatDensity:re.oneOf(["dense","spacious"]),inputRef:d1,label:re.node,loading:re.bool,localeText:re.object,maxDate:re.object,maxDateTime:re.object,maxTime:re.object,minDate:re.object,minDateTime:re.object,minTime:re.object,minutesStep:re.number,monthsPerRow:re.oneOf([3,4]),name:re.string,onAccept:re.func,onChange:re.func,onClose:re.func,onError:re.func,onMonthChange:re.func,onOpen:re.func,onSelectedSectionsChange:re.func,onViewChange:re.func,onYearChange:re.func,open:re.bool,openTo:re.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),orientation:re.oneOf(["landscape","portrait"]),readOnly:re.bool,reduceAnimations:re.bool,referenceDate:re.object,renderLoading:re.func,selectedSections:re.oneOfType([re.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),re.number]),shouldDisableDate:re.func,shouldDisableMonth:re.func,shouldDisableTime:re.func,shouldDisableYear:re.func,showDaysOutsideCurrentMonth:re.bool,skipDisabled:re.bool,slotProps:re.object,slots:re.object,sx:re.oneOfType([re.arrayOf(re.oneOfType([re.func,re.object,re.bool])),re.func,re.object]),thresholdToRenderTimeInASingleColumn:re.number,timeSteps:re.shape({hours:re.number,minutes:re.number,seconds:re.number}),timezone:re.string,value:re.object,view:re.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),viewRenderers:re.shape({day:re.func,hours:re.func,meridiem:re.func,minutes:re.func,month:re.func,seconds:re.func,year:re.func}),views:re.arrayOf(re.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:re.oneOf(["asc","desc"]),yearsPerRow:re.oneOf([3,4])};const iK=[{views:C1},{views:v1}],vC=x.forwardRef(function(n,r){var g,y,b,S,v,E;const s=Ut(),o=bC(n,"MuiMobileDateTimePicker"),i=o.shouldRenderTimeInASingleColumn?xC:jd,l=U({day:Ua,month:Ua,year:Ua,hours:i,minutes:i,seconds:i,meridiem:i},o.viewRenderers),d=o.ampmInClock??!1,h=((g=l.hours)==null?void 0:g.name)===jd.name?o.views:o.views.filter(w=>w!=="meridiem"),f=U({},o,{viewRenderers:l,format:gC(s,o),views:h,ampmInClock:d,slots:U({field:Z1},o.slots),slotProps:U({},o.slotProps,{field:w=>{var I;return U({},dl((I=o.slotProps)==null?void 0:I.field,w),O1(o))},toolbar:U({hidden:!1,ampmInClock:d},(y=o.slotProps)==null?void 0:y.toolbar),tabs:U({hidden:!1},(b=o.slotProps)==null?void 0:b.tabs),layout:U({},(S=o.slotProps)==null?void 0:S.layout,{sx:B9([{[`& .${Lf.root}`]:{width:ri},[`& .${$f.root}`]:{flex:1,maxHeight:si-1,[`.${$f.item}`]:{width:"auto"}},[`& .${Nf.root}`]:{width:ri,maxHeight:si,flex:1,[`.${Nf.item}`]:{justifyContent:"center"}}}],(E=(v=o.slotProps)==null?void 0:v.layout)==null?void 0:E.sx)})})}),{renderPicker:m}=Tq({ref:r,props:f,valueManager:xr,valueType:"date-time",validator:au,steps:iK});return m()});vC.propTypes={ampm:re.bool,ampmInClock:re.bool,autoFocus:re.bool,className:re.string,closeOnSelect:re.bool,dayOfWeekFormatter:re.func,defaultValue:re.object,disabled:re.bool,disableFuture:re.bool,disableHighlightToday:re.bool,disableIgnoringDatePartForTimeValidation:re.bool,disableOpenPicker:re.bool,disablePast:re.bool,displayWeekNumber:re.bool,enableAccessibleFieldDOMStructure:re.any,fixedWeekNumber:re.number,format:re.string,formatDensity:re.oneOf(["dense","spacious"]),inputRef:d1,label:re.node,loading:re.bool,localeText:re.object,maxDate:re.object,maxDateTime:re.object,maxTime:re.object,minDate:re.object,minDateTime:re.object,minTime:re.object,minutesStep:re.number,monthsPerRow:re.oneOf([3,4]),name:re.string,onAccept:re.func,onChange:re.func,onClose:re.func,onError:re.func,onMonthChange:re.func,onOpen:re.func,onSelectedSectionsChange:re.func,onViewChange:re.func,onYearChange:re.func,open:re.bool,openTo:re.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),orientation:re.oneOf(["landscape","portrait"]),readOnly:re.bool,reduceAnimations:re.bool,referenceDate:re.object,renderLoading:re.func,selectedSections:re.oneOfType([re.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),re.number]),shouldDisableDate:re.func,shouldDisableMonth:re.func,shouldDisableTime:re.func,shouldDisableYear:re.func,showDaysOutsideCurrentMonth:re.bool,skipDisabled:re.bool,slotProps:re.object,slots:re.object,sx:re.oneOfType([re.arrayOf(re.oneOfType([re.func,re.object,re.bool])),re.func,re.object]),thresholdToRenderTimeInASingleColumn:re.number,timeSteps:re.shape({hours:re.number,minutes:re.number,seconds:re.number}),timezone:re.string,value:re.object,view:re.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),viewRenderers:re.shape({day:re.func,hours:re.func,meridiem:re.func,minutes:re.func,month:re.func,seconds:re.func,year:re.func}),views:re.arrayOf(re.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:re.oneOf(["asc","desc"]),yearsPerRow:re.oneOf([3,4])};const lK=["desktopModeMediaQuery"],wv=x.forwardRef(function(n,r){const s=Gt({props:n,name:"MuiDateTimePicker"}),{desktopModeMediaQuery:o=F9}=s,i=at(s,lK);return ml(o,{defaultMatches:!0})?t.jsx(yC,U({ref:r},i)):t.jsx(vC,U({ref:r},i))}),jC=({initialData:e,onSubmit:n,submitButtonText:r="Submit",isEdit:s})=>{var v,E;const{profile:o,channelRelations:{hasChannel:i}}=Cs(),l=Pt(),[d,u]=x.useState({title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",startDate:(e==null?void 0:e.startDate)||new Date,endDate:(e==null?void 0:e.endDate)||new Date,channelId:(e==null?void 0:e.channelId)||"",options:(e==null?void 0:e.options)||[{text:""},{text:""}],media:(e==null?void 0:e.media)||[]}),[h,f]=x.useState(((v=e==null?void 0:e.media)==null?void 0:v.find(w=>w.type===l0.COVER))||null);x.useEffect(()=>{o&&(!o.staffChannels||o.staffChannels.length)},[o]);const m=(w,I)=>{u(D=>({...D,[w]:I}))},g=(w,I)=>{const D=[...d.options];D[w]={text:I},m("options",D)},y=()=>{m("options",[...d.options,{text:""}])},b=w=>{if(d.options.length<=2)return;const I=d.options.filter((D,T)=>T!==w);m("options",I)},S=w=>{w.preventDefault();const I={...d,media:h?[h]:[]};n(I)};return i()?t.jsx(C,{component:"form",onSubmit:S,children:t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,children:t.jsxs(ht,{fullWidth:!0,disabled:s,children:[t.jsx(Ct,{id:"channel-select-label",children:"Channel"}),t.jsx(xt,{labelId:"channel-select-label",value:d.channelId,label:"Channel",onChange:w=>m("channelId",w.target.value),required:!0,children:(E=o==null?void 0:o.staffChannels)==null?void 0:E.map(w=>t.jsx(je,{value:w.channelId,children:w.channel.name},w.id))})]})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(nt,{fullWidth:!0,label:"Poll Title",value:d.title,onChange:w=>m("title",w.target.value),required:!0})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(nt,{fullWidth:!0,label:"Description",value:d.description,onChange:w=>m("description",w.target.value),multiline:!0,rows:4})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(wv,{label:"Start Date",value:d.startDate,onChange:w=>m("startDate",w),sx:{width:"100%"}})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(wv,{label:"End Date",value:d.endDate,onChange:w=>m("endDate",w),sx:{width:"100%"}})}),t.jsx(F,{item:!0,xs:12,children:t.jsxs(ot,{sx:{p:3,mb:2},children:[t.jsx(j,{variant:"h6",sx:{mb:3},children:"Media"}),t.jsx(pe,{spacing:4,children:t.jsx(C,{children:t.jsx(YS,{title:"Cover Media",description:"Upload an image or short video that will be displayed with your poll and in previews.",value:h?{id:h.id||"0",url:h.url,type:h.type,format:h.format}:null,onChange:w=>f(w?{id:w.id,url:w.url,type:w.type,format:w.format,pollId:""}:null),mediaTypeId:l0.COVER,useNewsFormats:!1})})})]})}),t.jsx(F,{item:!0,xs:12,children:t.jsxs(ot,{sx:{p:2,mb:2},children:[t.jsx(j,{variant:"h6",sx:{mb:2},children:"Poll Options"}),d.options.map((w,I)=>t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(nt,{fullWidth:!0,label:`Option ${I+1}`,value:w.text,onChange:D=>g(I,D.target.value),required:!0,sx:{mr:1}}),t.jsx(Ne,{onClick:()=>b(I),disabled:d.options.length<=2,children:t.jsx(fa,{})})]},I)),t.jsx(he,{startIcon:t.jsx(Xm,{}),onClick:y,variant:"outlined",size:"small",children:"Add Option"})]})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(he,{type:"submit",variant:"contained",size:"large",fullWidth:!0,children:r})})]})}):t.jsx(C,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",p:3},children:t.jsx(so,{title:"Channel Required",description:"You need to create a channel before you can start creating polls.",icon:t.jsx(vl,{sx:{fontSize:48}}),action:{label:"Create Channel",onClick:()=>l(ge.STUDIO_CHANNEL_CREATE)}})})},cK=()=>{const{api:e}=Je(),n=Pt(),{execute:r}=et(),s=async o=>{if(!o)return;await r(()=>e==null?void 0:e.studio.createPoll(o),{showSuccessMessage:!0,successMessage:"Poll created successfully!"})&&n(`${ge.STUDIO_POLLS}`)};return t.jsxs(It,{sx:{maxWidth:800,mx:"auto",p:3},children:[t.jsx(j,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Create Poll"}),t.jsx(jC,{onSubmit:s,submitButtonText:"Create Poll"})]})},dK=()=>{const{id:e}=is(),n=Pt(),{api:r}=Je(),[s,o]=x.useState(null),{execute:i}=et(),{execute:l}=et();x.useEffect(()=>{(async()=>{if(!e)return;const h=await i(()=>r==null?void 0:r.app.poll.get(e),{showErrorToast:!0});h&&o(h)})()},[e,r==null?void 0:r.app.poll,i]);const d=async u=>{e&&(await l(()=>r==null?void 0:r.app.poll.update(e,u),{showSuccessMessage:!0,successMessage:"Poll updated successfully!"}),n(ge.STUDIO_POLL_VIEW.replace(":id",e)))};return s?t.jsxs(It,{sx:{maxWidth:800,mx:"auto",p:3},children:[t.jsx(j,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Edit Poll"}),t.jsx(jC,{initialData:{title:s.title,description:s.description,startDate:s.startDate,endDate:s.endDate,channelId:s.channel.id,options:s.options.map(u=>({text:u.text,id:u.id}))},onSubmit:d,submitButtonText:"Update Poll"})]}):null},uK=({poll:e})=>{const n=cn(),r=e.statistics.totalVotes;return t.jsx(C,{children:e.options.map(s=>{const o=r>0?s.votes/r*100:0;return t.jsxs(C,{sx:{mb:2},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[t.jsx(j,{variant:"body1",children:s.text}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:[s.votes," votes (",o.toFixed(1),"%)"]})]}),t.jsx(Ga,{variant:"determinate",value:o,sx:{height:8,borderRadius:1,bgcolor:ue(n.palette.primary.main,.1),"& .MuiLinearProgress-bar":{borderRadius:1,bgcolor:n.palette.primary.main}}})]},s.id)})})};var Lx={},hK=Ke;Object.defineProperty(Lx,"__esModule",{value:!0});var SC=Lx.default=void 0,fK=hK(Xe()),pK=t;SC=Lx.default=(0,fK.default)((0,pK.jsx)("path",{d:"M18 13h-.68l-2 2h1.91L19 17H5l1.78-2h2.05l-2-2H6l-3 3v4c0 1.1.89 2 1.99 2H19c1.1 0 2-.89 2-2v-4zm-1-5.05-4.95 4.95-3.54-3.54 4.95-4.95zm-4.24-5.66L6.39 8.66c-.39.39-.39 1.02 0 1.41l4.95 4.95c.39.39 1.02.39 1.41 0l6.36-6.36c.39-.39.39-1.02 0-1.41L14.16 2.3c-.38-.4-1.01-.4-1.4-.01"}),"HowToVote");const mK=()=>t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsxs(F,{container:!0,spacing:4,children:[t.jsx(F,{item:!0,xs:12,children:t.jsxs(C,{sx:{mb:3},children:[t.jsx(de,{variant:"text",width:"60%",height:40}),t.jsx(de,{variant:"text",width:"40%",height:24})]})}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsx(de,{variant:"text",width:"50%",height:32,sx:{mb:2}}),t.jsx(pe,{spacing:2,children:[1,2,3,4].map(e=>t.jsxs(C,{children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsx(de,{variant:"text",width:"60%"}),t.jsx(de,{variant:"text",width:"20%"})]}),t.jsx(de,{variant:"rectangular",width:"100%",height:20,sx:{borderRadius:1}})]},e))})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsx(pe,{spacing:3,children:[1,2].map(e=>t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsx(de,{variant:"text",width:"50%",height:24}),t.jsx(de,{variant:"text",width:"70%",height:40})]})},e))})})]})}),xK=()=>{var y;const{id:e}=is(),{api:n}=Je(),{execute:r}=et(),[s,o]=x.useState(null),[i,l]=x.useState(!0),[d,u]=x.useState(!1);x.useEffect(()=>{(async()=>{if(e){l(!0);const S=await r(()=>n==null?void 0:n.app.poll.get(e),{showErrorToast:!0});S&&o(S),l(!1)}})()},[e,r]);const h=async b=>{if(!e)return;if(await r(()=>n==null?void 0:n.app.poll.convertToNews(e,b),{showSuccessMessage:!0,successMessage:"Poll converted to news successfully!"})){const v=await r(()=>n==null?void 0:n.app.poll.get(e),{showErrorToast:!0});v&&o(v)}};if(i)return t.jsx(mK,{});if(!s)return t.jsx(It,{maxWidth:"lg",sx:{mt:4},children:t.jsx(j,{variant:"h4",children:"Poll not found"})});const f=new Date>=new Date(s.startDate)&&new Date<=new Date(s.endDate),m=new Date>=new Date(s.startDate),g=!s.isConverted&&!((y=s.stats)!=null&&y.hasEnded);return t.jsxs(It,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs(F,{container:!0,spacing:4,children:[t.jsxs(F,{item:!0,xs:12,children:[t.jsxs(C,{sx:{mb:3},children:[t.jsx(j,{variant:"h4",gutterBottom:!0,children:s.title}),t.jsx(j,{variant:"body1",color:"text.secondary",children:s.description})]}),t.jsxs(C,{sx:{display:"flex",gap:1,mb:3,alignItems:"center",justifyContent:"space-between"},children:[t.jsxs(C,{sx:{display:"flex",gap:1},children:[t.jsx(Qe,{label:f?"Active":m?"Ended":"Scheduled",color:f?"success":m?"error":"warning"}),s.isTrending&&t.jsx(Qe,{icon:t.jsx(bl,{}),label:"Trending",color:"primary"}),s.isConverted&&t.jsx(Qe,{icon:t.jsx(nl,{}),label:"Converted to News",color:"info"})]}),g&&t.jsx(he,{variant:"contained",startIcon:t.jsx(nl,{}),onClick:()=>u(!0),size:"small",children:"Convert to News"})]})]}),t.jsx(F,{item:!0,xs:12,md:8,children:t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Poll Results"}),t.jsx(uK,{poll:s})]})})}),t.jsx(F,{item:!0,xs:12,md:4,children:t.jsxs(pe,{spacing:3,children:[t.jsx(ot,{elevation:0,sx:{p:2,bgcolor:"primary.light",color:"primary.contrastText",borderRadius:2},children:t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(SC,{fontSize:"large"}),t.jsxs(C,{children:[t.jsx(j,{variant:"overline",children:"Total Votes"}),t.jsx(j,{variant:"h4",children:s.statistics.totalVotes})]})]})}),t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Time Frame"}),t.jsxs(pe,{spacing:2,children:[t.jsxs(C,{children:[t.jsx(j,{variant:"caption",color:"text.secondary",children:"Start Date"}),t.jsx(j,{children:new Date(s.startDate).toLocaleString()})]}),t.jsxs(C,{children:[t.jsx(j,{variant:"caption",color:"text.secondary",children:"End Date"}),t.jsx(j,{children:new Date(s.endDate).toLocaleString()})]})]})]})})]})})]}),t.jsx(c1,{open:d,poll:s,onClose:()=>u(!1),onConvert:h})]})};function gK(e){const{children:n,value:r,index:s,...o}=e;return t.jsx("div",{role:"tabpanel",hidden:r!==s,id:`expense-order-tabpanel-${s}`,"aria-labelledby":`expense-order-tab-${s}`,...o,children:r===s&&t.jsx(C,{sx:{py:3},children:n})})}const bK=()=>{const e=Pt(),{api:n}=Je(),[r,s]=x.useState(0),[o,i]=x.useState([]),[l,d]=x.useState(!0),{execute:u}=et(),h=[{label:"All",status:void 0},{label:"Draft",status:mt.DRAFT},{label:"Submitted",status:mt.SUBMITTED},{label:"Approved",status:mt.APPROVED},{label:"Paid",status:mt.PAID},{label:"Rejected",status:mt.REJECTED}],f=async E=>{d(!0);const w=await u(()=>n.app.expenseOrder.getMyExpenseOrders({page:1,limit:50},E),{showErrorToast:!0});w&&i(w.items),d(!1)};x.useEffect(()=>{f(h[r].status)},[r,u]);const m=(E,w)=>{s(w)},g=E=>{e(ge.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",E.id))},y=E=>{e(ge.STUDIO_EXPENSE_ORDER_EDIT.replace(":id",E.id))},b=async E=>{await u(()=>n.app.expenseOrder.submitExpenseOrder(E.id),{showSuccessMessage:!0,successMessage:"Expense order submitted successfully!"})&&f(h[r].status)},S=async E=>{await u(()=>n.app.expenseOrder.cancelExpenseOrder(E.id),{showSuccessMessage:!0,successMessage:"Expense order cancelled successfully!"})&&f(h[r].status)},v=()=>{e(ge.STUDIO_EXPENSE_ORDER_CREATE)};return t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[t.jsx(j,{variant:"h4",component:"h1",sx:{fontWeight:600},children:"Expense Orders"}),t.jsx(he,{variant:"contained",startIcon:t.jsx(To,{}),onClick:v,children:"Create New"})]}),t.jsx(C,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:t.jsx($s,{value:r,onChange:m,"aria-label":"expense order status tabs",children:h.map((E,w)=>t.jsx(Mn,{label:E.label},w))})}),h.map((E,w)=>t.jsx(gK,{value:r,index:w,children:l?t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(sn,{})}):o.length===0?t.jsxs(C,{sx:{textAlign:"center",py:8},children:[t.jsx(j,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"No expense orders found"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:E.status?`No ${E.label.toLowerCase()} expense orders`:"You haven't created any expense orders yet"}),t.jsx(he,{variant:"contained",startIcon:t.jsx(To,{}),onClick:v,children:"Create Your First Expense Order"})]}):t.jsx(F,{container:!0,spacing:3,children:o.map(I=>t.jsx(F,{item:!0,xs:12,md:6,lg:4,children:t.jsx(Vm,{expenseOrder:I,onView:g,onEdit:y,onSubmit:b,onCancel:S,userRole:"journalist"})},I.id))})},w))]})},yK=()=>{var h;const e=Pt(),{api:n}=Je(),{profile:r}=Cs(),{execute:s,loading:o}=et(),i=((h=r==null?void 0:r.staffChannels)==null?void 0:h.map(f=>f.channel))||[],l=zS,d=async f=>{const m=await s(()=>n.app.expenseOrder.createExpenseOrder(f),{showSuccessMessage:!0,successMessage:"Expense order created successfully!"});m&&e(ge.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",m.id))},u=()=>{e(ge.STUDIO_EXPENSE_ORDERS)};return t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(he,{startIcon:t.jsx(Ms,{}),onClick:u,sx:{mr:2},children:"Back"}),t.jsx(j,{variant:"h4",component:"h1",sx:{fontWeight:600},children:"Create Expense Order"})]}),i.length===0&&!o?t.jsxs(C,{sx:{textAlign:"center",py:8,bgcolor:"background.paper",borderRadius:1},children:[t.jsx(j,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"No Channels Available"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"You need to be a member of at least one channel to create expense orders."})]}):t.jsx(JS,{channels:i,expenseTypes:l,onSave:d,loading:o,isEdit:!1})]})},vK=()=>{var S;const e=Pt(),{id:n}=is(),{api:r}=Je(),{profile:s}=Cs(),[o,i]=x.useState(null),[l,d]=x.useState(!0),{execute:u,loading:h}=et(),f=((S=s==null?void 0:s.staffChannels)==null?void 0:S.map(v=>v.channel))||[],m=zS;x.useEffect(()=>{(async()=>{if(n)try{d(!0);const E=await u(()=>r.app.expenseOrder.getExpenseOrder(n),{showErrorToast:!0});E&&i(E)}finally{d(!1)}})()},[n,u]);const g=async v=>{if(!n)return;const E=await u(()=>r.app.expenseOrder.updateExpenseOrder(n,v),{showSuccessMessage:!0,successMessage:"Expense order updated successfully!"});E&&(i(E),e(ge.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",E.id)))},y=async v=>{await u(()=>r.app.expenseOrder.submitExpenseOrder(v.id),{showSuccessMessage:!0,successMessage:"Expense order submitted successfully!"})&&e(ge.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",v.id))},b=()=>{e(o?ge.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",o.id):ge.STUDIO_EXPENSE_ORDERS)};return l?t.jsx(C,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:t.jsx(sn,{})}):o?o.status!==mt.DRAFT?t.jsx(C,{sx:{p:3},children:t.jsxs(C,{sx:{textAlign:"center",py:8,bgcolor:"background.paper",borderRadius:1},children:[t.jsx(j,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"Cannot Edit Expense Order"}),t.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"This expense order cannot be edited because it has already been submitted."}),t.jsx(he,{startIcon:t.jsx(Ms,{}),onClick:b,children:"Back to Expense Order"})]})}):t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(he,{startIcon:t.jsx(Ms,{}),onClick:b,sx:{mr:2},children:"Back"}),t.jsx(j,{variant:"h4",component:"h1",sx:{fontWeight:600},children:"Edit Expense Order"})]}),t.jsx(JS,{expenseOrder:o,channels:f,expenseTypes:m,onSave:g,onSubmit:y,loading:h,isEdit:!0})]}):t.jsx(C,{sx:{p:3},children:t.jsxs(C,{sx:{textAlign:"center",py:8,bgcolor:"background.paper",borderRadius:1},children:[t.jsx(j,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"Expense Order Not Found"}),t.jsx(he,{startIcon:t.jsx(Ms,{}),onClick:b,children:"Back"})]})})},jK=()=>{const e=Pt(),{id:n}=is(),{api:r}=Je(),[s,o]=x.useState(null),[i,l]=x.useState(!0),[d,u]=x.useState(!1),[h,f]=x.useState(null),[m,g]=x.useState(!1),[y,b]=x.useState(""),S=async()=>{if(n)try{l(!0),f(null);const N=await r.app.expenseOrder.getExpenseOrder(n);o(N)}catch(N){f(N.message||"Failed to fetch expense order")}finally{l(!1)}};x.useEffect(()=>{S()},[n]);const v=(N,$)=>new Intl.NumberFormat("en-US",{style:"currency",currency:$}).format(N),E=()=>{e(ge.STUDIO_EXPENSE_ORDERS)},w=()=>{s&&e(ge.STUDIO_EXPENSE_ORDER_EDIT.replace(":id",s.id))},I=async()=>{if(s){u(!0);try{await r.app.expenseOrder.submitExpenseOrder(s.id),await S()}catch(N){f(N.message||"Failed to submit expense order")}finally{u(!1)}}},D=async()=>{if(s){u(!0);try{await r.app.expenseOrder.cancelExpenseOrder(s.id,y),await S(),g(!1),b("")}catch(N){f(N.message||"Failed to cancel expense order")}finally{u(!1)}}};if(i)return t.jsx(C,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:t.jsx(sn,{})});if(h||!s)return t.jsxs(C,{sx:{p:3},children:[t.jsx(dt,{severity:"error",children:h||"Expense order not found"}),t.jsx(he,{startIcon:t.jsx(Ms,{}),onClick:E,sx:{mt:2},children:"Back to Expense Orders"})]});const T=s.status===mt.DRAFT,R=s.status===mt.DRAFT,k=[mt.DRAFT,mt.SUBMITTED].includes(s.status);return t.jsxs(C,{sx:{p:3},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(he,{startIcon:t.jsx(Ms,{}),onClick:E,sx:{mr:2},children:"Back"}),t.jsx(j,{variant:"h4",component:"h1",sx:{fontWeight:600,flex:1},children:"Expense Order Details"}),t.jsx(Wm,{status:s.status})]}),h&&t.jsx(dt,{severity:"error",sx:{mb:3},children:h}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsxs(F,{item:!0,xs:12,md:8,children:[t.jsxs(ot,{sx:{p:3,mb:3},children:[t.jsx(j,{variant:"h5",sx:{mb:2,fontWeight:600},children:s.title}),t.jsx(j,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:s.description}),t.jsx(Mt,{sx:{my:3}}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Channel"}),t.jsx(j,{variant:"body1",sx:{fontWeight:500},children:s.channel.name})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Expense Type"}),t.jsx(j,{variant:"body1",sx:{fontWeight:500},children:s.type.name})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Amount"}),t.jsx(j,{variant:"h6",sx:{fontWeight:700,color:"primary.main"},children:v(s.amount,s.currency)})]}),t.jsxs(F,{item:!0,xs:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(j,{variant:"body1",children:Vp(new Date(s.createdAt),"PPP")})]})]}),s.receiptUrl&&t.jsxs(t.Fragment,{children:[t.jsx(Mt,{sx:{my:3}}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Receipt"}),t.jsxs(wd,{href:s.receiptUrl,target:"_blank",rel:"noopener noreferrer",sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(eo,{fontSize:"small"}),"View Receipt"]})]})]}),s.notes&&t.jsxs(t.Fragment,{children:[t.jsx(Mt,{sx:{my:3}}),t.jsxs(C,{children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Notes"}),t.jsx(j,{variant:"body1",sx:{fontStyle:"italic"},children:s.notes})]})]})]}),t.jsxs(ot,{sx:{p:3},children:[t.jsx(j,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Actions"}),t.jsxs(C,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[T&&t.jsx(he,{variant:"outlined",startIcon:t.jsx(vs,{}),onClick:w,disabled:d,children:"Edit"}),R&&t.jsx(he,{variant:"contained",startIcon:t.jsx(Cd,{}),onClick:I,disabled:d,children:"Submit for Approval"}),k&&t.jsx(he,{variant:"outlined",color:"error",startIcon:t.jsx(Ns,{}),onClick:()=>g(!0),disabled:d,children:"Cancel"})]})]})]}),t.jsxs(F,{item:!0,xs:12,md:4,children:[t.jsxs(ot,{sx:{p:3,mb:3},children:[t.jsx(j,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Timeline"}),t.jsxs(C,{sx:{display:"flex",flexDirection:"column",gap:2},children:[t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:"Created"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Lr(new Date(s.createdAt),{addSuffix:!0})})]}),s.submittedAt&&t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:"Submitted"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Lr(new Date(s.submittedAt),{addSuffix:!0})})]}),s.approvedAt&&t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:s.status===mt.APPROVED?"Approved":"Reviewed"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Lr(new Date(s.approvedAt),{addSuffix:!0})}),s.approver&&t.jsxs(j,{variant:"caption",display:"block",color:"text.secondary",children:["by ",s.approver.displayName]})]}),s.paidAt&&t.jsxs(C,{children:[t.jsx(j,{variant:"body2",sx:{fontWeight:500},children:"Paid"}),t.jsx(j,{variant:"caption",color:"text.secondary",children:Lr(new Date(s.paidAt),{addSuffix:!0})}),s.paymentReference&&t.jsxs(j,{variant:"caption",display:"block",color:"text.secondary",children:["Ref: ",s.paymentReference]})]})]})]}),s.rejectionReason&&t.jsxs(ot,{sx:{p:3,bgcolor:"error.lighter"},children:[t.jsx(j,{variant:"h6",sx:{mb:1,fontWeight:600,color:"error.main"},children:"Rejection Reason"}),t.jsx(j,{variant:"body2",color:"error.main",children:s.rejectionReason})]})]})]}),t.jsxs(Kt,{open:m,onClose:()=>g(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Cancel Expense Order"}),t.jsxs(Jt,{children:[t.jsx(j,{variant:"body2",sx:{mb:2},children:"Are you sure you want to cancel this expense order? This action cannot be undone."}),t.jsx(nt,{fullWidth:!0,multiline:!0,rows:3,label:"Reason for cancellation (optional)",value:y,onChange:N=>b(N.target.value),placeholder:"Provide a reason for cancelling this expense order..."})]}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>g(!1),children:"Keep Order"}),t.jsx(he,{onClick:D,color:"error",variant:"contained",disabled:d,children:"Cancel Order"})]})]})]})},Cv=()=>{const[e,n]=x.useState(null),[r,s]=x.useState(!0),[o,i]=x.useState(null),l=Pt(),{api:d}=Je(),{execute:u}=et();x.useEffect(()=>{h()},[]);const h=async()=>{var b,S;s(!0),i(null);const[g,y]=await Promise.all([u(()=>d.app.subscription.getSubscriptionAnalytics({period:"30d"}),{showErrorToast:!0}),u(()=>d.app.subscription.getRevenueMetrics({period:"30d"}),{showErrorToast:!0})]);if(g&&y){let v=0;if((S=(b=y.metrics)==null?void 0:b[0])!=null&&S.channels){const w=y.metrics[0].channels;for(const I in w){const D=w[I];v+=D.revenue||0}}const E={totalUsers:12543,totalChannels:1247,totalSubscriptions:g.total_subscriptions,monthlyRevenue:v,activeSubscriptions:g.active_subscriptions,newUsersThisMonth:342};n(E)}s(!1)},f=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(g/100),m=[{title:"News Management",description:"Manage news articles and moderate content",icon:t.jsx(ms,{sx:{fontSize:40}}),path:ge.ADMIN_NEWS,color:"#1976d2"},{title:"Poll Management",description:"Oversee polls and voting analytics",icon:t.jsx(ms,{sx:{fontSize:40}}),path:ge.ADMIN_POLLS,color:"#7b1fa2"},{title:"User Management",description:"Manage users, roles, and permissions",icon:t.jsx(Io,{sx:{fontSize:40}}),path:ge.ADMIN_USERS,color:"#388e3c"},{title:"Channel Management",description:"Oversee channels and content moderation",icon:t.jsx(Bc,{sx:{fontSize:40}}),path:ge.ADMIN_CHANNELS,color:"#f57c00"},{title:"Expense Orders",description:"Review and approve expense claims",icon:t.jsx(ms,{sx:{fontSize:40}}),path:ge.ADMIN_EXPENSE_ORDERS,color:"#d32f2f"},{title:"Payout Management",description:"Process payouts and financial transactions",icon:t.jsx(ms,{sx:{fontSize:40}}),path:ge.ADMIN_PAYOUTS,color:"#2e7d32"},{title:"Tag Management",description:"Moderate tags and manage taxonomy",icon:t.jsx(ms,{sx:{fontSize:40}}),path:ge.ADMIN_TAGS,color:"#795548"},{title:"Subscription Management",description:"Monitor subscriptions and billing",icon:t.jsx(Ha,{sx:{fontSize:40}}),path:ge.ADMIN_SUBSCRIPTIONS,color:"#ff5722"},{title:"Analytics",description:"Platform analytics and insights",icon:t.jsx(ms,{sx:{fontSize:40}}),path:ge.ADMIN_ANALYTICS,color:"#9c27b0"},{title:"Settings",description:"Platform configuration and settings",icon:t.jsx(Oc,{sx:{fontSize:40}}),path:ge.ADMIN_SETTINGS,color:"#5d4037"}];return t.jsxs(It,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(Iv,{sx:{fontSize:32,mr:2}}),t.jsx(j,{variant:"h4",component:"h1",children:"Admin Dashboard"})]}),o&&t.jsx(dt,{severity:"error",sx:{mb:3},children:o}),t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(UR,{sx:{fontSize:24,mr:1,color:"#1976d2"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Total Users"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(de,{width:80}):e==null?void 0:e.totalUsers.toLocaleString()}),t.jsx(j,{variant:"body2",color:"textSecondary",children:r?t.jsx(de,{width:120}):`+${e==null?void 0:e.newUsersThisMonth} this month`})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Bc,{sx:{fontSize:24,mr:1,color:"#388e3c"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Total Channels"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(de,{width:80}):e==null?void 0:e.totalChannels.toLocaleString()})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Ha,{sx:{fontSize:24,mr:1,color:"#f57c00"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Active Subscriptions"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(de,{width:80}):e==null?void 0:e.activeSubscriptions.toLocaleString()}),t.jsx(j,{variant:"body2",color:"textSecondary",children:r?t.jsx(de,{width:120}):`${e==null?void 0:e.totalSubscriptions} total`})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(to,{sx:{fontSize:24,mr:1,color:"#7b1fa2"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Monthly Revenue"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(de,{width:100}):f((e==null?void 0:e.monthlyRevenue)||0)})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(ys,{sx:{fontSize:24,mr:1,color:"#d32f2f"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Growth Rate"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(de,{width:60}):"+12.5%"}),t.jsx(j,{variant:"body2",color:"textSecondary",children:"vs last month"})]})})})]}),t.jsx(j,{variant:"h5",gutterBottom:!0,sx:{mb:3},children:"Administration"}),t.jsx(F,{container:!0,spacing:3,children:m.map(g=>t.jsx(F,{item:!0,xs:12,sm:6,md:4,children:t.jsxs(Fe,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[t.jsxs(Ve,{sx:{flexGrow:1},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(C,{sx:{color:g.color,mr:2},children:g.icon}),t.jsx(j,{variant:"h6",component:"h2",children:g.title})]}),t.jsx(j,{variant:"body2",color:"textSecondary",children:g.description})]}),t.jsx(lf,{children:t.jsx(he,{size:"small",variant:"contained",onClick:()=>l(g.path),sx:{backgroundColor:g.color},children:"Manage"})})]})},g.title))})]})},SK=()=>t.jsxs(It,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(Io,{sx:{fontSize:32,mr:2}}),t.jsx(j,{variant:"h4",component:"h1",children:"User Management"})]}),t.jsx(Fe,{children:t.jsxs(Ve,{sx:{textAlign:"center",py:8},children:[t.jsx(Io,{sx:{fontSize:64,color:"text.secondary",mb:2}}),t.jsx(j,{variant:"h6",gutterBottom:!0,children:"User Management Coming Soon"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"This section will include user management, roles, permissions, and user analytics."})]})})]}),wK=()=>t.jsxs(It,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(Bc,{sx:{fontSize:32,mr:2}}),t.jsx(j,{variant:"h4",component:"h1",children:"Channel Management"})]}),t.jsx(Fe,{children:t.jsxs(Ve,{sx:{textAlign:"center",py:8},children:[t.jsx(Bc,{sx:{fontSize:64,color:"text.secondary",mb:2}}),t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Channel Management Coming Soon"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"This section will include channel moderation, content management, and channel analytics."})]})})]}),CK=()=>{const[e,n]=x.useState([]),[r,s]=x.useState(null),[o,i]=x.useState(!0),[l,d]=x.useState(!1),[u,h]=x.useState(null),[f,m]=x.useState(null),[g,y]=x.useState(""),[b,S]=x.useState({}),[v]=x.useState($e),[E,w]=x.useState([]),[I,D]=x.useState(!1),[T,R]=x.useState("cancel"),[_,k]=x.useState(""),{api:N}=Je(),{execute:$}=et();x.useEffect(()=>{G(),L()},[b,v]);const G=async()=>{i(!0),h(null);const V=await $(()=>N.app.subscription.getAllSubscriptions(v,b),{showErrorToast:!0});V&&n(V.items||[]),i(!1)},L=async()=>{d(!0);const V=await $(()=>N.app.subscription.getSubscriptionAnalytics({period:"30d"}),{showErrorToast:!1});V&&s(V),d(!1)},H=()=>{g.trim()?S({...b}):G()},K=(V,Z)=>{S({...b,[V]:Z||void 0})},J=async()=>{if(E.length===0)return;i(!0);const V={action:T,subscription_ids:E,reason:_||void 0},Z=await $(()=>N.app.subscription.bulkUpdateSubscriptions(V),{showSuccessMessage:!0,successMessage:"Successfully updated subscriptions"});Z&&(Z.failed>0&&h(`Failed to update ${Z.failed} subscriptions`),D(!1),w([]),k(""),await G()),i(!1)},q=async()=>{const V=await $(()=>N.app.subscription.exportSubscriptions(b,"csv"),{showErrorToast:!0});if(V){const Z=window.URL.createObjectURL(V),Ee=document.createElement("a");Ee.href=Z,Ee.download=`subscriptions-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(Ee),Ee.click(),window.URL.revokeObjectURL(Z),document.body.removeChild(Ee)}},Q=V=>cd(V),Y=V=>new Date(V).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),oe=(V,Z)=>new Intl.NumberFormat("en-US",{style:"currency",currency:Z.toUpperCase()}).format(V/100);return t.jsxs(It,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsx(j,{variant:"h4",gutterBottom:!0,children:"Subscription Management"}),r&&t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Total Subscriptions"}),t.jsx(j,{variant:"h4",children:l?t.jsx(de,{width:60}):r.total_subscriptions.toLocaleString()})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Active Subscriptions"}),t.jsx(j,{variant:"h4",children:l?t.jsx(de,{width:60}):r.active_subscriptions.toLocaleString()})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"New This Month"}),t.jsx(j,{variant:"h4",children:l?t.jsx(de,{width:60}):r.new_subscriptions.toLocaleString()})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Churn Rate"}),t.jsx(j,{variant:"h4",children:l?t.jsx(de,{width:60}):`${(r.churn_rate*100).toFixed(1)}%`})]})})})]}),t.jsx(Fe,{sx:{mb:3},children:t.jsx(Ve,{children:t.jsxs(pe,{direction:"row",spacing:2,alignItems:"center",flexWrap:"wrap",children:[t.jsx(nt,{placeholder:"Search subscriptions...",value:g,onChange:V=>y(V.target.value),onKeyPress:V=>V.key==="Enter"&&H(),InputProps:{startAdornment:t.jsx(pl,{sx:{mr:1,color:"text.secondary"}})},sx:{minWidth:250}}),t.jsxs(ht,{sx:{minWidth:120},children:[t.jsx(Ct,{children:"Status"}),t.jsxs(xt,{value:b.status||"",onChange:V=>K("status",V.target.value),label:"Status",children:[t.jsx(je,{value:"",children:"All"}),t.jsx(je,{value:"active",children:"Active"}),t.jsx(je,{value:"canceled",children:"Canceled"}),t.jsx(je,{value:"expired",children:"Expired"}),t.jsx(je,{value:"suspended",children:"Suspended"})]})]}),t.jsx(he,{variant:"outlined",startIcon:t.jsx(kv,{}),onClick:()=>S({}),children:"Clear Filters"}),t.jsx(he,{variant:"outlined",startIcon:t.jsx($v,{}),onClick:q,children:"Export"}),E.length>0&&t.jsxs(he,{variant:"contained",startIcon:t.jsx(vs,{}),onClick:()=>D(!0),children:["Bulk Actions (",E.length,")"]})]})})}),u&&t.jsx(dt,{severity:"error",sx:{mb:2},onClose:()=>h(null),children:u}),f&&t.jsx(dt,{severity:"success",sx:{mb:2},onClose:()=>m(null),children:f}),t.jsx(Fe,{children:t.jsx(Kf,{component:ot,children:t.jsxs(Jf,{children:[t.jsx(Xf,{children:t.jsxs(wo,{children:[t.jsx(vt,{padding:"checkbox",children:t.jsx(Wc,{indeterminate:E.length>0&&E.length<e.length,checked:e.length>0&&E.length===e.length,onChange:V=>{V.target.checked?w(e.map(Z=>Z.id)):w([])}})}),t.jsx(vt,{children:"User"}),t.jsx(vt,{children:"Channel"}),t.jsx(vt,{children:"Tier"}),t.jsx(vt,{children:"Status"}),t.jsx(vt,{children:"Started"}),t.jsx(vt,{children:"Expires"}),t.jsx(vt,{children:"Actions"})]})}),t.jsx(Qf,{children:o?[...Array(5)].map((V,Z)=>t.jsxs(wo,{children:[t.jsx(vt,{children:t.jsx(de,{})}),t.jsx(vt,{children:t.jsx(de,{})}),t.jsx(vt,{children:t.jsx(de,{})}),t.jsx(vt,{children:t.jsx(de,{})}),t.jsx(vt,{children:t.jsx(de,{})}),t.jsx(vt,{children:t.jsx(de,{})}),t.jsx(vt,{children:t.jsx(de,{})}),t.jsx(vt,{children:t.jsx(de,{})})]},Z)):e.map(V=>t.jsxs(wo,{children:[t.jsx(vt,{padding:"checkbox",children:t.jsx(Wc,{checked:E.includes(V.id),onChange:Z=>{Z.target.checked?w([...E,V.id]):w(E.filter(Ee=>Ee!==V.id))}})}),t.jsx(vt,{children:t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",children:V.user.displayName}),t.jsx(j,{variant:"caption",color:"text.secondary",children:V.user.email})]})}),t.jsx(vt,{children:t.jsx(j,{variant:"body2",children:V.channel.name})}),t.jsx(vt,{children:t.jsxs(C,{children:[t.jsx(j,{variant:"body2",children:V.tier.name}),t.jsx(j,{variant:"caption",color:"text.secondary",children:oe(V.tier.price,V.tier.currency)})]})}),t.jsx(vt,{children:t.jsx(Qe,{label:ld(V.statusId),color:Q(V.statusId),size:"small"})}),t.jsx(vt,{children:t.jsx(j,{variant:"body2",children:Y(V.subscribedAt)})}),t.jsx(vt,{children:t.jsx(j,{variant:"body2",children:V.expiresAt?Y(V.expiresAt):"Never"})}),t.jsx(vt,{children:t.jsx(he,{size:"small",onClick:()=>{console.log("View subscription:",V.id)},children:"View"})})]},V.id))})]})})}),t.jsxs(Kt,{open:I,onClose:()=>D(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Bulk Action"}),t.jsxs(Jt,{children:[t.jsxs(j,{gutterBottom:!0,children:["You are about to perform a bulk action on ",E.length," subscription(s)."]}),t.jsxs(ht,{fullWidth:!0,sx:{mb:2},children:[t.jsx(Ct,{children:"Action"}),t.jsxs(xt,{value:T,onChange:V=>R(V.target.value),label:"Action",children:[t.jsx(je,{value:"cancel",children:"Cancel Subscriptions"}),t.jsx(je,{value:"activate",children:"Activate Subscriptions"}),t.jsx(je,{value:"suspend",children:"Suspend Subscriptions"})]})]}),t.jsx(nt,{fullWidth:!0,label:"Reason (optional)",value:_,onChange:V=>k(V.target.value),multiline:!0,rows:3})]}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>D(!1),children:"Cancel"}),t.jsx(he,{onClick:J,variant:"contained",color:"primary",children:"Confirm"})]})]})]})},PK=()=>{const[e,n]=x.useState(null),[r,s]=x.useState(!0),[o,i]=x.useState(null),[l,d]=x.useState("30d"),{api:u}=Je(),{execute:h}=et();x.useEffect(()=>{f()},[l]);const f=async()=>{s(!0),i(null);const v=await h(()=>u.app.subscription.getSubscriptionAnalytics({period:l}),{showErrorToast:!0});v&&n(v),s(!1)},m=v=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(v/100),g=v=>`${(v*100).toFixed(1)}%`,y=[{month:"Jan",new:120,canceled:45,active:1200},{month:"Feb",new:150,canceled:38,active:1312},{month:"Mar",new:180,canceled:52,active:1440},{month:"Apr",new:200,canceled:48,active:1592},{month:"May",new:165,canceled:55,active:1702},{month:"Jun",new:190,canceled:42,active:1850}],b=[{name:"Basic",value:35,revenue:15e3},{name:"Premium",value:45,revenue:35e3},{name:"Pro",value:20,revenue:25e3}],S=["#0088FE","#00C49F","#FFBB28","#FF8042"];return t.jsxs(It,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(ms,{sx:{fontSize:32,mr:2}}),t.jsx(j,{variant:"h4",component:"h1",children:"Subscription Analytics"})]}),t.jsxs(ht,{sx:{minWidth:120},children:[t.jsx(Ct,{children:"Period"}),t.jsxs(xt,{value:l,onChange:v=>d(v.target.value),label:"Period",children:[t.jsx(je,{value:"7d",children:"Last 7 days"}),t.jsx(je,{value:"30d",children:"Last 30 days"}),t.jsx(je,{value:"90d",children:"Last 90 days"}),t.jsx(je,{value:"1y",children:"Last year"})]})]})]}),o&&t.jsx(dt,{severity:"error",sx:{mb:3},children:o}),t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Io,{sx:{fontSize:24,mr:1,color:"#1976d2"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Total Subscriptions"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(de,{width:80}):e==null?void 0:e.total_subscriptions.toLocaleString()}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",mt:1},children:[t.jsx(ys,{sx:{fontSize:16,color:"success.main",mr:.5}}),t.jsx(j,{variant:"body2",color:"success.main",children:"+12.5% vs last period"})]})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(ys,{sx:{fontSize:24,mr:1,color:"#388e3c"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"New Subscriptions"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(de,{width:80}):e==null?void 0:e.new_subscriptions.toLocaleString()}),t.jsx(j,{variant:"body2",color:"textSecondary",children:"This period"})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Ns,{sx:{fontSize:24,mr:1,color:"#f57c00"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Churn Rate"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(de,{width:60}):g((e==null?void 0:e.churn_rate)||0)}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",mt:1},children:[t.jsx(Dv,{sx:{fontSize:16,color:"success.main",mr:.5}}),t.jsx(j,{variant:"body2",color:"success.main",children:"-2.1% vs last period"})]})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(to,{sx:{fontSize:24,mr:1,color:"#7b1fa2"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Total Revenue"})]}),t.jsx(j,{variant:"h4",children:r?t.jsx(de,{width:100}):m(Object.values((e==null?void 0:e.revenue_by_currency)||{}).reduce((v,E)=>v+E,0))}),t.jsx(j,{variant:"body2",color:"textSecondary",children:"This period"})]})})})]}),t.jsxs(F,{container:!0,spacing:3,children:[t.jsx(F,{item:!0,xs:12,lg:8,children:t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Subscription Trends"}),t.jsx(C,{sx:{width:"100%",height:400},children:t.jsx(zi,{children:t.jsxs(Vv,{data:y,children:[t.jsx(Hc,{strokeDasharray:"3 3"}),t.jsx(Gc,{dataKey:"month"}),t.jsx(Yc,{}),t.jsx(Hi,{}),t.jsx(qc,{}),t.jsx(La,{type:"monotone",dataKey:"new",stroke:"#8884d8",strokeWidth:2,name:"New Subscriptions"}),t.jsx(La,{type:"monotone",dataKey:"canceled",stroke:"#82ca9d",strokeWidth:2,name:"Canceled"}),t.jsx(La,{type:"monotone",dataKey:"active",stroke:"#ffc658",strokeWidth:2,name:"Active Total"})]})})})]})})}),t.jsx(F,{item:!0,xs:12,lg:4,children:t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Revenue by Tier"}),t.jsx(C,{sx:{width:"100%",height:400},children:t.jsx(zi,{children:t.jsxs(_k,{children:[t.jsx(Ok,{data:b,cx:"50%",cy:"50%",labelLine:!1,label:({name:v,percent:E})=>`${v} ${(E*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:b.map((v,E)=>t.jsx(Mk,{fill:S[E%S.length]},`cell-${E}`))}),t.jsx(Hi,{formatter:(v,E)=>{var w;return[m(((w=b.find(I=>I.name===E))==null?void 0:w.revenue)||0),"Revenue"]}})]})})})]})})}),t.jsx(F,{item:!0,xs:12,children:t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Monthly Revenue Breakdown"}),t.jsx(C,{sx:{width:"100%",height:400},children:t.jsx(zi,{children:t.jsxs(Uv,{data:y,children:[t.jsx(Hc,{strokeDasharray:"3 3"}),t.jsx(Gc,{dataKey:"month"}),t.jsx(Yc,{}),t.jsx(Hi,{formatter:v=>[m(Number(v)*100),"Revenue"]}),t.jsx(qc,{}),t.jsx(Kc,{dataKey:"new",fill:"#8884d8",name:"New Subscriptions Revenue"}),t.jsx(Kc,{dataKey:"active",fill:"#82ca9d",name:"Recurring Revenue"})]})})})]})})})]})]})},EK=()=>{const[e,n]=x.useState(!0),[r,s]=x.useState(null),[o,i]=x.useState("30d");x.useEffect(()=>{l()},[o]);const l=async()=>{try{n(!0),s(null),await new Promise(m=>setTimeout(m,1e3))}catch(m){s(m.message||"Failed to load revenue data")}finally{n(!1)}},d=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(m),u={totalRevenue:125e3,monthlyRecurring:98e3,oneTimePayments:27e3,averageRevenuePerUser:45.5,growthRate:12.5},h=[{month:"Jan",revenue:85e3,subscriptions:78e3,oneTime:7e3},{month:"Feb",revenue:92e3,subscriptions:84e3,oneTime:8e3},{month:"Mar",revenue:98e3,subscriptions:89e3,oneTime:9e3},{month:"Apr",revenue:105e3,subscriptions:95e3,oneTime:1e4},{month:"May",revenue:115e3,subscriptions:102e3,oneTime:13e3},{month:"Jun",revenue:125e3,subscriptions:112e3,oneTime:13e3}],f=[{name:"Tech News Daily",revenue:15e3,subscribers:1200},{name:"Global Politics",revenue:12500,subscribers:980},{name:"Science Weekly",revenue:11e3,subscribers:850},{name:"Business Insider",revenue:9500,subscribers:720},{name:"Sports Central",revenue:8200,subscribers:650}];return t.jsxs(It,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(to,{sx:{fontSize:32,mr:2}}),t.jsx(j,{variant:"h4",component:"h1",children:"Revenue Tracking"})]}),t.jsxs(ht,{sx:{minWidth:120},children:[t.jsx(Ct,{children:"Period"}),t.jsxs(xt,{value:o,onChange:m=>i(m.target.value),label:"Period",children:[t.jsx(je,{value:"7d",children:"Last 7 days"}),t.jsx(je,{value:"30d",children:"Last 30 days"}),t.jsx(je,{value:"90d",children:"Last 90 days"}),t.jsx(je,{value:"1y",children:"Last year"})]})]})]}),r&&t.jsx(dt,{severity:"error",sx:{mb:3},children:r}),t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(to,{sx:{fontSize:24,mr:1,color:"#1976d2"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Total Revenue"})]}),t.jsx(j,{variant:"h4",children:e?t.jsx(de,{width:100}):d(u.totalRevenue)}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",mt:1},children:[t.jsx(ys,{sx:{fontSize:16,color:"success.main",mr:.5}}),t.jsxs(j,{variant:"body2",color:"success.main",children:["+",u.growthRate,"% vs last period"]})]})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(af,{sx:{fontSize:24,mr:1,color:"#388e3c"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Monthly Recurring"})]}),t.jsx(j,{variant:"h4",children:e?t.jsx(de,{width:100}):d(u.monthlyRecurring)}),t.jsxs(j,{variant:"body2",color:"textSecondary",children:[(u.monthlyRecurring/u.totalRevenue*100).toFixed(1),"% of total"]})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Tv,{sx:{fontSize:24,mr:1,color:"#f57c00"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"One-time Payments"})]}),t.jsx(j,{variant:"h4",children:e?t.jsx(de,{width:100}):d(u.oneTimePayments)}),t.jsxs(j,{variant:"body2",color:"textSecondary",children:[(u.oneTimePayments/u.totalRevenue*100).toFixed(1),"% of total"]})]})})}),t.jsx(F,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(ys,{sx:{fontSize:24,mr:1,color:"#7b1fa2"}}),t.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"ARPU"})]}),t.jsx(j,{variant:"h4",children:e?t.jsx(de,{width:80}):d(u.averageRevenuePerUser)}),t.jsx(j,{variant:"body2",color:"textSecondary",children:"Average Revenue Per User"})]})})})]}),t.jsxs(F,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(F,{item:!0,xs:12,lg:8,children:t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Monthly Revenue Trend"}),t.jsx(C,{sx:{width:"100%",height:400},children:t.jsx(zi,{children:t.jsxs(Vv,{data:h,children:[t.jsx(Hc,{strokeDasharray:"3 3"}),t.jsx(Gc,{dataKey:"month"}),t.jsx(Yc,{tickFormatter:m=>`$${(m/1e3).toFixed(0)}k`}),t.jsx(Hi,{formatter:m=>[d(Number(m)),""]}),t.jsx(qc,{}),t.jsx(La,{type:"monotone",dataKey:"revenue",stroke:"#1976d2",strokeWidth:3,name:"Total Revenue"}),t.jsx(La,{type:"monotone",dataKey:"subscriptions",stroke:"#388e3c",strokeWidth:2,name:"Subscription Revenue"}),t.jsx(La,{type:"monotone",dataKey:"oneTime",stroke:"#f57c00",strokeWidth:2,name:"One-time Payments"})]})})})]})})}),t.jsx(F,{item:!0,xs:12,lg:4,children:t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Revenue Breakdown"}),t.jsx(C,{sx:{width:"100%",height:400},children:t.jsx(zi,{children:t.jsxs(Uv,{data:h.slice(-3),children:[t.jsx(Hc,{strokeDasharray:"3 3"}),t.jsx(Gc,{dataKey:"month"}),t.jsx(Yc,{tickFormatter:m=>`$${(m/1e3).toFixed(0)}k`}),t.jsx(Hi,{formatter:m=>[d(Number(m)),""]}),t.jsx(qc,{}),t.jsx(Kc,{dataKey:"subscriptions",fill:"#388e3c",name:"Subscriptions"}),t.jsx(Kc,{dataKey:"oneTime",fill:"#f57c00",name:"One-time"})]})})})]})})})]}),t.jsx(Fe,{children:t.jsxs(Ve,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Top Channels by Revenue"}),t.jsx(Kf,{component:ot,variant:"outlined",children:t.jsxs(Jf,{children:[t.jsx(Xf,{children:t.jsxs(wo,{children:[t.jsx(vt,{children:"Channel Name"}),t.jsx(vt,{align:"right",children:"Revenue"}),t.jsx(vt,{align:"right",children:"Subscribers"}),t.jsx(vt,{align:"right",children:"ARPU"})]})}),t.jsx(Qf,{children:f.map((m,g)=>t.jsxs(wo,{children:[t.jsx(vt,{component:"th",scope:"row",children:t.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(C,{sx:{width:24,height:24,borderRadius:"50%",backgroundColor:g===0?"#ffd700":g===1?"#c0c0c0":g===2?"#cd7f32":"#e0e0e0",display:"flex",alignItems:"center",justifyContent:"center",mr:2,fontSize:"12px",fontWeight:"bold"},children:g+1}),m.name]})}),t.jsx(vt,{align:"right",children:d(m.revenue)}),t.jsx(vt,{align:"right",children:m.subscribers.toLocaleString()}),t.jsx(vt,{align:"right",children:d(m.revenue/m.subscribers)})]},m.name))})]})})]})})]})},IK=()=>t.jsxs(It,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(ms,{sx:{fontSize:32,mr:2}}),t.jsx(j,{variant:"h4",component:"h1",children:"Platform Analytics"})]}),t.jsx(Fe,{children:t.jsxs(Ve,{sx:{textAlign:"center",py:8},children:[t.jsx(ms,{sx:{fontSize:64,color:"text.secondary",mb:2}}),t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Platform Analytics Coming Soon"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"This section will include comprehensive platform analytics, user behavior, and performance metrics."})]})})]}),DK=()=>t.jsxs(It,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(Oc,{sx:{fontSize:32,mr:2}}),t.jsx(j,{variant:"h4",component:"h1",children:"Admin Settings"})]}),t.jsx(Fe,{children:t.jsxs(Ve,{sx:{textAlign:"center",py:8},children:[t.jsx(Oc,{sx:{fontSize:64,color:"text.secondary",mb:2}}),t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Admin Settings Coming Soon"}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"This section will include platform configuration, system settings, and administrative preferences."})]})})]}),No=({title:e,columns:n,rows:r,totalCount:s,loading:o=!1,error:i=null,selected:l,onSelectionChange:d,onEdit:u,onDelete:h,onAdd:f,onRefresh:m,onSearch:g,onSort:y,onPageChange:b,onRowsPerPageChange:S,page:v=0,rowsPerPage:E=25,searchQuery:w="",sortColumn:I="",sortDirection:D="asc",actions:T,filters:R,rowActions:_})=>{const[k,N]=x.useState(w),[$,G]=x.useState(!1),[L,H]=x.useState(null),[K,J]=x.useState(null),q=ee=>{if(ee.target.checked){const Ce=r.map(Ae=>Ae.id);d(Ce)}else d([])},Q=(ee,Ce)=>{const Ae=l.indexOf(Ce);let Be=[];Ae===-1?Be=Be.concat(l,Ce):Ae===0?Be=Be.concat(l.slice(1)):Ae===l.length-1?Be=Be.concat(l.slice(0,-1)):Ae>0&&(Be=Be.concat(l.slice(0,Ae),l.slice(Ae+1))),d(Be)},Y=ee=>{ee.key==="Enter"&&g&&g(k)},oe=ee=>{N(ee.target.value),ee.target.value===""&&g&&g("")},V=ee=>{if(!y)return;y(ee,I===ee&&D==="asc"?"desc":"asc")},Z=(ee,Ce)=>{H(ee.currentTarget),J(Ce)},Ee=()=>{H(null),J(null)},be=()=>{const ee=l.length>0?r.filter(Ce=>l.includes(Ce.id)):K?[K]:[];ee.length>0&&h&&(h(ee),G(!1),Ee(),d([]))},ae=ee=>l.indexOf(ee)!==-1;return t.jsxs(C,{children:[t.jsxs(ot,{sx:{width:"100%",mb:2},children:[t.jsxs(Zs,{sx:{pl:{sm:2},pr:{xs:1,sm:1},...l.length>0&&{bgcolor:"primary.main",color:"primary.contrastText"}},children:[l.length>0?t.jsxs(j,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[l.length," selected"]}):t.jsx(j,{sx:{flex:"1 1 100%"},variant:"h6",id:"tableTitle",component:"div",children:e}),l.length>0?t.jsx(pe,{direction:"row",spacing:1,children:h&&t.jsx(St,{title:"Delete",children:t.jsx(Ne,{color:"inherit",onClick:()=>G(!0),children:t.jsx(Fc,{})})})}):t.jsxs(pe,{direction:"row",spacing:1,alignItems:"center",children:[g&&t.jsx(nt,{size:"small",placeholder:`Search ${e.toLowerCase()}...`,value:k,onChange:oe,onKeyPress:Y,InputProps:{startAdornment:t.jsx(os,{position:"start",children:t.jsx(pl,{})})},sx:{minWidth:250}}),R,m&&t.jsx(St,{title:"Refresh",children:t.jsx(Ne,{onClick:m,children:t.jsx(_v,{})})}),f&&t.jsx(he,{variant:"contained",startIcon:t.jsx(To,{}),onClick:f,sx:{whiteSpace:"nowrap"},children:"Add New"}),T]})]}),i&&t.jsx(dt,{severity:"error",sx:{m:2},children:i}),t.jsx(Kf,{children:t.jsxs(Jf,{stickyHeader:!0,"aria-labelledby":"tableTitle",children:[t.jsx(Xf,{children:t.jsxs(wo,{children:[t.jsx(vt,{padding:"checkbox",children:t.jsx(Wc,{color:"primary",indeterminate:l.length>0&&l.length<r.length,checked:r.length>0&&l.length===r.length,onChange:q,inputProps:{"aria-label":"select all items"}})}),n.map(ee=>t.jsx(vt,{align:ee.align,style:{minWidth:ee.minWidth},sortDirection:I===ee.id?D:!1,children:ee.sortable&&y?t.jsx(zR,{active:I===ee.id,direction:I===ee.id?D:"asc",onClick:()=>V(ee.id),children:ee.label}):ee.label},ee.id)),t.jsx(vt,{align:"right",children:"Actions"})]})}),t.jsx(Qf,{children:o?Array.from(new Array(E)).map((ee,Ce)=>t.jsxs(wo,{children:[t.jsx(vt,{padding:"checkbox",children:t.jsx(de,{variant:"rectangular",width:24,height:24})}),n.map(Ae=>t.jsx(vt,{children:t.jsx(de,{variant:"text"})},Ae.id)),t.jsx(vt,{children:t.jsx(de,{variant:"rectangular",width:40,height:24})})]},Ce)):r.map(ee=>{const Ce=ae(ee.id);return t.jsxs(wo,{hover:!0,onClick:Ae=>Q(Ae,ee.id),role:"checkbox","aria-checked":Ce,tabIndex:-1,selected:Ce,sx:{cursor:"pointer"},children:[t.jsx(vt,{padding:"checkbox",children:t.jsx(Wc,{color:"primary",checked:Ce,inputProps:{"aria-labelledby":`enhanced-table-checkbox-${ee.id}`}})}),n.map(Ae=>{const Be=ee[Ae.id];return t.jsx(vt,{align:Ae.align,children:Ae.format?Ae.format(Be,ee):Be},Ae.id)}),t.jsx(vt,{align:"right",children:t.jsx(pe,{direction:"row",spacing:1,justifyContent:"flex-end",children:_?_(ee):t.jsxs(t.Fragment,{children:[u&&t.jsx(St,{title:"Edit",children:t.jsx(Ne,{size:"small",onClick:Ae=>{Ae.stopPropagation(),u(ee)},children:t.jsx(vs,{fontSize:"small"})})}),t.jsx(Ne,{size:"small",onClick:Ae=>{Ae.stopPropagation(),Z(Ae,ee)},children:t.jsx(qf,{fontSize:"small"})})]})})})]},ee.id)})})]})}),t.jsx(HR,{rowsPerPageOptions:[10,25,50,100],component:"div",count:s,rowsPerPage:E,page:v,onPageChange:(ee,Ce)=>b==null?void 0:b(Ce),onRowsPerPageChange:ee=>S==null?void 0:S(parseInt(ee.target.value,10))})]}),t.jsxs(Ro,{anchorEl:L,open:!!L,onClose:Ee,children:[u&&K&&t.jsxs(je,{onClick:()=>{u(K),Ee()},children:[t.jsx(vs,{sx:{mr:1},fontSize:"small"}),"Edit"]}),h&&t.jsxs(je,{onClick:()=>G(!0),children:[t.jsx(Fc,{sx:{mr:1},fontSize:"small"}),"Delete"]})]}),t.jsxs(Kt,{open:$,onClose:()=>G(!1),children:[t.jsx(tn,{children:"Confirm Delete"}),t.jsx(Jt,{children:t.jsxs(j,{children:["Are you sure you want to delete ",l.length>0?`${l.length} items`:"this item","? This action cannot be undone."]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>G(!1),children:"Cancel"}),t.jsx(he,{onClick:be,color:"error",variant:"contained",children:"Delete"})]})]})]})},TK=()=>{var Ee;const{api:e}=Je(),{execute:n}=et(),[r,s]=x.useState([]),[o,i]=x.useState(0),[l,d]=x.useState(!1),[u,h]=x.useState(null),[f,m]=x.useState([]),[g,y]=x.useState(!1),[b,S]=x.useState(null),[v,E]=x.useState(0),[w,I]=x.useState(25),[D,T]=x.useState(""),[R,_]=x.useState(""),[k,N]=x.useState("createdAt"),[$,G]=x.useState("desc"),L=async()=>{var be;d(!0),h(null);try{const ae={page:v+1,limit:w,search:D||void 0,status:R||void 0,sort:k,order:$},ee=await n(()=>e.admin.news.getAllNews(ae),{showErrorToast:!1});ee&&(s(ee.items||[]),i(((be=ee.metadata)==null?void 0:be.total)||0))}catch{h("Failed to fetch news")}finally{d(!1)}};x.useEffect(()=>{L()},[v,w,D,R,k,$]);const H=be=>{S(be),y(!0)},K=async be=>{const ae=be.map(ee=>ee.id);try{await Promise.all(ae.map(ee=>n(()=>e.app.news.delete(ee)))),m([]),L()}catch{h("Failed to delete news items")}},J=async(be,ae)=>{try{await n(()=>e.app.news.update(be.id,{status:ae})),L()}catch{h("Failed to update news status")}},q=async be=>{var ae;if(b)try{const ee={title:be.title,content:be.content,status:(ae=be.status)==null?void 0:ae.toString()};await n(()=>e.app.news.update(b.id,ee)),y(!1),S(null),L()}catch{h("Failed to update news")}},Q=be=>N4(be),Y=[{id:"title",label:"Title",minWidth:200,sortable:!0,format:(be,ae)=>t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:be}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["ID: ",ae.id]})]})},{id:"channel",label:"Channel",minWidth:150,format:(be,ae)=>{var ee,Ce,Ae,Be;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Sn,{src:(ee=ae.channel)==null?void 0:ee.photoUrl,sx:{width:24,height:24},children:(Ae=(Ce=ae.channel)==null?void 0:Ce.name)==null?void 0:Ae[0]}),t.jsx(j,{variant:"body2",noWrap:!0,children:((Be=ae.channel)==null?void 0:Be.name)||"Unknown"})]})}},{id:"status",label:"Status",minWidth:120,sortable:!0,format:be=>t.jsx(Qe,{label:be,color:Q(be),size:"small"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:be=>t.jsx(j,{variant:"body2",children:new Date(be).toLocaleDateString()})},{id:"updatedAt",label:"Updated",minWidth:120,sortable:!0,format:be=>t.jsx(j,{variant:"body2",children:new Date(be).toLocaleDateString()})},{id:"views",label:"Views",minWidth:80,align:"right",sortable:!0,format:be=>t.jsx(j,{variant:"body2",children:(be==null?void 0:be.toLocaleString())||"0"})}],oe=Object.entries(In).map(([be,ae])=>({value:ae,label:be.replace(/_/g," ").toLowerCase().replace(/\b\w/g,ee=>ee.toUpperCase())})),V=t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(Ct,{children:"Status"}),t.jsxs(xt,{value:R,label:"Status",onChange:be=>_(be.target.value),children:[t.jsx(je,{value:"",children:"All Status"}),oe.map(be=>t.jsx(je,{value:be.value,children:be.label},be.value))]})]}),Z=be=>t.jsxs(pe,{direction:"row",spacing:.5,children:[t.jsx(St,{title:"View",children:t.jsx(Ne,{size:"small",onClick:ae=>{ae.stopPropagation(),window.open(ge.APP_NEWS_VIEW.replace(":id",be.id),"_blank")},children:t.jsx(Ls,{fontSize:"small"})})}),t.jsx(St,{title:"Edit",children:t.jsx(Ne,{size:"small",onClick:ae=>{ae.stopPropagation(),H(be)},children:t.jsx(vs,{fontSize:"small"})})}),be.status===In.PUBLISHED?t.jsx(St,{title:"Unpublish",children:t.jsx(Ne,{size:"small",onClick:ae=>{ae.stopPropagation(),J(be,In.DRAFT)},children:t.jsx(GR,{fontSize:"small"})})}):t.jsx(St,{title:"Publish",children:t.jsx(Ne,{size:"small",onClick:ae=>{ae.stopPropagation(),J(be,In.PUBLISHED)},children:t.jsx(YR,{fontSize:"small"})})})]});return t.jsxs(C,{children:[t.jsx(No,{title:"News Management",columns:Y,rows:r,totalCount:o,loading:l,error:u,selected:f,onSelectionChange:m,onEdit:H,onDelete:K,onRefresh:L,onSearch:T,onSort:(be,ae)=>{N(be),G(ae)},onPageChange:E,onRowsPerPageChange:I,page:v,rowsPerPage:w,searchQuery:D,sortColumn:k,sortDirection:$,filters:V,rowActions:Z}),t.jsxs(Kt,{open:g,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"Edit News"}),t.jsx(Jt,{children:b&&t.jsxs(pe,{spacing:3,sx:{pt:1},children:[t.jsx(nt,{label:"Title",fullWidth:!0,defaultValue:b.title,onChange:be=>S({...b,title:be.target.value})}),t.jsx(nt,{label:"Content",fullWidth:!0,multiline:!0,rows:3,defaultValue:b.content,onChange:be=>S({...b,content:be.target.value})}),t.jsxs(ht,{fullWidth:!0,children:[t.jsx(Ct,{children:"Status"}),t.jsx(xt,{value:b.status,label:"Status",onChange:be=>S({...b,status:be.target.value}),children:oe.map(be=>t.jsx(je,{value:be.value,children:be.label},be.value))})]}),t.jsxs(C,{children:[t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["News ID: ",b.id]}),t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Created: ",new Date(b.createdAt).toLocaleString()]}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Channel: ",(Ee=b.channel)==null?void 0:Ee.name]})]})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(he,{onClick:()=>q(b),variant:"contained",children:"Save Changes"})]})]})]})},AK=()=>{var ee,Ce,Ae,Be;const{api:e}=Je(),{execute:n}=et(),[r,s]=x.useState([]),[o,i]=x.useState(0),[l,d]=x.useState(!1),[u,h]=x.useState(null),[f,m]=x.useState([]),[g,y]=x.useState(!1),[b,S]=x.useState(null),[v,E]=x.useState(0),[w,I]=x.useState(25),[D,T]=x.useState(""),[R,_]=x.useState(""),[k,N]=x.useState(""),[$,G]=x.useState(""),[L,H]=x.useState("createdAt"),[K,J]=x.useState("desc"),q=x.useCallback(async()=>{var ye;d(!0),h(null);try{const ie={};D&&(ie.search=D),R&&(ie.status=R),k==="true"&&(ie.trending=!0),$==="true"&&(ie.funded=!0),ie.sort=L,ie.order=K;const le=await n(()=>e.admin.polls.getAllPolls(ie,{page:v+1,limit:w}),{showErrorToast:!1});le&&(s(le.items||[]),i(((ye=le.metadata)==null?void 0:ye.total)||0))}catch{h("Failed to fetch polls")}finally{d(!1)}},[v,w,D,R,k,$,L,K,e.admin.polls,n]);x.useEffect(()=>{q()},[q]);const Q=ye=>{S(ye),y(!0)},Y=async ye=>{const ie=ye.map(le=>le.id);try{await Promise.all(ie.map(le=>n(()=>e.app.poll.delete(le)))),m([]),q()}catch{h("Failed to delete polls")}},oe=async()=>{if(b)try{const ye={title:b.title,description:b.description,endDate:b.endDate};await n(()=>e.app.poll.update(b.id,ye)),y(!1),S(null),q()}catch{h("Failed to update poll")}},V=async ye=>{try{await n(()=>e.app.poll.convertToNews(ye.id,{title:ye.title,summary:ye.description})),q()}catch{h("Failed to convert poll to news")}},Z=[{id:"title",label:"Title",minWidth:200,sortable:!0,format:(ye,ie)=>t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:ye}),t.jsxs(pe,{direction:"row",spacing:1,alignItems:"center",sx:{mt:.5},children:[t.jsxs(j,{variant:"caption",color:"text.secondary",children:["ID: ",ie.id]}),ie.isTrending&&t.jsx(Qe,{label:"Trending",color:"warning",size:"small",icon:t.jsx(ys,{}),sx:{height:16,"& .MuiChip-label":{fontSize:"0.6rem",px:.5}}})]})]})},{id:"channel",label:"Channel",minWidth:150,format:(ye,ie)=>{var le,se,xe,fe;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Sn,{src:(le=ie.channel)==null?void 0:le.photoUrl,sx:{width:24,height:24},children:(xe=(se=ie.channel)==null?void 0:se.name)==null?void 0:xe[0]}),t.jsx(j,{variant:"body2",noWrap:!0,children:((fe=ie.channel)==null?void 0:fe.name)||"Unknown"})]})}},{id:"creator",label:"Creator",minWidth:120,format:(ye,ie)=>{var le;return t.jsx(j,{variant:"body2",noWrap:!0,children:((le=ie.creator)==null?void 0:le.displayName)||"Unknown"})}},{id:"voteCount",label:"Votes",minWidth:80,align:"right",sortable:!0,format:ye=>t.jsx(j,{variant:"body2",children:(ye==null?void 0:ye.toLocaleString())||"0"})},{id:"stats",label:"Stats",minWidth:120,format:(ye,ie)=>{var le,se,xe,fe;return t.jsxs(pe,{spacing:.5,children:[t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Views: ",((se=(le=ie.stats)==null?void 0:le.viewCount)==null?void 0:se.toLocaleString())||"0"]}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Funds: $",((fe=(xe=ie.stats)==null?void 0:xe.totalFunds)==null?void 0:fe.toLocaleString())||"0"]})]})}},{id:"endDate",label:"End Date",minWidth:120,sortable:!0,format:ye=>t.jsx(j,{variant:"body2",children:ye?new Date(ye).toLocaleDateString():"No end date"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:ye=>t.jsx(j,{variant:"body2",children:new Date(ye).toLocaleDateString()})}],Ee=Object.entries(RB).map(([ye,ie])=>({value:ie,label:ye.replace(/_/g," ").toLowerCase().replace(/\b\w/g,le=>le.toUpperCase())})),be=t.jsxs(pe,{direction:"row",spacing:1,children:[t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(Ct,{children:"Status"}),t.jsxs(xt,{value:R,label:"Status",onChange:ye=>_(ye.target.value),children:[t.jsx(je,{value:"",children:"All Status"}),Ee.map(ye=>t.jsx(je,{value:ye.value,children:ye.label},ye.value))]})]}),t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(Ct,{children:"Trending"}),t.jsxs(xt,{value:k,label:"Trending",onChange:ye=>N(ye.target.value),children:[t.jsx(je,{value:"",children:"All"}),t.jsx(je,{value:"true",children:"Trending Only"}),t.jsx(je,{value:"false",children:"Non-Trending"})]})]}),t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(Ct,{children:"Funded"}),t.jsxs(xt,{value:$,label:"Funded",onChange:ye=>G(ye.target.value),children:[t.jsx(je,{value:"",children:"All"}),t.jsx(je,{value:"true",children:"Funded Only"}),t.jsx(je,{value:"false",children:"Not Funded"})]})]})]}),ae=ye=>t.jsxs(pe,{direction:"row",spacing:.5,children:[t.jsx(St,{title:"View",children:t.jsx(Ne,{size:"small",onClick:ie=>{ie.stopPropagation(),window.open(ge.APP_POLL_VIEW.replace(":id",ye.id),"_blank")},children:t.jsx(Ls,{fontSize:"small"})})}),t.jsx(St,{title:"Edit",children:t.jsx(Ne,{size:"small",onClick:ie=>{ie.stopPropagation(),Q(ye)},children:t.jsx(vs,{fontSize:"small"})})}),t.jsx(St,{title:"Convert to News",children:t.jsx(Ne,{size:"small",onClick:ie=>{ie.stopPropagation(),V(ye)},children:t.jsx(qR,{fontSize:"small"})})})]});return t.jsxs(C,{children:[t.jsx(No,{title:"Poll Management",columns:Z,rows:r,totalCount:o,loading:l,error:u,selected:f,onSelectionChange:m,onEdit:Q,onDelete:Y,onRefresh:q,onSearch:T,onSort:(ye,ie)=>{H(ye),J(ie)},onPageChange:E,onRowsPerPageChange:I,page:v,rowsPerPage:w,searchQuery:D,sortColumn:L,sortDirection:K,filters:be,rowActions:ae}),t.jsxs(Kt,{open:g,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"Edit Poll"}),t.jsx(Jt,{children:b&&t.jsxs(pe,{spacing:3,sx:{pt:1},children:[t.jsx(nt,{label:"Title",fullWidth:!0,defaultValue:b.title,onChange:ye=>S({...b,title:ye.target.value})}),t.jsx(nt,{label:"Description",fullWidth:!0,multiline:!0,rows:3,defaultValue:b.description,onChange:ye=>S({...b,description:ye.target.value})}),t.jsx(nt,{label:"End Date",type:"datetime-local",fullWidth:!0,defaultValue:b.endDate?new Date(b.endDate).toISOString().slice(0,16):"",onChange:ye=>S({...b,endDate:ye.target.value}),InputLabelProps:{shrink:!0}}),t.jsxs(Mc,{children:[t.jsx(Nc,{expandIcon:t.jsx(Lc,{}),children:t.jsxs(j,{variant:"subtitle2",children:["Poll Options (",((ee=b.options)==null?void 0:ee.length)||0,")"]})}),t.jsx($c,{children:t.jsx(pe,{spacing:2,children:(Ce=b.options)==null?void 0:Ce.map((ye,ie)=>t.jsxs(C,{sx:{p:2,border:1,borderColor:"divider",borderRadius:1},children:[t.jsxs(j,{variant:"body2",fontWeight:"medium",children:["Option ",ie+1,": ",ye.text]}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Votes: ",ye.voteCount]})]},ye.id))})})]}),t.jsxs(C,{children:[t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Poll ID: ",b.id]}),t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Created: ",new Date(b.createdAt).toLocaleString()]}),t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Channel: ",(Ae=b.channel)==null?void 0:Ae.name]}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Creator: ",(Be=b.creator)==null?void 0:Be.displayName]})]})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(he,{onClick:()=>oe(),variant:"contained",children:"Save Changes"})]})]})]})},RK=()=>{const{api:e}=Je(),{execute:n}=et(),[r,s]=x.useState([]),[o,i]=x.useState(0),[l,d]=x.useState(!1),[u,h]=x.useState(null),[f,m]=x.useState([]),[g,y]=x.useState(!1),[b,S]=x.useState(null),[v,E]=x.useState(0),[w,I]=x.useState(25),[D,T]=x.useState(""),[R,_]=x.useState(""),[k,N]=x.useState(""),[$,G]=x.useState(""),[L,H]=x.useState("created_at"),[K,J]=x.useState("desc"),q=async()=>{var ae;d(!0),h(null);try{const ee={};D&&(ee.search=D),R&&(ee.status=R),k==="true"&&(ee.trending=!0),$==="true"&&(ee.verified=!0);const Ce=await n(()=>e.admin.channels.getAllChannels(ee,{page:v+1,limit:w}),{showErrorToast:!1});Ce&&(s(Ce.items||[]),i(((ae=Ce.metadata)==null?void 0:ae.total)||0))}catch{h("Failed to fetch channels")}finally{d(!1)}};x.useEffect(()=>{q()},[v,w,D,R,k,$,L,K]);const Q=ae=>{S(ae),y(!0)},Y=async ae=>{const ee=ae.map(Ce=>Ce.id);try{await Promise.all(ee.map(Ce=>n(()=>e.app.channel.deleteChannel(Ce)))),m([]),q()}catch{h("Failed to delete channels")}},oe=async ae=>{if(b)try{await n(()=>e.app.channel.updateChannel(b.id,ae)),y(!1),S(null),q()}catch{h("Failed to update channel")}},V=[{id:"name",label:"Channel",minWidth:200,sortable:!0,format:(ae,ee)=>t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(Sn,{src:ee.logoUrl,sx:{width:40,height:40},children:ae==null?void 0:ae[0]}),t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:ae}),t.jsxs(j,{variant:"caption",color:"text.secondary",noWrap:!0,children:["@",ee.handle,"  ID: ",ee.id]})]})]})},{id:"description",label:"Description",minWidth:200,format:ae=>t.jsx(j,{variant:"body2",noWrap:!0,sx:{maxWidth:200},children:ae||"No description"})},{id:"status",label:"Status",minWidth:100,sortable:!0,format:ae=>t.jsx(Qe,{label:LW(ae),color:$W(ae),size:"small"})},{id:"stats",label:"Stats",minWidth:150,format:(ae,ee)=>{var Ce,Ae,Be,ye,ie,le;return t.jsxs(pe,{spacing:.5,children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(Io,{sx:{fontSize:14},color:"action"}),t.jsxs(j,{variant:"caption",children:[((Ae=(Ce=ee.stats)==null?void 0:Ce.activeSubscriptionCount)==null?void 0:Ae.toLocaleString())||"0"," subscribers"]})]}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(ra,{sx:{fontSize:14},color:"action"}),t.jsxs(j,{variant:"caption",children:[((ye=(Be=ee.stats)==null?void 0:Be.newsCount)==null?void 0:ye.toLocaleString())||"0"," news"]})]}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(zf,{sx:{fontSize:14},color:"action"}),t.jsxs(j,{variant:"caption",children:[((le=(ie=ee.stats)==null?void 0:ie.pollCount)==null?void 0:le.toLocaleString())||"0"," polls"]})]})]})}},{id:"tiers",label:"Tiers",minWidth:80,align:"center",format:(ae,ee)=>{var Ce,Ae;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:.5,justifyContent:"center"},children:[t.jsx(Gf,{sx:{fontSize:14},color:"action"}),t.jsx(j,{variant:"body2",children:((Ce=ee.stats)==null?void 0:Ce.tierCount)||((Ae=ee.tiers)==null?void 0:Ae.length)||"0"})]})}},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:ae=>t.jsx(j,{variant:"body2",children:new Date(ae).toLocaleDateString()})},{id:"updatedAt",label:"Updated",minWidth:120,sortable:!0,format:ae=>t.jsx(j,{variant:"body2",children:new Date(ae).toLocaleDateString()})}],Z=FW,Ee=t.jsxs(pe,{direction:"row",spacing:1,children:[t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(Ct,{children:"Status"}),t.jsxs(xt,{value:R,label:"Status",onChange:ae=>_(ae.target.value),children:[t.jsx(je,{value:"",children:"All Status"}),Z.map(ae=>t.jsx(je,{value:ae.value,children:ae.label},ae.value))]})]}),t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(Ct,{children:"Trending"}),t.jsxs(xt,{value:k,label:"Trending",onChange:ae=>N(ae.target.value),children:[t.jsx(je,{value:"",children:"All"}),t.jsx(je,{value:"true",children:"Trending Only"}),t.jsx(je,{value:"false",children:"Non-Trending"})]})]}),t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(Ct,{children:"Verified"}),t.jsxs(xt,{value:$,label:"Verified",onChange:ae=>G(ae.target.value),children:[t.jsx(je,{value:"",children:"All"}),t.jsx(je,{value:"true",children:"Verified Only"}),t.jsx(je,{value:"false",children:"Not Verified"})]})]})]}),be=ae=>t.jsxs(pe,{direction:"row",spacing:.5,children:[t.jsx(St,{title:"View",children:t.jsx(Ne,{size:"small",onClick:ee=>{ee.stopPropagation(),window.open(ge.APP_CHANNEL_VIEW.replace(":channelId",ae.id),"_blank")},children:t.jsx(Ls,{fontSize:"small"})})}),t.jsx(St,{title:"Edit",children:t.jsx(Ne,{size:"small",onClick:ee=>{ee.stopPropagation(),Q(ae)},children:t.jsx(vs,{fontSize:"small"})})})]});return t.jsxs(C,{children:[t.jsx(No,{title:"Channel Management",columns:V,rows:r,totalCount:o,loading:l,error:u,selected:f,onSelectionChange:m,onEdit:Q,onDelete:Y,onRefresh:q,onSearch:T,onSort:(ae,ee)=>{H(ae),J(ee)},onPageChange:E,onRowsPerPageChange:I,page:v,rowsPerPage:w,searchQuery:D,sortColumn:L,sortDirection:K,filters:Ee,rowActions:be}),t.jsxs(Kt,{open:g,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"Edit Channel"}),t.jsx(Jt,{children:b&&t.jsxs(pe,{spacing:3,sx:{pt:1},children:[t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(nt,{label:"Channel Name",fullWidth:!0,defaultValue:b.name,onChange:ae=>S({...b,name:ae.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(nt,{label:"Handle",fullWidth:!0,defaultValue:b.handle,onChange:ae=>S({...b,handle:ae.target.value}),InputProps:{startAdornment:"@"}})})]}),t.jsx(nt,{label:"Description",fullWidth:!0,multiline:!0,rows:3,defaultValue:b.description,onChange:ae=>S({...b,description:ae.target.value})}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(nt,{label:"Logo URL",fullWidth:!0,defaultValue:b.logoUrl,onChange:ae=>S({...b,logoUrl:ae.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(nt,{label:"Banner URL",fullWidth:!0,defaultValue:b.bannerUrl,onChange:ae=>S({...b,bannerUrl:ae.target.value})})})]}),t.jsxs(ht,{fullWidth:!0,children:[t.jsx(Ct,{children:"Status"}),t.jsx(xt,{value:b.status,label:"Status",onChange:ae=>S({...b,status:ae.target.value}),children:Z.map(ae=>t.jsx(je,{value:ae.value,children:ae.label},ae.value))})]}),b.tiers&&b.tiers.length>0&&t.jsxs(Mc,{children:[t.jsx(Nc,{expandIcon:t.jsx(Lc,{}),children:t.jsxs(j,{variant:"subtitle2",children:["Subscription Tiers (",b.tiers.length,")"]})}),t.jsx($c,{children:t.jsx(pe,{spacing:2,children:b.tiers.map(ae=>t.jsx(C,{sx:{p:2,border:1,borderColor:"divider",borderRadius:1},children:t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"body2",fontWeight:"medium",children:ae.name}),t.jsx(j,{variant:"caption",color:"text.secondary",children:ae.description})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsxs(j,{variant:"body2",children:["Price: ",ae.currency," ",ae.price]}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Order: ",ae.order," ",ae.isDefault&&"(Default)"]})]})]})},ae.id))})})]}),t.jsxs(C,{children:[t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Channel ID: ",b.id]}),t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Creator ID: ",b.creatorId]}),t.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Created: ",new Date(b.createdAt).toLocaleString()]}),t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Updated: ",new Date(b.updatedAt).toLocaleString()]})]})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(he,{onClick:()=>oe(b),variant:"contained",children:"Save Changes"})]})]})]})},kK=()=>{var le,se,xe;const{api:e}=Je(),{execute:n}=et(),[r,s]=x.useState([]),[o,i]=x.useState(0),[l,d]=x.useState(!1),[u,h]=x.useState(null),[f,m]=x.useState([]),[g,y]=x.useState(!1),[b,S]=x.useState(null),[v,E]=x.useState(!1),[w,I]=x.useState(null),[D,T]=x.useState(""),[R,_]=x.useState(""),[k,N]=x.useState(0),[$,G]=x.useState(25),[L,H]=x.useState(""),[K,J]=x.useState(""),[q]=x.useState(""),[Q,Y]=x.useState("created_at"),[oe,V]=x.useState("desc"),Z=async()=>{var fe;d(!0),h(null);try{const ke={};K&&(ke.status=K),q&&(ke.channelId=q);const ne=await n(()=>e.app.expenseOrder.getAllExpenseOrders({page:k+1,limit:$},ke),{showErrorToast:!1});ne&&(s(ne.items||[]),i(((fe=ne.metadata)==null?void 0:fe.total)||0))}catch{h("Failed to fetch expense orders")}finally{d(!1)}};x.useEffect(()=>{Z()},[k,$,L,K,q,Q,oe]);const Ee=fe=>{S(fe),y(!0)},be=(fe,ke)=>{S(fe),I(ke),E(!0),T(""),_("")},ae=async()=>{if(!(!b||!w))try{let fe;switch(w){case"approve":fe=await n(()=>e.app.expenseOrder.approveExpenseOrder(b.id,{notes:D}),{showSuccessMessage:!0,successMessage:"Expense order approved successfully!"});break;case"reject":fe=await n(()=>e.app.expenseOrder.rejectExpenseOrder(b.id,{rejectionReason:D,notes:D}),{showSuccessMessage:!0,successMessage:"Expense order rejected successfully!"});break;case"payment":fe=await n(()=>e.app.expenseOrder.processPayment(b.id,{paymentReference:R}),{showSuccessMessage:!0,successMessage:"Payment processed successfully!"});break}fe&&(E(!1),S(null),I(null),Z())}catch(fe){console.error(`Failed to ${w} expense order:`,fe)}},ee=fe=>{switch(fe){case mt.DRAFT:return"default";case mt.SUBMITTED:return"info";case mt.UNDER_REVIEW:return"warning";case mt.APPROVED:return"success";case mt.REJECTED:return"error";case mt.PAID:return"success";case mt.CANCELLED:return"secondary";default:return"default"}},Ce=(fe,ke)=>new Intl.NumberFormat("en-US",{style:"currency",currency:ke||"USD"}).format(fe),Ae=[{id:"title",label:"Expense",minWidth:200,sortable:!0,format:(fe,ke)=>{var ne;return t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:fe}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:[(ne=ke.type)==null?void 0:ne.name,"  ID: ",ke.id]})]})}},{id:"journalist",label:"Journalist",minWidth:150,format:(fe,ke)=>{var ne,_e,ce;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Sn,{sx:{width:24,height:24},children:((_e=(ne=ke.journalist)==null?void 0:ne.displayName)==null?void 0:_e[0])||"U"}),t.jsx(j,{variant:"body2",noWrap:!0,children:((ce=ke.journalist)==null?void 0:ce.displayName)||"Unknown User"})]})}},{id:"channel",label:"Channel",minWidth:120,format:(fe,ke)=>{var ne;return t.jsx(j,{variant:"body2",noWrap:!0,children:((ne=ke.channel)==null?void 0:ne.name)||"Unknown"})}},{id:"amount",label:"Amount",minWidth:100,align:"right",sortable:!0,format:(fe,ke)=>t.jsx(j,{variant:"body2",fontWeight:"medium",children:Ce(fe,ke.currency)})},{id:"status",label:"Status",minWidth:120,sortable:!0,format:fe=>t.jsx(Qe,{label:Rc[fe],color:ee(fe),size:"small"})},{id:"submitted_at",label:"Submitted",minWidth:120,sortable:!0,format:fe=>t.jsx(j,{variant:"body2",children:fe?new Date(fe).toLocaleDateString():"-"})},{id:"paid_at",label:"Paid",minWidth:120,sortable:!0,format:fe=>t.jsx(j,{variant:"body2",children:fe?new Date(fe).toLocaleDateString():"-"})},{id:"created_at",label:"Created",minWidth:120,sortable:!0,format:fe=>t.jsx(j,{variant:"body2",children:new Date(fe).toLocaleDateString()})}],Be=Object.entries(Rc).map(([fe,ke])=>({value:fe,label:ke})),ye=t.jsx(pe,{direction:"row",spacing:1,children:t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(Ct,{children:"Status"}),t.jsxs(xt,{value:K,label:"Status",onChange:fe=>J(fe.target.value),children:[t.jsx(je,{value:"",children:"All Status"}),Be.map(fe=>t.jsx(je,{value:fe.value,children:fe.label},fe.value))]})]})}),ie=fe=>t.jsxs(pe,{direction:"row",spacing:.5,children:[t.jsx(St,{title:"View",children:t.jsx(Ne,{size:"small",onClick:ke=>{ke.stopPropagation(),Ee(fe)},children:t.jsx(Ls,{fontSize:"small"})})}),fe.receiptUrl&&t.jsx(St,{title:"View Receipt",children:t.jsx(Ne,{size:"small",onClick:ke=>{ke.stopPropagation(),window.open(fe.receiptUrl,"_blank")},children:t.jsx(eo,{fontSize:"small"})})}),fe.status===mt.UNDER_REVIEW&&t.jsxs(t.Fragment,{children:[t.jsx(St,{title:"Approve",children:t.jsx(Ne,{size:"small",onClick:ke=>{ke.stopPropagation(),be(fe,"approve")},children:t.jsx(ai,{fontSize:"small",color:"success"})})}),t.jsx(St,{title:"Reject",children:t.jsx(Ne,{size:"small",onClick:ke=>{ke.stopPropagation(),be(fe,"reject")},children:t.jsx(Ns,{fontSize:"small",color:"error"})})})]}),fe.status===mt.APPROVED&&t.jsx(St,{title:"Process Payment",children:t.jsx(Ne,{size:"small",onClick:ke=>{ke.stopPropagation(),be(fe,"payment")},children:t.jsx(za,{fontSize:"small",color:"primary"})})})]});return t.jsxs(C,{children:[t.jsx(No,{title:"Expense Order Management",columns:Ae,rows:r,totalCount:o,loading:l,error:u,selected:f,onSelectionChange:m,onEdit:Ee,onRefresh:Z,onSearch:H,onSort:(fe,ke)=>{Y(fe),V(ke)},onPageChange:N,onRowsPerPageChange:G,page:k,rowsPerPage:$,searchQuery:L,sortColumn:Q,sortDirection:oe,filters:ye,rowActions:ie}),t.jsxs(Kt,{open:g,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"View Expense Order"}),t.jsx(Jt,{children:b&&t.jsxs(pe,{spacing:3,sx:{pt:1},children:[t.jsx(Fe,{variant:"outlined",children:t.jsx(Ve,{children:t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Title"}),t.jsx(j,{variant:"body2",children:b.title})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Amount"}),t.jsx(j,{variant:"body2",fontWeight:"medium",children:Ce(b.amount,b.currency)})]}),t.jsxs(F,{item:!0,xs:12,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Description"}),t.jsx(j,{variant:"body2",children:b.description})]})]})})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(Ve,{children:[t.jsx(j,{variant:"subtitle2",gutterBottom:!0,children:"Details"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"caption",color:"text.secondary",children:"Journalist"}),t.jsx(j,{variant:"body2",children:((le=b.journalist)==null?void 0:le.displayName)||"Unknown User"})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"caption",color:"text.secondary",children:"Channel"}),t.jsx(j,{variant:"body2",children:(se=b.channel)==null?void 0:se.name})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"caption",color:"text.secondary",children:"Type"}),t.jsx(j,{variant:"body2",children:(xe=b.type)==null?void 0:xe.name})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"caption",color:"text.secondary",children:"Status"}),t.jsx(Qe,{label:Rc[b.status],color:ee(b.status),size:"small"})]})]})]})}),b.notes&&t.jsx(dt,{severity:"info",children:t.jsx(j,{variant:"body2",children:b.notes})}),b.rejectionReason&&t.jsx(dt,{severity:"error",children:t.jsx(j,{variant:"body2",children:b.rejectionReason})}),b.paymentReference&&t.jsx(dt,{severity:"success",children:t.jsxs(j,{variant:"body2",children:["Payment Reference: ",b.paymentReference]})})]})}),t.jsx(Xt,{children:t.jsx(he,{onClick:()=>y(!1),children:"Close"})})]}),t.jsxs(Kt,{open:v,onClose:()=>E(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsxs(tn,{children:[w==="approve"&&"Approve Expense Order",w==="reject"&&"Reject Expense Order",w==="payment"&&"Process Payment"]}),t.jsx(Jt,{children:t.jsxs(pe,{spacing:2,sx:{pt:1},children:[w==="payment"&&t.jsx(nt,{label:"Payment Reference",fullWidth:!0,value:R,onChange:fe=>_(fe.target.value),placeholder:"Enter payment reference or transaction ID"}),t.jsx(nt,{label:w==="reject"?"Rejection Reason":"Notes",fullWidth:!0,multiline:!0,rows:3,value:D,onChange:fe=>T(fe.target.value),placeholder:w==="reject"?"Explain why this expense order is being rejected...":"Add any additional notes...",required:w==="reject"})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>E(!1),children:"Cancel"}),t.jsxs(he,{onClick:ae,variant:"contained",color:w==="approve"?"success":w==="reject"?"error":"primary",disabled:w==="reject"&&!D.trim(),children:[w==="approve"&&"Approve",w==="reject"&&"Reject",w==="payment"&&"Process Payment"]})]})]})]})},_K=()=>{var se,xe,fe,ke,ne,_e;const[e,n]=x.useState([]),[r,s]=x.useState(0),[o,i]=x.useState(!1),[l,d]=x.useState(null),[u,h]=x.useState([]),[f,m]=x.useState(!1),[g,y]=x.useState(!1),[b,S]=x.useState(!1),[v,E]=x.useState(null),[w,I]=x.useState(""),[D,T]=x.useState(0),[R,_]=x.useState(25),[k,N]=x.useState(""),[$,G]=x.useState(""),[L,H]=x.useState("createdAt"),[K,J]=x.useState("desc"),{api:q}=Je(),{execute:Q}=et(),Y=x.useCallback(async()=>{if(q!=null&&q.app.payout){i(!0),d(null);try{const ce={limit:R,offset:D*R};$&&(ce.status=$);const Se=await Q(()=>q.app.payout.getPayouts(ce));Se&&(n(Se.items||[]),s(Se.total||0))}catch(ce){console.error("Failed to fetch payouts:",ce),d("Failed to fetch payouts"),n([]),s(0)}finally{i(!1)}}},[q,Q,D,R,$]);x.useEffect(()=>{Y()},[Y]);const oe=ce=>{E(ce),m(!0)},V=ce=>{E(ce),y(!0)},Z=async()=>{if(!(!v||!(q!=null&&q.app.payout)))try{await Q(()=>q.app.payout.processPayout(v.id)),y(!1),E(null),Y()}catch{d("Failed to process payout")}},Ee=async ce=>{if(q!=null&&q.app.payout)try{await Q(()=>q.app.payout.retryPayout(ce.id)),Y()}catch{d("Failed to retry payout")}},be=ce=>{E(ce),I(""),S(!0)},ae=async()=>{if(!(!v||!(q!=null&&q.app.payout)))try{await Q(()=>q.app.payout.cancelPayout(v.id,{reason:w})),S(!1),E(null),I(""),Y()}catch{d("Failed to cancel payout")}},ee=ce=>{switch(ce){case"pending":return"warning";case"processing":return"info";case"completed":return"success";case"failed":return"error";case"cancelled":return"default";default:return"default"}},Ce=(ce,Se)=>new Intl.NumberFormat("en-US",{style:"currency",currency:Se||"USD"}).format(ce/100),Ae=ce=>ce?`${ce.firstName} ${ce.lastName}`:"Unknown",Be=[{id:"expenseOrder",label:"Expense Order",minWidth:200,sortable:!0,format:(ce,Se)=>{var Pe,W,Oe;return t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:((Pe=Se.expenseOrder)==null?void 0:Pe.title)||"N/A"}),t.jsxs(pe,{direction:"row",spacing:1,alignItems:"center",children:[t.jsx(Qe,{label:((Oe=(W=Se.expenseOrder)==null?void 0:W.type)==null?void 0:Oe.name)||"Unknown",size:"small",variant:"outlined",sx:{height:16,"& .MuiChip-label":{fontSize:"0.6rem",px:.5}}}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["#",Se.id.slice(0,8)]})]})]})}},{id:"channel",label:"Channel",minWidth:120,format:(ce,Se)=>{var Pe;return t.jsx(j,{variant:"body2",noWrap:!0,children:((Pe=Se.channel)==null?void 0:Pe.name)||"N/A"})}},{id:"journalist",label:"Journalist",minWidth:140,format:(ce,Se)=>{var Pe,W;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Sn,{sx:{width:24,height:24},children:((W=(Pe=Se.journalist)==null?void 0:Pe.firstName)==null?void 0:W[0])||"U"}),t.jsx(j,{variant:"body2",noWrap:!0,children:Ae(Se.journalist)})]})}},{id:"grossAmount",label:"Gross",minWidth:90,align:"right",sortable:!0,format:(ce,Se)=>t.jsx(j,{variant:"body2",children:Ce(Se.grossAmount,Se.currency)})},{id:"platformFeeAmount",label:"Fee",minWidth:80,align:"right",format:(ce,Se)=>t.jsxs(j,{variant:"body2",color:"text.secondary",children:["-",Ce(Se.platformFeeAmount,Se.currency)]})},{id:"netAmount",label:"Net Payout",minWidth:100,align:"right",sortable:!0,format:(ce,Se)=>t.jsx(j,{variant:"body2",fontWeight:"medium",color:"primary",children:Ce(Se.netAmount,Se.currency)})},{id:"status",label:"Status",minWidth:120,sortable:!0,format:(ce,Se)=>t.jsxs(pe,{spacing:.5,children:[t.jsx(Qe,{label:ce,color:ee(ce),size:"small",sx:{textTransform:"capitalize"}}),Se.errorMessage&&t.jsx(St,{title:Se.errorMessage,children:t.jsx(KR,{color:"error",sx:{fontSize:16}})}),Se.retryCount>0&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Retry ",Se.retryCount,"/",Se.maxRetries]})]})},{id:"paymentReference",label:"Payment Ref",minWidth:120,format:ce=>t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.75rem"},children:ce?ce.slice(0,12)+"...":"-"})},{id:"createdAt",label:"Created",minWidth:110,sortable:!0,format:ce=>t.jsx(j,{variant:"body2",children:new Date(ce).toLocaleDateString()})}],ye=[{value:"pending",label:"Pending"},{value:"processing",label:"Processing"},{value:"completed",label:"Completed"},{value:"failed",label:"Failed"},{value:"cancelled",label:"Cancelled"}],ie=t.jsx(pe,{direction:"row",spacing:1,children:t.jsxs(ht,{size:"small",sx:{minWidth:140},children:[t.jsx(Ct,{children:"Status"}),t.jsxs(xt,{value:$,label:"Status",onChange:ce=>G(ce.target.value),children:[t.jsx(je,{value:"",children:"All Status"}),ye.map(ce=>t.jsx(je,{value:ce.value,children:ce.label},ce.value))]})]})}),le=ce=>t.jsxs(pe,{direction:"row",spacing:.5,children:[t.jsx(St,{title:"View Details",children:t.jsx(Ne,{size:"small",onClick:Se=>{Se.stopPropagation(),oe(ce)},children:t.jsx(Ls,{fontSize:"small"})})}),ce.status==="pending"&&t.jsx(St,{title:"Process Payout",children:t.jsx(Ne,{size:"small",onClick:Se=>{Se.stopPropagation(),V(ce)},children:t.jsx(za,{fontSize:"small",color:"primary"})})}),ce.status==="failed"&&ce.retryCount<ce.maxRetries&&t.jsx(St,{title:"Retry Payout",children:t.jsx(Ne,{size:"small",onClick:Se=>{Se.stopPropagation(),Ee(ce)},children:t.jsx(JR,{fontSize:"small",color:"warning"})})}),(ce.status==="pending"||ce.status==="failed")&&t.jsx(St,{title:"Cancel Payout",children:t.jsx(Ne,{size:"small",onClick:Se=>{Se.stopPropagation(),be(ce)},children:t.jsx(Ns,{fontSize:"small",color:"error"})})}),ce.paymentReference&&t.jsx(St,{title:"View Payment Details",children:t.jsx(Ne,{size:"small",onClick:Se=>{Se.stopPropagation()},children:t.jsx(eo,{fontSize:"small"})})})]});return t.jsxs(C,{children:[t.jsx(No,{title:"Payout Management",columns:Be,rows:e,totalCount:r,loading:o,error:l,selected:u,onSelectionChange:h,onRefresh:Y,onSearch:N,onSort:(ce,Se)=>{H(ce),J(Se)},onPageChange:T,onRowsPerPageChange:_,page:D,rowsPerPage:R,searchQuery:k,sortColumn:L,sortDirection:K,filters:ie,rowActions:le}),t.jsxs(Kt,{open:f,onClose:()=>m(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"Payout Details"}),t.jsx(Jt,{children:v&&t.jsxs(pe,{spacing:3,sx:{pt:1},children:[t.jsx(Fe,{variant:"outlined",children:t.jsxs(Ve,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Expense Order Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Title"}),t.jsx(j,{variant:"body2",children:((se=v.expenseOrder)==null?void 0:se.title)||"N/A"})]}),t.jsxs(F,{item:!0,xs:12,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Description"}),t.jsx(j,{variant:"body2",children:((xe=v.expenseOrder)==null?void 0:xe.description)||"N/A"})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Type"}),t.jsx(Qe,{label:((ke=(fe=v.expenseOrder)==null?void 0:fe.type)==null?void 0:ke.name)||"Unknown",size:"small"})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Expense Order ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.85rem"},children:v.expenseOrderId})]})]})]})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(Ve,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Payout Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Journalist"}),t.jsx(j,{variant:"body2",children:Ae(v.journalist)}),t.jsx(j,{variant:"caption",color:"text.secondary",children:(ne=v.journalist)==null?void 0:ne.email})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Channel"}),t.jsx(j,{variant:"body2",children:((_e=v.channel)==null?void 0:_e.name)||"N/A"})]}),t.jsxs(F,{item:!0,xs:12,sm:4,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Gross Amount"}),t.jsx(j,{variant:"body2",children:Ce(v.grossAmount,v.currency)})]}),t.jsxs(F,{item:!0,xs:12,sm:4,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Platform Fee"}),t.jsxs(j,{variant:"body2",color:"error",children:["-",Ce(v.platformFeeAmount,v.currency)]})]}),t.jsxs(F,{item:!0,xs:12,sm:4,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Net Payout"}),t.jsx(j,{variant:"body2",fontWeight:"medium",color:"primary",children:Ce(v.netAmount,v.currency)})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Status"}),t.jsx(Qe,{label:v.status,color:ee(v.status),size:"small",sx:{textTransform:"capitalize"}})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Payment Reference"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.85rem"},children:v.paymentReference||"Not processed"})]})]})]})}),v.status==="failed"&&t.jsx(Fe,{variant:"outlined",children:t.jsxs(Ve,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Retry Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Retry Count"}),t.jsxs(j,{variant:"body2",children:[v.retryCount," / ",v.maxRetries]})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Next Retry"}),t.jsx(j,{variant:"body2",children:v.nextRetryAt?new Date(v.nextRetryAt).toLocaleString():"No retry scheduled"})]}),v.errorCategory&&t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Error Category"}),t.jsx(Qe,{label:v.errorCategory,size:"small",color:"error"})]})]})]})}),v.errorMessage&&t.jsx(dt,{severity:"error",children:t.jsx(j,{variant:"body2",children:v.errorMessage})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(Ve,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Timeline"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(j,{variant:"body2",children:new Date(v.createdAt).toLocaleString()})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Processed"}),t.jsx(j,{variant:"body2",children:v.processedAt?new Date(v.processedAt).toLocaleString():"Not processed"})]}),v.processedBy&&t.jsxs(F,{item:!0,xs:12,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Processed By"}),t.jsx(j,{variant:"body2",children:v.processedBy})]})]})]})})]})}),t.jsx(Xt,{children:t.jsx(he,{onClick:()=>m(!1),children:"Close"})})]}),t.jsxs(Kt,{open:g,onClose:()=>y(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Process Payout"}),t.jsx(Jt,{children:t.jsxs(pe,{spacing:2,sx:{pt:1},children:[v&&t.jsxs(dt,{severity:"warning",icon:t.jsx(za,{}),children:[t.jsxs(j,{variant:"body2",children:["You are about to process a payout of"," ",t.jsx("strong",{children:Ce(v.netAmount,v.currency)})," ","to ",t.jsx("strong",{children:Ae(v.journalist)}),"."]}),t.jsxs(j,{variant:"body2",sx:{mt:1},children:["Platform fee: ",Ce(v.platformFeeAmount,v.currency)]})]}),t.jsx(j,{variant:"body2",color:"text.secondary",children:"This action will initiate the payment process. The funds will be transferred to the journalist's payment method on file."})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(he,{onClick:Z,variant:"contained",color:"primary",startIcon:t.jsx(ai,{}),children:"Confirm & Process"})]})]}),t.jsxs(Kt,{open:b,onClose:()=>S(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Cancel Payout"}),t.jsx(Jt,{children:t.jsxs(pe,{spacing:2,sx:{pt:1},children:[v&&t.jsx(dt,{severity:"error",children:t.jsxs(j,{variant:"body2",children:["You are about to cancel the payout for ",t.jsx("strong",{children:Ae(v.journalist)}),"."]})}),t.jsx(nt,{label:"Cancellation Reason",fullWidth:!0,multiline:!0,rows:3,value:w,onChange:ce=>I(ce.target.value),placeholder:"Provide a reason for cancelling this payout..."})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>S(!1),children:"Close"}),t.jsx(he,{onClick:ae,variant:"contained",color:"error",startIcon:t.jsx(Ns,{}),children:"Cancel Payout"})]})]})]})},OK=()=>{const{api:e}=Je(),{execute:n}=et(),[r,s]=x.useState([]),[o,i]=x.useState(0),[l,d]=x.useState(!1),[u,h]=x.useState(null),[f,m]=x.useState([]),[g,y]=x.useState(!1),[b,S]=x.useState(!1),[v,E]=x.useState(null),[w,I]=x.useState(null),[D,T]=x.useState(""),[R,_]=x.useState(0),[k,N]=x.useState(25),[$,G]=x.useState(""),[L,H]=x.useState(""),[K]=x.useState(""),[J,q]=x.useState("created_at"),[Q,Y]=x.useState("desc"),oe=x.useCallback(async()=>{var ie;d(!0),h(null);try{const le={};$&&(le.search=$),L&&(le.status=L),K&&(le.channel_id=K);const se=await n(()=>e.app.subscription.getAllSubscriptions({page:R+1,limit:k},le),{showErrorToast:!1});se&&(s(se.items||[]),i(((ie=se.metadata)==null?void 0:ie.total)||0))}catch{h("Failed to fetch subscriptions")}finally{d(!1)}},[R,k,$,L,K,e.app.subscription,n]);x.useEffect(()=>{oe()},[oe]);const V=ie=>{E(ie),y(!0)},Z=(ie,le)=>{E(ie),I(le),S(!0),T("")},Ee=async()=>{if(!(!v||!w))try{const ie=w==="activate"?"active":w==="suspend"?"suspended":"canceled";await n(()=>e.app.subscription.updateSubscriptionStatus(v.id,ie,D)),S(!1),E(null),I(null),T(""),oe()}catch{h(`Failed to ${w} subscription`)}},be=async()=>{try{const ie=L==="cancelled"?"canceled":L,le=await n(()=>e.app.subscription.exportSubscriptions({status:ie,channel_id:K},"csv"));if(le){const se=window.URL.createObjectURL(le),xe=document.createElement("a");xe.href=se,xe.download=`subscriptions-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(xe),xe.click(),window.URL.revokeObjectURL(se),document.body.removeChild(xe)}}catch{h("Failed to export subscriptions")}},ae=(ie,le)=>new Intl.NumberFormat("en-US",{style:"currency",currency:le||"USD"}).format(ie),ee=ie=>new Date(ie).toLocaleDateString(),Ce=[{id:"user",label:"User",minWidth:180,format:(ie,le)=>{var se,xe;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Sn,{sx:{width:32,height:32},children:((se=le.user.displayName)==null?void 0:se[0])||((xe=le.user.email)==null?void 0:xe[0])}),t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:le.user.displayName}),t.jsx(j,{variant:"caption",color:"text.secondary",noWrap:!0,children:le.user.email})]})]})}},{id:"channel",label:"Channel",minWidth:120,format:(ie,le)=>t.jsx(j,{variant:"body2",noWrap:!0,children:le.channel.name})},{id:"tier",label:"Tier",minWidth:150,format:(ie,le)=>t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:le.tier.name}),t.jsx(j,{variant:"caption",color:"text.secondary",children:ae(le.tier.price,le.tier.currency)})]})},{id:"statusId",label:"Status",minWidth:100,sortable:!0,format:ie=>t.jsx(Qe,{label:ld(ie),color:cd(ie),size:"small",sx:{textTransform:"capitalize"}})},{id:"subscribedAt",label:"Subscribed",minWidth:120,sortable:!0,format:ie=>t.jsx(j,{variant:"body2",children:ee(ie)})},{id:"expiresAt",label:"Expires",minWidth:120,sortable:!0,format:ie=>t.jsx(j,{variant:"body2",children:ie?ee(ie):"Never"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:ie=>t.jsx(j,{variant:"body2",children:ee(ie)})}],Ae=QB,Be=t.jsx(pe,{direction:"row",spacing:1,children:t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(Ct,{children:"Status"}),t.jsxs(xt,{value:L,label:"Status",onChange:ie=>H(ie.target.value),children:[t.jsx(je,{value:"",children:"All Status"}),Ae.map(ie=>t.jsx(je,{value:ie.value,children:ie.label},ie.value))]})]})}),ye=ie=>t.jsxs(pe,{direction:"row",spacing:.5,children:[t.jsx(St,{title:"View Details",children:t.jsx(Ne,{size:"small",onClick:le=>{le.stopPropagation(),V(ie)},children:t.jsx(Ls,{fontSize:"small"})})}),ie.statusId===Nn.SUSPENDED&&t.jsx(St,{title:"Activate",children:t.jsx(Ne,{size:"small",onClick:le=>{le.stopPropagation(),Z(ie,"activate")},children:t.jsx(ai,{fontSize:"small",color:"success"})})}),ie.statusId===Nn.ACTIVE&&t.jsx(St,{title:"Suspend",children:t.jsx(Ne,{size:"small",onClick:le=>{le.stopPropagation(),Z(ie,"suspend")},children:t.jsx(Fv,{fontSize:"small",color:"warning"})})}),ie.statusId!==Nn.CANCELLED&&t.jsx(St,{title:"Cancel",children:t.jsx(Ne,{size:"small",onClick:le=>{le.stopPropagation(),Z(ie,"cancel")},children:t.jsx(Ns,{fontSize:"small",color:"error"})})})]});return t.jsxs(C,{children:[t.jsx(No,{title:"Subscription Management",columns:Ce,rows:r,totalCount:o,loading:l,error:u,selected:f,onSelectionChange:m,onRefresh:oe,onSearch:G,onSort:(ie,le)=>{q(ie),Y(le)},onPageChange:_,onRowsPerPageChange:N,page:R,rowsPerPage:k,searchQuery:$,sortColumn:J,sortDirection:Q,filters:Be,rowActions:ye,actions:t.jsxs(pe,{direction:"row",spacing:1,children:[t.jsx(he,{variant:"outlined",startIcon:t.jsx(ys,{}),onClick:()=>{},children:"Analytics"}),t.jsx(he,{variant:"outlined",startIcon:t.jsx($v,{}),onClick:be,children:"Export"})]})}),t.jsxs(Kt,{open:g,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"Subscription Details"}),t.jsx(Jt,{children:v&&t.jsxs(pe,{spacing:3,sx:{pt:1},children:[t.jsx(Fe,{variant:"outlined",children:t.jsxs(Ve,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"User Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Name"}),t.jsx(j,{variant:"body2",children:v.user.displayName})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Email"}),t.jsx(j,{variant:"body2",children:v.user.email})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"User ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace"},children:v.user.id})]})]})]})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(Ve,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Subscription Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Channel"}),t.jsx(j,{variant:"body2",children:v.channel.name})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Tier"}),t.jsx(j,{variant:"body2",children:v.tier.name})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Price"}),t.jsx(j,{variant:"body2",fontWeight:"medium",children:ae(v.tier.price,v.tier.currency)})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Status"}),t.jsx(Qe,{label:ld(v.statusId),color:cd(v.statusId),size:"small",sx:{textTransform:"capitalize"}})]})]})]})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(Ve,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Timeline"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Subscribed"}),t.jsx(j,{variant:"body2",children:ee(v.subscribedAt)})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Expires"}),t.jsx(j,{variant:"body2",children:v.expiresAt?ee(v.expiresAt):"Never"})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(j,{variant:"body2",children:ee(v.createdAt)})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Updated"}),t.jsx(j,{variant:"body2",children:ee(v.updatedAt)})]})]})]})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(Ve,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"System Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Subscription ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace"},children:v.id})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Channel ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace"},children:v.channel.id})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Tier ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace"},children:v.tier.id})]})]})]})})]})}),t.jsx(Xt,{children:t.jsx(he,{onClick:()=>y(!1),children:"Close"})})]}),t.jsxs(Kt,{open:b,onClose:()=>S(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsxs(tn,{children:[w==="activate"&&"Activate Subscription",w==="suspend"&&"Suspend Subscription",w==="cancel"&&"Cancel Subscription"]}),t.jsx(Jt,{children:t.jsxs(pe,{spacing:2,sx:{pt:1},children:[v&&t.jsxs(dt,{severity:w==="activate"?"info":"warning",children:[w==="activate"&&`Activating subscription for ${v.user.displayName}`,w==="suspend"&&`Suspending subscription for ${v.user.displayName}`,w==="cancel"&&`Canceling subscription for ${v.user.displayName}`]}),t.jsx(nt,{label:"Reason",fullWidth:!0,multiline:!0,rows:3,value:D,onChange:ie=>T(ie.target.value),placeholder:`Explain why this subscription is being ${w}d...`,required:w!=="activate"})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>S(!1),children:"Cancel"}),t.jsxs(he,{onClick:Ee,variant:"contained",color:w==="activate"?"success":w==="suspend"?"warning":"error",disabled:(w==="suspend"||w==="cancel")&&!D.trim(),children:[w==="activate"&&"Activate",w==="suspend"&&"Suspend",w==="cancel"&&"Cancel"]})]})]})]})},MK=()=>{const{api:e}=Je(),{execute:n}=et(),[r,s]=x.useState([]),[o,i]=x.useState(0),[l,d]=x.useState(!1),[u,h]=x.useState(null),[f,m]=x.useState([]),[g,y]=x.useState(!1),[b,S]=x.useState(!1),[v,E]=x.useState(!1),[w,I]=x.useState(null),[D,T]=x.useState({email:"",externalId:"",displayName:"",photoUrl:"",roleId:an.REGULAR_USER,statusId:Kn.ACTIVE}),[R,_]=x.useState({system_role:an.REGULAR_USER,system_status:Kn.ACTIVE}),[k,N]=x.useState(0),[$,G]=x.useState(25),[L,H]=x.useState(""),[K,J]=x.useState(""),[q,Q]=x.useState(""),[Y,oe]=x.useState("created_at"),[V,Z]=x.useState("desc"),Ee=async()=>{var W;d(!0),h(null);try{const Oe={page:k+1,limit:$,sort:Y,order:V,search:L||void 0,status:K||void 0,role:q||void 0},ze=await n(()=>e.admin.users.getAllUsers(Oe),{showErrorToast:!1});ze&&(s(ze.items||[]),i(((W=ze.metadata)==null?void 0:W.total)||0))}catch{h("Failed to fetch users")}finally{d(!1)}};x.useEffect(()=>{Ee()},[k,$,L,K,q,Y,V]);const be=W=>{I(W),y(!0)},ae=async W=>{const Oe=W.map(ze=>ze.id);try{await Promise.all(Oe.map(ze=>n(()=>e.admin.users.deleteUser(ze)))),m([]),Ee()}catch{h("Failed to delete users")}},ee=async W=>{if(w)try{await n(()=>e.admin.users.updateUser(w.id,W),{showSuccessMessage:!0,successMessage:"User updated successfully"}),y(!1),I(null),Ee()}catch{h("Failed to update user")}},Ce=async()=>{try{await n(()=>e.admin.users.registerUser(D),{showSuccessMessage:!0,successMessage:"User registered successfully"}),S(!1),T({email:"",externalId:"",displayName:"",photoUrl:"",roleId:an.REGULAR_USER,statusId:Kn.ACTIVE}),Ee()}catch{h("Failed to register user")}},Ae=async(W,Oe)=>{try{await n(()=>e.admin.users.suspendUser(W,{reason:Oe}),{showSuccessMessage:!0,successMessage:"User suspended successfully"}),Ee()}catch{h("Failed to suspend user")}},Be=async(W,Oe)=>{try{await n(()=>e.admin.users.unsuspendUser(W,{reason:Oe}),{showSuccessMessage:!0,successMessage:"User unsuspended successfully"}),Ee()}catch{h("Failed to unsuspend user")}},ye=async()=>{if(w)try{await n(()=>e.admin.users.updateUserCustomClaims(w.id,R),{showSuccessMessage:!0,successMessage:"Custom claims updated successfully"}),E(!1),Ee()}catch{h("Failed to update custom claims")}},ie=W=>{I(W),_({system_role:W.roleId??an.REGULAR_USER,system_status:W.statusId??Kn.ACTIVE}),E(!0)},le=W=>{switch(W){case an.SUPER_ADMIN:return"error";case an.ADMIN:return"error";case an.MODERATOR:return"warning";case an.JOURNALIST:return"primary";case an.EDITOR:return"info";case an.EVALUATOR:return"secondary";case an.FINANCE_MANAGER:return"success";case an.REGULAR_USER:return"default";case an.GUEST:return"default";default:return"default"}},se=W=>{const Oe=Object.entries(an).find(([,ze])=>ze===W);return Oe?Oe[0].replace(/_/g," ").toLowerCase().replace(/\b\w/g,ze=>ze.toUpperCase()):"Unknown"},xe=W=>{switch(W){case Kn.ACTIVE:return"success";case Kn.INACTIVE:return"default";case Kn.PENDING:return"warning";case Kn.BLOCKED:return"error";case Kn.SUSPENDED:return"warning";case Kn.BANNED:return"error";case Kn.DELETED:return"secondary";case Kn.NOT_VERIFIED:return"info";default:return"default"}},fe=W=>{const Oe=Object.entries(Kn).find(([,ze])=>ze===W);return Oe?Oe[0].replace(/_/g," ").toLowerCase().replace(/\b\w/g,ze=>ze.toUpperCase()):"Unknown"},ke=[{id:"displayName",label:"User",minWidth:200,sortable:!0,format:(W,Oe)=>{var ze;return t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(Sn,{src:Oe.photoUrl,sx:{width:40,height:40},children:(W==null?void 0:W[0])||((ze=Oe.email)==null?void 0:ze[0])}),t.jsxs(C,{children:[t.jsx(j,{variant:"body2",fontWeight:"medium",noWrap:!0,children:W}),t.jsx(j,{variant:"caption",color:"text.secondary",noWrap:!0,children:Oe.email})]})]})}},{id:"roleId",label:"Role",minWidth:120,sortable:!0,format:W=>t.jsx(Qe,{label:se(W),color:le(W),size:"small",icon:W===an.SUPER_ADMIN||W===an.ADMIN?t.jsx(XR,{fontSize:"small"}):W===an.JOURNALIST||W===an.EDITOR?t.jsx(QR,{fontSize:"small"}):t.jsx(Vf,{fontSize:"small"})})},{id:"statusId",label:"Status",minWidth:120,sortable:!0,format:W=>t.jsx(Qe,{label:fe(W),color:xe(W),size:"small"})},{id:"lastLogin",label:"Last Login",minWidth:120,sortable:!0,format:W=>t.jsx(j,{variant:"body2",children:W?new Date(W).toLocaleDateString():"Never"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:W=>t.jsx(j,{variant:"body2",children:new Date(W).toLocaleDateString()})},{id:"updatedAt",label:"Updated",minWidth:120,sortable:!0,format:W=>t.jsx(j,{variant:"body2",children:new Date(W).toLocaleDateString()})}],ne=Object.entries(Kn).map(([W,Oe])=>({value:Oe,label:W.replace(/_/g," ").toLowerCase().replace(/\b\w/g,ze=>ze.toUpperCase())})),_e=Object.entries(an).map(([W,Oe])=>({value:Oe,label:W.replace(/_/g," ").toLowerCase().replace(/\b\w/g,ze=>ze.toUpperCase())})),ce=t.jsxs(pe,{direction:"row",spacing:1,children:[t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(Ct,{children:"Status"}),t.jsxs(xt,{value:K,label:"Status",onChange:W=>J(W.target.value),children:[t.jsx(je,{value:"",children:"All Status"}),ne.map(W=>t.jsx(je,{value:W.value,children:W.label},W.value))]})]}),t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(Ct,{children:"Role"}),t.jsxs(xt,{value:q,label:"Role",onChange:W=>Q(W.target.value),children:[t.jsx(je,{value:"",children:"All Roles"}),_e.map(W=>t.jsx(je,{value:W.value,children:W.label},W.value))]})]})]}),Se=W=>t.jsxs(pe,{direction:"row",spacing:.5,children:[t.jsx(St,{title:"View/Edit",children:t.jsx(Ne,{size:"small",onClick:Oe=>{Oe.stopPropagation(),be(W)},children:t.jsx(Ls,{fontSize:"small"})})}),t.jsx(St,{title:"Update Custom Claims",children:t.jsx(Ne,{size:"small",onClick:Oe=>{Oe.stopPropagation(),ie(W)},children:t.jsx(ZR,{fontSize:"small",color:"info"})})}),W.statusId!==Kn.SUSPENDED&&W.statusId!==Kn.BANNED&&t.jsx(St,{title:"Suspend User",children:t.jsx(Ne,{size:"small",onClick:Oe=>{Oe.stopPropagation(),Ae(W.id)},children:t.jsx(Fv,{fontSize:"small",color:"warning"})})}),W.statusId===Kn.SUSPENDED&&t.jsx(St,{title:"Unsuspend User",children:t.jsx(Ne,{size:"small",onClick:Oe=>{Oe.stopPropagation(),Be(W.id)},children:t.jsx(ai,{fontSize:"small",color:"success"})})})]}),Pe=t.jsx(he,{variant:"contained",startIcon:t.jsx(To,{}),onClick:()=>S(!0),children:"Register User"});return t.jsxs(C,{children:[t.jsx(No,{title:"User Management",columns:ke,rows:r,totalCount:o,loading:l,error:u,selected:f,onSelectionChange:m,onEdit:be,onDelete:ae,onRefresh:Ee,onSearch:H,onSort:(W,Oe)=>{oe(W),Z(Oe)},onPageChange:N,onRowsPerPageChange:G,page:k,rowsPerPage:$,searchQuery:L,sortColumn:Y,sortDirection:V,filters:ce,rowActions:Se,actions:Pe}),t.jsxs(Kt,{open:g,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"Edit User"}),t.jsx(Jt,{children:w&&t.jsxs(pe,{spacing:3,sx:{pt:1},children:[t.jsx(Fe,{variant:"outlined",children:t.jsxs(Ve,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"User Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(nt,{label:"Display Name",fullWidth:!0,value:w.displayName||"",onChange:W=>I({...w,displayName:W.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(nt,{label:"Email",fullWidth:!0,value:w.email||"",onChange:W=>I({...w,email:W.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(nt,{label:"Photo URL",fullWidth:!0,value:w.photoUrl||"",onChange:W=>I({...w,photoUrl:W.target.value})})})]})]})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(Ve,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Role & Status"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsxs(ht,{fullWidth:!0,children:[t.jsx(Ct,{children:"Role"}),t.jsx(xt,{value:w.roleId,label:"Role",onChange:W=>I({...w,roleId:W.target.value}),children:_e.map(W=>t.jsx(je,{value:W.value,children:W.label},W.value))})]})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsxs(ht,{fullWidth:!0,children:[t.jsx(Ct,{children:"Status"}),t.jsx(xt,{value:w.statusId,label:"Status",onChange:W=>I({...w,statusId:W.target.value}),children:ne.map(W=>t.jsx(je,{value:W.value,children:W.label},W.value))})]})})]})]})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(Ve,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"System Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"User ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace"},children:w.id})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"External ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace"},children:w.externalId})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(j,{variant:"body2",children:new Date(w.createdAt).toLocaleString()})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Last Login"}),t.jsx(j,{variant:"body2",children:w.lastLogin?new Date(w.lastLogin).toLocaleString():"Never"})]})]})]})}),w.channelSubscriptions&&w.channelSubscriptions.length>0&&t.jsx(Fe,{variant:"outlined",children:t.jsxs(Ve,{children:[t.jsxs(j,{variant:"h6",gutterBottom:!0,children:["Channel Subscriptions (",w.channelSubscriptions.length,")"]}),t.jsxs(pe,{spacing:1,children:[w.channelSubscriptions.slice(0,5).map((W,Oe)=>{var ze;return t.jsxs(C,{sx:{p:1,border:1,borderColor:"divider",borderRadius:1},children:[t.jsx(j,{variant:"body2",fontWeight:"medium",children:((ze=W.channel)==null?void 0:ze.name)||"Unknown Channel"}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Status: ",W.status,"  Started: ",new Date(W.subscribedAt).toLocaleDateString()]})]},Oe)}),w.channelSubscriptions.length>5&&t.jsxs(j,{variant:"caption",color:"text.secondary",children:["And ",w.channelSubscriptions.length-5," more..."]})]})]})})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(he,{onClick:()=>ee(w),variant:"contained",children:"Save Changes"})]})]}),t.jsxs(Kt,{open:b,onClose:()=>S(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Register New User"}),t.jsx(Jt,{children:t.jsxs(pe,{spacing:2,sx:{pt:1},children:[t.jsx(nt,{label:"Email",type:"email",fullWidth:!0,required:!0,value:D.email,onChange:W=>T({...D,email:W.target.value})}),t.jsx(nt,{label:"External ID (Firebase UID)",fullWidth:!0,required:!0,value:D.externalId,onChange:W=>T({...D,externalId:W.target.value}),helperText:"The Firebase authentication UID for this user"}),t.jsx(nt,{label:"Display Name",fullWidth:!0,required:!0,value:D.displayName,onChange:W=>T({...D,displayName:W.target.value})}),t.jsx(nt,{label:"Photo URL",fullWidth:!0,value:D.photoUrl,onChange:W=>T({...D,photoUrl:W.target.value})}),t.jsxs(ht,{fullWidth:!0,children:[t.jsx(Ct,{children:"Role"}),t.jsx(xt,{value:D.roleId,label:"Role",onChange:W=>T({...D,roleId:W.target.value}),children:_e.map(W=>t.jsx(je,{value:W.value,children:W.label},W.value))})]}),t.jsxs(ht,{fullWidth:!0,children:[t.jsx(Ct,{children:"Status"}),t.jsx(xt,{value:D.statusId,label:"Status",onChange:W=>T({...D,statusId:W.target.value}),children:ne.map(W=>t.jsx(je,{value:W.value,children:W.label},W.value))})]})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>S(!1),children:"Cancel"}),t.jsx(he,{onClick:Ce,variant:"contained",disabled:!D.email||!D.externalId||!D.displayName,children:"Register User"})]})]}),t.jsxs(Kt,{open:v,onClose:()=>E(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(tn,{children:"Update Firebase Custom Claims"}),t.jsx(Jt,{children:w&&t.jsxs(pe,{spacing:2,sx:{pt:1},children:[t.jsxs(j,{variant:"body2",color:"text.secondary",children:["Update Firebase custom claims for: ",t.jsx("strong",{children:w.displayName})," (",w.email,")"]}),t.jsxs(ht,{fullWidth:!0,children:[t.jsx(Ct,{children:"System Role"}),t.jsx(xt,{value:R.system_role,label:"System Role",onChange:W=>_({...R,system_role:W.target.value}),children:_e.map(W=>t.jsx(je,{value:W.value,children:W.label},W.value))})]}),t.jsxs(ht,{fullWidth:!0,children:[t.jsx(Ct,{children:"System Status"}),t.jsx(xt,{value:R.system_status,label:"System Status",onChange:W=>_({...R,system_status:W.target.value}),children:ne.map(W=>t.jsx(je,{value:W.value,children:W.label},W.value))})]}),t.jsx(j,{variant:"caption",color:"warning.main",children:"Warning: This will update the user's Firebase authentication custom claims. The user may need to re-authenticate for changes to take effect."})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>E(!1),children:"Cancel"}),t.jsx(he,{onClick:ye,variant:"contained",color:"warning",children:"Update Claims"})]})]})]})},ns={SYSTEM:"SYSTEM",USER:"USER",CHANNEL:"CHANNEL",TRENDING:"TRENDING"},Fr={PENDING:"PENDING",APPROVED:"APPROVED",REJECTED:"REJECTED",FLAGGED:"FLAGGED"};function NK(e){switch(e){case ns.SYSTEM:return"System";case ns.USER:return"User";case ns.CHANNEL:return"Channel";case ns.TRENDING:return"Trending";default:return e}}function LK(e){switch(e){case ns.SYSTEM:return"primary";case ns.USER:return"info";case ns.CHANNEL:return"secondary";case ns.TRENDING:return"warning";default:return"default"}}function $K(e){switch(e){case Fr.PENDING:return"Pending";case Fr.APPROVED:return"Approved";case Fr.REJECTED:return"Rejected";case Fr.FLAGGED:return"Flagged";default:return e}}function FK(e){switch(e){case Fr.PENDING:return"warning";case Fr.APPROVED:return"success";case Fr.REJECTED:return"error";case Fr.FLAGGED:return"error";default:return"default"}}const BK=[{value:ns.SYSTEM,label:"System"},{value:ns.USER,label:"User"},{value:ns.CHANNEL,label:"Channel"},{value:ns.TRENDING,label:"Trending"}],WK=[{value:Fr.PENDING,label:"Pending"},{value:Fr.APPROVED,label:"Approved"},{value:Fr.REJECTED,label:"Rejected"},{value:Fr.FLAGGED,label:"Flagged"}],VK=()=>{var xe,fe,ke;const{api:e}=Je(),{execute:n}=et(),[r,s]=x.useState([]),[o,i]=x.useState(0),[l,d]=x.useState(!1),[u,h]=x.useState(null),[f,m]=x.useState([]),[g,y]=x.useState(!1),[b,S]=x.useState(null),[v,E]=x.useState(!1),[w,I]=x.useState(null),[D,T]=x.useState(0),[R,_]=x.useState(25),[k,N]=x.useState(""),[$,G]=x.useState(""),[L,H]=x.useState(""),[K,J]=x.useState(""),[q,Q]=x.useState(""),[Y,oe]=x.useState("created_at"),[V,Z]=x.useState("desc"),Ee=async()=>{var ne;d(!0),h(null);try{const _e={};k&&(_e.search=k),$&&(_e.status=$),L&&(_e.type=L),K==="true"&&(_e.verified=!0),q==="true"&&(_e.trending=!0);const ce=await n(()=>e.app.tag.getTags(_e,{page:D+1,limit:R}),{showErrorToast:!1});ce&&(s(ce.items||[]),i(((ne=ce.metadata)==null?void 0:ne.total)||0))}catch{h("Failed to fetch tags")}finally{d(!1)}};x.useEffect(()=>{Ee()},[D,R,k,$,L,K,q,Y,V]);const be=ne=>{S(ne),y(!0)},ae=async ne=>{const _e=ne.map(ce=>ce.id);try{await Promise.all(_e.map(ce=>n(()=>e.app.tag.deleteTag(ce)))),m([]),Ee()}catch{h("Failed to delete tags")}},ee=(ne,_e)=>{S(ne),I(_e),E(!0)},Ce=async()=>{if(!(!b||!w))try{w==="approve"?await n(()=>e.app.tag.approveTag(b.id)):await n(()=>e.app.tag.rejectTag(b.id)),E(!1),S(null),I(null),Ee()}catch{h(`Failed to ${w} tag`)}},Ae=async ne=>{if(b)try{await n(()=>e.app.tag.updateTag(b.id,ne)),y(!1),S(null),Ee()}catch{h("Failed to update tag")}},Be=[{id:"name",label:"Tag",minWidth:180,sortable:!0,format:(ne,_e)=>t.jsxs(C,{children:[t.jsxs(pe,{direction:"row",alignItems:"center",spacing:1,children:[t.jsx(Hf,{fontSize:"small",color:"action"}),t.jsx(j,{variant:"body2",fontWeight:"medium",children:ne}),_e.isVerified&&t.jsx(ek,{fontSize:"small",color:"primary"}),_e.isTrending&&t.jsx(ys,{fontSize:"small",color:"warning"})]}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["@",_e.slug,"  ID: ",_e.id]})]})},{id:"typeId",label:"Type",minWidth:100,sortable:!0,format:ne=>t.jsx(Qe,{label:NK(ne),color:LK(ne),size:"small"})},{id:"statusId",label:"Status",minWidth:100,sortable:!0,format:ne=>t.jsx(Qe,{label:$K(ne),color:FK(ne),size:"small"})},{id:"analytics",label:"Analytics",minWidth:150,format:(ne,_e)=>{var ce,Se,Pe,W,Oe,ze;return t.jsxs(pe,{spacing:.5,children:[t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Views: ",((Se=(ce=_e.analytics)==null?void 0:ce.viewCount)==null?void 0:Se.toLocaleString())||"0"]}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Usage: ",((W=(Pe=_e.analytics)==null?void 0:Pe.usageCount)==null?void 0:W.toLocaleString())||"0"]}),t.jsxs(j,{variant:"caption",color:"text.secondary",children:["Searches: ",((ze=(Oe=_e.analytics)==null?void 0:Oe.searchCount)==null?void 0:ze.toLocaleString())||"0"]})]})}},{id:"createdBy",label:"Created By",minWidth:120,format:ne=>t.jsx(j,{variant:"body2",children:ne||"System"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:ne=>t.jsx(j,{variant:"body2",children:new Date(ne).toLocaleDateString()})},{id:"approvedAt",label:"Approved",minWidth:120,sortable:!0,format:ne=>t.jsx(j,{variant:"body2",children:ne?new Date(ne).toLocaleDateString():"-"})}],ye=WK,ie=BK,le=t.jsxs(pe,{direction:"row",spacing:1,children:[t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(Ct,{children:"Status"}),t.jsxs(xt,{value:$,label:"Status",onChange:ne=>G(ne.target.value),children:[t.jsx(je,{value:"",children:"All Status"}),ye.map(ne=>t.jsx(je,{value:ne.value,children:ne.label},ne.value))]})]}),t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(Ct,{children:"Type"}),t.jsxs(xt,{value:L,label:"Type",onChange:ne=>H(ne.target.value),children:[t.jsx(je,{value:"",children:"All Types"}),ie.map(ne=>t.jsx(je,{value:ne.value,children:ne.label},ne.value))]})]}),t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(Ct,{children:"Verified"}),t.jsxs(xt,{value:K,label:"Verified",onChange:ne=>J(ne.target.value),children:[t.jsx(je,{value:"",children:"All"}),t.jsx(je,{value:"true",children:"Verified Only"}),t.jsx(je,{value:"false",children:"Not Verified"})]})]}),t.jsxs(ht,{size:"small",sx:{minWidth:120},children:[t.jsx(Ct,{children:"Trending"}),t.jsxs(xt,{value:q,label:"Trending",onChange:ne=>Q(ne.target.value),children:[t.jsx(je,{value:"",children:"All"}),t.jsx(je,{value:"true",children:"Trending Only"}),t.jsx(je,{value:"false",children:"Not Trending"})]})]})]}),se=ne=>t.jsxs(pe,{direction:"row",spacing:.5,children:[t.jsx(St,{title:"View Details",children:t.jsx(Ne,{size:"small",onClick:_e=>{_e.stopPropagation(),be(ne)},children:t.jsx(Ls,{fontSize:"small"})})}),t.jsx(St,{title:"Edit",children:t.jsx(Ne,{size:"small",onClick:_e=>{_e.stopPropagation(),be(ne)},children:t.jsx(vs,{fontSize:"small"})})}),ne.statusId===Fr.PENDING&&t.jsxs(t.Fragment,{children:[t.jsx(St,{title:"Approve",children:t.jsx(Ne,{size:"small",onClick:_e=>{_e.stopPropagation(),ee(ne,"approve")},children:t.jsx(ai,{fontSize:"small",color:"success"})})}),t.jsx(St,{title:"Reject",children:t.jsx(Ne,{size:"small",onClick:_e=>{_e.stopPropagation(),ee(ne,"reject")},children:t.jsx(Ns,{fontSize:"small",color:"error"})})})]}),t.jsx(St,{title:"View Analytics",children:t.jsx(Ne,{size:"small",onClick:_e=>{_e.stopPropagation()},children:t.jsx(ms,{fontSize:"small",color:"info"})})})]});return t.jsxs(C,{children:[t.jsx(No,{title:"Tag Management",columns:Be,rows:r,totalCount:o,loading:l,error:u,selected:f,onSelectionChange:m,onEdit:be,onDelete:ae,onRefresh:Ee,onSearch:N,onSort:(ne,_e)=>{oe(ne),Z(_e)},onPageChange:T,onRowsPerPageChange:_,page:D,rowsPerPage:R,searchQuery:k,sortColumn:Y,sortDirection:V,filters:le,rowActions:se,actions:t.jsx(he,{variant:"outlined",startIcon:t.jsx(pl,{}),onClick:()=>{},children:"Suggestions"})}),t.jsxs(Kt,{open:g,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(tn,{children:"Edit Tag"}),t.jsx(Jt,{children:b&&t.jsxs(pe,{spacing:3,sx:{pt:1},children:[t.jsx(Fe,{variant:"outlined",children:t.jsxs(Ve,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Tag Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(nt,{label:"Tag Name",fullWidth:!0,defaultValue:b.name,onChange:ne=>S({...b,name:ne.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsx(nt,{label:"Slug",fullWidth:!0,defaultValue:b.slug,onChange:ne=>S({...b,slug:ne.target.value})})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsxs(ht,{fullWidth:!0,children:[t.jsx(Ct,{children:"Type"}),t.jsx(xt,{value:b.typeId,label:"Type",onChange:ne=>S({...b,typeId:ne.target.value}),children:ie.map(ne=>t.jsx(je,{value:ne.value,children:ne.label},ne.value))})]})}),t.jsx(F,{item:!0,xs:12,sm:6,children:t.jsxs(ht,{fullWidth:!0,children:[t.jsx(Ct,{children:"Status"}),t.jsx(xt,{value:b.statusId,label:"Status",onChange:ne=>S({...b,statusId:ne.target.value}),children:ye.map(ne=>t.jsx(je,{value:ne.value,children:ne.label},ne.value))})]})})]})]})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(Ve,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Tag Properties"}),t.jsxs(pe,{spacing:2,children:[t.jsx(Do,{control:t.jsx(Ya,{checked:b.isVerified,onChange:ne=>S({...b,isVerified:ne.target.checked})}),label:"Verified Tag"}),t.jsx(Do,{control:t.jsx(Ya,{checked:b.isTrending,onChange:ne=>S({...b,isTrending:ne.target.checked})}),label:"Trending Tag"})]})]})}),b.analytics&&t.jsx(Fe,{variant:"outlined",children:t.jsxs(Ve,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"Analytics"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:4,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"View Count"}),t.jsx(j,{variant:"h6",children:((xe=b.analytics.viewCount)==null?void 0:xe.toLocaleString())||"0"})]}),t.jsxs(F,{item:!0,xs:12,sm:4,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Usage Count"}),t.jsx(j,{variant:"h6",children:((fe=b.analytics.usageCount)==null?void 0:fe.toLocaleString())||"0"})]}),t.jsxs(F,{item:!0,xs:12,sm:4,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Search Count"}),t.jsx(j,{variant:"h6",children:((ke=b.analytics.searchCount)==null?void 0:ke.toLocaleString())||"0"})]})]}),b.analytics.lastTrendingAt&&t.jsxs(dt,{severity:"info",sx:{mt:2},children:["Last trending: ",new Date(b.analytics.lastTrendingAt).toLocaleString()]})]})}),t.jsx(Fe,{variant:"outlined",children:t.jsxs(Ve,{children:[t.jsx(j,{variant:"h6",gutterBottom:!0,children:"System Information"}),t.jsxs(F,{container:!0,spacing:2,children:[t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Tag ID"}),t.jsx(j,{variant:"body2",sx:{fontFamily:"monospace"},children:b.id})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Created By"}),t.jsx(j,{variant:"body2",children:b.createdBy||"System"})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(j,{variant:"body2",children:new Date(b.createdAt).toLocaleString()})]}),t.jsxs(F,{item:!0,xs:12,sm:6,children:[t.jsx(j,{variant:"subtitle2",color:"text.secondary",children:"Approved"}),t.jsx(j,{variant:"body2",children:b.approvedAt?`${new Date(b.approvedAt).toLocaleString()} by ${b.approvedBy||"System"}`:"Not approved"})]})]})]})})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(he,{onClick:()=>Ae(b),variant:"contained",children:"Save Changes"})]})]}),t.jsxs(Kt,{open:v,onClose:()=>E(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsxs(tn,{children:[w==="approve"&&"Approve Tag",w==="reject"&&"Reject Tag"]}),t.jsx(Jt,{children:t.jsxs(pe,{spacing:2,sx:{pt:1},children:[b&&t.jsxs(dt,{severity:w==="approve"?"success":"warning",children:[w==="approve"&&`Approving tag "${b.name}"`,w==="reject"&&`Rejecting tag "${b.name}"`]}),t.jsx(j,{variant:"body2",color:"text.secondary",children:w==="approve"?"This tag will be made available for use across the platform.":"This tag will be rejected and won't be available for use."})]})}),t.jsxs(Xt,{children:[t.jsx(he,{onClick:()=>E(!1),children:"Cancel"}),t.jsxs(he,{onClick:Ce,variant:"contained",color:w==="approve"?"success":"error",children:[w==="approve"&&"Approve",w==="reject"&&"Reject"]})]})]})]})},UK=()=>{const{isLoading:e}=ua();return e?t.jsx(YW,{}):t.jsxs(gk,{children:[t.jsx(qe,{path:ge.HOME,element:t.jsx(k4,{})}),t.jsx(qe,{path:ge.LOGIN,element:t.jsx(E4,{})}),t.jsx(qe,{path:ge.SIGNUP,element:t.jsx(D4,{})}),t.jsx(qe,{path:ge.POST_SIGNUP,element:t.jsx(T4,{})}),t.jsxs(qe,{path:`${ge.APP_ROOT}/*`,element:t.jsx(Vh,{children:t.jsx(OF,{})}),children:[t.jsxs(qe,{path:`${_n.ROOT}/*`,children:[t.jsx(qe,{path:_n.SUBPATHS.TRENDING,element:t.jsx(wf,{filters:{trending:!0}},"trending")}),t.jsx(qe,{path:_n.SUBPATHS.MY_FEED,element:t.jsx(wf,{filters:{feed:!0}},"feed")}),t.jsx(qe,{path:_n.SUBPATHS.DISCOVER,element:t.jsx(oB,{})}),t.jsx(qe,{path:`${_n.VIEW}`,element:t.jsx(tB,{})})]}),t.jsxs(qe,{path:`${Sr.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(mB,{})}),t.jsx(qe,{path:`${Sr.VIEW}`,element:t.jsx(LB,{})})]}),t.jsxs(qe,{path:`${pr.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx($B,{})}),t.jsx(qe,{path:`${pr.VIEW}`,element:t.jsx(zB,{})})]}),t.jsxs(qe,{path:`${fs.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(eW,{})}),t.jsx(qe,{path:fs.SETTINGS,element:t.jsx(oW,{})})]}),t.jsxs(qe,{path:`${wr.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(dW,{})}),t.jsx(qe,{path:`${wr.VIEW}`,element:t.jsx(uW,{})})]}),t.jsx(qe,{path:zv.ROOT,element:t.jsx(iW,{})}),t.jsx(qe,{path:Jc.ROOT,element:t.jsx(h0,{})})]}),t.jsxs(qe,{path:`${ge.STUDIO_ROOT}/*`,element:t.jsx(Vh,{children:t.jsx(f4,{})}),children:[t.jsxs(qe,{path:`${_n.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(OW,{})}),t.jsx(qe,{path:`${_n.CREATE}`,element:t.jsx(wW,{})}),t.jsx(qe,{path:`${_n.EDIT}/:id`,element:t.jsx(CW,{})}),t.jsx(qe,{path:`${_n.VIEW}`,element:t.jsx(EW,{})})]}),t.jsxs(qe,{path:`${Sr.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(NW,{})}),t.jsx(qe,{path:`${Sr.CREATE}`,element:t.jsx(VW,{})}),t.jsx(qe,{path:`${Sr.VIEW}`,element:t.jsx(GW,{})}),t.jsx(qe,{path:`${Sr.EDIT}/:id`,element:t.jsx(D8,{})})]}),t.jsxs(qe,{path:`${pr.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(A8,{})}),t.jsx(qe,{path:`${pr.CREATE}`,element:t.jsx(cK,{})}),t.jsx(qe,{path:`${pr.EDIT}/:id`,element:t.jsx(dK,{})}),t.jsx(qe,{path:`${pr.VIEW}`,element:t.jsx(xK,{})})]}),t.jsxs(qe,{path:`${wr.ROOT}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(bK,{})}),t.jsx(qe,{path:`${wr.CREATE}`,element:t.jsx(yK,{})}),t.jsx(qe,{path:`${wr.EDIT}/:id`,element:t.jsx(vK,{})}),t.jsx(qe,{path:`${wr.VIEW}`,element:t.jsx(jK,{})})]}),t.jsx(qe,{path:Jc.ROOT,element:t.jsx(h0,{})})]}),t.jsxs(qe,{path:`${ge.ADMIN_ROOT}/*`,element:t.jsx(Vh,{children:t.jsx(b4,{})}),children:[t.jsx(qe,{index:!0,element:t.jsx(Cv,{})}),t.jsx(qe,{path:_t.DASHBOARD,element:t.jsx(Cv,{})}),t.jsx(qe,{path:_t.NEWS,element:t.jsx(TK,{})}),t.jsx(qe,{path:_t.POLLS,element:t.jsx(AK,{})}),t.jsx(qe,{path:_t.CHANNELS,element:t.jsx(RK,{})}),t.jsx(qe,{path:_t.EXPENSE_ORDERS,element:t.jsx(kK,{})}),t.jsx(qe,{path:_t.PAYOUTS,element:t.jsx(_K,{})}),t.jsx(qe,{path:_t.TAGS,element:t.jsx(VK,{})}),t.jsx(qe,{path:_t.USERS,element:t.jsx(MK,{})}),t.jsxs(qe,{path:`${_t.SUBSCRIPTIONS}/*`,children:[t.jsx(qe,{index:!0,element:t.jsx(OK,{})}),t.jsx(qe,{path:$a.MANAGEMENT,element:t.jsx(CK,{})}),t.jsx(qe,{path:$a.ANALYTICS,element:t.jsx(PK,{})}),t.jsx(qe,{path:$a.REVENUE,element:t.jsx(EK,{})})]}),t.jsx(qe,{path:_t.ANALYTICS,element:t.jsx(IK,{})}),t.jsx(qe,{path:_t.SETTINGS,element:t.jsx(DK,{})}),t.jsx(qe,{path:"users",element:t.jsx(SK,{})}),t.jsx(qe,{path:"channels",element:t.jsx(wK,{})})]}),t.jsx(qe,{path:"*",element:t.jsx(UW,{})})]})},zK={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},HK={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",dayOfMonthFull:"do",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class GK{constructor(n){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib=void 0,this.locale=void 0,this.formats=void 0,this.formatTokenMap=zK,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=l=>typeof l>"u"?new Date:l===null?null:new Date(l),this.getInvalidDate=()=>new Date("Invalid Date"),this.getTimezone=()=>"default",this.setTimezone=l=>l,this.toJsDate=l=>l,this.getCurrentLocaleCode=()=>this.locale.code,this.is12HourCycleInCurrentLocale=()=>/a/.test(this.locale.formatLong.time({width:"short"})),this.expandFormat=l=>{const d=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return l.match(d).map(u=>{const h=u[0];if(h==="p"||h==="P"){const f=this.longFormatters[h];return f(u,this.locale.formatLong)}return u}).join("")},this.formatNumber=l=>l,this.getDayOfWeek=l=>l.getDay()+1;const{locale:r,formats:s,longFormatters:o,lib:i}=n;this.locale=r,this.formats=U({},HK,s),this.longFormatters=o,this.lib=i||"date-fns"}}class YK extends GK{constructor({locale:n,formats:r}={}){super({locale:n??Fd,formats:r,longFormatters:td}),this.parse=(s,o)=>s===""?null:yF(s,o,new Date,{locale:this.locale}),this.isValid=s=>s==null?!1:aS(s),this.format=(s,o)=>this.formatByString(s,this.formats[o]),this.formatByString=(s,o)=>Vp(s,o,{locale:this.locale}),this.isEqual=(s,o)=>s===null&&o===null?!0:s===null||o===null?!1:C$(s,o),this.isSameYear=(s,o)=>wF(s,o),this.isSameMonth=(s,o)=>SF(s,o),this.isSameDay=(s,o)=>f5(s,o),this.isSameHour=(s,o)=>jF(s,o),this.isAfter=(s,o)=>Fh(s,o),this.isAfterYear=(s,o)=>Fh(s,qy(o)),this.isAfterDay=(s,o)=>Fh(s,vf(o)),this.isBefore=(s,o)=>Bh(s,o),this.isBeforeYear=(s,o)=>Bh(s,this.startOfYear(o)),this.isBeforeDay=(s,o)=>Bh(s,this.startOfDay(o)),this.isWithinRange=(s,[o,i])=>CF(s,{start:o,end:i}),this.startOfYear=s=>lS(s),this.startOfMonth=s=>j5(s),this.startOfWeek=s=>no(s,{locale:this.locale}),this.startOfDay=s=>Zi(s),this.endOfYear=s=>qy(s),this.endOfMonth=s=>iS(s),this.endOfWeek=s=>S5(s,{locale:this.locale}),this.endOfDay=s=>vf(s),this.addYears=(s,o)=>u5(s,o),this.addMonths=(s,o)=>rS(s,o),this.addWeeks=(s,o)=>d5(s,o),this.addDays=(s,o)=>$d(s,o),this.addHours=(s,o)=>s5(s,o),this.addMinutes=(s,o)=>l5(s,o),this.addSeconds=(s,o)=>c5(s,o),this.getYear=s=>w$(s),this.getMonth=s=>j$(s),this.getDate=s=>m$(s),this.getHours=s=>g$(s),this.getMinutes=s=>v$(s),this.getSeconds=s=>S$(s),this.getMilliseconds=s=>y$(s),this.setYear=(s,o)=>RF(s,o),this.setMonth=(s,o)=>PF(s,o),this.setDate=(s,o)=>EF(s,o),this.setHours=(s,o)=>IF(s,o),this.setMinutes=(s,o)=>TF(s,o),this.setSeconds=(s,o)=>AF(s,o),this.setMilliseconds=(s,o)=>DF(s,o),this.getDaysInMonth=s=>fS(s),this.getWeekArray=s=>{const o=this.startOfWeek(this.startOfMonth(s)),i=this.endOfWeek(this.endOfMonth(s));let l=0,d=o;const u=[];for(;this.isBefore(d,i);){const h=Math.floor(l/7);u[h]=u[h]||[],u[h].push(d),d=this.addDays(d,1),l+=1}return u},this.getWeekNumber=s=>Wp(s,{locale:this.locale}),this.getYearRange=([s,o])=>{const i=this.startOfYear(s),l=this.endOfYear(o),d=[];let u=i;for(;this.isBefore(u,l);)d.push(u),u=this.addYears(u,1);return d}}}document.title="Meta Journo v1.1.0";cf.createRoot(document.getElementById("root")).render(t.jsx(Tt.StrictMode,{children:t.jsx(bk,{children:t.jsx(YN,{children:t.jsx(gN,{children:t.jsx(bN,{children:t.jsx(SN,{children:t.jsx(v4,{children:t.jsx(GF,{children:t.jsx(qF,{children:t.jsx(OL,{children:t.jsx(u1,{dateAdapter:YK,children:t.jsx(UK,{})})})})})})})})})})})}));
