var lI=Object.defineProperty;var cI=(e,n,r)=>n in e?lI(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r;var Te=(e,n,r)=>(cI(e,typeof n!="symbol"?n+"":n,r),r);import{d as Uh,r as b,j as t,e as uI,u as dI,i as at,f as Ty,T as hI,C as fI,B as D,L as gs,h as Br,k as dn,l as Qt,m as v,c as Ki,S as Iy,A as it,s as Me,n as dt,o as pI,p as rt,I as eo,q as We,t as Oa,v as mI,w as Gr,U as zh,x as Hh,N as Ro,y as kc,z as _n,D as Nc,E as _s,F as pi,M as ro,G as je,H as rn,J as Ze,K as uh,O as xI,Q as Ey,V as Gh,W as to,X as Os,Y as Ma,Z as Yh,_ as mi,$ as ns,a0 as Kl,a1 as pe,a2 as bt,a3 as Lc,a4 as gI,a5 as bI,a6 as yI,a7 as $,a8 as Oe,a9 as $e,aa as de,ab as Ur,ac as vI,ad as xa,ae as jI,af as ga,ag as Jl,ah as _o,ai as bs,aj as wI,ak as sn,al as pn,am as on,an,ao as pt,ap as SI,aq as Dn,ar as Ee,R as Ut,as as ce,at as CI,au as PI,av as DI,aw as TI,ax as II,ay as EI,az as AI,aA as zn,aB as RI,aC as Ay,aD as Xl,aE as Ql,aF as Zl,aG as qh,aH as ec,aI as ys,aJ as tc,aK as so,aL as ir,aM as as,aN as oo,aO as Ry,aP as _I,aQ as OI,aR as Og,aS as dh,aT as MI,aU as _y,aV as Pi,aW as kI,aX as NI,aY as nc,aZ as LI,a_ as Kh,a$ as $I,b0 as FI,b1 as $c,b2 as Js,b3 as Oy,b4 as WI,b5 as BI,b6 as vt,b7 as Tt,b8 as St,b9 as VI,ba as kd,bb as UI,bc as zI,bd as rc,be as HI,bf as GI,bg as My,bh as YI,bi as qI,bj as V,bk as KI,bl as JI,bm as XI,P as Z,b as QI,a as Kt,bn as tt,bo as zt,bp as io,bq as vs,br as ky,bs as ZI,bt as Ny,bu as ks,bv as Ly,bw as eE,bx as $y,by as Fc,bz as tE,bA as nE,bB as rE,bC as sE,bD as Mg,bE as oE,bF as iE,bG as sc,bH as Fy,bI as Jh,bJ as Xh,bK as Qh,bL as Xs,bM as gt,bN as oc,bO as Zh,bP as aE,bQ as lE,bR as cE,bS as uE,bT as dE,bU as hE,bV as fE,bW as Wy,bX as pE}from"./vendor-mui-DfI51y4M.js";import{o as mE,s as xE,a as gE,c as bE,b as yE,i as vE,g as jE,G as wE,T as SE,F as CE,O as PE}from"./vendor-firebase-DaqPSQOy.js";import{u as ao,L as or,a as It,O as ef,N as DE,b as qr,R as TE,c as He,B as IE}from"./vendor-core-Bc5AmO8g.js";import{T as EE,v as AE,G as RE,f as _E,m as OE,d as ME,s as kE,a as NE,P as LE,I as $E,F as FE,i as WE,n as BE}from"./vendor-editor-D13Gvn5f.js";import{i as VE,R as ca,L as By,C as ic,X as ac,Y as lc,T as ua,a as cc,b as ai,P as UE,c as zE,d as HE,B as Vy,e as uc}from"./vendor-charts-duaCbrua.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var hh={},kg=Uh;hh.createRoot=kg.createRoot,hh.hydrateRoot=kg.hydrateRoot;const Ve={HOME:"/",APP:"/app",STUDIO:"/studio",AUTH:"/auth",ADMIN:"/admin"},kn={ROOT:"news",SUBPATHS:{TRENDING:"trending",MY_FEED:"feed"},CREATE:"create",EDIT:"edit",VIEW:":id"},fr={ROOT:"channels",CREATE:"create",EDIT:"edit",VIEW:":id"},sr={ROOT:"polls",CREATE:"create",EDIT:"edit",VIEW:":id"},Ks={ROOT:"account",PROFILE:"profile",PAYMENT_METHODS:"payment-methods",SUBSCRIPTIONS:"subscriptions"},pr={ROOT:"expense-orders",CREATE:"create",EDIT:"edit",VIEW:":id"},dc={ROOT:"search"},_t={ROOT:"admin",DASHBOARD:"dashboard",USERS:"users",CHANNELS:"channels",NEWS:"news",POLLS:"polls",EXPENSE_ORDERS:"expense-orders",PAYOUTS:"payouts",TAGS:"tags",SUBSCRIPTIONS:"subscriptions",ANALYTICS:"analytics",SETTINGS:"settings"},li={ROOT:"subscriptions",MANAGEMENT:"management",ANALYTICS:"analytics",REVENUE:"revenue"},Ol={ROOT:"users",LIST:"list",VIEW:":id",EDIT:":id/edit",ROLES:"roles"},Ml={ROOT:"channels",LIST:"list",VIEW:":id",EDIT:":id/edit",ANALYTICS:"analytics"},Ue="/journalist-material-client/".replace(/\/$/,""),ye={HOME:`${Ue}${Ve.HOME}`,LOGIN:`${Ue}${Ve.AUTH}/login`,SIGNUP:`${Ue}${Ve.AUTH}/signup`,POST_SIGNUP:`${Ue}${Ve.AUTH}/welcome`,APP_ROOT:`${Ue}${Ve.APP}`,APP_NEWS:`${Ue}${Ve.APP}/${kn.ROOT}`,APP_NEWS_TRENDING:`${Ue}${Ve.APP}/${kn.ROOT}/trending`,APP_NEWS_MY_FEED:`${Ue}${Ve.APP}/${kn.ROOT}/feed`,APP_NEWS_VIEW:`${Ue}${Ve.APP}/${kn.ROOT}/:id`,APP_CHANNELS:`${Ue}${Ve.APP}/${fr.ROOT}`,APP_CHANNEL_VIEW:`${Ue}${Ve.APP}/${fr.ROOT}/:channelId`,APP_POLL_LIST:`${Ue}${Ve.APP}/${sr.ROOT}`,APP_POLL_VIEW:`${Ue}${Ve.APP}/${sr.ROOT}/:id`,APP_EXPLORE:`${Ue}${Ve.APP}/explore`,APP_SUBSCRIPTIONS:`${Ue}${Ve.APP}/subscriptions`,APP_POLLS:`${Ue}${Ve.APP}/${sr.ROOT}`,APP_SEARCH:`${Ue}${Ve.APP}/${dc.ROOT}`,APP_ACCOUNT:`${Ue}${Ve.APP}/${Ks.ROOT}`,APP_ACCOUNT_PROFILE:`${Ue}${Ve.APP}/${Ks.ROOT}/${Ks.PROFILE}`,APP_ACCOUNT_PAYMENT_METHODS:`${Ue}${Ve.APP}/${Ks.ROOT}/${Ks.PAYMENT_METHODS}`,APP_ACCOUNT_SUBSCRIPTIONS:`${Ue}${Ve.APP}/${Ks.ROOT}/${Ks.SUBSCRIPTIONS}`,APP_EXPENSE_ORDERS:`${Ue}${Ve.APP}/${pr.ROOT}`,APP_EXPENSE_ORDER_VIEW:`${Ue}${Ve.APP}/${pr.ROOT}/:id`,STUDIO_ROOT:`${Ue}${Ve.STUDIO}`,STUDIO_NEWS:`${Ue}${Ve.STUDIO}/${kn.ROOT}`,STUDIO_NEWS_CREATE:`${Ue}${Ve.STUDIO}/${kn.ROOT}/${kn.CREATE}`,STUDIO_NEWS_EDIT:`${Ue}${Ve.STUDIO}/${kn.ROOT}/${kn.EDIT}/:id`,STUDIO_NEWS_VIEW:`${Ue}${Ve.STUDIO}/${kn.ROOT}/:id`,STUDIO_CHANNELS:`${Ue}${Ve.STUDIO}/${fr.ROOT}`,STUDIO_CHANNEL_CREATE:`${Ue}${Ve.STUDIO}/${fr.ROOT}/${fr.CREATE}`,STUDIO_CHANNEL_EDIT:`${Ue}${Ve.STUDIO}/${fr.ROOT}/${fr.EDIT}/:channelId`,STUDIO_CHANNEL_VIEW:`${Ue}${Ve.STUDIO}/${fr.ROOT}/:channelId`,STUDIO_POLLS:`${Ue}${Ve.STUDIO}/${sr.ROOT}`,STUDIO_POLL_CREATE:`${Ue}${Ve.STUDIO}/${sr.ROOT}/${sr.CREATE}`,STUDIO_POLL_EDIT:`${Ue}${Ve.STUDIO}/${sr.ROOT}/${sr.EDIT}/:id`,STUDIO_POLL_VIEW:`${Ue}${Ve.STUDIO}/${sr.ROOT}/:id`,STUDIO_SEARCH:`${Ue}${Ve.STUDIO}/${dc.ROOT}`,STUDIO_EXPENSE_ORDERS:`${Ue}${Ve.STUDIO}/${pr.ROOT}`,STUDIO_EXPENSE_ORDER_CREATE:`${Ue}${Ve.STUDIO}/${pr.ROOT}/${pr.CREATE}`,STUDIO_EXPENSE_ORDER_EDIT:`${Ue}${Ve.STUDIO}/${pr.ROOT}/${pr.EDIT}/:id`,STUDIO_EXPENSE_ORDER_VIEW:`${Ue}${Ve.STUDIO}/${pr.ROOT}/:id`,ADMIN_ROOT:`${Ue}${Ve.ADMIN}`,ADMIN_DASHBOARD:`${Ue}${Ve.ADMIN}/${_t.DASHBOARD}`,ADMIN_USERS:`${Ue}${Ve.ADMIN}/${_t.USERS}`,ADMIN_USER_LIST:`${Ue}${Ve.ADMIN}/${_t.USERS}/${Ol.LIST}`,ADMIN_USER_VIEW:`${Ue}${Ve.ADMIN}/${_t.USERS}/${Ol.VIEW}`,ADMIN_USER_EDIT:`${Ue}${Ve.ADMIN}/${_t.USERS}/${Ol.EDIT}`,ADMIN_USER_ROLES:`${Ue}${Ve.ADMIN}/${_t.USERS}/${Ol.ROLES}`,ADMIN_CHANNELS:`${Ue}${Ve.ADMIN}/${_t.CHANNELS}`,ADMIN_CHANNEL_LIST:`${Ue}${Ve.ADMIN}/${_t.CHANNELS}/${Ml.LIST}`,ADMIN_CHANNEL_VIEW:`${Ue}${Ve.ADMIN}/${_t.CHANNELS}/${Ml.VIEW}`,ADMIN_CHANNEL_EDIT:`${Ue}${Ve.ADMIN}/${_t.CHANNELS}/${Ml.EDIT}`,ADMIN_CHANNEL_ANALYTICS:`${Ue}${Ve.ADMIN}/${_t.CHANNELS}/${Ml.ANALYTICS}`,ADMIN_NEWS:`${Ue}${Ve.ADMIN}/${_t.NEWS}`,ADMIN_POLLS:`${Ue}${Ve.ADMIN}/${_t.POLLS}`,ADMIN_EXPENSE_ORDERS:`${Ue}${Ve.ADMIN}/${_t.EXPENSE_ORDERS}`,ADMIN_PAYOUTS:`${Ue}${Ve.ADMIN}/${_t.PAYOUTS}`,ADMIN_TAGS:`${Ue}${Ve.ADMIN}/${_t.TAGS}`,ADMIN_SUBSCRIPTIONS:`${Ue}${Ve.ADMIN}/${_t.SUBSCRIPTIONS}`,ADMIN_SUBSCRIPTION_MANAGEMENT:`${Ue}${Ve.ADMIN}/${_t.SUBSCRIPTIONS}/${li.MANAGEMENT}`,ADMIN_SUBSCRIPTION_ANALYTICS:`${Ue}${Ve.ADMIN}/${_t.SUBSCRIPTIONS}/${li.ANALYTICS}`,ADMIN_SUBSCRIPTION_REVENUE:`${Ue}${Ve.ADMIN}/${_t.SUBSCRIPTIONS}/${li.REVENUE}`,ADMIN_ANALYTICS:`${Ue}${Ve.ADMIN}/${_t.ANALYTICS}`,ADMIN_SETTINGS:`${Ue}${Ve.ADMIN}/${_t.SETTINGS}`};function Uy(e,n){return function(){return e.apply(n,arguments)}}const{toString:GE}=Object.prototype,{getPrototypeOf:tf}=Object,Wc=(e=>n=>{const r=GE.call(n);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ls=e=>(e=e.toLowerCase(),n=>Wc(n)===e),Bc=e=>n=>typeof n===e,{isArray:Di}=Array,ba=Bc("undefined");function YE(e){return e!==null&&!ba(e)&&e.constructor!==null&&!ba(e.constructor)&&zr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const zy=ls("ArrayBuffer");function qE(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&zy(e.buffer),n}const KE=Bc("string"),zr=Bc("function"),Hy=Bc("number"),Vc=e=>e!==null&&typeof e=="object",JE=e=>e===!0||e===!1,zl=e=>{if(Wc(e)!=="object")return!1;const n=tf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},XE=ls("Date"),QE=ls("File"),ZE=ls("Blob"),eA=ls("FileList"),tA=e=>Vc(e)&&zr(e.pipe),nA=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||zr(e.append)&&((n=Wc(e))==="formdata"||n==="object"&&zr(e.toString)&&e.toString()==="[object FormData]"))},rA=ls("URLSearchParams"),[sA,oA,iA,aA]=["ReadableStream","Request","Response","Headers"].map(ls),lA=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ka(e,n,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,o;if(typeof e!="object"&&(e=[e]),Di(e))for(s=0,o=e.length;s<o;s++)n.call(null,e[s],s,e);else{const a=r?Object.getOwnPropertyNames(e):Object.keys(e),c=a.length;let u;for(s=0;s<c;s++)u=a[s],n.call(null,e[u],u,e)}}function Gy(e,n){n=n.toLowerCase();const r=Object.keys(e);let s=r.length,o;for(;s-- >0;)if(o=r[s],n===o.toLowerCase())return o;return null}const Yy=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qy=e=>!ba(e)&&e!==Yy;function fh(){const{caseless:e}=qy(this)&&this||{},n={},r=(s,o)=>{const a=e&&Gy(n,o)||o;zl(n[a])&&zl(s)?n[a]=fh(n[a],s):zl(s)?n[a]=fh({},s):Di(s)?n[a]=s.slice():n[a]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&ka(arguments[s],r);return n}const cA=(e,n,r,{allOwnKeys:s}={})=>(ka(n,(o,a)=>{r&&zr(o)?e[a]=Uy(o,r):e[a]=o},{allOwnKeys:s}),e),uA=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),dA=(e,n,r,s)=>{e.prototype=Object.create(n.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),r&&Object.assign(e.prototype,r)},hA=(e,n,r,s)=>{let o,a,c;const u={};if(n=n||{},e==null)return n;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)c=o[a],(!s||s(c,e,n))&&!u[c]&&(n[c]=e[c],u[c]=!0);e=r!==!1&&tf(e)}while(e&&(!r||r(e,n))&&e!==Object.prototype);return n},fA=(e,n,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=n.length;const s=e.indexOf(n,r);return s!==-1&&s===r},pA=e=>{if(!e)return null;if(Di(e))return e;let n=e.length;if(!Hy(n))return null;const r=new Array(n);for(;n-- >0;)r[n]=e[n];return r},mA=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&tf(Uint8Array)),xA=(e,n)=>{const s=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=s.next())&&!o.done;){const a=o.value;n.call(e,a[0],a[1])}},gA=(e,n)=>{let r;const s=[];for(;(r=e.exec(n))!==null;)s.push(r);return s},bA=ls("HTMLFormElement"),yA=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,o){return s.toUpperCase()+o}),Ng=(({hasOwnProperty:e})=>(n,r)=>e.call(n,r))(Object.prototype),vA=ls("RegExp"),Ky=(e,n)=>{const r=Object.getOwnPropertyDescriptors(e),s={};ka(r,(o,a)=>{let c;(c=n(o,a,e))!==!1&&(s[a]=c||o)}),Object.defineProperties(e,s)},jA=e=>{Ky(e,(n,r)=>{if(zr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(zr(s)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},wA=(e,n)=>{const r={},s=o=>{o.forEach(a=>{r[a]=!0})};return Di(e)?s(e):s(String(e).split(n)),r},SA=()=>{},CA=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n,Nd="abcdefghijklmnopqrstuvwxyz",Lg="0123456789",Jy={DIGIT:Lg,ALPHA:Nd,ALPHA_DIGIT:Nd+Nd.toUpperCase()+Lg},PA=(e=16,n=Jy.ALPHA_DIGIT)=>{let r="";const{length:s}=n;for(;e--;)r+=n[Math.random()*s|0];return r};function DA(e){return!!(e&&zr(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const TA=e=>{const n=new Array(10),r=(s,o)=>{if(Vc(s)){if(n.indexOf(s)>=0)return;if(!("toJSON"in s)){n[o]=s;const a=Di(s)?[]:{};return ka(s,(c,u)=>{const d=r(c,o+1);!ba(d)&&(a[u]=d)}),n[o]=void 0,a}}return s};return r(e,0)},IA=ls("AsyncFunction"),EA=e=>e&&(Vc(e)||zr(e))&&zr(e.then)&&zr(e.catch),xe={isArray:Di,isArrayBuffer:zy,isBuffer:YE,isFormData:nA,isArrayBufferView:qE,isString:KE,isNumber:Hy,isBoolean:JE,isObject:Vc,isPlainObject:zl,isReadableStream:sA,isRequest:oA,isResponse:iA,isHeaders:aA,isUndefined:ba,isDate:XE,isFile:QE,isBlob:ZE,isRegExp:vA,isFunction:zr,isStream:tA,isURLSearchParams:rA,isTypedArray:mA,isFileList:eA,forEach:ka,merge:fh,extend:cA,trim:lA,stripBOM:uA,inherits:dA,toFlatObject:hA,kindOf:Wc,kindOfTest:ls,endsWith:fA,toArray:pA,forEachEntry:xA,matchAll:gA,isHTMLForm:bA,hasOwnProperty:Ng,hasOwnProp:Ng,reduceDescriptors:Ky,freezeMethods:jA,toObjectSet:wA,toCamelCase:yA,noop:SA,toFiniteNumber:CA,findKey:Gy,global:Yy,isContextDefined:qy,ALPHABET:Jy,generateString:PA,isSpecCompliantForm:DA,toJSONObject:TA,isAsyncFn:IA,isThenable:EA};function ft(e,n,r,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),r&&(this.config=r),s&&(this.request=s),o&&(this.response=o)}xe.inherits(ft,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xe.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Xy=ft.prototype,Qy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Qy[e]={value:e}});Object.defineProperties(ft,Qy);Object.defineProperty(Xy,"isAxiosError",{value:!0});ft.from=(e,n,r,s,o,a)=>{const c=Object.create(Xy);return xe.toFlatObject(e,c,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),ft.call(c,e.message,n,r,s,o),c.cause=e,c.name=e.name,a&&Object.assign(c,a),c};const AA=null;function ph(e){return xe.isPlainObject(e)||xe.isArray(e)}function Zy(e){return xe.endsWith(e,"[]")?e.slice(0,-2):e}function $g(e,n,r){return e?e.concat(n).map(function(o,a){return o=Zy(o),!r&&a?"["+o+"]":o}).join(r?".":""):n}function RA(e){return xe.isArray(e)&&!e.some(ph)}const _A=xe.toFlatObject(xe,{},null,function(n){return/^is[A-Z]/.test(n)});function Uc(e,n,r){if(!xe.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,r=xe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,j){return!xe.isUndefined(j[w])});const s=r.metaTokens,o=r.visitor||p,a=r.dots,c=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&xe.isSpecCompliantForm(n);if(!xe.isFunction(o))throw new TypeError("visitor must be a function");function h(g){if(g===null)return"";if(xe.isDate(g))return g.toISOString();if(!d&&xe.isBlob(g))throw new ft("Blob is not supported. Use a Buffer instead.");return xe.isArrayBuffer(g)||xe.isTypedArray(g)?d&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function p(g,w,j){let P=g;if(g&&!j&&typeof g=="object"){if(xe.endsWith(w,"{}"))w=s?w:w.slice(0,-2),g=JSON.stringify(g);else if(xe.isArray(g)&&RA(g)||(xe.isFileList(g)||xe.endsWith(w,"[]"))&&(P=xe.toArray(g)))return w=Zy(w),P.forEach(function(A,E){!(xe.isUndefined(A)||A===null)&&n.append(c===!0?$g([w],E,a):c===null?w:w+"[]",h(A))}),!1}return ph(g)?!0:(n.append($g(j,w,a),h(g)),!1)}const m=[],x=Object.assign(_A,{defaultVisitor:p,convertValue:h,isVisitable:ph});function y(g,w){if(!xe.isUndefined(g)){if(m.indexOf(g)!==-1)throw Error("Circular reference detected in "+w.join("."));m.push(g),xe.forEach(g,function(P,C){(!(xe.isUndefined(P)||P===null)&&o.call(n,P,xe.isString(C)?C.trim():C,w,x))===!0&&y(P,w?w.concat(C):[C])}),m.pop()}}if(!xe.isObject(e))throw new TypeError("data must be an object");return y(e),n}function Fg(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return n[s]})}function nf(e,n){this._pairs=[],e&&Uc(e,this,n)}const ev=nf.prototype;ev.append=function(n,r){this._pairs.push([n,r])};ev.toString=function(n){const r=n?function(s){return n.call(this,s,Fg)}:Fg;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function OA(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tv(e,n,r){if(!n)return e;const s=r&&r.encode||OA,o=r&&r.serialize;let a;if(o?a=o(n,r):a=xe.isURLSearchParams(n)?n.toString():new nf(n,r).toString(s),a){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Wg{constructor(){this.handlers=[]}use(n,r,s){return this.handlers.push({fulfilled:n,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){xe.forEach(this.handlers,function(s){s!==null&&n(s)})}}const nv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},MA=typeof URLSearchParams<"u"?URLSearchParams:nf,kA=typeof FormData<"u"?FormData:null,NA=typeof Blob<"u"?Blob:null,LA={isBrowser:!0,classes:{URLSearchParams:MA,FormData:kA,Blob:NA},protocols:["http","https","file","blob","url","data"]},rf=typeof window<"u"&&typeof document<"u",$A=(e=>rf&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),FA=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",WA=rf&&window.location.href||"http://localhost",BA=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rf,hasStandardBrowserEnv:$A,hasStandardBrowserWebWorkerEnv:FA,origin:WA},Symbol.toStringTag,{value:"Module"})),is={...BA,...LA};function VA(e,n){return Uc(e,new is.classes.URLSearchParams,Object.assign({visitor:function(r,s,o,a){return is.isNode&&xe.isBuffer(r)?(this.append(s,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},n))}function UA(e){return xe.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function zA(e){const n={},r=Object.keys(e);let s;const o=r.length;let a;for(s=0;s<o;s++)a=r[s],n[a]=e[a];return n}function rv(e){function n(r,s,o,a){let c=r[a++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),d=a>=r.length;return c=!c&&xe.isArray(o)?o.length:c,d?(xe.hasOwnProp(o,c)?o[c]=[o[c],s]:o[c]=s,!u):((!o[c]||!xe.isObject(o[c]))&&(o[c]=[]),n(r,s,o[c],a)&&xe.isArray(o[c])&&(o[c]=zA(o[c])),!u)}if(xe.isFormData(e)&&xe.isFunction(e.entries)){const r={};return xe.forEachEntry(e,(s,o)=>{n(UA(s),o,r,0)}),r}return null}function HA(e,n,r){if(xe.isString(e))try{return(n||JSON.parse)(e),xe.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const Na={transitional:nv,adapter:["xhr","http","fetch"],transformRequest:[function(n,r){const s=r.getContentType()||"",o=s.indexOf("application/json")>-1,a=xe.isObject(n);if(a&&xe.isHTMLForm(n)&&(n=new FormData(n)),xe.isFormData(n))return o?JSON.stringify(rv(n)):n;if(xe.isArrayBuffer(n)||xe.isBuffer(n)||xe.isStream(n)||xe.isFile(n)||xe.isBlob(n)||xe.isReadableStream(n))return n;if(xe.isArrayBufferView(n))return n.buffer;if(xe.isURLSearchParams(n))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let u;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return VA(n,this.formSerializer).toString();if((u=xe.isFileList(n))||s.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Uc(u?{"files[]":n}:n,d&&new d,this.formSerializer)}}return a||o?(r.setContentType("application/json",!1),HA(n)):n}],transformResponse:[function(n){const r=this.transitional||Na.transitional,s=r&&r.forcedJSONParsing,o=this.responseType==="json";if(xe.isResponse(n)||xe.isReadableStream(n))return n;if(n&&xe.isString(n)&&(s&&!this.responseType||o)){const c=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(n)}catch(u){if(c)throw u.name==="SyntaxError"?ft.from(u,ft.ERR_BAD_RESPONSE,this,null,this.response):u}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:is.classes.FormData,Blob:is.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};xe.forEach(["delete","get","head","post","put","patch"],e=>{Na.headers[e]={}});const GA=xe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),YA=e=>{const n={};let r,s,o;return e&&e.split(`
`).forEach(function(c){o=c.indexOf(":"),r=c.substring(0,o).trim().toLowerCase(),s=c.substring(o+1).trim(),!(!r||n[r]&&GA[r])&&(r==="set-cookie"?n[r]?n[r].push(s):n[r]=[s]:n[r]=n[r]?n[r]+", "+s:s)}),n},Bg=Symbol("internals");function Ji(e){return e&&String(e).trim().toLowerCase()}function Hl(e){return e===!1||e==null?e:xe.isArray(e)?e.map(Hl):String(e)}function qA(e){const n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)n[s[1]]=s[2];return n}const KA=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ld(e,n,r,s,o){if(xe.isFunction(s))return s.call(this,n,r);if(o&&(n=r),!!xe.isString(n)){if(xe.isString(s))return n.indexOf(s)!==-1;if(xe.isRegExp(s))return s.test(n)}}function JA(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,r,s)=>r.toUpperCase()+s)}function XA(e,n){const r=xe.toCamelCase(" "+n);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(o,a,c){return this[s].call(this,n,o,a,c)},configurable:!0})})}class xr{constructor(n){n&&this.set(n)}set(n,r,s){const o=this;function a(u,d,h){const p=Ji(d);if(!p)throw new Error("header name must be a non-empty string");const m=xe.findKey(o,p);(!m||o[m]===void 0||h===!0||h===void 0&&o[m]!==!1)&&(o[m||d]=Hl(u))}const c=(u,d)=>xe.forEach(u,(h,p)=>a(h,p,d));if(xe.isPlainObject(n)||n instanceof this.constructor)c(n,r);else if(xe.isString(n)&&(n=n.trim())&&!KA(n))c(YA(n),r);else if(xe.isHeaders(n))for(const[u,d]of n.entries())a(d,u,s);else n!=null&&a(r,n,s);return this}get(n,r){if(n=Ji(n),n){const s=xe.findKey(this,n);if(s){const o=this[s];if(!r)return o;if(r===!0)return qA(o);if(xe.isFunction(r))return r.call(this,o,s);if(xe.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,r){if(n=Ji(n),n){const s=xe.findKey(this,n);return!!(s&&this[s]!==void 0&&(!r||Ld(this,this[s],s,r)))}return!1}delete(n,r){const s=this;let o=!1;function a(c){if(c=Ji(c),c){const u=xe.findKey(s,c);u&&(!r||Ld(s,s[u],u,r))&&(delete s[u],o=!0)}}return xe.isArray(n)?n.forEach(a):a(n),o}clear(n){const r=Object.keys(this);let s=r.length,o=!1;for(;s--;){const a=r[s];(!n||Ld(this,this[a],a,n,!0))&&(delete this[a],o=!0)}return o}normalize(n){const r=this,s={};return xe.forEach(this,(o,a)=>{const c=xe.findKey(s,a);if(c){r[c]=Hl(o),delete r[a];return}const u=n?JA(a):String(a).trim();u!==a&&delete r[a],r[u]=Hl(o),s[u]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const r=Object.create(null);return xe.forEach(this,(s,o)=>{s!=null&&s!==!1&&(r[o]=n&&xe.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,r])=>n+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...r){const s=new this(n);return r.forEach(o=>s.set(o)),s}static accessor(n){const s=(this[Bg]=this[Bg]={accessors:{}}).accessors,o=this.prototype;function a(c){const u=Ji(c);s[u]||(XA(o,c),s[u]=!0)}return xe.isArray(n)?n.forEach(a):a(n),this}}xr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);xe.reduceDescriptors(xr.prototype,({value:e},n)=>{let r=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(s){this[r]=s}}});xe.freezeMethods(xr);function $d(e,n){const r=this||Na,s=n||r,o=xr.from(s.headers);let a=s.data;return xe.forEach(e,function(u){a=u.call(r,a,o.normalize(),n?n.status:void 0)}),o.normalize(),a}function sv(e){return!!(e&&e.__CANCEL__)}function Ti(e,n,r){ft.call(this,e??"canceled",ft.ERR_CANCELED,n,r),this.name="CanceledError"}xe.inherits(Ti,ft,{__CANCEL__:!0});function ov(e,n,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):n(new ft("Request failed with status code "+r.status,[ft.ERR_BAD_REQUEST,ft.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function QA(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function ZA(e,n){e=e||10;const r=new Array(e),s=new Array(e);let o=0,a=0,c;return n=n!==void 0?n:1e3,function(d){const h=Date.now(),p=s[a];c||(c=h),r[o]=d,s[o]=h;let m=a,x=0;for(;m!==o;)x+=r[m++],m=m%e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),h-c<n)return;const y=p&&h-p;return y?Math.round(x*1e3/y):void 0}}function eR(e,n){let r=0;const s=1e3/n;let o=null;return function(){const c=this===!0,u=Date.now();if(c||u-r>s)return o&&(clearTimeout(o),o=null),r=u,e.apply(null,arguments);o||(o=setTimeout(()=>(o=null,r=Date.now(),e.apply(null,arguments)),s-(u-r)))}}const hc=(e,n,r=3)=>{let s=0;const o=ZA(50,250);return eR(a=>{const c=a.loaded,u=a.lengthComputable?a.total:void 0,d=c-s,h=o(d),p=c<=u;s=c;const m={loaded:c,total:u,progress:u?c/u:void 0,bytes:d,rate:h||void 0,estimated:h&&u&&p?(u-c)/h:void 0,event:a,lengthComputable:u!=null};m[n?"download":"upload"]=!0,e(m)},r)},tR=is.hasStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let s;function o(a){let c=a;return n&&(r.setAttribute("href",c),c=r.href),r.setAttribute("href",c),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return s=o(window.location.href),function(c){const u=xe.isString(c)?o(c):c;return u.protocol===s.protocol&&u.host===s.host}}():function(){return function(){return!0}}(),nR=is.hasStandardBrowserEnv?{write(e,n,r,s,o,a){const c=[e+"="+encodeURIComponent(n)];xe.isNumber(r)&&c.push("expires="+new Date(r).toGMTString()),xe.isString(s)&&c.push("path="+s),xe.isString(o)&&c.push("domain="+o),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function rR(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function sR(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function iv(e,n){return e&&!rR(n)?sR(e,n):n}const Vg=e=>e instanceof xr?{...e}:e;function Oo(e,n){n=n||{};const r={};function s(h,p,m){return xe.isPlainObject(h)&&xe.isPlainObject(p)?xe.merge.call({caseless:m},h,p):xe.isPlainObject(p)?xe.merge({},p):xe.isArray(p)?p.slice():p}function o(h,p,m){if(xe.isUndefined(p)){if(!xe.isUndefined(h))return s(void 0,h,m)}else return s(h,p,m)}function a(h,p){if(!xe.isUndefined(p))return s(void 0,p)}function c(h,p){if(xe.isUndefined(p)){if(!xe.isUndefined(h))return s(void 0,h)}else return s(void 0,p)}function u(h,p,m){if(m in n)return s(h,p);if(m in e)return s(void 0,h)}const d={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(h,p)=>o(Vg(h),Vg(p),!0)};return xe.forEach(Object.keys(Object.assign({},e,n)),function(p){const m=d[p]||o,x=m(e[p],n[p],p);xe.isUndefined(x)&&m!==u||(r[p]=x)}),r}const av=e=>{const n=Oo({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:a,headers:c,auth:u}=n;n.headers=c=xr.from(c),n.url=tv(iv(n.baseURL,n.url),e.params,e.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let d;if(xe.isFormData(r)){if(is.hasStandardBrowserEnv||is.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((d=c.getContentType())!==!1){const[h,...p]=d?d.split(";").map(m=>m.trim()).filter(Boolean):[];c.setContentType([h||"multipart/form-data",...p].join("; "))}}if(is.hasStandardBrowserEnv&&(s&&xe.isFunction(s)&&(s=s(n)),s||s!==!1&&tR(n.url))){const h=o&&a&&nR.read(a);h&&c.set(o,h)}return n},oR=typeof XMLHttpRequest<"u",iR=oR&&function(e){return new Promise(function(r,s){const o=av(e);let a=o.data;const c=xr.from(o.headers).normalize();let{responseType:u}=o,d;function h(){o.cancelToken&&o.cancelToken.unsubscribe(d),o.signal&&o.signal.removeEventListener("abort",d)}let p=new XMLHttpRequest;p.open(o.method.toUpperCase(),o.url,!0),p.timeout=o.timeout;function m(){if(!p)return;const y=xr.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),w={data:!u||u==="text"||u==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:y,config:e,request:p};ov(function(P){r(P),h()},function(P){s(P),h()},w),p=null}"onloadend"in p?p.onloadend=m:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(m)},p.onabort=function(){p&&(s(new ft("Request aborted",ft.ECONNABORTED,o,p)),p=null)},p.onerror=function(){s(new ft("Network Error",ft.ERR_NETWORK,o,p)),p=null},p.ontimeout=function(){let g=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const w=o.transitional||nv;o.timeoutErrorMessage&&(g=o.timeoutErrorMessage),s(new ft(g,w.clarifyTimeoutError?ft.ETIMEDOUT:ft.ECONNABORTED,o,p)),p=null},a===void 0&&c.setContentType(null),"setRequestHeader"in p&&xe.forEach(c.toJSON(),function(g,w){p.setRequestHeader(w,g)}),xe.isUndefined(o.withCredentials)||(p.withCredentials=!!o.withCredentials),u&&u!=="json"&&(p.responseType=o.responseType),typeof o.onDownloadProgress=="function"&&p.addEventListener("progress",hc(o.onDownloadProgress,!0)),typeof o.onUploadProgress=="function"&&p.upload&&p.upload.addEventListener("progress",hc(o.onUploadProgress)),(o.cancelToken||o.signal)&&(d=y=>{p&&(s(!y||y.type?new Ti(null,e,p):y),p.abort(),p=null)},o.cancelToken&&o.cancelToken.subscribe(d),o.signal&&(o.signal.aborted?d():o.signal.addEventListener("abort",d)));const x=QA(o.url);if(x&&is.protocols.indexOf(x)===-1){s(new ft("Unsupported protocol "+x+":",ft.ERR_BAD_REQUEST,e));return}p.send(a||null)})},aR=(e,n)=>{let r=new AbortController,s;const o=function(d){if(!s){s=!0,c();const h=d instanceof Error?d:this.reason;r.abort(h instanceof ft?h:new Ti(h instanceof Error?h.message:h))}};let a=n&&setTimeout(()=>{o(new ft(`timeout ${n} of ms exceeded`,ft.ETIMEDOUT))},n);const c=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(d=>{d&&(d.removeEventListener?d.removeEventListener("abort",o):d.unsubscribe(o))}),e=null)};e.forEach(d=>d&&d.addEventListener&&d.addEventListener("abort",o));const{signal:u}=r;return u.unsubscribe=c,[u,()=>{a&&clearTimeout(a),a=null}]},lR=function*(e,n){let r=e.byteLength;if(!n||r<n){yield e;return}let s=0,o;for(;s<r;)o=s+n,yield e.slice(s,o),s=o},cR=async function*(e,n,r){for await(const s of e)yield*lR(ArrayBuffer.isView(s)?s:await r(String(s)),n)},Ug=(e,n,r,s,o)=>{const a=cR(e,n,o);let c=0;return new ReadableStream({type:"bytes",async pull(u){const{done:d,value:h}=await a.next();if(d){u.close(),s();return}let p=h.byteLength;r&&r(c+=p),u.enqueue(new Uint8Array(h))},cancel(u){return s(u),a.return()}},{highWaterMark:2})},zg=(e,n)=>{const r=e!=null;return s=>setTimeout(()=>n({lengthComputable:r,total:e,loaded:s}))},zc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",lv=zc&&typeof ReadableStream=="function",mh=zc&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),uR=lv&&(()=>{let e=!1;const n=new Request(is.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n})(),Hg=64*1024,xh=lv&&!!(()=>{try{return xe.isReadableStream(new Response("").body)}catch{}})(),fc={stream:xh&&(e=>e.body)};zc&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!fc[n]&&(fc[n]=xe.isFunction(e[n])?r=>r[n]():(r,s)=>{throw new ft(`Response type '${n}' is not supported`,ft.ERR_NOT_SUPPORT,s)})})})(new Response);const dR=async e=>{if(e==null)return 0;if(xe.isBlob(e))return e.size;if(xe.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(xe.isArrayBufferView(e))return e.byteLength;if(xe.isURLSearchParams(e)&&(e=e+""),xe.isString(e))return(await mh(e)).byteLength},hR=async(e,n)=>{const r=xe.toFiniteNumber(e.getContentLength());return r??dR(n)},fR=zc&&(async e=>{let{url:n,method:r,data:s,signal:o,cancelToken:a,timeout:c,onDownloadProgress:u,onUploadProgress:d,responseType:h,headers:p,withCredentials:m="same-origin",fetchOptions:x}=av(e);h=h?(h+"").toLowerCase():"text";let[y,g]=o||a||c?aR([o,a],c):[],w,j;const P=()=>{!w&&setTimeout(()=>{y&&y.unsubscribe()}),w=!0};let C;try{if(d&&uR&&r!=="get"&&r!=="head"&&(C=await hR(p,s))!==0){let R=new Request(n,{method:"POST",body:s,duplex:"half"}),N;xe.isFormData(s)&&(N=R.headers.get("content-type"))&&p.setContentType(N),R.body&&(s=Ug(R.body,Hg,zg(C,hc(d)),null,mh))}xe.isString(m)||(m=m?"cors":"omit"),j=new Request(n,{...x,signal:y,method:r.toUpperCase(),headers:p.normalize().toJSON(),body:s,duplex:"half",withCredentials:m});let A=await fetch(j);const E=xh&&(h==="stream"||h==="response");if(xh&&(u||E)){const R={};["status","statusText","headers"].forEach(M=>{R[M]=A[M]});const N=xe.toFiniteNumber(A.headers.get("content-length"));A=new Response(Ug(A.body,Hg,u&&zg(N,hc(u,!0)),E&&P,mh),R)}h=h||"text";let T=await fc[xe.findKey(fc,h)||"text"](A,e);return!E&&P(),g&&g(),await new Promise((R,N)=>{ov(R,N,{data:T,headers:xr.from(A.headers),status:A.status,statusText:A.statusText,config:e,request:j})})}catch(A){throw P(),A&&A.name==="TypeError"&&/fetch/i.test(A.message)?Object.assign(new ft("Network Error",ft.ERR_NETWORK,e,j),{cause:A.cause||A}):ft.from(A,A&&A.code,e,j)}}),gh={http:AA,xhr:iR,fetch:fR};xe.forEach(gh,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const Gg=e=>`- ${e}`,pR=e=>xe.isFunction(e)||e===null||e===!1,cv={getAdapter:e=>{e=xe.isArray(e)?e:[e];const{length:n}=e;let r,s;const o={};for(let a=0;a<n;a++){r=e[a];let c;if(s=r,!pR(r)&&(s=gh[(c=String(r)).toLowerCase()],s===void 0))throw new ft(`Unknown adapter '${c}'`);if(s)break;o[c||"#"+a]=s}if(!s){const a=Object.entries(o).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let c=n?a.length>1?`since :
`+a.map(Gg).join(`
`):" "+Gg(a[0]):"as no adapter specified";throw new ft("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s},adapters:gh};function Fd(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ti(null,e)}function Yg(e){return Fd(e),e.headers=xr.from(e.headers),e.data=$d.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),cv.getAdapter(e.adapter||Na.adapter)(e).then(function(s){return Fd(e),s.data=$d.call(e,e.transformResponse,s),s.headers=xr.from(s.headers),s},function(s){return sv(s)||(Fd(e),s&&s.response&&(s.response.data=$d.call(e,e.transformResponse,s.response),s.response.headers=xr.from(s.response.headers))),Promise.reject(s)})}const uv="1.7.2",sf={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{sf[e]=function(s){return typeof s===e||"a"+(n<1?"n ":" ")+e}});const qg={};sf.transitional=function(n,r,s){function o(a,c){return"[Axios v"+uv+"] Transitional option '"+a+"'"+c+(s?". "+s:"")}return(a,c,u)=>{if(n===!1)throw new ft(o(c," has been removed"+(r?" in "+r:"")),ft.ERR_DEPRECATED);return r&&!qg[c]&&(qg[c]=!0,console.warn(o(c," has been deprecated since v"+r+" and will be removed in the near future"))),n?n(a,c,u):!0}};function mR(e,n,r){if(typeof e!="object")throw new ft("options must be an object",ft.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let o=s.length;for(;o-- >0;){const a=s[o],c=n[a];if(c){const u=e[a],d=u===void 0||c(u,a,e);if(d!==!0)throw new ft("option "+a+" must be "+d,ft.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ft("Unknown option "+a,ft.ERR_BAD_OPTION)}}const bh={assertOptions:mR,validators:sf},Hs=bh.validators;class Ao{constructor(n){this.defaults=n,this.interceptors={request:new Wg,response:new Wg}}async request(n,r){try{return await this._request(n,r)}catch(s){if(s instanceof Error){let o;Error.captureStackTrace?Error.captureStackTrace(o={}):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(n,r){typeof n=="string"?(r=r||{},r.url=n):r=n||{},r=Oo(this.defaults,r);const{transitional:s,paramsSerializer:o,headers:a}=r;s!==void 0&&bh.assertOptions(s,{silentJSONParsing:Hs.transitional(Hs.boolean),forcedJSONParsing:Hs.transitional(Hs.boolean),clarifyTimeoutError:Hs.transitional(Hs.boolean)},!1),o!=null&&(xe.isFunction(o)?r.paramsSerializer={serialize:o}:bh.assertOptions(o,{encode:Hs.function,serialize:Hs.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=a&&xe.merge(a.common,a[r.method]);a&&xe.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),r.headers=xr.concat(c,a);const u=[];let d=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(r)===!1||(d=d&&w.synchronous,u.unshift(w.fulfilled,w.rejected))});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let p,m=0,x;if(!d){const g=[Yg.bind(this),void 0];for(g.unshift.apply(g,u),g.push.apply(g,h),x=g.length,p=Promise.resolve(r);m<x;)p=p.then(g[m++],g[m++]);return p}x=u.length;let y=r;for(m=0;m<x;){const g=u[m++],w=u[m++];try{y=g(y)}catch(j){w.call(this,j);break}}try{p=Yg.call(this,y)}catch(g){return Promise.reject(g)}for(m=0,x=h.length;m<x;)p=p.then(h[m++],h[m++]);return p}getUri(n){n=Oo(this.defaults,n);const r=iv(n.baseURL,n.url);return tv(r,n.params,n.paramsSerializer)}}xe.forEach(["delete","get","head","options"],function(n){Ao.prototype[n]=function(r,s){return this.request(Oo(s||{},{method:n,url:r,data:(s||{}).data}))}});xe.forEach(["post","put","patch"],function(n){function r(s){return function(a,c,u){return this.request(Oo(u||{},{method:n,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}Ao.prototype[n]=r(),Ao.prototype[n+"Form"]=r(!0)});class of{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const s=this;this.promise.then(o=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](o);s._listeners=null}),this.promise.then=o=>{let a;const c=new Promise(u=>{s.subscribe(u),a=u}).then(o);return c.cancel=function(){s.unsubscribe(a)},c},n(function(a,c,u){s.reason||(s.reason=new Ti(a,c,u),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const r=this._listeners.indexOf(n);r!==-1&&this._listeners.splice(r,1)}static source(){let n;return{token:new of(function(o){n=o}),cancel:n}}}function xR(e){return function(r){return e.apply(null,r)}}function gR(e){return xe.isObject(e)&&e.isAxiosError===!0}const yh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yh).forEach(([e,n])=>{yh[n]=e});function dv(e){const n=new Ao(e),r=Uy(Ao.prototype.request,n);return xe.extend(r,Ao.prototype,n,{allOwnKeys:!0}),xe.extend(r,n,null,{allOwnKeys:!0}),r.create=function(o){return dv(Oo(e,o))},r}const Tn=dv(Na);Tn.Axios=Ao;Tn.CanceledError=Ti;Tn.CancelToken=of;Tn.isCancel=sv;Tn.VERSION=uv;Tn.toFormData=Uc;Tn.AxiosError=ft;Tn.Cancel=Tn.CanceledError;Tn.all=function(n){return Promise.all(n)};Tn.spread=xR;Tn.isAxiosError=gR;Tn.mergeConfig=Oo;Tn.AxiosHeaders=xr;Tn.formToJSON=e=>rv(xe.isHTMLForm(e)?new FormData(e):e);Tn.getAdapter=cv.getAdapter;Tn.HttpStatusCode=yh;Tn.default=Tn;const bR="https://oyster-app-4nnna.ondigitalocean.app";class yR{constructor(){Te(this,"instance");Te(this,"handleAxiosError",n=>n.response?{status:n.response.status,data:n.response.data}:{status:500,data:"Network Error"});this.instance=Tn.create({baseURL:bR,headers:{"Content-Type":"application/json"}}),this.instance.interceptors.request.use(n=>n,n=>Promise.reject(n)),this.instance.interceptors.response.use(n=>n,n=>Promise.reject(n))}get axiosInstance(){return this.instance}}const ze={page:1,limit:20,order:"desc"};class gr{constructor(n,r){Te(this,"axiosJ");Te(this,"apiPath");Te(this,"_list",async(n,r,s)=>{try{const o=new URLSearchParams(r),a=o.size===0?"":`?${o.toString()}`;return(await this.axiosJ.axiosInstance.get(`${n}${a}`,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Te(this,"_listAll",async(n,r,s)=>{try{const o=new URLSearchParams(r),a=o.size===0?"":`?${o.toString()}`;return(await this.axiosJ.axiosInstance.get(`${n}${a}`,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Te(this,"_get",async(n,r)=>{try{return(await this.axiosJ.axiosInstance.get(n,r)).data}catch(s){throw this.axiosJ.handleAxiosError(s)}});Te(this,"_post",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.post(n,r,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Te(this,"_patch",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.patch(n,r,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Te(this,"_put",async(n,r,s)=>{try{return(await this.axiosJ.axiosInstance.put(n,r,s)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});Te(this,"_remove",async(n,r)=>{try{return(await this.axiosJ.axiosInstance.delete(n,r)).data}catch(s){throw this.axiosJ.handleAxiosError(s)}});this.axiosJ=n,this.apiPath=r}}const qn="/api/channels",fs={TIER:"tiers",SUBSCRIPTIONS:"subscriptions"};class vR extends gr{constructor(n){super(n,qn)}async getChannels(n={},r=ze){const s={...r};return n.trending&&(s.trending="true"),n.popular&&(s.popular="true"),n.subscribed&&(s.subscribed="true"),n.followed&&(s.followed="true"),n.verified&&(s.verified="true"),n.creator&&(s.creator=n.creator),n.category&&(s.category=n.category),n.tags&&n.tags.length>0&&(s.tags=n.tags.join(",")),this._list(qn,s)}async getAll(n=ze){return this.getChannels({},n)}async getTrending(n=ze){return this.getChannels({trending:!0},n)}async getPopular(n=ze){return this.getChannels({popular:!0},n)}async getSubscribed(n=ze){return this.getChannels({subscribed:!0},n)}async getFollowed(n=ze){return this.getChannels({followed:!0},n)}async getVerified(n=ze){return this.getChannels({verified:!0},n)}async createChannel(n){return this._post(qn,n)}async getChannel(n){return this._get(`${qn}/${n}`)}async getCreatorChannels(n,r=ze){return this.getChannels({creator:n},r)}async updateChannel(n,r){await this._put(`${qn}/${n}`,r)}async deleteChannel(n){return this._remove(`${qn}/${n}`)}async createTier(n,r){return this._post(`${qn}/${n}/${fs.TIER}`,r)}async updateTier(n,r,s){await this._put(`${qn}/${n}/${fs.TIER}/${r}`,s)}async updateTiers(n,r){const s=r.map(o=>{const{currency:a,channelId:c,isDefault:u,...d}=o;return d});return this._put(`${qn}/${n}/${fs.TIER}`,s)}async getTiers(n){return this._list(`${qn}/${n}/${fs.TIER}`)}async getTier(n,r){return this._get(`${qn}/${n}/${fs.TIER}/${r}`)}async deleteTier(n,r){return this._remove(`${qn}/${n}/${fs.TIER}/${r}`)}async subscribeToChannel(n,r={}){return this._post(`${qn}/${n}/${fs.SUBSCRIPTIONS}`,r)}async unsubscribeFromChannel(n){await this._remove(`${qn}/${n}/${fs.SUBSCRIPTIONS}`)}async getChannelSubscribers(n,r=ze){return this._list(`${qn}/${n}/${fs.SUBSCRIPTIONS}`,r)}async getSubscriptionDetails(n,r){return this._get(`${qn}/${n}/${fs.SUBSCRIPTIONS}/${r}`)}}const Gs="/api/news";class jR extends gr{constructor(n){super(n,Gs)}async getNews(n={},r=ze){const s={...r};return n.feed&&(s.feed="true"),n.trending&&(s.trending="true"),n.subscribed&&(s.subscribed="true"),n.channel&&(s.channel=n.channel),n.creator&&(s.creator=n.creator),n.status&&(s.status=n.status),n.premium!==void 0&&(s.premium=n.premium.toString()),n.tags&&n.tags.length>0&&(s.tags=n.tags.join(",")),this._list(Gs,s)}async getAll(n=ze){return this.getNews({},n)}async getFeed(n=ze){return this.getNews({feed:!0},n)}async getTrending(n=ze){return this.getNews({trending:!0},n)}async getSubscribed(n=ze){return this.getNews({subscribed:!0},n)}async getPremium(n=ze){return this.getNews({premium:!0},n)}async getNewsByChannel(n,r=ze){return this.getNews({channel:n},r)}async getCreatorNews(n,r=ze){return this.getNews({creator:n},r)}async getNewsByTags(n,r=ze){return this.getNews({tags:n},r)}async getNewsByStatus(n,r=ze){return this.getNews({status:n},r)}async get(n){return this._get(`${Gs}/${n}`)}async createNews(n){return this._post(Gs,n)}async update(n,r){await this._put(`${Gs}/${n}`,r)}async delete(n){await this._remove(`${Gs}/${n}`)}async getNewsStats(n,r,s){return this._get(`${Gs}/${n}/stats?startDate=${r}&endDate=${s}`)}async getNewsTags(n=ze){return this._list(`${Gs}/tags`,n)}async create(n){return this.createNews(n)}}const Dr="/api/polls";class wR extends gr{constructor(n){super(n,Dr)}async getPolls(n={},r=ze){const s={...r};return n.trending&&(s.trending="true"),n.funded&&(s.funded="true"),n.claimed&&(s.claimed="true"),n.subscribed&&(s.subscribed="true"),n.channel&&(s.channel=n.channel),n.creator&&(s.creator=n.creator),n.status&&(s.status=n.status),n.converted!==void 0&&(s.converted=n.converted.toString()),n.tags&&n.tags.length>0&&(s.tags=n.tags.join(",")),this._list(Dr,s)}async getAll(n=ze){return this.getPolls({},n)}async getTrending(n=ze){return this.getPolls({trending:!0},n)}async getFunded(n=ze){return this.getPolls({funded:!0},n)}async getClaimed(n=ze){return this.getPolls({claimed:!0},n)}async getSubscribed(n=ze){return this.getPolls({subscribed:!0},n)}async getPollsByChannel(n,r=ze){return this.getPolls({channel:n},r)}async getCreatorPolls(n,r=ze){return this.getPolls({creator:n},r)}async getPollsByTags(n,r=ze){return this.getPolls({tags:n},r)}async get(n){return this._get(`${Dr}/${n}`)}async create(n){return this._post(Dr,n)}async update(n,r){await this._put(`${Dr}/${n}`,r)}async delete(n){return this._remove(`${Dr}/${n}`)}async getResults(n){return this._get(`${Dr}/${n}/votes`)}async vote(n,r){return this._post(`${Dr}/${n}/votes`,r)}async getUserVote(n){return this._get(`${Dr}/${n}/votes/me`)}async checkVotingEligibility(n){return this._get(`${Dr}/${n}/votes/eligibility`)}async getFunding(n){return this._get(`${Dr}/${n}/funding`)}async claim(n){return this._post(`${Dr}/${n}/claims`,{})}async convertToNews(n,r){return this._post(`${Dr}/${n}/conversions`,r)}async getVoteResults(n){return this.getResults(n)}async getMyVote(n){return this.getUserVote(n)}}const ei="/api/users";class SR extends gr{constructor(n){super(n,ei)}async getAll(n=ze){return this._list(ei,n)}async get(n){return this._get(`${ei}/${n}`)}async create(n){return this._post(ei,n)}async update(n,r){await this._put(`${ei}/${n}`,r)}async delete(n){return this._remove(`${ei}/${n}`)}}const kl="/api/auth";class CR extends gr{constructor(n){super(n,kl)}async signIn(n){return this._post(`${kl}/sign-in`,n)}async signUp(n){return this._post(`${kl}/sign-up`,n)}async verifyToken(n){return this._post(`${kl}/verify-token`,n)}}const Kn="/api/account";class PR extends gr{constructor(n){super(n,Kn)}async getProfile(){return this._get(`${Kn}/profile`)}async updateProfile(n){return this._put(`${Kn}/profile`,n)}async getPaymentMethods(){return this._get(`${Kn}/payment-methods`)}async getPaymentMethod(n){return this._get(`${Kn}/payment-methods/${n}`)}async getDefaultPaymentMethod(){return this._get(`${Kn}/payment-methods/default`)}async addPaymentMethod(n){return this._post(`${Kn}/payment-methods`,n)}async updatePaymentMethod(n,r){return this._put(`${Kn}/payment-methods/${n}`,r)}async deletePaymentMethod(n){return this._remove(`${Kn}/payment-methods/${n}`)}async setDefaultPaymentMethod(n){return this._patch(`${Kn}/payment-methods/${n}/default`,{})}async getAvailablePaymentMethods(){return this._get(`${Kn}/payment-methods/available`)}async getSubscriptions(){return this._list(`${Kn}/subscriptions`)}async subscribe(n,r){return this._post(`${Kn}/subscriptions/${n}`,r)}async cancelSubscription(n){return this._remove(`${Kn}/subscriptions/${n}`)}async getUserChannels(n=ze){return this._list(`${Kn}/channels`,n)}async savePayPalPaymentMethod(n){return this._post(`${Kn}/payment-methods/paypal/tokens/save`,n)}}const hr="/api/expense-orders";class DR extends gr{constructor(n){super(n,hr)}async createExpenseOrder(n){return this._post(hr,n)}async updateExpenseOrder(n,r){return this._put(`${hr}/${n}`,r)}async submitExpenseOrder(n,r){return this._post(`${hr}/${n}/submit`,r||{})}async cancelExpenseOrder(n,r){return this._post(`${hr}/${n}/cancel`,{reason:r})}async getMyExpenseOrders(n=ze,r){const s={...n};return r&&(s.status=r),this._list(`${hr}/my-orders`,s)}async approveExpenseOrder(n,r){return this._post(`${hr}/${n}/approve`,r||{})}async rejectExpenseOrder(n,r){return this._post(`${hr}/${n}/reject`,r)}async processPayment(n,r){return this._post(`${hr}/${n}/process-payment`,r||{})}async getPendingExpenseOrders(n=ze){return this._list(`${hr}/pending`,n)}async getExpenseOrderStats(n,r,s){const o={};return n&&(o.channelId=n),r&&(o.startDate=r.toISOString()),s&&(o.endDate=s.toISOString()),this._get(`${hr}/stats`,{params:o})}async getExpenseOrder(n){return this._get(`${hr}/${n}`)}async getExpenseOrdersByJournalist(n,r=ze,s){const o={...r};return s&&(o.status=s),this._list(`${hr}/journalist/${n}`,o)}async getExpenseOrdersByChannel(n,r=ze,s){const o={...r};return s&&(o.status=s),this._list(`${hr}/channel/${n}`,o)}async getExpenseTypes(){return this._get("/api/expense-types")}}const Bn="/api/subscriptions";class TR extends gr{constructor(n){super(n,Bn)}async getAllSubscriptions(n=ze,r={}){const s={...n,...r};return this._list(Bn,s)}async getSubscriptionById(n){return this._get(`${Bn}/${n}`)}async updateSubscriptionStatus(n,r,s){return this._patch(`${Bn}/${n}/status`,{status:r,reason:s})}async bulkUpdateSubscriptions(n){return this._post(`${Bn}/bulk-update`,n)}async getSubscriptionAnalytics(n={}){const r=new URLSearchParams(n).toString(),s=r?`${Bn}/analytics?${r}`:`${Bn}/analytics`;return this._get(s)}async getRevenueMetrics(n={}){const r=new URLSearchParams(n).toString(),s=r?`${Bn}/revenue?${r}`:`${Bn}/revenue`;return this._get(s)}async exportSubscriptions(n={},r="csv"){const s=new URLSearchParams({...n,format:r}).toString(),o=s?`${Bn}/export?${s}`:`${Bn}/export`;return this._get(o)}async cancelSubscription(n,r){await this.updateSubscriptionStatus(n,"canceled",r)}async activateSubscription(n,r){await this.updateSubscriptionStatus(n,"active",r)}async suspendSubscription(n,r){await this.updateSubscriptionStatus(n,"suspended",r)}async updateSubscriptionTier(n,r){return this._patch(`${Bn}/${n}/tier`,{tier_id:r})}async createDirectSubscription(n,r){return this._post(`${Bn}/channels/${n}/subscribe`,r)}async cancelUserSubscription(n){return this._remove(`${Bn}/${n}/cancel`)}async getMySubscriptions(n=ze,r={}){const s={...n,...r};return this._list(`${Bn}/my`,s)}async getSubscriptionStatus(n){return(await this._get(`${Bn}/${n}/status`)).status}async searchSubscriptions(n,r=ze){const s={...r,search:n};return this._list(`${Bn}/search`,s)}async getSubscriptionsByChannel(n,r=ze){return this.getAllSubscriptions(r,{channel_id:n})}async getSubscriptionsByUser(n,r=ze){return this.getAllSubscriptions(r,{user_id:n})}}const Co="/api/studio";class IR extends gr{constructor(n){super(n,Co)}async createNews(n){return this._post(`${Co}/news`,n)}async createChannel(n){return this._post(`${Co}/channels`,n)}async createPoll(n){return this._post(`${Co}/polls`,n)}async getMyChannels(){return this._list(`${Co}/me/channels`)}async getMyContent(n="all",r=ze){const s={type:n,...r};return n==="all"?this._get(`${Co}/me/content`,{params:s}):this._list(`${Co}/me/content`,s)}async getMyRecentNews(n=ze){return this.getMyContent("news",n)}async getMyRecentPolls(n=ze){return this.getMyContent("polls",n)}async getMyRecentChannels(n=ze){return this.getMyContent("channels",n)}async getCreatorChannels(){return this.getMyChannels()}async getCreatorContent(n="all",r=ze){return this.getMyContent(n,r)}}const Jn="/api/tags";class ER extends gr{constructor(n){super(n,Jn)}async getTags(n={},r=ze){const s={...r};return n.trending&&(s.trending="true"),n.popular&&(s.popular="true"),n.category&&(s.category=n.category),n.verified&&(s.verified="true"),this._list(Jn,s)}async getAll(n=ze){return this.getTags({},n)}async getTrending(n=ze){return this.getTags({trending:!0},n)}async getPopular(n=ze){return this.getTags({popular:!0},n)}async getVerified(n=ze){return this.getTags({verified:!0},n)}async getNewsTags(n=ze){return this.getTags({category:"news"},n)}async getPollTags(n=ze){return this.getTags({category:"polls"},n)}async getTagById(n){return this._get(`${Jn}/${n}`)}async getTagBySlug(n){return this._get(`${Jn}/slug/${n}`)}async createTag(n){return this._post(Jn,n)}async updateTag(n,r){return this._put(`${Jn}/${n}`,r)}async deleteTag(n){await this._remove(`${Jn}/${n}`)}async getTagNews(n,r=ze){return this._get(`${Jn}/${n}/news`,{params:r})}async getTagPolls(n,r=ze){return this._get(`${Jn}/${n}/polls`,{params:r})}async addTagToNews(n,r){return this._post(`${Jn}/${n}/news/${r}`,{})}async removeTagFromNews(n,r){return this._remove(`${Jn}/${n}/news/${r}`)}async addTagToPoll(n,r){return this._post(`${Jn}/${n}/polls/${r}`,{})}async removeTagFromPoll(n,r){return this._remove(`${Jn}/${n}/polls/${r}`)}async moderateTag(n,r){return this._patch(`${Jn}/${n}/moderate`,{statusId:r})}async approveTag(n){return this.moderateTag(n,2)}async rejectTag(n){return this.moderateTag(n,3)}async searchTags(n,r=ze){const s={...r,search:n};return this._list(Jn,s)}async getTagSuggestions(n,r=10){const s={prefix:n,limit:r};return this._get(`${Jn}/suggestions`,{params:s})}async get(n){return this.getTagById(n)}async create(n){return this.createTag(n)}async update(n,r){return this.updateTag(n,r)}async delete(n){return this.deleteTag(n)}}const Rs="/api/search";class AR extends gr{constructor(n){super(n,Rs)}async search(n,r={},s=ze){const o={q:n,...s};return Object.entries(r).forEach(([a,c])=>{c!=null&&c!==""&&(Array.isArray(c)?o[a]=c.join(","):c instanceof Date?o[a]=c.toISOString():o[a]=c.toString())}),this._list(Rs,o)}async searchNews(n,r=ze){return this._list(`${Rs}/news`,{q:n,...r})}async searchChannels(n,r=ze){return this._list(`${Rs}/channels`,{q:n,...r})}async searchUsers(n,r=ze){return this._list(`${Rs}/users`,{q:n,...r})}async searchPolls(n,r=ze){return this._list(`${Rs}/polls`,{q:n,...r})}async searchTags(n,r=ze){return this._list(`${Rs}/tags`,{q:n,...r})}async getSuggestions(n,r){const s={q:n};return r&&(s.type=r),this._get(`${Rs}/suggestions`,{params:s})}async getStructuredSuggestions(n,r){const s={q:n};return r&&(s.type=r),this._get(`${Rs}/suggestions/structured`,{params:s})}}const Zr="/api/funding";class RR extends gr{constructor(n){super(n,Zr)}async getFund(n,r){var s;try{return this._get(`${Zr}/${n}/${r}`)}catch(o){if(((s=o.response)==null?void 0:s.status)===404)return null;throw o}}async getFundSummary(n,r){var s;try{return this._get(`${Zr}/${n}/${r}/summary`)}catch(o){if(((s=o.response)==null?void 0:s.status)===404)return null;throw o}}async createContribution(n,r,s){return this._post(`${Zr}/${n}/${r}/contribute`,s)}async getContributions(n,r,s=ze){return this._list(`${Zr}/${n}/${r}/contributions`,s)}async getUserContributions(n=ze){return this._list(`${Zr}/my-contributions`,n)}async getUserContributionsForContent(n,r){return this._get(`${Zr}/${n}/${r}/my-contributions`)}async createFund(n,r,s){return this._post(`${Zr}/${n}/${r}/fund`,s)}async updateFund(n,r,s){return this._put(`${Zr}/${n}/${r}/fund`,s)}async getChannelFundingStats(n,r){return this._get(`${Zr}/channels/${n}/stats`,{params:r})}async processPayout(n,r,s){return this._post(`${Zr}/${n}/${r}/payout`,s)}}const Xi="/api/payment-tokens";class _R extends gr{constructor(n){super(n,Xi)}async createPayPalTokenizationOrder(){return this._post(`${Xi}/paypal/orders`,{})}async capturePayPalTokenizationOrder(n){return this._post(`${Xi}/paypal/orders/${n}/capture`,{})}async getPaymentTokenDetails(n){return this._get(`${Xi}/paypal/tokens/${n}`)}async deletePaymentToken(n){return this._remove(`${Xi}/paypal/tokens/${n}`)}}const Qi="/api/iyzico-tokens";class OR extends gr{constructor(n){super(n,Qi)}async initializeTokenization(n){return this._post(`${Qi}/tokenization/init`,n)}async savePaymentMethod(n){return this._post(`${Qi}/tokenization/save`,n)}async getStoredCards(){return this._get(`${Qi}/cards`)}async deleteStoredCard(n){return this._remove(`${Qi}/cards/${n}`)}}class MR{constructor(){Te(this,"axiosJ");Te(this,"userApi");Te(this,"authApi");Te(this,"pollApi");Te(this,"newsApi");Te(this,"channelApi");Te(this,"accountApi");Te(this,"expenseOrderApi");Te(this,"subscriptionApi");Te(this,"studioApi");Te(this,"tagApi");Te(this,"searchApi");Te(this,"fundingApi");Te(this,"paymentTokenApi");Te(this,"iyzicoTokenApi");Te(this,"setAuthHeader",n=>(n?this.axiosJ.axiosInstance.defaults.headers.common.Authorization=`Bearer ${n}`:delete this.axiosJ.axiosInstance.defaults.headers.common.Authorization,this));Te(this,"setApis",()=>(this.userApi=new SR(this.axiosJ),this.authApi=new CR(this.axiosJ),this.pollApi=new wR(this.axiosJ),this.newsApi=new jR(this.axiosJ),this.channelApi=new vR(this.axiosJ),this.accountApi=new PR(this.axiosJ),this.expenseOrderApi=new DR(this.axiosJ),this.subscriptionApi=new TR(this.axiosJ),this.studioApi=new IR(this.axiosJ),this.tagApi=new ER(this.axiosJ),this.searchApi=new AR(this.axiosJ),this.fundingApi=new RR(this.axiosJ),this.paymentTokenApi=new _R(this.axiosJ),this.iyzicoTokenApi=new OR(this.axiosJ),this));this.axiosJ=new yR}}const kR=e=>{const[n,r]=b.useState(null),[s,o]=b.useState(!0);b.useEffect(()=>{const p=mE(e,m=>{m&&r(m),o(!1)});return()=>p()},[e]);const a=async()=>n?n.getIdToken():null,c=async(p,m)=>{try{return await(await xE(e,p,m)).user.getIdToken()}catch(x){throw console.error("Sign in error:",x),x}},u=async p=>{try{return await(await gE(e,p)).user.getIdToken()}catch(m){throw console.error("Sign in with provider error:",m),m}},d=async(p,m)=>{try{return(await bE(e,p,m)).user}catch(x){throw console.error("Sign up error:",x),x}},h=async()=>{try{await yE(e),r(null)}catch(p){throw console.error("Sign out error:",p),p}};return{user:n,isAuthenticated:n!=null,isLoading:s,getToken:a,signIn:c,signInWithProvider:u,signUp:d,signOut:h}},NR={apiKey:"AIzaSyDirHpadNKqOVH-cb79ENk7tsaRMERKvsc",authDomain:"journalist-2bf9e.firebaseapp.com",projectId:"journalist-2bf9e",storageBucket:"journalist-2bf9e.appspot.com",messagingSenderId:"1048434393409",appId:"1:1048434393409:web:4ca6775d6918b5d52ca1c0"},LR=vE(NR),$R=jE(LR),hv=new wE;new SE;new CE;new PE("apple.com");function af(){const e=b.createContext(null);function n(){const r=b.useContext(e);if(!r)throw new Error("Context must be used within provider");return r}return[e,n]}const[FR,Ii]=af(),WR=({children:e})=>{const n=kR($R);return t.jsx(FR.Provider,{value:n,children:e})},fv=b.createContext(null),Je=()=>b.useContext(fv),BR=({children:e})=>{const[n,r]=b.useState({api:new MR,isAuthenticated:!1,isLoading:!0}),s=Ii();return b.useEffect(()=>{(async()=>{var a,c;if(s!=null&&s.user){const u=await s.getToken();if(u){const d=(a=n.api)==null?void 0:a.setAuthHeader(u).setApis();r({api:d,isAuthenticated:!0,isLoading:!1})}}else{const u=(c=n.api)==null?void 0:c.setAuthHeader(null).setApis();r({api:u,isAuthenticated:!1,isLoading:!1})}})()},[s==null?void 0:s.user,s==null?void 0:s.isAuthenticated]),t.jsx(fv.Provider,{value:n,children:e})},[VR,Hc]=af(),UR=[ye.HOME,ye.LOGIN,ye.SIGNUP],zR=({children:e})=>{const n=ao(),r=UR.includes(n.pathname),{isLoading:s,isAuthenticated:o}=Je(),[a,c]=b.useState({isLoading:!0,error:null});return b.useEffect(()=>{r?c(u=>({...u,isLoading:s})):o&&c(u=>({...u,isLoading:!1}))},[s,o,r]),t.jsx(VR.Provider,{value:a,children:e})};var lf={},Wd={};const HR=uI(dI);var Kg;function lt(){return Kg||(Kg=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=HR}(Wd)),Wd}var GR=at;Object.defineProperty(lf,"__esModule",{value:!0});var Gc=lf.default=void 0,YR=GR(lt()),qR=t;Gc=lf.default=(0,YR.default)((0,qR.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6"}),"Brightness4");var cf={},KR=at;Object.defineProperty(cf,"__esModule",{value:!0});var Yc=cf.default=void 0,JR=KR(lt()),XR=t;Yc=cf.default=(0,JR.default)((0,XR.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6m0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4"}),"Brightness7");const QR=Ty({palette:{mode:"light",primary:{main:"#2196f3"},background:{default:"#ffffff",paper:"#f8f9fa"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)"}},typography:{fontFamily:"'Poppins', 'Inter', sans-serif",h6:{fontWeight:700,letterSpacing:.5}}}),ZR=Ty({palette:{mode:"dark",background:{default:"#121212",paper:"#1e1e1e"},text:{primary:"rgba(255, 255, 255, 0.87)",secondary:"rgba(255, 255, 255, 0.6)"}},typography:{fontFamily:"'Poppins', 'Inter', sans-serif",h6:{fontWeight:700,letterSpacing:.5}}}),pv=b.createContext({}),e_=({children:e})=>{const[n,r]=b.useState(window.matchMedia("(prefers-color-scheme: dark)").matches),s=()=>{r(!n)},o=b.useMemo(()=>n?ZR:QR,[n]);return t.jsx(pv.Provider,{value:{isDarkMode:n,toggleTheme:s},children:t.jsxs(hI,{theme:o,children:[t.jsx(fI,{}),e]})})},uf=()=>b.useContext(pv);var df={},t_=at;Object.defineProperty(df,"__esModule",{value:!0});var hf=df.default=void 0,n_=t_(lt()),r_=t;hf=df.default=(0,n_.default)((0,r_.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp");var ff={},s_=at;Object.defineProperty(ff,"__esModule",{value:!0});var pf=ff.default=void 0,o_=s_(lt()),i_=t;pf=ff.default=(0,o_.default)((0,i_.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People");var mf={},a_=at;Object.defineProperty(mf,"__esModule",{value:!0});var xf=mf.default=void 0,l_=a_(lt()),Jg=t;xf=mf.default=(0,l_.default)([(0,Jg.jsx)("circle",{cx:"6.18",cy:"17.82",r:"2.18"},"0"),(0,Jg.jsx)("path",{d:"M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56m0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9"},"1")],"RssFeed");var gf={},c_=at;Object.defineProperty(gf,"__esModule",{value:!0});var bf=gf.default=void 0,u_=c_(lt()),d_=t;bf=gf.default=(0,u_.default)((0,d_.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"}),"Poll");var yf={},h_=at;Object.defineProperty(yf,"__esModule",{value:!0});var Ei=yf.default=void 0,f_=h_(lt()),p_=t;Ei=yf.default=(0,f_.default)((0,p_.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle");var vf={},m_=at;Object.defineProperty(vf,"__esModule",{value:!0});var jf=vf.default=void 0,x_=m_(lt()),g_=t;jf=vf.default=(0,x_.default)((0,g_.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");const b_="journalist-material-client",y_="1.0.0",v_="module",j_="https://cantsdmr.github.io/journalist-material-client",w_={dev:"vite","dev:staging":"vite --mode staging",build:"tsc && vite build","build:dev":"tsc && vite build --mode dev","build:staging":"tsc && vite build --mode staging","build:prod":"tsc && vite build --mode production",lint:"eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0",preview:"vite preview","preview:staging":"vite preview --mode staging",predeploy:"npm run build:staging",deploy:"gh-pages -d dist"},S_={"@editorjs/checklist":"^1.6.0","@editorjs/code":"^2.9.3","@editorjs/delimiter":"^1.4.2","@editorjs/editorjs":"^2.30.7","@editorjs/header":"^2.8.8","@editorjs/image":"^2.10.1","@editorjs/inline-code":"^1.5.1","@editorjs/link":"^2.6.2","@editorjs/list":"^2.0.2","@editorjs/marker":"^1.4.0","@editorjs/quote":"^2.7.6","@editorjs/table":"^2.4.3","@editorjs/warning":"^1.4.1","@emotion/react":"^11.11.4","@emotion/styled":"^11.11.5","@hello-pangea/dnd":"^17.0.0","@mui/icons-material":"^5.15.17","@mui/material":"^5.15.17","@mui/x-date-pickers":"^8.3.1",axios:"^1.7.2","class-transformer":"^0.5.1","class-validator":"^0.14.2","date-fns":"^4.1.0",firebase:"^10.12.2",react:"^18.2.0","react-dom":"^18.2.0","react-infinite-scroll-component":"^6.1.0","react-router-dom":"^6.23.1",recharts:"^2.12.7"},C_={"@types/react":"^18.2.66","@types/react-dom":"^18.2.22","@typescript-eslint/eslint-plugin":"^7.2.0","@typescript-eslint/parser":"^7.2.0","@vitejs/plugin-react":"^4.2.1",eslint:"^8.57.0","eslint-plugin-react-hooks":"^4.6.0","eslint-plugin-react-refresh":"^0.4.6","gh-pages":"^6.3.0",typescript:"^5.2.2",vite:"^5.2.0"},P_={name:b_,private:!0,version:y_,type:v_,homepage:j_,scripts:w_,dependencies:S_,devDependencies:C_},vh=P_.version,Xg=({isOpen:e})=>{const n=ao(),r=[{path:`${ye.APP_NEWS_MY_FEED}`,icon:t.jsx(pf,{}),label:"Feed"},{path:`${ye.APP_NEWS_TRENDING}`,icon:t.jsx(hf,{}),label:"Popular"},{path:`${ye.APP_SEARCH}`,icon:t.jsx(jf,{}),label:"Search"},{path:`${ye.APP_CHANNELS}`,icon:t.jsx(xf,{}),label:"Channels"},{path:`${ye.APP_POLLS}`,icon:t.jsx(bf,{}),label:"Polls"},{path:`${ye.APP_ACCOUNT}`,icon:t.jsx(Ei,{}),label:"Account"}];return t.jsxs(D,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[t.jsx(gs,{sx:{flexGrow:1},children:r.map(s=>t.jsxs(Br,{button:!0,component:or,to:s.path,selected:n.pathname===s.path,sx:{borderRadius:1,mx:1,width:"auto","&.Mui-selected":{backgroundColor:"action.selected"}},children:[t.jsx(dn,{children:s.icon}),t.jsx(Qt,{primary:s.label})]},s.path))}),t.jsxs(D,{sx:{p:2,borderTop:"1px solid",borderColor:"divider"},children:[t.jsxs(v,{variant:"body2",color:"text.secondary",align:"center",sx:{fontSize:"0.75rem",opacity:.7,display:e?"block":"none"},children:["MetaJourno v",vh]}),!e&&t.jsxs(v,{variant:"body2",color:"text.secondary",align:"center",sx:{fontSize:"0.625rem",opacity:.7,lineHeight:1.2},children:["v",vh]})]})]})};var wf={},D_=at;Object.defineProperty(wf,"__esModule",{value:!0});var mv=wf.default=void 0,T_=D_(lt()),I_=t;mv=wf.default=(0,T_.default)((0,I_.jsx)("path",{d:"M4 18h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1m0-5h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1M3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1"}),"MenuRounded");var Sf={},E_=at;Object.defineProperty(Sf,"__esModule",{value:!0});var xv=Sf.default=void 0,A_=E_(lt()),R_=t;xv=Sf.default=(0,A_.default)((0,R_.jsx)("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard");var pc={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */pc.exports;(function(e,n){(function(){var r,s="4.17.21",o=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",u="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",h=500,p="__lodash_placeholder__",m=1,x=2,y=4,g=1,w=2,j=1,P=2,C=4,A=8,E=16,T=32,R=64,N=128,M=256,W=512,B=30,q="...",k=800,Y=16,U=1,H=2,X=3,se=1/0,ne=9007199254740991,ee=17976931348623157e292,G=NaN,re=4294967295,Pe=re-1,fe=re>>>1,Ie=[["ary",N],["bind",j],["bindKey",P],["curry",A],["curryRight",E],["flip",W],["partial",T],["partialRight",R],["rearg",M]],le="[object Arguments]",oe="[object Array]",L="[object AsyncFunction]",he="[object Boolean]",ie="[object Date]",ae="[object DOMException]",te="[object Error]",Ce="[object Function]",ve="[object GeneratorFunction]",ge="[object Map]",Ae="[object Number]",_e="[object Null]",Qe="[object Object]",ke="[object Promise]",Ne="[object Proxy]",K="[object RegExp]",me="[object Set]",Xe="[object String]",jt="[object Symbol]",tn="[object Undefined]",Lt="[object WeakMap]",At="[object WeakSet]",Yt="[object ArrayBuffer]",On="[object DataView]",ct="[object Float32Array]",mt="[object Float64Array]",Rt="[object Int8Array]",Ht="[object Int16Array]",Cn="[object Int32Array]",cn="[object Uint8Array]",Hn="[object Uint8ClampedArray]",mn="[object Uint16Array]",Ct="[object Uint32Array]",Pn=/\b__p \+= '';/g,$n=/\b(__p \+=) '' \+/g,br=/(__e\(.*?\)|\b__t\)) \+\n'';/g,po=/&(?:amp|lt|gt|quot|#39);/g,Qn=/[&<>"']/g,yu=RegExp(po.source),vu=RegExp(Qn.source),ju=/<%-([\s\S]+?)%>/g,im=/<%([\s\S]+?)%>/g,wu=/<%=([\s\S]+?)%>/g,xn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yr=/^\w*$/,za=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Su=/[\\^$.*+?()[\]{}|]/g,Fw=RegExp(Su.source),Cu=/^\s+/,Ww=/\s/,Bw=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Vw=/\{\n\/\* \[wrapped with (.+)\] \*/,Uw=/,? & /,zw=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Hw=/[()=,{}\[\]\/\s]/,Gw=/\\(\\)?/g,Yw=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,am=/\w*$/,qw=/^[-+]0x[0-9a-f]+$/i,Kw=/^0b[01]+$/i,Jw=/^\[object .+?Constructor\]$/,Xw=/^0o[0-7]+$/i,Qw=/^(?:0|[1-9]\d*)$/,Zw=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ha=/($^)/,eS=/['\n\r\u2028\u2029\\]/g,Ga="\\ud800-\\udfff",tS="\\u0300-\\u036f",nS="\\ufe20-\\ufe2f",rS="\\u20d0-\\u20ff",lm=tS+nS+rS,cm="\\u2700-\\u27bf",um="a-z\\xdf-\\xf6\\xf8-\\xff",sS="\\xac\\xb1\\xd7\\xf7",oS="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",iS="\\u2000-\\u206f",aS=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dm="A-Z\\xc0-\\xd6\\xd8-\\xde",hm="\\ufe0e\\ufe0f",fm=sS+oS+iS+aS,Pu="['’]",lS="["+Ga+"]",pm="["+fm+"]",Ya="["+lm+"]",mm="\\d+",cS="["+cm+"]",xm="["+um+"]",gm="[^"+Ga+fm+mm+cm+um+dm+"]",Du="\\ud83c[\\udffb-\\udfff]",uS="(?:"+Ya+"|"+Du+")",bm="[^"+Ga+"]",Tu="(?:\\ud83c[\\udde6-\\uddff]){2}",Iu="[\\ud800-\\udbff][\\udc00-\\udfff]",Wo="["+dm+"]",ym="\\u200d",vm="(?:"+xm+"|"+gm+")",dS="(?:"+Wo+"|"+gm+")",jm="(?:"+Pu+"(?:d|ll|m|re|s|t|ve))?",wm="(?:"+Pu+"(?:D|LL|M|RE|S|T|VE))?",Sm=uS+"?",Cm="["+hm+"]?",hS="(?:"+ym+"(?:"+[bm,Tu,Iu].join("|")+")"+Cm+Sm+")*",fS="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",pS="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Pm=Cm+Sm+hS,mS="(?:"+[cS,Tu,Iu].join("|")+")"+Pm,xS="(?:"+[bm+Ya+"?",Ya,Tu,Iu,lS].join("|")+")",gS=RegExp(Pu,"g"),bS=RegExp(Ya,"g"),Eu=RegExp(Du+"(?="+Du+")|"+xS+Pm,"g"),yS=RegExp([Wo+"?"+xm+"+"+jm+"(?="+[pm,Wo,"$"].join("|")+")",dS+"+"+wm+"(?="+[pm,Wo+vm,"$"].join("|")+")",Wo+"?"+vm+"+"+jm,Wo+"+"+wm,pS,fS,mm,mS].join("|"),"g"),vS=RegExp("["+ym+Ga+lm+hm+"]"),jS=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wS=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],SS=-1,Xt={};Xt[ct]=Xt[mt]=Xt[Rt]=Xt[Ht]=Xt[Cn]=Xt[cn]=Xt[Hn]=Xt[mn]=Xt[Ct]=!0,Xt[le]=Xt[oe]=Xt[Yt]=Xt[he]=Xt[On]=Xt[ie]=Xt[te]=Xt[Ce]=Xt[ge]=Xt[Ae]=Xt[Qe]=Xt[K]=Xt[me]=Xt[Xe]=Xt[Lt]=!1;var Jt={};Jt[le]=Jt[oe]=Jt[Yt]=Jt[On]=Jt[he]=Jt[ie]=Jt[ct]=Jt[mt]=Jt[Rt]=Jt[Ht]=Jt[Cn]=Jt[ge]=Jt[Ae]=Jt[Qe]=Jt[K]=Jt[me]=Jt[Xe]=Jt[jt]=Jt[cn]=Jt[Hn]=Jt[mn]=Jt[Ct]=!0,Jt[te]=Jt[Ce]=Jt[Lt]=!1;var CS={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},PS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},DS={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},TS={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},IS=parseFloat,ES=parseInt,Dm=typeof Ki=="object"&&Ki&&Ki.Object===Object&&Ki,AS=typeof self=="object"&&self&&self.Object===Object&&self,Fn=Dm||AS||Function("return this")(),Au=n&&!n.nodeType&&n,mo=Au&&!0&&e&&!e.nodeType&&e,Tm=mo&&mo.exports===Au,Ru=Tm&&Dm.process,Rr=function(){try{var J=mo&&mo.require&&mo.require("util").types;return J||Ru&&Ru.binding&&Ru.binding("util")}catch{}}(),Im=Rr&&Rr.isArrayBuffer,Em=Rr&&Rr.isDate,Am=Rr&&Rr.isMap,Rm=Rr&&Rr.isRegExp,_m=Rr&&Rr.isSet,Om=Rr&&Rr.isTypedArray;function vr(J,be,ue){switch(ue.length){case 0:return J.call(be);case 1:return J.call(be,ue[0]);case 2:return J.call(be,ue[0],ue[1]);case 3:return J.call(be,ue[0],ue[1],ue[2])}return J.apply(be,ue)}function RS(J,be,ue,Be){for(var ut=-1,Mt=J==null?0:J.length;++ut<Mt;){var In=J[ut];be(Be,In,ue(In),J)}return Be}function _r(J,be){for(var ue=-1,Be=J==null?0:J.length;++ue<Be&&be(J[ue],ue,J)!==!1;);return J}function _S(J,be){for(var ue=J==null?0:J.length;ue--&&be(J[ue],ue,J)!==!1;);return J}function Mm(J,be){for(var ue=-1,Be=J==null?0:J.length;++ue<Be;)if(!be(J[ue],ue,J))return!1;return!0}function Ns(J,be){for(var ue=-1,Be=J==null?0:J.length,ut=0,Mt=[];++ue<Be;){var In=J[ue];be(In,ue,J)&&(Mt[ut++]=In)}return Mt}function qa(J,be){var ue=J==null?0:J.length;return!!ue&&Bo(J,be,0)>-1}function _u(J,be,ue){for(var Be=-1,ut=J==null?0:J.length;++Be<ut;)if(ue(be,J[Be]))return!0;return!1}function nn(J,be){for(var ue=-1,Be=J==null?0:J.length,ut=Array(Be);++ue<Be;)ut[ue]=be(J[ue],ue,J);return ut}function Ls(J,be){for(var ue=-1,Be=be.length,ut=J.length;++ue<Be;)J[ut+ue]=be[ue];return J}function Ou(J,be,ue,Be){var ut=-1,Mt=J==null?0:J.length;for(Be&&Mt&&(ue=J[++ut]);++ut<Mt;)ue=be(ue,J[ut],ut,J);return ue}function OS(J,be,ue,Be){var ut=J==null?0:J.length;for(Be&&ut&&(ue=J[--ut]);ut--;)ue=be(ue,J[ut],ut,J);return ue}function Mu(J,be){for(var ue=-1,Be=J==null?0:J.length;++ue<Be;)if(be(J[ue],ue,J))return!0;return!1}var MS=ku("length");function kS(J){return J.split("")}function NS(J){return J.match(zw)||[]}function km(J,be,ue){var Be;return ue(J,function(ut,Mt,In){if(be(ut,Mt,In))return Be=Mt,!1}),Be}function Ka(J,be,ue,Be){for(var ut=J.length,Mt=ue+(Be?1:-1);Be?Mt--:++Mt<ut;)if(be(J[Mt],Mt,J))return Mt;return-1}function Bo(J,be,ue){return be===be?qS(J,be,ue):Ka(J,Nm,ue)}function LS(J,be,ue,Be){for(var ut=ue-1,Mt=J.length;++ut<Mt;)if(Be(J[ut],be))return ut;return-1}function Nm(J){return J!==J}function Lm(J,be){var ue=J==null?0:J.length;return ue?Lu(J,be)/ue:G}function ku(J){return function(be){return be==null?r:be[J]}}function Nu(J){return function(be){return J==null?r:J[be]}}function $m(J,be,ue,Be,ut){return ut(J,function(Mt,In,qt){ue=Be?(Be=!1,Mt):be(ue,Mt,In,qt)}),ue}function $S(J,be){var ue=J.length;for(J.sort(be);ue--;)J[ue]=J[ue].value;return J}function Lu(J,be){for(var ue,Be=-1,ut=J.length;++Be<ut;){var Mt=be(J[Be]);Mt!==r&&(ue=ue===r?Mt:ue+Mt)}return ue}function $u(J,be){for(var ue=-1,Be=Array(J);++ue<J;)Be[ue]=be(ue);return Be}function FS(J,be){return nn(be,function(ue){return[ue,J[ue]]})}function Fm(J){return J&&J.slice(0,Um(J)+1).replace(Cu,"")}function jr(J){return function(be){return J(be)}}function Fu(J,be){return nn(be,function(ue){return J[ue]})}function Mi(J,be){return J.has(be)}function Wm(J,be){for(var ue=-1,Be=J.length;++ue<Be&&Bo(be,J[ue],0)>-1;);return ue}function Bm(J,be){for(var ue=J.length;ue--&&Bo(be,J[ue],0)>-1;);return ue}function WS(J,be){for(var ue=J.length,Be=0;ue--;)J[ue]===be&&++Be;return Be}var BS=Nu(CS),VS=Nu(PS);function US(J){return"\\"+TS[J]}function zS(J,be){return J==null?r:J[be]}function Vo(J){return vS.test(J)}function HS(J){return jS.test(J)}function GS(J){for(var be,ue=[];!(be=J.next()).done;)ue.push(be.value);return ue}function Wu(J){var be=-1,ue=Array(J.size);return J.forEach(function(Be,ut){ue[++be]=[ut,Be]}),ue}function Vm(J,be){return function(ue){return J(be(ue))}}function $s(J,be){for(var ue=-1,Be=J.length,ut=0,Mt=[];++ue<Be;){var In=J[ue];(In===be||In===p)&&(J[ue]=p,Mt[ut++]=ue)}return Mt}function Ja(J){var be=-1,ue=Array(J.size);return J.forEach(function(Be){ue[++be]=Be}),ue}function YS(J){var be=-1,ue=Array(J.size);return J.forEach(function(Be){ue[++be]=[Be,Be]}),ue}function qS(J,be,ue){for(var Be=ue-1,ut=J.length;++Be<ut;)if(J[Be]===be)return Be;return-1}function KS(J,be,ue){for(var Be=ue+1;Be--;)if(J[Be]===be)return Be;return Be}function Uo(J){return Vo(J)?XS(J):MS(J)}function Kr(J){return Vo(J)?QS(J):kS(J)}function Um(J){for(var be=J.length;be--&&Ww.test(J.charAt(be)););return be}var JS=Nu(DS);function XS(J){for(var be=Eu.lastIndex=0;Eu.test(J);)++be;return be}function QS(J){return J.match(Eu)||[]}function ZS(J){return J.match(yS)||[]}var e1=function J(be){be=be==null?Fn:zo.defaults(Fn.Object(),be,zo.pick(Fn,wS));var ue=be.Array,Be=be.Date,ut=be.Error,Mt=be.Function,In=be.Math,qt=be.Object,Bu=be.RegExp,t1=be.String,Or=be.TypeError,Xa=ue.prototype,n1=Mt.prototype,Ho=qt.prototype,Qa=be["__core-js_shared__"],Za=n1.toString,Bt=Ho.hasOwnProperty,r1=0,zm=function(){var i=/[^.]+$/.exec(Qa&&Qa.keys&&Qa.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),el=Ho.toString,s1=Za.call(qt),o1=Fn._,i1=Bu("^"+Za.call(Bt).replace(Su,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tl=Tm?be.Buffer:r,Fs=be.Symbol,nl=be.Uint8Array,Hm=tl?tl.allocUnsafe:r,rl=Vm(qt.getPrototypeOf,qt),Gm=qt.create,Ym=Ho.propertyIsEnumerable,sl=Xa.splice,qm=Fs?Fs.isConcatSpreadable:r,ki=Fs?Fs.iterator:r,xo=Fs?Fs.toStringTag:r,ol=function(){try{var i=jo(qt,"defineProperty");return i({},"",{}),i}catch{}}(),a1=be.clearTimeout!==Fn.clearTimeout&&be.clearTimeout,l1=Be&&Be.now!==Fn.Date.now&&Be.now,c1=be.setTimeout!==Fn.setTimeout&&be.setTimeout,il=In.ceil,al=In.floor,Vu=qt.getOwnPropertySymbols,u1=tl?tl.isBuffer:r,Km=be.isFinite,d1=Xa.join,h1=Vm(qt.keys,qt),En=In.max,Gn=In.min,f1=Be.now,p1=be.parseInt,Jm=In.random,m1=Xa.reverse,Uu=jo(be,"DataView"),Ni=jo(be,"Map"),zu=jo(be,"Promise"),Go=jo(be,"Set"),Li=jo(be,"WeakMap"),$i=jo(qt,"create"),ll=Li&&new Li,Yo={},x1=wo(Uu),g1=wo(Ni),b1=wo(zu),y1=wo(Go),v1=wo(Li),cl=Fs?Fs.prototype:r,Fi=cl?cl.valueOf:r,Xm=cl?cl.toString:r;function _(i){if(gn(i)&&!ht(i)&&!(i instanceof Dt)){if(i instanceof Mr)return i;if(Bt.call(i,"__wrapped__"))return Qx(i)}return new Mr(i)}var qo=function(){function i(){}return function(l){if(!un(l))return{};if(Gm)return Gm(l);i.prototype=l;var f=new i;return i.prototype=r,f}}();function ul(){}function Mr(i,l){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=r}_.templateSettings={escape:ju,evaluate:im,interpolate:wu,variable:"",imports:{_}},_.prototype=ul.prototype,_.prototype.constructor=_,Mr.prototype=qo(ul.prototype),Mr.prototype.constructor=Mr;function Dt(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=re,this.__views__=[]}function j1(){var i=new Dt(this.__wrapped__);return i.__actions__=lr(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=lr(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=lr(this.__views__),i}function w1(){if(this.__filtered__){var i=new Dt(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function S1(){var i=this.__wrapped__.value(),l=this.__dir__,f=ht(i),S=l<0,I=f?i.length:0,O=kC(0,I,this.__views__),F=O.start,z=O.end,Q=z-F,we=S?z:F-1,Se=this.__iteratees__,De=Se.length,Le=0,Ge=Gn(Q,this.__takeCount__);if(!f||!S&&I==Q&&Ge==Q)return jx(i,this.__actions__);var st=[];e:for(;Q--&&Le<Ge;){we+=l;for(var yt=-1,ot=i[we];++yt<De;){var Pt=Se[yt],Et=Pt.iteratee,Cr=Pt.type,tr=Et(ot);if(Cr==H)ot=tr;else if(!tr){if(Cr==U)continue e;break e}}st[Le++]=ot}return st}Dt.prototype=qo(ul.prototype),Dt.prototype.constructor=Dt;function go(i){var l=-1,f=i==null?0:i.length;for(this.clear();++l<f;){var S=i[l];this.set(S[0],S[1])}}function C1(){this.__data__=$i?$i(null):{},this.size=0}function P1(i){var l=this.has(i)&&delete this.__data__[i];return this.size-=l?1:0,l}function D1(i){var l=this.__data__;if($i){var f=l[i];return f===d?r:f}return Bt.call(l,i)?l[i]:r}function T1(i){var l=this.__data__;return $i?l[i]!==r:Bt.call(l,i)}function I1(i,l){var f=this.__data__;return this.size+=this.has(i)?0:1,f[i]=$i&&l===r?d:l,this}go.prototype.clear=C1,go.prototype.delete=P1,go.prototype.get=D1,go.prototype.has=T1,go.prototype.set=I1;function ws(i){var l=-1,f=i==null?0:i.length;for(this.clear();++l<f;){var S=i[l];this.set(S[0],S[1])}}function E1(){this.__data__=[],this.size=0}function A1(i){var l=this.__data__,f=dl(l,i);if(f<0)return!1;var S=l.length-1;return f==S?l.pop():sl.call(l,f,1),--this.size,!0}function R1(i){var l=this.__data__,f=dl(l,i);return f<0?r:l[f][1]}function _1(i){return dl(this.__data__,i)>-1}function O1(i,l){var f=this.__data__,S=dl(f,i);return S<0?(++this.size,f.push([i,l])):f[S][1]=l,this}ws.prototype.clear=E1,ws.prototype.delete=A1,ws.prototype.get=R1,ws.prototype.has=_1,ws.prototype.set=O1;function Ss(i){var l=-1,f=i==null?0:i.length;for(this.clear();++l<f;){var S=i[l];this.set(S[0],S[1])}}function M1(){this.size=0,this.__data__={hash:new go,map:new(Ni||ws),string:new go}}function k1(i){var l=Sl(this,i).delete(i);return this.size-=l?1:0,l}function N1(i){return Sl(this,i).get(i)}function L1(i){return Sl(this,i).has(i)}function $1(i,l){var f=Sl(this,i),S=f.size;return f.set(i,l),this.size+=f.size==S?0:1,this}Ss.prototype.clear=M1,Ss.prototype.delete=k1,Ss.prototype.get=N1,Ss.prototype.has=L1,Ss.prototype.set=$1;function bo(i){var l=-1,f=i==null?0:i.length;for(this.__data__=new Ss;++l<f;)this.add(i[l])}function F1(i){return this.__data__.set(i,d),this}function W1(i){return this.__data__.has(i)}bo.prototype.add=bo.prototype.push=F1,bo.prototype.has=W1;function Jr(i){var l=this.__data__=new ws(i);this.size=l.size}function B1(){this.__data__=new ws,this.size=0}function V1(i){var l=this.__data__,f=l.delete(i);return this.size=l.size,f}function U1(i){return this.__data__.get(i)}function z1(i){return this.__data__.has(i)}function H1(i,l){var f=this.__data__;if(f instanceof ws){var S=f.__data__;if(!Ni||S.length<o-1)return S.push([i,l]),this.size=++f.size,this;f=this.__data__=new Ss(S)}return f.set(i,l),this.size=f.size,this}Jr.prototype.clear=B1,Jr.prototype.delete=V1,Jr.prototype.get=U1,Jr.prototype.has=z1,Jr.prototype.set=H1;function Qm(i,l){var f=ht(i),S=!f&&So(i),I=!f&&!S&&zs(i),O=!f&&!S&&!I&&Qo(i),F=f||S||I||O,z=F?$u(i.length,t1):[],Q=z.length;for(var we in i)(l||Bt.call(i,we))&&!(F&&(we=="length"||I&&(we=="offset"||we=="parent")||O&&(we=="buffer"||we=="byteLength"||we=="byteOffset")||Ts(we,Q)))&&z.push(we);return z}function Zm(i){var l=i.length;return l?i[td(0,l-1)]:r}function G1(i,l){return Cl(lr(i),yo(l,0,i.length))}function Y1(i){return Cl(lr(i))}function Hu(i,l,f){(f!==r&&!Xr(i[l],f)||f===r&&!(l in i))&&Cs(i,l,f)}function Wi(i,l,f){var S=i[l];(!(Bt.call(i,l)&&Xr(S,f))||f===r&&!(l in i))&&Cs(i,l,f)}function dl(i,l){for(var f=i.length;f--;)if(Xr(i[f][0],l))return f;return-1}function q1(i,l,f,S){return Ws(i,function(I,O,F){l(S,I,f(I),F)}),S}function ex(i,l){return i&&ds(l,Mn(l),i)}function K1(i,l){return i&&ds(l,ur(l),i)}function Cs(i,l,f){l=="__proto__"&&ol?ol(i,l,{configurable:!0,enumerable:!0,value:f,writable:!0}):i[l]=f}function Gu(i,l){for(var f=-1,S=l.length,I=ue(S),O=i==null;++f<S;)I[f]=O?r:Dd(i,l[f]);return I}function yo(i,l,f){return i===i&&(f!==r&&(i=i<=f?i:f),l!==r&&(i=i>=l?i:l)),i}function kr(i,l,f,S,I,O){var F,z=l&m,Q=l&x,we=l&y;if(f&&(F=I?f(i,S,I,O):f(i)),F!==r)return F;if(!un(i))return i;var Se=ht(i);if(Se){if(F=LC(i),!z)return lr(i,F)}else{var De=Yn(i),Le=De==Ce||De==ve;if(zs(i))return Cx(i,z);if(De==Qe||De==le||Le&&!I){if(F=Q||Le?{}:Ux(i),!z)return Q?DC(i,K1(F,i)):PC(i,ex(F,i))}else{if(!Jt[De])return I?i:{};F=$C(i,De,z)}}O||(O=new Jr);var Ge=O.get(i);if(Ge)return Ge;O.set(i,F),bg(i)?i.forEach(function(ot){F.add(kr(ot,l,f,ot,i,O))}):xg(i)&&i.forEach(function(ot,Pt){F.set(Pt,kr(ot,l,f,Pt,i,O))});var st=we?Q?hd:dd:Q?ur:Mn,yt=Se?r:st(i);return _r(yt||i,function(ot,Pt){yt&&(Pt=ot,ot=i[Pt]),Wi(F,Pt,kr(ot,l,f,Pt,i,O))}),F}function J1(i){var l=Mn(i);return function(f){return tx(f,i,l)}}function tx(i,l,f){var S=f.length;if(i==null)return!S;for(i=qt(i);S--;){var I=f[S],O=l[I],F=i[I];if(F===r&&!(I in i)||!O(F))return!1}return!0}function nx(i,l,f){if(typeof i!="function")throw new Or(c);return Yi(function(){i.apply(r,f)},l)}function Bi(i,l,f,S){var I=-1,O=qa,F=!0,z=i.length,Q=[],we=l.length;if(!z)return Q;f&&(l=nn(l,jr(f))),S?(O=_u,F=!1):l.length>=o&&(O=Mi,F=!1,l=new bo(l));e:for(;++I<z;){var Se=i[I],De=f==null?Se:f(Se);if(Se=S||Se!==0?Se:0,F&&De===De){for(var Le=we;Le--;)if(l[Le]===De)continue e;Q.push(Se)}else O(l,De,S)||Q.push(Se)}return Q}var Ws=Ex(us),rx=Ex(qu,!0);function X1(i,l){var f=!0;return Ws(i,function(S,I,O){return f=!!l(S,I,O),f}),f}function hl(i,l,f){for(var S=-1,I=i.length;++S<I;){var O=i[S],F=l(O);if(F!=null&&(z===r?F===F&&!Sr(F):f(F,z)))var z=F,Q=O}return Q}function Q1(i,l,f,S){var I=i.length;for(f=xt(f),f<0&&(f=-f>I?0:I+f),S=S===r||S>I?I:xt(S),S<0&&(S+=I),S=f>S?0:vg(S);f<S;)i[f++]=l;return i}function sx(i,l){var f=[];return Ws(i,function(S,I,O){l(S,I,O)&&f.push(S)}),f}function Wn(i,l,f,S,I){var O=-1,F=i.length;for(f||(f=WC),I||(I=[]);++O<F;){var z=i[O];l>0&&f(z)?l>1?Wn(z,l-1,f,S,I):Ls(I,z):S||(I[I.length]=z)}return I}var Yu=Ax(),ox=Ax(!0);function us(i,l){return i&&Yu(i,l,Mn)}function qu(i,l){return i&&ox(i,l,Mn)}function fl(i,l){return Ns(l,function(f){return Is(i[f])})}function vo(i,l){l=Vs(l,i);for(var f=0,S=l.length;i!=null&&f<S;)i=i[hs(l[f++])];return f&&f==S?i:r}function ix(i,l,f){var S=l(i);return ht(i)?S:Ls(S,f(i))}function Zn(i){return i==null?i===r?tn:_e:xo&&xo in qt(i)?MC(i):YC(i)}function Ku(i,l){return i>l}function Z1(i,l){return i!=null&&Bt.call(i,l)}function eC(i,l){return i!=null&&l in qt(i)}function tC(i,l,f){return i>=Gn(l,f)&&i<En(l,f)}function Ju(i,l,f){for(var S=f?_u:qa,I=i[0].length,O=i.length,F=O,z=ue(O),Q=1/0,we=[];F--;){var Se=i[F];F&&l&&(Se=nn(Se,jr(l))),Q=Gn(Se.length,Q),z[F]=!f&&(l||I>=120&&Se.length>=120)?new bo(F&&Se):r}Se=i[0];var De=-1,Le=z[0];e:for(;++De<I&&we.length<Q;){var Ge=Se[De],st=l?l(Ge):Ge;if(Ge=f||Ge!==0?Ge:0,!(Le?Mi(Le,st):S(we,st,f))){for(F=O;--F;){var yt=z[F];if(!(yt?Mi(yt,st):S(i[F],st,f)))continue e}Le&&Le.push(st),we.push(Ge)}}return we}function nC(i,l,f,S){return us(i,function(I,O,F){l(S,f(I),O,F)}),S}function Vi(i,l,f){l=Vs(l,i),i=Yx(i,l);var S=i==null?i:i[hs(Lr(l))];return S==null?r:vr(S,i,f)}function ax(i){return gn(i)&&Zn(i)==le}function rC(i){return gn(i)&&Zn(i)==Yt}function sC(i){return gn(i)&&Zn(i)==ie}function Ui(i,l,f,S,I){return i===l?!0:i==null||l==null||!gn(i)&&!gn(l)?i!==i&&l!==l:oC(i,l,f,S,Ui,I)}function oC(i,l,f,S,I,O){var F=ht(i),z=ht(l),Q=F?oe:Yn(i),we=z?oe:Yn(l);Q=Q==le?Qe:Q,we=we==le?Qe:we;var Se=Q==Qe,De=we==Qe,Le=Q==we;if(Le&&zs(i)){if(!zs(l))return!1;F=!0,Se=!1}if(Le&&!Se)return O||(O=new Jr),F||Qo(i)?Wx(i,l,f,S,I,O):_C(i,l,Q,f,S,I,O);if(!(f&g)){var Ge=Se&&Bt.call(i,"__wrapped__"),st=De&&Bt.call(l,"__wrapped__");if(Ge||st){var yt=Ge?i.value():i,ot=st?l.value():l;return O||(O=new Jr),I(yt,ot,f,S,O)}}return Le?(O||(O=new Jr),OC(i,l,f,S,I,O)):!1}function iC(i){return gn(i)&&Yn(i)==ge}function Xu(i,l,f,S){var I=f.length,O=I,F=!S;if(i==null)return!O;for(i=qt(i);I--;){var z=f[I];if(F&&z[2]?z[1]!==i[z[0]]:!(z[0]in i))return!1}for(;++I<O;){z=f[I];var Q=z[0],we=i[Q],Se=z[1];if(F&&z[2]){if(we===r&&!(Q in i))return!1}else{var De=new Jr;if(S)var Le=S(we,Se,Q,i,l,De);if(!(Le===r?Ui(Se,we,g|w,S,De):Le))return!1}}return!0}function lx(i){if(!un(i)||VC(i))return!1;var l=Is(i)?i1:Jw;return l.test(wo(i))}function aC(i){return gn(i)&&Zn(i)==K}function lC(i){return gn(i)&&Yn(i)==me}function cC(i){return gn(i)&&Al(i.length)&&!!Xt[Zn(i)]}function cx(i){return typeof i=="function"?i:i==null?dr:typeof i=="object"?ht(i)?hx(i[0],i[1]):dx(i):Rg(i)}function Qu(i){if(!Gi(i))return h1(i);var l=[];for(var f in qt(i))Bt.call(i,f)&&f!="constructor"&&l.push(f);return l}function uC(i){if(!un(i))return GC(i);var l=Gi(i),f=[];for(var S in i)S=="constructor"&&(l||!Bt.call(i,S))||f.push(S);return f}function Zu(i,l){return i<l}function ux(i,l){var f=-1,S=cr(i)?ue(i.length):[];return Ws(i,function(I,O,F){S[++f]=l(I,O,F)}),S}function dx(i){var l=pd(i);return l.length==1&&l[0][2]?Hx(l[0][0],l[0][1]):function(f){return f===i||Xu(f,i,l)}}function hx(i,l){return xd(i)&&zx(l)?Hx(hs(i),l):function(f){var S=Dd(f,i);return S===r&&S===l?Td(f,i):Ui(l,S,g|w)}}function pl(i,l,f,S,I){i!==l&&Yu(l,function(O,F){if(I||(I=new Jr),un(O))dC(i,l,F,f,pl,S,I);else{var z=S?S(bd(i,F),O,F+"",i,l,I):r;z===r&&(z=O),Hu(i,F,z)}},ur)}function dC(i,l,f,S,I,O,F){var z=bd(i,f),Q=bd(l,f),we=F.get(Q);if(we){Hu(i,f,we);return}var Se=O?O(z,Q,f+"",i,l,F):r,De=Se===r;if(De){var Le=ht(Q),Ge=!Le&&zs(Q),st=!Le&&!Ge&&Qo(Q);Se=Q,Le||Ge||st?ht(z)?Se=z:yn(z)?Se=lr(z):Ge?(De=!1,Se=Cx(Q,!0)):st?(De=!1,Se=Px(Q,!0)):Se=[]:qi(Q)||So(Q)?(Se=z,So(z)?Se=jg(z):(!un(z)||Is(z))&&(Se=Ux(Q))):De=!1}De&&(F.set(Q,Se),I(Se,Q,S,O,F),F.delete(Q)),Hu(i,f,Se)}function fx(i,l){var f=i.length;if(f)return l+=l<0?f:0,Ts(l,f)?i[l]:r}function px(i,l,f){l.length?l=nn(l,function(O){return ht(O)?function(F){return vo(F,O.length===1?O[0]:O)}:O}):l=[dr];var S=-1;l=nn(l,jr(nt()));var I=ux(i,function(O,F,z){var Q=nn(l,function(we){return we(O)});return{criteria:Q,index:++S,value:O}});return $S(I,function(O,F){return CC(O,F,f)})}function hC(i,l){return mx(i,l,function(f,S){return Td(i,S)})}function mx(i,l,f){for(var S=-1,I=l.length,O={};++S<I;){var F=l[S],z=vo(i,F);f(z,F)&&zi(O,Vs(F,i),z)}return O}function fC(i){return function(l){return vo(l,i)}}function ed(i,l,f,S){var I=S?LS:Bo,O=-1,F=l.length,z=i;for(i===l&&(l=lr(l)),f&&(z=nn(i,jr(f)));++O<F;)for(var Q=0,we=l[O],Se=f?f(we):we;(Q=I(z,Se,Q,S))>-1;)z!==i&&sl.call(z,Q,1),sl.call(i,Q,1);return i}function xx(i,l){for(var f=i?l.length:0,S=f-1;f--;){var I=l[f];if(f==S||I!==O){var O=I;Ts(I)?sl.call(i,I,1):sd(i,I)}}return i}function td(i,l){return i+al(Jm()*(l-i+1))}function pC(i,l,f,S){for(var I=-1,O=En(il((l-i)/(f||1)),0),F=ue(O);O--;)F[S?O:++I]=i,i+=f;return F}function nd(i,l){var f="";if(!i||l<1||l>ne)return f;do l%2&&(f+=i),l=al(l/2),l&&(i+=i);while(l);return f}function wt(i,l){return yd(Gx(i,l,dr),i+"")}function mC(i){return Zm(Zo(i))}function xC(i,l){var f=Zo(i);return Cl(f,yo(l,0,f.length))}function zi(i,l,f,S){if(!un(i))return i;l=Vs(l,i);for(var I=-1,O=l.length,F=O-1,z=i;z!=null&&++I<O;){var Q=hs(l[I]),we=f;if(Q==="__proto__"||Q==="constructor"||Q==="prototype")return i;if(I!=F){var Se=z[Q];we=S?S(Se,Q,z):r,we===r&&(we=un(Se)?Se:Ts(l[I+1])?[]:{})}Wi(z,Q,we),z=z[Q]}return i}var gx=ll?function(i,l){return ll.set(i,l),i}:dr,gC=ol?function(i,l){return ol(i,"toString",{configurable:!0,enumerable:!1,value:Ed(l),writable:!0})}:dr;function bC(i){return Cl(Zo(i))}function Nr(i,l,f){var S=-1,I=i.length;l<0&&(l=-l>I?0:I+l),f=f>I?I:f,f<0&&(f+=I),I=l>f?0:f-l>>>0,l>>>=0;for(var O=ue(I);++S<I;)O[S]=i[S+l];return O}function yC(i,l){var f;return Ws(i,function(S,I,O){return f=l(S,I,O),!f}),!!f}function ml(i,l,f){var S=0,I=i==null?S:i.length;if(typeof l=="number"&&l===l&&I<=fe){for(;S<I;){var O=S+I>>>1,F=i[O];F!==null&&!Sr(F)&&(f?F<=l:F<l)?S=O+1:I=O}return I}return rd(i,l,dr,f)}function rd(i,l,f,S){var I=0,O=i==null?0:i.length;if(O===0)return 0;l=f(l);for(var F=l!==l,z=l===null,Q=Sr(l),we=l===r;I<O;){var Se=al((I+O)/2),De=f(i[Se]),Le=De!==r,Ge=De===null,st=De===De,yt=Sr(De);if(F)var ot=S||st;else we?ot=st&&(S||Le):z?ot=st&&Le&&(S||!Ge):Q?ot=st&&Le&&!Ge&&(S||!yt):Ge||yt?ot=!1:ot=S?De<=l:De<l;ot?I=Se+1:O=Se}return Gn(O,Pe)}function bx(i,l){for(var f=-1,S=i.length,I=0,O=[];++f<S;){var F=i[f],z=l?l(F):F;if(!f||!Xr(z,Q)){var Q=z;O[I++]=F===0?0:F}}return O}function yx(i){return typeof i=="number"?i:Sr(i)?G:+i}function wr(i){if(typeof i=="string")return i;if(ht(i))return nn(i,wr)+"";if(Sr(i))return Xm?Xm.call(i):"";var l=i+"";return l=="0"&&1/i==-se?"-0":l}function Bs(i,l,f){var S=-1,I=qa,O=i.length,F=!0,z=[],Q=z;if(f)F=!1,I=_u;else if(O>=o){var we=l?null:AC(i);if(we)return Ja(we);F=!1,I=Mi,Q=new bo}else Q=l?[]:z;e:for(;++S<O;){var Se=i[S],De=l?l(Se):Se;if(Se=f||Se!==0?Se:0,F&&De===De){for(var Le=Q.length;Le--;)if(Q[Le]===De)continue e;l&&Q.push(De),z.push(Se)}else I(Q,De,f)||(Q!==z&&Q.push(De),z.push(Se))}return z}function sd(i,l){return l=Vs(l,i),i=Yx(i,l),i==null||delete i[hs(Lr(l))]}function vx(i,l,f,S){return zi(i,l,f(vo(i,l)),S)}function xl(i,l,f,S){for(var I=i.length,O=S?I:-1;(S?O--:++O<I)&&l(i[O],O,i););return f?Nr(i,S?0:O,S?O+1:I):Nr(i,S?O+1:0,S?I:O)}function jx(i,l){var f=i;return f instanceof Dt&&(f=f.value()),Ou(l,function(S,I){return I.func.apply(I.thisArg,Ls([S],I.args))},f)}function od(i,l,f){var S=i.length;if(S<2)return S?Bs(i[0]):[];for(var I=-1,O=ue(S);++I<S;)for(var F=i[I],z=-1;++z<S;)z!=I&&(O[I]=Bi(O[I]||F,i[z],l,f));return Bs(Wn(O,1),l,f)}function wx(i,l,f){for(var S=-1,I=i.length,O=l.length,F={};++S<I;){var z=S<O?l[S]:r;f(F,i[S],z)}return F}function id(i){return yn(i)?i:[]}function ad(i){return typeof i=="function"?i:dr}function Vs(i,l){return ht(i)?i:xd(i,l)?[i]:Xx($t(i))}var vC=wt;function Us(i,l,f){var S=i.length;return f=f===r?S:f,!l&&f>=S?i:Nr(i,l,f)}var Sx=a1||function(i){return Fn.clearTimeout(i)};function Cx(i,l){if(l)return i.slice();var f=i.length,S=Hm?Hm(f):new i.constructor(f);return i.copy(S),S}function ld(i){var l=new i.constructor(i.byteLength);return new nl(l).set(new nl(i)),l}function jC(i,l){var f=l?ld(i.buffer):i.buffer;return new i.constructor(f,i.byteOffset,i.byteLength)}function wC(i){var l=new i.constructor(i.source,am.exec(i));return l.lastIndex=i.lastIndex,l}function SC(i){return Fi?qt(Fi.call(i)):{}}function Px(i,l){var f=l?ld(i.buffer):i.buffer;return new i.constructor(f,i.byteOffset,i.length)}function Dx(i,l){if(i!==l){var f=i!==r,S=i===null,I=i===i,O=Sr(i),F=l!==r,z=l===null,Q=l===l,we=Sr(l);if(!z&&!we&&!O&&i>l||O&&F&&Q&&!z&&!we||S&&F&&Q||!f&&Q||!I)return 1;if(!S&&!O&&!we&&i<l||we&&f&&I&&!S&&!O||z&&f&&I||!F&&I||!Q)return-1}return 0}function CC(i,l,f){for(var S=-1,I=i.criteria,O=l.criteria,F=I.length,z=f.length;++S<F;){var Q=Dx(I[S],O[S]);if(Q){if(S>=z)return Q;var we=f[S];return Q*(we=="desc"?-1:1)}}return i.index-l.index}function Tx(i,l,f,S){for(var I=-1,O=i.length,F=f.length,z=-1,Q=l.length,we=En(O-F,0),Se=ue(Q+we),De=!S;++z<Q;)Se[z]=l[z];for(;++I<F;)(De||I<O)&&(Se[f[I]]=i[I]);for(;we--;)Se[z++]=i[I++];return Se}function Ix(i,l,f,S){for(var I=-1,O=i.length,F=-1,z=f.length,Q=-1,we=l.length,Se=En(O-z,0),De=ue(Se+we),Le=!S;++I<Se;)De[I]=i[I];for(var Ge=I;++Q<we;)De[Ge+Q]=l[Q];for(;++F<z;)(Le||I<O)&&(De[Ge+f[F]]=i[I++]);return De}function lr(i,l){var f=-1,S=i.length;for(l||(l=ue(S));++f<S;)l[f]=i[f];return l}function ds(i,l,f,S){var I=!f;f||(f={});for(var O=-1,F=l.length;++O<F;){var z=l[O],Q=S?S(f[z],i[z],z,f,i):r;Q===r&&(Q=i[z]),I?Cs(f,z,Q):Wi(f,z,Q)}return f}function PC(i,l){return ds(i,md(i),l)}function DC(i,l){return ds(i,Bx(i),l)}function gl(i,l){return function(f,S){var I=ht(f)?RS:q1,O=l?l():{};return I(f,i,nt(S,2),O)}}function Ko(i){return wt(function(l,f){var S=-1,I=f.length,O=I>1?f[I-1]:r,F=I>2?f[2]:r;for(O=i.length>3&&typeof O=="function"?(I--,O):r,F&&er(f[0],f[1],F)&&(O=I<3?r:O,I=1),l=qt(l);++S<I;){var z=f[S];z&&i(l,z,S,O)}return l})}function Ex(i,l){return function(f,S){if(f==null)return f;if(!cr(f))return i(f,S);for(var I=f.length,O=l?I:-1,F=qt(f);(l?O--:++O<I)&&S(F[O],O,F)!==!1;);return f}}function Ax(i){return function(l,f,S){for(var I=-1,O=qt(l),F=S(l),z=F.length;z--;){var Q=F[i?z:++I];if(f(O[Q],Q,O)===!1)break}return l}}function TC(i,l,f){var S=l&j,I=Hi(i);function O(){var F=this&&this!==Fn&&this instanceof O?I:i;return F.apply(S?f:this,arguments)}return O}function Rx(i){return function(l){l=$t(l);var f=Vo(l)?Kr(l):r,S=f?f[0]:l.charAt(0),I=f?Us(f,1).join(""):l.slice(1);return S[i]()+I}}function Jo(i){return function(l){return Ou(Eg(Ig(l).replace(gS,"")),i,"")}}function Hi(i){return function(){var l=arguments;switch(l.length){case 0:return new i;case 1:return new i(l[0]);case 2:return new i(l[0],l[1]);case 3:return new i(l[0],l[1],l[2]);case 4:return new i(l[0],l[1],l[2],l[3]);case 5:return new i(l[0],l[1],l[2],l[3],l[4]);case 6:return new i(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new i(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var f=qo(i.prototype),S=i.apply(f,l);return un(S)?S:f}}function IC(i,l,f){var S=Hi(i);function I(){for(var O=arguments.length,F=ue(O),z=O,Q=Xo(I);z--;)F[z]=arguments[z];var we=O<3&&F[0]!==Q&&F[O-1]!==Q?[]:$s(F,Q);if(O-=we.length,O<f)return Nx(i,l,bl,I.placeholder,r,F,we,r,r,f-O);var Se=this&&this!==Fn&&this instanceof I?S:i;return vr(Se,this,F)}return I}function _x(i){return function(l,f,S){var I=qt(l);if(!cr(l)){var O=nt(f,3);l=Mn(l),f=function(z){return O(I[z],z,I)}}var F=i(l,f,S);return F>-1?I[O?l[F]:F]:r}}function Ox(i){return Ds(function(l){var f=l.length,S=f,I=Mr.prototype.thru;for(i&&l.reverse();S--;){var O=l[S];if(typeof O!="function")throw new Or(c);if(I&&!F&&wl(O)=="wrapper")var F=new Mr([],!0)}for(S=F?S:f;++S<f;){O=l[S];var z=wl(O),Q=z=="wrapper"?fd(O):r;Q&&gd(Q[0])&&Q[1]==(N|A|T|M)&&!Q[4].length&&Q[9]==1?F=F[wl(Q[0])].apply(F,Q[3]):F=O.length==1&&gd(O)?F[z]():F.thru(O)}return function(){var we=arguments,Se=we[0];if(F&&we.length==1&&ht(Se))return F.plant(Se).value();for(var De=0,Le=f?l[De].apply(this,we):Se;++De<f;)Le=l[De].call(this,Le);return Le}})}function bl(i,l,f,S,I,O,F,z,Q,we){var Se=l&N,De=l&j,Le=l&P,Ge=l&(A|E),st=l&W,yt=Le?r:Hi(i);function ot(){for(var Pt=arguments.length,Et=ue(Pt),Cr=Pt;Cr--;)Et[Cr]=arguments[Cr];if(Ge)var tr=Xo(ot),Pr=WS(Et,tr);if(S&&(Et=Tx(Et,S,I,Ge)),O&&(Et=Ix(Et,O,F,Ge)),Pt-=Pr,Ge&&Pt<we){var vn=$s(Et,tr);return Nx(i,l,bl,ot.placeholder,f,Et,vn,z,Q,we-Pt)}var Qr=De?f:this,As=Le?Qr[i]:i;return Pt=Et.length,z?Et=qC(Et,z):st&&Pt>1&&Et.reverse(),Se&&Q<Pt&&(Et.length=Q),this&&this!==Fn&&this instanceof ot&&(As=yt||Hi(As)),As.apply(Qr,Et)}return ot}function Mx(i,l){return function(f,S){return nC(f,i,l(S),{})}}function yl(i,l){return function(f,S){var I;if(f===r&&S===r)return l;if(f!==r&&(I=f),S!==r){if(I===r)return S;typeof f=="string"||typeof S=="string"?(f=wr(f),S=wr(S)):(f=yx(f),S=yx(S)),I=i(f,S)}return I}}function cd(i){return Ds(function(l){return l=nn(l,jr(nt())),wt(function(f){var S=this;return i(l,function(I){return vr(I,S,f)})})})}function vl(i,l){l=l===r?" ":wr(l);var f=l.length;if(f<2)return f?nd(l,i):l;var S=nd(l,il(i/Uo(l)));return Vo(l)?Us(Kr(S),0,i).join(""):S.slice(0,i)}function EC(i,l,f,S){var I=l&j,O=Hi(i);function F(){for(var z=-1,Q=arguments.length,we=-1,Se=S.length,De=ue(Se+Q),Le=this&&this!==Fn&&this instanceof F?O:i;++we<Se;)De[we]=S[we];for(;Q--;)De[we++]=arguments[++z];return vr(Le,I?f:this,De)}return F}function kx(i){return function(l,f,S){return S&&typeof S!="number"&&er(l,f,S)&&(f=S=r),l=Es(l),f===r?(f=l,l=0):f=Es(f),S=S===r?l<f?1:-1:Es(S),pC(l,f,S,i)}}function jl(i){return function(l,f){return typeof l=="string"&&typeof f=="string"||(l=$r(l),f=$r(f)),i(l,f)}}function Nx(i,l,f,S,I,O,F,z,Q,we){var Se=l&A,De=Se?F:r,Le=Se?r:F,Ge=Se?O:r,st=Se?r:O;l|=Se?T:R,l&=~(Se?R:T),l&C||(l&=~(j|P));var yt=[i,l,I,Ge,De,st,Le,z,Q,we],ot=f.apply(r,yt);return gd(i)&&qx(ot,yt),ot.placeholder=S,Kx(ot,i,l)}function ud(i){var l=In[i];return function(f,S){if(f=$r(f),S=S==null?0:Gn(xt(S),292),S&&Km(f)){var I=($t(f)+"e").split("e"),O=l(I[0]+"e"+(+I[1]+S));return I=($t(O)+"e").split("e"),+(I[0]+"e"+(+I[1]-S))}return l(f)}}var AC=Go&&1/Ja(new Go([,-0]))[1]==se?function(i){return new Go(i)}:_d;function Lx(i){return function(l){var f=Yn(l);return f==ge?Wu(l):f==me?YS(l):FS(l,i(l))}}function Ps(i,l,f,S,I,O,F,z){var Q=l&P;if(!Q&&typeof i!="function")throw new Or(c);var we=S?S.length:0;if(we||(l&=~(T|R),S=I=r),F=F===r?F:En(xt(F),0),z=z===r?z:xt(z),we-=I?I.length:0,l&R){var Se=S,De=I;S=I=r}var Le=Q?r:fd(i),Ge=[i,l,f,S,I,Se,De,O,F,z];if(Le&&HC(Ge,Le),i=Ge[0],l=Ge[1],f=Ge[2],S=Ge[3],I=Ge[4],z=Ge[9]=Ge[9]===r?Q?0:i.length:En(Ge[9]-we,0),!z&&l&(A|E)&&(l&=~(A|E)),!l||l==j)var st=TC(i,l,f);else l==A||l==E?st=IC(i,l,z):(l==T||l==(j|T))&&!I.length?st=EC(i,l,f,S):st=bl.apply(r,Ge);var yt=Le?gx:qx;return Kx(yt(st,Ge),i,l)}function $x(i,l,f,S){return i===r||Xr(i,Ho[f])&&!Bt.call(S,f)?l:i}function Fx(i,l,f,S,I,O){return un(i)&&un(l)&&(O.set(l,i),pl(i,l,r,Fx,O),O.delete(l)),i}function RC(i){return qi(i)?r:i}function Wx(i,l,f,S,I,O){var F=f&g,z=i.length,Q=l.length;if(z!=Q&&!(F&&Q>z))return!1;var we=O.get(i),Se=O.get(l);if(we&&Se)return we==l&&Se==i;var De=-1,Le=!0,Ge=f&w?new bo:r;for(O.set(i,l),O.set(l,i);++De<z;){var st=i[De],yt=l[De];if(S)var ot=F?S(yt,st,De,l,i,O):S(st,yt,De,i,l,O);if(ot!==r){if(ot)continue;Le=!1;break}if(Ge){if(!Mu(l,function(Pt,Et){if(!Mi(Ge,Et)&&(st===Pt||I(st,Pt,f,S,O)))return Ge.push(Et)})){Le=!1;break}}else if(!(st===yt||I(st,yt,f,S,O))){Le=!1;break}}return O.delete(i),O.delete(l),Le}function _C(i,l,f,S,I,O,F){switch(f){case On:if(i.byteLength!=l.byteLength||i.byteOffset!=l.byteOffset)return!1;i=i.buffer,l=l.buffer;case Yt:return!(i.byteLength!=l.byteLength||!O(new nl(i),new nl(l)));case he:case ie:case Ae:return Xr(+i,+l);case te:return i.name==l.name&&i.message==l.message;case K:case Xe:return i==l+"";case ge:var z=Wu;case me:var Q=S&g;if(z||(z=Ja),i.size!=l.size&&!Q)return!1;var we=F.get(i);if(we)return we==l;S|=w,F.set(i,l);var Se=Wx(z(i),z(l),S,I,O,F);return F.delete(i),Se;case jt:if(Fi)return Fi.call(i)==Fi.call(l)}return!1}function OC(i,l,f,S,I,O){var F=f&g,z=dd(i),Q=z.length,we=dd(l),Se=we.length;if(Q!=Se&&!F)return!1;for(var De=Q;De--;){var Le=z[De];if(!(F?Le in l:Bt.call(l,Le)))return!1}var Ge=O.get(i),st=O.get(l);if(Ge&&st)return Ge==l&&st==i;var yt=!0;O.set(i,l),O.set(l,i);for(var ot=F;++De<Q;){Le=z[De];var Pt=i[Le],Et=l[Le];if(S)var Cr=F?S(Et,Pt,Le,l,i,O):S(Pt,Et,Le,i,l,O);if(!(Cr===r?Pt===Et||I(Pt,Et,f,S,O):Cr)){yt=!1;break}ot||(ot=Le=="constructor")}if(yt&&!ot){var tr=i.constructor,Pr=l.constructor;tr!=Pr&&"constructor"in i&&"constructor"in l&&!(typeof tr=="function"&&tr instanceof tr&&typeof Pr=="function"&&Pr instanceof Pr)&&(yt=!1)}return O.delete(i),O.delete(l),yt}function Ds(i){return yd(Gx(i,r,tg),i+"")}function dd(i){return ix(i,Mn,md)}function hd(i){return ix(i,ur,Bx)}var fd=ll?function(i){return ll.get(i)}:_d;function wl(i){for(var l=i.name+"",f=Yo[l],S=Bt.call(Yo,l)?f.length:0;S--;){var I=f[S],O=I.func;if(O==null||O==i)return I.name}return l}function Xo(i){var l=Bt.call(_,"placeholder")?_:i;return l.placeholder}function nt(){var i=_.iteratee||Ad;return i=i===Ad?cx:i,arguments.length?i(arguments[0],arguments[1]):i}function Sl(i,l){var f=i.__data__;return BC(l)?f[typeof l=="string"?"string":"hash"]:f.map}function pd(i){for(var l=Mn(i),f=l.length;f--;){var S=l[f],I=i[S];l[f]=[S,I,zx(I)]}return l}function jo(i,l){var f=zS(i,l);return lx(f)?f:r}function MC(i){var l=Bt.call(i,xo),f=i[xo];try{i[xo]=r;var S=!0}catch{}var I=el.call(i);return S&&(l?i[xo]=f:delete i[xo]),I}var md=Vu?function(i){return i==null?[]:(i=qt(i),Ns(Vu(i),function(l){return Ym.call(i,l)}))}:Od,Bx=Vu?function(i){for(var l=[];i;)Ls(l,md(i)),i=rl(i);return l}:Od,Yn=Zn;(Uu&&Yn(new Uu(new ArrayBuffer(1)))!=On||Ni&&Yn(new Ni)!=ge||zu&&Yn(zu.resolve())!=ke||Go&&Yn(new Go)!=me||Li&&Yn(new Li)!=Lt)&&(Yn=function(i){var l=Zn(i),f=l==Qe?i.constructor:r,S=f?wo(f):"";if(S)switch(S){case x1:return On;case g1:return ge;case b1:return ke;case y1:return me;case v1:return Lt}return l});function kC(i,l,f){for(var S=-1,I=f.length;++S<I;){var O=f[S],F=O.size;switch(O.type){case"drop":i+=F;break;case"dropRight":l-=F;break;case"take":l=Gn(l,i+F);break;case"takeRight":i=En(i,l-F);break}}return{start:i,end:l}}function NC(i){var l=i.match(Vw);return l?l[1].split(Uw):[]}function Vx(i,l,f){l=Vs(l,i);for(var S=-1,I=l.length,O=!1;++S<I;){var F=hs(l[S]);if(!(O=i!=null&&f(i,F)))break;i=i[F]}return O||++S!=I?O:(I=i==null?0:i.length,!!I&&Al(I)&&Ts(F,I)&&(ht(i)||So(i)))}function LC(i){var l=i.length,f=new i.constructor(l);return l&&typeof i[0]=="string"&&Bt.call(i,"index")&&(f.index=i.index,f.input=i.input),f}function Ux(i){return typeof i.constructor=="function"&&!Gi(i)?qo(rl(i)):{}}function $C(i,l,f){var S=i.constructor;switch(l){case Yt:return ld(i);case he:case ie:return new S(+i);case On:return jC(i,f);case ct:case mt:case Rt:case Ht:case Cn:case cn:case Hn:case mn:case Ct:return Px(i,f);case ge:return new S;case Ae:case Xe:return new S(i);case K:return wC(i);case me:return new S;case jt:return SC(i)}}function FC(i,l){var f=l.length;if(!f)return i;var S=f-1;return l[S]=(f>1?"& ":"")+l[S],l=l.join(f>2?", ":" "),i.replace(Bw,`{
/* [wrapped with `+l+`] */
`)}function WC(i){return ht(i)||So(i)||!!(qm&&i&&i[qm])}function Ts(i,l){var f=typeof i;return l=l??ne,!!l&&(f=="number"||f!="symbol"&&Qw.test(i))&&i>-1&&i%1==0&&i<l}function er(i,l,f){if(!un(f))return!1;var S=typeof l;return(S=="number"?cr(f)&&Ts(l,f.length):S=="string"&&l in f)?Xr(f[l],i):!1}function xd(i,l){if(ht(i))return!1;var f=typeof i;return f=="number"||f=="symbol"||f=="boolean"||i==null||Sr(i)?!0:yr.test(i)||!xn.test(i)||l!=null&&i in qt(l)}function BC(i){var l=typeof i;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?i!=="__proto__":i===null}function gd(i){var l=wl(i),f=_[l];if(typeof f!="function"||!(l in Dt.prototype))return!1;if(i===f)return!0;var S=fd(f);return!!S&&i===S[0]}function VC(i){return!!zm&&zm in i}var UC=Qa?Is:Md;function Gi(i){var l=i&&i.constructor,f=typeof l=="function"&&l.prototype||Ho;return i===f}function zx(i){return i===i&&!un(i)}function Hx(i,l){return function(f){return f==null?!1:f[i]===l&&(l!==r||i in qt(f))}}function zC(i){var l=Il(i,function(S){return f.size===h&&f.clear(),S}),f=l.cache;return l}function HC(i,l){var f=i[1],S=l[1],I=f|S,O=I<(j|P|N),F=S==N&&f==A||S==N&&f==M&&i[7].length<=l[8]||S==(N|M)&&l[7].length<=l[8]&&f==A;if(!(O||F))return i;S&j&&(i[2]=l[2],I|=f&j?0:C);var z=l[3];if(z){var Q=i[3];i[3]=Q?Tx(Q,z,l[4]):z,i[4]=Q?$s(i[3],p):l[4]}return z=l[5],z&&(Q=i[5],i[5]=Q?Ix(Q,z,l[6]):z,i[6]=Q?$s(i[5],p):l[6]),z=l[7],z&&(i[7]=z),S&N&&(i[8]=i[8]==null?l[8]:Gn(i[8],l[8])),i[9]==null&&(i[9]=l[9]),i[0]=l[0],i[1]=I,i}function GC(i){var l=[];if(i!=null)for(var f in qt(i))l.push(f);return l}function YC(i){return el.call(i)}function Gx(i,l,f){return l=En(l===r?i.length-1:l,0),function(){for(var S=arguments,I=-1,O=En(S.length-l,0),F=ue(O);++I<O;)F[I]=S[l+I];I=-1;for(var z=ue(l+1);++I<l;)z[I]=S[I];return z[l]=f(F),vr(i,this,z)}}function Yx(i,l){return l.length<2?i:vo(i,Nr(l,0,-1))}function qC(i,l){for(var f=i.length,S=Gn(l.length,f),I=lr(i);S--;){var O=l[S];i[S]=Ts(O,f)?I[O]:r}return i}function bd(i,l){if(!(l==="constructor"&&typeof i[l]=="function")&&l!="__proto__")return i[l]}var qx=Jx(gx),Yi=c1||function(i,l){return Fn.setTimeout(i,l)},yd=Jx(gC);function Kx(i,l,f){var S=l+"";return yd(i,FC(S,KC(NC(S),f)))}function Jx(i){var l=0,f=0;return function(){var S=f1(),I=Y-(S-f);if(f=S,I>0){if(++l>=k)return arguments[0]}else l=0;return i.apply(r,arguments)}}function Cl(i,l){var f=-1,S=i.length,I=S-1;for(l=l===r?S:l;++f<l;){var O=td(f,I),F=i[O];i[O]=i[f],i[f]=F}return i.length=l,i}var Xx=zC(function(i){var l=[];return i.charCodeAt(0)===46&&l.push(""),i.replace(za,function(f,S,I,O){l.push(I?O.replace(Gw,"$1"):S||f)}),l});function hs(i){if(typeof i=="string"||Sr(i))return i;var l=i+"";return l=="0"&&1/i==-se?"-0":l}function wo(i){if(i!=null){try{return Za.call(i)}catch{}try{return i+""}catch{}}return""}function KC(i,l){return _r(Ie,function(f){var S="_."+f[0];l&f[1]&&!qa(i,S)&&i.push(S)}),i.sort()}function Qx(i){if(i instanceof Dt)return i.clone();var l=new Mr(i.__wrapped__,i.__chain__);return l.__actions__=lr(i.__actions__),l.__index__=i.__index__,l.__values__=i.__values__,l}function JC(i,l,f){(f?er(i,l,f):l===r)?l=1:l=En(xt(l),0);var S=i==null?0:i.length;if(!S||l<1)return[];for(var I=0,O=0,F=ue(il(S/l));I<S;)F[O++]=Nr(i,I,I+=l);return F}function XC(i){for(var l=-1,f=i==null?0:i.length,S=0,I=[];++l<f;){var O=i[l];O&&(I[S++]=O)}return I}function QC(){var i=arguments.length;if(!i)return[];for(var l=ue(i-1),f=arguments[0],S=i;S--;)l[S-1]=arguments[S];return Ls(ht(f)?lr(f):[f],Wn(l,1))}var ZC=wt(function(i,l){return yn(i)?Bi(i,Wn(l,1,yn,!0)):[]}),e2=wt(function(i,l){var f=Lr(l);return yn(f)&&(f=r),yn(i)?Bi(i,Wn(l,1,yn,!0),nt(f,2)):[]}),t2=wt(function(i,l){var f=Lr(l);return yn(f)&&(f=r),yn(i)?Bi(i,Wn(l,1,yn,!0),r,f):[]});function n2(i,l,f){var S=i==null?0:i.length;return S?(l=f||l===r?1:xt(l),Nr(i,l<0?0:l,S)):[]}function r2(i,l,f){var S=i==null?0:i.length;return S?(l=f||l===r?1:xt(l),l=S-l,Nr(i,0,l<0?0:l)):[]}function s2(i,l){return i&&i.length?xl(i,nt(l,3),!0,!0):[]}function o2(i,l){return i&&i.length?xl(i,nt(l,3),!0):[]}function i2(i,l,f,S){var I=i==null?0:i.length;return I?(f&&typeof f!="number"&&er(i,l,f)&&(f=0,S=I),Q1(i,l,f,S)):[]}function Zx(i,l,f){var S=i==null?0:i.length;if(!S)return-1;var I=f==null?0:xt(f);return I<0&&(I=En(S+I,0)),Ka(i,nt(l,3),I)}function eg(i,l,f){var S=i==null?0:i.length;if(!S)return-1;var I=S-1;return f!==r&&(I=xt(f),I=f<0?En(S+I,0):Gn(I,S-1)),Ka(i,nt(l,3),I,!0)}function tg(i){var l=i==null?0:i.length;return l?Wn(i,1):[]}function a2(i){var l=i==null?0:i.length;return l?Wn(i,se):[]}function l2(i,l){var f=i==null?0:i.length;return f?(l=l===r?1:xt(l),Wn(i,l)):[]}function c2(i){for(var l=-1,f=i==null?0:i.length,S={};++l<f;){var I=i[l];S[I[0]]=I[1]}return S}function ng(i){return i&&i.length?i[0]:r}function u2(i,l,f){var S=i==null?0:i.length;if(!S)return-1;var I=f==null?0:xt(f);return I<0&&(I=En(S+I,0)),Bo(i,l,I)}function d2(i){var l=i==null?0:i.length;return l?Nr(i,0,-1):[]}var h2=wt(function(i){var l=nn(i,id);return l.length&&l[0]===i[0]?Ju(l):[]}),f2=wt(function(i){var l=Lr(i),f=nn(i,id);return l===Lr(f)?l=r:f.pop(),f.length&&f[0]===i[0]?Ju(f,nt(l,2)):[]}),p2=wt(function(i){var l=Lr(i),f=nn(i,id);return l=typeof l=="function"?l:r,l&&f.pop(),f.length&&f[0]===i[0]?Ju(f,r,l):[]});function m2(i,l){return i==null?"":d1.call(i,l)}function Lr(i){var l=i==null?0:i.length;return l?i[l-1]:r}function x2(i,l,f){var S=i==null?0:i.length;if(!S)return-1;var I=S;return f!==r&&(I=xt(f),I=I<0?En(S+I,0):Gn(I,S-1)),l===l?KS(i,l,I):Ka(i,Nm,I,!0)}function g2(i,l){return i&&i.length?fx(i,xt(l)):r}var b2=wt(rg);function rg(i,l){return i&&i.length&&l&&l.length?ed(i,l):i}function y2(i,l,f){return i&&i.length&&l&&l.length?ed(i,l,nt(f,2)):i}function v2(i,l,f){return i&&i.length&&l&&l.length?ed(i,l,r,f):i}var j2=Ds(function(i,l){var f=i==null?0:i.length,S=Gu(i,l);return xx(i,nn(l,function(I){return Ts(I,f)?+I:I}).sort(Dx)),S});function w2(i,l){var f=[];if(!(i&&i.length))return f;var S=-1,I=[],O=i.length;for(l=nt(l,3);++S<O;){var F=i[S];l(F,S,i)&&(f.push(F),I.push(S))}return xx(i,I),f}function vd(i){return i==null?i:m1.call(i)}function S2(i,l,f){var S=i==null?0:i.length;return S?(f&&typeof f!="number"&&er(i,l,f)?(l=0,f=S):(l=l==null?0:xt(l),f=f===r?S:xt(f)),Nr(i,l,f)):[]}function C2(i,l){return ml(i,l)}function P2(i,l,f){return rd(i,l,nt(f,2))}function D2(i,l){var f=i==null?0:i.length;if(f){var S=ml(i,l);if(S<f&&Xr(i[S],l))return S}return-1}function T2(i,l){return ml(i,l,!0)}function I2(i,l,f){return rd(i,l,nt(f,2),!0)}function E2(i,l){var f=i==null?0:i.length;if(f){var S=ml(i,l,!0)-1;if(Xr(i[S],l))return S}return-1}function A2(i){return i&&i.length?bx(i):[]}function R2(i,l){return i&&i.length?bx(i,nt(l,2)):[]}function _2(i){var l=i==null?0:i.length;return l?Nr(i,1,l):[]}function O2(i,l,f){return i&&i.length?(l=f||l===r?1:xt(l),Nr(i,0,l<0?0:l)):[]}function M2(i,l,f){var S=i==null?0:i.length;return S?(l=f||l===r?1:xt(l),l=S-l,Nr(i,l<0?0:l,S)):[]}function k2(i,l){return i&&i.length?xl(i,nt(l,3),!1,!0):[]}function N2(i,l){return i&&i.length?xl(i,nt(l,3)):[]}var L2=wt(function(i){return Bs(Wn(i,1,yn,!0))}),$2=wt(function(i){var l=Lr(i);return yn(l)&&(l=r),Bs(Wn(i,1,yn,!0),nt(l,2))}),F2=wt(function(i){var l=Lr(i);return l=typeof l=="function"?l:r,Bs(Wn(i,1,yn,!0),r,l)});function W2(i){return i&&i.length?Bs(i):[]}function B2(i,l){return i&&i.length?Bs(i,nt(l,2)):[]}function V2(i,l){return l=typeof l=="function"?l:r,i&&i.length?Bs(i,r,l):[]}function jd(i){if(!(i&&i.length))return[];var l=0;return i=Ns(i,function(f){if(yn(f))return l=En(f.length,l),!0}),$u(l,function(f){return nn(i,ku(f))})}function sg(i,l){if(!(i&&i.length))return[];var f=jd(i);return l==null?f:nn(f,function(S){return vr(l,r,S)})}var U2=wt(function(i,l){return yn(i)?Bi(i,l):[]}),z2=wt(function(i){return od(Ns(i,yn))}),H2=wt(function(i){var l=Lr(i);return yn(l)&&(l=r),od(Ns(i,yn),nt(l,2))}),G2=wt(function(i){var l=Lr(i);return l=typeof l=="function"?l:r,od(Ns(i,yn),r,l)}),Y2=wt(jd);function q2(i,l){return wx(i||[],l||[],Wi)}function K2(i,l){return wx(i||[],l||[],zi)}var J2=wt(function(i){var l=i.length,f=l>1?i[l-1]:r;return f=typeof f=="function"?(i.pop(),f):r,sg(i,f)});function og(i){var l=_(i);return l.__chain__=!0,l}function X2(i,l){return l(i),i}function Pl(i,l){return l(i)}var Q2=Ds(function(i){var l=i.length,f=l?i[0]:0,S=this.__wrapped__,I=function(O){return Gu(O,i)};return l>1||this.__actions__.length||!(S instanceof Dt)||!Ts(f)?this.thru(I):(S=S.slice(f,+f+(l?1:0)),S.__actions__.push({func:Pl,args:[I],thisArg:r}),new Mr(S,this.__chain__).thru(function(O){return l&&!O.length&&O.push(r),O}))});function Z2(){return og(this)}function eP(){return new Mr(this.value(),this.__chain__)}function tP(){this.__values__===r&&(this.__values__=yg(this.value()));var i=this.__index__>=this.__values__.length,l=i?r:this.__values__[this.__index__++];return{done:i,value:l}}function nP(){return this}function rP(i){for(var l,f=this;f instanceof ul;){var S=Qx(f);S.__index__=0,S.__values__=r,l?I.__wrapped__=S:l=S;var I=S;f=f.__wrapped__}return I.__wrapped__=i,l}function sP(){var i=this.__wrapped__;if(i instanceof Dt){var l=i;return this.__actions__.length&&(l=new Dt(this)),l=l.reverse(),l.__actions__.push({func:Pl,args:[vd],thisArg:r}),new Mr(l,this.__chain__)}return this.thru(vd)}function oP(){return jx(this.__wrapped__,this.__actions__)}var iP=gl(function(i,l,f){Bt.call(i,f)?++i[f]:Cs(i,f,1)});function aP(i,l,f){var S=ht(i)?Mm:X1;return f&&er(i,l,f)&&(l=r),S(i,nt(l,3))}function lP(i,l){var f=ht(i)?Ns:sx;return f(i,nt(l,3))}var cP=_x(Zx),uP=_x(eg);function dP(i,l){return Wn(Dl(i,l),1)}function hP(i,l){return Wn(Dl(i,l),se)}function fP(i,l,f){return f=f===r?1:xt(f),Wn(Dl(i,l),f)}function ig(i,l){var f=ht(i)?_r:Ws;return f(i,nt(l,3))}function ag(i,l){var f=ht(i)?_S:rx;return f(i,nt(l,3))}var pP=gl(function(i,l,f){Bt.call(i,f)?i[f].push(l):Cs(i,f,[l])});function mP(i,l,f,S){i=cr(i)?i:Zo(i),f=f&&!S?xt(f):0;var I=i.length;return f<0&&(f=En(I+f,0)),Rl(i)?f<=I&&i.indexOf(l,f)>-1:!!I&&Bo(i,l,f)>-1}var xP=wt(function(i,l,f){var S=-1,I=typeof l=="function",O=cr(i)?ue(i.length):[];return Ws(i,function(F){O[++S]=I?vr(l,F,f):Vi(F,l,f)}),O}),gP=gl(function(i,l,f){Cs(i,f,l)});function Dl(i,l){var f=ht(i)?nn:ux;return f(i,nt(l,3))}function bP(i,l,f,S){return i==null?[]:(ht(l)||(l=l==null?[]:[l]),f=S?r:f,ht(f)||(f=f==null?[]:[f]),px(i,l,f))}var yP=gl(function(i,l,f){i[f?0:1].push(l)},function(){return[[],[]]});function vP(i,l,f){var S=ht(i)?Ou:$m,I=arguments.length<3;return S(i,nt(l,4),f,I,Ws)}function jP(i,l,f){var S=ht(i)?OS:$m,I=arguments.length<3;return S(i,nt(l,4),f,I,rx)}function wP(i,l){var f=ht(i)?Ns:sx;return f(i,El(nt(l,3)))}function SP(i){var l=ht(i)?Zm:mC;return l(i)}function CP(i,l,f){(f?er(i,l,f):l===r)?l=1:l=xt(l);var S=ht(i)?G1:xC;return S(i,l)}function PP(i){var l=ht(i)?Y1:bC;return l(i)}function DP(i){if(i==null)return 0;if(cr(i))return Rl(i)?Uo(i):i.length;var l=Yn(i);return l==ge||l==me?i.size:Qu(i).length}function TP(i,l,f){var S=ht(i)?Mu:yC;return f&&er(i,l,f)&&(l=r),S(i,nt(l,3))}var IP=wt(function(i,l){if(i==null)return[];var f=l.length;return f>1&&er(i,l[0],l[1])?l=[]:f>2&&er(l[0],l[1],l[2])&&(l=[l[0]]),px(i,Wn(l,1),[])}),Tl=l1||function(){return Fn.Date.now()};function EP(i,l){if(typeof l!="function")throw new Or(c);return i=xt(i),function(){if(--i<1)return l.apply(this,arguments)}}function lg(i,l,f){return l=f?r:l,l=i&&l==null?i.length:l,Ps(i,N,r,r,r,r,l)}function cg(i,l){var f;if(typeof l!="function")throw new Or(c);return i=xt(i),function(){return--i>0&&(f=l.apply(this,arguments)),i<=1&&(l=r),f}}var wd=wt(function(i,l,f){var S=j;if(f.length){var I=$s(f,Xo(wd));S|=T}return Ps(i,S,l,f,I)}),ug=wt(function(i,l,f){var S=j|P;if(f.length){var I=$s(f,Xo(ug));S|=T}return Ps(l,S,i,f,I)});function dg(i,l,f){l=f?r:l;var S=Ps(i,A,r,r,r,r,r,l);return S.placeholder=dg.placeholder,S}function hg(i,l,f){l=f?r:l;var S=Ps(i,E,r,r,r,r,r,l);return S.placeholder=hg.placeholder,S}function fg(i,l,f){var S,I,O,F,z,Q,we=0,Se=!1,De=!1,Le=!0;if(typeof i!="function")throw new Or(c);l=$r(l)||0,un(f)&&(Se=!!f.leading,De="maxWait"in f,O=De?En($r(f.maxWait)||0,l):O,Le="trailing"in f?!!f.trailing:Le);function Ge(vn){var Qr=S,As=I;return S=I=r,we=vn,F=i.apply(As,Qr),F}function st(vn){return we=vn,z=Yi(Pt,l),Se?Ge(vn):F}function yt(vn){var Qr=vn-Q,As=vn-we,_g=l-Qr;return De?Gn(_g,O-As):_g}function ot(vn){var Qr=vn-Q,As=vn-we;return Q===r||Qr>=l||Qr<0||De&&As>=O}function Pt(){var vn=Tl();if(ot(vn))return Et(vn);z=Yi(Pt,yt(vn))}function Et(vn){return z=r,Le&&S?Ge(vn):(S=I=r,F)}function Cr(){z!==r&&Sx(z),we=0,S=Q=I=z=r}function tr(){return z===r?F:Et(Tl())}function Pr(){var vn=Tl(),Qr=ot(vn);if(S=arguments,I=this,Q=vn,Qr){if(z===r)return st(Q);if(De)return Sx(z),z=Yi(Pt,l),Ge(Q)}return z===r&&(z=Yi(Pt,l)),F}return Pr.cancel=Cr,Pr.flush=tr,Pr}var AP=wt(function(i,l){return nx(i,1,l)}),RP=wt(function(i,l,f){return nx(i,$r(l)||0,f)});function _P(i){return Ps(i,W)}function Il(i,l){if(typeof i!="function"||l!=null&&typeof l!="function")throw new Or(c);var f=function(){var S=arguments,I=l?l.apply(this,S):S[0],O=f.cache;if(O.has(I))return O.get(I);var F=i.apply(this,S);return f.cache=O.set(I,F)||O,F};return f.cache=new(Il.Cache||Ss),f}Il.Cache=Ss;function El(i){if(typeof i!="function")throw new Or(c);return function(){var l=arguments;switch(l.length){case 0:return!i.call(this);case 1:return!i.call(this,l[0]);case 2:return!i.call(this,l[0],l[1]);case 3:return!i.call(this,l[0],l[1],l[2])}return!i.apply(this,l)}}function OP(i){return cg(2,i)}var MP=vC(function(i,l){l=l.length==1&&ht(l[0])?nn(l[0],jr(nt())):nn(Wn(l,1),jr(nt()));var f=l.length;return wt(function(S){for(var I=-1,O=Gn(S.length,f);++I<O;)S[I]=l[I].call(this,S[I]);return vr(i,this,S)})}),Sd=wt(function(i,l){var f=$s(l,Xo(Sd));return Ps(i,T,r,l,f)}),pg=wt(function(i,l){var f=$s(l,Xo(pg));return Ps(i,R,r,l,f)}),kP=Ds(function(i,l){return Ps(i,M,r,r,r,l)});function NP(i,l){if(typeof i!="function")throw new Or(c);return l=l===r?l:xt(l),wt(i,l)}function LP(i,l){if(typeof i!="function")throw new Or(c);return l=l==null?0:En(xt(l),0),wt(function(f){var S=f[l],I=Us(f,0,l);return S&&Ls(I,S),vr(i,this,I)})}function $P(i,l,f){var S=!0,I=!0;if(typeof i!="function")throw new Or(c);return un(f)&&(S="leading"in f?!!f.leading:S,I="trailing"in f?!!f.trailing:I),fg(i,l,{leading:S,maxWait:l,trailing:I})}function FP(i){return lg(i,1)}function WP(i,l){return Sd(ad(l),i)}function BP(){if(!arguments.length)return[];var i=arguments[0];return ht(i)?i:[i]}function VP(i){return kr(i,y)}function UP(i,l){return l=typeof l=="function"?l:r,kr(i,y,l)}function zP(i){return kr(i,m|y)}function HP(i,l){return l=typeof l=="function"?l:r,kr(i,m|y,l)}function GP(i,l){return l==null||tx(i,l,Mn(l))}function Xr(i,l){return i===l||i!==i&&l!==l}var YP=jl(Ku),qP=jl(function(i,l){return i>=l}),So=ax(function(){return arguments}())?ax:function(i){return gn(i)&&Bt.call(i,"callee")&&!Ym.call(i,"callee")},ht=ue.isArray,KP=Im?jr(Im):rC;function cr(i){return i!=null&&Al(i.length)&&!Is(i)}function yn(i){return gn(i)&&cr(i)}function JP(i){return i===!0||i===!1||gn(i)&&Zn(i)==he}var zs=u1||Md,XP=Em?jr(Em):sC;function QP(i){return gn(i)&&i.nodeType===1&&!qi(i)}function ZP(i){if(i==null)return!0;if(cr(i)&&(ht(i)||typeof i=="string"||typeof i.splice=="function"||zs(i)||Qo(i)||So(i)))return!i.length;var l=Yn(i);if(l==ge||l==me)return!i.size;if(Gi(i))return!Qu(i).length;for(var f in i)if(Bt.call(i,f))return!1;return!0}function eD(i,l){return Ui(i,l)}function tD(i,l,f){f=typeof f=="function"?f:r;var S=f?f(i,l):r;return S===r?Ui(i,l,r,f):!!S}function Cd(i){if(!gn(i))return!1;var l=Zn(i);return l==te||l==ae||typeof i.message=="string"&&typeof i.name=="string"&&!qi(i)}function nD(i){return typeof i=="number"&&Km(i)}function Is(i){if(!un(i))return!1;var l=Zn(i);return l==Ce||l==ve||l==L||l==Ne}function mg(i){return typeof i=="number"&&i==xt(i)}function Al(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=ne}function un(i){var l=typeof i;return i!=null&&(l=="object"||l=="function")}function gn(i){return i!=null&&typeof i=="object"}var xg=Am?jr(Am):iC;function rD(i,l){return i===l||Xu(i,l,pd(l))}function sD(i,l,f){return f=typeof f=="function"?f:r,Xu(i,l,pd(l),f)}function oD(i){return gg(i)&&i!=+i}function iD(i){if(UC(i))throw new ut(a);return lx(i)}function aD(i){return i===null}function lD(i){return i==null}function gg(i){return typeof i=="number"||gn(i)&&Zn(i)==Ae}function qi(i){if(!gn(i)||Zn(i)!=Qe)return!1;var l=rl(i);if(l===null)return!0;var f=Bt.call(l,"constructor")&&l.constructor;return typeof f=="function"&&f instanceof f&&Za.call(f)==s1}var Pd=Rm?jr(Rm):aC;function cD(i){return mg(i)&&i>=-ne&&i<=ne}var bg=_m?jr(_m):lC;function Rl(i){return typeof i=="string"||!ht(i)&&gn(i)&&Zn(i)==Xe}function Sr(i){return typeof i=="symbol"||gn(i)&&Zn(i)==jt}var Qo=Om?jr(Om):cC;function uD(i){return i===r}function dD(i){return gn(i)&&Yn(i)==Lt}function hD(i){return gn(i)&&Zn(i)==At}var fD=jl(Zu),pD=jl(function(i,l){return i<=l});function yg(i){if(!i)return[];if(cr(i))return Rl(i)?Kr(i):lr(i);if(ki&&i[ki])return GS(i[ki]());var l=Yn(i),f=l==ge?Wu:l==me?Ja:Zo;return f(i)}function Es(i){if(!i)return i===0?i:0;if(i=$r(i),i===se||i===-se){var l=i<0?-1:1;return l*ee}return i===i?i:0}function xt(i){var l=Es(i),f=l%1;return l===l?f?l-f:l:0}function vg(i){return i?yo(xt(i),0,re):0}function $r(i){if(typeof i=="number")return i;if(Sr(i))return G;if(un(i)){var l=typeof i.valueOf=="function"?i.valueOf():i;i=un(l)?l+"":l}if(typeof i!="string")return i===0?i:+i;i=Fm(i);var f=Kw.test(i);return f||Xw.test(i)?ES(i.slice(2),f?2:8):qw.test(i)?G:+i}function jg(i){return ds(i,ur(i))}function mD(i){return i?yo(xt(i),-ne,ne):i===0?i:0}function $t(i){return i==null?"":wr(i)}var xD=Ko(function(i,l){if(Gi(l)||cr(l)){ds(l,Mn(l),i);return}for(var f in l)Bt.call(l,f)&&Wi(i,f,l[f])}),wg=Ko(function(i,l){ds(l,ur(l),i)}),_l=Ko(function(i,l,f,S){ds(l,ur(l),i,S)}),gD=Ko(function(i,l,f,S){ds(l,Mn(l),i,S)}),bD=Ds(Gu);function yD(i,l){var f=qo(i);return l==null?f:ex(f,l)}var vD=wt(function(i,l){i=qt(i);var f=-1,S=l.length,I=S>2?l[2]:r;for(I&&er(l[0],l[1],I)&&(S=1);++f<S;)for(var O=l[f],F=ur(O),z=-1,Q=F.length;++z<Q;){var we=F[z],Se=i[we];(Se===r||Xr(Se,Ho[we])&&!Bt.call(i,we))&&(i[we]=O[we])}return i}),jD=wt(function(i){return i.push(r,Fx),vr(Sg,r,i)});function wD(i,l){return km(i,nt(l,3),us)}function SD(i,l){return km(i,nt(l,3),qu)}function CD(i,l){return i==null?i:Yu(i,nt(l,3),ur)}function PD(i,l){return i==null?i:ox(i,nt(l,3),ur)}function DD(i,l){return i&&us(i,nt(l,3))}function TD(i,l){return i&&qu(i,nt(l,3))}function ID(i){return i==null?[]:fl(i,Mn(i))}function ED(i){return i==null?[]:fl(i,ur(i))}function Dd(i,l,f){var S=i==null?r:vo(i,l);return S===r?f:S}function AD(i,l){return i!=null&&Vx(i,l,Z1)}function Td(i,l){return i!=null&&Vx(i,l,eC)}var RD=Mx(function(i,l,f){l!=null&&typeof l.toString!="function"&&(l=el.call(l)),i[l]=f},Ed(dr)),_D=Mx(function(i,l,f){l!=null&&typeof l.toString!="function"&&(l=el.call(l)),Bt.call(i,l)?i[l].push(f):i[l]=[f]},nt),OD=wt(Vi);function Mn(i){return cr(i)?Qm(i):Qu(i)}function ur(i){return cr(i)?Qm(i,!0):uC(i)}function MD(i,l){var f={};return l=nt(l,3),us(i,function(S,I,O){Cs(f,l(S,I,O),S)}),f}function kD(i,l){var f={};return l=nt(l,3),us(i,function(S,I,O){Cs(f,I,l(S,I,O))}),f}var ND=Ko(function(i,l,f){pl(i,l,f)}),Sg=Ko(function(i,l,f,S){pl(i,l,f,S)}),LD=Ds(function(i,l){var f={};if(i==null)return f;var S=!1;l=nn(l,function(O){return O=Vs(O,i),S||(S=O.length>1),O}),ds(i,hd(i),f),S&&(f=kr(f,m|x|y,RC));for(var I=l.length;I--;)sd(f,l[I]);return f});function $D(i,l){return Cg(i,El(nt(l)))}var FD=Ds(function(i,l){return i==null?{}:hC(i,l)});function Cg(i,l){if(i==null)return{};var f=nn(hd(i),function(S){return[S]});return l=nt(l),mx(i,f,function(S,I){return l(S,I[0])})}function WD(i,l,f){l=Vs(l,i);var S=-1,I=l.length;for(I||(I=1,i=r);++S<I;){var O=i==null?r:i[hs(l[S])];O===r&&(S=I,O=f),i=Is(O)?O.call(i):O}return i}function BD(i,l,f){return i==null?i:zi(i,l,f)}function VD(i,l,f,S){return S=typeof S=="function"?S:r,i==null?i:zi(i,l,f,S)}var Pg=Lx(Mn),Dg=Lx(ur);function UD(i,l,f){var S=ht(i),I=S||zs(i)||Qo(i);if(l=nt(l,4),f==null){var O=i&&i.constructor;I?f=S?new O:[]:un(i)?f=Is(O)?qo(rl(i)):{}:f={}}return(I?_r:us)(i,function(F,z,Q){return l(f,F,z,Q)}),f}function zD(i,l){return i==null?!0:sd(i,l)}function HD(i,l,f){return i==null?i:vx(i,l,ad(f))}function GD(i,l,f,S){return S=typeof S=="function"?S:r,i==null?i:vx(i,l,ad(f),S)}function Zo(i){return i==null?[]:Fu(i,Mn(i))}function YD(i){return i==null?[]:Fu(i,ur(i))}function qD(i,l,f){return f===r&&(f=l,l=r),f!==r&&(f=$r(f),f=f===f?f:0),l!==r&&(l=$r(l),l=l===l?l:0),yo($r(i),l,f)}function KD(i,l,f){return l=Es(l),f===r?(f=l,l=0):f=Es(f),i=$r(i),tC(i,l,f)}function JD(i,l,f){if(f&&typeof f!="boolean"&&er(i,l,f)&&(l=f=r),f===r&&(typeof l=="boolean"?(f=l,l=r):typeof i=="boolean"&&(f=i,i=r)),i===r&&l===r?(i=0,l=1):(i=Es(i),l===r?(l=i,i=0):l=Es(l)),i>l){var S=i;i=l,l=S}if(f||i%1||l%1){var I=Jm();return Gn(i+I*(l-i+IS("1e-"+((I+"").length-1))),l)}return td(i,l)}var XD=Jo(function(i,l,f){return l=l.toLowerCase(),i+(f?Tg(l):l)});function Tg(i){return Id($t(i).toLowerCase())}function Ig(i){return i=$t(i),i&&i.replace(Zw,BS).replace(bS,"")}function QD(i,l,f){i=$t(i),l=wr(l);var S=i.length;f=f===r?S:yo(xt(f),0,S);var I=f;return f-=l.length,f>=0&&i.slice(f,I)==l}function ZD(i){return i=$t(i),i&&vu.test(i)?i.replace(Qn,VS):i}function eT(i){return i=$t(i),i&&Fw.test(i)?i.replace(Su,"\\$&"):i}var tT=Jo(function(i,l,f){return i+(f?"-":"")+l.toLowerCase()}),nT=Jo(function(i,l,f){return i+(f?" ":"")+l.toLowerCase()}),rT=Rx("toLowerCase");function sT(i,l,f){i=$t(i),l=xt(l);var S=l?Uo(i):0;if(!l||S>=l)return i;var I=(l-S)/2;return vl(al(I),f)+i+vl(il(I),f)}function oT(i,l,f){i=$t(i),l=xt(l);var S=l?Uo(i):0;return l&&S<l?i+vl(l-S,f):i}function iT(i,l,f){i=$t(i),l=xt(l);var S=l?Uo(i):0;return l&&S<l?vl(l-S,f)+i:i}function aT(i,l,f){return f||l==null?l=0:l&&(l=+l),p1($t(i).replace(Cu,""),l||0)}function lT(i,l,f){return(f?er(i,l,f):l===r)?l=1:l=xt(l),nd($t(i),l)}function cT(){var i=arguments,l=$t(i[0]);return i.length<3?l:l.replace(i[1],i[2])}var uT=Jo(function(i,l,f){return i+(f?"_":"")+l.toLowerCase()});function dT(i,l,f){return f&&typeof f!="number"&&er(i,l,f)&&(l=f=r),f=f===r?re:f>>>0,f?(i=$t(i),i&&(typeof l=="string"||l!=null&&!Pd(l))&&(l=wr(l),!l&&Vo(i))?Us(Kr(i),0,f):i.split(l,f)):[]}var hT=Jo(function(i,l,f){return i+(f?" ":"")+Id(l)});function fT(i,l,f){return i=$t(i),f=f==null?0:yo(xt(f),0,i.length),l=wr(l),i.slice(f,f+l.length)==l}function pT(i,l,f){var S=_.templateSettings;f&&er(i,l,f)&&(l=r),i=$t(i),l=_l({},l,S,$x);var I=_l({},l.imports,S.imports,$x),O=Mn(I),F=Fu(I,O),z,Q,we=0,Se=l.interpolate||Ha,De="__p += '",Le=Bu((l.escape||Ha).source+"|"+Se.source+"|"+(Se===wu?Yw:Ha).source+"|"+(l.evaluate||Ha).source+"|$","g"),Ge="//# sourceURL="+(Bt.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++SS+"]")+`
`;i.replace(Le,function(ot,Pt,Et,Cr,tr,Pr){return Et||(Et=Cr),De+=i.slice(we,Pr).replace(eS,US),Pt&&(z=!0,De+=`' +
__e(`+Pt+`) +
'`),tr&&(Q=!0,De+=`';
`+tr+`;
__p += '`),Et&&(De+=`' +
((__t = (`+Et+`)) == null ? '' : __t) +
'`),we=Pr+ot.length,ot}),De+=`';
`;var st=Bt.call(l,"variable")&&l.variable;if(!st)De=`with (obj) {
`+De+`
}
`;else if(Hw.test(st))throw new ut(u);De=(Q?De.replace(Pn,""):De).replace($n,"$1").replace(br,"$1;"),De="function("+(st||"obj")+`) {
`+(st?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(z?", __e = _.escape":"")+(Q?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+De+`return __p
}`;var yt=Ag(function(){return Mt(O,Ge+"return "+De).apply(r,F)});if(yt.source=De,Cd(yt))throw yt;return yt}function mT(i){return $t(i).toLowerCase()}function xT(i){return $t(i).toUpperCase()}function gT(i,l,f){if(i=$t(i),i&&(f||l===r))return Fm(i);if(!i||!(l=wr(l)))return i;var S=Kr(i),I=Kr(l),O=Wm(S,I),F=Bm(S,I)+1;return Us(S,O,F).join("")}function bT(i,l,f){if(i=$t(i),i&&(f||l===r))return i.slice(0,Um(i)+1);if(!i||!(l=wr(l)))return i;var S=Kr(i),I=Bm(S,Kr(l))+1;return Us(S,0,I).join("")}function yT(i,l,f){if(i=$t(i),i&&(f||l===r))return i.replace(Cu,"");if(!i||!(l=wr(l)))return i;var S=Kr(i),I=Wm(S,Kr(l));return Us(S,I).join("")}function vT(i,l){var f=B,S=q;if(un(l)){var I="separator"in l?l.separator:I;f="length"in l?xt(l.length):f,S="omission"in l?wr(l.omission):S}i=$t(i);var O=i.length;if(Vo(i)){var F=Kr(i);O=F.length}if(f>=O)return i;var z=f-Uo(S);if(z<1)return S;var Q=F?Us(F,0,z).join(""):i.slice(0,z);if(I===r)return Q+S;if(F&&(z+=Q.length-z),Pd(I)){if(i.slice(z).search(I)){var we,Se=Q;for(I.global||(I=Bu(I.source,$t(am.exec(I))+"g")),I.lastIndex=0;we=I.exec(Se);)var De=we.index;Q=Q.slice(0,De===r?z:De)}}else if(i.indexOf(wr(I),z)!=z){var Le=Q.lastIndexOf(I);Le>-1&&(Q=Q.slice(0,Le))}return Q+S}function jT(i){return i=$t(i),i&&yu.test(i)?i.replace(po,JS):i}var wT=Jo(function(i,l,f){return i+(f?" ":"")+l.toUpperCase()}),Id=Rx("toUpperCase");function Eg(i,l,f){return i=$t(i),l=f?r:l,l===r?HS(i)?ZS(i):NS(i):i.match(l)||[]}var Ag=wt(function(i,l){try{return vr(i,r,l)}catch(f){return Cd(f)?f:new ut(f)}}),ST=Ds(function(i,l){return _r(l,function(f){f=hs(f),Cs(i,f,wd(i[f],i))}),i});function CT(i){var l=i==null?0:i.length,f=nt();return i=l?nn(i,function(S){if(typeof S[1]!="function")throw new Or(c);return[f(S[0]),S[1]]}):[],wt(function(S){for(var I=-1;++I<l;){var O=i[I];if(vr(O[0],this,S))return vr(O[1],this,S)}})}function PT(i){return J1(kr(i,m))}function Ed(i){return function(){return i}}function DT(i,l){return i==null||i!==i?l:i}var TT=Ox(),IT=Ox(!0);function dr(i){return i}function Ad(i){return cx(typeof i=="function"?i:kr(i,m))}function ET(i){return dx(kr(i,m))}function AT(i,l){return hx(i,kr(l,m))}var RT=wt(function(i,l){return function(f){return Vi(f,i,l)}}),_T=wt(function(i,l){return function(f){return Vi(i,f,l)}});function Rd(i,l,f){var S=Mn(l),I=fl(l,S);f==null&&!(un(l)&&(I.length||!S.length))&&(f=l,l=i,i=this,I=fl(l,Mn(l)));var O=!(un(f)&&"chain"in f)||!!f.chain,F=Is(i);return _r(I,function(z){var Q=l[z];i[z]=Q,F&&(i.prototype[z]=function(){var we=this.__chain__;if(O||we){var Se=i(this.__wrapped__),De=Se.__actions__=lr(this.__actions__);return De.push({func:Q,args:arguments,thisArg:i}),Se.__chain__=we,Se}return Q.apply(i,Ls([this.value()],arguments))})}),i}function OT(){return Fn._===this&&(Fn._=o1),this}function _d(){}function MT(i){return i=xt(i),wt(function(l){return fx(l,i)})}var kT=cd(nn),NT=cd(Mm),LT=cd(Mu);function Rg(i){return xd(i)?ku(hs(i)):fC(i)}function $T(i){return function(l){return i==null?r:vo(i,l)}}var FT=kx(),WT=kx(!0);function Od(){return[]}function Md(){return!1}function BT(){return{}}function VT(){return""}function UT(){return!0}function zT(i,l){if(i=xt(i),i<1||i>ne)return[];var f=re,S=Gn(i,re);l=nt(l),i-=re;for(var I=$u(S,l);++f<i;)l(f);return I}function HT(i){return ht(i)?nn(i,hs):Sr(i)?[i]:lr(Xx($t(i)))}function GT(i){var l=++r1;return $t(i)+l}var YT=yl(function(i,l){return i+l},0),qT=ud("ceil"),KT=yl(function(i,l){return i/l},1),JT=ud("floor");function XT(i){return i&&i.length?hl(i,dr,Ku):r}function QT(i,l){return i&&i.length?hl(i,nt(l,2),Ku):r}function ZT(i){return Lm(i,dr)}function eI(i,l){return Lm(i,nt(l,2))}function tI(i){return i&&i.length?hl(i,dr,Zu):r}function nI(i,l){return i&&i.length?hl(i,nt(l,2),Zu):r}var rI=yl(function(i,l){return i*l},1),sI=ud("round"),oI=yl(function(i,l){return i-l},0);function iI(i){return i&&i.length?Lu(i,dr):0}function aI(i,l){return i&&i.length?Lu(i,nt(l,2)):0}return _.after=EP,_.ary=lg,_.assign=xD,_.assignIn=wg,_.assignInWith=_l,_.assignWith=gD,_.at=bD,_.before=cg,_.bind=wd,_.bindAll=ST,_.bindKey=ug,_.castArray=BP,_.chain=og,_.chunk=JC,_.compact=XC,_.concat=QC,_.cond=CT,_.conforms=PT,_.constant=Ed,_.countBy=iP,_.create=yD,_.curry=dg,_.curryRight=hg,_.debounce=fg,_.defaults=vD,_.defaultsDeep=jD,_.defer=AP,_.delay=RP,_.difference=ZC,_.differenceBy=e2,_.differenceWith=t2,_.drop=n2,_.dropRight=r2,_.dropRightWhile=s2,_.dropWhile=o2,_.fill=i2,_.filter=lP,_.flatMap=dP,_.flatMapDeep=hP,_.flatMapDepth=fP,_.flatten=tg,_.flattenDeep=a2,_.flattenDepth=l2,_.flip=_P,_.flow=TT,_.flowRight=IT,_.fromPairs=c2,_.functions=ID,_.functionsIn=ED,_.groupBy=pP,_.initial=d2,_.intersection=h2,_.intersectionBy=f2,_.intersectionWith=p2,_.invert=RD,_.invertBy=_D,_.invokeMap=xP,_.iteratee=Ad,_.keyBy=gP,_.keys=Mn,_.keysIn=ur,_.map=Dl,_.mapKeys=MD,_.mapValues=kD,_.matches=ET,_.matchesProperty=AT,_.memoize=Il,_.merge=ND,_.mergeWith=Sg,_.method=RT,_.methodOf=_T,_.mixin=Rd,_.negate=El,_.nthArg=MT,_.omit=LD,_.omitBy=$D,_.once=OP,_.orderBy=bP,_.over=kT,_.overArgs=MP,_.overEvery=NT,_.overSome=LT,_.partial=Sd,_.partialRight=pg,_.partition=yP,_.pick=FD,_.pickBy=Cg,_.property=Rg,_.propertyOf=$T,_.pull=b2,_.pullAll=rg,_.pullAllBy=y2,_.pullAllWith=v2,_.pullAt=j2,_.range=FT,_.rangeRight=WT,_.rearg=kP,_.reject=wP,_.remove=w2,_.rest=NP,_.reverse=vd,_.sampleSize=CP,_.set=BD,_.setWith=VD,_.shuffle=PP,_.slice=S2,_.sortBy=IP,_.sortedUniq=A2,_.sortedUniqBy=R2,_.split=dT,_.spread=LP,_.tail=_2,_.take=O2,_.takeRight=M2,_.takeRightWhile=k2,_.takeWhile=N2,_.tap=X2,_.throttle=$P,_.thru=Pl,_.toArray=yg,_.toPairs=Pg,_.toPairsIn=Dg,_.toPath=HT,_.toPlainObject=jg,_.transform=UD,_.unary=FP,_.union=L2,_.unionBy=$2,_.unionWith=F2,_.uniq=W2,_.uniqBy=B2,_.uniqWith=V2,_.unset=zD,_.unzip=jd,_.unzipWith=sg,_.update=HD,_.updateWith=GD,_.values=Zo,_.valuesIn=YD,_.without=U2,_.words=Eg,_.wrap=WP,_.xor=z2,_.xorBy=H2,_.xorWith=G2,_.zip=Y2,_.zipObject=q2,_.zipObjectDeep=K2,_.zipWith=J2,_.entries=Pg,_.entriesIn=Dg,_.extend=wg,_.extendWith=_l,Rd(_,_),_.add=YT,_.attempt=Ag,_.camelCase=XD,_.capitalize=Tg,_.ceil=qT,_.clamp=qD,_.clone=VP,_.cloneDeep=zP,_.cloneDeepWith=HP,_.cloneWith=UP,_.conformsTo=GP,_.deburr=Ig,_.defaultTo=DT,_.divide=KT,_.endsWith=QD,_.eq=Xr,_.escape=ZD,_.escapeRegExp=eT,_.every=aP,_.find=cP,_.findIndex=Zx,_.findKey=wD,_.findLast=uP,_.findLastIndex=eg,_.findLastKey=SD,_.floor=JT,_.forEach=ig,_.forEachRight=ag,_.forIn=CD,_.forInRight=PD,_.forOwn=DD,_.forOwnRight=TD,_.get=Dd,_.gt=YP,_.gte=qP,_.has=AD,_.hasIn=Td,_.head=ng,_.identity=dr,_.includes=mP,_.indexOf=u2,_.inRange=KD,_.invoke=OD,_.isArguments=So,_.isArray=ht,_.isArrayBuffer=KP,_.isArrayLike=cr,_.isArrayLikeObject=yn,_.isBoolean=JP,_.isBuffer=zs,_.isDate=XP,_.isElement=QP,_.isEmpty=ZP,_.isEqual=eD,_.isEqualWith=tD,_.isError=Cd,_.isFinite=nD,_.isFunction=Is,_.isInteger=mg,_.isLength=Al,_.isMap=xg,_.isMatch=rD,_.isMatchWith=sD,_.isNaN=oD,_.isNative=iD,_.isNil=lD,_.isNull=aD,_.isNumber=gg,_.isObject=un,_.isObjectLike=gn,_.isPlainObject=qi,_.isRegExp=Pd,_.isSafeInteger=cD,_.isSet=bg,_.isString=Rl,_.isSymbol=Sr,_.isTypedArray=Qo,_.isUndefined=uD,_.isWeakMap=dD,_.isWeakSet=hD,_.join=m2,_.kebabCase=tT,_.last=Lr,_.lastIndexOf=x2,_.lowerCase=nT,_.lowerFirst=rT,_.lt=fD,_.lte=pD,_.max=XT,_.maxBy=QT,_.mean=ZT,_.meanBy=eI,_.min=tI,_.minBy=nI,_.stubArray=Od,_.stubFalse=Md,_.stubObject=BT,_.stubString=VT,_.stubTrue=UT,_.multiply=rI,_.nth=g2,_.noConflict=OT,_.noop=_d,_.now=Tl,_.pad=sT,_.padEnd=oT,_.padStart=iT,_.parseInt=aT,_.random=JD,_.reduce=vP,_.reduceRight=jP,_.repeat=lT,_.replace=cT,_.result=WD,_.round=sI,_.runInContext=J,_.sample=SP,_.size=DP,_.snakeCase=uT,_.some=TP,_.sortedIndex=C2,_.sortedIndexBy=P2,_.sortedIndexOf=D2,_.sortedLastIndex=T2,_.sortedLastIndexBy=I2,_.sortedLastIndexOf=E2,_.startCase=hT,_.startsWith=fT,_.subtract=oI,_.sum=iI,_.sumBy=aI,_.template=pT,_.times=zT,_.toFinite=Es,_.toInteger=xt,_.toLength=vg,_.toLower=mT,_.toNumber=$r,_.toSafeInteger=mD,_.toString=$t,_.toUpper=xT,_.trim=gT,_.trimEnd=bT,_.trimStart=yT,_.truncate=vT,_.unescape=jT,_.uniqueId=GT,_.upperCase=wT,_.upperFirst=Id,_.each=ig,_.eachRight=ag,_.first=ng,Rd(_,function(){var i={};return us(_,function(l,f){Bt.call(_.prototype,f)||(i[f]=l)}),i}(),{chain:!1}),_.VERSION=s,_r(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){_[i].placeholder=_}),_r(["drop","take"],function(i,l){Dt.prototype[i]=function(f){f=f===r?1:En(xt(f),0);var S=this.__filtered__&&!l?new Dt(this):this.clone();return S.__filtered__?S.__takeCount__=Gn(f,S.__takeCount__):S.__views__.push({size:Gn(f,re),type:i+(S.__dir__<0?"Right":"")}),S},Dt.prototype[i+"Right"]=function(f){return this.reverse()[i](f).reverse()}}),_r(["filter","map","takeWhile"],function(i,l){var f=l+1,S=f==U||f==X;Dt.prototype[i]=function(I){var O=this.clone();return O.__iteratees__.push({iteratee:nt(I,3),type:f}),O.__filtered__=O.__filtered__||S,O}}),_r(["head","last"],function(i,l){var f="take"+(l?"Right":"");Dt.prototype[i]=function(){return this[f](1).value()[0]}}),_r(["initial","tail"],function(i,l){var f="drop"+(l?"":"Right");Dt.prototype[i]=function(){return this.__filtered__?new Dt(this):this[f](1)}}),Dt.prototype.compact=function(){return this.filter(dr)},Dt.prototype.find=function(i){return this.filter(i).head()},Dt.prototype.findLast=function(i){return this.reverse().find(i)},Dt.prototype.invokeMap=wt(function(i,l){return typeof i=="function"?new Dt(this):this.map(function(f){return Vi(f,i,l)})}),Dt.prototype.reject=function(i){return this.filter(El(nt(i)))},Dt.prototype.slice=function(i,l){i=xt(i);var f=this;return f.__filtered__&&(i>0||l<0)?new Dt(f):(i<0?f=f.takeRight(-i):i&&(f=f.drop(i)),l!==r&&(l=xt(l),f=l<0?f.dropRight(-l):f.take(l-i)),f)},Dt.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},Dt.prototype.toArray=function(){return this.take(re)},us(Dt.prototype,function(i,l){var f=/^(?:filter|find|map|reject)|While$/.test(l),S=/^(?:head|last)$/.test(l),I=_[S?"take"+(l=="last"?"Right":""):l],O=S||/^find/.test(l);I&&(_.prototype[l]=function(){var F=this.__wrapped__,z=S?[1]:arguments,Q=F instanceof Dt,we=z[0],Se=Q||ht(F),De=function(Pt){var Et=I.apply(_,Ls([Pt],z));return S&&Le?Et[0]:Et};Se&&f&&typeof we=="function"&&we.length!=1&&(Q=Se=!1);var Le=this.__chain__,Ge=!!this.__actions__.length,st=O&&!Le,yt=Q&&!Ge;if(!O&&Se){F=yt?F:new Dt(this);var ot=i.apply(F,z);return ot.__actions__.push({func:Pl,args:[De],thisArg:r}),new Mr(ot,Le)}return st&&yt?i.apply(this,z):(ot=this.thru(De),st?S?ot.value()[0]:ot.value():ot)})}),_r(["pop","push","shift","sort","splice","unshift"],function(i){var l=Xa[i],f=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",S=/^(?:pop|shift)$/.test(i);_.prototype[i]=function(){var I=arguments;if(S&&!this.__chain__){var O=this.value();return l.apply(ht(O)?O:[],I)}return this[f](function(F){return l.apply(ht(F)?F:[],I)})}}),us(Dt.prototype,function(i,l){var f=_[l];if(f){var S=f.name+"";Bt.call(Yo,S)||(Yo[S]=[]),Yo[S].push({name:l,func:f})}}),Yo[bl(r,P).name]=[{name:"wrapper",func:r}],Dt.prototype.clone=j1,Dt.prototype.reverse=w1,Dt.prototype.value=S1,_.prototype.at=Q2,_.prototype.chain=Z2,_.prototype.commit=eP,_.prototype.next=tP,_.prototype.plant=rP,_.prototype.reverse=sP,_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=oP,_.prototype.first=_.prototype.head,ki&&(_.prototype[ki]=nP),_},zo=e1();mo?((mo.exports=zo)._=zo,Au._=zo):Fn._=zo}).call(Ki)})(pc,pc.exports);var __=pc.exports;const ti={ALL:0,NEWS:1,CHANNELS:2,USERS:3,POLLS:4,TAGS:5},Bd={RELEVANCE:0,DATE:1,POPULARITY:2},gv={all:ti.ALL,news:ti.NEWS,channels:ti.CHANNELS,users:ti.USERS,polls:ti.POLLS,tags:ti.TAGS},bv={relevance:Bd.RELEVANCE,date:Bd.DATE,popularity:Bd.POPULARITY},yv=b.createContext(null),O_=()=>{const e=b.useContext(yv);if(!e)throw new Error("useNotification must be used within a NotificationProvider");return e},M_=({children:e})=>{const[n,r]=b.useState({open:!1,message:"",severity:"info",autoHideDuration:6e3}),s=b.useCallback((m,x="info",y=6e3)=>{r({open:!0,message:m,severity:x,autoHideDuration:y})},[]),o=b.useCallback(m=>{s(m,"success")},[s]),a=b.useCallback(m=>{s(m,"error")},[s]),c=b.useCallback(m=>{s(m,"warning")},[s]),u=b.useCallback(m=>{s(m,"info")},[s]),d=b.useCallback(m=>{if(m.length===0)return;const x=(w,j="")=>{const P=Object.values(w.constraints||{}),C=`${j}${w.property}: ${P.join(", ")}`;if(w.children&&w.children.length>0){const A=w.children.map(E=>x(E,"  "));return`${C}
${A.join(`
`)}`}return C},y=m.map(w=>x(w)),g=y.length===1?y[0]:`Validation errors:
${y.map(w=>`• ${w}`).join(`
`)}`;s(g,"error",1e4)},[s]),h=b.useCallback(()=>{r(m=>({...m,open:!1}))},[]),p={showNotification:s,showSuccess:o,showError:a,showWarning:c,showInfo:u,showValidationErrors:d,hideNotification:h};return t.jsxs(yv.Provider,{value:p,children:[e,t.jsx(Iy,{open:n.open,autoHideDuration:n.autoHideDuration,onClose:h,anchorOrigin:{vertical:"top",horizontal:"right"},children:t.jsx(it,{onClose:h,severity:n.severity,variant:"filled",sx:{width:"100%",whiteSpace:"pre-line"},children:n.message})})]})},k_=e=>{var n,r,s;return((n=e==null?void 0:e.response)==null?void 0:n.status)===400&&((r=e.response.data)==null?void 0:r.status)==="error"&&((s=e.response.data)==null?void 0:s.errors)},N_=e=>{var n;return((n=e==null?void 0:e.response)==null?void 0:n.status)===401},L_=e=>{var n;return(((n=e==null?void 0:e.response)==null?void 0:n.status)||0)>=500},$_=e=>!(e!=null&&e.response),et=()=>{const[e,n]=b.useState(!1),[r,s]=b.useState(null),{showSuccess:o,showError:a,showValidationErrors:c}=O_(),u=b.useCallback(async(h,p={})=>{var w,j;const{showSuccessMessage:m=!1,successMessage:x="Operation completed successfully",showErrorToast:y=!0,customErrorHandler:g}=p;try{n(!0),s(null);const P=await h();return m&&o(x),P}catch(P){if(g&&g(P))return null;const C=P;let A="An error occurred",E=y;if(k_(C)){const T=(w=C.response)==null?void 0:w.data;A=T.message||"Validation failed",s(A),E&&c&&(c(T.errors),E=!1)}else if(N_(C))A="Unauthorized access. Please log in again.",s(A),E&&a(A);else if(L_(C))A="Server error. Please try again later.",s(A),E&&a(A);else if($_(C))A="Network error. Please check your connection.",s(A),E&&a(A);else{const T=(j=C.response)==null?void 0:j.data;A=(T==null?void 0:T.message)||C.message||"An error occurred",s(A),E&&a(A)}return null}finally{n(!1)}},[o,a,c]),d=b.useCallback(()=>{s(null)},[]);return{loading:e,error:r,execute:u,clearError:d}},F_=()=>{const[e,n]=b.useState(null),[r,s]=b.useState(!1),{api:o}=Je(),{execute:a}=et(),[c,u]=b.useState(null),d=b.useCallback(async(x,y={},g=1,w=20)=>{if(!x.trim()){u("Search query cannot be empty");return}s(!0),u(null);try{const j={};Object.entries(y).forEach(([A,E])=>{if(E!=null&&E!=="")if(A==="type"&&typeof E=="string"){const T=gv[E];T!==void 0&&(j.type=T)}else if(A==="sortBy"&&typeof E=="string"){const T=bv[E];T!==void 0&&(j.sortBy=T)}else j[A]=E});const P={page:g,limit:w},C=await a(()=>o==null?void 0:o.searchApi.search(x,j,P),{showSuccessMessage:!1});n(C)}catch(j){console.error("Search error:",j),u(j.message||"Search failed")}finally{s(!1)}},[a]),h=b.useCallback(async(x,y)=>{if(!x.trim()||x.length<2)return[];try{return(await a(()=>o==null?void 0:o.searchApi.getSuggestions(x,y),{showSuccessMessage:!1})).suggestions||[]}catch(g){return console.error("Suggestions error:",g),[]}},[a]),p=b.useCallback(async(x,y)=>{if(!x.trim()||x.length<2)return[];if(!(o!=null&&o.searchApi))return console.error("Search API not available"),[];try{const g=await a(()=>o.searchApi.getStructuredSuggestions(x,y),{showSuccessMessage:!1});return(g==null?void 0:g.suggestions)||[]}catch(g){return console.error("Structured suggestions error:",g),[]}},[a,o==null?void 0:o.searchApi]),m=b.useCallback(()=>{n(null),u(null)},[]);return{searchResults:e,loading:r,error:c,performSearch:d,getSuggestions:h,getStructuredSuggestions:p,clearResults:m}},W_=Me(D)(({theme:e})=>({flexGrow:1,maxWidth:600,margin:"0 auto",position:"relative",[e.breakpoints.down("md")]:{maxWidth:400},[e.breakpoints.down("sm")]:{maxWidth:280}})),B_=Me(dt)(({theme:e})=>({borderRadius:e.spacing(3),backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.04)",border:"none",transition:"all 0.2s ease-in-out","&:hover":{backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.08)"},"&:focus-within":{backgroundColor:e.palette.background.paper,boxShadow:"0 4px 20px rgba(0,0,0,0.15)",border:`1px solid ${e.palette.primary.main}`}})),V_=Me(D)(({theme:e})=>({display:"flex",alignItems:"center",padding:e.spacing(1,2),cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover}})),vv=({onSearch:e,onSuggestionSelect:n,placeholder:r="Search articles, channels, or journalists...",className:s,fullWidth:o=!1})=>{const[a,c]=b.useState(""),[u,d]=b.useState([]),[h,p]=b.useState(!1),[m,x]=b.useState(!1),{getStructuredSuggestions:y}=F_(),g=It(),w=b.useCallback(__.debounce(async T=>{if(T.length<2){d([]);return}p(!0);try{const R=await y(T);d(R)}catch(R){console.error("Error fetching suggestions:",R),d([])}finally{p(!1)}},300),[]);b.useEffect(()=>{w(a)},[a,w]);const j=()=>{a.trim()&&(x(!1),e?e(a):g(`${ye.APP_SEARCH}?q=${encodeURIComponent(a.trim())}`))},P=T=>{if(x(!1),c(""),n){const R={id:T.id,text:T.text,type:T.type,metadata:T.metadata};n(R);return}switch(T.type){case"news":g(ye.APP_NEWS_VIEW.replace(":id",T.id));break;case"channel":g(ye.APP_CHANNEL_VIEW.replace(":channelId",T.id));break;case"poll":g(ye.APP_POLL_VIEW.replace(":id",T.id));break;case"user":g(`${ye.APP_SEARCH}?q=${encodeURIComponent(T.text)}&type=users`);break;case"tag":g(`${ye.APP_SEARCH}?q=${encodeURIComponent(T.text)}&type=tags`);break;default:g(`${ye.APP_SEARCH}?q=${encodeURIComponent(T.text)}`);break}},C=T=>{T.key==="Enter"&&j()},A=T=>{switch(T){case"news":return t.jsx(Ro,{fontSize:"small",color:"primary"});case"channel":return t.jsx(Hh,{fontSize:"small",color:"secondary"});case"user":return t.jsx(zh,{fontSize:"small",color:"action"});default:return t.jsx(Gr,{fontSize:"small",color:"disabled"})}},E=(T,R)=>b.createElement(V_,{...T,key:R.id},t.jsx(D,{sx:{mr:2},children:A(R.type)}),t.jsxs(D,{sx:{flexGrow:1},children:[t.jsx(v,{variant:"body2",fontWeight:"medium",children:R.text}),R.metadata&&t.jsxs(v,{variant:"caption",color:"text.secondary",children:[R.metadata.channelName&&`in ${R.metadata.channelName}`,R.metadata.handle&&`@${R.metadata.handle}`,R.metadata.voteCount&&`${R.metadata.voteCount} votes`,R.metadata.usageCount&&`${R.metadata.usageCount} uses`,R.metadata.publishedAt&&`${new Date(R.metadata.publishedAt).toLocaleDateString()}`]})]}),t.jsx(v,{variant:"caption",color:"text.secondary",sx:{ml:1},children:R.type}));return t.jsx(W_,{className:s,sx:{width:o?"100%":void 0},children:t.jsx(B_,{elevation:0,children:t.jsx(pI,{freeSolo:!0,options:u,loading:h,inputValue:a,onInputChange:(T,R)=>{c(R),x(R.length>=2)},getOptionLabel:T=>typeof T=="string"?T:T.text,filterOptions:T=>T,isOptionEqualToValue:(T,R)=>{if(typeof T=="string"||typeof R=="string"){const N=typeof T=="string"?T:T.text,M=typeof R=="string"?R:R.text;return N===M}return T.id===R.id},renderOption:(T,R)=>E(T,R),noOptionsText:h?"Loading...":"No suggestions found",open:m,onOpen:()=>x(!0),onClose:()=>x(!1),ListboxProps:{style:{maxHeight:400}},renderInput:T=>t.jsx(rt,{...T,variant:"outlined",placeholder:r,onKeyPress:C,size:"medium",InputProps:{...T.InputProps,startAdornment:t.jsx(eo,{position:"start",children:t.jsx(We,{onClick:j,size:"small",sx:{color:"inherit"},children:t.jsx(Oa,{})})}),endAdornment:t.jsxs(t.Fragment,{children:[h&&t.jsx(v,{variant:"caption",sx:{mr:1},children:"Loading..."}),a&&t.jsx(eo,{position:"end",children:t.jsx(We,{onClick:()=>c(""),size:"small",sx:{color:"inherit"},children:t.jsx(mI,{})})})]}),sx:{"& .MuiOutlinedInput-notchedOutline":{border:"none"},"&:hover .MuiOutlinedInput-notchedOutline":{border:"none"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiInputBase-input":{padding:"12px 8px",fontSize:"1rem"},"& .MuiInputBase-input::placeholder":{color:"inherit",opacity:.7}}}}),PaperComponent:({children:T,...R})=>t.jsx(dt,{...R,sx:{mt:.5,boxShadow:3,maxHeight:400,overflow:"auto",position:"absolute",width:"100%",zIndex:1300,borderRadius:3},children:T}),onChange:(T,R)=>{R&&typeof R=="object"&&P(R)}})})})},U_=()=>{const e=kc("(max-width:600px)"),[n,r]=b.useState(!e),{isDarkMode:s,toggleTheme:o}=uf(),a=_n(),{isLoading:c}=Hc(),[u,d]=b.useState(null),h=It();b.useEffect(()=>{e&&r(!1)},[e]);const p=()=>{r(!n)},m=P=>{d(P.currentTarget)},x=()=>{d(null)},y=P=>{h(P),x()},g=P=>{h(`${ye.APP_SEARCH}?q=${encodeURIComponent(P)}`)},w=[{path:ye.STUDIO_ROOT,icon:t.jsx(xv,{fontSize:"small"}),label:"Creator Studio",divider:!1}],j=()=>t.jsx(ro,{anchorEl:u,open:!!u,onClose:x,PaperProps:{sx:{width:220}},children:w.map(P=>[t.jsxs(je,{onClick:()=>y(P.path),children:[t.jsx(dn,{children:P.icon}),t.jsx(Qt,{children:P.label})]},P.path),P.divider&&t.jsx(rn,{},`${P.path}-divider`)]).flat().filter(Boolean)});return c?null:t.jsxs(D,{sx:{display:"flex",minHeight:"100vh",bgcolor:"background.default"},children:[t.jsx(Nc,{position:"fixed",elevation:0,sx:{zIndex:a.zIndex.drawer+1,bgcolor:"background.default",color:"text.primary",boxShadow:"none",borderBottom:"none"},children:t.jsxs(_s,{sx:{px:"8px"},children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",minWidth:200},children:[t.jsx(We,{color:"inherit","aria-label":"toggle sidebar",onClick:p,sx:{minWidth:40,ml:.5,mr:1.5,"& .MuiSvgIcon-root":{fontSize:24,filter:"drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))"}},children:t.jsx(mv,{})}),t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsxs(v,{variant:"h6",sx:{fontWeight:700,display:"block",letterSpacing:".1rem",fontFamily:"'Inter', -apple-system, sans-serif"},children:[t.jsxs(D,{sx:{display:{xs:"none",sm:"block"}},children:[t.jsx("span",{style:{color:"#2196F3",textTransform:"uppercase",fontWeight:800},children:"Meta"}),t.jsx("span",{style:{color:"#1976D2",fontWeight:600},children:"Journo"})]}),t.jsxs(D,{sx:{display:{xs:"block",sm:"none"}},children:[t.jsx("span",{style:{color:"#2196F3",textTransform:"uppercase",fontWeight:800},children:"M"}),t.jsx("span",{style:{color:"#1976D2",fontWeight:600},children:"Journo"})]})]}),t.jsxs(v,{variant:"caption",sx:{opacity:.7,fontWeight:500,fontSize:"0.75rem",display:{xs:"none",sm:"block"}},children:["v",vh]})]})]}),t.jsx(D,{sx:{flexGrow:1,display:"flex",justifyContent:"center"},children:t.jsx(vv,{onSearch:g,placeholder:"Search articles, channels, journalists...",className:"app-search-bar"})}),t.jsx(We,{onClick:o,color:"inherit",children:s?t.jsx(Yc,{}):t.jsx(Gc,{})}),t.jsx(We,{onClick:m,color:"inherit",sx:{ml:2},children:t.jsx(Ei,{})}),j()]})}),e?t.jsxs(pi,{variant:"temporary",open:n,onClose:p,ModalProps:{keepMounted:!0},PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{width:240,border:"none"}},children:[t.jsx(_s,{}),t.jsx(D,{sx:{height:"calc(100% - 64px)",overflow:"auto"},children:t.jsx(Xg,{isOpen:!0,toggleSidebar:p})})]}):t.jsxs(pi,{variant:"permanent",PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{width:n?240:72,flexShrink:0,"& .MuiDrawer-paper":{width:n?240:72,transition:"width 0.2s",overflowX:"hidden",border:"none",borderRight:"none"}},children:[t.jsx(_s,{}),t.jsx(D,{sx:{height:"calc(100% - 64px)",overflow:"auto"},children:t.jsx(Xg,{isOpen:n,toggleSidebar:p})})]}),t.jsx(D,{component:"main",sx:{flexGrow:1,pt:8,width:0,minHeight:"100vh",display:"flex",flexDirection:"column",bgcolor:"background.default"},children:t.jsx(D,{sx:{flexGrow:1,py:3,px:{xs:2,sm:3},maxWidth:900,mx:"auto",width:"100%"},children:t.jsx(ef,{})})})]})};var Cf={},z_=at;Object.defineProperty(Cf,"__esModule",{value:!0});var Pf=Cf.default=void 0,H_=z_(lt()),G_=t;Pf=Cf.default=(0,H_.default)((0,G_.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");var Df={},Y_=at;Object.defineProperty(Df,"__esModule",{value:!0});var ya=Df.default=void 0,q_=Y_(lt()),K_=t;ya=Df.default=(0,q_.default)((0,K_.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");var Tf={},J_=at;Object.defineProperty(Tf,"__esModule",{value:!0});var jv=Tf.default=void 0,X_=J_(lt()),Q_=t;jv=Tf.default=(0,X_.default)((0,Q_.jsx)("path",{d:"m22 3-1.67 1.67L18.67 3 17 4.67 15.33 3l-1.66 1.67L12 3l-1.67 1.67L8.67 3 7 4.67 5.33 3 3.67 4.67 2 3v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2zM11 19H4v-6h7zm9 0h-7v-2h7zm0-4h-7v-2h7zm0-4H4V8h16z"}),"Newspaper");var If={},Z_=at;Object.defineProperty(If,"__esModule",{value:!0});var Ef=If.default=void 0,eO=Z_(lt()),Qg=t;Ef=If.default=(0,eO.default)([(0,Qg.jsx)("path",{d:"M17 19.22H5V7h7V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-7h-2z"},"0"),(0,Qg.jsx)("path",{d:"M19 2h-2v3h-3c.01.01 0 2 0 2h3v2.99c.01.01 2 0 2 0V7h3V5h-3zM7 9h8v2H7zm0 3v2h8v-2h-3zm0 3h8v2H7z"},"1")],"PostAdd");var Af={},tO=at;Object.defineProperty(Af,"__esModule",{value:!0});var La=Af.default=void 0,nO=tO(lt()),rO=t;La=Af.default=(0,nO.default)((0,rO.jsx)("path",{d:"M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2m0 14H3V5h18zm-5-7v2h-3v3h-2v-3H8v-2h3V7h2v3z"}),"AddToQueue");var Rf={},sO=at;Object.defineProperty(Rf,"__esModule",{value:!0});var _f=Rf.default=void 0,oO=sO(lt()),iO=t;_f=Rf.default=(0,oO.default)((0,iO.jsx)("path",{d:"M22 5v2h-3v3h-2V7h-3V5h3V2h2v3zm-3 14H5V5h6V3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6h-2zm-4-6v4h2v-4zm-4 4h2V9h-2zm-2 0v-6H7v6z"}),"Addchart");var Of={},aO=at;Object.defineProperty(Of,"__esModule",{value:!0});var wv=Of.default=void 0,lO=aO(lt()),cO=t;wv=Of.default=(0,lO.default)((0,cO.jsx)("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}),"Receipt");var Mf={},uO=at;Object.defineProperty(Mf,"__esModule",{value:!0});var qc=Mf.default=void 0,dO=uO(lt()),hO=t;qc=Mf.default=(0,dO.default)((0,hO.jsx)("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney");const fO=({mobileOpen:e,onDrawerToggle:n})=>{const r=ao(),s=window.innerWidth<=600,o=[{path:ye.STUDIO_SEARCH,icon:t.jsx(jf,{}),label:"Search"}],a={news:[{path:ye.STUDIO_NEWS,icon:t.jsx(jv,{}),label:"My News"},{path:ye.STUDIO_NEWS_CREATE,icon:t.jsx(Ef,{}),label:"Create News"}],channels:[{path:ye.STUDIO_CHANNELS,icon:t.jsx(xf,{}),label:"My Channels"},{path:ye.STUDIO_CHANNEL_CREATE,icon:t.jsx(La,{}),label:"Create Channel"}],polls:[{path:ye.STUDIO_POLLS,icon:t.jsx(bf,{}),label:"My Polls"},{path:ye.STUDIO_POLL_CREATE,icon:t.jsx(_f,{}),label:"Create Poll"}],payouts:[{path:ye.STUDIO_EXPENSE_ORDERS,icon:t.jsx(wv,{}),label:"My Payouts"},{path:ye.STUDIO_EXPENSE_ORDER_CREATE,icon:t.jsx(qc,{}),label:"Request Payout"}]},c=t.jsxs(D,{children:[t.jsx(_s,{}),t.jsxs(gs,{sx:{px:2},children:[t.jsx(v,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"General"}),o.map(u=>t.jsxs(Br,{button:!0,component:or,to:u.path,selected:r.pathname===u.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(dn,{sx:{minWidth:40,color:r.pathname===u.path?"primary.main":"inherit"},children:u.icon}),t.jsx(Qt,{primary:u.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===u.path?600:400}})]},u.path)),t.jsx(rn,{sx:{my:2}}),t.jsx(v,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"News Management"}),a.news.map(u=>t.jsxs(Br,{button:!0,component:or,to:u.path,selected:r.pathname===u.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(dn,{sx:{minWidth:40,color:r.pathname===u.path?"primary.main":"inherit"},children:u.icon}),t.jsx(Qt,{primary:u.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===u.path?600:400}})]},u.path)),t.jsx(rn,{sx:{my:2}}),t.jsx(v,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"Channel Management"}),a.channels.map(u=>t.jsxs(Br,{button:!0,component:or,to:u.path,selected:r.pathname===u.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(dn,{sx:{minWidth:40,color:r.pathname===u.path?"primary.main":"inherit"},children:u.icon}),t.jsx(Qt,{primary:u.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===u.path?600:400}})]},u.path))]}),t.jsx(rn,{sx:{my:2}}),t.jsxs(gs,{sx:{px:2},children:[t.jsx(v,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"Poll Management"}),a.polls.map(u=>t.jsxs(Br,{button:!0,component:or,to:u.path,selected:r.pathname===u.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(dn,{sx:{minWidth:40,color:r.pathname===u.path?"primary.main":"inherit"},children:u.icon}),t.jsx(Qt,{primary:u.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===u.path?600:400}})]},u.path))]}),t.jsx(rn,{sx:{my:2}}),t.jsxs(gs,{sx:{px:2},children:[t.jsx(v,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"Payout Management"}),a.payouts.map(u=>t.jsxs(Br,{button:!0,component:or,to:u.path,selected:r.pathname===u.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[t.jsx(dn,{sx:{minWidth:40,color:r.pathname===u.path?"primary.main":"inherit"},children:u.icon}),t.jsx(Qt,{primary:u.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===u.path?600:400}})]},u.path))]})]});return t.jsx(t.Fragment,{children:s?t.jsx(pi,{variant:"temporary",open:e,onClose:n,ModalProps:{keepMounted:!0},PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{width:240,border:"none"}},children:c}):t.jsx(pi,{variant:"permanent",PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,transition:"width 0.2s",overflowX:"hidden",border:"none",borderRight:"none"}},children:c})})},pO=()=>{const[e,n]=b.useState(!1),[r,s]=b.useState(null),o=It(),a=_n(),{isDarkMode:c,toggleTheme:u}=uf(),{isLoading:d}=Hc(),h=()=>{n(!e)},p=w=>{s(w.currentTarget)},m=()=>{s(null)},x=w=>{o(w),m()},y=w=>{o(`${ye.STUDIO_SEARCH}?q=${encodeURIComponent(w)}`)},g=w=>{o(`${ye.STUDIO_SEARCH}?q=${encodeURIComponent(w.text)}`)};return d?null:t.jsxs(D,{sx:{display:"flex",minHeight:"100vh",bgcolor:"background.default"},children:[t.jsx(Nc,{position:"fixed",elevation:0,sx:{zIndex:a.zIndex.drawer+1,bgcolor:"background.default",color:"text.primary",boxShadow:"none",borderBottom:"none"},children:t.jsxs(_s,{sx:{px:"8px"},children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",minWidth:200},children:[t.jsx(We,{color:"inherit","aria-label":"toggle sidebar",onClick:h,sx:{minWidth:40,ml:.5,mr:1.5,"& .MuiSvgIcon-root":{fontSize:24,filter:"drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))"}},children:t.jsx(Pf,{})}),t.jsxs(v,{variant:"h6",sx:{fontWeight:700,display:"block",letterSpacing:".1rem",fontFamily:"'Inter', -apple-system, sans-serif"},children:[t.jsx(D,{sx:{display:{xs:"none",sm:"block"}},children:"Creator Studio"}),t.jsx(D,{sx:{display:{xs:"block",sm:"none"}},children:"Studio"})]})]}),t.jsx(D,{sx:{flexGrow:1,display:"flex",justifyContent:"center"},children:t.jsx(vv,{onSearch:y,onSuggestionSelect:g,placeholder:"Search your content and analytics...",className:"studio-search-bar"})}),t.jsx(We,{onClick:u,color:"inherit",children:c?t.jsx(Yc,{}):t.jsx(Gc,{})}),t.jsx(We,{onClick:()=>o(ye.APP_ROOT),color:"inherit",sx:{ml:2},children:t.jsx(ya,{})}),t.jsx(We,{onClick:p,color:"inherit",sx:{ml:2},children:t.jsx(Ei,{})}),t.jsx(ro,{anchorEl:r,open:!!r,onClose:m,PaperProps:{sx:{width:220}},children:[{path:ye.APP_ROOT,icon:t.jsx(ya,{fontSize:"small"}),label:"Exit Studio"}].map(w=>t.jsxs(je,{onClick:()=>x(w.path),children:[t.jsx(dn,{children:w.icon}),t.jsx(Qt,{children:w.label})]},w.path))})]})}),t.jsx(fO,{mobileOpen:e,onDrawerToggle:h}),t.jsx(D,{component:"main",sx:{flexGrow:1,pt:8,width:0,minHeight:"100vh",display:"flex",flexDirection:"column",bgcolor:"background.default"},children:t.jsx(D,{sx:{flexGrow:1,py:3,px:{xs:2,sm:3},maxWidth:1200,mx:"auto",width:"100%"},children:t.jsx(ef,{})})})]})};var kf={},mO=at;Object.defineProperty(kf,"__esModule",{value:!0});var jh=kf.default=void 0,xO=mO(lt()),gO=t;jh=kf.default=(0,xO.default)((0,gO.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security");const Vd=280,bO=({mobileOpen:e,onDrawerToggle:n})=>{const r=It(),s=ao(),o=[{text:"Dashboard",icon:t.jsx(Ey,{}),path:ye.ADMIN_ROOT,exact:!0},{text:"News Management",icon:t.jsx(Ro,{}),path:ye.ADMIN_NEWS},{text:"Poll Management",icon:t.jsx(Gh,{}),path:ye.ADMIN_POLLS},{text:"Channel Management",icon:t.jsx(Hh,{}),path:ye.ADMIN_CHANNELS},{text:"User Management",icon:t.jsx(to,{}),path:ye.ADMIN_USERS},{text:"Expense Orders",icon:t.jsx(Os,{}),path:ye.ADMIN_EXPENSE_ORDERS},{text:"Payout Management",icon:t.jsx(Ma,{}),path:ye.ADMIN_PAYOUTS},{text:"Tag Management",icon:t.jsx(Yh,{}),path:ye.ADMIN_TAGS},{text:"Subscriptions",icon:t.jsx(mi,{}),path:ye.ADMIN_SUBSCRIPTIONS},{text:"Analytics",icon:t.jsx(ns,{}),path:ye.ADMIN_ANALYTICS},{text:"Settings",icon:t.jsx(Kl,{}),path:ye.ADMIN_SETTINGS}],a=d=>d.exact?s.pathname===d.path||s.pathname==="/admin"&&d.path===ye.ADMIN_ROOT:s.pathname.startsWith(d.path),c=d=>{r(d),e&&n()},u=t.jsxs(D,{children:[t.jsx(_s,{sx:{px:3,py:2,bgcolor:"error.main",color:"error.contrastText"},children:t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[t.jsx(v,{variant:"h6",noWrap:!0,component:"div",sx:{fontWeight:700,flexGrow:1,fontFamily:"'Inter', -apple-system, sans-serif"},children:"Admin Panel"}),t.jsx(Ze,{label:"Admin",size:"small",sx:{bgcolor:"error.contrastText",color:"error.main",fontWeight:600}})]})}),t.jsx(rn,{}),t.jsx(gs,{sx:{pt:2,px:2},children:o.map(d=>{const h=a(d);return t.jsx(Br,{disablePadding:!0,sx:{mb:.5},children:t.jsxs(uh,{onClick:()=>c(d.path),sx:{borderRadius:2,px:2,py:1.5,minHeight:48,bgcolor:h?"error.main":"transparent",color:h?"error.contrastText":"text.primary","&:hover":{bgcolor:h?"error.dark":"action.hover"},"& .MuiListItemIcon-root":{color:h?"error.contrastText":"text.secondary",minWidth:36},transition:"all 0.2s ease-in-out"},children:[t.jsx(dn,{children:d.icon}),t.jsx(Qt,{primary:d.text,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:h?600:500,fontFamily:"'Inter', -apple-system, sans-serif"}})]})},d.text)})}),t.jsx(rn,{sx:{my:2}}),t.jsx(gs,{sx:{px:2},children:t.jsx(Br,{disablePadding:!0,children:t.jsxs(uh,{onClick:()=>c(ye.APP_ROOT),sx:{borderRadius:2,px:2,py:1.5,minHeight:48,color:"text.secondary","&:hover":{bgcolor:"action.hover"}},children:[t.jsx(dn,{sx:{color:"text.secondary",minWidth:36},children:t.jsx(xI,{})}),t.jsx(Qt,{primary:"Back to App",primaryTypographyProps:{fontSize:"0.875rem",fontWeight:500,fontFamily:"'Inter', -apple-system, sans-serif"}})]})})})]});return t.jsxs(D,{component:"nav",sx:{width:{sm:Vd},flexShrink:{sm:0}},children:[t.jsx(pi,{variant:"temporary",open:e,onClose:n,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:Vd,bgcolor:"background.paper",borderRight:"1px solid",borderRightColor:"divider"}},children:u}),t.jsx(pi,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:Vd,bgcolor:"background.paper",borderRight:"1px solid",borderRightColor:"divider"}},open:!0,children:u})]})},yO=()=>{const[e,n]=b.useState(!1),[r,s]=b.useState(null),o=It(),a=_n(),{isDarkMode:c,toggleTheme:u}=uf(),{isLoading:d}=Hc(),h=()=>{n(!e)},p=y=>{s(y.currentTarget)},m=()=>{s(null)},x=y=>{o(y),m()};return d?null:t.jsxs(D,{sx:{display:"flex",minHeight:"100vh",bgcolor:"background.default"},children:[t.jsx(Nc,{position:"fixed",elevation:0,sx:{zIndex:a.zIndex.drawer+1,bgcolor:"background.default",color:"text.primary",boxShadow:"none",borderBottom:"1px solid",borderBottomColor:"divider"},children:t.jsxs(_s,{sx:{px:"8px"},children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",minWidth:200},children:[t.jsx(We,{color:"inherit","aria-label":"toggle sidebar",onClick:h,sx:{minWidth:40,ml:.5,mr:1.5,"& .MuiSvgIcon-root":{fontSize:24,filter:"drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))"}},children:t.jsx(Pf,{})}),t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(jh,{sx:{color:"error.main"}}),t.jsxs(v,{variant:"h6",sx:{fontWeight:700,display:"block",letterSpacing:".1rem",fontFamily:"'Inter', -apple-system, sans-serif",color:"error.main"},children:[t.jsx(D,{sx:{display:{xs:"none",sm:"block"}},children:"Admin Panel"}),t.jsx(D,{sx:{display:{xs:"block",sm:"none"}},children:"Admin"})]})]})]}),t.jsx(D,{sx:{flexGrow:1}}),t.jsx(We,{onClick:u,color:"inherit",children:c?t.jsx(Yc,{}):t.jsx(Gc,{})}),t.jsx(We,{onClick:()=>o(ye.APP_ROOT),color:"inherit",sx:{ml:2},children:t.jsx(ya,{})}),t.jsx(We,{onClick:p,color:"inherit",sx:{ml:2},children:t.jsx(Ei,{})}),t.jsx(ro,{anchorEl:r,open:!!r,onClose:m,PaperProps:{sx:{width:220}},children:[{path:ye.APP_ROOT,icon:t.jsx(ya,{fontSize:"small"}),label:"Exit Admin"},{path:ye.STUDIO_ROOT,icon:t.jsx(jh,{fontSize:"small"}),label:"Creator Studio"}].map(y=>t.jsxs(je,{onClick:()=>x(y.path),children:[t.jsx(dn,{children:y.icon}),t.jsx(Qt,{children:y.label})]},y.path))})]})}),t.jsx(bO,{mobileOpen:e,onDrawerToggle:h}),t.jsx(D,{component:"main",sx:{flexGrow:1,pt:8,width:0,minHeight:"100vh",display:"flex",flexDirection:"column",bgcolor:"background.default"},children:t.jsx(D,{sx:{flexGrow:1,py:3,px:{xs:2,sm:3},maxWidth:1400,mx:"auto",width:"100%"},children:t.jsx(ef,{})})})]})},Ud=({children:e})=>{const n=Ii();return n?n.user!=null?t.jsx(t.Fragment,{children:e}):t.jsx(DE,{to:ye.LOGIN}):null};var Nf={},vO=at;Object.defineProperty(Nf,"__esModule",{value:!0});var Lf=Nf.default=void 0;SO(b);var jO=vO(lt()),wO=t;function Sv(e){if(typeof WeakMap!="function")return null;var n=new WeakMap,r=new WeakMap;return(Sv=function(s){return s?r:n})(e)}function SO(e,n){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=Sv(n);if(r&&r.has(e))return r.get(e);var s={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var c=o?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(s,a,c):s[a]=e[a]}return s.default=e,r&&r.set(e,s),s}Lf=Nf.default=(0,jO.default)((0,wO.jsx)("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"}),"Google");const CO=Me(pe)(({theme:e,bgcolor:n})=>({color:"#fff",backgroundColor:n,boxShadow:`0 2px 4px 0 ${n}80`,"&:hover":{backgroundColor:e.palette.augmentColor({color:{main:n}}).dark},"& .MuiButton-startIcon":{marginRight:e.spacing(1)}})),PO=()=>{const[e,n]=b.useState(""),[r,s]=b.useState(""),[o,a]=b.useState(""),c=Ii(),{api:u}=Je(),d=It(),{execute:h}=et(),p=async x=>{x.preventDefault(),a("");try{const y=await(c==null?void 0:c.signIn(e,r));y&&await h(()=>u==null?void 0:u.authApi.signIn({idToken:y}),{showSuccessMessage:!0,successMessage:"Successfully logged in!"})}catch{a("Failed to login with email and password")}},m=async x=>{a("");try{const y=await(c==null?void 0:c.signInWithProvider(x));y&&await h(()=>u==null?void 0:u.authApi.signIn({idToken:y}),{showSuccessMessage:!0,successMessage:"Successfully logged in!"})}catch{a("Failed to login with Google")}};return b.useEffect(()=>{c!=null&&c.user&&d(ye.APP_NEWS_TRENDING)},[(c==null?void 0:c.user)!=null]),t.jsxs(bt,{maxWidth:"xs",sx:{mt:8},children:[t.jsx(D,{sx:{textAlign:"center",mb:4},children:t.jsx(v,{variant:"h4",gutterBottom:!0,children:"Welcome back!"})}),o&&t.jsx(v,{variant:"body2",color:"error",gutterBottom:!0,children:o}),t.jsxs(D,{component:"form",onSubmit:p,sx:{mb:2},children:[t.jsx(rt,{label:"Email",variant:"outlined",fullWidth:!0,margin:"normal",value:e,onChange:x=>n(x.target.value)}),t.jsx(rt,{label:"Password",variant:"outlined",fullWidth:!0,type:"password",margin:"normal",value:r,onChange:x=>s(x.target.value)}),t.jsx(D,{sx:{textAlign:"right",mb:2},children:t.jsx(Lc,{href:"#",variant:"caption",children:"Did you forget your password?"})}),t.jsx(pe,{type:"submit",variant:"outlined",color:"secondary",fullWidth:!0,sx:{mb:2},children:"Log In"})]}),t.jsx(rn,{sx:{my:2},children:"OR"}),t.jsx(D,{sx:{textAlign:"center",mb:2},children:t.jsx(v,{variant:"body2",gutterBottom:!0,children:"You can sign in or sign up our application with following providers"})}),t.jsx(D,{sx:{display:"flex",flexDirection:"column",gap:2},children:t.jsx(CO,{variant:"contained",startIcon:t.jsx(Lf,{}),bgcolor:"#DB4437",onClick:m.bind(void 0,hv),children:"Sign in with Google"})})]})},Tr={ACTIVE:1,INACTIVE:2,PENDING:3,BLOCKED:4,SUSPENDED:5,BANNED:6,DELETED:7,NOT_VERIFIED:8},An={SUPER_ADMIN:1,ADMIN:2,MODERATOR:3,REGULAR_USER:4,GUEST:5,JOURNALIST:6,EDITOR:7,EVALUATOR:8,FINANCE_MANAGER:9},DO=Me(pe)(({theme:e,bgcolor:n})=>({color:"#fff",backgroundColor:n,boxShadow:`0 2px 4px 0 ${n}80`,"&:hover":{backgroundColor:e.palette.augmentColor({color:{main:n}}).dark},"& .MuiButton-startIcon":{marginRight:e.spacing(1)}})),TO=()=>{const[e,n]=b.useState(""),[r,s]=b.useState(""),[o,a]=b.useState(""),[c,u]=b.useState(!1),d=Ii(),{api:h}=Je(),{execute:p}=et(),m=It(),x=async g=>{g.preventDefault(),a("");try{const w=await(d==null?void 0:d.signUp(e,r));w&&await p(()=>h==null?void 0:h.authApi.signUp({externalId:w.uid,email:w.email,displayName:w.displayName??"",photoUrl:w.photoURL??"",roleId:An.REGULAR_USER}),{showSuccessMessage:!0,successMessage:"Account created successfully!"})&&u(!0)}catch{a("Failed to sign up with email and password")}},y=async g=>{a("");try{const w=await(d==null?void 0:d.signInWithProvider(g));if(w){if(await p(()=>h==null?void 0:h.authApi.signIn({idToken:w}),{showErrorToast:!1}))return;u(!0)}}catch{a("Failed to login with social provider")}};return b.useEffect(()=>{d!=null&&d.user&&m(c?ye.POST_SIGNUP:ye.APP_NEWS_TRENDING)},[c,m]),t.jsxs(bt,{maxWidth:"xs",sx:{mt:8},children:[t.jsx(D,{sx:{textAlign:"center",mb:4},children:t.jsx(v,{variant:"h4",gutterBottom:!0,children:"Join the community!"})}),o&&t.jsx(v,{variant:"body2",color:"error",gutterBottom:!0,children:o}),t.jsxs(D,{component:"form",onSubmit:x,sx:{mb:2},children:[t.jsx(rt,{label:"Email",variant:"outlined",fullWidth:!0,margin:"normal",value:e,onChange:g=>n(g.target.value)}),t.jsx(rt,{label:"Password",variant:"outlined",fullWidth:!0,type:"password",margin:"normal",value:r,onChange:g=>s(g.target.value)}),t.jsx("br",{}),t.jsx("br",{}),t.jsx(pe,{type:"submit",variant:"outlined",color:"secondary",fullWidth:!0,sx:{mb:2},children:"Sign Up"})]}),t.jsx(rn,{sx:{my:2},children:"OR"}),t.jsx(D,{sx:{textAlign:"center",mb:2},children:t.jsx(v,{variant:"body2",gutterBottom:!0,children:"You can sign up our application with following providers"})}),t.jsx(D,{sx:{display:"flex",flexDirection:"column",gap:2},children:t.jsx(DO,{variant:"contained",startIcon:t.jsx(Lf,{}),bgcolor:"#DB4437",onClick:y.bind(void 0,hv),children:"Sign up with Google"})})]})},IO=()=>{const[e,n]=b.useState(0),[r,s]=b.useState(!1),[o,a]=b.useState({primaryRole:"",interests:[],experience:"",goals:[]}),c=It(),{api:u}=Je(),{execute:d}=et(),h=["Welcome","Tell us about yourself","Your interests","Get started"],p=[{role:"journalist",title:"I want to write and publish",description:"Create articles, investigate stories, and build your readership",features:["Article editor","Story planning tools","Reader analytics","Revenue sharing"],userRole:An.JOURNALIST},{role:"editor",title:"I want to manage content",description:"Review, edit, and oversee publication workflows",features:["Editorial dashboard","Content review tools","Team management","Quality control"],userRole:An.EDITOR},{role:"reader",title:"I want to read and discover",description:"Follow journalists, discover stories, and engage with content",features:["Personalized feed","Bookmarking","Comment system","Newsletter subscriptions"],userRole:An.REGULAR_USER}],m=["Politics","Technology","Science","Sports","Business","Culture","Health","Environment","Entertainment","Education","Travel","Food"],x=(T,R)=>{a(N=>({...N,primaryRole:T})),g(R),n(1)},y=()=>{e>0&&n(e-1)},g=async T=>{s(!0),console.log("PostSignUpFlow: Updating user role to:",T),await d(()=>u==null?void 0:u.accountApi.updateProfile({roleId:T}),{showSuccessMessage:!1,showErrorToast:!1}),console.log("PostSignUpFlow: User role update completed"),s(!1)},w=T=>{a(R=>({...R,interests:R.interests.includes(T)?R.interests.filter(N=>N!==T):[...R.interests,T]}))},j=async()=>{s(!0);try{localStorage.setItem("userInterests",JSON.stringify(o.interests)),c(ye.APP_NEWS_TRENDING)}catch(T){console.error("Error saving profile:",T),c(ye.APP_NEWS_TRENDING)}finally{s(!1)}},P=()=>{c(ye.APP_NEWS_TRENDING)},C=()=>t.jsxs(D,{sx:{textAlign:"center",py:4},children:[t.jsx(v,{variant:"h4",gutterBottom:!0,children:"Welcome to the Journalist Platform! 👋"}),t.jsx(v,{variant:"body1",sx:{mb:4,maxWidth:600,mx:"auto"},children:"Let's personalize your experience. What brings you here today?"}),t.jsx(v,{variant:"body2",sx:{mb:4,textAlign:"center",color:"text.secondary"},children:"Don't worry, you can always change this later in your settings."}),t.jsx($,{container:!0,spacing:3,sx:{mt:2},children:p.map(T=>t.jsx($,{item:!0,xs:12,md:4,children:t.jsx(Oe,{sx:{cursor:"pointer","&:hover":{boxShadow:6},height:"100%",transition:"box-shadow 0.3s"},onClick:()=>x(T.role,T.userRole),children:t.jsxs($e,{sx:{p:3,textAlign:"center"},children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:T.title}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:T.description}),t.jsx(D,{sx:{textAlign:"left"},children:T.features.map((R,N)=>t.jsxs(v,{variant:"caption",display:"block",sx:{mb:.5},children:["• ",R]},N))})]})})},T.role))}),t.jsx(D,{sx:{textAlign:"center",mt:4},children:t.jsx(pe,{variant:"text",onClick:P,sx:{color:"text.secondary"},children:"Skip for now"})})]}),A=()=>t.jsxs(D,{sx:{py:4},children:[t.jsx(v,{variant:"h5",gutterBottom:!0,textAlign:"center",children:"What topics interest you most?"}),t.jsx(v,{variant:"body1",textAlign:"center",sx:{mb:4},children:"Select any that apply - we'll use this to personalize your experience"}),t.jsx($,{container:!0,spacing:2,sx:{maxWidth:600,mx:"auto"},children:m.map(T=>t.jsx($,{item:!0,xs:6,sm:4,children:t.jsx(pe,{variant:o.interests.includes(T)?"contained":"outlined",fullWidth:!0,onClick:()=>w(T),sx:{py:1.5},children:T})},T))}),t.jsxs(D,{sx:{textAlign:"center",mt:4},children:[t.jsx(pe,{variant:"outlined",onClick:y,sx:{mr:2},children:"Back"}),t.jsx(pe,{variant:"contained",size:"large",onClick:()=>n(2),disabled:o.interests.length===0,children:"Continue"})]})]}),E=()=>t.jsxs(D,{sx:{textAlign:"center",py:4},children:[t.jsx(v,{variant:"h5",gutterBottom:!0,children:"You're all set! 🎉"}),t.jsx(v,{variant:"body1",sx:{mb:4},children:"Based on your preferences, we've customized your experience. Ready to get started?"}),t.jsx(pe,{variant:"contained",size:"large",onClick:j,disabled:r,sx:{px:4},children:r?"Setting up...":"Enter Platform"})]});return t.jsxs(bt,{maxWidth:"lg",sx:{mt:4,mb:8},children:[t.jsx(gI,{activeStep:e,sx:{mb:6},children:h.map(T=>t.jsx(bI,{children:t.jsx(yI,{children:T})},T))}),e===0&&C(),e===1&&A(),e===2&&E()]})},EO="/journalist-material-client/assets/landing_page_compiled-BSuH_rh0.gif",AO=()=>{const e=Ii(),[n,r]=b.useState(!1),s=async()=>{await(e==null?void 0:e.signOut()),r(!1)};return b.useEffect(()=>{r(!!(e!=null&&e.user))},[e==null?void 0:e.user]),t.jsxs(t.Fragment,{children:[t.jsx(D,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:0,"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:1}},children:t.jsx(D,{component:"img",src:EO,alt:"Background",sx:{width:"100%",height:"100%",objectFit:"cover",position:"relative",zIndex:0}})}),t.jsx(Nc,{position:"absolute",elevation:0,sx:{background:"rgba(255, 255, 255, 0.01)",zIndex:2},children:t.jsxs(_s,{sx:{justifyContent:"space-between",flexDirection:{xs:"column",sm:"row"},gap:{xs:2,sm:0},py:{xs:2,sm:1.5},px:{xs:2,sm:4}},children:[t.jsx(D,{sx:{display:"flex",alignItems:"center",gap:1.5},children:t.jsxs(D,{sx:{position:"relative","&::after":{content:'""',position:"absolute",bottom:-4,left:0,width:"100%",height:"2px",background:"linear-gradient(90deg, #2196F3 0%, transparent 100%)",borderRadius:"2px"}},children:[t.jsx("span",{style:{color:"#1565C0",textTransform:"uppercase",fontWeight:800,fontSize:"1.6rem",letterSpacing:"1px"},children:"Meta"}),t.jsx("span",{style:{color:"#0D47A1",fontWeight:600,fontSize:"1.6rem"},children:"Journo"})]})}),t.jsx(D,{sx:{display:"flex",alignItems:"center",order:{xs:3,sm:3},width:{xs:"100%",sm:"auto"},justifyContent:{xs:"center",sm:"flex-end"},gap:2},children:n?t.jsxs(t.Fragment,{children:[t.jsx(pe,{color:"primary",variant:"outlined",size:"large",component:or,to:ye.APP_NEWS_MY_FEED,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"},px:4,py:1.2,borderRadius:"12px",borderWidth:"2px",textTransform:"none",fontWeight:600,transition:"all 0.3s ease","&:hover":{borderWidth:"2px",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(33, 150, 243, 0.2)"}},children:"My Feed"}),t.jsx(pe,{color:"error",variant:"contained",size:"large",onClick:s,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"},px:4,py:1.2,borderRadius:"12px",textTransform:"none",fontWeight:600,background:"linear-gradient(135deg, #f44336 0%, #e53935 50%, #c62828 100%)",boxShadow:"0 8px 16px -4px rgba(244, 67, 54, 0.5)",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(135deg, #e53935 0%, #d32f2f 50%, #b71c1c 100%)",transform:"translateY(-2px)",boxShadow:"0 12px 20px -4px rgba(244, 67, 54, 0.6)"}},children:"Log out"})]}):t.jsxs(t.Fragment,{children:[t.jsx(pe,{color:"primary",variant:"outlined",size:"large",component:or,to:ye.LOGIN,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"},px:4,py:1.2,borderRadius:"12px",borderWidth:"2px",textTransform:"none",fontWeight:600,transition:"all 0.3s ease","&:hover":{borderWidth:"2px",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(33, 150, 243, 0.2)"}},children:"Log in"}),t.jsx(pe,{color:"primary",variant:"contained",size:"large",component:or,to:ye.SIGNUP,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"},px:4,py:1.2,borderRadius:"12px",textTransform:"none",fontWeight:600,background:"linear-gradient(135deg, #2196F3 0%, #1976D2 50%, #0D47A1 100%)",boxShadow:"0 8px 16px -4px rgba(33, 150, 243, 0.5)",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(135deg, #1E88E5 0%, #1565C0 50%, #0D47A1 100%)",transform:"translateY(-2px)",boxShadow:"0 12px 20px -4px rgba(33, 150, 243, 0.6)"}},children:"Get Started"})]})})]})})]})},RO=()=>t.jsxs(D,{sx:{minHeight:"100vh",bgcolor:"background.default"},children:[t.jsx(AO,{}),t.jsx(D,{sx:{minHeight:"90vh",display:"flex",alignItems:"center",background:"transparent",position:"relative",overflow:"hidden"},children:t.jsx(bt,{maxWidth:"lg",children:t.jsx($,{container:!0,justifyContent:"center",children:t.jsxs($,{item:!0,xs:12,md:8,textAlign:"center",children:[t.jsxs(v,{variant:"h1",component:"h1",sx:{fontWeight:700,color:"white",fontSize:{xs:"2.5rem",sm:"3.2rem",md:"3.8rem"},mb:4,lineHeight:1.3,textShadow:"2px 2px 4px rgba(0,0,0,0.7)"},children:["Discover Journalism You Can Trust.",t.jsx("br",{}),"Fund Stories That Deserve Attention."]}),t.jsx(v,{variant:"h5",sx:{color:"rgba(255, 255, 255, 0.95)",mb:5,lineHeight:1.7,fontSize:{xs:"1.1rem",sm:"1.25rem"},fontWeight:400,textShadow:"1px 1px 2px rgba(0,0,0,0.7)"},children:"MetaJourno connects readers directly to independent journalists — no paywalls, no content hosting, just verified trust and transparent funding."}),t.jsxs(de,{direction:{xs:"column",sm:"row"},spacing:3,justifyContent:"center",children:[t.jsx(pe,{variant:"contained",size:"large",startIcon:t.jsx(Oa,{}),sx:{bgcolor:"white",color:"#1e3c72",px:4,py:1.5,fontSize:"1rem",fontWeight:600,borderRadius:1,textTransform:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.15)","&:hover":{bgcolor:"#f8f9fa",transform:"translateY(-1px)",boxShadow:"0 6px 20px rgba(0,0,0,0.2)"},transition:"all 0.2s ease"},children:"Browse Stories"}),t.jsx(pe,{variant:"outlined",size:"large",startIcon:t.jsx(Ro,{}),sx:{borderColor:"rgba(255, 255, 255, 0.5)",color:"white",px:4,py:1.5,fontSize:"1rem",fontWeight:600,borderRadius:1,textTransform:"none","&:hover":{borderColor:"white",bgcolor:"rgba(255, 255, 255, 0.1)"},transition:"all 0.2s ease"},children:"Join as a Journalist"}),t.jsx(pe,{variant:"contained",size:"large",startIcon:t.jsx(Ro,{}),sx:{borderColor:"rgba(255, 255, 255, 0.5)",color:"white",px:4,py:1.5,fontSize:"1rem",fontWeight:600,borderRadius:1,textTransform:"none","&:hover":{borderColor:"white",bgcolor:"rgba(255, 255, 255, 0.1)"},transition:"all 0.2s ease"},children:"Join as a Reader"})]})]})})})})]}),Rn={DRAFT:1,PENDING_REVIEW:2,PUBLISHED:3,REJECTED:4,ARCHIVED:5,DELETED:6},mr={INSTAGRAM:1,TWITTER:2,YOUTUBE:3,TIKTOK:4,FACEBOOK:5,LINKEDIN:6,OTHER:7},$a={COVER:1,SUMMARY:2,AVATAR:3,TEASER:4,INTRO:5,OUTRO:6,OTHER:7},mc={IMAGE:1,VIDEO:2,AUDIO:3,DOCUMENT:4,URL:5,ARTICLE:6,OTHER:7},Kc="/journalist-material-client/assets/BG_journo-DMUT4Pey.png";var $f={},_O=at;Object.defineProperty($f,"__esModule",{value:!0});var Cv=$f.default=void 0,OO=_O(lt()),MO=t;Cv=$f.default=(0,OO.default)((0,MO.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"}),"FavoriteBorder");var Ff={},kO=at;Object.defineProperty(Ff,"__esModule",{value:!0});var Jc=Ff.default=void 0,NO=kO(lt()),LO=t;Jc=Ff.default=(0,NO.default)((0,LO.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share");const $O=({paymentMethods:e,selectedMethodId:n,onMethodSelect:r,currency:s,onAddPaymentMethod:o})=>{const a=h=>{switch(h){case 3:return t.jsx(Jl,{color:"primary"});case 4:return t.jsx(ga,{color:"primary"});default:return t.jsx(ga,{color:"primary"})}},c=h=>h?`**** **** **** ${h.slice(-4)}`:"",u=h=>{switch(h.type_id){case 3:return{title:"PayPal",subtitle:h.details.email||"PayPal Account",description:"PayPal account"};case 4:return{title:"Credit Card",subtitle:c(h.details.cardNumber),description:h.details.cardHolderName||"Credit Card"};default:return{title:h.type_name,subtitle:"Payment Method",description:""}}},d=e.filter(h=>h.currency===s);return e.length===0?t.jsxs(D,{children:[t.jsx(v,{variant:"subtitle1",gutterBottom:!0,children:"Payment Method"}),t.jsx(it,{severity:"info",sx:{mb:2},children:"No payment methods found. Please add a payment method to continue."}),o&&t.jsx(pe,{variant:"outlined",startIcon:t.jsx(Ur,{}),onClick:o,fullWidth:!0,children:"Add Payment Method"})]}):d.length===0?t.jsxs(D,{children:[t.jsx(v,{variant:"subtitle1",gutterBottom:!0,children:"Payment Method"}),t.jsxs(it,{severity:"warning",sx:{mb:2},children:["No payment methods found for ",s,". Please add a payment method in ",s,"."]}),o&&t.jsxs(pe,{variant:"outlined",startIcon:t.jsx(Ur,{}),onClick:o,fullWidth:!0,children:["Add ",s," Payment Method"]})]}):t.jsxs(D,{children:[t.jsx(v,{variant:"subtitle1",gutterBottom:!0,children:"Select Payment Method"}),t.jsx(vI,{value:n,onChange:h=>r(h.target.value),children:t.jsx(de,{spacing:2,children:d.map(h=>{const p=u(h);return t.jsx(Oe,{variant:"outlined",sx:{cursor:"pointer",border:n===h.id?2:1,borderColor:n===h.id?"primary.main":"divider","&:hover":{borderColor:"primary.main",backgroundColor:"action.hover"}},onClick:()=>r(h.id),children:t.jsxs($e,{sx:{py:2},children:[t.jsx(xa,{value:h.id,control:t.jsx(jI,{}),label:"",sx:{m:0}}),t.jsxs(D,{sx:{display:"flex",alignItems:"center",ml:4,mt:-4},children:[t.jsx(D,{sx:{mr:2},children:a(h.type_id)}),t.jsxs(D,{sx:{flexGrow:1},children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(v,{variant:"subtitle2",fontWeight:"medium",children:p.title}),h.is_default&&t.jsx(Ze,{label:"Default",size:"small",color:"primary",variant:"outlined"})]}),t.jsx(v,{variant:"body2",color:"text.secondary",children:p.subtitle}),p.description&&t.jsx(v,{variant:"caption",color:"text.secondary",children:p.description})]}),t.jsx(D,{sx:{textAlign:"right"},children:t.jsx(v,{variant:"caption",color:"text.secondary",children:h.currency})})]})]})},h.id)})})}),o&&t.jsx(pe,{variant:"outlined",startIcon:t.jsx(Ur,{}),onClick:o,fullWidth:!0,sx:{mt:2},children:"Add Another Payment Method"})]})},FO=({currentAmount:e,goalAmount:n,contributorCount:r,currency:s,showDetailed:o=!0})=>{const a=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:s,minimumFractionDigits:0,maximumFractionDigits:2}).format(d),c=n?Math.min(e/n*100,100):0,u=n?Math.max(n-e,0):0;return o?t.jsx(Oe,{variant:"outlined",sx:{backgroundColor:"background.paper"},children:t.jsxs($e,{children:[t.jsxs($,{container:!0,spacing:3,children:[t.jsx($,{item:!0,xs:12,sm:n?4:6,children:t.jsxs(D,{sx:{textAlign:"center"},children:[t.jsx(D,{sx:{display:"flex",justifyContent:"center",mb:1},children:t.jsx(bs,{color:"primary",fontSize:"large"})}),t.jsx(v,{variant:"h4",fontWeight:"bold",color:"primary",children:a(e)}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Raised so far"})]})}),n&&t.jsx($,{item:!0,xs:12,sm:4,children:t.jsxs(D,{sx:{textAlign:"center"},children:[t.jsx(D,{sx:{display:"flex",justifyContent:"center",mb:1},children:t.jsx(wI,{color:"action",fontSize:"large"})}),t.jsx(v,{variant:"h4",fontWeight:"bold",children:a(n)}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Funding goal"})]})}),t.jsx($,{item:!0,xs:12,sm:n?4:6,children:t.jsxs(D,{sx:{textAlign:"center"},children:[t.jsx(D,{sx:{display:"flex",justifyContent:"center",mb:1},children:t.jsx(to,{color:"action",fontSize:"large"})}),t.jsx(v,{variant:"h4",fontWeight:"bold",children:r}),t.jsx(v,{variant:"body2",color:"text.secondary",children:r===1?"Supporter":"Supporters"})]})})]}),n&&t.jsxs(D,{sx:{mt:3},children:[t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsxs(v,{variant:"body2",fontWeight:"medium",children:["Progress: ",c.toFixed(1),"%"]}),u>0&&t.jsxs(v,{variant:"body2",color:"text.secondary",children:[a(u)," to go"]})]}),t.jsx(_o,{variant:"determinate",value:c,sx:{height:12,borderRadius:6,backgroundColor:"grey.200","& .MuiLinearProgress-bar":{borderRadius:6,background:c>=100?"linear-gradient(45deg, #4caf50 30%, #8bc34a 90%)":"linear-gradient(45deg, #2196f3 30%, #21cbf3 90%)"}}}),c>=100&&t.jsx(D,{sx:{mt:2,p:2,bgcolor:"success.light",borderRadius:1,textAlign:"center"},children:t.jsx(v,{variant:"body2",fontWeight:"medium",color:"success.dark",children:"🎉 Funding goal reached! Thank you to all supporters!"})})]})]})}):t.jsxs(D,{children:[n&&t.jsxs(t.Fragment,{children:[t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Funded: ",a(e)]}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Goal: ",a(n)]})]}),t.jsx(_o,{variant:"determinate",value:c,sx:{height:8,borderRadius:4,backgroundColor:"grey.200","& .MuiLinearProgress-bar":{borderRadius:4}}})]}),!n&&t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(bs,{fontSize:"small",color:"primary"}),t.jsxs(v,{variant:"body2",fontWeight:"medium",children:[a(e)," raised"]}),t.jsx(to,{fontSize:"small",color:"action"}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:[r," supporters"]})]})]})},WO=[5,10,25,50,100],Zg=({open:e,onClose:n,onSuccess:r,contentType:s,contentId:o,fundingData:a})=>{const[c,u]=b.useState("amount"),[d,h]=b.useState({amount:0,currency:a.currency,payment_method_id:"",comment:"",is_anonymous:!1}),[p,m]=b.useState(!1),[x,y]=b.useState(null),[g,w]=b.useState([]),{api:j}=Je();b.useEffect(()=>{e&&P()},[e]);const P=async()=>{try{const q=await j.accountApi.getPaymentMethods();w(q.data||[])}catch(q){console.error("Failed to load payment methods:",q)}},C=()=>{u("amount"),h({amount:0,currency:a.currency,payment_method_id:"",comment:"",is_anonymous:!1}),y(null),n()},A=q=>{h(k=>({...k,amount:q}))},E=()=>{if(c==="amount"){if(d.amount<=0){y("Please enter a valid contribution amount");return}if(g.length===0){y("No payment methods available. Please add a payment method first.");return}y(null),u("payment")}},T=()=>{c==="payment"&&(u("amount"),y(null))},R=async()=>{try{if(m(!0),u("processing"),y(null),!d.payment_method_id){y("Please select a payment method");return}const q=await j.fundingApi.createContribution(s,o,d);r(q),C()}catch(q){y(q.message||"Failed to process contribution"),u("payment")}finally{m(!1)}},N=()=>t.jsxs(de,{spacing:3,children:[t.jsxs(D,{children:[t.jsxs(v,{variant:"h6",gutterBottom:!0,children:["Fund this ",s]}),t.jsx(v,{variant:"body2",color:"text.secondary",children:a.description||`Support this ${s} with your contribution`})]}),t.jsx(FO,{currentAmount:a.currentAmount,goalAmount:a.goalAmount,contributorCount:a.contributorCount,currency:a.currency}),t.jsx(rn,{}),t.jsxs(D,{children:[t.jsx(v,{variant:"subtitle1",gutterBottom:!0,children:"Choose contribution amount"}),t.jsx(de,{direction:"row",spacing:1,flexWrap:"wrap",sx:{mb:2},children:WO.map(q=>t.jsx(Ze,{label:`${a.currency} ${q}`,onClick:()=>A(q),color:d.amount===q?"primary":"default",variant:d.amount===q?"filled":"outlined",sx:{mb:1}},q))}),t.jsx(rt,{label:"Custom Amount",type:"number",value:d.amount||"",onChange:q=>h(k=>({...k,amount:Number(q.target.value)})),fullWidth:!0,InputProps:{startAdornment:t.jsx(eo,{position:"start",children:a.currency})},inputProps:{min:1,step:.01}})]}),t.jsx(rt,{label:"Comment (Optional)",multiline:!0,rows:3,value:d.comment,onChange:q=>h(k=>({...k,comment:q.target.value})),fullWidth:!0,placeholder:"Leave a message of support..."})]}),M=()=>t.jsxs(de,{spacing:3,children:[t.jsxs(D,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Payment Details"}),t.jsxs(D,{sx:{p:2,bgcolor:"background.paper",borderRadius:1,border:"1px solid",borderColor:"divider"},children:[t.jsxs(v,{variant:"body1",fontWeight:"medium",children:["Contribution: ",a.currency," ",d.amount]}),d.comment&&t.jsxs(v,{variant:"body2",color:"text.secondary",sx:{mt:1},children:['"',d.comment,'"']})]})]}),t.jsx($O,{paymentMethods:g,selectedMethodId:d.payment_method_id,onMethodSelect:q=>h(k=>({...k,payment_method_id:q})),currency:d.currency})]}),W=()=>t.jsxs(D,{sx:{textAlign:"center",py:4},children:[t.jsx(_o,{sx:{mb:3}}),t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Processing your contribution..."}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Please wait while we process your payment"})]}),B=()=>{switch(c){case"amount":return t.jsxs(t.Fragment,{children:[t.jsx(pe,{onClick:C,disabled:p,children:"Cancel"}),t.jsx(pe,{onClick:E,variant:"contained",disabled:p||d.amount<=0,children:"Continue"})]});case"payment":return t.jsxs(t.Fragment,{children:[t.jsx(pe,{onClick:T,disabled:p,children:"Back"}),t.jsx(pe,{onClick:R,variant:"contained",disabled:p||!d.payment_method_id,children:p?"Processing...":`Contribute ${a.currency} ${d.amount}`})]});case"processing":return null;default:return null}};return t.jsxs(sn,{open:e,onClose:p?void 0:C,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[t.jsxs(pn,{sx:{fontWeight:600},children:["Fund ",a.title]}),t.jsxs(on,{children:[x&&t.jsx(it,{severity:"error",sx:{mb:2},children:x}),c==="amount"&&N(),c==="payment"&&M(),c==="processing"&&W()]}),B()&&t.jsx(an,{sx:{px:3,pb:2},children:B()})]})},Pv=({contentType:e,contentId:n,contentTitle:r,fundingData:s,onContributionSuccess:o,variant:a="button",buttonVariant:c="contained",icon:u="money",text:d,...h})=>{const[p,m]=b.useState(!1),x=j=>{m(!1),o&&o(j)},y=()=>{switch(u){case"heart":return t.jsx(SI,{});case"money":default:return t.jsx(bs,{})}},g=()=>{if(d)return d;switch(e){case"news":return"Fund Article";case"poll":return"Fund Poll";default:return"Fund"}},w={id:n,title:r,...s};return a==="icon"?t.jsxs(t.Fragment,{children:[t.jsx(pt,{title:g(),children:t.jsx(We,{onClick:()=>m(!0),color:"primary",...h,children:y()})}),t.jsx(Zg,{open:p,onClose:()=>m(!1),onSuccess:x,contentType:e,contentId:n,fundingData:w})]}):t.jsxs(t.Fragment,{children:[t.jsx(pe,{startIcon:y(),onClick:()=>m(!0),variant:c,color:"primary",...h,children:g()}),t.jsx(Zg,{open:p,onClose:()=>m(!1),onSuccess:x,contentType:e,contentId:n,fundingData:w})]})},BO=({news:e})=>{var d,h;const n=It(),{api:r}=Je(),s=(d=e.media)==null?void 0:d.find(p=>p.type===$a.COVER),[o,a]=b.useState({currentAmount:0,goalAmount:void 0,contributorCount:0,currency:"USD"});b.useEffect(()=>{(async()=>{try{const m=await r.fundingApi.getFund("news",e.id);if(m){const x=await r.fundingApi.getFundSummary("news",e.id);a({currentAmount:m.currentAmount/100,goalAmount:m.goalAmount?m.goalAmount/100:void 0,contributorCount:(x==null?void 0:x.totalContributors)||0,currency:m.currency})}}catch{console.debug("No funding data for news:",e.id)}})()},[e.id,r.fundingApi]);const c=p=>{p.target.closest(".action-button")||n(ye.APP_NEWS_VIEW.replace(":id",e.id))},u=()=>{(async()=>{try{const m=await r.fundingApi.getFund("news",e.id);if(m){const x=await r.fundingApi.getFundSummary("news",e.id);a({currentAmount:m.currentAmount/100,goalAmount:m.goalAmount?m.goalAmount/100:void 0,contributorCount:(x==null?void 0:x.totalContributors)||0,currency:m.currency})}}catch(m){console.error("Error reloading funding data:",m)}})()};return t.jsxs(D,{sx:{mb:4},children:[t.jsxs(D,{component:or,to:ye.APP_CHANNEL_VIEW.replace(":channelId",e.channel.id),sx:{display:"inline-flex",alignItems:"center",color:"text.primary",textDecoration:"none",mb:1.5,px:.5,"&:hover":{color:"primary.main","& .channel-name":{color:"primary.main"}}},children:[t.jsx(Dn,{src:e.channel.logoUrl,alt:e.channel.name,variant:"rounded",sx:{width:28,height:28,mr:1.5,bgcolor:"grey.200",borderRadius:1.5},children:t.jsx(Ei,{fontSize:"small"})}),t.jsx(v,{variant:"body2",className:"channel-name",fontWeight:500,sx:{transition:"color 0.2s"},children:e.channel.name})]}),t.jsxs(Oe,{onClick:c,sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},cursor:"pointer",bgcolor:"background.paper",borderRadius:2,overflow:"hidden","&:hover":{"& .news-thumbnail":{transform:"scale(1.05)"},"& .news-title":{color:"primary.main"}}},children:[t.jsxs(D,{sx:{position:"relative",width:{xs:"100%",sm:"360px"},minWidth:{sm:"360px"},height:{xs:"220px",sm:"200px"},flexShrink:0,overflow:"hidden",bgcolor:"grey.100"},children:[(s==null?void 0:s.format)===mc.VIDEO?t.jsx(D,{component:"video",src:s.url,preload:"metadata",className:"news-thumbnail",sx:{width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.3s ease",display:"block",bgcolor:"black"}}):t.jsx(D,{component:"img",src:(s==null?void 0:s.url)||Kc,alt:e.title,className:"news-thumbnail",sx:{width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.3s ease",display:"block"}}),((h=e.qualityMetrics)==null?void 0:h.overallQualityScore)&&t.jsx(D,{sx:{position:"absolute",bottom:12,right:12,px:1,py:.5,borderRadius:1,bgcolor:Ee("#000",.75),color:"white",fontSize:"0.75rem",fontWeight:600},children:e.qualityMetrics.overallQualityScore.toFixed(1)})]}),t.jsxs(D,{sx:{p:3,flex:1,display:"flex",flexDirection:"column"},children:[t.jsx(v,{className:"news-title",variant:"subtitle1",sx:{fontWeight:600,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",lineHeight:1.4,transition:"color 0.2s",mb:2},children:e.title}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",mb:3,lineHeight:1.6},children:e.content}),t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:"auto"},children:[t.jsx(v,{variant:"caption",color:"text.secondary",sx:{fontWeight:500},children:new Date(e.publishedAt).toLocaleDateString()}),t.jsxs(de,{direction:"row",spacing:1.5,children:[t.jsx(pt,{title:"Like",children:t.jsx(We,{className:"action-button",size:"small",onClick:p=>{p.stopPropagation()},sx:{color:"text.secondary","&:hover":{color:"error.main"}},children:t.jsx(Cv,{fontSize:"small"})})}),t.jsx(D,{className:"action-button",onClick:p=>p.stopPropagation(),children:t.jsx(Pv,{contentType:"news",contentId:e.id,contentTitle:e.title,fundingData:o,onContributionSuccess:u,variant:"icon",icon:"heart",size:"small"})}),t.jsx(pt,{title:"Share",children:t.jsx(We,{className:"action-button",size:"small",onClick:p=>{p.stopPropagation()},sx:{color:"text.secondary","&:hover":{color:"primary.main"}},children:t.jsx(Jc,{fontSize:"small"})})})]})]})]})]})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var wh=function(e,n){return wh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)s.hasOwnProperty(o)&&(r[o]=s[o])},wh(e,n)};function VO(e,n){wh(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var da=function(){return da=Object.assign||function(n){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},da.apply(this,arguments)};function UO(e,n,r,s){var o,a=!1,c=0;function u(){o&&clearTimeout(o)}function d(){u(),a=!0}typeof n!="boolean"&&(s=r,r=n,n=void 0);function h(){var p=this,m=Date.now()-c,x=arguments;if(a)return;function y(){c=Date.now(),r.apply(p,x)}function g(){o=void 0}s&&!o&&y(),u(),s===void 0&&m>e?y():n!==!0&&(o=setTimeout(s?g:y,s===void 0?e-m:e))}return h.cancel=d,h}var ci={Pixel:"Pixel",Percent:"Percent"},eb={unit:ci.Percent,value:.8};function tb(e){return typeof e=="number"?{unit:ci.Percent,value:e*100}:typeof e=="string"?e.match(/^(\d*(\.\d+)?)px$/)?{unit:ci.Pixel,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:ci.Percent,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),eb):(console.warn("scrollThreshold should be string or number"),eb)}var No=function(e){VO(n,e);function n(r){var s=e.call(this,r)||this;return s.lastScrollTop=0,s.actionTriggered=!1,s.startY=0,s.currentY=0,s.dragging=!1,s.maxPullDownDistance=0,s.getScrollableTarget=function(){return s.props.scrollableTarget instanceof HTMLElement?s.props.scrollableTarget:typeof s.props.scrollableTarget=="string"?document.getElementById(s.props.scrollableTarget):(s.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},s.onStart=function(o){s.lastScrollTop||(s.dragging=!0,o instanceof MouseEvent?s.startY=o.pageY:o instanceof TouchEvent&&(s.startY=o.touches[0].pageY),s.currentY=s.startY,s._infScroll&&(s._infScroll.style.willChange="transform",s._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},s.onMove=function(o){s.dragging&&(o instanceof MouseEvent?s.currentY=o.pageY:o instanceof TouchEvent&&(s.currentY=o.touches[0].pageY),!(s.currentY<s.startY)&&(s.currentY-s.startY>=Number(s.props.pullDownToRefreshThreshold)&&s.setState({pullToRefreshThresholdBreached:!0}),!(s.currentY-s.startY>s.maxPullDownDistance*1.5)&&s._infScroll&&(s._infScroll.style.overflow="visible",s._infScroll.style.transform="translate3d(0px, "+(s.currentY-s.startY)+"px, 0px)")))},s.onEnd=function(){s.startY=0,s.currentY=0,s.dragging=!1,s.state.pullToRefreshThresholdBreached&&(s.props.refreshFunction&&s.props.refreshFunction(),s.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){s._infScroll&&(s._infScroll.style.overflow="auto",s._infScroll.style.transform="none",s._infScroll.style.willChange="unset")})},s.onScrollListener=function(o){typeof s.props.onScroll=="function"&&setTimeout(function(){return s.props.onScroll&&s.props.onScroll(o)},0);var a=s.props.height||s._scrollableNode?o.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!s.actionTriggered){var c=s.props.inverse?s.isElementAtTop(a,s.props.scrollThreshold):s.isElementAtBottom(a,s.props.scrollThreshold);c&&s.props.hasMore&&(s.actionTriggered=!0,s.setState({showLoader:!0}),s.props.next&&s.props.next()),s.lastScrollTop=a.scrollTop}},s.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:r.dataLength},s.throttledOnScrollListener=UO(150,s.onScrollListener).bind(s),s.onStart=s.onStart.bind(s),s.onMove=s.onMove.bind(s),s.onEnd=s.onEnd.bind(s),s}return n.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},n.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},n.prototype.componentDidUpdate=function(r){this.props.dataLength!==r.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},n.getDerivedStateFromProps=function(r,s){var o=r.dataLength!==s.prevDataLength;return o?da(da({},s),{prevDataLength:r.dataLength}):null},n.prototype.isElementAtTop=function(r,s){s===void 0&&(s=.8);var o=r===document.body||r===document.documentElement?window.screen.availHeight:r.clientHeight,a=tb(s);return a.unit===ci.Pixel?r.scrollTop<=a.value+o-r.scrollHeight+1:r.scrollTop<=a.value/100+o-r.scrollHeight+1},n.prototype.isElementAtBottom=function(r,s){s===void 0&&(s=.8);var o=r===document.body||r===document.documentElement?window.screen.availHeight:r.clientHeight,a=tb(s);return a.unit===ci.Pixel?r.scrollTop+o>=r.scrollHeight-a.value:r.scrollTop+o>=a.value/100*r.scrollHeight},n.prototype.render=function(){var r=this,s=da({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),o=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),a=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return Ut.createElement("div",{style:a,className:"infinite-scroll-component__outerdiv"},Ut.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(c){return r._infScroll=c},style:s},this.props.pullDownToRefresh&&Ut.createElement("div",{style:{position:"relative"},ref:function(c){return r._pullDown=c}},Ut.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!o&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},n}(b.Component),Wf={},zO=at;Object.defineProperty(Wf,"__esModule",{value:!0});var Dv=Wf.default=void 0,HO=zO(lt()),GO=t;Dv=Wf.default=(0,HO.default)((0,GO.jsx)("path",{d:"M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2m0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19z"}),"Inbox");const lo=({title:e,description:n,icon:r=t.jsx(Dv,{sx:{fontSize:48}}),action:s})=>t.jsxs(D,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:4,borderRadius:2,bgcolor:o=>o.palette.mode==="dark"?Ee(o.palette.common.white,.05):Ee(o.palette.common.black,.02),textAlign:"center"},children:[t.jsx(D,{sx:{color:"text.secondary",mb:2},children:r}),t.jsx(v,{variant:"h6",sx:{fontWeight:600,mb:1},children:e}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:s?3:0},children:n}),s&&t.jsx(pe,{variant:"contained",onClick:s.onClick,sx:{textTransform:"none",fontWeight:600},children:s.label})]}),YO=Me(Ze)(({theme:e})=>({borderRadius:e.spacing(3),margin:e.spacing(.5),fontWeight:500,"&.selected":{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,"&:hover":{backgroundColor:e.palette.primary.dark}},"&:not(.selected)":{backgroundColor:e.palette.background.paper,border:`1px solid ${e.palette.divider}`,"&:hover":{backgroundColor:e.palette.action.hover}}})),nb=Me(D)(({theme:e})=>({display:"flex",overflowX:"auto",overflowY:"hidden",paddingBottom:e.spacing(1),gap:e.spacing(1),"&::-webkit-scrollbar":{height:6},"&::-webkit-scrollbar-track":{backgroundColor:e.palette.action.hover,borderRadius:3},"&::-webkit-scrollbar-thumb":{backgroundColor:e.palette.action.disabled,borderRadius:3}})),Bf=({selectedTags:e=[],onTagsChange:n,contentType:r,maxTags:s=10,showCounts:o=!1,className:a})=>{const[c,u]=b.useState([]),[d,h]=b.useState(!0),{api:p}=Je(),{execute:m}=et();b.useEffect(()=>{(async()=>{if(p!=null&&p.tagApi){h(!0);try{const[g,w,j]=await Promise.all([m(()=>p.tagApi.getTags({category:r==="channels"?void 0:r}),{showErrorToast:!1}),m(()=>p.tagApi.getTags({trending:!0,category:r==="channels"?void 0:r}),{showErrorToast:!1}),m(()=>p.tagApi.getTags({popular:!0,category:r==="channels"?void 0:r}),{showErrorToast:!1})]),P=new Map;g!=null&&g.items&&g.items.forEach(A=>{var E;P.set(A.id,{...A,count:((E=A.analytics)==null?void 0:E.usageCount)||0})}),w!=null&&w.items&&w.items.forEach(A=>{var T;const E=P.get(A.id);E?P.set(A.id,{...E,trending:!0}):P.set(A.id,{...A,count:((T=A.analytics)==null?void 0:T.usageCount)||0,trending:!0})}),j!=null&&j.items&&j.items.forEach(A=>{var T;const E=P.get(A.id);E&&!E.trending?P.set(A.id,{...E,popular:!0}):E||P.set(A.id,{...A,count:((T=A.analytics)==null?void 0:T.usageCount)||0,popular:!0})});const C=Array.from(P.values()).sort((A,E)=>(E.count||0)-(A.count||0)).slice(0,20);u(C)}catch(g){console.error("Failed to fetch tags:",g),u([])}finally{h(!1)}}})()},[r,p,m]);const x=y=>{e.includes(y)?n(e.filter(w=>w!==y)):e.length<s&&n([...e,y])};return d?t.jsx(D,{className:a,sx:{py:1},children:t.jsx(nb,{children:[...Array(8)].map((y,g)=>t.jsx(ce,{variant:"rounded",width:80,height:32,sx:{borderRadius:3,flexShrink:0}},g))})}):t.jsxs(D,{className:a,sx:{py:1},children:[t.jsx(nb,{children:c.map(y=>{const g=e.includes(y.name);return t.jsx(YO,{label:t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:.5},children:[y.name,o&&y.count&&y.count>0&&t.jsx(v,{variant:"caption",sx:{fontSize:"0.7rem",opacity:.8,ml:.5},children:y.count})]}),className:g?"selected":"",onClick:()=>x(y.name),clickable:!0,size:"small",sx:{flexShrink:0,...y.trending&&{background:"linear-gradient(45deg, #f44336 30%, #ff9800 90%)",color:"white","&:hover":{background:"linear-gradient(45deg, #d32f2f 30%, #f57c00 90%)"}},...y.popular&&!y.trending&&{background:"linear-gradient(45deg, #2196f3 30%, #21cbf3 90%)",color:"white","&:hover":{background:"linear-gradient(45deg, #1976d2 30%, #0097a7 90%)"}}}},y.id)})}),e.length>0&&t.jsxs(v,{variant:"caption",color:"text.secondary",sx:{ml:1,mt:1,display:"block"},children:[e.length,"/",s," tags selected"]})]})},qO=()=>t.jsx(de,{spacing:2,sx:{mt:2},children:[...Array(2)].map((e,n)=>t.jsxs(D,{sx:{p:2,borderRadius:2,bgcolor:r=>r.palette.mode==="dark"?Ee(r.palette.common.white,.05):Ee(r.palette.common.black,.03)},children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(D,{sx:{width:32,height:32,borderRadius:1,bgcolor:r=>r.palette.mode==="dark"?Ee(r.palette.common.white,.1):Ee(r.palette.common.black,.1),mr:1}}),t.jsx(D,{sx:{height:20,width:"30%",borderRadius:.5,bgcolor:"grey.300"}})]}),t.jsx(D,{sx:{height:24,width:"60%",mb:2,borderRadius:.5,bgcolor:"grey.300"}}),t.jsx(D,{sx:{height:100,width:"100%",borderRadius:1,bgcolor:"grey.200",mb:2}}),t.jsx(D,{sx:{height:16,width:"40%",borderRadius:.5,bgcolor:"grey.200"}})]},n))}),KO=(e={})=>{if(e.feed)return{title:"Your Feed",description:"Latest news from your personalized feed",emptyTitle:"Your feed is empty",emptyDescription:"Follow some journalists to see their latest news here"};if(e.trending)return{title:"Trending News",description:"Discover the most popular news from our community",emptyTitle:"No trending news",emptyDescription:"There are no trending news articles at the moment"};if(e.subscribed)return{title:"Subscribed Channels",description:"Latest news from your subscribed channels",emptyTitle:"No news from subscriptions",emptyDescription:"Subscribe to channels to see their latest news here"};if(e.premium)return{title:"Premium News",description:"Exclusive premium content",emptyTitle:"No premium news",emptyDescription:"No premium news articles available at the moment"};if(e.channel)return{title:"Channel News",description:"News from this channel",emptyTitle:"No news in this channel",emptyDescription:"This channel has not published any news yet"};if(e.creator)return{title:"Creator News",description:"News from this creator",emptyTitle:"No news from this creator",emptyDescription:"This creator has not published any news yet"};if(e.tags&&e.tags.length>0){const n=e.tags.length===1?"tag":"tags";return{title:`News by ${n.charAt(0).toUpperCase()+n.slice(1)}`,description:`News tagged with: ${e.tags.join(", ")}`,emptyTitle:`No news with these ${n}`,emptyDescription:`No news articles found with the selected ${n}`}}return{title:"All News",description:"Latest news from our community",emptyTitle:"No news found",emptyDescription:"No news articles available at the moment"}},rb=({filters:e={},title:n,description:r,emptyTitle:s,emptyDescription:o})=>{const a=ao(),c=It(),[u,d]=b.useState([]),[h,p]=b.useState(!0),[m,x]=b.useState(1),[y,g]=b.useState(!0),[w,j]=b.useState([]),{api:P}=Je(),{execute:C}=et();b.useEffect(()=>{const U=new URLSearchParams(a.search).get("tags");if(U){const H=U.split(",").map(X=>decodeURIComponent(X.trim()));j(H)}else e.tags&&j(e.tags)},[a.search,e.tags]);const A=12,E=KO(e),T=n||E.title,R=r||E.description,N=s||E.emptyTitle,M=o||E.emptyDescription,W={...e,tags:w.length>0?w:e.tags},B=async(Y=m)=>{p(!0);const U=await C(()=>P==null?void 0:P.newsApi.getNews(W,{page:Y,limit:A}),{showErrorToast:!0});U&&(d(Y===1?U.items:H=>[...H,...U.items]),g(U.metadata.hasNext),x(U.metadata.currentPage)),p(!1)};b.useEffect(()=>{x(1),B(1)},[JSON.stringify(W)]);const q=()=>{!h&&y&&B(m+1)},k=Y=>{j(Y);const U=new URLSearchParams(a.search);Y.length>0?U.set("tags",Y.map(X=>encodeURIComponent(X)).join(",")):U.delete("tags");const H=`${a.pathname}?${U.toString()}`;c(H,{replace:!0})};return t.jsxs(bt,{maxWidth:"lg",sx:{py:4},children:[t.jsxs(D,{sx:{mb:4},children:[t.jsx(v,{variant:"h4",gutterBottom:!0,children:T}),t.jsx(v,{variant:"body1",color:"text.secondary",children:R})]}),t.jsx(D,{sx:{mb:4},children:t.jsx(Bf,{selectedTags:w,onTagsChange:k,contentType:"news",maxTags:5,showCounts:!1})}),u.length===0&&!h?t.jsx(lo,{title:N,description:M}):t.jsx(No,{dataLength:u.length,next:q,hasMore:y,loader:t.jsx(qO,{}),endMessage:t.jsx(D,{sx:{textAlign:"center",mt:4,color:"text.secondary",fontSize:"0.875rem"},children:"No more news to display"}),children:t.jsx(de,{spacing:4,children:u.map(Y=>t.jsx(BO,{news:Y},Y.id))})})]})},JO=e=>{switch(e){case mr.INSTAGRAM:return AI;case mr.TWITTER:return EI;case mr.YOUTUBE:return II;case mr.TIKTOK:return TI;case mr.FACEBOOK:return DI;case mr.LINKEDIN:return PI;case mr.OTHER:default:return CI}},XO=e=>{switch(e){case mr.INSTAGRAM:return"#E4405F";case mr.TWITTER:return"#1DA1F2";case mr.YOUTUBE:return"#FF0000";case mr.TIKTOK:return"#000000";case mr.FACEBOOK:return"#1877F2";case mr.LINKEDIN:return"#0A66C2";default:return"#757575"}},QO=e=>{var n;return((n=Object.entries(mr).find(([,r])=>r===e))==null?void 0:n[0])||"Other"};var Vf={},ZO=at;Object.defineProperty(Vf,"__esModule",{value:!0});var Tv=Vf.default=void 0,eM=ZO(lt()),tM=t;Tv=Vf.default=(0,eM.default)((0,tM.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39"}),"Public");var Uf={},nM=at;Object.defineProperty(Uf,"__esModule",{value:!0});var Iv=Uf.default=void 0,rM=nM(lt()),sM=t;Iv=Uf.default=(0,rM.default)((0,sM.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"Launch");const zf=({links:e})=>e.length?t.jsxs(dt,{variant:"outlined",sx:{p:2,bgcolor:"background.paper",borderRadius:2,width:"100%"},children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Tv,{sx:{mr:1,color:"primary.main"}}),t.jsx(v,{variant:"h6",component:"div",children:"Read More On"})]}),t.jsx(rn,{sx:{mb:2}}),t.jsx(de,{spacing:1.5,children:e.map(n=>t.jsx(Lc,{href:n.url,target:"_blank",rel:"noopener noreferrer",underline:"none",sx:{color:"inherit",display:"block","&:hover":{"& .MuiPaper-root":{bgcolor:"action.hover",borderColor:"primary.main"},"& .launch-icon":{color:"primary.main"}}},children:t.jsxs(dt,{variant:"outlined",sx:{p:1.5,display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.2s ease-in-out"},children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(D,{sx:{color:XO(n.platform),display:"flex",mr:1.5},children:Ut.createElement(JO(n.platform))}),t.jsx(v,{variant:"body2",children:QO(n.platform)})]}),t.jsx(Iv,{fontSize:"small",className:"launch-icon",sx:{color:"text.secondary",transition:"color 0.2s ease-in-out"}})]})},n.id))})]}):null;var Hf={},oM=at;Object.defineProperty(Hf,"__esModule",{value:!0});var Xc=Hf.default=void 0,iM=oM(lt()),aM=t;Xc=Hf.default=(0,iM.default)((0,aM.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var Gf={},lM=at;Object.defineProperty(Gf,"__esModule",{value:!0});var Fa=Gf.default=void 0,cM=lM(lt()),uM=t;Fa=Gf.default=(0,cM.default)((0,uM.jsx)("path",{d:"M18 11v2h4v-2zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61M20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4M4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34"}),"Campaign");var Yf={},dM=at;Object.defineProperty(Yf,"__esModule",{value:!0});var va=Yf.default=void 0,hM=dM(lt()),fM=t;va=Yf.default=(0,hM.default)((0,fM.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");const pM={header:{class:AE,config:{levels:[1,2,3,4],defaultLevel:2,placeholder:""}},list:{class:RE,inlineToolbar:!0,config:{placeholder:""}},checklist:{class:_E,inlineToolbar:!0,config:{placeholder:""}},quote:{class:OE,inlineToolbar:!0,config:{quotePlaceholder:"",captionPlaceholder:""}},code:ME,inlineCode:{class:kE},marker:{class:NE},image:{class:LE,config:{endpoints:{byFile:"/api/upload/image",byUrl:"/api/fetch/image"}}},linkTool:{class:$E,config:{endpoint:"/api/fetch/link"}},table:{class:FE,inlineToolbar:!0},warning:{class:WE,inlineToolbar:!0,config:{titlePlaceholder:"Title",messagePlaceholder:"Message"}},delimiter:BE},Qc=({data:e,onChange:n,readOnly:r=!1,placeholder:s="Start writing your content...",borderColor:o})=>{const a=_n(),c=b.useRef(null),u=b.useRef(`editor-${Math.random().toString(36).slice(2,7)}`);return b.useEffect(()=>((async()=>{if(c.current){try{await c.current.isReady,await c.current.destroy()}catch(p){console.error("Editor cleanup failed:",p)}c.current=null}const h=new EE({holder:u.current,tools:pM,data:e,placeholder:s,readOnly:r,onChange:async p=>{const m=await p.saver.save();n==null||n(m)},autofocus:!1});c.current=h})().catch(console.error),()=>{c.current&&c.current.destroy&&c.current.isReady.then(()=>{var h;(h=c.current)!=null&&h.destroy&&c.current.destroy(),c.current=null}).catch(console.error)}),[]),t.jsx(D,{id:u.current,sx:{minHeight:300,border:"1px solid",borderColor:typeof o=="function"?o(a):o||a.palette.divider,borderRadius:1,p:2,"& .ce-toolbar__plus, & .ce-toolbar__settings-btn, & .cdx-button":{color:d=>d.palette.mode==="dark"?Ee(d.palette.common.white,.7):Ee(d.palette.common.black,.7),backgroundColor:"transparent"},"& .ce-toolbar__plus:hover, & .ce-toolbar__settings-btn:hover, & .cdx-button:hover":{backgroundColor:d=>d.palette.mode==="dark"?Ee(d.palette.common.white,.1):Ee(d.palette.common.black,.1)},"& ::selection":{backgroundColor:d=>d.palette.mode==="dark"?Ee(d.palette.primary.main,.3):Ee(d.palette.primary.main,.3),color:d=>d.palette.mode==="dark"?d.palette.common.white:d.palette.common.black},"& ::-moz-selection":{backgroundColor:d=>d.palette.mode==="dark"?Ee(d.palette.primary.main,.3):Ee(d.palette.primary.main,.3),color:d=>d.palette.mode==="dark"?d.palette.common.white:d.palette.common.black},"& .ce-block--selected":{backgroundColor:d=>d.palette.mode==="dark"?Ee(d.palette.primary.main,.1):Ee(d.palette.primary.main,.05),color:d=>d.palette.mode==="dark"?d.palette.common.white:d.palette.text.primary},"& .ce-block--selected .ce-block__content":{color:d=>d.palette.mode==="dark"?d.palette.common.white:d.palette.text.primary}}})},Ev=e=>{if(e)try{return JSON.parse(e)}catch{return{blocks:[{type:"paragraph",data:{text:e}}]}}};var Ye=(e=>(e[e.DRAFT=1]="DRAFT",e[e.SUBMITTED=2]="SUBMITTED",e[e.UNDER_REVIEW=3]="UNDER_REVIEW",e[e.APPROVED=4]="APPROVED",e[e.REJECTED=5]="REJECTED",e[e.PAID=6]="PAID",e[e.CANCELLED=7]="CANCELLED",e))(Ye||{});const ha={1:"Draft",2:"Submitted",3:"Under Review",4:"Approved",5:"Rejected",6:"Paid",7:"Cancelled"},sb={1:"#9e9e9e",2:"#2196f3",3:"#ff9800",4:"#4caf50",5:"#f44336",6:"#8bc34a",7:"#607d8b"},ni=(e,n="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:n,notation:"compact",maximumFractionDigits:2}).format(e),mM=({newsId:e,channelId:n,newsFund:r})=>{const{api:s}=Je(),{execute:o}=et(),[a,c]=b.useState(!0),[u,d]=b.useState(null),[h,p]=b.useState([]),[m,x]=b.useState(null),[y,g]=b.useState(null);b.useEffect(()=>{(async()=>{var E,T,R;c(!0),g(null);try{const N=await o(()=>s==null?void 0:s.fundingApi.getFundSummary("news",e),{showErrorToast:!1}),M=await o(()=>s==null?void 0:s.expenseOrderApi.getExpenseOrdersByChannel(n),{showErrorToast:!1});d(N||null),p((M==null?void 0:M.items)||[]);const W={totalFunding:((E=N==null?void 0:N.fund)==null?void 0:E.current_amount)||(r==null?void 0:r.amount)||0,totalExpenses:((T=M==null?void 0:M.items)==null?void 0:T.reduce((B,q)=>q.status===Ye.PAID?B+q.amount:B,0))||0,netAmount:0,fundingContributions:(N==null?void 0:N.total_contributors)||0,expenseCount:((R=M==null?void 0:M.items)==null?void 0:R.length)||0,payoutAmount:0};W.netAmount=W.totalFunding-W.totalExpenses,x(W)}catch(N){g("Failed to load transaction data"),console.error("Transaction data fetch error:",N)}finally{c(!1)}})()},[e,n,r,s,o]);const w=()=>{if(!m)return null;const A=m.totalFunding>0?Math.min(m.totalFunding/((r==null?void 0:r.goal_amount)||m.totalFunding)*100,100):0;return t.jsx(Oe,{elevation:2,children:t.jsxs($e,{children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Gr,{color:"success",sx:{mr:1}}),t.jsx(v,{variant:"h6",color:"success.main",children:"Funding Received"})]}),t.jsxs($,{container:!0,spacing:3,children:[t.jsx($,{item:!0,xs:12,md:6,children:t.jsxs(D,{sx:{textAlign:"center"},children:[t.jsx(v,{variant:"h3",color:"success.main",gutterBottom:!0,children:ni(m.totalFunding)}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Total Raised"})]})}),t.jsx($,{item:!0,xs:12,md:6,children:t.jsxs(de,{spacing:2,children:[t.jsxs(D,{children:[t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsx(v,{variant:"body2",children:"Funding Progress"}),t.jsxs(v,{variant:"body2",children:[A.toFixed(1),"%"]})]}),t.jsx(_o,{variant:"determinate",value:A,sx:{height:8,borderRadius:4},color:"success"})]}),t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Contributors: ",m.fundingContributions]}),(r==null?void 0:r.goal_amount)&&t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Goal: ",ni(r.goal_amount)]})]})]})})]})]})})},j=()=>{if(!m)return null;const A=h.filter(T=>T.status===Ye.PAID),E=h.filter(T=>[Ye.SUBMITTED,Ye.UNDER_REVIEW,Ye.APPROVED].includes(T.status));return t.jsx(Oe,{elevation:2,children:t.jsxs($e,{children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Ay,{color:"error",sx:{mr:1}}),t.jsx(v,{variant:"h6",color:"error.main",children:"Expenses & Payouts"})]}),t.jsxs($,{container:!0,spacing:3,children:[t.jsx($,{item:!0,xs:12,md:6,children:t.jsxs(D,{sx:{textAlign:"center"},children:[t.jsx(v,{variant:"h3",color:"error.main",gutterBottom:!0,children:ni(m.totalExpenses)}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Total Paid Out"})]})}),t.jsx($,{item:!0,xs:12,md:6,children:t.jsxs(de,{spacing:2,children:[t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsx(v,{variant:"body2",children:"Paid Expenses:"}),t.jsx(v,{variant:"body2",color:"success.main",children:A.length})]}),t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsx(v,{variant:"body2",children:"Pending Expenses:"}),t.jsx(v,{variant:"body2",color:"warning.main",children:E.length})]}),t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsx(v,{variant:"body2",children:"Total Expense Orders:"}),t.jsx(v,{variant:"body2",children:m.expenseCount})]})]})})]})]})})},P=()=>{if(!m)return null;const A=m.netAmount>=0;return t.jsxs(dt,{elevation:2,sx:{p:3,bgcolor:A?"success.light":"warning.light",color:A?"success.contrastText":"warning.contrastText",textAlign:"center"},children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:1},children:[t.jsx(Jl,{sx:{mr:1,fontSize:"2rem"}}),t.jsx(v,{variant:"h4",component:"div",children:ni(Math.abs(m.netAmount))})]}),t.jsx(v,{variant:"subtitle1",children:A?"Net Surplus":"Net Deficit"}),t.jsx(v,{variant:"body2",sx:{mt:1,opacity:.8},children:A?"Available for future expenses or reinvestment":"Additional funding may be needed"})]})},C=()=>t.jsxs(D,{children:[t.jsxs(Xl,{children:[t.jsx(Ql,{expandIcon:t.jsx(Zl,{}),children:t.jsxs(D,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(qh,{sx:{mr:1}}),t.jsx(v,{variant:"subtitle1",children:"Funding Contributions"}),u&&t.jsx(Ze,{label:`${u.contributions.length} contributions`,size:"small",sx:{ml:2}})]})}),t.jsx(ec,{children:u!=null&&u.contributions.length?t.jsxs(gs,{dense:!0,children:[u.contributions.slice(0,10).map(A=>{var E;return t.jsxs(Br,{children:[t.jsx(dn,{children:t.jsx(bs,{color:"success"})}),t.jsx(Qt,{primary:`${ni(A.amount)} ${A.currency}`,secondary:A.isAnonymous?"Anonymous contributor":((E=A.user)==null?void 0:E.name)||"Unknown contributor"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:new Date(A.createdAt).toLocaleDateString()})]},A.id)}),u.contributions.length>10&&t.jsx(Br,{children:t.jsx(Qt,{primary:t.jsxs(v,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:["+",u.contributions.length-10," more contributions"]})})})]}):t.jsx(it,{severity:"info",children:"No funding contributions found for this news article."})})]}),t.jsxs(Xl,{children:[t.jsx(Ql,{expandIcon:t.jsx(Zl,{}),children:t.jsxs(D,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(Ma,{sx:{mr:1}}),t.jsx(v,{variant:"subtitle1",children:"Expense Orders"}),h.length>0&&t.jsx(Ze,{label:`${h.length} expenses`,size:"small",sx:{ml:2}})]})}),t.jsx(ec,{children:h.length?t.jsx(gs,{dense:!0,children:h.map(A=>t.jsxs(Br,{children:[t.jsx(dn,{children:t.jsx(Os,{sx:{color:sb[A.status]}})}),t.jsx(Qt,{primary:A.title,secondary:t.jsxs(D,{children:[t.jsxs(v,{variant:"caption",display:"block",children:[A.journalist.displayName," • ",A.type.name]}),t.jsx(v,{variant:"caption",color:"text.secondary",children:new Date(A.createdAt).toLocaleDateString()})]})}),t.jsxs(D,{sx:{textAlign:"right"},children:[t.jsxs(v,{variant:"body2",fontWeight:"medium",children:[ni(A.amount)," ",A.currency]}),t.jsx(Ze,{label:ha[A.status],size:"small",sx:{bgcolor:sb[A.status],color:"white",fontSize:"0.7rem"}})]}),A.receiptUrl&&t.jsx(pt,{title:"View Receipt",children:t.jsx(We,{size:"small",onClick:()=>window.open(A.receiptUrl,"_blank"),children:t.jsx(ys,{fontSize:"small"})})})]},A.id))}):t.jsx(it,{severity:"info",children:"No expense orders found for this channel."})})]})]});return a?t.jsx(Oe,{elevation:2,children:t.jsxs($e,{sx:{textAlign:"center",py:4},children:[t.jsx(zn,{}),t.jsx(v,{variant:"body2",sx:{mt:2},children:"Loading transaction data..."})]})}):y?t.jsx(it,{severity:"error",sx:{mb:2},children:y}):!m||m.totalFunding===0&&m.totalExpenses===0?t.jsx(it,{severity:"info",sx:{mb:2},children:t.jsxs(D,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(RI,{sx:{mr:1}}),"No transaction data available for this news article."]})}):t.jsxs(D,{sx:{mb:4},children:[t.jsxs(v,{variant:"h5",gutterBottom:!0,sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(Jl,{sx:{mr:1}}),"Transaction Transparency"]}),t.jsxs($,{container:!0,spacing:3,children:[t.jsx($,{item:!0,xs:12,md:6,children:w()}),t.jsx($,{item:!0,xs:12,md:6,children:j()}),t.jsx($,{item:!0,xs:12,children:P()}),t.jsxs($,{item:!0,xs:12,children:[t.jsx(rn,{sx:{my:2}}),C()]})]})]})},xM=()=>t.jsx(bt,{maxWidth:"lg",sx:{mt:4},children:t.jsxs($,{container:!0,spacing:4,children:[t.jsx($,{item:!0,xs:12,children:t.jsx(ce,{variant:"rectangular",width:"100%",height:300,sx:{borderRadius:2,mb:3}})}),t.jsx($,{item:!0,xs:12,md:8,children:t.jsx(Oe,{children:t.jsxs(D,{sx:{p:3},children:[t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[t.jsx(ce,{variant:"text",width:"60%",height:40}),t.jsx(de,{direction:"row",spacing:1,children:[1,2,3].map(e=>t.jsx(ce,{variant:"circular",width:40,height:40},e))})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:300,sx:{mb:3,borderRadius:1}}),t.jsxs(de,{spacing:2,sx:{mb:3},children:[t.jsx(ce,{variant:"text",width:"100%"}),t.jsx(ce,{variant:"text",width:"95%"}),t.jsx(ce,{variant:"text",width:"90%"}),t.jsx(ce,{variant:"text",width:"85%"}),t.jsx(ce,{variant:"text",width:"95%"})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:80,sx:{mb:3,borderRadius:1}}),t.jsx(de,{direction:"row",spacing:1,children:[1,2,3,4].map(e=>t.jsx(ce,{variant:"rounded",width:80,height:32},e))})]})})}),t.jsx($,{item:!0,xs:12,md:4,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsx(ce,{variant:"text",width:"50%",height:32,sx:{mb:2}}),t.jsx(de,{spacing:2,children:[1,2,3,4,5].map(e=>t.jsxs(D,{children:[t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[t.jsx(ce,{variant:"text",width:"40%"}),t.jsx(ce,{variant:"text",width:"20%"})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:8,sx:{borderRadius:1}})]},e))})]})})})]})}),gM=()=>{const{id:e}=qr(),{api:n}=Je(),{execute:r}=et(),[s,o]=b.useState(null),[a,c]=b.useState(!0);if(b.useEffect(()=>{(async()=>{if(e){c(!0);const p=await r(()=>n==null?void 0:n.newsApi.get(e),{showErrorToast:!0});p&&o(p),c(!1)}})()},[e,r]),a)return t.jsx(xM,{});if(!s)return t.jsx(bt,{maxWidth:"lg",sx:{mt:4},children:t.jsx(v,{variant:"h4",children:"Entry not found"})});const u=s.media.find(h=>h.type===$a.COVER),d=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(h);return t.jsxs(bt,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs($,{container:!0,spacing:4,children:[t.jsx($,{item:!0,xs:12,children:t.jsxs(D,{sx:{height:300,width:"100%",position:"relative",mb:3,borderRadius:2,overflow:"hidden"},children:[(u==null?void 0:u.format)===mc.VIDEO?t.jsx(D,{component:"video",src:u.url,controls:!0,preload:"metadata",sx:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center",bgcolor:"black"}}):t.jsx(D,{component:"img",src:(u==null?void 0:u.url)||Kc,alt:s.title,sx:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"}}),t.jsxs(D,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(transparent, rgba(0,0,0,0.7))",p:3,color:"white"},children:[t.jsx(v,{variant:"h4",component:"h1",gutterBottom:!0,children:s.title}),t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsxs(D,{component:or,to:ye.APP_CHANNEL_VIEW.replace(":channelId",s.channelId),sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(255, 255, 255, 0.1)",color:"white",px:2,py:1,borderRadius:2,textDecoration:"none",transition:"all 0.2s ease-in-out",border:"1px solid rgba(255, 255, 255, 0.2)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.2)",transform:"translateY(-2px)"}},children:[t.jsx(Fa,{sx:{mr:1}}),t.jsx(v,{variant:"subtitle2",children:s.channel.name})]}),t.jsxs(D,{sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(0, 0, 0, 0.3)",px:2,py:1,borderRadius:2,border:"1px solid rgba(255, 255, 255, 0.1)"},children:[t.jsx(Xc,{sx:{mr:1,fontSize:"0.9rem"}}),t.jsx(v,{variant:"caption",children:s.creator.displayName})]})]}),t.jsx(v,{variant:"subtitle1",children:new Date(s.publishedAt).toLocaleDateString()})]})]})]})}),t.jsx($,{item:!0,xs:12,md:8,children:t.jsx(Oe,{children:t.jsxs(D,{sx:{p:3},children:[t.jsx(Qc,{data:Ev(s.content),readOnly:!0,borderColor:h=>h.palette.mode==="dark"?Ee(h.palette.common.white,.1):Ee(h.palette.common.black,.1)}),t.jsx(D,{sx:{mt:2},children:s.tags.map(h=>t.jsx(Ze,{label:h.title,variant:"outlined",sx:{mr:1,mb:1}},h.id))})]})})}),t.jsx($,{item:!0,xs:12,md:4,children:t.jsxs(de,{spacing:3,children:[t.jsx(zf,{links:s.socialLinks}),s.qualityMetrics&&t.jsxs(dt,{elevation:0,sx:{p:2,bgcolor:"success.light",color:"success.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[t.jsx(va,{fontSize:"large"}),t.jsxs(D,{children:[t.jsx(v,{variant:"overline",children:"Quality Score"}),t.jsxs(v,{variant:"h4",component:"div",children:[s.qualityMetrics.overallQualityScore.toFixed(1),"/10"]})]})]}),s.newsFund&&t.jsxs(dt,{elevation:0,sx:{p:2,bgcolor:"primary.light",color:"primary.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[t.jsx(qc,{fontSize:"large"}),t.jsxs(D,{children:[t.jsx(v,{variant:"overline",children:"News Fund"}),t.jsx(v,{variant:"h4",component:"div",children:d(s.newsFund.amount)})]})]})]})})]}),t.jsx(bt,{maxWidth:"lg",sx:{mt:4},children:t.jsx(mM,{newsId:s.id,channelId:s.channelId,newsFund:s.newsFund})})]})};var qf={},bM=at;Object.defineProperty(qf,"__esModule",{value:!0});var xc=qf.default=void 0,yM=bM(lt()),vM=t;xc=qf.default=(0,yM.default)((0,vM.jsx)("path",{d:"M9.68 13.69 12 11.93l2.31 1.76-.88-2.85L15.75 9h-2.84L12 6.19 11.09 9H8.25l2.31 1.84zM20 10c0-4.42-3.58-8-8-8s-8 3.58-8 8c0 2.03.76 3.87 2 5.28V23l6-2 6 2v-7.72c1.24-1.41 2-3.25 2-5.28m-8-6c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6 2.69-6 6-6"}),"WorkspacePremium");const jM=({channel:e,hasSubscription:n,subscriptionTier:r,onJoin:s,onCancel:o})=>{var m,x,y,g;const a=It(),c=n,u=r,d=(m=e.tiers)==null?void 0:m.find(w=>w.isDefault),h=()=>{a(ye.APP_CHANNEL_VIEW.replace(":channelId",e.id))},p=w=>{w.stopPropagation(),c?o(e.id):s(e.id,d==null?void 0:d.id)};return t.jsxs(D,{onClick:h,sx:{display:"flex",alignItems:"flex-start",gap:2,p:2,borderRadius:2,cursor:"pointer",transition:"all 0.2s ease-in-out","&:hover":{bgcolor:w=>w.palette.mode==="dark"?Ee(w.palette.common.white,.05):Ee(w.palette.common.black,.03),transform:"translateX(4px)"}},children:[t.jsx(Dn,{src:e.logoUrl,sx:{width:56,height:56,borderRadius:2,bgcolor:"primary.main"}}),t.jsxs(D,{sx:{flex:1},children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:.5},children:[t.jsx(v,{variant:"subtitle1",sx:{fontWeight:600,color:"text.primary"},children:e.name}),c?t.jsx(Ze,{label:u==null?void 0:u.name,color:"primary",onDelete:p,size:"small"}):t.jsx(We,{size:"small",onClick:p,sx:{bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.dark"}},children:t.jsx(xc,{})})]}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:1,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:e.description}),t.jsxs(de,{direction:"row",spacing:2,sx:{color:"text.secondary",fontSize:"0.875rem"},children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(pf,{sx:{fontSize:16}}),(y=(x=e.stats)==null?void 0:x.activeSubscriptionCount)==null?void 0:y.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1})]}),t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(xc,{sx:{fontSize:16}}),((g=e.stats)==null?void 0:g.tierCount)||0," Tiers"]})]})]})]})},[wM,js]=af(),SM=({children:e})=>{const{api:n,isAuthenticated:r}=Je(),{user:s}=Ii(),{execute:o}=et(),[a,c]=b.useState(null),[u,d]=b.useState(!1),h=async()=>{if(!(s!=null&&s.uid))return;d(!0);const m=await o(()=>n.accountApi.getProfile(),{showErrorToast:!1});m&&c(m),d(!1)};b.useEffect(()=>{r&&h()},[s==null?void 0:s.uid,r]);const p={profile:a,isLoading:u,channelRelations:{getSubscription:m=>{var x;return((x=a==null?void 0:a.subscriptions)==null?void 0:x.find(y=>y.channelId===m))??null},getSubscriptions:()=>(a==null?void 0:a.subscriptions)??[],hasSubscription:m=>{var x;return((x=a==null?void 0:a.subscriptions)==null?void 0:x.some(y=>y.channelId===m))??!1},hasChannel:()=>{var m;return((m=a==null?void 0:a.staffChannels)==null?void 0:m.length)&&a.staffChannels.length>0},getSubscriptionTier:m=>{var x,y;return((y=(x=a==null?void 0:a.subscriptions)==null?void 0:x.find(g=>g.channelId===m))==null?void 0:y.tier)??null}},actions:{refreshProfile:h}};return t.jsx(wM.Provider,{value:p,children:e})},CM=()=>{const e=ao(),n=It(),[r,s]=b.useState([]),[o,a]=b.useState(1),[c,u]=b.useState(10),[d,h]=b.useState(!0),[p,m]=b.useState([]),{api:x}=Je(),{actions:y,channelRelations:g}=js(),{execute:w}=et();b.useEffect(()=>{const R=new URLSearchParams(e.search).get("tags");if(R){const N=R.split(",").map(M=>decodeURIComponent(M.trim()));m(N)}},[e.search]);const j=()=>{P(o+1)},P=async(T=o)=>{const R=p.length>0?{tags:p}:{},N=await w(()=>x==null?void 0:x.channelApi.getChannels(R,{page:T,limit:c}),{showErrorToast:!0});N&&(s(T===1?N.items??[]:M=>[...M,...N.items??[]]),a(N.metadata.currentPage??1),u(N.metadata.limit??10),h(N.metadata.hasNext===!0))};b.useEffect(()=>{a(1),P(1)},[p]);const C=async(T,R)=>{var W,B,q,k;if(!R)return;const N=r.find(Y=>Y.id===T),M=(W=N==null?void 0:N.tiers)==null?void 0:W.find(Y=>Y.id===R);if(M)try{const Y=await((B=x==null?void 0:x.subscriptionApi)==null?void 0:B.createDirectSubscription(T,{tierId:R,notificationLevel:1,paymentMethodId:M.price>0?"paypal_default":void 0}));Y!=null&&Y.approvalUrl?window.open(Y.approvalUrl,"paypal_payment","width=600,height=700,scrollbars=yes,resizable=yes")||alert("Popup blocked! Please allow popups and try again."):await y.refreshProfile()}catch(Y){console.error("Subscription failed:",Y);const U=((k=(q=Y==null?void 0:Y.response)==null?void 0:q.data)==null?void 0:k.message)||(Y==null?void 0:Y.message)||"";(U.includes("PAYMENT_METHOD_REQUIRED")||U.includes("PayPal payment method")||U.includes("No PayPal payment method found"))&&window.confirm("You need to add a PayPal payment method to subscribe to paid tiers. Would you like to add one now?")&&n("/app/account/payment-methods")}},A=async T=>{await w(()=>x==null?void 0:x.channelApi.unsubscribeFromChannel(T),{showSuccessMessage:!0,successMessage:"Membership cancelled successfully!"})&&await y.refreshProfile()},E=T=>{m(T);const R=new URLSearchParams(e.search);T.length>0?R.set("tags",T.map(M=>encodeURIComponent(M)).join(",")):R.delete("tags");const N=`${e.pathname}?${R.toString()}`;n(N,{replace:!0})};return t.jsxs(bt,{maxWidth:"lg",sx:{py:4},children:[t.jsxs(D,{sx:{mb:4},children:[t.jsx(v,{variant:"h4",gutterBottom:!0,children:"Discover Channels"}),t.jsx(v,{variant:"body1",color:"text.secondary",children:"Find and subscribe to channels from your favorite journalists"})]}),t.jsx(D,{sx:{mb:4},children:t.jsx(Bf,{selectedTags:p,onTagsChange:E,contentType:"channels",maxTags:3,showCounts:!1})}),t.jsx(No,{dataLength:r.length,next:j,hasMore:d,loader:t.jsx(de,{spacing:2,sx:{mt:2},children:[...Array(2)].map((T,R)=>t.jsxs(D,{sx:{display:"flex",gap:2,p:2,borderRadius:2,bgcolor:N=>N.palette.mode==="dark"?Ee(N.palette.common.white,.05):Ee(N.palette.common.black,.03)},children:[t.jsx(D,{sx:{width:56,height:56,borderRadius:2,bgcolor:N=>N.palette.mode==="dark"?Ee(N.palette.common.white,.1):Ee(N.palette.common.black,.1)}}),t.jsxs(D,{sx:{flex:1},children:[t.jsx(D,{sx:{height:24,width:"40%",mb:1,borderRadius:.5,bgcolor:"grey.300"}}),t.jsx(D,{sx:{height:16,width:"80%",mb:1,borderRadius:.5,bgcolor:"grey.200"}}),t.jsx(D,{sx:{height:16,width:"30%",borderRadius:.5,bgcolor:"grey.200"}})]})]},R))}),endMessage:t.jsx(D,{sx:{textAlign:"center",mt:4,color:"text.secondary",fontSize:"0.875rem"},children:"No more channels to display"}),children:t.jsx(de,{spacing:1,children:r.map(T=>t.jsx(jM,{channel:T,hasSubscription:g.hasSubscription(T.id),subscriptionTier:g.getSubscriptionTier(T.id),onJoin:C,onCancel:A},T.id))})})]})},Zc=({children:e,isHighlighted:n=!1,contentPadding:r=3,noHover:s=!1,contentSx:o,sx:a,...c})=>t.jsx(Oe,{elevation:n?2:0,sx:{height:"100%",position:"relative",borderRadius:2,border:"1px solid",borderColor:u=>n?"primary.main":u.palette.mode==="dark"?Ee(u.palette.common.white,.1):Ee(u.palette.common.black,.08),bgcolor:u=>n?Ee(u.palette.primary.main,u.palette.mode==="dark"?.1:.05):"background.paper",transition:"all 0.2s ease-in-out",...!s&&{"&:hover":{borderColor:"primary.main",transform:"translateY(-2px)"}},...a},...c,children:t.jsx($e,{sx:{p:r,"&:last-child":{pb:r},...o},children:e})}),PM=()=>{var M,W,B,q,k;const[e,n]=b.useState(null),[r,s]=b.useState(!0),[o,a]=b.useState(!1),[c,u]=b.useState(null),[d,h]=b.useState("ready"),{id:p}=qr(),m=It(),{api:x}=Je(),{profile:y,channelRelations:{hasSubscription:g,getSubscriptionTier:w},actions:{refreshProfile:j}}=js(),{execute:P}=et(),C=g(p??""),A=(M=w(p??""))==null?void 0:M.id,E=b.useCallback(async Y=>{var U,H;try{return await((H=(U=x==null?void 0:x.subscriptionApi)==null?void 0:U.getSubscriptionStatus)==null?void 0:H.call(U,Y))==="active"?(u(null),await j(),!0):!1}catch(X){return console.error("Error polling subscription status:",X),!1}},[x,j]);b.useEffect(()=>{const Y=U=>{if(!(!U.origin.includes("paypal.com")&&!U.origin.includes("sandbox.paypal.com"))&&U.data.type==="payment_approval")if(U.data.status==="approved"&&c){const H=setInterval(async()=>{await E(c.subscriptionId)&&clearInterval(H)},2e3);setTimeout(()=>{clearInterval(H),u(null)},6e4)}else U.data.status==="cancelled"&&(u(null),a(!1))};return window.addEventListener("message",Y),()=>window.removeEventListener("message",Y)},[c,E]),console.log("ViewChannel Debug:",{channelId:p,isMember:C,currentTierId:A,subscriptions:y==null?void 0:y.subscriptions,profileLoaded:!!y,pendingSubscription:c,planStatus:d}),b.useEffect(()=>{(async()=>{if(!p)return;const U=await P(()=>x==null?void 0:x.channelApi.getChannel(p),{showErrorToast:!0});U&&n(U),s(!1)})()},[p,P,x==null?void 0:x.channelApi]);const T=async Y=>{var H,X,se,ne;if(!e||!Y)return;const U=(H=e.tiers)==null?void 0:H.find(ee=>ee.id===Y);if(U){a(!0),h("checking");try{U.price>0&&h("creating");const ee=await((X=x==null?void 0:x.subscriptionApi)==null?void 0:X.createDirectSubscription(e.id,{tierId:Y,notificationLevel:1,paymentMethodId:U.price>0?"paypal_default":void 0}));if(h("ready"),ee!=null&&ee.approvalUrl&&(ee!=null&&ee.subscription)){u({subscriptionId:ee.subscription.id,approvalUrl:ee.approvalUrl,tierName:U.name,tierId:U.id});const G=window.open(ee.approvalUrl,"paypal_payment","width=600,height=700,scrollbars=yes,resizable=yes");if(!G){alert("Popup blocked! Please allow popups and try again."),u(null),a(!1);return}const re=setInterval(()=>{G.closed&&(clearInterval(re),setTimeout(async()=>{await E(ee.subscription.id)||(u(null),a(!1))},3e3))},1e3)}else await j(),a(!1)}catch(ee){console.error("Subscription failed:",ee),h("ready"),a(!1);const G=((ne=(se=ee==null?void 0:ee.response)==null?void 0:se.data)==null?void 0:ne.message)||(ee==null?void 0:ee.message)||"";(G.includes("PAYMENT_METHOD_REQUIRED")||G.includes("PayPal payment method")||G.includes("No PayPal payment method found"))&&window.confirm("You need to add a PayPal payment method to subscribe to paid tiers. Would you like to add one now?")&&m("/app/account/payment-methods")}}},R=async Y=>{var X,se,ne;if(!e||!((X=e.tiers)==null?void 0:X.find(ee=>ee.id===Y)))return;const H=(se=y==null?void 0:y.subscriptions)==null?void 0:se.find(ee=>ee.channelId===e.id);if(H)try{await((ne=x==null?void 0:x.subscriptionApi)==null?void 0:ne.cancelUserSubscription(H.id))}catch(ee){console.error("Failed to cancel existing subscription:",ee)}await T(Y)},N=async()=>{if(!e)return;await P(()=>x==null?void 0:x.channelApi.unsubscribeFromChannel(e.id),{showSuccessMessage:!0,successMessage:"Membership cancelled successfully!"})&&(console.log("Cancellation successful, refreshing profile..."),await j())};return r?t.jsxs(bt,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs(D,{sx:{textAlign:"center",mb:4},children:[t.jsx(ce,{variant:"circular",width:100,height:100,sx:{mx:"auto",mb:2}}),t.jsx(ce,{variant:"text",width:"60%",sx:{mx:"auto",mb:1}}),t.jsx(ce,{variant:"text",width:"40%",sx:{mx:"auto",mb:2}}),t.jsx(ce,{variant:"rectangular",width:120,height:36,sx:{mx:"auto"}})]}),t.jsx($,{container:!0,spacing:3,children:[...Array(3)].map((Y,U)=>t.jsx($,{item:!0,xs:12,md:4,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsx(ce,{variant:"text",width:"80%"}),t.jsx(ce,{variant:"text",width:"60%"}),t.jsx(ce,{variant:"rectangular",height:100,sx:{my:2}}),t.jsx(ce,{variant:"rectangular",width:100,height:36})]})})},U))})]}):e?t.jsxs(bt,{maxWidth:"lg",sx:{mt:4},children:[t.jsx(D,{sx:{position:"relative",mb:4,borderRadius:2,overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:200,backgroundImage:`url(${(e==null?void 0:e.bannerUrl)||"https://via.placeholder.com/600x400"})`,backgroundSize:"cover",backgroundPosition:"center",filter:"brightness(0.9)",borderRadius:2}},children:t.jsxs(D,{sx:{position:"relative",pt:15,pb:4,textAlign:"center"},children:[t.jsx(Dn,{src:e.logoUrl,sx:{width:100,height:100,mx:"auto",mb:2,border:"3px solid white",boxShadow:2}}),t.jsx(v,{variant:"h4",gutterBottom:!0,children:e.name}),t.jsxs(v,{variant:"subtitle1",color:"text.secondary",gutterBottom:!0,children:[(B=(W=e.stats)==null?void 0:W.activeSubscriptionCount)==null?void 0:B.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1})," subscribers • ",((q=e.tiers)==null?void 0:q.length)||0," tiers"]}),t.jsx(v,{variant:"body1",sx:{mb:3},children:e.description}),t.jsx(de,{direction:"row",spacing:2,justifyContent:"center",sx:{mb:4},children:t.jsx(pe,{variant:C?"outlined":"contained",onClick:()=>{var Y,U;return C?N():T((U=(Y=e==null?void 0:e.tiers)==null?void 0:Y.find(H=>H.isDefault))==null?void 0:U.id)},disabled:o,startIcon:o&&t.jsx(zn,{size:20,color:"inherit"}),children:o?"Processing...":C?"Cancel Membership":"Join Channel"})}),d==="creating"&&t.jsx(it,{severity:"info",sx:{mt:2},children:t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(zn,{size:16}),t.jsx(v,{variant:"body2",children:"Setting up PayPal subscription plan..."})]})}),c&&t.jsx(it,{severity:"warning",sx:{mt:2},action:t.jsx(pe,{size:"small",onClick:()=>window.open(c.approvalUrl,"_blank"),children:"Complete Payment"}),children:t.jsxs(D,{children:[t.jsx(v,{variant:"body2",sx:{fontWeight:600},children:"🔄 Subscription Pending Approval"}),t.jsxs(v,{variant:"caption",sx:{display:"block",mt:.5},children:[c.tierName," - Waiting for PayPal approval"]}),t.jsx(_o,{sx:{mt:1,borderRadius:1},color:"warning"})]})}),!1,t.jsx(rn,{sx:{mb:4}})]})}),t.jsx(v,{variant:"h5",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Membership Tiers"}),t.jsx($,{container:!0,spacing:3,children:(k=e.tiers)==null?void 0:k.map(Y=>t.jsx($,{item:!0,xs:12,md:4,children:t.jsxs(Zc,{isHighlighted:A===Y.id,children:[t.jsxs(D,{sx:{mb:3},children:[t.jsx(v,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,fontSize:"1rem",color:A===Y.id?"primary.main":"text.primary"},children:Y.name}),t.jsxs(v,{variant:"h4",sx:{fontWeight:700,fontSize:"2rem",color:A===Y.id?"primary.main":"text.primary",display:"flex",alignItems:"baseline",gap:.5},children:["$",Y.price,t.jsx(v,{component:"span",sx:{fontSize:"0.875rem",fontWeight:400,color:"text.secondary"},children:"/month"})]})]}),t.jsx(v,{variant:"body2",sx:{mb:3,color:"text.secondary",minHeight:60},children:Y.description}),t.jsx(pe,{variant:A===Y.id?"outlined":"contained",fullWidth:!0,onClick:()=>C?R(Y.id):T(Y.id),disabled:A===Y.id||o,sx:{py:1.5,textTransform:"none",fontWeight:600},startIcon:o&&t.jsx(zn,{size:20,color:"inherit"}),children:o?"Processing...":A===Y.id?"Current Plan":C?"Switch to This Plan":"Join"})]})},Y.id))})]}):t.jsx(bt,{maxWidth:"lg",sx:{mt:4},children:t.jsx(v,{variant:"h5",align:"center",children:"Channel not found"})})},Av=6048e5,DM=864e5,Rv=6e4,_v=36e5,TM=1e3,Nl=43200,ob=1440,ib=Symbol.for("constructDateFrom");function Zt(e,n){return typeof e=="function"?e(n):e&&typeof e=="object"&&ib in e?e[ib](n):e instanceof Date?new e.constructor(n):new Date(n)}function qe(e,n){return Zt(n||e,e)}function eu(e,n,r){const s=qe(e,r==null?void 0:r.in);return isNaN(n)?Zt((r==null?void 0:r.in)||e,NaN):(n&&s.setDate(s.getDate()+n),s)}function Ov(e,n,r){const s=qe(e,r==null?void 0:r.in);if(isNaN(n))return Zt(e,NaN);if(!n)return s;const o=s.getDate(),a=Zt(e,s.getTime());a.setMonth(s.getMonth()+n+1,0);const c=a.getDate();return o>=c?a:(s.setFullYear(a.getFullYear(),a.getMonth(),o),s)}function Mv(e,n,r){return Zt(e,+qe(e)+n)}function IM(e,n,r){return Mv(e,n*_v)}let EM={};function co(){return EM}function Ms(e,n){var u,d,h,p;const r=co(),s=(n==null?void 0:n.weekStartsOn)??((d=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,o=qe(e,n==null?void 0:n.in),a=o.getDay(),c=(a<s?7:0)+a-s;return o.setDate(o.getDate()-c),o.setHours(0,0,0,0),o}function xi(e,n){return Ms(e,{...n,weekStartsOn:1})}function kv(e,n){const r=qe(e,n==null?void 0:n.in),s=r.getFullYear(),o=Zt(r,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const a=xi(o),c=Zt(r,0);c.setFullYear(s,0,4),c.setHours(0,0,0,0);const u=xi(c);return r.getTime()>=a.getTime()?s+1:r.getTime()>=u.getTime()?s:s-1}function gi(e){const n=qe(e),r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return r.setUTCFullYear(n.getFullYear()),+e-+r}function uo(e,...n){const r=Zt.bind(null,e||n.find(s=>typeof s=="object"));return n.map(r)}function ja(e,n){const r=qe(e,n==null?void 0:n.in);return r.setHours(0,0,0,0),r}function AM(e,n,r){const[s,o]=uo(r==null?void 0:r.in,e,n),a=ja(s),c=ja(o),u=+a-gi(a),d=+c-gi(c);return Math.round((u-d)/DM)}function RM(e,n){const r=kv(e,n),s=Zt(e,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),xi(s)}function _M(e,n,r){const s=qe(e,r==null?void 0:r.in);return s.setTime(s.getTime()+n*Rv),s}function OM(e,n,r){return Mv(e,n*1e3)}function MM(e,n,r){return eu(e,n*7,r)}function kM(e,n,r){return Ov(e,n*12,r)}function Gl(e,n){const r=+qe(e)-+qe(n);return r<0?-1:r>0?1:r}function NM(e){return Zt(e,Date.now())}function LM(e,n,r){const[s,o]=uo(r==null?void 0:r.in,e,n);return+ja(s)==+ja(o)}function $M(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Nv(e){return!(!$M(e)&&typeof e!="number"||isNaN(+qe(e)))}function FM(e,n,r){const[s,o]=uo(r==null?void 0:r.in,e,n),a=s.getFullYear()-o.getFullYear(),c=s.getMonth()-o.getMonth();return a*12+c}function WM(e){return n=>{const s=(e?Math[e]:Math.trunc)(n);return s===0?0:s}}function BM(e,n){return+qe(e)-+qe(n)}function Sh(e,n){const r=qe(e,n==null?void 0:n.in);return r.setHours(23,59,59,999),r}function Lv(e,n){const r=qe(e,n==null?void 0:n.in),s=r.getMonth();return r.setFullYear(r.getFullYear(),s+1,0),r.setHours(23,59,59,999),r}function VM(e,n){const r=qe(e,n==null?void 0:n.in);return+Sh(r,n)==+Lv(r,n)}function UM(e,n,r){const[s,o,a]=uo(r==null?void 0:r.in,e,e,n),c=Gl(o,a),u=Math.abs(FM(o,a));if(u<1)return 0;o.getMonth()===1&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-c*u);let d=Gl(o,a)===-c;VM(s)&&u===1&&Gl(s,a)===1&&(d=!1);const h=c*(u-+d);return h===0?0:h}function zM(e,n,r){const s=BM(e,n)/1e3;return WM(r==null?void 0:r.roundingMethod)(s)}function HM(e,n){const r=qe(e,n==null?void 0:n.in);return r.setDate(1),r.setHours(0,0,0,0),r}function ab(e,n){const r=qe(e,n==null?void 0:n.in),s=r.getFullYear();return r.setFullYear(s+1,0,0),r.setHours(23,59,59,999),r}function $v(e,n){const r=qe(e,n==null?void 0:n.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function GM(e,n){var u,d,h,p;const r=co(),s=(n==null?void 0:n.weekStartsOn)??((d=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,o=qe(e,n==null?void 0:n.in),a=o.getDay(),c=(a<s?-7:0)+6-(a-s);return o.setDate(o.getDate()+c),o.setHours(23,59,59,999),o}const YM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qM=(e,n,r)=>{let s;const o=YM[e];return typeof o=="string"?s=o:n===1?s=o.one:s=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function zd(e){return(n={})=>{const r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const KM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},JM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},XM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QM={date:zd({formats:KM,defaultWidth:"full"}),time:zd({formats:JM,defaultWidth:"full"}),dateTime:zd({formats:XM,defaultWidth:"full"})},ZM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ek=(e,n,r,s)=>ZM[e];function Zi(e){return(n,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let o;if(s==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,u=r!=null&&r.width?String(r.width):c;o=e.formattingValues[u]||e.formattingValues[c]}else{const c=e.defaultWidth,u=r!=null&&r.width?String(r.width):e.defaultWidth;o=e.values[u]||e.values[c]}const a=e.argumentCallback?e.argumentCallback(n):n;return o[a]}}const tk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ok={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ik={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ak=(e,n)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},lk={ordinalNumber:ak,era:Zi({values:tk,defaultWidth:"wide"}),quarter:Zi({values:nk,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Zi({values:rk,defaultWidth:"wide"}),day:Zi({values:sk,defaultWidth:"wide"}),dayPeriod:Zi({values:ok,defaultWidth:"wide",formattingValues:ik,defaultFormattingWidth:"wide"})};function ea(e){return(n,r={})=>{const s=r.width,o=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],a=n.match(o);if(!a)return null;const c=a[0],u=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?uk(u,m=>m.test(c)):ck(u,m=>m.test(c));let h;h=e.valueCallback?e.valueCallback(d):d,h=r.valueCallback?r.valueCallback(h):h;const p=n.slice(c.length);return{value:h,rest:p}}}function ck(e,n){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n(e[r]))return r}function uk(e,n){for(let r=0;r<e.length;r++)if(n(e[r]))return r}function dk(e){return(n,r={})=>{const s=n.match(e.matchPattern);if(!s)return null;const o=s[0],a=n.match(e.parsePattern);if(!a)return null;let c=e.valueCallback?e.valueCallback(a[0]):a[0];c=r.valueCallback?r.valueCallback(c):c;const u=n.slice(o.length);return{value:c,rest:u}}}const hk=/^(\d+)(th|st|nd|rd)?/i,fk=/\d+/i,pk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mk={any:[/^b/i,/^(a|c)/i]},xk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gk={any:[/1/i,/2/i,/3/i,/4/i]},bk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Sk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ck={ordinalNumber:dk({matchPattern:hk,parsePattern:fk,valueCallback:e=>parseInt(e,10)}),era:ea({matchPatterns:pk,defaultMatchWidth:"wide",parsePatterns:mk,defaultParseWidth:"any"}),quarter:ea({matchPatterns:xk,defaultMatchWidth:"wide",parsePatterns:gk,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ea({matchPatterns:bk,defaultMatchWidth:"wide",parsePatterns:yk,defaultParseWidth:"any"}),day:ea({matchPatterns:vk,defaultMatchWidth:"wide",parsePatterns:jk,defaultParseWidth:"any"}),dayPeriod:ea({matchPatterns:wk,defaultMatchWidth:"any",parsePatterns:Sk,defaultParseWidth:"any"})},tu={code:"en-US",formatDistance:qM,formatLong:QM,formatRelative:ek,localize:lk,match:Ck,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Pk(e,n){const r=qe(e,n==null?void 0:n.in);return AM(r,$v(r))+1}function Fv(e,n){const r=qe(e,n==null?void 0:n.in),s=+xi(r)-+RM(r);return Math.round(s/Av)+1}function Kf(e,n){var p,m,x,y;const r=qe(e,n==null?void 0:n.in),s=r.getFullYear(),o=co(),a=(n==null?void 0:n.firstWeekContainsDate)??((m=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??o.firstWeekContainsDate??((y=(x=o.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??1,c=Zt((n==null?void 0:n.in)||e,0);c.setFullYear(s+1,0,a),c.setHours(0,0,0,0);const u=Ms(c,n),d=Zt((n==null?void 0:n.in)||e,0);d.setFullYear(s,0,a),d.setHours(0,0,0,0);const h=Ms(d,n);return+r>=+u?s+1:+r>=+h?s:s-1}function Dk(e,n){var u,d,h,p;const r=co(),s=(n==null?void 0:n.firstWeekContainsDate)??((d=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Kf(e,n),a=Zt((n==null?void 0:n.in)||e,0);return a.setFullYear(o,0,s),a.setHours(0,0,0,0),Ms(a,n)}function Jf(e,n){const r=qe(e,n==null?void 0:n.in),s=+Ms(r,n)-+Dk(r,n);return Math.round(s/Av)+1}function Vt(e,n){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(n,"0");return r+s}const Ys={y(e,n){const r=e.getFullYear(),s=r>0?r:1-r;return Vt(n==="yy"?s%100:s,n.length)},M(e,n){const r=e.getMonth();return n==="M"?String(r+1):Vt(r+1,2)},d(e,n){return Vt(e.getDate(),n.length)},a(e,n){const r=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,n){return Vt(e.getHours()%12||12,n.length)},H(e,n){return Vt(e.getHours(),n.length)},m(e,n){return Vt(e.getMinutes(),n.length)},s(e,n){return Vt(e.getSeconds(),n.length)},S(e,n){const r=n.length,s=e.getMilliseconds(),o=Math.trunc(s*Math.pow(10,r-3));return Vt(o,n.length)}},ri={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lb={G:function(e,n,r){const s=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){const s=e.getFullYear(),o=s>0?s:1-s;return r.ordinalNumber(o,{unit:"year"})}return Ys.y(e,n)},Y:function(e,n,r,s){const o=Kf(e,s),a=o>0?o:1-o;if(n==="YY"){const c=a%100;return Vt(c,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):Vt(a,n.length)},R:function(e,n){const r=kv(e);return Vt(r,n.length)},u:function(e,n){const r=e.getFullYear();return Vt(r,n.length)},Q:function(e,n,r){const s=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return Vt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){const s=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return Vt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){const s=e.getMonth();switch(n){case"M":case"MM":return Ys.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){const s=e.getMonth();switch(n){case"L":return String(s+1);case"LL":return Vt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){const o=Jf(e,s);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):Vt(o,n.length)},I:function(e,n,r){const s=Fv(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):Vt(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ys.d(e,n)},D:function(e,n,r){const s=Pk(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Vt(s,n.length)},E:function(e,n,r){const s=e.getDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){const o=e.getDay(),a=(o-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return Vt(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){const o=e.getDay(),a=(o-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return Vt(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){const s=e.getDay(),o=s===0?7:s;switch(n){case"i":return String(o);case"ii":return Vt(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){const o=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){const s=e.getHours();let o;switch(s===12?o=ri.noon:s===0?o=ri.midnight:o=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){const s=e.getHours();let o;switch(s>=17?o=ri.evening:s>=12?o=ri.afternoon:s>=4?o=ri.morning:o=ri.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Ys.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ys.H(e,n)},K:function(e,n,r){const s=e.getHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Vt(s,n.length)},k:function(e,n,r){let s=e.getHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):Vt(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ys.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ys.s(e,n)},S:function(e,n){return Ys.S(e,n)},X:function(e,n,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return ub(s);case"XXXX":case"XX":return Io(s);case"XXXXX":case"XXX":default:return Io(s,":")}},x:function(e,n,r){const s=e.getTimezoneOffset();switch(n){case"x":return ub(s);case"xxxx":case"xx":return Io(s);case"xxxxx":case"xxx":default:return Io(s,":")}},O:function(e,n,r){const s=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+cb(s,":");case"OOOO":default:return"GMT"+Io(s,":")}},z:function(e,n,r){const s=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+cb(s,":");case"zzzz":default:return"GMT"+Io(s,":")}},t:function(e,n,r){const s=Math.trunc(+e/1e3);return Vt(s,n.length)},T:function(e,n,r){return Vt(+e,n.length)}};function cb(e,n=""){const r=e>0?"-":"+",s=Math.abs(e),o=Math.trunc(s/60),a=s%60;return a===0?r+String(o):r+String(o)+n+Vt(a,2)}function ub(e,n){return e%60===0?(e>0?"-":"+")+Vt(Math.abs(e)/60,2):Io(e,n)}function Io(e,n=""){const r=e>0?"-":"+",s=Math.abs(e),o=Vt(Math.trunc(s/60),2),a=Vt(s%60,2);return r+o+n+a}const db=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Wv=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Tk=(e,n)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],o=r[2];if(!o)return db(e,n);let a;switch(s){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",db(s,n)).replace("{{time}}",Wv(o,n))},gc={p:Wv,P:Tk},Ik=/^D+$/,Ek=/^Y+$/,Ak=["D","DD","YY","YYYY"];function Bv(e){return Ik.test(e)}function Vv(e){return Ek.test(e)}function Ch(e,n,r){const s=Rk(e,n,r);if(console.warn(s),Ak.includes(e))throw new RangeError(s)}function Rk(e,n,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const _k=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ok=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Mk=/^'([^]*?)'?$/,kk=/''/g,Nk=/[a-zA-Z]/;function Xf(e,n,r){var p,m,x,y,g,w,j,P;const s=co(),o=(r==null?void 0:r.locale)??s.locale??tu,a=(r==null?void 0:r.firstWeekContainsDate)??((m=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(x=s.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??1,c=(r==null?void 0:r.weekStartsOn)??((w=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:w.weekStartsOn)??s.weekStartsOn??((P=(j=s.locale)==null?void 0:j.options)==null?void 0:P.weekStartsOn)??0,u=qe(e,r==null?void 0:r.in);if(!Nv(u))throw new RangeError("Invalid time value");let d=n.match(Ok).map(C=>{const A=C[0];if(A==="p"||A==="P"){const E=gc[A];return E(C,o.formatLong)}return C}).join("").match(_k).map(C=>{if(C==="''")return{isToken:!1,value:"'"};const A=C[0];if(A==="'")return{isToken:!1,value:Lk(C)};if(lb[A])return{isToken:!0,value:C};if(A.match(Nk))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return{isToken:!1,value:C}});o.localize.preprocessor&&(d=o.localize.preprocessor(u,d));const h={firstWeekContainsDate:a,weekStartsOn:c,locale:o};return d.map(C=>{if(!C.isToken)return C.value;const A=C.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Vv(A)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Bv(A))&&Ch(A,n,String(e));const E=lb[A[0]];return E(u,A,o.localize,h)}).join("")}function Lk(e){const n=e.match(Mk);return n?n[1].replace(kk,"'"):e}function $k(e,n,r){const s=co(),o=(r==null?void 0:r.locale)??s.locale??tu,a=2520,c=Gl(e,n);if(isNaN(c))throw new RangeError("Invalid time value");const u=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:c}),[d,h]=uo(r==null?void 0:r.in,...c>0?[n,e]:[e,n]),p=zM(h,d),m=(gi(h)-gi(d))/1e3,x=Math.round((p-m)/60);let y;if(x<2)return r!=null&&r.includeSeconds?p<5?o.formatDistance("lessThanXSeconds",5,u):p<10?o.formatDistance("lessThanXSeconds",10,u):p<20?o.formatDistance("lessThanXSeconds",20,u):p<40?o.formatDistance("halfAMinute",0,u):p<60?o.formatDistance("lessThanXMinutes",1,u):o.formatDistance("xMinutes",1,u):x===0?o.formatDistance("lessThanXMinutes",1,u):o.formatDistance("xMinutes",x,u);if(x<45)return o.formatDistance("xMinutes",x,u);if(x<90)return o.formatDistance("aboutXHours",1,u);if(x<ob){const g=Math.round(x/60);return o.formatDistance("aboutXHours",g,u)}else{if(x<a)return o.formatDistance("xDays",1,u);if(x<Nl){const g=Math.round(x/ob);return o.formatDistance("xDays",g,u)}else if(x<Nl*2)return y=Math.round(x/Nl),o.formatDistance("aboutXMonths",y,u)}if(y=UM(h,d),y<12){const g=Math.round(x/Nl);return o.formatDistance("xMonths",g,u)}else{const g=y%12,w=Math.trunc(y/12);return g<3?o.formatDistance("aboutXYears",w,u):g<9?o.formatDistance("overXYears",w,u):o.formatDistance("almostXYears",w+1,u)}}function ss(e,n){return $k(e,NM(e),n)}function Fk(e,n){return qe(e,n==null?void 0:n.in).getDate()}function Uv(e,n){const r=qe(e,n==null?void 0:n.in),s=r.getFullYear(),o=r.getMonth(),a=Zt(r,0);return a.setFullYear(s,o+1,0),a.setHours(0,0,0,0),a.getDate()}function Wk(){return Object.assign({},co())}function Bk(e,n){return qe(e,n==null?void 0:n.in).getHours()}function Vk(e,n){const r=qe(e,n==null?void 0:n.in).getDay();return r===0?7:r}function Uk(e){return qe(e).getMilliseconds()}function zk(e,n){return qe(e,n==null?void 0:n.in).getMinutes()}function Hk(e,n){return qe(e,n==null?void 0:n.in).getMonth()}function Gk(e){return qe(e).getSeconds()}function Yk(e,n){return qe(e,n==null?void 0:n.in).getFullYear()}function Hd(e,n){return+qe(e)>+qe(n)}function Gd(e,n){return+qe(e)<+qe(n)}function qk(e,n){return+qe(e)==+qe(n)}function Kk(e,n){const r=Jk(n)?new n(0):Zt(n,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function Jk(e){var n;return typeof e=="function"&&((n=e.prototype)==null?void 0:n.constructor)===e}const Xk=10;class zv{constructor(){Te(this,"subPriority",0)}validate(n,r){return!0}}class Qk extends zv{constructor(n,r,s,o,a){super(),this.value=n,this.validateValue=r,this.setValue=s,this.priority=o,a&&(this.subPriority=a)}validate(n,r){return this.validateValue(n,this.value,r)}set(n,r,s){return this.setValue(n,r,this.value,s)}}class Zk extends zv{constructor(r,s){super();Te(this,"priority",Xk);Te(this,"subPriority",-1);this.context=r||(o=>Zt(s,o))}set(r,s){return s.timestampIsSet?r:Zt(r,Kk(r,this.context))}}class Nt{run(n,r,s,o){const a=this.parse(n,r,s,o);return a?{setter:new Qk(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(n,r,s){return!0}}class eN extends Nt{constructor(){super(...arguments);Te(this,"priority",140);Te(this,"incompatibleTokens",["R","u","t","T"])}parse(r,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"});case"GGGGG":return o.era(r,{width:"narrow"});case"GGGG":default:return o.era(r,{width:"wide"})||o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"})}}set(r,s,o){return s.era=o,r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}const jn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ps={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function wn(e,n){return e&&{value:n(e.value),rest:e.rest}}function hn(e,n){const r=n.match(e);return r?{value:parseInt(r[0],10),rest:n.slice(r[0].length)}:null}function ms(e,n){const r=n.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:n.slice(1)};const s=r[1]==="+"?1:-1,o=r[2]?parseInt(r[2],10):0,a=r[3]?parseInt(r[3],10):0,c=r[5]?parseInt(r[5],10):0;return{value:s*(o*_v+a*Rv+c*TM),rest:n.slice(r[0].length)}}function Hv(e){return hn(jn.anyDigitsSigned,e)}function bn(e,n){switch(e){case 1:return hn(jn.singleDigit,n);case 2:return hn(jn.twoDigits,n);case 3:return hn(jn.threeDigits,n);case 4:return hn(jn.fourDigits,n);default:return hn(new RegExp("^\\d{1,"+e+"}"),n)}}function bc(e,n){switch(e){case 1:return hn(jn.singleDigitSigned,n);case 2:return hn(jn.twoDigitsSigned,n);case 3:return hn(jn.threeDigitsSigned,n);case 4:return hn(jn.fourDigitsSigned,n);default:return hn(new RegExp("^-?\\d{1,"+e+"}"),n)}}function Qf(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Gv(e,n){const r=n>0,s=r?n:1-n;let o;if(s<=50)o=e||100;else{const a=s+50,c=Math.trunc(a/100)*100,u=e>=a%100;o=e+c-(u?100:0)}return r?o:1-o}function Yv(e){return e%400===0||e%4===0&&e%100!==0}class tN extends Nt{constructor(){super(...arguments);Te(this,"priority",130);Te(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,s,o){const a=c=>({year:c,isTwoDigitYear:s==="yy"});switch(s){case"y":return wn(bn(4,r),a);case"yo":return wn(o.ordinalNumber(r,{unit:"year"}),a);default:return wn(bn(s.length,r),a)}}validate(r,s){return s.isTwoDigitYear||s.year>0}set(r,s,o){const a=r.getFullYear();if(o.isTwoDigitYear){const u=Gv(o.year,a);return r.setFullYear(u,0,1),r.setHours(0,0,0,0),r}const c=!("era"in s)||s.era===1?o.year:1-o.year;return r.setFullYear(c,0,1),r.setHours(0,0,0,0),r}}class nN extends Nt{constructor(){super(...arguments);Te(this,"priority",130);Te(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,s,o){const a=c=>({year:c,isTwoDigitYear:s==="YY"});switch(s){case"Y":return wn(bn(4,r),a);case"Yo":return wn(o.ordinalNumber(r,{unit:"year"}),a);default:return wn(bn(s.length,r),a)}}validate(r,s){return s.isTwoDigitYear||s.year>0}set(r,s,o,a){const c=Kf(r,a);if(o.isTwoDigitYear){const d=Gv(o.year,c);return r.setFullYear(d,0,a.firstWeekContainsDate),r.setHours(0,0,0,0),Ms(r,a)}const u=!("era"in s)||s.era===1?o.year:1-o.year;return r.setFullYear(u,0,a.firstWeekContainsDate),r.setHours(0,0,0,0),Ms(r,a)}}class rN extends Nt{constructor(){super(...arguments);Te(this,"priority",130);Te(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,s){return bc(s==="R"?4:s.length,r)}set(r,s,o){const a=Zt(r,0);return a.setFullYear(o,0,4),a.setHours(0,0,0,0),xi(a)}}class sN extends Nt{constructor(){super(...arguments);Te(this,"priority",130);Te(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,s){return bc(s==="u"?4:s.length,r)}set(r,s,o){return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class oN extends Nt{constructor(){super(...arguments);Te(this,"priority",120);Te(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,s,o){switch(s){case"Q":case"QQ":return bn(s.length,r);case"Qo":return o.ordinalNumber(r,{unit:"quarter"});case"QQQ":return o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(r,{width:"wide",context:"formatting"})||o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=1&&s<=4}set(r,s,o){return r.setMonth((o-1)*3,1),r.setHours(0,0,0,0),r}}class iN extends Nt{constructor(){super(...arguments);Te(this,"priority",120);Te(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,s,o){switch(s){case"q":case"qq":return bn(s.length,r);case"qo":return o.ordinalNumber(r,{unit:"quarter"});case"qqq":return o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(r,{width:"wide",context:"standalone"})||o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=1&&s<=4}set(r,s,o){return r.setMonth((o-1)*3,1),r.setHours(0,0,0,0),r}}class aN extends Nt{constructor(){super(...arguments);Te(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Te(this,"priority",110)}parse(r,s,o){const a=c=>c-1;switch(s){case"M":return wn(hn(jn.month,r),a);case"MM":return wn(bn(2,r),a);case"Mo":return wn(o.ordinalNumber(r,{unit:"month"}),a);case"MMM":return o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(r,{width:"wide",context:"formatting"})||o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=11}set(r,s,o){return r.setMonth(o,1),r.setHours(0,0,0,0),r}}class lN extends Nt{constructor(){super(...arguments);Te(this,"priority",110);Te(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,s,o){const a=c=>c-1;switch(s){case"L":return wn(hn(jn.month,r),a);case"LL":return wn(bn(2,r),a);case"Lo":return wn(o.ordinalNumber(r,{unit:"month"}),a);case"LLL":return o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(r,{width:"wide",context:"standalone"})||o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=0&&s<=11}set(r,s,o){return r.setMonth(o,1),r.setHours(0,0,0,0),r}}function cN(e,n,r){const s=qe(e,r==null?void 0:r.in),o=Jf(s,r)-n;return s.setDate(s.getDate()-o*7),qe(s,r==null?void 0:r.in)}class uN extends Nt{constructor(){super(...arguments);Te(this,"priority",100);Te(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,s,o){switch(s){case"w":return hn(jn.week,r);case"wo":return o.ordinalNumber(r,{unit:"week"});default:return bn(s.length,r)}}validate(r,s){return s>=1&&s<=53}set(r,s,o,a){return Ms(cN(r,o,a),a)}}function dN(e,n,r){const s=qe(e,r==null?void 0:r.in),o=Fv(s,r)-n;return s.setDate(s.getDate()-o*7),s}class hN extends Nt{constructor(){super(...arguments);Te(this,"priority",100);Te(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,s,o){switch(s){case"I":return hn(jn.week,r);case"Io":return o.ordinalNumber(r,{unit:"week"});default:return bn(s.length,r)}}validate(r,s){return s>=1&&s<=53}set(r,s,o){return xi(dN(r,o))}}const fN=[31,28,31,30,31,30,31,31,30,31,30,31],pN=[31,29,31,30,31,30,31,31,30,31,30,31];class mN extends Nt{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"subPriority",1);Te(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,s,o){switch(s){case"d":return hn(jn.date,r);case"do":return o.ordinalNumber(r,{unit:"date"});default:return bn(s.length,r)}}validate(r,s){const o=r.getFullYear(),a=Yv(o),c=r.getMonth();return a?s>=1&&s<=pN[c]:s>=1&&s<=fN[c]}set(r,s,o){return r.setDate(o),r.setHours(0,0,0,0),r}}class xN extends Nt{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"subpriority",1);Te(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,s,o){switch(s){case"D":case"DD":return hn(jn.dayOfYear,r);case"Do":return o.ordinalNumber(r,{unit:"date"});default:return bn(s.length,r)}}validate(r,s){const o=r.getFullYear();return Yv(o)?s>=1&&s<=366:s>=1&&s<=365}set(r,s,o){return r.setMonth(0,o),r.setHours(0,0,0,0),r}}function Zf(e,n,r){var m,x,y,g;const s=co(),o=(r==null?void 0:r.weekStartsOn)??((x=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:x.weekStartsOn)??s.weekStartsOn??((g=(y=s.locale)==null?void 0:y.options)==null?void 0:g.weekStartsOn)??0,a=qe(e,r==null?void 0:r.in),c=a.getDay(),d=(n%7+7)%7,h=7-o,p=n<0||n>6?n-(c+h)%7:(d+h)%7-(c+h)%7;return eu(a,p,r)}class gN extends Nt{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=6}set(r,s,o,a){return r=Zf(r,o,a),r.setHours(0,0,0,0),r}}class bN extends Nt{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,s,o,a){const c=u=>{const d=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+d};switch(s){case"e":case"ee":return wn(bn(s.length,r),c);case"eo":return wn(o.ordinalNumber(r,{unit:"day"}),c);case"eee":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeeee":return o.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=6}set(r,s,o,a){return r=Zf(r,o,a),r.setHours(0,0,0,0),r}}class yN extends Nt{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,s,o,a){const c=u=>{const d=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+d};switch(s){case"c":case"cc":return wn(bn(s.length,r),c);case"co":return wn(o.ordinalNumber(r,{unit:"day"}),c);case"ccc":return o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"ccccc":return o.day(r,{width:"narrow",context:"standalone"});case"cccccc":return o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(r,{width:"wide",context:"standalone"})||o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=0&&s<=6}set(r,s,o,a){return r=Zf(r,o,a),r.setHours(0,0,0,0),r}}function vN(e,n,r){const s=qe(e,r==null?void 0:r.in),o=Vk(s,r),a=n-o;return eu(s,a,r)}class jN extends Nt{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,s,o){const a=c=>c===0?7:c;switch(s){case"i":case"ii":return bn(s.length,r);case"io":return o.ordinalNumber(r,{unit:"day"});case"iii":return wn(o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),a);case"iiiii":return wn(o.day(r,{width:"narrow",context:"formatting"}),a);case"iiiiii":return wn(o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),a);case"iiii":default:return wn(o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),a)}}validate(r,s){return s>=1&&s<=7}set(r,s,o){return r=vN(r,o),r.setHours(0,0,0,0),r}}class wN extends Nt{constructor(){super(...arguments);Te(this,"priority",80);Te(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,o){return r.setHours(Qf(o),0,0,0),r}}class SN extends Nt{constructor(){super(...arguments);Te(this,"priority",80);Te(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,o){return r.setHours(Qf(o),0,0,0),r}}class CN extends Nt{constructor(){super(...arguments);Te(this,"priority",80);Te(this,"incompatibleTokens",["a","b","t","T"])}parse(r,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,o){return r.setHours(Qf(o),0,0,0),r}}class PN extends Nt{constructor(){super(...arguments);Te(this,"priority",70);Te(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,s,o){switch(s){case"h":return hn(jn.hour12h,r);case"ho":return o.ordinalNumber(r,{unit:"hour"});default:return bn(s.length,r)}}validate(r,s){return s>=1&&s<=12}set(r,s,o){const a=r.getHours()>=12;return a&&o<12?r.setHours(o+12,0,0,0):!a&&o===12?r.setHours(0,0,0,0):r.setHours(o,0,0,0),r}}class DN extends Nt{constructor(){super(...arguments);Te(this,"priority",70);Te(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,s,o){switch(s){case"H":return hn(jn.hour23h,r);case"Ho":return o.ordinalNumber(r,{unit:"hour"});default:return bn(s.length,r)}}validate(r,s){return s>=0&&s<=23}set(r,s,o){return r.setHours(o,0,0,0),r}}class TN extends Nt{constructor(){super(...arguments);Te(this,"priority",70);Te(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,s,o){switch(s){case"K":return hn(jn.hour11h,r);case"Ko":return o.ordinalNumber(r,{unit:"hour"});default:return bn(s.length,r)}}validate(r,s){return s>=0&&s<=11}set(r,s,o){return r.getHours()>=12&&o<12?r.setHours(o+12,0,0,0):r.setHours(o,0,0,0),r}}class IN extends Nt{constructor(){super(...arguments);Te(this,"priority",70);Te(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,s,o){switch(s){case"k":return hn(jn.hour24h,r);case"ko":return o.ordinalNumber(r,{unit:"hour"});default:return bn(s.length,r)}}validate(r,s){return s>=1&&s<=24}set(r,s,o){const a=o<=24?o%24:o;return r.setHours(a,0,0,0),r}}class EN extends Nt{constructor(){super(...arguments);Te(this,"priority",60);Te(this,"incompatibleTokens",["t","T"])}parse(r,s,o){switch(s){case"m":return hn(jn.minute,r);case"mo":return o.ordinalNumber(r,{unit:"minute"});default:return bn(s.length,r)}}validate(r,s){return s>=0&&s<=59}set(r,s,o){return r.setMinutes(o,0,0),r}}class AN extends Nt{constructor(){super(...arguments);Te(this,"priority",50);Te(this,"incompatibleTokens",["t","T"])}parse(r,s,o){switch(s){case"s":return hn(jn.second,r);case"so":return o.ordinalNumber(r,{unit:"second"});default:return bn(s.length,r)}}validate(r,s){return s>=0&&s<=59}set(r,s,o){return r.setSeconds(o,0),r}}class RN extends Nt{constructor(){super(...arguments);Te(this,"priority",30);Te(this,"incompatibleTokens",["t","T"])}parse(r,s){const o=a=>Math.trunc(a*Math.pow(10,-s.length+3));return wn(bn(s.length,r),o)}set(r,s,o){return r.setMilliseconds(o),r}}class _N extends Nt{constructor(){super(...arguments);Te(this,"priority",10);Te(this,"incompatibleTokens",["t","T","x"])}parse(r,s){switch(s){case"X":return ms(ps.basicOptionalMinutes,r);case"XX":return ms(ps.basic,r);case"XXXX":return ms(ps.basicOptionalSeconds,r);case"XXXXX":return ms(ps.extendedOptionalSeconds,r);case"XXX":default:return ms(ps.extended,r)}}set(r,s,o){return s.timestampIsSet?r:Zt(r,r.getTime()-gi(r)-o)}}class ON extends Nt{constructor(){super(...arguments);Te(this,"priority",10);Te(this,"incompatibleTokens",["t","T","X"])}parse(r,s){switch(s){case"x":return ms(ps.basicOptionalMinutes,r);case"xx":return ms(ps.basic,r);case"xxxx":return ms(ps.basicOptionalSeconds,r);case"xxxxx":return ms(ps.extendedOptionalSeconds,r);case"xxx":default:return ms(ps.extended,r)}}set(r,s,o){return s.timestampIsSet?r:Zt(r,r.getTime()-gi(r)-o)}}class MN extends Nt{constructor(){super(...arguments);Te(this,"priority",40);Te(this,"incompatibleTokens","*")}parse(r){return Hv(r)}set(r,s,o){return[Zt(r,o*1e3),{timestampIsSet:!0}]}}class kN extends Nt{constructor(){super(...arguments);Te(this,"priority",20);Te(this,"incompatibleTokens","*")}parse(r){return Hv(r)}set(r,s,o){return[Zt(r,o),{timestampIsSet:!0}]}}const NN={G:new eN,y:new tN,Y:new nN,R:new rN,u:new sN,Q:new oN,q:new iN,M:new aN,L:new lN,w:new uN,I:new hN,d:new mN,D:new xN,E:new gN,e:new bN,c:new yN,i:new jN,a:new wN,b:new SN,B:new CN,h:new PN,H:new DN,K:new TN,k:new IN,m:new EN,s:new AN,S:new RN,X:new _N,x:new ON,t:new MN,T:new kN},LN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$N=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,FN=/^'([^]*?)'?$/,WN=/''/g,BN=/\S/,VN=/[a-zA-Z]/;function UN(e,n,r,s){var j,P,C,A,E,T,R,N;const o=()=>Zt((s==null?void 0:s.in)||r,NaN),a=Wk(),c=(s==null?void 0:s.locale)??a.locale??tu,u=(s==null?void 0:s.firstWeekContainsDate)??((P=(j=s==null?void 0:s.locale)==null?void 0:j.options)==null?void 0:P.firstWeekContainsDate)??a.firstWeekContainsDate??((A=(C=a.locale)==null?void 0:C.options)==null?void 0:A.firstWeekContainsDate)??1,d=(s==null?void 0:s.weekStartsOn)??((T=(E=s==null?void 0:s.locale)==null?void 0:E.options)==null?void 0:T.weekStartsOn)??a.weekStartsOn??((N=(R=a.locale)==null?void 0:R.options)==null?void 0:N.weekStartsOn)??0;if(!n)return e?o():qe(r,s==null?void 0:s.in);const h={firstWeekContainsDate:u,weekStartsOn:d,locale:c},p=[new Zk(s==null?void 0:s.in,r)],m=n.match($N).map(M=>{const W=M[0];if(W in gc){const B=gc[W];return B(M,c.formatLong)}return M}).join("").match(LN),x=[];for(let M of m){!(s!=null&&s.useAdditionalWeekYearTokens)&&Vv(M)&&Ch(M,n,e),!(s!=null&&s.useAdditionalDayOfYearTokens)&&Bv(M)&&Ch(M,n,e);const W=M[0],B=NN[W];if(B){const{incompatibleTokens:q}=B;if(Array.isArray(q)){const Y=x.find(U=>q.includes(U.token)||U.token===W);if(Y)throw new RangeError(`The format string mustn't contain \`${Y.fullToken}\` and \`${M}\` at the same time`)}else if(B.incompatibleTokens==="*"&&x.length>0)throw new RangeError(`The format string mustn't contain \`${M}\` and any other token at the same time`);x.push({token:W,fullToken:M});const k=B.run(e,M,c.match,h);if(!k)return o();p.push(k.setter),e=k.rest}else{if(W.match(VN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+W+"`");if(M==="''"?M="'":W==="'"&&(M=zN(M)),e.indexOf(M)===0)e=e.slice(M.length);else return o()}}if(e.length>0&&BN.test(e))return o();const y=p.map(M=>M.priority).sort((M,W)=>W-M).filter((M,W,B)=>B.indexOf(M)===W).map(M=>p.filter(W=>W.priority===M).sort((W,B)=>B.subPriority-W.subPriority)).map(M=>M[0]);let g=qe(r,s==null?void 0:s.in);if(isNaN(+g))return o();const w={};for(const M of y){if(!M.validate(g,h))return o();const W=M.set(g,w,h);Array.isArray(W)?(g=W[0],Object.assign(w,W[1])):g=W}return g}function zN(e){return e.match(FN)[1].replace(WN,"'")}function hb(e,n){const r=qe(e,n==null?void 0:n.in);return r.setMinutes(0,0,0),r}function HN(e,n,r){const[s,o]=uo(r==null?void 0:r.in,e,n);return+hb(s)==+hb(o)}function GN(e,n,r){const[s,o]=uo(r==null?void 0:r.in,e,n);return s.getFullYear()===o.getFullYear()&&s.getMonth()===o.getMonth()}function YN(e,n,r){const[s,o]=uo(r==null?void 0:r.in,e,n);return s.getFullYear()===o.getFullYear()}function qN(e,n,r){const s=+qe(e,r==null?void 0:r.in),[o,a]=[+qe(n.start,r==null?void 0:r.in),+qe(n.end,r==null?void 0:r.in)].sort((c,u)=>c-u);return s>=o&&s<=a}function KN(e,n,r){const s=qe(e,r==null?void 0:r.in),o=s.getFullYear(),a=s.getDate(),c=Zt(e,0);c.setFullYear(o,n,15),c.setHours(0,0,0,0);const u=Uv(c);return s.setMonth(n,Math.min(a,u)),s}function JN(e,n,r){const s=qe(e,r==null?void 0:r.in);return s.setDate(n),s}function XN(e,n,r){const s=qe(e,r==null?void 0:r.in);return s.setHours(n),s}function QN(e,n,r){const s=qe(e,r==null?void 0:r.in);return s.setMilliseconds(n),s}function ZN(e,n,r){const s=qe(e,r==null?void 0:r.in);return s.setMinutes(n),s}function eL(e,n,r){const s=qe(e,r==null?void 0:r.in);return s.setSeconds(n),s}function tL(e,n,r){const s=qe(e,r==null?void 0:r.in);return isNaN(+s)?Zt(e,NaN):(s.setFullYear(n),s)}var ep={},nL=at;Object.defineProperty(ep,"__esModule",{value:!0});var qv=ep.default=void 0,rL=nL(lt()),sL=t;qv=ep.default=(0,rL.default)((0,sL.jsx)("path",{d:"M1 21h4V9H1zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73z"}),"ThumbUp");var tp={},oL=at;Object.defineProperty(tp,"__esModule",{value:!0});var yc=tp.default=void 0,iL=oL(lt()),aL=t;yc=tp.default=(0,iL.default)((0,aL.jsx)("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4zM18 14H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"}),"Comment");var np={},lL=at;Object.defineProperty(np,"__esModule",{value:!0});var Kv=np.default=void 0,cL=lL(lt()),uL=t;Kv=np.default=(0,cL.default)((0,uL.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle");const dL={ACTIVE:1,INACTIVE:2,COMPLETED:3,CANCELLED:4},fb={COVER:1,SUMMARY:2,AVATAR:3,TEASER:4,INTRO:5,OUTRO:6,OTHER:7},Ph={IMAGE:1,VIDEO:2,AUDIO:3,DOCUMENT:4,URL:5,ARTICLE:6,OTHER:7},Jv=({poll:e,onVote:n,onViewResults:r,userVote:s,showResults:o=!1,disabled:a=!1})=>{var w,j,P,C,A;const c=_n(),{api:u}=Je(),[d,h]=b.useState(null),p=((w=e.stats)==null?void 0:w.totalVotes)||0,[m,x]=b.useState({currentAmount:0,goalAmount:void 0,contributorCount:0,currency:"USD"});b.useEffect(()=>{(async()=>{try{const T=await u.fundingApi.getFund("poll",e.id.toString());if(T){const R=await u.fundingApi.getFundSummary("poll",e.id.toString());x({currentAmount:T.currentAmount/100,goalAmount:T.goalAmount?T.goalAmount/100:void 0,contributorCount:(R==null?void 0:R.totalContributors)||0,currency:T.currency})}}catch{console.debug("No funding data for poll:",e.id)}})()},[e.id,u.fundingApi]);const y=E=>{a||h(E)},g=()=>{(async()=>{try{const T=await u.fundingApi.getFund("poll",e.id.toString());if(T){const R=await u.fundingApi.getFundSummary("poll",e.id.toString());x({currentAmount:T.currentAmount/100,goalAmount:T.goalAmount?T.goalAmount/100:void 0,contributorCount:(R==null?void 0:R.totalContributors)||0,currency:T.currency})}}catch(T){console.error("Error reloading funding data:",T)}})()};return t.jsxs(Oe,{sx:{maxWidth:"100%",mb:2,borderRadius:2,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)","&:hover":{boxShadow:"0 6px 12px rgba(0, 0, 0, 0.15)",transform:"translateY(-2px)",transition:"all 0.3s ease"}},children:[t.jsxs($e,{children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Dn,{sx:{mr:1,bgcolor:c.palette.primary.main,width:40,height:40},children:(P=(j=e.creator)==null?void 0:j.displayName)==null?void 0:P.charAt(0).toUpperCase()}),t.jsxs(D,{children:[t.jsx(v,{variant:"subtitle2",sx:{fontWeight:600},children:(C=e.creator)==null?void 0:C.displayName}),t.jsx(v,{variant:"caption",color:"text.secondary",children:ss(new Date(e.createdAt),{addSuffix:!0})})]})]}),t.jsx(v,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600},children:e.title}),e.description&&t.jsx(v,{variant:"body2",color:"text.secondary",paragraph:!0,sx:{mb:3,lineHeight:1.6},children:e.description}),e.media&&e.media.length>0&&t.jsx(D,{sx:{mb:3},children:e.media.map(E=>t.jsxs(D,{sx:{borderRadius:2,overflow:"hidden",mb:2},children:[E.format===Ph.VIDEO?t.jsx(D,{component:"video",src:E.url,controls:!0,preload:"metadata",sx:{width:"100%",height:200,objectFit:"cover",objectPosition:"center",bgcolor:"black"}}):t.jsx(D,{component:"img",src:E.url,alt:E.caption||e.title,sx:{width:"100%",height:200,objectFit:"cover",objectPosition:"center"}}),E.caption&&t.jsx(v,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:1,px:1},children:E.caption})]},E.id))}),t.jsx(D,{sx:{mt:2},children:e.options.map(E=>{const T=E.voteCount||0,R=p>0?T/p*100:0,N=s===E.id,M=d===E.id;return t.jsxs(D,{sx:{mb:2,position:"relative",cursor:o||a?"default":"pointer",transition:"all 0.2s ease",transform:M?"translateX(4px)":"none",opacity:a?.6:1,"&:hover":!o&&!a&&{bgcolor:Ee(c.palette.primary.main,.05),borderRadius:1}},onClick:W=>{W.preventDefault(),W.stopPropagation(),!o&&!a&&(n==null||n(e.id.toString(),E.id))},onMouseEnter:()=>y(E.id),onMouseLeave:()=>y(null),children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:.5,px:2,py:1.5,border:"1px solid",borderColor:N?"primary.main":M?Ee(c.palette.primary.main,.5):"divider",borderRadius:1,bgcolor:N?Ee(c.palette.primary.main,.05):"transparent",transition:"all 0.2s ease","&:hover":!o&&!a&&{borderColor:"primary.main",boxShadow:`0 2px 8px ${Ee(c.palette.primary.main,.15)}`}},children:[t.jsx(D,{sx:{width:24,height:24,borderRadius:"50%",border:"2px solid",borderColor:N?"primary.main":M?Ee(c.palette.primary.main,.5):"divider",mr:2,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:N&&t.jsx(D,{sx:{width:12,height:12,borderRadius:"50%",bgcolor:"primary.main"}})}),t.jsx(v,{variant:"body1",sx:{flexGrow:1,fontWeight:N?600:400,color:N?"primary.main":"text.primary"},children:E.text}),o&&t.jsxs(D,{sx:{display:"flex",alignItems:"center",ml:2,minWidth:80,justifyContent:"flex-end"},children:[t.jsxs(v,{variant:"body2",sx:{fontWeight:600,color:N?"primary.main":"text.secondary",mr:1},children:[R.toFixed(1),"%"]}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["(",T,")"]})]}),N&&!o&&t.jsx(Kv,{sx:{ml:1,color:"primary.main",fontSize:"1.2rem"}})]}),o&&t.jsx(_o,{variant:"determinate",value:R,sx:{height:8,borderRadius:4,bgcolor:Ee(c.palette.primary.main,.1),"& .MuiLinearProgress-bar":{borderRadius:4,bgcolor:N?"primary.main":Ee(c.palette.primary.main,.6)}}})]},E.id)})}),t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:3,pt:2,borderTop:"1px solid",borderColor:"divider"},children:[t.jsxs(de,{direction:"row",spacing:2,children:[t.jsx(pt,{title:"Total Votes",children:t.jsxs(D,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(qv,{sx:{fontSize:"1.2rem",mr:.5,color:"text.secondary"}}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:[p," votes"]})]})}),t.jsx(pt,{title:"Views",children:t.jsxs(D,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(yc,{sx:{fontSize:"1.2rem",mr:.5,color:"text.secondary"}}),t.jsx(v,{variant:"caption",color:"text.secondary",children:((A=e.stats)==null?void 0:A.viewCount)||0})]})})]}),t.jsxs(de,{direction:"row",spacing:1,children:[e.isTrending&&t.jsx(Ze,{label:"Trending",color:"primary",size:"small",sx:{fontWeight:600,"& .MuiChip-label":{px:1}}}),e.tags.map(E=>t.jsx(Ze,{label:E.name,size:"small",sx:{bgcolor:Ee(c.palette.primary.main,.1),color:"primary.main","& .MuiChip-label":{px:1}}},E.id))]})]})]}),t.jsxs(tc,{sx:{justifyContent:"space-between",px:2,pb:2,borderTop:"1px solid",borderColor:"divider"},children:[t.jsx(pe,{size:"small",startIcon:t.jsx(yc,{}),sx:{color:"text.secondary","&:hover":{bgcolor:Ee(c.palette.primary.main,.05)}},children:"Comment"}),t.jsxs(de,{direction:"row",spacing:1,children:[t.jsx(D,{onClick:E=>E.stopPropagation(),children:t.jsx(Pv,{contentType:"poll",contentId:e.id.toString(),contentTitle:e.title,fundingData:m,onContributionSuccess:g,variant:"icon",icon:"heart",size:"small"})}),t.jsx(We,{size:"small",sx:{color:"text.secondary","&:hover":{bgcolor:Ee(c.palette.primary.main,.05)}},children:t.jsx(Jc,{})}),!o&&t.jsx(pe,{size:"small",color:"primary",variant:"contained",onClick:()=>r==null?void 0:r(e.id.toString()),sx:{borderRadius:2,textTransform:"none",px:2},children:"View Results"})]})]})]})},Xv=()=>t.jsx(D,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(zn,{})}),hL=()=>{const e=ao(),n=It(),[r,s]=b.useState("all"),[o,a]=b.useState([]),[c,u]=b.useState(!0),[d,h]=b.useState(1),[p]=b.useState(10),[m,x]=b.useState(!0),[y,g]=b.useState([]),{api:w}=Je(),{execute:j}=et();b.useEffect(()=>{const T=new URLSearchParams(e.search).get("tags");if(T){const R=T.split(",").map(N=>decodeURIComponent(N.trim()));g(R)}},[e.search]);const P=async(E=d)=>{const T={};switch(r){case"trending":T.trending=!0;break;case"funded":T.funded=!0;break}y.length>0&&(T.tags=y);const R=await j(()=>w.pollApi.getPolls(T,{page:E,limit:p}),{showErrorToast:!0});R&&(a(E===1?R.items:N=>[...N,...R.items]),h(R.metadata.currentPage),x(R.metadata.hasNext===!0)),u(!1)};b.useEffect(()=>{u(!0),h(1),P(1)},[r,y]);const C=()=>{P(d+1)},A=E=>{g(E);const T=new URLSearchParams(e.search);E.length>0?T.set("tags",E.map(N=>encodeURIComponent(N)).join(",")):T.delete("tags");const R=`${e.pathname}?${T.toString()}`;n(R,{replace:!0})};return c?t.jsx(Xv,{}):t.jsxs(bt,{maxWidth:"lg",sx:{py:4},children:[t.jsxs(D,{sx:{mb:4},children:[t.jsx(v,{variant:"h4",gutterBottom:!0,children:"Community Polls"}),t.jsx(v,{variant:"body1",color:"text.secondary",children:"Vote on polls from your favorite journalists and help shape their content"})]}),t.jsx(D,{sx:{borderBottom:1,borderColor:"divider",mb:4},children:t.jsxs(so,{value:r,onChange:(E,T)=>s(T),"aria-label":"poll categories",children:[t.jsx(ir,{label:"All Polls",value:"all"}),t.jsx(ir,{label:"Trending",value:"trending"}),t.jsx(ir,{label:"Funded",value:"funded"})]})}),t.jsx(D,{sx:{mb:4},children:t.jsx(Bf,{selectedTags:y,onTagsChange:A,contentType:"polls",maxTags:4,showCounts:!1})}),o.length===0?t.jsx(lo,{title:"No polls found",description:"There are no polls available in this category at the moment."}):t.jsx(No,{dataLength:o.length,next:C,hasMore:m,loader:t.jsx(de,{spacing:2,sx:{mt:2},children:[...Array(2)].map((E,T)=>t.jsxs(D,{sx:{p:2,borderRadius:2,bgcolor:R=>R.palette.mode==="dark"?Ee(R.palette.common.white,.05):Ee(R.palette.common.black,.03)},children:[t.jsx(D,{sx:{height:24,width:"40%",mb:2,borderRadius:.5,bgcolor:"grey.300"}}),t.jsx(de,{spacing:2,children:[...Array(4)].map((R,N)=>t.jsx(D,{sx:{height:40,borderRadius:1,bgcolor:M=>M.palette.mode==="dark"?Ee(M.palette.common.white,.1):Ee(M.palette.common.black,.1)}},N))})]},T))}),endMessage:t.jsx(D,{sx:{textAlign:"center",mt:4,color:"text.secondary",fontSize:"0.875rem"},children:"No more polls to display"}),children:t.jsx(de,{spacing:2,children:o.map(E=>t.jsx(D,{component:or,to:ye.APP_POLL_VIEW.replace(":id",E.id),sx:{textDecoration:"none"},children:t.jsx(Jv,{poll:E})},E.id))})})]})};var rp={},fL=at;Object.defineProperty(rp,"__esModule",{value:!0});var Qv=rp.default=void 0,pL=fL(lt()),mL=t;Qv=rp.default=(0,pL.default)((0,mL.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2"}),"Bookmark");var sp={},xL=at;Object.defineProperty(sp,"__esModule",{value:!0});var Zv=sp.default=void 0,gL=xL(lt()),bL=t;Zv=sp.default=(0,gL.default)((0,bL.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2m0 15-5-2.18L7 18V5h10z"}),"BookmarkBorder");var op={},yL=at;Object.defineProperty(op,"__esModule",{value:!0});var e0=op.default=void 0,vL=yL(lt()),jL=t;e0=op.default=(0,vL.default)((0,jL.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock");const wL=()=>t.jsx(bt,{maxWidth:"lg",sx:{mt:4},children:t.jsxs($,{container:!0,spacing:4,children:[t.jsx($,{item:!0,xs:12,md:8,children:t.jsx(Oe,{children:t.jsxs(D,{sx:{p:3},children:[t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[t.jsx(ce,{variant:"text",width:"60%",height:40}),t.jsx(de,{direction:"row",spacing:1,children:[1,2].map(e=>t.jsx(ce,{variant:"circular",width:40,height:40},e))})]}),t.jsxs(de,{spacing:2,sx:{mb:3},children:[t.jsx(ce,{variant:"text",width:"100%"}),t.jsx(ce,{variant:"text",width:"95%"}),t.jsx(ce,{variant:"text",width:"90%"})]}),t.jsx(de,{spacing:2,children:[1,2,3,4].map(e=>t.jsx(ce,{variant:"rectangular",height:60,sx:{borderRadius:1}},e))})]})})}),t.jsx($,{item:!0,xs:12,md:4,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsx(ce,{variant:"text",width:"50%",height:32,sx:{mb:2}}),t.jsx(de,{spacing:2,children:[1,2,3].map(e=>t.jsxs(D,{children:[t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[t.jsx(ce,{variant:"text",width:"40%"}),t.jsx(ce,{variant:"text",width:"20%"})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:8,sx:{borderRadius:1}})]},e))})]})})})]})}),SL=()=>{const{id:e}=qr(),{api:n}=Je(),r=_n(),[s,o]=b.useState(null),[a,c]=b.useState(!0),[u,d]=b.useState(null),[h,p]=b.useState(!1),[m,x]=b.useState(!1),[y,g]=b.useState(null),[w,j]=b.useState(null),{execute:P}=et();b.useEffect(()=>{(async()=>{if(!e)return;c(!0);const N=await P(()=>n==null?void 0:n.pollApi.get(e),{showErrorToast:!0});if(N){o(N);const M=await P(()=>n==null?void 0:n.pollApi.getUserVote(e),{showErrorToast:!1});M!=null&&M.optionId&&d(M.optionId);const W=await P(()=>n==null?void 0:n.pollApi.checkVotingEligibility(e),{showErrorToast:!1});W&&j(W)}c(!1)})()},[e,P]);const C=async(R,N)=>{if(!(w!=null&&w.canVote)){g((w==null?void 0:w.reason)||"You cannot vote on this poll");return}if(await P(()=>n==null?void 0:n.pollApi.vote(R,{optionId:N}),{showSuccessMessage:!0,successMessage:"Vote recorded successfully!"})){d(N);const W=await P(()=>n==null?void 0:n.pollApi.get(R),{showErrorToast:!0});W&&o(W)}},A=async R=>{const N=await P(()=>n==null?void 0:n.pollApi.get(R),{showErrorToast:!0});N&&(o(N),p(!0))},E=()=>{navigator.share?navigator.share({title:s==null?void 0:s.title,text:s==null?void 0:s.description,url:window.location.href}).catch(console.error):navigator.clipboard.writeText(window.location.href)},T=()=>{x(!m)};return a?t.jsx(wL,{}):s?t.jsxs(bt,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs($,{container:!0,spacing:4,children:[t.jsx($,{item:!0,xs:12,children:t.jsx(D,{sx:{mb:3},children:t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap"},children:[t.jsxs(D,{component:or,to:ye.APP_CHANNEL_VIEW.replace(":channelId",s.channel.id),sx:{display:"inline-flex",alignItems:"center",bgcolor:"primary.main",color:"primary.contrastText",px:2,py:1,borderRadius:2,textDecoration:"none",transition:"all 0.2s ease-in-out","&:hover":{bgcolor:"primary.dark",transform:"translateY(-2px)"}},children:[t.jsx(Fa,{sx:{mr:1}}),t.jsx(v,{variant:"subtitle2",children:s.channel.name})]}),t.jsxs(D,{sx:{display:"inline-flex",alignItems:"center",bgcolor:"background.paper",px:2,py:1,borderRadius:2,border:"1px solid",borderColor:"divider"},children:[t.jsx(Xc,{sx:{mr:1,fontSize:"0.9rem"}}),t.jsx(v,{variant:"caption",children:s.creator.displayName})]}),s.requiredTier&&t.jsx(Ze,{icon:t.jsx(va,{}),label:`${s.requiredTier.name} Required`,color:"warning",variant:"outlined",size:"small"})]}),t.jsxs(de,{direction:"row",spacing:1,children:[t.jsx(We,{onClick:E,sx:{color:"text.secondary","&:hover":{bgcolor:Ee(r.palette.primary.main,.05)}},children:t.jsx(Jc,{})}),t.jsx(We,{onClick:T,sx:{color:m?"primary.main":"text.secondary","&:hover":{bgcolor:Ee(r.palette.primary.main,.05)}},children:m?t.jsx(Qv,{}):t.jsx(Zv,{})})]})]})})}),t.jsxs($,{item:!0,xs:12,md:8,children:[w&&!w.canVote&&t.jsx(it,{severity:"warning",icon:t.jsx(e0,{}),sx:{mb:2},children:t.jsx(v,{variant:"body2",children:w.reason})}),t.jsx(Jv,{poll:s,onVote:C,onViewResults:A,userVote:u,showResults:!!u||h,disabled:!(w!=null&&w.canVote)})]}),t.jsx($,{item:!0,xs:12,md:4,children:t.jsxs(de,{spacing:3,children:[s.description&&t.jsxs(dt,{sx:{p:2},children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"About this Poll"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:s.description})]}),s.requiredTier&&t.jsxs(dt,{sx:{p:2},children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Access Requirements"}),t.jsxs(de,{spacing:1,children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(va,{color:"warning",fontSize:"small"}),t.jsx(v,{variant:"subtitle2",children:s.requiredTier.name})]}),s.requiredTier.description&&t.jsx(v,{variant:"body2",color:"text.secondary",children:s.requiredTier.description}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["This poll requires a ",s.requiredTier.name," subscription or higher to vote."]})]})]}),t.jsxs(dt,{sx:{p:2},children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Poll Statistics"}),t.jsxs(de,{spacing:2,children:[t.jsxs(D,{children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Total Votes"}),t.jsx(v,{variant:"h4",children:s.options.reduce((R,N)=>R+N.voteCount,0)})]}),t.jsxs(D,{children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Time Remaining"}),t.jsx(v,{variant:"body1",children:s.endDate?ss(new Date(s.endDate),{addSuffix:!0}):"No end date"})]})]})]}),t.jsxs(dt,{sx:{p:2},children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Comments"}),t.jsx(pe,{startIcon:t.jsx(yc,{}),variant:"outlined",fullWidth:!0,sx:{mt:1,textTransform:"none",borderRadius:2},children:"Add a Comment"})]})]})})]}),t.jsx(Iy,{open:!!y,autoHideDuration:6e3,onClose:()=>g(null),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:t.jsx(it,{onClose:()=>g(null),severity:"error",sx:{width:"100%"},children:y})})]}):t.jsx(bt,{maxWidth:"lg",sx:{mt:4},children:t.jsx(v,{variant:"h4",children:"Poll not found"})})},CL=()=>{const[e,n]=b.useState(null),[r,s]=b.useState(!0),[o,a]=b.useState(!1),[c,u]=b.useState(!1),[d,h]=b.useState(null),[p,m]=b.useState(null),[x,y]=b.useState({}),{api:g}=Je(),{execute:w}=et();b.useEffect(()=>{j()},[]);const j=async()=>{s(!0),h(null);const T=await w(()=>g.accountApi.getProfile(),{showErrorToast:!0});T&&(n(T),y({displayName:T.displayName,photoUrl:T.photoUrl})),s(!1)},P=()=>{u(!0),h(null),m(null)},C=()=>{u(!1),e&&y({displayName:e.displayName,photoUrl:e.photoUrl}),h(null),m(null)},A=async()=>{a(!0),h(null),m(null);const T=await w(()=>g.accountApi.updateProfile(x),{showSuccessMessage:!0,successMessage:"Profile updated successfully"});T&&(n(T),u(!1)),a(!1)},E=T=>R=>{y(N=>({...N,[T]:R.target.value}))};return r?t.jsx(D,{sx:{p:3},children:t.jsxs(de,{spacing:3,alignItems:"center",children:[t.jsx(ce,{variant:"circular",width:120,height:120}),t.jsx(ce,{variant:"text",width:"50%",height:40}),t.jsx(ce,{variant:"rectangular",width:"100%",height:56}),t.jsx(ce,{variant:"rectangular",width:"100%",height:56})]})}):e?t.jsx(D,{sx:{p:3},children:t.jsxs(de,{spacing:3,children:[d&&t.jsx(it,{severity:"error",children:d}),p&&t.jsx(it,{severity:"success",children:p}),t.jsxs(D,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:2},children:[t.jsx(Dn,{src:x.photoUrl||e.photoUrl,sx:{width:120,height:120,mb:2}}),t.jsx(v,{variant:"h6",children:e.email}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Joined ",new Date(e.createdAt||"").toLocaleDateString()]})]}),t.jsx(rt,{label:"Display Name",value:x.displayName||"",onChange:E("displayName"),disabled:!c,fullWidth:!0,variant:"outlined"}),t.jsx(rt,{label:"Photo URL",value:x.photoUrl||"",onChange:E("photoUrl"),disabled:!c,fullWidth:!0,variant:"outlined",placeholder:"https://example.com/photo.jpg"}),t.jsx(D,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:c?t.jsxs(t.Fragment,{children:[t.jsx(pe,{variant:"outlined",startIcon:t.jsx(oo,{}),onClick:C,disabled:o,children:"Cancel"}),t.jsx(pe,{variant:"contained",startIcon:o?t.jsx(zn,{size:20}):t.jsx(Ry,{}),onClick:A,disabled:o,children:"Save Changes"})]}):t.jsx(pe,{variant:"contained",startIcon:t.jsx(as,{}),onClick:P,children:"Edit Profile"})})]})}):t.jsx(D,{sx:{p:3},children:t.jsx(it,{severity:"error",children:"Failed to load profile"})})},Ll={CREDIT_CARD:1,BANK_TRANSFER:2,PAYPAL:3,IYZICO:4,OTHER:5};var PL={VITE_API_URL:"https://oyster-app-4nnna.ondigitalocean.app",VITE_ENV:"staging",BASE_URL:"/journalist-material-client/",MODE:"staging",DEV:!1,PROD:!0,SSR:!1};const DL=({onSuccess:e,onError:n,disabled:r=!1})=>{const[s,o]=b.useState(!1),[a,c]=b.useState(!1),[u,d]=b.useState(null),h=b.useRef(null),{api:p}=Je(),m=PL.VITE_PAYPAL_CLIENT_ID||"AUvVGkHGJD8OKekE_4XxFzzKL8a8yLtJ3ZG1woE3OobNy57zyofuPIiUo-zZag0O_L1KPB_u4TB0tuJp";return b.useEffect(()=>{if(window.paypal){o(!0);return}const x=document.createElement("script");return x.src=`https://www.paypal.com/sdk/js?client-id=${m}&components=buttons&vault=true`,x.async=!0,x.onload=()=>{o(!0)},x.onerror=()=>{d("Failed to load PayPal SDK"),n("Failed to load PayPal SDK")},document.head.appendChild(x),()=>{document.head.contains(x)&&document.head.removeChild(x)}},[m,n]),b.useEffect(()=>{!s||r||!h.current||(h.current&&(h.current.innerHTML=""),window.paypal&&window.paypal.Buttons&&window.paypal.Buttons({style:{layout:"horizontal",color:"blue",shape:"rect",label:"paypal",tagline:!1,height:40},createOrder:async()=>{try{return c(!0),d(null),(await p.paymentTokenApi.createPayPalTokenizationOrder()).id}catch(x){const y=x.message||"Failed to initialize PayPal connection";throw d(y),n(y),c(!1),x}},onApprove:async x=>{try{const y=await p.paymentTokenApi.capturePayPalTokenizationOrder(x.orderID);if(y.payment_token)await p.accountApi.savePayPalPaymentMethod({payment_token:y.payment_token,payer_id:x.payerID}),e(y);else throw new Error("No payment token received from PayPal")}catch(y){const g=y.message||"Failed to save PayPal payment method";d(g),n(g)}finally{c(!1)}},onError:x=>{console.error("PayPal button error:",x);const y="PayPal connection failed. Please try again.";d(y),n(y),c(!1)},onCancel:()=>{c(!1),console.log("PayPal connection cancelled by user")}}).render(h.current))},[s,r,p,e,n]),s?t.jsxs(D,{sx:{textAlign:"center",py:3},children:[u&&t.jsx(it,{severity:"error",sx:{mb:2},children:u}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Connect your PayPal account securely using PayPal's secure tokenization"}),t.jsx("div",{ref:h}),a&&t.jsx(v,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:2},children:"Connecting to PayPal..."}),t.jsx(v,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:2},children:"Your payment information is stored securely with PayPal"})]}):t.jsx(D,{sx:{textAlign:"center",py:2},children:t.jsx(v,{variant:"body2",color:"text.secondary",children:"Loading PayPal..."})})},TL=({onSuccess:e,onError:n,disabled:r=!1})=>{const[s,o]=b.useState(!1),[a,c]=b.useState(null),[u,d]=b.useState(null),[h,p]=b.useState(null),{api:m}=Je();b.useEffect(()=>{(async()=>{try{const j=await m.accountApi.getProfile();if(j!=null&&j.displayName&&(j!=null&&j.email)){const P=j.displayName.trim().split(" "),C=P[0]||"User",A=P.length>1?P.slice(1).join(" "):"Name";p({name:C,surname:A,email:j.email})}else c("Unable to retrieve user information. Please ensure your profile is complete.")}catch(j){console.error("Failed to fetch user info:",j),c("Failed to retrieve user information")}})()},[m]);const x=async()=>{try{return(await(await fetch("https://api.ipify.org?format=json")).json()).ip||"127.0.0.1"}catch{return"127.0.0.1"}},y=async()=>{if(!h){c("User information is not available");return}try{o(!0),c(null);const w=await x(),j=await m.iyzicoTokenApi.initializeTokenization({name:h.name,surname:h.surname,email:h.email,ip:w});if(!j.sessionToken)throw new Error("Failed to initialize Iyzico session");if(d(j.sessionToken),j.checkoutFormContent){const P=window.open("","IyzicoCheckout","width=800,height=600");if(P){P.document.write(j.checkoutFormContent),P.document.close(),window.addEventListener("message",g,!1);const C=setInterval(()=>{P.closed&&(clearInterval(C),window.removeEventListener("message",g,!1),o(!1),c("Payment window was closed"))},1e3)}else throw new Error("Failed to open payment window. Please allow popups.")}else if(j.paymentPageUrl)window.open(j.paymentPageUrl,"IyzicoCheckout","width=800,height=600");else throw new Error("No checkout method provided by Iyzico")}catch(w){const j=w.message||"Failed to initialize Iyzico payment";c(j),n(j),o(!1)}},g=async w=>{if(w.origin===window.location.origin)if(w.data&&w.data.type==="IYZICO_CHECKOUT_SUCCESS")try{if(!u||!h)throw new Error("Session information is missing");const j=await x(),P=await m.iyzicoTokenApi.savePaymentMethod({sessionToken:u,name:h.name,surname:h.surname,email:h.email,ip:j});window.removeEventListener("message",g,!1),o(!1),e(P)}catch(j){const P=j.message||"Failed to save Iyzico payment method";c(P),n(P),o(!1)}else if(w.data&&w.data.type==="IYZICO_CHECKOUT_ERROR"){window.removeEventListener("message",g,!1),o(!1);const j=w.data.message||"Payment failed";c(j),n(j)}else w.data&&w.data.type==="IYZICO_CHECKOUT_CANCEL"&&(window.removeEventListener("message",g,!1),o(!1),console.log("Iyzico payment cancelled by user"))};return h?t.jsxs(D,{sx:{textAlign:"center",py:3},children:[a&&t.jsx(it,{severity:"error",sx:{mb:2},children:a}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Kartınızı güvenli bir şekilde Iyzico ile kaydedin"}),t.jsx(pe,{variant:"contained",onClick:y,disabled:r||s||!h,sx:{backgroundColor:"#1B4332",color:"white","&:hover":{backgroundColor:"#2D5A3D"},"&:disabled":{backgroundColor:"#ccc"},minHeight:"48px",minWidth:"200px",fontWeight:"bold"},children:s?"İyzico ile Bağlanıyor...":"İyzico ile Ödeme Ekle"}),s&&t.jsx(v,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:2},children:"Güvenli ödeme sayfasına yönlendiriliyorsunuz..."}),t.jsx(v,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:2},children:"Kart bilgileriniz Iyzico'nun güvenli sisteminde saklanır"}),t.jsx(v,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:1},children:"İşlem tamamlandıktan sonra pop-up pencereyi kapatabilirsiniz"})]}):t.jsx(D,{sx:{textAlign:"center",py:2},children:t.jsx(v,{variant:"body2",color:"text.secondary",children:"Loading user information..."})})},IL=()=>{const e=_n(),[n,r]=b.useState([]),[s,o]=b.useState(!0),[a,c]=b.useState(null),[u,d]=b.useState(null),[h,p]=b.useState(!1),[m,x]=b.useState(!1),[y,g]=b.useState(null),[w,j]=b.useState(!1),[P,C]=b.useState(!1),{api:A}=Je(),{execute:E}=et();b.useEffect(()=>{T()},[]);const T=async()=>{o(!0),c(null);const G=await E(()=>A.accountApi.getPaymentMethods(),{showErrorToast:!0});G&&r(G.data??[]),o(!1)},R=async G=>{c(null),await E(()=>A.accountApi.setDefaultPaymentMethod(G.id),{showSuccessMessage:!0,successMessage:"Default payment method updated"})&&await T()},N=async()=>{if(!y)return;c(null),await E(()=>A.accountApi.deletePaymentMethod(y.id),{showSuccessMessage:!0,successMessage:"Payment method deleted successfully"})&&(await T(),p(!1),g(null))},M=G=>{g(G),p(!0)},W=()=>{p(!1),g(null)},B=()=>{x(!m)},q=()=>{T(),d("Payment method added successfully"),x(!1)},k=()=>{j(!0)},Y=()=>{j(!1),q(),d("PayPal account connected successfully!")},U=G=>{c(G),j(!1)},H=()=>{C(!0)},X=()=>{C(!1),q(),d("Iyzico card added successfully!")},se=G=>{c(G),C(!1)},ne=G=>{switch(G){case Ll.PAYPAL:return t.jsx(Dn,{sx:{bgcolor:"#0070ba",width:40,height:40,fontSize:"12px",fontWeight:"bold",color:"white"},children:"PayPal"});case Ll.IYZICO:return t.jsx(Dn,{sx:{bgcolor:"#00a650",width:40,height:40,fontSize:"11px",fontWeight:"bold",color:"white"},children:"iyzico"});default:return t.jsx(Dn,{sx:{bgcolor:e.palette.grey[400],width:40,height:40},children:t.jsx(ga,{})})}},ee=G=>{switch(G.typeId){case Ll.PAYPAL:return G.details.email;case Ll.IYZICO:{const re=G.details.cardAssociation||"Card",Pe=G.details.lastFourDigits||"****";return`${re} •••• ${Pe}`}default:return"Payment method"}};return s?t.jsx(D,{sx:{p:3},children:t.jsx(de,{spacing:2,children:[...Array(3)].map((G,re)=>t.jsx(Oe,{children:t.jsx($e,{children:t.jsxs(de,{direction:"row",spacing:2,alignItems:"center",children:[t.jsx(ce,{variant:"circular",width:40,height:40}),t.jsxs(D,{sx:{flex:1},children:[t.jsx(ce,{variant:"text",width:"60%"}),t.jsx(ce,{variant:"text",width:"40%"})]}),t.jsx(ce,{variant:"rectangular",width:100,height:32})]})})},re))})}):t.jsxs(D,{sx:{p:3},children:[t.jsxs(de,{spacing:3,children:[a&&t.jsx(it,{severity:"error",children:a}),u&&t.jsx(it,{severity:"success",children:u}),t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[t.jsxs(D,{children:[t.jsx(v,{variant:"h5",sx:{fontWeight:600,mb:.5},children:"Payment Methods"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Securely manage your payment methods for subscriptions"})]}),t.jsx(pe,{variant:"contained",startIcon:m?t.jsx(_I,{}):t.jsx(Ur,{}),onClick:B,sx:{borderRadius:2,textTransform:"none",fontWeight:600,px:3,py:1.5},children:m?"Close":"Add Payment Method"})]}),t.jsx(OI,{in:m,children:t.jsxs(dt,{elevation:0,sx:{p:3,mb:3,border:`2px dashed ${e.palette.divider}`,borderRadius:3,bgcolor:e.palette.mode==="dark"?"grey.900":"grey.50"},children:[t.jsx(v,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Choose Payment Method"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsx($,{item:!0,xs:12,md:6,children:t.jsx(Oe,{elevation:0,sx:{border:`1px solid ${e.palette.divider}`,borderRadius:2,transition:"all 0.2s ease",cursor:"pointer","&:hover":{borderColor:e.palette.primary.main,boxShadow:`0 4px 12px ${e.palette.primary.main}20`}},children:t.jsx(Og,{onClick:k,disabled:!1,sx:{p:3},children:t.jsxs(de,{direction:"row",spacing:2,alignItems:"center",children:[t.jsx(Dn,{sx:{bgcolor:"#0070ba",width:48,height:48,fontSize:"13px",fontWeight:"bold"},children:"PayPal"}),t.jsxs(D,{sx:{flex:1},children:[t.jsx(v,{variant:"h6",sx:{fontWeight:600,mb:.5},children:"PayPal"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Connect your PayPal account securely"}),t.jsxs(de,{direction:"row",spacing:1,sx:{mt:1},children:[t.jsx(Ze,{icon:t.jsx(dh,{}),label:"Secure",size:"small",variant:"outlined"}),t.jsx(Ze,{icon:t.jsx(MI,{}),label:"Fast",size:"small",variant:"outlined"})]})]}),t.jsx(D,{sx:{display:"flex",alignItems:"center"},children:t.jsx(v,{variant:"body2",color:"primary",sx:{mr:1},children:"Click to Connect"})})]})})})}),t.jsx($,{item:!0,xs:12,md:6,children:t.jsx(Oe,{elevation:0,sx:{border:`1px solid ${e.palette.divider}`,borderRadius:2,transition:"all 0.2s ease",cursor:"pointer","&:hover":{borderColor:e.palette.primary.main,boxShadow:`0 4px 12px ${e.palette.primary.main}20`}},children:t.jsx(Og,{onClick:H,disabled:!1,sx:{p:3},children:t.jsxs(de,{direction:"row",spacing:2,alignItems:"center",children:[t.jsx(Dn,{sx:{bgcolor:"#00a650",width:48,height:48,fontSize:"11px",fontWeight:"bold"},children:"iyzico"}),t.jsxs(D,{sx:{flex:1},children:[t.jsx(v,{variant:"h6",sx:{fontWeight:600,mb:.5},children:"Credit/Debit Card"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Güvenli kart ödeme sistemi"}),t.jsxs(de,{direction:"row",spacing:1,sx:{mt:1},children:[t.jsx(Ze,{icon:t.jsx(dh,{}),label:"Güvenli",size:"small",variant:"outlined"}),t.jsx(Ze,{icon:t.jsx(_y,{}),label:"Doğrulanmış",size:"small",variant:"outlined"})]})]}),t.jsx(D,{sx:{display:"flex",alignItems:"center"},children:t.jsx(v,{variant:"body2",color:"primary",sx:{mr:1},children:"Kart Ekle"})})]})})})})]})]})}),n.length===0?t.jsxs(dt,{elevation:0,sx:{textAlign:"center",py:6,px:3,border:`1px solid ${e.palette.divider}`,borderRadius:3,bgcolor:"transparent"},children:[t.jsx(D,{sx:{mb:3},children:t.jsx(ga,{sx:{fontSize:64,color:"text.disabled",mb:2}})}),t.jsx(v,{variant:"h5",sx:{fontWeight:600,mb:1},children:"No Payment Methods Yet"}),t.jsx(v,{variant:"body1",color:"text.secondary",sx:{mb:3,maxWidth:400,mx:"auto"},children:"Add a secure payment method to start subscribing to your favorite channels and unlock premium content."}),t.jsx(pe,{variant:"contained",size:"large",startIcon:t.jsx(Ur,{}),onClick:B,sx:{borderRadius:2,textTransform:"none",fontWeight:600,px:4,py:1.5},children:"Add Your First Payment Method"})]}):t.jsx(de,{spacing:2,children:n.map(G=>t.jsx(Oe,{elevation:0,sx:{border:`1px solid ${e.palette.divider}`,borderRadius:2,transition:"all 0.2s ease","&:hover":{borderColor:G.isDefault?e.palette.primary.main:e.palette.grey[400],boxShadow:`0 2px 8px ${e.palette.grey[300]}30`}},children:t.jsx($e,{sx:{p:3},children:t.jsxs(de,{direction:"row",spacing:3,alignItems:"center",children:[ne(G.typeId),t.jsxs(D,{sx:{flex:1},children:[t.jsxs(de,{direction:"row",spacing:2,alignItems:"center",sx:{mb:1},children:[t.jsx(v,{variant:"h6",sx:{fontWeight:600},children:G.type.name}),G.isDefault&&t.jsx(Ze,{icon:t.jsx(Pi,{}),label:"Default",size:"small",color:"primary",variant:"filled",sx:{fontWeight:600}})]}),t.jsx(v,{variant:"body1",sx:{mb:.5,fontFamily:"monospace"},children:ee(G)}),t.jsxs(de,{direction:"row",spacing:2,alignItems:"center",children:[t.jsx(v,{variant:"body2",color:"text.secondary",sx:{fontWeight:500},children:G.currency.toUpperCase()}),G.lastUsedAt&&t.jsxs(t.Fragment,{children:[t.jsx(D,{sx:{width:4,height:4,bgcolor:"text.secondary",borderRadius:"50%"}}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Last used ",new Date(G.lastUsedAt).toLocaleDateString()]})]})]})]}),t.jsxs(de,{direction:"row",spacing:1,children:[t.jsx(We,{onClick:()=>R(G),disabled:G.isDefault,title:G.isDefault?"Already default":"Set as default",sx:{color:G.isDefault?"primary.main":"text.secondary","&:hover":{bgcolor:"primary.main",color:"primary.contrastText"}},children:G.isDefault?t.jsx(kI,{}):t.jsx(NI,{})}),t.jsx(We,{onClick:()=>M(G),sx:{color:"text.secondary","&:hover":{bgcolor:"error.main",color:"error.contrastText"}},title:"Delete payment method",children:t.jsx(nc,{})})]})]})})},G.id))})]}),t.jsxs(sn,{open:h,onClose:W,children:[t.jsx(pn,{children:"Delete Payment Method"}),t.jsx(on,{children:t.jsxs(v,{children:["Are you sure you want to delete this payment method?",(y==null?void 0:y.isDefault)&&t.jsx(it,{severity:"warning",sx:{mt:2},children:"This is your default payment method. You'll need to set another payment method as default."})]})}),t.jsxs(an,{children:[t.jsx(pe,{onClick:W,children:"Cancel"}),t.jsx(pe,{onClick:N,color:"error",variant:"contained",children:"Delete"})]})]}),t.jsxs(sn,{open:w,onClose:()=>j(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(pn,{children:"Connect PayPal Account"}),t.jsx(on,{children:t.jsx(DL,{onSuccess:Y,onError:U,disabled:!1})}),t.jsx(an,{children:t.jsx(pe,{onClick:()=>j(!1),children:"Cancel"})})]}),t.jsxs(sn,{open:P,onClose:()=>C(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(pn,{children:"Kart Ekleme"}),t.jsx(on,{children:t.jsx(TL,{onSuccess:X,onError:se,disabled:!1})}),t.jsx(an,{children:t.jsx(pe,{onClick:()=>C(!1),children:"İptal"})})]})]})},fn={ACTIVE:1,CANCELLED:2,EXPIRED:3,PENDING:4,SUSPENDED:5},EL={[fn.ACTIVE]:"active",[fn.CANCELLED]:"cancelled",[fn.EXPIRED]:"expired",[fn.PENDING]:"pending",[fn.SUSPENDED]:"suspended"},t0={active:fn.ACTIVE,cancelled:fn.CANCELLED,expired:fn.EXPIRED,pending:fn.PENDING,suspended:fn.SUSPENDED};function AL(e){if(typeof e=="number")return Object.values(fn).includes(e)?e:fn.PENDING;const n=e.toLowerCase();return t0[n]||fn.PENDING}function n0(e){if(typeof e=="string"){const n=e.toLowerCase();return n in t0?n:"pending"}return EL[e]||"pending"}function RL(e){return AL(e)===fn.ACTIVE}function vc(e){const n=n0(e);switch(n){case"active":return"Active";case"cancelled":return"Cancelled";case"expired":return"Expired";case"pending":return"Pending";case"suspended":return"Suspended";default:return n.charAt(0).toUpperCase()+n.slice(1)}}function jc(e){switch(n0(e)){case"active":return"success";case"cancelled":return"warning";case"expired":return"error";case"pending":return"info";case"suspended":return"info";default:return"default"}}function _L(e){return RL(e)}const OL=[{id:fn.ACTIVE,value:"active",label:"Active"},{id:fn.CANCELLED,value:"cancelled",label:"Cancelled"},{id:fn.EXPIRED,value:"expired",label:"Expired"},{id:fn.PENDING,value:"pending",label:"Pending"},{id:fn.SUSPENDED,value:"suspended",label:"Suspended"}],ML=()=>{const[e,n]=b.useState([]),[r,s]=b.useState(!0),[o,a]=b.useState(null),[c,u]=b.useState(null),[d,h]=b.useState(!1),[p,m]=b.useState(null),[x,y]=b.useState(!1),{api:g}=Je(),{execute:w}=et(),j=_n(),P=async()=>{s(!0),a(null);const k=await w(()=>g.accountApi.getSubscriptions(),{showErrorToast:!0});k&&n(k.items??[]),s(!1)};b.useEffect(()=>{P()},[]);const C=async()=>{if(!p)return;y(!0),a(null),await w(()=>g.accountApi.cancelSubscription(p.id),{showSuccessMessage:!0,successMessage:"Subscription canceled successfully"})&&(await P(),h(!1),m(null)),y(!1)},A=k=>{m(k),h(!0)},E=()=>{h(!1),m(null)},T=k=>jc(k),R=k=>vc(k),N=k=>new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),M=(k,Y)=>new Intl.NumberFormat("en-US",{style:"currency",currency:Y.toUpperCase()}).format(k/100),W=k=>_L(k.statusId);if(r)return t.jsx(D,{sx:{p:{xs:2,md:4}},children:t.jsxs(de,{spacing:3,children:[t.jsxs(D,{children:[t.jsx(ce,{variant:"text",sx:{fontSize:"1.5rem",width:"200px",mb:1}}),t.jsx(ce,{variant:"text",sx:{fontSize:"0.875rem",width:"150px"}})]}),t.jsx($,{container:!0,spacing:3,children:[...Array(3)].map((k,Y)=>t.jsx($,{item:!0,xs:12,lg:6,children:t.jsxs(Oe,{sx:{height:"100%"},children:[t.jsx($e,{sx:{p:3},children:t.jsxs(de,{direction:"row",spacing:3,children:[t.jsx(ce,{variant:"circular",width:64,height:64}),t.jsxs(D,{sx:{flex:1},children:[t.jsx(ce,{variant:"text",sx:{fontSize:"1.25rem",width:"70%",mb:1}}),t.jsx(ce,{variant:"text",sx:{width:"50%",mb:2}}),t.jsx(de,{direction:"row",spacing:1,mb:2,children:t.jsx(ce,{variant:"rectangular",width:80,height:24,sx:{borderRadius:1}})}),t.jsxs(de,{spacing:1,children:[t.jsx(ce,{variant:"text",sx:{width:"60%"}}),t.jsx(ce,{variant:"text",sx:{width:"40%"}})]})]})]})}),t.jsxs(tc,{sx:{px:3,pb:3},children:[t.jsx(ce,{variant:"rectangular",width:100,height:36,sx:{borderRadius:1}}),t.jsx(ce,{variant:"rectangular",width:120,height:36,sx:{borderRadius:1,ml:1}})]})]})},Y))})]})});const B=e.filter(k=>k.statusId===fn.ACTIVE),q=e.reduce((k,Y)=>k+Y.tier.price/100,0);return t.jsx(D,{sx:{p:{xs:2,md:4}},children:t.jsxs(de,{spacing:4,children:[o&&t.jsx(it,{severity:"error",onClose:()=>a(null),sx:{borderRadius:2},children:o}),c&&t.jsx(it,{severity:"success",onClose:()=>u(null),sx:{borderRadius:2},children:c}),t.jsxs(D,{children:[t.jsx(v,{variant:"h4",sx:{fontWeight:600,mb:1},children:"My Subscriptions"}),t.jsx(v,{variant:"body1",color:"text.secondary",children:"Manage your channel subscriptions and contributions"})]}),e.length>0&&t.jsxs($,{container:!0,spacing:3,children:[t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(dt,{sx:{p:3,borderRadius:3,background:`linear-gradient(135deg, ${j.palette.primary.main} 0%, ${j.palette.primary.dark} 100%)`,color:"white"},children:t.jsxs(de,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(D,{children:[t.jsx(v,{variant:"h4",sx:{fontWeight:700,mb:.5},children:B.length}),t.jsx(v,{variant:"body2",sx:{opacity:.9},children:"Active"})]}),t.jsx(Gr,{sx:{fontSize:40,opacity:.8}})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(dt,{sx:{p:3,borderRadius:3,background:`linear-gradient(135deg, ${j.palette.success.main} 0%, ${j.palette.success.dark} 100%)`,color:"white"},children:t.jsxs(de,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(D,{children:[t.jsxs(v,{variant:"h4",sx:{fontWeight:700,mb:.5},children:["$",q.toFixed(0)]}),t.jsx(v,{variant:"body2",sx:{opacity:.9},children:"Monthly Value"})]}),t.jsx(qh,{sx:{fontSize:40,opacity:.8}})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(dt,{sx:{p:3,borderRadius:3,border:`1px solid ${j.palette.divider}`},children:t.jsxs(de,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(D,{children:[t.jsx(v,{variant:"h4",sx:{fontWeight:700,mb:.5,color:"text.primary"},children:e.length}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Total"})]}),t.jsx(mi,{sx:{fontSize:40,color:"text.secondary"}})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(dt,{sx:{p:3,borderRadius:3,border:`1px solid ${j.palette.divider}`},children:t.jsxs(de,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsxs(D,{children:[t.jsx(v,{variant:"h4",sx:{fontWeight:700,mb:.5,color:"text.primary"},children:e.filter(k=>k.autoContribute).length}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Auto-contribute"})]}),t.jsx(LI,{sx:{fontSize:40,color:"text.secondary"}})]})})})]}),e.length===0?t.jsx(dt,{sx:{textAlign:"center",py:8,px:4,borderRadius:4,background:`linear-gradient(135deg, ${Ee(j.palette.primary.main,.02)} 0%, ${Ee(j.palette.primary.main,.05)} 100%)`,border:`1px solid ${Ee(j.palette.primary.main,.1)}`},children:t.jsxs(D,{sx:{maxWidth:400,mx:"auto"},children:[t.jsx(mi,{sx:{fontSize:80,color:"primary.main",opacity:.6,mb:3}}),t.jsx(v,{variant:"h5",sx:{fontWeight:600,mb:2},children:"No Subscriptions Yet"}),t.jsx(v,{variant:"body1",color:"text.secondary",sx:{mb:4,lineHeight:1.6},children:"Discover amazing channels and support creators by subscribing to their content. Your subscriptions will appear here."}),t.jsx(pe,{variant:"contained",size:"large",href:"/app/channels",sx:{borderRadius:2,py:1.5,px:4,textTransform:"none",fontSize:"1rem",fontWeight:600},children:"Explore Channels"})]})}):t.jsx($,{container:!0,spacing:3,children:e.map(k=>t.jsx($,{item:!0,xs:12,lg:6,children:t.jsxs(Oe,{sx:{height:"100%",borderRadius:3,border:`1px solid ${j.palette.divider}`,transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:j.shadows[8]}},children:[t.jsx($e,{sx:{p:3},children:t.jsxs(de,{direction:"row",spacing:3,children:[t.jsx(Dn,{sx:{width:64,height:64,border:`2px solid ${j.palette.divider}`,fontSize:"1.5rem",fontWeight:600},src:`https://via.placeholder.com/64x64?text=${k.channel.name.charAt(0)}`,children:k.channel.name.charAt(0)}),t.jsxs(D,{sx:{flex:1,minWidth:0},children:[t.jsxs(de,{direction:"row",alignItems:"flex-start",justifyContent:"space-between",mb:1,children:[t.jsx(v,{variant:"h6",sx:{fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:k.channel.name}),t.jsx(We,{size:"small",sx:{ml:1},children:t.jsx(Kh,{fontSize:"small"})})]}),t.jsxs(de,{direction:"row",alignItems:"center",spacing:2,mb:2,children:[t.jsx(v,{variant:"body2",color:"text.secondary",children:k.tier.name}),t.jsxs(v,{variant:"body2",sx:{fontWeight:600,color:"primary.main"},children:[M(k.tier.price,k.tier.currency),"/month"]})]}),t.jsxs(de,{direction:"row",spacing:1,mb:2,flexWrap:"wrap",children:[t.jsx(Ze,{label:R(k.statusId),color:T(k.statusId),size:"small",sx:{borderRadius:1}}),k.autoContribute&&t.jsx(Ze,{label:"Auto-contribute",variant:"outlined",size:"small",sx:{borderRadius:1}})]}),t.jsxs(de,{spacing:.5,children:[t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Started: ",N(k.subscribedAt)]}),k.expiresAt&&t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Expires: ",N(k.expiresAt)]}),k.totalContributions>0&&t.jsxs(v,{variant:"caption",color:"success.main",children:["Total contributed: ",M(k.totalContributions,k.tier.currency)]})]})]})]})}),t.jsx(rn,{}),t.jsxs(tc,{sx:{p:3,pt:2},children:[t.jsx(pe,{variant:"outlined",size:"small",href:`${ye.APP_CHANNEL_VIEW}`.replace(":id",k.channel.id),endIcon:t.jsx($I,{}),sx:{borderRadius:1.5,textTransform:"none",fontWeight:500},children:"View Channel"}),W(k)&&t.jsx(pe,{variant:"text",color:"error",size:"small",startIcon:t.jsx(oo,{}),onClick:()=>A(k),sx:{borderRadius:1.5,textTransform:"none",fontWeight:500,ml:"auto"},children:"Cancel"})]})]})},k.id))}),t.jsxs(sn,{open:d,onClose:E,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:3,p:1}},children:[t.jsx(pn,{sx:{pb:1},children:t.jsx(v,{variant:"h5",sx:{fontWeight:600},children:"Cancel Subscription"})}),t.jsx(on,{sx:{pb:2},children:t.jsxs(de,{spacing:2,children:[t.jsxs(v,{variant:"body1",children:["Are you sure you want to cancel your subscription to"," ",t.jsx(v,{component:"span",sx:{fontWeight:600,color:"primary.main"},children:p==null?void 0:p.channel.name}),"?"]}),t.jsx(dt,{sx:{p:2,borderRadius:2,bgcolor:Ee(j.palette.warning.main,.05),border:`1px solid ${Ee(j.palette.warning.main,.2)}`},children:t.jsxs(v,{variant:"body2",color:"text.secondary",children:["You will continue to have access until your current billing period ends",(p==null?void 0:p.expiresAt)&&t.jsxs(v,{component:"span",sx:{fontWeight:500},children:[" ","on ",N(p.expiresAt)]}),"."]})})]})}),t.jsxs(an,{sx:{p:3,pt:1},children:[t.jsx(pe,{onClick:E,disabled:x,variant:"outlined",sx:{borderRadius:2,textTransform:"none",fontWeight:500,px:3},children:"Keep Subscription"}),t.jsx(pe,{onClick:C,color:"error",variant:"contained",disabled:x,sx:{borderRadius:2,textTransform:"none",fontWeight:500,px:3},children:x?"Canceling...":"Cancel Subscription"})]})]})]})})};function Yd(e){const{children:n,value:r,index:s,...o}=e;return t.jsx("div",{role:"tabpanel",hidden:r!==s,id:`account-tabpanel-${s}`,"aria-labelledby":`account-tab-${s}`,...o,children:r===s&&t.jsx(D,{sx:{py:3},children:n})})}function qd(e){return{id:`account-tab-${e}`,"aria-controls":`account-tabpanel-${e}`}}const kL=()=>{const[e,n]=b.useState(0),r=(s,o)=>{console.log("handleTabChange",s,o),n(o)};return t.jsxs(bt,{maxWidth:"lg",sx:{mt:4,mb:4},children:[t.jsx(v,{variant:"h4",gutterBottom:!0,children:"Account Settings"}),t.jsxs(dt,{sx:{width:"100%",mt:3},children:[t.jsx(D,{sx:{borderBottom:1,borderColor:"divider"},children:t.jsxs(so,{value:e,onChange:r,"aria-label":"account settings tabs",variant:"fullWidth",children:[t.jsx(ir,{icon:t.jsx(FI,{}),label:"Profile",...qd(0)}),t.jsx(ir,{icon:t.jsx(Ma,{}),label:"Payment Methods",...qd(1)}),t.jsx(ir,{icon:t.jsx(mi,{}),label:"Subscriptions",...qd(2)})]})}),t.jsx(Yd,{value:e,index:0,children:t.jsx(CL,{})}),t.jsx(Yd,{value:e,index:1,children:t.jsx(IL,{})}),t.jsx(Yd,{value:e,index:2,children:t.jsx(ML,{})})]})]})},ip=({status:e,...n})=>{const r=s=>{switch(s){case Ye.APPROVED:case Ye.PAID:return"success";case Ye.REJECTED:case Ye.CANCELLED:return"error";case Ye.SUBMITTED:case Ye.UNDER_REVIEW:return"info";case Ye.DRAFT:default:return"default"}};return t.jsx(Ze,{label:ha[e],color:r(e),size:"small",variant:"filled",sx:{borderRadius:1,fontWeight:500,fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px",...n.sx},...n})},r0={TRAVEL:1,EQUIPMENT:2,ACCOMMODATION:3,FOOD:4,COMMUNICATION:5,LABOR:6,OTHER:7},s0={TRAVEL:"Travel",EQUIPMENT:"Equipment",ACCOMMODATION:"Accommodation",FOOD:"Food",COMMUNICATION:"Communication",LABOR:"Labor",OTHER:"Other"},NL=e=>{const n=Object.entries(r0).find(([r,s])=>s===e);return n?s0[n[0]]:"Unknown"},o0=()=>Object.entries(r0).map(([e,n])=>({id:n,name:s0[e]})),ap=({expenseOrder:e,onView:n,onEdit:r,onSubmit:s,onCancel:o,onApprove:a,onReject:c,onProcessPayment:u,showActions:d=!0,userRole:h="journalist"})=>{const[p,m]=Ut.useState(null),x=!!p,y=N=>{m(N.currentTarget)},g=()=>{m(null)},w=(N,M)=>new Intl.NumberFormat("en-US",{style:"currency",currency:M}).format(N),j=e.status===Ye.DRAFT,P=e.status===Ye.DRAFT,C=[Ye.DRAFT,Ye.SUBMITTED].includes(e.status),A=[Ye.SUBMITTED,Ye.UNDER_REVIEW].includes(e.status),E=[Ye.SUBMITTED,Ye.UNDER_REVIEW].includes(e.status),T=e.status===Ye.APPROVED,R=()=>{const N=[];return n&&N.push(t.jsxs(je,{onClick:()=>{n(e),g()},children:[t.jsx(ys,{sx:{mr:1},fontSize:"small"}),"View Details"]},"view")),h==="journalist"?(j&&r&&N.push(t.jsxs(je,{onClick:()=>{r(e),g()},children:[t.jsx(as,{sx:{mr:1},fontSize:"small"}),"Edit"]},"edit")),P&&s&&N.push(t.jsxs(je,{onClick:()=>{s(e),g()},children:[t.jsx($c,{sx:{mr:1},fontSize:"small"}),"Submit for Approval"]},"submit")),C&&o&&N.push(t.jsxs(je,{onClick:()=>{o(e),g()},sx:{color:"error.main"},children:[t.jsx(nc,{sx:{mr:1},fontSize:"small"}),"Cancel"]},"cancel"))):(h==="admin"||h==="finance-manager")&&(A&&a&&N.push(t.jsx(je,{onClick:()=>{a(e),g()},sx:{color:"success.main"},children:"Approve"},"approve")),E&&c&&N.push(t.jsx(je,{onClick:()=>{c(e),g()},sx:{color:"error.main"},children:"Reject"},"reject")),T&&u&&N.push(t.jsx(je,{onClick:()=>{u(e),g()},sx:{color:"primary.main"},children:"Process Payment"},"process-payment"))),N};return t.jsxs(Zc,{children:[t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[t.jsxs(D,{sx:{flex:1},children:[t.jsx(v,{variant:"h6",component:"h3",sx:{mb:1,fontWeight:600},children:e.title}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:1},children:e.description}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:[e.channel.name," • ",NL(e.type.id)]})]}),t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(ip,{status:e.status}),d&&t.jsx(We,{size:"small",onClick:y,children:t.jsx(Kh,{})})]})]}),t.jsx(rn,{sx:{my:2}}),t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs(D,{children:[t.jsx(v,{variant:"h5",component:"span",sx:{fontWeight:700,color:"primary.main"},children:w(e.amount,e.currency)}),e.receiptUrl&&t.jsx(pt,{title:"Receipt attached",children:t.jsx(Os,{sx:{ml:1,color:"success.main"},fontSize:"small"})})]}),t.jsx(v,{variant:"caption",color:"text.secondary",children:ss(new Date(e.createdAt),{addSuffix:!0})})]}),e.notes&&t.jsx(D,{sx:{mt:2},children:t.jsxs(v,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:['"',e.notes,'"']})}),e.rejectionReason&&t.jsx(D,{sx:{mt:2,p:2,bgcolor:"error.lighter",borderRadius:1},children:t.jsxs(v,{variant:"body2",color:"error.main",sx:{fontWeight:500},children:["Rejection Reason: ",e.rejectionReason]})}),t.jsx(ro,{anchorEl:p,open:x,onClose:g,PaperProps:{sx:{minWidth:180}},children:R()})]})};function LL(e){const{children:n,value:r,index:s,...o}=e;return t.jsx("div",{role:"tabpanel",hidden:r!==s,id:`expense-order-tabpanel-${s}`,"aria-labelledby":`expense-order-tab-${s}`,...o,children:r===s&&t.jsx(D,{sx:{py:3},children:n})})}const $L=()=>{const e=It(),{api:n}=Je(),[r,s]=b.useState(0),[o,a]=b.useState([]),[c,u]=b.useState(!0),{execute:d}=et(),h=[{label:"All",status:void 0},{label:"Draft",status:Ye.DRAFT},{label:"Submitted",status:Ye.SUBMITTED},{label:"Approved",status:Ye.APPROVED},{label:"Paid",status:Ye.PAID},{label:"Rejected",status:Ye.REJECTED}],p=async P=>{u(!0);const C=await d(()=>n.expenseOrderApi.getMyExpenseOrders({page:1,limit:50},P),{showErrorToast:!0});C&&a(C.items),u(!1)};b.useEffect(()=>{p(h[r].status)},[r,d]);const m=(P,C)=>{s(C)},x=P=>{e(ye.APP_EXPENSE_ORDER_VIEW.replace(":id",P.id))},y=P=>{e(ye.STUDIO_EXPENSE_ORDER_EDIT.replace(":id",P.id))},g=async P=>{await d(()=>n.expenseOrderApi.submitExpenseOrder(P.id),{showSuccessMessage:!0,successMessage:"Expense order submitted successfully!"})&&p(h[r].status)},w=async P=>{await d(()=>n.expenseOrderApi.cancelExpenseOrder(P.id),{showSuccessMessage:!0,successMessage:"Expense order cancelled successfully!"})&&p(h[r].status)},j=()=>{e(ye.STUDIO_EXPENSE_ORDER_CREATE)};return t.jsxs(D,{sx:{p:3},children:[t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[t.jsx(v,{variant:"h4",component:"h1",sx:{fontWeight:600},children:"My Expense Orders"}),t.jsx(pe,{variant:"contained",startIcon:t.jsx(Ur,{}),onClick:j,children:"Create New"})]}),t.jsx(D,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:t.jsx(so,{value:r,onChange:m,"aria-label":"expense order status tabs",children:h.map((P,C)=>t.jsx(ir,{label:P.label},C))})}),h.map((P,C)=>t.jsx(LL,{value:r,index:C,children:c?t.jsx(D,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(zn,{})}):o.length===0?t.jsxs(D,{sx:{textAlign:"center",py:8},children:[t.jsx(v,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"No expense orders found"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:P.status?`No ${P.label.toLowerCase()} expense orders`:"You haven't created any expense orders yet"}),t.jsx(pe,{variant:"contained",startIcon:t.jsx(Ur,{}),onClick:j,children:"Create Your First Expense Order"})]}):t.jsx($,{container:!0,spacing:3,children:o.map(A=>t.jsx($,{item:!0,xs:12,md:6,lg:4,children:t.jsx(ap,{expenseOrder:A,onView:x,onEdit:y,onSubmit:g,onCancel:w,userRole:"journalist"})},A.id))})},C))]})},FL=()=>{const e=It(),{id:n}=qr(),{api:r}=Je(),[s,o]=b.useState(null),[a,c]=b.useState(!0),[u,d]=b.useState(!1),[h,p]=b.useState(null),{execute:m}=et(),x=async()=>{if(!n)return;c(!0),p(null);const T=await m(()=>r.expenseOrderApi.getExpenseOrder(n),{showErrorToast:!0});T&&o(T),c(!1)};b.useEffect(()=>{x()},[n]);const y=(T,R)=>new Intl.NumberFormat("en-US",{style:"currency",currency:R}).format(T),g=()=>{e(ye.APP_EXPENSE_ORDERS)},w=()=>{s&&e(ye.STUDIO_EXPENSE_ORDER_EDIT.replace(":id",s.id))},j=async()=>{if(!s)return;d(!0),await m(()=>r.expenseOrderApi.submitExpenseOrder(s.id),{showSuccessMessage:!0,successMessage:"Expense order submitted successfully!"})&&await x(),d(!1)},P=async()=>{if(!s)return;d(!0),await m(()=>r.expenseOrderApi.cancelExpenseOrder(s.id),{showSuccessMessage:!0,successMessage:"Expense order cancelled successfully!"})&&await x(),d(!1)};if(a)return t.jsx(D,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:t.jsx(zn,{})});if(h||!s)return t.jsxs(D,{sx:{p:3},children:[t.jsx(it,{severity:"error",children:h||"Expense order not found"}),t.jsx(pe,{startIcon:t.jsx(Js,{}),onClick:g,sx:{mt:2},children:"Back to Expense Orders"})]});const C=s.status===Ye.DRAFT,A=s.status===Ye.DRAFT,E=[Ye.DRAFT,Ye.SUBMITTED].includes(s.status);return t.jsxs(D,{sx:{p:3},children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(pe,{startIcon:t.jsx(Js,{}),onClick:g,sx:{mr:2},children:"Back"}),t.jsx(v,{variant:"h4",component:"h1",sx:{fontWeight:600,flex:1},children:"Expense Order Details"}),t.jsx(ip,{status:s.status})]}),h&&t.jsx(it,{severity:"error",sx:{mb:3},children:h}),t.jsxs($,{container:!0,spacing:3,children:[t.jsxs($,{item:!0,xs:12,md:8,children:[t.jsxs(dt,{sx:{p:3,mb:3},children:[t.jsx(v,{variant:"h5",sx:{mb:2,fontWeight:600},children:s.title}),t.jsx(v,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:s.description}),t.jsx(rn,{sx:{my:3}}),t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Channel"}),t.jsx(v,{variant:"body1",sx:{fontWeight:500},children:s.channel.name})]}),t.jsxs($,{item:!0,xs:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Expense Type"}),t.jsx(v,{variant:"body1",sx:{fontWeight:500},children:s.type.name})]}),t.jsxs($,{item:!0,xs:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Amount"}),t.jsx(v,{variant:"h6",sx:{fontWeight:700,color:"primary.main"},children:y(s.amount,s.currency)})]}),t.jsxs($,{item:!0,xs:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(v,{variant:"body1",children:Xf(new Date(s.createdAt),"PPP")})]})]}),s.receiptUrl&&t.jsxs(t.Fragment,{children:[t.jsx(rn,{sx:{my:3}}),t.jsxs(D,{children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Receipt"}),t.jsxs(Lc,{href:s.receiptUrl,target:"_blank",rel:"noopener noreferrer",sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Os,{fontSize:"small"}),"View Receipt"]})]})]}),s.notes&&t.jsxs(t.Fragment,{children:[t.jsx(rn,{sx:{my:3}}),t.jsxs(D,{children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Notes"}),t.jsx(v,{variant:"body1",sx:{fontStyle:"italic"},children:s.notes})]})]})]}),t.jsxs(dt,{sx:{p:3},children:[t.jsx(v,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Actions"}),t.jsxs(D,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[C&&t.jsx(pe,{variant:"outlined",startIcon:t.jsx(as,{}),onClick:w,disabled:u,children:"Edit"}),A&&t.jsx(pe,{variant:"contained",startIcon:t.jsx($c,{}),onClick:j,disabled:u,children:"Submit for Approval"}),E&&t.jsx(pe,{variant:"outlined",color:"error",startIcon:t.jsx(oo,{}),onClick:P,disabled:u,children:"Cancel"})]})]})]}),t.jsxs($,{item:!0,xs:12,md:4,children:[t.jsxs(dt,{sx:{p:3,mb:3},children:[t.jsx(v,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Timeline"}),t.jsxs(D,{sx:{display:"flex",flexDirection:"column",gap:2},children:[t.jsxs(D,{children:[t.jsx(v,{variant:"body2",sx:{fontWeight:500},children:"Created"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:ss(new Date(s.createdAt),{addSuffix:!0})})]}),s.submittedAt&&t.jsxs(D,{children:[t.jsx(v,{variant:"body2",sx:{fontWeight:500},children:"Submitted"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:ss(new Date(s.submittedAt),{addSuffix:!0})})]}),s.approvedAt&&t.jsxs(D,{children:[t.jsx(v,{variant:"body2",sx:{fontWeight:500},children:s.status===Ye.APPROVED?"Approved":"Reviewed"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:ss(new Date(s.approvedAt),{addSuffix:!0})}),s.approver&&t.jsxs(v,{variant:"caption",display:"block",color:"text.secondary",children:["by ",s.approver.displayName]})]}),s.paidAt&&t.jsxs(D,{children:[t.jsx(v,{variant:"body2",sx:{fontWeight:500},children:"Paid"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:ss(new Date(s.paidAt),{addSuffix:!0})}),s.paymentReference&&t.jsxs(v,{variant:"caption",display:"block",color:"text.secondary",children:["Ref: ",s.paymentReference]})]})]})]}),s.rejectionReason&&t.jsxs(dt,{sx:{p:3,bgcolor:"error.lighter"},children:[t.jsx(v,{variant:"h6",sx:{mb:1,fontWeight:600,color:"error.main"},children:"Rejection Reason"}),t.jsx(v,{variant:"body2",color:"error.main",children:s.rejectionReason})]})]})]})]})},WL=Me(Oe)(({theme:e})=>({marginBottom:e.spacing(2),cursor:"pointer",transition:"all 0.2s ease","&:hover":{boxShadow:e.shadows[4],transform:"translateY(-1px)"}})),pb=Me(Ze)(({theme:e})=>({margin:e.spacing(.5),fontSize:"0.75rem"})),mb=()=>{var se;const e=ao(),n=It(),[r,s]=b.useState(1),[o,a]=b.useState(""),[c,u]=b.useState(!0),[d,h]=b.useState([]),[p,m]=b.useState(null),[x,y]=b.useState(!1),[g,w]=b.useState(null),[j,P]=b.useState({type:"all",sortBy:"relevance"}),[C,A]=b.useState(null),{api:E}=Je(),{execute:T}=et(),R=20;b.useEffect(()=>{const ne=new URLSearchParams(e.search),ee=ne.get("q"),G=ne.get("type");if(ee){a(ee);const re={...j};G&&G!=="all"&&(re.type=G,P(re)),W(ee,re)}},[e.search]),b.useEffect(()=>{o&&(s(1),M(1))},[j]);const N=()=>{M(r+1)},M=async(ne=r)=>{if(o){y(!0),w(null);try{const ee={};Object.entries(j).forEach(([re,Pe])=>{if(Pe!=null&&Pe!=="")if(re==="type"&&typeof Pe=="string"){const fe=gv[Pe];fe!==void 0&&(ee.type=fe)}else if(re==="sortBy"&&typeof Pe=="string"){const fe=bv[Pe];fe!==void 0&&(ee.sortBy=fe)}else ee[re]=Pe});const G=await T(()=>E==null?void 0:E.searchApi.search(o,ee,{page:ne,limit:R}),{showErrorToast:!0});G&&(h(ne===1?G.items??[]:re=>[...re,...G.items??[]]),s(G.metadata.currentPage??1),u(G.metadata.hasNext===!0),m(G))}catch(ee){console.error("Search error:",ee),w(ee.message||"Search failed")}finally{y(!1)}}},W=async(ne,ee)=>{P(ee||j),a(ne),s(1),h([]),u(!0),setTimeout(()=>{M(1)},0)},B=ne=>{const ee={...j,...ne};A(null),o&&W(o,ee)},q=(ne,ee)=>{const G=encodeURIComponent(ne);switch(ee){case"news":n(`${ye.APP_NEWS}?tags=${G}`);break;case"channel":n(`${ye.APP_CHANNELS}?tags=${G}`);break;case"poll":n(`${ye.APP_POLLS}?tags=${G}`);break;default:n(`${ye.APP_NEWS}?tags=${G}`);break}},k=ne=>{var Pe,fe;const ee=()=>{switch(ne.type){case"news":return t.jsx(Ro,{color:"primary"});case"channel":return t.jsx(Hh,{color:"secondary"});case"user":return t.jsx(zh,{color:"action"});case"poll":return t.jsx(Gh,{color:"info"});case"tag":return t.jsx(Yh,{color:"success"});default:return t.jsx(Ro,{color:"primary"})}},G=()=>{switch(ne.type){case"news":return"primary";case"channel":return"secondary";case"user":return"default";case"poll":return"info";case"tag":return"success";default:return"default"}},re=()=>{switch(ne.type){case"news":n(ye.APP_NEWS_VIEW.replace(":id",ne.id));break;case"channel":n(ye.APP_CHANNEL_VIEW.replace(":channelId",ne.id));break;case"poll":n(ye.APP_POLL_VIEW.replace(":id",ne.id));break;case"tag":n(`${ye.APP_SEARCH}?q=${encodeURIComponent(ne.title)}`);break}};return t.jsx(WL,{onClick:re,children:t.jsx($e,{children:t.jsxs(D,{sx:{display:"flex",alignItems:"flex-start",gap:2},children:[t.jsx(D,{sx:{mt:.5},children:ee()}),t.jsxs(D,{sx:{flexGrow:1},children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[t.jsx(v,{variant:"h6",component:"h3",sx:{fontWeight:600},children:ne.title}),t.jsx(Ze,{label:ne.type,size:"small",color:G(),variant:"outlined"})]}),ne.description&&t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:1,lineHeight:1.6},children:ne.description}),t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap",mb:1},children:[ne.channel&&t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Dn,{sx:{width:20,height:20},children:(fe=(Pe=ne==null?void 0:ne.channel)==null?void 0:Pe.name)==null?void 0:fe.charAt(0)}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["in ",t.jsx("strong",{children:ne.channel.name})," (@",ne.channel.handle,")"]})]}),ne.handle&&t.jsxs(v,{variant:"caption",color:"text.secondary",children:["@",ne.handle]}),ne.publishedAt&&t.jsx(v,{variant:"caption",color:"text.secondary",children:new Date(ne.publishedAt).toLocaleDateString()}),ne.startDate&&t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Start: ",new Date(ne.startDate).toLocaleDateString()]}),ne.endDate&&t.jsxs(v,{variant:"caption",color:"text.secondary",children:["End: ",new Date(ne.endDate).toLocaleDateString()]}),ne.voteCount!==void 0&&t.jsx(pb,{label:`${ne.voteCount} votes`,size:"small",variant:"outlined",color:"info"}),ne.usageCount!==void 0&&t.jsx(pb,{label:`${ne.usageCount} uses`,size:"small",variant:"outlined",color:"success"})]}),ne.tags&&ne.tags.length>0&&t.jsx(D,{sx:{display:"flex",gap:.5,flexWrap:"wrap",mb:1},children:ne.tags.slice(0,5).map((Ie,le)=>t.jsx(Ze,{label:Ie,size:"small",variant:"outlined",onClick:oe=>{oe.stopPropagation(),q(Ie,ne.type)},sx:{fontSize:"0.7rem",cursor:"pointer","&:hover":{backgroundColor:"primary.main",color:"primary.contrastText"}}},le))}),t.jsxs(D,{sx:{display:"flex",justifyContent:"flex-end",gap:1,pt:1},children:[t.jsx(pt,{title:"Bookmark",children:t.jsx(We,{size:"small",children:t.jsx(UI,{fontSize:"small"})})}),t.jsx(pt,{title:"Share",children:t.jsx(We,{size:"small",children:t.jsx(zI,{fontSize:"small"})})})]})]})]})})},ne.id)},Y=()=>t.jsx(t.Fragment,{children:Array.from({length:5}).map((ne,ee)=>t.jsxs(dt,{sx:{p:2,mb:2},children:[t.jsx(ce,{variant:"text",width:"60%",height:32}),t.jsx(ce,{variant:"text",width:"100%",height:20,sx:{mt:1}}),t.jsx(ce,{variant:"text",width:"80%",height:20}),t.jsxs(D,{sx:{display:"flex",gap:1,mt:1},children:[t.jsx(ce,{variant:"rounded",width:60,height:24}),t.jsx(ce,{variant:"rounded",width:80,height:24})]})]},ee))}),U=!!C,H=ne=>{A(ne.currentTarget)},X=()=>{A(null)};return t.jsxs(bt,{maxWidth:"lg",sx:{py:3},children:[(d.length>0||x)&&o&&t.jsxs(D,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[t.jsxs(D,{children:[t.jsx(v,{variant:"h5",sx:{mb:1},children:"Search Results"}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Found ",(((se=p==null?void 0:p.metadata)==null?void 0:se.total)||0).toLocaleString(),' results for "',o,'"']}),(j.type!=="all"||j.sortBy!=="relevance")&&t.jsxs(de,{direction:"row",spacing:1,sx:{mt:2},children:[t.jsx(v,{variant:"caption",color:"text.secondary",children:"Active filters:"}),j.type!=="all"&&t.jsx(Ze,{label:`Type: ${j.type}`,size:"small",onDelete:()=>B({type:"all"})}),j.sortBy!=="relevance"&&t.jsx(Ze,{label:`Sort: ${j.sortBy}`,size:"small",onDelete:()=>B({sortBy:"relevance"})})]})]}),t.jsx(pe,{variant:"outlined",startIcon:t.jsx(Oy,{}),onClick:H,sx:{minWidth:120},children:"Filters"})]}),t.jsx(WI,{open:U,anchorEl:C,onClose:X,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:t.jsxs(dt,{sx:{p:3,minWidth:280},children:[t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[t.jsx(v,{variant:"h6",children:"Filters"}),t.jsx(We,{size:"small",onClick:X,children:t.jsx(BI,{fontSize:"small"})})]}),t.jsxs(vt,{fullWidth:!0,sx:{mb:2},children:[t.jsx(Tt,{children:"Content Type"}),t.jsxs(St,{value:j.type||"all",label:"Content Type",onChange:ne=>B({type:ne.target.value}),children:[t.jsx(je,{value:"all",children:"All Content"}),t.jsx(je,{value:"news",children:"Articles"}),t.jsx(je,{value:"channels",children:"Channels"}),t.jsx(je,{value:"users",children:"Journalists"}),t.jsx(je,{value:"polls",children:"Polls"}),t.jsx(je,{value:"tags",children:"Tags"})]})]}),t.jsxs(vt,{fullWidth:!0,sx:{mb:2},children:[t.jsx(Tt,{children:"Sort By"}),t.jsxs(St,{value:j.sortBy||"relevance",label:"Sort By",onChange:ne=>B({sortBy:ne.target.value}),children:[t.jsx(je,{value:"relevance",children:"Relevance"}),t.jsx(je,{value:"date",children:"Date"}),t.jsx(je,{value:"popularity",children:"Popularity"})]})]}),t.jsx(v,{variant:"subtitle2",sx:{mb:1},children:"Time Period"}),t.jsxs(VI,{value:j.dateFrom?"custom":"all",exclusive:!0,onChange:(ne,ee)=>{if(ee==="all")B({dateFrom:void 0,dateTo:void 0});else if(ee){const G=new Date,Pe={day:1,week:7,month:30,year:365}[ee]||0,fe=new Date(G.getTime()-Pe*24*60*60*1e3);B({dateFrom:fe,dateTo:G})}},size:"small",sx:{mb:2,width:"100%"},children:[t.jsx(kd,{value:"all",sx:{flex:1},children:"All"}),t.jsx(kd,{value:"week",sx:{flex:1},children:"Week"}),t.jsx(kd,{value:"month",sx:{flex:1},children:"Month"})]})]})}),g&&t.jsx(it,{severity:"error",sx:{mb:3},children:g}),x&&d.length===0&&Y(),d.length===0&&!x&&o?t.jsxs(dt,{sx:{p:4,textAlign:"center"},children:[t.jsx(v,{variant:"h6",color:"text.secondary",children:"No results found"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Try adjusting your search terms or filters"})]}):d.length>0?t.jsx(No,{dataLength:d.length,next:N,hasMore:c,loader:t.jsx(D,{sx:{mt:2},children:Y()}),endMessage:t.jsx(D,{sx:{textAlign:"center",mt:4,color:"text.secondary",fontSize:"0.875rem"},children:"No more results to display"}),children:d.map(k)}):null,!x&&!p&&!g&&t.jsxs(dt,{sx:{p:6,textAlign:"center"},children:[t.jsx(v,{variant:"h5",color:"text.secondary",sx:{mb:2},children:"Start your search"}),t.jsx(v,{variant:"body1",color:"text.secondary",children:"Search for articles, channels, journalists, polls, or tags to get started"})]})]})};var lp={},BL=at;Object.defineProperty(lp,"__esModule",{value:!0});var i0=lp.default=void 0,VL=BL(lt()),UL=t;i0=lp.default=(0,VL.default)((0,UL.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload");const Dh=({label:e,value:n,onChange:r})=>{const s=async o=>{var a;(a=o.target.files)==null||a[0]};return t.jsx(D,{sx:{width:"100%",height:200,border:"2px dashed",borderColor:"divider",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden"},children:n?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:n,alt:"Cover",style:{width:"100%",height:"100%",objectFit:"cover"}}),t.jsx(pe,{onClick:()=>r(null),sx:{position:"absolute",bottom:8,right:8},children:"Remove"})]}):t.jsxs(pe,{component:"label",startIcon:t.jsx(i0,{}),children:[e??"Upload Image",t.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:s})]})})};var cp={},zL=at;Object.defineProperty(cp,"__esModule",{value:!0});var a0=cp.default=void 0,HL=zL(lt()),GL=t;a0=cp.default=(0,HL.default)((0,GL.jsx)("path",{d:"M14 2H6.01c-1.1 0-2 .89-2 2L4 20c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8zm-1 7V3.5L18.5 9zm1 5 2-1.06v4.12L14 16v1c0 .55-.45 1-1 1H9c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h4c.55 0 1 .45 1 1z"}),"VideoFile");var up={},YL=at;Object.defineProperty(up,"__esModule",{value:!0});var Lo=up.default=void 0,qL=YL(lt()),KL=t;Lo=up.default=(0,qL.default)((0,KL.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");const JL=({label:e,value:n,onChange:r})=>{const s=async a=>{var u;const c=(u=a.target.files)==null?void 0:u[0];if(c){if(c.size>52428800){alert("Video file size must be less than 50MB");return}const d=URL.createObjectURL(c);r(d)}},o=()=>{n&&URL.revokeObjectURL(n),r(null)};return t.jsx(D,{sx:{width:"100%",height:250,border:"2px dashed",borderColor:"divider",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",bgcolor:"background.paper"},children:n?t.jsxs(t.Fragment,{children:[t.jsx("video",{src:n,controls:!0,style:{width:"100%",height:"100%",objectFit:"cover"},preload:"metadata"}),t.jsx(pe,{onClick:o,startIcon:t.jsx(Lo,{}),color:"error",variant:"contained",size:"small",sx:{position:"absolute",bottom:8,right:8,opacity:.9},children:"Remove"})]}):t.jsxs(D,{sx:{textAlign:"center",p:3},children:[t.jsxs(pe,{component:"label",startIcon:t.jsx(a0,{}),variant:"outlined",size:"large",sx:{mb:2},children:[e??"Upload Video",t.jsx("input",{type:"file",hidden:!0,accept:"video/*",onChange:s})]}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"Upload short videos (max 50MB)"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:"Supported formats: MP4, WebM, MOV"})]})})},l0=({value:e,onChange:n,mediaTypeId:r,title:s="Media",description:o="Upload an image or video",useNewsFormats:a=!0})=>{const[c,u]=b.useState(0),d=a?mc.IMAGE:Ph.IMAGE,h=a?mc.VIDEO:Ph.VIDEO,p=y=>{n(y?{id:"0",url:y,type:r,format:d}:null)},m=y=>{n(y?{id:"0",url:y,type:r,format:h}:null)},x=(y,g)=>{u(g),e&&n(null)};return t.jsxs(D,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:s}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:o}),t.jsx(D,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:t.jsxs(so,{value:c,onChange:x,children:[t.jsx(ir,{label:"Image"}),t.jsx(ir,{label:"Video"})]})}),c===0&&t.jsx(Dh,{label:"Upload Image",value:(e==null?void 0:e.format)===d?e.url:null,onChange:p}),c===1&&t.jsx(JL,{label:"Upload Video",value:(e==null?void 0:e.format)===h?e.url:null,onChange:m})]})},c0=({initialData:e,onSubmit:n,submitButtonText:r,isEdit:s})=>{var E;const{profile:o,channelRelations:{hasChannel:a}}=js(),c=It();b.useEffect(()=>{o&&(!o.staffChannels||o.staffChannels.length)},[o]);const[u,d]=b.useState(()=>({title:(e==null?void 0:e.title)||"",channelId:(e==null?void 0:e.channelId)||"",status:(e==null?void 0:e.status)||Rn.PUBLISHED,requiredTierId:(e==null?void 0:e.requiredTierId)||null,isPremium:(e==null?void 0:e.isPremium)||!1,content:(e==null?void 0:e.content)||""})),[h,p]=b.useState(!1),[m,x]=b.useState(((E=e==null?void 0:e.media)==null?void 0:E[0])||null),[y,g]=b.useState((e==null?void 0:e.socialLinks)||[]),[w,j]=b.useState(null),P=[],C=async T=>{T.preventDefault(),p(!0),j(null);try{const R={...u,media:m?[m]:[],socialLinks:y};await n(R)}catch(R){console.error("Failed to submit news:",R),j("Failed to submit news")}finally{p(!1)}},A=b.useCallback(T=>{d(R=>({...R,content:JSON.stringify(T)}))},[]);return a()?t.jsx("form",{onSubmit:C,children:t.jsxs(de,{spacing:4,children:[w&&t.jsx(it,{severity:"error",sx:{width:"100%"},children:w}),o&&!a()&&t.jsx(it,{severity:"warning",action:t.jsx(pe,{color:"inherit",size:"small",onClick:()=>c(ye.STUDIO_CHANNEL_CREATE),children:"Create Channel"}),children:"You need to create a channel before you can create news articles"}),a()?t.jsxs(t.Fragment,{children:[t.jsxs(D,{children:[t.jsx(v,{variant:"h6",sx:{mb:3},children:"Media"}),t.jsx(de,{spacing:4,children:t.jsx(D,{children:t.jsx(l0,{title:"Cover Media",description:"Upload an image or short video that will be displayed at the top of your news article and in previews.",value:m?{id:m.id||"0",url:m.url,type:m.type,format:m.format}:null,onChange:T=>x(T?{id:T.id,url:T.url,type:T.type,format:T.format,newsId:""}:null),mediaTypeId:$a.COVER})})})]}),t.jsxs(D,{children:[t.jsx(v,{variant:"h6",sx:{mb:3},children:"Basic Info"}),t.jsxs(de,{spacing:4,children:[t.jsxs(D,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Title"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Create a clear and engaging title for your news article. This will be the first thing readers see."}),t.jsx(rt,{value:u.title,onChange:T=>d(R=>({...R,title:T.target.value})),required:!0,fullWidth:!0,placeholder:"Enter news title"})]}),t.jsxs(D,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Channel"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Select the channel where this news will be published. Choose the most relevant channel for your content."}),t.jsx(vt,{fullWidth:!0,disabled:s,children:t.jsx(St,{value:u.channelId,onChange:T=>d(R=>({...R,channelId:T.target.value})),required:!0,children:o==null?void 0:o.staffChannels.map(T=>t.jsx(je,{value:T.channelId,children:T.channel.name},T.id))})})]}),t.jsxs(D,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Content"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Write your news article using the editor below. You can add text, images, and other media elements."}),t.jsx(Qc,{data:u.content?JSON.parse(u.content):void 0,onChange:A,placeholder:"Start writing your news content...",borderColor:T=>T.palette.mode==="dark"?Ee(T.palette.common.white,.23):Ee(T.palette.common.black,.23)})]})]})]}),t.jsx(D,{children:t.jsx(zf,{links:y,onChange:g})}),t.jsxs(D,{children:[t.jsx(v,{variant:"h6",sx:{mb:3},children:"Publishing Options"}),t.jsxs(de,{spacing:4,children:[t.jsxs(D,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Premium Content"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Mark this content as premium to restrict access to specific subscribers."}),t.jsx(xa,{control:t.jsx(rc,{checked:u.isPremium,onChange:T=>d(R=>({...R,isPremium:T.target.checked}))}),label:"Premium Content"})]}),u.isPremium&&t.jsxs(D,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Required Subscription Tier"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Select which subscription tier is required to access this content. Higher tiers will automatically have access to content from lower tiers."}),t.jsx(vt,{fullWidth:!0,children:t.jsx(St,{value:u.requiredTierId||"",onChange:T=>d(R=>({...R,requiredTierId:T.target.value})),required:u.isPremium,children:P.map(T=>t.jsxs(je,{value:T.id,children:[T.name," - ",T.description]},T.id))})})]}),t.jsxs(D,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Status"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Set the visibility status of your news article."}),t.jsx(vt,{fullWidth:!0,children:t.jsxs(St,{value:u.status,onChange:T=>{const R=Number(T.target.value);d(N=>({...N,status:R}))},children:[t.jsx(je,{value:Rn.DRAFT,children:"Draft - Save for later"}),t.jsx(je,{value:Rn.PUBLISHED,children:"Published - Visible to readers"}),t.jsx(je,{value:Rn.PENDING_REVIEW,children:"Pending Review - Submit for approval"}),t.jsx(je,{value:Rn.ARCHIVED,children:"Archived - No longer visible"})]})})]})]})]}),t.jsx(pe,{type:"submit",variant:"contained",disabled:h||!a(),sx:{py:1.5,textTransform:"none",fontWeight:600},children:h?"Submitting...":r})]}):null]})}):t.jsx(D,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",p:3},children:t.jsx(lo,{title:"Channel Required",description:"You need to create a channel before you can start publishing news articles.",icon:t.jsx(La,{sx:{fontSize:48}}),action:{label:"Create Channel",onClick:()=>c(ye.STUDIO_CHANNEL_CREATE)}})})},XL=()=>{const{api:e}=Je(),n=It(),{execute:r}=et(),s=async o=>{const a=await r(()=>e==null?void 0:e.newsApi.createNews(o),{showSuccessMessage:!0,successMessage:"News article created successfully!"});a&&n(ye.APP_NEWS_VIEW.replace(":id",a.id))};return t.jsxs(D,{sx:{p:3,maxWidth:800},children:[t.jsx(v,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Create News"}),t.jsx(c0,{onSubmit:s,submitButtonText:"Create News",isCreate:!0})]})},QL=()=>{const{id:e}=qr(),n=It(),{api:r}=Je(),[s,o]=b.useState(null),{execute:a}=et(),{execute:c}=et();b.useEffect(()=>{(async()=>{if(!e)return;const h=await a(()=>r==null?void 0:r.newsApi.get(e),{showErrorToast:!0});h&&o(h)})()},[e,r==null?void 0:r.newsApi,a]);const u=async d=>{e&&(await c(()=>r==null?void 0:r.newsApi.update(e,d),{showSuccessMessage:!0,successMessage:"News article updated successfully!"}),n(`/news/${e}`))};return s?t.jsxs(bt,{sx:{maxWidth:800,mx:"auto",p:3},children:[t.jsx(v,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Update News"}),t.jsx(c0,{initialData:s,onSubmit:u,submitButtonText:"Update News",isEdit:!0})]}):null},ZL=()=>t.jsx(bt,{maxWidth:"lg",sx:{mt:4},children:t.jsxs($,{container:!0,spacing:4,children:[t.jsx($,{item:!0,xs:12,children:t.jsx(ce,{variant:"rectangular",width:"100%",height:300,sx:{borderRadius:2,mb:3}})}),t.jsx($,{item:!0,xs:12,md:8,children:t.jsx(Oe,{children:t.jsxs(D,{sx:{p:3},children:[t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[t.jsx(ce,{variant:"text",width:"60%",height:40}),t.jsx(de,{direction:"row",spacing:1,children:[1,2,3].map(e=>t.jsx(ce,{variant:"circular",width:40,height:40},e))})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:300,sx:{mb:3,borderRadius:1}}),t.jsxs(de,{spacing:2,sx:{mb:3},children:[t.jsx(ce,{variant:"text",width:"100%"}),t.jsx(ce,{variant:"text",width:"95%"}),t.jsx(ce,{variant:"text",width:"90%"}),t.jsx(ce,{variant:"text",width:"85%"}),t.jsx(ce,{variant:"text",width:"95%"})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:80,sx:{mb:3,borderRadius:1}}),t.jsx(de,{direction:"row",spacing:1,children:[1,2,3,4].map(e=>t.jsx(ce,{variant:"rounded",width:80,height:32},e))})]})})}),t.jsx($,{item:!0,xs:12,md:4,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsx(ce,{variant:"text",width:"50%",height:32,sx:{mb:2}}),t.jsx(de,{spacing:2,children:[1,2,3,4,5].map(e=>t.jsxs(D,{children:[t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[t.jsx(ce,{variant:"text",width:"40%"}),t.jsx(ce,{variant:"text",width:"20%"})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:8,sx:{borderRadius:1}})]},e))})]})})})]})}),e$=()=>{const{id:e}=qr(),{api:n}=Je(),{execute:r}=et(),[s,o]=b.useState(null),[a,c]=b.useState(!0);if(b.useEffect(()=>{(async()=>{if(e){c(!0);const p=await r(()=>n==null?void 0:n.newsApi.get(e),{showErrorToast:!0});p&&o(p),c(!1)}})()},[e,r]),a)return t.jsx(ZL,{});if(!s)return t.jsx(bt,{maxWidth:"lg",sx:{mt:4},children:t.jsx(v,{variant:"h4",children:"Entry not found"})});const u=s.media.find(h=>h.type===$a.COVER),d=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(h);return t.jsx(bt,{maxWidth:"lg",sx:{mt:4},children:t.jsxs($,{container:!0,spacing:4,children:[t.jsx($,{item:!0,xs:12,children:t.jsxs(D,{sx:{height:300,width:"100%",position:"relative",mb:3,borderRadius:2,overflow:"hidden"},children:[t.jsx(D,{component:"img",src:(u==null?void 0:u.url)||Kc,alt:s.title,sx:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"}}),t.jsxs(D,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(transparent, rgba(0,0,0,0.7))",p:3,color:"white"},children:[t.jsx(v,{variant:"h4",component:"h1",gutterBottom:!0,children:s.title}),t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsxs(D,{component:or,to:ye.APP_CHANNEL_VIEW.replace(":channelId",s.channel.id),sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(255, 255, 255, 0.1)",color:"white",px:2,py:1,borderRadius:2,textDecoration:"none",transition:"all 0.2s ease-in-out",border:"1px solid rgba(255, 255, 255, 0.2)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.2)",transform:"translateY(-2px)"}},children:[t.jsx(Fa,{sx:{mr:1}}),t.jsx(v,{variant:"subtitle2",children:s.channel.name})]}),t.jsxs(D,{sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(0, 0, 0, 0.3)",px:2,py:1,borderRadius:2,border:"1px solid rgba(255, 255, 255, 0.1)"},children:[t.jsx(Xc,{sx:{mr:1,fontSize:"0.9rem"}}),t.jsx(v,{variant:"caption",children:s.creator.displayName})]})]}),t.jsx(v,{variant:"subtitle1",children:new Date(s.publishedAt).toLocaleDateString()})]})]})]})}),t.jsx($,{item:!0,xs:12,md:8,children:t.jsx(Oe,{children:t.jsxs(D,{sx:{p:3},children:[t.jsx(Qc,{data:Ev(s.content),readOnly:!0,borderColor:h=>h.palette.mode==="dark"?Ee(h.palette.common.white,.1):Ee(h.palette.common.black,.1)}),t.jsx(D,{sx:{mt:2},children:s.tags.map(h=>t.jsx(Ze,{label:h.title,variant:"outlined",sx:{mr:1,mb:1}},h.id))})]})})}),t.jsx($,{item:!0,xs:12,md:4,children:t.jsxs(de,{spacing:3,children:[t.jsx(zf,{links:s.socialLinks}),s.qualityMetrics&&t.jsxs(dt,{elevation:0,sx:{p:2,bgcolor:"success.light",color:"success.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[t.jsx(va,{fontSize:"large"}),t.jsxs(D,{children:[t.jsx(v,{variant:"overline",children:"Quality Score"}),t.jsxs(v,{variant:"h4",component:"div",children:[s.qualityMetrics.overallQualityScore.toFixed(1),"/10"]})]})]}),s.newsFund&&t.jsxs(dt,{elevation:0,sx:{p:2,bgcolor:"primary.light",color:"primary.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[t.jsx(qc,{fontSize:"large"}),t.jsxs(D,{children:[t.jsx(v,{variant:"overline",children:"News Fund"}),t.jsx(v,{variant:"h4",component:"div",children:d(s.newsFund.amount)})]})]})]})})]})})};var dp={},t$=at;Object.defineProperty(dp,"__esModule",{value:!0});var nu=dp.default=void 0,n$=t$(lt()),r$=t;nu=dp.default=(0,n$.default)((0,r$.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert");var hp={},s$=at;Object.defineProperty(hp,"__esModule",{value:!0});var Wa=hp.default=void 0,o$=s$(lt()),i$=t;Wa=hp.default=(0,o$.default)((0,i$.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");var fp={},a$=at;Object.defineProperty(fp,"__esModule",{value:!0});var ru=fp.default=void 0,l$=a$(lt()),c$=t;ru=fp.default=(0,l$.default)((0,c$.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");const pp=({open:e,onClose:n,onConfirm:r,title:s,content:o,confirmText:a="Confirm",cancelText:c="Cancel",confirmColor:u="primary"})=>t.jsxs(sn,{open:e,onClose:n,PaperProps:{sx:{width:"100%",maxWidth:400,borderRadius:2}},children:[t.jsx(pn,{sx:{pb:1,fontWeight:600},children:s}),t.jsx(on,{children:t.jsx(HI,{sx:{color:"text.secondary",fontSize:"0.875rem"},children:o})}),t.jsxs(an,{sx:{px:3,pb:2},children:[t.jsx(pe,{onClick:n,variant:"outlined",color:"inherit",sx:{textTransform:"none",fontWeight:600,minWidth:100},children:c}),t.jsx(pe,{onClick:r,variant:"contained",color:u,autoFocus:!0,sx:{textTransform:"none",fontWeight:600,minWidth:100},children:a})]})]}),u$=({news:e,onRefresh:n})=>{var A,E,T;const[r,s]=b.useState(null),[o,a]=b.useState(!1),c=It(),{api:u}=Je(),{execute:d}=et(),h=_n(),p=R=>{R.stopPropagation(),s(R.currentTarget)},m=()=>{s(null)},x=()=>{c(ye.APP_NEWS_VIEW.replace(":id",e.id)),m()},y=()=>{c(ye.STUDIO_NEWS_EDIT.replace(":id",e.id)),m()},g=()=>{a(!0),m()},w=async()=>{await d(()=>u==null?void 0:u.newsApi.delete(e.id),{showSuccessMessage:!0,successMessage:"News article deleted successfully"})&&n(),a(!1)},j=(A=e.media)==null?void 0:A.find(R=>R.type===$a.COVER),C=(()=>{const R=new Date;return new Date(e.publishedAt)>R?{label:"Scheduled",color:"warning"}:{label:"Published",color:"success"}})();return t.jsxs(Oe,{onClick:()=>c(ye.STUDIO_NEWS_VIEW.replace(":id",e.id)),sx:{height:"100%",display:"flex",flexDirection:"column",position:"relative",cursor:"pointer",bgcolor:R=>Ee(R.palette.mode==="dark"?R.palette.common.white:R.palette.common.black,R.palette.mode==="dark"?.05:.03),transition:h.transitions.create(["background-color","box-shadow","transform"]),"&:hover":{bgcolor:R=>Ee(R.palette.mode==="dark"?R.palette.common.white:R.palette.common.black,R.palette.mode==="dark"?.08:.05),transform:"translateY(-2px)",boxShadow:R=>`0 4px 12px ${Ee(R.palette.primary.main,.1)}`}},children:[t.jsx(D,{sx:{height:{xs:120,sm:140},backgroundImage:`url(${(j==null?void 0:j.url)||Kc})`,backgroundSize:"cover",backgroundPosition:"center",borderTopLeftRadius:1,borderTopRightRadius:1,position:"relative","&::after":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:R=>`linear-gradient(180deg, 
              ${Ee(R.palette.background.default,0)} 0%, 
              ${Ee(R.palette.background.default,.8)} 100%)`}},children:t.jsx(We,{onClick:p,sx:{position:"absolute",top:8,right:8,zIndex:1,color:"text.primary",bgcolor:R=>Ee(R.palette.background.paper,.8),backdropFilter:"blur(4px)","&:hover":{bgcolor:R=>Ee(R.palette.background.paper,.95)}},children:t.jsx(nu,{fontSize:"small"})})}),t.jsx($e,{sx:{flexGrow:1,p:{xs:2,sm:2.5}},children:t.jsxs(de,{spacing:{xs:1.5,sm:2},children:[t.jsxs(D,{children:[t.jsx(v,{variant:"h6",sx:{fontWeight:600,mb:.5,fontSize:{xs:"1rem",sm:"1.125rem"},display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",lineHeight:1.3},children:e.title}),t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:1},children:[t.jsx(Fa,{sx:{fontSize:"0.875rem",mr:.5,color:"text.secondary"}}),t.jsx(v,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem"},children:e.channel.name})]}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",fontSize:{xs:"0.875rem",sm:"0.875rem"},lineHeight:1.4},children:((E=e.content)==null?void 0:E.substring(0,100))+"..."})]}),t.jsxs(de,{direction:"row",spacing:1,flexWrap:"wrap",sx:{gap:1},children:[t.jsx(Ze,{size:"small",label:C.label,color:C.color,sx:{height:24,fontSize:"0.75rem","& .MuiChip-label":{px:1}}}),t.jsx(Ze,{size:"small",label:new Date(e.publishedAt).toLocaleDateString(),sx:{height:24,fontSize:"0.75rem",bgcolor:R=>Ee(R.palette.text.secondary,.1),color:"text.secondary","& .MuiChip-label":{px:1}}}),((T=e==null?void 0:e.tags)==null?void 0:T.length)>0&&t.jsx(Ze,{size:"small",label:`${e.tags.length} tags`,sx:{height:24,fontSize:"0.75rem",bgcolor:R=>Ee(R.palette.secondary.main,R.palette.mode==="dark"?.15:.08),color:"secondary.main","& .MuiChip-label":{px:1}}})]})]})}),t.jsxs(ro,{anchorEl:r,open:!!r,onClose:m,onClick:R=>R.stopPropagation(),PaperProps:{sx:{width:200,mt:1}},children:[t.jsxs(je,{onClick:x,children:[t.jsx(dn,{children:t.jsx(ru,{fontSize:"small"})}),t.jsx(Qt,{primary:"View Article"})]}),t.jsxs(je,{onClick:y,children:[t.jsx(dn,{children:t.jsx(Wa,{fontSize:"small"})}),t.jsx(Qt,{primary:"Edit Article"})]}),t.jsxs(je,{onClick:g,sx:{color:"error.main"},children:[t.jsx(dn,{sx:{color:"inherit"},children:t.jsx(Lo,{fontSize:"small"})}),t.jsx(Qt,{primary:"Delete Article"})]})]}),t.jsx(pp,{open:o,title:"Delete News Article",content:"Are you sure you want to delete this news article? This action cannot be undone.",onConfirm:w,onClose:()=>a(!1),confirmText:"Delete",confirmColor:"error"})]})},d$=()=>{const[e,n]=b.useState([]),[r,s]=b.useState(1),[o,a]=b.useState(!0),[c,u]=b.useState(!0),{api:d}=Je(),{profile:h}=js(),p=It(),{execute:m}=et(),x=_n(),y=()=>{g(r+1)},g=async(j=r)=>{if(!h)return;const P=await m(()=>d==null?void 0:d.newsApi.getCreatorNews(h.id,{page:j,limit:12}),{showErrorToast:!0});P&&(n(C=>j===1?(P==null?void 0:P.items)??[]:[...C,...(P==null?void 0:P.items)??[]]),s((P==null?void 0:P.metadata.currentPage)??1),a((P==null?void 0:P.metadata.hasNext)===!0)),u(!1)};b.useEffect(()=>{h&&g(1)},[h]);const w=()=>t.jsxs(D,{sx:{p:2,borderRadius:1,bgcolor:j=>Ee(j.palette.mode==="dark"?j.palette.common.white:j.palette.common.black,j.palette.mode==="dark"?.05:.03),height:{xs:280,sm:320},transition:x.transitions.create(["background-color","height"])},children:[t.jsx(ce,{variant:"rectangular",sx:{borderRadius:1,height:{xs:120,sm:140},mb:2}}),t.jsxs(D,{sx:{p:1},children:[t.jsx(ce,{width:"90%",height:24,sx:{mb:1}}),t.jsx(ce,{width:"60%",height:16,sx:{mb:1}}),t.jsx(ce,{width:"95%",height:20,sx:{mb:1}}),t.jsx(ce,{width:"80%",height:20,sx:{mb:2}}),t.jsxs(D,{sx:{display:"flex",gap:1},children:[t.jsx(ce,{width:"25%",height:24}),t.jsx(ce,{width:"30%",height:24}),t.jsx(ce,{width:"20%",height:24})]})]})]});return t.jsxs(D,{sx:{px:{xs:2,sm:3,md:4},py:{xs:2,sm:3},maxWidth:"lg",mx:"auto",width:"100%"},children:[t.jsx(D,{sx:{mb:{xs:2,sm:3}},children:t.jsx(v,{variant:"h5",sx:{fontWeight:600,fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:c?t.jsx(ce,{width:150}):"My News"})}),c?t.jsx($,{container:!0,spacing:2,children:[1,2,3,4].map(j=>t.jsx($,{item:!0,xs:12,sm:6,md:4,children:t.jsx(w,{})},j))}):e.length===0?t.jsx(lo,{title:"No News Yet",description:"Start creating your first news article to share with your subscribers.",icon:t.jsx(Ef,{sx:{fontSize:{xs:40,sm:48}}}),action:{label:"Create News",onClick:()=>p(ye.STUDIO_NEWS_CREATE)}}):t.jsx(No,{dataLength:e.length,next:y,hasMore:o,loader:t.jsx($,{container:!0,spacing:2,sx:{mt:.5},children:[1,2,3].map(j=>t.jsx($,{item:!0,xs:12,sm:6,md:4,children:t.jsx(w,{})},j))}),children:t.jsx($,{container:!0,spacing:2,children:e.map(j=>t.jsx($,{item:!0,xs:12,sm:6,md:4,children:t.jsx(u$,{news:j,onRefresh:()=>g(1)})},j.id))})})]})},h$=({channel:e,onRefresh:n})=>{var y;const r=It(),{api:s}=Je(),{execute:o}=et(),[a,c]=b.useState(null),[u,d]=b.useState(!1),h=_n(),p=g=>{g.stopPropagation(),c(g.currentTarget)},m=()=>{c(null)},x=async()=>{await o(()=>s==null?void 0:s.channelApi.deleteChannel(e.id),{showSuccessMessage:!0,successMessage:"Channel deleted successfully"})&&n(),d(!1)};return t.jsxs(t.Fragment,{children:[t.jsxs(Oe,{onClick:()=>r(ye.STUDIO_CHANNEL_EDIT.replace(":channelId",e.id)),sx:{height:"100%",display:"flex",flexDirection:"column",position:"relative",cursor:"pointer",transition:h.transitions.create(["box-shadow","transform"],{duration:h.transitions.duration.shorter}),"&:hover":{transform:"translateY(-2px)",boxShadow:g=>`0 4px 12px ${Ee(g.palette.primary.main,.1)}`}},children:[t.jsx(D,{sx:{height:{xs:100,sm:120},backgroundImage:`url(${(e==null?void 0:e.bannerUrl)||"https://via.placeholder.com/600x400"})`,backgroundSize:"cover",backgroundPosition:"center",borderTopLeftRadius:1,borderTopRightRadius:1,position:"relative","&::after":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:g=>`linear-gradient(180deg, 
                ${Ee(g.palette.background.default,0)} 0%, 
                ${Ee(g.palette.background.default,.8)} 100%)`}},children:t.jsx(We,{onClick:p,sx:{position:"absolute",top:8,right:8,zIndex:1,color:"text.primary",bgcolor:g=>Ee(g.palette.background.paper,.8),backdropFilter:"blur(4px)","&:hover":{bgcolor:g=>Ee(g.palette.background.paper,.95)}},children:t.jsx(nu,{fontSize:"small"})})}),t.jsx($e,{sx:{flexGrow:1,p:{xs:2,sm:2.5}},children:t.jsxs(de,{spacing:{xs:1.5,sm:2},children:[t.jsxs(D,{children:[t.jsx(v,{variant:"h6",sx:{fontWeight:600,mb:.5,fontSize:{xs:"1rem",sm:"1.125rem"}},children:e.name}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",fontSize:{xs:"0.875rem",sm:"0.875rem"},lineHeight:1.5},children:e.description})]}),t.jsxs(de,{direction:"row",spacing:1,flexWrap:"wrap",sx:{gap:1},children:[t.jsx(Ze,{size:"small",label:`${(y=e==null?void 0:e.stats)==null?void 0:y.activeSubscriptionCount} subscribers`,sx:{height:24,fontSize:"0.75rem",bgcolor:g=>Ee(g.palette.primary.main,g.palette.mode==="dark"?.15:.08),color:"primary.main","& .MuiChip-label":{px:1}}}),t.jsx(Ze,{size:"small",label:"10 news",sx:{height:24,fontSize:"0.75rem",bgcolor:g=>Ee(g.palette.secondary.main,g.palette.mode==="dark"?.15:.08),color:"secondary.main","& .MuiChip-label":{px:1}}})]})]})})]}),t.jsxs(ro,{anchorEl:a,open:!!a,onClose:m,onClick:g=>g.stopPropagation(),PaperProps:{sx:{width:200,mt:1}},children:[t.jsxs(je,{onClick:()=>{r(ye.STUDIO_CHANNEL_EDIT.replace(":channelId",e.id)),m()},children:[t.jsx(dn,{children:t.jsx(Wa,{fontSize:"small"})}),t.jsx(Qt,{primary:"Edit Channel"})]}),t.jsxs(je,{onClick:()=>{r(ye.APP_CHANNEL_VIEW.replace(":channelId",e.id)),m()},children:[t.jsx(dn,{children:t.jsx(ru,{fontSize:"small"})}),t.jsx(Qt,{primary:"View Public Page"})]}),t.jsxs(je,{onClick:()=>{d(!0),m()},sx:{color:"error.main"},children:[t.jsx(dn,{sx:{color:"inherit"},children:t.jsx(Lo,{fontSize:"small"})}),t.jsx(Qt,{primary:"Delete Channel"})]})]}),t.jsx(pp,{open:u,onClose:()=>d(!1),onConfirm:x,title:"Delete Channel",content:"Are you sure you want to delete this channel? This action cannot be undone.",confirmText:"Delete",confirmColor:"error"})]})},f$=()=>{const[e,n]=b.useState([]),[r,s]=b.useState(1),[o,a]=b.useState(!0),[c,u]=b.useState(!0),{api:d}=Je(),h=It(),p=_n(),{execute:m}=et(),x=()=>{y(r+1)},y=async(w=r)=>{const j=await m(()=>d==null?void 0:d.studioApi.getMyChannels(),{showErrorToast:!0});j&&(n(P=>w===1?(j==null?void 0:j.items)??[]:[...P,...(j==null?void 0:j.items)??[]]),s((j==null?void 0:j.metadata.currentPage)??1),a((j==null?void 0:j.metadata.hasNext)===!0)),u(!1)};b.useEffect(()=>{y(1)},[]);const g=()=>t.jsxs(D,{sx:{p:2,borderRadius:1,bgcolor:w=>Ee(w.palette.mode==="dark"?w.palette.common.white:w.palette.common.black,w.palette.mode==="dark"?.05:.03),height:{xs:180,sm:200},transition:p.transitions.create(["background-color","height"])},children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[t.jsx(ce,{variant:"circular",width:32,height:32,sx:{mr:1.5}}),t.jsxs(D,{sx:{width:"100%"},children:[t.jsx(ce,{width:"60%",height:20}),t.jsx(ce,{width:"40%",height:16})]})]}),t.jsx(ce,{variant:"rectangular",sx:{borderRadius:1,height:{xs:70,sm:80}}}),t.jsx(D,{sx:{mt:1.5},children:t.jsx(ce,{width:"30%",height:20})})]});return t.jsxs(D,{sx:{px:{xs:2,sm:3,md:4},py:{xs:2,sm:3},maxWidth:"lg",mx:"auto",width:"100%"},children:[t.jsx(D,{sx:{mb:{xs:2,sm:3}},children:t.jsx(v,{variant:"h5",sx:{fontWeight:600,fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:c?t.jsx(ce,{width:150}):"My Channels"})}),c?t.jsx($,{container:!0,spacing:2,children:[1,2].map(w=>t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(g,{})},w))}):e.length===0?t.jsx(lo,{title:"No Channels Yet",description:"Create your first channel to start publishing news and connecting with subscribers.",icon:t.jsx(La,{sx:{fontSize:{xs:40,sm:48}}}),action:{label:"Create Channel",onClick:()=>h(ye.STUDIO_CHANNEL_CREATE)}}):t.jsx(No,{dataLength:e.length,next:x,hasMore:o,loader:t.jsx($,{container:!0,spacing:2,sx:{mt:.5},children:[1,2].map(w=>t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(g,{})},w))}),children:t.jsx($,{container:!0,spacing:2,children:e.map(w=>t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(h$,{channel:w,onRefresh:()=>y(1)})},w.id))})})]})},$l={ACTIVE:1,INACTIVE:2,PRIVATE:3,SUSPENDED:4,DELETED:5},u0=({initialData:e,onSubmit:n,submitButtonText:r})=>{const[s,o]=b.useState(!1),[a,c]=b.useState(()=>({name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",handle:(e==null?void 0:e.handle)||"",status:(e==null?void 0:e.status)||$l.ACTIVE,logoUrl:(e==null?void 0:e.logoUrl)||"",bannerUrl:(e==null?void 0:e.bannerUrl)||"",tags:(e==null?void 0:e.tags)||[]})),[u,d]=b.useState((e==null?void 0:e.logoUrl)||void 0),[h,p]=b.useState((e==null?void 0:e.bannerUrl)||void 0),m=async x=>{x.preventDefault(),o(!0);try{await n({...a,logoUrl:u||"",bannerUrl:h||"",tags:[]})}catch(y){console.error("Failed to submit channel:",y)}finally{o(!1)}};return t.jsx("form",{onSubmit:m,children:t.jsxs(de,{spacing:4,children:[t.jsxs(D,{children:[t.jsx(v,{variant:"h6",sx:{mb:3},children:"Branding"}),t.jsxs(de,{spacing:4,children:[t.jsxs(D,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Channel Logo"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"This image will appear next to your channel's content. Use a square image for best results."}),t.jsx(Dh,{label:"Upload Channel Logo",value:u,onChange:d})]}),t.jsxs(D,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Channel Banner"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"This image appears at the top of your channel page. Recommended size: 2048 x 1152 pixels."}),t.jsx(Dh,{label:"Upload Channel Banner",value:h,onChange:p})]})]})]}),t.jsxs(D,{children:[t.jsx(v,{variant:"h6",sx:{mb:3},children:"Basic Info"}),t.jsxs(de,{spacing:4,children:[t.jsxs(D,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Channel Name"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Choose a name that represents your channel. You can change this later."}),t.jsx(rt,{value:a.name,onChange:x=>c(y=>({...y,name:x.target.value})),required:!0,fullWidth:!0,placeholder:"Enter channel name"})]}),t.jsxs(D,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Channel Handle"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"This is the unique identifier for your channel. It will be used in the URL of your channel page."}),t.jsx(rt,{value:a.handle,onChange:x=>c(y=>({...y,handle:x.target.value})),required:!0,fullWidth:!0,placeholder:"Enter channel handle"})]}),t.jsxs(D,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Description"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Tell viewers about your channel. This appears in search results and your channel page."}),t.jsx(rt,{value:a.description,onChange:x=>c(y=>({...y,description:x.target.value})),multiline:!0,rows:4,fullWidth:!0,placeholder:"Tell your story..."})]})]})]}),t.jsxs(D,{children:[t.jsx(v,{variant:"h6",sx:{mb:3},children:"Channel Settings"}),t.jsx(de,{spacing:4,children:t.jsxs(D,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Channel Visibility"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Control who can see and access your channel's content."}),t.jsx(vt,{fullWidth:!0,children:t.jsxs(St,{value:a.status,onChange:x=>{const y=Number(x.target.value);c(g=>({...g,status:y}))},children:[t.jsx(je,{value:$l.ACTIVE,children:"Public - Channel is visible to everyone"}),t.jsx(je,{value:$l.PRIVATE,children:"Private - Only invited members can access"}),t.jsx(je,{value:$l.INACTIVE,children:"Hidden - Channel is temporarily hidden from public view"})]})})]})})]}),t.jsx(pe,{type:"submit",variant:"contained",disabled:s,sx:{py:1.5,textTransform:"none",fontWeight:600},children:s?"Submitting...":r})]})})},p$=()=>{const{api:e}=Je(),n=It(),{execute:r}=et(),{actions:{refreshProfile:s}}=js(),o=async a=>{if(!a)return;await r(()=>e==null?void 0:e.studioApi.createChannel(a),{showSuccessMessage:!0,successMessage:"Channel created successfully!"})&&(await s(),n(`${ye.STUDIO_CHANNELS}`))};return t.jsxs(bt,{sx:{maxWidth:800,mx:"auto",p:3},children:[t.jsx(v,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Create Channel"}),t.jsx(u0,{onSubmit:o,submitButtonText:"Create Channel"})]})},m$=()=>t.jsxs(bt,{maxWidth:"md",sx:{mt:4,textAlign:"center"},children:[t.jsx(v,{variant:"h3",gutterBottom:!0,children:"404 - Page Not Found"}),t.jsx(v,{variant:"h6",gutterBottom:!0,children:"The page you are looking for does not exist."}),t.jsx(D,{sx:{mt:4},children:t.jsx(pe,{variant:"contained",color:"primary",component:or,to:"/",children:"Go to Home"})})]}),d0=({expenseOrder:e,channels:n,expenseTypes:r,onSave:s,onSubmit:o,loading:a=!1,isEdit:c=!1})=>{const[u,d]=b.useState({channelId:(e==null?void 0:e.channel.id)||"",typeId:(e==null?void 0:e.type.id)||0,title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",amount:(e==null?void 0:e.amount)||0,currency:(e==null?void 0:e.currency)||"USD",receiptUrl:(e==null?void 0:e.receiptUrl)||"",notes:(e==null?void 0:e.notes)||""}),[h,p]=b.useState({}),[m,x]=b.useState(!1),y=()=>{const C={};return u.channelId||(C.channelId="Channel is required"),u.typeId||(C.typeId="Expense type is required"),u.title.trim()||(C.title="Title is required"),u.description.trim()||(C.description="Description is required"),u.amount<=0&&(C.amount="Amount must be greater than 0"),u.currency.trim()||(C.currency="Currency is required"),p(C),Object.keys(C).length===0},g=(C,A)=>{d(E=>({...E,[C]:A})),h[C]&&p(E=>({...E,[C]:""}))},w=async()=>{if(y())try{if(c){const C={title:u.title,description:u.description,amount:u.amount,currency:u.currency,typeId:Number(u.typeId),receiptUrl:u.receiptUrl,notes:u.notes};await s(C)}else{const C={channelId:u.channelId,typeId:Number(u.typeId),title:u.title,description:u.description,amount:u.amount,currency:u.currency,receiptUrl:u.receiptUrl,notes:u.notes};await s(C)}}catch(C){console.error("Error saving expense order:",C)}},j=async()=>{if(!(!e||!o)){x(!0);try{await o(e)}catch(C){console.error("Error submitting expense order:",C)}finally{x(!1)}}},P=c&&(e==null?void 0:e.status)===Ye.DRAFT&&o;return t.jsxs(Zc,{children:[t.jsx(v,{variant:"h6",sx:{mb:3,fontWeight:600},children:c?"Edit Expense Order":"Create New Expense Order"}),t.jsxs($,{container:!0,spacing:3,children:[t.jsx($,{item:!0,xs:12,md:6,children:t.jsxs(vt,{fullWidth:!0,error:!!h.channelId,children:[t.jsx(Tt,{children:"Channel"}),t.jsx(St,{value:u.channelId,label:"Channel",onChange:C=>g("channelId",C.target.value),disabled:c,children:n.map(C=>t.jsx(je,{value:C.id,children:C.name},C.id))}),h.channelId&&t.jsx(v,{variant:"caption",color:"error",sx:{mt:.5},children:h.channelId})]})}),t.jsx($,{item:!0,xs:12,md:6,children:t.jsxs(vt,{fullWidth:!0,error:!!h.typeId,children:[t.jsx(Tt,{children:"Expense Type"}),t.jsx(St,{value:u.typeId,label:"Expense Type",onChange:C=>g("typeId",C.target.value),children:r.map(C=>t.jsx(je,{value:C.id,children:C.name},C.id))}),h.typeId&&t.jsx(v,{variant:"caption",color:"error",sx:{mt:.5},children:h.typeId})]})}),t.jsx($,{item:!0,xs:12,children:t.jsx(rt,{fullWidth:!0,label:"Title",value:u.title,onChange:C=>g("title",C.target.value),error:!!h.title,helperText:h.title,placeholder:"Enter expense title"})}),t.jsx($,{item:!0,xs:12,children:t.jsx(rt,{fullWidth:!0,multiline:!0,rows:3,label:"Description",value:u.description,onChange:C=>g("description",C.target.value),error:!!h.description,helperText:h.description,placeholder:"Describe the expense in detail"})}),t.jsx($,{item:!0,xs:12,md:6,children:t.jsx(rt,{fullWidth:!0,type:"number",label:"Amount",value:u.amount,onChange:C=>g("amount",parseFloat(C.target.value)||0),error:!!h.amount,helperText:h.amount,InputProps:{startAdornment:t.jsx(eo,{position:"start",children:"$"})}})}),t.jsx($,{item:!0,xs:12,md:6,children:t.jsx(rt,{fullWidth:!0,label:"Currency",value:u.currency,onChange:C=>g("currency",C.target.value.toUpperCase()),error:!!h.currency,helperText:h.currency,placeholder:"USD",inputProps:{maxLength:3}})}),t.jsx($,{item:!0,xs:12,children:t.jsx(rt,{fullWidth:!0,label:"Receipt URL",value:u.receiptUrl,onChange:C=>g("receiptUrl",C.target.value),placeholder:"https://example.com/receipt.pdf",InputProps:{startAdornment:t.jsx(eo,{position:"start",children:t.jsx(GI,{})})}})}),t.jsx($,{item:!0,xs:12,children:t.jsx(rt,{fullWidth:!0,multiline:!0,rows:2,label:"Notes (Optional)",value:u.notes,onChange:C=>g("notes",C.target.value),placeholder:"Additional notes or comments"})}),t.jsx($,{item:!0,xs:12,children:t.jsxs(D,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[t.jsx(pe,{variant:"outlined",startIcon:a?t.jsx(zn,{size:16}):t.jsx(Ry,{}),onClick:w,disabled:a||m,children:"Save as Draft"}),P&&t.jsx(pe,{variant:"contained",startIcon:m?t.jsx(zn,{size:16}):t.jsx($c,{}),onClick:j,disabled:a||m,children:"Submit for Approval"})]})})]})]})},x$=({onCreateNew:e,onEdit:n,onView:r,userRole:s="journalist",channelId:o,showCreateButton:a=!0})=>{const{api:c}=Je(),[u,d]=b.useState([]),[h,p]=b.useState(!0),[m,x]=b.useState(null),[y,g]=b.useState(""),[w,j]=b.useState(1),[P,C]=b.useState(1),[A,E]=b.useState(!1),T=async(U=1)=>{var H,X;try{p(U===1),x(null);let se;const ne={page:U,limit:10};s==="journalist"?se=await c.expenseOrderApi.getMyExpenseOrders(ne,y||void 0):o?se=await c.expenseOrderApi.getExpenseOrdersByChannel(o,ne,y||void 0):se=await c.expenseOrderApi.getPendingExpenseOrders(ne),d(se.data),C(Math.ceil(se.total/se.limit)),j(U)}catch(se){x(((X=(H=se.response)==null?void 0:H.data)==null?void 0:X.message)||"Failed to load expense orders"),console.error("Error loading expense orders:",se)}finally{p(!1),E(!1)}};b.useEffect(()=>{T(1)},[y,s,o]);const R=async()=>{E(!0),await T(w)},N=(U,H)=>{T(H)},M=async U=>{var H,X;try{await c.expenseOrderApi.submitExpenseOrder(U.id),await T(w)}catch(se){console.error("Error submitting expense order:",se),x(((X=(H=se.response)==null?void 0:H.data)==null?void 0:X.message)||"Failed to submit expense order")}},W=async U=>{var H,X;try{await c.expenseOrderApi.cancelExpenseOrder(U.id,"Cancelled by user"),await T(w)}catch(se){console.error("Error cancelling expense order:",se),x(((X=(H=se.response)==null?void 0:H.data)==null?void 0:X.message)||"Failed to cancel expense order")}},B=async U=>{var H,X;try{await c.expenseOrderApi.approveExpenseOrder(U.id),await T(w)}catch(se){console.error("Error approving expense order:",se),x(((X=(H=se.response)==null?void 0:H.data)==null?void 0:X.message)||"Failed to approve expense order")}},q=async U=>{var H,X;try{const se=prompt("Please provide a reason for rejection:");se&&(await c.expenseOrderApi.rejectExpenseOrder(U.id,{rejectionReason:se}),await T(w))}catch(se){console.error("Error rejecting expense order:",se),x(((X=(H=se.response)==null?void 0:H.data)==null?void 0:X.message)||"Failed to reject expense order")}},k=async U=>{var H,X;try{await c.expenseOrderApi.processPayment(U.id),await T(w)}catch(se){console.error("Error processing payment:",se),x(((X=(H=se.response)==null?void 0:H.data)==null?void 0:X.message)||"Failed to process payment")}},Y=()=>{switch(s){case"journalist":return"My Expense Orders";case"admin":case"finance-manager":return o?"Channel Expense Orders":"All Expense Orders";default:return"Expense Orders"}};return t.jsxs(D,{children:[t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[t.jsx(v,{variant:"h5",sx:{fontWeight:600},children:Y()}),t.jsxs(D,{sx:{display:"flex",gap:2,alignItems:"center"},children:[t.jsxs(vt,{size:"small",sx:{minWidth:150},children:[t.jsx(Tt,{children:"Status Filter"}),t.jsxs(St,{value:y,label:"Status Filter",onChange:U=>g(U.target.value),children:[t.jsx(je,{value:"",children:"All Statuses"}),t.jsx(je,{value:Ye.DRAFT,children:"Draft"}),t.jsx(je,{value:Ye.SUBMITTED,children:"Submitted"}),t.jsx(je,{value:Ye.UNDER_REVIEW,children:"Under Review"}),t.jsx(je,{value:Ye.APPROVED,children:"Approved"}),t.jsx(je,{value:Ye.REJECTED,children:"Rejected"}),t.jsx(je,{value:Ye.PAID,children:"Paid"}),t.jsx(je,{value:Ye.CANCELLED,children:"Cancelled"})]})]}),t.jsx(pe,{variant:"outlined",startIcon:A?t.jsx(zn,{size:16}):t.jsx(My,{}),onClick:R,disabled:A,size:"small",children:"Refresh"}),a&&s==="journalist"&&e&&t.jsx(pe,{variant:"contained",startIcon:t.jsx(Ur,{}),onClick:e,children:"Create Expense Order"})]})]}),m&&t.jsx(it,{severity:"error",sx:{mb:3},onClose:()=>x(null),children:m}),h?t.jsx(D,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(zn,{})}):u.length===0?t.jsxs(D,{sx:{textAlign:"center",py:6},children:[t.jsx(v,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"No expense orders found"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:s==="journalist"?"You haven't created any expense orders yet.":"No expense orders match your current filter."}),a&&s==="journalist"&&e&&t.jsx(pe,{variant:"contained",startIcon:t.jsx(Ur,{}),onClick:e,children:"Create Your First Expense Order"})]}):t.jsxs(t.Fragment,{children:[t.jsx($,{container:!0,spacing:3,children:u.map(U=>t.jsx($,{item:!0,xs:12,md:6,lg:4,children:t.jsx(ap,{expenseOrder:U,onView:r,onEdit:n,onSubmit:M,onCancel:W,onApprove:B,onReject:q,onProcessPayment:k,userRole:s})},U.id))}),P>1&&t.jsx(D,{sx:{display:"flex",justifyContent:"center",mt:4},children:t.jsx(YI,{count:P,page:w,onChange:N,color:"primary",size:"large"})})]})]})},g$=({channelId:e,onCreateExpenseOrder:n,onViewExpenseOrder:r,userRole:s="journalist"})=>{const{api:o}=Je(),a=_n(),[c,u]=b.useState(null),[d,h]=b.useState(null),[p,m]=b.useState(!0),[x,y]=b.useState(null);b.useEffect(()=>{g()},[e]);const g=async()=>{var C,A;try{m(!0),y(null);const E=await o.expenseOrderApi.getExpenseOrderStats(e);if(u(E),e){const T=await o.channelApi.getChannel(e);h(T)}}catch(E){y(((A=(C=E.response)==null?void 0:C.data)==null?void 0:A.message)||"Failed to load dashboard data"),console.error("Error loading dashboard data:",E)}finally{m(!1)}},w=(C,A="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:A}).format(C),j=C=>{switch(C){case"paid":return a.palette.success.main;case"approved":return a.palette.info.main;case"submitted":case"underReview":return a.palette.warning.main;case"rejected":case"cancelled":return a.palette.error.main;case"draft":default:return a.palette.grey[500]}},P=({title:C,value:A,icon:E,color:T,subtitle:R})=>t.jsx(Oe,{sx:{height:"100%",border:`1px solid ${Ee(T,.2)}`,"&:hover":{boxShadow:a.shadows[4],transform:"translateY(-2px)",transition:"all 0.2s ease-in-out"}},children:t.jsxs($e,{children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(D,{sx:{p:1,borderRadius:2,bgcolor:Ee(T,.1),color:T,mr:2},children:E}),t.jsx(v,{variant:"h6",sx:{fontWeight:600,color:"text.primary"},children:C})]}),t.jsx(v,{variant:"h4",sx:{fontWeight:700,color:T,mb:1},children:A}),R&&t.jsx(v,{variant:"body2",color:"text.secondary",children:R})]})});return p?t.jsx(D,{sx:{display:"flex",justifyContent:"center",py:8},children:t.jsx(zn,{size:40})}):x?t.jsx(it,{severity:"error",sx:{mb:3},children:x}):t.jsxs(D,{children:[t.jsxs(D,{sx:{mb:4},children:[t.jsx(v,{variant:"h4",sx:{fontWeight:700,mb:1},children:d?`${d.name} Payouts`:"Payout Dashboard"}),t.jsx(v,{variant:"body1",color:"text.secondary",children:s==="journalist"?"Manage your expense orders and track payments":"Overview of expense orders and payout statistics"})]}),c&&t.jsxs(t.Fragment,{children:[t.jsxs($,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(P,{title:"Total Orders",value:c.total,icon:t.jsx(Os,{}),color:a.palette.primary.main,subtitle:"All time"})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(P,{title:"Total Amount",value:w(c.totalAmount),icon:t.jsx(bs,{}),color:a.palette.secondary.main,subtitle:"Requested"})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(P,{title:"Paid Amount",value:w(c.totalPaidAmount),icon:t.jsx(Pi,{}),color:a.palette.success.main,subtitle:"Completed payments"})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(P,{title:"Pending",value:c.submitted+c.underReview+c.approved,icon:t.jsx(qI,{}),color:a.palette.warning.main,subtitle:"Awaiting action"})})]}),t.jsx(Oe,{sx:{mb:4},children:t.jsxs($e,{children:[t.jsx(v,{variant:"h6",sx:{fontWeight:600,mb:3},children:"Status Breakdown"}),t.jsx($,{container:!0,spacing:2,children:[{label:"Draft",value:c.draft,status:"draft"},{label:"Submitted",value:c.submitted,status:"submitted"},{label:"Under Review",value:c.underReview,status:"underReview"},{label:"Approved",value:c.approved,status:"approved"},{label:"Paid",value:c.paid,status:"paid"},{label:"Rejected",value:c.rejected,status:"rejected"},{label:"Cancelled",value:c.cancelled,status:"cancelled"}].map(C=>t.jsx($,{item:!0,xs:6,sm:4,md:3,lg:2,children:t.jsxs(D,{sx:{textAlign:"center",p:2},children:[t.jsx(v,{variant:"h5",sx:{fontWeight:700,color:j(C.status),mb:1},children:C.value}),t.jsx(Ze,{label:C.label,size:"small",sx:{bgcolor:Ee(j(C.status),.1),color:j(C.status),fontWeight:500}})]})},C.status))})]})})]}),t.jsx(Oe,{children:t.jsx($e,{children:t.jsx(x$,{userRole:s,channelId:e,onCreateNew:n,onView:r?C=>r(C.id):void 0,showCreateButton:s==="journalist"})})}),s==="journalist"&&t.jsx(D,{sx:{mt:4,display:"flex",justifyContent:"center"},children:t.jsx(pe,{variant:"contained",size:"large",startIcon:t.jsx(Os,{}),onClick:n,sx:{px:4,py:1.5},children:"Create New Expense Order"})})]})},b$=()=>{var y,g,w;const[e,n]=b.useState(null),[r,s]=b.useState(!0),[o,a]=b.useState(0),{channelId:c}=qr(),{api:u}=Je(),d=It(),h=async()=>{try{if(c){const j=await(u==null?void 0:u.channelApi.getChannel(c));j&&n(j)}}catch(j){console.error("Failed to fetch channel:",j)}finally{s(!1)}};b.useEffect(()=>{h()},[]);const p=()=>{d("/studio/payouts")},m=j=>{d(`/studio/payouts/orders/${j}`)},x=(j,P)=>{a(P)};return r?t.jsxs(bt,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs(D,{sx:{textAlign:"center",mb:4},children:[t.jsx(ce,{variant:"circular",width:100,height:100,sx:{mx:"auto",mb:2}}),t.jsx(ce,{variant:"text",width:"60%",sx:{mx:"auto",mb:1}}),t.jsx(ce,{variant:"text",width:"40%",sx:{mx:"auto",mb:2}})]}),t.jsx($,{container:!0,spacing:3,children:[...Array(3)].map((j,P)=>t.jsx($,{item:!0,xs:12,md:4,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsx(ce,{variant:"text",width:"80%"}),t.jsx(ce,{variant:"text",width:"60%"}),t.jsx(ce,{variant:"rectangular",height:100,sx:{my:2}})]})})},P))})]}):e?t.jsxs(bt,{maxWidth:"lg",sx:{mt:4},children:[t.jsx(D,{sx:{position:"relative",mb:4,"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:200,backgroundImage:`url(${(e==null?void 0:e.bannerUrl)||"https://via.placeholder.com/600x400"})`,backgroundSize:"cover",backgroundPosition:"center",filter:"brightness(0.9)"}},children:t.jsxs(D,{sx:{position:"relative",pt:15,pb:4,textAlign:"center"},children:[t.jsx(Dn,{src:e.logoUrl,sx:{width:100,height:100,mx:"auto",mb:2,border:"3px solid white",boxShadow:2}}),t.jsx(v,{variant:"h4",gutterBottom:!0,children:e.name}),t.jsxs(v,{variant:"subtitle1",color:"text.secondary",gutterBottom:!0,children:[(y=e.stats)==null?void 0:y.activeSubscriptionCount.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1})," followers • ",(g=e.stats)==null?void 0:g.paidSubscriptionCount.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1})," subscribers"]}),t.jsx(v,{variant:"body1",sx:{mb:3},children:e.description}),t.jsx(rn,{sx:{mb:4}})]})}),t.jsx(D,{sx:{mb:3},children:t.jsxs(so,{value:o,onChange:x,"aria-label":"channel tabs",sx:{borderBottom:1,borderColor:"divider"},children:[t.jsx(ir,{label:"Subscription Tiers",id:"channel-tab-0","aria-controls":"channel-tabpanel-0"}),t.jsx(ir,{label:"Payouts",icon:t.jsx(bs,{}),iconPosition:"start",id:"channel-tab-1","aria-controls":"channel-tabpanel-1"})]})}),t.jsx("div",{role:"tabpanel",hidden:o!==0,id:"channel-tabpanel-0","aria-labelledby":"channel-tab-0",children:o===0&&t.jsxs(D,{children:[t.jsx(v,{variant:"h5",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Subscription Tiers"}),t.jsx($,{container:!0,spacing:3,children:(w=e.tiers)==null?void 0:w.map(j=>t.jsx($,{item:!0,xs:12,md:4,children:t.jsxs(Zc,{children:[t.jsxs(D,{sx:{mb:3},children:[t.jsx(v,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,fontSize:"1rem"},children:j.name}),t.jsxs(v,{variant:"h4",sx:{fontWeight:700,fontSize:"2rem",display:"flex",alignItems:"baseline",gap:.5},children:["$",j.price,t.jsx(v,{component:"span",sx:{fontSize:"0.875rem",fontWeight:400,color:"text.secondary"},children:"/month"})]})]}),t.jsx(v,{variant:"body2",sx:{mb:3,color:"text.secondary",minHeight:60},children:j.description})]})},j.id))})]})}),t.jsx("div",{role:"tabpanel",hidden:o!==1,id:"channel-tabpanel-1","aria-labelledby":"channel-tab-1",children:o===1&&t.jsx(D,{children:t.jsx(g$,{channelId:c,onCreateExpenseOrder:p,onViewExpenseOrder:m,userRole:"journalist"})})})]}):t.jsx(bt,{maxWidth:"lg",sx:{mt:4},children:t.jsx(v,{variant:"h5",align:"center",children:"Channel not found"})})},y$=({error:e})=>t.jsxs(D,{sx:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:2},children:[t.jsx(v,{variant:"h4",color:"error",children:"An error occurred"}),t.jsx(v,{color:"text.secondary",children:e.message})]}),h0=({channel:e,onUpdate:n})=>{const r=async s=>{!s||!("name"in s)||await n(s)};return t.jsx(D,{sx:{maxWidth:800},children:t.jsx(u0,{initialData:e,onSubmit:r,submitButtonText:"Save"})})};var mp={},v$=at;Object.defineProperty(mp,"__esModule",{value:!0});var f0=mp.default=void 0,j$=v$(lt()),w$=t;f0=mp.default=(0,j$.default)((0,w$.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"DragIndicator");var xp={},S$=at;Object.defineProperty(xp,"__esModule",{value:!0});var p0=xp.default=void 0,C$=S$(lt()),P$=t;p0=xp.default=(0,C$.default)((0,P$.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info");var gp={},D$=at;Object.defineProperty(gp,"__esModule",{value:!0});var bp=gp.default=void 0,T$=D$(lt()),I$=t;bp=gp.default=(0,T$.default)((0,I$.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");function rr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var E$=typeof Symbol=="function"&&Symbol.observable||"@@observable",xb=E$,Kd=()=>Math.random().toString(36).substring(7).split("").join("."),A$={INIT:`@@redux/INIT${Kd()}`,REPLACE:`@@redux/REPLACE${Kd()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Kd()}`},gb=A$;function R$(e){if(typeof e!="object"||e===null)return!1;let n=e;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n||Object.getPrototypeOf(e)===null}function m0(e,n,r){if(typeof e!="function")throw new Error(rr(2));if(typeof n=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(rr(0));if(typeof n=="function"&&typeof r>"u"&&(r=n,n=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(rr(1));return r(m0)(e,n)}let s=e,o=n,a=new Map,c=a,u=0,d=!1;function h(){c===a&&(c=new Map,a.forEach((j,P)=>{c.set(P,j)}))}function p(){if(d)throw new Error(rr(3));return o}function m(j){if(typeof j!="function")throw new Error(rr(4));if(d)throw new Error(rr(5));let P=!0;h();const C=u++;return c.set(C,j),function(){if(P){if(d)throw new Error(rr(6));P=!1,h(),c.delete(C),a=null}}}function x(j){if(!R$(j))throw new Error(rr(7));if(typeof j.type>"u")throw new Error(rr(8));if(typeof j.type!="string")throw new Error(rr(17));if(d)throw new Error(rr(9));try{d=!0,o=s(o,j)}finally{d=!1}return(a=c).forEach(C=>{C()}),j}function y(j){if(typeof j!="function")throw new Error(rr(10));s=j,x({type:gb.REPLACE})}function g(){const j=m;return{subscribe(P){if(typeof P!="object"||P===null)throw new Error(rr(11));function C(){const E=P;E.next&&E.next(p())}return C(),{unsubscribe:j(C)}},[xb](){return this}}}return x({type:gb.INIT}),{dispatch:x,subscribe:m,getState:p,replaceReducer:y,[xb]:g}}function bb(e,n){return function(...r){return n(e.apply(this,r))}}function yb(e,n){if(typeof e=="function")return bb(e,n);if(typeof e!="object"||e===null)throw new Error(rr(16));const r={};for(const s in e){const o=e[s];typeof o=="function"&&(r[s]=bb(o,n))}return r}function x0(...e){return e.length===0?n=>n:e.length===1?e[0]:e.reduce((n,r)=>(...s)=>n(r(...s)))}function _$(...e){return n=>(r,s)=>{const o=n(r,s);let a=()=>{throw new Error(rr(15))};const c={getState:o.getState,dispatch:(d,...h)=>a(d,...h)},u=e.map(d=>d(c));return a=x0(...u)(o.dispatch),{...o,dispatch:a}}}var O$={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ba=b;function M$(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var k$=typeof Object.is=="function"?Object.is:M$,N$=Ba.useSyncExternalStore,L$=Ba.useRef,$$=Ba.useEffect,F$=Ba.useMemo,W$=Ba.useDebugValue;O$.useSyncExternalStoreWithSelector=function(e,n,r,s,o){var a=L$(null);if(a.current===null){var c={hasValue:!1,value:null};a.current=c}else c=a.current;a=F$(function(){function d(y){if(!h){if(h=!0,p=y,y=s(y),o!==void 0&&c.hasValue){var g=c.value;if(o(g,y))return m=g}return m=y}if(g=m,k$(p,y))return g;var w=s(y);return o!==void 0&&o(g,w)?(p=y,g):(p=y,m=w)}var h=!1,p,m,x=r===void 0?null:r;return[function(){return d(n())},x===null?void 0:function(){return d(x())}]},[n,r,s,o]);var u=N$(e,a[0],a[1]);return $$(function(){c.hasValue=!0,c.value=u},[u]),W$(u),u};var B$=b.version.startsWith("19"),V$=Symbol.for(B$?"react.transitional.element":"react.element"),U$=Symbol.for("react.portal"),z$=Symbol.for("react.fragment"),H$=Symbol.for("react.strict_mode"),G$=Symbol.for("react.profiler"),Y$=Symbol.for("react.consumer"),q$=Symbol.for("react.context"),g0=Symbol.for("react.forward_ref"),K$=Symbol.for("react.suspense"),J$=Symbol.for("react.suspense_list"),yp=Symbol.for("react.memo"),X$=Symbol.for("react.lazy"),Q$=g0,Z$=yp;function eF(e){if(typeof e=="object"&&e!==null){const{$$typeof:n}=e;switch(n){case V$:switch(e=e.type,e){case z$:case G$:case H$:case K$:case J$:return e;default:switch(e=e&&e.$$typeof,e){case q$:case g0:case X$:case yp:return e;case Y$:return e;default:return n}}case U$:return n}}}function tF(e){return eF(e)===yp}function nF(e,n,r,s,{areStatesEqual:o,areOwnPropsEqual:a,areStatePropsEqual:c}){let u=!1,d,h,p,m,x;function y(C,A){return d=C,h=A,p=e(d,h),m=n(s,h),x=r(p,m,h),u=!0,x}function g(){return p=e(d,h),n.dependsOnOwnProps&&(m=n(s,h)),x=r(p,m,h),x}function w(){return e.dependsOnOwnProps&&(p=e(d,h)),n.dependsOnOwnProps&&(m=n(s,h)),x=r(p,m,h),x}function j(){const C=e(d,h),A=!c(C,p);return p=C,A&&(x=r(p,m,h)),x}function P(C,A){const E=!a(A,h),T=!o(C,d,A,h);return d=C,h=A,E&&T?g():E?w():T?j():x}return function(A,E){return u?P(A,E):y(A,E)}}function rF(e,{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:s,...o}){const a=n(e,o),c=r(e,o),u=s(e,o);return nF(a,c,u,e,o)}function sF(e,n){const r={};for(const s in e){const o=e[s];typeof o=="function"&&(r[s]=(...a)=>n(o(...a)))}return r}function Th(e){return function(r){const s=e(r);function o(){return s}return o.dependsOnOwnProps=!1,o}}function vb(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function b0(e,n){return function(s,{displayName:o}){const a=function(u,d){return a.dependsOnOwnProps?a.mapToProps(u,d):a.mapToProps(u,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(u,d){a.mapToProps=e,a.dependsOnOwnProps=vb(e);let h=a(u,d);return typeof h=="function"&&(a.mapToProps=h,a.dependsOnOwnProps=vb(h),h=a(u,d)),h},a}}function vp(e,n){return(r,s)=>{throw new Error(`Invalid value of type ${typeof e} for ${n} argument when connecting component ${s.wrappedComponentName}.`)}}function oF(e){return e&&typeof e=="object"?Th(n=>sF(e,n)):e?typeof e=="function"?b0(e):vp(e,"mapDispatchToProps"):Th(n=>({dispatch:n}))}function iF(e){return e?typeof e=="function"?b0(e):vp(e,"mapStateToProps"):Th(()=>({}))}function aF(e,n,r){return{...r,...e,...n}}function lF(e){return function(r,{displayName:s,areMergedPropsEqual:o}){let a=!1,c;return function(d,h,p){const m=e(d,h,p);return a?o(m,c)||(c=m):(a=!0,c=m),c}}}function cF(e){return e?typeof e=="function"?lF(e):vp(e,"mergeProps"):()=>aF}function uF(e){e()}function dF(){let e=null,n=null;return{clear(){e=null,n=null},notify(){uF(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let s=e;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0;const o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!s||e===null||(s=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var jb={notify(){},get:()=>[]};function y0(e,n){let r,s=jb,o=0,a=!1;function c(w){p();const j=s.subscribe(w);let P=!1;return()=>{P||(P=!0,j(),m())}}function u(){s.notify()}function d(){g.onStateChange&&g.onStateChange()}function h(){return a}function p(){o++,r||(r=n?n.addNestedSub(d):e.subscribe(d),s=dF())}function m(){o--,r&&o===0&&(r(),r=void 0,s.clear(),s=jb)}function x(){a||(a=!0,p())}function y(){a&&(a=!1,m())}const g={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:h,trySubscribe:x,tryUnsubscribe:y,getListeners:()=>s};return g}var hF=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fF=hF(),pF=()=>typeof navigator<"u"&&navigator.product==="ReactNative",mF=pF(),xF=()=>fF||mF?b.useLayoutEffect:b.useEffect,wc=xF();function wb(e,n){return e===n?e!==0||n!==0||1/e===1/n:e!==e&&n!==n}function Jd(e,n){if(wb(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;const r=Object.keys(e),s=Object.keys(n);if(r.length!==s.length)return!1;for(let o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(n,r[o])||!wb(e[r[o]],n[r[o]]))return!1;return!0}var gF={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},bF={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},yF={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},v0={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},vF={[Q$]:yF,[Z$]:v0};function Sb(e){return tF(e)?v0:vF[e.$$typeof]||gF}var jF=Object.defineProperty,wF=Object.getOwnPropertyNames,Cb=Object.getOwnPropertySymbols,SF=Object.getOwnPropertyDescriptor,CF=Object.getPrototypeOf,Pb=Object.prototype;function Ih(e,n){if(typeof n!="string"){if(Pb){const a=CF(n);a&&a!==Pb&&Ih(e,a)}let r=wF(n);Cb&&(r=r.concat(Cb(n)));const s=Sb(e),o=Sb(n);for(let a=0;a<r.length;++a){const c=r[a];if(!bF[c]&&!(o&&o[c])&&!(s&&s[c])){const u=SF(n,c);try{jF(e,c,u)}catch{}}}}return e}var Xd=Symbol.for("react-redux-context"),Qd=typeof globalThis<"u"?globalThis:{};function PF(){if(!b.createContext)return{};const e=Qd[Xd]??(Qd[Xd]=new Map);let n=e.get(b.createContext);return n||(n=b.createContext(null),e.set(b.createContext,n)),n}var j0=PF(),DF=[null,null];function TF(e,n,r){wc(()=>e(...n),r)}function IF(e,n,r,s,o,a){e.current=s,r.current=!1,o.current&&(o.current=null,a())}function EF(e,n,r,s,o,a,c,u,d,h,p){if(!e)return()=>{};let m=!1,x=null;const y=()=>{if(m||!u.current)return;const w=n.getState();let j,P;try{j=s(w,o.current)}catch(C){P=C,x=C}P||(x=null),j===a.current?c.current||h():(a.current=j,d.current=j,c.current=!0,p())};return r.onStateChange=y,r.trySubscribe(),y(),()=>{if(m=!0,r.tryUnsubscribe(),r.onStateChange=null,x)throw x}}function AF(e,n){return e===n}function RF(e,n,r,{pure:s,areStatesEqual:o=AF,areOwnPropsEqual:a=Jd,areStatePropsEqual:c=Jd,areMergedPropsEqual:u=Jd,forwardRef:d=!1,context:h=j0}={}){const p=h,m=iF(e),x=oF(n),y=cF(r),g=!!e;return j=>{const P=j.displayName||j.name||"Component",C=`Connect(${P})`,A={shouldHandleStateChanges:g,displayName:C,wrappedComponentName:P,WrappedComponent:j,initMapStateToProps:m,initMapDispatchToProps:x,initMergeProps:y,areStatesEqual:o,areStatePropsEqual:c,areOwnPropsEqual:a,areMergedPropsEqual:u};function E(N){const[M,W,B]=b.useMemo(()=>{const{reactReduxForwardedRef:Ce,...ve}=N;return[N.context,Ce,ve]},[N]),q=b.useMemo(()=>{let Ce=p;return M!=null&&M.Consumer,Ce},[M,p]),k=b.useContext(q),Y=!!N.store&&!!N.store.getState&&!!N.store.dispatch,U=!!k&&!!k.store,H=Y?N.store:k.store,X=U?k.getServerState:H.getState,se=b.useMemo(()=>rF(H.dispatch,A),[H]),[ne,ee]=b.useMemo(()=>{if(!g)return DF;const Ce=y0(H,Y?void 0:k.subscription),ve=Ce.notifyNestedSubs.bind(Ce);return[Ce,ve]},[H,Y,k]),G=b.useMemo(()=>Y?k:{...k,subscription:ne},[Y,k,ne]),re=b.useRef(void 0),Pe=b.useRef(B),fe=b.useRef(void 0),Ie=b.useRef(!1),le=b.useRef(!1),oe=b.useRef(void 0);wc(()=>(le.current=!0,()=>{le.current=!1}),[]);const L=b.useMemo(()=>()=>fe.current&&B===Pe.current?fe.current:se(H.getState(),B),[H,B]),he=b.useMemo(()=>ve=>ne?EF(g,H,ne,se,Pe,re,Ie,le,fe,ee,ve):()=>{},[ne]);TF(IF,[Pe,re,Ie,B,fe,ee]);let ie;try{ie=b.useSyncExternalStore(he,L,X?()=>se(X(),B):L)}catch(Ce){throw oe.current&&(Ce.message+=`
The error may be correlated with this previous error:
${oe.current.stack}

`),Ce}wc(()=>{oe.current=void 0,fe.current=void 0,re.current=ie});const ae=b.useMemo(()=>b.createElement(j,{...ie,ref:W}),[W,j,ie]);return b.useMemo(()=>g?b.createElement(q.Provider,{value:G},ae):ae,[q,ae,G])}const R=b.memo(E);if(R.WrappedComponent=j,R.displayName=E.displayName=C,d){const M=b.forwardRef(function(B,q){return b.createElement(R,{...B,reactReduxForwardedRef:q})});return M.displayName=C,M.WrappedComponent=j,Ih(M,j)}return Ih(R,j)}}var w0=RF;function _F(e){const{children:n,context:r,serverState:s,store:o}=e,a=b.useMemo(()=>{const d=y0(o);return{store:o,subscription:d,getServerState:s?()=>s:void 0}},[o,s]),c=b.useMemo(()=>o.getState(),[o]);wc(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),c!==o.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,c]);const u=r||j0;return b.createElement(u.Provider,{value:a},n)}var OF=_F;function MF(e,n){if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}function S0(e,n){var r=b.useState(function(){return{inputs:n,result:e()}})[0],s=b.useRef(!0),o=b.useRef(r),a=s.current||!!(n&&o.current.inputs&&MF(n,o.current.inputs)),c=a?o.current:{inputs:n,result:e()};return b.useEffect(function(){s.current=!1,o.current=c},[c]),c.result}function kF(e,n){return S0(function(){return e},n)}var Ot=S0,Ke=kF,os=function(n){var r=n.top,s=n.right,o=n.bottom,a=n.left,c=s-a,u=o-r,d={top:r,right:s,bottom:o,left:a,width:c,height:u,x:a,y:r,center:{x:(s+a)/2,y:(o+r)/2}};return d},jp=function(n,r){return{top:n.top-r.top,left:n.left-r.left,bottom:n.bottom+r.bottom,right:n.right+r.right}},Db=function(n,r){return{top:n.top+r.top,left:n.left+r.left,bottom:n.bottom-r.bottom,right:n.right-r.right}},NF=function(n,r){return{top:n.top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x}},Zd={top:0,right:0,bottom:0,left:0},wp=function(n){var r=n.borderBox,s=n.margin,o=s===void 0?Zd:s,a=n.border,c=a===void 0?Zd:a,u=n.padding,d=u===void 0?Zd:u,h=os(jp(r,o)),p=os(Db(r,c)),m=os(Db(p,d));return{marginBox:h,borderBox:os(r),paddingBox:p,contentBox:m,margin:o,border:c,padding:d}},Fr=function(n){var r=n.slice(0,-2),s=n.slice(-2);if(s!=="px")return 0;var o=Number(r);return isNaN(o)&&VE(),o},LF=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Sc=function(n,r){var s=n.borderBox,o=n.border,a=n.margin,c=n.padding,u=NF(s,r);return wp({borderBox:u,border:o,margin:a,padding:c})},Cc=function(n,r){return r===void 0&&(r=LF()),Sc(n,r)},C0=function(n,r){var s={top:Fr(r.marginTop),right:Fr(r.marginRight),bottom:Fr(r.marginBottom),left:Fr(r.marginLeft)},o={top:Fr(r.paddingTop),right:Fr(r.paddingRight),bottom:Fr(r.paddingBottom),left:Fr(r.paddingLeft)},a={top:Fr(r.borderTopWidth),right:Fr(r.borderRightWidth),bottom:Fr(r.borderBottomWidth),left:Fr(r.borderLeftWidth)};return wp({borderBox:n,margin:s,padding:o,border:a})},P0=function(n){var r=n.getBoundingClientRect(),s=window.getComputedStyle(n);return C0(r,s)},Tb=Number.isNaN||function(n){return typeof n=="number"&&n!==n};function $F(e,n){return!!(e===n||Tb(e)&&Tb(n))}function FF(e,n){if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(!$F(e[r],n[r]))return!1;return!0}function Nn(e,n){n===void 0&&(n=FF);var r=null;function s(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];if(r&&r.lastThis===this&&n(o,r.lastArgs))return r.lastResult;var c=e.apply(this,o);return r={lastResult:c,lastArgs:o,lastThis:this},c}return s.clear=function(){r=null},s}var wa=function(n){var r=[],s=null,o=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];r=u,!s&&(s=requestAnimationFrame(function(){s=null,n.apply(void 0,r)}))};return o.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},o};function D0(e,n){}D0.bind(null,"warn");D0.bind(null,"error");function Qs(){}function WF(e,n){return{...e,...n}}function Vr(e,n,r){const s=n.map(o=>{const a=WF(r,o.options);return e.addEventListener(o.eventName,o.fn,a),function(){e.removeEventListener(o.eventName,o.fn,a)}});return function(){s.forEach(a=>{a()})}}const BF="Invariant failed";class Pc extends Error{}Pc.prototype.toString=function(){return this.message};function Re(e,n){throw new Pc(BF)}class VF extends Ut.Component{constructor(...n){super(...n),this.callbacks=null,this.unbind=Qs,this.onWindowError=r=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),r.error instanceof Pc&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=Vr(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(n){if(n instanceof Pc){this.setState({});return}throw n}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const UF=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Dc=e=>e+1,zF=e=>`
  You have lifted an item in position ${Dc(e.source.index)}
`,T0=(e,n)=>{const r=e.droppableId===n.droppableId,s=Dc(e.index),o=Dc(n.index);return r?`
      You have moved the item from position ${s}
      to position ${o}
    `:`
    You have moved the item from position ${s}
    in list ${e.droppableId}
    to list ${n.droppableId}
    in position ${o}
  `},I0=(e,n,r)=>n.droppableId===r.droppableId?`
      The item ${e}
      has been combined with ${r.draggableId}`:`
      The item ${e}
      in list ${n.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,HF=e=>{const n=e.destination;if(n)return T0(e.source,n);const r=e.combine;return r?I0(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},Ib=e=>`
  The item has returned to its starting position
  of ${Dc(e.index)}
`,GF=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${Ib(e.source)}
    `;const n=e.destination,r=e.combine;return n?`
      You have dropped the item.
      ${T0(e.source,n)}
    `:r?`
      You have dropped the item.
      ${I0(e.draggableId,e.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${Ib(e.source)}
  `},Yl={dragHandleUsageInstructions:UF,onDragStart:zF,onDragUpdate:HF,onDragEnd:GF},Ln={x:0,y:0},Un=(e,n)=>({x:e.x+n.x,y:e.y+n.y}),Ir=(e,n)=>({x:e.x-n.x,y:e.y-n.y}),Zs=(e,n)=>e.x===n.x&&e.y===n.y,Ai=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Mo=(e,n,r=0)=>e==="x"?{x:n,y:r}:{x:r,y:n},Sa=(e,n)=>Math.sqrt((n.x-e.x)**2+(n.y-e.y)**2),Eb=(e,n)=>Math.min(...n.map(r=>Sa(e,r))),E0=e=>n=>({x:e(n.x),y:e(n.y)});var YF=(e,n)=>{const r=os({top:Math.max(n.top,e.top),right:Math.min(n.right,e.right),bottom:Math.min(n.bottom,e.bottom),left:Math.max(n.left,e.left)});return r.width<=0||r.height<=0?null:r};const Va=(e,n)=>({top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}),Ab=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],qF={top:0,right:0,bottom:0,left:0},KF=(e,n)=>n?Va(e,n.scroll.diff.displacement):e,JF=(e,n,r)=>r&&r.increasedBy?{...e,[n.end]:e[n.end]+r.increasedBy[n.line]}:e,XF=(e,n)=>n&&n.shouldClipSubject?YF(n.pageMarginBox,e):os(e);var bi=({page:e,withPlaceholder:n,axis:r,frame:s})=>{const o=KF(e.marginBox,s),a=JF(o,r,n),c=XF(a,s);return{page:e,withPlaceholder:n,active:c}},Sp=(e,n)=>{e.frame||Re();const r=e.frame,s=Ir(n,r.scroll.initial),o=Ai(s),a={...r,scroll:{initial:r.scroll.initial,current:n,diff:{value:s,displacement:o},max:r.scroll.max}},c=bi({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:c}};const A0=Nn(e=>e.reduce((n,r)=>(n[r.descriptor.id]=r,n),{})),R0=Nn(e=>e.reduce((n,r)=>(n[r.descriptor.id]=r,n),{})),su=Nn(e=>Object.values(e)),QF=Nn(e=>Object.values(e));var Ri=Nn((e,n)=>QF(n).filter(s=>e===s.descriptor.droppableId).sort((s,o)=>s.descriptor.index-o.descriptor.index));function Cp(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function ou(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var iu=Nn((e,n)=>n.filter(r=>r.descriptor.id!==e.descriptor.id)),ZF=({isMovingForward:e,draggable:n,destination:r,insideDestination:s,previousImpact:o})=>{if(!r.isCombineEnabled||!Cp(o))return null;function c(y){const g={type:"COMBINE",combine:{draggableId:y,droppableId:r.descriptor.id}};return{...o,at:g}}const u=o.displaced.all,d=u.length?u[0]:null;if(e)return d?c(d):null;const h=iu(n,s);if(!d){if(!h.length)return null;const y=h[h.length-1];return c(y.descriptor.id)}const p=h.findIndex(y=>y.descriptor.id===d);p===-1&&Re();const m=p-1;if(m<0)return null;const x=h[m];return c(x.descriptor.id)},_i=(e,n)=>e.descriptor.droppableId===n.descriptor.id;const _0={point:Ln,value:0},Ca={invisible:{},visible:{},all:[]},e3={displaced:Ca,displacedBy:_0,at:null};var Hr=(e,n)=>r=>e<=r&&r<=n,O0=e=>{const n=Hr(e.top,e.bottom),r=Hr(e.left,e.right);return s=>{if(n(s.top)&&n(s.bottom)&&r(s.left)&&r(s.right))return!0;const a=n(s.top)||n(s.bottom),c=r(s.left)||r(s.right);if(a&&c)return!0;const d=s.top<e.top&&s.bottom>e.bottom,h=s.left<e.left&&s.right>e.right;return d&&h?!0:d&&c||h&&a}},t3=e=>{const n=Hr(e.top,e.bottom),r=Hr(e.left,e.right);return s=>n(s.top)&&n(s.bottom)&&r(s.left)&&r(s.right)};const Pp={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},M0={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var n3=e=>n=>{const r=Hr(n.top,n.bottom),s=Hr(n.left,n.right);return o=>e===Pp?r(o.top)&&r(o.bottom):s(o.left)&&s(o.right)};const r3=(e,n)=>{const r=n.frame?n.frame.scroll.diff.displacement:Ln;return Va(e,r)},s3=(e,n,r)=>n.subject.active?r(n.subject.active)(e):!1,o3=(e,n,r)=>r(n)(e),Dp=({target:e,destination:n,viewport:r,withDroppableDisplacement:s,isVisibleThroughFrameFn:o})=>{const a=s?r3(e,n):e;return s3(a,n,o)&&o3(a,r,o)},i3=e=>Dp({...e,isVisibleThroughFrameFn:O0}),k0=e=>Dp({...e,isVisibleThroughFrameFn:t3}),a3=e=>Dp({...e,isVisibleThroughFrameFn:n3(e.destination.axis)}),l3=(e,n,r)=>{if(typeof r=="boolean")return r;if(!n)return!0;const{invisible:s,visible:o}=n;if(s[e])return!1;const a=o[e];return a?a.shouldAnimate:!0};function c3(e,n){const r=e.page.marginBox,s={top:n.point.y,right:0,bottom:0,left:n.point.x};return os(jp(r,s))}function Pa({afterDragging:e,destination:n,displacedBy:r,viewport:s,forceShouldAnimate:o,last:a}){return e.reduce(function(u,d){const h=c3(d,r),p=d.descriptor.id;if(u.all.push(p),!i3({target:h,destination:n,viewport:s,withDroppableDisplacement:!0}))return u.invisible[d.descriptor.id]=!0,u;const x=l3(p,a,o),y={draggableId:p,shouldAnimate:x};return u.visible[p]=y,u},{all:[],visible:{},invisible:{}})}function u3(e,n){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return n.inHomeList?r:r+1}function Rb({insideDestination:e,inHomeList:n,displacedBy:r,destination:s}){const o=u3(e,{inHomeList:n});return{displaced:Ca,displacedBy:r,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:o}}}}function Tc({draggable:e,insideDestination:n,destination:r,viewport:s,displacedBy:o,last:a,index:c,forceShouldAnimate:u}){const d=_i(e,r);if(c==null)return Rb({insideDestination:n,inHomeList:d,displacedBy:o,destination:r});const h=n.find(g=>g.descriptor.index===c);if(!h)return Rb({insideDestination:n,inHomeList:d,displacedBy:o,destination:r});const p=iu(e,n),m=n.indexOf(h),x=p.slice(m);return{displaced:Pa({afterDragging:x,destination:r,displacedBy:o,last:a,viewport:s.frame,forceShouldAnimate:u}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:c}}}}function no(e,n){return!!n.effected[e]}var d3=({isMovingForward:e,destination:n,draggables:r,combine:s,afterCritical:o})=>{if(!n.isCombineEnabled)return null;const a=s.draggableId,u=r[a].descriptor.index;return no(a,o)?e?u:u-1:e?u+1:u},h3=({isMovingForward:e,isInHomeList:n,insideDestination:r,location:s})=>{if(!r.length)return null;const o=s.index,a=e?o+1:o-1,c=r[0].descriptor.index,u=r[r.length-1].descriptor.index,d=n?u:u+1;return a<c||a>d?null:a},f3=({isMovingForward:e,isInHomeList:n,draggable:r,draggables:s,destination:o,insideDestination:a,previousImpact:c,viewport:u,afterCritical:d})=>{const h=c.at;if(h||Re(),h.type==="REORDER"){const m=h3({isMovingForward:e,isInHomeList:n,location:h.destination,insideDestination:a});return m==null?null:Tc({draggable:r,insideDestination:a,destination:o,viewport:u,last:c.displaced,displacedBy:c.displacedBy,index:m})}const p=d3({isMovingForward:e,destination:o,displaced:c.displaced,draggables:s,combine:h.combine,afterCritical:d});return p==null?null:Tc({draggable:r,insideDestination:a,destination:o,viewport:u,last:c.displaced,displacedBy:c.displacedBy,index:p})},p3=({displaced:e,afterCritical:n,combineWith:r,displacedBy:s})=>{const o=!!(e.visible[r]||e.invisible[r]);return no(r,n)?o?Ln:Ai(s.point):o?s.point:Ln},m3=({afterCritical:e,impact:n,draggables:r})=>{const s=ou(n);s||Re();const o=s.draggableId,a=r[o].page.borderBox.center,c=p3({displaced:n.displaced,afterCritical:e,combineWith:o,displacedBy:n.displacedBy});return Un(a,c)};const N0=(e,n)=>n.margin[e.start]+n.borderBox[e.size]/2,x3=(e,n)=>n.margin[e.end]+n.borderBox[e.size]/2,Tp=(e,n,r)=>n[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,_b=({axis:e,moveRelativeTo:n,isMoving:r})=>Mo(e.line,n.marginBox[e.end]+N0(e,r),Tp(e,n.marginBox,r)),Ob=({axis:e,moveRelativeTo:n,isMoving:r})=>Mo(e.line,n.marginBox[e.start]-x3(e,r),Tp(e,n.marginBox,r)),g3=({axis:e,moveInto:n,isMoving:r})=>Mo(e.line,n.contentBox[e.start]+N0(e,r),Tp(e,n.contentBox,r));var b3=({impact:e,draggable:n,draggables:r,droppable:s,afterCritical:o})=>{const a=Ri(s.descriptor.id,r),c=n.page,u=s.axis;if(!a.length)return g3({axis:u,moveInto:s.page,isMoving:c});const{displaced:d,displacedBy:h}=e,p=d.all[0];if(p){const x=r[p];if(no(p,o))return Ob({axis:u,moveRelativeTo:x.page,isMoving:c});const y=Sc(x.page,h.point);return Ob({axis:u,moveRelativeTo:y,isMoving:c})}const m=a[a.length-1];if(m.descriptor.id===n.descriptor.id)return c.borderBox.center;if(no(m.descriptor.id,o)){const x=Sc(m.page,Ai(o.displacedBy.point));return _b({axis:u,moveRelativeTo:x,isMoving:c})}return _b({axis:u,moveRelativeTo:m.page,isMoving:c})},Eh=(e,n)=>{const r=e.frame;return r?Un(n,r.scroll.diff.displacement):n};const y3=({impact:e,draggable:n,droppable:r,draggables:s,afterCritical:o})=>{const a=n.page.borderBox.center,c=e.at;return!r||!c?a:c.type==="REORDER"?b3({impact:e,draggable:n,draggables:s,droppable:r,afterCritical:o}):m3({impact:e,draggables:s,afterCritical:o})};var au=e=>{const n=y3(e),r=e.droppable;return r?Eh(r,n):n},L0=(e,n)=>{const r=Ir(n,e.scroll.initial),s=Ai(r);return{frame:os({top:n.y,bottom:n.y+e.frame.height,left:n.x,right:n.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:n,diff:{value:r,displacement:s}}}};function Mb(e,n){return e.map(r=>n[r])}function v3(e,n){for(let r=0;r<n.length;r++){const s=n[r].visible[e];if(s)return s}return null}var j3=({impact:e,viewport:n,destination:r,draggables:s,maxScrollChange:o})=>{const a=L0(n,Un(n.scroll.current,o)),c=r.frame?Sp(r,Un(r.frame.scroll.current,o)):r,u=e.displaced,d=Pa({afterDragging:Mb(u.all,s),destination:r,displacedBy:e.displacedBy,viewport:a.frame,last:u,forceShouldAnimate:!1}),h=Pa({afterDragging:Mb(u.all,s),destination:c,displacedBy:e.displacedBy,viewport:n.frame,last:u,forceShouldAnimate:!1}),p={},m={},x=[u,d,h];return u.all.forEach(g=>{const w=v3(g,x);if(w){m[g]=w;return}p[g]=!0}),{...e,displaced:{all:u.all,invisible:p,visible:m}}},w3=(e,n)=>Un(e.scroll.diff.displacement,n),Ip=({pageBorderBoxCenter:e,draggable:n,viewport:r})=>{const s=w3(r,e),o=Ir(s,n.page.borderBox.center);return Un(n.client.borderBox.center,o)},$0=({draggable:e,destination:n,newPageBorderBoxCenter:r,viewport:s,withDroppableDisplacement:o,onlyOnMainAxis:a=!1})=>{const c=Ir(r,e.page.borderBox.center),d={target:Va(e.page.borderBox,c),destination:n,withDroppableDisplacement:o,viewport:s};return a?a3(d):k0(d)},S3=({isMovingForward:e,draggable:n,destination:r,draggables:s,previousImpact:o,viewport:a,previousPageBorderBoxCenter:c,previousClientSelection:u,afterCritical:d})=>{if(!r.isEnabled)return null;const h=Ri(r.descriptor.id,s),p=_i(n,r),m=ZF({isMovingForward:e,draggable:n,destination:r,insideDestination:h,previousImpact:o})||f3({isMovingForward:e,isInHomeList:p,draggable:n,draggables:s,destination:r,insideDestination:h,previousImpact:o,viewport:a,afterCritical:d});if(!m)return null;const x=au({impact:m,draggable:n,droppable:r,draggables:s,afterCritical:d});if($0({draggable:n,destination:r,newPageBorderBoxCenter:x,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Ip({pageBorderBoxCenter:x,draggable:n,viewport:a}),impact:m,scrollJumpRequest:null};const g=Ir(x,c),w=j3({impact:m,viewport:a,destination:r,draggables:s,maxScrollChange:g});return{clientSelection:u,impact:w,scrollJumpRequest:g}};const nr=e=>{const n=e.subject.active;return n||Re(),n};var C3=({isMovingForward:e,pageBorderBoxCenter:n,source:r,droppables:s,viewport:o})=>{const a=r.subject.active;if(!a)return null;const c=r.axis,u=Hr(a[c.start],a[c.end]),d=su(s).filter(p=>p!==r).filter(p=>p.isEnabled).filter(p=>!!p.subject.active).filter(p=>O0(o.frame)(nr(p))).filter(p=>{const m=nr(p);return e?a[c.crossAxisEnd]<m[c.crossAxisEnd]:m[c.crossAxisStart]<a[c.crossAxisStart]}).filter(p=>{const m=nr(p),x=Hr(m[c.start],m[c.end]);return u(m[c.start])||u(m[c.end])||x(a[c.start])||x(a[c.end])}).sort((p,m)=>{const x=nr(p)[c.crossAxisStart],y=nr(m)[c.crossAxisStart];return e?x-y:y-x}).filter((p,m,x)=>nr(p)[c.crossAxisStart]===nr(x[0])[c.crossAxisStart]);if(!d.length)return null;if(d.length===1)return d[0];const h=d.filter(p=>Hr(nr(p)[c.start],nr(p)[c.end])(n[c.line]));return h.length===1?h[0]:h.length>1?h.sort((p,m)=>nr(p)[c.start]-nr(m)[c.start])[0]:d.sort((p,m)=>{const x=Eb(n,Ab(nr(p))),y=Eb(n,Ab(nr(m)));return x!==y?x-y:nr(p)[c.start]-nr(m)[c.start]})[0]};const kb=(e,n)=>{const r=e.page.borderBox.center;return no(e.descriptor.id,n)?Ir(r,n.displacedBy.point):r},P3=(e,n)=>{const r=e.page.borderBox;return no(e.descriptor.id,n)?Va(r,Ai(n.displacedBy.point)):r};var D3=({pageBorderBoxCenter:e,viewport:n,destination:r,insideDestination:s,afterCritical:o})=>s.filter(c=>k0({target:P3(c,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})).sort((c,u)=>{const d=Sa(e,Eh(r,kb(c,o))),h=Sa(e,Eh(r,kb(u,o)));return d<h?-1:h<d?1:c.descriptor.index-u.descriptor.index})[0]||null,Ua=Nn(function(n,r){const s=r[n.line];return{value:s,point:Mo(n.line,s)}});const T3=(e,n,r)=>{const s=e.axis;if(e.descriptor.mode==="virtual")return Mo(s.line,n[s.line]);const o=e.subject.page.contentBox[s.size],d=Ri(e.descriptor.id,r).reduce((h,p)=>h+p.client.marginBox[s.size],0)+n[s.line]-o;return d<=0?null:Mo(s.line,d)},F0=(e,n)=>({...e,scroll:{...e.scroll,max:n}}),W0=(e,n,r)=>{const s=e.frame;_i(n,e)&&Re(),e.subject.withPlaceholder&&Re();const o=Ua(e.axis,n.displaceBy).point,a=T3(e,o,r),c={placeholderSize:o,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!s){const p=bi({page:e.subject.page,withPlaceholder:c,axis:e.axis,frame:e.frame});return{...e,subject:p}}const u=a?Un(s.scroll.max,a):s.scroll.max,d=F0(s,u),h=bi({page:e.subject.page,withPlaceholder:c,axis:e.axis,frame:d});return{...e,subject:h,frame:d}},I3=e=>{const n=e.subject.withPlaceholder;n||Re();const r=e.frame;if(!r){const c=bi({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:c}}const s=n.oldFrameMaxScroll;s||Re();const o=F0(r,s),a=bi({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return{...e,subject:a,frame:o}};var E3=({previousPageBorderBoxCenter:e,moveRelativeTo:n,insideDestination:r,draggable:s,draggables:o,destination:a,viewport:c,afterCritical:u})=>{if(!n){if(r.length)return null;const m={displaced:Ca,displacedBy:_0,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},x=au({impact:m,draggable:s,droppable:a,draggables:o,afterCritical:u}),y=_i(s,a)?a:W0(a,s,o);return $0({draggable:s,destination:y,newPageBorderBoxCenter:x,viewport:c.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?m:null}const d=e[a.axis.line]<=n.page.borderBox.center[a.axis.line],h=(()=>{const m=n.descriptor.index;return n.descriptor.id===s.descriptor.id||d?m:m+1})(),p=Ua(a.axis,s.displaceBy);return Tc({draggable:s,insideDestination:r,destination:a,viewport:c,displacedBy:p,last:Ca,index:h})},A3=({isMovingForward:e,previousPageBorderBoxCenter:n,draggable:r,isOver:s,draggables:o,droppables:a,viewport:c,afterCritical:u})=>{const d=C3({isMovingForward:e,pageBorderBoxCenter:n,source:s,droppables:a,viewport:c});if(!d)return null;const h=Ri(d.descriptor.id,o),p=D3({pageBorderBoxCenter:n,viewport:c,destination:d,insideDestination:h,afterCritical:u}),m=E3({previousPageBorderBoxCenter:n,destination:d,draggable:r,draggables:o,moveRelativeTo:p,insideDestination:h,viewport:c,afterCritical:u});if(!m)return null;const x=au({impact:m,draggable:r,droppable:d,draggables:o,afterCritical:u});return{clientSelection:Ip({pageBorderBoxCenter:x,draggable:r,viewport:c}),impact:m,scrollJumpRequest:null}},Er=e=>{const n=e.at;return n?n.type==="REORDER"?n.destination.droppableId:n.combine.droppableId:null};const R3=(e,n)=>{const r=Er(e);return r?n[r]:null};var _3=({state:e,type:n})=>{const r=R3(e.impact,e.dimensions.droppables),s=!!r,o=e.dimensions.droppables[e.critical.droppable.id],a=r||o,c=a.axis.direction,u=c==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||c==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(u&&!s)return null;const d=n==="MOVE_DOWN"||n==="MOVE_RIGHT",h=e.dimensions.draggables[e.critical.draggable.id],p=e.current.page.borderBoxCenter,{draggables:m,droppables:x}=e.dimensions;return u?S3({isMovingForward:d,previousPageBorderBoxCenter:p,draggable:h,destination:a,draggables:m,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):A3({isMovingForward:d,previousPageBorderBoxCenter:p,draggable:h,isOver:a,draggables:m,droppables:x,viewport:e.viewport,afterCritical:e.afterCritical})};function Eo(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function B0(e){const n=Hr(e.top,e.bottom),r=Hr(e.left,e.right);return function(o){return n(o.y)&&r(o.x)}}function O3(e,n){return e.left<n.right&&e.right>n.left&&e.top<n.bottom&&e.bottom>n.top}function M3({pageBorderBox:e,draggable:n,candidates:r}){const s=n.page.borderBox.center,o=r.map(a=>{const c=a.axis,u=Mo(a.axis.line,e.center[c.line],a.page.borderBox.center[c.crossAxisLine]);return{id:a.descriptor.id,distance:Sa(s,u)}}).sort((a,c)=>c.distance-a.distance);return o[0]?o[0].id:null}function k3({pageBorderBox:e,draggable:n,droppables:r}){const s=su(r).filter(o=>{if(!o.isEnabled)return!1;const a=o.subject.active;if(!a||!O3(e,a))return!1;if(B0(a)(e.center))return!0;const c=o.axis,u=a.center[c.crossAxisLine],d=e[c.crossAxisStart],h=e[c.crossAxisEnd],p=Hr(a[c.crossAxisStart],a[c.crossAxisEnd]),m=p(d),x=p(h);return!m&&!x?!0:m?d<u:h>u});return s.length?s.length===1?s[0].descriptor.id:M3({pageBorderBox:e,draggable:n,candidates:s}):null}const V0=(e,n)=>os(Va(e,n));var N3=(e,n)=>{const r=e.frame;return r?V0(n,r.scroll.diff.value):n};function U0({displaced:e,id:n}){return!!(e.visible[n]||e.invisible[n])}function L3({draggable:e,closest:n,inHomeList:r}){return n?r&&n.descriptor.index>e.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var $3=({pageBorderBoxWithDroppableScroll:e,draggable:n,destination:r,insideDestination:s,last:o,viewport:a,afterCritical:c})=>{const u=r.axis,d=Ua(r.axis,n.displaceBy),h=d.value,p=e[u.start],m=e[u.end],y=iu(n,s).find(w=>{const j=w.descriptor.id,P=w.page.borderBox.center[u.line],C=no(j,c),A=U0({displaced:o,id:j});return C?A?m<=P:p<P-h:A?m<=P+h:p<P})||null,g=L3({draggable:n,closest:y,inHomeList:_i(n,r)});return Tc({draggable:n,insideDestination:s,destination:r,viewport:a,last:o,displacedBy:d,index:g})};const F3=4;var W3=({draggable:e,pageBorderBoxWithDroppableScroll:n,previousImpact:r,destination:s,insideDestination:o,afterCritical:a})=>{if(!s.isCombineEnabled)return null;const c=s.axis,u=Ua(s.axis,e.displaceBy),d=u.value,h=n[c.start],p=n[c.end],x=iu(e,o).find(g=>{const w=g.descriptor.id,j=g.page.borderBox,C=j[c.size]/F3,A=no(w,a),E=U0({displaced:r.displaced,id:w});return A?E?p>j[c.start]+C&&p<j[c.end]-C:h>j[c.start]-d+C&&h<j[c.end]-d-C:E?p>j[c.start]+d+C&&p<j[c.end]+d-C:h>j[c.start]+C&&h<j[c.end]-C});return x?{displacedBy:u,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:x.descriptor.id,droppableId:s.descriptor.id}}}:null},z0=({pageOffset:e,draggable:n,draggables:r,droppables:s,previousImpact:o,viewport:a,afterCritical:c})=>{const u=V0(n.page.borderBox,e),d=k3({pageBorderBox:u,draggable:n,droppables:s});if(!d)return e3;const h=s[d],p=Ri(h.descriptor.id,r),m=N3(h,u);return W3({pageBorderBoxWithDroppableScroll:m,draggable:n,previousImpact:o,destination:h,insideDestination:p,afterCritical:c})||$3({pageBorderBoxWithDroppableScroll:m,draggable:n,destination:h,insideDestination:p,last:o.displaced,viewport:a,afterCritical:c})},Ep=(e,n)=>({...e,[n.descriptor.id]:n});const B3=({previousImpact:e,impact:n,droppables:r})=>{const s=Er(e),o=Er(n);if(!s||s===o)return r;const a=r[s];if(!a.subject.withPlaceholder)return r;const c=I3(a);return Ep(r,c)};var V3=({draggable:e,draggables:n,droppables:r,previousImpact:s,impact:o})=>{const a=B3({previousImpact:s,impact:o,droppables:r}),c=Er(o);if(!c)return a;const u=r[c];if(_i(e,u)||u.subject.withPlaceholder)return a;const d=W0(u,e,n);return Ep(a,d)},fa=({state:e,clientSelection:n,dimensions:r,viewport:s,impact:o,scrollJumpRequest:a})=>{const c=s||e.viewport,u=r||e.dimensions,d=n||e.current.client.selection,h=Ir(d,e.initial.client.selection),p={offset:h,selection:d,borderBoxCenter:Un(e.initial.client.borderBoxCenter,h)},m={selection:Un(p.selection,c.scroll.current),borderBoxCenter:Un(p.borderBoxCenter,c.scroll.current),offset:Un(p.offset,c.scroll.diff.value)},x={client:p,page:m};if(e.phase==="COLLECTING")return{...e,dimensions:u,viewport:c,current:x};const y=u.draggables[e.critical.draggable.id],g=o||z0({pageOffset:m.offset,draggable:y,draggables:u.draggables,droppables:u.droppables,previousImpact:e.impact,viewport:c,afterCritical:e.afterCritical}),w=V3({draggable:y,impact:g,previousImpact:e.impact,draggables:u.draggables,droppables:u.droppables});return{...e,current:x,dimensions:{draggables:u.draggables,droppables:w},impact:g,viewport:c,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function U3(e,n){return e.map(r=>n[r])}var H0=({impact:e,viewport:n,draggables:r,destination:s,forceShouldAnimate:o})=>{const a=e.displaced,c=U3(a.all,r),u=Pa({afterDragging:c,destination:s,displacedBy:e.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:a});return{...e,displaced:u}},G0=({impact:e,draggable:n,droppable:r,draggables:s,viewport:o,afterCritical:a})=>{const c=au({impact:e,draggable:n,draggables:s,droppable:r,afterCritical:a});return Ip({pageBorderBoxCenter:c,draggable:n,viewport:o})},Y0=({state:e,dimensions:n,viewport:r})=>{e.movementMode!=="SNAP"&&Re();const s=e.impact,o=r||e.viewport,a=n||e.dimensions,{draggables:c,droppables:u}=a,d=c[e.critical.draggable.id],h=Er(s);h||Re();const p=u[h],m=H0({impact:s,viewport:o,destination:p,draggables:c}),x=G0({impact:m,draggable:d,droppable:p,draggables:c,viewport:o,afterCritical:e.afterCritical});return fa({impact:m,clientSelection:x,state:e,dimensions:a,viewport:o})},z3=e=>({index:e.index,droppableId:e.droppableId}),q0=({draggable:e,home:n,draggables:r,viewport:s})=>{const o=Ua(n.axis,e.displaceBy),a=Ri(n.descriptor.id,r),c=a.indexOf(e);c===-1&&Re();const u=a.slice(c+1),d=u.reduce((x,y)=>(x[y.descriptor.id]=!0,x),{}),h={inVirtualList:n.descriptor.mode==="virtual",displacedBy:o,effected:d};return{impact:{displaced:Pa({afterDragging:u,destination:n,displacedBy:o,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:z3(e.descriptor)}},afterCritical:h}},H3=(e,n)=>({draggables:e.draggables,droppables:Ep(e.droppables,n)}),G3=({draggable:e,offset:n,initialWindowScroll:r})=>{const s=Sc(e.client,n),o=Cc(s,r);return{...e,placeholder:{...e.placeholder,client:s},client:s,page:o}},Y3=e=>{const n=e.frame;return n||Re(),n},q3=({additions:e,updatedDroppables:n,viewport:r})=>{const s=r.scroll.diff.value;return e.map(o=>{const a=o.descriptor.droppableId,c=n[a],d=Y3(c).scroll.diff.value,h=Un(s,d);return G3({draggable:o,offset:h,initialWindowScroll:r.scroll.initial})})},K3=({state:e,published:n})=>{const r=n.modified.map(P=>{const C=e.dimensions.droppables[P.droppableId];return Sp(C,P.scroll)}),s={...e.dimensions.droppables,...A0(r)},o=R0(q3({additions:n.additions,updatedDroppables:s,viewport:e.viewport})),a={...e.dimensions.draggables,...o};n.removals.forEach(P=>{delete a[P]});const c={droppables:s,draggables:a},u=Er(e.impact),d=u?c.droppables[u]:null,h=c.draggables[e.critical.draggable.id],p=c.droppables[e.critical.droppable.id],{impact:m,afterCritical:x}=q0({draggable:h,home:p,draggables:a,viewport:e.viewport}),y=d&&d.isCombineEnabled?e.impact:m,g=z0({pageOffset:e.current.page.offset,draggable:c.draggables[e.critical.draggable.id],draggables:c.draggables,droppables:c.droppables,previousImpact:y,viewport:e.viewport,afterCritical:x}),w={...e,phase:"DRAGGING",impact:g,onLiftImpact:m,dimensions:c,afterCritical:x,forceShouldAnimate:!1};return e.phase==="COLLECTING"?w:{...w,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const Ah=e=>e.movementMode==="SNAP",eh=(e,n,r)=>{const s=H3(e.dimensions,n);return!Ah(e)||r?fa({state:e,dimensions:s}):Y0({state:e,dimensions:s})};function th(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const Nb={phase:"IDLE",completed:null,shouldFlush:!1};var J3=(e=Nb,n)=>{if(n.type==="FLUSH")return{...Nb,shouldFlush:!0};if(n.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Re();const{critical:r,clientSelection:s,viewport:o,dimensions:a,movementMode:c}=n.payload,u=a.draggables[r.draggable.id],d=a.droppables[r.droppable.id],h={selection:s,borderBoxCenter:u.client.borderBox.center,offset:Ln},p={client:h,page:{selection:Un(h.selection,o.scroll.initial),borderBoxCenter:Un(h.selection,o.scroll.initial),offset:Un(h.selection,o.scroll.diff.value)}},m=su(a.droppables).every(w=>!w.isFixedOnPage),{impact:x,afterCritical:y}=q0({draggable:u,home:d,draggables:a.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:c,dimensions:a,initial:p,current:p,isWindowScrollAllowed:m,impact:x,afterCritical:y,onLiftImpact:x,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if(n.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Re(),{...e,phase:"COLLECTING"});if(n.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Re(),K3({state:e,published:n.payload});if(n.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Eo(e)||Re();const{client:r}=n.payload;return Zs(r,e.current.client.selection)?e:fa({state:e,clientSelection:r,impact:Ah(e)?e.impact:null})}if(n.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return th(e);Eo(e)||Re();const{id:r,newScroll:s}=n.payload,o=e.dimensions.droppables[r];if(!o)return e;const a=Sp(o,s);return eh(e,a,!1)}if(n.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Eo(e)||Re();const{id:r,isEnabled:s}=n.payload,o=e.dimensions.droppables[r];o||Re(),o.isEnabled===s&&Re();const a={...o,isEnabled:s};return eh(e,a,!0)}if(n.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Eo(e)||Re();const{id:r,isCombineEnabled:s}=n.payload,o=e.dimensions.droppables[r];o||Re(),o.isCombineEnabled===s&&Re();const a={...o,isCombineEnabled:s};return eh(e,a,!0)}if(n.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Eo(e)||Re(),e.isWindowScrollAllowed||Re();const r=n.payload.newScroll;if(Zs(e.viewport.scroll.current,r))return th(e);const s=L0(e.viewport,r);return Ah(e)?Y0({state:e,viewport:s}):fa({state:e,viewport:s})}if(n.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Eo(e))return e;const r=n.payload.maxScroll;if(Zs(r,e.viewport.scroll.max))return e;const s={...e.viewport,scroll:{...e.viewport.scroll,max:r}};return{...e,viewport:s}}if(n.type==="MOVE_UP"||n.type==="MOVE_DOWN"||n.type==="MOVE_LEFT"||n.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Re();const r=_3({state:e,type:n.type});return r?fa({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if(n.type==="DROP_PENDING"){const r=n.payload.reason;return e.phase!=="COLLECTING"&&Re(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(n.type==="DROP_ANIMATE"){const{completed:r,dropDuration:s,newHomeClientOffset:o}=n.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Re(),{phase:"DROP_ANIMATING",completed:r,dropDuration:s,newHomeClientOffset:o,dimensions:e.dimensions}}if(n.type==="DROP_COMPLETE"){const{completed:r}=n.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return e};function Ft(e,n){return e instanceof Object&&"type"in e&&e.type===n}const X3=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),Q3=e=>({type:"LIFT",payload:e}),Z3=e=>({type:"INITIAL_PUBLISH",payload:e}),e5=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),t5=()=>({type:"COLLECTION_STARTING",payload:null}),n5=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),r5=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),s5=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),K0=e=>({type:"MOVE",payload:e}),o5=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),i5=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),a5=()=>({type:"MOVE_UP",payload:null}),l5=()=>({type:"MOVE_DOWN",payload:null}),c5=()=>({type:"MOVE_RIGHT",payload:null}),u5=()=>({type:"MOVE_LEFT",payload:null}),Ap=()=>({type:"FLUSH",payload:null}),d5=e=>({type:"DROP_ANIMATE",payload:e}),Rp=e=>({type:"DROP_COMPLETE",payload:e}),J0=e=>({type:"DROP",payload:e}),h5=e=>({type:"DROP_PENDING",payload:e}),X0=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var f5=e=>({getState:n,dispatch:r})=>s=>o=>{if(!Ft(o,"LIFT")){s(o);return}const{id:a,clientSelection:c,movementMode:u}=o.payload,d=n();d.phase==="DROP_ANIMATING"&&r(Rp({completed:d.completed})),n().phase!=="IDLE"&&Re(),r(Ap()),r(X3({draggableId:a,movementMode:u}));const p={draggableId:a,scrollOptions:{shouldPublishImmediately:u==="SNAP"}},{critical:m,dimensions:x,viewport:y}=e.startPublishing(p);r(Z3({critical:m,dimensions:x,clientSelection:c,movementMode:u,viewport:y}))},p5=e=>()=>n=>r=>{Ft(r,"INITIAL_PUBLISH")&&e.dragging(),Ft(r,"DROP_ANIMATE")&&e.dropping(r.payload.completed.result.reason),(Ft(r,"FLUSH")||Ft(r,"DROP_COMPLETE"))&&e.resting(),n(r)};const _p={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Da={opacity:{drop:0,combining:.7},scale:{drop:.75}},Q0={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Po=`${Q0.outOfTheWay}s ${_p.outOfTheWay}`,pa={fluid:`opacity ${Po}`,snap:`transform ${Po}, opacity ${Po}`,drop:e=>{const n=`${e}s ${_p.drop}`;return`transform ${n}, opacity ${n}`},outOfTheWay:`transform ${Po}`,placeholder:`height ${Po}, width ${Po}, margin ${Po}`},Lb=e=>Zs(e,Ln)?void 0:`translate(${e.x}px, ${e.y}px)`,Rh={moveTo:Lb,drop:(e,n)=>{const r=Lb(e);if(r)return n?`${r} scale(${Da.scale.drop})`:r}},{minDropTime:_h,maxDropTime:Z0}=Q0,m5=Z0-_h,$b=1500,x5=.6;var g5=({current:e,destination:n,reason:r})=>{const s=Sa(e,n);if(s<=0)return _h;if(s>=$b)return Z0;const o=s/$b,a=_h+m5*o,c=r==="CANCEL"?a*x5:a;return Number(c.toFixed(2))},b5=({impact:e,draggable:n,dimensions:r,viewport:s,afterCritical:o})=>{const{draggables:a,droppables:c}=r,u=Er(e),d=u?c[u]:null,h=c[n.descriptor.droppableId],p=G0({impact:e,draggable:n,draggables:a,afterCritical:o,droppable:d||h,viewport:s});return Ir(p,n.client.borderBox.center)},y5=({draggables:e,reason:n,lastImpact:r,home:s,viewport:o,onLiftImpact:a})=>!r.at||n!=="DROP"?{impact:H0({draggables:e,impact:a,destination:s,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:Ca},didDropInsideDroppable:!0};const v5=({getState:e,dispatch:n})=>r=>s=>{if(!Ft(s,"DROP")){r(s);return}const o=e(),a=s.payload.reason;if(o.phase==="COLLECTING"){n(h5({reason:a}));return}if(o.phase==="IDLE")return;o.phase==="DROP_PENDING"&&o.isWaiting&&Re(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||Re();const u=o.critical,d=o.dimensions,h=d.draggables[o.critical.draggable.id],{impact:p,didDropInsideDroppable:m}=y5({reason:a,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),x=m?Cp(p):null,y=m?ou(p):null,g={index:u.draggable.index,droppableId:u.droppable.id},w={draggableId:h.descriptor.id,type:h.descriptor.type,source:g,reason:a,mode:o.movementMode,destination:x,combine:y},j=b5({impact:p,draggable:h,dimensions:d,viewport:o.viewport,afterCritical:o.afterCritical}),P={critical:o.critical,afterCritical:o.afterCritical,result:w,impact:p};if(!(!Zs(o.current.client.offset,j)||!!w.combine)){n(Rp({completed:P}));return}const A=g5({current:o.current.client.offset,destination:j,reason:a});n(d5({newHomeClientOffset:j,dropDuration:A,completed:P}))};var ej=()=>({x:window.pageXOffset,y:window.pageYOffset});function j5(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:n=>{n.target!==window&&n.target!==window.document||e()}}}function w5({onWindowScroll:e}){function n(){e(ej())}const r=wa(n),s=j5(r);let o=Qs;function a(){return o!==Qs}function c(){a()&&Re(),o=Vr(window,[s])}function u(){a()||Re(),r.cancel(),o(),o=Qs}return{start:c,stop:u,isActive:a}}const S5=e=>Ft(e,"DROP_COMPLETE")||Ft(e,"DROP_ANIMATE")||Ft(e,"FLUSH"),C5=e=>{const n=w5({onWindowScroll:r=>{e.dispatch(o5({newScroll:r}))}});return r=>s=>{!n.isActive()&&Ft(s,"INITIAL_PUBLISH")&&n.start(),n.isActive()&&S5(s)&&n.stop(),r(s)}};var P5=e=>{let n=!1,r=!1;const s=setTimeout(()=>{r=!0}),o=a=>{n||r||(n=!0,e(a),clearTimeout(s))};return o.wasCalled=()=>n,o},D5=()=>{const e=[],n=o=>{const a=e.findIndex(u=>u.timerId===o);a===-1&&Re();const[c]=e.splice(a,1);c.callback()};return{add:o=>{const a=setTimeout(()=>n(a)),c={timerId:a,callback:o};e.push(c)},flush:()=>{if(!e.length)return;const o=[...e];e.length=0,o.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const T5=(e,n)=>e==null&&n==null?!0:e==null||n==null?!1:e.droppableId===n.droppableId&&e.index===n.index,I5=(e,n)=>e==null&&n==null?!0:e==null||n==null?!1:e.draggableId===n.draggableId&&e.droppableId===n.droppableId,E5=(e,n)=>{if(e===n)return!0;const r=e.draggable.id===n.draggable.id&&e.draggable.droppableId===n.draggable.droppableId&&e.draggable.type===n.draggable.type&&e.draggable.index===n.draggable.index,s=e.droppable.id===n.droppable.id&&e.droppable.type===n.droppable.type;return r&&s},ta=(e,n)=>{n()},Fl=(e,n)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:n});function nh(e,n,r,s){if(!e){r(s(n));return}const o=P5(r);e(n,{announce:o}),o.wasCalled()||r(s(n))}var A5=(e,n)=>{const r=D5();let s=null;const o=(m,x)=>{s&&Re(),ta("onBeforeCapture",()=>{const y=e().onBeforeCapture;y&&y({draggableId:m,mode:x})})},a=(m,x)=>{s&&Re(),ta("onBeforeDragStart",()=>{const y=e().onBeforeDragStart;y&&y(Fl(m,x))})},c=(m,x)=>{s&&Re();const y=Fl(m,x);s={mode:x,lastCritical:m,lastLocation:y.source,lastCombine:null},r.add(()=>{ta("onDragStart",()=>nh(e().onDragStart,y,n,Yl.onDragStart))})},u=(m,x)=>{const y=Cp(x),g=ou(x);s||Re();const w=!E5(m,s.lastCritical);w&&(s.lastCritical=m);const j=!T5(s.lastLocation,y);j&&(s.lastLocation=y);const P=!I5(s.lastCombine,g);if(P&&(s.lastCombine=g),!w&&!j&&!P)return;const C={...Fl(m,s.mode),combine:g,destination:y};r.add(()=>{ta("onDragUpdate",()=>nh(e().onDragUpdate,C,n,Yl.onDragUpdate))})},d=()=>{s||Re(),r.flush()},h=m=>{s||Re(),s=null,ta("onDragEnd",()=>nh(e().onDragEnd,m,n,Yl.onDragEnd))};return{beforeCapture:o,beforeStart:a,start:c,update:u,flush:d,drop:h,abort:()=>{if(!s)return;const m={...Fl(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};h(m)}}},R5=(e,n)=>{const r=A5(e,n);return s=>o=>a=>{if(Ft(a,"BEFORE_INITIAL_CAPTURE")){r.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Ft(a,"INITIAL_PUBLISH")){const u=a.payload.critical;r.beforeStart(u,a.payload.movementMode),o(a),r.start(u,a.payload.movementMode);return}if(Ft(a,"DROP_COMPLETE")){const u=a.payload.completed.result;r.flush(),o(a),r.drop(u);return}if(o(a),Ft(a,"FLUSH")){r.abort();return}const c=s.getState();c.phase==="DRAGGING"&&r.update(c.critical,c.impact)}};const _5=e=>n=>r=>{if(!Ft(r,"DROP_ANIMATION_FINISHED")){n(r);return}const s=e.getState();s.phase!=="DROP_ANIMATING"&&Re(),e.dispatch(Rp({completed:s.completed}))},O5=e=>{let n=null,r=null;function s(){r&&(cancelAnimationFrame(r),r=null),n&&(n(),n=null)}return o=>a=>{if((Ft(a,"FLUSH")||Ft(a,"DROP_COMPLETE")||Ft(a,"DROP_ANIMATION_FINISHED"))&&s(),o(a),!Ft(a,"DROP_ANIMATE"))return;const c={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(X0())}};r=requestAnimationFrame(()=>{r=null,n=Vr(window,[c])})}};var M5=e=>()=>n=>r=>{(Ft(r,"DROP_COMPLETE")||Ft(r,"FLUSH")||Ft(r,"DROP_ANIMATE"))&&e.stopPublishing(),n(r)},k5=e=>{let n=!1;return()=>r=>s=>{if(Ft(s,"INITIAL_PUBLISH")){n=!0,e.tryRecordFocus(s.payload.critical.draggable.id),r(s),e.tryRestoreFocusRecorded();return}if(r(s),!!n){if(Ft(s,"FLUSH")){n=!1,e.tryRestoreFocusRecorded();return}if(Ft(s,"DROP_COMPLETE")){n=!1;const o=s.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const N5=e=>Ft(e,"DROP_COMPLETE")||Ft(e,"DROP_ANIMATE")||Ft(e,"FLUSH");var L5=e=>n=>r=>s=>{if(N5(s)){e.stop(),r(s);return}if(Ft(s,"INITIAL_PUBLISH")){r(s);const o=n.getState();o.phase!=="DRAGGING"&&Re(),e.start(o);return}r(s),e.scroll(n.getState())};const $5=e=>n=>r=>{if(n(r),!Ft(r,"PUBLISH_WHILE_DRAGGING"))return;const s=e.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||e.dispatch(J0({reason:s.reason})))},F5=x0;var W5=({dimensionMarshal:e,focusMarshal:n,styleMarshal:r,getResponders:s,announce:o,autoScroller:a})=>m0(J3,F5(_$(p5(r),M5(e),f5(e),v5,_5,O5,$5,L5(a),C5,k5(n),R5(s,o))));const rh=()=>({additions:{},removals:{},modified:{}});function B5({registry:e,callbacks:n}){let r=rh(),s=null;const o=()=>{s||(n.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:d,removals:h,modified:p}=r,m=Object.keys(d).map(g=>e.draggable.getById(g).getDimension(Ln)).sort((g,w)=>g.descriptor.index-w.descriptor.index),x=Object.keys(p).map(g=>{const j=e.droppable.getById(g).callbacks.getScrollWhileDragging();return{droppableId:g,scroll:j}}),y={additions:m,removals:Object.keys(h),modified:x};r=rh(),n.publish(y)}))};return{add:d=>{const h=d.descriptor.id;r.additions[h]=d,r.modified[d.descriptor.droppableId]=!0,r.removals[h]&&delete r.removals[h],o()},remove:d=>{const h=d.descriptor;r.removals[h.id]=!0,r.modified[h.droppableId]=!0,r.additions[h.id]&&delete r.additions[h.id],o()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,r=rh())}}}var tj=({scrollHeight:e,scrollWidth:n,height:r,width:s})=>{const o=Ir({x:n,y:e},{x:s,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},nj=()=>{const e=document.documentElement;return e||Re(),e},rj=()=>{const e=nj();return tj({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},V5=()=>{const e=ej(),n=rj(),r=e.y,s=e.x,o=nj(),a=o.clientWidth,c=o.clientHeight,u=s+a,d=r+c;return{frame:os({top:r,left:s,right:u,bottom:d}),scroll:{initial:e,current:e,max:n,diff:{value:Ln,displacement:Ln}}}},U5=({critical:e,scrollOptions:n,registry:r})=>{const s=V5(),o=s.scroll.current,a=e.droppable,c=r.droppable.getAllByType(a.type).map(p=>p.callbacks.getDimensionAndWatchScroll(o,n)),u=r.draggable.getAllByType(e.draggable.type).map(p=>p.getDimension(o));return{dimensions:{draggables:R0(u),droppables:A0(c)},critical:e,viewport:s}};function Fb(e,n,r){return!(r.descriptor.id===n.id||r.descriptor.type!==n.type||e.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var z5=(e,n)=>{let r=null;const s=B5({callbacks:{publish:n.publishWhileDragging,collectionStarting:n.collectionStarting},registry:e}),o=(x,y)=>{e.droppable.exists(x)||Re(),r&&n.updateDroppableIsEnabled({id:x,isEnabled:y})},a=(x,y)=>{r&&(e.droppable.exists(x)||Re(),n.updateDroppableIsCombineEnabled({id:x,isCombineEnabled:y}))},c=(x,y)=>{r&&(e.droppable.exists(x)||Re(),n.updateDroppableScroll({id:x,newScroll:y}))},u=(x,y)=>{r&&e.droppable.getById(x).callbacks.scroll(y)},d=()=>{if(!r)return;s.stop();const x=r.critical.droppable;e.droppable.getAllByType(x.type).forEach(y=>y.callbacks.dragStopped()),r.unsubscribe(),r=null},h=x=>{r||Re();const y=r.critical.draggable;x.type==="ADDITION"&&Fb(e,y,x.value)&&s.add(x.value),x.type==="REMOVAL"&&Fb(e,y,x.value)&&s.remove(x.value)};return{updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:a,scrollDroppable:u,updateDroppableScroll:c,startPublishing:x=>{r&&Re();const y=e.draggable.getById(x.draggableId),g=e.droppable.getById(y.descriptor.droppableId),w={draggable:y.descriptor,droppable:g.descriptor},j=e.subscribe(h);return r={critical:w,unsubscribe:j},U5({critical:w,registry:e,scrollOptions:x.scrollOptions})},stopPublishing:d}},sj=(e,n)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===n?!1:e.completed.result.reason==="DROP",H5=e=>{window.scrollBy(e.x,e.y)};const G5=Nn(e=>su(e).filter(n=>!(!n.isEnabled||!n.frame))),Y5=(e,n)=>G5(n).find(s=>(s.frame||Re(),B0(s.frame.pageMarginBox)(e)))||null;var q5=({center:e,destination:n,droppables:r})=>{if(n){const o=r[n];return o.frame?o:null}return Y5(e,r)};const Ta={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var K5=(e,n,r=()=>Ta)=>{const s=r(),o=e[n.size]*s.startFromPercentage,a=e[n.size]*s.maxScrollAtPercentage;return{startScrollingFrom:o,maxScrollValueAt:a}},oj=({startOfRange:e,endOfRange:n,current:r})=>{const s=n-e;return s===0?0:(r-e)/s},Op=1,J5=(e,n,r=()=>Ta)=>{const s=r();if(e>n.startScrollingFrom)return 0;if(e<=n.maxScrollValueAt)return s.maxPixelScroll;if(e===n.startScrollingFrom)return Op;const a=1-oj({startOfRange:n.maxScrollValueAt,endOfRange:n.startScrollingFrom,current:e}),c=s.maxPixelScroll*s.ease(a);return Math.ceil(c)},X5=(e,n,r)=>{const s=r(),o=s.durationDampening.accelerateAt,a=s.durationDampening.stopDampeningAt,c=n,u=a,h=Date.now()-c;if(h>=a)return e;if(h<o)return Op;const p=oj({startOfRange:o,endOfRange:u,current:h}),m=e*s.ease(p);return Math.ceil(m)},Wb=({distanceToEdge:e,thresholds:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const a=J5(e,n,o);return a===0?0:s?Math.max(X5(a,r,o),Op):a},Bb=({container:e,distanceToEdges:n,dragStartTime:r,axis:s,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const c=K5(e,s,a);return n[s.end]<n[s.start]?Wb({distanceToEdge:n[s.end],thresholds:c,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a}):-1*Wb({distanceToEdge:n[s.start],thresholds:c,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a})},Q5=({container:e,subject:n,proposedScroll:r})=>{const s=n.height>e.height,o=n.width>e.width;return!o&&!s?r:o&&s?null:{x:o?0:r.x,y:s?0:r.y}};const Z5=E0(e=>e===0?0:e);var ij=({dragStartTime:e,container:n,subject:r,center:s,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const c={top:s.y-n.top,right:n.right-s.x,bottom:n.bottom-s.y,left:s.x-n.left},u=Bb({container:n,distanceToEdges:c,dragStartTime:e,axis:Pp,shouldUseTimeDampening:o,getAutoScrollerOptions:a}),d=Bb({container:n,distanceToEdges:c,dragStartTime:e,axis:M0,shouldUseTimeDampening:o,getAutoScrollerOptions:a}),h=Z5({x:d,y:u});if(Zs(h,Ln))return null;const p=Q5({container:n,subject:r,proposedScroll:h});return p?Zs(p,Ln)?null:p:null};const e4=E0(e=>e===0?0:e>0?1:-1),Mp=(()=>{const e=(n,r)=>n<0?n:n>r?n-r:0;return({current:n,max:r,change:s})=>{const o=Un(n,s),a={x:e(o.x,r.x),y:e(o.y,r.y)};return Zs(a,Ln)?null:a}})(),aj=({max:e,current:n,change:r})=>{const s={x:Math.max(n.x,e.x),y:Math.max(n.y,e.y)},o=e4(r),a=Mp({max:s,current:n,change:o});return!a||o.x!==0&&a.x===0||o.y!==0&&a.y===0},kp=(e,n)=>aj({current:e.scroll.current,max:e.scroll.max,change:n}),t4=(e,n)=>{if(!kp(e,n))return null;const r=e.scroll.max,s=e.scroll.current;return Mp({current:s,max:r,change:n})},Np=(e,n)=>{const r=e.frame;return r?aj({current:r.scroll.current,max:r.scroll.max,change:n}):!1},n4=(e,n)=>{const r=e.frame;return!r||!Np(e,n)?null:Mp({current:r.scroll.current,max:r.scroll.max,change:n})};var r4=({viewport:e,subject:n,center:r,dragStartTime:s,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const c=ij({dragStartTime:s,container:e.frame,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a});return c&&kp(e,c)?c:null},s4=({droppable:e,subject:n,center:r,dragStartTime:s,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const c=e.frame;if(!c)return null;const u=ij({dragStartTime:s,container:c.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a});return u&&Np(e,u)?u:null},Vb=({state:e,dragStartTime:n,shouldUseTimeDampening:r,scrollWindow:s,scrollDroppable:o,getAutoScrollerOptions:a})=>{const c=e.current.page.borderBoxCenter,d=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const m=e.viewport,x=r4({dragStartTime:n,viewport:m,subject:d,center:c,shouldUseTimeDampening:r,getAutoScrollerOptions:a});if(x){s(x);return}}const h=q5({center:c,destination:Er(e.impact),droppables:e.dimensions.droppables});if(!h)return;const p=s4({dragStartTime:n,droppable:h,subject:d,center:c,shouldUseTimeDampening:r,getAutoScrollerOptions:a});p&&o(h.descriptor.id,p)},o4=({scrollWindow:e,scrollDroppable:n,getAutoScrollerOptions:r=()=>Ta})=>{const s=wa(e),o=wa(n);let a=null;const c=h=>{a||Re();const{shouldUseTimeDampening:p,dragStartTime:m}=a;Vb({state:h,scrollWindow:s,scrollDroppable:o,dragStartTime:m,shouldUseTimeDampening:p,getAutoScrollerOptions:r})};return{start:h=>{a&&Re();const p=Date.now();let m=!1;const x=()=>{m=!0};Vb({state:h,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:x,scrollDroppable:x,getAutoScrollerOptions:r}),a={dragStartTime:p,shouldUseTimeDampening:m},m&&c(h)},stop:()=>{a&&(s.cancel(),o.cancel(),a=null)},scroll:c}},i4=({move:e,scrollDroppable:n,scrollWindow:r})=>{const s=(u,d)=>{const h=Un(u.current.client.selection,d);e({client:h})},o=(u,d)=>{if(!Np(u,d))return d;const h=n4(u,d);if(!h)return n(u.descriptor.id,d),null;const p=Ir(d,h);return n(u.descriptor.id,p),Ir(d,p)},a=(u,d,h)=>{if(!u||!kp(d,h))return h;const p=t4(d,h);if(!p)return r(h),null;const m=Ir(h,p);return r(m),Ir(h,m)};return u=>{const d=u.scrollJumpRequest;if(!d)return;const h=Er(u.impact);h||Re();const p=o(u.dimensions.droppables[h],d);if(!p)return;const m=u.viewport,x=a(u.isWindowScrollAllowed,m,p);x&&s(u,x)}},a4=({scrollDroppable:e,scrollWindow:n,move:r,getAutoScrollerOptions:s})=>{const o=o4({scrollWindow:n,scrollDroppable:e,getAutoScrollerOptions:s}),a=i4({move:r,scrollWindow:n,scrollDroppable:e});return{scroll:d=>{if(!(s().disabled||d.phase!=="DRAGGING")){if(d.movementMode==="FLUID"){o.scroll(d);return}d.scrollJumpRequest&&a(d)}},start:o.start,stop:o.stop}};const yi="data-rfd",vi=(()=>{const e=`${yi}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Oh=(()=>{const e=`${yi}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),l4=(()=>{const e=`${yi}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Ub={contextId:`${yi}-scroll-container-context-id`},c4=e=>n=>`[${n}="${e}"]`,na=(e,n)=>e.map(r=>{const s=r.styles[n];return s?`${r.selector} { ${s} }`:""}).join(" "),u4="pointer-events: none;";var d4=e=>{const n=c4(e),r=(()=>{const u=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:n(vi.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:u,dragging:u4,dropAnimating:u}}})(),s=(()=>{const u=`
      transition: ${pa.outOfTheWay};
    `;return{selector:n(Oh.contextId),styles:{dragging:u,dropAnimating:u,userCancel:u}}})(),o={selector:n(l4.contextId),styles:{always:"overflow-anchor: none;"}},c=[s,r,o,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:na(c,"always"),resting:na(c,"resting"),dragging:na(c,"dragging"),dropAnimating:na(c,"dropAnimating"),userCancel:na(c,"userCancel")}};const Ar=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?b.useLayoutEffect:b.useEffect,sh=()=>{const e=document.querySelector("head");return e||Re(),e},zb=e=>{const n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.type="text/css",n};function h4(e,n){const r=Ot(()=>d4(e),[e]),s=b.useRef(null),o=b.useRef(null),a=Ke(Nn(m=>{const x=o.current;x||Re(),x.textContent=m}),[]),c=Ke(m=>{const x=s.current;x||Re(),x.textContent=m},[]);Ar(()=>{!s.current&&!o.current||Re();const m=zb(n),x=zb(n);return s.current=m,o.current=x,m.setAttribute(`${yi}-always`,e),x.setAttribute(`${yi}-dynamic`,e),sh().appendChild(m),sh().appendChild(x),c(r.always),a(r.resting),()=>{const y=g=>{const w=g.current;w||Re(),sh().removeChild(w),g.current=null};y(s),y(o)}},[n,c,a,r.always,r.resting,e]);const u=Ke(()=>a(r.dragging),[a,r.dragging]),d=Ke(m=>{if(m==="DROP"){a(r.dropAnimating);return}a(r.userCancel)},[a,r.dropAnimating,r.userCancel]),h=Ke(()=>{o.current&&a(r.resting)},[a,r.resting]);return Ot(()=>({dragging:u,dropping:d,resting:h}),[u,d,h])}function lj(e,n){return Array.from(e.querySelectorAll(n))}var cj=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function lu(e){return e instanceof cj(e).HTMLElement}function f4(e,n){const r=`[${vi.contextId}="${e}"]`,s=lj(document,r);if(!s.length)return null;const o=s.find(a=>a.getAttribute(vi.draggableId)===n);return!o||!lu(o)?null:o}function p4(e){const n=b.useRef({}),r=b.useRef(null),s=b.useRef(null),o=b.useRef(!1),a=Ke(function(x,y){const g={id:x,focus:y};return n.current[x]=g,function(){const j=n.current;j[x]!==g&&delete j[x]}},[]),c=Ke(function(x){const y=f4(e,x);y&&y!==document.activeElement&&y.focus()},[e]),u=Ke(function(x,y){r.current===x&&(r.current=y)},[]),d=Ke(function(){s.current||o.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const x=r.current;x&&c(x)}))},[c]),h=Ke(function(x){r.current=null;const y=document.activeElement;y&&y.getAttribute(vi.draggableId)===x&&(r.current=x)},[]);return Ar(()=>(o.current=!0,function(){o.current=!1;const x=s.current;x&&cancelAnimationFrame(x)}),[]),Ot(()=>({register:a,tryRecordFocus:h,tryRestoreFocusRecorded:d,tryShiftRecord:u}),[a,h,d,u])}function m4(){const e={draggables:{},droppables:{}},n=[];function r(m){return n.push(m),function(){const y=n.indexOf(m);y!==-1&&n.splice(y,1)}}function s(m){n.length&&n.forEach(x=>x(m))}function o(m){return e.draggables[m]||null}function a(m){const x=o(m);return x||Re(),x}const c={register:m=>{e.draggables[m.descriptor.id]=m,s({type:"ADDITION",value:m})},update:(m,x)=>{const y=e.draggables[x.descriptor.id];y&&y.uniqueId===m.uniqueId&&(delete e.draggables[x.descriptor.id],e.draggables[m.descriptor.id]=m)},unregister:m=>{const x=m.descriptor.id,y=o(x);y&&m.uniqueId===y.uniqueId&&(delete e.draggables[x],e.droppables[m.descriptor.droppableId]&&s({type:"REMOVAL",value:m}))},getById:a,findById:o,exists:m=>!!o(m),getAllByType:m=>Object.values(e.draggables).filter(x=>x.descriptor.type===m)};function u(m){return e.droppables[m]||null}function d(m){const x=u(m);return x||Re(),x}const h={register:m=>{e.droppables[m.descriptor.id]=m},unregister:m=>{const x=u(m.descriptor.id);x&&m.uniqueId===x.uniqueId&&delete e.droppables[m.descriptor.id]},getById:d,findById:u,exists:m=>!!u(m),getAllByType:m=>Object.values(e.droppables).filter(x=>x.descriptor.type===m)};function p(){e.draggables={},e.droppables={},n.length=0}return{draggable:c,droppable:h,subscribe:r,clean:p}}function x4(){const e=Ot(m4,[]);return b.useEffect(()=>function(){e.clean()},[e]),e}var Lp=Ut.createContext(null),Ic=()=>{const e=document.body;return e||Re(),e};const g4={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},b4=e=>`rfd-announcement-${e}`;function y4(e){const n=Ot(()=>b4(e),[e]),r=b.useRef(null);return b.useEffect(function(){const a=document.createElement("div");return r.current=a,a.id=n,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),V(a.style,g4),Ic().appendChild(a),function(){setTimeout(function(){const d=Ic();d.contains(a)&&d.removeChild(a),a===r.current&&(r.current=null)})}},[n]),Ke(o=>{const a=r.current;if(a){a.textContent=o;return}},[])}const v4={separator:"::"};function $p(e,n=v4){const r=Ut.useId();return Ot(()=>`${e}${n.separator}${r}`,[n.separator,e,r])}function j4({contextId:e,uniqueId:n}){return`rfd-hidden-text-${e}-${n}`}function w4({contextId:e,text:n}){const r=$p("hidden-text",{separator:"-"}),s=Ot(()=>j4({contextId:e,uniqueId:r}),[r,e]);return b.useEffect(function(){const a=document.createElement("div");return a.id=s,a.textContent=n,a.style.display="none",Ic().appendChild(a),function(){const u=Ic();u.contains(a)&&u.removeChild(a)}},[s,n]),s}var cu=Ut.createContext(null);function uj(e){const n=b.useRef(e);return b.useEffect(()=>{n.current=e}),n}function S4(){let e=null;function n(){return!!e}function r(c){return c===e}function s(c){e&&Re();const u={abandon:c};return e=u,u}function o(){e||Re(),e=null}function a(){e&&(e.abandon(),o())}return{isClaimed:n,isActive:r,claim:s,release:o,tryAbandon:a}}function Ia(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const C4=9,P4=13,Fp=27,dj=32,D4=33,T4=34,I4=35,E4=36,A4=37,R4=38,_4=39,O4=40,M4={[P4]:!0,[C4]:!0};var hj=e=>{M4[e.keyCode]&&e.preventDefault()};const uu=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(s=>`on${s}`in document)||e})(),fj=0,Hb=5;function k4(e,n){return Math.abs(n.x-e.x)>=Hb||Math.abs(n.y-e.y)>=Hb}const Gb={type:"IDLE"};function N4({cancel:e,completed:n,getPhase:r,setPhase:s}){return[{eventName:"mousemove",fn:o=>{const{button:a,clientX:c,clientY:u}=o;if(a!==fj)return;const d={x:c,y:u},h=r();if(h.type==="DRAGGING"){o.preventDefault(),h.actions.move(d);return}h.type!=="PENDING"&&Re();const p=h.point;if(!k4(p,d))return;o.preventDefault();const m=h.actions.fluidLift(d);s({type:"DRAGGING",actions:m})}},{eventName:"mouseup",fn:o=>{const a=r();if(a.type!=="DRAGGING"){e();return}o.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:o=>{r().type==="DRAGGING"&&o.preventDefault(),e()}},{eventName:"keydown",fn:o=>{if(r().type==="PENDING"){e();return}if(o.keyCode===Fp){o.preventDefault(),e();return}hj(o)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:o=>{const a=r();if(a.type==="IDLE"&&Re(),a.actions.shouldRespectForcePress()){e();return}o.preventDefault()}},{eventName:uu,fn:e}]}function L4(e){const n=b.useRef(Gb),r=b.useRef(Qs),s=Ot(()=>({eventName:"mousedown",fn:function(m){if(m.defaultPrevented||m.button!==fj||m.ctrlKey||m.metaKey||m.shiftKey||m.altKey)return;const x=e.findClosestDraggableId(m);if(!x)return;const y=e.tryGetLock(x,c,{sourceEvent:m});if(!y)return;m.preventDefault();const g={x:m.clientX,y:m.clientY};r.current(),h(y,g)}}),[e]),o=Ot(()=>({eventName:"webkitmouseforcewillbegin",fn:p=>{if(p.defaultPrevented)return;const m=e.findClosestDraggableId(p);if(!m)return;const x=e.findOptionsForDraggable(m);x&&(x.shouldRespectForcePress||e.canGetLock(m)&&p.preventDefault())}}),[e]),a=Ke(function(){const m={passive:!1,capture:!0};r.current=Vr(window,[o,s],m)},[o,s]),c=Ke(()=>{n.current.type!=="IDLE"&&(n.current=Gb,r.current(),a())},[a]),u=Ke(()=>{const p=n.current;c(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[c]),d=Ke(function(){const m={capture:!0,passive:!1},x=N4({cancel:u,completed:c,getPhase:()=>n.current,setPhase:y=>{n.current=y}});r.current=Vr(window,x,m)},[u,c]),h=Ke(function(m,x){n.current.type!=="IDLE"&&Re(),n.current={type:"PENDING",point:x,actions:m},d()},[d]);Ar(function(){return a(),function(){r.current()}},[a])}function $4(){}const F4={[T4]:!0,[D4]:!0,[E4]:!0,[I4]:!0};function W4(e,n){function r(){n(),e.cancel()}function s(){n(),e.drop()}return[{eventName:"keydown",fn:o=>{if(o.keyCode===Fp){o.preventDefault(),r();return}if(o.keyCode===dj){o.preventDefault(),s();return}if(o.keyCode===O4){o.preventDefault(),e.moveDown();return}if(o.keyCode===R4){o.preventDefault(),e.moveUp();return}if(o.keyCode===_4){o.preventDefault(),e.moveRight();return}if(o.keyCode===A4){o.preventDefault(),e.moveLeft();return}if(F4[o.keyCode]){o.preventDefault();return}hj(o)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:uu,fn:r}]}function B4(e){const n=b.useRef($4),r=Ot(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==dj)return;const c=e.findClosestDraggableId(a);if(!c)return;const u=e.tryGetLock(c,p,{sourceEvent:a});if(!u)return;a.preventDefault();let d=!0;const h=u.snapLift();n.current();function p(){d||Re(),d=!1,n.current(),s()}n.current=Vr(window,W4(h,p),{capture:!0,passive:!1})}}),[e]),s=Ke(function(){const a={passive:!1,capture:!0};n.current=Vr(window,[r],a)},[r]);Ar(function(){return s(),function(){n.current()}},[s])}const oh={type:"IDLE"},V4=120,U4=.15;function z4({cancel:e,getPhase:n}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.keyCode===Fp&&r.preventDefault(),e()}},{eventName:uu,fn:e}]}function H4({cancel:e,completed:n,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const o=r();if(o.type!=="DRAGGING"){e();return}o.hasMoved=!0;const{clientX:a,clientY:c}=s.touches[0],u={x:a,y:c};s.preventDefault(),o.actions.move(u)}},{eventName:"touchend",fn:s=>{const o=r();if(o.type!=="DRAGGING"){e();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:s=>{if(r().type!=="DRAGGING"){e();return}s.preventDefault(),e()}},{eventName:"touchforcechange",fn:s=>{const o=r();o.type==="IDLE"&&Re();const a=s.touches[0];if(!a||!(a.force>=U4))return;const u=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){u&&e();return}if(u){if(o.hasMoved){s.preventDefault();return}e();return}s.preventDefault()}},{eventName:uu,fn:e}]}function G4(e){const n=b.useRef(oh),r=b.useRef(Qs),s=Ke(function(){return n.current},[]),o=Ke(function(y){n.current=y},[]),a=Ot(()=>({eventName:"touchstart",fn:function(y){if(y.defaultPrevented)return;const g=e.findClosestDraggableId(y);if(!g)return;const w=e.tryGetLock(g,u,{sourceEvent:y});if(!w)return;const j=y.touches[0],{clientX:P,clientY:C}=j,A={x:P,y:C};r.current(),m(w,A)}}),[e]),c=Ke(function(){const y={capture:!0,passive:!1};r.current=Vr(window,[a],y)},[a]),u=Ke(()=>{const x=n.current;x.type!=="IDLE"&&(x.type==="PENDING"&&clearTimeout(x.longPressTimerId),o(oh),r.current(),c())},[c,o]),d=Ke(()=>{const x=n.current;u(),x.type==="DRAGGING"&&x.actions.cancel({shouldBlockNextClick:!0}),x.type==="PENDING"&&x.actions.abort()},[u]),h=Ke(function(){const y={capture:!0,passive:!1},g={cancel:d,completed:u,getPhase:s},w=Vr(window,H4(g),y),j=Vr(window,z4(g),y);r.current=function(){w(),j()}},[d,s,u]),p=Ke(function(){const y=s();y.type!=="PENDING"&&Re();const g=y.actions.fluidLift(y.point);o({type:"DRAGGING",actions:g,hasMoved:!1})},[s,o]),m=Ke(function(y,g){s().type!=="IDLE"&&Re();const w=setTimeout(p,V4);o({type:"PENDING",point:g,actions:y,longPressTimerId:w}),h()},[h,s,o,p]);Ar(function(){return c(),function(){r.current();const g=s();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),o(oh))}},[s,c,o]),Ar(function(){return Vr(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const Y4=["input","button","textarea","select","option","optgroup","video","audio"];function pj(e,n){if(n==null)return!1;if(Y4.includes(n.tagName.toLowerCase()))return!0;const s=n.getAttribute("contenteditable");return s==="true"||s===""?!0:n===e?!1:pj(e,n.parentElement)}function q4(e,n){const r=n.target;return lu(r)?pj(e,r):!1}var K4=e=>os(e.getBoundingClientRect()).center;function J4(e){return e instanceof cj(e).Element}const X4=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||e})();function mj(e,n){return e==null?null:e[X4](n)?e:mj(e.parentElement,n)}function Q4(e,n){return e.closest?e.closest(n):mj(e,n)}function Z4(e){return`[${vi.contextId}="${e}"]`}function eW(e,n){const r=n.target;if(!J4(r))return null;const s=Z4(e),o=Q4(r,s);return!o||!lu(o)?null:o}function tW(e,n){const r=eW(e,n);return r?r.getAttribute(vi.draggableId):null}function nW(e,n){const r=`[${Oh.contextId}="${e}"]`,o=lj(document,r).find(a=>a.getAttribute(Oh.id)===n);return!o||!lu(o)?null:o}function rW(e){e.preventDefault()}function Wl({expected:e,phase:n,isLockActive:r,shouldWarn:s}){return!(!r()||e!==n)}function xj({lockAPI:e,store:n,registry:r,draggableId:s}){if(e.isClaimed())return!1;const o=r.draggable.findById(s);return!(!o||!o.options.isEnabled||!sj(n.getState(),s))}function sW({lockAPI:e,contextId:n,store:r,registry:s,draggableId:o,forceSensorStop:a,sourceEvent:c}){if(!xj({lockAPI:e,store:r,registry:s,draggableId:o}))return null;const d=s.draggable.getById(o),h=nW(n,d.descriptor.id);if(!h||c&&!d.options.canDragInteractiveElements&&q4(h,c))return null;const p=e.claim(a||Qs);let m="PRE_DRAG";function x(){return d.options.shouldRespectForcePress}function y(){return e.isActive(p)}function g(T,R){Wl({expected:T,phase:m,isLockActive:y,shouldWarn:!0})&&r.dispatch(R())}const w=g.bind(null,"DRAGGING");function j(T){function R(){e.release(),m="COMPLETED"}m!=="PRE_DRAG"&&(R(),Re()),r.dispatch(Q3(T.liftActionArgs)),m="DRAGGING";function N(M,W={shouldBlockNextClick:!1}){if(T.cleanup(),W.shouldBlockNextClick){const B=Vr(window,[{eventName:"click",fn:rW,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(B)}R(),r.dispatch(J0({reason:M}))}return{isActive:()=>Wl({expected:"DRAGGING",phase:m,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:x,drop:M=>N("DROP",M),cancel:M=>N("CANCEL",M),...T.actions}}function P(T){const R=wa(M=>{w(()=>K0({client:M}))});return{...j({liftActionArgs:{id:o,clientSelection:T,movementMode:"FLUID"},cleanup:()=>R.cancel(),actions:{move:R}}),move:R}}function C(){const T={moveUp:()=>w(a5),moveRight:()=>w(c5),moveDown:()=>w(l5),moveLeft:()=>w(u5)};return j({liftActionArgs:{id:o,clientSelection:K4(h),movementMode:"SNAP"},cleanup:Qs,actions:T})}function A(){Wl({expected:"PRE_DRAG",phase:m,isLockActive:y,shouldWarn:!0})&&e.release()}return{isActive:()=>Wl({expected:"PRE_DRAG",phase:m,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:x,fluidLift:P,snapLift:C,abort:A}}const oW=[L4,B4,G4];function iW({contextId:e,store:n,registry:r,customSensors:s,enableDefaultSensors:o}){const a=[...o?oW:[],...s||[]],c=b.useState(()=>S4())[0],u=Ke(function(j,P){Ia(j)&&!Ia(P)&&c.tryAbandon()},[c]);Ar(function(){let j=n.getState();return n.subscribe(()=>{const C=n.getState();u(j,C),j=C})},[c,n,u]),Ar(()=>c.tryAbandon,[c.tryAbandon]);const d=Ke(w=>xj({lockAPI:c,registry:r,store:n,draggableId:w}),[c,r,n]),h=Ke((w,j,P)=>sW({lockAPI:c,registry:r,contextId:e,store:n,draggableId:w,forceSensorStop:j||null,sourceEvent:P&&P.sourceEvent?P.sourceEvent:null}),[e,c,r,n]),p=Ke(w=>tW(e,w),[e]),m=Ke(w=>{const j=r.draggable.findById(w);return j?j.options:null},[r.draggable]),x=Ke(function(){c.isClaimed()&&(c.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(Ap()))},[c,n]),y=Ke(()=>c.isClaimed(),[c]),g=Ot(()=>({canGetLock:d,tryGetLock:h,findClosestDraggableId:p,findOptionsForDraggable:m,tryReleaseLock:x,isLockClaimed:y}),[d,h,p,m,x,y]);for(let w=0;w<a.length;w++)a[w](g)}const aW=e=>({onBeforeCapture:n=>{const r=()=>{e.onBeforeCapture&&e.onBeforeCapture(n)};Uh.flushSync(r)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),lW=e=>({...Ta,...e.autoScrollerOptions,durationDampening:{...Ta.durationDampening,...e.autoScrollerOptions}});function ra(e){return e.current||Re(),e.current}function cW(e){const{contextId:n,setCallbacks:r,sensors:s,nonce:o,dragHandleUsageInstructions:a}=e,c=b.useRef(null),u=uj(e),d=Ke(()=>aW(u.current),[u]),h=Ke(()=>lW(u.current),[u]),p=y4(n),m=w4({contextId:n,text:a}),x=h4(n,o),y=Ke(B=>{ra(c).dispatch(B)},[]),g=Ot(()=>yb({publishWhileDragging:e5,updateDroppableScroll:n5,updateDroppableIsEnabled:r5,updateDroppableIsCombineEnabled:s5,collectionStarting:t5},y),[y]),w=x4(),j=Ot(()=>z5(w,g),[w,g]),P=Ot(()=>a4({scrollWindow:H5,scrollDroppable:j.scrollDroppable,getAutoScrollerOptions:h,...yb({move:K0},y)}),[j.scrollDroppable,y,h]),C=p4(n),A=Ot(()=>W5({announce:p,autoScroller:P,dimensionMarshal:j,focusMarshal:C,getResponders:d,styleMarshal:x}),[p,P,j,C,d,x]);c.current=A;const E=Ke(()=>{const B=ra(c);B.getState().phase!=="IDLE"&&B.dispatch(Ap())},[]),T=Ke(()=>{const B=ra(c).getState();return B.phase==="DROP_ANIMATING"?!0:B.phase==="IDLE"?!1:B.isDragging},[]),R=Ot(()=>({isDragging:T,tryAbort:E}),[T,E]);r(R);const N=Ke(B=>sj(ra(c).getState(),B),[]),M=Ke(()=>Eo(ra(c).getState()),[]),W=Ot(()=>({marshal:j,focus:C,contextId:n,canLift:N,isMovementAllowed:M,dragHandleUsageInstructionsId:m,registry:w}),[n,j,m,C,N,M,w]);return iW({contextId:n,store:A,registry:w,customSensors:s||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),b.useEffect(()=>E,[E]),Ut.createElement(cu.Provider,{value:W},Ut.createElement(OF,{context:Lp,store:A},e.children))}function uW(){return Ut.useId()}function dW(e){const n=uW(),r=e.dragHandleUsageInstructions||Yl.dragHandleUsageInstructions;return Ut.createElement(VF,null,s=>Ut.createElement(cW,{nonce:e.nonce,contextId:n,setCallbacks:s,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const Yb={dragging:5e3,dropAnimating:4500},hW=(e,n)=>n?pa.drop(n.duration):e?pa.snap:pa.fluid,fW=(e,n)=>{if(e)return n?Da.opacity.drop:Da.opacity.combining},pW=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function mW(e){const r=e.dimension.client,{offset:s,combineWith:o,dropping:a}=e,c=!!o,u=pW(e),d=!!a,h=d?Rh.drop(s,c):Rh.moveTo(s);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:hW(u,a),transform:h,opacity:fW(c,d),zIndex:d?Yb.dropAnimating:Yb.dragging,pointerEvents:"none"}}function xW(e){return{transform:Rh.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function gW(e){return e.type==="DRAGGING"?mW(e):xW(e)}function bW(e,n,r=Ln){const s=window.getComputedStyle(n),o=n.getBoundingClientRect(),a=C0(o,s),c=Cc(a,r),u={client:a,tagName:n.tagName.toLowerCase(),display:s.display},d={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:u,displaceBy:d,client:a,page:c}}function yW(e){const n=$p("draggable"),{descriptor:r,registry:s,getDraggableRef:o,canDragInteractiveElements:a,shouldRespectForcePress:c,isEnabled:u}=e,d=Ot(()=>({canDragInteractiveElements:a,shouldRespectForcePress:c,isEnabled:u}),[a,u,c]),h=Ke(y=>{const g=o();return g||Re(),bW(r,g,y)},[r,o]),p=Ot(()=>({uniqueId:n,descriptor:r,options:d,getDimension:h}),[r,h,d,n]),m=b.useRef(p),x=b.useRef(!0);Ar(()=>(s.draggable.register(m.current),()=>s.draggable.unregister(m.current)),[s.draggable]),Ar(()=>{if(x.current){x.current=!1;return}const y=m.current;m.current=p,s.draggable.update(p,y)},[p,s.draggable])}var Wp=Ut.createContext(null);function Ec(e){const n=b.useContext(e);return n||Re(),n}function vW(e){e.preventDefault()}const jW=e=>{const n=b.useRef(null),r=Ke((R=null)=>{n.current=R},[]),s=Ke(()=>n.current,[]),{contextId:o,dragHandleUsageInstructionsId:a,registry:c}=Ec(cu),{type:u,droppableId:d}=Ec(Wp),h=Ot(()=>({id:e.draggableId,index:e.index,type:u,droppableId:d}),[e.draggableId,e.index,u,d]),{children:p,draggableId:m,isEnabled:x,shouldRespectForcePress:y,canDragInteractiveElements:g,isClone:w,mapped:j,dropAnimationFinished:P}=e;if(!w){const R=Ot(()=>({descriptor:h,registry:c,getDraggableRef:s,canDragInteractiveElements:g,shouldRespectForcePress:y,isEnabled:x}),[h,c,s,g,y,x]);yW(R)}const C=Ot(()=>x?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":m,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:vW}:null,[o,a,m,x]),A=Ke(R=>{j.type==="DRAGGING"&&j.dropping&&R.propertyName==="transform"&&Uh.flushSync(P)},[P,j]),E=Ot(()=>{const R=gW(j),N=j.type==="DRAGGING"&&j.dropping?A:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":m,style:R,onTransitionEnd:N},dragHandleProps:C}},[o,C,m,j,A,r]),T=Ot(()=>({draggableId:h.id,type:h.type,source:{index:h.index,droppableId:h.droppableId}}),[h.droppableId,h.id,h.index,h.type]);return Ut.createElement(Ut.Fragment,null,p(E,j.snapshot,T))};var gj=(e,n)=>e===n,bj=e=>{const{combine:n,destination:r}=e;return r?r.droppableId:n?n.droppableId:null};const wW=e=>e.combine?e.combine.draggableId:null,SW=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function CW(){const e=Nn((o,a)=>({x:o,y:a})),n=Nn((o,a,c=null,u=null,d=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!d,dropAnimation:d,mode:o,draggingOver:c,combineWith:u,combineTargetFor:null})),r=Nn((o,a,c,u,d=null,h=null,p=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:d,combineWith:h,mode:a,offset:o,dimension:c,forceShouldAnimate:p,snapshot:n(a,u,d,h,null)}}));return(o,a)=>{if(Ia(o)){if(o.critical.draggable.id!==a.draggableId)return null;const c=o.current.client.offset,u=o.dimensions.draggables[a.draggableId],d=Er(o.impact),h=SW(o.impact),p=o.forceShouldAnimate;return r(e(c.x,c.y),o.movementMode,u,a.isClone,d,h,p)}if(o.phase==="DROP_ANIMATING"){const c=o.completed;if(c.result.draggableId!==a.draggableId)return null;const u=a.isClone,d=o.dimensions.draggables[a.draggableId],h=c.result,p=h.mode,m=bj(h),x=wW(h),g={duration:o.dropDuration,curve:_p.drop,moveTo:o.newHomeClientOffset,opacity:x?Da.opacity.drop:null,scale:x?Da.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:d,dropping:g,draggingOver:m,combineWith:x,mode:p,forceShouldAnimate:null,snapshot:n(p,u,m,x,g)}}}return null}}function yj(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const PW={mapped:{type:"SECONDARY",offset:Ln,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:yj(null)}};function DW(){const e=Nn((c,u)=>({x:c,y:u})),n=Nn(yj),r=Nn((c,u=null,d)=>({mapped:{type:"SECONDARY",offset:c,combineTargetFor:u,shouldAnimateDisplacement:d,snapshot:n(u)}})),s=c=>c?r(Ln,c,!0):null,o=(c,u,d,h)=>{const p=d.displaced.visible[c],m=!!(h.inVirtualList&&h.effected[c]),x=ou(d),y=x&&x.draggableId===c?u:null;if(!p){if(!m)return s(y);if(d.displaced.invisible[c])return null;const j=Ai(h.displacedBy.point),P=e(j.x,j.y);return r(P,y,!0)}if(m)return s(y);const g=d.displacedBy.point,w=e(g.x,g.y);return r(w,y,p.shouldAnimate)};return(c,u)=>{if(Ia(c))return c.critical.draggable.id===u.draggableId?null:o(u.draggableId,c.critical.draggable.id,c.impact,c.afterCritical);if(c.phase==="DROP_ANIMATING"){const d=c.completed;return d.result.draggableId===u.draggableId?null:o(u.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null}}const TW=()=>{const e=CW(),n=DW();return(s,o)=>e(s,o)||n(s,o)||PW},IW={dropAnimationFinished:X0},EW=w0(TW,IW,null,{context:Lp,areStatePropsEqual:gj})(jW);function vj(e){return Ec(Wp).isUsingCloneFor===e.draggableId&&!e.isClone?null:Ut.createElement(EW,e)}function AW(e){const n=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,s=!!e.shouldRespectForcePress;return Ut.createElement(vj,V({},e,{isClone:!1,isEnabled:n,canDragInteractiveElements:r,shouldRespectForcePress:s}))}const jj=e=>n=>e===n,RW=jj("scroll"),_W=jj("auto"),qb=(e,n)=>n(e.overflowX)||n(e.overflowY),OW=e=>{const n=window.getComputedStyle(e),r={overflowX:n.overflowX,overflowY:n.overflowY};return qb(r,RW)||qb(r,_W)},MW=()=>!1,wj=e=>e==null?null:e===document.body?MW()?e:null:e===document.documentElement?null:OW(e)?e:wj(e.parentElement);var Mh=e=>({x:e.scrollLeft,y:e.scrollTop});const Sj=e=>e?window.getComputedStyle(e).position==="fixed"?!0:Sj(e.parentElement):!1;var kW=e=>{const n=wj(e),r=Sj(e);return{closestScrollable:n,isFixedOnPage:r}},NW=({descriptor:e,isEnabled:n,isCombineEnabled:r,isFixedOnPage:s,direction:o,client:a,page:c,closest:u})=>{const d=(()=>{if(!u)return null;const{scrollSize:x,client:y}=u,g=tj({scrollHeight:x.scrollHeight,scrollWidth:x.scrollWidth,height:y.paddingBox.height,width:y.paddingBox.width});return{pageMarginBox:u.page.marginBox,frameClient:y,scrollSize:x,shouldClipSubject:u.shouldClipSubject,scroll:{initial:u.scroll,current:u.scroll,max:g,diff:{value:Ln,displacement:Ln}}}})(),h=o==="vertical"?Pp:M0,p=bi({page:c,withPlaceholder:null,axis:h,frame:d});return{descriptor:e,isCombineEnabled:r,isFixedOnPage:s,axis:h,isEnabled:n,client:a,page:c,frame:d,subject:p}};const LW=(e,n)=>{const r=P0(e);if(!n||e!==n)return r;const s=r.paddingBox.top-n.scrollTop,o=r.paddingBox.left-n.scrollLeft,a=s+n.scrollHeight,c=o+n.scrollWidth,d=jp({top:s,right:c,bottom:a,left:o},r.border);return wp({borderBox:d,margin:r.margin,border:r.border,padding:r.padding})};var $W=({ref:e,descriptor:n,env:r,windowScroll:s,direction:o,isDropDisabled:a,isCombineEnabled:c,shouldClipSubject:u})=>{const d=r.closestScrollable,h=LW(e,d),p=Cc(h,s),m=(()=>{if(!d)return null;const y=P0(d),g={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:y,page:Cc(y,s),scroll:Mh(d),scrollSize:g,shouldClipSubject:u}})();return NW({descriptor:n,isEnabled:!a,isCombineEnabled:c,isFixedOnPage:r.isFixedOnPage,direction:o,client:h,page:p,closest:m})};const FW={passive:!1},WW={passive:!0};var Kb=e=>e.shouldPublishImmediately?FW:WW;const Bl=e=>e&&e.env.closestScrollable||null;function BW(e){const n=b.useRef(null),r=Ec(cu),s=$p("droppable"),{registry:o,marshal:a}=r,c=uj(e),u=Ot(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),d=b.useRef(u),h=Ot(()=>Nn((E,T)=>{n.current||Re();const R={x:E,y:T};a.updateDroppableScroll(u.id,R)}),[u.id,a]),p=Ke(()=>{const E=n.current;return!E||!E.env.closestScrollable?Ln:Mh(E.env.closestScrollable)},[]),m=Ke(()=>{const E=p();h(E.x,E.y)},[p,h]),x=Ot(()=>wa(m),[m]),y=Ke(()=>{const E=n.current,T=Bl(E);if(E&&T||Re(),E.scrollOptions.shouldPublishImmediately){m();return}x()},[x,m]),g=Ke((E,T)=>{n.current&&Re();const R=c.current,N=R.getDroppableRef();N||Re();const M=kW(N),W={ref:N,descriptor:u,env:M,scrollOptions:T};n.current=W;const B=$W({ref:N,descriptor:u,env:M,windowScroll:E,direction:R.direction,isDropDisabled:R.isDropDisabled,isCombineEnabled:R.isCombineEnabled,shouldClipSubject:!R.ignoreContainerClipping}),q=M.closestScrollable;return q&&(q.setAttribute(Ub.contextId,r.contextId),q.addEventListener("scroll",y,Kb(W.scrollOptions))),B},[r.contextId,u,y,c]),w=Ke(()=>{const E=n.current,T=Bl(E);return E&&T||Re(),Mh(T)},[]),j=Ke(()=>{const E=n.current;E||Re();const T=Bl(E);n.current=null,T&&(x.cancel(),T.removeAttribute(Ub.contextId),T.removeEventListener("scroll",y,Kb(E.scrollOptions)))},[y,x]),P=Ke(E=>{const T=n.current;T||Re();const R=Bl(T);R||Re(),R.scrollTop+=E.y,R.scrollLeft+=E.x},[]),C=Ot(()=>({getDimensionAndWatchScroll:g,getScrollWhileDragging:w,dragStopped:j,scroll:P}),[j,g,w,P]),A=Ot(()=>({uniqueId:s,descriptor:u,callbacks:C}),[C,u,s]);Ar(()=>(d.current=A.descriptor,o.droppable.register(A),()=>{n.current&&j(),o.droppable.unregister(A)}),[C,u,j,A,a,o.droppable]),Ar(()=>{n.current&&a.updateDroppableIsEnabled(d.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),Ar(()=>{n.current&&a.updateDroppableIsCombineEnabled(d.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function ih(){}const Jb={width:0,height:0,margin:qF},VW=({isAnimatingOpenOnMount:e,placeholder:n,animate:r})=>e||r==="close"?Jb:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin},UW=({isAnimatingOpenOnMount:e,placeholder:n,animate:r})=>{const s=VW({isAnimatingOpenOnMount:e,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?pa.placeholder:null}},zW=e=>{const n=b.useRef(null),r=Ke(()=>{n.current&&(clearTimeout(n.current),n.current=null)},[]),{animate:s,onTransitionEnd:o,onClose:a,contextId:c}=e,[u,d]=b.useState(e.animate==="open");b.useEffect(()=>u?s!=="open"?(r(),d(!1),ih):n.current?ih:(n.current=setTimeout(()=>{n.current=null,d(!1)}),r):ih,[s,u,r]);const h=Ke(m=>{m.propertyName==="height"&&(o(),s==="close"&&a())},[s,a,o]),p=UW({isAnimatingOpenOnMount:u,animate:e.animate,placeholder:e.placeholder});return Ut.createElement(e.placeholder.tagName,{style:p,"data-rfd-placeholder-context-id":c,onTransitionEnd:h,ref:e.innerRef})};var HW=Ut.memo(zW);class GW extends Ut.PureComponent{constructor(...n){super(...n),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(n,r){return n.shouldAnimate?n.on?{isVisible:!0,data:n.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!n.on,data:n.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const n={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(n)}}const YW=e=>{const n=b.useContext(cu);n||Re();const{contextId:r,isMovementAllowed:s}=n,o=b.useRef(null),a=b.useRef(null),{children:c,droppableId:u,type:d,mode:h,direction:p,ignoreContainerClipping:m,isDropDisabled:x,isCombineEnabled:y,snapshot:g,useClone:w,updateViewportMaxScroll:j,getContainerForClone:P}=e,C=Ke(()=>o.current,[]),A=Ke((q=null)=>{o.current=q},[]);Ke(()=>a.current,[]);const E=Ke((q=null)=>{a.current=q},[]),T=Ke(()=>{s()&&j({maxScroll:rj()})},[s,j]);BW({droppableId:u,type:d,mode:h,direction:p,isDropDisabled:x,isCombineEnabled:y,ignoreContainerClipping:m,getDroppableRef:C});const R=Ot(()=>Ut.createElement(GW,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:q,data:k,animate:Y})=>Ut.createElement(HW,{placeholder:k,onClose:q,innerRef:E,animate:Y,contextId:r,onTransitionEnd:T})),[r,T,e.placeholder,e.shouldAnimatePlaceholder,E]),N=Ot(()=>({innerRef:A,placeholder:R,droppableProps:{"data-rfd-droppable-id":u,"data-rfd-droppable-context-id":r}}),[r,u,R,A]),M=w?w.dragging.draggableId:null,W=Ot(()=>({droppableId:u,type:d,isUsingCloneFor:M}),[u,M,d]);function B(){if(!w)return null;const{dragging:q,render:k}=w,Y=Ut.createElement(vj,{draggableId:q.draggableId,index:q.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(U,H)=>k(U,H,q));return KI.createPortal(Y,P())}return Ut.createElement(Wp.Provider,{value:W},c(N,g),B())};function qW(){return document.body||Re(),document.body}const Xb={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:qW},Cj=e=>{let n={...e},r;for(r in Xb)e[r]===void 0&&(n={...n,[r]:Xb[r]});return n},ah=(e,n)=>e===n.droppable.type,Qb=(e,n)=>n.draggables[e.draggable.id],KW=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n={...e,shouldAnimatePlaceholder:!1},r=Nn(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),s=Nn((a,c,u,d,h,p)=>{const m=h.descriptor.id;if(h.descriptor.droppableId===a){const g=p?{render:p,dragging:r(h.descriptor)}:null,w={isDraggingOver:u,draggingOverWith:u?m:null,draggingFromThisWith:m,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!1,snapshot:w,useClone:g}}if(!c)return n;if(!d)return e;const y={isDraggingOver:u,draggingOverWith:m,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}});return(a,c)=>{const u=Cj(c),d=u.droppableId,h=u.type,p=!u.isDropDisabled,m=u.renderClone;if(Ia(a)){const x=a.critical;if(!ah(h,x))return n;const y=Qb(x,a.dimensions),g=Er(a.impact)===d;return s(d,p,g,g,y,m)}if(a.phase==="DROP_ANIMATING"){const x=a.completed;if(!ah(h,x.critical))return n;const y=Qb(x.critical,a.dimensions);return s(d,p,bj(x.result)===d,Er(x.impact)===d,y,m)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const x=a.completed;if(!ah(h,x.critical))return n;const y=Er(x.impact)===d,g=!!(x.impact.at&&x.impact.at.type==="COMBINE"),w=x.critical.droppable.id===d;return y?g?e:n:w?e:n}return n}},JW={updateViewportMaxScroll:i5},XW=w0(KW,JW,(e,n,r)=>({...Cj(r),...e,...n}),{context:Lp,areStatePropsEqual:gj})(YW);var QW=XW;const ZW=({tiers:e,isLoading:n=!1,onEdit:r,onDelete:s,onReorder:o,onCreateTier:a})=>{const[c,u]=b.useState(e);b.useEffect(()=>{u([...e].sort((h,p)=>h.order-p.order))},[e]);const d=async h=>{if(!h.destination)return;const p=h.source.index,m=h.destination.index;if(p===m)return;const x=[...c].sort((w,j)=>w.order-j.order),[y]=x.splice(p,1);x.splice(m,0,y);const g=x.map((w,j)=>({...w,order:j+1}));u(g),o(g)};return n?t.jsx(de,{spacing:3,sx:{maxWidth:900},children:[1,2,3].map(h=>t.jsx(dt,{sx:{p:3},children:t.jsxs(de,{spacing:2,children:[t.jsx(ce,{variant:"circular",width:32,height:32}),t.jsx(ce,{variant:"text",width:"60%",height:28}),t.jsx(ce,{variant:"text",width:"40%",height:40}),t.jsx(ce,{variant:"text",width:"80%",height:20}),t.jsxs(de,{direction:"row",justifyContent:"flex-end",spacing:1,children:[t.jsx(ce,{variant:"circular",width:32,height:32}),t.jsx(ce,{variant:"circular",width:32,height:32})]})]})},h))}):e.length===0?t.jsx(lo,{title:"Set Up Channel Subscriptions",description:"Create subscription tiers to offer exclusive perks and content to your subscribers",action:{label:"Create Your First Tier",onClick:a},icon:t.jsx(xc,{sx:{fontSize:48}})}):t.jsxs(de,{spacing:4,children:[t.jsxs(de,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t.jsx(v,{variant:"h5",sx:{fontWeight:600},children:"Subscription Tiers"}),t.jsx(pe,{variant:"contained",startIcon:t.jsx(bp,{}),onClick:a,sx:{px:3,borderRadius:2,textTransform:"none"},children:"Create Tier"})]}),t.jsx(dt,{sx:{p:2,bgcolor:"primary.50",borderRadius:2,border:"1px solid",borderColor:"primary.100"},children:t.jsxs(de,{direction:"row",spacing:2,alignItems:"center",children:[t.jsx(p0,{color:"primary"}),t.jsx(v,{variant:"body2",color:"primary.700",children:"Drag to reorder tiers. Members will see tiers in this order on your channel page."})]})}),t.jsx(dW,{onDragEnd:d,children:t.jsx(QW,{droppableId:"tiers",children:h=>t.jsxs(de,{spacing:3,...h.droppableProps,ref:h.innerRef,sx:{maxWidth:800,width:"100%"},children:[c.map((p,m)=>t.jsx(AW,{draggableId:p.id,index:m,children:(x,y)=>t.jsx(D,{ref:x.innerRef,...x.draggableProps,children:t.jsx(D,{sx:{position:"relative"},children:t.jsxs(dt,{elevation:y.isDragging?8:2,sx:{p:3,transition:"all 0.2s ease",transform:y.isDragging?"scale(1.02)":"scale(1)",bgcolor:"background.paper",borderRadius:2,"&:hover":{boxShadow:4,"& .drag-handle":{opacity:1}}},children:[t.jsx(Ze,{label:p.order,color:"primary",size:"small",sx:{position:"absolute",top:-12,left:16,height:32,width:32,borderRadius:"50%",boxShadow:2,zIndex:1,"& .MuiChip-label":{px:0,fontSize:"1rem",fontWeight:"bold"}}}),t.jsx(D,{...x.dragHandleProps,className:"drag-handle",sx:{position:"absolute",top:0,left:0,right:0,height:"100%",display:"flex",alignItems:"center",justifyContent:"center",opacity:0,transition:"opacity 0.2s ease","&:hover":{cursor:"move","& .drag-icon":{transform:"scale(1.1)"}}},children:t.jsx(D,{className:"drag-icon",sx:{width:40,height:40,borderRadius:"50%",bgcolor:"action.hover",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s ease"},children:t.jsx(f0,{color:"action"})})}),t.jsxs(D,{sx:{flex:1},children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:p.name}),t.jsxs(v,{variant:"h4",gutterBottom:!0,children:["$",p.price,t.jsx(v,{component:"span",variant:"body2",sx:{ml:1},children:"/month"})]}),t.jsx(v,{variant:"body2",sx:{mb:2},children:p.description})]}),t.jsxs(de,{direction:"row",spacing:1,justifyContent:"flex-end",children:[t.jsx(We,{onClick:()=>r(p.id),size:"small",children:t.jsx(Wa,{})}),t.jsx(We,{onClick:()=>s(p.id),size:"small",children:t.jsx(Lo,{})})]})]})})})},p.id)),h.placeholder]})})})]})},eB=({open:e,onClose:n,onSubmit:r,initialData:s,tierCount:o,isEdit:a=!1})=>{const[c,u]=b.useState({name:"",description:"",price:0,benefits:[],order:a?s.order:o+1}),[d,h]=b.useState({}),[p,m]=b.useState(!1);b.useEffect(()=>{s&&u({name:s.name,description:s.description,price:s.price,benefits:s.benefits,order:a?s.order:o+1})},[s]),b.useEffect(()=>{u(w=>({...w,order:o+1}))},[o]);const x=()=>{const w={};return c.name||(w.name="Name is required"),c.description||(w.description="Description is required"),c.price<0&&(w.price="Price must be positive"),c.benefits||(w.benefits="Benefits are required"),h(w),Object.keys(w).length===0},y=w=>j=>{const P=w==="price"?Number(j.target.value):j.target.value;u(C=>({...C,[w]:P})),d[w]&&h(C=>({...C,[w]:void 0}))},g=async w=>{if(w.preventDefault(),!!x())try{m(!0),await r(c),n()}catch(j){console.error("Failed to submit tier:",j)}finally{m(!1)}};return t.jsxs(sn,{open:e,onClose:n,maxWidth:"sm",fullWidth:!0,children:[t.jsx(pn,{children:a?"Edit Tier":"Create New Tier"}),t.jsxs("form",{onSubmit:g,children:[t.jsx(on,{children:t.jsxs(de,{spacing:3,children:[t.jsx(rt,{label:"Tier Name",value:c.name,onChange:y("name"),error:!!d.name,helperText:d.name,fullWidth:!0}),t.jsx(rt,{label:"Description",value:c.description,onChange:y("description"),multiline:!0,rows:3,error:!!d.description,helperText:d.description,fullWidth:!0}),t.jsx(rt,{type:"number",label:"Monthly Price",value:c.price,onChange:y("price"),InputProps:{startAdornment:t.jsx(eo,{position:"start",children:"$"})},error:!!d.price,helperText:d.price,fullWidth:!0}),t.jsx(rt,{label:"Benefits",value:c.benefits,onChange:y("benefits"),multiline:!0,rows:4,placeholder:"Enter benefits, one per line",error:!!d.benefits,helperText:d.benefits,fullWidth:!0})]})}),t.jsxs(an,{children:[t.jsx(pe,{onClick:n,children:"Cancel"}),t.jsx(pe,{type:"submit",variant:"contained",disabled:p,children:a?"Save Changes":"Create Tier"})]})]})]})},Bp=b.memo(({channelId:e})=>{const{api:n}=Je(),{execute:r}=et(),{execute:s}=et(),{execute:o}=et(),{execute:a}=et(),{execute:c}=et(),[u,d]=b.useState([]),[h,p]=b.useState(!0),[m,x]=b.useState(!1),[y,g]=b.useState(null),[w,j]=b.useState(!1),P=b.useCallback(async()=>{if(!e)return;p(!0);const M=await r(()=>n==null?void 0:n.channelApi.getTiers(e),{showErrorToast:!0});M&&d(M.items||[]),p(!1)},[e,r,n]);b.useEffect(()=>{P()},[P]);const C=M=>{const W=u.find(B=>B.id===M);W&&(g(W),x(!0))},A=()=>{x(!1),g(null)},E=async M=>{await s(()=>n==null?void 0:n.channelApi.createTier(e,M),{showSuccessMessage:!0,successMessage:"Tier created successfully"})&&(await P(),A())},T=async(M,W)=>{await o(()=>n==null?void 0:n.channelApi.updateTier(e,M,W),{showSuccessMessage:!0,successMessage:"Tier updated successfully"}),await P(),A()},R=async M=>{await c(()=>n==null?void 0:n.channelApi.deleteTier(e,M),{showSuccessMessage:!0,successMessage:"Tier deleted successfully"}),await P()},N=async M=>{try{j(!0),await a(()=>n==null?void 0:n.channelApi.updateTiers(e,M),{showSuccessMessage:!0,successMessage:"Tiers reordered successfully"}),d(M)}catch{}finally{j(!1)}};return t.jsxs(D,{sx:{p:3},children:[t.jsx(ZW,{tiers:u,isLoading:h,onEdit:C,onDelete:R,onReorder:N,onCreateTier:()=>x(!0)}),t.jsx(eB,{open:m,onClose:A,onSubmit:y?M=>T(y.id,M):E,initialData:y,tierCount:u.length,isEdit:!!y}),t.jsx(JI,{sx:{color:"#fff",zIndex:M=>M.zIndex.drawer+1,backdropFilter:"blur(3px)"},open:w,children:t.jsx(zn,{color:"inherit"})})]})},(e,n)=>e.channelId===n.channelId);Bp.displayName="TiersTab";const tB=({tabs:e,activeTab:n,onTabChange:r,isOpen:s,onClose:o,onOpen:a})=>t.jsx(XI,{anchor:"bottom",open:s,onClose:o,onOpen:a,disableSwipeToOpen:!1,PaperProps:{sx:{borderTopLeftRadius:16,borderTopRightRadius:16,maxHeight:"80vh"}},children:t.jsx(gs,{sx:{pt:1,pb:2},children:e.map(c=>t.jsx(uh,{selected:n===c.id,onClick:()=>{r(c.id),o()},sx:{mx:1,borderRadius:1,mb:.5,"&.Mui-selected":{bgcolor:u=>Ee(u.palette.primary.main,.1)}},children:t.jsx(Qt,{primary:c.label})},c.id))})}),nB=({tabs:e,activeTab:n,onTabChange:r})=>t.jsx(D,{sx:{borderBottom:1,borderColor:"divider"},children:t.jsx(so,{value:n,onChange:(s,o)=>r(o),sx:{px:{md:3,lg:4}},children:e.map(s=>t.jsx(ir,{label:s.label,value:s.id,sx:{textTransform:"none",fontWeight:500,fontSize:"0.9375rem"}},s.id))})}),Zb=[{id:"basic",label:"Basic Info",component:h0},{id:"tiers",label:"Channel Tiers",component:Bp}],rB=()=>{const{id:e}=qr(),n=_n(),r=kc(n.breakpoints.down("md")),{api:s}=Je(),[o,a]=b.useState("basic"),[c,u]=b.useState(!1),[d,h]=b.useState(null),[p,m]=b.useState(!0),{execute:x}=et(),{execute:y}=et(),g=b.useCallback(async()=>{if(!e)return;m(!0);const C=await x(()=>s==null?void 0:s.channelApi.getChannel(e),{showErrorToast:!0});C&&h(C),m(!1)},[e,x,s]);b.useEffect(()=>{g()},[g]);const w=async C=>{e&&(await y(()=>s==null?void 0:s.channelApi.updateChannel(e,C),{showSuccessMessage:!0,successMessage:"Channel updated successfully"}),await g())},j=C=>{a(C)};if(!e||p||!d)return null;const P=()=>{switch(o){case"basic":return t.jsx(h0,{channel:d,onUpdate:w});case"tiers":return t.jsx(Bp,{channelId:d.id});default:return null}};return t.jsx(D,{sx:{minHeight:"100%",bgcolor:"background.default"},children:r?t.jsxs(t.Fragment,{children:[t.jsx(D,{sx:{px:2,py:1.5},children:t.jsx(v,{variant:"h6",sx:{fontWeight:600},children:"Edit Channel"})}),P(),t.jsx(tB,{tabs:Zb,activeTab:o,onTabChange:j,isOpen:c,onClose:()=>u(!1),onOpen:()=>u(!0)})]}):t.jsxs(t.Fragment,{children:[t.jsx(nB,{tabs:Zb,activeTab:o,onTabChange:j}),t.jsx(D,{sx:{p:{md:3,lg:4}},children:P()})]})})};var Vp={},sB=at;Object.defineProperty(Vp,"__esModule",{value:!0});var Ac=Vp.default=void 0,oB=sB(lt()),iB=t;Ac=Vp.default=(0,oB.default)((0,iB.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Article");const Pj=({open:e,poll:n,onClose:r,onConvert:s,loading:o=!1})=>{var y,g;const{profile:a}=js(),[c,u]=b.useState({title:"",channelId:"",status:Rn.PUBLISHED,isPremium:!1,requiredTierId:null,content:""}),[d,h]=b.useState(null),p=async()=>{if(!c.title.trim()){h("Title is required");return}if(!c.channelId){h("Channel is required");return}if(!c.content.trim()){h("Content is required");return}try{h(null),await s(c),m()}catch(w){h(w.message||"Failed to convert poll to news")}},m=()=>{u({title:"",channelId:"",status:Rn.PUBLISHED,isPremium:!1,requiredTierId:null,content:""}),h(null),r()},x=w=>{u(j=>({...j,content:JSON.stringify(w)}))};return Ut.useEffect(()=>{e&&n&&u(w=>{var j;return{...w,title:`News Article: ${n.title}`,channelId:((j=n.channel)==null?void 0:j.id)||"",content:n.description||""}})},[e,n]),n?t.jsxs(sn,{open:e,onClose:m,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{minHeight:"70vh"}},children:[t.jsxs(pn,{children:[t.jsx(v,{variant:"h6",children:"Convert Poll to News Article"}),t.jsxs(v,{variant:"body2",color:"text.secondary",sx:{mt:1},children:['Convert "',n.title,'" into a news article with poll results included']})]}),t.jsx(on,{children:t.jsxs(de,{spacing:3,sx:{mt:1},children:[d&&t.jsx(it,{severity:"error",onClose:()=>h(null),children:d}),t.jsxs(D,{sx:{p:2,borderRadius:2,bgcolor:w=>Ee(w.palette.primary.main,.05),border:w=>`1px solid ${Ee(w.palette.primary.main,.2)}`},children:[t.jsx(v,{variant:"subtitle2",gutterBottom:!0,children:"Poll Results (will be included in the article)"}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Total Votes: ",n.voteCount||0," • Status: ",(y=n.stats)!=null&&y.hasEnded?"Ended":"Active"]})]}),t.jsx(rt,{label:"Article Title",fullWidth:!0,required:!0,value:c.title,onChange:w=>u(j=>({...j,title:w.target.value})),helperText:"Create an engaging title for your news article"}),t.jsxs(vt,{fullWidth:!0,required:!0,children:[t.jsx(Tt,{children:"Channel"}),t.jsx(St,{value:c.channelId,label:"Channel",onChange:w=>u(j=>({...j,channelId:w.target.value})),children:(g=a==null?void 0:a.staffChannels)==null?void 0:g.map(w=>t.jsx(je,{value:w.channelId,children:w.channel.name},w.id))})]}),t.jsxs(D,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:1},children:"Article Content"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Write your news article. Poll results will be automatically appended."}),t.jsx(Qc,{data:c.content?JSON.parse(c.content):void 0,onChange:x,placeholder:"Write your news article content here...",borderColor:w=>w.palette.mode==="dark"?Ee(w.palette.common.white,.23):Ee(w.palette.common.black,.23)})]}),t.jsxs(D,{children:[t.jsx(v,{variant:"subtitle1",sx:{mb:2},children:"Publishing Options"}),t.jsxs(de,{spacing:2,children:[t.jsx(xa,{control:t.jsx(rc,{checked:c.isPremium,onChange:w=>u(j=>({...j,isPremium:w.target.checked}))}),label:"Premium Content"}),t.jsxs(vt,{fullWidth:!0,children:[t.jsx(Tt,{children:"Status"}),t.jsxs(St,{value:c.status,label:"Status",onChange:w=>u(j=>({...j,status:Number(w.target.value)})),children:[t.jsx(je,{value:Rn.DRAFT,children:"Draft"}),t.jsx(je,{value:Rn.PUBLISHED,children:"Published"}),t.jsx(je,{value:Rn.PENDING_REVIEW,children:"Pending Review"})]})]})]})]})]})}),t.jsxs(an,{sx:{p:3},children:[t.jsx(pe,{onClick:m,disabled:o,children:"Cancel"}),t.jsx(pe,{onClick:p,variant:"contained",disabled:o,children:o?"Converting...":"Convert to News"})]})]}):null},aB=({poll:e,onRefresh:n})=>{var N;const[r,s]=b.useState(null),[o,a]=b.useState(!1),[c,u]=b.useState(!1),d=It(),{api:h}=Je(),{execute:p}=et(),m=_n(),x=M=>{s(M.currentTarget)},y=()=>{s(null)},g=()=>{d(`${ye.STUDIO_POLL_VIEW.replace(":id",e.id)}`),y()},w=()=>{d(`${ye.STUDIO_POLL_EDIT.replace(":id",e.id)}`),y()},j=()=>{a(!0),y()},P=()=>{u(!0),y()},C=async()=>{await p(()=>h==null?void 0:h.pollApi.delete(e.id),{showSuccessMessage:!0,successMessage:"Poll deleted successfully"})&&n(),a(!1)},A=async M=>{await p(()=>h==null?void 0:h.pollApi.convertToNews(e.id,M),{showSuccessMessage:!0,successMessage:"Poll converted to news successfully!"})&&n()},T=(()=>{const M=new Date,W=new Date(e.startDate),B=new Date(e.endDate);return M<W?{label:"Scheduled",color:"warning"}:M>B?{label:"Ended",color:"error"}:{label:"Active",color:"success"}})(),R=!e.isConverted&&!((N=e.stats)!=null&&N.hasEnded);return t.jsxs(Oe,{sx:{height:"100%",bgcolor:M=>Ee(M.palette.mode==="dark"?M.palette.common.white:M.palette.common.black,M.palette.mode==="dark"?.05:.03),transition:m.transitions.create(["background-color","box-shadow"]),"&:hover":{bgcolor:M=>Ee(M.palette.mode==="dark"?M.palette.common.white:M.palette.common.black,M.palette.mode==="dark"?.08:.05),boxShadow:1}},children:[t.jsxs($e,{children:[t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[t.jsx(v,{variant:"h6",sx:{fontSize:"1rem",fontWeight:600,color:"text.primary"},children:e.title}),t.jsx(We,{size:"small",onClick:x,sx:{ml:1},children:t.jsx(nu,{})})]}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:e.description}),t.jsxs(de,{direction:"row",spacing:1,alignItems:"center",children:[t.jsx(Ze,{label:T.label,size:"small",color:T.color}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:[e.totalVotes??0," votes"]})]})]}),t.jsxs(ro,{anchorEl:r,open:!!r,onClose:y,PaperProps:{sx:{width:200}},children:[t.jsxs(je,{onClick:g,children:[t.jsx(dn,{children:t.jsx(ru,{fontSize:"small"})}),t.jsx(Qt,{children:"View Poll"})]}),t.jsxs(je,{onClick:w,children:[t.jsx(dn,{children:t.jsx(Wa,{fontSize:"small"})}),t.jsx(Qt,{children:"Edit Poll"})]}),R&&t.jsxs(je,{onClick:P,children:[t.jsx(dn,{children:t.jsx(Ac,{fontSize:"small"})}),t.jsx(Qt,{children:"Convert to News"})]}),t.jsxs(je,{onClick:j,children:[t.jsx(dn,{children:t.jsx(Lo,{fontSize:"small"})}),t.jsx(Qt,{children:"Delete Poll"})]})]}),t.jsx(pp,{open:o,title:"Delete Poll",content:"Are you sure you want to delete this poll? This action cannot be undone.",onConfirm:C,onClose:()=>a(!1)}),t.jsx(Pj,{open:c,poll:e,onClose:()=>u(!1),onConvert:A})]})},lB=()=>{const[e,n]=b.useState([]),[r,s]=b.useState(1),[o,a]=b.useState(!0),[c,u]=b.useState(!0),{api:d}=Je(),{profile:h}=js(),p=It(),m=_n(),{execute:x}=et(),y=()=>{g(r+1)},g=async(j=r)=>{if(!(h!=null&&h.id))return;const P=await x(()=>d==null?void 0:d.studioApi.getMyContent("polls"),{showErrorToast:!0});P&&(n(C=>j===1?(P==null?void 0:P.items)??[]:[...C,...(P==null?void 0:P.items)??[]]),s((P==null?void 0:P.metadata.currentPage)??1),a((P==null?void 0:P.metadata.hasNext)===!0)),u(!1)};b.useEffect(()=>{g(1)},[]);const w=()=>t.jsxs(D,{sx:{p:2,borderRadius:1,bgcolor:j=>Ee(j.palette.mode==="dark"?j.palette.common.white:j.palette.common.black,j.palette.mode==="dark"?.05:.03),height:{xs:180,sm:200},transition:m.transitions.create(["background-color","height"])},children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[t.jsx(ce,{variant:"circular",width:32,height:32,sx:{mr:1.5}}),t.jsxs(D,{sx:{width:"100%"},children:[t.jsx(ce,{width:"60%",height:20}),t.jsx(ce,{width:"40%",height:16})]})]}),t.jsx(ce,{variant:"rectangular",sx:{borderRadius:1,height:{xs:70,sm:80}}}),t.jsx(D,{sx:{mt:1.5},children:t.jsx(ce,{width:"30%",height:20})})]});return t.jsxs(D,{sx:{px:{xs:2,sm:3,md:4},py:{xs:2,sm:3},maxWidth:"lg",mx:"auto",width:"100%"},children:[t.jsx(D,{sx:{mb:{xs:2,sm:3}},children:t.jsx(v,{variant:"h5",sx:{fontWeight:600,fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:c?t.jsx(ce,{width:150}):"My Polls"})}),c?t.jsx($,{container:!0,spacing:2,children:[1,2].map(j=>t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(w,{})},j))}):e.length===0?t.jsx(lo,{title:"No Polls Yet",description:"Create your first poll to start gathering opinions from your audience.",icon:t.jsx(_f,{sx:{fontSize:{xs:40,sm:48}}}),action:{label:"Create Poll",onClick:()=>p(ye.STUDIO_POLL_CREATE)}}):t.jsx(No,{dataLength:e.length,next:y,hasMore:o,loader:t.jsx($,{container:!0,spacing:2,sx:{mt:.5},children:[1,2].map(j=>t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(w,{})},j))}),children:t.jsx($,{container:!0,spacing:2,children:e.map(j=>t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(aB,{poll:j,onRefresh:()=>g(1)})},j.id))})})]})};function cB(e,...n){const r=new URL(`https://mui.com/production-error/?code=${e}`);return n.forEach(s=>r.searchParams.append("args[]",s)),`Minified MUI error #${e}; visit ${r} for the full message.`}const Dj=Z.oneOfType([Z.func,Z.object]);function uB(e){if(typeof e!="string")throw new Error(cB(7));return e.charAt(0).toUpperCase()+e.slice(1)}function lh(e){return e&&e.ownerDocument||document}const Yr=typeof window<"u"?b.useLayoutEffect:b.useEffect;let ey=0;function dB(e){const[n,r]=b.useState(e),s=e||n;return b.useEffect(()=>{n==null&&(ey+=1,r(`mui-${ey}`))},[n]),s}const hB={...QI},ty=hB.useId;function du(e){if(ty!==void 0){const n=ty();return e??n}return dB(e)}function ji(e){const{controlled:n,default:r,name:s,state:o="value"}=e,{current:a}=b.useRef(n!==void 0),[c,u]=b.useState(r),d=a?n:c,h=b.useCallback(p=>{a||u(p)},[]);return[d,h]}function Fe(e){const n=b.useRef(e);return Yr(()=>{n.current=e}),b.useRef((...r)=>(0,n.current)(...r)).current}function Xn(...e){const n=b.useRef(void 0),r=b.useCallback(s=>{const o=e.map(a=>{if(a==null)return null;if(typeof a=="function"){const c=a,u=c(s);return typeof u=="function"?u:()=>{c(null)}}return a.current=s,()=>{a.current=null}});return()=>{o.forEach(a=>a==null?void 0:a())}},e);return b.useMemo(()=>e.every(s=>s==null)?null:s=>{n.current&&(n.current(),n.current=void 0),s!=null&&(n.current=r(s))},e)}const ny={};function fB(e,n){const r=b.useRef(ny);return r.current===ny&&(r.current=e(n)),r}const pB=[];function mB(e){b.useEffect(e,pB)}class Up{constructor(){Te(this,"currentId",null);Te(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Te(this,"disposeEffect",()=>this.clear)}static create(){return new Up}start(n,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},n)}}function ui(){const e=fB(Up.create).current;return mB(e.disposeEffect),e}const xB={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Gt(e,n,r=void 0){const s={};for(const o in e){const a=e[o];let c="",u=!0;for(let d=0;d<a.length;d+=1){const h=a[d];h&&(c+=(u===!0?"":" ")+n(h),u=!1,r&&r[h]&&(c+=" "+r[h]))}s[o]=c}return s}const ry=e=>e,gB=()=>{let e=ry;return{configure(n){e=n},generate(n){return e(n)},reset(){e=ry}}},bB=gB(),yB={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function en(e,n,r="Mui"){const s=yB[n];return s?`${r}-${s}`:`${bB.generate(e)}-${n}`}function ln(e,n,r="Mui"){const s={};return n.forEach(o=>{s[o]=en(e,o,r)}),s}function vB(e){return typeof e=="string"}function jB(e,n,r){return e===void 0||vB(e)?n:{...n,ownerState:{...n.ownerState,...r}}}function wB(e,n=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(s=>s.match(/^on[A-Z]/)&&typeof e[s]=="function"&&!n.includes(s)).forEach(s=>{r[s]=e[s]}),r}function sy(e){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{n[r]=e[r]}),n}function SB(e){const{getSlotProps:n,additionalProps:r,externalSlotProps:s,externalForwardedProps:o,className:a}=e;if(!n){const y=Kt(r==null?void 0:r.className,a,o==null?void 0:o.className,s==null?void 0:s.className),g={...r==null?void 0:r.style,...o==null?void 0:o.style,...s==null?void 0:s.style},w={...r,...o,...s};return y.length>0&&(w.className=y),Object.keys(g).length>0&&(w.style=g),{props:w,internalRef:void 0}}const c=wB({...o,...s}),u=sy(s),d=sy(o),h=n(c),p=Kt(h==null?void 0:h.className,r==null?void 0:r.className,a,o==null?void 0:o.className,s==null?void 0:s.className),m={...h==null?void 0:h.style,...r==null?void 0:r.style,...o==null?void 0:o.style,...s==null?void 0:s.style},x={...h,...r,...d,...u};return p.length>0&&(x.className=p),Object.keys(m).length>0&&(x.style=m),{props:x,internalRef:h.ref}}function Ea(e,n,r){return typeof e=="function"?e(n,r):e}function kt(e){var m;const{elementType:n,externalSlotProps:r,ownerState:s,skipResolvingSlotProps:o=!1,...a}=e,c=o?{}:Ea(r,s),{props:u,internalRef:d}=SB({...a,externalSlotProps:c}),h=Xn(d,c==null?void 0:c.ref,(m=e.additionalProps)==null?void 0:m.ref);return jB(n,{...u,ref:h},s)}const CB=["localeText"],kh=b.createContext(null),Tj=function(n){const{localeText:r}=n,s=tt(n,CB),{utils:o,localeText:a}=b.useContext(kh)??{utils:void 0,localeText:void 0},c=zt({props:s,name:"MuiLocalizationProvider"}),{children:u,dateAdapter:d,dateFormats:h,dateLibInstance:p,adapterLocale:m,localeText:x}=c,y=b.useMemo(()=>V({},x,a,r),[x,a,r]),g=b.useMemo(()=>{if(!d)return o||null;const P=new d({locale:m,formats:h,instance:p});if(!P.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/quickstart/#installation"].join(`
`));return P},[d,m,h,p,o]),w=b.useMemo(()=>g?{minDate:g.date("1900-01-01T00:00:00.000"),maxDate:g.date("2099-12-31T00:00:00.000")}:null,[g]),j=b.useMemo(()=>({utils:g,defaultDates:w,localeText:y}),[w,g,y]);return t.jsx(kh.Provider,{value:j,children:u})},PB=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:V({},e)}}}}),Ij={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",nextStepButtonLabel:"Next",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",timeRangePickerToolbarTitle:"Select time range",clockLabelText:(e,n)=>`Select ${e}. ${n?`Selected time is ${n}`:"No time selected"}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:e=>e?`Choose date, selected date is ${e}`:"Choose date",openTimePickerDialogue:e=>e?`Choose time, selected time is ${e}`:"Choose time",openRangePickerDialogue:e=>e?`Choose range, selected range is ${e}`:"Choose range",fieldClearLabel:"Clear",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},DB=Ij;PB(Ij);const $o=()=>{const e=b.useContext(kh);if(e===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const n=b.useMemo(()=>V({},DB,e.localeText),[e.localeText]);return b.useMemo(()=>V({},e,{localeText:n}),[e,n])},Wt=()=>$o().utils,Ej=()=>$o().defaultDates,Oi=e=>{const n=Wt(),r=b.useRef(void 0);return r.current===void 0&&(r.current=n.date(void 0,e)),r.current},cs=()=>$o().localeText,TB=io(t.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),IB=io(t.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),EB=io(t.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),AB=io(t.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");io(t.jsxs(b.Fragment,{children:[t.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),t.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");const RB=io(t.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange"),_B=io(t.jsxs(b.Fragment,{children:[t.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),t.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time"),OB=io(t.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function MB(e){return en("MuiPickersArrowSwitcher",e)}ln("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const Aj=b.createContext(()=>!0);function kB(){return b.useContext(Aj)}const Rj=b.createContext(null);function _j(){return b.useContext(Rj)}const zp=b.createContext(null),ho=()=>{const e=b.useContext(zp);if(e==null)throw new Error("MUI X: The `usePickerContext` hook can only be called inside the context of a Picker component");return e},Oj=b.createContext(null),Mj=b.createContext({ownerState:{isPickerDisabled:!1,isPickerReadOnly:!1,isPickerValueEmpty:!1,isPickerOpen:!1,pickerVariant:"desktop",pickerOrientation:"portrait"},rootRefObject:{current:null},labelId:void 0,dismissViews:()=>{},hasUIView:!0,getCurrentViewMode:()=>"UI",triggerElement:null,viewContainerRole:null,defaultActionBarActions:[],onPopperExited:void 0});function kj(e){const{contextValue:n,actionsContextValue:r,privateContextValue:s,fieldPrivateContextValue:o,isValidContextValue:a,localeText:c,children:u}=e;return t.jsx(zp.Provider,{value:n,children:t.jsx(Oj.Provider,{value:r,children:t.jsx(Mj.Provider,{value:s,children:t.jsx(Rj.Provider,{value:o,children:t.jsx(Aj.Provider,{value:a,children:t.jsx(Tj,{localeText:c,children:u})})})})})})}const Sn=()=>b.useContext(Mj),NB=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId","classes"],LB=["ownerState"],$B=["ownerState"],FB=Me("div",{name:"MuiPickersArrowSwitcher",slot:"Root"})({display:"flex"}),WB=Me("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer"})(({theme:e})=>({width:e.spacing(3)})),oy=Me(We,{name:"MuiPickersArrowSwitcher",slot:"Button"})({variants:[{props:{isButtonHidden:!0},style:{visibility:"hidden"}}]}),BB=e=>Gt({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},MB,e),VB=b.forwardRef(function(n,r){const s=vs(),o=zt({props:n,name:"MuiPickersArrowSwitcher"}),{children:a,className:c,slots:u,slotProps:d,isNextDisabled:h,isNextHidden:p,onGoToNext:m,nextLabel:x,isPreviousDisabled:y,isPreviousHidden:g,onGoToPrevious:w,previousLabel:j,labelId:P,classes:C}=o,A=tt(o,NB),{ownerState:E}=Sn(),T=BB(C),R={isDisabled:h,isHidden:p,goTo:m,label:x},N={isDisabled:y,isHidden:g,goTo:w,label:j},M=(u==null?void 0:u.previousIconButton)??oy,W=kt({elementType:M,externalSlotProps:d==null?void 0:d.previousIconButton,additionalProps:{size:"medium",title:N.label,"aria-label":N.label,disabled:N.isDisabled,edge:"end",onClick:N.goTo},ownerState:V({},E,{isButtonHidden:N.isHidden??!1}),className:Kt(T.button,T.previousIconButton)}),B=(u==null?void 0:u.nextIconButton)??oy,q=kt({elementType:B,externalSlotProps:d==null?void 0:d.nextIconButton,additionalProps:{size:"medium",title:R.label,"aria-label":R.label,disabled:R.isDisabled,edge:"start",onClick:R.goTo},ownerState:V({},E,{isButtonHidden:R.isHidden??!1}),className:Kt(T.button,T.nextIconButton)}),k=(u==null?void 0:u.leftArrowIcon)??IB,Y=kt({elementType:k,externalSlotProps:d==null?void 0:d.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:E,className:T.leftArrowIcon}),U=tt(Y,LB),H=(u==null?void 0:u.rightArrowIcon)??EB,X=kt({elementType:H,externalSlotProps:d==null?void 0:d.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:E,className:T.rightArrowIcon}),se=tt(X,$B);return t.jsxs(FB,V({ref:r,className:Kt(T.root,c),ownerState:E},A,{children:[t.jsx(M,V({},W,{children:s?t.jsx(H,V({},se)):t.jsx(k,V({},U))})),a?t.jsx(v,{variant:"subtitle1",component:"span",id:P,children:a}):t.jsx(WB,{className:T.spacer,ownerState:E}),t.jsx(B,V({},q,{children:s?t.jsx(k,V({},U)):t.jsx(H,V({},se))}))]}))}),xs=(e,n)=>e.length!==n.length?!1:n.every(r=>e.includes(r)),UB=({openTo:e,defaultOpenTo:n,views:r,defaultViews:s})=>{const o=r??s;let a;if(e!=null)a=e;else if(o.includes(n))a=n;else if(o.length>0)a=o[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:o,openTo:a}},Nj=["hours","minutes","seconds"],zB=["hours","minutes","seconds","meridiem"],Aa=e=>Nj.includes(e),oi=e=>zB.includes(e),HB=(e,n)=>e?n.getHours(e)>=12?"pm":"am":null,Nh=(e,n,r)=>r&&(e>=12?"pm":"am")!==n?n==="am"?e-12:e+12:e,GB=(e,n,r,s)=>{const o=Nh(s.getHours(e),n,r);return s.setHours(e,o)},iy=(e,n)=>n.getHours(e)*3600+n.getMinutes(e)*60+n.getSeconds(e),hu=(e,n)=>(r,s)=>e?n.isAfter(r,s):iy(r,n)>iy(s,n),ay=(e,{format:n,views:r,ampm:s})=>{if(n!=null)return n;const o=e.formats;return xs(r,["hours"])?s?`${o.hours12h} ${o.meridiem}`:o.hours24h:xs(r,["minutes"])?o.minutes:xs(r,["seconds"])?o.seconds:xs(r,["minutes","seconds"])?`${o.minutes}:${o.seconds}`:xs(r,["hours","minutes","seconds"])?s?`${o.hours12h}:${o.minutes}:${o.seconds} ${o.meridiem}`:`${o.hours24h}:${o.minutes}:${o.seconds}`:s?`${o.hours12h}:${o.minutes} ${o.meridiem}`:`${o.hours24h}:${o.minutes}`},Lj={hasNextStep:!1,hasSeveralSteps:!1,goToNextStep:()=>{},areViewsInSameStep:()=>!0};function YB(e){const{steps:n,isViewMatchingStep:r,onStepChange:s}=e;return o=>{if(n==null)return Lj;const a=n.findIndex(u=>r(o.view,u)),c=a===-1||a===n.length-1?null:n[a+1];return{hasNextStep:c!=null,hasSeveralSteps:n.length>1,goToNextStep:()=>{c!=null&&s(V({},o,{step:c}))},areViewsInSameStep:(u,d)=>{const h=n.find(m=>r(u,m)),p=n.find(m=>r(d,m));return h===p}}}}function fu({onChange:e,onViewChange:n,openTo:r,view:s,views:o,autoFocus:a,focusedView:c,onFocusedViewChange:u,getStepNavigation:d}){const h=b.useRef(r),p=b.useRef(o),m=b.useRef(o.includes(r)?r:o[0]),[x,y]=ji({name:"useViews",state:"view",controlled:s,default:m.current}),g=b.useRef(a?x:null),[w,j]=ji({name:"useViews",state:"focusedView",controlled:c,default:g.current}),P=d?d({setView:y,view:x,defaultView:m.current,views:o}):Lj;b.useEffect(()=>{(h.current&&h.current!==r||p.current&&p.current.some(W=>!o.includes(W)))&&(y(o.includes(r)?r:o[0]),p.current=o,h.current=r)},[r,y,x,o]);const C=o.indexOf(x),A=o[C-1]??null,E=o[C+1]??null,T=Fe((W,B)=>{j(B?W:q=>W===q?null:q),u==null||u(W,B)}),R=Fe(W=>{T(W,!0),W!==x&&(y(W),n&&n(W))}),N=Fe(()=>{E&&R(E)}),M=Fe((W,B,q)=>{const k=B==="finish",Y=q?o.indexOf(q)<o.length-1:!!E;e(W,k&&Y?"partial":B,q);let H=null;if(q!=null&&q!==x?H=q:k&&(H=x),H==null)return;const X=o[o.indexOf(H)+1];X==null||!P.areViewsInSameStep(H,X)||R(X)});return V({},P,{view:x,setView:R,focusedView:w,setFocusedView:T,nextView:E,previousView:A,defaultView:o.includes(r)?r:o[0],goToNextView:N,setValueAndGoToNextView:M})}function qB(e,{disableFuture:n,maxDate:r,timezone:s}){const o=Wt();return b.useMemo(()=>{const a=o.date(void 0,s),c=o.startOfMonth(n&&o.isBefore(a,r)?a:r);return!o.isAfter(c,e)},[n,r,e,o,s])}function KB(e,{disablePast:n,minDate:r,timezone:s}){const o=Wt();return b.useMemo(()=>{const a=o.date(void 0,s),c=o.startOfMonth(n&&o.isAfter(a,r)?a:r);return!o.isBefore(c,e)},[n,r,e,o,s])}function $j(e,n,r,s){const o=Wt(),a=b.useMemo(()=>o.isValid(e)?e:null,[o,e]),c=HB(a,o),u=b.useCallback(d=>{const h=a==null?null:GB(a,d,!!n,o);r(h,s??"partial")},[n,a,r,s,o]);return{meridiemMode:c,handleMeridiemChange:u}}const Ra=36,pu=2,wi=320,JB=280,Si=336,Fj=232,la=48,Hp=Me("div")({overflow:"hidden",width:wi,maxHeight:Si,display:"flex",flexDirection:"column",margin:"0 auto"}),Rc=(e,n,r)=>{let s=n;return s=e.setHours(s,e.getHours(r)),s=e.setMinutes(s,e.getMinutes(r)),s=e.setSeconds(s,e.getSeconds(r)),s=e.setMilliseconds(s,e.getMilliseconds(r)),s},_a=({date:e,disableFuture:n,disablePast:r,maxDate:s,minDate:o,isDateDisabled:a,utils:c,timezone:u})=>{const d=Rc(c,c.date(void 0,u),e);r&&c.isBefore(o,d)&&(o=d),n&&c.isAfter(s,d)&&(s=d);let h=e,p=e;for(c.isBefore(e,o)&&(h=o,p=null),c.isAfter(e,s)&&(p&&(p=s),h=null);h||p;){if(h&&c.isAfter(h,s)&&(h=null),p&&c.isBefore(p,o)&&(p=null),h){if(!a(h))return h;h=c.addDays(h,1)}if(p){if(!a(p))return p;p=c.addDays(p,-1)}}return null},XB=(e,n)=>e.isValid(n)?n:null,_c=(e,n,r)=>n==null||!e.isValid(n)?r:n,QB=(e,n,r)=>!e.isValid(n)&&n!=null&&!e.isValid(r)&&r!=null?!0:e.isEqual(n,r),Gp=(e,n)=>{const s=[e.startOfYear(n)];for(;s.length<12;){const o=s[s.length-1];s.push(e.addMonths(o,1))}return s},Yp=(e,n,r)=>r==="date"?e.startOfDay(e.date(void 0,n)):e.date(void 0,n),ma=(e,n)=>{const r=e.setHours(e.date(),n==="am"?2:14);return e.format(r,"meridiem")},Wj=["year","month","day"],Ci=e=>Wj.includes(e),ly=(e,{format:n,views:r},s)=>{if(n!=null)return n;const o=e.formats;return xs(r,["year"])?o.year:xs(r,["month"])?o.month:xs(r,["day"])?o.dayOfMonth:xs(r,["month","year"])?`${o.month} ${o.year}`:xs(r,["day","month"])?`${o.month} ${o.dayOfMonth}`:o.keyboardDate},ZB=(e,n)=>{const r=e.startOfWeek(n);return[0,1,2,3,4,5,6].map(s=>e.addDays(r,s))},Fo=({name:e,timezone:n,value:r,defaultValue:s,referenceDate:o,onChange:a,valueManager:c})=>{const u=Wt(),[d,h]=ji({name:e,state:"value",controlled:r,default:s??c.emptyValue}),p=b.useMemo(()=>c.getTimezone(u,d),[u,c,d]),m=Fe(w=>p==null?w:c.setTimezone(u,p,w)),x=b.useMemo(()=>n||p||(o?u.getTimezone(o):"default"),[n,p,o,u]),y=b.useMemo(()=>c.setTimezone(u,x,d),[c,u,x,d]),g=Fe((w,...j)=>{const P=m(w);h(P),a==null||a(P,...j)});return{value:y,handleValueChange:g,timezone:x}},rs={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},eV=e=>Math.max(...e.map(n=>rs[n.type]??1)),sa=(e,n,r)=>{if(n===rs.year)return e.startOfYear(r);if(n===rs.month)return e.startOfMonth(r);if(n===rs.day)return e.startOfDay(r);let s=r;return n<rs.minutes&&(s=e.setMinutes(s,0)),n<rs.seconds&&(s=e.setSeconds(s,0)),n<rs.milliseconds&&(s=e.setMilliseconds(s,0)),s},tV=({props:e,utils:n,granularity:r,timezone:s,getTodayDate:o})=>{let a=o?o():sa(n,r,Yp(n,s));e.minDate!=null&&n.isAfterDay(e.minDate,a)&&(a=sa(n,r,e.minDate)),e.maxDate!=null&&n.isBeforeDay(e.maxDate,a)&&(a=sa(n,r,e.maxDate));const c=hu(e.disableIgnoringDatePartForTimeValidation??!1,n);return e.minTime!=null&&c(e.minTime,a)&&(a=sa(n,r,e.disableIgnoringDatePartForTimeValidation?e.minTime:Rc(n,a,e.minTime))),e.maxTime!=null&&c(a,e.maxTime)&&(a=sa(n,r,e.disableIgnoringDatePartForTimeValidation?e.maxTime:Rc(n,a,e.maxTime))),a},Bj=(e,n)=>{const r=e.formatTokenMap[n];if(r==null)throw new Error([`MUI X: The token "${n}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof r=="string"?{type:r,contentType:r==="meridiem"?"letter":"digit",maxLength:void 0}:{type:r.sectionType,contentType:r.contentType,maxLength:r.maxLength}},mu=(e,n)=>{const r=[],s=e.date(void 0,"default"),o=e.startOfWeek(s),a=e.endOfWeek(s);let c=o;for(;e.isBefore(c,a);)r.push(c),c=e.addDays(c,1);return r.map(u=>e.formatByString(u,n))},Vj=(e,n,r,s)=>{switch(r){case"month":return Gp(e,e.date(void 0,n)).map(o=>e.formatByString(o,s));case"weekDay":return mu(e,s);case"meridiem":{const o=e.date(void 0,n);return[e.startOfDay(o),e.endOfDay(o)].map(a=>e.formatByString(a,s))}default:return[]}},cy="s",nV=["0","1","2","3","4","5","6","7","8","9"],rV=e=>{const n=e.date(void 0);return e.formatByString(e.setSeconds(n,0),cy)==="0"?nV:Array.from({length:10}).map((s,o)=>e.formatByString(e.setSeconds(n,o),cy))},ko=(e,n)=>{if(n[0]==="0")return e;const r=[];let s="";for(let o=0;o<e.length;o+=1){s+=e[o];const a=n.indexOf(s);a>-1&&(r.push(a.toString()),s="")}return r.join("")},qp=(e,n)=>n[0]==="0"?e:e.split("").map(r=>n[Number(r)]).join(""),uy=(e,n)=>{const r=ko(e,n);return r!==" "&&!Number.isNaN(Number(r))},Kp=(e,n)=>Number(e).toString().padStart(n,"0"),Uj=(e,n,r,s,o)=>{if(o.type==="day"&&o.contentType==="digit-with-letter"){const c=e.setDate(r.longestMonth,n);return e.formatByString(c,o.format)}let a=n.toString();return o.hasLeadingZerosInInput&&(a=Kp(a,o.maxLength)),qp(a,s)},Jp=(e,n,r)=>{let s=e.value||e.placeholder;const o=n==="non-input"?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;return n==="non-input"&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(s=Number(ko(s,r)).toString()),["input-rtl","input-ltr"].includes(n)&&e.contentType==="digit"&&!o&&s.length===1&&(s=`${s}‎`),n==="input-rtl"&&(s=`⁨${s}⁩`),s},dy=(e,n,r,s)=>e.formatByString(e.parse(n,r),s),sV=(e,n)=>e.formatByString(e.date(void 0,"system"),n).length===4,zj=(e,n,r,s)=>{if(n!=="digit")return!1;const o=e.date(void 0,"default");switch(r){case"year":return e.lib==="dayjs"&&s==="YY"?!0:e.formatByString(e.setYear(o,1),s).startsWith("0");case"month":return e.formatByString(e.startOfYear(o),s).length>1;case"day":return e.formatByString(e.startOfMonth(o),s).length>1;case"weekDay":return e.formatByString(e.startOfWeek(o),s).length>1;case"hours":return e.formatByString(e.setHours(o,1),s).length>1;case"minutes":return e.formatByString(e.setMinutes(o,1),s).length>1;case"seconds":return e.formatByString(e.setSeconds(o,1),s).length>1;default:throw new Error("Invalid section type")}},oV=(e,n,r)=>{const s=n.some(d=>d.type==="day"),o=[],a=[];for(let d=0;d<n.length;d+=1){const h=n[d];s&&h.type==="weekDay"||(o.push(h.format),a.push(Jp(h,"non-input",r)))}const c=o.join(" "),u=a.join(" ");return e.parse(u,c)},iV=e=>e.map(n=>`${n.startSeparator}${n.value||n.placeholder}${n.endSeparator}`).join(""),aV=(e,n,r)=>{const o=e.map(a=>{const c=Jp(a,r?"input-rtl":"input-ltr",n);return`${a.startSeparator}${c}${a.endSeparator}`}).join("");return r?`⁦${o}⁩`:o},lV=(e,n,r)=>{const s=e.date(void 0,r),o=e.endOfYear(s),a=e.endOfDay(s),{maxDaysInMonth:c,longestMonth:u}=Gp(e,s).reduce((d,h)=>{const p=e.getDaysInMonth(h);return p>d.maxDaysInMonth?{maxDaysInMonth:p,longestMonth:h}:d},{maxDaysInMonth:0,longestMonth:null});return{year:({format:d})=>({minimum:0,maximum:sV(e,d)?9999:99}),month:()=>({minimum:1,maximum:e.getMonth(o)+1}),day:({currentDate:d})=>({minimum:1,maximum:e.isValid(d)?e.getDaysInMonth(d):c,longestMonth:u}),weekDay:({format:d,contentType:h})=>{if(h==="digit"){const p=mu(e,d).map(Number);return{minimum:Math.min(...p),maximum:Math.max(...p)}}return{minimum:1,maximum:7}},hours:({format:d})=>{const h=e.getHours(a);return ko(e.formatByString(e.endOfDay(s),d),n)!==h.toString()?{minimum:1,maximum:Number(ko(e.formatByString(e.startOfDay(s),d),n))}:{minimum:0,maximum:h}},minutes:()=>({minimum:0,maximum:e.getMinutes(a)}),seconds:()=>({minimum:0,maximum:e.getSeconds(a)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},cV=(e,n,r,s)=>{switch(n.type){case"year":return e.setYear(s,e.getYear(r));case"month":return e.setMonth(s,e.getMonth(r));case"weekDay":{let o=e.formatByString(r,n.format);n.hasLeadingZerosInInput&&(o=Kp(o,n.maxLength));const a=mu(e,n.format),c=a.indexOf(o),d=a.indexOf(n.value)-c;return e.addDays(r,d)}case"day":return e.setDate(s,e.getDate(r));case"meridiem":{const o=e.getHours(r)<12,a=e.getHours(s);return o&&a>=12?e.addHours(s,-12):!o&&a<12?e.addHours(s,12):s}case"hours":return e.setHours(s,e.getHours(r));case"minutes":return e.setMinutes(s,e.getMinutes(r));case"seconds":return e.setSeconds(s,e.getSeconds(r));default:return s}},hy={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},fy=(e,n,r,s,o)=>[...r].sort((a,c)=>hy[a.type]-hy[c.type]).reduce((a,c)=>!o||c.modified?cV(e,c,n,a):a,s),uV=()=>navigator.userAgent.toLowerCase().includes("android"),dV=(e,n)=>{const r={};if(!n)return e.forEach((d,h)=>{const p=h===0?null:h-1,m=h===e.length-1?null:h+1;r[h]={leftIndex:p,rightIndex:m}}),{neighbors:r,startIndex:0,endIndex:e.length-1};const s={},o={};let a=0,c=0,u=e.length-1;for(;u>=0;){c=e.findIndex((d,h)=>{var p;return h>=a&&((p=d.endSeparator)==null?void 0:p.includes(" "))&&d.endSeparator!==" / "}),c===-1&&(c=e.length-1);for(let d=c;d>=a;d-=1)o[d]=u,s[u]=d,u-=1;a=c+1}return e.forEach((d,h)=>{const p=o[h],m=p===0?null:s[p-1],x=p===e.length-1?null:s[p+1];r[h]={leftIndex:m,rightIndex:x}}),{neighbors:r,startIndex:s[0],endIndex:s[e.length-1]}},Lh=(e,n)=>{if(e==null)return null;if(e==="all")return"all";if(typeof e=="string"){const r=n.findIndex(s=>s.type===e);return r===-1?null:r}return e},hV=["value","referenceDate"],ar={emptyValue:null,getTodayValue:Yp,getInitialReferenceValue:e=>{let{value:n,referenceDate:r}=e,s=tt(e,hV);return s.utils.isValid(n)?n:r??tV(s)},cleanValue:XB,areValuesEqual:QB,isSameError:(e,n)=>e===n,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,n)=>e.isValid(n)?e.getTimezone(n):null,setTimezone:(e,n,r)=>r==null?null:e.setTimezone(r,n)},fV={updateReferenceValue:(e,n,r)=>e.isValid(n)?n:r,getSectionsFromValue:(e,n)=>n(e),getV7HiddenInputValueFromSections:iV,getV6InputValueFromSections:aV,parseValueStr:(e,n,r)=>r(e.trim(),n),getDateFromSection:e=>e,getDateSectionsFromValue:e=>e,updateDateInValue:(e,n,r)=>r,clearDateSections:e=>e.map(n=>V({},n,{value:""}))},Hj=({value:e,referenceDate:n,utils:r,props:s,timezone:o})=>{const a=b.useMemo(()=>ar.getInitialReferenceValue({value:e,utils:r,props:s,referenceDate:n,granularity:rs.day,timezone:o,getTodayDate:()=>Yp(r,o,"date")}),[]);return e??a};function pV(e){return en("MuiDigitalClock",e)}const $h=ln("MuiDigitalClock",["root","list","item"]);function mV(e,n){return Array.isArray(n)?n.every(r=>e.indexOf(r)!==-1):e.indexOf(n)!==-1}const xV=e=>{setTimeout(e,0)},Vn=(e=document)=>{const n=e.activeElement;return n?n.shadowRoot?Vn(n.shadowRoot):n:null},Oc=e=>Array.from(e.children).indexOf(Vn(document)),gV="@media (pointer: fine)";function bV(...e){return e.reduce((n,r)=>(Array.isArray(r)?n.push(...r):r!=null&&n.push(r),n),[])}const yV=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","views","skipDisabled","timezone"],vV=e=>Gt({root:["root"],list:["list"],item:["item"]},pV,e),jV=Me(Hp,{name:"MuiDigitalClock",slot:"Root"})({overflowY:"auto",width:"100%",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:Fj,variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),wV=Me(ky,{name:"MuiDigitalClock",slot:"List"})({padding:0}),SV=Me(je,{name:"MuiDigitalClock",slot:"Item",shouldForwardProp:e=>e!=="itemValue"&&e!=="formattedValue"})(({theme:e})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ee(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Ee(e.palette.primary.main,e.palette.action.focusOpacity)}})),CV=b.forwardRef(function(n,r){const s=Wt(),o=b.useRef(null),a=Xn(r,o),c=b.useRef(null),u=zt({props:n,name:"MuiDigitalClock"}),{ampm:d=s.is12HourCycleInCurrentLocale(),timeStep:h=30,autoFocus:p,slots:m,slotProps:x,value:y,defaultValue:g,referenceDate:w,disableIgnoringDatePartForTimeValidation:j=!1,maxTime:P,minTime:C,disableFuture:A,disablePast:E,minutesStep:T=1,shouldDisableTime:R,onChange:N,view:M,openTo:W,onViewChange:B,focusedView:q,onFocusedViewChange:k,className:Y,classes:U,disabled:H,readOnly:X,views:se=["hours"],skipDisabled:ne=!1,timezone:ee}=u,G=tt(u,yV),{value:re,handleValueChange:Pe,timezone:fe}=Fo({name:"DigitalClock",timezone:ee,value:y,defaultValue:g,referenceDate:w,onChange:N,valueManager:ar}),Ie=cs(),le=Oi(fe),{ownerState:oe}=Sn(),L=V({},oe,{hasDigitalClockAlreadyBeenRendered:!!o.current}),he=vV(U),ie=(m==null?void 0:m.digitalClockItem)??SV,ae=kt({elementType:ie,externalSlotProps:x==null?void 0:x.digitalClockItem,ownerState:L,className:he.item}),te=Hj({value:re,referenceDate:w,utils:s,props:u,timezone:fe}),Ce=Fe(Ne=>Pe(Ne,"finish","hours")),{setValueAndGoToNextView:ve}=fu({view:M,views:se,openTo:W,onViewChange:B,onChange:Ce,focusedView:q,onFocusedViewChange:k}),ge=Fe(Ne=>{ve(Ne,"finish")});Yr(()=>{if(o.current===null)return;const Ne=o.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!Ne)return;const K=Ne.offsetTop;(p||q)&&Ne.focus(),o.current.scrollTop=K-4});const Ae=b.useCallback(Ne=>{const K=hu(j,s),me=()=>!(C&&K(C,Ne)||P&&K(Ne,P)||A&&K(Ne,le)||E&&K(le,Ne)),Xe=()=>s.getMinutes(Ne)%T!==0?!1:R?!R(Ne,"hours"):!0;return!me()||!Xe()},[j,s,C,P,A,le,E,T,R]),_e=b.useMemo(()=>{const Ne=[];let me=s.startOfDay(te);for(;s.isSameDay(te,me);)Ne.push(me),me=s.addMinutes(me,h);return Ne},[te,h,s]),Qe=_e.findIndex(Ne=>s.isEqual(Ne,te)),ke=Ne=>{switch(Ne.key){case"PageUp":{const K=Oc(c.current)-5,me=c.current.children,Xe=Math.max(0,K),jt=me[Xe];jt&&jt.focus(),Ne.preventDefault();break}case"PageDown":{const K=Oc(c.current)+5,me=c.current.children,Xe=Math.min(me.length-1,K),jt=me[Xe];jt&&jt.focus(),Ne.preventDefault();break}}};return t.jsx(jV,V({ref:a,className:Kt(he.root,Y),ownerState:L},G,{children:t.jsx(wV,{ref:c,role:"listbox","aria-label":Ie.timePickerToolbarTitle,className:he.list,onKeyDown:ke,children:_e.map((Ne,K)=>{const me=Ae(Ne);if(ne&&me)return null;const Xe=s.isEqual(Ne,re),jt=s.format(Ne,d?"fullTime12h":"fullTime24h"),Lt=Qe===K||Qe===-1&&K===0?0:-1;return t.jsx(ie,V({onClick:()=>!X&&ge(Ne),selected:Xe,disabled:H||me,disableRipple:X,role:"option","aria-disabled":X,"aria-selected":Xe,tabIndex:Lt,itemValue:Ne,formattedValue:jt},ae,{children:jt}),`${Ne.valueOf()}-${jt}`)})})}))});function PV(e){return en("MuiMultiSectionDigitalClock",e)}const Fh=ln("MuiMultiSectionDigitalClock",["root"]);function DV(e){return en("MuiMultiSectionDigitalClockSection",e)}const Wh=ln("MuiMultiSectionDigitalClockSection",["root","item"]),TV=["autoFocus","onChange","className","classes","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],IV=e=>Gt({root:["root"],item:["item"]},DV,e),EV=Me(ky,{name:"MuiMultiSectionDigitalClockSection",slot:"Root"})(({theme:e})=>({maxHeight:Fj,width:56,padding:0,overflow:"hidden",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(e.vars||e).palette.divider}`},"&::after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"},variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),AV=Me(je,{name:"MuiMultiSectionDigitalClockSection",slot:"Item"})(({theme:e})=>({padding:8,margin:"2px 4px",width:la,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ee(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Ee(e.palette.primary.main,e.palette.action.focusOpacity)}})),RV=b.forwardRef(function(n,r){const s=b.useRef(null),o=Xn(r,s),a=b.useRef(null),c=zt({props:n,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:u,onChange:d,className:h,classes:p,disabled:m,readOnly:x,items:y,active:g,slots:w,slotProps:j,skipDisabled:P}=c,C=tt(c,TV),{ownerState:A}=Sn(),E=V({},A,{hasDigitalClockAlreadyBeenRendered:!!s.current}),T=IV(p),R=(w==null?void 0:w.digitalClockSectionItem)??AV;Yr(()=>{if(s.current===null)return;const W=s.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(g&&u&&W&&W.focus(),!W||a.current===W)return;a.current=W;const B=W.offsetTop;s.current.scrollTop=B-4});const N=y.findIndex(W=>W.isFocused(W.value)),M=W=>{switch(W.key){case"PageUp":{const B=Oc(s.current)-5,q=s.current.children,k=Math.max(0,B),Y=q[k];Y&&Y.focus(),W.preventDefault();break}case"PageDown":{const B=Oc(s.current)+5,q=s.current.children,k=Math.min(q.length-1,B),Y=q[k];Y&&Y.focus(),W.preventDefault();break}}};return t.jsx(EV,V({ref:o,className:Kt(T.root,h),ownerState:E,autoFocusItem:u&&g,role:"listbox",onKeyDown:M},C,{children:y.map((W,B)=>{var H;const q=(H=W.isDisabled)==null?void 0:H.call(W,W.value),k=m||q;if(P&&k)return null;const Y=W.isSelected(W.value),U=N===B||N===-1&&B===0?0:-1;return t.jsx(R,V({onClick:()=>!x&&d(W.value),selected:Y,disabled:k,disableRipple:x,role:"option","aria-disabled":x||k||void 0,"aria-label":W.ariaLabel,"aria-selected":Y,tabIndex:U,className:T.item},j==null?void 0:j.digitalClockSectionItem,{children:W.label}),W.label)})}))}),_V=({now:e,value:n,utils:r,ampm:s,isDisabled:o,resolveAriaLabel:a,timeStep:c,valueOrReferenceDate:u})=>{const d=n?r.getHours(n):null,h=[],p=(y,g)=>{const w=g??d;return w===null?!1:s?y===12?w===12||w===0:w===y||w-12===y:w===y},m=y=>p(y,r.getHours(u)),x=s?11:23;for(let y=0;y<=x;y+=c){let g=r.format(r.setHours(e,y),s?"hours12h":"hours24h");const w=a(parseInt(g,10).toString());g=r.formatNumber(g),h.push({value:y,label:g,isSelected:p,isDisabled:o,isFocused:m,ariaLabel:w})}return h},py=({value:e,utils:n,isDisabled:r,timeStep:s,resolveLabel:o,resolveAriaLabel:a,hasValue:c=!0})=>{const u=h=>e===null?!1:c&&e===h,d=h=>e===h;return[...Array.from({length:Math.ceil(60/s)},(h,p)=>{const m=s*p;return{value:m,label:n.formatNumber(o(m)),isDisabled:r,isSelected:u,isFocused:d,ariaLabel:a(m.toString())}})]},OV=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","skipDisabled","timezone"],MV=e=>Gt({root:["root"]},PV,e),kV=Me(Hp,{name:"MuiMultiSectionDigitalClock",slot:"Root"})(({theme:e})=>({flexDirection:"row",width:"100%",borderBottom:`1px solid ${(e.vars||e).palette.divider}`})),NV=b.forwardRef(function(n,r){const s=Wt(),o=vs(),a=zt({props:n,name:"MuiMultiSectionDigitalClock"}),{ampm:c=s.is12HourCycleInCurrentLocale(),timeSteps:u,autoFocus:d,slots:h,slotProps:p,value:m,defaultValue:x,referenceDate:y,disableIgnoringDatePartForTimeValidation:g=!1,maxTime:w,minTime:j,disableFuture:P,disablePast:C,minutesStep:A=1,shouldDisableTime:E,onChange:T,view:R,views:N=["hours","minutes"],openTo:M,onViewChange:W,focusedView:B,onFocusedViewChange:q,className:k,classes:Y,disabled:U,readOnly:H,skipDisabled:X=!1,timezone:se}=a,ne=tt(a,OV),{value:ee,handleValueChange:G,timezone:re}=Fo({name:"MultiSectionDigitalClock",timezone:se,value:m,defaultValue:x,referenceDate:y,onChange:T,valueManager:ar}),Pe=cs(),fe=Oi(re),Ie=b.useMemo(()=>V({hours:1,minutes:5,seconds:5},u),[u]),le=Hj({value:ee,referenceDate:y,utils:s,props:a,timezone:re}),oe=Fe((K,me,Xe)=>G(K,me,Xe)),L=b.useMemo(()=>!c||!N.includes("hours")||N.includes("meridiem")?N:[...N,"meridiem"],[c,N]),{view:he,setValueAndGoToNextView:ie,focusedView:ae}=fu({view:R,views:L,openTo:M,onViewChange:W,onChange:oe,focusedView:B,onFocusedViewChange:q}),te=Fe(K=>{ie(K,"finish","meridiem")}),{meridiemMode:Ce,handleMeridiemChange:ve}=$j(le,c,te,"finish"),ge=b.useCallback((K,me)=>{const Xe=hu(g,s),jt=me==="hours"||me==="minutes"&&L.includes("seconds"),tn=({start:At,end:Yt})=>!(j&&Xe(j,Yt)||w&&Xe(At,w)||P&&Xe(At,fe)||C&&Xe(fe,jt?Yt:At)),Lt=(At,Yt=1)=>{if(At%Yt!==0)return!1;if(E)switch(me){case"hours":return!E(s.setHours(le,At),"hours");case"minutes":return!E(s.setMinutes(le,At),"minutes");case"seconds":return!E(s.setSeconds(le,At),"seconds");default:return!1}return!0};switch(me){case"hours":{const At=Nh(K,Ce,c),Yt=s.setHours(le,At);if(s.getHours(Yt)!==At)return!0;const On=s.setSeconds(s.setMinutes(Yt,0),0),ct=s.setSeconds(s.setMinutes(Yt,59),59);return!tn({start:On,end:ct})||!Lt(At)}case"minutes":{const At=s.setMinutes(le,K),Yt=s.setSeconds(At,0),On=s.setSeconds(At,59);return!tn({start:Yt,end:On})||!Lt(K,A)}case"seconds":{const At=s.setSeconds(le,K);return!tn({start:At,end:At})||!Lt(K)}default:throw new Error("not supported")}},[c,le,g,w,Ce,j,A,E,s,P,C,fe,L]),Ae=b.useCallback(K=>{switch(K){case"hours":return{onChange:me=>{const Xe=Nh(me,Ce,c);ie(s.setHours(le,Xe),"finish","hours")},items:_V({now:fe,value:ee,ampm:c,utils:s,isDisabled:me=>ge(me,"hours"),timeStep:Ie.hours,resolveAriaLabel:Pe.hoursClockNumberText,valueOrReferenceDate:le})};case"minutes":return{onChange:me=>{ie(s.setMinutes(le,me),"finish","minutes")},items:py({value:s.getMinutes(le),utils:s,isDisabled:me=>ge(me,"minutes"),resolveLabel:me=>s.format(s.setMinutes(fe,me),"minutes"),timeStep:Ie.minutes,hasValue:!!ee,resolveAriaLabel:Pe.minutesClockNumberText})};case"seconds":return{onChange:me=>{ie(s.setSeconds(le,me),"finish","seconds")},items:py({value:s.getSeconds(le),utils:s,isDisabled:me=>ge(me,"seconds"),resolveLabel:me=>s.format(s.setSeconds(fe,me),"seconds"),timeStep:Ie.seconds,hasValue:!!ee,resolveAriaLabel:Pe.secondsClockNumberText})};case"meridiem":{const me=ma(s,"am"),Xe=ma(s,"pm");return{onChange:ve,items:[{value:"am",label:me,isSelected:()=>!!ee&&Ce==="am",isFocused:()=>!!le&&Ce==="am",ariaLabel:me},{value:"pm",label:Xe,isSelected:()=>!!ee&&Ce==="pm",isFocused:()=>!!le&&Ce==="pm",ariaLabel:Xe}]}}default:throw new Error(`Unknown view: ${K} found.`)}},[fe,ee,c,s,Ie.hours,Ie.minutes,Ie.seconds,Pe.hoursClockNumberText,Pe.minutesClockNumberText,Pe.secondsClockNumberText,Ce,ie,le,ge,ve]),_e=b.useMemo(()=>{if(!o)return L;const K=L.filter(me=>me!=="meridiem");return K.reverse(),L.includes("meridiem")&&K.push("meridiem"),K},[o,L]),Qe=b.useMemo(()=>L.reduce((K,me)=>V({},K,{[me]:Ae(me)}),{}),[L,Ae]),{ownerState:ke}=Sn(),Ne=MV(Y);return t.jsx(kV,V({ref:r,className:Kt(Ne.root,k),ownerState:ke,role:"group"},ne,{children:_e.map(K=>t.jsx(RV,{items:Qe[K].items,onChange:Qe[K].onChange,active:he===K,autoFocus:d||ae===K,disabled:U,readOnly:H,slots:h,slotProps:p,skipDisabled:X,"aria-label":Pe.selectViewText(K)},K))}))});function LV(e){return en("MuiPickersDay",e)}const Do=ln("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]);function Gj(e){const{disabled:n,selected:r,today:s,outsideCurrentMonth:o,day:a,disableMargin:c,disableHighlightToday:u,showDaysOutsideCurrentMonth:d}=e,h=Wt(),{ownerState:p}=Sn();return b.useMemo(()=>V({},p,{day:a,isDaySelected:r??!1,isDayDisabled:n??!1,isDayCurrent:s??!1,isDayOutsideMonth:o??!1,isDayStartOfWeek:h.isSameDay(a,h.startOfWeek(a)),isDayEndOfWeek:h.isSameDay(a,h.endOfWeek(a)),disableMargin:c??!1,disableHighlightToday:u??!1,showDaysOutsideCurrentMonth:d??!1}),[h,p,a,r,n,s,o,c,u,d])}const $V=["autoFocus","className","classes","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","children","isFirstVisibleCell","isLastVisibleCell","day","selected","disabled","today","outsideCurrentMonth","disableMargin","disableHighlightToday","showDaysOutsideCurrentMonth"],FV=(e,n)=>{const{isDaySelected:r,isDayDisabled:s,isDayCurrent:o,isDayOutsideMonth:a,disableMargin:c,disableHighlightToday:u,showDaysOutsideCurrentMonth:d}=n,h=a&&!d;return Gt({root:["root",r&&!h&&"selected",s&&"disabled",!c&&"dayWithMargin",!u&&o&&"today",a&&d&&"dayOutsideMonth",h&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},LV,e)},Yj=({theme:e})=>V({},e.typography.caption,{width:Ra,height:Ra,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ee(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Ee(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${Do.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${Do.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${Do.disabled}:not(.${Do.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${Do.disabled}&.${Do.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${pu}px`}},{props:{isDayOutsideMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(e.vars||e).palette.text.secondary}},{props:{disableHighlightToday:!1,isDayCurrent:!0},style:{[`&:not(.${Do.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}}]}),qj=(e,n)=>{const{ownerState:r}=e;return[n.root,!r.disableMargin&&n.dayWithMargin,!r.disableHighlightToday&&r.isDayCurrent&&n.today,!r.isDayOutsideMonth&&r.showDaysOutsideCurrentMonth&&n.dayOutsideMonth,r.isDayOutsideMonth&&!r.showDaysOutsideCurrentMonth&&n.hiddenDaySpacingFiller]},WV=Me(ZI,{name:"MuiPickersDay",slot:"Root",overridesResolver:qj})(Yj),BV=Me("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:qj})(({theme:e})=>V({},Yj({theme:e}),{opacity:0,pointerEvents:"none"})),oa=()=>{},VV=b.forwardRef(function(n,r){const s=zt({props:n,name:"MuiPickersDay"}),{autoFocus:o=!1,className:a,classes:c,isAnimating:u,onClick:d,onDaySelect:h,onFocus:p=oa,onBlur:m=oa,onKeyDown:x=oa,onMouseDown:y=oa,onMouseEnter:g=oa,children:w,day:j,selected:P,disabled:C,today:A,outsideCurrentMonth:E,disableMargin:T,disableHighlightToday:R,showDaysOutsideCurrentMonth:N}=s,M=tt(s,$V),W=Gj({day:j,selected:P,disabled:C,today:A,outsideCurrentMonth:E,disableMargin:T,disableHighlightToday:R,showDaysOutsideCurrentMonth:N}),B=FV(c,W),q=Wt(),k=b.useRef(null),Y=Xn(k,r);Yr(()=>{o&&!C&&!u&&!E&&k.current.focus()},[o,C,u,E]);const U=X=>{y(X),E&&X.preventDefault()},H=X=>{C||h(j),E&&X.currentTarget.focus(),d&&d(X)};return E&&!N?t.jsx(BV,{className:Kt(B.root,B.hiddenDaySpacingFiller,a),ownerState:W,role:M.role}):t.jsx(WV,V({className:Kt(B.root,a),ref:Y,centerRipple:!0,disabled:C,tabIndex:P?0:-1,onKeyDown:X=>x(X,j),onFocus:X=>p(X,j),onBlur:X=>m(X,j),onMouseEnter:X=>g(X,j),onClick:H,onMouseDown:U},M,{ownerState:W,children:w||q.format(j,"dayOfMonth")}))}),UV=b.memo(VV),Bh=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],Vh=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],Kj=["minDateTime","maxDateTime"],zV=[...Bh,...Vh,...Kj],Jj=e=>zV.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{}),HV=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","unstableStartFieldRef","unstableEndFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator","autoFocus","focused"],Xj=(e,n)=>b.useMemo(()=>{const r=V({},e),s={},o=a=>{r.hasOwnProperty(a)&&(s[a]=r[a],delete r[a])};return HV.forEach(o),n==="date"?Bh.forEach(o):n==="time"?Vh.forEach(o):n==="date-time"&&(Bh.forEach(o),Vh.forEach(o),Kj.forEach(o)),{forwardedProps:r,internalProps:s}},[e,n]),GV=({utils:e,format:n})=>{let r=10,s=n,o=e.expandFormat(n);for(;o!==s;)if(s=o,o=e.expandFormat(s),r-=1,r<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the component.");return o},YV=({utils:e,expandedFormat:n})=>{const r=[],{start:s,end:o}=e.escapedCharacters,a=new RegExp(`(\\${s}[^\\${o}]*\\${o})+`,"g");let c=null;for(;c=a.exec(n);)r.push({start:c.index,end:a.lastIndex-1});return r},qV=(e,n,r,s)=>{switch(r.type){case"year":return n.fieldYearPlaceholder({digitAmount:e.formatByString(e.date(void 0,"default"),s).length,format:s});case"month":return n.fieldMonthPlaceholder({contentType:r.contentType,format:s});case"day":return n.fieldDayPlaceholder({format:s});case"weekDay":return n.fieldWeekDayPlaceholder({contentType:r.contentType,format:s});case"hours":return n.fieldHoursPlaceholder({format:s});case"minutes":return n.fieldMinutesPlaceholder({format:s});case"seconds":return n.fieldSecondsPlaceholder({format:s});case"meridiem":return n.fieldMeridiemPlaceholder({format:s});default:return s}},KV=({utils:e,date:n,shouldRespectLeadingZeros:r,localeText:s,localizedDigits:o,now:a,token:c,startSeparator:u})=>{if(c==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const d=Bj(e,c),h=zj(e,d.contentType,d.type,c),p=r?h:d.contentType==="digit",m=e.isValid(n);let x=m?e.formatByString(n,c):"",y=null;if(p)if(h)y=x===""?e.formatByString(a,c).length:x.length;else{if(d.maxLength==null)throw new Error(`MUI X: The token ${c} should have a 'maxLength' property on it's adapter`);y=d.maxLength,m&&(x=qp(Kp(ko(x,o),y),o))}return V({},d,{format:c,maxLength:y,value:x,placeholder:qV(e,s,d,c),hasLeadingZerosInFormat:h,hasLeadingZerosInInput:p,startSeparator:u,endSeparator:"",modified:!1})},JV=e=>{var y;const{utils:n,expandedFormat:r,escapedParts:s}=e,o=n.date(void 0),a=[];let c="";const u=Object.keys(n.formatTokenMap).sort((g,w)=>w.length-g.length),d=/^([a-zA-Z]+)/,h=new RegExp(`^(${u.join("|")})*$`),p=new RegExp(`^(${u.join("|")})`),m=g=>s.find(w=>w.start<=g&&w.end>=g);let x=0;for(;x<r.length;){const g=m(x),w=g!=null,j=(y=d.exec(r.slice(x)))==null?void 0:y[1];if(!w&&j!=null&&h.test(j)){let P=j;for(;P.length>0;){const C=p.exec(P)[1];P=P.slice(C.length),a.push(KV(V({},e,{now:o,token:C,startSeparator:c}))),c=""}x+=j.length}else{const P=r[x];w&&(g==null?void 0:g.start)===x||(g==null?void 0:g.end)===x||(a.length===0?c+=P:(a[a.length-1].endSeparator+=P,a[a.length-1].isEndFormatSeparator=!0)),x+=1}}return a.length===0&&c.length>0&&a.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:c,endSeparator:"",modified:!1}),a},XV=({isRtl:e,formatDensity:n,sections:r})=>r.map(s=>{const o=a=>{let c=a;return e&&c!==null&&c.includes(" ")&&(c=`⁩${c}⁦`),n==="spacious"&&["/",".","-"].includes(c)&&(c=` ${c} `),c};return s.startSeparator=o(s.startSeparator),s.endSeparator=o(s.endSeparator),s}),my=e=>{let n=GV(e);e.isRtl&&e.enableAccessibleFieldDOMStructure&&(n=n.split(" ").reverse().join(" "));const r=YV(V({},e,{expandedFormat:n})),s=JV(V({},e,{expandedFormat:n,escapedParts:r}));return XV(V({},e,{sections:s}))},Xp=()=>b.useContext(zp),QV=()=>{const e=b.useContext(Oj);if(e==null)throw new Error(["MUI X: The `usePickerActionsContext` can only be called in fields that are used as a slot of a Picker component"].join(`
`));return e},si=e=>e.saveQuery!=null,Qj=({stateResponse:{localizedDigits:e,sectionsValueBoundaries:n,state:r,timezone:s,setCharacterQuery:o,setTempAndroidValueStr:a,updateSectionValue:c}})=>{const u=Wt(),d=({keyPressed:m,sectionIndex:x},y,g)=>{const w=m.toLowerCase(),j=r.sections[x];if(r.characterQuery!=null&&(!g||g(r.characterQuery.value))&&r.characterQuery.sectionIndex===x){const C=`${r.characterQuery.value}${w}`,A=y(C,j);if(!si(A))return o({sectionIndex:x,value:C,sectionType:j.type}),A}const P=y(w,j);return si(P)&&!P.saveQuery?(o(null),null):(o({sectionIndex:x,value:w,sectionType:j.type}),si(P)?null:P)},h=m=>{const x=(w,j,P)=>{const C=j.filter(A=>A.toLowerCase().startsWith(P));return C.length===0?{saveQuery:!1}:{sectionValue:C[0],shouldGoToNextSection:C.length===1}},y=(w,j,P,C)=>{const A=E=>Vj(u,s,j.type,E);if(j.contentType==="letter")return x(j.format,A(j.format),w);if(P&&C!=null&&Bj(u,P).contentType==="letter"){const E=A(P),T=x(P,E,w);return si(T)?{saveQuery:!1}:V({},T,{sectionValue:C(T.sectionValue,E)})}return{saveQuery:!1}};return d(m,(w,j)=>{switch(j.type){case"month":{const P=C=>dy(u,C,u.formats.month,j.format);return y(w,j,u.formats.month,P)}case"weekDay":{const P=(C,A)=>A.indexOf(C).toString();return y(w,j,u.formats.weekday,P)}case"meridiem":return y(w,j);default:return{saveQuery:!1}}})},p=m=>{const x=(g,w)=>{const j=ko(g,e),P=Number(j),C=n[w.type]({currentDate:null,format:w.format,contentType:w.contentType});if(P>C.maximum)return{saveQuery:!1};if(P<C.minimum)return{saveQuery:!0};const A=P*10>C.maximum||j.length===C.maximum.toString().length;return{sectionValue:Uj(u,P,C,e,w),shouldGoToNextSection:A}};return d(m,(g,w)=>{if(w.contentType==="digit"||w.contentType==="digit-with-letter")return x(g,w);if(w.type==="month"){const j=zj(u,"digit","month","MM"),P=x(g,{type:w.type,format:"MM",hasLeadingZerosInFormat:j,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(si(P))return P;const C=dy(u,P.sectionValue,"MM",w.format);return V({},P,{sectionValue:C})}if(w.type==="weekDay"){const j=x(g,w);if(si(j))return j;const P=mu(u,w.format)[Number(j.sectionValue)-1];return V({},j,{sectionValue:P})}return{saveQuery:!1}},g=>uy(g,e))};return Fe(m=>{const x=r.sections[m.sectionIndex],g=uy(m.keyPressed,e)?p(V({},m,{keyPressed:qp(m.keyPressed,e)})):h(m);if(g==null){a(null);return}c({section:x,newSectionValue:g.sectionValue,shouldGoToNextSection:g.shouldGoToNextSection})})},Qp=({props:e,value:n,timezone:r,adapter:s})=>{if(n===null)return null;const{shouldDisableDate:o,shouldDisableMonth:a,shouldDisableYear:c,disablePast:u,disableFuture:d,minDate:h,maxDate:p}=e,m=s.utils.date(void 0,r);switch(!0){case!s.utils.isValid(n):return"invalidDate";case!!(o&&o(n)):return"shouldDisableDate";case!!(a&&a(n)):return"shouldDisableMonth";case!!(c&&c(n)):return"shouldDisableYear";case!!(d&&s.utils.isAfterDay(n,m)):return"disableFuture";case!!(u&&s.utils.isBeforeDay(n,m)):return"disablePast";case!!(h&&s.utils.isBeforeDay(n,h)):return"minDate";case!!(p&&s.utils.isAfterDay(n,p)):return"maxDate";default:return null}};Qp.valueManager=ar;const Zj=({adapter:e,value:n,timezone:r,props:s})=>{if(n===null)return null;const{minTime:o,maxTime:a,minutesStep:c,shouldDisableTime:u,disableIgnoringDatePartForTimeValidation:d=!1,disablePast:h,disableFuture:p}=s,m=e.utils.date(void 0,r),x=hu(d,e.utils);switch(!0){case!e.utils.isValid(n):return"invalidDate";case!!(o&&x(o,n)):return"minTime";case!!(a&&x(n,a)):return"maxTime";case!!(p&&e.utils.isAfter(n,m)):return"disableFuture";case!!(h&&e.utils.isBefore(n,m)):return"disablePast";case!!(u&&u(n,"hours")):return"shouldDisableTime-hours";case!!(u&&u(n,"minutes")):return"shouldDisableTime-minutes";case!!(u&&u(n,"seconds")):return"shouldDisableTime-seconds";case!!(c&&e.utils.getMinutes(n)%c!==0):return"minutesStep";default:return null}};Zj.valueManager=ar;const xu=({adapter:e,value:n,timezone:r,props:s})=>{const o=Qp({adapter:e,value:n,timezone:r,props:s});return o!==null?o:Zj({adapter:e,value:n,timezone:r,props:s})};xu.valueManager=ar;function ew(e){const{props:n,validator:r,value:s,timezone:o,onError:a}=e,c=$o(),u=b.useRef(r.valueManager.defaultErrorState),d=r({adapter:c,value:s,timezone:o,props:n}),h=r.valueManager.hasError(d);b.useEffect(()=>{a&&!r.valueManager.isSameError(d,u.current)&&a(d,s),u.current=d},[r,a,d,s]);const p=Fe(m=>r({adapter:c,value:m,timezone:o,props:n}));return{validationError:d,hasValidationError:h,getValidationErrorForNewValue:p}}const ZV=5e3,tw=e=>{var Qe;const n=Wt(),r=cs(),s=$o(),o=vs(),{manager:{validator:a,valueType:c,internal_valueManager:u,internal_fieldValueManager:d},internalPropsWithDefaults:h,internalPropsWithDefaults:{value:p,defaultValue:m,referenceDate:x,onChange:y,format:g,formatDensity:w="dense",selectedSections:j,onSelectedSectionsChange:P,shouldRespectLeadingZeros:C=!1,timezone:A,enableAccessibleFieldDOMStructure:E=!0},forwardedProps:{error:T}}=e,{value:R,handleValueChange:N,timezone:M}=Fo({name:"a field component",timezone:A,value:p,defaultValue:m,referenceDate:x,onChange:y,valueManager:u}),W=b.useRef(R);b.useEffect(()=>{W.current=R},[R]);const{hasValidationError:B}=ew({props:h,validator:a,timezone:M,value:R,onError:h.onError}),q=b.useMemo(()=>T!==void 0?T:B,[B,T]),k=b.useMemo(()=>rV(n),[n]),Y=b.useMemo(()=>lV(n,k,M),[n,k,M]),U=b.useCallback(ke=>d.getSectionsFromValue(ke,Ne=>my({utils:n,localeText:r,localizedDigits:k,format:g,date:Ne,formatDensity:w,shouldRespectLeadingZeros:C,enableAccessibleFieldDOMStructure:E,isRtl:o})),[d,g,r,k,o,C,n,w,E]),[H,X]=b.useState(()=>{const ke=U(R),Ne={sections:ke,lastExternalValue:R,lastSectionsDependencies:{format:g,isRtl:o,locale:n.locale},tempValueStrAndroid:null,characterQuery:null},K=eV(ke),me=u.getInitialReferenceValue({referenceDate:x,value:R,utils:n,props:h,granularity:K,timezone:M});return V({},Ne,{referenceValue:me})}),[se,ne]=ji({controlled:j,default:null,name:"useField",state:"selectedSections"}),ee=ke=>{ne(ke),P==null||P(ke)},G=b.useMemo(()=>Lh(se,H.sections),[se,H.sections]),re=G==="all"?0:G,Pe=b.useMemo(()=>dV(H.sections,o&&!E),[H.sections,o,E]),fe=b.useMemo(()=>H.sections.every(ke=>ke.value===""),[H.sections]),Ie=ke=>{const Ne={validationError:a({adapter:s,value:ke,timezone:M,props:h})};N(ke,Ne)},le=(ke,Ne)=>{const K=[...H.sections];return K[ke]=V({},K[ke],{value:Ne,modified:!0}),K},oe=b.useRef(null),L=ui(),he=ke=>{re!=null&&(oe.current={sectionIndex:re,value:ke},L.start(0,()=>{oe.current=null}))},ie=()=>{u.areValuesEqual(n,R,u.emptyValue)?X(ke=>V({},ke,{sections:ke.sections.map(Ne=>V({},Ne,{value:""})),tempValueStrAndroid:null,characterQuery:null})):(X(ke=>V({},ke,{characterQuery:null})),Ie(u.emptyValue))},ae=()=>{if(re==null)return;const ke=H.sections[re];ke.value!==""&&(he(""),d.getDateFromSection(R,ke)===null?X(Ne=>V({},Ne,{sections:le(re,""),tempValueStrAndroid:null,characterQuery:null})):(X(Ne=>V({},Ne,{characterQuery:null})),Ie(d.updateDateInValue(R,ke,null))))},te=ke=>{const Ne=(me,Xe)=>{const jt=n.parse(me,g);if(!n.isValid(jt))return null;const tn=my({utils:n,localeText:r,localizedDigits:k,format:g,date:jt,formatDensity:w,shouldRespectLeadingZeros:C,enableAccessibleFieldDOMStructure:E,isRtl:o});return fy(n,jt,tn,Xe,!1)},K=d.parseValueStr(ke,H.referenceValue,Ne);Ie(K)},Ce=ui(),ve=({section:ke,newSectionValue:Ne,shouldGoToNextSection:K})=>{L.clear(),Ce.clear();const me=d.getDateFromSection(R,ke);K&&re<H.sections.length-1&&ee(re+1);const Xe=le(re,Ne),jt=d.getDateSectionsFromValue(Xe,ke),tn=oV(n,jt,k);if(n.isValid(tn)){const Lt=fy(n,tn,jt,d.getDateFromSection(H.referenceValue,ke),!0);return me==null&&Ce.start(0,()=>{W.current===R&&X(At=>V({},At,{sections:d.clearDateSections(H.sections,ke),tempValueStrAndroid:null}))}),Ie(d.updateDateInValue(R,ke,Lt))}return jt.every(Lt=>Lt.value!=="")?(he(Ne),Ie(d.updateDateInValue(R,ke,tn))):me!=null?(he(Ne),Ie(d.updateDateInValue(R,ke,null))):X(Lt=>V({},Lt,{sections:Xe,tempValueStrAndroid:null}))},ge=ke=>X(Ne=>V({},Ne,{tempValueStrAndroid:ke})),Ae=Fe(ke=>{X(Ne=>V({},Ne,{characterQuery:ke}))});if(R!==H.lastExternalValue){let ke;oe.current!=null&&!n.isValid(d.getDateFromSection(R,H.sections[oe.current.sectionIndex]))?ke=le(oe.current.sectionIndex,oe.current.value):ke=U(R),X(Ne=>V({},Ne,{lastExternalValue:R,sections:ke,sectionsDependencies:{format:g,isRtl:o,locale:n.locale},referenceValue:d.updateReferenceValue(n,R,Ne.referenceValue),tempValueStrAndroid:null}))}if(o!==H.lastSectionsDependencies.isRtl||g!==H.lastSectionsDependencies.format||n.locale!==H.lastSectionsDependencies.locale){const ke=U(R);X(Ne=>V({},Ne,{lastSectionsDependencies:{format:g,isRtl:o,locale:n.locale},sections:ke,tempValueStrAndroid:null,characterQuery:null}))}H.characterQuery!=null&&!q&&re==null&&Ae(null),H.characterQuery!=null&&((Qe=H.sections[H.characterQuery.sectionIndex])==null?void 0:Qe.type)!==H.characterQuery.sectionType&&Ae(null),b.useEffect(()=>{oe.current!=null&&(oe.current=null)});const _e=ui();return b.useEffect(()=>(H.characterQuery!=null&&_e.start(ZV,()=>Ae(null)),()=>{}),[H.characterQuery,Ae,_e]),b.useEffect(()=>{H.tempValueStrAndroid!=null&&re!=null&&ae()},[H.sections]),{activeSectionIndex:re,areAllSectionsEmpty:fe,error:q,localizedDigits:k,parsedSelectedSections:G,sectionOrder:Pe,sectionsValueBoundaries:Y,state:H,timezone:M,value:R,clearValue:ie,clearActiveSection:ae,setCharacterQuery:Ae,setSelectedSections:ee,setTempAndroidValueStr:ge,updateSectionValue:ve,updateValueFromValueStr:te,getSectionsFromValue:U}};function nw(e){const{manager:{internal_useApplyDefaultValuesToFieldInternalProps:n},internalProps:r,skipContextFieldRefAssignment:s}=e,o=Xp(),a=_j(),c=Xn(r.unstableFieldRef,s?null:a==null?void 0:a.fieldRef),u=o==null?void 0:o.setValue,d=b.useCallback((p,m)=>u==null?void 0:u(p,{validationError:m.validationError,shouldClose:!1}),[u]),h=b.useMemo(()=>a!=null&&o!=null?V({value:o.value,onChange:d,timezone:o.timezone,disabled:o.disabled,readOnly:o.readOnly,autoFocus:o.autoFocus&&!o.open,focused:o.open?!0:void 0,format:o.fieldFormat,formatDensity:a.formatDensity,enableAccessibleFieldDOMStructure:a.enableAccessibleFieldDOMStructure,selectedSections:a.selectedSections,onSelectedSectionsChange:a.onSelectedSectionsChange,unstableFieldRef:c},r):r,[o,a,r,d,c]);return n(h)}function Zp(e){const{focused:n,domGetters:r,stateResponse:{parsedSelectedSections:s,state:o}}=e;if(!r.isReady())return;const a=document.getSelection();if(!a)return;if(s==null){a.rangeCount>0&&r.getRoot().contains(a.getRangeAt(0).startContainer)&&a.removeAllRanges(),n&&r.getRoot().blur();return}if(!r.getRoot().contains(Vn(document)))return;const c=new window.Range;let u;s==="all"?u=r.getRoot():o.sections[s].type==="empty"?u=r.getSectionContainer(s):u=r.getSectionContent(s),c.selectNodeContents(u),u.focus(),a.removeAllRanges(),a.addRange(c)}function rw(e){const n=Wt(),{manager:{internal_fieldValueManager:r},internalPropsWithDefaults:{minutesStep:s,disabled:o,readOnly:a},stateResponse:{state:c,value:u,activeSectionIndex:d,parsedSelectedSections:h,sectionsValueBoundaries:p,localizedDigits:m,timezone:x,sectionOrder:y,clearValue:g,clearActiveSection:w,setSelectedSections:j,updateSectionValue:P}}=e;return Fe(C=>{if(!o)switch(!0){case((C.ctrlKey||C.metaKey)&&String.fromCharCode(C.keyCode)==="A"&&!C.shiftKey&&!C.altKey):{C.preventDefault(),j("all");break}case C.key==="ArrowRight":{if(C.preventDefault(),h==null)j(y.startIndex);else if(h==="all")j(y.endIndex);else{const A=y.neighbors[h].rightIndex;A!==null&&j(A)}break}case C.key==="ArrowLeft":{if(C.preventDefault(),h==null)j(y.endIndex);else if(h==="all")j(y.startIndex);else{const A=y.neighbors[h].leftIndex;A!==null&&j(A)}break}case C.key==="Delete":{if(C.preventDefault(),a)break;h==null||h==="all"?g():w();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(C.key):{if(C.preventDefault(),a||d==null)break;h==="all"&&j(d);const A=c.sections[d],E=t6(n,x,A,C.key,p,m,r.getDateFromSection(u,A),{minutesStep:s});P({section:A,newSectionValue:E,shouldGoToNextSection:!1});break}}})}function e6(e){switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}}function t6(e,n,r,s,o,a,c,u){const d=e6(s),h=s==="Home",p=s==="End",m=r.value===""||h||p,x=()=>{const g=o[r.type]({currentDate:c,format:r.format,contentType:r.contentType}),w=C=>Uj(e,C,g,a,r),j=r.type==="minutes"&&(u!=null&&u.minutesStep)?u.minutesStep:1;let P;if(m){if(r.type==="year"&&!p&&!h)return e.formatByString(e.date(void 0,n),r.format);d>0||h?P=g.minimum:P=g.maximum}else P=parseInt(ko(r.value,a),10)+d*j;return P%j!==0&&((d<0||h)&&(P+=j-(j+P)%j),(d>0||p)&&(P-=P%j)),P>g.maximum?w(g.minimum+(P-g.maximum-1)%(g.maximum-g.minimum+1)):P<g.minimum?w(g.maximum-(g.minimum-P-1)%(g.maximum-g.minimum+1)):w(P)},y=()=>{const g=Vj(e,n,r.type,r.format);if(g.length===0)return r.value;if(m)return d>0||h?g[0]:g[g.length-1];const P=((g.indexOf(r.value)+d)%g.length+g.length)%g.length;return g[P]};return r.contentType==="digit"||r.contentType==="digit-with-letter"?x():y()}function n6(e){const{manager:n,focused:r,setFocused:s,domGetters:o,stateResponse:a,applyCharacterEditing:c,internalPropsWithDefaults:u,stateResponse:{parsedSelectedSections:d,sectionOrder:h,state:p,clearValue:m,setCharacterQuery:x,setSelectedSections:y,updateValueFromValueStr:g},internalPropsWithDefaults:{disabled:w=!1,readOnly:j=!1}}=e,P=rw({manager:n,internalPropsWithDefaults:u,stateResponse:a}),C=ui(),A=Fe(M=>{w||!o.isReady()||(s(!0),d==="all"?C.start(0,()=>{const W=document.getSelection().getRangeAt(0).startOffset;if(W===0){y(h.startIndex);return}let B=0,q=0;for(;q<W&&B<p.sections.length;){const k=p.sections[B];B+=1,q+=`${k.startSeparator}${k.value||k.placeholder}${k.endSeparator}`.length}y(B-1)}):r?o.getRoot().contains(M.target)||y(h.startIndex):(s(!0),y(h.startIndex)))}),E=Fe(M=>{if(!o.isReady()||d!=="all")return;const B=M.target.textContent??"";o.getRoot().innerHTML=p.sections.map(q=>`${q.startSeparator}${q.value||q.placeholder}${q.endSeparator}`).join(""),Zp({focused:r,domGetters:o,stateResponse:a}),B.length===0||B.charCodeAt(0)===10?(m(),y("all")):B.length>1?g(B):(d==="all"&&y(0),c({keyPressed:B,sectionIndex:0}))}),T=Fe(M=>{if(j||d!=="all"){M.preventDefault();return}const W=M.clipboardData.getData("text");M.preventDefault(),x(null),g(W)}),R=Fe(()=>{if(r||w||!o.isReady())return;const M=Vn(document);s(!0),o.getSectionIndexFromDOMElement(M)!=null||y(h.startIndex)}),N=Fe(()=>{setTimeout(()=>{if(!o.isReady())return;const M=Vn(document);!o.getRoot().contains(M)&&(s(!1),y(null))})});return{onKeyDown:P,onBlur:N,onFocus:R,onClick:A,onPaste:T,onInput:E,contentEditable:d==="all",tabIndex:d===0?-1:0}}function r6(e){const{manager:{internal_fieldValueManager:n},stateResponse:{areAllSectionsEmpty:r,state:s,updateValueFromValueStr:o}}=e,a=Fe(u=>{o(u.target.value)});return{value:b.useMemo(()=>r?"":n.getV7HiddenInputValueFromSections(s.sections),[r,s.sections,n]),onChange:a}}function s6(e){const{stateResponse:{setSelectedSections:n},internalPropsWithDefaults:{disabled:r=!1}}=e,s=Fe(o=>a=>{r||a.isDefaultPrevented()||n(o)});return b.useCallback(o=>({"data-sectionindex":o,onClick:s(o)}),[s])}function o6(e){const n=Wt(),r=cs(),s=du(),{focused:o,domGetters:a,stateResponse:c,applyCharacterEditing:u,manager:{internal_fieldValueManager:d},stateResponse:{parsedSelectedSections:h,sectionsValueBoundaries:p,state:m,value:x,clearActiveSection:y,setCharacterQuery:g,setSelectedSections:w,updateSectionValue:j,updateValueFromValueStr:P},internalPropsWithDefaults:{disabled:C=!1,readOnly:A=!1}}=e,E=h==="all",T=!E&&!C&&!A,R=Fe(k=>{if(!a.isReady())return;const Y=m.sections[k];a.getSectionContent(k).innerHTML=Y.value||Y.placeholder,Zp({focused:o,domGetters:a,stateResponse:c})}),N=Fe(k=>{if(!a.isReady())return;const Y=k.target,U=Y.textContent??"",H=a.getSectionIndexFromDOMElement(Y),X=m.sections[H];if(A){R(H);return}if(U.length===0){if(X.value===""){R(H);return}const se=k.nativeEvent.inputType;if(se==="insertParagraph"||se==="insertLineBreak"){R(H);return}R(H),y();return}u({keyPressed:U,sectionIndex:H}),R(H)}),M=Fe(k=>{k.preventDefault()}),W=Fe(k=>{if(k.preventDefault(),A||C||typeof h!="number")return;const Y=m.sections[h],U=k.clipboardData.getData("text"),H=/^[a-zA-Z]+$/.test(U),X=/^[0-9]+$/.test(U),se=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(U);Y.contentType==="letter"&&H||Y.contentType==="digit"&&X||Y.contentType==="digit-with-letter"&&se?(g(null),j({section:Y,newSectionValue:U,shouldGoToNextSection:!0})):!H&&!X&&(g(null),P(U))}),B=Fe(k=>{k.preventDefault(),k.dataTransfer.dropEffect="none"}),q=Fe(k=>()=>{C||w(k)});return b.useCallback((k,Y)=>{const U=p[k.type]({currentDate:d.getDateFromSection(x,k),contentType:k.contentType,format:k.format});return{onInput:N,onPaste:W,onMouseUp:M,onDragOver:B,onFocus:q(Y),"aria-labelledby":`${s}-${k.type}`,"aria-readonly":A,"aria-valuenow":a6(k,n),"aria-valuemin":U.minimum,"aria-valuemax":U.maximum,"aria-valuetext":k.value?i6(k,n):r.empty,"aria-label":r[k.type],"aria-disabled":C,tabIndex:E||Y>0?-1:0,contentEditable:!E&&!C&&!A,role:"spinbutton",id:`${s}-${k.type}`,"data-range-position":k.dateName||void 0,spellCheck:T?!1:void 0,autoCapitalize:T?"off":void 0,autoCorrect:T?"off":void 0,children:k.value||k.placeholder,inputMode:k.contentType==="letter"?"text":"numeric"}},[p,s,E,C,A,T,r,n,N,W,M,B,q,d,x])}function i6(e,n){if(e.value)switch(e.type){case"month":{if(e.contentType==="digit")return n.format(n.setMonth(n.date(),Number(e.value)-1),"month");const r=n.parse(e.value,e.format);return r?n.format(r,"month"):void 0}case"day":return e.contentType==="digit"?n.format(n.setDate(n.startOfYear(n.date()),Number(e.value)),"dayOfMonthFull"):e.value;case"weekDay":return;default:return}}function a6(e,n){if(e.value)switch(e.type){case"weekDay":return e.contentType==="letter"?void 0:Number(e.value);case"meridiem":{const r=n.parse(`01:00 ${e.value}`,`${n.formats.hours12h}:${n.formats.minutes} ${e.format}`);return r?n.getHours(r)>=12?1:0:void 0}case"day":return e.contentType==="digit-with-letter"?parseInt(e.value,10):Number(e.value);case"month":{if(e.contentType==="digit")return Number(e.value);const r=n.parse(e.value,e.format);return r?n.getMonth(r)+1:void 0}default:return e.contentType!=="letter"?Number(e.value):void 0}}const l6=e=>{const{props:n,manager:r,skipContextFieldRefAssignment:s,manager:{valueType:o,internal_useOpenPickerButtonAriaLabel:a}}=e,{internalProps:c,forwardedProps:u}=Xj(n,o),d=nw({manager:r,internalProps:c,skipContextFieldRefAssignment:s}),{sectionListRef:h,onBlur:p,onClick:m,onFocus:x,onInput:y,onPaste:g,onKeyDown:w,onClear:j,clearable:P}=u,{disabled:C=!1,readOnly:A=!1,autoFocus:E=!1,focused:T,unstableFieldRef:R}=d,N=b.useRef(null),M=Xn(h,N),W=b.useMemo(()=>({isReady:()=>N.current!=null,getRoot:()=>N.current.getRoot(),getSectionContainer:_e=>N.current.getSectionContainer(_e),getSectionContent:_e=>N.current.getSectionContent(_e),getSectionIndexFromDOMElement:_e=>N.current.getSectionIndexFromDOMElement(_e)}),[N]),B=tw({manager:r,internalPropsWithDefaults:d,forwardedProps:u}),{areAllSectionsEmpty:q,error:k,parsedSelectedSections:Y,sectionOrder:U,state:H,value:X,clearValue:se,setSelectedSections:ne}=B,ee=Qj({stateResponse:B}),G=a(X),[re,Pe]=b.useState(!1);function fe(_e=0){if(C||!N.current||xy(N)!=null)return;const Qe=Lh(_e,H.sections);Pe(!0),N.current.getSectionContent(Qe).focus()}const Ie=n6({manager:r,internalPropsWithDefaults:d,stateResponse:B,applyCharacterEditing:ee,focused:re,setFocused:Pe,domGetters:W}),le=r6({manager:r,stateResponse:B}),oe=s6({stateResponse:B,internalPropsWithDefaults:d}),L=o6({manager:r,stateResponse:B,applyCharacterEditing:ee,internalPropsWithDefaults:d,domGetters:W,focused:re}),he=Fe(_e=>{w==null||w(_e),Ie.onKeyDown(_e)}),ie=Fe(_e=>{p==null||p(_e),Ie.onBlur(_e)}),ae=Fe(_e=>{x==null||x(_e),Ie.onFocus(_e)}),te=Fe(_e=>{_e.isDefaultPrevented()||(m==null||m(_e),Ie.onClick(_e))}),Ce=Fe(_e=>{g==null||g(_e),Ie.onPaste(_e)}),ve=Fe(_e=>{y==null||y(_e),Ie.onInput(_e)}),ge=Fe((_e,...Qe)=>{_e.preventDefault(),j==null||j(_e,...Qe),se(),gy(N)?ne(U.startIndex):fe(0)}),Ae=b.useMemo(()=>H.sections.map((_e,Qe)=>{const ke=L(_e,Qe);return{container:oe(Qe),content:L(_e,Qe),before:{children:_e.startSeparator},after:{children:_e.endSeparator,"data-range-position":_e.isEndFormatSeparator?ke["data-range-position"]:void 0}}}),[H.sections,oe,L]);return b.useEffect(()=>{if(N.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please add the `enableAccessibleFieldDOMStructure={false}` prop to your Picker or Field component:","","<DatePicker enableAccessibleFieldDOMStructure={false} slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));E&&!C&&N.current&&N.current.getSectionContent(U.startIndex).focus()},[]),Yr(()=>{if(!(!re||!N.current)){if(Y==="all")N.current.getRoot().focus();else if(typeof Y=="number"){const _e=N.current.getSectionContent(Y);_e&&_e.focus()}}},[Y,re]),Yr(()=>{Zp({focused:re,domGetters:W,stateResponse:B})}),b.useImperativeHandle(R,()=>({getSections:()=>H.sections,getActiveSectionIndex:()=>xy(N),setSelectedSections:_e=>{if(C||!N.current)return;const Qe=Lh(_e,H.sections);Pe((Qe==="all"?0:Qe)!==null),ne(_e)},focusField:fe,isFieldFocused:()=>gy(N)})),V({},u,Ie,{onBlur:ie,onClick:te,onFocus:ae,onInput:ve,onPaste:Ce,onKeyDown:he,onClear:ge},le,{error:k,clearable:!!(P&&!q&&!A&&!C),focused:T??re,sectionListRef:M,enableAccessibleFieldDOMStructure:!0,elements:Ae,areAllSectionsEmpty:q,disabled:C,readOnly:A,autoFocus:E,openPickerAriaLabel:G})};function xy(e){const n=Vn(document);return!n||!e.current||!e.current.getRoot().contains(n)?null:e.current.getSectionIndexFromDOMElement(n)}function gy(e){const n=Vn(document);return!!e.current&&e.current.getRoot().contains(n)}const ii=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),c6=(e,n,r)=>{let s=0,o=r?1:0;const a=[];for(let c=0;c<e.length;c+=1){const u=e[c],d=Jp(u,r?"input-rtl":"input-ltr",n),h=`${u.startSeparator}${d}${u.endSeparator}`,p=ii(h).length,m=h.length,x=ii(d),y=o+(x===""?0:d.indexOf(x[0]))+u.startSeparator.length,g=y+x.length;a.push(V({},u,{start:s,end:s+p,startInInput:y,endInInput:g})),s+=p,o+=m}return a},u6=e=>{const n=vs(),r=ui(),s=ui(),{props:o,manager:a,skipContextFieldRefAssignment:c,manager:{valueType:u,internal_valueManager:d,internal_fieldValueManager:h,internal_useOpenPickerButtonAriaLabel:p}}=e,{internalProps:m,forwardedProps:x}=Xj(o,u),y=nw({manager:a,internalProps:m,skipContextFieldRefAssignment:c}),{onFocus:g,onClick:w,onPaste:j,onBlur:P,onKeyDown:C,onClear:A,clearable:E,inputRef:T,placeholder:R}=x,{readOnly:N=!1,disabled:M=!1,autoFocus:W=!1,focused:B,unstableFieldRef:q}=y,k=b.useRef(null),Y=Xn(T,k),U=tw({manager:a,internalPropsWithDefaults:y,forwardedProps:x}),{activeSectionIndex:H,areAllSectionsEmpty:X,error:se,localizedDigits:ne,parsedSelectedSections:ee,sectionOrder:G,state:re,value:Pe,clearValue:fe,clearActiveSection:Ie,setCharacterQuery:le,setSelectedSections:oe,setTempAndroidValueStr:L,updateSectionValue:he,updateValueFromValueStr:ie,getSectionsFromValue:ae}=U,te=Qj({stateResponse:U}),Ce=p(Pe),ve=b.useMemo(()=>c6(re.sections,ne,n),[re.sections,ne,n]);function ge(){const ct=k.current.selectionStart??0;let mt;ct<=ve[0].startInInput||ct>=ve[ve.length-1].endInInput?mt=1:mt=ve.findIndex(Ht=>Ht.startInInput-Ht.startSeparator.length>ct);const Rt=mt===-1?ve.length-1:mt-1;oe(Rt)}function Ae(ct=0){var mt;Vn(document)!==k.current&&((mt=k.current)==null||mt.focus(),oe(ct))}const _e=Fe(ct=>{g==null||g(ct);const mt=k.current;r.start(0,()=>{!mt||mt!==k.current||H==null&&(mt.value.length&&Number(mt.selectionEnd)-Number(mt.selectionStart)===mt.value.length?oe("all"):ge())})}),Qe=Fe((ct,...mt)=>{ct.isDefaultPrevented()||(w==null||w(ct,...mt),ge())}),ke=Fe(ct=>{if(j==null||j(ct),ct.preventDefault(),N||M)return;const mt=ct.clipboardData.getData("text");if(typeof ee=="number"){const Rt=re.sections[ee],Ht=/^[a-zA-Z]+$/.test(mt),Cn=/^[0-9]+$/.test(mt),cn=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(mt);if(Rt.contentType==="letter"&&Ht||Rt.contentType==="digit"&&Cn||Rt.contentType==="digit-with-letter"&&cn){le(null),he({section:Rt,newSectionValue:mt,shouldGoToNextSection:!0});return}if(Ht||Cn)return}le(null),ie(mt)}),Ne=Fe(ct=>{P==null||P(ct),oe(null)}),K=Fe(ct=>{if(N)return;const mt=ct.target.value;if(mt===""){fe();return}const Rt=ct.nativeEvent.data,Ht=Rt&&Rt.length>1,Cn=Ht?Rt:mt,cn=ii(Cn);if(ee==="all"&&oe(H),H==null||Ht){ie(Ht?Rt:cn);return}let Hn;if(ee==="all"&&cn.length===1)Hn=cn;else{const mn=ii(h.getV6InputValueFromSections(ve,ne,n));let Ct=-1,Pn=-1;for(let Qn=0;Qn<mn.length;Qn+=1)Ct===-1&&mn[Qn]!==cn[Qn]&&(Ct=Qn),Pn===-1&&mn[mn.length-Qn-1]!==cn[cn.length-Qn-1]&&(Pn=Qn);const $n=ve[H];if(Ct<$n.start||mn.length-Pn-1>$n.end)return;const po=cn.length-mn.length+$n.end-ii($n.endSeparator||"").length;Hn=cn.slice($n.start+ii($n.startSeparator||"").length,po)}if(Hn.length===0){uV()&&L(Cn),Ie();return}te({keyPressed:Hn,sectionIndex:H})}),me=Fe((ct,...mt)=>{ct.preventDefault(),A==null||A(ct,...mt),fe(),by(k)?oe(G.startIndex):Ae(0)}),Xe=rw({manager:a,internalPropsWithDefaults:y,stateResponse:U}),jt=Fe(ct=>{C==null||C(ct),Xe(ct)}),tn=b.useMemo(()=>R!==void 0?R:h.getV6InputValueFromSections(ae(d.emptyValue),ne,n),[R,h,ae,d.emptyValue,ne,n]),Lt=b.useMemo(()=>re.tempValueStrAndroid??h.getV6InputValueFromSections(re.sections,ne,n),[re.sections,h,re.tempValueStrAndroid,ne,n]);b.useEffect(()=>{k.current&&k.current===Vn(document)&&oe("all")},[]),Yr(()=>{function ct(){if(!k.current)return;if(ee==null){k.current.scrollLeft&&(k.current.scrollLeft=0);return}if(k.current!==Vn(document))return;const mt=k.current.scrollTop;if(ee==="all")k.current.select();else{const Rt=ve[ee],Ht=Rt.type==="empty"?Rt.startInInput-Rt.startSeparator.length:Rt.startInInput,Cn=Rt.type==="empty"?Rt.endInInput+Rt.endSeparator.length:Rt.endInInput;(Ht!==k.current.selectionStart||Cn!==k.current.selectionEnd)&&k.current===Vn(document)&&k.current.setSelectionRange(Ht,Cn),s.start(0,()=>{k.current&&k.current===Vn(document)&&k.current.selectionStart===k.current.selectionEnd&&(k.current.selectionStart!==Ht||k.current.selectionEnd!==Cn)&&ct()})}k.current.scrollTop=mt}ct()});const At=b.useMemo(()=>H==null||re.sections[H].contentType==="letter"?"text":"numeric",[H,re.sections]),On=!(k.current&&k.current===Vn(document))&&X;return b.useImperativeHandle(q,()=>({getSections:()=>re.sections,getActiveSectionIndex:()=>{const ct=k.current.selectionStart??0,mt=k.current.selectionEnd??0;if(ct===0&&mt===0)return null;const Rt=ct<=ve[0].startInInput?1:ve.findIndex(Ht=>Ht.startInInput-Ht.startSeparator.length>ct);return Rt===-1?ve.length-1:Rt-1},setSelectedSections:ct=>oe(ct),focusField:Ae,isFieldFocused:()=>by(k)})),V({},x,{error:se,clearable:!!(E&&!X&&!N&&!M),onBlur:Ne,onClick:Qe,onFocus:_e,onPaste:ke,onKeyDown:jt,onClear:me,inputRef:Y,enableAccessibleFieldDOMStructure:!1,placeholder:tn,inputMode:At,autoComplete:"off",value:On?"":Lt,onChange:K,focused:B,disabled:M,readOnly:N,autoFocus:W,openPickerAriaLabel:Ce})};function by(e){return e.current===Vn(document)}const d6=e=>{const n=_j();return(e.props.enableAccessibleFieldDOMStructure??(n==null?void 0:n.enableAccessibleFieldDOMStructure)??!0?l6:u6)(e)};function em(e){const n=Wt(),r=Ej();return b.useMemo(()=>({disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,minDate:_c(n,e.minDate,r.minDate),maxDate:_c(n,e.maxDate,r.maxDate)}),[e.minDate,e.maxDate,e.disableFuture,e.disablePast,n,r])}function h6(e={}){const{enableAccessibleFieldDOMStructure:n=!0}=e;return b.useMemo(()=>({valueType:"date-time",validator:xu,internal_valueManager:ar,internal_fieldValueManager:fV,internal_enableAccessibleFieldDOMStructure:n,internal_useApplyDefaultValuesToFieldInternalProps:p6,internal_useOpenPickerButtonAriaLabel:f6}),[n])}function f6(e){const n=Wt(),r=cs();return b.useMemo(()=>{const s=n.isValid(e)?n.format(e,"fullDate"):null;return r.openDatePickerDialogue(s)},[e,r,n])}function p6(e){const n=Wt(),r=sw(e),s=b.useMemo(()=>e.ampm??n.is12HourCycleInCurrentLocale(),[e.ampm,n]);return b.useMemo(()=>V({},e,r,{format:e.format??(s?n.formats.keyboardDateTime12h:n.formats.keyboardDateTime24h)}),[e,r,s,n])}function sw(e){const n=Wt(),r=Ej();return b.useMemo(()=>({disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,disableIgnoringDatePartForTimeValidation:!!e.minDateTime||!!e.maxDateTime||!!e.disableFuture||!!e.disablePast,minDate:_c(n,e.minDateTime??e.minDate,r.minDate),maxDate:_c(n,e.maxDateTime??e.maxDate,r.maxDate),minTime:e.minDateTime??e.minTime,maxTime:e.maxDateTime??e.maxTime}),[e.minDateTime,e.maxDateTime,e.minTime,e.maxTime,e.minDate,e.maxDate,e.disableFuture,e.disablePast,n,r])}function tm(e){const{ownerState:n}=Sn(),r=vs();return b.useMemo(()=>V({},n,{isFieldDisabled:e.disabled??!1,isFieldReadOnly:e.readOnly??!1,isFieldRequired:e.required??!1,fieldDirection:r?"rtl":"ltr"}),[n,e.disabled,e.readOnly,e.required,r])}function m6(e){return en("MuiPickersTextField",e)}ln("MuiPickersTextField",["root","focused","disabled","error","required"]);function x6(e){return en("MuiPickersInputBase",e)}const di=ln("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input","activeBar"]);function g6(e){return en("MuiPickersSectionList",e)}const ia=ln("MuiPickersSectionList",["root","section","sectionContent"]),b6=["slots","slotProps","elements","sectionListRef","classes"],ow=Me("div",{name:"MuiPickersSectionList",slot:"Root"})({direction:"ltr /*! @noflip */",outline:"none"}),iw=Me("span",{name:"MuiPickersSectionList",slot:"Section"})({}),aw=Me("span",{name:"MuiPickersSectionList",slot:"SectionSeparator"})({whiteSpace:"pre"}),lw=Me("span",{name:"MuiPickersSectionList",slot:"SectionContent"})({outline:"none"}),y6=e=>Gt({root:["root"],section:["section"],sectionContent:["sectionContent"]},g6,e);function v6(e){const{slots:n,slotProps:r,element:s,classes:o}=e,{ownerState:a}=Sn(),c=(n==null?void 0:n.section)??iw,u=kt({elementType:c,externalSlotProps:r==null?void 0:r.section,externalForwardedProps:s.container,className:o.section,ownerState:a}),d=(n==null?void 0:n.sectionContent)??lw,h=kt({elementType:d,externalSlotProps:r==null?void 0:r.sectionContent,externalForwardedProps:s.content,additionalProps:{suppressContentEditableWarning:!0},className:o.sectionContent,ownerState:a}),p=(n==null?void 0:n.sectionSeparator)??aw,m=kt({elementType:p,externalSlotProps:r==null?void 0:r.sectionSeparator,externalForwardedProps:s.before,ownerState:V({},a,{separatorPosition:"before"})}),x=kt({elementType:p,externalSlotProps:r==null?void 0:r.sectionSeparator,externalForwardedProps:s.after,ownerState:V({},a,{separatorPosition:"after"})});return t.jsxs(c,V({},u,{children:[t.jsx(p,V({},m)),t.jsx(d,V({},h)),t.jsx(p,V({},x))]}))}const j6=b.forwardRef(function(n,r){const s=zt({props:n,name:"MuiPickersSectionList"}),{slots:o,slotProps:a,elements:c,sectionListRef:u,classes:d}=s,h=tt(s,b6),p=y6(d),{ownerState:m}=Sn(),x=b.useRef(null),y=Xn(r,x),g=P=>{if(!x.current)throw new Error(`MUI X: Cannot call sectionListRef.${P} before the mount of the component.`);return x.current};b.useImperativeHandle(u,()=>({getRoot(){return g("getRoot")},getSectionContainer(P){return g("getSectionContainer").querySelector(`.${ia.section}[data-sectionindex="${P}"]`)},getSectionContent(P){return g("getSectionContent").querySelector(`.${ia.section}[data-sectionindex="${P}"] .${ia.sectionContent}`)},getSectionIndexFromDOMElement(P){const C=g("getSectionIndexFromDOMElement");if(P==null||!C.contains(P))return null;let A=null;return P.classList.contains(ia.section)?A=P:P.classList.contains(ia.sectionContent)&&(A=P.parentElement),A==null?null:Number(A.dataset.sectionindex)}}));const w=(o==null?void 0:o.root)??ow,j=kt({elementType:w,externalSlotProps:a==null?void 0:a.root,externalForwardedProps:h,additionalProps:{ref:y,suppressContentEditableWarning:!0},className:p.root,ownerState:m});return t.jsx(w,V({},j,{children:j.contentEditable?c.map(({content:P,before:C,after:A})=>`${C.children}${P.children}${A.children}`).join(""):t.jsx(b.Fragment,{children:c.map((P,C)=>t.jsx(v6,{slots:o,slotProps:a,element:P,classes:p},C))})}))}),cw=b.createContext(null),gu=()=>{const e=b.useContext(cw);if(e==null)throw new Error(["MUI X: The `usePickerTextFieldOwnerState` can only be called in components that are used inside a PickerTextField component"].join(`
`));return e},w6=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef","onFocus","onBlur","classes","ownerState"],S6=e=>Math.round(e*1e5)/1e5,bu=Me("div",{name:"MuiPickersInputBase",slot:"Root"})(({theme:e})=>V({},e.typography.body1,{color:(e.vars||e).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${S6(.15/16)}em`,variants:[{props:{isInputInFullWidth:!0},style:{width:"100%"}}]})),nm=Me(ow,{name:"MuiPickersInputBase",slot:"SectionsContainer"})(({theme:e})=>({padding:"4px 0 5px",fontFamily:e.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{fieldDirection:"rtl"},style:{textAlign:"right /*! @noflip */"}},{props:{inputSize:"small"},style:{paddingTop:1}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0},style:{color:"currentColor",opacity:0}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!1},style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}}]})),C6=Me(iw,{name:"MuiPickersInputBase",slot:"Section"})(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"inline-block",whiteSpace:"nowrap"})),P6=Me(lw,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(e,n)=>n.content})(({theme:e})=>({fontFamily:e.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),D6=Me(aw,{name:"MuiPickersInputBase",slot:"Separator"})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),T6=Me("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(e,n)=>n.hiddenInput})(V({},xB)),I6=Me("div",{name:"MuiPickersInputBase",slot:"ActiveBar"})(({theme:e,ownerState:n})=>({display:"none",position:"absolute",height:2,bottom:2,borderTopLeftRadius:2,borderTopRightRadius:2,transition:e.transitions.create(["width","left"],{duration:e.transitions.duration.shortest}),backgroundColor:(e.vars||e).palette.primary.main,'[data-active-range-position="start"] &, [data-active-range-position="end"] &':{display:"block"},'[data-active-range-position="start"] &':{left:n.sectionOffsets[0]},'[data-active-range-position="end"] &':{left:n.sectionOffsets[1]}})),E6=(e,n)=>{const{isFieldFocused:r,isFieldDisabled:s,isFieldReadOnly:o,hasFieldError:a,inputSize:c,isInputInFullWidth:u,inputColor:d,hasStartAdornment:h,hasEndAdornment:p}=n,m={root:["root",r&&!s&&"focused",s&&"disabled",o&&"readOnly",a&&"error",u&&"fullWidth",`color${uB(d)}`,c==="small"&&"inputSizeSmall",h&&"adornedStart",p&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"],activeBar:["activeBar"]};return Gt(m,x6,e)};function yy(e,n,r,s){var o;if(e.content.id){const a=(o=n.current)==null?void 0:o.querySelectorAll(`[data-sectionindex="${r}"] [data-range-position="${s}"]`);if(a)return Array.from(a).reduce((c,u)=>c+u.offsetWidth,0)}return 0}function A6(e,n){var o,a,c,u,d;let r=0;if(((o=n.current)==null?void 0:o.getAttribute("data-active-range-position"))==="end")for(let h=e.length-1;h>=e.length/2;h-=1)r+=yy(e[h],n,h,"end");else for(let h=0;h<e.length/2;h+=1)r+=yy(e[h],n,h,"start");return{activeBarWidth:r,sectionOffsets:[((c=(a=n.current)==null?void 0:a.querySelector('[data-sectionindex="0"]'))==null?void 0:c.offsetLeft)||0,((d=(u=n.current)==null?void 0:u.querySelector(`[data-sectionindex="${e.length/2}"]`))==null?void 0:d.offsetLeft)||0]}}const rm=b.forwardRef(function(n,r){const s=zt({props:n,name:"MuiPickersInputBase"}),{elements:o,areAllSectionsEmpty:a,value:c,onChange:u,id:d,endAdornment:h,startAdornment:p,renderSuffix:m,slots:x,slotProps:y,contentEditable:g,tabIndex:w,onInput:j,onPaste:P,onKeyDown:C,name:A,readOnly:E,inputProps:T,inputRef:R,sectionListRef:N,onFocus:M,onBlur:W,classes:B,ownerState:q}=s,k=tt(s,w6),Y=gu(),U=b.useRef(null),H=b.useRef(null),X=b.useRef([]),se=Xn(r,U),ne=Xn(T==null?void 0:T.ref,R),ee=Ny();if(!ee)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const G=q??Y,re=ae=>{var te;(te=ee.onFocus)==null||te.call(ee,ae),M==null||M(ae)},Pe=ae=>{re(ae)},fe=ae=>{var te,Ce;if(C==null||C(ae),ae.key==="Enter"&&!ae.defaultMuiPrevented){if((te=U.current)!=null&&te.dataset.multiInput)return;const ve=(Ce=U.current)==null?void 0:Ce.closest("form"),ge=ve==null?void 0:ve.querySelector('[type="submit"]');if(!ve||!ge)return;ae.preventDefault(),ve.requestSubmit(ge)}},Ie=ae=>{var te;(te=ee.onBlur)==null||te.call(ee,ae),W==null||W(ae)};b.useEffect(()=>{ee&&ee.setAdornedStart(!!p)},[ee,p]),b.useEffect(()=>{ee&&(a?ee.onEmpty():ee.onFilled())},[ee,a]);const le=E6(B,G),oe=(x==null?void 0:x.root)||bu,L=kt({elementType:oe,externalSlotProps:y==null?void 0:y.root,externalForwardedProps:k,additionalProps:{"aria-invalid":ee.error,ref:se},className:le.root,ownerState:G}),he=(x==null?void 0:x.input)||nm,ie=o.some(ae=>ae.content["data-range-position"]!==void 0);return b.useEffect(()=>{if(!ie||!G.isPickerOpen)return;const{activeBarWidth:ae,sectionOffsets:te}=A6(o,U);X.current=[te[0],te[1]],H.current&&(H.current.style.width=`${ae}px`)},[o,ie,G.isPickerOpen]),t.jsxs(oe,V({},L,{children:[p,t.jsx(j6,{sectionListRef:N,elements:o,contentEditable:g,tabIndex:w,className:le.sectionsContainer,onFocus:re,onBlur:Ie,onInput:j,onPaste:P,onKeyDown:fe,slots:{root:he,section:C6,sectionContent:P6,sectionSeparator:D6},slotProps:{root:V({},y==null?void 0:y.input,{ownerState:G}),sectionContent:{className:di.sectionContent},sectionSeparator:({separatorPosition:ae})=>({className:ae==="before"?di.sectionBefore:di.sectionAfter})}}),h,m?m(V({},ee)):null,t.jsx(T6,V({name:A,className:le.input,value:c,onChange:u,id:d,"aria-hidden":"true",tabIndex:-1,readOnly:E,required:ee.required,disabled:ee.disabled,onFocus:Pe},T,{ref:ne})),ie&&t.jsx(I6,{className:le.activeBar,ref:H,ownerState:{sectionOffsets:X.current}})]}))});function R6(e){return en("MuiPickersOutlinedInput",e)}const es=V({},di,ln("MuiPickersOutlinedInput",["root","notchedOutline","input"])),_6=["children","className","label","notched","shrink"],O6=Me("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline"})(({theme:e})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}}),vy=Me("span")(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit"})),M6=Me("legend",{shouldForwardProp:e=>ks(e)&&e!=="notched"})(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{inputHasLabel:!1},style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:{inputHasLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{inputHasLabel:!0,notched:!0},style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]}));function k6(e){const{className:n,label:r,notched:s}=e,o=tt(e,_6),a=gu();return t.jsx(O6,V({"aria-hidden":!0,className:n},o,{ownerState:a,children:t.jsx(M6,{ownerState:a,notched:s,children:r?t.jsx(vy,{children:r}):t.jsx(vy,{className:"notranslate",children:"​"})})}))}const N6=["label","autoFocus","ownerState","classes","notched"],L6=Me(bu,{name:"MuiPickersOutlinedInput",slot:"Root"})(({theme:e})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${es.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${es.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${es.focused} .${es.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${es.disabled}`]:{[`& .${es.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled},"*":{color:(e.vars||e).palette.action.disabled}},[`&.${es.error} .${es.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},variants:Object.keys((e.vars??e).palette).filter(r=>{var s;return((s=(e.vars??e).palette[r])==null?void 0:s.main)??!1}).map(r=>({props:{inputColor:r},style:{[`&.${es.focused}:not(.${es.error}) .${es.notchedOutline}`]:{borderColor:(e.vars||e).palette[r].main}}}))}}),$6=Me(nm,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer"})({padding:"16.5px 0",variants:[{props:{inputSize:"small"},style:{padding:"8.5px 0"}}]}),F6=e=>{const r=Gt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},R6,e);return V({},e,r)},uw=b.forwardRef(function(n,r){const s=zt({props:n,name:"MuiPickersOutlinedInput"}),{label:o,classes:a,notched:c}=s,u=tt(s,N6),d=Ny(),h=F6(a);return t.jsx(rm,V({slots:{root:L6,input:$6},renderSuffix:p=>t.jsx(k6,{shrink:!!(c||p.adornedStart||p.focused||p.filled),notched:!!(c||p.adornedStart||p.focused||p.filled),className:h.notchedOutline,label:o!=null&&o!==""&&(d!=null&&d.required)?t.jsxs(b.Fragment,{children:[o," ","*"]}):o})},u,{label:o,classes:h,ref:r}))});uw.muiName="Input";function W6(e){return en("MuiPickersFilledInput",e)}const To=V({},di,ln("MuiPickersFilledInput",["root","underline","input"])),B6=["label","autoFocus","disableUnderline","hiddenLabel","classes"],V6=Me(bu,{name:"MuiPickersFilledInput",slot:"Root",shouldForwardProp:e=>Ly(e)&&e!=="disableUnderline"})(({theme:e})=>{const n=e.palette.mode==="light",r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s}},[`&.${To.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s},[`&.${To.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:a},variants:[...Object.keys((e.vars??e).palette).filter(c=>(e.vars??e).palette[c].main).map(c=>{var u;return{props:{inputColor:c,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(u=(e.vars||e).palette[c])==null?void 0:u.main}`}}}}),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${To.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${To.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${To.disabled}, .${To.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${To.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:{hasStartAdornment:!0},style:{paddingLeft:12}},{props:{hasEndAdornment:!0},style:{paddingRight:12}}]}}),U6=Me(nm,{name:"MuiPickersFilledInput",slot:"sectionsContainer",shouldForwardProp:e=>Ly(e)&&e!=="hiddenLabel"})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{inputSize:"small"},style:{paddingTop:21,paddingBottom:4}},{props:{hasStartAdornment:!0},style:{paddingLeft:0}},{props:{hasEndAdornment:!0},style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,inputSize:"small"},style:{paddingTop:8,paddingBottom:9}}]}),z6=(e,n)=>{const{inputHasUnderline:r}=n,o=Gt({root:["root",r&&"underline"],input:["input"]},W6,e);return V({},e,o)},dw=b.forwardRef(function(n,r){const s=zt({props:n,name:"MuiPickersFilledInput"}),{label:o,disableUnderline:a=!1,hiddenLabel:c=!1,classes:u}=s,d=tt(s,B6),h=gu(),p=V({},h,{inputHasUnderline:!a}),m=z6(u,p);return t.jsx(rm,V({slots:{root:V6,input:U6},slotProps:{root:{disableUnderline:a},input:{hiddenLabel:c}}},d,{label:o,classes:m,ref:r,ownerState:p}))});dw.muiName="Input";function H6(e){return en("MuiPickersFilledInput",e)}const aa=V({},di,ln("MuiPickersInput",["root","underline","input"])),G6=["label","autoFocus","disableUnderline","ownerState","classes"],Y6=Me(bu,{name:"MuiPickersInput",slot:"Root",shouldForwardProp:e=>ks(e)&&e!=="disableUnderline"})(({theme:e})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((e.vars??e).palette).filter(s=>(e.vars??e).palette[s].main).map(s=>({props:{inputColor:s},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[s].main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${aa.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${aa.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${aa.disabled}, .${aa.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${aa.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),q6=(e,n)=>{const{inputHasUnderline:r}=n,o=Gt({root:["root",!r&&"underline"],input:["input"]},H6,e);return V({},e,o)},hw=b.forwardRef(function(n,r){const s=zt({props:n,name:"MuiPickersInput"}),{label:o,disableUnderline:a=!1,classes:c}=s,u=tt(s,G6),d=gu(),h=V({},d,{inputHasUnderline:!a}),p=q6(c,h);return t.jsx(rm,V({slots:{root:Y6},slotProps:{root:{disableUnderline:a}}},u,{label:o,classes:p,ref:r}))});hw.muiName="Input";const K6=["onFocus","onBlur","className","classes","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps","data-active-range-position"],J6={standard:hw,filled:dw,outlined:uw},X6=Me(vt,{name:"MuiPickersTextField",slot:"Root"})({}),Q6=(e,n)=>{const{isFieldFocused:r,isFieldDisabled:s,isFieldRequired:o}=n;return Gt({root:["root",r&&!s&&"focused",s&&"disabled",o&&"required"]},m6,e)},fw=b.forwardRef(function(n,r){const s=zt({props:n,name:"MuiPickersTextField"}),{onFocus:o,onBlur:a,className:c,classes:u,color:d="primary",disabled:h=!1,error:p=!1,variant:m="outlined",required:x=!1,InputProps:y,inputProps:g,inputRef:w,sectionListRef:j,elements:P,areAllSectionsEmpty:C,onClick:A,onKeyDown:E,onKeyUp:T,onPaste:R,onInput:N,endAdornment:M,startAdornment:W,tabIndex:B,contentEditable:q,focused:k,value:Y,onChange:U,fullWidth:H,id:X,name:se,helperText:ne,FormHelperTextProps:ee,label:G,InputLabelProps:re,"data-active-range-position":Pe}=s,fe=tt(s,K6),Ie=b.useRef(null),le=Xn(r,Ie),oe=du(X),L=ne&&oe?`${oe}-helper-text`:void 0,he=G&&oe?`${oe}-label`:void 0,ie=tm({disabled:s.disabled,required:s.required,readOnly:y==null?void 0:y.readOnly}),ae=b.useMemo(()=>V({},ie,{isFieldValueEmpty:C,isFieldFocused:k??!1,hasFieldError:p??!1,inputSize:s.size??"medium",inputColor:d??"primary",isInputInFullWidth:H??!1,hasStartAdornment:!!(W??(y==null?void 0:y.startAdornment)),hasEndAdornment:!!(M??(y==null?void 0:y.endAdornment)),inputHasLabel:!!G}),[ie,C,k,p,s.size,d,H,W,M,y==null?void 0:y.startAdornment,y==null?void 0:y.endAdornment,G]),te=Q6(u,ae),Ce=J6[m],ve={};return m==="outlined"&&(re&&typeof re.shrink<"u"&&(ve.notched=re.shrink),ve.label=G),t.jsx(cw.Provider,{value:ae,children:t.jsxs(X6,V({className:Kt(te.root,c),ref:le,focused:k,disabled:h,variant:m,error:p,color:d,fullWidth:H,required:x,ownerState:ae},fe,{children:[G!=null&&G!==""&&t.jsx(Tt,V({htmlFor:oe,id:he},re,{children:G})),t.jsx(Ce,V({elements:P,areAllSectionsEmpty:C,onClick:A,onKeyDown:E,onKeyUp:T,onInput:N,onPaste:R,onFocus:o,onBlur:a,endAdornment:M,startAdornment:W,tabIndex:B,contentEditable:q,value:Y,onChange:U,id:oe,fullWidth:H,inputProps:g,inputRef:w,sectionListRef:j,label:G,name:se,role:"group","aria-labelledby":he,"aria-describedby":L,"aria-live":L?"polite":void 0,"data-active-range-position":Pe},ve,y)),ne&&t.jsx(eE,V({id:L},ee,{children:ne}))]}))})}),Z6=["enableAccessibleFieldDOMStructure"],eU=["InputProps","readOnly","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],tU=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],nU=["ownerState"],rU=["ownerState"],sU=["ownerState"],oU=["ownerState"],iU=["InputProps","inputProps"],aU=e=>{let{enableAccessibleFieldDOMStructure:n}=e,r=tt(e,Z6);if(n){const{InputProps:j,readOnly:P,onClear:C,clearable:A,clearButtonPosition:E,openPickerButtonPosition:T,openPickerAriaLabel:R}=r,N=tt(r,eU);return{clearable:A,onClear:C,clearButtonPosition:E,openPickerButtonPosition:T,openPickerAriaLabel:R,textFieldProps:V({},N,{InputProps:V({},j??{},{readOnly:P})})}}const{onPaste:s,onKeyDown:o,inputMode:a,readOnly:c,InputProps:u,inputProps:d,inputRef:h,onClear:p,clearable:m,clearButtonPosition:x,openPickerButtonPosition:y,openPickerAriaLabel:g}=r,w=tt(r,tU);return{clearable:m,onClear:p,clearButtonPosition:x,openPickerButtonPosition:y,openPickerAriaLabel:g,textFieldProps:V({},w,{InputProps:V({},u??{},{readOnly:c}),inputProps:V({},d??{},{inputMode:a,onPaste:s,onKeyDown:o,ref:h})})}},sm=b.createContext({slots:{},slotProps:{},inputRef:void 0});function lU(e){var ee,G;const{slots:n,slotProps:r,fieldResponse:s,defaultOpenPickerIcon:o}=e,a=cs(),c=Xp(),u=b.useContext(sm),{textFieldProps:d,onClear:h,clearable:p,openPickerAriaLabel:m,clearButtonPosition:x="end",openPickerButtonPosition:y="end"}=aU(s),g=tm(d),w=Fe(re=>{re.preventDefault(),c==null||c.setOpen(Pe=>!Pe)}),j=c?c.triggerStatus:"hidden",P=p?x:null,C=j!=="hidden"?y:null,A=(n==null?void 0:n.textField)??u.slots.textField??(s.enableAccessibleFieldDOMStructure===!1?rt:fw),E=(n==null?void 0:n.inputAdornment)??u.slots.inputAdornment??eo,T=kt({elementType:E,externalSlotProps:ql(u.slotProps.inputAdornment,r==null?void 0:r.inputAdornment),additionalProps:{position:"start"},ownerState:V({},g,{position:"start"})}),R=tt(T,nU),N=kt({elementType:E,externalSlotProps:r==null?void 0:r.inputAdornment,additionalProps:{position:"end"},ownerState:V({},g,{position:"end"})}),M=tt(N,rU),W=u.slots.openPickerButton??We,B=kt({elementType:W,externalSlotProps:u.slotProps.openPickerButton,additionalProps:{disabled:j==="disabled",onClick:w,"aria-label":m,edge:d.variant!=="standard"?C:!1},ownerState:g}),q=tt(B,sU),k=u.slots.openPickerIcon??o,Y=kt({elementType:k,externalSlotProps:u.slotProps.openPickerIcon,ownerState:g}),U=(n==null?void 0:n.clearButton)??u.slots.clearButton??We,H=kt({elementType:U,externalSlotProps:ql(u.slotProps.clearButton,r==null?void 0:r.clearButton),className:"clearButton",additionalProps:{title:a.fieldClearLabel,tabIndex:-1,onClick:h,disabled:s.disabled||s.readOnly,edge:d.variant!=="standard"&&P!==C?P:!1},ownerState:g}),X=tt(H,oU),se=(n==null?void 0:n.clearIcon)??u.slots.clearIcon??OB,ne=kt({elementType:se,externalSlotProps:ql(u.slotProps.clearIcon,r==null?void 0:r.clearIcon),additionalProps:{fontSize:"small"},ownerState:g});return d.ref=Xn(d.ref,c==null?void 0:c.rootRef),d.InputProps||(d.InputProps={}),c&&(d.InputProps.ref=c.triggerRef),!((ee=d.InputProps)!=null&&ee.startAdornment)&&(P==="start"||C==="start")&&(d.InputProps.startAdornment=t.jsxs(E,V({},R,{children:[C==="start"&&t.jsx(W,V({},q,{children:t.jsx(k,V({},Y))})),P==="start"&&t.jsx(U,V({},X,{children:t.jsx(se,V({},ne))}))]}))),!((G=d.InputProps)!=null&&G.endAdornment)&&(P==="end"||C==="end")&&(d.InputProps.endAdornment=t.jsxs(E,V({},M,{children:[P==="end"&&t.jsx(U,V({},X,{children:t.jsx(se,V({},ne))})),C==="end"&&t.jsx(W,V({},q,{children:t.jsx(k,V({},Y))}))]}))),P!=null&&(d.sx=[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(d.sx)?d.sx:[d.sx]]),t.jsx(A,V({},d))}function ql(e,n){return e?n?r=>V({},Ea(n,r),Ea(e,r)):e:n}function cU(e){const{ref:n,externalForwardedProps:r,slotProps:s}=e,o=b.useContext(sm),a=Xp(),c=tm(r),{InputProps:u,inputProps:d}=r,h=tt(r,iU),p=kt({elementType:fw,externalSlotProps:ql(o.slotProps.textField,s==null?void 0:s.textField),externalForwardedProps:h,additionalProps:{ref:n,sx:a==null?void 0:a.rootSx,label:a==null?void 0:a.label,name:a==null?void 0:a.name,className:a==null?void 0:a.rootClassName,inputRef:o.inputRef},ownerState:c});return p.inputProps=V({},d,p.inputProps),p.InputProps=V({},u,p.InputProps),p}function pw(e){const{slots:n={},slotProps:r={},inputRef:s,children:o}=e,a=b.useMemo(()=>({inputRef:s,slots:{openPickerButton:n.openPickerButton,openPickerIcon:n.openPickerIcon,textField:n.textField,inputAdornment:n.inputAdornment,clearIcon:n.clearIcon,clearButton:n.clearButton},slotProps:{openPickerButton:r.openPickerButton,openPickerIcon:r.openPickerIcon,textField:r.textField,inputAdornment:r.inputAdornment,clearIcon:r.clearIcon,clearButton:r.clearButton}}),[s,n.openPickerButton,n.openPickerIcon,n.textField,n.inputAdornment,n.clearIcon,n.clearButton,r.openPickerButton,r.openPickerIcon,r.textField,r.inputAdornment,r.clearIcon,r.clearButton]);return t.jsx(sm.Provider,{value:a,children:o})}const uU=e=>{const n=h6(e);return d6({manager:n,props:e})},dU=["slots","slotProps"],mw=b.forwardRef(function(n,r){const s=zt({props:n,name:"MuiDateTimeField"}),{slots:o,slotProps:a}=s,c=tt(s,dU),u=cU({slotProps:a,ref:r,externalForwardedProps:c}),d=uU(u);return t.jsx(lU,{slots:o,slotProps:a,fieldResponse:d,defaultOpenPickerIcon:AB})}),xw=({shouldDisableDate:e,shouldDisableMonth:n,shouldDisableYear:r,minDate:s,maxDate:o,disableFuture:a,disablePast:c,timezone:u})=>{const d=$o();return b.useCallback(h=>Qp({adapter:d,value:h,timezone:u,props:{shouldDisableDate:e,shouldDisableMonth:n,shouldDisableYear:r,minDate:s,maxDate:o,disableFuture:a,disablePast:c}})!==null,[d,e,n,r,s,o,a,c,u])},hU=(e,n)=>(r,s)=>{switch(s.type){case"setVisibleDate":return V({},r,{slideDirection:s.direction,currentMonth:s.month,isMonthSwitchingAnimating:!n.isSameMonth(s.month,r.currentMonth)&&!e&&!s.skipAnimation,focusedDay:s.focusedDay});case"changeMonthTimezone":{const o=s.newTimezone;if(n.getTimezone(r.currentMonth)===o)return r;let a=n.setTimezone(r.currentMonth,o);return n.getMonth(a)!==n.getMonth(r.currentMonth)&&(a=n.setMonth(a,n.getMonth(r.currentMonth))),V({},r,{currentMonth:a})}case"finishMonthSwitchingAnimation":return V({},r,{isMonthSwitchingAnimating:!1});default:throw new Error("missing support")}},fU=e=>{const{value:n,referenceDate:r,disableFuture:s,disablePast:o,maxDate:a,minDate:c,onMonthChange:u,onYearChange:d,reduceAnimations:h,shouldDisableDate:p,timezone:m,getCurrentMonthFromVisibleDate:x}=e,y=Wt(),g=b.useRef(hU(!!h,y)).current,w=b.useMemo(()=>ar.getInitialReferenceValue({value:n,utils:y,timezone:m,props:e,referenceDate:r,granularity:rs.day}),[r,m]),[j,P]=b.useReducer(g,{isMonthSwitchingAnimating:!1,focusedDay:w,currentMonth:y.startOfMonth(w),slideDirection:"left"}),C=xw({shouldDisableDate:p,minDate:c,maxDate:a,disableFuture:s,disablePast:o,timezone:m});b.useEffect(()=>{P({type:"changeMonthTimezone",newTimezone:y.getTimezone(w)})},[w,y]);const A=Fe(({target:T,reason:R})=>{if(R==="cell-interaction"&&j.focusedDay!=null&&y.isSameDay(T,j.focusedDay))return;const N=R==="cell-interaction";let M,W;if(R==="cell-interaction")M=x(T,j.currentMonth),W=T;else if(M=y.isSameMonth(T,j.currentMonth)?j.currentMonth:y.startOfMonth(T),W=T,C(W)){const k=y.startOfMonth(T),Y=y.endOfMonth(T);W=_a({utils:y,date:W,minDate:y.isBefore(c,k)?k:c,maxDate:y.isAfter(a,Y)?Y:a,disablePast:o,disableFuture:s,isDateDisabled:C,timezone:m})}const B=!y.isSameMonth(j.currentMonth,M),q=!y.isSameYear(j.currentMonth,M);B&&(u==null||u(M)),q&&(d==null||d(y.startOfYear(M))),P({type:"setVisibleDate",month:M,direction:y.isAfterDay(M,j.currentMonth)?"left":"right",focusedDay:j.focusedDay!=null&&W!=null&&y.isSameDay(W,j.focusedDay)?j.focusedDay:W,skipAnimation:N})}),E=b.useCallback(()=>{P({type:"finishMonthSwitchingAnimation"})},[]);return{referenceDate:w,calendarState:j,setVisibleDate:A,isDateDisabled:C,onMonthSwitchingAnimationEnd:E}},pU=e=>en("MuiPickersFadeTransitionGroup",e);ln("MuiPickersFadeTransitionGroup",["root"]);const mU=["children"],xU=e=>Gt({root:["root"]},pU,e),gU=Me($y,{name:"MuiPickersFadeTransitionGroup",slot:"Root"})({display:"block",position:"relative"});function gw(e){const n=zt({props:e,name:"MuiPickersFadeTransitionGroup"}),{className:r,reduceAnimations:s,transKey:o,classes:a}=n,{children:c}=n,u=tt(n,mU),d=xU(a),h=_n();return s?c:t.jsx(gU,{className:Kt(d.root,r),ownerState:u,children:t.jsx(Fc,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:h.transitions.duration.enteringScreen,enter:h.transitions.duration.enteringScreen,exit:0},children:c},o)})}const bU=e=>en("MuiPickersSlideTransition",e),Wr=ln("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),yU=["children","className","reduceAnimations","slideDirection","transKey","classes"],vU=(e,n)=>{const{slideDirection:r}=n,s={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${r}`],exitActive:[`slideExitActiveLeft-${r}`]};return Gt(s,bU,e)},jU=Me($y,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,n)=>[n.root,{[`.${Wr["slideEnter-left"]}`]:n["slideEnter-left"]},{[`.${Wr["slideEnter-right"]}`]:n["slideEnter-right"]},{[`.${Wr.slideEnterActive}`]:n.slideEnterActive},{[`.${Wr.slideExit}`]:n.slideExit},{[`.${Wr["slideExitActiveLeft-left"]}`]:n["slideExitActiveLeft-left"]},{[`.${Wr["slideExitActiveLeft-right"]}`]:n["slideExitActiveLeft-right"]}]})(({theme:e})=>{const n=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Wr["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Wr["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Wr.slideEnterActive}`]:{transform:"translate(0%)",transition:n},[`& .${Wr.slideExit}`]:{transform:"translate(0%)"},[`& .${Wr["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:n,zIndex:0},[`& .${Wr["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:n,zIndex:0}}});function wU(e){const n=zt({props:e,name:"MuiPickersSlideTransition"}),{children:r,className:s,reduceAnimations:o,slideDirection:a,transKey:c,classes:u}=n,d=tt(n,yU),{ownerState:h}=Sn(),p=V({},h,{slideDirection:a}),m=vU(u,p),x=_n();if(o)return t.jsx("div",{className:Kt(m.root,s),children:r});const y={exit:m.exit,enterActive:m.enterActive,enter:m.enter,exitActive:m.exitActive};return t.jsx(jU,{className:Kt(m.root,s),childFactory:g=>b.cloneElement(g,{classNames:y}),role:"presentation",ownerState:p,children:t.jsx(tE,V({mountOnEnter:!0,unmountOnExit:!0,timeout:x.transitions.duration.complex,classNames:y},d,{children:r}),c)})}const SU=e=>en("MuiDayCalendar",e);ln("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const CU=["parentProps","day","focusedDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],PU=["ownerState"],DU=e=>Gt({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},SU,e),bw=(Ra+pu*2)*6,TU=Me("div",{name:"MuiDayCalendar",slot:"Root"})({}),IU=Me("div",{name:"MuiDayCalendar",slot:"Header"})({display:"flex",justifyContent:"center",alignItems:"center"}),EU=Me(v,{name:"MuiDayCalendar",slot:"WeekDayLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),AU=Me(v,{name:"MuiDayCalendar",slot:"WeekNumberLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.disabled})),RU=Me(v,{name:"MuiDayCalendar",slot:"WeekNumber"})(({theme:e})=>V({},e.typography.caption,{width:Ra,height:Ra,padding:0,margin:`0 ${pu}px`,color:(e.vars||e).palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),_U=Me("div",{name:"MuiDayCalendar",slot:"LoadingContainer"})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:bw}),OU=Me(wU,{name:"MuiDayCalendar",slot:"SlideTransition"})({minHeight:bw}),MU=Me("div",{name:"MuiDayCalendar",slot:"MonthContainer"})({overflow:"hidden"}),kU=Me("div",{name:"MuiDayCalendar",slot:"WeekContainer"})({margin:`${pu}px 0`,display:"flex",justifyContent:"center"});function NU(e){let{parentProps:n,day:r,focusedDay:s,selectedDays:o,isDateDisabled:a,currentMonthNumber:c,isViewFocused:u}=e,d=tt(e,CU);const{disabled:h,disableHighlightToday:p,isMonthSwitchingAnimating:m,showDaysOutsideCurrentMonth:x,slots:y,slotProps:g,timezone:w}=n,j=Wt(),P=Oi(w),C=s!=null&&j.isSameDay(r,s),A=u&&C,E=o.some(U=>j.isSameDay(U,r)),T=j.isSameDay(r,P),R=b.useMemo(()=>h||a(r),[h,a,r]),N=b.useMemo(()=>j.getMonth(r)!==c,[j,r,c]),M=Gj({day:r,selected:E,disabled:R,today:T,outsideCurrentMonth:N,disableMargin:void 0,disableHighlightToday:p,showDaysOutsideCurrentMonth:x}),W=(y==null?void 0:y.day)??UV,B=kt({elementType:W,externalSlotProps:g==null?void 0:g.day,additionalProps:V({disableHighlightToday:p,showDaysOutsideCurrentMonth:x,role:"gridcell",isAnimating:m,"data-timestamp":j.toJsDate(r).valueOf()},d),ownerState:V({},M,{day:r,isDayDisabled:R,isDaySelected:E})}),q=tt(B,PU),k=b.useMemo(()=>{const U=j.startOfMonth(j.setMonth(r,c));return x?j.isSameDay(r,j.startOfWeek(U)):j.isSameDay(r,U)},[c,r,x,j]),Y=b.useMemo(()=>{const U=j.endOfMonth(j.setMonth(r,c));return x?j.isSameDay(r,j.endOfWeek(U)):j.isSameDay(r,U)},[c,r,x,j]);return t.jsx(W,V({},q,{day:r,disabled:R,autoFocus:!N&&A,today:T,outsideCurrentMonth:N,isFirstVisibleCell:k,isLastVisibleCell:Y,selected:E,tabIndex:C?0:-1,"aria-selected":E,"aria-current":T?"date":void 0}))}function LU(e){const n=zt({props:e,name:"MuiDayCalendar"}),r=Wt(),{onFocusedDayChange:s,className:o,classes:a,currentMonth:c,selectedDays:u,focusedDay:d,loading:h,onSelectedDaysChange:p,onMonthSwitchingAnimationEnd:m,readOnly:x,reduceAnimations:y,renderLoading:g=()=>t.jsx("span",{children:"..."}),slideDirection:w,TransitionProps:j,disablePast:P,disableFuture:C,minDate:A,maxDate:E,shouldDisableDate:T,shouldDisableMonth:R,shouldDisableYear:N,dayOfWeekFormatter:M=te=>r.format(te,"weekdayShort").charAt(0).toUpperCase(),hasFocus:W,onFocusedViewChange:B,gridLabelId:q,displayWeekNumber:k,fixedWeekNumber:Y,timezone:U}=n,H=Oi(U),X=DU(a),se=vs(),ne=xw({shouldDisableDate:T,shouldDisableMonth:R,shouldDisableYear:N,minDate:A,maxDate:E,disablePast:P,disableFuture:C,timezone:U}),ee=cs(),G=Fe(te=>{x||p(te)}),re=te=>{ne(te)||(s(te),B==null||B(!0))},Pe=Fe((te,Ce)=>{switch(te.key){case"ArrowUp":re(r.addDays(Ce,-7)),te.preventDefault();break;case"ArrowDown":re(r.addDays(Ce,7)),te.preventDefault();break;case"ArrowLeft":{const ve=r.addDays(Ce,se?1:-1),ge=r.addMonths(Ce,se?1:-1),Ae=_a({utils:r,date:ve,minDate:se?ve:r.startOfMonth(ge),maxDate:se?r.endOfMonth(ge):ve,isDateDisabled:ne,timezone:U});re(Ae||ve),te.preventDefault();break}case"ArrowRight":{const ve=r.addDays(Ce,se?-1:1),ge=r.addMonths(Ce,se?-1:1),Ae=_a({utils:r,date:ve,minDate:se?r.startOfMonth(ge):ve,maxDate:se?ve:r.endOfMonth(ge),isDateDisabled:ne,timezone:U});re(Ae||ve),te.preventDefault();break}case"Home":re(r.startOfWeek(Ce)),te.preventDefault();break;case"End":re(r.endOfWeek(Ce)),te.preventDefault();break;case"PageUp":re(r.addMonths(Ce,1)),te.preventDefault();break;case"PageDown":re(r.addMonths(Ce,-1)),te.preventDefault();break}}),fe=Fe((te,Ce)=>re(Ce)),Ie=Fe((te,Ce)=>{d!=null&&r.isSameDay(d,Ce)&&(B==null||B(!1))}),le=r.getMonth(c),oe=r.getYear(c),L=b.useMemo(()=>u.filter(te=>!!te).map(te=>r.startOfDay(te)),[r,u]),he=`${oe}-${le}`,ie=b.useMemo(()=>b.createRef(),[he]),ae=b.useMemo(()=>{const te=r.getWeekArray(c);let Ce=r.addMonths(c,1);for(;Y&&te.length<Y;){const ve=r.getWeekArray(Ce),ge=r.isSameDay(te[te.length-1][0],ve[0][0]);ve.slice(ge?1:0).forEach(Ae=>{te.length<Y&&te.push(Ae)}),Ce=r.addMonths(Ce,1)}return te},[c,Y,r]);return t.jsxs(TU,{role:"grid","aria-labelledby":q,className:X.root,children:[t.jsxs(IU,{role:"row",className:X.header,children:[k&&t.jsx(AU,{variant:"caption",role:"columnheader","aria-label":ee.calendarWeekNumberHeaderLabel,className:X.weekNumberLabel,children:ee.calendarWeekNumberHeaderText}),ZB(r,H).map((te,Ce)=>t.jsx(EU,{variant:"caption",role:"columnheader","aria-label":r.format(te,"weekday"),className:X.weekDayLabel,children:M(te)},Ce.toString()))]}),h?t.jsx(_U,{className:X.loadingContainer,children:g()}):t.jsx(OU,V({transKey:he,onExited:m,reduceAnimations:y,slideDirection:w,className:Kt(o,X.slideTransition)},j,{nodeRef:ie,children:t.jsx(MU,{ref:ie,role:"rowgroup",className:X.monthContainer,children:ae.map((te,Ce)=>t.jsxs(kU,{role:"row",className:X.weekContainer,"aria-rowindex":Ce+1,children:[k&&t.jsx(RU,{className:X.weekNumber,role:"rowheader","aria-label":ee.calendarWeekNumberAriaLabelText(r.getWeekNumber(te[0])),children:ee.calendarWeekNumberText(r.getWeekNumber(te[0]))}),te.map((ve,ge)=>t.jsx(NU,{parentProps:n,day:ve,selectedDays:L,isViewFocused:W,focusedDay:d,onKeyDown:Pe,onFocus:fe,onBlur:Ie,onDaySelect:G,isDateDisabled:ne,currentMonthNumber:le,"aria-colindex":ge+1},ve.toString()))]},`week-${te[0]}`))})}))]})}function yw(e){return en("MuiMonthCalendar",e)}const Vl=ln("MuiMonthCalendar",["root","button","disabled","selected"]),$U=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],FU=(e,n)=>{const r={button:["button",n.isMonthDisabled&&"disabled",n.isMonthSelected&&"selected"]};return Gt(r,yw,e)},WU=Me("button",{name:"MuiMonthCalendar",slot:"Button",overridesResolver:(e,n)=>[n.button,{[`&.${Vl.disabled}`]:n.disabled},{[`&.${Vl.selected}`]:n.selected}]})(({theme:e})=>V({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ee(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ee(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Vl.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${Vl.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),BU=b.memo(function(n){const{autoFocus:r,classes:s,disabled:o,selected:a,value:c,onClick:u,onKeyDown:d,onFocus:h,onBlur:p,slots:m,slotProps:x}=n,y=tt(n,$U),g=b.useRef(null),{ownerState:w}=Sn(),j=V({},w,{isMonthDisabled:o,isMonthSelected:a}),P=FU(s,j);Yr(()=>{var E;r&&((E=g.current)==null||E.focus())},[r]);const C=(m==null?void 0:m.monthButton)??WU,A=kt({elementType:C,externalSlotProps:x==null?void 0:x.monthButton,externalForwardedProps:y,additionalProps:{disabled:o,ref:g,type:"button",role:"radio","aria-checked":a,onClick:E=>u(E,c),onKeyDown:E=>d(E,c),onFocus:E=>h(E,c),onBlur:E=>p(E,c)},ownerState:j,className:P.button});return t.jsx(C,V({},A))}),VU=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],UU=e=>Gt({root:["root"]},yw,e);function zU(e,n){const r=zt({props:e,name:n}),s=em(r);return V({},r,s,{monthsPerRow:r.monthsPerRow??3})}const HU=Me("div",{name:"MuiMonthCalendar",slot:"Root",shouldForwardProp:e=>ks(e)&&e!=="monthsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:16,padding:"8px 0",width:wi,boxSizing:"border-box",variants:[{props:{monthsPerRow:3},style:{columnGap:24}},{props:{monthsPerRow:4},style:{columnGap:0}}]}),GU=b.forwardRef(function(n,r){const s=zU(n,"MuiMonthCalendar"),{autoFocus:o,className:a,classes:c,value:u,defaultValue:d,referenceDate:h,disabled:p,disableFuture:m,disablePast:x,maxDate:y,minDate:g,onChange:w,shouldDisableMonth:j,readOnly:P,onMonthFocus:C,hasFocus:A,onFocusedViewChange:E,monthsPerRow:T,timezone:R,gridLabelId:N,slots:M,slotProps:W}=s,B=tt(s,VU),{value:q,handleValueChange:k,timezone:Y}=Fo({name:"MonthCalendar",timezone:R,value:u,defaultValue:d,referenceDate:h,onChange:w,valueManager:ar}),U=Oi(Y),H=vs(),X=Wt(),{ownerState:se}=Sn(),ne=b.useMemo(()=>ar.getInitialReferenceValue({value:q,utils:X,props:s,timezone:Y,referenceDate:h,granularity:rs.month}),[]),ee=UU(c),G=b.useMemo(()=>X.getMonth(U),[X,U]),re=b.useMemo(()=>q!=null?X.getMonth(q):null,[q,X]),[Pe,fe]=b.useState(()=>re||X.getMonth(ne)),[Ie,le]=ji({name:"MonthCalendar",state:"hasFocus",controlled:A,default:o??!1}),oe=Fe(ve=>{le(ve),E&&E(ve)}),L=b.useCallback(ve=>{const ge=X.startOfMonth(x&&X.isAfter(U,g)?U:g),Ae=X.startOfMonth(m&&X.isBefore(U,y)?U:y),_e=X.startOfMonth(ve);return X.isBefore(_e,ge)||X.isAfter(_e,Ae)?!0:j?j(_e):!1},[m,x,y,g,U,j,X]),he=Fe((ve,ge)=>{if(P)return;const Ae=X.setMonth(q??ne,ge);k(Ae)}),ie=Fe(ve=>{L(X.setMonth(q??ne,ve))||(fe(ve),oe(!0),C&&C(ve))});b.useEffect(()=>{fe(ve=>re!==null&&ve!==re?re:ve)},[re]);const ae=Fe((ve,ge)=>{switch(ve.key){case"ArrowUp":ie((12+ge-3)%12),ve.preventDefault();break;case"ArrowDown":ie((12+ge+3)%12),ve.preventDefault();break;case"ArrowLeft":ie((12+ge+(H?1:-1))%12),ve.preventDefault();break;case"ArrowRight":ie((12+ge+(H?-1:1))%12),ve.preventDefault();break}}),te=Fe((ve,ge)=>{ie(ge)}),Ce=Fe((ve,ge)=>{Pe===ge&&oe(!1)});return t.jsx(HU,V({ref:r,className:Kt(ee.root,a),ownerState:se,role:"radiogroup","aria-labelledby":N,monthsPerRow:T},B,{children:Gp(X,q??ne).map(ve=>{const ge=X.getMonth(ve),Ae=X.format(ve,"monthShort"),_e=X.format(ve,"month"),Qe=ge===re,ke=p||L(ve);return t.jsx(BU,{selected:Qe,value:ge,onClick:he,onKeyDown:ae,autoFocus:Ie&&ge===Pe,disabled:ke,tabIndex:ge===Pe&&!ke?0:-1,onFocus:te,onBlur:Ce,"aria-current":G===ge?"date":void 0,"aria-label":_e,slots:M,slotProps:W,classes:c,children:Ae},Ae)})}))});function vw(e){return en("MuiYearCalendar",e)}const Ul=ln("MuiYearCalendar",["root","button","disabled","selected"]),YU=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],qU=(e,n)=>{const r={button:["button",n.isYearDisabled&&"disabled",n.isYearSelected&&"selected"]};return Gt(r,vw,e)},KU=Me("button",{name:"MuiYearCalendar",slot:"Button",overridesResolver:(e,n)=>[n.button,{[`&.${Ul.disabled}`]:n.disabled},{[`&.${Ul.selected}`]:n.selected}]})(({theme:e})=>V({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:Ee(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ee(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Ul.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${Ul.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),JU=b.memo(function(n){const{autoFocus:r,classes:s,disabled:o,selected:a,value:c,onClick:u,onKeyDown:d,onFocus:h,onBlur:p,slots:m,slotProps:x}=n,y=tt(n,YU),g=b.useRef(null),{ownerState:w}=Sn(),j=V({},w,{isYearDisabled:o,isYearSelected:a}),P=qU(s,j);Yr(()=>{var E;r&&((E=g.current)==null||E.focus())},[r]);const C=(m==null?void 0:m.yearButton)??KU,A=kt({elementType:C,externalSlotProps:x==null?void 0:x.yearButton,externalForwardedProps:y,additionalProps:{disabled:o,ref:g,type:"button",role:"radio","aria-checked":a,onClick:E=>u(E,c),onKeyDown:E=>d(E,c),onFocus:E=>h(E,c),onBlur:E=>p(E,c)},ownerState:j,className:P.button});return t.jsx(C,V({},A))}),XU=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"],QU=e=>Gt({root:["root"]},vw,e);function ZU(e,n){const r=zt({props:e,name:n}),s=em(r);return V({},r,s,{yearsPerRow:r.yearsPerRow??3,yearsOrder:r.yearsOrder??"asc"})}const ez=Me("div",{name:"MuiYearCalendar",slot:"Root",shouldForwardProp:e=>ks(e)&&e!=="yearsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:12,padding:"6px 0",overflowY:"auto",height:"100%",width:wi,maxHeight:JB,boxSizing:"border-box",position:"relative",variants:[{props:{yearsPerRow:3},style:{columnGap:24}},{props:{yearsPerRow:4},style:{columnGap:0,padding:"0 2px"}}]}),tz=Me("div",{name:"MuiYearCalendar",slot:"ButtonFiller"})({height:36,width:72}),nz=b.forwardRef(function(n,r){const s=ZU(n,"MuiYearCalendar"),{autoFocus:o,className:a,classes:c,value:u,defaultValue:d,referenceDate:h,disabled:p,disableFuture:m,disablePast:x,maxDate:y,minDate:g,onChange:w,readOnly:j,shouldDisableYear:P,onYearFocus:C,hasFocus:A,onFocusedViewChange:E,yearsOrder:T,yearsPerRow:R,timezone:N,gridLabelId:M,slots:W,slotProps:B}=s,q=tt(s,XU),{value:k,handleValueChange:Y,timezone:U}=Fo({name:"YearCalendar",timezone:N,value:u,defaultValue:d,referenceDate:h,onChange:w,valueManager:ar}),H=Oi(U),X=vs(),se=Wt(),{ownerState:ne}=Sn(),ee=b.useMemo(()=>ar.getInitialReferenceValue({value:k,utils:se,props:s,timezone:U,referenceDate:h,granularity:rs.year}),[]),G=QU(c),re=b.useMemo(()=>se.getYear(H),[se,H]),Pe=b.useMemo(()=>k!=null?se.getYear(k):null,[k,se]),[fe,Ie]=b.useState(()=>Pe||se.getYear(ee)),[le,oe]=ji({name:"YearCalendar",state:"hasFocus",controlled:A,default:o??!1}),L=Fe(K=>{oe(K),E&&E(K)}),he=b.useCallback(K=>{if(x&&se.isBeforeYear(K,H)||m&&se.isAfterYear(K,H)||g&&se.isBeforeYear(K,g)||y&&se.isAfterYear(K,y))return!0;if(!P)return!1;const me=se.startOfYear(K);return P(me)},[m,x,y,g,H,P,se]),ie=Fe((K,me)=>{if(j)return;const Xe=se.setYear(k??ee,me);Y(Xe)}),ae=Fe(K=>{he(se.setYear(k??ee,K))||(Ie(K),L(!0),C==null||C(K))});b.useEffect(()=>{Ie(K=>Pe!==null&&K!==Pe?Pe:K)},[Pe]);const te=T!=="desc"?R*1:R*-1,Ce=X&&T==="asc"||!X&&T==="desc"?-1:1,ve=Fe((K,me)=>{switch(K.key){case"ArrowUp":ae(me-te),K.preventDefault();break;case"ArrowDown":ae(me+te),K.preventDefault();break;case"ArrowLeft":ae(me-Ce),K.preventDefault();break;case"ArrowRight":ae(me+Ce),K.preventDefault();break}}),ge=Fe((K,me)=>{ae(me)}),Ae=Fe((K,me)=>{fe===me&&L(!1)}),_e=b.useRef(null),Qe=Xn(r,_e);b.useEffect(()=>{if(o||_e.current===null)return;const K=_e.current.querySelector('[tabindex="0"]');if(!K)return;const me=K.offsetHeight,Xe=K.offsetTop,jt=_e.current.clientHeight,tn=_e.current.scrollTop,Lt=Xe+me;me>jt||Xe<tn||(_e.current.scrollTop=Lt-jt/2-me/2)},[o]);const ke=se.getYearRange([g,y]);T==="desc"&&ke.reverse();let Ne=R-ke.length%R;return Ne===R&&(Ne=0),t.jsxs(ez,V({ref:Qe,className:Kt(G.root,a),ownerState:ne,role:"radiogroup","aria-labelledby":M,yearsPerRow:R},q,{children:[ke.map(K=>{const me=se.getYear(K),Xe=me===Pe,jt=p||he(K);return t.jsx(JU,{selected:Xe,value:me,onClick:ie,onKeyDown:ve,autoFocus:le&&me===fe,disabled:jt,tabIndex:me===fe&&!jt?0:-1,onFocus:ge,onBlur:Ae,"aria-current":re===me?"date":void 0,slots:W,slotProps:B,classes:c,children:se.format(K,"year")},se.format(K,"year"))}),Array.from({length:Ne},(K,me)=>t.jsx(tz,{},me))]}))}),rz=e=>en("MuiPickersCalendarHeader",e),sz=ln("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),oz=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","classes","timezone","format"],iz=["ownerState"],az=e=>Gt({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},rz,e),lz=Me("div",{name:"MuiPickersCalendarHeader",slot:"Root"})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),cz=Me("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer"})(({theme:e})=>V({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),uz=Me("div",{name:"MuiPickersCalendarHeader",slot:"Label"})({marginRight:6}),dz=Me(We,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton"})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${sz.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),hz=Me(TB,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon"})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),fz=b.forwardRef(function(n,r){const s=cs(),o=Wt(),a=zt({props:n,name:"MuiPickersCalendarHeader"}),{slots:c,slotProps:u,currentMonth:d,disabled:h,disableFuture:p,disablePast:m,maxDate:x,minDate:y,onMonthChange:g,onViewChange:w,view:j,reduceAnimations:P,views:C,labelId:A,className:E,classes:T,timezone:R,format:N=`${o.formats.month} ${o.formats.year}`}=a,M=tt(a,oz),{ownerState:W}=Sn(),B=az(T),q=(c==null?void 0:c.switchViewButton)??dz,k=kt({elementType:q,externalSlotProps:u==null?void 0:u.switchViewButton,additionalProps:{size:"small","aria-label":s.calendarViewSwitchingButtonAriaLabel(j)},ownerState:W,className:B.switchViewButton}),Y=(c==null?void 0:c.switchViewIcon)??hz,U=kt({elementType:Y,externalSlotProps:u==null?void 0:u.switchViewIcon,ownerState:W,className:B.switchViewIcon}),H=tt(U,iz),X=()=>g(o.addMonths(d,1)),se=()=>g(o.addMonths(d,-1)),ne=qB(d,{disableFuture:p,maxDate:x,timezone:R}),ee=KB(d,{disablePast:m,minDate:y,timezone:R}),G=()=>{if(!(C.length===1||!w||h))if(C.length===2)w(C.find(Pe=>Pe!==j)||C[0]);else{const Pe=C.indexOf(j)!==0?0:1;w(C[Pe])}};if(C.length===1&&C[0]==="year")return null;const re=o.formatByString(d,N);return t.jsxs(lz,V({},M,{ownerState:W,className:Kt(B.root,E),ref:r,children:[t.jsxs(cz,{role:"presentation",onClick:G,ownerState:W,"aria-live":"polite",className:B.labelContainer,children:[t.jsx(gw,{reduceAnimations:P,transKey:re,children:t.jsx(uz,{id:A,ownerState:W,className:B.label,children:re})}),C.length>1&&!h&&t.jsx(q,V({},k,{children:t.jsx(Y,V({},H))}))]}),t.jsx(Fc,{in:j==="day",appear:!P,enter:!P,children:t.jsx(VB,{slots:c,slotProps:u,onGoToPrevious:se,isPreviousDisabled:ee,previousLabel:s.previousMonth,onGoToNext:X,isNextDisabled:ne,nextLabel:s.nextMonth})})]}))}),pz="@media (prefers-reduced-motion: reduce)",hi=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),jy=hi&&hi[1]?parseInt(hi[1],10):null,wy=hi&&hi[2]?parseInt(hi[2],10):null,mz=jy&&jy<10||wy&&wy<13||!1;function jw(e){const n=kc(pz,{defaultMatches:!1});return e??(n||mz)}const xz=e=>en("MuiDateCalendar",e);ln("MuiDateCalendar",["root","viewTransitionContainer"]);const gz=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","classes","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"],bz=e=>Gt({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},xz,e);function yz(e,n){const r=zt({props:e,name:n}),s=jw(r.reduceAnimations),o=em(r);return V({},r,o,{loading:r.loading??!1,openTo:r.openTo??"day",views:r.views??["year","day"],reduceAnimations:s,renderLoading:r.renderLoading??(()=>t.jsx("span",{children:"..."}))})}const vz=Me(Hp,{name:"MuiDateCalendar",slot:"Root"})({display:"flex",flexDirection:"column",height:Si}),jz=Me(gw,{name:"MuiDateCalendar",slot:"ViewTransitionContainer"})({}),wz=b.forwardRef(function(n,r){const s=Wt(),{ownerState:o}=Sn(),a=du(),c=yz(n,"MuiDateCalendar"),{autoFocus:u,onViewChange:d,value:h,defaultValue:p,referenceDate:m,disableFuture:x,disablePast:y,onChange:g,onMonthChange:w,reduceAnimations:j,shouldDisableDate:P,shouldDisableMonth:C,shouldDisableYear:A,view:E,views:T,openTo:R,className:N,classes:M,disabled:W,readOnly:B,minDate:q,maxDate:k,disableHighlightToday:Y,focusedView:U,onFocusedViewChange:H,showDaysOutsideCurrentMonth:X,fixedWeekNumber:se,dayOfWeekFormatter:ne,slots:ee,slotProps:G,loading:re,renderLoading:Pe,displayWeekNumber:fe,yearsOrder:Ie,yearsPerRow:le,monthsPerRow:oe,timezone:L}=c,he=tt(c,gz),{value:ie,handleValueChange:ae,timezone:te}=Fo({name:"DateCalendar",timezone:L,value:h,defaultValue:p,referenceDate:m,onChange:g,valueManager:ar}),{view:Ce,setView:ve,focusedView:ge,setFocusedView:Ae,goToNextView:_e,setValueAndGoToNextView:Qe}=fu({view:E,views:T,openTo:R,onChange:ae,onViewChange:d,autoFocus:u,focusedView:U,onFocusedViewChange:H}),{referenceDate:ke,calendarState:Ne,setVisibleDate:K,isDateDisabled:me,onMonthSwitchingAnimationEnd:Xe}=fU({value:ie,referenceDate:m,reduceAnimations:j,onMonthChange:w,minDate:q,maxDate:k,shouldDisableDate:P,disablePast:y,disableFuture:x,timezone:te,getCurrentMonthFromVisibleDate:(Ct,Pn)=>s.isSameMonth(Ct,Pn)?Pn:s.startOfMonth(Ct)}),jt=W&&ie||q,tn=W&&ie||k,Lt=`${a}-grid-label`,At=ge!==null,Yt=(ee==null?void 0:ee.calendarHeader)??fz,On=kt({elementType:Yt,externalSlotProps:G==null?void 0:G.calendarHeader,additionalProps:{views:T,view:Ce,currentMonth:Ne.currentMonth,onViewChange:ve,onMonthChange:Ct=>K({target:Ct,reason:"header-navigation"}),minDate:jt,maxDate:tn,disabled:W,disablePast:y,disableFuture:x,reduceAnimations:j,timezone:te,labelId:Lt},ownerState:o}),ct=Fe(Ct=>{const Pn=s.startOfMonth(Ct),$n=s.endOfMonth(Ct),br=me(Ct)?_a({utils:s,date:Ct,minDate:s.isBefore(q,Pn)?Pn:q,maxDate:s.isAfter(k,$n)?$n:k,disablePast:y,disableFuture:x,isDateDisabled:me,timezone:te}):Ct;br?(Qe(br,"finish"),K({target:br,reason:"cell-interaction"})):(_e(),K({target:Pn,reason:"cell-interaction"}))}),mt=Fe(Ct=>{const Pn=s.startOfYear(Ct),$n=s.endOfYear(Ct),br=me(Ct)?_a({utils:s,date:Ct,minDate:s.isBefore(q,Pn)?Pn:q,maxDate:s.isAfter(k,$n)?$n:k,disablePast:y,disableFuture:x,isDateDisabled:me,timezone:te}):Ct;br?(Qe(br,"finish"),K({target:br,reason:"cell-interaction"})):(_e(),K({target:Pn,reason:"cell-interaction"}))}),Rt=Fe(Ct=>ae(Ct&&Rc(s,Ct,ie??ke),"finish",Ce));b.useEffect(()=>{s.isValid(ie)&&K({target:ie,reason:"controlled-value-change"})},[ie]);const Ht=bz(M),Cn={disablePast:y,disableFuture:x,maxDate:k,minDate:q},cn={disableHighlightToday:Y,readOnly:B,disabled:W,timezone:te,gridLabelId:Lt,slots:ee,slotProps:G},Hn=b.useRef(Ce);b.useEffect(()=>{Hn.current!==Ce&&(ge===Hn.current&&Ae(Ce,!0),Hn.current=Ce)},[ge,Ae,Ce]);const mn=b.useMemo(()=>[ie],[ie]);return t.jsxs(vz,V({ref:r,className:Kt(Ht.root,N),ownerState:o},he,{children:[t.jsx(Yt,V({},On,{slots:ee,slotProps:G})),t.jsx(jz,{reduceAnimations:j,className:Ht.viewTransitionContainer,transKey:Ce,ownerState:o,children:t.jsxs("div",{children:[Ce==="year"&&t.jsx(nz,V({},Cn,cn,{value:ie,onChange:mt,shouldDisableYear:A,hasFocus:At,onFocusedViewChange:Ct=>Ae("year",Ct),yearsOrder:Ie,yearsPerRow:le,referenceDate:ke})),Ce==="month"&&t.jsx(GU,V({},Cn,cn,{hasFocus:At,className:N,value:ie,onChange:ct,shouldDisableMonth:C,onFocusedViewChange:Ct=>Ae("month",Ct),monthsPerRow:oe,referenceDate:ke})),Ce==="day"&&t.jsx(LU,V({},Ne,Cn,cn,{onMonthSwitchingAnimationEnd:Xe,hasFocus:At,onFocusedDayChange:Ct=>K({target:Ct,reason:"cell-interaction"}),reduceAnimations:j,selectedDays:mn,onSelectedDaysChange:Rt,shouldDisableDate:P,shouldDisableMonth:C,shouldDisableYear:A,onFocusedViewChange:Ct=>Ae("day",Ct),showDaysOutsideCurrentMonth:X,fixedWeekNumber:se,dayOfWeekFormatter:ne,displayWeekNumber:fe,loading:re,renderLoading:Pe}))]})})]}))});function ww(e){return en("MuiPickersToolbar",e)}const Sz=ln("MuiPickersToolbar",["root","title","content"]);function Sw(){const{ownerState:e}=Sn(),n=vs();return b.useMemo(()=>V({},e,{toolbarDirection:n?"rtl":"ltr"}),[e,n])}const Cz=["children","className","classes","toolbarTitle","hidden","titleId","classes","landscapeDirection"],Pz=e=>Gt({root:["root"],title:["title"],content:["content"]},ww,e),Dz=Me("div",{name:"MuiPickersToolbar",slot:"Root"})(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:e.spacing(2,3),variants:[{props:{pickerOrientation:"landscape"},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),Tz=Me("div",{name:"MuiPickersToolbar",slot:"Content",shouldForwardProp:e=>ks(e)&&e!=="landscapeDirection"})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{pickerOrientation:"landscape"},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{pickerOrientation:"landscape",landscapeDirection:"row"},style:{flexDirection:"row"}}]}),Iz=b.forwardRef(function(n,r){const s=zt({props:n,name:"MuiPickersToolbar"}),{children:o,className:a,classes:c,toolbarTitle:u,hidden:d,titleId:h,landscapeDirection:p}=s,m=tt(s,Cz),x=Sw(),y=Pz(c);return d?null:t.jsxs(Dz,V({ref:r,className:Kt(y.root,a),ownerState:x},m,{children:[t.jsx(v,{color:"text.secondary",variant:"overline",id:h,className:y.title,children:u}),t.jsx(Tz,{className:y.content,ownerState:x,landscapeDirection:p,children:o})]}))});function Ez(e){return en("MuiPickerPopper",e)}ln("MuiPickerPopper",["root","paper"]);const Az=["PaperComponent","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],Rz=e=>Gt({root:["root"],paper:["paper"]},Ez,e),_z=Me(nE,{name:"MuiPickerPopper",slot:"Root"})(({theme:e})=>({zIndex:e.zIndex.modal})),Oz=Me(dt,{name:"MuiPickerPopper",slot:"Paper"})({outline:0,transformOrigin:"top center",variants:[{props:({popperPlacement:e})=>["top","top-start","top-end"].includes(e),style:{transformOrigin:"bottom center"}}]});function Mz(e,n){return n.documentElement.clientWidth<e.clientX||n.documentElement.clientHeight<e.clientY}function kz(e,n){const r=b.useRef(!1),s=b.useRef(!1),o=b.useRef(null),a=b.useRef(!1);b.useEffect(()=>{if(!e)return;function d(){a.current=!0}return document.addEventListener("mousedown",d,!0),document.addEventListener("touchstart",d,!0),()=>{document.removeEventListener("mousedown",d,!0),document.removeEventListener("touchstart",d,!0),a.current=!1}},[e]);const c=Fe(d=>{if(!a.current)return;const h=s.current;s.current=!1;const p=lh(o.current);if(!o.current||"clientX"in d&&Mz(d,p))return;if(r.current){r.current=!1;return}let m;d.composedPath?m=d.composedPath().indexOf(o.current)>-1:m=!p.documentElement.contains(d.target)||o.current.contains(d.target),!m&&!h&&n(d)}),u=()=>{s.current=!0};return b.useEffect(()=>{if(e){const d=lh(o.current),h=()=>{r.current=!0};return d.addEventListener("touchstart",c),d.addEventListener("touchmove",h),()=>{d.removeEventListener("touchstart",c),d.removeEventListener("touchmove",h)}}},[e,c]),b.useEffect(()=>{if(e){const d=lh(o.current);return d.addEventListener("click",c),()=>{d.removeEventListener("click",c),s.current=!1}}},[e,c]),[o,u,u]}const Nz=b.forwardRef((e,n)=>{const{PaperComponent:r,ownerState:s,children:o,paperSlotProps:a,paperClasses:c,onPaperClick:u,onPaperTouchStart:d}=e,h=tt(e,Az),p=kt({elementType:r,externalSlotProps:a,additionalProps:{tabIndex:-1,elevation:8,ref:n},className:c,ownerState:s});return t.jsx(r,V({},h,p,{onClick:m=>{var x;u(m),(x=p.onClick)==null||x.call(p,m)},onTouchStart:m=>{var x;d(m),(x=p.onTouchStart)==null||x.call(p,m)},ownerState:s,children:o}))});function Lz(e){const n=zt({props:e,name:"MuiPickerPopper"}),{children:r,placement:s="bottom-start",slots:o,slotProps:a,classes:c}=n,{open:u,popupRef:d,reduceAnimations:h}=ho(),{dismissViews:p,getCurrentViewMode:m,onPopperExited:x,triggerElement:y,viewContainerRole:g}=Sn();b.useEffect(()=>{function se(ne){u&&ne.key==="Escape"&&p()}return document.addEventListener("keydown",se),()=>{document.removeEventListener("keydown",se)}},[p,u]);const w=b.useRef(null);b.useEffect(()=>{g==="tooltip"||m()==="field"||(u?w.current=Vn(document):w.current&&w.current instanceof HTMLElement&&setTimeout(()=>{w.current instanceof HTMLElement&&w.current.focus()}))},[u,g,m]);const j=Rz(c),{ownerState:P,rootRefObject:C}=Sn(),A=V({},P,{popperPlacement:s}),E=Fe(()=>{g==="tooltip"?xV(()=>{var se,ne;(se=C.current)!=null&&se.contains(Vn(document))||(ne=d.current)!=null&&ne.contains(Vn(document))||p()}):p()}),[T,R,N]=kz(u,E),M=b.useRef(null),W=Xn(M,d),B=Xn(W,T),q=se=>{se.key==="Escape"&&(se.stopPropagation(),p())},k=(o==null?void 0:o.desktopTransition)??h?Fc:rE,Y=(o==null?void 0:o.desktopTrapFocus)??sE,U=(o==null?void 0:o.desktopPaper)??Oz,H=(o==null?void 0:o.popper)??_z,X=kt({elementType:H,externalSlotProps:a==null?void 0:a.popper,additionalProps:{transition:!0,role:g??void 0,open:u,placement:s,anchorEl:y,onKeyDown:q},className:j.root,ownerState:A});return t.jsx(H,V({},X,{children:({TransitionProps:se})=>t.jsx(Y,V({open:u,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:g==="tooltip",isEnabled:()=>!0},a==null?void 0:a.desktopTrapFocus,{children:t.jsx(k,V({},se,a==null?void 0:a.desktopTransition,{onExited:ne=>{var ee,G,re;x==null||x(),(G=(ee=a==null?void 0:a.desktopTransition)==null?void 0:ee.onExited)==null||G.call(ee,ne),(re=se==null?void 0:se.onExited)==null||re.call(se)},children:t.jsx(Nz,{PaperComponent:U,ownerState:A,ref:B,onPaperClick:R,onPaperTouchStart:N,paperClasses:j.paper,paperSlotProps:a==null?void 0:a.desktopPaper,children:r})}))}))}))}function Sy(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}function $z(e,n){const[r,s]=b.useState(Sy);return Yr(()=>{const o=()=>{s(Sy())};return window.addEventListener("orientationchange",o),()=>{window.removeEventListener("orientationchange",o)}},[]),mV(e,["hours","minutes","seconds"])?"portrait":n??r}function Fz(e){const{props:n,valueManager:r,validator:s}=e,{value:o,defaultValue:a,onChange:c,referenceDate:u,timezone:d,onAccept:h,closeOnSelect:p,open:m,onOpen:x,onClose:y}=n,{current:g}=b.useRef(a),{current:w}=b.useRef(o!==void 0),{current:j}=b.useRef(m!==void 0),P=Wt(),{timezone:C,value:A,handleValueChange:E}=Fo({name:"a picker component",timezone:d,value:o,defaultValue:g,referenceDate:u,onChange:c,valueManager:r}),[T,R]=b.useState(()=>({open:!1,lastExternalValue:A,clockShallowValue:void 0,lastCommittedValue:A,hasBeenModifiedSinceMount:!1})),{getValidationErrorForNewValue:N}=ew({props:n,validator:s,timezone:C,value:A,onError:n.onError}),M=Fe(k=>{const Y=typeof k=="function"?k(T.open):k;j||R(U=>V({},U,{open:Y})),Y&&x&&x(),Y||y==null||y()}),W=Fe((k,Y)=>{const{changeImportance:U="accept",skipPublicationIfPristine:H=!1,validationError:X,shortcut:se,shouldClose:ne=U==="accept"}=Y??{};let ee,G;!H&&!w&&!T.hasBeenModifiedSinceMount?(ee=!0,G=U==="accept"):(ee=!r.areValuesEqual(P,k,A),G=U==="accept"&&!r.areValuesEqual(P,k,T.lastCommittedValue)),R(fe=>V({},fe,{clockShallowValue:ee?void 0:fe.clockShallowValue,lastCommittedValue:G?A:fe.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let re=null;const Pe=()=>(re||(re={validationError:X??N(k)},se&&(re.shortcut=se)),re);ee&&E(k,Pe()),G&&h&&h(k,Pe()),ne&&M(!1)});A!==T.lastExternalValue&&R(k=>V({},k,{lastExternalValue:A,clockShallowValue:void 0,hasBeenModifiedSinceMount:!0}));const B=Fe((k,Y="partial")=>{if(Y==="shallow"){R(U=>V({},U,{clockShallowValue:k,hasBeenModifiedSinceMount:!0}));return}W(k,{changeImportance:Y==="finish"&&p?"accept":"set"})});b.useEffect(()=>{if(j){if(m===void 0)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");R(k=>V({},k,{open:m}))}},[j,m]);const q=b.useMemo(()=>r.cleanValue(P,T.clockShallowValue===void 0?A:T.clockShallowValue),[P,r,T.clockShallowValue,A]);return{timezone:C,state:T,setValue:W,setValueFromView:B,setOpen:M,value:A,viewValue:q}}const Wz=["className","sx"],Cw=({ref:e,props:n,valueManager:r,valueType:s,variant:o,validator:a,onPopperExited:c,autoFocusView:u,rendererInterceptor:d,localeText:h,viewContainerRole:p,getStepNavigation:m})=>{const{views:x,view:y,openTo:g,onViewChange:w,viewRenderers:j,reduceAnimations:P,orientation:C,disableOpenPicker:A,closeOnSelect:E,disabled:T,readOnly:R,formatDensity:N,enableAccessibleFieldDOMStructure:M,selectedSections:W,onSelectedSectionsChange:B,format:q,label:k,autoFocus:Y,name:U}=n,{className:H,sx:X}=n,se=tt(n,Wz),ne=du(),ee=Wt(),G=$o(),re=jw(P),Pe=$z(x,C),{current:fe}=b.useRef(g??null),[Ie,le]=b.useState(null),oe=b.useRef(null),L=b.useRef(null),he=b.useRef(null),ie=Xn(e,he),{timezone:ae,state:te,setOpen:Ce,setValue:ve,setValueFromView:ge,value:Ae,viewValue:_e}=Fz({props:n,valueManager:r,validator:a}),{view:Qe,setView:ke,defaultView:Ne,focusedView:K,setFocusedView:me,setValueAndGoToNextView:Xe,goToNextStep:jt,hasNextStep:tn,hasSeveralSteps:Lt}=fu({view:y,views:x,openTo:g,onChange:ge,onViewChange:w,autoFocus:u,getStepNavigation:m}),At=Fe(()=>ve(r.emptyValue)),Yt=Fe(()=>ve(r.getTodayValue(ee,ae,s))),On=Fe(()=>ve(Ae)),ct=Fe(()=>ve(te.lastCommittedValue,{skipPublicationIfPristine:!0})),mt=Fe(()=>{ve(Ae,{skipPublicationIfPristine:!0})}),{hasUIView:Rt,viewModeLookup:Ht,timeViewsCount:Cn}=b.useMemo(()=>x.reduce((xn,yr)=>{const za=j[yr]==null?"field":"UI";return xn.viewModeLookup[yr]=za,za==="UI"&&(xn.hasUIView=!0,Aa(yr)&&(xn.timeViewsCount+=1)),xn},{hasUIView:!1,viewModeLookup:{},timeViewsCount:0}),[j,x]),cn=Ht[Qe],Hn=Fe(()=>cn),[mn,Ct]=b.useState(cn==="UI"?Qe:null);mn!==Qe&&Ht[Qe]==="UI"&&Ct(Qe),Yr(()=>{cn==="field"&&te.open&&(Ce(!1),setTimeout(()=>{var xn,yr;(xn=L==null?void 0:L.current)==null||xn.setSelectedSections(Qe),(yr=L==null?void 0:L.current)==null||yr.focusField(Qe)}))},[Qe]),Yr(()=>{if(!te.open)return;let xn=Qe;cn==="field"&&mn!=null&&(xn=mn),xn!==Ne&&Ht[xn]==="UI"&&Ht[Ne]==="UI"&&(xn=Ne),xn!==Qe&&ke(xn),me(xn,!0)},[te.open]);const Pn=b.useMemo(()=>({isPickerValueEmpty:r.areValuesEqual(ee,Ae,r.emptyValue),isPickerOpen:te.open,isPickerDisabled:n.disabled??!1,isPickerReadOnly:n.readOnly??!1,pickerOrientation:Pe,pickerVariant:o}),[ee,r,Ae,te.open,Pe,o,n.disabled,n.readOnly]),$n=b.useMemo(()=>A||!Rt?"hidden":T||R?"disabled":"enabled",[A,Rt,T,R]),br=Fe(jt),po=b.useMemo(()=>E&&!Lt?[]:["cancel","nextOrAccept"],[E,Lt]),Qn=b.useMemo(()=>({setValue:ve,setOpen:Ce,clearValue:At,setValueToToday:Yt,acceptValueChanges:On,cancelValueChanges:ct,setView:ke,goToNextStep:br}),[ve,Ce,At,Yt,On,ct,ke,br]),yu=b.useMemo(()=>V({},Qn,{value:Ae,timezone:ae,open:te.open,views:x,view:mn,initialView:fe,disabled:T??!1,readOnly:R??!1,autoFocus:Y??!1,variant:o,orientation:Pe,popupRef:oe,reduceAnimations:re,triggerRef:le,triggerStatus:$n,hasNextStep:tn,fieldFormat:q??"",name:U,label:k,rootSx:X,rootRef:ie,rootClassName:H}),[Qn,Ae,ie,o,Pe,re,T,R,q,H,U,k,X,$n,tn,ae,te.open,mn,x,fe,Y]),vu=b.useMemo(()=>({dismissViews:mt,ownerState:Pn,hasUIView:Rt,getCurrentViewMode:Hn,rootRefObject:he,labelId:ne,triggerElement:Ie,viewContainerRole:p,defaultActionBarActions:po,onPopperExited:c}),[mt,Pn,Rt,Hn,ne,Ie,p,po,c]),ju=b.useMemo(()=>({formatDensity:N,enableAccessibleFieldDOMStructure:M,selectedSections:W,onSelectedSectionsChange:B,fieldRef:L}),[N,M,W,B,L]);return{providerProps:{localeText:h,contextValue:yu,privateContextValue:vu,actionsContextValue:Qn,fieldPrivateContextValue:ju,isValidContextValue:xn=>{const yr=a({adapter:G,value:xn,timezone:ae,props:n});return!r.hasError(yr)}},renderCurrentView:()=>{if(mn==null)return null;const xn=j[mn];if(xn==null)return null;const yr=V({},se,{views:x,timezone:ae,value:_e,onChange:Xe,view:mn,onViewChange:ke,showViewSwitcher:Cn>1,timeViewsCount:Cn},p==="tooltip"?{focusedView:null,onFocusedViewChange:()=>{}}:{focusedView:K,onFocusedViewChange:me});return d?t.jsx(d,{viewRenderers:j,popperView:mn,rendererProps:yr}):xn(yr)},ownerState:Pn}};function Pw(e){return en("MuiPickersLayout",e)}const ts=ln("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),Bz=["actions"],Vz=Me(an,{name:"MuiPickersLayout",slot:"ActionBar"})({});function Uz(e){const{actions:n}=e,r=tt(e,Bz),s=cs(),{clearValue:o,setValueToToday:a,acceptValueChanges:c,cancelValueChanges:u,goToNextStep:d,hasNextStep:h}=ho();if(n==null||n.length===0)return null;const p=n==null?void 0:n.map(m=>{switch(m){case"clear":return t.jsx(pe,{onClick:o,children:s.clearButtonLabel},m);case"cancel":return t.jsx(pe,{onClick:u,children:s.cancelButtonLabel},m);case"accept":return t.jsx(pe,{onClick:c,children:s.okButtonLabel},m);case"today":return t.jsx(pe,{onClick:a,children:s.todayButtonLabel},m);case"next":return t.jsx(pe,{onClick:d,children:s.nextStepButtonLabel},m);case"nextOrAccept":return h?t.jsx(pe,{onClick:d,children:s.nextStepButtonLabel},m):t.jsx(pe,{onClick:c,children:s.okButtonLabel},m);default:return null}});return t.jsx(Vz,V({},r,{children:p}))}const zz=b.memo(Uz),Hz=["items","changeImportance"],Gz=["getValue"],Yz=Me(gs,{name:"MuiPickersLayout",slot:"Shortcuts"})({});function qz(e){const{items:n,changeImportance:r="accept"}=e,s=tt(e,Hz),{setValue:o}=QV(),a=kB();if(n==null||n.length===0)return null;const c=n.map(u=>{let{getValue:d}=u,h=tt(u,Gz);const p=d({isValid:a});return V({},h,{label:h.label,onClick:()=>{o(p,{changeImportance:r,shortcut:h})},disabled:!a(p)})});return t.jsx(Yz,V({dense:!0,sx:[{maxHeight:Si,maxWidth:200,overflow:"auto"},...Array.isArray(s.sx)?s.sx:[s.sx]]},s,{children:c.map(u=>t.jsx(Br,{children:t.jsx(Ze,V({},u))},u.id??u.label))}))}const Kz=["ownerState"];function Jz(e){return e.view!==null}const Xz=(e,n)=>{const{pickerOrientation:r}=n;return Gt({root:["root",r==="landscape"&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},Pw,e)},Dw=e=>{const{ownerState:n,defaultActionBarActions:r}=Sn(),{view:s}=ho(),o=vs(),{children:a,slots:c,slotProps:u,classes:d}=e,h=b.useMemo(()=>V({},n,{layoutDirection:o?"rtl":"ltr"}),[n,o]),p=Xz(d,h),m=(c==null?void 0:c.actionBar)??zz,x=kt({elementType:m,externalSlotProps:u==null?void 0:u.actionBar,additionalProps:{actions:r},className:p.actionBar,ownerState:h}),y=tt(x,Kz),g=t.jsx(m,V({},y)),w=c==null?void 0:c.toolbar,j=kt({elementType:w,externalSlotProps:u==null?void 0:u.toolbar,className:p.toolbar,ownerState:h}),P=Jz(j)&&w?t.jsx(w,V({},j)):null,C=a,A=c==null?void 0:c.tabs,E=s&&A?t.jsx(A,V({className:p.tabs},u==null?void 0:u.tabs)):null,T=(c==null?void 0:c.shortcuts)??qz,R=kt({elementType:T,externalSlotProps:u==null?void 0:u.shortcuts,className:p.shortcuts,ownerState:h}),N=s&&T?t.jsx(T,V({},R)):null;return{toolbar:P,content:C,tabs:E,actionBar:g,shortcuts:N,ownerState:h}},Qz=(e,n)=>{const{pickerOrientation:r}=n;return Gt({root:["root",r==="landscape"&&"landscape"],contentWrapper:["contentWrapper"]},Pw,e)},Tw=Me("div",{name:"MuiPickersLayout",slot:"Root"})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${ts.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{pickerOrientation:"landscape"},style:{[`& .${ts.toolbar}`]:{gridColumn:1,gridRow:"2 / 3"},[`.${ts.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{pickerOrientation:"landscape",layoutDirection:"rtl"},style:{[`& .${ts.toolbar}`]:{gridColumn:3}}},{props:{pickerOrientation:"portrait"},style:{[`& .${ts.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${ts.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{pickerOrientation:"portrait",layoutDirection:"rtl"},style:{[`& .${ts.shortcuts}`]:{gridColumn:3}}}]}),Iw=Me("div",{name:"MuiPickersLayout",slot:"ContentWrapper"})({gridColumn:"2 / 4",gridRow:2,display:"flex",flexDirection:"column"}),Ew=b.forwardRef(function(n,r){const s=zt({props:n,name:"MuiPickersLayout"}),{toolbar:o,content:a,tabs:c,actionBar:u,shortcuts:d,ownerState:h}=Dw(s),{orientation:p,variant:m}=ho(),{sx:x,className:y,classes:g}=s,w=Qz(g,h);return t.jsxs(Tw,{ref:r,sx:x,className:Kt(w.root,y),ownerState:h,children:[p==="landscape"?d:o,p==="landscape"?o:d,t.jsx(Iw,{className:w.contentWrapper,ownerState:h,children:m==="desktop"?t.jsxs(b.Fragment,{children:[a,c]}):t.jsxs(b.Fragment,{children:[c,a]})}),u]})});function Aw(e){const{steps:n}=e;return YB({steps:n,isViewMatchingStep:(r,s)=>s.views==null||s.views.includes(r),onStepChange:({step:r,defaultView:s,setView:o,view:a,views:c})=>{const u=r.views==null?s:r.views.find(d=>c.includes(d));u!==a&&o(u)}})}const Zz=["props","steps"],eH=["ownerState"],tH=e=>{var R;let{props:n,steps:r}=e,s=tt(e,Zz);const{slots:o,slotProps:a,label:c,inputRef:u,localeText:d}=n,h=Aw({steps:r}),{providerProps:p,renderCurrentView:m,ownerState:x}=Cw(V({},s,{props:n,localeText:d,autoFocusView:!0,viewContainerRole:"dialog",variant:"desktop",getStepNavigation:h})),y=p.privateContextValue.labelId,g=((R=a==null?void 0:a.toolbar)==null?void 0:R.hidden)??!1,w=o.field,j=kt({elementType:w,externalSlotProps:a==null?void 0:a.field,additionalProps:V({},g&&{id:y}),ownerState:x}),P=tt(j,eH),C=o.layout??Ew;let A=y;g&&(c?A=`${y}-label`:A=void 0);const E=V({},a,{toolbar:V({},a==null?void 0:a.toolbar,{titleId:y}),popper:V({"aria-labelledby":A},a==null?void 0:a.popper)});return{renderPicker:()=>t.jsx(kj,V({},p,{children:t.jsxs(pw,{slots:o,slotProps:E,inputRef:u,children:[t.jsx(w,V({},P)),t.jsx(Lz,{slots:o,slotProps:E,children:t.jsx(C,V({},E==null?void 0:E.layout,{slots:o,slotProps:E,children:m()}))})]})}))}},fi=({view:e,onViewChange:n,views:r,focusedView:s,onFocusedViewChange:o,value:a,defaultValue:c,referenceDate:u,onChange:d,className:h,classes:p,disableFuture:m,disablePast:x,minDate:y,maxDate:g,shouldDisableDate:w,shouldDisableMonth:j,shouldDisableYear:P,reduceAnimations:C,onMonthChange:A,monthsPerRow:E,onYearChange:T,yearsOrder:R,yearsPerRow:N,slots:M,slotProps:W,loading:B,renderLoading:q,disableHighlightToday:k,readOnly:Y,disabled:U,showDaysOutsideCurrentMonth:H,dayOfWeekFormatter:X,sx:se,autoFocus:ne,fixedWeekNumber:ee,displayWeekNumber:G,timezone:re})=>t.jsx(wz,{view:e,onViewChange:n,views:r.filter(Ci),focusedView:s&&Ci(s)?s:null,onFocusedViewChange:o,value:a,defaultValue:c,referenceDate:u,onChange:d,className:h,classes:p,disableFuture:m,disablePast:x,minDate:y,maxDate:g,shouldDisableDate:w,shouldDisableMonth:j,shouldDisableYear:P,reduceAnimations:C,onMonthChange:A,monthsPerRow:E,onYearChange:T,yearsOrder:R,yearsPerRow:N,slots:M,slotProps:W,loading:B,renderLoading:q,disableHighlightToday:k,readOnly:Y,disabled:U,showDaysOutsideCurrentMonth:H,dayOfWeekFormatter:X,sx:se,autoFocus:ne,fixedWeekNumber:ee,displayWeekNumber:G,timezone:re}),nH=Me(sn)({[`& .${Mg.container}`]:{outline:0},[`& .${Mg.paper}`]:{outline:0,minWidth:wi}}),rH=Me(on)({"&:first-of-type":{padding:0}});function sH(e){const{children:n,slots:r,slotProps:s}=e,{open:o}=ho(),{dismissViews:a,onPopperExited:c}=Sn(),u=(r==null?void 0:r.dialog)??nH,d=(r==null?void 0:r.mobileTransition)??Fc;return t.jsx(u,V({open:o,onClose:()=>{a(),c==null||c()}},s==null?void 0:s.dialog,{TransitionComponent:d,TransitionProps:s==null?void 0:s.mobileTransition,PaperComponent:r==null?void 0:r.mobilePaper,PaperProps:s==null?void 0:s.mobilePaper,children:t.jsx(rH,{children:n})}))}const oH=["props","steps"],iH=["ownerState"],aH=e=>{var R;let{props:n,steps:r}=e,s=tt(e,oH);const{slots:o,slotProps:a,label:c,inputRef:u,localeText:d}=n,h=Aw({steps:r}),{providerProps:p,renderCurrentView:m,ownerState:x}=Cw(V({},s,{props:n,localeText:d,autoFocusView:!0,viewContainerRole:"dialog",variant:"mobile",getStepNavigation:h})),y=p.privateContextValue.labelId,g=((R=a==null?void 0:a.toolbar)==null?void 0:R.hidden)??!1,w=o.field,j=kt({elementType:w,externalSlotProps:a==null?void 0:a.field,additionalProps:V({},g&&{id:y}),ownerState:x}),P=tt(j,iH),C=o.layout??Ew;let A=y;g&&(c?A=`${y}-label`:A=void 0);const E=V({},a,{toolbar:V({},a==null?void 0:a.toolbar,{titleId:y}),mobilePaper:V({"aria-labelledby":A},a==null?void 0:a.mobilePaper)});return{renderPicker:()=>t.jsx(kj,V({},p,{children:t.jsxs(pw,{slots:o,slotProps:E,inputRef:u,children:[t.jsx(w,V({},P)),t.jsx(sH,{slots:o,slotProps:E,children:t.jsx(C,V({},E==null?void 0:E.layout,{slots:o,slotProps:E,children:m()}))})]})}))}};function lH(e){return en("MuiPickersToolbarText",e)}const cH=ln("MuiPickersToolbarText",["root"]),uH=["className","classes","selected","value"],dH=e=>Gt({root:["root"]},lH,e),hH=Me(v,{name:"MuiPickersToolbarText",slot:"Root"})(({theme:e})=>({transition:e.transitions.create("color"),color:(e.vars||e).palette.text.secondary,"&[data-selected]":{color:(e.vars||e).palette.text.primary}})),Rw=b.forwardRef(function(n,r){const s=zt({props:n,name:"MuiPickersToolbarText"}),{className:o,classes:a,selected:c,value:u}=s,d=tt(s,uH),h=dH(a);return t.jsx(hH,V({ref:r,className:Kt(h.root,o),component:"span",ownerState:s},c&&{"data-selected":!0},d,{children:u}))}),fH=["align","className","classes","selected","typographyClassName","value","variant","width"],pH=e=>Gt({root:["root"]},ww,e),mH=Me(pe,{name:"MuiPickersToolbarButton",slot:"Root"})({padding:0,minWidth:16,textTransform:"none"}),qs=b.forwardRef(function(n,r){const s=zt({props:n,name:"MuiPickersToolbarButton"}),{align:o,className:a,classes:c,selected:u,typographyClassName:d,value:h,variant:p,width:m}=s,x=tt(s,fH),y=pH(c);return t.jsx(mH,V({variant:"text",ref:r,className:Kt(y.root,a),ownerState:s},m?{sx:{width:m}}:{},x,{children:t.jsx(Rw,{align:o,className:d,variant:p,value:h,selected:u})}))}),_w=({view:e,onViewChange:n,focusedView:r,onFocusedViewChange:s,views:o,value:a,defaultValue:c,referenceDate:u,onChange:d,className:h,classes:p,disableFuture:m,disablePast:x,minTime:y,maxTime:g,shouldDisableTime:w,minutesStep:j,ampm:P,slots:C,slotProps:A,readOnly:E,disabled:T,sx:R,autoFocus:N,disableIgnoringDatePartForTimeValidation:M,timeSteps:W,skipDisabled:B,timezone:q})=>t.jsx(CV,{view:e,onViewChange:n,focusedView:r&&Aa(r)?r:null,onFocusedViewChange:s,views:o.filter(Aa),value:a,defaultValue:c,referenceDate:u,onChange:d,className:h,classes:p,disableFuture:m,disablePast:x,minTime:y,maxTime:g,shouldDisableTime:w,minutesStep:j,ampm:P,slots:C,slotProps:A,readOnly:E,disabled:T,sx:R,autoFocus:N,disableIgnoringDatePartForTimeValidation:M,timeStep:W==null?void 0:W.minutes,skipDisabled:B,timezone:q}),Mc=({view:e,onViewChange:n,focusedView:r,onFocusedViewChange:s,views:o,value:a,defaultValue:c,referenceDate:u,onChange:d,className:h,classes:p,disableFuture:m,disablePast:x,minTime:y,maxTime:g,shouldDisableTime:w,minutesStep:j,ampm:P,slots:C,slotProps:A,readOnly:E,disabled:T,sx:R,autoFocus:N,disableIgnoringDatePartForTimeValidation:M,timeSteps:W,skipDisabled:B,timezone:q})=>t.jsx(NV,{view:e,onViewChange:n,focusedView:r&&oi(r)?r:null,onFocusedViewChange:s,views:o.filter(Aa),value:a,defaultValue:c,referenceDate:u,onChange:d,className:h,classes:p,disableFuture:m,disablePast:x,minTime:y,maxTime:g,shouldDisableTime:w,minutesStep:j,ampm:P,slots:C,slotProps:A,readOnly:E,disabled:T,sx:R,autoFocus:N,disableIgnoringDatePartForTimeValidation:M,timeSteps:W,skipDisabled:B,timezone:q}),xH=["views","format"],Ow=(e,n,r)=>{let{views:s,format:o}=n,a=tt(n,xH);if(o)return o;const c=[],u=[];if(s.forEach(p=>{Aa(p)?u.push(p):Ci(p)&&c.push(p)}),u.length===0)return ly(e,V({views:c},a));if(c.length===0)return ay(e,V({views:u},a));const d=ay(e,V({views:u},a));return`${ly(e,V({views:c},a))} ${d}`},gH=(e,n,r)=>r?n.filter(s=>!oi(s)||s==="hours"):e?[...n,"meridiem"]:n,bH=(e,n)=>24*60/((e.hours??1)*(e.minutes??5))<=n;function yH({thresholdToRenderTimeInASingleColumn:e,ampm:n,timeSteps:r,views:s}){const o=e??24,a=V({hours:1,minutes:5,seconds:5},r),c=bH(a,o);return{thresholdToRenderTimeInASingleColumn:o,timeSteps:a,shouldRenderTimeInASingleColumn:c,views:gH(n,s,c)}}function vH(e){return en("MuiDateTimePickerTabs",e)}ln("MuiDateTimePickerTabs",["root"]);const jH=e=>Ci(e)?"date":"time",wH=e=>e==="date"?"day":"hours",SH=e=>Gt({root:["root"]},vH,e),CH=Me(so,{name:"MuiDateTimePickerTabs",slot:"Root"})(({theme:e})=>({boxShadow:`0 -1px 0 0 inset ${(e.vars||e).palette.divider}`,"&:last-child":{boxShadow:`0 1px 0 0 inset ${(e.vars||e).palette.divider}`,[`& .${oE.indicator}`]:{bottom:"auto",top:0}}})),PH=function(n){const r=zt({props:n,name:"MuiDateTimePickerTabs"}),{dateIcon:s=t.jsx(RB,{}),timeIcon:o=t.jsx(_B,{}),hidden:a=typeof window>"u"||window.innerHeight<667,className:c,classes:u,sx:d}=r,h=cs(),{ownerState:p}=Sn(),{view:m,setView:x}=ho(),y=SH(u),g=(w,j)=>{x(wH(j))};return a?null:t.jsxs(CH,{ownerState:p,variant:"fullWidth",value:jH(m),onChange:g,className:Kt(c,y.root),sx:d,children:[t.jsx(ir,{value:"date","aria-label":h.dateTableLabel,icon:t.jsx(b.Fragment,{children:s})}),t.jsx(ir,{value:"time","aria-label":h.timeTableLabel,icon:t.jsx(b.Fragment,{children:o})})]})};function DH(e){return en("MuiDateTimePickerToolbar",e)}const ch=ln("MuiDateTimePickerToolbar",["root","dateContainer","timeContainer","timeDigitsContainer","separator","timeLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),TH=["ampm","ampmInClock","toolbarFormat","toolbarPlaceholder","toolbarTitle","className","classes"],IH=(e,n)=>{const{pickerOrientation:r,toolbarDirection:s}=n;return Gt({root:["root"],dateContainer:["dateContainer"],timeContainer:["timeContainer",s==="rtl"&&"timeLabelReverse"],timeDigitsContainer:["timeDigitsContainer",s==="rtl"&&"timeLabelReverse"],separator:["separator"],ampmSelection:["ampmSelection",r==="landscape"&&"ampmLandscape"],ampmLabel:["ampmLabel"]},DH,e)},EH=Me(Iz,{name:"MuiDateTimePickerToolbar",slot:"Root",shouldForwardProp:e=>ks(e)&&e!=="toolbarVariant"})(({theme:e})=>({paddingLeft:16,paddingRight:16,justifyContent:"space-around",position:"relative",variants:[{props:{toolbarVariant:"desktop"},style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,[`& .${Sz.content} .${cH.root}[data-selected]`]:{color:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightBold}}},{props:{toolbarVariant:"desktop",pickerOrientation:"landscape"},style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:{toolbarVariant:"desktop",pickerOrientation:"portrait"},style:{paddingLeft:24,paddingRight:0}}]})),AH=Me("div",{name:"MuiDateTimePickerToolbar",slot:"DateContainer"})({display:"flex",flexDirection:"column",alignItems:"flex-start"}),RH=Me("div",{name:"MuiDateTimePickerToolbar",slot:"TimeContainer",shouldForwardProp:e=>ks(e)&&e!=="toolbarVariant"})({display:"flex",flexDirection:"row",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop",pickerOrientation:"portrait"},style:{gap:9,marginRight:4,alignSelf:"flex-end"}},{props:({pickerOrientation:e,toolbarVariant:n})=>e==="landscape"&&n!=="desktop",style:{flexDirection:"column"}},{props:({pickerOrientation:e,toolbarVariant:n,toolbarDirection:r})=>e==="landscape"&&n!=="desktop"&&r==="rtl",style:{flexDirection:"column-reverse"}}]}),_H=Me("div",{name:"MuiDateTimePickerToolbar",slot:"TimeDigitsContainer",shouldForwardProp:e=>ks(e)&&e!=="toolbarVariant"})({display:"flex",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop"},style:{gap:1.5}}]}),Cy=Me(Rw,{name:"MuiDateTimePickerToolbar",slot:"Separator",shouldForwardProp:e=>ks(e)&&e!=="toolbarVariant"})({margin:"0 4px 0 2px",cursor:"default",variants:[{props:{toolbarVariant:"desktop"},style:{margin:0}}]}),OH=Me("div",{name:"MuiDateTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(e,n)=>[{[`.${ch.ampmLabel}`]:n.ampmLabel},{[`&.${ch.ampmLandscape}`]:n.ampmLandscape},n.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${ch.ampmLabel}`]:{fontSize:17},variants:[{props:{pickerOrientation:"landscape"},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",width:"100%"}}]}),MH=b.createContext(null);function kH(e){const n=zt({props:e,name:"MuiDateTimePickerToolbar"}),{ampm:r,ampmInClock:s,toolbarFormat:o,toolbarPlaceholder:a="––",toolbarTitle:c,className:u,classes:d}=n,h=tt(n,TH),{value:p,setValue:m,disabled:x,readOnly:y,variant:g,orientation:w,view:j,setView:P,views:C}=ho(),A=cs(),E=Sw(),T=IH(d,E),R=Wt(),N=b.useContext(MH),M=N?N.value:p,W=N?N.setValue:m,B=N?N.view:j,q=N?N.setView:P,{meridiemMode:k,handleMeridiemChange:Y}=$j(M,r,G=>W(G,{changeImportance:"set"})),U=N!=null&&N.forceDesktopVariant?"desktop":g,H=U==="desktop",X=!!(r&&!s),se=c??A.dateTimePickerToolbarTitle,ne=b.useMemo(()=>R.isValid(M)?o?R.formatByString(M,o):R.format(M,"shortDate"):a,[M,o,a,R]),ee=(G,re)=>R.isValid(M)?R.format(M,G):re;return t.jsxs(EH,V({className:Kt(T.root,u),toolbarTitle:se,toolbarVariant:U},h,{ownerState:E,children:[t.jsxs(AH,{className:T.dateContainer,ownerState:E,children:[C.includes("year")&&t.jsx(qs,{tabIndex:-1,variant:"subtitle1",onClick:()=>q("year"),selected:B==="year",value:ee("year","–")}),C.includes("day")&&t.jsx(qs,{tabIndex:-1,variant:H?"h5":"h4",onClick:()=>q("day"),selected:B==="day",value:ne})]}),t.jsxs(RH,{className:T.timeContainer,ownerState:E,toolbarVariant:U,children:[t.jsxs(_H,{className:T.timeDigitsContainer,ownerState:E,toolbarVariant:U,children:[C.includes("hours")&&t.jsxs(b.Fragment,{children:[t.jsx(qs,{variant:H?"h5":"h3",width:H&&w==="portrait"?la:void 0,onClick:()=>q("hours"),selected:B==="hours",value:ee(r?"hours12h":"hours24h","--")}),t.jsx(Cy,{variant:H?"h5":"h3",value:":",className:T.separator,ownerState:E,toolbarVariant:U}),t.jsx(qs,{variant:H?"h5":"h3",width:H&&w==="portrait"?la:void 0,onClick:()=>q("minutes"),selected:B==="minutes"||!C.includes("minutes")&&B==="hours",value:ee("minutes","--"),disabled:!C.includes("minutes")})]}),C.includes("seconds")&&t.jsxs(b.Fragment,{children:[t.jsx(Cy,{variant:H?"h5":"h3",value:":",className:T.separator,ownerState:E,toolbarVariant:U}),t.jsx(qs,{variant:H?"h5":"h3",width:H&&w==="portrait"?la:void 0,onClick:()=>q("seconds"),selected:B==="seconds",value:ee("seconds","--")})]})]}),X&&!H&&t.jsxs(OH,{className:T.ampmSelection,ownerState:E,children:[t.jsx(qs,{variant:"subtitle2",selected:k==="am",typographyClassName:T.ampmLabel,value:ma(R,"am"),onClick:y?void 0:()=>Y("am"),disabled:x}),t.jsx(qs,{variant:"subtitle2",selected:k==="pm",typographyClassName:T.ampmLabel,value:ma(R,"pm"),onClick:y?void 0:()=>Y("pm"),disabled:x})]}),r&&H&&t.jsx(qs,{variant:"h5",onClick:()=>q("meridiem"),selected:B==="meridiem",value:M&&k?ma(R,k):"--",width:la})]})]}))}function Mw(e,n){var y;const r=Wt(),s=zt({props:e,name:n}),o=sw(s),a=s.ampm??r.is12HourCycleInCurrentLocale(),c=b.useMemo(()=>{var g;return((g=s.localeText)==null?void 0:g.toolbarTitle)==null?s.localeText:V({},s.localeText,{dateTimePickerToolbarTitle:s.localeText.toolbarTitle})},[s.localeText]),{openTo:u,views:d}=UB({views:s.views,openTo:s.openTo,defaultViews:["year","day","hours","minutes"],defaultOpenTo:"day"}),{shouldRenderTimeInASingleColumn:h,thresholdToRenderTimeInASingleColumn:p,views:m,timeSteps:x}=yH({thresholdToRenderTimeInASingleColumn:s.thresholdToRenderTimeInASingleColumn,ampm:a,timeSteps:s.timeSteps,views:d});return V({},s,o,{timeSteps:x,openTo:u,shouldRenderTimeInASingleColumn:h,thresholdToRenderTimeInASingleColumn:p,views:m,ampm:a,localeText:c,orientation:s.orientation??"portrait",slots:V({toolbar:kH,tabs:PH},s.slots),slotProps:V({},s.slotProps,{toolbar:V({ampm:a},(y=s.slotProps)==null?void 0:y.toolbar)})})}const NH=b.forwardRef(function(n,r){var g;const{toolbar:s,tabs:o,content:a,actionBar:c,shortcuts:u,ownerState:d}=Dw(n),{orientation:h}=ho(),{sx:p,className:m,classes:x}=n,y=c&&(((g=c.props.actions)==null?void 0:g.length)??0)>0;return t.jsxs(Tw,{ref:r,className:Kt(ts.root,x==null?void 0:x.root,m),sx:[{[`& .${ts.tabs}`]:{gridRow:4,gridColumn:"1 / 4"},[`& .${ts.actionBar}`]:{gridRow:5}},...Array.isArray(p)?p:[p]],ownerState:d,children:[h==="landscape"?u:s,h==="landscape"?s:u,t.jsxs(Iw,{className:Kt(ts.contentWrapper,x==null?void 0:x.contentWrapper),ownerState:d,sx:{display:"grid"},children:[a,o,y&&t.jsx(rn,{sx:{gridRow:3,gridColumn:"1 / 4"}})]}),c]})}),LH=["openTo","focusedView","timeViewsCount"],$H=function(n){var y,g;const{viewRenderers:r,popperView:s,rendererProps:o}=n,{openTo:a,focusedView:c,timeViewsCount:u}=o,d=tt(o,LH),h=V({},d,{autoFocus:!1,focusedView:null,sx:[{[`&.${Fh.root}`]:{borderBottom:0},[`&.${Fh.root}, .${Wh.root}, &.${$h.root}`]:{maxHeight:Si}}]}),p=oi(s),m=p?"day":s,x=p?s:"hours";return t.jsxs(b.Fragment,{children:[(y=r[m])==null?void 0:y.call(r,V({},o,{view:p?"day":s,focusedView:c&&Ci(c)?c:null,views:o.views.filter(Ci),sx:[{gridColumn:1},...h.sx]})),u>0&&t.jsxs(b.Fragment,{children:[t.jsx(rn,{orientation:"vertical",sx:{gridColumn:2}}),(g=r[x])==null?void 0:g.call(r,V({},h,{view:p?s:"hours",focusedView:c&&oi(c)?c:null,openTo:oi(a)?a:"hours",views:o.views.filter(oi),sx:[{gridColumn:3},...h.sx]}))]})]})},kw=b.forwardRef(function(n,r){var x,y,g;const s=Wt(),o=Mw(n,"MuiDesktopDateTimePicker"),a=o.shouldRenderTimeInASingleColumn?_w:Mc,c=V({day:fi,month:fi,year:fi,hours:a,minutes:a,seconds:a,meridiem:a},o.viewRenderers),u=o.ampmInClock??!0,h=((x=c.hours)==null?void 0:x.name)===Mc.name?o.views:o.views.filter(w=>w!=="meridiem"),p=V({},o,{viewRenderers:c,format:Ow(s,o),views:h,yearsPerRow:o.yearsPerRow??4,ampmInClock:u,slots:V({field:mw,layout:NH},o.slots),slotProps:V({},o.slotProps,{field:w=>{var j;return V({},Ea((j=o.slotProps)==null?void 0:j.field,w),Jj(o))},toolbar:V({hidden:!0,ampmInClock:u},(y=o.slotProps)==null?void 0:y.toolbar),tabs:V({hidden:!0},(g=o.slotProps)==null?void 0:g.tabs)})}),{renderPicker:m}=tH({ref:r,props:p,valueManager:ar,valueType:"date-time",validator:xu,rendererInterceptor:$H,steps:null});return m()});kw.propTypes={ampm:Z.bool,ampmInClock:Z.bool,autoFocus:Z.bool,className:Z.string,closeOnSelect:Z.bool,dayOfWeekFormatter:Z.func,defaultValue:Z.object,disabled:Z.bool,disableFuture:Z.bool,disableHighlightToday:Z.bool,disableIgnoringDatePartForTimeValidation:Z.bool,disableOpenPicker:Z.bool,disablePast:Z.bool,displayWeekNumber:Z.bool,enableAccessibleFieldDOMStructure:Z.any,fixedWeekNumber:Z.number,format:Z.string,formatDensity:Z.oneOf(["dense","spacious"]),inputRef:Dj,label:Z.node,loading:Z.bool,localeText:Z.object,maxDate:Z.object,maxDateTime:Z.object,maxTime:Z.object,minDate:Z.object,minDateTime:Z.object,minTime:Z.object,minutesStep:Z.number,monthsPerRow:Z.oneOf([3,4]),name:Z.string,onAccept:Z.func,onChange:Z.func,onClose:Z.func,onError:Z.func,onMonthChange:Z.func,onOpen:Z.func,onSelectedSectionsChange:Z.func,onViewChange:Z.func,onYearChange:Z.func,open:Z.bool,openTo:Z.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),orientation:Z.oneOf(["landscape","portrait"]),readOnly:Z.bool,reduceAnimations:Z.bool,referenceDate:Z.object,renderLoading:Z.func,selectedSections:Z.oneOfType([Z.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),Z.number]),shouldDisableDate:Z.func,shouldDisableMonth:Z.func,shouldDisableTime:Z.func,shouldDisableYear:Z.func,showDaysOutsideCurrentMonth:Z.bool,skipDisabled:Z.bool,slotProps:Z.object,slots:Z.object,sx:Z.oneOfType([Z.arrayOf(Z.oneOfType([Z.func,Z.object,Z.bool])),Z.func,Z.object]),thresholdToRenderTimeInASingleColumn:Z.number,timeSteps:Z.shape({hours:Z.number,minutes:Z.number,seconds:Z.number}),timezone:Z.string,value:Z.object,view:Z.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),viewRenderers:Z.shape({day:Z.func,hours:Z.func,meridiem:Z.func,minutes:Z.func,month:Z.func,seconds:Z.func,year:Z.func}),views:Z.arrayOf(Z.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:Z.oneOf(["asc","desc"]),yearsPerRow:Z.oneOf([3,4])};const FH=[{views:Wj},{views:Nj}],Nw=b.forwardRef(function(n,r){var x,y,g,w,j,P;const s=Wt(),o=Mw(n,"MuiMobileDateTimePicker"),a=o.shouldRenderTimeInASingleColumn?_w:Mc,c=V({day:fi,month:fi,year:fi,hours:a,minutes:a,seconds:a,meridiem:a},o.viewRenderers),u=o.ampmInClock??!1,h=((x=c.hours)==null?void 0:x.name)===Mc.name?o.views:o.views.filter(C=>C!=="meridiem"),p=V({},o,{viewRenderers:c,format:Ow(s,o),views:h,ampmInClock:u,slots:V({field:mw},o.slots),slotProps:V({},o.slotProps,{field:C=>{var A;return V({},Ea((A=o.slotProps)==null?void 0:A.field,C),Jj(o))},toolbar:V({hidden:!1,ampmInClock:u},(y=o.slotProps)==null?void 0:y.toolbar),tabs:V({hidden:!1},(g=o.slotProps)==null?void 0:g.tabs),layout:V({},(w=o.slotProps)==null?void 0:w.layout,{sx:bV([{[`& .${Fh.root}`]:{width:wi},[`& .${Wh.root}`]:{flex:1,maxHeight:Si-1,[`.${Wh.item}`]:{width:"auto"}},[`& .${$h.root}`]:{width:wi,maxHeight:Si,flex:1,[`.${$h.item}`]:{justifyContent:"center"}}}],(P=(j=o.slotProps)==null?void 0:j.layout)==null?void 0:P.sx)})})}),{renderPicker:m}=aH({ref:r,props:p,valueManager:ar,valueType:"date-time",validator:xu,steps:FH});return m()});Nw.propTypes={ampm:Z.bool,ampmInClock:Z.bool,autoFocus:Z.bool,className:Z.string,closeOnSelect:Z.bool,dayOfWeekFormatter:Z.func,defaultValue:Z.object,disabled:Z.bool,disableFuture:Z.bool,disableHighlightToday:Z.bool,disableIgnoringDatePartForTimeValidation:Z.bool,disableOpenPicker:Z.bool,disablePast:Z.bool,displayWeekNumber:Z.bool,enableAccessibleFieldDOMStructure:Z.any,fixedWeekNumber:Z.number,format:Z.string,formatDensity:Z.oneOf(["dense","spacious"]),inputRef:Dj,label:Z.node,loading:Z.bool,localeText:Z.object,maxDate:Z.object,maxDateTime:Z.object,maxTime:Z.object,minDate:Z.object,minDateTime:Z.object,minTime:Z.object,minutesStep:Z.number,monthsPerRow:Z.oneOf([3,4]),name:Z.string,onAccept:Z.func,onChange:Z.func,onClose:Z.func,onError:Z.func,onMonthChange:Z.func,onOpen:Z.func,onSelectedSectionsChange:Z.func,onViewChange:Z.func,onYearChange:Z.func,open:Z.bool,openTo:Z.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),orientation:Z.oneOf(["landscape","portrait"]),readOnly:Z.bool,reduceAnimations:Z.bool,referenceDate:Z.object,renderLoading:Z.func,selectedSections:Z.oneOfType([Z.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),Z.number]),shouldDisableDate:Z.func,shouldDisableMonth:Z.func,shouldDisableTime:Z.func,shouldDisableYear:Z.func,showDaysOutsideCurrentMonth:Z.bool,skipDisabled:Z.bool,slotProps:Z.object,slots:Z.object,sx:Z.oneOfType([Z.arrayOf(Z.oneOfType([Z.func,Z.object,Z.bool])),Z.func,Z.object]),thresholdToRenderTimeInASingleColumn:Z.number,timeSteps:Z.shape({hours:Z.number,minutes:Z.number,seconds:Z.number}),timezone:Z.string,value:Z.object,view:Z.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),viewRenderers:Z.shape({day:Z.func,hours:Z.func,meridiem:Z.func,minutes:Z.func,month:Z.func,seconds:Z.func,year:Z.func}),views:Z.arrayOf(Z.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:Z.oneOf(["asc","desc"]),yearsPerRow:Z.oneOf([3,4])};const WH=["desktopModeMediaQuery"],Py=b.forwardRef(function(n,r){const s=zt({props:n,name:"MuiDateTimePicker"}),{desktopModeMediaQuery:o=gV}=s,a=tt(s,WH);return kc(o,{defaultMatches:!0})?t.jsx(kw,V({ref:r},a)):t.jsx(Nw,V({ref:r},a))}),Lw=({initialData:e,onSubmit:n,submitButtonText:r="Submit",isEdit:s})=>{var j,P;const{profile:o,channelRelations:{hasChannel:a}}=js(),c=It(),[u,d]=b.useState({title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",startDate:(e==null?void 0:e.startDate)||new Date,endDate:(e==null?void 0:e.endDate)||new Date,channelId:(e==null?void 0:e.channelId)||"",options:(e==null?void 0:e.options)||[{text:""},{text:""}],media:(e==null?void 0:e.media)||[]}),[h,p]=b.useState(((j=e==null?void 0:e.media)==null?void 0:j.find(C=>C.type===fb.COVER))||null);b.useEffect(()=>{o&&(!o.staffChannels||o.staffChannels.length)},[o]);const m=(C,A)=>{d(E=>({...E,[C]:A}))},x=(C,A)=>{const E=[...u.options];E[C]={text:A},m("options",E)},y=()=>{m("options",[...u.options,{text:""}])},g=C=>{if(u.options.length<=2)return;const A=u.options.filter((E,T)=>T!==C);m("options",A)},w=C=>{C.preventDefault();const A={...u,media:h?[h]:[]};n(A)};return a()?t.jsx(D,{component:"form",onSubmit:w,children:t.jsxs($,{container:!0,spacing:3,children:[t.jsx($,{item:!0,xs:12,children:t.jsxs(vt,{fullWidth:!0,disabled:s,children:[t.jsx(Tt,{id:"channel-select-label",children:"Channel"}),t.jsx(St,{labelId:"channel-select-label",value:u.channelId,label:"Channel",onChange:C=>m("channelId",C.target.value),required:!0,children:(P=o==null?void 0:o.staffChannels)==null?void 0:P.map(C=>t.jsx(je,{value:C.channelId,children:C.channel.name},C.id))})]})}),t.jsx($,{item:!0,xs:12,children:t.jsx(rt,{fullWidth:!0,label:"Poll Title",value:u.title,onChange:C=>m("title",C.target.value),required:!0})}),t.jsx($,{item:!0,xs:12,children:t.jsx(rt,{fullWidth:!0,label:"Description",value:u.description,onChange:C=>m("description",C.target.value),multiline:!0,rows:4})}),t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(Py,{label:"Start Date",value:u.startDate,onChange:C=>m("startDate",C),sx:{width:"100%"}})}),t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(Py,{label:"End Date",value:u.endDate,onChange:C=>m("endDate",C),sx:{width:"100%"}})}),t.jsx($,{item:!0,xs:12,children:t.jsxs(dt,{sx:{p:3,mb:2},children:[t.jsx(v,{variant:"h6",sx:{mb:3},children:"Media"}),t.jsx(de,{spacing:4,children:t.jsx(D,{children:t.jsx(l0,{title:"Cover Media",description:"Upload an image or short video that will be displayed with your poll and in previews.",value:h?{id:h.id||"0",url:h.url,type:h.type,format:h.format}:null,onChange:C=>p(C?{id:C.id,url:C.url,type:C.type,format:C.format,pollId:""}:null),mediaTypeId:fb.COVER,useNewsFormats:!1})})})]})}),t.jsx($,{item:!0,xs:12,children:t.jsxs(dt,{sx:{p:2,mb:2},children:[t.jsx(v,{variant:"h6",sx:{mb:2},children:"Poll Options"}),u.options.map((C,A)=>t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(rt,{fullWidth:!0,label:`Option ${A+1}`,value:C.text,onChange:E=>x(A,E.target.value),required:!0,sx:{mr:1}}),t.jsx(We,{onClick:()=>g(A),disabled:u.options.length<=2,children:t.jsx(Lo,{})})]},A)),t.jsx(pe,{startIcon:t.jsx(bp,{}),onClick:y,variant:"outlined",size:"small",children:"Add Option"})]})}),t.jsx($,{item:!0,xs:12,children:t.jsx(pe,{type:"submit",variant:"contained",size:"large",fullWidth:!0,children:r})})]})}):t.jsx(D,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",p:3},children:t.jsx(lo,{title:"Channel Required",description:"You need to create a channel before you can start creating polls.",icon:t.jsx(La,{sx:{fontSize:48}}),action:{label:"Create Channel",onClick:()=>c(ye.STUDIO_CHANNEL_CREATE)}})})},BH=()=>{const{api:e}=Je(),n=It(),{execute:r}=et(),s=async o=>{if(!o)return;await r(()=>e==null?void 0:e.studioApi.createPoll(o),{showSuccessMessage:!0,successMessage:"Poll created successfully!"})&&n(`${ye.STUDIO_POLLS}`)};return t.jsxs(bt,{sx:{maxWidth:800,mx:"auto",p:3},children:[t.jsx(v,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Create Poll"}),t.jsx(Lw,{onSubmit:s,submitButtonText:"Create Poll"})]})},VH=()=>{const{id:e}=qr(),n=It(),{api:r}=Je(),[s,o]=b.useState(null),{execute:a}=et(),{execute:c}=et();b.useEffect(()=>{(async()=>{if(!e)return;const h=await a(()=>r==null?void 0:r.pollApi.get(e),{showErrorToast:!0});h&&o(h)})()},[e,r==null?void 0:r.pollApi,a]);const u=async d=>{e&&(await c(()=>r==null?void 0:r.pollApi.update(e,d),{showSuccessMessage:!0,successMessage:"Poll updated successfully!"}),n(ye.STUDIO_POLL_VIEW.replace(":id",e)))};return s?t.jsxs(bt,{sx:{maxWidth:800,mx:"auto",p:3},children:[t.jsx(v,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Edit Poll"}),t.jsx(Lw,{initialData:{title:s.title,description:s.description,startDate:s.startDate,endDate:s.endDate,channelId:s.channel.id,options:s.options.map(d=>({text:d.text,id:d.id}))},onSubmit:u,submitButtonText:"Update Poll"})]}):null},UH=({poll:e})=>{const n=_n(),r=e.statistics.totalVotes;return t.jsx(D,{children:e.options.map(s=>{const o=r>0?s.votes/r*100:0;return t.jsxs(D,{sx:{mb:2},children:[t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[t.jsx(v,{variant:"body1",children:s.text}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:[s.votes," votes (",o.toFixed(1),"%)"]})]}),t.jsx(_o,{variant:"determinate",value:o,sx:{height:8,borderRadius:1,bgcolor:Ee(n.palette.primary.main,.1),"& .MuiLinearProgress-bar":{borderRadius:1,bgcolor:n.palette.primary.main}}})]},s.id)})})};var om={},zH=at;Object.defineProperty(om,"__esModule",{value:!0});var $w=om.default=void 0,HH=zH(lt()),GH=t;$w=om.default=(0,HH.default)((0,GH.jsx)("path",{d:"M18 13h-.68l-2 2h1.91L19 17H5l1.78-2h2.05l-2-2H6l-3 3v4c0 1.1.89 2 1.99 2H19c1.1 0 2-.89 2-2v-4zm-1-5.05-4.95 4.95-3.54-3.54 4.95-4.95zm-4.24-5.66L6.39 8.66c-.39.39-.39 1.02 0 1.41l4.95 4.95c.39.39 1.02.39 1.41 0l6.36-6.36c.39-.39.39-1.02 0-1.41L14.16 2.3c-.38-.4-1.01-.4-1.4-.01"}),"HowToVote");const YH=()=>t.jsx(bt,{maxWidth:"lg",sx:{mt:4},children:t.jsxs($,{container:!0,spacing:4,children:[t.jsx($,{item:!0,xs:12,children:t.jsxs(D,{sx:{mb:3},children:[t.jsx(ce,{variant:"text",width:"60%",height:40}),t.jsx(ce,{variant:"text",width:"40%",height:24})]})}),t.jsx($,{item:!0,xs:12,md:8,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsx(ce,{variant:"text",width:"50%",height:32,sx:{mb:2}}),t.jsx(de,{spacing:2,children:[1,2,3,4].map(e=>t.jsxs(D,{children:[t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsx(ce,{variant:"text",width:"60%"}),t.jsx(ce,{variant:"text",width:"20%"})]}),t.jsx(ce,{variant:"rectangular",width:"100%",height:20,sx:{borderRadius:1}})]},e))})]})})}),t.jsx($,{item:!0,xs:12,md:4,children:t.jsx(de,{spacing:3,children:[1,2].map(e=>t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsx(ce,{variant:"text",width:"50%",height:24}),t.jsx(ce,{variant:"text",width:"70%",height:40})]})},e))})})]})}),qH=()=>{var y;const{id:e}=qr(),{api:n}=Je(),{execute:r}=et(),[s,o]=b.useState(null),[a,c]=b.useState(!0),[u,d]=b.useState(!1);b.useEffect(()=>{(async()=>{if(e){c(!0);const w=await r(()=>n==null?void 0:n.pollApi.get(e),{showErrorToast:!0});w&&o(w),c(!1)}})()},[e,r]);const h=async g=>{if(!e)return;if(await r(()=>n==null?void 0:n.pollApi.convertToNews(e,g),{showSuccessMessage:!0,successMessage:"Poll converted to news successfully!"})){const j=await r(()=>n==null?void 0:n.pollApi.get(e),{showErrorToast:!0});j&&o(j)}};if(a)return t.jsx(YH,{});if(!s)return t.jsx(bt,{maxWidth:"lg",sx:{mt:4},children:t.jsx(v,{variant:"h4",children:"Poll not found"})});const p=new Date>=new Date(s.startDate)&&new Date<=new Date(s.endDate),m=new Date>=new Date(s.startDate),x=!s.isConverted&&!((y=s.stats)!=null&&y.hasEnded);return t.jsxs(bt,{maxWidth:"lg",sx:{mt:4},children:[t.jsxs($,{container:!0,spacing:4,children:[t.jsxs($,{item:!0,xs:12,children:[t.jsxs(D,{sx:{mb:3},children:[t.jsx(v,{variant:"h4",gutterBottom:!0,children:s.title}),t.jsx(v,{variant:"body1",color:"text.secondary",children:s.description})]}),t.jsxs(D,{sx:{display:"flex",gap:1,mb:3,alignItems:"center",justifyContent:"space-between"},children:[t.jsxs(D,{sx:{display:"flex",gap:1},children:[t.jsx(Ze,{label:p?"Active":m?"Ended":"Scheduled",color:p?"success":m?"error":"warning"}),s.isTrending&&t.jsx(Ze,{icon:t.jsx(hf,{}),label:"Trending",color:"primary"}),s.isConverted&&t.jsx(Ze,{icon:t.jsx(Ac,{}),label:"Converted to News",color:"info"})]}),x&&t.jsx(pe,{variant:"contained",startIcon:t.jsx(Ac,{}),onClick:()=>d(!0),size:"small",children:"Convert to News"})]})]}),t.jsx($,{item:!0,xs:12,md:8,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Poll Results"}),t.jsx(UH,{poll:s})]})})}),t.jsx($,{item:!0,xs:12,md:4,children:t.jsxs(de,{spacing:3,children:[t.jsx(dt,{elevation:0,sx:{p:2,bgcolor:"primary.light",color:"primary.contrastText",borderRadius:2},children:t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx($w,{fontSize:"large"}),t.jsxs(D,{children:[t.jsx(v,{variant:"overline",children:"Total Votes"}),t.jsx(v,{variant:"h4",children:s.statistics.totalVotes})]})]})}),t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Time Frame"}),t.jsxs(de,{spacing:2,children:[t.jsxs(D,{children:[t.jsx(v,{variant:"caption",color:"text.secondary",children:"Start Date"}),t.jsx(v,{children:new Date(s.startDate).toLocaleString()})]}),t.jsxs(D,{children:[t.jsx(v,{variant:"caption",color:"text.secondary",children:"End Date"}),t.jsx(v,{children:new Date(s.endDate).toLocaleString()})]})]})]})})]})})]}),t.jsx(Pj,{open:u,poll:s,onClose:()=>d(!1),onConvert:h})]})};function KH(e){const{children:n,value:r,index:s,...o}=e;return t.jsx("div",{role:"tabpanel",hidden:r!==s,id:`expense-order-tabpanel-${s}`,"aria-labelledby":`expense-order-tab-${s}`,...o,children:r===s&&t.jsx(D,{sx:{py:3},children:n})})}const JH=()=>{const e=It(),{api:n}=Je(),[r,s]=b.useState(0),[o,a]=b.useState([]),[c,u]=b.useState(!0),{execute:d}=et(),h=[{label:"All",status:void 0},{label:"Draft",status:Ye.DRAFT},{label:"Submitted",status:Ye.SUBMITTED},{label:"Approved",status:Ye.APPROVED},{label:"Paid",status:Ye.PAID},{label:"Rejected",status:Ye.REJECTED}],p=async P=>{u(!0);const C=await d(()=>n.expenseOrderApi.getMyExpenseOrders({page:1,limit:50},P),{showErrorToast:!0});C&&a(C.items),u(!1)};b.useEffect(()=>{p(h[r].status)},[r,d]);const m=(P,C)=>{s(C)},x=P=>{e(ye.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",P.id))},y=P=>{e(ye.STUDIO_EXPENSE_ORDER_EDIT.replace(":id",P.id))},g=async P=>{await d(()=>n.expenseOrderApi.submitExpenseOrder(P.id),{showSuccessMessage:!0,successMessage:"Expense order submitted successfully!"})&&p(h[r].status)},w=async P=>{await d(()=>n.expenseOrderApi.cancelExpenseOrder(P.id),{showSuccessMessage:!0,successMessage:"Expense order cancelled successfully!"})&&p(h[r].status)},j=()=>{e(ye.STUDIO_EXPENSE_ORDER_CREATE)};return t.jsxs(D,{sx:{p:3},children:[t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[t.jsx(v,{variant:"h4",component:"h1",sx:{fontWeight:600},children:"Expense Orders"}),t.jsx(pe,{variant:"contained",startIcon:t.jsx(Ur,{}),onClick:j,children:"Create New"})]}),t.jsx(D,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:t.jsx(so,{value:r,onChange:m,"aria-label":"expense order status tabs",children:h.map((P,C)=>t.jsx(ir,{label:P.label},C))})}),h.map((P,C)=>t.jsx(KH,{value:r,index:C,children:c?t.jsx(D,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(zn,{})}):o.length===0?t.jsxs(D,{sx:{textAlign:"center",py:8},children:[t.jsx(v,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"No expense orders found"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:P.status?`No ${P.label.toLowerCase()} expense orders`:"You haven't created any expense orders yet"}),t.jsx(pe,{variant:"contained",startIcon:t.jsx(Ur,{}),onClick:j,children:"Create Your First Expense Order"})]}):t.jsx($,{container:!0,spacing:3,children:o.map(A=>t.jsx($,{item:!0,xs:12,md:6,lg:4,children:t.jsx(ap,{expenseOrder:A,onView:x,onEdit:y,onSubmit:g,onCancel:w,userRole:"journalist"})},A.id))})},C))]})},XH=()=>{var h;const e=It(),{api:n}=Je(),{profile:r}=js(),{execute:s,loading:o}=et(),a=((h=r==null?void 0:r.staffChannels)==null?void 0:h.map(p=>p.channel))||[],c=o0(),u=async p=>{const m=await s(()=>n.expenseOrderApi.createExpenseOrder(p),{showSuccessMessage:!0,successMessage:"Expense order created successfully!"});m&&e(ye.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",m.id))},d=()=>{e(ye.STUDIO_EXPENSE_ORDERS)};return t.jsxs(D,{sx:{p:3},children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(pe,{startIcon:t.jsx(Js,{}),onClick:d,sx:{mr:2},children:"Back"}),t.jsx(v,{variant:"h4",component:"h1",sx:{fontWeight:600},children:"Create Expense Order"})]}),a.length===0&&!o?t.jsxs(D,{sx:{textAlign:"center",py:8,bgcolor:"background.paper",borderRadius:1},children:[t.jsx(v,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"No Channels Available"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"You need to be a member of at least one channel to create expense orders."})]}):t.jsx(d0,{channels:a,expenseTypes:c,onSave:u,loading:o,isEdit:!1})]})},QH=()=>{var w;const e=It(),{id:n}=qr(),{api:r}=Je(),{profile:s}=js(),[o,a]=b.useState(null),[c,u]=b.useState(!0),{execute:d,loading:h}=et(),p=((w=s==null?void 0:s.staffChannels)==null?void 0:w.map(j=>j.channel))||[],m=o0();b.useEffect(()=>{(async()=>{if(n)try{u(!0);const P=await d(()=>r.expenseOrderApi.getExpenseOrder(n),{showErrorToast:!0});P&&a(P)}finally{u(!1)}})()},[n,d]);const x=async j=>{if(!n)return;const P=await d(()=>r.expenseOrderApi.updateExpenseOrder(n,j),{showSuccessMessage:!0,successMessage:"Expense order updated successfully!"});P&&(a(P),e(ye.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",P.id)))},y=async j=>{await d(()=>r.expenseOrderApi.submitExpenseOrder(j.id),{showSuccessMessage:!0,successMessage:"Expense order submitted successfully!"})&&e(ye.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",j.id))},g=()=>{e(o?ye.STUDIO_EXPENSE_ORDER_VIEW.replace(":id",o.id):ye.STUDIO_EXPENSE_ORDERS)};return c?t.jsx(D,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:t.jsx(zn,{})}):o?o.status!==Ye.DRAFT?t.jsx(D,{sx:{p:3},children:t.jsxs(D,{sx:{textAlign:"center",py:8,bgcolor:"background.paper",borderRadius:1},children:[t.jsx(v,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"Cannot Edit Expense Order"}),t.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"This expense order cannot be edited because it has already been submitted."}),t.jsx(pe,{startIcon:t.jsx(Js,{}),onClick:g,children:"Back to Expense Order"})]})}):t.jsxs(D,{sx:{p:3},children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(pe,{startIcon:t.jsx(Js,{}),onClick:g,sx:{mr:2},children:"Back"}),t.jsx(v,{variant:"h4",component:"h1",sx:{fontWeight:600},children:"Edit Expense Order"})]}),t.jsx(d0,{expenseOrder:o,channels:p,expenseTypes:m,onSave:x,onSubmit:y,loading:h,isEdit:!0})]}):t.jsx(D,{sx:{p:3},children:t.jsxs(D,{sx:{textAlign:"center",py:8,bgcolor:"background.paper",borderRadius:1},children:[t.jsx(v,{variant:"h6",color:"text.secondary",sx:{mb:2},children:"Expense Order Not Found"}),t.jsx(pe,{startIcon:t.jsx(Js,{}),onClick:g,children:"Back"})]})})},ZH=()=>{const e=It(),{id:n}=qr(),{api:r}=Je(),[s,o]=b.useState(null),[a,c]=b.useState(!0),[u,d]=b.useState(!1),[h,p]=b.useState(null),[m,x]=b.useState(!1),[y,g]=b.useState(""),w=async()=>{if(n)try{c(!0),p(null);const M=await r.expenseOrderApi.getExpenseOrder(n);o(M)}catch(M){p(M.message||"Failed to fetch expense order")}finally{c(!1)}};b.useEffect(()=>{w()},[n]);const j=(M,W)=>new Intl.NumberFormat("en-US",{style:"currency",currency:W}).format(M),P=()=>{e(ye.STUDIO_EXPENSE_ORDERS)},C=()=>{s&&e(ye.STUDIO_EXPENSE_ORDER_EDIT.replace(":id",s.id))},A=async()=>{if(s){d(!0);try{await r.expenseOrderApi.submitExpenseOrder(s.id),await w()}catch(M){p(M.message||"Failed to submit expense order")}finally{d(!1)}}},E=async()=>{if(s){d(!0);try{await r.expenseOrderApi.cancelExpenseOrder(s.id,y),await w(),x(!1),g("")}catch(M){p(M.message||"Failed to cancel expense order")}finally{d(!1)}}};if(a)return t.jsx(D,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:t.jsx(zn,{})});if(h||!s)return t.jsxs(D,{sx:{p:3},children:[t.jsx(it,{severity:"error",children:h||"Expense order not found"}),t.jsx(pe,{startIcon:t.jsx(Js,{}),onClick:P,sx:{mt:2},children:"Back to Expense Orders"})]});const T=s.status===Ye.DRAFT,R=s.status===Ye.DRAFT,N=[Ye.DRAFT,Ye.SUBMITTED].includes(s.status);return t.jsxs(D,{sx:{p:3},children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(pe,{startIcon:t.jsx(Js,{}),onClick:P,sx:{mr:2},children:"Back"}),t.jsx(v,{variant:"h4",component:"h1",sx:{fontWeight:600,flex:1},children:"Expense Order Details"}),t.jsx(ip,{status:s.status})]}),h&&t.jsx(it,{severity:"error",sx:{mb:3},children:h}),t.jsxs($,{container:!0,spacing:3,children:[t.jsxs($,{item:!0,xs:12,md:8,children:[t.jsxs(dt,{sx:{p:3,mb:3},children:[t.jsx(v,{variant:"h5",sx:{mb:2,fontWeight:600},children:s.title}),t.jsx(v,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:s.description}),t.jsx(rn,{sx:{my:3}}),t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Channel"}),t.jsx(v,{variant:"body1",sx:{fontWeight:500},children:s.channel.name})]}),t.jsxs($,{item:!0,xs:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Expense Type"}),t.jsx(v,{variant:"body1",sx:{fontWeight:500},children:s.type.name})]}),t.jsxs($,{item:!0,xs:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Amount"}),t.jsx(v,{variant:"h6",sx:{fontWeight:700,color:"primary.main"},children:j(s.amount,s.currency)})]}),t.jsxs($,{item:!0,xs:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(v,{variant:"body1",children:Xf(new Date(s.createdAt),"PPP")})]})]}),s.receiptUrl&&t.jsxs(t.Fragment,{children:[t.jsx(rn,{sx:{my:3}}),t.jsxs(D,{children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Receipt"}),t.jsxs(Lc,{href:s.receiptUrl,target:"_blank",rel:"noopener noreferrer",sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Os,{fontSize:"small"}),"View Receipt"]})]})]}),s.notes&&t.jsxs(t.Fragment,{children:[t.jsx(rn,{sx:{my:3}}),t.jsxs(D,{children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Notes"}),t.jsx(v,{variant:"body1",sx:{fontStyle:"italic"},children:s.notes})]})]})]}),t.jsxs(dt,{sx:{p:3},children:[t.jsx(v,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Actions"}),t.jsxs(D,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[T&&t.jsx(pe,{variant:"outlined",startIcon:t.jsx(as,{}),onClick:C,disabled:u,children:"Edit"}),R&&t.jsx(pe,{variant:"contained",startIcon:t.jsx($c,{}),onClick:A,disabled:u,children:"Submit for Approval"}),N&&t.jsx(pe,{variant:"outlined",color:"error",startIcon:t.jsx(oo,{}),onClick:()=>x(!0),disabled:u,children:"Cancel"})]})]})]}),t.jsxs($,{item:!0,xs:12,md:4,children:[t.jsxs(dt,{sx:{p:3,mb:3},children:[t.jsx(v,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Timeline"}),t.jsxs(D,{sx:{display:"flex",flexDirection:"column",gap:2},children:[t.jsxs(D,{children:[t.jsx(v,{variant:"body2",sx:{fontWeight:500},children:"Created"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:ss(new Date(s.createdAt),{addSuffix:!0})})]}),s.submittedAt&&t.jsxs(D,{children:[t.jsx(v,{variant:"body2",sx:{fontWeight:500},children:"Submitted"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:ss(new Date(s.submittedAt),{addSuffix:!0})})]}),s.approvedAt&&t.jsxs(D,{children:[t.jsx(v,{variant:"body2",sx:{fontWeight:500},children:s.status===Ye.APPROVED?"Approved":"Reviewed"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:ss(new Date(s.approvedAt),{addSuffix:!0})}),s.approver&&t.jsxs(v,{variant:"caption",display:"block",color:"text.secondary",children:["by ",s.approver.displayName]})]}),s.paidAt&&t.jsxs(D,{children:[t.jsx(v,{variant:"body2",sx:{fontWeight:500},children:"Paid"}),t.jsx(v,{variant:"caption",color:"text.secondary",children:ss(new Date(s.paidAt),{addSuffix:!0})}),s.paymentReference&&t.jsxs(v,{variant:"caption",display:"block",color:"text.secondary",children:["Ref: ",s.paymentReference]})]})]})]}),s.rejectionReason&&t.jsxs(dt,{sx:{p:3,bgcolor:"error.lighter"},children:[t.jsx(v,{variant:"h6",sx:{mb:1,fontWeight:600,color:"error.main"},children:"Rejection Reason"}),t.jsx(v,{variant:"body2",color:"error.main",children:s.rejectionReason})]})]})]}),t.jsxs(sn,{open:m,onClose:()=>x(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(pn,{children:"Cancel Expense Order"}),t.jsxs(on,{children:[t.jsx(v,{variant:"body2",sx:{mb:2},children:"Are you sure you want to cancel this expense order? This action cannot be undone."}),t.jsx(rt,{fullWidth:!0,multiline:!0,rows:3,label:"Reason for cancellation (optional)",value:y,onChange:M=>g(M.target.value),placeholder:"Provide a reason for cancelling this expense order..."})]}),t.jsxs(an,{children:[t.jsx(pe,{onClick:()=>x(!1),children:"Keep Order"}),t.jsx(pe,{onClick:E,color:"error",variant:"contained",disabled:u,children:"Cancel Order"})]})]})]})},Dy=()=>{const[e,n]=b.useState(null),[r,s]=b.useState(!0),[o,a]=b.useState(null),c=It(),{api:u}=Je(),{execute:d}=et();b.useEffect(()=>{h()},[]);const h=async()=>{var g,w;s(!0),a(null);const[x,y]=await Promise.all([d(()=>u.subscriptionApi.getSubscriptionAnalytics({period:"30d"}),{showErrorToast:!0}),d(()=>u.subscriptionApi.getRevenueMetrics({period:"30d"}),{showErrorToast:!0})]);if(x&&y){let j=0;if((w=(g=y.metrics)==null?void 0:g[0])!=null&&w.channels){const C=y.metrics[0].channels;for(const A in C){const E=C[A];j+=E.revenue||0}}const P={totalUsers:12543,totalChannels:1247,totalSubscriptions:x.total_subscriptions,monthlyRevenue:j,activeSubscriptions:x.active_subscriptions,newUsersThisMonth:342};n(P)}s(!1)},p=x=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(x/100),m=[{title:"News Management",description:"Manage news articles and moderate content",icon:t.jsx(ns,{sx:{fontSize:40}}),path:ye.ADMIN_NEWS,color:"#1976d2"},{title:"Poll Management",description:"Oversee polls and voting analytics",icon:t.jsx(ns,{sx:{fontSize:40}}),path:ye.ADMIN_POLLS,color:"#7b1fa2"},{title:"User Management",description:"Manage users, roles, and permissions",icon:t.jsx(to,{sx:{fontSize:40}}),path:ye.ADMIN_USERS,color:"#388e3c"},{title:"Channel Management",description:"Oversee channels and content moderation",icon:t.jsx(sc,{sx:{fontSize:40}}),path:ye.ADMIN_CHANNELS,color:"#f57c00"},{title:"Expense Orders",description:"Review and approve expense claims",icon:t.jsx(ns,{sx:{fontSize:40}}),path:ye.ADMIN_EXPENSE_ORDERS,color:"#d32f2f"},{title:"Payout Management",description:"Process payouts and financial transactions",icon:t.jsx(ns,{sx:{fontSize:40}}),path:ye.ADMIN_PAYOUTS,color:"#2e7d32"},{title:"Tag Management",description:"Moderate tags and manage taxonomy",icon:t.jsx(ns,{sx:{fontSize:40}}),path:ye.ADMIN_TAGS,color:"#795548"},{title:"Subscription Management",description:"Monitor subscriptions and billing",icon:t.jsx(mi,{sx:{fontSize:40}}),path:ye.ADMIN_SUBSCRIPTIONS,color:"#ff5722"},{title:"Analytics",description:"Platform analytics and insights",icon:t.jsx(ns,{sx:{fontSize:40}}),path:ye.ADMIN_ANALYTICS,color:"#9c27b0"},{title:"Settings",description:"Platform configuration and settings",icon:t.jsx(Kl,{sx:{fontSize:40}}),path:ye.ADMIN_SETTINGS,color:"#5d4037"}];return t.jsxs(bt,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(Ey,{sx:{fontSize:32,mr:2}}),t.jsx(v,{variant:"h4",component:"h1",children:"Admin Dashboard"})]}),o&&t.jsx(it,{severity:"error",sx:{mb:3},children:o}),t.jsxs($,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx($,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(iE,{sx:{fontSize:24,mr:1,color:"#1976d2"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Total Users"})]}),t.jsx(v,{variant:"h4",children:r?t.jsx(ce,{width:80}):e==null?void 0:e.totalUsers.toLocaleString()}),t.jsx(v,{variant:"body2",color:"textSecondary",children:r?t.jsx(ce,{width:120}):`+${e==null?void 0:e.newUsersThisMonth} this month`})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(sc,{sx:{fontSize:24,mr:1,color:"#388e3c"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Total Channels"})]}),t.jsx(v,{variant:"h4",children:r?t.jsx(ce,{width:80}):e==null?void 0:e.totalChannels.toLocaleString()})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(mi,{sx:{fontSize:24,mr:1,color:"#f57c00"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Active Subscriptions"})]}),t.jsx(v,{variant:"h4",children:r?t.jsx(ce,{width:80}):e==null?void 0:e.activeSubscriptions.toLocaleString()}),t.jsx(v,{variant:"body2",color:"textSecondary",children:r?t.jsx(ce,{width:120}):`${e==null?void 0:e.totalSubscriptions} total`})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(bs,{sx:{fontSize:24,mr:1,color:"#7b1fa2"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Monthly Revenue"})]}),t.jsx(v,{variant:"h4",children:r?t.jsx(ce,{width:100}):p((e==null?void 0:e.monthlyRevenue)||0)})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Gr,{sx:{fontSize:24,mr:1,color:"#d32f2f"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Growth Rate"})]}),t.jsx(v,{variant:"h4",children:r?t.jsx(ce,{width:60}):"+12.5%"}),t.jsx(v,{variant:"body2",color:"textSecondary",children:"vs last month"})]})})})]}),t.jsx(v,{variant:"h5",gutterBottom:!0,sx:{mb:3},children:"Administration"}),t.jsx($,{container:!0,spacing:3,children:m.map(x=>t.jsx($,{item:!0,xs:12,sm:6,md:4,children:t.jsxs(Oe,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[t.jsxs($e,{sx:{flexGrow:1},children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(D,{sx:{color:x.color,mr:2},children:x.icon}),t.jsx(v,{variant:"h6",component:"h2",children:x.title})]}),t.jsx(v,{variant:"body2",color:"textSecondary",children:x.description})]}),t.jsx(tc,{children:t.jsx(pe,{size:"small",variant:"contained",onClick:()=>c(x.path),sx:{backgroundColor:x.color},children:"Manage"})})]})},x.title))})]})},e9=()=>t.jsxs(bt,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(to,{sx:{fontSize:32,mr:2}}),t.jsx(v,{variant:"h4",component:"h1",children:"User Management"})]}),t.jsx(Oe,{children:t.jsxs($e,{sx:{textAlign:"center",py:8},children:[t.jsx(to,{sx:{fontSize:64,color:"text.secondary",mb:2}}),t.jsx(v,{variant:"h6",gutterBottom:!0,children:"User Management Coming Soon"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"This section will include user management, roles, permissions, and user analytics."})]})})]}),t9=()=>t.jsxs(bt,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(sc,{sx:{fontSize:32,mr:2}}),t.jsx(v,{variant:"h4",component:"h1",children:"Channel Management"})]}),t.jsx(Oe,{children:t.jsxs($e,{sx:{textAlign:"center",py:8},children:[t.jsx(sc,{sx:{fontSize:64,color:"text.secondary",mb:2}}),t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Channel Management Coming Soon"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"This section will include channel moderation, content management, and channel analytics."})]})})]}),n9=()=>{const[e,n]=b.useState([]),[r,s]=b.useState(null),[o,a]=b.useState(!0),[c,u]=b.useState(!1),[d,h]=b.useState(null),[p,m]=b.useState(null),[x,y]=b.useState(""),[g,w]=b.useState({}),[j]=b.useState(ze),[P,C]=b.useState([]),[A,E]=b.useState(!1),[T,R]=b.useState("cancel"),[N,M]=b.useState(""),{api:W}=Je(),{execute:B}=et();b.useEffect(()=>{q(),k()},[g,j]);const q=async()=>{a(!0),h(null);const G=await B(()=>W.subscriptionApi.getAllSubscriptions(j,g),{showErrorToast:!0});G&&n(G.items||[]),a(!1)},k=async()=>{u(!0);const G=await B(()=>W.subscriptionApi.getSubscriptionAnalytics({period:"30d"}),{showErrorToast:!1});G&&s(G),u(!1)},Y=()=>{x.trim()?w({...g}):q()},U=(G,re)=>{w({...g,[G]:re||void 0})},H=async()=>{if(P.length===0)return;a(!0);const G={action:T,subscription_ids:P,reason:N||void 0},re=await B(()=>W.subscriptionApi.bulkUpdateSubscriptions(G),{showSuccessMessage:!0,successMessage:"Successfully updated subscriptions"});re&&(re.failed>0&&h(`Failed to update ${re.failed} subscriptions`),E(!1),C([]),M(""),await q()),a(!1)},X=async()=>{const G=await B(()=>W.subscriptionApi.exportSubscriptions(g,"csv"),{showErrorToast:!0});if(G){const re=window.URL.createObjectURL(G),Pe=document.createElement("a");Pe.href=re,Pe.download=`subscriptions-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(Pe),Pe.click(),window.URL.revokeObjectURL(re),document.body.removeChild(Pe)}},se=G=>jc(G),ne=G=>new Date(G).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),ee=(G,re)=>new Intl.NumberFormat("en-US",{style:"currency",currency:re.toUpperCase()}).format(G/100);return t.jsxs(bt,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsx(v,{variant:"h4",gutterBottom:!0,children:"Subscription Management"}),r&&t.jsxs($,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Total Subscriptions"}),t.jsx(v,{variant:"h4",children:c?t.jsx(ce,{width:60}):r.total_subscriptions.toLocaleString()})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Active Subscriptions"}),t.jsx(v,{variant:"h4",children:c?t.jsx(ce,{width:60}):r.active_subscriptions.toLocaleString()})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"New This Month"}),t.jsx(v,{variant:"h4",children:c?t.jsx(ce,{width:60}):r.new_subscriptions.toLocaleString()})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Churn Rate"}),t.jsx(v,{variant:"h4",children:c?t.jsx(ce,{width:60}):`${(r.churn_rate*100).toFixed(1)}%`})]})})})]}),t.jsx(Oe,{sx:{mb:3},children:t.jsx($e,{children:t.jsxs(de,{direction:"row",spacing:2,alignItems:"center",flexWrap:"wrap",children:[t.jsx(rt,{placeholder:"Search subscriptions...",value:x,onChange:G=>y(G.target.value),onKeyPress:G=>G.key==="Enter"&&Y(),InputProps:{startAdornment:t.jsx(Oa,{sx:{mr:1,color:"text.secondary"}})},sx:{minWidth:250}}),t.jsxs(vt,{sx:{minWidth:120},children:[t.jsx(Tt,{children:"Status"}),t.jsxs(St,{value:g.status||"",onChange:G=>U("status",G.target.value),label:"Status",children:[t.jsx(je,{value:"",children:"All"}),t.jsx(je,{value:"active",children:"Active"}),t.jsx(je,{value:"canceled",children:"Canceled"}),t.jsx(je,{value:"expired",children:"Expired"}),t.jsx(je,{value:"suspended",children:"Suspended"})]})]}),t.jsx(pe,{variant:"outlined",startIcon:t.jsx(Oy,{}),onClick:()=>w({}),children:"Clear Filters"}),t.jsx(pe,{variant:"outlined",startIcon:t.jsx(Fy,{}),onClick:X,children:"Export"}),P.length>0&&t.jsxs(pe,{variant:"contained",startIcon:t.jsx(as,{}),onClick:()=>E(!0),children:["Bulk Actions (",P.length,")"]})]})})}),d&&t.jsx(it,{severity:"error",sx:{mb:2},onClose:()=>h(null),children:d}),p&&t.jsx(it,{severity:"success",sx:{mb:2},onClose:()=>m(null),children:p}),t.jsx(Oe,{children:t.jsx(Jh,{component:dt,children:t.jsxs(Xh,{children:[t.jsx(Qh,{children:t.jsxs(Xs,{children:[t.jsx(gt,{padding:"checkbox",children:t.jsx(oc,{indeterminate:P.length>0&&P.length<e.length,checked:e.length>0&&P.length===e.length,onChange:G=>{G.target.checked?C(e.map(re=>re.id)):C([])}})}),t.jsx(gt,{children:"User"}),t.jsx(gt,{children:"Channel"}),t.jsx(gt,{children:"Tier"}),t.jsx(gt,{children:"Status"}),t.jsx(gt,{children:"Started"}),t.jsx(gt,{children:"Expires"}),t.jsx(gt,{children:"Actions"})]})}),t.jsx(Zh,{children:o?[...Array(5)].map((G,re)=>t.jsxs(Xs,{children:[t.jsx(gt,{children:t.jsx(ce,{})}),t.jsx(gt,{children:t.jsx(ce,{})}),t.jsx(gt,{children:t.jsx(ce,{})}),t.jsx(gt,{children:t.jsx(ce,{})}),t.jsx(gt,{children:t.jsx(ce,{})}),t.jsx(gt,{children:t.jsx(ce,{})}),t.jsx(gt,{children:t.jsx(ce,{})}),t.jsx(gt,{children:t.jsx(ce,{})})]},re)):e.map(G=>t.jsxs(Xs,{children:[t.jsx(gt,{padding:"checkbox",children:t.jsx(oc,{checked:P.includes(G.id),onChange:re=>{re.target.checked?C([...P,G.id]):C(P.filter(Pe=>Pe!==G.id))}})}),t.jsx(gt,{children:t.jsxs(D,{children:[t.jsx(v,{variant:"body2",fontWeight:"medium",children:G.user.display_name}),t.jsx(v,{variant:"caption",color:"text.secondary",children:G.user.email})]})}),t.jsx(gt,{children:t.jsx(v,{variant:"body2",children:G.channel.name})}),t.jsx(gt,{children:t.jsxs(D,{children:[t.jsx(v,{variant:"body2",children:G.tier.name}),t.jsx(v,{variant:"caption",color:"text.secondary",children:ee(G.tier.price,G.tier.currency)})]})}),t.jsx(gt,{children:t.jsx(Ze,{label:vc(G.statusId),color:se(G.statusId),size:"small"})}),t.jsx(gt,{children:t.jsx(v,{variant:"body2",children:ne(G.startedAt)})}),t.jsx(gt,{children:t.jsx(v,{variant:"body2",children:G.expiresAt?ne(G.expiresAt):"Never"})}),t.jsx(gt,{children:t.jsx(pe,{size:"small",onClick:()=>{console.log("View subscription:",G.id)},children:"View"})})]},G.id))})]})})}),t.jsxs(sn,{open:A,onClose:()=>E(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(pn,{children:"Bulk Action"}),t.jsxs(on,{children:[t.jsxs(v,{gutterBottom:!0,children:["You are about to perform a bulk action on ",P.length," subscription(s)."]}),t.jsxs(vt,{fullWidth:!0,sx:{mb:2},children:[t.jsx(Tt,{children:"Action"}),t.jsxs(St,{value:T,onChange:G=>R(G.target.value),label:"Action",children:[t.jsx(je,{value:"cancel",children:"Cancel Subscriptions"}),t.jsx(je,{value:"activate",children:"Activate Subscriptions"}),t.jsx(je,{value:"suspend",children:"Suspend Subscriptions"})]})]}),t.jsx(rt,{fullWidth:!0,label:"Reason (optional)",value:N,onChange:G=>M(G.target.value),multiline:!0,rows:3})]}),t.jsxs(an,{children:[t.jsx(pe,{onClick:()=>E(!1),children:"Cancel"}),t.jsx(pe,{onClick:H,variant:"contained",color:"primary",children:"Confirm"})]})]})]})},r9=()=>{const[e,n]=b.useState(null),[r,s]=b.useState(!0),[o,a]=b.useState(null),[c,u]=b.useState("30d"),{api:d}=Je(),{execute:h}=et();b.useEffect(()=>{p()},[c]);const p=async()=>{s(!0),a(null);const j=await h(()=>d.subscriptionApi.getSubscriptionAnalytics({period:c}),{showErrorToast:!0});j&&n(j),s(!1)},m=j=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(j/100),x=j=>`${(j*100).toFixed(1)}%`,y=[{month:"Jan",new:120,canceled:45,active:1200},{month:"Feb",new:150,canceled:38,active:1312},{month:"Mar",new:180,canceled:52,active:1440},{month:"Apr",new:200,canceled:48,active:1592},{month:"May",new:165,canceled:55,active:1702},{month:"Jun",new:190,canceled:42,active:1850}],g=[{name:"Basic",value:35,revenue:15e3},{name:"Premium",value:45,revenue:35e3},{name:"Pro",value:20,revenue:25e3}],w=["#0088FE","#00C49F","#FFBB28","#FF8042"];return t.jsxs(bt,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(ns,{sx:{fontSize:32,mr:2}}),t.jsx(v,{variant:"h4",component:"h1",children:"Subscription Analytics"})]}),t.jsxs(vt,{sx:{minWidth:120},children:[t.jsx(Tt,{children:"Period"}),t.jsxs(St,{value:c,onChange:j=>u(j.target.value),label:"Period",children:[t.jsx(je,{value:"7d",children:"Last 7 days"}),t.jsx(je,{value:"30d",children:"Last 30 days"}),t.jsx(je,{value:"90d",children:"Last 90 days"}),t.jsx(je,{value:"1y",children:"Last year"})]})]})]}),o&&t.jsx(it,{severity:"error",sx:{mb:3},children:o}),t.jsxs($,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(to,{sx:{fontSize:24,mr:1,color:"#1976d2"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Total Subscriptions"})]}),t.jsx(v,{variant:"h4",children:r?t.jsx(ce,{width:80}):e==null?void 0:e.total_subscriptions.toLocaleString()}),t.jsxs(D,{sx:{display:"flex",alignItems:"center",mt:1},children:[t.jsx(Gr,{sx:{fontSize:16,color:"success.main",mr:.5}}),t.jsx(v,{variant:"body2",color:"success.main",children:"+12.5% vs last period"})]})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Gr,{sx:{fontSize:24,mr:1,color:"#388e3c"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"New Subscriptions"})]}),t.jsx(v,{variant:"h4",children:r?t.jsx(ce,{width:80}):e==null?void 0:e.new_subscriptions.toLocaleString()}),t.jsx(v,{variant:"body2",color:"textSecondary",children:"This period"})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(oo,{sx:{fontSize:24,mr:1,color:"#f57c00"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Churn Rate"})]}),t.jsx(v,{variant:"h4",children:r?t.jsx(ce,{width:60}):x((e==null?void 0:e.churn_rate)||0)}),t.jsxs(D,{sx:{display:"flex",alignItems:"center",mt:1},children:[t.jsx(Ay,{sx:{fontSize:16,color:"success.main",mr:.5}}),t.jsx(v,{variant:"body2",color:"success.main",children:"-2.1% vs last period"})]})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(bs,{sx:{fontSize:24,mr:1,color:"#7b1fa2"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Total Revenue"})]}),t.jsx(v,{variant:"h4",children:r?t.jsx(ce,{width:100}):m(Object.values((e==null?void 0:e.revenue_by_currency)||{}).reduce((j,P)=>j+P,0))}),t.jsx(v,{variant:"body2",color:"textSecondary",children:"This period"})]})})})]}),t.jsxs($,{container:!0,spacing:3,children:[t.jsx($,{item:!0,xs:12,lg:8,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Subscription Trends"}),t.jsx(D,{sx:{width:"100%",height:400},children:t.jsx(ca,{children:t.jsxs(By,{data:y,children:[t.jsx(ic,{strokeDasharray:"3 3"}),t.jsx(ac,{dataKey:"month"}),t.jsx(lc,{}),t.jsx(ua,{}),t.jsx(cc,{}),t.jsx(ai,{type:"monotone",dataKey:"new",stroke:"#8884d8",strokeWidth:2,name:"New Subscriptions"}),t.jsx(ai,{type:"monotone",dataKey:"canceled",stroke:"#82ca9d",strokeWidth:2,name:"Canceled"}),t.jsx(ai,{type:"monotone",dataKey:"active",stroke:"#ffc658",strokeWidth:2,name:"Active Total"})]})})})]})})}),t.jsx($,{item:!0,xs:12,lg:4,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Revenue by Tier"}),t.jsx(D,{sx:{width:"100%",height:400},children:t.jsx(ca,{children:t.jsxs(UE,{children:[t.jsx(zE,{data:g,cx:"50%",cy:"50%",labelLine:!1,label:({name:j,percent:P})=>`${j} ${(P*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:g.map((j,P)=>t.jsx(HE,{fill:w[P%w.length]},`cell-${P}`))}),t.jsx(ua,{formatter:(j,P)=>{var C;return[m(((C=g.find(A=>A.name===P))==null?void 0:C.revenue)||0),"Revenue"]}})]})})})]})})}),t.jsx($,{item:!0,xs:12,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Monthly Revenue Breakdown"}),t.jsx(D,{sx:{width:"100%",height:400},children:t.jsx(ca,{children:t.jsxs(Vy,{data:y,children:[t.jsx(ic,{strokeDasharray:"3 3"}),t.jsx(ac,{dataKey:"month"}),t.jsx(lc,{}),t.jsx(ua,{formatter:j=>[m(Number(j)*100),"Revenue"]}),t.jsx(cc,{}),t.jsx(uc,{dataKey:"new",fill:"#8884d8",name:"New Subscriptions Revenue"}),t.jsx(uc,{dataKey:"active",fill:"#82ca9d",name:"Recurring Revenue"})]})})})]})})})]})]})},s9=()=>{const[e,n]=b.useState(!0),[r,s]=b.useState(null),[o,a]=b.useState("30d");b.useEffect(()=>{c()},[o]);const c=async()=>{try{n(!0),s(null),await new Promise(m=>setTimeout(m,1e3))}catch(m){s(m.message||"Failed to load revenue data")}finally{n(!1)}},u=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(m),d={totalRevenue:125e3,monthlyRecurring:98e3,oneTimePayments:27e3,averageRevenuePerUser:45.5,growthRate:12.5},h=[{month:"Jan",revenue:85e3,subscriptions:78e3,oneTime:7e3},{month:"Feb",revenue:92e3,subscriptions:84e3,oneTime:8e3},{month:"Mar",revenue:98e3,subscriptions:89e3,oneTime:9e3},{month:"Apr",revenue:105e3,subscriptions:95e3,oneTime:1e4},{month:"May",revenue:115e3,subscriptions:102e3,oneTime:13e3},{month:"Jun",revenue:125e3,subscriptions:112e3,oneTime:13e3}],p=[{name:"Tech News Daily",revenue:15e3,subscribers:1200},{name:"Global Politics",revenue:12500,subscribers:980},{name:"Science Weekly",revenue:11e3,subscribers:850},{name:"Business Insider",revenue:9500,subscribers:720},{name:"Sports Central",revenue:8200,subscribers:650}];return t.jsxs(bt,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(bs,{sx:{fontSize:32,mr:2}}),t.jsx(v,{variant:"h4",component:"h1",children:"Revenue Tracking"})]}),t.jsxs(vt,{sx:{minWidth:120},children:[t.jsx(Tt,{children:"Period"}),t.jsxs(St,{value:o,onChange:m=>a(m.target.value),label:"Period",children:[t.jsx(je,{value:"7d",children:"Last 7 days"}),t.jsx(je,{value:"30d",children:"Last 30 days"}),t.jsx(je,{value:"90d",children:"Last 90 days"}),t.jsx(je,{value:"1y",children:"Last year"})]})]})]}),r&&t.jsx(it,{severity:"error",sx:{mb:3},children:r}),t.jsxs($,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(bs,{sx:{fontSize:24,mr:1,color:"#1976d2"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Total Revenue"})]}),t.jsx(v,{variant:"h4",children:e?t.jsx(ce,{width:100}):u(d.totalRevenue)}),t.jsxs(D,{sx:{display:"flex",alignItems:"center",mt:1},children:[t.jsx(Gr,{sx:{fontSize:16,color:"success.main",mr:.5}}),t.jsxs(v,{variant:"body2",color:"success.main",children:["+",d.growthRate,"% vs last period"]})]})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Jl,{sx:{fontSize:24,mr:1,color:"#388e3c"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"Monthly Recurring"})]}),t.jsx(v,{variant:"h4",children:e?t.jsx(ce,{width:100}):u(d.monthlyRecurring)}),t.jsxs(v,{variant:"body2",color:"textSecondary",children:[(d.monthlyRecurring/d.totalRevenue*100).toFixed(1),"% of total"]})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(ga,{sx:{fontSize:24,mr:1,color:"#f57c00"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"One-time Payments"})]}),t.jsx(v,{variant:"h4",children:e?t.jsx(ce,{width:100}):u(d.oneTimePayments)}),t.jsxs(v,{variant:"body2",color:"textSecondary",children:[(d.oneTimePayments/d.totalRevenue*100).toFixed(1),"% of total"]})]})})}),t.jsx($,{item:!0,xs:12,sm:6,md:3,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(Gr,{sx:{fontSize:24,mr:1,color:"#7b1fa2"}}),t.jsx(v,{color:"textSecondary",gutterBottom:!0,children:"ARPU"})]}),t.jsx(v,{variant:"h4",children:e?t.jsx(ce,{width:80}):u(d.averageRevenuePerUser)}),t.jsx(v,{variant:"body2",color:"textSecondary",children:"Average Revenue Per User"})]})})})]}),t.jsxs($,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx($,{item:!0,xs:12,lg:8,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Monthly Revenue Trend"}),t.jsx(D,{sx:{width:"100%",height:400},children:t.jsx(ca,{children:t.jsxs(By,{data:h,children:[t.jsx(ic,{strokeDasharray:"3 3"}),t.jsx(ac,{dataKey:"month"}),t.jsx(lc,{tickFormatter:m=>`$${(m/1e3).toFixed(0)}k`}),t.jsx(ua,{formatter:m=>[u(Number(m)),""]}),t.jsx(cc,{}),t.jsx(ai,{type:"monotone",dataKey:"revenue",stroke:"#1976d2",strokeWidth:3,name:"Total Revenue"}),t.jsx(ai,{type:"monotone",dataKey:"subscriptions",stroke:"#388e3c",strokeWidth:2,name:"Subscription Revenue"}),t.jsx(ai,{type:"monotone",dataKey:"oneTime",stroke:"#f57c00",strokeWidth:2,name:"One-time Payments"})]})})})]})})}),t.jsx($,{item:!0,xs:12,lg:4,children:t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Revenue Breakdown"}),t.jsx(D,{sx:{width:"100%",height:400},children:t.jsx(ca,{children:t.jsxs(Vy,{data:h.slice(-3),children:[t.jsx(ic,{strokeDasharray:"3 3"}),t.jsx(ac,{dataKey:"month"}),t.jsx(lc,{tickFormatter:m=>`$${(m/1e3).toFixed(0)}k`}),t.jsx(ua,{formatter:m=>[u(Number(m)),""]}),t.jsx(cc,{}),t.jsx(uc,{dataKey:"subscriptions",fill:"#388e3c",name:"Subscriptions"}),t.jsx(uc,{dataKey:"oneTime",fill:"#f57c00",name:"One-time"})]})})})]})})})]}),t.jsx(Oe,{children:t.jsxs($e,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Top Channels by Revenue"}),t.jsx(Jh,{component:dt,variant:"outlined",children:t.jsxs(Xh,{children:[t.jsx(Qh,{children:t.jsxs(Xs,{children:[t.jsx(gt,{children:"Channel Name"}),t.jsx(gt,{align:"right",children:"Revenue"}),t.jsx(gt,{align:"right",children:"Subscribers"}),t.jsx(gt,{align:"right",children:"ARPU"})]})}),t.jsx(Zh,{children:p.map((m,x)=>t.jsxs(Xs,{children:[t.jsx(gt,{component:"th",scope:"row",children:t.jsxs(D,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(D,{sx:{width:24,height:24,borderRadius:"50%",backgroundColor:x===0?"#ffd700":x===1?"#c0c0c0":x===2?"#cd7f32":"#e0e0e0",display:"flex",alignItems:"center",justifyContent:"center",mr:2,fontSize:"12px",fontWeight:"bold"},children:x+1}),m.name]})}),t.jsx(gt,{align:"right",children:u(m.revenue)}),t.jsx(gt,{align:"right",children:m.subscribers.toLocaleString()}),t.jsx(gt,{align:"right",children:u(m.revenue/m.subscribers)})]},m.name))})]})})]})})]})},o9=()=>t.jsxs(bt,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(ns,{sx:{fontSize:32,mr:2}}),t.jsx(v,{variant:"h4",component:"h1",children:"Platform Analytics"})]}),t.jsx(Oe,{children:t.jsxs($e,{sx:{textAlign:"center",py:8},children:[t.jsx(ns,{sx:{fontSize:64,color:"text.secondary",mb:2}}),t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Platform Analytics Coming Soon"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"This section will include comprehensive platform analytics, user behavior, and performance metrics."})]})})]}),i9=()=>t.jsxs(bt,{maxWidth:"xl",sx:{mt:4,mb:4},children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:4},children:[t.jsx(Kl,{sx:{fontSize:32,mr:2}}),t.jsx(v,{variant:"h4",component:"h1",children:"Admin Settings"})]}),t.jsx(Oe,{children:t.jsxs($e,{sx:{textAlign:"center",py:8},children:[t.jsx(Kl,{sx:{fontSize:64,color:"text.secondary",mb:2}}),t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Admin Settings Coming Soon"}),t.jsx(v,{variant:"body2",color:"text.secondary",children:"This section will include platform configuration, system settings, and administrative preferences."})]})})]}),fo=({title:e,columns:n,rows:r,totalCount:s,loading:o=!1,error:a=null,selected:c,onSelectionChange:u,onEdit:d,onDelete:h,onAdd:p,onRefresh:m,onSearch:x,onSort:y,onPageChange:g,onRowsPerPageChange:w,page:j=0,rowsPerPage:P=25,searchQuery:C="",sortColumn:A="",sortDirection:E="asc",actions:T,filters:R,rowActions:N})=>{const[M,W]=b.useState(C),[B,q]=b.useState(!1),[k,Y]=b.useState(null),[U,H]=b.useState(null),X=le=>{if(le.target.checked){const oe=r.map(L=>L.id);u(oe)}else u([])},se=(le,oe)=>{const L=c.indexOf(oe);let he=[];L===-1?he=he.concat(c,oe):L===0?he=he.concat(c.slice(1)):L===c.length-1?he=he.concat(c.slice(0,-1)):L>0&&(he=he.concat(c.slice(0,L),c.slice(L+1))),u(he)},ne=le=>{le.key==="Enter"&&x&&x(M)},ee=le=>{W(le.target.value),le.target.value===""&&x&&x("")},G=le=>{if(!y)return;y(le,A===le&&E==="asc"?"desc":"asc")},re=(le,oe)=>{Y(le.currentTarget),H(oe)},Pe=()=>{Y(null),H(null)},fe=()=>{const le=c.length>0?r.filter(oe=>c.includes(oe.id)):U?[U]:[];le.length>0&&h&&(h(le),q(!1),Pe(),u([]))},Ie=le=>c.indexOf(le)!==-1;return t.jsxs(D,{children:[t.jsxs(dt,{sx:{width:"100%",mb:2},children:[t.jsxs(_s,{sx:{pl:{sm:2},pr:{xs:1,sm:1},...c.length>0&&{bgcolor:"primary.main",color:"primary.contrastText"}},children:[c.length>0?t.jsxs(v,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[c.length," selected"]}):t.jsx(v,{sx:{flex:"1 1 100%"},variant:"h6",id:"tableTitle",component:"div",children:e}),c.length>0?t.jsx(de,{direction:"row",spacing:1,children:h&&t.jsx(pt,{title:"Delete",children:t.jsx(We,{color:"inherit",onClick:()=>q(!0),children:t.jsx(nc,{})})})}):t.jsxs(de,{direction:"row",spacing:1,alignItems:"center",children:[x&&t.jsx(rt,{size:"small",placeholder:`Search ${e.toLowerCase()}...`,value:M,onChange:ee,onKeyPress:ne,InputProps:{startAdornment:t.jsx(eo,{position:"start",children:t.jsx(Oa,{})})},sx:{minWidth:250}}),R,m&&t.jsx(pt,{title:"Refresh",children:t.jsx(We,{onClick:m,children:t.jsx(My,{})})}),p&&t.jsx(pe,{variant:"contained",startIcon:t.jsx(Ur,{}),onClick:p,sx:{whiteSpace:"nowrap"},children:"Add New"}),T]})]}),a&&t.jsx(it,{severity:"error",sx:{m:2},children:a}),t.jsx(Jh,{children:t.jsxs(Xh,{stickyHeader:!0,"aria-labelledby":"tableTitle",children:[t.jsx(Qh,{children:t.jsxs(Xs,{children:[t.jsx(gt,{padding:"checkbox",children:t.jsx(oc,{color:"primary",indeterminate:c.length>0&&c.length<r.length,checked:r.length>0&&c.length===r.length,onChange:X,inputProps:{"aria-label":"select all items"}})}),n.map(le=>t.jsx(gt,{align:le.align,style:{minWidth:le.minWidth},sortDirection:A===le.id?E:!1,children:le.sortable&&y?t.jsx(aE,{active:A===le.id,direction:A===le.id?E:"asc",onClick:()=>G(le.id),children:le.label}):le.label},le.id)),t.jsx(gt,{align:"right",children:"Actions"})]})}),t.jsx(Zh,{children:o?Array.from(new Array(P)).map((le,oe)=>t.jsxs(Xs,{children:[t.jsx(gt,{padding:"checkbox",children:t.jsx(ce,{variant:"rectangular",width:24,height:24})}),n.map(L=>t.jsx(gt,{children:t.jsx(ce,{variant:"text"})},L.id)),t.jsx(gt,{children:t.jsx(ce,{variant:"rectangular",width:40,height:24})})]},oe)):r.map(le=>{const oe=Ie(le.id);return t.jsxs(Xs,{hover:!0,onClick:L=>se(L,le.id),role:"checkbox","aria-checked":oe,tabIndex:-1,selected:oe,sx:{cursor:"pointer"},children:[t.jsx(gt,{padding:"checkbox",children:t.jsx(oc,{color:"primary",checked:oe,inputProps:{"aria-labelledby":`enhanced-table-checkbox-${le.id}`}})}),n.map(L=>{const he=le[L.id];return t.jsx(gt,{align:L.align,children:L.format?L.format(he,le):he},L.id)}),t.jsx(gt,{align:"right",children:t.jsx(de,{direction:"row",spacing:1,justifyContent:"flex-end",children:N?N(le):t.jsxs(t.Fragment,{children:[d&&t.jsx(pt,{title:"Edit",children:t.jsx(We,{size:"small",onClick:L=>{L.stopPropagation(),d(le)},children:t.jsx(as,{fontSize:"small"})})}),t.jsx(We,{size:"small",onClick:L=>{L.stopPropagation(),re(L,le)},children:t.jsx(Kh,{fontSize:"small"})})]})})})]},le.id)})})]})}),t.jsx(lE,{rowsPerPageOptions:[10,25,50,100],component:"div",count:s,rowsPerPage:P,page:j,onPageChange:(le,oe)=>g==null?void 0:g(oe),onRowsPerPageChange:le=>w==null?void 0:w(parseInt(le.target.value,10))})]}),t.jsxs(ro,{anchorEl:k,open:!!k,onClose:Pe,children:[d&&U&&t.jsxs(je,{onClick:()=>{d(U),Pe()},children:[t.jsx(as,{sx:{mr:1},fontSize:"small"}),"Edit"]}),h&&t.jsxs(je,{onClick:()=>q(!0),children:[t.jsx(nc,{sx:{mr:1},fontSize:"small"}),"Delete"]})]}),t.jsxs(sn,{open:B,onClose:()=>q(!1),children:[t.jsx(pn,{children:"Confirm Delete"}),t.jsx(on,{children:t.jsxs(v,{children:["Are you sure you want to delete ",c.length>0?`${c.length} items`:"this item","? This action cannot be undone."]})}),t.jsxs(an,{children:[t.jsx(pe,{onClick:()=>q(!1),children:"Cancel"}),t.jsx(pe,{onClick:fe,color:"error",variant:"contained",children:"Delete"})]})]})]})},a9=()=>{var Pe;const{api:e}=Je(),{execute:n}=et(),[r,s]=b.useState([]),[o,a]=b.useState(0),[c,u]=b.useState(!1),[d,h]=b.useState(null),[p,m]=b.useState([]),[x,y]=b.useState(!1),[g,w]=b.useState(null),[j,P]=b.useState(0),[C,A]=b.useState(25),[E,T]=b.useState(""),[R,N]=b.useState(""),[M,W]=b.useState("createdAt"),[B,q]=b.useState("desc"),k=async()=>{var fe;u(!0),h(null);try{const Ie={page:j+1,limit:C,search:E||void 0,status:R||void 0,sort:M,order:B},le=await n(()=>e.newsApi.getNews(Ie),{showErrorToast:!1});le&&(s(le.items||[]),a(((fe=le.metadata)==null?void 0:fe.total)||0))}catch{h("Failed to fetch news")}finally{u(!1)}};b.useEffect(()=>{k()},[j,C,E,R,M,B]);const Y=fe=>{w(fe),y(!0)},U=async fe=>{const Ie=fe.map(le=>le.id);try{await Promise.all(Ie.map(le=>n(()=>e.newsApi.delete(le)))),m([]),k()}catch{h("Failed to delete news items")}},H=async(fe,Ie)=>{try{await n(()=>e.newsApi.update(fe.id,{status:Ie.toString()})),k()}catch{h("Failed to update news status")}},X=async fe=>{var Ie;if(g)try{const le={title:fe.title,content:fe.content,status:(Ie=fe.status)==null?void 0:Ie.toString()};await n(()=>e.newsApi.update(g.id,le)),y(!1),w(null),k()}catch{h("Failed to update news")}},se=fe=>{switch(fe){case Rn.PUBLISHED:return"success";case Rn.DRAFT:return"default";case Rn.PENDING_REVIEW:return"warning";case Rn.REJECTED:return"error";case Rn.ARCHIVED:return"secondary";default:return"default"}},ne=[{id:"title",label:"Title",minWidth:200,sortable:!0,format:(fe,Ie)=>t.jsxs(D,{children:[t.jsx(v,{variant:"body2",fontWeight:"medium",noWrap:!0,children:fe}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["ID: ",Ie.id]})]})},{id:"channel",label:"Channel",minWidth:150,format:(fe,Ie)=>{var le,oe,L,he;return t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Dn,{src:(le=Ie.channel)==null?void 0:le.photoUrl,sx:{width:24,height:24},children:(L=(oe=Ie.channel)==null?void 0:oe.name)==null?void 0:L[0]}),t.jsx(v,{variant:"body2",noWrap:!0,children:((he=Ie.channel)==null?void 0:he.name)||"Unknown"})]})}},{id:"status",label:"Status",minWidth:120,sortable:!0,format:fe=>t.jsx(Ze,{label:fe,color:se(fe),size:"small"})},{id:"created_at",label:"Created",minWidth:120,sortable:!0,format:fe=>t.jsx(v,{variant:"body2",children:new Date(fe).toLocaleDateString()})},{id:"updated_at",label:"Updated",minWidth:120,sortable:!0,format:fe=>t.jsx(v,{variant:"body2",children:new Date(fe).toLocaleDateString()})},{id:"views",label:"Views",minWidth:80,align:"right",sortable:!0,format:fe=>t.jsx(v,{variant:"body2",children:(fe==null?void 0:fe.toLocaleString())||"0"})}],ee=Object.entries(Rn).map(([fe,Ie])=>({value:Ie,label:fe.replace(/_/g," ").toLowerCase().replace(/\b\w/g,le=>le.toUpperCase())})),G=t.jsxs(vt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Status"}),t.jsxs(St,{value:R,label:"Status",onChange:fe=>N(fe.target.value),children:[t.jsx(je,{value:"",children:"All Status"}),ee.map(fe=>t.jsx(je,{value:fe.value,children:fe.label},fe.value))]})]}),re=fe=>t.jsxs(de,{direction:"row",spacing:.5,children:[t.jsx(pt,{title:"View",children:t.jsx(We,{size:"small",onClick:Ie=>{Ie.stopPropagation(),window.open(`/news/${fe.id}`,"_blank")},children:t.jsx(ys,{fontSize:"small"})})}),t.jsx(pt,{title:"Edit",children:t.jsx(We,{size:"small",onClick:Ie=>{Ie.stopPropagation(),Y(fe)},children:t.jsx(as,{fontSize:"small"})})}),fe.status===Rn.PUBLISHED?t.jsx(pt,{title:"Unpublish",children:t.jsx(We,{size:"small",onClick:Ie=>{Ie.stopPropagation(),H(fe,Rn.DRAFT)},children:t.jsx(cE,{fontSize:"small"})})}):t.jsx(pt,{title:"Publish",children:t.jsx(We,{size:"small",onClick:Ie=>{Ie.stopPropagation(),H(fe,Rn.PUBLISHED)},children:t.jsx(uE,{fontSize:"small"})})})]});return t.jsxs(D,{children:[t.jsx(fo,{title:"News Management",columns:ne,rows:r,totalCount:o,loading:c,error:d,selected:p,onSelectionChange:m,onEdit:Y,onDelete:U,onRefresh:k,onSearch:T,onSort:(fe,Ie)=>{W(fe),q(Ie)},onPageChange:P,onRowsPerPageChange:A,page:j,rowsPerPage:C,searchQuery:E,sortColumn:M,sortDirection:B,filters:G,rowActions:re}),t.jsxs(sn,{open:x,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(pn,{children:"Edit News"}),t.jsx(on,{children:g&&t.jsxs(de,{spacing:3,sx:{pt:1},children:[t.jsx(rt,{label:"Title",fullWidth:!0,defaultValue:g.title,onChange:fe=>w({...g,title:fe.target.value})}),t.jsx(rt,{label:"Content",fullWidth:!0,multiline:!0,rows:3,defaultValue:g.content,onChange:fe=>w({...g,content:fe.target.value})}),t.jsxs(vt,{fullWidth:!0,children:[t.jsx(Tt,{children:"Status"}),t.jsx(St,{value:g.status,label:"Status",onChange:fe=>w({...g,status:parseInt(fe.target.value.toString())}),children:ee.map(fe=>t.jsx(je,{value:fe.value,children:fe.label},fe.value))})]}),t.jsxs(D,{children:[t.jsxs(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["News ID: ",g.id]}),t.jsxs(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Created: ",new Date(g.createdAt).toLocaleString()]}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Channel: ",(Pe=g.channel)==null?void 0:Pe.name]})]})]})}),t.jsxs(an,{children:[t.jsx(pe,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(pe,{onClick:()=>X(g),variant:"contained",children:"Save Changes"})]})]})]})},l9=()=>{var le,oe,L,he;const{api:e}=Je(),{execute:n}=et(),[r,s]=b.useState([]),[o,a]=b.useState(0),[c,u]=b.useState(!1),[d,h]=b.useState(null),[p,m]=b.useState([]),[x,y]=b.useState(!1),[g,w]=b.useState(null),[j,P]=b.useState(0),[C,A]=b.useState(25),[E,T]=b.useState(""),[R,N]=b.useState(""),[M,W]=b.useState(""),[B,q]=b.useState(""),[k,Y]=b.useState("created_at"),[U,H]=b.useState("desc"),X=b.useCallback(async()=>{var ie;u(!0),h(null);try{const ae={};E&&(ae.search=E),R&&(ae.status=R),M==="true"&&(ae.trending=!0),B==="true"&&(ae.funded=!0),ae.sort=k,ae.order=U;const te=await n(()=>e.pollApi.getPolls(ae,{page:j+1,limit:C}),{showErrorToast:!1});te&&(s(te.items||[]),a(((ie=te.metadata)==null?void 0:ie.total)||0))}catch{h("Failed to fetch polls")}finally{u(!1)}},[j,C,E,R,M,B,k,U,e.pollApi,n]);b.useEffect(()=>{X()},[X]);const se=ie=>{w(ie),y(!0)},ne=async ie=>{const ae=ie.map(te=>te.id);try{await Promise.all(ae.map(te=>n(()=>e.pollApi.delete(te)))),m([]),X()}catch{h("Failed to delete polls")}},ee=async()=>{if(g)try{const ie={title:g.title,description:g.description,endDate:g.endDate};await n(()=>e.pollApi.update(g.id,ie)),y(!1),w(null),X()}catch{h("Failed to update poll")}},G=async ie=>{try{await n(()=>e.pollApi.convertToNews(ie.id,{title:ie.title,summary:ie.description})),X()}catch{h("Failed to convert poll to news")}},re=[{id:"title",label:"Title",minWidth:200,sortable:!0,format:(ie,ae)=>t.jsxs(D,{children:[t.jsx(v,{variant:"body2",fontWeight:"medium",noWrap:!0,children:ie}),t.jsxs(de,{direction:"row",spacing:1,alignItems:"center",sx:{mt:.5},children:[t.jsxs(v,{variant:"caption",color:"text.secondary",children:["ID: ",ae.id]}),ae.isTrending&&t.jsx(Ze,{label:"Trending",color:"warning",size:"small",icon:t.jsx(Gr,{}),sx:{height:16,"& .MuiChip-label":{fontSize:"0.6rem",px:.5}}})]})]})},{id:"channel",label:"Channel",minWidth:150,format:(ie,ae)=>{var te,Ce,ve,ge;return t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Dn,{src:(te=ae.channel)==null?void 0:te.photoUrl,sx:{width:24,height:24},children:(ve=(Ce=ae.channel)==null?void 0:Ce.name)==null?void 0:ve[0]}),t.jsx(v,{variant:"body2",noWrap:!0,children:((ge=ae.channel)==null?void 0:ge.name)||"Unknown"})]})}},{id:"creator",label:"Creator",minWidth:120,format:(ie,ae)=>{var te;return t.jsx(v,{variant:"body2",noWrap:!0,children:((te=ae.creator)==null?void 0:te.displayName)||"Unknown"})}},{id:"voteCount",label:"Votes",minWidth:80,align:"right",sortable:!0,format:ie=>t.jsx(v,{variant:"body2",children:(ie==null?void 0:ie.toLocaleString())||"0"})},{id:"stats",label:"Stats",minWidth:120,format:(ie,ae)=>{var te,Ce,ve,ge;return t.jsxs(de,{spacing:.5,children:[t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Views: ",((Ce=(te=ae.stats)==null?void 0:te.viewCount)==null?void 0:Ce.toLocaleString())||"0"]}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Funds: $",((ge=(ve=ae.stats)==null?void 0:ve.totalFunds)==null?void 0:ge.toLocaleString())||"0"]})]})}},{id:"endDate",label:"End Date",minWidth:120,sortable:!0,format:ie=>t.jsx(v,{variant:"body2",children:ie?new Date(ie).toLocaleDateString():"No end date"})},{id:"created_at",label:"Created",minWidth:120,sortable:!0,format:ie=>t.jsx(v,{variant:"body2",children:new Date(ie).toLocaleDateString()})}],Pe=Object.entries(dL).map(([ie,ae])=>({value:ae,label:ie.replace(/_/g," ").toLowerCase().replace(/\b\w/g,te=>te.toUpperCase())})),fe=t.jsxs(de,{direction:"row",spacing:1,children:[t.jsxs(vt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Status"}),t.jsxs(St,{value:R,label:"Status",onChange:ie=>N(ie.target.value),children:[t.jsx(je,{value:"",children:"All Status"}),Pe.map(ie=>t.jsx(je,{value:ie.value,children:ie.label},ie.value))]})]}),t.jsxs(vt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Trending"}),t.jsxs(St,{value:M,label:"Trending",onChange:ie=>W(ie.target.value),children:[t.jsx(je,{value:"",children:"All"}),t.jsx(je,{value:"true",children:"Trending Only"}),t.jsx(je,{value:"false",children:"Non-Trending"})]})]}),t.jsxs(vt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Funded"}),t.jsxs(St,{value:B,label:"Funded",onChange:ie=>q(ie.target.value),children:[t.jsx(je,{value:"",children:"All"}),t.jsx(je,{value:"true",children:"Funded Only"}),t.jsx(je,{value:"false",children:"Not Funded"})]})]})]}),Ie=ie=>t.jsxs(de,{direction:"row",spacing:.5,children:[t.jsx(pt,{title:"View",children:t.jsx(We,{size:"small",onClick:ae=>{ae.stopPropagation(),window.open(`/polls/${ie.id}`,"_blank")},children:t.jsx(ys,{fontSize:"small"})})}),t.jsx(pt,{title:"Edit",children:t.jsx(We,{size:"small",onClick:ae=>{ae.stopPropagation(),se(ie)},children:t.jsx(as,{fontSize:"small"})})}),t.jsx(pt,{title:"Convert to News",children:t.jsx(We,{size:"small",onClick:ae=>{ae.stopPropagation(),G(ie)},children:t.jsx(dE,{fontSize:"small"})})})]});return t.jsxs(D,{children:[t.jsx(fo,{title:"Poll Management",columns:re,rows:r,totalCount:o,loading:c,error:d,selected:p,onSelectionChange:m,onEdit:se,onDelete:ne,onRefresh:X,onSearch:T,onSort:(ie,ae)=>{Y(ie),H(ae)},onPageChange:P,onRowsPerPageChange:A,page:j,rowsPerPage:C,searchQuery:E,sortColumn:k,sortDirection:U,filters:fe,rowActions:Ie}),t.jsxs(sn,{open:x,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(pn,{children:"Edit Poll"}),t.jsx(on,{children:g&&t.jsxs(de,{spacing:3,sx:{pt:1},children:[t.jsx(rt,{label:"Title",fullWidth:!0,defaultValue:g.title,onChange:ie=>w({...g,title:ie.target.value})}),t.jsx(rt,{label:"Description",fullWidth:!0,multiline:!0,rows:3,defaultValue:g.description,onChange:ie=>w({...g,description:ie.target.value})}),t.jsx(rt,{label:"End Date",type:"datetime-local",fullWidth:!0,defaultValue:g.endDate?new Date(g.endDate).toISOString().slice(0,16):"",onChange:ie=>w({...g,endDate:ie.target.value}),InputLabelProps:{shrink:!0}}),t.jsxs(Xl,{children:[t.jsx(Ql,{expandIcon:t.jsx(Zl,{}),children:t.jsxs(v,{variant:"subtitle2",children:["Poll Options (",((le=g.options)==null?void 0:le.length)||0,")"]})}),t.jsx(ec,{children:t.jsx(de,{spacing:2,children:(oe=g.options)==null?void 0:oe.map((ie,ae)=>t.jsxs(D,{sx:{p:2,border:1,borderColor:"divider",borderRadius:1},children:[t.jsxs(v,{variant:"body2",fontWeight:"medium",children:["Option ",ae+1,": ",ie.text]}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Votes: ",ie.voteCount]})]},ie.id))})})]}),t.jsxs(D,{children:[t.jsxs(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Poll ID: ",g.id]}),t.jsxs(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Created: ",new Date(g.createdAt).toLocaleString()]}),t.jsxs(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Channel: ",(L=g.channel)==null?void 0:L.name]}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Creator: ",(he=g.creator)==null?void 0:he.displayName]})]})]})}),t.jsxs(an,{children:[t.jsx(pe,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(pe,{onClick:()=>ee(),variant:"contained",children:"Save Changes"})]})]})]})},c9=()=>{const{api:e}=Je(),{execute:n}=et(),[r,s]=b.useState([]),[o,a]=b.useState(0),[c,u]=b.useState(!1),[d,h]=b.useState(null),[p,m]=b.useState([]),[x,y]=b.useState(!1),[g,w]=b.useState(null),[j,P]=b.useState(0),[C,A]=b.useState(25),[E,T]=b.useState(""),[R,N]=b.useState(""),[M,W]=b.useState(""),[B,q]=b.useState(""),[k,Y]=b.useState("created_at"),[U,H]=b.useState("desc"),X=async()=>{var oe;u(!0),h(null);try{const L={};E&&(L.search=E),R&&(L.status=R),M==="true"&&(L.trending=!0),B==="true"&&(L.verified=!0);const he=await n(()=>e.channelApi.getChannels(L,{page:j+1,limit:C}),{showErrorToast:!1});he&&(s(he.items||[]),a(((oe=he.metadata)==null?void 0:oe.total)||0))}catch{h("Failed to fetch channels")}finally{u(!1)}};b.useEffect(()=>{X()},[j,C,E,R,M,B,k,U]);const se=oe=>{w(oe),y(!0)},ne=async oe=>{const L=oe.map(he=>he.id);try{await Promise.all(L.map(he=>n(()=>e.channelApi.deleteChannel(he)))),m([]),X()}catch{h("Failed to delete channels")}},ee=async oe=>{if(g)try{await n(()=>e.channelApi.updateChannel(g.id,oe)),y(!1),w(null),X()}catch{h("Failed to update channel")}},G=oe=>{switch(oe){case 1:return"success";case 2:return"warning";case 3:return"error";case 4:return"default";default:return"default"}},re=oe=>{switch(oe){case 1:return"Active";case 2:return"Pending";case 3:return"Suspended";case 4:return"Inactive";default:return"Unknown"}},Pe=[{id:"name",label:"Channel",minWidth:200,sortable:!0,format:(oe,L)=>t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(Dn,{src:L.logoUrl,sx:{width:40,height:40},children:oe==null?void 0:oe[0]}),t.jsxs(D,{children:[t.jsx(v,{variant:"body2",fontWeight:"medium",noWrap:!0,children:oe}),t.jsxs(v,{variant:"caption",color:"text.secondary",noWrap:!0,children:["@",L.handle," • ID: ",L.id]})]})]})},{id:"description",label:"Description",minWidth:200,format:oe=>t.jsx(v,{variant:"body2",noWrap:!0,sx:{maxWidth:200},children:oe||"No description"})},{id:"status",label:"Status",minWidth:100,sortable:!0,format:oe=>t.jsx(Ze,{label:re(oe),color:G(oe),size:"small"})},{id:"stats",label:"Stats",minWidth:150,format:(oe,L)=>{var he,ie,ae,te,Ce,ve;return t.jsxs(de,{spacing:.5,children:[t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(to,{sx:{fontSize:14},color:"action"}),t.jsxs(v,{variant:"caption",children:[((ie=(he=L.stats)==null?void 0:he.activeSubscriptionCount)==null?void 0:ie.toLocaleString())||"0"," subscribers"]})]}),t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(Ro,{sx:{fontSize:14},color:"action"}),t.jsxs(v,{variant:"caption",children:[((te=(ae=L.stats)==null?void 0:ae.newsCount)==null?void 0:te.toLocaleString())||"0"," news"]})]}),t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(Gh,{sx:{fontSize:14},color:"action"}),t.jsxs(v,{variant:"caption",children:[((ve=(Ce=L.stats)==null?void 0:Ce.pollCount)==null?void 0:ve.toLocaleString())||"0"," polls"]})]})]})}},{id:"tiers",label:"Tiers",minWidth:80,align:"center",format:(oe,L)=>{var he,ie;return t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:.5,justifyContent:"center"},children:[t.jsx(qh,{sx:{fontSize:14},color:"action"}),t.jsx(v,{variant:"body2",children:((he=L.stats)==null?void 0:he.tierCount)||((ie=L.tiers)==null?void 0:ie.length)||"0"})]})}},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:oe=>t.jsx(v,{variant:"body2",children:new Date(oe).toLocaleDateString()})},{id:"updatedAt",label:"Updated",minWidth:120,sortable:!0,format:oe=>t.jsx(v,{variant:"body2",children:new Date(oe).toLocaleDateString()})}],fe=[{value:1,label:"Active"},{value:2,label:"Pending"},{value:3,label:"Suspended"},{value:4,label:"Inactive"}],Ie=t.jsxs(de,{direction:"row",spacing:1,children:[t.jsxs(vt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Status"}),t.jsxs(St,{value:R,label:"Status",onChange:oe=>N(oe.target.value),children:[t.jsx(je,{value:"",children:"All Status"}),fe.map(oe=>t.jsx(je,{value:oe.value,children:oe.label},oe.value))]})]}),t.jsxs(vt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Trending"}),t.jsxs(St,{value:M,label:"Trending",onChange:oe=>W(oe.target.value),children:[t.jsx(je,{value:"",children:"All"}),t.jsx(je,{value:"true",children:"Trending Only"}),t.jsx(je,{value:"false",children:"Non-Trending"})]})]}),t.jsxs(vt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Verified"}),t.jsxs(St,{value:B,label:"Verified",onChange:oe=>q(oe.target.value),children:[t.jsx(je,{value:"",children:"All"}),t.jsx(je,{value:"true",children:"Verified Only"}),t.jsx(je,{value:"false",children:"Not Verified"})]})]})]}),le=oe=>t.jsxs(de,{direction:"row",spacing:.5,children:[t.jsx(pt,{title:"View",children:t.jsx(We,{size:"small",onClick:L=>{L.stopPropagation(),window.open(`/channels/${oe.id}`,"_blank")},children:t.jsx(ys,{fontSize:"small"})})}),t.jsx(pt,{title:"Edit",children:t.jsx(We,{size:"small",onClick:L=>{L.stopPropagation(),se(oe)},children:t.jsx(as,{fontSize:"small"})})})]});return t.jsxs(D,{children:[t.jsx(fo,{title:"Channel Management",columns:Pe,rows:r,totalCount:o,loading:c,error:d,selected:p,onSelectionChange:m,onEdit:se,onDelete:ne,onRefresh:X,onSearch:T,onSort:(oe,L)=>{Y(oe),H(L)},onPageChange:P,onRowsPerPageChange:A,page:j,rowsPerPage:C,searchQuery:E,sortColumn:k,sortDirection:U,filters:Ie,rowActions:le}),t.jsxs(sn,{open:x,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(pn,{children:"Edit Channel"}),t.jsx(on,{children:g&&t.jsxs(de,{spacing:3,sx:{pt:1},children:[t.jsxs($,{container:!0,spacing:2,children:[t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(rt,{label:"Channel Name",fullWidth:!0,defaultValue:g.name,onChange:oe=>w({...g,name:oe.target.value})})}),t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(rt,{label:"Handle",fullWidth:!0,defaultValue:g.handle,onChange:oe=>w({...g,handle:oe.target.value}),InputProps:{startAdornment:"@"}})})]}),t.jsx(rt,{label:"Description",fullWidth:!0,multiline:!0,rows:3,defaultValue:g.description,onChange:oe=>w({...g,description:oe.target.value})}),t.jsxs($,{container:!0,spacing:2,children:[t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(rt,{label:"Logo URL",fullWidth:!0,defaultValue:g.logoUrl,onChange:oe=>w({...g,logoUrl:oe.target.value})})}),t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(rt,{label:"Banner URL",fullWidth:!0,defaultValue:g.bannerUrl,onChange:oe=>w({...g,bannerUrl:oe.target.value})})})]}),t.jsxs(vt,{fullWidth:!0,children:[t.jsx(Tt,{children:"Status"}),t.jsx(St,{value:g.status,label:"Status",onChange:oe=>w({...g,status:oe.target.value}),children:fe.map(oe=>t.jsx(je,{value:oe.value,children:oe.label},oe.value))})]}),g.tiers&&g.tiers.length>0&&t.jsxs(Xl,{children:[t.jsx(Ql,{expandIcon:t.jsx(Zl,{}),children:t.jsxs(v,{variant:"subtitle2",children:["Subscription Tiers (",g.tiers.length,")"]})}),t.jsx(ec,{children:t.jsx(de,{spacing:2,children:g.tiers.map(oe=>t.jsx(D,{sx:{p:2,border:1,borderColor:"divider",borderRadius:1},children:t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"body2",fontWeight:"medium",children:oe.name}),t.jsx(v,{variant:"caption",color:"text.secondary",children:oe.description})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsxs(v,{variant:"body2",children:["Price: ",oe.currency," ",oe.price]}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Order: ",oe.order," ",oe.isDefault&&"(Default)"]})]})]})},oe.id))})})]}),t.jsxs(D,{children:[t.jsxs(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Channel ID: ",g.id]}),t.jsxs(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Creator ID: ",g.creatorId]}),t.jsxs(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Created: ",new Date(g.createdAt).toLocaleString()]}),t.jsxs(v,{variant:"body2",color:"text.secondary",children:["Updated: ",new Date(g.updatedAt).toLocaleString()]})]})]})}),t.jsxs(an,{children:[t.jsx(pe,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(pe,{onClick:()=>ee(g),variant:"contained",children:"Save Changes"})]})]})]})},u9=()=>{var te,Ce,ve;const{api:e}=Je(),{execute:n}=et(),[r,s]=b.useState([]),[o,a]=b.useState(0),[c,u]=b.useState(!1),[d,h]=b.useState(null),[p,m]=b.useState([]),[x,y]=b.useState(!1),[g,w]=b.useState(null),[j,P]=b.useState(!1),[C,A]=b.useState(null),[E,T]=b.useState(""),[R,N]=b.useState(""),[M,W]=b.useState(0),[B,q]=b.useState(25),[k,Y]=b.useState(""),[U,H]=b.useState(""),[X]=b.useState(""),[se,ne]=b.useState("created_at"),[ee,G]=b.useState("desc"),re=async()=>{var ge;u(!0),h(null);try{const Ae=await n(()=>e.expenseOrderApi.getMyExpenseOrders({page:M+1,limit:B},U?parseInt(U):void 0),{showErrorToast:!1});Ae&&(s(Ae.items||[]),a(((ge=Ae.metadata)==null?void 0:ge.total)||0))}catch{h("Failed to fetch expense orders")}finally{u(!1)}};b.useEffect(()=>{re()},[M,B,k,U,X,se,ee]);const Pe=ge=>{w(ge),y(!0)},fe=(ge,Ae)=>{w(ge),A(Ae),P(!0),T(""),N("")},Ie=async()=>{if(!(!g||!C))try{switch(C){case"approve":await n(()=>e.expenseOrderApi.approveExpenseOrder(g.id,{notes:E}));break;case"reject":await n(()=>e.expenseOrderApi.rejectExpenseOrder(g.id,{rejectionReason:E}));break;case"payment":await n(()=>e.expenseOrderApi.processPayment(g.id,{paymentReference:R}));break}P(!1),w(null),A(null),re()}catch{h(`Failed to ${C} expense order`)}},le=ge=>{switch(ge){case Ye.DRAFT:return"default";case Ye.SUBMITTED:return"info";case Ye.UNDER_REVIEW:return"warning";case Ye.APPROVED:return"success";case Ye.REJECTED:return"error";case Ye.PAID:return"success";case Ye.CANCELLED:return"secondary";default:return"default"}},oe=(ge,Ae)=>new Intl.NumberFormat("en-US",{style:"currency",currency:Ae||"USD"}).format(ge),L=[{id:"title",label:"Expense",minWidth:200,sortable:!0,format:(ge,Ae)=>{var _e;return t.jsxs(D,{children:[t.jsx(v,{variant:"body2",fontWeight:"medium",noWrap:!0,children:ge}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:[(_e=Ae.type)==null?void 0:_e.name," • ID: ",Ae.id]})]})}},{id:"journalist",label:"Journalist",minWidth:150,format:(ge,Ae)=>{var _e,Qe,ke;return t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Dn,{sx:{width:24,height:24},children:((Qe=(_e=Ae.journalist)==null?void 0:_e.displayName)==null?void 0:Qe[0])||"U"}),t.jsx(v,{variant:"body2",noWrap:!0,children:((ke=Ae.journalist)==null?void 0:ke.displayName)||"Unknown User"})]})}},{id:"channel",label:"Channel",minWidth:120,format:(ge,Ae)=>{var _e;return t.jsx(v,{variant:"body2",noWrap:!0,children:((_e=Ae.channel)==null?void 0:_e.name)||"Unknown"})}},{id:"amount",label:"Amount",minWidth:100,align:"right",sortable:!0,format:(ge,Ae)=>t.jsx(v,{variant:"body2",fontWeight:"medium",children:oe(ge,Ae.currency)})},{id:"status",label:"Status",minWidth:120,sortable:!0,format:ge=>t.jsx(Ze,{label:ha[ge],color:le(ge),size:"small"})},{id:"submitted_at",label:"Submitted",minWidth:120,sortable:!0,format:ge=>t.jsx(v,{variant:"body2",children:ge?new Date(ge).toLocaleDateString():"-"})},{id:"paid_at",label:"Paid",minWidth:120,sortable:!0,format:ge=>t.jsx(v,{variant:"body2",children:ge?new Date(ge).toLocaleDateString():"-"})},{id:"created_at",label:"Created",minWidth:120,sortable:!0,format:ge=>t.jsx(v,{variant:"body2",children:new Date(ge).toLocaleDateString()})}],he=Object.entries(ha).map(([ge,Ae])=>({value:ge,label:Ae})),ie=t.jsx(de,{direction:"row",spacing:1,children:t.jsxs(vt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Status"}),t.jsxs(St,{value:U,label:"Status",onChange:ge=>H(ge.target.value),children:[t.jsx(je,{value:"",children:"All Status"}),he.map(ge=>t.jsx(je,{value:ge.value,children:ge.label},ge.value))]})]})}),ae=ge=>t.jsxs(de,{direction:"row",spacing:.5,children:[t.jsx(pt,{title:"View",children:t.jsx(We,{size:"small",onClick:Ae=>{Ae.stopPropagation(),Pe(ge)},children:t.jsx(ys,{fontSize:"small"})})}),ge.receiptUrl&&t.jsx(pt,{title:"View Receipt",children:t.jsx(We,{size:"small",onClick:Ae=>{Ae.stopPropagation(),window.open(ge.receiptUrl,"_blank")},children:t.jsx(Os,{fontSize:"small"})})}),ge.status===Ye.UNDER_REVIEW&&t.jsxs(t.Fragment,{children:[t.jsx(pt,{title:"Approve",children:t.jsx(We,{size:"small",onClick:Ae=>{Ae.stopPropagation(),fe(ge,"approve")},children:t.jsx(Pi,{fontSize:"small",color:"success"})})}),t.jsx(pt,{title:"Reject",children:t.jsx(We,{size:"small",onClick:Ae=>{Ae.stopPropagation(),fe(ge,"reject")},children:t.jsx(oo,{fontSize:"small",color:"error"})})})]}),ge.status===Ye.APPROVED&&t.jsx(pt,{title:"Process Payment",children:t.jsx(We,{size:"small",onClick:Ae=>{Ae.stopPropagation(),fe(ge,"payment")},children:t.jsx(Ma,{fontSize:"small",color:"primary"})})})]});return t.jsxs(D,{children:[t.jsx(fo,{title:"Expense Order Management",columns:L,rows:r,totalCount:o,loading:c,error:d,selected:p,onSelectionChange:m,onEdit:Pe,onRefresh:re,onSearch:Y,onSort:(ge,Ae)=>{ne(ge),G(Ae)},onPageChange:W,onRowsPerPageChange:q,page:M,rowsPerPage:B,searchQuery:k,sortColumn:se,sortDirection:ee,filters:ie,rowActions:ae}),t.jsxs(sn,{open:x,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(pn,{children:"View Expense Order"}),t.jsx(on,{children:g&&t.jsxs(de,{spacing:3,sx:{pt:1},children:[t.jsx(Oe,{variant:"outlined",children:t.jsx($e,{children:t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Title"}),t.jsx(v,{variant:"body2",children:g.title})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Amount"}),t.jsx(v,{variant:"body2",fontWeight:"medium",children:oe(g.amount,g.currency)})]}),t.jsxs($,{item:!0,xs:12,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Description"}),t.jsx(v,{variant:"body2",children:g.description})]})]})})}),t.jsx(Oe,{variant:"outlined",children:t.jsxs($e,{children:[t.jsx(v,{variant:"subtitle2",gutterBottom:!0,children:"Details"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"caption",color:"text.secondary",children:"Journalist"}),t.jsx(v,{variant:"body2",children:((te=g.journalist)==null?void 0:te.displayName)||"Unknown User"})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"caption",color:"text.secondary",children:"Channel"}),t.jsx(v,{variant:"body2",children:(Ce=g.channel)==null?void 0:Ce.name})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"caption",color:"text.secondary",children:"Type"}),t.jsx(v,{variant:"body2",children:(ve=g.type)==null?void 0:ve.name})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"caption",color:"text.secondary",children:"Status"}),t.jsx(Ze,{label:ha[g.status],color:le(g.status),size:"small"})]})]})]})}),g.notes&&t.jsx(it,{severity:"info",children:t.jsx(v,{variant:"body2",children:g.notes})}),g.rejectionReason&&t.jsx(it,{severity:"error",children:t.jsx(v,{variant:"body2",children:g.rejectionReason})}),g.paymentReference&&t.jsx(it,{severity:"success",children:t.jsxs(v,{variant:"body2",children:["Payment Reference: ",g.paymentReference]})})]})}),t.jsx(an,{children:t.jsx(pe,{onClick:()=>y(!1),children:"Close"})})]}),t.jsxs(sn,{open:j,onClose:()=>P(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsxs(pn,{children:[C==="approve"&&"Approve Expense Order",C==="reject"&&"Reject Expense Order",C==="payment"&&"Process Payment"]}),t.jsx(on,{children:t.jsxs(de,{spacing:2,sx:{pt:1},children:[C==="payment"&&t.jsx(rt,{label:"Payment Reference",fullWidth:!0,value:R,onChange:ge=>N(ge.target.value),placeholder:"Enter payment reference or transaction ID"}),t.jsx(rt,{label:C==="reject"?"Rejection Reason":"Notes",fullWidth:!0,multiline:!0,rows:3,value:E,onChange:ge=>T(ge.target.value),placeholder:C==="reject"?"Explain why this expense order is being rejected...":"Add any additional notes...",required:C==="reject"})]})}),t.jsxs(an,{children:[t.jsx(pe,{onClick:()=>P(!1),children:"Cancel"}),t.jsxs(pe,{onClick:Ie,variant:"contained",color:C==="approve"?"success":C==="reject"?"error":"primary",disabled:C==="reject"&&!E.trim(),children:[C==="approve"&&"Approve",C==="reject"&&"Reject",C==="payment"&&"Process Payment"]})]})]})]})},d9=()=>{const e=["pending","processing","completed","failed"],n=["news","poll"],r=["USD","EUR","GBP"];return Array.from({length:25},(s,o)=>({id:`payout_${o+1}`,fund_id:`fund_${o+1}`,channel_id:`channel_${o+1}`,channel_name:`Channel ${o+1}`,content_type:n[Math.floor(Math.random()*n.length)],content_id:`content_${o+1}`,content_title:`Content Title ${o+1}`,amount:Math.floor(Math.random()*1e4)+100,currency:r[Math.floor(Math.random()*r.length)],recipient_id:`user_${o+1}`,recipient_name:`Creator ${o+1}`,status:e[Math.floor(Math.random()*e.length)],transaction_id:Math.random()>.5?`txn_${Date.now()}_${o}`:void 0,created_at:new Date(Date.now()-Math.random()*30*24*60*60*1e3).toISOString(),processed_at:Math.random()>.5?new Date(Date.now()-Math.random()*10*24*60*60*1e3).toISOString():void 0,error_message:Math.random()>.8?"Payment method verification failed":void 0}))},h9=()=>{const[e,n]=b.useState([]),[r,s]=b.useState(0),[o,a]=b.useState(!1),[c,u]=b.useState(null),[d,h]=b.useState([]),[p,m]=b.useState(!1),[x,y]=b.useState(!1),[g,w]=b.useState(null),[j,P]=b.useState(""),[C,A]=b.useState(0),[E,T]=b.useState(25),[R,N]=b.useState(""),[M,W]=b.useState(""),[B,q]=b.useState(""),[k,Y]=b.useState("created_at"),[U,H]=b.useState("desc"),X=async()=>{a(!0),u(null);try{let he=d9();R&&(he=he.filter(te=>te.channel_name.toLowerCase().includes(R.toLowerCase())||te.content_title.toLowerCase().includes(R.toLowerCase())||te.recipient_name.toLowerCase().includes(R.toLowerCase()))),M&&(he=he.filter(te=>te.status===M)),B&&(he=he.filter(te=>te.content_type===B)),he.sort((te,Ce)=>{const ve=te[k]||"",ge=Ce[k]||"",Ae=ve>ge?1:-1;return U==="asc"?Ae:-Ae});const ie=C*E,ae=he.slice(ie,ie+E);n(ae),s(he.length)}catch{u("Failed to fetch payouts")}finally{a(!1)}};b.useEffect(()=>{X()},[C,E,R,M,B,k,U]);const se=L=>{w(L),m(!0)},ne=L=>{w(L),y(!0),P("")},ee=async()=>{if(g)try{await new Promise(L=>setTimeout(L,1e3)),y(!1),w(null),P(""),X()}catch{u("Failed to process payout")}},G=L=>{switch(L){case"pending":return"warning";case"processing":return"info";case"completed":return"success";case"failed":return"error";default:return"default"}},re=(L,he)=>new Intl.NumberFormat("en-US",{style:"currency",currency:he||"USD"}).format(L/100),Pe=[{id:"content_title",label:"Content",minWidth:200,sortable:!0,format:(L,he)=>t.jsxs(D,{children:[t.jsx(v,{variant:"body2",fontWeight:"medium",noWrap:!0,children:L}),t.jsxs(de,{direction:"row",spacing:1,alignItems:"center",children:[t.jsx(Ze,{label:he.content_type,size:"small",variant:"outlined",sx:{height:16,"& .MuiChip-label":{fontSize:"0.6rem",px:.5}}}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["ID: ",he.id]})]})]})},{id:"channel_name",label:"Channel",minWidth:120,format:L=>t.jsx(v,{variant:"body2",noWrap:!0,children:L})},{id:"recipient_name",label:"Recipient",minWidth:120,format:L=>t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Dn,{sx:{width:24,height:24},children:L==null?void 0:L[0]}),t.jsx(v,{variant:"body2",noWrap:!0,children:L})]})},{id:"amount",label:"Amount",minWidth:100,align:"right",sortable:!0,format:(L,he)=>t.jsx(v,{variant:"body2",fontWeight:"medium",children:re(L,he.currency)})},{id:"status",label:"Status",minWidth:120,sortable:!0,format:(L,he)=>t.jsxs(de,{spacing:.5,children:[t.jsx(Ze,{label:L,color:G(L),size:"small",sx:{textTransform:"capitalize"}}),he.error_message&&t.jsx(pt,{title:he.error_message,children:t.jsx(hE,{color:"error",sx:{fontSize:16}})})]})},{id:"transaction_id",label:"Transaction ID",minWidth:150,format:L=>t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:L||"-"})},{id:"created_at",label:"Created",minWidth:120,sortable:!0,format:L=>t.jsx(v,{variant:"body2",children:new Date(L).toLocaleDateString()})},{id:"processed_at",label:"Processed",minWidth:120,sortable:!0,format:L=>t.jsx(v,{variant:"body2",children:L?new Date(L).toLocaleDateString():"-"})}],fe=[{value:"pending",label:"Pending"},{value:"processing",label:"Processing"},{value:"completed",label:"Completed"},{value:"failed",label:"Failed"}],Ie=[{value:"news",label:"News"},{value:"poll",label:"Poll"}],le=t.jsxs(de,{direction:"row",spacing:1,children:[t.jsxs(vt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Status"}),t.jsxs(St,{value:M,label:"Status",onChange:L=>W(L.target.value),children:[t.jsx(je,{value:"",children:"All Status"}),fe.map(L=>t.jsx(je,{value:L.value,children:L.label},L.value))]})]}),t.jsxs(vt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Content Type"}),t.jsxs(St,{value:B,label:"Content Type",onChange:L=>q(L.target.value),children:[t.jsx(je,{value:"",children:"All Types"}),Ie.map(L=>t.jsx(je,{value:L.value,children:L.label},L.value))]})]})]}),oe=L=>t.jsxs(de,{direction:"row",spacing:.5,children:[t.jsx(pt,{title:"View Details",children:t.jsx(We,{size:"small",onClick:he=>{he.stopPropagation(),se(L)},children:t.jsx(ys,{fontSize:"small"})})}),L.status==="pending"&&t.jsx(pt,{title:"Process Payout",children:t.jsx(We,{size:"small",onClick:he=>{he.stopPropagation(),ne(L)},children:t.jsx(fE,{fontSize:"small",color:"primary"})})}),L.transaction_id&&t.jsx(pt,{title:"View Transaction",children:t.jsx(We,{size:"small",onClick:he=>{he.stopPropagation()},children:t.jsx(Os,{fontSize:"small"})})})]});return t.jsxs(D,{children:[t.jsx(fo,{title:"Payout Management",columns:Pe,rows:e,totalCount:r,loading:o,error:c,selected:d,onSelectionChange:h,onRefresh:X,onSearch:N,onSort:(L,he)=>{Y(L),H(he)},onPageChange:A,onRowsPerPageChange:T,page:C,rowsPerPage:E,searchQuery:R,sortColumn:k,sortDirection:U,filters:le,rowActions:oe,actions:t.jsx(pe,{variant:"outlined",startIcon:t.jsx(Gr,{}),onClick:()=>{},children:"Statistics"})}),t.jsxs(sn,{open:p,onClose:()=>m(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(pn,{children:"Payout Details"}),t.jsx(on,{children:g&&t.jsxs(de,{spacing:3,sx:{pt:1},children:[t.jsx(Oe,{variant:"outlined",children:t.jsxs($e,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Content Information"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Title"}),t.jsx(v,{variant:"body2",children:g.content_title})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Type"}),t.jsx(Ze,{label:g.content_type,size:"small"})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Channel"}),t.jsx(v,{variant:"body2",children:g.channel_name})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Content ID"}),t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:g.content_id})]})]})]})}),t.jsx(Oe,{variant:"outlined",children:t.jsxs($e,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Payout Information"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Recipient"}),t.jsx(v,{variant:"body2",children:g.recipient_name})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Amount"}),t.jsx(v,{variant:"body2",fontWeight:"medium",children:re(g.amount,g.currency)})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Status"}),t.jsx(Ze,{label:g.status,color:G(g.status),size:"small",sx:{textTransform:"capitalize"}})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Transaction ID"}),t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:g.transaction_id||"Not processed"})]})]})]})}),g.error_message&&t.jsx(it,{severity:"error",children:t.jsx(v,{variant:"body2",children:g.error_message})}),t.jsx(Oe,{variant:"outlined",children:t.jsxs($e,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Timeline"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(v,{variant:"body2",children:new Date(g.created_at).toLocaleString()})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Processed"}),t.jsx(v,{variant:"body2",children:g.processed_at?new Date(g.processed_at).toLocaleString():"Not processed"})]})]})]})})]})}),t.jsx(an,{children:t.jsx(pe,{onClick:()=>m(!1),children:"Close"})})]}),t.jsxs(sn,{open:x,onClose:()=>y(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(pn,{children:"Process Payout"}),t.jsx(on,{children:t.jsxs(de,{spacing:2,sx:{pt:1},children:[g&&t.jsxs(it,{severity:"info",children:["Processing payout of ",re(g.amount,g.currency)," to ",g.recipient_name]}),t.jsx(rt,{label:"Processing Notes",fullWidth:!0,multiline:!0,rows:3,value:j,onChange:L=>P(L.target.value),placeholder:"Add any notes about this payout processing..."})]})}),t.jsxs(an,{children:[t.jsx(pe,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(pe,{onClick:ee,variant:"contained",color:"primary",startIcon:t.jsx(Ma,{}),children:"Process Payout"})]})]})]})},f9=()=>{const{api:e}=Je(),{execute:n}=et(),[r,s]=b.useState([]),[o,a]=b.useState(0),[c,u]=b.useState(!1),[d,h]=b.useState(null),[p,m]=b.useState([]),[x,y]=b.useState(!1),[g,w]=b.useState(!1),[j,P]=b.useState(null),[C,A]=b.useState(null),[E,T]=b.useState(""),[R,N]=b.useState(0),[M,W]=b.useState(25),[B,q]=b.useState(""),[k,Y]=b.useState(""),[U]=b.useState(""),[H,X]=b.useState("created_at"),[se,ne]=b.useState("desc"),ee=b.useCallback(async()=>{var ae;u(!0),h(null);try{const te={};B&&(te.search=B),k&&(te.status=k),U&&(te.channel_id=U);const Ce=await n(()=>e.subscriptionApi.getAllSubscriptions({page:R+1,limit:M},te),{showErrorToast:!1});Ce&&(s(Ce.items||[]),a(((ae=Ce.metadata)==null?void 0:ae.total)||0))}catch{h("Failed to fetch subscriptions")}finally{u(!1)}},[R,M,B,k,U,e.subscriptionApi,n]);b.useEffect(()=>{ee()},[ee]);const G=ae=>{P(ae),y(!0)},re=(ae,te)=>{P(ae),A(te),w(!0),T("")},Pe=async()=>{if(!(!j||!C))try{const ae=C==="activate"?"active":C==="suspend"?"suspended":"canceled";await n(()=>e.subscriptionApi.updateSubscriptionStatus(j.id,ae,E)),w(!1),P(null),A(null),T(""),ee()}catch{h(`Failed to ${C} subscription`)}},fe=async()=>{try{const ae=k==="cancelled"?"canceled":k,te=await n(()=>e.subscriptionApi.exportSubscriptions({status:ae,channel_id:U},"csv"));if(te){const Ce=window.URL.createObjectURL(te),ve=document.createElement("a");ve.href=Ce,ve.download=`subscriptions-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(ve),ve.click(),window.URL.revokeObjectURL(Ce),document.body.removeChild(ve)}}catch{h("Failed to export subscriptions")}},Ie=(ae,te)=>new Intl.NumberFormat("en-US",{style:"currency",currency:te||"USD"}).format(ae),le=ae=>new Date(ae).toLocaleDateString(),oe=[{id:"user",label:"User",minWidth:180,format:(ae,te)=>{var Ce,ve;return t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Dn,{sx:{width:32,height:32},children:((Ce=te.user.display_name)==null?void 0:Ce[0])||((ve=te.user.email)==null?void 0:ve[0])}),t.jsxs(D,{children:[t.jsx(v,{variant:"body2",fontWeight:"medium",noWrap:!0,children:te.user.display_name}),t.jsx(v,{variant:"caption",color:"text.secondary",noWrap:!0,children:te.user.email})]})]})}},{id:"channel",label:"Channel",minWidth:120,format:(ae,te)=>t.jsx(v,{variant:"body2",noWrap:!0,children:te.channel.name})},{id:"tier",label:"Tier",minWidth:150,format:(ae,te)=>t.jsxs(D,{children:[t.jsx(v,{variant:"body2",fontWeight:"medium",noWrap:!0,children:te.tier.name}),t.jsx(v,{variant:"caption",color:"text.secondary",children:Ie(te.tier.price,te.tier.currency)})]})},{id:"status",label:"Status",minWidth:100,sortable:!0,format:(ae,te)=>t.jsx(Ze,{label:vc(te.statusId),color:jc(te.statusId),size:"small",sx:{textTransform:"capitalize"}})},{id:"started_at",label:"Started",minWidth:120,sortable:!0,format:ae=>t.jsx(v,{variant:"body2",children:le(ae)})},{id:"expires_at",label:"Expires",minWidth:120,sortable:!0,format:ae=>t.jsx(v,{variant:"body2",children:ae?le(ae):"Never"})},{id:"created_at",label:"Created",minWidth:120,sortable:!0,format:ae=>t.jsx(v,{variant:"body2",children:le(ae)})}],L=OL,he=t.jsx(de,{direction:"row",spacing:1,children:t.jsxs(vt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Status"}),t.jsxs(St,{value:k,label:"Status",onChange:ae=>Y(ae.target.value),children:[t.jsx(je,{value:"",children:"All Status"}),L.map(ae=>t.jsx(je,{value:ae.value,children:ae.label},ae.value))]})]})}),ie=ae=>t.jsxs(de,{direction:"row",spacing:.5,children:[t.jsx(pt,{title:"View Details",children:t.jsx(We,{size:"small",onClick:te=>{te.stopPropagation(),G(ae)},children:t.jsx(ys,{fontSize:"small"})})}),ae.statusId===fn.SUSPENDED&&t.jsx(pt,{title:"Activate",children:t.jsx(We,{size:"small",onClick:te=>{te.stopPropagation(),re(ae,"activate")},children:t.jsx(Pi,{fontSize:"small",color:"success"})})}),ae.statusId===fn.ACTIVE&&t.jsx(pt,{title:"Suspend",children:t.jsx(We,{size:"small",onClick:te=>{te.stopPropagation(),re(ae,"suspend")},children:t.jsx(Wy,{fontSize:"small",color:"warning"})})}),ae.statusId!==fn.CANCELLED&&t.jsx(pt,{title:"Cancel",children:t.jsx(We,{size:"small",onClick:te=>{te.stopPropagation(),re(ae,"cancel")},children:t.jsx(oo,{fontSize:"small",color:"error"})})})]});return t.jsxs(D,{children:[t.jsx(fo,{title:"Subscription Management",columns:oe,rows:r,totalCount:o,loading:c,error:d,selected:p,onSelectionChange:m,onRefresh:ee,onSearch:q,onSort:(ae,te)=>{X(ae),ne(te)},onPageChange:N,onRowsPerPageChange:W,page:R,rowsPerPage:M,searchQuery:B,sortColumn:H,sortDirection:se,filters:he,rowActions:ie,actions:t.jsxs(de,{direction:"row",spacing:1,children:[t.jsx(pe,{variant:"outlined",startIcon:t.jsx(Gr,{}),onClick:()=>{},children:"Analytics"}),t.jsx(pe,{variant:"outlined",startIcon:t.jsx(Fy,{}),onClick:fe,children:"Export"})]})}),t.jsxs(sn,{open:x,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(pn,{children:"Subscription Details"}),t.jsx(on,{children:j&&t.jsxs(de,{spacing:3,sx:{pt:1},children:[t.jsx(Oe,{variant:"outlined",children:t.jsxs($e,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"User Information"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Name"}),t.jsx(v,{variant:"body2",children:j.user.display_name})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Email"}),t.jsx(v,{variant:"body2",children:j.user.email})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"User ID"}),t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:j.user.id})]})]})]})}),t.jsx(Oe,{variant:"outlined",children:t.jsxs($e,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Subscription Information"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Channel"}),t.jsx(v,{variant:"body2",children:j.channel.name})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Tier"}),t.jsx(v,{variant:"body2",children:j.tier.name})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Price"}),t.jsx(v,{variant:"body2",fontWeight:"medium",children:Ie(j.tier.price,j.tier.currency)})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Status"}),t.jsx(Ze,{label:vc(j.statusId),color:jc(j.statusId),size:"small",sx:{textTransform:"capitalize"}})]})]})]})}),t.jsx(Oe,{variant:"outlined",children:t.jsxs($e,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Timeline"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Started"}),t.jsx(v,{variant:"body2",children:le(j.startedAt)})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Expires"}),t.jsx(v,{variant:"body2",children:j.expiresAt?le(j.expiresAt):"Never"})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(v,{variant:"body2",children:le(j.createdAt)})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Updated"}),t.jsx(v,{variant:"body2",children:le(j.updatedAt)})]})]})]})}),t.jsx(Oe,{variant:"outlined",children:t.jsxs($e,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"System Information"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Subscription ID"}),t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:j.id})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Channel ID"}),t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:j.channel.id})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Tier ID"}),t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:j.tier.id})]})]})]})})]})}),t.jsx(an,{children:t.jsx(pe,{onClick:()=>y(!1),children:"Close"})})]}),t.jsxs(sn,{open:g,onClose:()=>w(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsxs(pn,{children:[C==="activate"&&"Activate Subscription",C==="suspend"&&"Suspend Subscription",C==="cancel"&&"Cancel Subscription"]}),t.jsx(on,{children:t.jsxs(de,{spacing:2,sx:{pt:1},children:[j&&t.jsxs(it,{severity:C==="activate"?"info":"warning",children:[C==="activate"&&`Activating subscription for ${j.user.display_name}`,C==="suspend"&&`Suspending subscription for ${j.user.display_name}`,C==="cancel"&&`Canceling subscription for ${j.user.display_name}`]}),t.jsx(rt,{label:"Reason",fullWidth:!0,multiline:!0,rows:3,value:E,onChange:ae=>T(ae.target.value),placeholder:`Explain why this subscription is being ${C}d...`,required:C!=="activate"})]})}),t.jsxs(an,{children:[t.jsx(pe,{onClick:()=>w(!1),children:"Cancel"}),t.jsxs(pe,{onClick:Pe,variant:"contained",color:C==="activate"?"success":C==="suspend"?"warning":"error",disabled:(C==="suspend"||C==="cancel")&&!E.trim(),children:[C==="activate"&&"Activate",C==="suspend"&&"Suspend",C==="cancel"&&"Cancel"]})]})]})]})},p9=()=>{const{api:e}=Je(),{execute:n}=et(),[r,s]=b.useState([]),[o,a]=b.useState(0),[c,u]=b.useState(!1),[d,h]=b.useState(null),[p,m]=b.useState([]),[x,y]=b.useState(!1),[g,w]=b.useState(null),[j,P]=b.useState(0),[C,A]=b.useState(25),[E,T]=b.useState(""),[R,N]=b.useState(""),[M,W]=b.useState(""),[B,q]=b.useState("created_at"),[k,Y]=b.useState("desc"),U=async()=>{var L;u(!0),h(null);try{const he={page:j+1,limit:C,sort:B,order:k,search:E||void 0,status:R||void 0,role:M||void 0},ie=await n(()=>e.userApi.getAll(he),{showErrorToast:!1});ie&&(s(ie.items||[]),a(((L=ie.metadata)==null?void 0:L.total)||0))}catch{h("Failed to fetch users")}finally{u(!1)}};b.useEffect(()=>{U()},[j,C,E,R,M,B,k]);const H=L=>{w(L),y(!0)},X=async L=>{const he=L.map(ie=>ie.id);try{await Promise.all(he.map(ie=>n(()=>e.userApi.delete(ie)))),m([]),U()}catch{h("Failed to delete users")}},se=async L=>{if(g)try{await n(()=>e.userApi.update(g.id,L)),y(!1),w(null),U()}catch{h("Failed to update user")}},ne=L=>{switch(L){case An.SUPER_ADMIN:return"error";case An.ADMIN:return"error";case An.MODERATOR:return"warning";case An.JOURNALIST:return"primary";case An.EDITOR:return"info";case An.EVALUATOR:return"secondary";case An.FINANCE_MANAGER:return"success";case An.REGULAR_USER:return"default";case An.GUEST:return"default";default:return"default"}},ee=L=>{const he=Object.entries(An).find(([,ie])=>ie===L);return he?he[0].replace(/_/g," ").toLowerCase().replace(/\b\w/g,ie=>ie.toUpperCase()):"Unknown"},G=L=>{switch(L){case Tr.ACTIVE:return"success";case Tr.INACTIVE:return"default";case Tr.PENDING:return"warning";case Tr.BLOCKED:return"error";case Tr.SUSPENDED:return"warning";case Tr.BANNED:return"error";case Tr.DELETED:return"secondary";case Tr.NOT_VERIFIED:return"info";default:return"default"}},re=L=>{const he=Object.entries(Tr).find(([,ie])=>ie===L);return he?he[0].replace(/_/g," ").toLowerCase().replace(/\b\w/g,ie=>ie.toUpperCase()):"Unknown"},Pe=[{id:"displayName",label:"User",minWidth:200,sortable:!0,format:(L,he)=>{var ie;return t.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(Dn,{src:he.photoUrl,sx:{width:40,height:40},children:(L==null?void 0:L[0])||((ie=he.email)==null?void 0:ie[0])}),t.jsxs(D,{children:[t.jsx(v,{variant:"body2",fontWeight:"medium",noWrap:!0,children:L}),t.jsx(v,{variant:"caption",color:"text.secondary",noWrap:!0,children:he.email})]})]})}},{id:"roleId",label:"Role",minWidth:120,sortable:!0,format:L=>t.jsx(Ze,{label:ee(L),color:ne(L),size:"small",icon:L===An.SUPER_ADMIN||L===An.ADMIN?t.jsx(pE,{fontSize:"small"}):L===An.JOURNALIST||L===An.EDITOR?t.jsx(dh,{fontSize:"small"}):t.jsx(zh,{fontSize:"small"})})},{id:"statusId",label:"Status",minWidth:120,sortable:!0,format:L=>t.jsx(Ze,{label:re(L),color:G(L),size:"small"})},{id:"lastLogin",label:"Last Login",minWidth:120,sortable:!0,format:L=>t.jsx(v,{variant:"body2",children:L?new Date(L).toLocaleDateString():"Never"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:L=>t.jsx(v,{variant:"body2",children:new Date(L).toLocaleDateString()})},{id:"updatedAt",label:"Updated",minWidth:120,sortable:!0,format:L=>t.jsx(v,{variant:"body2",children:new Date(L).toLocaleDateString()})}],fe=Object.entries(Tr).map(([L,he])=>({value:he,label:L.replace(/_/g," ").toLowerCase().replace(/\b\w/g,ie=>ie.toUpperCase())})),Ie=Object.entries(An).map(([L,he])=>({value:he,label:L.replace(/_/g," ").toLowerCase().replace(/\b\w/g,ie=>ie.toUpperCase())})),le=t.jsxs(de,{direction:"row",spacing:1,children:[t.jsxs(vt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Status"}),t.jsxs(St,{value:R,label:"Status",onChange:L=>N(L.target.value),children:[t.jsx(je,{value:"",children:"All Status"}),fe.map(L=>t.jsx(je,{value:L.value,children:L.label},L.value))]})]}),t.jsxs(vt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Role"}),t.jsxs(St,{value:M,label:"Role",onChange:L=>W(L.target.value),children:[t.jsx(je,{value:"",children:"All Roles"}),Ie.map(L=>t.jsx(je,{value:L.value,children:L.label},L.value))]})]})]}),oe=L=>t.jsxs(de,{direction:"row",spacing:.5,children:[t.jsx(pt,{title:"View/Edit",children:t.jsx(We,{size:"small",onClick:he=>{he.stopPropagation(),H(L)},children:t.jsx(ys,{fontSize:"small"})})}),L.statusId===Tr.ACTIVE&&t.jsx(pt,{title:"Block User",children:t.jsx(We,{size:"small",onClick:he=>{he.stopPropagation()},children:t.jsx(Wy,{fontSize:"small",color:"warning"})})}),(L.statusId===Tr.BLOCKED||L.statusId===Tr.SUSPENDED)&&t.jsx(pt,{title:"Activate User",children:t.jsx(We,{size:"small",onClick:he=>{he.stopPropagation()},children:t.jsx(Pi,{fontSize:"small",color:"success"})})})]});return t.jsxs(D,{children:[t.jsx(fo,{title:"User Management",columns:Pe,rows:r,totalCount:o,loading:c,error:d,selected:p,onSelectionChange:m,onEdit:H,onDelete:X,onRefresh:U,onSearch:T,onSort:(L,he)=>{q(L),Y(he)},onPageChange:P,onRowsPerPageChange:A,page:j,rowsPerPage:C,searchQuery:E,sortColumn:B,sortDirection:k,filters:le,rowActions:oe}),t.jsxs(sn,{open:x,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(pn,{children:"Edit User"}),t.jsx(on,{children:g&&t.jsxs(de,{spacing:3,sx:{pt:1},children:[t.jsx(Oe,{variant:"outlined",children:t.jsxs($e,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"User Information"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(rt,{label:"Display Name",fullWidth:!0,defaultValue:g.displayName,onChange:L=>w({...g,displayName:L.target.value})})}),t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(rt,{label:"Email",fullWidth:!0,defaultValue:g.email,onChange:L=>w({...g,email:L.target.value})})}),t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(rt,{label:"Photo URL",fullWidth:!0,defaultValue:g.photoUrl,onChange:L=>w({...g,photoUrl:L.target.value})})})]})]})}),t.jsx(Oe,{variant:"outlined",children:t.jsxs($e,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Role & Status"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsx($,{item:!0,xs:12,sm:6,children:t.jsxs(vt,{fullWidth:!0,children:[t.jsx(Tt,{children:"Role"}),t.jsx(St,{value:g.roleId,label:"Role",onChange:L=>w({...g,roleId:L.target.value}),children:Ie.map(L=>t.jsx(je,{value:L.value,children:L.label},L.value))})]})}),t.jsx($,{item:!0,xs:12,sm:6,children:t.jsxs(vt,{fullWidth:!0,children:[t.jsx(Tt,{children:"Status"}),t.jsx(St,{value:g.statusId,label:"Status",onChange:L=>w({...g,statusId:L.target.value}),children:fe.map(L=>t.jsx(je,{value:L.value,children:L.label},L.value))})]})})]})]})}),t.jsx(Oe,{variant:"outlined",children:t.jsxs($e,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"System Information"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"User ID"}),t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:g.id})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"External ID"}),t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:g.externalId})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(v,{variant:"body2",children:new Date(g.createdAt).toLocaleString()})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Last Login"}),t.jsx(v,{variant:"body2",children:g.lastLogin?new Date(g.lastLogin).toLocaleString():"Never"})]})]})]})}),g.channelSubscriptions&&g.channelSubscriptions.length>0&&t.jsx(Oe,{variant:"outlined",children:t.jsxs($e,{children:[t.jsxs(v,{variant:"h6",gutterBottom:!0,children:["Channel Subscriptions (",g.channelSubscriptions.length,")"]}),t.jsxs(de,{spacing:1,children:[g.channelSubscriptions.slice(0,5).map((L,he)=>{var ie;return t.jsxs(D,{sx:{p:1,border:1,borderColor:"divider",borderRadius:1},children:[t.jsx(v,{variant:"body2",fontWeight:"medium",children:((ie=L.channel)==null?void 0:ie.name)||"Unknown Channel"}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Status: ",L.status," • Started: ",new Date(L.subscribedAt).toLocaleDateString()]})]},he)}),g.channelSubscriptions.length>5&&t.jsxs(v,{variant:"caption",color:"text.secondary",children:["And ",g.channelSubscriptions.length-5," more..."]})]})]})})]})}),t.jsxs(an,{children:[t.jsx(pe,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(pe,{onClick:()=>se(g),variant:"contained",children:"Save Changes"})]})]})]})},m9=()=>{var Qe,ke,Ne;const{api:e}=Je(),{execute:n}=et(),[r,s]=b.useState([]),[o,a]=b.useState(0),[c,u]=b.useState(!1),[d,h]=b.useState(null),[p,m]=b.useState([]),[x,y]=b.useState(!1),[g,w]=b.useState(null),[j,P]=b.useState(!1),[C,A]=b.useState(null),[E,T]=b.useState(0),[R,N]=b.useState(25),[M,W]=b.useState(""),[B,q]=b.useState(""),[k,Y]=b.useState(""),[U,H]=b.useState(""),[X,se]=b.useState(""),[ne,ee]=b.useState("created_at"),[G,re]=b.useState("desc"),Pe=async()=>{var K;u(!0),h(null);try{const me={};M&&(me.search=M),B&&(me.status=B),k&&(me.type=k),U==="true"&&(me.verified=!0),X==="true"&&(me.trending=!0);const Xe=await n(()=>e.tagApi.getTags(me,{page:E+1,limit:R}),{showErrorToast:!1});Xe&&(s(Xe.items||[]),a(((K=Xe.metadata)==null?void 0:K.total)||0))}catch{h("Failed to fetch tags")}finally{u(!1)}};b.useEffect(()=>{Pe()},[E,R,M,B,k,U,X,ne,G]);const fe=K=>{w(K),y(!0)},Ie=async K=>{const me=K.map(Xe=>Xe.id);try{await Promise.all(me.map(Xe=>n(()=>e.tagApi.deleteTag(Xe)))),m([]),Pe()}catch{h("Failed to delete tags")}},le=(K,me)=>{w(K),A(me),P(!0)},oe=async()=>{if(!(!g||!C))try{C==="approve"?await n(()=>e.tagApi.approveTag(g.id)):await n(()=>e.tagApi.rejectTag(g.id)),P(!1),w(null),A(null),Pe()}catch{h(`Failed to ${C} tag`)}},L=async K=>{if(g)try{await n(()=>e.tagApi.updateTag(g.id,K)),y(!1),w(null),Pe()}catch{h("Failed to update tag")}},he=K=>{switch(K){case 1:return"warning";case 2:return"success";case 3:return"error";case 4:return"default";default:return"default"}},ie=K=>{switch(K){case 1:return"Pending";case 2:return"Approved";case 3:return"Rejected";case 4:return"Inactive";default:return"Unknown"}},ae=K=>{switch(K){case 1:return"primary";case 2:return"secondary";case 3:return"info";case 4:return"success";default:return"default"}},te=K=>{switch(K){case 1:return"News";case 2:return"Poll";case 3:return"Channel";case 4:return"General";default:return"Unknown"}},Ce=[{id:"name",label:"Tag",minWidth:180,sortable:!0,format:(K,me)=>t.jsxs(D,{children:[t.jsxs(de,{direction:"row",alignItems:"center",spacing:1,children:[t.jsx(Yh,{fontSize:"small",color:"action"}),t.jsx(v,{variant:"body2",fontWeight:"medium",children:K}),me.isVerified&&t.jsx(_y,{fontSize:"small",color:"primary"}),me.isTrending&&t.jsx(Gr,{fontSize:"small",color:"warning"})]}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["@",me.slug," • ID: ",me.id]})]})},{id:"typeId",label:"Type",minWidth:100,sortable:!0,format:K=>t.jsx(Ze,{label:te(K),color:ae(K),size:"small"})},{id:"statusId",label:"Status",minWidth:100,sortable:!0,format:K=>t.jsx(Ze,{label:ie(K),color:he(K),size:"small"})},{id:"analytics",label:"Analytics",minWidth:150,format:(K,me)=>{var Xe,jt,tn,Lt,At,Yt;return t.jsxs(de,{spacing:.5,children:[t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Views: ",((jt=(Xe=me.analytics)==null?void 0:Xe.viewCount)==null?void 0:jt.toLocaleString())||"0"]}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Usage: ",((Lt=(tn=me.analytics)==null?void 0:tn.usageCount)==null?void 0:Lt.toLocaleString())||"0"]}),t.jsxs(v,{variant:"caption",color:"text.secondary",children:["Searches: ",((Yt=(At=me.analytics)==null?void 0:At.searchCount)==null?void 0:Yt.toLocaleString())||"0"]})]})}},{id:"createdBy",label:"Created By",minWidth:120,format:K=>t.jsx(v,{variant:"body2",children:K||"System"})},{id:"createdAt",label:"Created",minWidth:120,sortable:!0,format:K=>t.jsx(v,{variant:"body2",children:new Date(K).toLocaleDateString()})},{id:"approvedAt",label:"Approved",minWidth:120,sortable:!0,format:K=>t.jsx(v,{variant:"body2",children:K?new Date(K).toLocaleDateString():"-"})}],ve=[{value:1,label:"Pending"},{value:2,label:"Approved"},{value:3,label:"Rejected"},{value:4,label:"Inactive"}],ge=[{value:1,label:"News"},{value:2,label:"Poll"},{value:3,label:"Channel"},{value:4,label:"General"}],Ae=t.jsxs(de,{direction:"row",spacing:1,children:[t.jsxs(vt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Status"}),t.jsxs(St,{value:B,label:"Status",onChange:K=>q(K.target.value),children:[t.jsx(je,{value:"",children:"All Status"}),ve.map(K=>t.jsx(je,{value:K.value,children:K.label},K.value))]})]}),t.jsxs(vt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Type"}),t.jsxs(St,{value:k,label:"Type",onChange:K=>Y(K.target.value),children:[t.jsx(je,{value:"",children:"All Types"}),ge.map(K=>t.jsx(je,{value:K.value,children:K.label},K.value))]})]}),t.jsxs(vt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Verified"}),t.jsxs(St,{value:U,label:"Verified",onChange:K=>H(K.target.value),children:[t.jsx(je,{value:"",children:"All"}),t.jsx(je,{value:"true",children:"Verified Only"}),t.jsx(je,{value:"false",children:"Not Verified"})]})]}),t.jsxs(vt,{size:"small",sx:{minWidth:120},children:[t.jsx(Tt,{children:"Trending"}),t.jsxs(St,{value:X,label:"Trending",onChange:K=>se(K.target.value),children:[t.jsx(je,{value:"",children:"All"}),t.jsx(je,{value:"true",children:"Trending Only"}),t.jsx(je,{value:"false",children:"Not Trending"})]})]})]}),_e=K=>t.jsxs(de,{direction:"row",spacing:.5,children:[t.jsx(pt,{title:"View Details",children:t.jsx(We,{size:"small",onClick:me=>{me.stopPropagation(),fe(K)},children:t.jsx(ys,{fontSize:"small"})})}),t.jsx(pt,{title:"Edit",children:t.jsx(We,{size:"small",onClick:me=>{me.stopPropagation(),fe(K)},children:t.jsx(as,{fontSize:"small"})})}),K.statusId===1&&t.jsxs(t.Fragment,{children:[t.jsx(pt,{title:"Approve",children:t.jsx(We,{size:"small",onClick:me=>{me.stopPropagation(),le(K,"approve")},children:t.jsx(Pi,{fontSize:"small",color:"success"})})}),t.jsx(pt,{title:"Reject",children:t.jsx(We,{size:"small",onClick:me=>{me.stopPropagation(),le(K,"reject")},children:t.jsx(oo,{fontSize:"small",color:"error"})})})]}),t.jsx(pt,{title:"View Analytics",children:t.jsx(We,{size:"small",onClick:me=>{me.stopPropagation()},children:t.jsx(ns,{fontSize:"small",color:"info"})})})]});return t.jsxs(D,{children:[t.jsx(fo,{title:"Tag Management",columns:Ce,rows:r,totalCount:o,loading:c,error:d,selected:p,onSelectionChange:m,onEdit:fe,onDelete:Ie,onRefresh:Pe,onSearch:W,onSort:(K,me)=>{ee(K),re(me)},onPageChange:T,onRowsPerPageChange:N,page:E,rowsPerPage:R,searchQuery:M,sortColumn:ne,sortDirection:G,filters:Ae,rowActions:_e,actions:t.jsx(pe,{variant:"outlined",startIcon:t.jsx(Oa,{}),onClick:()=>{},children:"Suggestions"})}),t.jsxs(sn,{open:x,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(pn,{children:"Edit Tag"}),t.jsx(on,{children:g&&t.jsxs(de,{spacing:3,sx:{pt:1},children:[t.jsx(Oe,{variant:"outlined",children:t.jsxs($e,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Tag Information"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(rt,{label:"Tag Name",fullWidth:!0,defaultValue:g.name,onChange:K=>w({...g,name:K.target.value})})}),t.jsx($,{item:!0,xs:12,sm:6,children:t.jsx(rt,{label:"Slug",fullWidth:!0,defaultValue:g.slug,onChange:K=>w({...g,slug:K.target.value})})}),t.jsx($,{item:!0,xs:12,sm:6,children:t.jsxs(vt,{fullWidth:!0,children:[t.jsx(Tt,{children:"Type"}),t.jsx(St,{value:g.typeId,label:"Type",onChange:K=>w({...g,typeId:K.target.value}),children:ge.map(K=>t.jsx(je,{value:K.value,children:K.label},K.value))})]})}),t.jsx($,{item:!0,xs:12,sm:6,children:t.jsxs(vt,{fullWidth:!0,children:[t.jsx(Tt,{children:"Status"}),t.jsx(St,{value:g.statusId,label:"Status",onChange:K=>w({...g,statusId:K.target.value}),children:ve.map(K=>t.jsx(je,{value:K.value,children:K.label},K.value))})]})})]})]})}),t.jsx(Oe,{variant:"outlined",children:t.jsxs($e,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Tag Properties"}),t.jsxs(de,{spacing:2,children:[t.jsx(xa,{control:t.jsx(rc,{checked:g.isVerified,onChange:K=>w({...g,isVerified:K.target.checked})}),label:"Verified Tag"}),t.jsx(xa,{control:t.jsx(rc,{checked:g.isTrending,onChange:K=>w({...g,isTrending:K.target.checked})}),label:"Trending Tag"})]})]})}),g.analytics&&t.jsx(Oe,{variant:"outlined",children:t.jsxs($e,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"Analytics"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:12,sm:4,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"View Count"}),t.jsx(v,{variant:"h6",children:((Qe=g.analytics.viewCount)==null?void 0:Qe.toLocaleString())||"0"})]}),t.jsxs($,{item:!0,xs:12,sm:4,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Usage Count"}),t.jsx(v,{variant:"h6",children:((ke=g.analytics.usageCount)==null?void 0:ke.toLocaleString())||"0"})]}),t.jsxs($,{item:!0,xs:12,sm:4,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Search Count"}),t.jsx(v,{variant:"h6",children:((Ne=g.analytics.searchCount)==null?void 0:Ne.toLocaleString())||"0"})]})]}),g.analytics.lastTrendingAt&&t.jsxs(it,{severity:"info",sx:{mt:2},children:["Last trending: ",new Date(g.analytics.lastTrendingAt).toLocaleString()]})]})}),t.jsx(Oe,{variant:"outlined",children:t.jsxs($e,{children:[t.jsx(v,{variant:"h6",gutterBottom:!0,children:"System Information"}),t.jsxs($,{container:!0,spacing:2,children:[t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Tag ID"}),t.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:g.id})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Created By"}),t.jsx(v,{variant:"body2",children:g.createdBy||"System"})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Created"}),t.jsx(v,{variant:"body2",children:new Date(g.createdAt).toLocaleString()})]}),t.jsxs($,{item:!0,xs:12,sm:6,children:[t.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Approved"}),t.jsx(v,{variant:"body2",children:g.approvedAt?`${new Date(g.approvedAt).toLocaleString()} by ${g.approvedBy||"System"}`:"Not approved"})]})]})]})})]})}),t.jsxs(an,{children:[t.jsx(pe,{onClick:()=>y(!1),children:"Cancel"}),t.jsx(pe,{onClick:()=>L(g),variant:"contained",children:"Save Changes"})]})]}),t.jsxs(sn,{open:j,onClose:()=>P(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsxs(pn,{children:[C==="approve"&&"Approve Tag",C==="reject"&&"Reject Tag"]}),t.jsx(on,{children:t.jsxs(de,{spacing:2,sx:{pt:1},children:[g&&t.jsxs(it,{severity:C==="approve"?"success":"warning",children:[C==="approve"&&`Approving tag "${g.name}"`,C==="reject"&&`Rejecting tag "${g.name}"`]}),t.jsx(v,{variant:"body2",color:"text.secondary",children:C==="approve"?"This tag will be made available for use across the platform.":"This tag will be rejected and won't be available for use."})]})}),t.jsxs(an,{children:[t.jsx(pe,{onClick:()=>P(!1),children:"Cancel"}),t.jsxs(pe,{onClick:oe,variant:"contained",color:C==="approve"?"success":"error",children:[C==="approve"&&"Approve",C==="reject"&&"Reject"]})]})]})]})},x9=()=>{const{isLoading:e,error:n}=Hc();return e?t.jsx(Xv,{}):n?t.jsx(y$,{error:n}):t.jsxs(TE,{children:[t.jsx(He,{path:ye.HOME,element:t.jsx(RO,{})}),t.jsx(He,{path:ye.LOGIN,element:t.jsx(PO,{})}),t.jsx(He,{path:ye.SIGNUP,element:t.jsx(TO,{})}),t.jsx(He,{path:ye.POST_SIGNUP,element:t.jsx(IO,{})}),t.jsxs(He,{path:`${ye.APP_ROOT}/*`,element:t.jsx(Ud,{children:t.jsx(U_,{})}),children:[t.jsxs(He,{path:`${kn.ROOT}/*`,children:[t.jsx(He,{path:kn.SUBPATHS.TRENDING,element:t.jsx(rb,{filters:{trending:!0}},"trending")}),t.jsx(He,{path:kn.SUBPATHS.MY_FEED,element:t.jsx(rb,{filters:{feed:!0}},"feed")}),t.jsx(He,{path:`${kn.VIEW}`,element:t.jsx(gM,{})})]}),t.jsxs(He,{path:`${fr.ROOT}/*`,children:[t.jsx(He,{index:!0,element:t.jsx(CM,{})}),t.jsx(He,{path:`${fr.VIEW}`,element:t.jsx(PM,{})})]}),t.jsxs(He,{path:`${sr.ROOT}/*`,children:[t.jsx(He,{index:!0,element:t.jsx(hL,{})}),t.jsx(He,{path:`${sr.VIEW}`,element:t.jsx(SL,{})})]}),t.jsx(He,{path:`${Ks.ROOT}/*`,children:t.jsx(He,{index:!0,element:t.jsx(kL,{})})}),t.jsxs(He,{path:`${pr.ROOT}/*`,children:[t.jsx(He,{index:!0,element:t.jsx($L,{})}),t.jsx(He,{path:`${pr.VIEW}`,element:t.jsx(FL,{})})]}),t.jsx(He,{path:dc.ROOT,element:t.jsx(mb,{})})]}),t.jsxs(He,{path:`${ye.STUDIO_ROOT}/*`,element:t.jsx(Ud,{children:t.jsx(pO,{})}),children:[t.jsxs(He,{path:`${kn.ROOT}/*`,children:[t.jsx(He,{index:!0,element:t.jsx(d$,{})}),t.jsx(He,{path:`${kn.CREATE}`,element:t.jsx(XL,{})}),t.jsx(He,{path:`${kn.EDIT}/:id`,element:t.jsx(QL,{})}),t.jsx(He,{path:`${kn.VIEW}`,element:t.jsx(e$,{})})]}),t.jsxs(He,{path:`${fr.ROOT}/*`,children:[t.jsx(He,{index:!0,element:t.jsx(f$,{})}),t.jsx(He,{path:`${fr.CREATE}`,element:t.jsx(p$,{})}),t.jsx(He,{path:`${fr.VIEW}`,element:t.jsx(b$,{})}),t.jsx(He,{path:`${fr.EDIT}/:id`,element:t.jsx(rB,{})})]}),t.jsxs(He,{path:`${sr.ROOT}/*`,children:[t.jsx(He,{index:!0,element:t.jsx(lB,{})}),t.jsx(He,{path:`${sr.CREATE}`,element:t.jsx(BH,{})}),t.jsx(He,{path:`${sr.EDIT}/:id`,element:t.jsx(VH,{})}),t.jsx(He,{path:`${sr.VIEW}`,element:t.jsx(qH,{})})]}),t.jsxs(He,{path:`${pr.ROOT}/*`,children:[t.jsx(He,{index:!0,element:t.jsx(JH,{})}),t.jsx(He,{path:`${pr.CREATE}`,element:t.jsx(XH,{})}),t.jsx(He,{path:`${pr.EDIT}/:id`,element:t.jsx(QH,{})}),t.jsx(He,{path:`${pr.VIEW}`,element:t.jsx(ZH,{})})]}),t.jsx(He,{path:dc.ROOT,element:t.jsx(mb,{})})]}),t.jsxs(He,{path:`${ye.ADMIN_ROOT}/*`,element:t.jsx(Ud,{children:t.jsx(yO,{})}),children:[t.jsx(He,{index:!0,element:t.jsx(Dy,{})}),t.jsx(He,{path:_t.DASHBOARD,element:t.jsx(Dy,{})}),t.jsx(He,{path:_t.NEWS,element:t.jsx(a9,{})}),t.jsx(He,{path:_t.POLLS,element:t.jsx(l9,{})}),t.jsx(He,{path:_t.CHANNELS,element:t.jsx(c9,{})}),t.jsx(He,{path:_t.EXPENSE_ORDERS,element:t.jsx(u9,{})}),t.jsx(He,{path:_t.PAYOUTS,element:t.jsx(h9,{})}),t.jsx(He,{path:_t.TAGS,element:t.jsx(m9,{})}),t.jsx(He,{path:_t.USERS,element:t.jsx(p9,{})}),t.jsxs(He,{path:`${_t.SUBSCRIPTIONS}/*`,children:[t.jsx(He,{index:!0,element:t.jsx(f9,{})}),t.jsx(He,{path:li.MANAGEMENT,element:t.jsx(n9,{})}),t.jsx(He,{path:li.ANALYTICS,element:t.jsx(r9,{})}),t.jsx(He,{path:li.REVENUE,element:t.jsx(s9,{})})]}),t.jsx(He,{path:_t.ANALYTICS,element:t.jsx(o9,{})}),t.jsx(He,{path:_t.SETTINGS,element:t.jsx(i9,{})}),t.jsx(He,{path:"users",element:t.jsx(e9,{})}),t.jsx(He,{path:"channels",element:t.jsx(t9,{})})]}),t.jsx(He,{path:"*",element:t.jsx(m$,{})})]})},g9={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},b9={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",dayOfMonthFull:"do",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class y9{constructor(n){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib=void 0,this.locale=void 0,this.formats=void 0,this.formatTokenMap=g9,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=c=>typeof c>"u"?new Date:c===null?null:new Date(c),this.getInvalidDate=()=>new Date("Invalid Date"),this.getTimezone=()=>"default",this.setTimezone=c=>c,this.toJsDate=c=>c,this.getCurrentLocaleCode=()=>this.locale.code,this.is12HourCycleInCurrentLocale=()=>/a/.test(this.locale.formatLong.time({width:"short"})),this.expandFormat=c=>{const u=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return c.match(u).map(d=>{const h=d[0];if(h==="p"||h==="P"){const p=this.longFormatters[h];return p(d,this.locale.formatLong)}return d}).join("")},this.formatNumber=c=>c,this.getDayOfWeek=c=>c.getDay()+1;const{locale:r,formats:s,longFormatters:o,lib:a}=n;this.locale=r,this.formats=V({},b9,s),this.longFormatters=o,this.lib=a||"date-fns"}}class v9 extends y9{constructor({locale:n,formats:r}={}){super({locale:n??tu,formats:r,longFormatters:gc}),this.parse=(s,o)=>s===""?null:UN(s,o,new Date,{locale:this.locale}),this.isValid=s=>s==null?!1:Nv(s),this.format=(s,o)=>this.formatByString(s,this.formats[o]),this.formatByString=(s,o)=>Xf(s,o,{locale:this.locale}),this.isEqual=(s,o)=>s===null&&o===null?!0:s===null||o===null?!1:qk(s,o),this.isSameYear=(s,o)=>YN(s,o),this.isSameMonth=(s,o)=>GN(s,o),this.isSameDay=(s,o)=>LM(s,o),this.isSameHour=(s,o)=>HN(s,o),this.isAfter=(s,o)=>Hd(s,o),this.isAfterYear=(s,o)=>Hd(s,ab(o)),this.isAfterDay=(s,o)=>Hd(s,Sh(o)),this.isBefore=(s,o)=>Gd(s,o),this.isBeforeYear=(s,o)=>Gd(s,this.startOfYear(o)),this.isBeforeDay=(s,o)=>Gd(s,this.startOfDay(o)),this.isWithinRange=(s,[o,a])=>qN(s,{start:o,end:a}),this.startOfYear=s=>$v(s),this.startOfMonth=s=>HM(s),this.startOfWeek=s=>Ms(s,{locale:this.locale}),this.startOfDay=s=>ja(s),this.endOfYear=s=>ab(s),this.endOfMonth=s=>Lv(s),this.endOfWeek=s=>GM(s,{locale:this.locale}),this.endOfDay=s=>Sh(s),this.addYears=(s,o)=>kM(s,o),this.addMonths=(s,o)=>Ov(s,o),this.addWeeks=(s,o)=>MM(s,o),this.addDays=(s,o)=>eu(s,o),this.addHours=(s,o)=>IM(s,o),this.addMinutes=(s,o)=>_M(s,o),this.addSeconds=(s,o)=>OM(s,o),this.getYear=s=>Yk(s),this.getMonth=s=>Hk(s),this.getDate=s=>Fk(s),this.getHours=s=>Bk(s),this.getMinutes=s=>zk(s),this.getSeconds=s=>Gk(s),this.getMilliseconds=s=>Uk(s),this.setYear=(s,o)=>tL(s,o),this.setMonth=(s,o)=>KN(s,o),this.setDate=(s,o)=>JN(s,o),this.setHours=(s,o)=>XN(s,o),this.setMinutes=(s,o)=>ZN(s,o),this.setSeconds=(s,o)=>eL(s,o),this.setMilliseconds=(s,o)=>QN(s,o),this.getDaysInMonth=s=>Uv(s),this.getWeekArray=s=>{const o=this.startOfWeek(this.startOfMonth(s)),a=this.endOfWeek(this.endOfMonth(s));let c=0,u=o;const d=[];for(;this.isBefore(u,a);){const h=Math.floor(c/7);d[h]=d[h]||[],d[h].push(u),u=this.addDays(u,1),c+=1}return d},this.getWeekNumber=s=>Jf(s,{locale:this.locale}),this.getYearRange=([s,o])=>{const a=this.startOfYear(s),c=this.endOfYear(o),u=[];let d=a;for(;this.isBefore(d,c);)u.push(d),d=this.addYears(d,1);return u}}}document.title="Meta Journo v1.0.0";hh.createRoot(document.getElementById("root")).render(t.jsx(Ut.StrictMode,{children:t.jsx(IE,{children:t.jsx(M_,{children:t.jsx(WR,{children:t.jsx(BR,{children:t.jsx(SM,{children:t.jsx(e_,{children:t.jsx(zR,{children:t.jsx(Tj,{dateAdapter:v9,children:t.jsx(x9,{})})})})})})})})})}));
