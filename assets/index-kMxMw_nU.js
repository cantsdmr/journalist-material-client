var ql=Object.defineProperty;var Yl=(e,t,r)=>t in e?ql(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var O=(e,t,r)=>(Yl(e,typeof t!="symbol"?t+"":t,r),r);import{a as vn,r as b,j as s,g as Jl,u as Kl,i as $,c as Si,T as Xl,C as Ql,L as yn,b as Xr,d as $e,e as Oe,f as ji,h as et,B as v,A as wn,k as Je,I as pe,l as w,m as L,n as Ei,D as Jt,M as Sn,o as ce,p as Ve,s as Tt,q,t as Y,v as ye,w as jn,x as ir,y as ge,S as B,z as fs,E as V,F as C,G as Zl,H as ec,J as tc,K as rc,Y as nc,N as oc,O as sc,P as _e,Q as H,U as yt,V as tt,W as Me,X as Qr,Z as zt,_ as Gt,$ as ic,a0 as ac,a1 as lc,a2 as Ci,a3 as Ii,a4 as Ri,a5 as cc,a6 as Ai,a7 as Ti,a8 as dc,a9 as uc,aa as pc,ab as fc,ac as hc,ad as mc,ae as gc}from"./vendor-mui-C-NmFD08.js";import{o as xc,s as bc,a as vc,c as yc,b as wc,i as Sc,g as jc,G as Ec,T as Cc,F as Ic,O as Rc}from"./vendor-firebase-DaqPSQOy.js";import{u as Di,L as De,a as xe,O as Pi,N as Ac,b as rt,R as Tc,c as J,B as Dc}from"./vendor-core-DyzQGghL.js";import{T as Pc,v as Oc,G as _c,f as Nc,m as Lc,d as $c,s as Mc,a as Bc,P as Fc,I as kc,F as Wc,i as Uc,n as Hc}from"./vendor-editor-D13Gvn5f.js";import{i as zc}from"./vendor-charts-BoWKY6D0.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();var Zr={},hs=vn;Zr.createRoot=hs.createRoot,Zr.hydrateRoot=hs.hydrateRoot;const K={HOME:"/",APP:"/app",STUDIO:"/studio",AUTH:"/auth"},ee={ROOT:"news",SUBPATHS:{TRENDING:"trending",MY_FEED:"my-feed"},CREATE:"create",EDIT:"edit",VIEW:":id"},ae={ROOT:"channels",CREATE:"create",EDIT:"edit",VIEW:":id"},X="/journalist-material-client/".replace(/\/$/,""),U={HOME:`${X}${K.HOME}`,LOGIN:`${X}${K.AUTH}/login`,SIGNUP:`${X}${K.AUTH}/signup`,APP_ROOT:`${X}${K.APP}`,APP_NEWS:`${X}${K.APP}/${ee.ROOT}`,APP_NEWS_TRENDING:`${X}${K.APP}/${ee.ROOT}/trending`,APP_NEWS_MY_FEED:`${X}${K.APP}/${ee.ROOT}/my-feed`,APP_NEWS_VIEW:`${X}${K.APP}/${ee.ROOT}/:id`,APP_CHANNELS:`${X}${K.APP}/${ae.ROOT}`,APP_CHANNEL_VIEW:`${X}${K.APP}/${ae.ROOT}/:channelId`,APP_EXPLORE:`${X}${K.APP}/explore`,APP_SUBSCRIPTIONS:`${X}${K.APP}/subscriptions`,STUDIO_ROOT:`${X}${K.STUDIO}`,STUDIO_NEWS:`${X}${K.STUDIO}/${ee.ROOT}`,STUDIO_NEWS_CREATE:`${X}${K.STUDIO}/${ee.ROOT}/${ee.CREATE}`,STUDIO_NEWS_EDIT:`${X}${K.STUDIO}/${ee.ROOT}/${ee.EDIT}/:id`,STUDIO_NEWS_VIEW:`${X}${K.STUDIO}/${ee.ROOT}/:id`,STUDIO_CHANNELS:`${X}${K.STUDIO}/${ae.ROOT}`,STUDIO_CHANNEL_CREATE:`${X}${K.STUDIO}/${ae.ROOT}/${ae.CREATE}`,STUDIO_CHANNEL_EDIT:`${X}${K.STUDIO}/${ae.ROOT}/${ae.EDIT}/:channelId`,STUDIO_CHANNEL_VIEW:`${X}${K.STUDIO}/${ae.ROOT}/:channelId`};function Oi(e,t){return function(){return e.apply(t,arguments)}}const{toString:Gc}=Object.prototype,{getPrototypeOf:En}=Object,ar=(e=>t=>{const r=Gc.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ae=e=>(e=e.toLowerCase(),t=>ar(t)===e),lr=e=>t=>typeof t===e,{isArray:nt}=Array,wt=lr("undefined");function Vc(e){return e!==null&&!wt(e)&&e.constructor!==null&&!wt(e.constructor)&&Se(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const _i=Ae("ArrayBuffer");function qc(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&_i(e.buffer),t}const Yc=lr("string"),Se=lr("function"),Ni=lr("number"),cr=e=>e!==null&&typeof e=="object",Jc=e=>e===!0||e===!1,Vt=e=>{if(ar(e)!=="object")return!1;const t=En(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Kc=Ae("Date"),Xc=Ae("File"),Qc=Ae("Blob"),Zc=Ae("FileList"),ed=e=>cr(e)&&Se(e.pipe),td=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Se(e.append)&&((t=ar(e))==="formdata"||t==="object"&&Se(e.toString)&&e.toString()==="[object FormData]"))},rd=Ae("URLSearchParams"),[nd,od,sd,id]=["ReadableStream","Request","Response","Headers"].map(Ae),ad=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Dt(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,o;if(typeof e!="object"&&(e=[e]),nt(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let l;for(n=0;n<a;n++)l=i[n],t.call(null,e[l],l,e)}}function Li(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,o;for(;n-- >0;)if(o=r[n],t===o.toLowerCase())return o;return null}const $i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Mi=e=>!wt(e)&&e!==$i;function en(){const{caseless:e}=Mi(this)&&this||{},t={},r=(n,o)=>{const i=e&&Li(t,o)||o;Vt(t[i])&&Vt(n)?t[i]=en(t[i],n):Vt(n)?t[i]=en({},n):nt(n)?t[i]=n.slice():t[i]=n};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&Dt(arguments[n],r);return t}const ld=(e,t,r,{allOwnKeys:n}={})=>(Dt(t,(o,i)=>{r&&Se(o)?e[i]=Oi(o,r):e[i]=o},{allOwnKeys:n}),e),cd=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),dd=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},ud=(e,t,r,n)=>{let o,i,a;const l={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],(!n||n(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=r!==!1&&En(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},pd=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},fd=e=>{if(!e)return null;if(nt(e))return e;let t=e.length;if(!Ni(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},hd=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&En(Uint8Array)),md=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=n.next())&&!o.done;){const i=o.value;t.call(e,i[0],i[1])}},gd=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},xd=Ae("HTMLFormElement"),bd=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,o){return n.toUpperCase()+o}),ms=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),vd=Ae("RegExp"),Bi=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Dt(r,(o,i)=>{let a;(a=t(o,i,e))!==!1&&(n[i]=a||o)}),Object.defineProperties(e,n)},yd=e=>{Bi(e,(t,r)=>{if(Se(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Se(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},wd=(e,t)=>{const r={},n=o=>{o.forEach(i=>{r[i]=!0})};return nt(e)?n(e):n(String(e).split(t)),r},Sd=()=>{},jd=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,_r="abcdefghijklmnopqrstuvwxyz",gs="0123456789",Fi={DIGIT:gs,ALPHA:_r,ALPHA_DIGIT:_r+_r.toUpperCase()+gs},Ed=(e=16,t=Fi.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function Cd(e){return!!(e&&Se(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Id=e=>{const t=new Array(10),r=(n,o)=>{if(cr(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[o]=n;const i=nt(n)?[]:{};return Dt(n,(a,l)=>{const c=r(a,o+1);!wt(c)&&(i[l]=c)}),t[o]=void 0,i}}return n};return r(e,0)},Rd=Ae("AsyncFunction"),Ad=e=>e&&(cr(e)||Se(e))&&Se(e.then)&&Se(e.catch),y={isArray:nt,isArrayBuffer:_i,isBuffer:Vc,isFormData:td,isArrayBufferView:qc,isString:Yc,isNumber:Ni,isBoolean:Jc,isObject:cr,isPlainObject:Vt,isReadableStream:nd,isRequest:od,isResponse:sd,isHeaders:id,isUndefined:wt,isDate:Kc,isFile:Xc,isBlob:Qc,isRegExp:vd,isFunction:Se,isStream:ed,isURLSearchParams:rd,isTypedArray:hd,isFileList:Zc,forEach:Dt,merge:en,extend:ld,trim:ad,stripBOM:cd,inherits:dd,toFlatObject:ud,kindOf:ar,kindOfTest:Ae,endsWith:pd,toArray:fd,forEachEntry:md,matchAll:gd,isHTMLForm:xd,hasOwnProperty:ms,hasOwnProp:ms,reduceDescriptors:Bi,freezeMethods:yd,toObjectSet:wd,toCamelCase:bd,noop:Sd,toFiniteNumber:jd,findKey:Li,global:$i,isContextDefined:Mi,ALPHABET:Fi,generateString:Ed,isSpecCompliantForm:Cd,toJSONObject:Id,isAsyncFn:Rd,isThenable:Ad};function N(e,t,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o)}y.inherits(N,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:y.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const ki=N.prototype,Wi={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Wi[e]={value:e}});Object.defineProperties(N,Wi);Object.defineProperty(ki,"isAxiosError",{value:!0});N.from=(e,t,r,n,o,i)=>{const a=Object.create(ki);return y.toFlatObject(e,a,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),N.call(a,e.message,t,r,n,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const Td=null;function tn(e){return y.isPlainObject(e)||y.isArray(e)}function Ui(e){return y.endsWith(e,"[]")?e.slice(0,-2):e}function xs(e,t,r){return e?e.concat(t).map(function(o,i){return o=Ui(o),!r&&i?"["+o+"]":o}).join(r?".":""):t}function Dd(e){return y.isArray(e)&&!e.some(tn)}const Pd=y.toFlatObject(y,{},null,function(t){return/^is[A-Z]/.test(t)});function dr(e,t,r){if(!y.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=y.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,x){return!y.isUndefined(x[g])});const n=r.metaTokens,o=r.visitor||p,i=r.dots,a=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&y.isSpecCompliantForm(t);if(!y.isFunction(o))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(y.isDate(m))return m.toISOString();if(!c&&y.isBlob(m))throw new N("Blob is not supported. Use a Buffer instead.");return y.isArrayBuffer(m)||y.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function p(m,g,x){let S=m;if(m&&!x&&typeof m=="object"){if(y.endsWith(g,"{}"))g=n?g:g.slice(0,-2),m=JSON.stringify(m);else if(y.isArray(m)&&Dd(m)||(y.isFileList(m)||y.endsWith(g,"[]"))&&(S=y.toArray(m)))return g=Ui(g),S.forEach(function(I,D){!(y.isUndefined(I)||I===null)&&t.append(a===!0?xs([g],D,i):a===null?g:g+"[]",u(I))}),!1}return tn(m)?!0:(t.append(xs(x,g,i),u(m)),!1)}const d=[],f=Object.assign(Pd,{defaultVisitor:p,convertValue:u,isVisitable:tn});function h(m,g){if(!y.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(m),y.forEach(m,function(S,j){(!(y.isUndefined(S)||S===null)&&o.call(t,S,y.isString(j)?j.trim():j,g,f))===!0&&h(S,g?g.concat(j):[j])}),d.pop()}}if(!y.isObject(e))throw new TypeError("data must be an object");return h(e),t}function bs(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Cn(e,t){this._pairs=[],e&&dr(e,this,t)}const Hi=Cn.prototype;Hi.append=function(t,r){this._pairs.push([t,r])};Hi.toString=function(t){const r=t?function(n){return t.call(this,n,bs)}:bs;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function Od(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function zi(e,t,r){if(!t)return e;const n=r&&r.encode||Od,o=r&&r.serialize;let i;if(o?i=o(t,r):i=y.isURLSearchParams(t)?t.toString():new Cn(t,r).toString(n),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class vs{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){y.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Gi={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_d=typeof URLSearchParams<"u"?URLSearchParams:Cn,Nd=typeof FormData<"u"?FormData:null,Ld=typeof Blob<"u"?Blob:null,$d={isBrowser:!0,classes:{URLSearchParams:_d,FormData:Nd,Blob:Ld},protocols:["http","https","file","blob","url","data"]},In=typeof window<"u"&&typeof document<"u",Md=(e=>In&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),Bd=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Fd=In&&window.location.href||"http://localhost",kd=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:In,hasStandardBrowserEnv:Md,hasStandardBrowserWebWorkerEnv:Bd,origin:Fd},Symbol.toStringTag,{value:"Module"})),Re={...kd,...$d};function Wd(e,t){return dr(e,new Re.classes.URLSearchParams,Object.assign({visitor:function(r,n,o,i){return Re.isNode&&y.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function Ud(e){return y.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Hd(e){const t={},r=Object.keys(e);let n;const o=r.length;let i;for(n=0;n<o;n++)i=r[n],t[i]=e[i];return t}function Vi(e){function t(r,n,o,i){let a=r[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=i>=r.length;return a=!a&&y.isArray(o)?o.length:a,c?(y.hasOwnProp(o,a)?o[a]=[o[a],n]:o[a]=n,!l):((!o[a]||!y.isObject(o[a]))&&(o[a]=[]),t(r,n,o[a],i)&&y.isArray(o[a])&&(o[a]=Hd(o[a])),!l)}if(y.isFormData(e)&&y.isFunction(e.entries)){const r={};return y.forEachEntry(e,(n,o)=>{t(Ud(n),o,r,0)}),r}return null}function zd(e,t,r){if(y.isString(e))try{return(t||JSON.parse)(e),y.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Pt={transitional:Gi,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",o=n.indexOf("application/json")>-1,i=y.isObject(t);if(i&&y.isHTMLForm(t)&&(t=new FormData(t)),y.isFormData(t))return o?JSON.stringify(Vi(t)):t;if(y.isArrayBuffer(t)||y.isBuffer(t)||y.isStream(t)||y.isFile(t)||y.isBlob(t)||y.isReadableStream(t))return t;if(y.isArrayBufferView(t))return t.buffer;if(y.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Wd(t,this.formSerializer).toString();if((l=y.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return dr(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||o?(r.setContentType("application/json",!1),zd(t)):t}],transformResponse:[function(t){const r=this.transitional||Pt.transitional,n=r&&r.forcedJSONParsing,o=this.responseType==="json";if(y.isResponse(t)||y.isReadableStream(t))return t;if(t&&y.isString(t)&&(n&&!this.responseType||o)){const a=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(l){if(a)throw l.name==="SyntaxError"?N.from(l,N.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Re.classes.FormData,Blob:Re.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};y.forEach(["delete","get","head","post","put","patch"],e=>{Pt.headers[e]={}});const Gd=y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Vd=e=>{const t={};let r,n,o;return e&&e.split(`
`).forEach(function(a){o=a.indexOf(":"),r=a.substring(0,o).trim().toLowerCase(),n=a.substring(o+1).trim(),!(!r||t[r]&&Gd[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},ys=Symbol("internals");function ut(e){return e&&String(e).trim().toLowerCase()}function qt(e){return e===!1||e==null?e:y.isArray(e)?e.map(qt):String(e)}function qd(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Yd=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Nr(e,t,r,n,o){if(y.isFunction(n))return n.call(this,t,r);if(o&&(t=r),!!y.isString(t)){if(y.isString(n))return t.indexOf(n)!==-1;if(y.isRegExp(n))return n.test(t)}}function Jd(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Kd(e,t){const r=y.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(o,i,a){return this[n].call(this,t,o,i,a)},configurable:!0})})}class de{constructor(t){t&&this.set(t)}set(t,r,n){const o=this;function i(l,c,u){const p=ut(c);if(!p)throw new Error("header name must be a non-empty string");const d=y.findKey(o,p);(!d||o[d]===void 0||u===!0||u===void 0&&o[d]!==!1)&&(o[d||c]=qt(l))}const a=(l,c)=>y.forEach(l,(u,p)=>i(u,p,c));if(y.isPlainObject(t)||t instanceof this.constructor)a(t,r);else if(y.isString(t)&&(t=t.trim())&&!Yd(t))a(Vd(t),r);else if(y.isHeaders(t))for(const[l,c]of t.entries())i(c,l,n);else t!=null&&i(r,t,n);return this}get(t,r){if(t=ut(t),t){const n=y.findKey(this,t);if(n){const o=this[n];if(!r)return o;if(r===!0)return qd(o);if(y.isFunction(r))return r.call(this,o,n);if(y.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=ut(t),t){const n=y.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Nr(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let o=!1;function i(a){if(a=ut(a),a){const l=y.findKey(n,a);l&&(!r||Nr(n,n[l],l,r))&&(delete n[l],o=!0)}}return y.isArray(t)?t.forEach(i):i(t),o}clear(t){const r=Object.keys(this);let n=r.length,o=!1;for(;n--;){const i=r[n];(!t||Nr(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){const r=this,n={};return y.forEach(this,(o,i)=>{const a=y.findKey(n,i);if(a){r[a]=qt(o),delete r[i];return}const l=t?Jd(i):String(i).trim();l!==i&&delete r[i],r[l]=qt(o),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return y.forEach(this,(n,o)=>{n!=null&&n!==!1&&(r[o]=t&&y.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(o=>n.set(o)),n}static accessor(t){const n=(this[ys]=this[ys]={accessors:{}}).accessors,o=this.prototype;function i(a){const l=ut(a);n[l]||(Kd(o,a),n[l]=!0)}return y.isArray(t)?t.forEach(i):i(t),this}}de.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);y.reduceDescriptors(de.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});y.freezeMethods(de);function Lr(e,t){const r=this||Pt,n=t||r,o=de.from(n.headers);let i=n.data;return y.forEach(e,function(l){i=l.call(r,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function qi(e){return!!(e&&e.__CANCEL__)}function ot(e,t,r){N.call(this,e??"canceled",N.ERR_CANCELED,t,r),this.name="CanceledError"}y.inherits(ot,N,{__CANCEL__:!0});function Yi(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new N("Request failed with status code "+r.status,[N.ERR_BAD_REQUEST,N.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Xd(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Qd(e,t){e=e||10;const r=new Array(e),n=new Array(e);let o=0,i=0,a;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),p=n[i];a||(a=u),r[o]=c,n[o]=u;let d=i,f=0;for(;d!==o;)f+=r[d++],d=d%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),u-a<t)return;const h=p&&u-p;return h?Math.round(f*1e3/h):void 0}}function Zd(e,t){let r=0;const n=1e3/t;let o=null;return function(){const a=this===!0,l=Date.now();if(a||l-r>n)return o&&(clearTimeout(o),o=null),r=l,e.apply(null,arguments);o||(o=setTimeout(()=>(o=null,r=Date.now(),e.apply(null,arguments)),n-(l-r)))}}const Kt=(e,t,r=3)=>{let n=0;const o=Qd(50,250);return Zd(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,c=a-n,u=o(c),p=a<=l;n=a;const d={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&p?(l-a)/u:void 0,event:i,lengthComputable:l!=null};d[t?"download":"upload"]=!0,e(d)},r)},eu=Re.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function o(i){let a=i;return t&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=o(window.location.href),function(a){const l=y.isString(a)?o(a):a;return l.protocol===n.protocol&&l.host===n.host}}():function(){return function(){return!0}}(),tu=Re.hasStandardBrowserEnv?{write(e,t,r,n,o,i){const a=[e+"="+encodeURIComponent(t)];y.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),y.isString(n)&&a.push("path="+n),y.isString(o)&&a.push("domain="+o),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ru(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function nu(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Ji(e,t){return e&&!ru(t)?nu(e,t):t}const ws=e=>e instanceof de?{...e}:e;function ze(e,t){t=t||{};const r={};function n(u,p,d){return y.isPlainObject(u)&&y.isPlainObject(p)?y.merge.call({caseless:d},u,p):y.isPlainObject(p)?y.merge({},p):y.isArray(p)?p.slice():p}function o(u,p,d){if(y.isUndefined(p)){if(!y.isUndefined(u))return n(void 0,u,d)}else return n(u,p,d)}function i(u,p){if(!y.isUndefined(p))return n(void 0,p)}function a(u,p){if(y.isUndefined(p)){if(!y.isUndefined(u))return n(void 0,u)}else return n(void 0,p)}function l(u,p,d){if(d in t)return n(u,p);if(d in e)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,p)=>o(ws(u),ws(p),!0)};return y.forEach(Object.keys(Object.assign({},e,t)),function(p){const d=c[p]||o,f=d(e[p],t[p],p);y.isUndefined(f)&&d!==l||(r[p]=f)}),r}const Ki=e=>{const t=ze({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:i,headers:a,auth:l}=t;t.headers=a=de.from(a),t.url=zi(Ji(t.baseURL,t.url),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(y.isFormData(r)){if(Re.hasStandardBrowserEnv||Re.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((c=a.getContentType())!==!1){const[u,...p]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...p].join("; "))}}if(Re.hasStandardBrowserEnv&&(n&&y.isFunction(n)&&(n=n(t)),n||n!==!1&&eu(t.url))){const u=o&&i&&tu.read(i);u&&a.set(o,u)}return t},ou=typeof XMLHttpRequest<"u",su=ou&&function(e){return new Promise(function(r,n){const o=Ki(e);let i=o.data;const a=de.from(o.headers).normalize();let{responseType:l}=o,c;function u(){o.cancelToken&&o.cancelToken.unsubscribe(c),o.signal&&o.signal.removeEventListener("abort",c)}let p=new XMLHttpRequest;p.open(o.method.toUpperCase(),o.url,!0),p.timeout=o.timeout;function d(){if(!p)return;const h=de.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),g={data:!l||l==="text"||l==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:h,config:e,request:p};Yi(function(S){r(S),u()},function(S){n(S),u()},g),p=null}"onloadend"in p?p.onloadend=d:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(d)},p.onabort=function(){p&&(n(new N("Request aborted",N.ECONNABORTED,o,p)),p=null)},p.onerror=function(){n(new N("Network Error",N.ERR_NETWORK,o,p)),p=null},p.ontimeout=function(){let m=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const g=o.transitional||Gi;o.timeoutErrorMessage&&(m=o.timeoutErrorMessage),n(new N(m,g.clarifyTimeoutError?N.ETIMEDOUT:N.ECONNABORTED,o,p)),p=null},i===void 0&&a.setContentType(null),"setRequestHeader"in p&&y.forEach(a.toJSON(),function(m,g){p.setRequestHeader(g,m)}),y.isUndefined(o.withCredentials)||(p.withCredentials=!!o.withCredentials),l&&l!=="json"&&(p.responseType=o.responseType),typeof o.onDownloadProgress=="function"&&p.addEventListener("progress",Kt(o.onDownloadProgress,!0)),typeof o.onUploadProgress=="function"&&p.upload&&p.upload.addEventListener("progress",Kt(o.onUploadProgress)),(o.cancelToken||o.signal)&&(c=h=>{p&&(n(!h||h.type?new ot(null,e,p):h),p.abort(),p=null)},o.cancelToken&&o.cancelToken.subscribe(c),o.signal&&(o.signal.aborted?c():o.signal.addEventListener("abort",c)));const f=Xd(o.url);if(f&&Re.protocols.indexOf(f)===-1){n(new N("Unsupported protocol "+f+":",N.ERR_BAD_REQUEST,e));return}p.send(i||null)})},iu=(e,t)=>{let r=new AbortController,n;const o=function(c){if(!n){n=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof N?u:new ot(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{o(new N(`timeout ${t} of ms exceeded`,N.ETIMEDOUT))},t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c&&(c.removeEventListener?c.removeEventListener("abort",o):c.unsubscribe(o))}),e=null)};e.forEach(c=>c&&c.addEventListener&&c.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=a,[l,()=>{i&&clearTimeout(i),i=null}]},au=function*(e,t){let r=e.byteLength;if(!t||r<t){yield e;return}let n=0,o;for(;n<r;)o=n+t,yield e.slice(n,o),n=o},lu=async function*(e,t,r){for await(const n of e)yield*au(ArrayBuffer.isView(n)?n:await r(String(n)),t)},Ss=(e,t,r,n,o)=>{const i=lu(e,t,o);let a=0;return new ReadableStream({type:"bytes",async pull(l){const{done:c,value:u}=await i.next();if(c){l.close(),n();return}let p=u.byteLength;r&&r(a+=p),l.enqueue(new Uint8Array(u))},cancel(l){return n(l),i.return()}},{highWaterMark:2})},js=(e,t)=>{const r=e!=null;return n=>setTimeout(()=>t({lengthComputable:r,total:e,loaded:n}))},ur=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Xi=ur&&typeof ReadableStream=="function",rn=ur&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),cu=Xi&&(()=>{let e=!1;const t=new Request(Re.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})(),Es=64*1024,nn=Xi&&!!(()=>{try{return y.isReadableStream(new Response("").body)}catch{}})(),Xt={stream:nn&&(e=>e.body)};ur&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Xt[t]&&(Xt[t]=y.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new N(`Response type '${t}' is not supported`,N.ERR_NOT_SUPPORT,n)})})})(new Response);const du=async e=>{if(e==null)return 0;if(y.isBlob(e))return e.size;if(y.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(y.isArrayBufferView(e))return e.byteLength;if(y.isURLSearchParams(e)&&(e=e+""),y.isString(e))return(await rn(e)).byteLength},uu=async(e,t)=>{const r=y.toFiniteNumber(e.getContentLength());return r??du(t)},pu=ur&&(async e=>{let{url:t,method:r,data:n,signal:o,cancelToken:i,timeout:a,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:p,withCredentials:d="same-origin",fetchOptions:f}=Ki(e);u=u?(u+"").toLowerCase():"text";let[h,m]=o||i||a?iu([o,i],a):[],g,x;const S=()=>{!g&&setTimeout(()=>{h&&h.unsubscribe()}),g=!0};let j;try{if(c&&cu&&r!=="get"&&r!=="head"&&(j=await uu(p,n))!==0){let T=new Request(t,{method:"POST",body:n,duplex:"half"}),F;y.isFormData(n)&&(F=T.headers.get("content-type"))&&p.setContentType(F),T.body&&(n=Ss(T.body,Es,js(j,Kt(c)),null,rn))}y.isString(d)||(d=d?"cors":"omit"),x=new Request(t,{...f,signal:h,method:r.toUpperCase(),headers:p.normalize().toJSON(),body:n,duplex:"half",withCredentials:d});let I=await fetch(x);const D=nn&&(u==="stream"||u==="response");if(nn&&(l||D)){const T={};["status","statusText","headers"].forEach(k=>{T[k]=I[k]});const F=y.toFiniteNumber(I.headers.get("content-length"));I=new Response(Ss(I.body,Es,l&&js(F,Kt(l,!0)),D&&S,rn),T)}u=u||"text";let R=await Xt[y.findKey(Xt,u)||"text"](I,e);return!D&&S(),m&&m(),await new Promise((T,F)=>{Yi(T,F,{data:R,headers:de.from(I.headers),status:I.status,statusText:I.statusText,config:e,request:x})})}catch(I){throw S(),I&&I.name==="TypeError"&&/fetch/i.test(I.message)?Object.assign(new N("Network Error",N.ERR_NETWORK,e,x),{cause:I.cause||I}):N.from(I,I&&I.code,e,x)}}),on={http:Td,xhr:su,fetch:pu};y.forEach(on,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Cs=e=>`- ${e}`,fu=e=>y.isFunction(e)||e===null||e===!1,Qi={getAdapter:e=>{e=y.isArray(e)?e:[e];const{length:t}=e;let r,n;const o={};for(let i=0;i<t;i++){r=e[i];let a;if(n=r,!fu(r)&&(n=on[(a=String(r)).toLowerCase()],n===void 0))throw new N(`Unknown adapter '${a}'`);if(n)break;o[a||"#"+i]=n}if(!n){const i=Object.entries(o).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=t?i.length>1?`since :
`+i.map(Cs).join(`
`):" "+Cs(i[0]):"as no adapter specified";throw new N("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:on};function $r(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ot(null,e)}function Is(e){return $r(e),e.headers=de.from(e.headers),e.data=Lr.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Qi.getAdapter(e.adapter||Pt.adapter)(e).then(function(n){return $r(e),n.data=Lr.call(e,e.transformResponse,n),n.headers=de.from(n.headers),n},function(n){return qi(n)||($r(e),n&&n.response&&(n.response.data=Lr.call(e,e.transformResponse,n.response),n.response.headers=de.from(n.response.headers))),Promise.reject(n)})}const Zi="1.7.2",Rn={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Rn[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Rs={};Rn.transitional=function(t,r,n){function o(i,a){return"[Axios v"+Zi+"] Transitional option '"+i+"'"+a+(n?". "+n:"")}return(i,a,l)=>{if(t===!1)throw new N(o(a," has been removed"+(r?" in "+r:"")),N.ERR_DEPRECATED);return r&&!Rs[a]&&(Rs[a]=!0,console.warn(o(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,a,l):!0}};function hu(e,t,r){if(typeof e!="object")throw new N("options must be an object",N.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const i=n[o],a=t[i];if(a){const l=e[i],c=l===void 0||a(l,i,e);if(c!==!0)throw new N("option "+i+" must be "+c,N.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new N("Unknown option "+i,N.ERR_BAD_OPTION)}}const sn={assertOptions:hu,validators:Rn},Ne=sn.validators;class He{constructor(t){this.defaults=t,this.interceptors={request:new vs,response:new vs}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let o;Error.captureStackTrace?Error.captureStackTrace(o={}):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=ze(this.defaults,r);const{transitional:n,paramsSerializer:o,headers:i}=r;n!==void 0&&sn.assertOptions(n,{silentJSONParsing:Ne.transitional(Ne.boolean),forcedJSONParsing:Ne.transitional(Ne.boolean),clarifyTimeoutError:Ne.transitional(Ne.boolean)},!1),o!=null&&(y.isFunction(o)?r.paramsSerializer={serialize:o}:sn.assertOptions(o,{encode:Ne.function,serialize:Ne.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=i&&y.merge(i.common,i[r.method]);i&&y.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),r.headers=de.concat(a,i);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let p,d=0,f;if(!c){const m=[Is.bind(this),void 0];for(m.unshift.apply(m,l),m.push.apply(m,u),f=m.length,p=Promise.resolve(r);d<f;)p=p.then(m[d++],m[d++]);return p}f=l.length;let h=r;for(d=0;d<f;){const m=l[d++],g=l[d++];try{h=m(h)}catch(x){g.call(this,x);break}}try{p=Is.call(this,h)}catch(m){return Promise.reject(m)}for(d=0,f=u.length;d<f;)p=p.then(u[d++],u[d++]);return p}getUri(t){t=ze(this.defaults,t);const r=Ji(t.baseURL,t.url);return zi(r,t.params,t.paramsSerializer)}}y.forEach(["delete","get","head","options"],function(t){He.prototype[t]=function(r,n){return this.request(ze(n||{},{method:t,url:r,data:(n||{}).data}))}});y.forEach(["post","put","patch"],function(t){function r(n){return function(i,a,l){return this.request(ze(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}He.prototype[t]=r(),He.prototype[t+"Form"]=r(!0)});class An{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(o=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](o);n._listeners=null}),this.promise.then=o=>{let i;const a=new Promise(l=>{n.subscribe(l),i=l}).then(o);return a.cancel=function(){n.unsubscribe(i)},a},t(function(i,a,l){n.reason||(n.reason=new ot(i,a,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new An(function(o){t=o}),cancel:t}}}function mu(e){return function(r){return e.apply(null,r)}}function gu(e){return y.isObject(e)&&e.isAxiosError===!0}const an={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(an).forEach(([e,t])=>{an[t]=e});function ea(e){const t=new He(e),r=Oi(He.prototype.request,t);return y.extend(r,He.prototype,t,{allOwnKeys:!0}),y.extend(r,t,null,{allOwnKeys:!0}),r.create=function(o){return ea(ze(e,o))},r}const Q=ea(Pt);Q.Axios=He;Q.CanceledError=ot;Q.CancelToken=An;Q.isCancel=qi;Q.VERSION=Zi;Q.toFormData=dr;Q.AxiosError=N;Q.Cancel=Q.CanceledError;Q.all=function(t){return Promise.all(t)};Q.spread=mu;Q.isAxiosError=gu;Q.mergeConfig=ze;Q.AxiosHeaders=de;Q.formToJSON=e=>Vi(y.isHTMLForm(e)?new FormData(e):e);Q.getAdapter=Qi.getAdapter;Q.HttpStatusCode=an;Q.default=Q;const xu="https://oyster-app-4nnna.ondigitalocean.app";class bu{constructor(){O(this,"instance");O(this,"handleAxiosError",t=>t.response?{status:t.response.status,data:t.response.data}:{status:500,data:"Network Error"});this.instance=Q.create({baseURL:xu,headers:{"Content-Type":"application/json"}}),this.instance.interceptors.response.use(t=>t,t=>(t.response.status===401&&console.log("Unauthorized access"),Promise.reject(t)))}get axiosInstance(){return this.instance}}const Le={page:1,limit:10,order:"desc"};class pr{constructor(t,r){O(this,"axiosJ");O(this,"apiPath");O(this,"_list",async(t,r,n)=>{try{const o=new URLSearchParams(r),i=o.size===0?"":`?${o.toString()}`;return(await this.axiosJ.axiosInstance.get(`${t}${i}`,n)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});O(this,"_listAll",async(t,r,n)=>{try{const o=new URLSearchParams(r),i=o.size===0?"":`?${o.toString()}`;return(await this.axiosJ.axiosInstance.get(`${t}${i}`,n)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});O(this,"_get",async(t,r)=>{try{return(await this.axiosJ.axiosInstance.get(t,r)).data}catch(n){throw this.axiosJ.handleAxiosError(n)}});O(this,"_post",async(t,r,n)=>{try{return(await this.axiosJ.axiosInstance.post(t,r,n)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});O(this,"_patch",async(t,r,n)=>{try{return(await this.axiosJ.axiosInstance.patch(t,r,n)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});O(this,"_put",async(t,r,n)=>{try{return(await this.axiosJ.axiosInstance.put(t,r,n)).data}catch(o){throw this.axiosJ.handleAxiosError(o)}});O(this,"_remove",async(t,r)=>{try{return(await this.axiosJ.axiosInstance.delete(t,r)).data}catch(n){throw this.axiosJ.handleAxiosError(n)}});this.axiosJ=t,this.apiPath=r}}const Z="/api/channels",Ee={TIER:"tier",FOLLOWER:"follower",SUBSCRIBER:"subscriber"};class vu extends pr{constructor(r){super(r,Z);O(this,"createChannel",r=>this._post(Z,r));O(this,"getChannel",r=>this._get(`${Z}/${r}`));O(this,"getChannels",(r=Le)=>this._list(Z,r));O(this,"getCreatorChannels",(r,n=Le)=>this._list(`${Z}/creator/${r}`,n));O(this,"updateChannel",(r,n)=>this._put(`${Z}/${r}`,n));O(this,"deleteChannel",r=>this._remove(`${Z}/${r}`));O(this,"createTier",(r,n)=>this._post(`${Z}/${r}/${Ee.TIER}`,n));O(this,"updateTier",(r,n,o)=>this._put(`${Z}/${r}/${Ee.TIER}/${n}`,o));O(this,"updateTiers",(r,n)=>this._put(`${Z}/${r}/${Ee.TIER}`,n));O(this,"getTiers",r=>this._list(`${Z}/${r}/${Ee.TIER}`));O(this,"getTier",(r,n)=>this._get(`${Z}/${r}/${Ee.TIER}/${n}`));O(this,"deleteTier",(r,n)=>this._remove(`${Z}/${r}/${Ee.TIER}/${n}`));O(this,"follow",r=>this._post(`${Z}/${r}/${Ee.FOLLOWER}`,{}));O(this,"unfollow",r=>this._remove(`${Z}/${r}/${Ee.FOLLOWER}`));O(this,"subscribe",(r,n)=>this._post(`${Z}/${r}/${Ee.SUBSCRIBER}`,{tierId:n}));O(this,"unsubscribe",r=>this._remove(`${Z}/${r}/${Ee.SUBSCRIBER}`));O(this,"changeSubscriptionTier",(r,n)=>this._put(`${Z}/${r}/${Ee.SUBSCRIBER}`,{tierId:n}))}}const Ce="/api/news",pt={TRENDING:"trending",TAGS:"tags",FOLLOWED:"followed",SUBSCRIBED:"subscribed",CREATOR:"creator"};class yu extends pr{constructor(r){super(r,Ce);O(this,"createNews",r=>this._post(Ce,r));O(this,"get",r=>this._get(`${Ce}/${r}`));O(this,"update",(r,n)=>this._patch(`${Ce}/${r}`,n));O(this,"delete",r=>this._remove(`${Ce}/${r}`));O(this,"getNews",(r=Le)=>this._list(Ce,r));O(this,"getTrending",(r=Le)=>this._list(`${Ce}/${pt.TRENDING}`,r));O(this,"getSubscribed",(r=Le)=>this._list(`${Ce}/${pt.SUBSCRIBED}`,r));O(this,"getFollowed",(r=Le)=>this._list(`${Ce}/${pt.FOLLOWED}`,r));O(this,"getCreatorNews",(r,n=Le)=>this._list(`${Ce}/${pt.CREATOR}/${r}`,n));O(this,"getTags",()=>this._listAll(`${Ce}/${pt.TAGS}`))}}const wu="/polls";class Su extends pr{constructor(t){super(t,wu)}}const Ye="api/users",Mt={PROFILE:"profile",SIGN_IN:"sign-in",SIGN_UP:"sign-up"};class ju extends pr{constructor(r){super(r,Ye);O(this,"signUp",async({external_id:r,email:n,display_name:o,photo_url:i,role_id:a})=>this._post(`${Ye}/${Mt.SIGN_UP}`,{external_id:r,email:n,display_name:o,photo_url:i,role_id:a}));O(this,"signIn",async({idToken:r})=>this._post(`${Ye}/${Mt.SIGN_IN}`,{idToken:r}));O(this,"getUserInfo",async()=>this._get(`${Ye}/${Mt.PROFILE}`));O(this,"getUserInfoByExternalId",async r=>this._get(`${Ye}/${Mt.PROFILE}/${r}`));O(this,"getUserChannels",async(r,n=Le)=>this._list(`${Ye}/${r}/channel`,n))}}class Eu{constructor(){O(this,"axiosJ");O(this,"userApi");O(this,"pollApi");O(this,"newsApi");O(this,"channelApi");O(this,"setAuthHeader",t=>(t?this.axiosJ.axiosInstance.defaults.headers.common.Authorization=`Bearer ${t}`:delete this.axiosJ.axiosInstance.defaults.headers.common.Authorization,this));O(this,"setApis",()=>(this.userApi=new ju(this.axiosJ),this.pollApi=new Su(this.axiosJ),this.newsApi=new yu(this.axiosJ),this.channelApi=new vu(this.axiosJ),this));this.axiosJ=new bu}}const Cu=e=>{const[t,r]=b.useState(null),[n,o]=b.useState(!0);b.useEffect(()=>{const p=xc(e,d=>{d&&r(d),o(!1)});return()=>p()},[e]);const i=async()=>t?t.getIdToken():null,a=async(p,d)=>{try{return await(await bc(e,p,d)).user.getIdToken()}catch(f){throw console.error("Sign in error:",f),f}},l=async p=>{try{return await(await vc(e,p)).user.getIdToken()}catch(d){throw console.error("Sign in with provider error:",d),d}},c=async(p,d)=>{try{return(await yc(e,p,d)).user}catch(f){throw console.error("Sign up error:",f),f}},u=async()=>{try{await wc(e),r(null)}catch(p){throw console.error("Sign out error:",p),p}};return{user:t,isAuthenticated:t!=null,isLoading:n,getToken:i,signIn:a,signInWithProvider:l,signUp:c,signOut:u}},Iu={apiKey:"AIzaSyDirHpadNKqOVH-cb79ENk7tsaRMERKvsc",authDomain:"journalist-2bf9e.firebaseapp.com",projectId:"journalist-2bf9e",storageBucket:"journalist-2bf9e.appspot.com",messagingSenderId:"1048434393409",appId:"1:1048434393409:web:4ca6775d6918b5d52ca1c0"},Ru=Sc(Iu),Au=jc(Ru),ta=new Ec,ra=new Cc,na=new Ic,oa=new Rc("apple.com");function Tn(){const e=b.createContext(null);function t(){const r=b.useContext(e);if(!r)throw new Error("Context must be used within provider");return r}return[e,t]}const[Tu,qe]=Tn(),Du=({children:e})=>{const t=Cu(Au);return s.jsx(Tu.Provider,{value:t,children:e})},sa=b.createContext(null),ne=()=>b.useContext(sa),Pu=({children:e})=>{const[t,r]=b.useState({api:new Eu,isAuthenticated:!1,isLoading:!0}),n=qe();return b.useEffect(()=>{(async()=>{var i,a;if(n!=null&&n.user){const l=await n.getToken();if(l){const c=(i=t.api)==null?void 0:i.setAuthHeader(l).setApis();r({api:c,isAuthenticated:!0,isLoading:!1})}}else{const l=(a=t.api)==null?void 0:a.setAuthHeader(null).setApis();r({api:l,isAuthenticated:!1,isLoading:!1})}})()},[n==null?void 0:n.user,n==null?void 0:n.isAuthenticated]),s.jsx(sa.Provider,{value:t,children:e})},[Ou,Dn]=Tn(),_u=({children:e})=>{const{isLoading:t}=ne(),{user:r,isLoading:n}=qe(),[o,i]=b.useState({isLoading:!0,error:null});return b.useEffect(()=>{i(a=>({...a,isLoading:n||t}))},[t,r,n]),s.jsx(Ou.Provider,{value:o,children:e})};var Pn={},Mr={};const Nu=Jl(Kl);var As;function M(){return As||(As=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=Nu}(Mr)),Mr}var Lu=$;Object.defineProperty(Pn,"__esModule",{value:!0});var On=Pn.default=void 0,$u=Lu(M()),Mu=s;On=Pn.default=(0,$u.default)((0,Mu.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6"}),"Brightness4");var _n={},Bu=$;Object.defineProperty(_n,"__esModule",{value:!0});var Nn=_n.default=void 0,Fu=Bu(M()),ku=s;Nn=_n.default=(0,Fu.default)((0,ku.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6m0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4"}),"Brightness7");const Wu=Si({palette:{mode:"light",primary:{main:"#2196f3"},background:{default:"#ffffff",paper:"#f8f9fa"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)"}},typography:{fontFamily:"'Poppins', 'Inter', sans-serif",h6:{fontWeight:700,letterSpacing:.5}}}),Uu=Si({palette:{mode:"dark",background:{default:"#121212",paper:"#1e1e1e"},text:{primary:"rgba(255, 255, 255, 0.87)",secondary:"rgba(255, 255, 255, 0.6)"}},typography:{fontFamily:"'Poppins', 'Inter', sans-serif",h6:{fontWeight:700,letterSpacing:.5}}}),ia=b.createContext({}),Hu=({children:e})=>{const[t,r]=b.useState(window.matchMedia("(prefers-color-scheme: dark)").matches),n=()=>{r(!t)},o=b.useMemo(()=>t?Uu:Wu,[t]);return s.jsx(ia.Provider,{value:{isDarkMode:t,toggleTheme:n},children:s.jsxs(Xl,{theme:o,children:[s.jsx(Ql,{}),e]})})},aa=()=>b.useContext(ia);var Ln={},zu=$;Object.defineProperty(Ln,"__esModule",{value:!0});var la=Ln.default=void 0,Gu=zu(M()),Vu=s;la=Ln.default=(0,Gu.default)((0,Vu.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp");var $n={},qu=$;Object.defineProperty($n,"__esModule",{value:!0});var ca=$n.default=void 0,Yu=qu(M()),Ju=s;ca=$n.default=(0,Yu.default)((0,Ju.jsx)("path",{d:"M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m2.19 12.19L6 18l3.81-8.19L18 6z"}),"Explore");var Mn={},Ku=$;Object.defineProperty(Mn,"__esModule",{value:!0});var Bn=Mn.default=void 0,Xu=Ku(M()),Qu=s;Bn=Mn.default=(0,Xu.default)((0,Qu.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People");var Fn={},Zu=$;Object.defineProperty(Fn,"__esModule",{value:!0});var da=Fn.default=void 0,ep=Zu(M()),tp=s;da=Fn.default=(0,ep.default)((0,tp.jsx)("path",{d:"M20 8H4V6h16zm-2-6H6v2h12zm4 10v8c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2v-8c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2m-6 4-6-3.27v6.53z"}),"Subscriptions");var kn={},rp=$;Object.defineProperty(kn,"__esModule",{value:!0});var Wn=kn.default=void 0,np=rp(M()),Ts=s;Wn=kn.default=(0,np.default)([(0,Ts.jsx)("circle",{cx:"6.18",cy:"17.82",r:"2.18"},"0"),(0,Ts.jsx)("path",{d:"M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56m0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9"},"1")],"RssFeed");const Ds=({})=>{const e=Di(),t=[{path:`${U.APP_NEWS_TRENDING}`,icon:s.jsx(la,{}),label:"Trending"},{path:`${U.APP_EXPLORE}`,icon:s.jsx(ca,{}),label:"Explore"},{path:`${U.APP_NEWS_MY_FEED}`,icon:s.jsx(Bn,{}),label:"Following"},{path:`${U.APP_SUBSCRIPTIONS}`,icon:s.jsx(da,{}),label:"Subscriptions"},{path:`${U.APP_CHANNELS}`,icon:s.jsx(Wn,{}),label:"Channels"}];return s.jsx(yn,{children:t.map(r=>s.jsxs(Xr,{button:!0,component:De,to:r.path,selected:e.pathname===r.path,sx:{borderRadius:1,mx:1,width:"auto","&.Mui-selected":{backgroundColor:"action.selected"}},children:[s.jsx($e,{children:r.icon}),s.jsx(Oe,{primary:r.label})]},r.path))})};var Un={},op=$;Object.defineProperty(Un,"__esModule",{value:!0});var Hn=Un.default=void 0,sp=op(M()),ip=s;Hn=Un.default=(0,sp.default)((0,ip.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");var zn={},ap=$;Object.defineProperty(zn,"__esModule",{value:!0});var ua=zn.default=void 0,lp=ap(M()),cp=s;ua=zn.default=(0,lp.default)((0,cp.jsx)("path",{d:"M4 18h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1m0-5h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1M3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1"}),"MenuRounded");var Gn={},dp=$;Object.defineProperty(Gn,"__esModule",{value:!0});var fr=Gn.default=void 0,up=dp(M()),pp=s;fr=Gn.default=(0,up.default)((0,pp.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle");var Vn={},fp=$;Object.defineProperty(Vn,"__esModule",{value:!0});var pa=Vn.default=void 0,hp=fp(M()),mp=s;pa=Vn.default=(0,hp.default)((0,mp.jsx)("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard");const gp=()=>{const e=ji("(max-width:600px)"),[t,r]=b.useState(!e),{isDarkMode:n,toggleTheme:o}=aa(),i=et(),{isLoading:a}=Dn(),[l,c]=b.useState(null),u=xe();b.useEffect(()=>{e&&r(!1)},[e]);const p=()=>{r(!t)},d=x=>{c(x.currentTarget)},f=()=>{c(null)},h=x=>{u(x),f()},m=[{path:U.STUDIO_ROOT,icon:s.jsx(pa,{fontSize:"small"}),label:"Creator Studio",divider:!1}],g=()=>s.jsx(Sn,{anchorEl:l,open:!!l,onClose:f,PaperProps:{sx:{width:220}},children:m.map(x=>[s.jsxs(ce,{onClick:()=>h(x.path),children:[s.jsx($e,{children:x.icon}),s.jsx(Oe,{children:x.label})]},x.path),x.divider&&s.jsx(Ve,{},`${x.path}-divider`)]).flat().filter(Boolean)});return a?null:s.jsxs(v,{sx:{display:"flex",minHeight:"100vh",bgcolor:"background.default"},children:[s.jsx(wn,{position:"fixed",elevation:0,sx:{zIndex:i.zIndex.drawer+1,bgcolor:"background.default",color:"text.primary",boxShadow:"none",borderBottom:"none"},children:s.jsxs(Je,{sx:{px:"8px"},children:[s.jsxs(v,{sx:{display:"flex",alignItems:"center",minWidth:200},children:[s.jsx(pe,{color:"inherit","aria-label":"toggle sidebar",onClick:p,sx:{minWidth:40,ml:.5,mr:1.5,"& .MuiSvgIcon-root":{fontSize:24,filter:"drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))"}},children:s.jsx(ua,{})}),s.jsxs(w,{variant:"h6",sx:{fontWeight:700,display:"block",letterSpacing:".1rem",fontFamily:"'Inter', -apple-system, sans-serif"},children:[s.jsxs(v,{sx:{display:{xs:"none",sm:"block"}},children:[s.jsx("span",{style:{color:"#2196F3",textTransform:"uppercase",fontWeight:800},children:"Meta"}),s.jsx("span",{style:{color:"#1976D2",fontWeight:600},children:"Journo"})]}),s.jsxs(v,{sx:{display:{xs:"block",sm:"none"}},children:[s.jsx("span",{style:{color:"#2196F3",textTransform:"uppercase",fontWeight:800},children:"M"}),s.jsx("span",{style:{color:"#1976D2",fontWeight:600},children:"Journo"})]})]})]}),s.jsx(v,{sx:{flexGrow:1,display:"flex",justifyContent:"center"},children:s.jsxs(v,{sx:{position:"relative",borderRadius:"12px",backgroundColor:x=>x.palette.mode==="dark"?L(x.palette.common.white,.08):L(x.palette.common.black,.04),"&:hover":{backgroundColor:x=>x.palette.mode==="dark"?L(x.palette.common.white,.12):L(x.palette.common.black,.08)},width:"100%",maxWidth:"600px",margin:"0 16px",border:"1px solid",borderColor:x=>x.palette.mode==="dark"?L(x.palette.common.white,.1):L(x.palette.common.black,.1)},children:[s.jsx(v,{sx:{padding:"0 16px",height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",color:"text.secondary"},children:s.jsx(Hn,{})}),s.jsx(Ei,{placeholder:"Search news...",sx:{color:"inherit",width:"100%","& .MuiInputBase-input":{padding:"10px 8px 10px 48px",width:"100%"}}})]})}),s.jsx(pe,{onClick:o,color:"inherit",children:n?s.jsx(Nn,{}):s.jsx(On,{})}),s.jsx(pe,{onClick:d,color:"inherit",sx:{ml:2},children:s.jsx(fr,{})}),g()]})}),e?s.jsxs(Jt,{variant:"temporary",open:t,onClose:p,ModalProps:{keepMounted:!0},PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{width:240,border:"none"}},children:[s.jsx(Je,{}),s.jsx(v,{sx:{height:"calc(100% - 64px)",overflow:"auto"},children:s.jsx(Ds,{isOpen:!0,toggleSidebar:p})})]}):s.jsxs(Jt,{variant:"permanent",PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{width:t?240:72,flexShrink:0,"& .MuiDrawer-paper":{width:t?240:72,transition:"width 0.2s",overflowX:"hidden",border:"none",borderRight:"none"}},children:[s.jsx(Je,{}),s.jsx(v,{sx:{height:"calc(100% - 64px)",overflow:"auto"},children:s.jsx(Ds,{isOpen:t,toggleSidebar:p})})]}),s.jsx(v,{component:"main",sx:{flexGrow:1,pt:8,width:0,minHeight:"100vh",display:"flex",flexDirection:"column",bgcolor:"background.default"},children:s.jsx(v,{sx:{flexGrow:1,py:3,px:{xs:2,sm:3},maxWidth:900,mx:"auto",width:"100%"},children:s.jsx(Pi,{})})})]})};var qn={},xp=$;Object.defineProperty(qn,"__esModule",{value:!0});var fa=qn.default=void 0,bp=xp(M()),vp=s;fa=qn.default=(0,bp.default)((0,vp.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");var Yn={},yp=$;Object.defineProperty(Yn,"__esModule",{value:!0});var ln=Yn.default=void 0,wp=yp(M()),Sp=s;ln=Yn.default=(0,wp.default)((0,Sp.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");var Jn={},jp=$;Object.defineProperty(Jn,"__esModule",{value:!0});var ha=Jn.default=void 0,Ep=jp(M()),Cp=s;ha=Jn.default=(0,Ep.default)((0,Cp.jsx)("path",{d:"m22 3-1.67 1.67L18.67 3 17 4.67 15.33 3l-1.66 1.67L12 3l-1.67 1.67L8.67 3 7 4.67 5.33 3 3.67 4.67 2 3v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2zM11 19H4v-6h7zm9 0h-7v-2h7zm0-4h-7v-2h7zm0-4H4V8h16z"}),"Newspaper");var Kn={},Ip=$;Object.defineProperty(Kn,"__esModule",{value:!0});var Xn=Kn.default=void 0,Rp=Ip(M()),Ps=s;Xn=Kn.default=(0,Rp.default)([(0,Ps.jsx)("path",{d:"M17 19.22H5V7h7V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-7h-2z"},"0"),(0,Ps.jsx)("path",{d:"M19 2h-2v3h-3c.01.01 0 2 0 2h3v2.99c.01.01 2 0 2 0V7h3V5h-3zM7 9h8v2H7zm0 3v2h8v-2h-3zm0 3h8v2H7z"},"1")],"PostAdd");var Qn={},Ap=$;Object.defineProperty(Qn,"__esModule",{value:!0});var hr=Qn.default=void 0,Tp=Ap(M()),Dp=s;hr=Qn.default=(0,Tp.default)((0,Dp.jsx)("path",{d:"M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2m0 14H3V5h18zm-5-7v2h-3v3h-2v-3H8v-2h3V7h2v3z"}),"AddToQueue");const Pp=({mobileOpen:e,onDrawerToggle:t})=>{const r=Di(),n=window.innerWidth<=600,o={news:[{path:U.STUDIO_NEWS,icon:s.jsx(ha,{}),label:"My News"},{path:U.STUDIO_NEWS_CREATE,icon:s.jsx(Xn,{}),label:"Create News"}],channels:[{path:U.STUDIO_CHANNELS,icon:s.jsx(Wn,{}),label:"My Channels"},{path:U.STUDIO_CHANNEL_CREATE,icon:s.jsx(hr,{}),label:"Create Channel"}]},i=s.jsxs(v,{children:[s.jsx(Je,{}),s.jsxs(yn,{sx:{px:2},children:[s.jsx(w,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"News Management"}),o.news.map(a=>s.jsxs(Xr,{button:!0,component:De,to:a.path,selected:r.pathname===a.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[s.jsx($e,{sx:{minWidth:40,color:r.pathname===a.path?"primary.main":"inherit"},children:a.icon}),s.jsx(Oe,{primary:a.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===a.path?600:400}})]},a.path)),s.jsx(Ve,{sx:{my:2}}),s.jsx(w,{variant:"overline",sx:{fontSize:"0.75rem",fontWeight:700,color:"text.secondary",ml:1,mb:1},children:"Channel Management"}),o.channels.map(a=>s.jsxs(Xr,{button:!0,component:De,to:a.path,selected:r.pathname===a.path,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{backgroundColor:"action.selected"},"&:hover":{backgroundColor:"action.hover"}},children:[s.jsx($e,{sx:{minWidth:40,color:r.pathname===a.path?"primary.main":"inherit"},children:a.icon}),s.jsx(Oe,{primary:a.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:r.pathname===a.path?600:400}})]},a.path))]})]});return s.jsx(s.Fragment,{children:n?s.jsx(Jt,{variant:"temporary",open:e,onClose:t,ModalProps:{keepMounted:!0},PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{width:240,border:"none"}},children:i}):s.jsx(Jt,{variant:"permanent",PaperProps:{sx:{height:"100%",bgcolor:"background.default"}},sx:{width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,transition:"width 0.2s",overflowX:"hidden",border:"none",borderRight:"none"}},children:i})})},Op=()=>{const[e,t]=b.useState(!1),[r,n]=b.useState(null),o=xe(),i=et(),{isDarkMode:a,toggleTheme:l}=aa(),{isLoading:c}=Dn(),u=()=>{t(!e)},p=h=>{n(h.currentTarget)},d=()=>{n(null)},f=h=>{o(h),d()};return c?null:s.jsxs(v,{sx:{display:"flex",minHeight:"100vh",bgcolor:"background.default"},children:[s.jsx(wn,{position:"fixed",elevation:0,sx:{zIndex:i.zIndex.drawer+1,bgcolor:"background.default",color:"text.primary",boxShadow:"none",borderBottom:"none"},children:s.jsxs(Je,{sx:{px:"8px"},children:[s.jsxs(v,{sx:{display:"flex",alignItems:"center",minWidth:200},children:[s.jsx(pe,{color:"inherit","aria-label":"toggle sidebar",onClick:u,sx:{minWidth:40,ml:.5,mr:1.5,"& .MuiSvgIcon-root":{fontSize:24,filter:"drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))"}},children:s.jsx(fa,{})}),s.jsxs(w,{variant:"h6",sx:{fontWeight:700,display:"block",letterSpacing:".1rem",fontFamily:"'Inter', -apple-system, sans-serif"},children:[s.jsx(v,{sx:{display:{xs:"none",sm:"block"}},children:"Creator Studio"}),s.jsx(v,{sx:{display:{xs:"block",sm:"none"}},children:"Studio"})]})]}),s.jsx(v,{sx:{flexGrow:1}}),s.jsx(pe,{onClick:l,color:"inherit",children:a?s.jsx(Nn,{}):s.jsx(On,{})}),s.jsx(pe,{onClick:()=>o(U.APP_ROOT),color:"inherit",sx:{ml:2},children:s.jsx(ln,{})}),s.jsx(pe,{onClick:p,color:"inherit",sx:{ml:2},children:s.jsx(fr,{})}),s.jsx(Sn,{anchorEl:r,open:!!r,onClose:d,PaperProps:{sx:{width:220}},children:[{path:U.APP_ROOT,icon:s.jsx(ln,{fontSize:"small"}),label:"Exit Studio"}].map(h=>s.jsxs(ce,{onClick:()=>f(h.path),children:[s.jsx($e,{children:h.icon}),s.jsx(Oe,{children:h.label})]},h.path))})]})}),s.jsx(Pp,{mobileOpen:e,onDrawerToggle:u}),s.jsx(v,{component:"main",sx:{flexGrow:1,pt:8,width:0,minHeight:"100vh",display:"flex",flexDirection:"column",bgcolor:"background.default"},children:s.jsx(v,{sx:{flexGrow:1,py:3,px:{xs:2,sm:3},maxWidth:1200,mx:"auto",width:"100%"},children:s.jsx(Pi,{})})})]})},Os=({children:e})=>{const t=qe();return t?t.user!=null?s.jsx(s.Fragment,{children:e}):s.jsx(Ac,{to:U.LOGIN}):null};var Zn={},_p=$;Object.defineProperty(Zn,"__esModule",{value:!0});var eo=Zn.default=void 0;$p(b);var Np=_p(M()),Lp=s;function ma(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(ma=function(n){return n?r:t})(e)}function $p(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=ma(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}eo=Zn.default=(0,Np.default)((0,Lp.jsx)("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"}),"Google");var to={},Mp=$;Object.defineProperty(to,"__esModule",{value:!0});var ro=to.default=void 0;kp(b);var Bp=Mp(M()),Fp=s;function ga(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(ga=function(n){return n?r:t})(e)}function kp(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=ga(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}ro=to.default=(0,Bp.default)((0,Fp.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"}),"X");var no={},Wp=$;Object.defineProperty(no,"__esModule",{value:!0});var oo=no.default=void 0;zp(b);var Up=Wp(M()),Hp=s;function xa(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(xa=function(n){return n?r:t})(e)}function zp(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=xa(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}oo=no.default=(0,Up.default)((0,Hp.jsx)("path",{d:"M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m13 2h-2.5A3.5 3.5 0 0 0 12 8.5V11h-2v3h2v7h3v-7h3v-3h-3V9a1 1 0 0 1 1-1h2V5z"}),"Facebook");var so={},Gp=$;Object.defineProperty(so,"__esModule",{value:!0});var io=so.default=void 0;Yp(b);var Vp=Gp(M()),qp=s;function ba(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(ba=function(n){return n?r:t})(e)}function Yp(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=ba(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}io=so.default=(0,Vp.default)((0,qp.jsx)("path",{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"}),"Apple");const Bt=Tt(q)(({theme:e,bgcolor:t})=>({color:"#fff",backgroundColor:t,boxShadow:`0 2px 4px 0 ${t}80`,"&:hover":{backgroundColor:e.palette.augmentColor({color:{main:t}}).dark},"& .MuiButton-startIcon":{marginRight:e.spacing(1)}})),Jp=()=>{const[e,t]=b.useState(""),[r,n]=b.useState(""),[o,i]=b.useState(""),a=qe(),{api:l}=ne(),c=xe(),u=async d=>{d.preventDefault();try{const f=await(a==null?void 0:a.signIn(e,r));f&&await(l==null?void 0:l.userApi.signIn({idToken:f}))}catch{i("Failed to login with email and password")}},p=async d=>{try{const f=await(a==null?void 0:a.signInWithProvider(d));f&&await(l==null?void 0:l.userApi.signIn({idToken:f}))}catch{i("Failed to login with Google")}};return b.useEffect(()=>{a!=null&&a.user&&c(U.APP_NEWS_TRENDING)},[(a==null?void 0:a.user)!=null]),s.jsxs(Y,{maxWidth:"xs",sx:{mt:8},children:[s.jsx(v,{sx:{textAlign:"center",mb:4},children:s.jsx(w,{variant:"h4",gutterBottom:!0,children:"Welcome back!"})}),o&&s.jsx(w,{variant:"body2",color:"error",gutterBottom:!0,children:o}),s.jsxs(v,{component:"form",onSubmit:u,sx:{mb:2},children:[s.jsx(ye,{label:"Email",variant:"outlined",fullWidth:!0,margin:"normal",value:e,onChange:d=>t(d.target.value)}),s.jsx(ye,{label:"Password",variant:"outlined",fullWidth:!0,type:"password",margin:"normal",value:r,onChange:d=>n(d.target.value)}),s.jsx(v,{sx:{textAlign:"right",mb:2},children:s.jsx(jn,{href:"#",variant:"caption",children:"Did you forget your password?"})}),s.jsx(q,{type:"submit",variant:"outlined",color:"secondary",fullWidth:!0,sx:{mb:2},children:"Log In"})]}),s.jsx(Ve,{sx:{my:2},children:"OR"}),s.jsx(v,{sx:{textAlign:"center",mb:2},children:s.jsx(w,{variant:"body2",gutterBottom:!0,children:"You can sign in or sign up our application with following providers"})}),s.jsxs(v,{sx:{display:"flex",flexDirection:"column",gap:2},children:[s.jsx(Bt,{variant:"contained",startIcon:s.jsx(eo,{}),bgcolor:"#DB4437",onClick:p.bind(void 0,ta),children:"Sign in with Google"}),s.jsx(Bt,{variant:"contained",startIcon:s.jsx(ro,{}),bgcolor:"#1DA1F2",onClick:p.bind(void 0,ra),children:"Sign in with X"}),s.jsx(Bt,{variant:"contained",startIcon:s.jsx(oo,{}),bgcolor:"#1877F2",onClick:p.bind(void 0,na),children:"Sign in with Facebook"}),s.jsx(Bt,{variant:"contained",startIcon:s.jsx(io,{}),bgcolor:"#000000",onClick:p.bind(void 0,oa),children:"Sign in with Apple"})]})]})},Kp={SUPER_ADMIN:1,ADMIN:2,MODERATOR:3,REGULAR_USER:4,GUEST:5,JOURNALIST:6,EDITOR:7,EVALUATOR:8,FINANCE_MANAGER:9},Ft=Tt(q)(({theme:e,bgcolor:t})=>({color:"#fff",backgroundColor:t,boxShadow:`0 2px 4px 0 ${t}80`,"&:hover":{backgroundColor:e.palette.augmentColor({color:{main:t}}).dark},"& .MuiButton-startIcon":{marginRight:e.spacing(1)}})),Xp=()=>{const[e,t]=b.useState(""),[r,n]=b.useState(""),[o,i]=b.useState(""),a=qe(),{api:l}=ne(),c=xe(),u=async d=>{d.preventDefault();try{const f=await(a==null?void 0:a.signUp(e,r));f&&await(l==null?void 0:l.userApi.signUp({external_id:f.uid,email:f.email,display_name:f.displayName??"",photo_url:f.photoURL??"",role_id:Kp.REGULAR_USER}))}catch{i("Failed to sign up with email and password")}},p=async d=>{try{const f=await(a==null?void 0:a.signInWithProvider(d));f&&await(l==null?void 0:l.userApi.signIn({idToken:f}))}catch{i("Failed to login with Google")}};return b.useEffect(()=>{a!=null&&a.user&&c("/app/news/trending")},[(a==null?void 0:a.user)!=null]),s.jsxs(Y,{maxWidth:"xs",sx:{mt:8},children:[s.jsx(v,{sx:{textAlign:"center",mb:4},children:s.jsx(w,{variant:"h4",gutterBottom:!0,children:"Welcome back!"})}),o&&s.jsx(w,{variant:"body2",color:"error",gutterBottom:!0,children:o}),s.jsxs(v,{component:"form",onSubmit:u,sx:{mb:2},children:[s.jsx(ye,{label:"Email",variant:"outlined",fullWidth:!0,margin:"normal",value:e,onChange:d=>t(d.target.value)}),s.jsx(ye,{label:"Password",variant:"outlined",fullWidth:!0,type:"password",margin:"normal",value:r,onChange:d=>n(d.target.value)}),s.jsx(v,{sx:{textAlign:"right",mb:2},children:s.jsx(jn,{href:"#",variant:"caption",children:"Did you forget your password?"})}),s.jsx(q,{type:"submit",variant:"outlined",color:"secondary",fullWidth:!0,sx:{mb:2},children:"Log In"})]}),s.jsx(Ve,{sx:{my:2},children:"OR"}),s.jsx(v,{sx:{textAlign:"center",mb:2},children:s.jsx(w,{variant:"body2",gutterBottom:!0,children:"You can sign in or sign up our application with following providers"})}),s.jsxs(v,{sx:{display:"flex",flexDirection:"column",gap:2},children:[s.jsx(Ft,{variant:"contained",startIcon:s.jsx(eo,{}),bgcolor:"#DB4437",onClick:p.bind(void 0,ta),children:"Sign in with Google"}),s.jsx(Ft,{variant:"contained",startIcon:s.jsx(ro,{}),bgcolor:"#1DA1F2",onClick:p.bind(void 0,ra),children:"Sign in with X"}),s.jsx(Ft,{variant:"contained",startIcon:s.jsx(oo,{}),bgcolor:"#1877F2",onClick:p.bind(void 0,na),children:"Sign in with Facebook"}),s.jsx(Ft,{variant:"contained",startIcon:s.jsx(io,{}),bgcolor:"#000000",onClick:p.bind(void 0,oa),children:"Sign in with Apple"})]})]})},mr="/journalist-material-client/assets/BG_journo-DMUT4Pey.png",Qp="/journalist-material-client/assets/logo-DFxzhO5f.png",Zp=Tt("div")(({theme:e})=>({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:L(e.palette.common.white,.15),"&:hover":{backgroundColor:L(e.palette.common.black,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%",[e.breakpoints.up("sm")]:{marginLeft:e.spacing(3),width:"auto"}})),ef=Tt("div")(({theme:e})=>({padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"})),tf=Tt(Ei)(({theme:e})=>({color:"inherit","& .MuiInputBase-input":{padding:e.spacing(1,1,1,0),paddingLeft:`calc(1em + ${e.spacing(4)})`,transition:e.transitions.create("width"),width:"100%",[e.breakpoints.up("md")]:{width:"20ch"}}})),rf=()=>{const e=qe(),[t,r]=b.useState(!1),n=async()=>{await(e==null?void 0:e.signOut()),r(!1)};return b.useEffect(()=>{r(!!(e!=null&&e.user))},[e==null?void 0:e.user]),s.jsx(wn,{position:"absolute",sx:{background:"#f0e8e861",boxShadow:"none"},children:s.jsxs(Je,{sx:{justifyContent:"space-between",flexDirection:{xs:"column",sm:"row"},gap:{xs:2,sm:0},py:{xs:2,sm:0}},children:[s.jsxs(Zp,{sx:{order:{xs:2,sm:1},width:{xs:"100%",sm:"auto"}},children:[s.jsx(ef,{children:s.jsx(Hn,{})}),s.jsx(tf,{placeholder:"Find a publisher",inputProps:{"aria-label":"search"}})]}),s.jsx(v,{sx:{flexGrow:1,textAlign:"center",order:{xs:1,sm:2}},children:s.jsx("img",{height:35,style:{marginTop:5},src:Qp,alt:"Logo"})}),s.jsx(v,{sx:{display:"flex",alignItems:"center",order:{xs:3,sm:3},width:{xs:"100%",sm:"auto"},justifyContent:{xs:"center",sm:"flex-end"},gap:2},children:t?s.jsxs(s.Fragment,{children:[s.jsx(q,{color:"primary",variant:"outlined",size:"large",component:De,to:U.APP_NEWS_MY_FEED,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"}},children:"My Feed"}),s.jsx(q,{color:"secondary",variant:"outlined",size:"large",onClick:n,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Log out"})]}):s.jsxs(s.Fragment,{children:[s.jsx(q,{color:"primary",variant:"outlined",size:"large",component:De,to:U.LOGIN,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Log in"}),s.jsx(q,{color:"secondary",variant:"outlined",size:"large",component:De,to:U.SIGNUP,sx:{width:{xs:"45%",sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Get Started"})]})})]})})},nf=()=>s.jsxs(v,{sx:{position:"relative",height:"100vh",overflow:"hidden"},children:[s.jsx(rf,{}),s.jsx(v,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundImage:`url(${mr})`,backgroundSize:"cover",backgroundPosition:"center",zIndex:-1}}),s.jsx(Y,{sx:{position:"relative",zIndex:1,pt:8},children:s.jsx(v,{sx:{textAlign:"center",color:"#b068b1",mt:"40vh"},children:s.jsx(w,{variant:"h2",component:"h1",sx:{fontWeight:"bold"},children:"Your house, Your rules"})})})]}),ft={DRAFT:1,PENDING_REVIEW:2,PUBLISHED:3,REJECTED:4,ARCHIVED:5,DELETED:6},le={INSTAGRAM:1,TWITTER:2,YOUTUBE:3,TIKTOK:4,FACEBOOK:5,LINKEDIN:6,OTHER:7},gr={COVER:1,SUMMARY:2,AVATAR:3,TEASER:4,INTRO:5,OUTRO:6,OTHER:7},of={IMAGE:1,VIDEO:2,AUDIO:3,DOCUMENT:4,URL:5,ARTICLE:6,OTHER:7};var ao={},sf=$;Object.defineProperty(ao,"__esModule",{value:!0});var va=ao.default=void 0,af=sf(M()),lf=s;va=ao.default=(0,af.default)((0,lf.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"}),"FavoriteBorder");var lo={},cf=$;Object.defineProperty(lo,"__esModule",{value:!0});var ya=lo.default=void 0,df=cf(M()),uf=s;ya=lo.default=(0,df.default)((0,uf.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share");const wa=({news:e})=>{var o,i;const t=xe(),r=(o=e.media)==null?void 0:o.find(a=>a.type===gr.AVATAR),n=a=>{a.target.closest(".action-button")||t(U.APP_NEWS_VIEW.replace(":id",e.id))};return s.jsxs(v,{sx:{mb:4},children:[s.jsxs(v,{component:De,to:`/app/channels/${e.channel.id}`,sx:{display:"inline-flex",alignItems:"center",color:"text.primary",textDecoration:"none",mb:1.5,px:.5,"&:hover":{color:"primary.main","& .channel-name":{color:"primary.main"}}},children:[s.jsx(ir,{src:e.channel.logoUrl,alt:e.channel.name,variant:"rounded",sx:{width:28,height:28,mr:1.5,bgcolor:"grey.200",borderRadius:1.5},children:s.jsx(fr,{fontSize:"small"})}),s.jsx(w,{variant:"body2",className:"channel-name",fontWeight:500,sx:{transition:"color 0.2s"},children:e.channel.name})]}),s.jsxs(ge,{onClick:n,sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},cursor:"pointer",bgcolor:"background.paper",borderRadius:2,overflow:"hidden","&:hover":{"& .news-thumbnail":{transform:"scale(1.05)"},"& .news-title":{color:"primary.main"}}},children:[s.jsxs(v,{sx:{position:"relative",width:{xs:"100%",sm:"360px"},minWidth:{sm:"360px"},height:{xs:"220px",sm:"200px"},flexShrink:0,overflow:"hidden",bgcolor:"grey.100"},children:[s.jsx(v,{component:"img",src:(r==null?void 0:r.url)||mr,alt:e.title,className:"news-thumbnail",sx:{width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.3s ease",display:"block"}}),((i=e.qualityMetrics)==null?void 0:i.overallQualityScore)&&s.jsx(v,{sx:{position:"absolute",bottom:12,right:12,px:1,py:.5,borderRadius:1,bgcolor:L("#000",.75),color:"white",fontSize:"0.75rem",fontWeight:600},children:e.qualityMetrics.overallQualityScore.toFixed(1)})]}),s.jsxs(v,{sx:{p:3,flex:1,display:"flex",flexDirection:"column"},children:[s.jsx(w,{className:"news-title",variant:"subtitle1",sx:{fontWeight:600,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",lineHeight:1.4,transition:"color 0.2s",mb:2},children:e.title}),s.jsx(w,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",mb:3,lineHeight:1.6},children:e.content}),s.jsxs(v,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:"auto"},children:[s.jsx(w,{variant:"caption",color:"text.secondary",sx:{fontWeight:500},children:new Date(e.publishedAt).toLocaleDateString()}),s.jsxs(B,{direction:"row",spacing:1.5,children:[s.jsx(fs,{title:"Like",children:s.jsx(pe,{className:"action-button",size:"small",onClick:a=>{a.stopPropagation()},sx:{color:"text.secondary","&:hover":{color:"error.main"}},children:s.jsx(va,{fontSize:"small"})})}),s.jsx(fs,{title:"Share",children:s.jsx(pe,{className:"action-button",size:"small",onClick:a=>{a.stopPropagation()},sx:{color:"text.secondary","&:hover":{color:"primary.main"}},children:s.jsx(ya,{fontSize:"small"})})})]})]})]})]})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var cn=function(e,t){return cn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},cn(e,t)};function pf(e,t){cn(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var xt=function(){return xt=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},xt.apply(this,arguments)};function ff(e,t,r,n){var o,i=!1,a=0;function l(){o&&clearTimeout(o)}function c(){l(),i=!0}typeof t!="boolean"&&(n=r,r=t,t=void 0);function u(){var p=this,d=Date.now()-a,f=arguments;if(i)return;function h(){a=Date.now(),r.apply(p,f)}function m(){o=void 0}n&&!o&&h(),l(),n===void 0&&d>e?h():t!==!0&&(o=setTimeout(n?m:h,n===void 0?e-d:e))}return u.cancel=c,u}var Ke={Pixel:"Pixel",Percent:"Percent"},_s={unit:Ke.Percent,value:.8};function Ns(e){return typeof e=="number"?{unit:Ke.Percent,value:e*100}:typeof e=="string"?e.match(/^(\d*(\.\d+)?)px$/)?{unit:Ke.Pixel,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:Ke.Percent,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),_s):(console.warn("scrollThreshold should be string or number"),_s)}var xr=function(e){pf(t,e);function t(r){var n=e.call(this,r)||this;return n.lastScrollTop=0,n.actionTriggered=!1,n.startY=0,n.currentY=0,n.dragging=!1,n.maxPullDownDistance=0,n.getScrollableTarget=function(){return n.props.scrollableTarget instanceof HTMLElement?n.props.scrollableTarget:typeof n.props.scrollableTarget=="string"?document.getElementById(n.props.scrollableTarget):(n.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},n.onStart=function(o){n.lastScrollTop||(n.dragging=!0,o instanceof MouseEvent?n.startY=o.pageY:o instanceof TouchEvent&&(n.startY=o.touches[0].pageY),n.currentY=n.startY,n._infScroll&&(n._infScroll.style.willChange="transform",n._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},n.onMove=function(o){n.dragging&&(o instanceof MouseEvent?n.currentY=o.pageY:o instanceof TouchEvent&&(n.currentY=o.touches[0].pageY),!(n.currentY<n.startY)&&(n.currentY-n.startY>=Number(n.props.pullDownToRefreshThreshold)&&n.setState({pullToRefreshThresholdBreached:!0}),!(n.currentY-n.startY>n.maxPullDownDistance*1.5)&&n._infScroll&&(n._infScroll.style.overflow="visible",n._infScroll.style.transform="translate3d(0px, "+(n.currentY-n.startY)+"px, 0px)")))},n.onEnd=function(){n.startY=0,n.currentY=0,n.dragging=!1,n.state.pullToRefreshThresholdBreached&&(n.props.refreshFunction&&n.props.refreshFunction(),n.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){n._infScroll&&(n._infScroll.style.overflow="auto",n._infScroll.style.transform="none",n._infScroll.style.willChange="unset")})},n.onScrollListener=function(o){typeof n.props.onScroll=="function"&&setTimeout(function(){return n.props.onScroll&&n.props.onScroll(o)},0);var i=n.props.height||n._scrollableNode?o.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!n.actionTriggered){var a=n.props.inverse?n.isElementAtTop(i,n.props.scrollThreshold):n.isElementAtBottom(i,n.props.scrollThreshold);a&&n.props.hasMore&&(n.actionTriggered=!0,n.setState({showLoader:!0}),n.props.next&&n.props.next()),n.lastScrollTop=i.scrollTop}},n.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:r.dataLength},n.throttledOnScrollListener=ff(150,n.onScrollListener).bind(n),n.onStart=n.onStart.bind(n),n.onMove=n.onMove.bind(n),n.onEnd=n.onEnd.bind(n),n}return t.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},t.prototype.componentDidUpdate=function(r){this.props.dataLength!==r.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},t.getDerivedStateFromProps=function(r,n){var o=r.dataLength!==n.prevDataLength;return o?xt(xt({},n),{prevDataLength:r.dataLength}):null},t.prototype.isElementAtTop=function(r,n){n===void 0&&(n=.8);var o=r===document.body||r===document.documentElement?window.screen.availHeight:r.clientHeight,i=Ns(n);return i.unit===Ke.Pixel?r.scrollTop<=i.value+o-r.scrollHeight+1:r.scrollTop<=i.value/100+o-r.scrollHeight+1},t.prototype.isElementAtBottom=function(r,n){n===void 0&&(n=.8);var o=r===document.body||r===document.documentElement?window.screen.availHeight:r.clientHeight,i=Ns(n);return i.unit===Ke.Pixel?r.scrollTop+o>=r.scrollHeight-i.value:r.scrollTop+o>=i.value/100*r.scrollHeight},t.prototype.render=function(){var r=this,n=xt({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),o=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),i=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return V.createElement("div",{style:i,className:"infinite-scroll-component__outerdiv"},V.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(a){return r._infScroll=a},style:n},this.props.pullDownToRefresh&&V.createElement("div",{style:{position:"relative"},ref:function(a){return r._pullDown=a}},V.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!o&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},t}(b.Component);const Ls=()=>s.jsx(v,{sx:{mb:4},children:[1,2,3].map(e=>s.jsxs(v,{sx:{mb:10},children:[s.jsxs(v,{sx:{display:"flex",alignItems:"center",mb:1.5,px:.5},children:[s.jsx(C,{variant:"rounded",width:28,height:28,sx:{borderRadius:1.5,mr:1.5}}),s.jsx(C,{width:120,height:20})]}),s.jsxs(ge,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},borderRadius:2,overflow:"hidden"},children:[s.jsx(C,{variant:"rectangular",sx:{width:{xs:"100%",sm:"360px"},minWidth:{sm:"360px"},height:{xs:"220px",sm:"200px"}}}),s.jsxs(v,{sx:{p:3,flex:1},children:[s.jsx(C,{width:"90%",height:24,sx:{mb:2}}),s.jsx(C,{width:"80%",height:24,sx:{mb:2}}),s.jsx(C,{width:"95%",height:20,sx:{mb:1}}),s.jsx(C,{width:"90%",height:20,sx:{mb:3}}),s.jsxs(v,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(C,{width:100,height:20}),s.jsxs(v,{sx:{display:"flex",gap:1.5},children:[s.jsx(C,{variant:"circular",width:32,height:32}),s.jsx(C,{variant:"circular",width:32,height:32})]})]})]})]})]},e))}),$s=({isSubscribed:e})=>{const[t,r]=b.useState([]),[n,o]=b.useState(!0),[i,a]=b.useState(1),[l,c]=b.useState(!0),{api:u}=ne(),p=async(f=i)=>{try{o(!0);const h=e?await(u==null?void 0:u.newsApi.getFollowed({page:f,limit:12})):await(u==null?void 0:u.newsApi.getTrending({page:f,limit:12}));h&&(r(f===1?h.items:m=>[...m,...h.items]),c(h.metadata.hasNext),a(h.metadata.currentPage))}catch(h){console.error("Failed to fetch news:",h)}finally{o(!1)}};b.useEffect(()=>{p(i)},[]);const d=()=>{!n&&l&&p(i+1)};return n&&t.length===0?s.jsxs(Y,{maxWidth:"lg",sx:{py:4},children:[s.jsx(w,{variant:"h5",gutterBottom:!0,children:s.jsx(C,{width:200})}),s.jsx(B,{spacing:3,children:[1,2,3].map(f=>s.jsx(Ls,{},f))})]}):s.jsx(Y,{maxWidth:"lg",sx:{py:4},children:s.jsx(xr,{dataLength:t.length,next:d,hasMore:l,loader:s.jsx(Ls,{}),children:s.jsx(v,{sx:{display:"flex",flexDirection:"column",gap:4,px:1,mt:6},children:t.map(f=>s.jsx(wa,{news:f},f.id))})})})},hf=e=>{switch(e){case le.INSTAGRAM:return sc;case le.TWITTER:return oc;case le.YOUTUBE:return nc;case le.TIKTOK:return rc;case le.FACEBOOK:return tc;case le.LINKEDIN:return ec;case le.OTHER:default:return Zl}},mf=e=>{switch(e){case le.INSTAGRAM:return"#E4405F";case le.TWITTER:return"#1DA1F2";case le.YOUTUBE:return"#FF0000";case le.TIKTOK:return"#000000";case le.FACEBOOK:return"#1877F2";case le.LINKEDIN:return"#0A66C2";default:return"#757575"}},gf=e=>{var t;return((t=Object.entries(le).find(([r,n])=>n===e))==null?void 0:t[0])||"Other"};var co={},xf=$;Object.defineProperty(co,"__esModule",{value:!0});var Sa=co.default=void 0,bf=xf(M()),vf=s;Sa=co.default=(0,bf.default)((0,vf.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39"}),"Public");var uo={},yf=$;Object.defineProperty(uo,"__esModule",{value:!0});var ja=uo.default=void 0,wf=yf(M()),Sf=s;ja=uo.default=(0,wf.default)((0,Sf.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"Launch");const po=({links:e})=>e.length?s.jsxs(_e,{variant:"outlined",sx:{p:2,bgcolor:"background.paper",borderRadius:2,width:"100%"},children:[s.jsxs(v,{sx:{display:"flex",alignItems:"center",mb:2},children:[s.jsx(Sa,{sx:{mr:1,color:"primary.main"}}),s.jsx(w,{variant:"h6",component:"div",children:"Read More On"})]}),s.jsx(Ve,{sx:{mb:2}}),s.jsx(B,{spacing:1.5,children:e.map(t=>s.jsx(jn,{href:t.url,target:"_blank",rel:"noopener noreferrer",underline:"none",sx:{color:"inherit",display:"block","&:hover":{"& .MuiPaper-root":{bgcolor:"action.hover",borderColor:"primary.main"},"& .launch-icon":{color:"primary.main"}}},children:s.jsxs(_e,{variant:"outlined",sx:{p:1.5,display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.2s ease-in-out"},children:[s.jsxs(v,{sx:{display:"flex",alignItems:"center"},children:[s.jsx(v,{sx:{color:mf(t.platform),display:"flex",mr:1.5},children:V.createElement(hf(t.platform))}),s.jsx(w,{variant:"body2",children:gf(t.platform)})]}),s.jsx(ja,{fontSize:"small",className:"launch-icon",sx:{color:"text.secondary",transition:"color 0.2s ease-in-out"}})]})},t.id))})]}):null;var fo={},jf=$;Object.defineProperty(fo,"__esModule",{value:!0});var ho=fo.default=void 0,Ef=jf(M()),Cf=s;ho=fo.default=(0,Ef.default)((0,Cf.jsx)("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney");var mo={},If=$;Object.defineProperty(mo,"__esModule",{value:!0});var go=mo.default=void 0,Rf=If(M()),Af=s;go=mo.default=(0,Rf.default)((0,Af.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var xo={},Tf=$;Object.defineProperty(xo,"__esModule",{value:!0});var bo=xo.default=void 0,Df=Tf(M()),Pf=s;bo=xo.default=(0,Df.default)((0,Pf.jsx)("path",{d:"M18 11v2h4v-2zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61M20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4M4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34"}),"Campaign");var vo={},Of=$;Object.defineProperty(vo,"__esModule",{value:!0});var yo=vo.default=void 0,_f=Of(M()),Nf=s;yo=vo.default=(0,_f.default)((0,Nf.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");const Lf={header:{class:Oc,config:{levels:[1,2,3,4],defaultLevel:2,placeholder:""}},list:{class:_c,inlineToolbar:!0,config:{placeholder:""}},checklist:{class:Nc,inlineToolbar:!0,config:{placeholder:""}},quote:{class:Lc,inlineToolbar:!0,config:{quotePlaceholder:"",captionPlaceholder:""}},code:$c,inlineCode:{class:Mc},marker:{class:Bc},image:{class:Fc,config:{endpoints:{byFile:"/api/upload/image",byUrl:"/api/fetch/image"}}},linkTool:{class:kc,config:{endpoint:"/api/fetch/link"}},table:{class:Wc,inlineToolbar:!0},warning:{class:Uc,inlineToolbar:!0,config:{titlePlaceholder:"Title",messagePlaceholder:"Message"}},delimiter:Hc},wo=({data:e,onChange:t,readOnly:r=!1,placeholder:n="Start writing your content...",borderColor:o})=>{const i=et(),a=b.useRef(null),l=b.useRef(`editor-${Math.random().toString(36).slice(2,7)}`);return b.useEffect(()=>((async()=>{if(a.current){try{await a.current.isReady,await a.current.destroy()}catch(p){console.error("Editor cleanup failed:",p)}a.current=null}const u=new Pc({holder:l.current,tools:Lf,data:e,placeholder:n,readOnly:r,onChange:async p=>{const d=await p.saver.save();t==null||t(d)},autofocus:!0});a.current=u})().catch(console.error),()=>{a.current&&a.current.destroy&&a.current.isReady.then(()=>{var u;(u=a.current)!=null&&u.destroy&&a.current.destroy(),a.current=null}).catch(console.error)}),[]),s.jsx(v,{id:l.current,sx:{minHeight:300,border:"1px solid",borderColor:typeof o=="function"?o(i):o||i.palette.divider,borderRadius:1,p:2,"& .ce-toolbar__plus, & .ce-toolbar__settings-btn, & .cdx-button":{color:c=>c.palette.mode==="dark"?L(c.palette.common.white,.7):L(c.palette.common.black,.7),backgroundColor:"transparent"},"& .ce-toolbar__plus:hover, & .ce-toolbar__settings-btn:hover, & .cdx-button:hover":{backgroundColor:c=>c.palette.mode==="dark"?L(c.palette.common.white,.1):L(c.palette.common.black,.1)}}})},Ea=e=>{if(e)try{return JSON.parse(e)}catch{return{blocks:[{type:"paragraph",data:{text:e}}]}}},$f=()=>s.jsx(Y,{maxWidth:"lg",sx:{mt:4},children:s.jsxs(H,{container:!0,spacing:4,children:[s.jsx(H,{item:!0,xs:12,children:s.jsx(C,{variant:"rectangular",width:"100%",height:300,sx:{borderRadius:2,mb:3}})}),s.jsx(H,{item:!0,xs:12,md:8,children:s.jsx(ge,{children:s.jsxs(v,{sx:{p:3},children:[s.jsxs(v,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[s.jsx(C,{variant:"text",width:"60%",height:40}),s.jsx(B,{direction:"row",spacing:1,children:[1,2,3].map(e=>s.jsx(C,{variant:"circular",width:40,height:40},e))})]}),s.jsx(C,{variant:"rectangular",width:"100%",height:300,sx:{mb:3,borderRadius:1}}),s.jsxs(B,{spacing:2,sx:{mb:3},children:[s.jsx(C,{variant:"text",width:"100%"}),s.jsx(C,{variant:"text",width:"95%"}),s.jsx(C,{variant:"text",width:"90%"}),s.jsx(C,{variant:"text",width:"85%"}),s.jsx(C,{variant:"text",width:"95%"})]}),s.jsx(C,{variant:"rectangular",width:"100%",height:80,sx:{mb:3,borderRadius:1}}),s.jsx(B,{direction:"row",spacing:1,children:[1,2,3,4].map(e=>s.jsx(C,{variant:"rounded",width:80,height:32},e))})]})})}),s.jsx(H,{item:!0,xs:12,md:4,children:s.jsx(ge,{children:s.jsxs(tt,{children:[s.jsx(C,{variant:"text",width:"50%",height:32,sx:{mb:2}}),s.jsx(B,{spacing:2,children:[1,2,3,4,5].map(e=>s.jsxs(v,{children:[s.jsxs(v,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[s.jsx(C,{variant:"text",width:"40%"}),s.jsx(C,{variant:"text",width:"20%"})]}),s.jsx(C,{variant:"rectangular",width:"100%",height:8,sx:{borderRadius:1}})]},e))})]})})})]})}),Mf=()=>{const{id:e}=rt(),{api:t}=ne(),[r,n]=b.useState(null),[o,i]=b.useState(!0);if(b.useEffect(()=>{(async()=>{try{if(e){i(!0);const u=await(t==null?void 0:t.newsApi.get(e));u&&n(u)}}catch(u){console.error("Failed to fetch news:",u)}finally{i(!1)}})()},[e,t==null?void 0:t.newsApi]),o)return s.jsx($f,{});if(!r)return s.jsx(Y,{maxWidth:"lg",sx:{mt:4},children:s.jsx(w,{variant:"h4",children:"Entry not found"})});const a=r.media.find(c=>c.type===gr.COVER),l=c=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(c);return s.jsx(Y,{maxWidth:"lg",sx:{mt:4},children:s.jsxs(H,{container:!0,spacing:4,children:[s.jsx(H,{item:!0,xs:12,children:s.jsxs(v,{sx:{height:300,width:"100%",position:"relative",mb:3,borderRadius:2,overflow:"hidden"},children:[s.jsx(v,{component:"img",src:(a==null?void 0:a.url)||mr,alt:r.title,sx:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"}}),s.jsxs(v,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(transparent, rgba(0,0,0,0.7))",p:3,color:"white"},children:[s.jsx(w,{variant:"h4",component:"h1",gutterBottom:!0,children:r.title}),s.jsxs(v,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[s.jsxs(v,{sx:{display:"flex",alignItems:"center",gap:2},children:[s.jsxs(v,{component:De,to:`/channels/${r.channelId}`,sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(255, 255, 255, 0.1)",color:"white",px:2,py:1,borderRadius:2,textDecoration:"none",transition:"all 0.2s ease-in-out",border:"1px solid rgba(255, 255, 255, 0.2)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.2)",transform:"translateY(-2px)"}},children:[s.jsx(bo,{sx:{mr:1}}),s.jsx(w,{variant:"subtitle2",children:r.channel.name})]}),s.jsxs(v,{sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(0, 0, 0, 0.3)",px:2,py:1,borderRadius:2,border:"1px solid rgba(255, 255, 255, 0.1)"},children:[s.jsx(go,{sx:{mr:1,fontSize:"0.9rem"}}),s.jsx(w,{variant:"caption",children:r.creator.displayName})]})]}),s.jsx(w,{variant:"subtitle1",children:new Date(r.publishedAt).toLocaleDateString()})]})]})]})}),s.jsx(H,{item:!0,xs:12,md:8,children:s.jsx(ge,{children:s.jsxs(v,{sx:{p:3},children:[s.jsx(wo,{data:Ea(r.content),readOnly:!0,borderColor:c=>c.palette.mode==="dark"?L(c.palette.common.white,.1):L(c.palette.common.black,.1)}),s.jsx(v,{sx:{mt:2},children:r.tags.map(c=>s.jsx(yt,{label:c.title,variant:"outlined",sx:{mr:1,mb:1}},c.id))})]})})}),s.jsx(H,{item:!0,xs:12,md:4,children:s.jsxs(B,{spacing:3,children:[s.jsx(po,{links:r.socialLinks}),r.qualityMetrics&&s.jsxs(_e,{elevation:0,sx:{p:2,bgcolor:"success.light",color:"success.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[s.jsx(yo,{fontSize:"large"}),s.jsxs(v,{children:[s.jsx(w,{variant:"overline",children:"Quality Score"}),s.jsxs(w,{variant:"h4",component:"div",children:[r.qualityMetrics.overallQualityScore.toFixed(1),"/10"]})]})]}),r.newsFund&&s.jsxs(_e,{elevation:0,sx:{p:2,bgcolor:"primary.light",color:"primary.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[s.jsx(ho,{fontSize:"large"}),s.jsxs(v,{children:[s.jsx(w,{variant:"overline",children:"News Fund"}),s.jsx(w,{variant:"h4",component:"div",children:l(r.newsFund.amount)})]})]})]})})]})})};var So={},Bf=$;Object.defineProperty(So,"__esModule",{value:!0});var jo=So.default=void 0,Ff=Bf(M()),kf=s;jo=So.default=(0,Ff.default)((0,kf.jsx)("path",{d:"M9.68 13.69 12 11.93l2.31 1.76-.88-2.85L15.75 9h-2.84L12 6.19 11.09 9H8.25l2.31 1.84zM20 10c0-4.42-3.58-8-8-8s-8 3.58-8 8c0 2.03.76 3.87 2 5.28V23l6-2 6 2v-7.72c1.24-1.41 2-3.25 2-5.28m-8-6c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6 2.69-6 6-6"}),"WorkspacePremium");var Eo={},Wf=$;Object.defineProperty(Eo,"__esModule",{value:!0});var Ca=Eo.default=void 0,Uf=Wf(M()),Hf=s;Ca=Eo.default=(0,Uf.default)((0,Hf.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");var Co={},zf=$;Object.defineProperty(Co,"__esModule",{value:!0});var Io=Co.default=void 0,Gf=zf(M()),Vf=s;Io=Co.default=(0,Gf.default)((0,Vf.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");const[qf,Ro]=Tn(),Yf=({children:e})=>{const{api:t,isAuthenticated:r}=ne(),{user:n}=qe(),[o,i]=b.useState(null),[a,l]=b.useState(!1),c=async()=>{if(n!=null&&n.uid){l(!0);try{const p=await t.userApi.getUserInfoByExternalId(n.uid);i(p)}finally{l(!1)}}};b.useEffect(()=>{r&&c()},[n==null?void 0:n.uid,r]);const u={user:o,isLoading:a,actions:{refreshUser:c,isFollowing:p=>{var d;return((d=o==null?void 0:o.followings)==null?void 0:d.some(f=>f.channelId===p))??!1},isSubscribed:p=>{var d;return((d=o==null?void 0:o.subscriptions)==null?void 0:d.some(f=>f.channelId===p))??!1},getSubscriptionTier:p=>{var d,f;return(f=(d=o==null?void 0:o.subscriptions)==null?void 0:d.find(h=>h.channelId===p))==null?void 0:f.tierId}}};return s.jsx(qf.Provider,{value:u,children:e})},Ot=()=>{const{user:e,isLoading:t,actions:r}=Ro();return{user:e,isLoading:t,channelRelations:{isFollowing:r.isFollowing,isSubscribed:r.isSubscribed,getSubscriptionTier:r.getSubscriptionTier},actions:{refreshUser:r.refreshUser}}},Jf=({channel:e,onFollow:t,onUnfollow:r})=>{const n=xe(),{channelRelations:{isFollowing:o,isSubscribed:i}}=Ot(),a=o(e.id),l=i(e.id),c=()=>{n(U.APP_CHANNEL_VIEW.replace(":channelId",e.id))},u=p=>{p.stopPropagation(),a?r(e.id):t(e.id)};return s.jsxs(v,{onClick:c,sx:{display:"flex",alignItems:"flex-start",gap:2,p:2,borderRadius:2,cursor:"pointer",transition:"all 0.2s ease-in-out","&:hover":{bgcolor:p=>p.palette.mode==="dark"?L(p.palette.common.white,.05):L(p.palette.common.black,.03),transform:"translateX(4px)"}},children:[s.jsx(ir,{src:e.logoUrl,sx:{width:56,height:56,borderRadius:2,bgcolor:"primary.main"}}),s.jsxs(v,{sx:{flex:1},children:[s.jsxs(v,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:.5},children:[s.jsx(w,{variant:"subtitle1",sx:{fontWeight:600,color:"text.primary"},children:e.name}),s.jsx(pe,{size:"small",onClick:u,sx:{bgcolor:a?"success.main":"primary.main",color:"white",width:32,height:32,"&:hover":{bgcolor:a?"success.dark":"primary.dark"}},children:a?s.jsx(Ca,{}):s.jsx(Io,{})})]}),s.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:1,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:e.description}),s.jsxs(B,{direction:"row",spacing:2,sx:{color:"text.secondary",fontSize:"0.875rem"},children:[s.jsxs(v,{sx:{display:"flex",alignItems:"center",gap:.5,color:a?"primary.main":"inherit"},children:[s.jsx(Bn,{sx:{fontSize:16}}),e.followerCount.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1})]}),s.jsxs(v,{sx:{display:"flex",alignItems:"center",gap:.5,color:l?"primary.main":"inherit"},children:[s.jsx(jo,{sx:{fontSize:16}}),e.subscriberCount.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1})]})]})]})]})},Kf=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(1),[o,i]=b.useState(10),[a,l]=b.useState(!0),{api:c}=ne(),{actions:u}=Ro(),p=()=>{d(r+1)},d=async(m=r)=>{try{const g=await(c==null?void 0:c.channelApi.getChannels({page:m,limit:o}));t(m===1?(g==null?void 0:g.items)??[]:x=>[...x,...(g==null?void 0:g.items)??[]]),n((g==null?void 0:g.metadata.currentPage)??1),i((g==null?void 0:g.metadata.limit)??10),l((g==null?void 0:g.metadata.hasNext)===!0)}catch(g){console.error("Failed to fetch channels:",g)}};b.useEffect(()=>{d(r)},[]);const f=async m=>{try{await(c==null?void 0:c.channelApi.follow(m)),await u.refreshUser()}catch(g){console.error("Failed to follow channel:",g)}},h=async m=>{try{await(c==null?void 0:c.channelApi.unfollow(m)),await u.refreshUser()}catch(g){console.error("Failed to unfollow channel:",g)}};return s.jsx(Y,{maxWidth:"lg",sx:{py:4},children:s.jsx(xr,{dataLength:e.length,next:p,hasMore:a,loader:s.jsx(B,{spacing:2,sx:{mt:2},children:[...Array(2)].map((m,g)=>s.jsxs(v,{sx:{display:"flex",gap:2,p:2,borderRadius:2,bgcolor:x=>x.palette.mode==="dark"?L(x.palette.common.white,.05):L(x.palette.common.black,.03)},children:[s.jsx(v,{sx:{width:56,height:56,borderRadius:2,bgcolor:x=>x.palette.mode==="dark"?L(x.palette.common.white,.1):L(x.palette.common.black,.1)}}),s.jsxs(v,{sx:{flex:1},children:[s.jsx(v,{sx:{height:24,width:"40%",mb:1,borderRadius:.5,bgcolor:"grey.300"}}),s.jsx(v,{sx:{height:16,width:"80%",mb:1,borderRadius:.5,bgcolor:"grey.200"}}),s.jsx(v,{sx:{height:16,width:"30%",borderRadius:.5,bgcolor:"grey.200"}})]})]},g))}),endMessage:s.jsx(v,{sx:{textAlign:"center",mt:4,color:"text.secondary",fontSize:"0.875rem"},children:"No more channels to display"}),children:s.jsx(B,{spacing:1,children:e.map(m=>s.jsx(Jf,{channel:m,onFollow:f,onUnfollow:h},m.id))})})})},Ia=({children:e,isHighlighted:t=!1,contentPadding:r=3,noHover:n=!1,contentSx:o,sx:i,...a})=>s.jsx(ge,{elevation:t?2:0,sx:{height:"100%",position:"relative",borderRadius:2,border:"1px solid",borderColor:l=>t?"primary.main":l.palette.mode==="dark"?L(l.palette.common.white,.1):L(l.palette.common.black,.08),bgcolor:l=>t?L(l.palette.primary.main,l.palette.mode==="dark"?.1:.05):"background.paper",transition:"all 0.2s ease-in-out",...!n&&{"&:hover":{borderColor:"primary.main",transform:"translateY(-2px)"}},...i},...a,children:s.jsx(tt,{sx:{p:r,"&:last-child":{pb:r},...o},children:e})}),Xf=()=>{var k;const[e,t]=b.useState(null),[r,n]=b.useState(!0),[o,i]=b.useState(!1),[a,l]=b.useState(!1),[c,u]=b.useState(null),{channelId:p}=rt(),{api:d}=ne(),{channelRelations:{isFollowing:f,isSubscribed:h,getSubscriptionTier:m},actions:{refreshUser:g}}=Ot(),x=f(p??""),S=h(p??""),j=m(p??"");b.useEffect(()=>{(async()=>{try{if(p&&(d!=null&&d.channelApi)){const A=await(d==null?void 0:d.channelApi.getChannel(p));A&&t(A)}}catch(A){console.error("Failed to fetch channel:",A)}finally{n(!1)}})()},[p,d==null?void 0:d.channelApi]);const I=async()=>{try{if(!e)return;i(!0),await(d==null?void 0:d.channelApi.follow(e.id))}catch(_){console.error("Failed to follow channel:",_)}finally{await g(),i(!1)}},D=async()=>{try{if(!e)return;i(!0),await(d==null?void 0:d.channelApi.unfollow(e.id))}catch(_){console.error("Failed to unfollow channel:",_)}finally{await g(),i(!1)}},R=async _=>{try{if(!e)return;u(_),await(d==null?void 0:d.channelApi.subscribe(e.id,_))}catch(A){console.error("Failed to join channel:",A)}finally{await g(),u(null)}},T=async _=>{try{if(!e)return;u(_),await(d==null?void 0:d.channelApi.changeSubscriptionTier(e.id,_)),t(A=>A?{...A,subscriptions:[{tierId:_,userId:"current-user"}]}:null)}catch(A){console.error("Failed to change subscription tier:",A)}finally{await g(),u(null)}},F=async()=>{try{if(!e)return;l(!0),await(d==null?void 0:d.channelApi.unsubscribe(e.id))}catch(_){console.error("Failed to cancel subscription:",_)}finally{await g(),l(!1)}};return r?s.jsxs(Y,{maxWidth:"lg",sx:{mt:4},children:[s.jsxs(v,{sx:{textAlign:"center",mb:4},children:[s.jsx(C,{variant:"circular",width:100,height:100,sx:{mx:"auto",mb:2}}),s.jsx(C,{variant:"text",width:"60%",sx:{mx:"auto",mb:1}}),s.jsx(C,{variant:"text",width:"40%",sx:{mx:"auto",mb:2}}),s.jsx(C,{variant:"rectangular",width:120,height:36,sx:{mx:"auto"}})]}),s.jsx(H,{container:!0,spacing:3,children:[...Array(3)].map((_,A)=>s.jsx(H,{item:!0,xs:12,md:4,children:s.jsx(ge,{children:s.jsxs(tt,{children:[s.jsx(C,{variant:"text",width:"80%"}),s.jsx(C,{variant:"text",width:"60%"}),s.jsx(C,{variant:"rectangular",height:100,sx:{my:2}}),s.jsx(C,{variant:"rectangular",width:100,height:36})]})})},A))})]}):e?s.jsxs(Y,{maxWidth:"lg",sx:{mt:4},children:[s.jsx(v,{sx:{position:"relative",mb:4,borderRadius:2,overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:200,backgroundImage:`url(${(e==null?void 0:e.bannerUrl)||"https://via.placeholder.com/600x400"})`,backgroundSize:"cover",backgroundPosition:"center",filter:"brightness(0.9)",borderRadius:2}},children:s.jsxs(v,{sx:{position:"relative",pt:15,pb:4,textAlign:"center"},children:[s.jsx(ir,{src:e.logoUrl,sx:{width:100,height:100,mx:"auto",mb:2,border:"3px solid white",boxShadow:2}}),s.jsx(w,{variant:"h4",gutterBottom:!0,children:e.name}),s.jsxs(w,{variant:"subtitle1",color:"text.secondary",gutterBottom:!0,children:[e.followerCount.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1})," followers • ",e.subscriberCount.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1})," subscribers"]}),s.jsx(w,{variant:"body1",sx:{mb:3},children:e.description}),s.jsxs(B,{direction:"row",spacing:2,justifyContent:"center",sx:{mb:4},children:[s.jsx(q,{variant:x?"outlined":"contained",onClick:x?D:I,disabled:o,startIcon:o&&s.jsx(Me,{size:20,color:"inherit"}),children:o?"Processing...":x?"Unfollow":"Follow"}),S&&s.jsx(q,{variant:"outlined",color:"error",onClick:F,disabled:a,startIcon:a&&s.jsx(Me,{size:20,color:"inherit"}),children:a?"Canceling...":"Cancel Subscription"})]}),s.jsx(Ve,{sx:{mb:4}})]})}),s.jsx(w,{variant:"h5",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Subscription Tiers"}),s.jsx(H,{container:!0,spacing:3,children:(k=e.tiers)==null?void 0:k.map(_=>s.jsx(H,{item:!0,xs:12,md:4,children:s.jsxs(Ia,{isHighlighted:j===_.id,children:[s.jsxs(v,{sx:{mb:3},children:[s.jsx(w,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,fontSize:"1rem",color:j===_.id?"primary.main":"text.primary"},children:_.name}),s.jsxs(w,{variant:"h4",sx:{fontWeight:700,fontSize:"2rem",color:j===_.id?"primary.main":"text.primary",display:"flex",alignItems:"baseline",gap:.5},children:["$",_.price,s.jsx(w,{component:"span",sx:{fontSize:"0.875rem",fontWeight:400,color:"text.secondary"},children:"/month"})]})]}),s.jsx(w,{variant:"body2",sx:{mb:3,color:"text.secondary",minHeight:60},children:_.description}),s.jsx(q,{variant:j===_.id?"outlined":"contained",fullWidth:!0,onClick:()=>S?T(_.id):R(_.id),disabled:j===_.id||c===_.id,sx:{py:1.5,textTransform:"none",fontWeight:600},startIcon:c===_.id&&s.jsx(Me,{size:20,color:"inherit"}),children:c===_.id?"Processing...":j===_.id?"Current Plan":S?"Switch to This Plan":"Subscribe"})]})},_.id))})]}):s.jsx(Y,{maxWidth:"lg",sx:{mt:4},children:s.jsx(w,{variant:"h5",align:"center",children:"Channel not found"})})};var Ao={},Qf=$;Object.defineProperty(Ao,"__esModule",{value:!0});var Ra=Ao.default=void 0,Zf=Qf(M()),eh=s;Ra=Ao.default=(0,Zf.default)((0,eh.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload");const dn=({label:e,value:t,onChange:r})=>{const n=async o=>{var i;(i=o.target.files)==null||i[0]};return s.jsx(v,{sx:{width:"100%",height:200,border:"2px dashed",borderColor:"divider",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden"},children:t?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:t,alt:"Cover",style:{width:"100%",height:"100%",objectFit:"cover"}}),s.jsx(q,{onClick:()=>r(null),sx:{position:"absolute",bottom:8,right:8},children:"Remove"})]}):s.jsxs(q,{component:"label",startIcon:s.jsx(Ra,{}),children:[e??"Upload Image",s.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:n})]})})};var To={},th=$;Object.defineProperty(To,"__esModule",{value:!0});var Aa=To.default=void 0,rh=th(M()),nh=s;Aa=To.default=(0,rh.default)((0,nh.jsx)("path",{d:"M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2m0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19z"}),"Inbox");const br=({title:e,description:t,icon:r=s.jsx(Aa,{sx:{fontSize:48}}),action:n})=>s.jsxs(v,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:4,borderRadius:2,bgcolor:o=>o.palette.mode==="dark"?L(o.palette.common.white,.05):L(o.palette.common.black,.02),textAlign:"center"},children:[s.jsx(v,{sx:{color:"text.secondary",mb:2},children:r}),s.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:1},children:e}),s.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:n?3:0},children:t}),n&&s.jsx(q,{variant:"contained",onClick:n.onClick,sx:{textTransform:"none",fontWeight:600},children:n.label})]}),Ta=({initialData:e,onSubmit:t,submitButtonText:r})=>{var I,D;const{user:n}=Ot(),o=xe();b.useEffect(()=>{n&&(!n.channels||n.channels.length)},[n]);const[i,a]=b.useState(()=>({title:(e==null?void 0:e.title)||"",channelId:(e==null?void 0:e.channelId)||"",status:(e==null?void 0:e.status)||ft.PUBLISHED,requiredTierId:(e==null?void 0:e.requiredTierId)||null,isPremium:(e==null?void 0:e.isPremium)||!1,content:(e==null?void 0:e.content)||""})),[l,c]=b.useState(!1),[u,p]=b.useState(((I=e==null?void 0:e.media)==null?void 0:I[0])||null),[d,f]=b.useState((e==null?void 0:e.socialLinks)||[]),[h,m]=b.useState(null),g=[],x=async R=>{R.preventDefault(),c(!0),m(null);try{const T={...i,media:u?[u]:[],socialLinks:d};await t(T)}catch(T){console.error("Failed to submit news:",T),m("Failed to submit news")}finally{c(!1)}},S=b.useCallback(R=>{a(T=>({...T,content:JSON.stringify(R)}))},[]);return(n==null?void 0:n.channels)&&n.channels.length>0?s.jsx("form",{onSubmit:x,children:s.jsxs(B,{spacing:4,children:[h&&s.jsx(Qr,{severity:"error",sx:{width:"100%"},children:h}),n&&(!n.channels||n.channels.length===0)&&s.jsx(Qr,{severity:"warning",action:s.jsx(q,{color:"inherit",size:"small",onClick:()=>o(U.STUDIO_CHANNEL_CREATE),children:"Create Channel"}),children:"You need to create a channel before you can create news articles"}),n!=null&&n.channels&&n.channels.length>0?s.jsxs(s.Fragment,{children:[s.jsxs(v,{children:[s.jsx(w,{variant:"h6",sx:{mb:3},children:"Media"}),s.jsx(B,{spacing:4,children:s.jsxs(v,{children:[s.jsx(w,{variant:"subtitle1",sx:{mb:1},children:"Cover Image"}),s.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"This image will be displayed at the top of your news article and in previews. Use a high-quality image for best results."}),s.jsx(dn,{label:null,value:u==null?void 0:u.url,onChange:R=>p(R?{id:"0",newsId:"0",url:R,type:gr.COVER,format:of.IMAGE}:null)})]})})]}),s.jsxs(v,{children:[s.jsx(w,{variant:"h6",sx:{mb:3},children:"Basic Info"}),s.jsxs(B,{spacing:4,children:[s.jsxs(v,{children:[s.jsx(w,{variant:"subtitle1",sx:{mb:1},children:"Title"}),s.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Create a clear and engaging title for your news article. This will be the first thing readers see."}),s.jsx(ye,{value:i.title,onChange:R=>a(T=>({...T,title:R.target.value})),required:!0,fullWidth:!0,placeholder:"Enter news title"})]}),s.jsxs(v,{children:[s.jsx(w,{variant:"subtitle1",sx:{mb:1},children:"Channel"}),s.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Select the channel where this news will be published. Choose the most relevant channel for your content."}),s.jsx(zt,{fullWidth:!0,children:s.jsx(Gt,{value:i.channelId,onChange:R=>a(T=>({...T,channelId:R.target.value})),required:!0,children:n==null?void 0:n.channels.map(R=>s.jsx(ce,{value:R.channelId,children:R.channelName},R.channelId))})})]}),s.jsxs(v,{children:[s.jsx(w,{variant:"subtitle1",sx:{mb:1},children:"Content"}),s.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Write your news article using the editor below. You can add text, images, and other media elements."}),s.jsx(wo,{data:i.content?JSON.parse(i.content):void 0,onChange:S,placeholder:"Start writing your news content...",borderColor:R=>R.palette.mode==="dark"?L(R.palette.common.white,.23):L(R.palette.common.black,.23)})]})]})]}),s.jsx(v,{children:s.jsx(po,{links:d,onChange:f})}),s.jsxs(v,{children:[s.jsx(w,{variant:"h6",sx:{mb:3},children:"Publishing Options"}),s.jsxs(B,{spacing:4,children:[s.jsxs(v,{children:[s.jsx(w,{variant:"subtitle1",sx:{mb:1},children:"Premium Content"}),s.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Mark this content as premium to restrict access to specific subscribers."}),s.jsx(ic,{control:s.jsx(ac,{checked:i.isPremium,onChange:R=>a(T=>({...T,isPremium:R.target.checked}))}),label:"Premium Content"})]}),i.isPremium&&s.jsxs(v,{children:[s.jsx(w,{variant:"subtitle1",sx:{mb:1},children:"Required Subscription Tier"}),s.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Select which subscription tier is required to access this content. Higher tiers will automatically have access to content from lower tiers."}),s.jsx(zt,{fullWidth:!0,children:s.jsx(Gt,{value:i.requiredTierId||"",onChange:R=>a(T=>({...T,requiredTierId:R.target.value})),required:i.isPremium,children:g.map(R=>s.jsxs(ce,{value:R.id,children:[R.name," - ",R.description]},R.id))})})]}),s.jsxs(v,{children:[s.jsx(w,{variant:"subtitle1",sx:{mb:1},children:"Status"}),s.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Set the visibility status of your news article."}),s.jsx(zt,{fullWidth:!0,children:s.jsxs(Gt,{value:i.status,onChange:R=>{const T=Number(R.target.value);a(F=>({...F,status:T}))},children:[s.jsx(ce,{value:ft.DRAFT,children:"Draft - Save for later"}),s.jsx(ce,{value:ft.PUBLISHED,children:"Published - Visible to readers"}),s.jsx(ce,{value:ft.PENDING_REVIEW,children:"Pending Review - Submit for approval"}),s.jsx(ce,{value:ft.ARCHIVED,children:"Archived - No longer visible"})]})})]})]})]}),s.jsx(q,{type:"submit",variant:"contained",disabled:l||!((D=n==null?void 0:n.channels)!=null&&D.length),sx:{py:1.5,textTransform:"none",fontWeight:600},children:l?"Submitting...":r})]}):null]})}):s.jsx(v,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",p:3},children:s.jsx(br,{title:"Channel Required",description:"You need to create a channel before you can start publishing news articles.",icon:s.jsx(hr,{sx:{fontSize:48}}),action:{label:"Create Channel",onClick:()=>o(U.STUDIO_CHANNEL_CREATE)}})})},Do=({open:e,message:t,severity:r="error",onClose:n,autoHideDuration:o=6e3})=>s.jsx(lc,{open:e,autoHideDuration:o,onClose:n,anchorOrigin:{vertical:"top",horizontal:"right"},children:s.jsx(Qr,{onClose:n,severity:r,variant:"filled",sx:{width:"100%"},children:t})}),oh=()=>{const{api:e}=ne(),t=xe(),[r,n]=b.useState(null),o=async i=>{try{const a=await(e==null?void 0:e.newsApi.createNews(i));a&&t(U.APP_NEWS_VIEW.replace(":id",a.id))}catch(a){console.error("Failed to create news:",a),n("Failed to create news")}};return s.jsxs(v,{sx:{p:3,maxWidth:800},children:[s.jsx(w,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Create News"}),s.jsx(Ta,{onSubmit:o,submitButtonText:"Create News"}),s.jsx(Do,{open:!!r,message:r,severity:"error",onClose:()=>n(null)})]})},sh=()=>{const{id:e}=rt(),t=xe(),{api:r}=ne(),[n,o]=b.useState(null),[i,a]=b.useState(null);b.useEffect(()=>{(async()=>{try{const u=await(r==null?void 0:r.newsApi.get(e));o(u)}catch(u){console.error("Failed to fetch news:",u),a("Failed to fetch news")}})()},[]);const l=async c=>{await(r==null?void 0:r.newsApi.update(e,c)),t(`/news/${e}`)};return n?s.jsxs(Y,{sx:{maxWidth:800,mx:"auto",p:3},children:[s.jsx(w,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Update News"}),s.jsx(Ta,{initialData:n,onSubmit:l,submitButtonText:"Update News"}),s.jsx(Do,{open:!!i,message:i,severity:"error",onClose:()=>a(null)})]}):null},ih=()=>s.jsx(Y,{maxWidth:"lg",sx:{mt:4},children:s.jsxs(H,{container:!0,spacing:4,children:[s.jsx(H,{item:!0,xs:12,children:s.jsx(C,{variant:"rectangular",width:"100%",height:300,sx:{borderRadius:2,mb:3}})}),s.jsx(H,{item:!0,xs:12,md:8,children:s.jsx(ge,{children:s.jsxs(v,{sx:{p:3},children:[s.jsxs(v,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[s.jsx(C,{variant:"text",width:"60%",height:40}),s.jsx(B,{direction:"row",spacing:1,children:[1,2,3].map(e=>s.jsx(C,{variant:"circular",width:40,height:40},e))})]}),s.jsx(C,{variant:"rectangular",width:"100%",height:300,sx:{mb:3,borderRadius:1}}),s.jsxs(B,{spacing:2,sx:{mb:3},children:[s.jsx(C,{variant:"text",width:"100%"}),s.jsx(C,{variant:"text",width:"95%"}),s.jsx(C,{variant:"text",width:"90%"}),s.jsx(C,{variant:"text",width:"85%"}),s.jsx(C,{variant:"text",width:"95%"})]}),s.jsx(C,{variant:"rectangular",width:"100%",height:80,sx:{mb:3,borderRadius:1}}),s.jsx(B,{direction:"row",spacing:1,children:[1,2,3,4].map(e=>s.jsx(C,{variant:"rounded",width:80,height:32},e))})]})})}),s.jsx(H,{item:!0,xs:12,md:4,children:s.jsx(ge,{children:s.jsxs(tt,{children:[s.jsx(C,{variant:"text",width:"50%",height:32,sx:{mb:2}}),s.jsx(B,{spacing:2,children:[1,2,3,4,5].map(e=>s.jsxs(v,{children:[s.jsxs(v,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[s.jsx(C,{variant:"text",width:"40%"}),s.jsx(C,{variant:"text",width:"20%"})]}),s.jsx(C,{variant:"rectangular",width:"100%",height:8,sx:{borderRadius:1}})]},e))})]})})})]})}),ah=()=>{const{id:e}=rt(),{api:t}=ne(),[r,n]=b.useState(null),[o,i]=b.useState(!0);if(b.useEffect(()=>{(async()=>{try{if(e){i(!0);const u=await(t==null?void 0:t.newsApi.get(e));u&&n(u)}}catch(u){console.error("Failed to fetch news:",u)}finally{i(!1)}})()},[]),o)return s.jsx(ih,{});if(!r)return s.jsx(Y,{maxWidth:"lg",sx:{mt:4},children:s.jsx(w,{variant:"h4",children:"Entry not found"})});const a=r.media.find(c=>c.type===gr.COVER),l=c=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(c);return s.jsx(Y,{maxWidth:"lg",sx:{mt:4},children:s.jsxs(H,{container:!0,spacing:4,children:[s.jsx(H,{item:!0,xs:12,children:s.jsxs(v,{sx:{height:300,width:"100%",position:"relative",mb:3,borderRadius:2,overflow:"hidden"},children:[s.jsx(v,{component:"img",src:(a==null?void 0:a.url)||mr,alt:r.title,sx:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"}}),s.jsxs(v,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(transparent, rgba(0,0,0,0.7))",p:3,color:"white"},children:[s.jsx(w,{variant:"h4",component:"h1",gutterBottom:!0,children:r.title}),s.jsxs(v,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[s.jsxs(v,{sx:{display:"flex",alignItems:"center",gap:2},children:[s.jsxs(v,{component:De,to:`/channels/${r.channelId}`,sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(255, 255, 255, 0.1)",color:"white",px:2,py:1,borderRadius:2,textDecoration:"none",transition:"all 0.2s ease-in-out",border:"1px solid rgba(255, 255, 255, 0.2)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.2)",transform:"translateY(-2px)"}},children:[s.jsx(bo,{sx:{mr:1}}),s.jsx(w,{variant:"subtitle2",children:r.channel.name})]}),s.jsxs(v,{sx:{display:"inline-flex",alignItems:"center",bgcolor:"rgba(0, 0, 0, 0.3)",px:2,py:1,borderRadius:2,border:"1px solid rgba(255, 255, 255, 0.1)"},children:[s.jsx(go,{sx:{mr:1,fontSize:"0.9rem"}}),s.jsx(w,{variant:"caption",children:r.creator.displayName})]})]}),s.jsx(w,{variant:"subtitle1",children:new Date(r.publishedAt).toLocaleDateString()})]})]})]})}),s.jsx(H,{item:!0,xs:12,md:8,children:s.jsx(ge,{children:s.jsxs(v,{sx:{p:3},children:[s.jsx(wo,{data:Ea(r.content),readOnly:!0,borderColor:c=>c.palette.mode==="dark"?L(c.palette.common.white,.1):L(c.palette.common.black,.1)}),s.jsx(v,{sx:{mt:2},children:r.tags.map(c=>s.jsx(yt,{label:c.title,variant:"outlined",sx:{mr:1,mb:1}},c.id))})]})})}),s.jsx(H,{item:!0,xs:12,md:4,children:s.jsxs(B,{spacing:3,children:[s.jsx(po,{links:r.socialLinks}),r.qualityMetrics&&s.jsxs(_e,{elevation:0,sx:{p:2,bgcolor:"success.light",color:"success.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[s.jsx(yo,{fontSize:"large"}),s.jsxs(v,{children:[s.jsx(w,{variant:"overline",children:"Quality Score"}),s.jsxs(w,{variant:"h4",component:"div",children:[r.qualityMetrics.overallQualityScore.toFixed(1),"/10"]})]})]}),r.newsFund&&s.jsxs(_e,{elevation:0,sx:{p:2,bgcolor:"primary.light",color:"primary.contrastText",display:"flex",alignItems:"center",gap:2,borderRadius:2},children:[s.jsx(ho,{fontSize:"large"}),s.jsxs(v,{children:[s.jsx(w,{variant:"overline",children:"News Fund"}),s.jsx(w,{variant:"h4",component:"div",children:l(r.newsFund.amount)})]})]})]})})]})})},Ms=()=>s.jsx(v,{sx:{mb:4},children:[1,2,3].map(e=>s.jsxs(v,{sx:{mb:10},children:[s.jsxs(v,{sx:{display:"flex",alignItems:"center",mb:1.5,px:.5},children:[s.jsx(C,{variant:"rounded",width:28,height:28,sx:{borderRadius:1.5,mr:1.5}}),s.jsx(C,{width:120,height:20})]}),s.jsxs(ge,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},borderRadius:2,overflow:"hidden"},children:[s.jsx(C,{variant:"rectangular",sx:{width:{xs:"100%",sm:"360px"},minWidth:{sm:"360px"},height:{xs:"220px",sm:"200px"}}}),s.jsxs(v,{sx:{p:3,flex:1},children:[s.jsx(C,{width:"90%",height:24,sx:{mb:2}}),s.jsx(C,{width:"80%",height:24,sx:{mb:2}}),s.jsx(C,{width:"95%",height:20,sx:{mb:1}}),s.jsx(C,{width:"90%",height:20,sx:{mb:3}}),s.jsxs(v,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(C,{width:100,height:20}),s.jsxs(v,{sx:{display:"flex",gap:1.5},children:[s.jsx(C,{variant:"circular",width:32,height:32}),s.jsx(C,{variant:"circular",width:32,height:32})]})]})]})]})]},e))}),lh=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(!0),[o,i]=b.useState(1),[a,l]=b.useState(!0),{api:c}=ne(),{user:u}=Ro(),p=xe(),d=async(h=o)=>{try{if(!u)return;n(!0);const m=await(c==null?void 0:c.newsApi.getCreatorNews(u.id,{page:h,limit:12}));m&&(t(h===1?m.items:g=>[...g,...m.items]),l(m.metadata.hasNext),i(m.metadata.currentPage))}catch(m){console.error("Failed to fetch news:",m)}finally{n(!1)}};b.useEffect(()=>{d(o)},[]);const f=()=>{!r&&a&&d(o+1)};return r&&e.length===0?s.jsxs(Y,{maxWidth:"lg",sx:{py:4},children:[s.jsx(w,{variant:"h5",gutterBottom:!0,children:s.jsx(C,{width:200})}),s.jsx(B,{spacing:3,children:[1,2,3].map(h=>s.jsx(Ms,{},h))})]}):!r&&e.length===0?s.jsx(Y,{maxWidth:"lg",sx:{py:4},children:s.jsx(br,{title:"No News Yet",description:"Start creating your first news article to share with your subscribers.",icon:s.jsx(Xn,{sx:{fontSize:48}}),action:{label:"Create News",onClick:()=>p(U.STUDIO_NEWS_CREATE)}})}):s.jsx(Y,{maxWidth:"lg",sx:{py:4},children:s.jsx(xr,{dataLength:e.length,next:f,hasMore:a,loader:s.jsx(Ms,{}),children:s.jsx(v,{sx:{display:"flex",flexDirection:"column",gap:4,px:1,mt:6},children:e.map(h=>s.jsx(wa,{news:h},h.id))})})})};var Po={},ch=$;Object.defineProperty(Po,"__esModule",{value:!0});var Da=Po.default=void 0,dh=ch(M()),uh=s;Da=Po.default=(0,dh.default)((0,uh.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert");var Oo={},ph=$;Object.defineProperty(Oo,"__esModule",{value:!0});var _o=Oo.default=void 0,fh=ph(M()),hh=s;_o=Oo.default=(0,fh.default)((0,hh.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");var No={},mh=$;Object.defineProperty(No,"__esModule",{value:!0});var Lo=No.default=void 0,gh=mh(M()),xh=s;Lo=No.default=(0,gh.default)((0,xh.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");var $o={},bh=$;Object.defineProperty($o,"__esModule",{value:!0});var Pa=$o.default=void 0,vh=bh(M()),yh=s;Pa=$o.default=(0,vh.default)((0,yh.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");const wh=({open:e,onClose:t,onConfirm:r,title:n,content:o,confirmText:i="Confirm",cancelText:a="Cancel",confirmColor:l="primary"})=>s.jsxs(Ci,{open:e,onClose:t,PaperProps:{sx:{width:"100%",maxWidth:400,borderRadius:2}},children:[s.jsx(Ii,{sx:{pb:1,fontWeight:600},children:n}),s.jsx(Ri,{children:s.jsx(cc,{sx:{color:"text.secondary",fontSize:"0.875rem"},children:o})}),s.jsxs(Ai,{sx:{px:3,pb:2},children:[s.jsx(q,{onClick:t,variant:"outlined",color:"inherit",sx:{textTransform:"none",fontWeight:600,minWidth:100},children:a}),s.jsx(q,{onClick:r,variant:"contained",color:l,autoFocus:!0,sx:{textTransform:"none",fontWeight:600,minWidth:100},children:i})]})]}),Sh=({channel:e,onRefresh:t})=>{const r=xe(),{api:n}=ne(),[o,i]=b.useState(null),[a,l]=b.useState(!1),c=et(),u=f=>{f.stopPropagation(),i(f.currentTarget)},p=()=>{i(null)},d=async()=>{try{await(n==null?void 0:n.channelApi.deleteChannel(e.id)),t()}catch(f){console.error("Failed to delete channel:",f)}l(!1)};return s.jsxs(s.Fragment,{children:[s.jsxs(ge,{onClick:()=>r(U.STUDIO_CHANNEL_EDIT.replace(":channelId",e.id)),sx:{height:"100%",display:"flex",flexDirection:"column",position:"relative",cursor:"pointer",transition:c.transitions.create(["box-shadow","transform"],{duration:c.transitions.duration.shorter}),"&:hover":{transform:"translateY(-2px)",boxShadow:f=>`0 4px 12px ${L(f.palette.primary.main,.1)}`}},children:[s.jsx(v,{sx:{height:{xs:100,sm:120},backgroundImage:`url(${(e==null?void 0:e.bannerUrl)||"https://via.placeholder.com/600x400"})`,backgroundSize:"cover",backgroundPosition:"center",borderTopLeftRadius:1,borderTopRightRadius:1,position:"relative","&::after":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:f=>`linear-gradient(180deg, 
                ${L(f.palette.background.default,0)} 0%, 
                ${L(f.palette.background.default,.8)} 100%)`}},children:s.jsx(pe,{onClick:u,sx:{position:"absolute",top:8,right:8,zIndex:1,color:"text.primary",bgcolor:f=>L(f.palette.background.paper,.8),backdropFilter:"blur(4px)","&:hover":{bgcolor:f=>L(f.palette.background.paper,.95)}},children:s.jsx(Da,{fontSize:"small"})})}),s.jsx(tt,{sx:{flexGrow:1,p:{xs:2,sm:2.5}},children:s.jsxs(B,{spacing:{xs:1.5,sm:2},children:[s.jsxs(v,{children:[s.jsx(w,{variant:"h6",sx:{fontWeight:600,mb:.5,fontSize:{xs:"1rem",sm:"1.125rem"}},children:e.name}),s.jsx(w,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",fontSize:{xs:"0.875rem",sm:"0.875rem"},lineHeight:1.5},children:e.description})]}),s.jsxs(B,{direction:"row",spacing:1,flexWrap:"wrap",sx:{gap:1},children:[s.jsx(yt,{size:"small",label:`${e.subscriberCount} subscribers`,sx:{height:24,fontSize:"0.75rem",bgcolor:f=>L(f.palette.primary.main,f.palette.mode==="dark"?.15:.08),color:"primary.main","& .MuiChip-label":{px:1}}}),s.jsx(yt,{size:"small",label:"10 news",sx:{height:24,fontSize:"0.75rem",bgcolor:f=>L(f.palette.secondary.main,f.palette.mode==="dark"?.15:.08),color:"secondary.main","& .MuiChip-label":{px:1}}})]})]})})]}),s.jsxs(Sn,{anchorEl:o,open:!!o,onClose:p,onClick:f=>f.stopPropagation(),PaperProps:{sx:{width:200,mt:1}},children:[s.jsxs(ce,{onClick:()=>{r(U.STUDIO_CHANNEL_EDIT.replace(":channelId",e.id)),p()},children:[s.jsx($e,{children:s.jsx(_o,{fontSize:"small"})}),s.jsx(Oe,{primary:"Edit Channel"})]}),s.jsxs(ce,{onClick:()=>{r(U.APP_CHANNEL_VIEW.replace(":channelId",e.id)),p()},children:[s.jsx($e,{children:s.jsx(Pa,{fontSize:"small"})}),s.jsx(Oe,{primary:"View Public Page"})]}),s.jsxs(ce,{onClick:()=>{l(!0),p()},sx:{color:"error.main"},children:[s.jsx($e,{sx:{color:"inherit"},children:s.jsx(Lo,{fontSize:"small"})}),s.jsx(Oe,{primary:"Delete Channel"})]})]}),s.jsx(wh,{open:a,onClose:()=>l(!1),onConfirm:d,title:"Delete Channel",content:"Are you sure you want to delete this channel? This action cannot be undone.",confirmText:"Delete",confirmColor:"error"})]})},jh=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(1),[o,i]=b.useState(!0),[a,l]=b.useState(!0),{api:c}=ne(),{user:u}=Ot(),p=xe(),d=et(),f=()=>{h(r+1)},h=async(g=r)=>{try{if(!(u!=null&&u.id))return;const x=await(c==null?void 0:c.userApi.getUserChannels(u.id));t(S=>g===1?(x==null?void 0:x.items)??[]:[...S,...(x==null?void 0:x.items)??[]]),n((x==null?void 0:x.metadata.currentPage)??1),i((x==null?void 0:x.metadata.hasNext)===!0)}catch(x){console.error("Failed to fetch channels:",x)}finally{l(!1)}};b.useEffect(()=>{h(1)},[]);const m=()=>s.jsxs(v,{sx:{p:2,borderRadius:1,bgcolor:g=>L(g.palette.mode==="dark"?g.palette.common.white:g.palette.common.black,g.palette.mode==="dark"?.05:.03),height:{xs:180,sm:200},transition:d.transitions.create(["background-color","height"])},children:[s.jsxs(v,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[s.jsx(C,{variant:"circular",width:32,height:32,sx:{mr:1.5}}),s.jsxs(v,{sx:{width:"100%"},children:[s.jsx(C,{width:"60%",height:20}),s.jsx(C,{width:"40%",height:16})]})]}),s.jsx(C,{variant:"rectangular",sx:{borderRadius:1,height:{xs:70,sm:80}}}),s.jsx(v,{sx:{mt:1.5},children:s.jsx(C,{width:"30%",height:20})})]});return s.jsxs(v,{sx:{px:{xs:2,sm:3,md:4},py:{xs:2,sm:3},maxWidth:"lg",mx:"auto",width:"100%"},children:[s.jsx(v,{sx:{mb:{xs:2,sm:3}},children:s.jsx(w,{variant:"h5",sx:{fontWeight:600,fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:a?s.jsx(C,{width:150}):"My Channels"})}),a?s.jsx(H,{container:!0,spacing:2,children:[1,2].map(g=>s.jsx(H,{item:!0,xs:12,sm:6,children:s.jsx(m,{})},g))}):e.length===0?s.jsx(br,{title:"No Channels Yet",description:"Create your first channel to start publishing news and connecting with subscribers.",icon:s.jsx(hr,{sx:{fontSize:{xs:40,sm:48}}}),action:{label:"Create Channel",onClick:()=>p(U.STUDIO_CHANNEL_CREATE)}}):s.jsx(xr,{dataLength:e.length,next:f,hasMore:o,loader:s.jsx(H,{container:!0,spacing:2,sx:{mt:.5},children:[1,2].map(g=>s.jsx(H,{item:!0,xs:12,sm:6,children:s.jsx(m,{})},g))}),children:s.jsx(H,{container:!0,spacing:2,children:e.map(g=>s.jsx(H,{item:!0,xs:12,sm:6,children:s.jsx(Sh,{channel:g.channel,onRefresh:()=>h(1)})},g.id))})})]})},kt={ACTIVE:1,INACTIVE:2,PRIVATE:3,SUSPENDED:4,DELETED:5},Oa=({initialData:e,onSubmit:t,submitButtonText:r})=>{const[n,o]=b.useState(!1),[i,a]=b.useState(()=>({name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",handle:(e==null?void 0:e.handle)||"",status:(e==null?void 0:e.status)||kt.ACTIVE,logoUrl:(e==null?void 0:e.logoUrl)||"",bannerUrl:(e==null?void 0:e.bannerUrl)||""})),[l,c]=b.useState((e==null?void 0:e.logoUrl)||void 0),[u,p]=b.useState((e==null?void 0:e.bannerUrl)||void 0),d=async f=>{f.preventDefault(),o(!0);try{await t({...i,logoUrl:l||"",bannerUrl:u||"",tags:[]})}catch(h){console.error("Failed to submit channel:",h)}finally{o(!1)}};return s.jsx("form",{onSubmit:d,children:s.jsxs(B,{spacing:4,children:[s.jsxs(v,{children:[s.jsx(w,{variant:"h6",sx:{mb:3},children:"Branding"}),s.jsxs(B,{spacing:4,children:[s.jsxs(v,{children:[s.jsx(w,{variant:"subtitle1",sx:{mb:1},children:"Channel Logo"}),s.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"This image will appear next to your channel's content. Use a square image for best results."}),s.jsx(dn,{label:"Upload Channel Logo",value:l,onChange:c})]}),s.jsxs(v,{children:[s.jsx(w,{variant:"subtitle1",sx:{mb:1},children:"Channel Banner"}),s.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"This image appears at the top of your channel page. Recommended size: 2048 x 1152 pixels."}),s.jsx(dn,{label:"Upload Channel Banner",value:u,onChange:p})]})]})]}),s.jsxs(v,{children:[s.jsx(w,{variant:"h6",sx:{mb:3},children:"Basic Info"}),s.jsxs(B,{spacing:4,children:[s.jsxs(v,{children:[s.jsx(w,{variant:"subtitle1",sx:{mb:1},children:"Channel Name"}),s.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Choose a name that represents your channel. You can change this later."}),s.jsx(ye,{value:i.name,onChange:f=>a(h=>({...h,name:f.target.value})),required:!0,fullWidth:!0,placeholder:"Enter channel name"})]}),s.jsxs(v,{children:[s.jsx(w,{variant:"subtitle1",sx:{mb:1},children:"Channel Handle"}),s.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"This is the unique identifier for your channel. It will be used in the URL of your channel page."}),s.jsx(ye,{value:i.handle,onChange:f=>a(h=>({...h,handle:f.target.value})),required:!0,fullWidth:!0,placeholder:"Enter channel handle"})]}),s.jsxs(v,{children:[s.jsx(w,{variant:"subtitle1",sx:{mb:1},children:"Description"}),s.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Tell viewers about your channel. This appears in search results and your channel page."}),s.jsx(ye,{value:i.description,onChange:f=>a(h=>({...h,description:f.target.value})),multiline:!0,rows:4,fullWidth:!0,placeholder:"Tell your story..."})]})]})]}),s.jsxs(v,{children:[s.jsx(w,{variant:"h6",sx:{mb:3},children:"Channel Settings"}),s.jsx(B,{spacing:4,children:s.jsxs(v,{children:[s.jsx(w,{variant:"subtitle1",sx:{mb:1},children:"Channel Visibility"}),s.jsx(w,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Control who can see and access your channel's content."}),s.jsx(zt,{fullWidth:!0,children:s.jsxs(Gt,{value:i.status,onChange:f=>{const h=Number(f.target.value);a(m=>({...m,status:h}))},children:[s.jsx(ce,{value:kt.ACTIVE,children:"Public - Channel is visible to everyone"}),s.jsx(ce,{value:kt.PRIVATE,children:"Private - Only invited members can access"}),s.jsx(ce,{value:kt.INACTIVE,children:"Hidden - Channel is temporarily hidden from public view"})]})})]})})]}),s.jsx(q,{type:"submit",variant:"contained",disabled:n,sx:{py:1.5,textTransform:"none",fontWeight:600},children:n?"Submitting...":r})]})})},Eh=()=>{const{api:e}=ne(),t=xe(),[r,n]=b.useState(null),o=async i=>{if(i)try{await(e==null?void 0:e.channelApi.createChannel(i))&&t(`${U.STUDIO_CHANNELS}`)}catch(a){console.error("Failed to create channel:",a),n("Failed to create channel")}};return s.jsxs(Y,{sx:{maxWidth:800,mx:"auto",p:3},children:[s.jsx(w,{variant:"h5",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Create Channel"}),s.jsx(Oa,{onSubmit:o,submitButtonText:"Create Channel"}),s.jsx(Do,{open:!!r,message:r,severity:"error",onClose:()=>n(null)})]})},Ch=()=>s.jsxs(Y,{maxWidth:"md",sx:{mt:4,textAlign:"center"},children:[s.jsx(w,{variant:"h3",gutterBottom:!0,children:"404 - Page Not Found"}),s.jsx(w,{variant:"h6",gutterBottom:!0,children:"The page you are looking for does not exist."}),s.jsx(v,{sx:{mt:4},children:s.jsx(q,{variant:"contained",color:"primary",component:De,to:"/",children:"Go to Home"})})]}),Ih=()=>{var _;const[e,t]=b.useState(null),[r,n]=b.useState(!0),[o,i]=b.useState(!1),[a,l]=b.useState(!1),[c,u]=b.useState(null),{channelId:p}=rt(),{api:d}=ne(),{channelRelations:{isFollowing:f,isSubscribed:h,getSubscriptionTier:m},actions:{refreshUser:g}}=Ot(),x=f(p??""),S=h(p??""),j=m(p??""),I=async()=>{try{if(p){const A=await(d==null?void 0:d.channelApi.getChannel(p));A&&t(A)}}catch(A){console.error("Failed to fetch channel:",A)}finally{n(!1)}},D=async()=>{try{if(!e)return;i(!0),await(d==null?void 0:d.channelApi.follow(e.id))}catch(A){console.error("Failed to follow channel:",A)}finally{await g(),i(!1)}},R=async()=>{try{if(!e)return;i(!0),await(d==null?void 0:d.channelApi.unfollow(e.id))}catch(A){console.error("Failed to unfollow channel:",A)}finally{await g(),i(!1)}},T=async A=>{try{if(!e)return;u(A),await(d==null?void 0:d.channelApi.subscribe(e.id,A))}catch(G){console.error("Failed to join channel:",G)}finally{await g(),u(null)}},F=async A=>{try{if(!e)return;u(A),await(d==null?void 0:d.channelApi.changeSubscriptionTier(e.id,A)),t(G=>G?{...G,subscriptions:[{tierId:A,userId:"current-user"}]}:null)}catch(G){console.error("Failed to change subscription tier:",G)}finally{await g(),u(null)}},k=async()=>{try{if(!e)return;l(!0),await(d==null?void 0:d.channelApi.unsubscribe(e.id))}catch(A){console.error("Failed to cancel subscription:",A)}finally{await g(),l(!1)}};return b.useEffect(()=>{I()},[]),r?s.jsxs(Y,{maxWidth:"lg",sx:{mt:4},children:[s.jsxs(v,{sx:{textAlign:"center",mb:4},children:[s.jsx(C,{variant:"circular",width:100,height:100,sx:{mx:"auto",mb:2}}),s.jsx(C,{variant:"text",width:"60%",sx:{mx:"auto",mb:1}}),s.jsx(C,{variant:"text",width:"40%",sx:{mx:"auto",mb:2}}),s.jsx(C,{variant:"rectangular",width:120,height:36,sx:{mx:"auto"}})]}),s.jsx(H,{container:!0,spacing:3,children:[...Array(3)].map((A,G)=>s.jsx(H,{item:!0,xs:12,md:4,children:s.jsx(ge,{children:s.jsxs(tt,{children:[s.jsx(C,{variant:"text",width:"80%"}),s.jsx(C,{variant:"text",width:"60%"}),s.jsx(C,{variant:"rectangular",height:100,sx:{my:2}}),s.jsx(C,{variant:"rectangular",width:100,height:36})]})})},G))})]}):e?s.jsxs(Y,{maxWidth:"lg",sx:{mt:4},children:[s.jsx(v,{sx:{position:"relative",mb:4,"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:200,backgroundImage:`url(${(e==null?void 0:e.bannerUrl)||"https://via.placeholder.com/600x400"})`,backgroundSize:"cover",backgroundPosition:"center",filter:"brightness(0.9)"}},children:s.jsxs(v,{sx:{position:"relative",pt:15,pb:4,textAlign:"center"},children:[s.jsx(ir,{src:e.logoUrl,sx:{width:100,height:100,mx:"auto",mb:2,border:"3px solid white",boxShadow:2}}),s.jsx(w,{variant:"h4",gutterBottom:!0,children:e.name}),s.jsxs(w,{variant:"subtitle1",color:"text.secondary",gutterBottom:!0,children:[e.followerCount.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1})," followers • ",e.subscriberCount.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:1})," subscribers"]}),s.jsx(w,{variant:"body1",sx:{mb:3},children:e.description}),s.jsxs(B,{direction:"row",spacing:2,justifyContent:"center",sx:{mb:4},children:[s.jsx(q,{variant:x?"outlined":"contained",onClick:x?R:D,disabled:o,startIcon:o&&s.jsx(Me,{size:20,color:"inherit"}),children:o?"Processing...":x?"Unfollow":"Follow"}),S&&s.jsx(q,{variant:"outlined",color:"error",onClick:k,disabled:a,startIcon:a&&s.jsx(Me,{size:20,color:"inherit"}),children:a?"Canceling...":"Cancel Subscription"})]}),s.jsx(Ve,{sx:{mb:4}})]})}),s.jsx(w,{variant:"h5",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:600,mb:3},children:"Subscription Tiers"}),s.jsx(H,{container:!0,spacing:3,children:(_=e.tiers)==null?void 0:_.map(A=>s.jsx(H,{item:!0,xs:12,md:4,children:s.jsxs(Ia,{isHighlighted:j===A.id,children:[s.jsxs(v,{sx:{mb:3},children:[s.jsx(w,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,fontSize:"1rem",color:j===A.id?"primary.main":"text.primary"},children:A.name}),s.jsxs(w,{variant:"h4",sx:{fontWeight:700,fontSize:"2rem",color:j===A.id?"primary.main":"text.primary",display:"flex",alignItems:"baseline",gap:.5},children:["$",A.price,s.jsx(w,{component:"span",sx:{fontSize:"0.875rem",fontWeight:400,color:"text.secondary"},children:"/month"})]})]}),s.jsx(w,{variant:"body2",sx:{mb:3,color:"text.secondary",minHeight:60},children:A.description}),s.jsx(q,{variant:j===A.id?"outlined":"contained",fullWidth:!0,onClick:()=>S?F(A.id):T(A.id),disabled:j===A.id||c===A.id,sx:{py:1.5,textTransform:"none",fontWeight:600},startIcon:c===A.id&&s.jsx(Me,{size:20,color:"inherit"}),children:c===A.id?"Processing...":j===A.id?"Current Plan":S?"Switch to This Plan":"Subscribe"})]})},A.id))})]}):s.jsx(Y,{maxWidth:"lg",sx:{mt:4},children:s.jsx(w,{variant:"h5",align:"center",children:"Channel not found"})})},Rh=()=>s.jsx(v,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(Me,{})}),Ah=({error:e})=>s.jsxs(v,{sx:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:2},children:[s.jsx(w,{variant:"h4",color:"error",children:"An error occurred"}),s.jsx(w,{color:"text.secondary",children:e.message})]}),_a=({channel:e,onUpdate:t})=>{const r=async n=>{!n||!("name"in n)||await t(n)};return s.jsx(v,{sx:{maxWidth:800},children:s.jsx(Oa,{initialData:e,onSubmit:r,submitButtonText:"Save"})})};var Mo={},Th=$;Object.defineProperty(Mo,"__esModule",{value:!0});var Na=Mo.default=void 0,Dh=Th(M()),Ph=s;Na=Mo.default=(0,Dh.default)((0,Ph.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"DragIndicator");var Bo={},Oh=$;Object.defineProperty(Bo,"__esModule",{value:!0});var La=Bo.default=void 0,_h=Oh(M()),Nh=s;La=Bo.default=(0,_h.default)((0,Nh.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info");function ie(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Lh=typeof Symbol=="function"&&Symbol.observable||"@@observable",Bs=Lh,Br=()=>Math.random().toString(36).substring(7).split("").join("."),$h={INIT:`@@redux/INIT${Br()}`,REPLACE:`@@redux/REPLACE${Br()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Br()}`},Fs=$h;function Mh(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function $a(e,t,r){if(typeof e!="function")throw new Error(ie(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ie(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ie(1));return r($a)(e,t)}let n=e,o=t,i=new Map,a=i,l=0,c=!1;function u(){a===i&&(a=new Map,i.forEach((x,S)=>{a.set(S,x)}))}function p(){if(c)throw new Error(ie(3));return o}function d(x){if(typeof x!="function")throw new Error(ie(4));if(c)throw new Error(ie(5));let S=!0;u();const j=l++;return a.set(j,x),function(){if(S){if(c)throw new Error(ie(6));S=!1,u(),a.delete(j),i=null}}}function f(x){if(!Mh(x))throw new Error(ie(7));if(typeof x.type>"u")throw new Error(ie(8));if(typeof x.type!="string")throw new Error(ie(17));if(c)throw new Error(ie(9));try{c=!0,o=n(o,x)}finally{c=!1}return(i=a).forEach(j=>{j()}),x}function h(x){if(typeof x!="function")throw new Error(ie(10));n=x,f({type:Fs.REPLACE})}function m(){const x=d;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(ie(11));function j(){const D=S;D.next&&D.next(p())}return j(),{unsubscribe:x(j)}},[Bs](){return this}}}return f({type:Fs.INIT}),{dispatch:f,subscribe:d,getState:p,replaceReducer:h,[Bs]:m}}function ks(e,t){return function(...r){return t(e.apply(this,r))}}function Ws(e,t){if(typeof e=="function")return ks(e,t);if(typeof e!="object"||e===null)throw new Error(ie(16));const r={};for(const n in e){const o=e[n];typeof o=="function"&&(r[n]=ks(o,t))}return r}function Ma(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Bh(...e){return t=>(r,n)=>{const o=t(r,n);let i=()=>{throw new Error(ie(15))};const a={getState:o.getState,dispatch:(c,...u)=>i(c,...u)},l=e.map(c=>c(a));return i=Ma(...l)(o.dispatch),{...o,dispatch:i}}}var Fh={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _t=b;function kh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wh=typeof Object.is=="function"?Object.is:kh,Uh=_t.useSyncExternalStore,Hh=_t.useRef,zh=_t.useEffect,Gh=_t.useMemo,Vh=_t.useDebugValue;Fh.useSyncExternalStoreWithSelector=function(e,t,r,n,o){var i=Hh(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=Gh(function(){function c(h){if(!u){if(u=!0,p=h,h=n(h),o!==void 0&&a.hasValue){var m=a.value;if(o(m,h))return d=m}return d=h}if(m=d,Wh(p,h))return m;var g=n(h);return o!==void 0&&o(m,g)?(p=h,m):(p=h,d=g)}var u=!1,p,d,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,o]);var l=Uh(e,i[0],i[1]);return zh(function(){a.hasValue=!0,a.value=l},[l]),Vh(l),l};var qh=b.version.startsWith("19"),Yh=Symbol.for(qh?"react.transitional.element":"react.element"),Jh=Symbol.for("react.portal"),Kh=Symbol.for("react.fragment"),Xh=Symbol.for("react.strict_mode"),Qh=Symbol.for("react.profiler"),Zh=Symbol.for("react.consumer"),em=Symbol.for("react.context"),Ba=Symbol.for("react.forward_ref"),tm=Symbol.for("react.suspense"),rm=Symbol.for("react.suspense_list"),Fo=Symbol.for("react.memo"),nm=Symbol.for("react.lazy"),om=Ba,sm=Fo;function im(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case Yh:switch(e=e.type,e){case Kh:case Qh:case Xh:case tm:case rm:return e;default:switch(e=e&&e.$$typeof,e){case em:case Ba:case nm:case Fo:return e;case Zh:return e;default:return t}}case Jh:return t}}}function am(e){return im(e)===Fo}function lm(e,t,r,n,{areStatesEqual:o,areOwnPropsEqual:i,areStatePropsEqual:a}){let l=!1,c,u,p,d,f;function h(j,I){return c=j,u=I,p=e(c,u),d=t(n,u),f=r(p,d,u),l=!0,f}function m(){return p=e(c,u),t.dependsOnOwnProps&&(d=t(n,u)),f=r(p,d,u),f}function g(){return e.dependsOnOwnProps&&(p=e(c,u)),t.dependsOnOwnProps&&(d=t(n,u)),f=r(p,d,u),f}function x(){const j=e(c,u),I=!a(j,p);return p=j,I&&(f=r(p,d,u)),f}function S(j,I){const D=!i(I,u),R=!o(j,c,I,u);return c=j,u=I,D&&R?m():D?g():R?x():f}return function(I,D){return l?S(I,D):h(I,D)}}function cm(e,{initMapStateToProps:t,initMapDispatchToProps:r,initMergeProps:n,...o}){const i=t(e,o),a=r(e,o),l=n(e,o);return lm(i,a,l,e,o)}function dm(e,t){const r={};for(const n in e){const o=e[n];typeof o=="function"&&(r[n]=(...i)=>t(o(...i)))}return r}function un(e){return function(r){const n=e(r);function o(){return n}return o.dependsOnOwnProps=!1,o}}function Us(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function Fa(e,t){return function(n,{displayName:o}){const i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=e,i.dependsOnOwnProps=Us(e);let u=i(l,c);return typeof u=="function"&&(i.mapToProps=u,i.dependsOnOwnProps=Us(u),u=i(l,c)),u},i}}function ko(e,t){return(r,n)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${n.wrappedComponentName}.`)}}function um(e){return e&&typeof e=="object"?un(t=>dm(e,t)):e?typeof e=="function"?Fa(e):ko(e,"mapDispatchToProps"):un(t=>({dispatch:t}))}function pm(e){return e?typeof e=="function"?Fa(e):ko(e,"mapStateToProps"):un(()=>({}))}function fm(e,t,r){return{...r,...e,...t}}function hm(e){return function(r,{displayName:n,areMergedPropsEqual:o}){let i=!1,a;return function(c,u,p){const d=e(c,u,p);return i?o(d,a)||(a=d):(i=!0,a=d),a}}}function mm(e){return e?typeof e=="function"?hm(e):ko(e,"mergeProps"):()=>fm}function gm(e){e()}function xm(){let e=null,t=null;return{clear(){e=null,t=null},notify(){gm(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const o=t={callback:r,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!n||e===null||(n=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var Hs={notify(){},get:()=>[]};function ka(e,t){let r,n=Hs,o=0,i=!1;function a(g){p();const x=n.subscribe(g);let S=!1;return()=>{S||(S=!0,x(),d())}}function l(){n.notify()}function c(){m.onStateChange&&m.onStateChange()}function u(){return i}function p(){o++,r||(r=t?t.addNestedSub(c):e.subscribe(c),n=xm())}function d(){o--,r&&o===0&&(r(),r=void 0,n.clear(),n=Hs)}function f(){i||(i=!0,p())}function h(){i&&(i=!1,d())}const m={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>n};return m}var bm=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vm=bm(),ym=()=>typeof navigator<"u"&&navigator.product==="ReactNative",wm=ym(),Sm=()=>vm||wm?b.useLayoutEffect:b.useEffect,Qt=Sm();function zs(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Fr(e,t){if(zs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(t,r[o])||!zs(e[r[o]],t[r[o]]))return!1;return!0}var jm={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Em={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Cm={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Wa={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Im={[om]:Cm,[sm]:Wa};function Gs(e){return am(e)?Wa:Im[e.$$typeof]||jm}var Rm=Object.defineProperty,Am=Object.getOwnPropertyNames,Vs=Object.getOwnPropertySymbols,Tm=Object.getOwnPropertyDescriptor,Dm=Object.getPrototypeOf,qs=Object.prototype;function pn(e,t){if(typeof t!="string"){if(qs){const i=Dm(t);i&&i!==qs&&pn(e,i)}let r=Am(t);Vs&&(r=r.concat(Vs(t)));const n=Gs(e),o=Gs(t);for(let i=0;i<r.length;++i){const a=r[i];if(!Em[a]&&!(o&&o[a])&&!(n&&n[a])){const l=Tm(t,a);try{Rm(e,a,l)}catch{}}}}return e}var kr=Symbol.for("react-redux-context"),Wr=typeof globalThis<"u"?globalThis:{};function Pm(){if(!b.createContext)return{};const e=Wr[kr]??(Wr[kr]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var Ua=Pm(),Om=[null,null];function _m(e,t,r){Qt(()=>e(...t),r)}function Nm(e,t,r,n,o,i){e.current=n,r.current=!1,o.current&&(o.current=null,i())}function Lm(e,t,r,n,o,i,a,l,c,u,p){if(!e)return()=>{};let d=!1,f=null;const h=()=>{if(d||!l.current)return;const g=t.getState();let x,S;try{x=n(g,o.current)}catch(j){S=j,f=j}S||(f=null),x===i.current?a.current||u():(i.current=x,c.current=x,a.current=!0,p())};return r.onStateChange=h,r.trySubscribe(),h(),()=>{if(d=!0,r.tryUnsubscribe(),r.onStateChange=null,f)throw f}}function $m(e,t){return e===t}function Mm(e,t,r,{pure:n,areStatesEqual:o=$m,areOwnPropsEqual:i=Fr,areStatePropsEqual:a=Fr,areMergedPropsEqual:l=Fr,forwardRef:c=!1,context:u=Ua}={}){const p=u,d=pm(e),f=um(t),h=mm(r),m=!!e;return x=>{const S=x.displayName||x.name||"Component",j=`Connect(${S})`,I={shouldHandleStateChanges:m,displayName:j,wrappedComponentName:S,WrappedComponent:x,initMapStateToProps:d,initMapDispatchToProps:f,initMergeProps:h,areStatesEqual:o,areStatePropsEqual:a,areOwnPropsEqual:i,areMergedPropsEqual:l};function D(F){const[k,_,A]=b.useMemo(()=>{const{reactReduxForwardedRef:be,...dt}=F;return[F.context,be,dt]},[F]),G=b.useMemo(()=>{let be=p;return k!=null&&k.Consumer,be},[k,p]),ue=b.useContext(G),Pe=!!F.store&&!!F.store.getState&&!!F.store.dispatch,Ir=!!ue&&!!ue.store,Te=Pe?F.store:ue.store,ls=Ir?ue.getServerState:Te.getState,Rr=b.useMemo(()=>cm(Te.dispatch,I),[Te]),[lt,cs]=b.useMemo(()=>{if(!m)return Om;const be=ka(Te,Pe?void 0:ue.subscription),dt=be.notifyNestedSubs.bind(be);return[be,dt]},[Te,Pe,ue]),ds=b.useMemo(()=>Pe?ue:{...ue,subscription:lt},[Pe,ue,lt]),Ar=b.useRef(void 0),Tr=b.useRef(A),ct=b.useRef(void 0),us=b.useRef(!1),Dr=b.useRef(!1),Pr=b.useRef(void 0);Qt(()=>(Dr.current=!0,()=>{Dr.current=!1}),[]);const ps=b.useMemo(()=>()=>ct.current&&A===Tr.current?ct.current:Rr(Te.getState(),A),[Te,A]),Vl=b.useMemo(()=>dt=>lt?Lm(m,Te,lt,Rr,Tr,Ar,us,Dr,ct,cs,dt):()=>{},[lt]);_m(Nm,[Tr,Ar,us,A,ct,cs]);let $t;try{$t=b.useSyncExternalStore(Vl,ps,ls?()=>Rr(ls(),A):ps)}catch(be){throw Pr.current&&(be.message+=`
The error may be correlated with this previous error:
${Pr.current.stack}

`),be}Qt(()=>{Pr.current=void 0,ct.current=void 0,Ar.current=$t});const Or=b.useMemo(()=>b.createElement(x,{...$t,ref:_}),[_,x,$t]);return b.useMemo(()=>m?b.createElement(G.Provider,{value:ds},Or):Or,[G,Or,ds])}const T=b.memo(D);if(T.WrappedComponent=x,T.displayName=D.displayName=j,c){const k=b.forwardRef(function(A,G){return b.createElement(T,{...A,reactReduxForwardedRef:G})});return k.displayName=j,k.WrappedComponent=x,pn(k,x)}return pn(T,x)}}var Ha=Mm;function Bm(e){const{children:t,context:r,serverState:n,store:o}=e,i=b.useMemo(()=>{const c=ka(o);return{store:o,subscription:c,getServerState:n?()=>n:void 0}},[o,n]),a=b.useMemo(()=>o.getState(),[o]);Qt(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==o.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,a]);const l=r||Ua;return b.createElement(l.Provider,{value:i},t)}var Fm=Bm;function km(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function za(e,t){var r=b.useState(function(){return{inputs:t,result:e()}})[0],n=b.useRef(!0),o=b.useRef(r),i=n.current||!!(t&&o.current.inputs&&km(t,o.current.inputs)),a=i?o.current:{inputs:t,result:e()};return b.useEffect(function(){n.current=!1,o.current=a},[a]),a.result}function Wm(e,t){return za(function(){return e},t)}var W=za,P=Wm,Ie=function(t){var r=t.top,n=t.right,o=t.bottom,i=t.left,a=n-i,l=o-r,c={top:r,right:n,bottom:o,left:i,width:a,height:l,x:i,y:r,center:{x:(n+i)/2,y:(o+r)/2}};return c},Wo=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},Ys=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},Um=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Ur={top:0,right:0,bottom:0,left:0},Uo=function(t){var r=t.borderBox,n=t.margin,o=n===void 0?Ur:n,i=t.border,a=i===void 0?Ur:i,l=t.padding,c=l===void 0?Ur:l,u=Ie(Wo(r,o)),p=Ie(Ys(r,a)),d=Ie(Ys(p,c));return{marginBox:u,borderBox:Ie(r),paddingBox:p,contentBox:d,margin:o,border:a,padding:c}},ve=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var o=Number(r);return isNaN(o)&&zc(),o},Hm=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Zt=function(t,r){var n=t.borderBox,o=t.border,i=t.margin,a=t.padding,l=Um(n,r);return Uo({borderBox:l,border:o,margin:i,padding:a})},er=function(t,r){return r===void 0&&(r=Hm()),Zt(t,r)},Ga=function(t,r){var n={top:ve(r.marginTop),right:ve(r.marginRight),bottom:ve(r.marginBottom),left:ve(r.marginLeft)},o={top:ve(r.paddingTop),right:ve(r.paddingRight),bottom:ve(r.paddingBottom),left:ve(r.paddingLeft)},i={top:ve(r.borderTopWidth),right:ve(r.borderRightWidth),bottom:ve(r.borderBottomWidth),left:ve(r.borderLeftWidth)};return Uo({borderBox:t,margin:n,padding:o,border:i})},Va=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return Ga(r,n)},Js=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function zm(e,t){return!!(e===t||Js(e)&&Js(t))}function Gm(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!zm(e[r],t[r]))return!1;return!0}function te(e,t){t===void 0&&(t=Gm);var r=null;function n(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(r&&r.lastThis===this&&t(o,r.lastArgs))return r.lastResult;var a=e.apply(this,o);return r={lastResult:a,lastArgs:o,lastThis:this},a}return n.clear=function(){r=null},n}var St=function(t){var r=[],n=null,o=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];r=l,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return o.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},o};function qa(e,t){}qa.bind(null,"warn");qa.bind(null,"error");function Be(){}function Vm(e,t){return{...e,...t}}function we(e,t,r){const n=t.map(o=>{const i=Vm(r,o.options);return e.addEventListener(o.eventName,o.fn,i),function(){e.removeEventListener(o.eventName,o.fn,i)}});return function(){n.forEach(i=>{i()})}}const qm="Invariant failed";class tr extends Error{}tr.prototype.toString=function(){return this.message};function E(e,t){throw new tr(qm)}class Ym extends V.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Be,this.onWindowError=r=>{const n=this.getCallbacks();n.isDragging()&&n.tryAbort(),r.error instanceof tr&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=we(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof tr){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Jm=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,rr=e=>e+1,Km=e=>`
  You have lifted an item in position ${rr(e.source.index)}
`,Ya=(e,t)=>{const r=e.droppableId===t.droppableId,n=rr(e.index),o=rr(t.index);return r?`
      You have moved the item from position ${n}
      to position ${o}
    `:`
    You have moved the item from position ${n}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${o}
  `},Ja=(e,t,r)=>t.droppableId===r.droppableId?`
      The item ${e}
      has been combined with ${r.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,Xm=e=>{const t=e.destination;if(t)return Ya(e.source,t);const r=e.combine;return r?Ja(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},Ks=e=>`
  The item has returned to its starting position
  of ${rr(e.index)}
`,Qm=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${Ks(e.source)}
    `;const t=e.destination,r=e.combine;return t?`
      You have dropped the item.
      ${Ya(e.source,t)}
    `:r?`
      You have dropped the item.
      ${Ja(e.draggableId,e.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${Ks(e.source)}
  `},Yt={dragHandleUsageInstructions:Jm,onDragStart:Km,onDragUpdate:Xm,onDragEnd:Qm},re={x:0,y:0},oe=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),fe=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Fe=(e,t)=>e.x===t.x&&e.y===t.y,st=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Ge=(e,t,r=0)=>e==="x"?{x:t,y:r}:{x:r,y:t},jt=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),Xs=(e,t)=>Math.min(...t.map(r=>jt(e,r))),Ka=e=>t=>({x:e(t.x),y:e(t.y)});var Zm=(e,t)=>{const r=Ie({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r};const Nt=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),Qs=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],eg={top:0,right:0,bottom:0,left:0},tg=(e,t)=>t?Nt(e,t.scroll.diff.displacement):e,rg=(e,t,r)=>r&&r.increasedBy?{...e,[t.end]:e[t.end]+r.increasedBy[t.line]}:e,ng=(e,t)=>t&&t.shouldClipSubject?Zm(t.pageMarginBox,e):Ie(e);var Xe=({page:e,withPlaceholder:t,axis:r,frame:n})=>{const o=tg(e.marginBox,n),i=rg(o,r,t),a=ng(i,n);return{page:e,withPlaceholder:t,active:a}},Ho=(e,t)=>{e.frame||E();const r=e.frame,n=fe(t,r.scroll.initial),o=st(n),i={...r,scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:o},max:r.scroll.max}},a=Xe({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return{...e,frame:i,subject:a}};const Xa=te(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),Qa=te(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),vr=te(e=>Object.values(e)),og=te(e=>Object.values(e));var it=te((e,t)=>og(t).filter(n=>e===n.descriptor.droppableId).sort((n,o)=>n.descriptor.index-o.descriptor.index));function zo(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function yr(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var wr=te((e,t)=>t.filter(r=>r.descriptor.id!==e.descriptor.id)),sg=({isMovingForward:e,draggable:t,destination:r,insideDestination:n,previousImpact:o})=>{if(!r.isCombineEnabled||!zo(o))return null;function a(h){const m={type:"COMBINE",combine:{draggableId:h,droppableId:r.descriptor.id}};return{...o,at:m}}const l=o.displaced.all,c=l.length?l[0]:null;if(e)return c?a(c):null;const u=wr(t,n);if(!c){if(!u.length)return null;const h=u[u.length-1];return a(h.descriptor.id)}const p=u.findIndex(h=>h.descriptor.id===c);p===-1&&E();const d=p-1;if(d<0)return null;const f=u[d];return a(f.descriptor.id)},at=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const Za={point:re,value:0},Et={invisible:{},visible:{},all:[]},ig={displaced:Et,displacedBy:Za,at:null};var je=(e,t)=>r=>e<=r&&r<=t,el=e=>{const t=je(e.top,e.bottom),r=je(e.left,e.right);return n=>{if(t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right))return!0;const i=t(n.top)||t(n.bottom),a=r(n.left)||r(n.right);if(i&&a)return!0;const c=n.top<e.top&&n.bottom>e.bottom,u=n.left<e.left&&n.right>e.right;return c&&u?!0:c&&a||u&&i}},ag=e=>{const t=je(e.top,e.bottom),r=je(e.left,e.right);return n=>t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right)};const Go={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},tl={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var lg=e=>t=>{const r=je(t.top,t.bottom),n=je(t.left,t.right);return o=>e===Go?r(o.top)&&r(o.bottom):n(o.left)&&n(o.right)};const cg=(e,t)=>{const r=t.frame?t.frame.scroll.diff.displacement:re;return Nt(e,r)},dg=(e,t,r)=>t.subject.active?r(t.subject.active)(e):!1,ug=(e,t,r)=>r(t)(e),Vo=({target:e,destination:t,viewport:r,withDroppableDisplacement:n,isVisibleThroughFrameFn:o})=>{const i=n?cg(e,t):e;return dg(i,t,o)&&ug(i,r,o)},pg=e=>Vo({...e,isVisibleThroughFrameFn:el}),rl=e=>Vo({...e,isVisibleThroughFrameFn:ag}),fg=e=>Vo({...e,isVisibleThroughFrameFn:lg(e.destination.axis)}),hg=(e,t,r)=>{if(typeof r=="boolean")return r;if(!t)return!0;const{invisible:n,visible:o}=t;if(n[e])return!1;const i=o[e];return i?i.shouldAnimate:!0};function mg(e,t){const r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Ie(Wo(r,n))}function Ct({afterDragging:e,destination:t,displacedBy:r,viewport:n,forceShouldAnimate:o,last:i}){return e.reduce(function(l,c){const u=mg(c,r),p=c.descriptor.id;if(l.all.push(p),!pg({target:u,destination:t,viewport:n,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const f=hg(p,i,o),h={draggableId:p,shouldAnimate:f};return l.visible[p]=h,l},{all:[],visible:{},invisible:{}})}function gg(e,t){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function Zs({insideDestination:e,inHomeList:t,displacedBy:r,destination:n}){const o=gg(e,{inHomeList:t});return{displaced:Et,displacedBy:r,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function nr({draggable:e,insideDestination:t,destination:r,viewport:n,displacedBy:o,last:i,index:a,forceShouldAnimate:l}){const c=at(e,r);if(a==null)return Zs({insideDestination:t,inHomeList:c,displacedBy:o,destination:r});const u=t.find(m=>m.descriptor.index===a);if(!u)return Zs({insideDestination:t,inHomeList:c,displacedBy:o,destination:r});const p=wr(e,t),d=t.indexOf(u),f=p.slice(d);return{displaced:Ct({afterDragging:f,destination:r,displacedBy:o,last:i,viewport:n.frame,forceShouldAnimate:l}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:a}}}}function ke(e,t){return!!t.effected[e]}var xg=({isMovingForward:e,destination:t,draggables:r,combine:n,afterCritical:o})=>{if(!t.isCombineEnabled)return null;const i=n.draggableId,l=r[i].descriptor.index;return ke(i,o)?e?l:l-1:e?l+1:l},bg=({isMovingForward:e,isInHomeList:t,insideDestination:r,location:n})=>{if(!r.length)return null;const o=n.index,i=e?o+1:o-1,a=r[0].descriptor.index,l=r[r.length-1].descriptor.index,c=t?l:l+1;return i<a||i>c?null:i},vg=({isMovingForward:e,isInHomeList:t,draggable:r,draggables:n,destination:o,insideDestination:i,previousImpact:a,viewport:l,afterCritical:c})=>{const u=a.at;if(u||E(),u.type==="REORDER"){const d=bg({isMovingForward:e,isInHomeList:t,location:u.destination,insideDestination:i});return d==null?null:nr({draggable:r,insideDestination:i,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:d})}const p=xg({isMovingForward:e,destination:o,displaced:a.displaced,draggables:n,combine:u.combine,afterCritical:c});return p==null?null:nr({draggable:r,insideDestination:i,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:p})},yg=({displaced:e,afterCritical:t,combineWith:r,displacedBy:n})=>{const o=!!(e.visible[r]||e.invisible[r]);return ke(r,t)?o?re:st(n.point):o?n.point:re},wg=({afterCritical:e,impact:t,draggables:r})=>{const n=yr(t);n||E();const o=n.draggableId,i=r[o].page.borderBox.center,a=yg({displaced:t.displaced,afterCritical:e,combineWith:o,displacedBy:t.displacedBy});return oe(i,a)};const nl=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,Sg=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,qo=(e,t,r)=>t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,ei=({axis:e,moveRelativeTo:t,isMoving:r})=>Ge(e.line,t.marginBox[e.end]+nl(e,r),qo(e,t.marginBox,r)),ti=({axis:e,moveRelativeTo:t,isMoving:r})=>Ge(e.line,t.marginBox[e.start]-Sg(e,r),qo(e,t.marginBox,r)),jg=({axis:e,moveInto:t,isMoving:r})=>Ge(e.line,t.contentBox[e.start]+nl(e,r),qo(e,t.contentBox,r));var Eg=({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o})=>{const i=it(n.descriptor.id,r),a=t.page,l=n.axis;if(!i.length)return jg({axis:l,moveInto:n.page,isMoving:a});const{displaced:c,displacedBy:u}=e,p=c.all[0];if(p){const f=r[p];if(ke(p,o))return ti({axis:l,moveRelativeTo:f.page,isMoving:a});const h=Zt(f.page,u.point);return ti({axis:l,moveRelativeTo:h,isMoving:a})}const d=i[i.length-1];if(d.descriptor.id===t.descriptor.id)return a.borderBox.center;if(ke(d.descriptor.id,o)){const f=Zt(d.page,st(o.displacedBy.point));return ei({axis:l,moveRelativeTo:f,isMoving:a})}return ei({axis:l,moveRelativeTo:d.page,isMoving:a})},fn=(e,t)=>{const r=e.frame;return r?oe(t,r.scroll.diff.displacement):t};const Cg=({impact:e,draggable:t,droppable:r,draggables:n,afterCritical:o})=>{const i=t.page.borderBox.center,a=e.at;return!r||!a?i:a.type==="REORDER"?Eg({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:o}):wg({impact:e,draggables:n,afterCritical:o})};var Sr=e=>{const t=Cg(e),r=e.droppable;return r?fn(r,t):t},ol=(e,t)=>{const r=fe(t,e.scroll.initial),n=st(r);return{frame:Ie({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}}};function ri(e,t){return e.map(r=>t[r])}function Ig(e,t){for(let r=0;r<t.length;r++){const n=t[r].visible[e];if(n)return n}return null}var Rg=({impact:e,viewport:t,destination:r,draggables:n,maxScrollChange:o})=>{const i=ol(t,oe(t.scroll.current,o)),a=r.frame?Ho(r,oe(r.frame.scroll.current,o)):r,l=e.displaced,c=Ct({afterDragging:ri(l.all,n),destination:r,displacedBy:e.displacedBy,viewport:i.frame,last:l,forceShouldAnimate:!1}),u=Ct({afterDragging:ri(l.all,n),destination:a,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),p={},d={},f=[l,c,u];return l.all.forEach(m=>{const g=Ig(m,f);if(g){d[m]=g;return}p[m]=!0}),{...e,displaced:{all:l.all,invisible:p,visible:d}}},Ag=(e,t)=>oe(e.scroll.diff.displacement,t),Yo=({pageBorderBoxCenter:e,draggable:t,viewport:r})=>{const n=Ag(r,e),o=fe(n,t.page.borderBox.center);return oe(t.client.borderBox.center,o)},sl=({draggable:e,destination:t,newPageBorderBoxCenter:r,viewport:n,withDroppableDisplacement:o,onlyOnMainAxis:i=!1})=>{const a=fe(r,e.page.borderBox.center),c={target:Nt(e.page.borderBox,a),destination:t,withDroppableDisplacement:o,viewport:n};return i?fg(c):rl(c)},Tg=({isMovingForward:e,draggable:t,destination:r,draggables:n,previousImpact:o,viewport:i,previousPageBorderBoxCenter:a,previousClientSelection:l,afterCritical:c})=>{if(!r.isEnabled)return null;const u=it(r.descriptor.id,n),p=at(t,r),d=sg({isMovingForward:e,draggable:t,destination:r,insideDestination:u,previousImpact:o})||vg({isMovingForward:e,isInHomeList:p,draggable:t,draggables:n,destination:r,insideDestination:u,previousImpact:o,viewport:i,afterCritical:c});if(!d)return null;const f=Sr({impact:d,draggable:t,droppable:r,draggables:n,afterCritical:c});if(sl({draggable:t,destination:r,newPageBorderBoxCenter:f,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Yo({pageBorderBoxCenter:f,draggable:t,viewport:i}),impact:d,scrollJumpRequest:null};const m=fe(f,a),g=Rg({impact:d,viewport:i,destination:r,draggables:n,maxScrollChange:m});return{clientSelection:l,impact:g,scrollJumpRequest:m}};const se=e=>{const t=e.subject.active;return t||E(),t};var Dg=({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:n,viewport:o})=>{const i=r.subject.active;if(!i)return null;const a=r.axis,l=je(i[a.start],i[a.end]),c=vr(n).filter(p=>p!==r).filter(p=>p.isEnabled).filter(p=>!!p.subject.active).filter(p=>el(o.frame)(se(p))).filter(p=>{const d=se(p);return e?i[a.crossAxisEnd]<d[a.crossAxisEnd]:d[a.crossAxisStart]<i[a.crossAxisStart]}).filter(p=>{const d=se(p),f=je(d[a.start],d[a.end]);return l(d[a.start])||l(d[a.end])||f(i[a.start])||f(i[a.end])}).sort((p,d)=>{const f=se(p)[a.crossAxisStart],h=se(d)[a.crossAxisStart];return e?f-h:h-f}).filter((p,d,f)=>se(p)[a.crossAxisStart]===se(f[0])[a.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const u=c.filter(p=>je(se(p)[a.start],se(p)[a.end])(t[a.line]));return u.length===1?u[0]:u.length>1?u.sort((p,d)=>se(p)[a.start]-se(d)[a.start])[0]:c.sort((p,d)=>{const f=Xs(t,Qs(se(p))),h=Xs(t,Qs(se(d)));return f!==h?f-h:se(p)[a.start]-se(d)[a.start]})[0]};const ni=(e,t)=>{const r=e.page.borderBox.center;return ke(e.descriptor.id,t)?fe(r,t.displacedBy.point):r},Pg=(e,t)=>{const r=e.page.borderBox;return ke(e.descriptor.id,t)?Nt(r,st(t.displacedBy.point)):r};var Og=({pageBorderBoxCenter:e,viewport:t,destination:r,insideDestination:n,afterCritical:o})=>n.filter(a=>rl({target:Pg(a,o),destination:r,viewport:t.frame,withDroppableDisplacement:!0})).sort((a,l)=>{const c=jt(e,fn(r,ni(a,o))),u=jt(e,fn(r,ni(l,o)));return c<u?-1:u<c?1:a.descriptor.index-l.descriptor.index})[0]||null,Lt=te(function(t,r){const n=r[t.line];return{value:n,point:Ge(t.line,n)}});const _g=(e,t,r)=>{const n=e.axis;if(e.descriptor.mode==="virtual")return Ge(n.line,t[n.line]);const o=e.subject.page.contentBox[n.size],c=it(e.descriptor.id,r).reduce((u,p)=>u+p.client.marginBox[n.size],0)+t[n.line]-o;return c<=0?null:Ge(n.line,c)},il=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),al=(e,t,r)=>{const n=e.frame;at(t,e)&&E(),e.subject.withPlaceholder&&E();const o=Lt(e.axis,t.displaceBy).point,i=_g(e,o,r),a={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!n){const p=Xe({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return{...e,subject:p}}const l=i?oe(n.scroll.max,i):n.scroll.max,c=il(n,l),u=Xe({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:c});return{...e,subject:u,frame:c}},Ng=e=>{const t=e.subject.withPlaceholder;t||E();const r=e.frame;if(!r){const a=Xe({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:a}}const n=t.oldFrameMaxScroll;n||E();const o=il(r,n),i=Xe({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return{...e,subject:i,frame:o}};var Lg=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:r,draggable:n,draggables:o,destination:i,viewport:a,afterCritical:l})=>{if(!t){if(r.length)return null;const d={displaced:Et,displacedBy:Za,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},f=Sr({impact:d,draggable:n,droppable:i,draggables:o,afterCritical:l}),h=at(n,i)?i:al(i,n,o);return sl({draggable:n,destination:h,newPageBorderBoxCenter:f,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?d:null}const c=e[i.axis.line]<=t.page.borderBox.center[i.axis.line],u=(()=>{const d=t.descriptor.index;return t.descriptor.id===n.descriptor.id||c?d:d+1})(),p=Lt(i.axis,n.displaceBy);return nr({draggable:n,insideDestination:r,destination:i,viewport:a,displacedBy:p,last:Et,index:u})},$g=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:r,isOver:n,draggables:o,droppables:i,viewport:a,afterCritical:l})=>{const c=Dg({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:i,viewport:a});if(!c)return null;const u=it(c.descriptor.id,o),p=Og({pageBorderBoxCenter:t,viewport:a,destination:c,insideDestination:u,afterCritical:l}),d=Lg({previousPageBorderBoxCenter:t,destination:c,draggable:r,draggables:o,moveRelativeTo:p,insideDestination:u,viewport:a,afterCritical:l});if(!d)return null;const f=Sr({impact:d,draggable:r,droppable:c,draggables:o,afterCritical:l});return{clientSelection:Yo({pageBorderBoxCenter:f,draggable:r,viewport:a}),impact:d,scrollJumpRequest:null}},he=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const Mg=(e,t)=>{const r=he(e);return r?t[r]:null};var Bg=({state:e,type:t})=>{const r=Mg(e.impact,e.dimensions.droppables),n=!!r,o=e.dimensions.droppables[e.critical.droppable.id],i=r||o,a=i.axis.direction,l=a==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||a==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!n)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",u=e.dimensions.draggables[e.critical.draggable.id],p=e.current.page.borderBoxCenter,{draggables:d,droppables:f}=e.dimensions;return l?Tg({isMovingForward:c,previousPageBorderBoxCenter:p,draggable:u,destination:i,draggables:d,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):$g({isMovingForward:c,previousPageBorderBoxCenter:p,draggable:u,isOver:i,draggables:d,droppables:f,viewport:e.viewport,afterCritical:e.afterCritical})};function Ue(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function ll(e){const t=je(e.top,e.bottom),r=je(e.left,e.right);return function(o){return t(o.y)&&r(o.x)}}function Fg(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function kg({pageBorderBox:e,draggable:t,candidates:r}){const n=t.page.borderBox.center,o=r.map(i=>{const a=i.axis,l=Ge(i.axis.line,e.center[a.line],i.page.borderBox.center[a.crossAxisLine]);return{id:i.descriptor.id,distance:jt(n,l)}}).sort((i,a)=>a.distance-i.distance);return o[0]?o[0].id:null}function Wg({pageBorderBox:e,draggable:t,droppables:r}){const n=vr(r).filter(o=>{if(!o.isEnabled)return!1;const i=o.subject.active;if(!i||!Fg(e,i))return!1;if(ll(i)(e.center))return!0;const a=o.axis,l=i.center[a.crossAxisLine],c=e[a.crossAxisStart],u=e[a.crossAxisEnd],p=je(i[a.crossAxisStart],i[a.crossAxisEnd]),d=p(c),f=p(u);return!d&&!f?!0:d?c<l:u>l});return n.length?n.length===1?n[0].descriptor.id:kg({pageBorderBox:e,draggable:t,candidates:n}):null}const cl=(e,t)=>Ie(Nt(e,t));var Ug=(e,t)=>{const r=e.frame;return r?cl(t,r.scroll.diff.value):t};function dl({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function Hg({draggable:e,closest:t,inHomeList:r}){return t?r&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var zg=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:r,insideDestination:n,last:o,viewport:i,afterCritical:a})=>{const l=r.axis,c=Lt(r.axis,t.displaceBy),u=c.value,p=e[l.start],d=e[l.end],h=wr(t,n).find(g=>{const x=g.descriptor.id,S=g.page.borderBox.center[l.line],j=ke(x,a),I=dl({displaced:o,id:x});return j?I?d<=S:p<S-u:I?d<=S+u:p<S})||null,m=Hg({draggable:t,closest:h,inHomeList:at(t,r)});return nr({draggable:t,insideDestination:n,destination:r,viewport:i,last:o,displacedBy:c,index:m})};const Gg=4;var Vg=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:r,destination:n,insideDestination:o,afterCritical:i})=>{if(!n.isCombineEnabled)return null;const a=n.axis,l=Lt(n.axis,e.displaceBy),c=l.value,u=t[a.start],p=t[a.end],f=wr(e,o).find(m=>{const g=m.descriptor.id,x=m.page.borderBox,j=x[a.size]/Gg,I=ke(g,i),D=dl({displaced:r.displaced,id:g});return I?D?p>x[a.start]+j&&p<x[a.end]-j:u>x[a.start]-c+j&&u<x[a.end]-c-j:D?p>x[a.start]+c+j&&p<x[a.end]+c-j:u>x[a.start]+j&&u<x[a.end]-j});return f?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:n.descriptor.id}}}:null},ul=({pageOffset:e,draggable:t,draggables:r,droppables:n,previousImpact:o,viewport:i,afterCritical:a})=>{const l=cl(t.page.borderBox,e),c=Wg({pageBorderBox:l,draggable:t,droppables:n});if(!c)return ig;const u=n[c],p=it(u.descriptor.id,r),d=Ug(u,l);return Vg({pageBorderBoxWithDroppableScroll:d,draggable:t,previousImpact:o,destination:u,insideDestination:p,afterCritical:a})||zg({pageBorderBoxWithDroppableScroll:d,draggable:t,destination:u,insideDestination:p,last:o.displaced,viewport:i,afterCritical:a})},Jo=(e,t)=>({...e,[t.descriptor.id]:t});const qg=({previousImpact:e,impact:t,droppables:r})=>{const n=he(e),o=he(t);if(!n||n===o)return r;const i=r[n];if(!i.subject.withPlaceholder)return r;const a=Ng(i);return Jo(r,a)};var Yg=({draggable:e,draggables:t,droppables:r,previousImpact:n,impact:o})=>{const i=qg({previousImpact:n,impact:o,droppables:r}),a=he(o);if(!a)return i;const l=r[a];if(at(e,l)||l.subject.withPlaceholder)return i;const c=al(l,e,t);return Jo(i,c)},bt=({state:e,clientSelection:t,dimensions:r,viewport:n,impact:o,scrollJumpRequest:i})=>{const a=n||e.viewport,l=r||e.dimensions,c=t||e.current.client.selection,u=fe(c,e.initial.client.selection),p={offset:u,selection:c,borderBoxCenter:oe(e.initial.client.borderBoxCenter,u)},d={selection:oe(p.selection,a.scroll.current),borderBoxCenter:oe(p.borderBoxCenter,a.scroll.current),offset:oe(p.offset,a.scroll.diff.value)},f={client:p,page:d};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:a,current:f};const h=l.draggables[e.critical.draggable.id],m=o||ul({pageOffset:d.offset,draggable:h,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:a,afterCritical:e.afterCritical}),g=Yg({draggable:h,impact:m,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:f,dimensions:{draggables:l.draggables,droppables:g},impact:m,viewport:a,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}};function Jg(e,t){return e.map(r=>t[r])}var pl=({impact:e,viewport:t,draggables:r,destination:n,forceShouldAnimate:o})=>{const i=e.displaced,a=Jg(i.all,r),l=Ct({afterDragging:a,destination:n,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:o,last:i});return{...e,displaced:l}},fl=({impact:e,draggable:t,droppable:r,draggables:n,viewport:o,afterCritical:i})=>{const a=Sr({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i});return Yo({pageBorderBoxCenter:a,draggable:t,viewport:o})},hl=({state:e,dimensions:t,viewport:r})=>{e.movementMode!=="SNAP"&&E();const n=e.impact,o=r||e.viewport,i=t||e.dimensions,{draggables:a,droppables:l}=i,c=a[e.critical.draggable.id],u=he(n);u||E();const p=l[u],d=pl({impact:n,viewport:o,destination:p,draggables:a}),f=fl({impact:d,draggable:c,droppable:p,draggables:a,viewport:o,afterCritical:e.afterCritical});return bt({impact:d,clientSelection:f,state:e,dimensions:i,viewport:o})},Kg=e=>({index:e.index,droppableId:e.droppableId}),ml=({draggable:e,home:t,draggables:r,viewport:n})=>{const o=Lt(t.axis,e.displaceBy),i=it(t.descriptor.id,r),a=i.indexOf(e);a===-1&&E();const l=i.slice(a+1),c=l.reduce((f,h)=>(f[h.descriptor.id]=!0,f),{}),u={inVirtualList:t.descriptor.mode==="virtual",displacedBy:o,effected:c};return{impact:{displaced:Ct({afterDragging:l,destination:t,displacedBy:o,last:null,viewport:n.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:Kg(e.descriptor)}},afterCritical:u}},Xg=(e,t)=>({draggables:e.draggables,droppables:Jo(e.droppables,t)}),Qg=({draggable:e,offset:t,initialWindowScroll:r})=>{const n=Zt(e.client,t),o=er(n,r);return{...e,placeholder:{...e.placeholder,client:n},client:n,page:o}},Zg=e=>{const t=e.frame;return t||E(),t},ex=({additions:e,updatedDroppables:t,viewport:r})=>{const n=r.scroll.diff.value;return e.map(o=>{const i=o.descriptor.droppableId,a=t[i],c=Zg(a).scroll.diff.value,u=oe(n,c);return Qg({draggable:o,offset:u,initialWindowScroll:r.scroll.initial})})},tx=({state:e,published:t})=>{const r=t.modified.map(S=>{const j=e.dimensions.droppables[S.droppableId];return Ho(j,S.scroll)}),n={...e.dimensions.droppables,...Xa(r)},o=Qa(ex({additions:t.additions,updatedDroppables:n,viewport:e.viewport})),i={...e.dimensions.draggables,...o};t.removals.forEach(S=>{delete i[S]});const a={droppables:n,draggables:i},l=he(e.impact),c=l?a.droppables[l]:null,u=a.draggables[e.critical.draggable.id],p=a.droppables[e.critical.droppable.id],{impact:d,afterCritical:f}=ml({draggable:u,home:p,draggables:i,viewport:e.viewport}),h=c&&c.isCombineEnabled?e.impact:d,m=ul({pageOffset:e.current.page.offset,draggable:a.draggables[e.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:h,viewport:e.viewport,afterCritical:f}),g={...e,phase:"DRAGGING",impact:m,onLiftImpact:d,dimensions:a,afterCritical:f,forceShouldAnimate:!1};return e.phase==="COLLECTING"?g:{...g,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const hn=e=>e.movementMode==="SNAP",Hr=(e,t,r)=>{const n=Xg(e.dimensions,t);return!hn(e)||r?bt({state:e,dimensions:n}):hl({state:e,dimensions:n})};function zr(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const oi={phase:"IDLE",completed:null,shouldFlush:!1};var rx=(e=oi,t)=>{if(t.type==="FLUSH")return{...oi,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&E();const{critical:r,clientSelection:n,viewport:o,dimensions:i,movementMode:a}=t.payload,l=i.draggables[r.draggable.id],c=i.droppables[r.droppable.id],u={selection:n,borderBoxCenter:l.client.borderBox.center,offset:re},p={client:u,page:{selection:oe(u.selection,o.scroll.initial),borderBoxCenter:oe(u.selection,o.scroll.initial),offset:oe(u.selection,o.scroll.diff.value)}},d=vr(i.droppables).every(g=>!g.isFixedOnPage),{impact:f,afterCritical:h}=ml({draggable:l,home:c,draggables:i.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:a,dimensions:i,initial:p,current:p,isWindowScrollAllowed:d,impact:f,afterCritical:h,onLiftImpact:f,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&E(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||E(),tx({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Ue(e)||E();const{client:r}=t.payload;return Fe(r,e.current.client.selection)?e:bt({state:e,clientSelection:r,impact:hn(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return zr(e);Ue(e)||E();const{id:r,newScroll:n}=t.payload,o=e.dimensions.droppables[r];if(!o)return e;const i=Ho(o,n);return Hr(e,i,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ue(e)||E();const{id:r,isEnabled:n}=t.payload,o=e.dimensions.droppables[r];o||E(),o.isEnabled===n&&E();const i={...o,isEnabled:n};return Hr(e,i,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ue(e)||E();const{id:r,isCombineEnabled:n}=t.payload,o=e.dimensions.droppables[r];o||E(),o.isCombineEnabled===n&&E();const i={...o,isCombineEnabled:n};return Hr(e,i,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Ue(e)||E(),e.isWindowScrollAllowed||E();const r=t.payload.newScroll;if(Fe(e.viewport.scroll.current,r))return zr(e);const n=ol(e.viewport,r);return hn(e)?hl({state:e,viewport:n}):bt({state:e,viewport:n})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Ue(e))return e;const r=t.payload.maxScroll;if(Fe(r,e.viewport.scroll.max))return e;const n={...e.viewport,scroll:{...e.viewport.scroll,max:r}};return{...e,viewport:n}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&E();const r=Bg({state:e,type:t.type});return r?bt({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const r=t.payload.reason;return e.phase!=="COLLECTING"&&E(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(t.type==="DROP_ANIMATE"){const{completed:r,dropDuration:n,newHomeClientOffset:o}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||E(),{phase:"DROP_ANIMATING",completed:r,dropDuration:n,newHomeClientOffset:o,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:r}=t.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return e};function z(e,t){return e instanceof Object&&"type"in e&&e.type===t}const nx=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),ox=e=>({type:"LIFT",payload:e}),sx=e=>({type:"INITIAL_PUBLISH",payload:e}),ix=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),ax=()=>({type:"COLLECTION_STARTING",payload:null}),lx=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),cx=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),dx=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),gl=e=>({type:"MOVE",payload:e}),ux=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),px=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),fx=()=>({type:"MOVE_UP",payload:null}),hx=()=>({type:"MOVE_DOWN",payload:null}),mx=()=>({type:"MOVE_RIGHT",payload:null}),gx=()=>({type:"MOVE_LEFT",payload:null}),Ko=()=>({type:"FLUSH",payload:null}),xx=e=>({type:"DROP_ANIMATE",payload:e}),Xo=e=>({type:"DROP_COMPLETE",payload:e}),xl=e=>({type:"DROP",payload:e}),bx=e=>({type:"DROP_PENDING",payload:e}),bl=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var vx=e=>({getState:t,dispatch:r})=>n=>o=>{if(!z(o,"LIFT")){n(o);return}const{id:i,clientSelection:a,movementMode:l}=o.payload,c=t();c.phase==="DROP_ANIMATING"&&r(Xo({completed:c.completed})),t().phase!=="IDLE"&&E(),r(Ko()),r(nx({draggableId:i,movementMode:l}));const p={draggableId:i,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:d,dimensions:f,viewport:h}=e.startPublishing(p);r(sx({critical:d,dimensions:f,clientSelection:a,movementMode:l,viewport:h}))},yx=e=>()=>t=>r=>{z(r,"INITIAL_PUBLISH")&&e.dragging(),z(r,"DROP_ANIMATE")&&e.dropping(r.payload.completed.result.reason),(z(r,"FLUSH")||z(r,"DROP_COMPLETE"))&&e.resting(),t(r)};const Qo={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},It={opacity:{drop:0,combining:.7},scale:{drop:.75}},vl={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},We=`${vl.outOfTheWay}s ${Qo.outOfTheWay}`,vt={fluid:`opacity ${We}`,snap:`transform ${We}, opacity ${We}`,drop:e=>{const t=`${e}s ${Qo.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${We}`,placeholder:`height ${We}, width ${We}, margin ${We}`},si=e=>Fe(e,re)?void 0:`translate(${e.x}px, ${e.y}px)`,mn={moveTo:si,drop:(e,t)=>{const r=si(e);if(r)return t?`${r} scale(${It.scale.drop})`:r}},{minDropTime:gn,maxDropTime:yl}=vl,wx=yl-gn,ii=1500,Sx=.6;var jx=({current:e,destination:t,reason:r})=>{const n=jt(e,t);if(n<=0)return gn;if(n>=ii)return yl;const o=n/ii,i=gn+wx*o,a=r==="CANCEL"?i*Sx:i;return Number(a.toFixed(2))},Ex=({impact:e,draggable:t,dimensions:r,viewport:n,afterCritical:o})=>{const{draggables:i,droppables:a}=r,l=he(e),c=l?a[l]:null,u=a[t.descriptor.droppableId],p=fl({impact:e,draggable:t,draggables:i,afterCritical:o,droppable:c||u,viewport:n});return fe(p,t.client.borderBox.center)},Cx=({draggables:e,reason:t,lastImpact:r,home:n,viewport:o,onLiftImpact:i})=>!r.at||t!=="DROP"?{impact:pl({draggables:e,impact:i,destination:n,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:Et},didDropInsideDroppable:!0};const Ix=({getState:e,dispatch:t})=>r=>n=>{if(!z(n,"DROP")){r(n);return}const o=e(),i=n.payload.reason;if(o.phase==="COLLECTING"){t(bx({reason:i}));return}if(o.phase==="IDLE")return;o.phase==="DROP_PENDING"&&o.isWaiting&&E(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||E();const l=o.critical,c=o.dimensions,u=c.draggables[o.critical.draggable.id],{impact:p,didDropInsideDroppable:d}=Cx({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),f=d?zo(p):null,h=d?yr(p):null,m={index:l.draggable.index,droppableId:l.droppable.id},g={draggableId:u.descriptor.id,type:u.descriptor.type,source:m,reason:i,mode:o.movementMode,destination:f,combine:h},x=Ex({impact:p,draggable:u,dimensions:c,viewport:o.viewport,afterCritical:o.afterCritical}),S={critical:o.critical,afterCritical:o.afterCritical,result:g,impact:p};if(!(!Fe(o.current.client.offset,x)||!!g.combine)){t(Xo({completed:S}));return}const I=jx({current:o.current.client.offset,destination:x,reason:i});t(xx({newHomeClientOffset:x,dropDuration:I,completed:S}))};var wl=()=>({x:window.pageXOffset,y:window.pageYOffset});function Rx(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function Ax({onWindowScroll:e}){function t(){e(wl())}const r=St(t),n=Rx(r);let o=Be;function i(){return o!==Be}function a(){i()&&E(),o=we(window,[n])}function l(){i()||E(),r.cancel(),o(),o=Be}return{start:a,stop:l,isActive:i}}const Tx=e=>z(e,"DROP_COMPLETE")||z(e,"DROP_ANIMATE")||z(e,"FLUSH"),Dx=e=>{const t=Ax({onWindowScroll:r=>{e.dispatch(ux({newScroll:r}))}});return r=>n=>{!t.isActive()&&z(n,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&Tx(n)&&t.stop(),r(n)}};var Px=e=>{let t=!1,r=!1;const n=setTimeout(()=>{r=!0}),o=i=>{t||r||(t=!0,e(i),clearTimeout(n))};return o.wasCalled=()=>t,o},Ox=()=>{const e=[],t=o=>{const i=e.findIndex(l=>l.timerId===o);i===-1&&E();const[a]=e.splice(i,1);a.callback()};return{add:o=>{const i=setTimeout(()=>t(i)),a={timerId:i,callback:o};e.push(a)},flush:()=>{if(!e.length)return;const o=[...e];e.length=0,o.forEach(i=>{clearTimeout(i.timerId),i.callback()})}}};const _x=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,Nx=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,Lx=(e,t)=>{if(e===t)return!0;const r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,n=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&n},ht=(e,t)=>{t()},Wt=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Gr(e,t,r,n){if(!e){r(n(t));return}const o=Px(r);e(t,{announce:o}),o.wasCalled()||r(n(t))}var $x=(e,t)=>{const r=Ox();let n=null;const o=(d,f)=>{n&&E(),ht("onBeforeCapture",()=>{const h=e().onBeforeCapture;h&&h({draggableId:d,mode:f})})},i=(d,f)=>{n&&E(),ht("onBeforeDragStart",()=>{const h=e().onBeforeDragStart;h&&h(Wt(d,f))})},a=(d,f)=>{n&&E();const h=Wt(d,f);n={mode:f,lastCritical:d,lastLocation:h.source,lastCombine:null},r.add(()=>{ht("onDragStart",()=>Gr(e().onDragStart,h,t,Yt.onDragStart))})},l=(d,f)=>{const h=zo(f),m=yr(f);n||E();const g=!Lx(d,n.lastCritical);g&&(n.lastCritical=d);const x=!_x(n.lastLocation,h);x&&(n.lastLocation=h);const S=!Nx(n.lastCombine,m);if(S&&(n.lastCombine=m),!g&&!x&&!S)return;const j={...Wt(d,n.mode),combine:m,destination:h};r.add(()=>{ht("onDragUpdate",()=>Gr(e().onDragUpdate,j,t,Yt.onDragUpdate))})},c=()=>{n||E(),r.flush()},u=d=>{n||E(),n=null,ht("onDragEnd",()=>Gr(e().onDragEnd,d,t,Yt.onDragEnd))};return{beforeCapture:o,beforeStart:i,start:a,update:l,flush:c,drop:u,abort:()=>{if(!n)return;const d={...Wt(n.lastCritical,n.mode),combine:null,destination:null,reason:"CANCEL"};u(d)}}},Mx=(e,t)=>{const r=$x(e,t);return n=>o=>i=>{if(z(i,"BEFORE_INITIAL_CAPTURE")){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(z(i,"INITIAL_PUBLISH")){const l=i.payload.critical;r.beforeStart(l,i.payload.movementMode),o(i),r.start(l,i.payload.movementMode);return}if(z(i,"DROP_COMPLETE")){const l=i.payload.completed.result;r.flush(),o(i),r.drop(l);return}if(o(i),z(i,"FLUSH")){r.abort();return}const a=n.getState();a.phase==="DRAGGING"&&r.update(a.critical,a.impact)}};const Bx=e=>t=>r=>{if(!z(r,"DROP_ANIMATION_FINISHED")){t(r);return}const n=e.getState();n.phase!=="DROP_ANIMATING"&&E(),e.dispatch(Xo({completed:n.completed}))},Fx=e=>{let t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return o=>i=>{if((z(i,"FLUSH")||z(i,"DROP_COMPLETE")||z(i,"DROP_ANIMATION_FINISHED"))&&n(),o(i),!z(i,"DROP_ANIMATE"))return;const a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(bl())}};r=requestAnimationFrame(()=>{r=null,t=we(window,[a])})}};var kx=e=>()=>t=>r=>{(z(r,"DROP_COMPLETE")||z(r,"FLUSH")||z(r,"DROP_ANIMATE"))&&e.stopPublishing(),t(r)},Wx=e=>{let t=!1;return()=>r=>n=>{if(z(n,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(z(n,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(z(n,"DROP_COMPLETE")){t=!1;const o=n.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const Ux=e=>z(e,"DROP_COMPLETE")||z(e,"DROP_ANIMATE")||z(e,"FLUSH");var Hx=e=>t=>r=>n=>{if(Ux(n)){e.stop(),r(n);return}if(z(n,"INITIAL_PUBLISH")){r(n);const o=t.getState();o.phase!=="DRAGGING"&&E(),e.start(o);return}r(n),e.scroll(t.getState())};const zx=e=>t=>r=>{if(t(r),!z(r,"PUBLISH_WHILE_DRAGGING"))return;const n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(xl({reason:n.reason})))},Gx=Ma;var Vx=({dimensionMarshal:e,focusMarshal:t,styleMarshal:r,getResponders:n,announce:o,autoScroller:i})=>$a(rx,Gx(Bh(yx(r),kx(e),vx(e),Ix,Bx,Fx,zx,Hx(i),Dx,Wx(t),Mx(n,o))));const Vr=()=>({additions:{},removals:{},modified:{}});function qx({registry:e,callbacks:t}){let r=Vr(),n=null;const o=()=>{n||(t.collectionStarting(),n=requestAnimationFrame(()=>{n=null;const{additions:c,removals:u,modified:p}=r,d=Object.keys(c).map(m=>e.draggable.getById(m).getDimension(re)).sort((m,g)=>m.descriptor.index-g.descriptor.index),f=Object.keys(p).map(m=>{const x=e.droppable.getById(m).callbacks.getScrollWhileDragging();return{droppableId:m,scroll:x}}),h={additions:d,removals:Object.keys(u),modified:f};r=Vr(),t.publish(h)}))};return{add:c=>{const u=c.descriptor.id;r.additions[u]=c,r.modified[c.descriptor.droppableId]=!0,r.removals[u]&&delete r.removals[u],o()},remove:c=>{const u=c.descriptor;r.removals[u.id]=!0,r.modified[u.droppableId]=!0,r.additions[u.id]&&delete r.additions[u.id],o()},stop:()=>{n&&(cancelAnimationFrame(n),n=null,r=Vr())}}}var Sl=({scrollHeight:e,scrollWidth:t,height:r,width:n})=>{const o=fe({x:t,y:e},{x:n,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},jl=()=>{const e=document.documentElement;return e||E(),e},El=()=>{const e=jl();return Sl({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Yx=()=>{const e=wl(),t=El(),r=e.y,n=e.x,o=jl(),i=o.clientWidth,a=o.clientHeight,l=n+i,c=r+a;return{frame:Ie({top:r,left:n,right:l,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:re,displacement:re}}}},Jx=({critical:e,scrollOptions:t,registry:r})=>{const n=Yx(),o=n.scroll.current,i=e.droppable,a=r.droppable.getAllByType(i.type).map(p=>p.callbacks.getDimensionAndWatchScroll(o,t)),l=r.draggable.getAllByType(e.draggable.type).map(p=>p.getDimension(o));return{dimensions:{draggables:Qa(l),droppables:Xa(a)},critical:e,viewport:n}};function ai(e,t,r){return!(r.descriptor.id===t.id||r.descriptor.type!==t.type||e.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var Kx=(e,t)=>{let r=null;const n=qx({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=(f,h)=>{e.droppable.exists(f)||E(),r&&t.updateDroppableIsEnabled({id:f,isEnabled:h})},i=(f,h)=>{r&&(e.droppable.exists(f)||E(),t.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:h}))},a=(f,h)=>{r&&(e.droppable.exists(f)||E(),t.updateDroppableScroll({id:f,newScroll:h}))},l=(f,h)=>{r&&e.droppable.getById(f).callbacks.scroll(h)},c=()=>{if(!r)return;n.stop();const f=r.critical.droppable;e.droppable.getAllByType(f.type).forEach(h=>h.callbacks.dragStopped()),r.unsubscribe(),r=null},u=f=>{r||E();const h=r.critical.draggable;f.type==="ADDITION"&&ai(e,h,f.value)&&n.add(f.value),f.type==="REMOVAL"&&ai(e,h,f.value)&&n.remove(f.value)};return{updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:a,startPublishing:f=>{r&&E();const h=e.draggable.getById(f.draggableId),m=e.droppable.getById(h.descriptor.droppableId),g={draggable:h.descriptor,droppable:m.descriptor},x=e.subscribe(u);return r={critical:g,unsubscribe:x},Jx({critical:g,registry:e,scrollOptions:f.scrollOptions})},stopPublishing:c}},Cl=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",Xx=e=>{window.scrollBy(e.x,e.y)};const Qx=te(e=>vr(e).filter(t=>!(!t.isEnabled||!t.frame))),Zx=(e,t)=>Qx(t).find(n=>(n.frame||E(),ll(n.frame.pageMarginBox)(e)))||null;var eb=({center:e,destination:t,droppables:r})=>{if(t){const o=r[t];return o.frame?o:null}return Zx(e,r)};const Rt={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var tb=(e,t,r=()=>Rt)=>{const n=r(),o=e[t.size]*n.startFromPercentage,i=e[t.size]*n.maxScrollAtPercentage;return{startScrollingFrom:o,maxScrollValueAt:i}},Il=({startOfRange:e,endOfRange:t,current:r})=>{const n=t-e;return n===0?0:(r-e)/n},Zo=1,rb=(e,t,r=()=>Rt)=>{const n=r();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return n.maxPixelScroll;if(e===t.startScrollingFrom)return Zo;const i=1-Il({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),a=n.maxPixelScroll*n.ease(i);return Math.ceil(a)},nb=(e,t,r)=>{const n=r(),o=n.durationDampening.accelerateAt,i=n.durationDampening.stopDampeningAt,a=t,l=i,u=Date.now()-a;if(u>=i)return e;if(u<o)return Zo;const p=Il({startOfRange:o,endOfRange:l,current:u}),d=e*n.ease(p);return Math.ceil(d)},li=({distanceToEdge:e,thresholds:t,dragStartTime:r,shouldUseTimeDampening:n,getAutoScrollerOptions:o})=>{const i=rb(e,t,o);return i===0?0:n?Math.max(nb(i,r,o),Zo):i},ci=({container:e,distanceToEdges:t,dragStartTime:r,axis:n,shouldUseTimeDampening:o,getAutoScrollerOptions:i})=>{const a=tb(e,n,i);return t[n.end]<t[n.start]?li({distanceToEdge:t[n.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i}):-1*li({distanceToEdge:t[n.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i})},ob=({container:e,subject:t,proposedScroll:r})=>{const n=t.height>e.height,o=t.width>e.width;return!o&&!n?r:o&&n?null:{x:o?0:r.x,y:n?0:r.y}};const sb=Ka(e=>e===0?0:e);var Rl=({dragStartTime:e,container:t,subject:r,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:i})=>{const a={top:n.y-t.top,right:t.right-n.x,bottom:t.bottom-n.y,left:n.x-t.left},l=ci({container:t,distanceToEdges:a,dragStartTime:e,axis:Go,shouldUseTimeDampening:o,getAutoScrollerOptions:i}),c=ci({container:t,distanceToEdges:a,dragStartTime:e,axis:tl,shouldUseTimeDampening:o,getAutoScrollerOptions:i}),u=sb({x:c,y:l});if(Fe(u,re))return null;const p=ob({container:t,subject:r,proposedScroll:u});return p?Fe(p,re)?null:p:null};const ib=Ka(e=>e===0?0:e>0?1:-1),es=(()=>{const e=(t,r)=>t<0?t:t>r?t-r:0;return({current:t,max:r,change:n})=>{const o=oe(t,n),i={x:e(o.x,r.x),y:e(o.y,r.y)};return Fe(i,re)?null:i}})(),Al=({max:e,current:t,change:r})=>{const n={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},o=ib(r),i=es({max:n,current:t,change:o});return!i||o.x!==0&&i.x===0||o.y!==0&&i.y===0},ts=(e,t)=>Al({current:e.scroll.current,max:e.scroll.max,change:t}),ab=(e,t)=>{if(!ts(e,t))return null;const r=e.scroll.max,n=e.scroll.current;return es({current:n,max:r,change:t})},rs=(e,t)=>{const r=e.frame;return r?Al({current:r.scroll.current,max:r.scroll.max,change:t}):!1},lb=(e,t)=>{const r=e.frame;return!r||!rs(e,t)?null:es({current:r.scroll.current,max:r.scroll.max,change:t})};var cb=({viewport:e,subject:t,center:r,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:i})=>{const a=Rl({dragStartTime:n,container:e.frame,subject:t,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i});return a&&ts(e,a)?a:null},db=({droppable:e,subject:t,center:r,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:i})=>{const a=e.frame;if(!a)return null;const l=Rl({dragStartTime:n,container:a.pageMarginBox,subject:t,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i});return l&&rs(e,l)?l:null},di=({state:e,dragStartTime:t,shouldUseTimeDampening:r,scrollWindow:n,scrollDroppable:o,getAutoScrollerOptions:i})=>{const a=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const d=e.viewport,f=cb({dragStartTime:t,viewport:d,subject:c,center:a,shouldUseTimeDampening:r,getAutoScrollerOptions:i});if(f){n(f);return}}const u=eb({center:a,destination:he(e.impact),droppables:e.dimensions.droppables});if(!u)return;const p=db({dragStartTime:t,droppable:u,subject:c,center:a,shouldUseTimeDampening:r,getAutoScrollerOptions:i});p&&o(u.descriptor.id,p)},ub=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r=()=>Rt})=>{const n=St(e),o=St(t);let i=null;const a=u=>{i||E();const{shouldUseTimeDampening:p,dragStartTime:d}=i;di({state:u,scrollWindow:n,scrollDroppable:o,dragStartTime:d,shouldUseTimeDampening:p,getAutoScrollerOptions:r})};return{start:u=>{i&&E();const p=Date.now();let d=!1;const f=()=>{d=!0};di({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f,getAutoScrollerOptions:r}),i={dragStartTime:p,shouldUseTimeDampening:d},d&&a(u)},stop:()=>{i&&(n.cancel(),o.cancel(),i=null)},scroll:a}},pb=({move:e,scrollDroppable:t,scrollWindow:r})=>{const n=(l,c)=>{const u=oe(l.current.client.selection,c);e({client:u})},o=(l,c)=>{if(!rs(l,c))return c;const u=lb(l,c);if(!u)return t(l.descriptor.id,c),null;const p=fe(c,u);return t(l.descriptor.id,p),fe(c,p)},i=(l,c,u)=>{if(!l||!ts(c,u))return u;const p=ab(c,u);if(!p)return r(u),null;const d=fe(u,p);return r(d),fe(u,d)};return l=>{const c=l.scrollJumpRequest;if(!c)return;const u=he(l.impact);u||E();const p=o(l.dimensions.droppables[u],c);if(!p)return;const d=l.viewport,f=i(l.isWindowScrollAllowed,d,p);f&&n(l,f)}},fb=({scrollDroppable:e,scrollWindow:t,move:r,getAutoScrollerOptions:n})=>{const o=ub({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n}),i=pb({move:r,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(n().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){o.scroll(c);return}c.scrollJumpRequest&&i(c)}},start:o.start,stop:o.stop}};const Qe="data-rfd",Ze=(()=>{const e=`${Qe}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),xn=(()=>{const e=`${Qe}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),hb=(()=>{const e=`${Qe}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),ui={contextId:`${Qe}-scroll-container-context-id`},mb=e=>t=>`[${t}="${e}"]`,mt=(e,t)=>e.map(r=>{const n=r.styles[t];return n?`${r.selector} { ${n} }`:""}).join(" "),gb="pointer-events: none;";var xb=e=>{const t=mb(e),r=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Ze.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:gb,dropAnimating:l}}})(),n=(()=>{const l=`
      transition: ${vt.outOfTheWay};
    `;return{selector:t(xn.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),o={selector:t(hb.contextId),styles:{always:"overflow-anchor: none;"}},a=[n,r,o,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:mt(a,"always"),resting:mt(a,"resting"),dragging:mt(a,"dragging"),dropAnimating:mt(a,"dropAnimating"),userCancel:mt(a,"userCancel")}};const me=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?b.useLayoutEffect:b.useEffect,qr=()=>{const e=document.querySelector("head");return e||E(),e},pi=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function bb(e,t){const r=W(()=>xb(e),[e]),n=b.useRef(null),o=b.useRef(null),i=P(te(d=>{const f=o.current;f||E(),f.textContent=d}),[]),a=P(d=>{const f=n.current;f||E(),f.textContent=d},[]);me(()=>{!n.current&&!o.current||E();const d=pi(t),f=pi(t);return n.current=d,o.current=f,d.setAttribute(`${Qe}-always`,e),f.setAttribute(`${Qe}-dynamic`,e),qr().appendChild(d),qr().appendChild(f),a(r.always),i(r.resting),()=>{const h=m=>{const g=m.current;g||E(),qr().removeChild(g),m.current=null};h(n),h(o)}},[t,a,i,r.always,r.resting,e]);const l=P(()=>i(r.dragging),[i,r.dragging]),c=P(d=>{if(d==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),u=P(()=>{o.current&&i(r.resting)},[i,r.resting]);return W(()=>({dragging:l,dropping:c,resting:u}),[l,c,u])}function Tl(e,t){return Array.from(e.querySelectorAll(t))}var Dl=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function jr(e){return e instanceof Dl(e).HTMLElement}function vb(e,t){const r=`[${Ze.contextId}="${e}"]`,n=Tl(document,r);if(!n.length)return null;const o=n.find(i=>i.getAttribute(Ze.draggableId)===t);return!o||!jr(o)?null:o}function yb(e){const t=b.useRef({}),r=b.useRef(null),n=b.useRef(null),o=b.useRef(!1),i=P(function(f,h){const m={id:f,focus:h};return t.current[f]=m,function(){const x=t.current;x[f]!==m&&delete x[f]}},[]),a=P(function(f){const h=vb(e,f);h&&h!==document.activeElement&&h.focus()},[e]),l=P(function(f,h){r.current===f&&(r.current=h)},[]),c=P(function(){n.current||o.current&&(n.current=requestAnimationFrame(()=>{n.current=null;const f=r.current;f&&a(f)}))},[a]),u=P(function(f){r.current=null;const h=document.activeElement;h&&h.getAttribute(Ze.draggableId)===f&&(r.current=f)},[]);return me(()=>(o.current=!0,function(){o.current=!1;const f=n.current;f&&cancelAnimationFrame(f)}),[]),W(()=>({register:i,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[i,u,c,l])}function wb(){const e={draggables:{},droppables:{}},t=[];function r(d){return t.push(d),function(){const h=t.indexOf(d);h!==-1&&t.splice(h,1)}}function n(d){t.length&&t.forEach(f=>f(d))}function o(d){return e.draggables[d]||null}function i(d){const f=o(d);return f||E(),f}const a={register:d=>{e.draggables[d.descriptor.id]=d,n({type:"ADDITION",value:d})},update:(d,f)=>{const h=e.draggables[f.descriptor.id];h&&h.uniqueId===d.uniqueId&&(delete e.draggables[f.descriptor.id],e.draggables[d.descriptor.id]=d)},unregister:d=>{const f=d.descriptor.id,h=o(f);h&&d.uniqueId===h.uniqueId&&(delete e.draggables[f],e.droppables[d.descriptor.droppableId]&&n({type:"REMOVAL",value:d}))},getById:i,findById:o,exists:d=>!!o(d),getAllByType:d=>Object.values(e.draggables).filter(f=>f.descriptor.type===d)};function l(d){return e.droppables[d]||null}function c(d){const f=l(d);return f||E(),f}const u={register:d=>{e.droppables[d.descriptor.id]=d},unregister:d=>{const f=l(d.descriptor.id);f&&d.uniqueId===f.uniqueId&&delete e.droppables[d.descriptor.id]},getById:c,findById:l,exists:d=>!!l(d),getAllByType:d=>Object.values(e.droppables).filter(f=>f.descriptor.type===d)};function p(){e.draggables={},e.droppables={},t.length=0}return{draggable:a,droppable:u,subscribe:r,clean:p}}function Sb(){const e=W(wb,[]);return b.useEffect(()=>function(){e.clean()},[e]),e}var ns=V.createContext(null),or=()=>{const e=document.body;return e||E(),e};const jb={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Eb=e=>`rfd-announcement-${e}`;function Cb(e){const t=W(()=>Eb(e),[e]),r=b.useRef(null);return b.useEffect(function(){const i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),Ti(i.style,jb),or().appendChild(i),function(){setTimeout(function(){const c=or();c.contains(i)&&c.removeChild(i),i===r.current&&(r.current=null)})}},[t]),P(o=>{const i=r.current;if(i){i.textContent=o;return}},[])}const Ib={separator:"::"};function os(e,t=Ib){const r=V.useId();return W(()=>`${e}${t.separator}${r}`,[t.separator,e,r])}function Rb({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function Ab({contextId:e,text:t}){const r=os("hidden-text",{separator:"-"}),n=W(()=>Rb({contextId:e,uniqueId:r}),[r,e]);return b.useEffect(function(){const i=document.createElement("div");return i.id=n,i.textContent=t,i.style.display="none",or().appendChild(i),function(){const l=or();l.contains(i)&&l.removeChild(i)}},[n,t]),n}var Er=V.createContext(null);function Pl(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),t}function Tb(){let e=null;function t(){return!!e}function r(a){return a===e}function n(a){e&&E();const l={abandon:a};return e=l,l}function o(){e||E(),e=null}function i(){e&&(e.abandon(),o())}return{isClaimed:t,isActive:r,claim:n,release:o,tryAbandon:i}}function At(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const Db=9,Pb=13,ss=27,Ol=32,Ob=33,_b=34,Nb=35,Lb=36,$b=37,Mb=38,Bb=39,Fb=40,kb={[Pb]:!0,[Db]:!0};var _l=e=>{kb[e.keyCode]&&e.preventDefault()};const Cr=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(n=>`on${n}`in document)||e})(),Nl=0,fi=5;function Wb(e,t){return Math.abs(t.x-e.x)>=fi||Math.abs(t.y-e.y)>=fi}const hi={type:"IDLE"};function Ub({cancel:e,completed:t,getPhase:r,setPhase:n}){return[{eventName:"mousemove",fn:o=>{const{button:i,clientX:a,clientY:l}=o;if(i!==Nl)return;const c={x:a,y:l},u=r();if(u.type==="DRAGGING"){o.preventDefault(),u.actions.move(c);return}u.type!=="PENDING"&&E();const p=u.point;if(!Wb(p,c))return;o.preventDefault();const d=u.actions.fluidLift(c);n({type:"DRAGGING",actions:d})}},{eventName:"mouseup",fn:o=>{const i=r();if(i.type!=="DRAGGING"){e();return}o.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:o=>{r().type==="DRAGGING"&&o.preventDefault(),e()}},{eventName:"keydown",fn:o=>{if(r().type==="PENDING"){e();return}if(o.keyCode===ss){o.preventDefault(),e();return}_l(o)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:o=>{const i=r();if(i.type==="IDLE"&&E(),i.actions.shouldRespectForcePress()){e();return}o.preventDefault()}},{eventName:Cr,fn:e}]}function Hb(e){const t=b.useRef(hi),r=b.useRef(Be),n=W(()=>({eventName:"mousedown",fn:function(d){if(d.defaultPrevented||d.button!==Nl||d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)return;const f=e.findClosestDraggableId(d);if(!f)return;const h=e.tryGetLock(f,a,{sourceEvent:d});if(!h)return;d.preventDefault();const m={x:d.clientX,y:d.clientY};r.current(),u(h,m)}}),[e]),o=W(()=>({eventName:"webkitmouseforcewillbegin",fn:p=>{if(p.defaultPrevented)return;const d=e.findClosestDraggableId(p);if(!d)return;const f=e.findOptionsForDraggable(d);f&&(f.shouldRespectForcePress||e.canGetLock(d)&&p.preventDefault())}}),[e]),i=P(function(){const d={passive:!1,capture:!0};r.current=we(window,[o,n],d)},[o,n]),a=P(()=>{t.current.type!=="IDLE"&&(t.current=hi,r.current(),i())},[i]),l=P(()=>{const p=t.current;a(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[a]),c=P(function(){const d={capture:!0,passive:!1},f=Ub({cancel:l,completed:a,getPhase:()=>t.current,setPhase:h=>{t.current=h}});r.current=we(window,f,d)},[l,a]),u=P(function(d,f){t.current.type!=="IDLE"&&E(),t.current={type:"PENDING",point:f,actions:d},c()},[c]);me(function(){return i(),function(){r.current()}},[i])}function zb(){}const Gb={[_b]:!0,[Ob]:!0,[Lb]:!0,[Nb]:!0};function Vb(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:o=>{if(o.keyCode===ss){o.preventDefault(),r();return}if(o.keyCode===Ol){o.preventDefault(),n();return}if(o.keyCode===Fb){o.preventDefault(),e.moveDown();return}if(o.keyCode===Mb){o.preventDefault(),e.moveUp();return}if(o.keyCode===Bb){o.preventDefault(),e.moveRight();return}if(o.keyCode===$b){o.preventDefault(),e.moveLeft();return}if(Gb[o.keyCode]){o.preventDefault();return}_l(o)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Cr,fn:r}]}function qb(e){const t=b.useRef(zb),r=W(()=>({eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==Ol)return;const a=e.findClosestDraggableId(i);if(!a)return;const l=e.tryGetLock(a,p,{sourceEvent:i});if(!l)return;i.preventDefault();let c=!0;const u=l.snapLift();t.current();function p(){c||E(),c=!1,t.current(),n()}t.current=we(window,Vb(u,p),{capture:!0,passive:!1})}}),[e]),n=P(function(){const i={passive:!1,capture:!0};t.current=we(window,[r],i)},[r]);me(function(){return n(),function(){t.current()}},[n])}const Yr={type:"IDLE"},Yb=120,Jb=.15;function Kb({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(t().type!=="DRAGGING"){e();return}r.keyCode===ss&&r.preventDefault(),e()}},{eventName:Cr,fn:e}]}function Xb({cancel:e,completed:t,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:n=>{const o=r();if(o.type!=="DRAGGING"){e();return}o.hasMoved=!0;const{clientX:i,clientY:a}=n.touches[0],l={x:i,y:a};n.preventDefault(),o.actions.move(l)}},{eventName:"touchend",fn:n=>{const o=r();if(o.type!=="DRAGGING"){e();return}n.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:n=>{if(r().type!=="DRAGGING"){e();return}n.preventDefault(),e()}},{eventName:"touchforcechange",fn:n=>{const o=r();o.type==="IDLE"&&E();const i=n.touches[0];if(!i||!(i.force>=Jb))return;const l=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){l&&e();return}if(l){if(o.hasMoved){n.preventDefault();return}e();return}n.preventDefault()}},{eventName:Cr,fn:e}]}function Qb(e){const t=b.useRef(Yr),r=b.useRef(Be),n=P(function(){return t.current},[]),o=P(function(h){t.current=h},[]),i=W(()=>({eventName:"touchstart",fn:function(h){if(h.defaultPrevented)return;const m=e.findClosestDraggableId(h);if(!m)return;const g=e.tryGetLock(m,l,{sourceEvent:h});if(!g)return;const x=h.touches[0],{clientX:S,clientY:j}=x,I={x:S,y:j};r.current(),d(g,I)}}),[e]),a=P(function(){const h={capture:!0,passive:!1};r.current=we(window,[i],h)},[i]),l=P(()=>{const f=t.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),o(Yr),r.current(),a())},[a,o]),c=P(()=>{const f=t.current;l(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[l]),u=P(function(){const h={capture:!0,passive:!1},m={cancel:c,completed:l,getPhase:n},g=we(window,Xb(m),h),x=we(window,Kb(m),h);r.current=function(){g(),x()}},[c,n,l]),p=P(function(){const h=n();h.type!=="PENDING"&&E();const m=h.actions.fluidLift(h.point);o({type:"DRAGGING",actions:m,hasMoved:!1})},[n,o]),d=P(function(h,m){n().type!=="IDLE"&&E();const g=setTimeout(p,Yb);o({type:"PENDING",point:m,actions:h,longPressTimerId:g}),u()},[u,n,o,p]);me(function(){return a(),function(){r.current();const m=n();m.type==="PENDING"&&(clearTimeout(m.longPressTimerId),o(Yr))}},[n,a,o]),me(function(){return we(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const Zb=["input","button","textarea","select","option","optgroup","video","audio"];function Ll(e,t){if(t==null)return!1;if(Zb.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:Ll(e,t.parentElement)}function ev(e,t){const r=t.target;return jr(r)?Ll(e,r):!1}var tv=e=>Ie(e.getBoundingClientRect()).center;function rv(e){return e instanceof Dl(e).Element}const nv=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(n=>n in Element.prototype)||e})();function $l(e,t){return e==null?null:e[nv](t)?e:$l(e.parentElement,t)}function ov(e,t){return e.closest?e.closest(t):$l(e,t)}function sv(e){return`[${Ze.contextId}="${e}"]`}function iv(e,t){const r=t.target;if(!rv(r))return null;const n=sv(e),o=ov(r,n);return!o||!jr(o)?null:o}function av(e,t){const r=iv(e,t);return r?r.getAttribute(Ze.draggableId):null}function lv(e,t){const r=`[${xn.contextId}="${e}"]`,o=Tl(document,r).find(i=>i.getAttribute(xn.id)===t);return!o||!jr(o)?null:o}function cv(e){e.preventDefault()}function Ut({expected:e,phase:t,isLockActive:r,shouldWarn:n}){return!(!r()||e!==t)}function Ml({lockAPI:e,store:t,registry:r,draggableId:n}){if(e.isClaimed())return!1;const o=r.draggable.findById(n);return!(!o||!o.options.isEnabled||!Cl(t.getState(),n))}function dv({lockAPI:e,contextId:t,store:r,registry:n,draggableId:o,forceSensorStop:i,sourceEvent:a}){if(!Ml({lockAPI:e,store:r,registry:n,draggableId:o}))return null;const c=n.draggable.getById(o),u=lv(t,c.descriptor.id);if(!u||a&&!c.options.canDragInteractiveElements&&ev(u,a))return null;const p=e.claim(i||Be);let d="PRE_DRAG";function f(){return c.options.shouldRespectForcePress}function h(){return e.isActive(p)}function m(R,T){Ut({expected:R,phase:d,isLockActive:h,shouldWarn:!0})&&r.dispatch(T())}const g=m.bind(null,"DRAGGING");function x(R){function T(){e.release(),d="COMPLETED"}d!=="PRE_DRAG"&&(T(),E()),r.dispatch(ox(R.liftActionArgs)),d="DRAGGING";function F(k,_={shouldBlockNextClick:!1}){if(R.cleanup(),_.shouldBlockNextClick){const A=we(window,[{eventName:"click",fn:cv,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(A)}T(),r.dispatch(xl({reason:k}))}return{isActive:()=>Ut({expected:"DRAGGING",phase:d,isLockActive:h,shouldWarn:!1}),shouldRespectForcePress:f,drop:k=>F("DROP",k),cancel:k=>F("CANCEL",k),...R.actions}}function S(R){const T=St(k=>{g(()=>gl({client:k}))});return{...x({liftActionArgs:{id:o,clientSelection:R,movementMode:"FLUID"},cleanup:()=>T.cancel(),actions:{move:T}}),move:T}}function j(){const R={moveUp:()=>g(fx),moveRight:()=>g(mx),moveDown:()=>g(hx),moveLeft:()=>g(gx)};return x({liftActionArgs:{id:o,clientSelection:tv(u),movementMode:"SNAP"},cleanup:Be,actions:R})}function I(){Ut({expected:"PRE_DRAG",phase:d,isLockActive:h,shouldWarn:!0})&&e.release()}return{isActive:()=>Ut({expected:"PRE_DRAG",phase:d,isLockActive:h,shouldWarn:!1}),shouldRespectForcePress:f,fluidLift:S,snapLift:j,abort:I}}const uv=[Hb,qb,Qb];function pv({contextId:e,store:t,registry:r,customSensors:n,enableDefaultSensors:o}){const i=[...o?uv:[],...n||[]],a=b.useState(()=>Tb())[0],l=P(function(x,S){At(x)&&!At(S)&&a.tryAbandon()},[a]);me(function(){let x=t.getState();return t.subscribe(()=>{const j=t.getState();l(x,j),x=j})},[a,t,l]),me(()=>a.tryAbandon,[a.tryAbandon]);const c=P(g=>Ml({lockAPI:a,registry:r,store:t,draggableId:g}),[a,r,t]),u=P((g,x,S)=>dv({lockAPI:a,registry:r,contextId:e,store:t,draggableId:g,forceSensorStop:x||null,sourceEvent:S&&S.sourceEvent?S.sourceEvent:null}),[e,a,r,t]),p=P(g=>av(e,g),[e]),d=P(g=>{const x=r.draggable.findById(g);return x?x.options:null},[r.draggable]),f=P(function(){a.isClaimed()&&(a.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Ko()))},[a,t]),h=P(()=>a.isClaimed(),[a]),m=W(()=>({canGetLock:c,tryGetLock:u,findClosestDraggableId:p,findOptionsForDraggable:d,tryReleaseLock:f,isLockClaimed:h}),[c,u,p,d,f,h]);for(let g=0;g<i.length;g++)i[g](m)}const fv=e=>({onBeforeCapture:t=>{const r=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};vn.flushSync(r)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),hv=e=>({...Rt,...e.autoScrollerOptions,durationDampening:{...Rt.durationDampening,...e.autoScrollerOptions}});function gt(e){return e.current||E(),e.current}function mv(e){const{contextId:t,setCallbacks:r,sensors:n,nonce:o,dragHandleUsageInstructions:i}=e,a=b.useRef(null),l=Pl(e),c=P(()=>fv(l.current),[l]),u=P(()=>hv(l.current),[l]),p=Cb(t),d=Ab({contextId:t,text:i}),f=bb(t,o),h=P(A=>{gt(a).dispatch(A)},[]),m=W(()=>Ws({publishWhileDragging:ix,updateDroppableScroll:lx,updateDroppableIsEnabled:cx,updateDroppableIsCombineEnabled:dx,collectionStarting:ax},h),[h]),g=Sb(),x=W(()=>Kx(g,m),[g,m]),S=W(()=>fb({scrollWindow:Xx,scrollDroppable:x.scrollDroppable,getAutoScrollerOptions:u,...Ws({move:gl},h)}),[x.scrollDroppable,h,u]),j=yb(t),I=W(()=>Vx({announce:p,autoScroller:S,dimensionMarshal:x,focusMarshal:j,getResponders:c,styleMarshal:f}),[p,S,x,j,c,f]);a.current=I;const D=P(()=>{const A=gt(a);A.getState().phase!=="IDLE"&&A.dispatch(Ko())},[]),R=P(()=>{const A=gt(a).getState();return A.phase==="DROP_ANIMATING"?!0:A.phase==="IDLE"?!1:A.isDragging},[]),T=W(()=>({isDragging:R,tryAbort:D}),[R,D]);r(T);const F=P(A=>Cl(gt(a).getState(),A),[]),k=P(()=>Ue(gt(a).getState()),[]),_=W(()=>({marshal:x,focus:j,contextId:t,canLift:F,isMovementAllowed:k,dragHandleUsageInstructionsId:d,registry:g}),[t,x,d,j,F,k,g]);return pv({contextId:t,store:I,registry:g,customSensors:n||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),b.useEffect(()=>D,[D]),V.createElement(Er.Provider,{value:_},V.createElement(Fm,{context:ns,store:I},e.children))}function gv(){return V.useId()}function xv(e){const t=gv(),r=e.dragHandleUsageInstructions||Yt.dragHandleUsageInstructions;return V.createElement(Ym,null,n=>V.createElement(mv,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const mi={dragging:5e3,dropAnimating:4500},bv=(e,t)=>t?vt.drop(t.duration):e?vt.snap:vt.fluid,vv=(e,t)=>{if(e)return t?It.opacity.drop:It.opacity.combining},yv=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function wv(e){const r=e.dimension.client,{offset:n,combineWith:o,dropping:i}=e,a=!!o,l=yv(e),c=!!i,u=c?mn.drop(n,a):mn.moveTo(n);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:bv(l,i),transform:u,opacity:vv(a,c),zIndex:c?mi.dropAnimating:mi.dragging,pointerEvents:"none"}}function Sv(e){return{transform:mn.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function jv(e){return e.type==="DRAGGING"?wv(e):Sv(e)}function Ev(e,t,r=re){const n=window.getComputedStyle(t),o=t.getBoundingClientRect(),i=Ga(o,n),a=er(i,r),l={client:i,tagName:t.tagName.toLowerCase(),display:n.display},c={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:c,client:i,page:a}}function Cv(e){const t=os("draggable"),{descriptor:r,registry:n,getDraggableRef:o,canDragInteractiveElements:i,shouldRespectForcePress:a,isEnabled:l}=e,c=W(()=>({canDragInteractiveElements:i,shouldRespectForcePress:a,isEnabled:l}),[i,l,a]),u=P(h=>{const m=o();return m||E(),Ev(r,m,h)},[r,o]),p=W(()=>({uniqueId:t,descriptor:r,options:c,getDimension:u}),[r,u,c,t]),d=b.useRef(p),f=b.useRef(!0);me(()=>(n.draggable.register(d.current),()=>n.draggable.unregister(d.current)),[n.draggable]),me(()=>{if(f.current){f.current=!1;return}const h=d.current;d.current=p,n.draggable.update(p,h)},[p,n.draggable])}var is=V.createContext(null);function sr(e){const t=b.useContext(e);return t||E(),t}function Iv(e){e.preventDefault()}const Rv=e=>{const t=b.useRef(null),r=P((T=null)=>{t.current=T},[]),n=P(()=>t.current,[]),{contextId:o,dragHandleUsageInstructionsId:i,registry:a}=sr(Er),{type:l,droppableId:c}=sr(is),u=W(()=>({id:e.draggableId,index:e.index,type:l,droppableId:c}),[e.draggableId,e.index,l,c]),{children:p,draggableId:d,isEnabled:f,shouldRespectForcePress:h,canDragInteractiveElements:m,isClone:g,mapped:x,dropAnimationFinished:S}=e;if(!g){const T=W(()=>({descriptor:u,registry:a,getDraggableRef:n,canDragInteractiveElements:m,shouldRespectForcePress:h,isEnabled:f}),[u,a,n,m,h,f]);Cv(T)}const j=W(()=>f?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":d,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:Iv}:null,[o,i,d,f]),I=P(T=>{x.type==="DRAGGING"&&x.dropping&&T.propertyName==="transform"&&vn.flushSync(S)},[S,x]),D=W(()=>{const T=jv(x),F=x.type==="DRAGGING"&&x.dropping?I:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":d,style:T,onTransitionEnd:F},dragHandleProps:j}},[o,j,d,x,I,r]),R=W(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return V.createElement(V.Fragment,null,p(D,x.snapshot,R))};var Bl=(e,t)=>e===t,Fl=e=>{const{combine:t,destination:r}=e;return r?r.droppableId:t?t.droppableId:null};const Av=e=>e.combine?e.combine.draggableId:null,Tv=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function Dv(){const e=te((o,i)=>({x:o,y:i})),t=te((o,i,a=null,l=null,c=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:o,draggingOver:a,combineWith:l,combineTargetFor:null})),r=te((o,i,a,l,c=null,u=null,p=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:i,offset:o,dimension:a,forceShouldAnimate:p,snapshot:t(i,l,c,u,null)}}));return(o,i)=>{if(At(o)){if(o.critical.draggable.id!==i.draggableId)return null;const a=o.current.client.offset,l=o.dimensions.draggables[i.draggableId],c=he(o.impact),u=Tv(o.impact),p=o.forceShouldAnimate;return r(e(a.x,a.y),o.movementMode,l,i.isClone,c,u,p)}if(o.phase==="DROP_ANIMATING"){const a=o.completed;if(a.result.draggableId!==i.draggableId)return null;const l=i.isClone,c=o.dimensions.draggables[i.draggableId],u=a.result,p=u.mode,d=Fl(u),f=Av(u),m={duration:o.dropDuration,curve:Qo.drop,moveTo:o.newHomeClientOffset,opacity:f?It.opacity.drop:null,scale:f?It.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:c,dropping:m,draggingOver:d,combineWith:f,mode:p,forceShouldAnimate:null,snapshot:t(p,l,d,f,m)}}}return null}}function kl(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const Pv={mapped:{type:"SECONDARY",offset:re,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:kl(null)}};function Ov(){const e=te((a,l)=>({x:a,y:l})),t=te(kl),r=te((a,l=null,c)=>({mapped:{type:"SECONDARY",offset:a,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}})),n=a=>a?r(re,a,!0):null,o=(a,l,c,u)=>{const p=c.displaced.visible[a],d=!!(u.inVirtualList&&u.effected[a]),f=yr(c),h=f&&f.draggableId===a?l:null;if(!p){if(!d)return n(h);if(c.displaced.invisible[a])return null;const x=st(u.displacedBy.point),S=e(x.x,x.y);return r(S,h,!0)}if(d)return n(h);const m=c.displacedBy.point,g=e(m.x,m.y);return r(g,h,p.shouldAnimate)};return(a,l)=>{if(At(a))return a.critical.draggable.id===l.draggableId?null:o(l.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){const c=a.completed;return c.result.draggableId===l.draggableId?null:o(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const _v=()=>{const e=Dv(),t=Ov();return(n,o)=>e(n,o)||t(n,o)||Pv},Nv={dropAnimationFinished:bl},Lv=Ha(_v,Nv,null,{context:ns,areStatePropsEqual:Bl})(Rv);function Wl(e){return sr(is).isUsingCloneFor===e.draggableId&&!e.isClone?null:V.createElement(Lv,e)}function $v(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return V.createElement(Wl,Ti({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}const Ul=e=>t=>e===t,Mv=Ul("scroll"),Bv=Ul("auto"),gi=(e,t)=>t(e.overflowX)||t(e.overflowY),Fv=e=>{const t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return gi(r,Mv)||gi(r,Bv)},kv=()=>!1,Hl=e=>e==null?null:e===document.body?kv()?e:null:e===document.documentElement?null:Fv(e)?e:Hl(e.parentElement);var bn=e=>({x:e.scrollLeft,y:e.scrollTop});const zl=e=>e?window.getComputedStyle(e).position==="fixed"?!0:zl(e.parentElement):!1;var Wv=e=>{const t=Hl(e),r=zl(e);return{closestScrollable:t,isFixedOnPage:r}},Uv=({descriptor:e,isEnabled:t,isCombineEnabled:r,isFixedOnPage:n,direction:o,client:i,page:a,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:f,client:h}=l,m=Sl({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:h.paddingBox.height,width:h.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:h,scrollSize:f,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:m,diff:{value:re,displacement:re}}}})(),u=o==="vertical"?Go:tl,p=Xe({page:a,withPlaceholder:null,axis:u,frame:c});return{descriptor:e,isCombineEnabled:r,isFixedOnPage:n,axis:u,isEnabled:t,client:i,page:a,frame:c,subject:p}};const Hv=(e,t)=>{const r=Va(e);if(!t||e!==t)return r;const n=r.paddingBox.top-t.scrollTop,o=r.paddingBox.left-t.scrollLeft,i=n+t.scrollHeight,a=o+t.scrollWidth,c=Wo({top:n,right:a,bottom:i,left:o},r.border);return Uo({borderBox:c,margin:r.margin,border:r.border,padding:r.padding})};var zv=({ref:e,descriptor:t,env:r,windowScroll:n,direction:o,isDropDisabled:i,isCombineEnabled:a,shouldClipSubject:l})=>{const c=r.closestScrollable,u=Hv(e,c),p=er(u,n),d=(()=>{if(!c)return null;const h=Va(c),m={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:h,page:er(h,n),scroll:bn(c),scrollSize:m,shouldClipSubject:l}})();return Uv({descriptor:t,isEnabled:!i,isCombineEnabled:a,isFixedOnPage:r.isFixedOnPage,direction:o,client:u,page:p,closest:d})};const Gv={passive:!1},Vv={passive:!0};var xi=e=>e.shouldPublishImmediately?Gv:Vv;const Ht=e=>e&&e.env.closestScrollable||null;function qv(e){const t=b.useRef(null),r=sr(Er),n=os("droppable"),{registry:o,marshal:i}=r,a=Pl(e),l=W(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=b.useRef(l),u=W(()=>te((D,R)=>{t.current||E();const T={x:D,y:R};i.updateDroppableScroll(l.id,T)}),[l.id,i]),p=P(()=>{const D=t.current;return!D||!D.env.closestScrollable?re:bn(D.env.closestScrollable)},[]),d=P(()=>{const D=p();u(D.x,D.y)},[p,u]),f=W(()=>St(d),[d]),h=P(()=>{const D=t.current,R=Ht(D);if(D&&R||E(),D.scrollOptions.shouldPublishImmediately){d();return}f()},[f,d]),m=P((D,R)=>{t.current&&E();const T=a.current,F=T.getDroppableRef();F||E();const k=Wv(F),_={ref:F,descriptor:l,env:k,scrollOptions:R};t.current=_;const A=zv({ref:F,descriptor:l,env:k,windowScroll:D,direction:T.direction,isDropDisabled:T.isDropDisabled,isCombineEnabled:T.isCombineEnabled,shouldClipSubject:!T.ignoreContainerClipping}),G=k.closestScrollable;return G&&(G.setAttribute(ui.contextId,r.contextId),G.addEventListener("scroll",h,xi(_.scrollOptions))),A},[r.contextId,l,h,a]),g=P(()=>{const D=t.current,R=Ht(D);return D&&R||E(),bn(R)},[]),x=P(()=>{const D=t.current;D||E();const R=Ht(D);t.current=null,R&&(f.cancel(),R.removeAttribute(ui.contextId),R.removeEventListener("scroll",h,xi(D.scrollOptions)))},[h,f]),S=P(D=>{const R=t.current;R||E();const T=Ht(R);T||E(),T.scrollTop+=D.y,T.scrollLeft+=D.x},[]),j=W(()=>({getDimensionAndWatchScroll:m,getScrollWhileDragging:g,dragStopped:x,scroll:S}),[x,m,g,S]),I=W(()=>({uniqueId:n,descriptor:l,callbacks:j}),[j,l,n]);me(()=>(c.current=I.descriptor,o.droppable.register(I),()=>{t.current&&x(),o.droppable.unregister(I)}),[j,l,x,I,i,o.droppable]),me(()=>{t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),me(()=>{t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function Jr(){}const bi={width:0,height:0,margin:eg},Yv=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>e||r==="close"?bi:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},Jv=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>{const n=Yv({isAnimatingOpenOnMount:e,placeholder:t,animate:r});return{display:t.display,boxSizing:"border-box",width:n.width,height:n.height,marginTop:n.margin.top,marginRight:n.margin.right,marginBottom:n.margin.bottom,marginLeft:n.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?vt.placeholder:null}},Kv=e=>{const t=b.useRef(null),r=P(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:n,onTransitionEnd:o,onClose:i,contextId:a}=e,[l,c]=b.useState(e.animate==="open");b.useEffect(()=>l?n!=="open"?(r(),c(!1),Jr):t.current?Jr:(t.current=setTimeout(()=>{t.current=null,c(!1)}),r):Jr,[n,l,r]);const u=P(d=>{d.propertyName==="height"&&(o(),n==="close"&&i())},[n,i,o]),p=Jv({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return V.createElement(e.placeholder.tagName,{style:p,"data-rfd-placeholder-context-id":a,onTransitionEnd:u,ref:e.innerRef})};var Xv=V.memo(Kv);class Qv extends V.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,r){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const Zv=e=>{const t=b.useContext(Er);t||E();const{contextId:r,isMovementAllowed:n}=t,o=b.useRef(null),i=b.useRef(null),{children:a,droppableId:l,type:c,mode:u,direction:p,ignoreContainerClipping:d,isDropDisabled:f,isCombineEnabled:h,snapshot:m,useClone:g,updateViewportMaxScroll:x,getContainerForClone:S}=e,j=P(()=>o.current,[]),I=P((G=null)=>{o.current=G},[]);P(()=>i.current,[]);const D=P((G=null)=>{i.current=G},[]),R=P(()=>{n()&&x({maxScroll:El()})},[n,x]);qv({droppableId:l,type:c,mode:u,direction:p,isDropDisabled:f,isCombineEnabled:h,ignoreContainerClipping:d,getDroppableRef:j});const T=W(()=>V.createElement(Qv,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:G,data:ue,animate:Pe})=>V.createElement(Xv,{placeholder:ue,onClose:G,innerRef:D,animate:Pe,contextId:r,onTransitionEnd:R})),[r,R,e.placeholder,e.shouldAnimatePlaceholder,D]),F=W(()=>({innerRef:I,placeholder:T,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":r}}),[r,l,T,I]),k=g?g.dragging.draggableId:null,_=W(()=>({droppableId:l,type:c,isUsingCloneFor:k}),[l,k,c]);function A(){if(!g)return null;const{dragging:G,render:ue}=g,Pe=V.createElement(Wl,{draggableId:G.draggableId,index:G.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Ir,Te)=>ue(Ir,Te,G));return dc.createPortal(Pe,S())}return V.createElement(is.Provider,{value:_},a(F,m),A())};function ey(){return document.body||E(),document.body}const vi={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:ey},Gl=e=>{let t={...e},r;for(r in vi)e[r]===void 0&&(t={...t,[r]:vi[r]});return t},Kr=(e,t)=>e===t.droppable.type,yi=(e,t)=>t.draggables[e.draggable.id],ty=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},r=te(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),n=te((i,a,l,c,u,p)=>{const d=u.descriptor.id;if(u.descriptor.droppableId===i){const m=p?{render:p,dragging:r(u.descriptor)}:null,g={isDraggingOver:l,draggingOverWith:l?d:null,draggingFromThisWith:d,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:g,useClone:m}}if(!a)return t;if(!c)return e;const h={isDraggingOver:l,draggingOverWith:d,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:h,useClone:null}});return(i,a)=>{const l=Gl(a),c=l.droppableId,u=l.type,p=!l.isDropDisabled,d=l.renderClone;if(At(i)){const f=i.critical;if(!Kr(u,f))return t;const h=yi(f,i.dimensions),m=he(i.impact)===c;return n(c,p,m,m,h,d)}if(i.phase==="DROP_ANIMATING"){const f=i.completed;if(!Kr(u,f.critical))return t;const h=yi(f.critical,i.dimensions);return n(c,p,Fl(f.result)===c,he(f.impact)===c,h,d)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const f=i.completed;if(!Kr(u,f.critical))return t;const h=he(f.impact)===c,m=!!(f.impact.at&&f.impact.at.type==="COMBINE"),g=f.critical.droppable.id===c;return h?m?e:t:g?e:t}return t}},ry={updateViewportMaxScroll:px},ny=Ha(ty,ry,(e,t,r)=>({...Gl(r),...e,...t}),{context:ns,areStatePropsEqual:Bl})(Zv);var oy=ny;const sy=({tiers:e,isLoading:t=!1,onEdit:r,onDelete:n,onReorder:o,onCreateTier:i})=>{const[a,l]=b.useState(e);b.useEffect(()=>{l([...e].sort((u,p)=>u.order-p.order))},[e]);const c=async u=>{if(!u.destination)return;const p=u.source.index,d=u.destination.index;if(p===d)return;const f=[...a].sort((g,x)=>g.order-x.order),[h]=f.splice(p,1);f.splice(d,0,h);const m=f.map((g,x)=>({...g,order:x+1}));l(m),o(m)};return t?s.jsx(B,{spacing:3,sx:{maxWidth:900},children:[1,2,3].map(u=>s.jsx(_e,{sx:{p:3},children:s.jsxs(B,{spacing:2,children:[s.jsx(C,{variant:"circular",width:32,height:32}),s.jsx(C,{variant:"text",width:"60%",height:28}),s.jsx(C,{variant:"text",width:"40%",height:40}),s.jsx(C,{variant:"text",width:"80%",height:20}),s.jsxs(B,{direction:"row",justifyContent:"flex-end",spacing:1,children:[s.jsx(C,{variant:"circular",width:32,height:32}),s.jsx(C,{variant:"circular",width:32,height:32})]})]})},u))}):e.length===0?s.jsx(br,{title:"Set Up Channel Memberships",description:"Create subscription tiers to offer exclusive perks and content to your members",action:{label:"Create Your First Tier",onClick:i},icon:s.jsx(jo,{sx:{fontSize:48}})}):s.jsxs(B,{spacing:4,children:[s.jsxs(B,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[s.jsx(w,{variant:"h5",sx:{fontWeight:600},children:"Membership Tiers"}),s.jsx(q,{variant:"contained",startIcon:s.jsx(Io,{}),onClick:i,sx:{px:3,borderRadius:2,textTransform:"none"},children:"Create Tier"})]}),s.jsx(_e,{sx:{p:2,bgcolor:"primary.50",borderRadius:2,border:"1px solid",borderColor:"primary.100"},children:s.jsxs(B,{direction:"row",spacing:2,alignItems:"center",children:[s.jsx(La,{color:"primary"}),s.jsx(w,{variant:"body2",color:"primary.700",children:"Drag to reorder tiers. Members will see tiers in this order on your channel page."})]})}),s.jsx(xv,{onDragEnd:c,children:s.jsx(oy,{droppableId:"tiers",children:u=>s.jsxs(B,{spacing:3,...u.droppableProps,ref:u.innerRef,sx:{maxWidth:800,width:"100%"},children:[a.map((p,d)=>s.jsx($v,{draggableId:p.id,index:d,children:(f,h)=>s.jsx(v,{ref:f.innerRef,...f.draggableProps,children:s.jsx(v,{sx:{position:"relative"},children:s.jsxs(_e,{elevation:h.isDragging?8:2,sx:{p:3,transition:"all 0.2s ease",transform:h.isDragging?"scale(1.02)":"scale(1)",bgcolor:"background.paper",borderRadius:2,"&:hover":{boxShadow:4,"& .drag-handle":{opacity:1}}},children:[s.jsx(yt,{label:p.order,color:"primary",size:"small",sx:{position:"absolute",top:-12,left:16,height:32,width:32,borderRadius:"50%",boxShadow:2,zIndex:1,"& .MuiChip-label":{px:0,fontSize:"1rem",fontWeight:"bold"}}}),s.jsx(v,{...f.dragHandleProps,className:"drag-handle",sx:{position:"absolute",top:0,left:0,right:0,height:"100%",display:"flex",alignItems:"center",justifyContent:"center",opacity:0,transition:"opacity 0.2s ease","&:hover":{cursor:"move","& .drag-icon":{transform:"scale(1.1)"}}},children:s.jsx(v,{className:"drag-icon",sx:{width:40,height:40,borderRadius:"50%",bgcolor:"action.hover",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s ease"},children:s.jsx(Na,{color:"action"})})}),s.jsxs(v,{sx:{flex:1},children:[s.jsx(w,{variant:"h6",gutterBottom:!0,children:p.name}),s.jsxs(w,{variant:"h4",gutterBottom:!0,children:["$",p.price,s.jsx(w,{component:"span",variant:"body2",sx:{ml:1},children:"/month"})]}),s.jsx(w,{variant:"body2",sx:{mb:2},children:p.description})]}),s.jsxs(B,{direction:"row",spacing:1,justifyContent:"flex-end",children:[s.jsx(pe,{onClick:()=>r(p.id),size:"small",children:s.jsx(_o,{})}),s.jsx(pe,{onClick:()=>n(p.id),size:"small",children:s.jsx(Lo,{})})]})]})})})},p.id)),u.placeholder]})})})]})},iy=({open:e,onClose:t,onSubmit:r,initialData:n,isEdit:o=!1})=>{const[i,a]=b.useState({name:"",description:"",price:0,benefits:[],order:0}),[l,c]=b.useState({}),[u,p]=b.useState(!1);b.useEffect(()=>{n&&a({name:n.name,description:n.description,price:n.price,benefits:n.benefits,order:n.order})},[n]);const d=()=>{const m={};return i.name||(m.name="Name is required"),i.description||(m.description="Description is required"),i.price<0&&(m.price="Price must be positive"),i.benefits||(m.benefits="Benefits are required"),c(m),Object.keys(m).length===0},f=m=>g=>{const x=m==="price"?Number(g.target.value):g.target.value;a(S=>({...S,[m]:x})),l[m]&&c(S=>({...S,[m]:void 0}))},h=async m=>{if(m.preventDefault(),!!d())try{p(!0),await r(i),t()}catch(g){console.error("Failed to submit tier:",g)}finally{p(!1)}};return s.jsxs(Ci,{open:e,onClose:t,maxWidth:"sm",fullWidth:!0,children:[s.jsx(Ii,{children:o?"Edit Tier":"Create New Tier"}),s.jsxs("form",{onSubmit:h,children:[s.jsx(Ri,{children:s.jsxs(B,{spacing:3,children:[s.jsx(ye,{label:"Tier Name",value:i.name,onChange:f("name"),error:!!l.name,helperText:l.name,fullWidth:!0}),s.jsx(ye,{label:"Description",value:i.description,onChange:f("description"),multiline:!0,rows:3,error:!!l.description,helperText:l.description,fullWidth:!0}),s.jsx(ye,{type:"number",label:"Monthly Price",value:i.price,onChange:f("price"),InputProps:{startAdornment:s.jsx(uc,{position:"start",children:"$"})},error:!!l.price,helperText:l.price,fullWidth:!0}),s.jsx(ye,{label:"Benefits",value:i.benefits,onChange:f("benefits"),multiline:!0,rows:4,placeholder:"Enter benefits, one per line",error:!!l.benefits,helperText:l.benefits,fullWidth:!0})]})}),s.jsxs(Ai,{children:[s.jsx(q,{onClick:t,children:"Cancel"}),s.jsx(q,{type:"submit",variant:"contained",disabled:u,children:o?"Save Changes":"Create Tier"})]})]})]})},ay=e=>{const{api:t}=ne(),[r,n]=b.useState([]),[o,i]=b.useState(!0),a=async()=>{if(e)try{i(!0);const d=await(t==null?void 0:t.channelApi.getTiers(e));n((d==null?void 0:d.items)||[])}catch(d){console.error("Failed to fetch tiers:",d)}finally{i(!1)}},l=async d=>{if(e)try{await(t==null?void 0:t.channelApi.createTier(e,d)),await a()}catch(f){console.error("Failed to create tier:",f)}},c=async(d,f)=>{if(e)try{await(t==null?void 0:t.channelApi.updateTier(e,d,f)),await a()}catch(h){console.error("Failed to update tier:",h)}},u=async(d,f=!0)=>{if(e)try{await(t==null?void 0:t.channelApi.updateTiers(e,d)),f&&await a()}catch(h){console.error("Failed to update tiers:",h)}},p=async d=>{if(e)try{await(t==null?void 0:t.channelApi.deleteTier(e,d)),await a()}catch(f){console.error("Failed to delete tier:",f)}};return b.useEffect(()=>{e&&a()},[e]),{tiers:r,isLoading:o,createTier:l,updateTier:c,deleteTier:p,updateTiers:u}},as=b.memo(({channelId:e})=>{const{tiers:t,isLoading:r,createTier:n,updateTier:o,updateTiers:i,deleteTier:a}=ay(e),[l,c]=b.useState(!1),[u,p]=b.useState(null),[d,f]=b.useState(!1),h=j=>{const I=t.find(D=>D.id===j);I&&(p(I),c(!0))},m=()=>{c(!1),p(null)},g=async j=>{await n(j),m()},x=async(j,I)=>{await o(j,I),m()},S=async j=>{try{f(!0),await i(j)}catch{}finally{f(!1)}};return s.jsxs(v,{sx:{p:3},children:[s.jsx(sy,{tiers:t,isLoading:r,onEdit:h,onDelete:a,onReorder:S,onCreateTier:()=>c(!0)}),s.jsx(iy,{open:l,onClose:m,onSubmit:u?j=>x(u.id,j):g,initialData:u,isEdit:!!u}),s.jsx(pc,{sx:{color:"#fff",zIndex:j=>j.zIndex.drawer+1,backdropFilter:"blur(3px)"},open:d,children:s.jsx(Me,{color:"inherit"})})]})},(e,t)=>e.channelId===t.channelId);as.displayName="TiersTab";const ly=({tabs:e,activeTab:t,onTabChange:r,isOpen:n,onClose:o,onOpen:i})=>s.jsx(fc,{anchor:"bottom",open:n,onClose:o,onOpen:i,disableSwipeToOpen:!1,PaperProps:{sx:{borderTopLeftRadius:16,borderTopRightRadius:16,maxHeight:"80vh"}},children:s.jsx(yn,{sx:{pt:1,pb:2},children:e.map(a=>s.jsx(hc,{selected:t===a.id,onClick:()=>{r(a.id),o()},sx:{mx:1,borderRadius:1,mb:.5,"&.Mui-selected":{bgcolor:l=>L(l.palette.primary.main,.1)}},children:s.jsx(Oe,{primary:a.label})},a.id))})}),cy=({tabs:e,activeTab:t,onTabChange:r})=>s.jsx(v,{sx:{borderBottom:1,borderColor:"divider"},children:s.jsx(mc,{value:t,onChange:(n,o)=>r(o),sx:{px:{md:3,lg:4}},children:e.map(n=>s.jsx(gc,{label:n.label,value:n.id,sx:{textTransform:"none",fontWeight:500,fontSize:"0.9375rem"}},n.id))})}),dy=e=>{const{api:t}=ne(),[r,n]=b.useState(null),[o,i]=b.useState(!0),a=async()=>{if(e)try{i(!0);const f=await(t==null?void 0:t.channelApi.getChannel(e));n(f||null)}catch(f){console.error("Failed to fetch channel:",f)}finally{i(!1)}},l=async f=>{if(e)try{await(t==null?void 0:t.channelApi.updateChannel(e,f)),await a()}catch(h){console.error("Failed to update channel:",h)}},c=async f=>{if(e)try{await(t==null?void 0:t.channelApi.createTier(e,f)),await a()}catch(h){console.error("Failed to create tier:",h)}},u=async(f,h)=>{if(e)try{await(t==null?void 0:t.channelApi.updateTier(e,f,h)),await a()}catch(m){console.error("Failed to update tier:",m)}},p=async f=>{if(e)try{await(t==null?void 0:t.channelApi.deleteTier(e,f)),await a()}catch(h){console.error("Failed to delete tier:",h)}},d=async f=>{if(e)try{await(t==null?void 0:t.channelApi.updateTiers(e,f)),await a()}catch(h){console.error("Failed to update tiers:",h)}};return b.useEffect(()=>{a()},[e]),{channel:r,isLoading:o,updateChannel:l,createTier:c,updateTier:u,deleteTier:p,updateTiers:d}},wi=[{id:"basic",label:"Basic Info",component:_a},{id:"tiers",label:"Channel Tiers",component:as}],uy=()=>{const{id:e}=rt(),t=et(),r=ji(t.breakpoints.down("md")),[n,o]=V.useState("basic"),[i,a]=V.useState(!1),{channel:l,isLoading:c,updateChannel:u}=dy(e),p=f=>{o(f)};if(!e||c||!l)return null;const d=()=>{switch(n){case"basic":return s.jsx(_a,{channel:l,onUpdate:u});case"tiers":return s.jsx(as,{channelId:l.id});default:return null}};return s.jsx(v,{sx:{minHeight:"100%",bgcolor:"background.default"},children:r?s.jsxs(s.Fragment,{children:[s.jsx(v,{sx:{px:2,py:1.5},children:s.jsx(w,{variant:"h6",sx:{fontWeight:600},children:"Edit Channel"})}),d(),s.jsx(ly,{tabs:wi,activeTab:n,onTabChange:p,isOpen:i,onClose:()=>a(!1),onOpen:()=>a(!0)})]}):s.jsxs(s.Fragment,{children:[s.jsx(cy,{tabs:wi,activeTab:n,onTabChange:p}),s.jsx(v,{sx:{p:{md:3,lg:4}},children:d()})]})})},py=()=>{const{isLoading:e,error:t}=Dn();return e?s.jsx(Rh,{}):t?s.jsx(Ah,{error:t}):s.jsxs(Tc,{children:[s.jsx(J,{path:U.HOME,element:s.jsx(nf,{})}),s.jsx(J,{path:U.LOGIN,element:s.jsx(Jp,{})}),s.jsx(J,{path:U.SIGNUP,element:s.jsx(Xp,{})}),s.jsxs(J,{path:`${U.APP_ROOT}/*`,element:s.jsx(Os,{children:s.jsx(gp,{})}),children:[s.jsxs(J,{path:`${ee.ROOT}/*`,children:[s.jsx(J,{path:ee.SUBPATHS.TRENDING,element:s.jsx($s,{isSubscribed:!1})}),s.jsx(J,{path:ee.SUBPATHS.MY_FEED,element:s.jsx($s,{isSubscribed:!0})}),s.jsx(J,{path:`${ee.VIEW}`,element:s.jsx(Mf,{})})]}),s.jsxs(J,{path:`${ae.ROOT}/*`,children:[s.jsx(J,{index:!0,element:s.jsx(Kf,{})}),s.jsx(J,{path:`${ae.VIEW}`,element:s.jsx(Xf,{})})]})]}),s.jsxs(J,{path:`${U.STUDIO_ROOT}/*`,element:s.jsx(Os,{children:s.jsx(Op,{})}),children:[s.jsxs(J,{path:`${ee.ROOT}/*`,children:[s.jsx(J,{index:!0,element:s.jsx(lh,{isSubscribed:!1})}),s.jsx(J,{path:`${ee.CREATE}`,element:s.jsx(oh,{})}),s.jsx(J,{path:`${ee.EDIT}/:id`,element:s.jsx(sh,{})}),s.jsx(J,{path:`${ee.VIEW}`,element:s.jsx(ah,{})})]}),s.jsxs(J,{path:`${ae.ROOT}/*`,children:[s.jsx(J,{index:!0,element:s.jsx(jh,{})}),s.jsx(J,{path:`${ae.CREATE}`,element:s.jsx(Eh,{})}),s.jsx(J,{path:`${ae.VIEW}`,element:s.jsx(Ih,{})}),s.jsx(J,{path:`${ae.EDIT}/:id`,element:s.jsx(uy,{})})]})]}),s.jsx(J,{path:"*",element:s.jsx(Ch,{})})]})};Zr.createRoot(document.getElementById("root")).render(s.jsx(V.StrictMode,{children:s.jsx(Dc,{children:s.jsx(Du,{children:s.jsx(Pu,{children:s.jsx(Yf,{children:s.jsx(Hu,{children:s.jsx(_u,{children:s.jsx(py,{})})})})})})})}));
